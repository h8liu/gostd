<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html" class="current">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6668580">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6668635">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6668689">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6668740">package</span>&nbsp;<span class="ident" id="6668748">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6668753">import</span>&nbsp;<span class="op" id="6668760">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6668763">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6668772">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6668791">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6668799">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6668809">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6668812">type</span>&nbsp;<span class="ident" id="6668817">golden</span>&nbsp;<span class="keyword" id="6668824">struct</span>&nbsp;<span class="op" id="6668831">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6668834">sum</span>&nbsp;&nbsp;<span class="op" id="6668839">[</span><span class="op" id="6668840">]</span><span class="builtintype" id="6668841">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6668847">text</span>&nbsp;<span class="builtintype" id="6668852">string</span><br>
<span class="lineno"></span><span class="op" id="6668859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6668862">var</span>&nbsp;<span class="ident" id="6668866">golden32</span>&nbsp;<span class="op" id="6668875">=</span>&nbsp;<span class="op" id="6668877">[</span><span class="op" id="6668878">]</span><span class="ident" id="6668879">golden</span><span class="op" id="6668885">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6668888">{</span><span class="op" id="6668889">[</span><span class="op" id="6668890">]</span><span class="builtintype" id="6668891">byte</span><span class="op" id="6668895">{</span><span class="num" id="6668896">0x81</span><span class="op" id="6668900">,</span>&nbsp;<span class="num" id="6668902">0x1c</span><span class="op" id="6668906">,</span>&nbsp;<span class="num" id="6668908">0x9d</span><span class="op" id="6668912">,</span>&nbsp;<span class="num" id="6668914">0xc5</span><span class="op" id="6668918">}</span><span class="op" id="6668919">,</span>&nbsp;<span class="string" id="6668921">&#34;&#34;</span><span class="op" id="6668923">}</span><span class="op" id="6668924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6668927">{</span><span class="op" id="6668928">[</span><span class="op" id="6668929">]</span><span class="builtintype" id="6668930">byte</span><span class="op" id="6668934">{</span><span class="num" id="6668935">0x05</span><span class="op" id="6668939">,</span>&nbsp;<span class="num" id="6668941">0x0c</span><span class="op" id="6668945">,</span>&nbsp;<span class="num" id="6668947">0x5d</span><span class="op" id="6668951">,</span>&nbsp;<span class="num" id="6668953">0x7e</span><span class="op" id="6668957">}</span><span class="op" id="6668958">,</span>&nbsp;<span class="string" id="6668960">&#34;a&#34;</span><span class="op" id="6668963">}</span><span class="op" id="6668964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6668967">{</span><span class="op" id="6668968">[</span><span class="op" id="6668969">]</span><span class="builtintype" id="6668970">byte</span><span class="op" id="6668974">{</span><span class="num" id="6668975">0x70</span><span class="op" id="6668979">,</span>&nbsp;<span class="num" id="6668981">0x77</span><span class="op" id="6668985">,</span>&nbsp;<span class="num" id="6668987">0x2d</span><span class="op" id="6668991">,</span>&nbsp;<span class="num" id="6668993">0x38</span><span class="op" id="6668997">}</span><span class="op" id="6668998">,</span>&nbsp;<span class="string" id="6669000">&#34;ab&#34;</span><span class="op" id="6669004">}</span><span class="op" id="6669005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669008">{</span><span class="op" id="6669009">[</span><span class="op" id="6669010">]</span><span class="builtintype" id="6669011">byte</span><span class="op" id="6669015">{</span><span class="num" id="6669016">0x43</span><span class="op" id="6669020">,</span>&nbsp;<span class="num" id="6669022">0x9c</span><span class="op" id="6669026">,</span>&nbsp;<span class="num" id="6669028">0x2f</span><span class="op" id="6669032">,</span>&nbsp;<span class="num" id="6669034">0x4b</span><span class="op" id="6669038">}</span><span class="op" id="6669039">,</span>&nbsp;<span class="string" id="6669041">&#34;abc&#34;</span><span class="op" id="6669046">}</span><span class="op" id="6669047">,</span><br>
<span class="lineno"></span><span class="op" id="6669049">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6669052">var</span>&nbsp;<span class="ident" id="6669056">golden32a</span>&nbsp;<span class="op" id="6669066">=</span>&nbsp;<span class="op" id="6669068">[</span><span class="op" id="6669069">]</span><span class="ident" id="6669070">golden</span><span class="op" id="6669076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669079">{</span><span class="op" id="6669080">[</span><span class="op" id="6669081">]</span><span class="builtintype" id="6669082">byte</span><span class="op" id="6669086">{</span><span class="num" id="6669087">0x81</span><span class="op" id="6669091">,</span>&nbsp;<span class="num" id="6669093">0x1c</span><span class="op" id="6669097">,</span>&nbsp;<span class="num" id="6669099">0x9d</span><span class="op" id="6669103">,</span>&nbsp;<span class="num" id="6669105">0xc5</span><span class="op" id="6669109">}</span><span class="op" id="6669110">,</span>&nbsp;<span class="string" id="6669112">&#34;&#34;</span><span class="op" id="6669114">}</span><span class="op" id="6669115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669118">{</span><span class="op" id="6669119">[</span><span class="op" id="6669120">]</span><span class="builtintype" id="6669121">byte</span><span class="op" id="6669125">{</span><span class="num" id="6669126">0xe4</span><span class="op" id="6669130">,</span>&nbsp;<span class="num" id="6669132">0x0c</span><span class="op" id="6669136">,</span>&nbsp;<span class="num" id="6669138">0x29</span><span class="op" id="6669142">,</span>&nbsp;<span class="num" id="6669144">0x2c</span><span class="op" id="6669148">}</span><span class="op" id="6669149">,</span>&nbsp;<span class="string" id="6669151">&#34;a&#34;</span><span class="op" id="6669154">}</span><span class="op" id="6669155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669158">{</span><span class="op" id="6669159">[</span><span class="op" id="6669160">]</span><span class="builtintype" id="6669161">byte</span><span class="op" id="6669165">{</span><span class="num" id="6669166">0x4d</span><span class="op" id="6669170">,</span>&nbsp;<span class="num" id="6669172">0x25</span><span class="op" id="6669176">,</span>&nbsp;<span class="num" id="6669178">0x05</span><span class="op" id="6669182">,</span>&nbsp;<span class="num" id="6669184">0xca</span><span class="op" id="6669188">}</span><span class="op" id="6669189">,</span>&nbsp;<span class="string" id="6669191">&#34;ab&#34;</span><span class="op" id="6669195">}</span><span class="op" id="6669196">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669199">{</span><span class="op" id="6669200">[</span><span class="op" id="6669201">]</span><span class="builtintype" id="6669202">byte</span><span class="op" id="6669206">{</span><span class="num" id="6669207">0x1a</span><span class="op" id="6669211">,</span>&nbsp;<span class="num" id="6669213">0x47</span><span class="op" id="6669217">,</span>&nbsp;<span class="num" id="6669219">0xe9</span><span class="op" id="6669223">,</span>&nbsp;<span class="num" id="6669225">0x0b</span><span class="op" id="6669229">}</span><span class="op" id="6669230">,</span>&nbsp;<span class="string" id="6669232">&#34;abc&#34;</span><span class="op" id="6669237">}</span><span class="op" id="6669238">,</span><br>
<span class="lineno"></span><span class="op" id="6669240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6669243">var</span>&nbsp;<span class="ident" id="6669247">golden64</span>&nbsp;<span class="op" id="6669256">=</span>&nbsp;<span class="op" id="6669258">[</span><span class="op" id="6669259">]</span><span class="ident" id="6669260">golden</span><span class="op" id="6669266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669269">{</span><span class="op" id="6669270">[</span><span class="op" id="6669271">]</span><span class="builtintype" id="6669272">byte</span><span class="op" id="6669276">{</span><span class="num" id="6669277">0xcb</span><span class="op" id="6669281">,</span>&nbsp;<span class="num" id="6669283">0xf2</span><span class="op" id="6669287">,</span>&nbsp;<span class="num" id="6669289">0x9c</span><span class="op" id="6669293">,</span>&nbsp;<span class="num" id="6669295">0xe4</span><span class="op" id="6669299">,</span>&nbsp;<span class="num" id="6669301">0x84</span><span class="op" id="6669305">,</span>&nbsp;<span class="num" id="6669307">0x22</span><span class="op" id="6669311">,</span>&nbsp;<span class="num" id="6669313">0x23</span><span class="op" id="6669317">,</span>&nbsp;<span class="num" id="6669319">0x25</span><span class="op" id="6669323">}</span><span class="op" id="6669324">,</span>&nbsp;<span class="string" id="6669326">&#34;&#34;</span><span class="op" id="6669328">}</span><span class="op" id="6669329">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669332">{</span><span class="op" id="6669333">[</span><span class="op" id="6669334">]</span><span class="builtintype" id="6669335">byte</span><span class="op" id="6669339">{</span><span class="num" id="6669340">0xaf</span><span class="op" id="6669344">,</span>&nbsp;<span class="num" id="6669346">0x63</span><span class="op" id="6669350">,</span>&nbsp;<span class="num" id="6669352">0xbd</span><span class="op" id="6669356">,</span>&nbsp;<span class="num" id="6669358">0x4c</span><span class="op" id="6669362">,</span>&nbsp;<span class="num" id="6669364">0x86</span><span class="op" id="6669368">,</span>&nbsp;<span class="num" id="6669370">0x01</span><span class="op" id="6669374">,</span>&nbsp;<span class="num" id="6669376">0xb7</span><span class="op" id="6669380">,</span>&nbsp;<span class="num" id="6669382">0xbe</span><span class="op" id="6669386">}</span><span class="op" id="6669387">,</span>&nbsp;<span class="string" id="6669389">&#34;a&#34;</span><span class="op" id="6669392">}</span><span class="op" id="6669393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669396">{</span><span class="op" id="6669397">[</span><span class="op" id="6669398">]</span><span class="builtintype" id="6669399">byte</span><span class="op" id="6669403">{</span><span class="num" id="6669404">0x08</span><span class="op" id="6669408">,</span>&nbsp;<span class="num" id="6669410">0x32</span><span class="op" id="6669414">,</span>&nbsp;<span class="num" id="6669416">0x67</span><span class="op" id="6669420">,</span>&nbsp;<span class="num" id="6669422">0x07</span><span class="op" id="6669426">,</span>&nbsp;<span class="num" id="6669428">0xb4</span><span class="op" id="6669432">,</span>&nbsp;<span class="num" id="6669434">0xeb</span><span class="op" id="6669438">,</span>&nbsp;<span class="num" id="6669440">0x37</span><span class="op" id="6669444">,</span>&nbsp;<span class="num" id="6669446">0xb8</span><span class="op" id="6669450">}</span><span class="op" id="6669451">,</span>&nbsp;<span class="string" id="6669453">&#34;ab&#34;</span><span class="op" id="6669457">}</span><span class="op" id="6669458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669461">{</span><span class="op" id="6669462">[</span><span class="op" id="6669463">]</span><span class="builtintype" id="6669464">byte</span><span class="op" id="6669468">{</span><span class="num" id="6669469">0xd8</span><span class="op" id="6669473">,</span>&nbsp;<span class="num" id="6669475">0xdc</span><span class="op" id="6669479">,</span>&nbsp;<span class="num" id="6669481">0xca</span><span class="op" id="6669485">,</span>&nbsp;<span class="num" id="6669487">0x18</span><span class="op" id="6669491">,</span>&nbsp;<span class="num" id="6669493">0x6b</span><span class="op" id="6669497">,</span>&nbsp;<span class="num" id="6669499">0xaf</span><span class="op" id="6669503">,</span>&nbsp;<span class="num" id="6669505">0xad</span><span class="op" id="6669509">,</span>&nbsp;<span class="num" id="6669511">0xcb</span><span class="op" id="6669515">}</span><span class="op" id="6669516">,</span>&nbsp;<span class="string" id="6669518">&#34;abc&#34;</span><span class="op" id="6669523">}</span><span class="op" id="6669524">,</span><br>
<span class="lineno"></span><span class="op" id="6669526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6669529">var</span>&nbsp;<span class="ident" id="6669533">golden64a</span>&nbsp;<span class="op" id="6669543">=</span>&nbsp;<span class="op" id="6669545">[</span><span class="op" id="6669546">]</span><span class="ident" id="6669547">golden</span><span class="op" id="6669553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669556">{</span><span class="op" id="6669557">[</span><span class="op" id="6669558">]</span><span class="builtintype" id="6669559">byte</span><span class="op" id="6669563">{</span><span class="num" id="6669564">0xcb</span><span class="op" id="6669568">,</span>&nbsp;<span class="num" id="6669570">0xf2</span><span class="op" id="6669574">,</span>&nbsp;<span class="num" id="6669576">0x9c</span><span class="op" id="6669580">,</span>&nbsp;<span class="num" id="6669582">0xe4</span><span class="op" id="6669586">,</span>&nbsp;<span class="num" id="6669588">0x84</span><span class="op" id="6669592">,</span>&nbsp;<span class="num" id="6669594">0x22</span><span class="op" id="6669598">,</span>&nbsp;<span class="num" id="6669600">0x23</span><span class="op" id="6669604">,</span>&nbsp;<span class="num" id="6669606">0x25</span><span class="op" id="6669610">}</span><span class="op" id="6669611">,</span>&nbsp;<span class="string" id="6669613">&#34;&#34;</span><span class="op" id="6669615">}</span><span class="op" id="6669616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669619">{</span><span class="op" id="6669620">[</span><span class="op" id="6669621">]</span><span class="builtintype" id="6669622">byte</span><span class="op" id="6669626">{</span><span class="num" id="6669627">0xaf</span><span class="op" id="6669631">,</span>&nbsp;<span class="num" id="6669633">0x63</span><span class="op" id="6669637">,</span>&nbsp;<span class="num" id="6669639">0xdc</span><span class="op" id="6669643">,</span>&nbsp;<span class="num" id="6669645">0x4c</span><span class="op" id="6669649">,</span>&nbsp;<span class="num" id="6669651">0x86</span><span class="op" id="6669655">,</span>&nbsp;<span class="num" id="6669657">0x01</span><span class="op" id="6669661">,</span>&nbsp;<span class="num" id="6669663">0xec</span><span class="op" id="6669667">,</span>&nbsp;<span class="num" id="6669669">0x8c</span><span class="op" id="6669673">}</span><span class="op" id="6669674">,</span>&nbsp;<span class="string" id="6669676">&#34;a&#34;</span><span class="op" id="6669679">}</span><span class="op" id="6669680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669683">{</span><span class="op" id="6669684">[</span><span class="op" id="6669685">]</span><span class="builtintype" id="6669686">byte</span><span class="op" id="6669690">{</span><span class="num" id="6669691">0x08</span><span class="op" id="6669695">,</span>&nbsp;<span class="num" id="6669697">0x9c</span><span class="op" id="6669701">,</span>&nbsp;<span class="num" id="6669703">0x44</span><span class="op" id="6669707">,</span>&nbsp;<span class="num" id="6669709">0x07</span><span class="op" id="6669713">,</span>&nbsp;<span class="num" id="6669715">0xb5</span><span class="op" id="6669719">,</span>&nbsp;<span class="num" id="6669721">0x45</span><span class="op" id="6669725">,</span>&nbsp;<span class="num" id="6669727">0x98</span><span class="op" id="6669731">,</span>&nbsp;<span class="num" id="6669733">0x6a</span><span class="op" id="6669737">}</span><span class="op" id="6669738">,</span>&nbsp;<span class="string" id="6669740">&#34;ab&#34;</span><span class="op" id="6669744">}</span><span class="op" id="6669745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669748">{</span><span class="op" id="6669749">[</span><span class="op" id="6669750">]</span><span class="builtintype" id="6669751">byte</span><span class="op" id="6669755">{</span><span class="num" id="6669756">0xe7</span><span class="op" id="6669760">,</span>&nbsp;<span class="num" id="6669762">0x1f</span><span class="op" id="6669766">,</span>&nbsp;<span class="num" id="6669768">0xa2</span><span class="op" id="6669772">,</span>&nbsp;<span class="num" id="6669774">0x19</span><span class="op" id="6669778">,</span>&nbsp;<span class="num" id="6669780">0x05</span><span class="op" id="6669784">,</span>&nbsp;<span class="num" id="6669786">0x41</span><span class="op" id="6669790">,</span>&nbsp;<span class="num" id="6669792">0x57</span><span class="op" id="6669796">,</span>&nbsp;<span class="num" id="6669798">0x4b</span><span class="op" id="6669802">}</span><span class="op" id="6669803">,</span>&nbsp;<span class="string" id="6669805">&#34;abc&#34;</span><span class="op" id="6669810">}</span><span class="op" id="6669811">,</span><br>
<span class="lineno">45</span><span class="op" id="6669813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6669816">func</span>&nbsp;<span class="ident" id="6669821">TestGolden32</span><span class="op" id="6669833">(</span><span class="ident" id="6669834">t</span>&nbsp;<span class="op" id="6669836">*</span><span class="ident" id="6669837">testing</span><span class="op" id="6669844">.</span><span class="ident" id="6669845">T</span><span class="op" id="6669846">)</span>&nbsp;<span class="op" id="6669848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669851">testGolden</span><span class="op" id="6669861">(</span><span class="ident" id="6669862">t</span><span class="op" id="6669863">,</span>&nbsp;<span class="ident" id="6669865">New32</span><span class="op" id="6669870">(</span><span class="op" id="6669871">)</span><span class="op" id="6669872">,</span>&nbsp;<span class="ident" id="6669874">golden32</span><span class="op" id="6669882">)</span><br>
<span class="lineno"></span><span class="op" id="6669884">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6669887">func</span>&nbsp;<span class="ident" id="6669892">TestGolden32a</span><span class="op" id="6669905">(</span><span class="ident" id="6669906">t</span>&nbsp;<span class="op" id="6669908">*</span><span class="ident" id="6669909">testing</span><span class="op" id="6669916">.</span><span class="ident" id="6669917">T</span><span class="op" id="6669918">)</span>&nbsp;<span class="op" id="6669920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669923">testGolden</span><span class="op" id="6669933">(</span><span class="ident" id="6669934">t</span><span class="op" id="6669935">,</span>&nbsp;<span class="ident" id="6669937">New32a</span><span class="op" id="6669943">(</span><span class="op" id="6669944">)</span><span class="op" id="6669945">,</span>&nbsp;<span class="ident" id="6669947">golden32a</span><span class="op" id="6669956">)</span><br>
<span class="lineno"></span><span class="op" id="6669958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="6669961">func</span>&nbsp;<span class="ident" id="6669966">TestGolden64</span><span class="op" id="6669978">(</span><span class="ident" id="6669979">t</span>&nbsp;<span class="op" id="6669981">*</span><span class="ident" id="6669982">testing</span><span class="op" id="6669989">.</span><span class="ident" id="6669990">T</span><span class="op" id="6669991">)</span>&nbsp;<span class="op" id="6669993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669996">testGolden</span><span class="op" id="6670006">(</span><span class="ident" id="6670007">t</span><span class="op" id="6670008">,</span>&nbsp;<span class="ident" id="6670010">New64</span><span class="op" id="6670015">(</span><span class="op" id="6670016">)</span><span class="op" id="6670017">,</span>&nbsp;<span class="ident" id="6670019">golden64</span><span class="op" id="6670027">)</span><br>
<span class="lineno"></span><span class="op" id="6670029">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6670032">func</span>&nbsp;<span class="ident" id="6670037">TestGolden64a</span><span class="op" id="6670050">(</span><span class="ident" id="6670051">t</span>&nbsp;<span class="op" id="6670053">*</span><span class="ident" id="6670054">testing</span><span class="op" id="6670061">.</span><span class="ident" id="6670062">T</span><span class="op" id="6670063">)</span>&nbsp;<span class="op" id="6670065">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670068">testGolden</span><span class="op" id="6670078">(</span><span class="ident" id="6670079">t</span><span class="op" id="6670080">,</span>&nbsp;<span class="ident" id="6670082">New64a</span><span class="op" id="6670088">(</span><span class="op" id="6670089">)</span><span class="op" id="6670090">,</span>&nbsp;<span class="ident" id="6670092">golden64a</span><span class="op" id="6670101">)</span><br>
<span class="lineno"></span><span class="op" id="6670103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6670106">func</span>&nbsp;<span class="ident" id="6670111">testGolden</span><span class="op" id="6670121">(</span><span class="ident" id="6670122">t</span>&nbsp;<span class="op" id="6670124">*</span><span class="ident" id="6670125">testing</span><span class="op" id="6670132">.</span><span class="ident" id="6670133">T</span><span class="op" id="6670134">,</span>&nbsp;<span class="ident" id="6670136">hash</span>&nbsp;<span class="ident" id="6670141">hash</span><span class="op" id="6670145">.</span><span class="ident" id="6670146">Hash</span><span class="op" id="6670150">,</span>&nbsp;<span class="ident" id="6670152">gold</span>&nbsp;<span class="op" id="6670157">[</span><span class="op" id="6670158">]</span><span class="ident" id="6670159">golden</span><span class="op" id="6670165">)</span>&nbsp;<span class="op" id="6670167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670170">for</span>&nbsp;<span class="ident" id="6670174">_</span><span class="op" id="6670175">,</span>&nbsp;<span class="ident" id="6670177">g</span>&nbsp;<span class="op" id="6670179">:=</span>&nbsp;<span class="keyword" id="6670182">range</span>&nbsp;<span class="ident" id="6670188">gold</span>&nbsp;<span class="op" id="6670193">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670197">hash</span><span class="op" id="6670201">.</span><span class="ident" id="6670202">Reset</span><span class="op" id="6670207">(</span><span class="op" id="6670208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670212">done</span><span class="op" id="6670216">,</span>&nbsp;<span class="builtintype" id="6670218">error</span>&nbsp;<span class="op" id="6670224">:=</span>&nbsp;<span class="ident" id="6670227">hash</span><span class="op" id="6670231">.</span><span class="ident" id="6670232">Write</span><span class="op" id="6670237">(</span><span class="op" id="6670238">[</span><span class="op" id="6670239">]</span><span class="builtintype" id="6670240">byte</span><span class="op" id="6670244">(</span><span class="ident" id="6670245">g</span><span class="op" id="6670246">.</span><span class="ident" id="6670247">text</span><span class="op" id="6670251">)</span><span class="op" id="6670252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670256">if</span>&nbsp;<span class="builtintype" id="6670259">error</span>&nbsp;<span class="op" id="6670265">!=</span>&nbsp;<span class="ident" id="6670268">nil</span>&nbsp;<span class="op" id="6670272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670277">t</span><span class="op" id="6670278">.</span><span class="ident" id="6670279">Fatalf</span><span class="op" id="6670285">(</span><span class="string" id="6670286">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="6670303">,</span>&nbsp;<span class="builtintype" id="6670305">error</span><span class="op" id="6670310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670314">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670318">if</span>&nbsp;<span class="ident" id="6670321">done</span>&nbsp;<span class="op" id="6670326">!=</span>&nbsp;<span class="builtinfunc" id="6670329">len</span><span class="op" id="6670332">(</span><span class="ident" id="6670333">g</span><span class="op" id="6670334">.</span><span class="ident" id="6670335">text</span><span class="op" id="6670339">)</span>&nbsp;<span class="op" id="6670341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670346">t</span><span class="op" id="6670347">.</span><span class="ident" id="6670348">Fatalf</span><span class="op" id="6670354">(</span><span class="string" id="6670355">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="6670386">,</span>&nbsp;<span class="ident" id="6670388">done</span><span class="op" id="6670392">,</span>&nbsp;<span class="builtinfunc" id="6670394">len</span><span class="op" id="6670397">(</span><span class="ident" id="6670398">g</span><span class="op" id="6670399">.</span><span class="ident" id="6670400">text</span><span class="op" id="6670404">)</span><span class="op" id="6670405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670413">if</span>&nbsp;<span class="ident" id="6670416">actual</span>&nbsp;<span class="op" id="6670423">:=</span>&nbsp;<span class="ident" id="6670426">hash</span><span class="op" id="6670430">.</span><span class="ident" id="6670431">Sum</span><span class="op" id="6670434">(</span><span class="ident" id="6670435">nil</span><span class="op" id="6670438">)</span><span class="op" id="6670439">;</span>&nbsp;<span class="op" id="6670441">!</span><span class="ident" id="6670442">bytes</span><span class="op" id="6670447">.</span><span class="ident" id="6670448">Equal</span><span class="op" id="6670453">(</span><span class="ident" id="6670454">g</span><span class="op" id="6670455">.</span><span class="ident" id="6670456">sum</span><span class="op" id="6670459">,</span>&nbsp;<span class="ident" id="6670461">actual</span><span class="op" id="6670467">)</span>&nbsp;<span class="op" id="6670469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670474">t</span><span class="op" id="6670475">.</span><span class="ident" id="6670476">Errorf</span><span class="op" id="6670482">(</span><span class="string" id="6670483">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6670510">,</span>&nbsp;<span class="ident" id="6670512">g</span><span class="op" id="6670513">.</span><span class="ident" id="6670514">text</span><span class="op" id="6670518">,</span>&nbsp;<span class="ident" id="6670520">actual</span><span class="op" id="6670526">,</span>&nbsp;<span class="ident" id="6670528">g</span><span class="op" id="6670529">.</span><span class="ident" id="6670530">sum</span><span class="op" id="6670533">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670540">}</span><br>
<span class="lineno"></span><span class="op" id="6670542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6670545">func</span>&nbsp;<span class="ident" id="6670550">TestIntegrity32</span><span class="op" id="6670565">(</span><span class="ident" id="6670566">t</span>&nbsp;<span class="op" id="6670568">*</span><span class="ident" id="6670569">testing</span><span class="op" id="6670576">.</span><span class="ident" id="6670577">T</span><span class="op" id="6670578">)</span>&nbsp;<span class="op" id="6670580">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670583">testIntegrity</span><span class="op" id="6670596">(</span><span class="ident" id="6670597">t</span><span class="op" id="6670598">,</span>&nbsp;<span class="ident" id="6670600">New32</span><span class="op" id="6670605">(</span><span class="op" id="6670606">)</span><span class="op" id="6670607">)</span><br>
<span class="lineno"></span><span class="op" id="6670609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6670612">func</span>&nbsp;<span class="ident" id="6670617">TestIntegrity32a</span><span class="op" id="6670633">(</span><span class="ident" id="6670634">t</span>&nbsp;<span class="op" id="6670636">*</span><span class="ident" id="6670637">testing</span><span class="op" id="6670644">.</span><span class="ident" id="6670645">T</span><span class="op" id="6670646">)</span>&nbsp;<span class="op" id="6670648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670651">testIntegrity</span><span class="op" id="6670664">(</span><span class="ident" id="6670665">t</span><span class="op" id="6670666">,</span>&nbsp;<span class="ident" id="6670668">New32a</span><span class="op" id="6670674">(</span><span class="op" id="6670675">)</span><span class="op" id="6670676">)</span><br>
<span class="lineno">85</span><span class="op" id="6670678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6670681">func</span>&nbsp;<span class="ident" id="6670686">TestIntegrity64</span><span class="op" id="6670701">(</span><span class="ident" id="6670702">t</span>&nbsp;<span class="op" id="6670704">*</span><span class="ident" id="6670705">testing</span><span class="op" id="6670712">.</span><span class="ident" id="6670713">T</span><span class="op" id="6670714">)</span>&nbsp;<span class="op" id="6670716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670719">testIntegrity</span><span class="op" id="6670732">(</span><span class="ident" id="6670733">t</span><span class="op" id="6670734">,</span>&nbsp;<span class="ident" id="6670736">New64</span><span class="op" id="6670741">(</span><span class="op" id="6670742">)</span><span class="op" id="6670743">)</span><br>
<span class="lineno"></span><span class="op" id="6670745">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="6670748">func</span>&nbsp;<span class="ident" id="6670753">TestIntegrity64a</span><span class="op" id="6670769">(</span><span class="ident" id="6670770">t</span>&nbsp;<span class="op" id="6670772">*</span><span class="ident" id="6670773">testing</span><span class="op" id="6670780">.</span><span class="ident" id="6670781">T</span><span class="op" id="6670782">)</span>&nbsp;<span class="op" id="6670784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670787">testIntegrity</span><span class="op" id="6670800">(</span><span class="ident" id="6670801">t</span><span class="op" id="6670802">,</span>&nbsp;<span class="ident" id="6670804">New64a</span><span class="op" id="6670810">(</span><span class="op" id="6670811">)</span><span class="op" id="6670812">)</span><br>
<span class="lineno"></span><span class="op" id="6670814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6670817">func</span>&nbsp;<span class="ident" id="6670822">testIntegrity</span><span class="op" id="6670835">(</span><span class="ident" id="6670836">t</span>&nbsp;<span class="op" id="6670838">*</span><span class="ident" id="6670839">testing</span><span class="op" id="6670846">.</span><span class="ident" id="6670847">T</span><span class="op" id="6670848">,</span>&nbsp;<span class="ident" id="6670850">h</span>&nbsp;<span class="ident" id="6670852">hash</span><span class="op" id="6670856">.</span><span class="ident" id="6670857">Hash</span><span class="op" id="6670861">)</span>&nbsp;<span class="op" id="6670863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670866">data</span>&nbsp;<span class="op" id="6670871">:=</span>&nbsp;<span class="op" id="6670874">[</span><span class="op" id="6670875">]</span><span class="builtintype" id="6670876">byte</span><span class="op" id="6670880">{</span><span class="string" id="6670881">&#39;1&#39;</span><span class="op" id="6670884">,</span>&nbsp;<span class="string" id="6670886">&#39;2&#39;</span><span class="op" id="6670889">,</span>&nbsp;<span class="num" id="6670891">3</span><span class="op" id="6670892">,</span>&nbsp;<span class="num" id="6670894">4</span><span class="op" id="6670895">,</span>&nbsp;<span class="num" id="6670897">5</span><span class="op" id="6670898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670901">h</span><span class="op" id="6670902">.</span><span class="ident" id="6670903">Write</span><span class="op" id="6670908">(</span><span class="ident" id="6670909">data</span><span class="op" id="6670913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670916">sum</span>&nbsp;<span class="op" id="6670920">:=</span>&nbsp;<span class="ident" id="6670923">h</span><span class="op" id="6670924">.</span><span class="ident" id="6670925">Sum</span><span class="op" id="6670928">(</span><span class="ident" id="6670929">nil</span><span class="op" id="6670932">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670936">if</span>&nbsp;<span class="ident" id="6670939">size</span>&nbsp;<span class="op" id="6670944">:=</span>&nbsp;<span class="ident" id="6670947">h</span><span class="op" id="6670948">.</span><span class="ident" id="6670949">Size</span><span class="op" id="6670953">(</span><span class="op" id="6670954">)</span><span class="op" id="6670955">;</span>&nbsp;<span class="ident" id="6670957">size</span>&nbsp;<span class="op" id="6670962">!=</span>&nbsp;<span class="builtinfunc" id="6670965">len</span><span class="op" id="6670968">(</span><span class="ident" id="6670969">sum</span><span class="op" id="6670972">)</span>&nbsp;<span class="op" id="6670974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670978">t</span><span class="op" id="6670979">.</span><span class="ident" id="6670980">Fatalf</span><span class="op" id="6670986">(</span><span class="string" id="6670987">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="6671016">,</span>&nbsp;<span class="ident" id="6671018">size</span><span class="op" id="6671022">,</span>&nbsp;<span class="builtinfunc" id="6671024">len</span><span class="op" id="6671027">(</span><span class="ident" id="6671028">sum</span><span class="op" id="6671031">)</span><span class="op" id="6671032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671039">if</span>&nbsp;<span class="ident" id="6671042">a</span>&nbsp;<span class="op" id="6671044">:=</span>&nbsp;<span class="ident" id="6671047">h</span><span class="op" id="6671048">.</span><span class="ident" id="6671049">Sum</span><span class="op" id="6671052">(</span><span class="ident" id="6671053">nil</span><span class="op" id="6671056">)</span><span class="op" id="6671057">;</span>&nbsp;<span class="op" id="6671059">!</span><span class="ident" id="6671060">bytes</span><span class="op" id="6671065">.</span><span class="ident" id="6671066">Equal</span><span class="op" id="6671071">(</span><span class="ident" id="6671072">sum</span><span class="op" id="6671075">,</span>&nbsp;<span class="ident" id="6671077">a</span><span class="op" id="6671078">)</span>&nbsp;<span class="op" id="6671080">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671084">t</span><span class="op" id="6671085">.</span><span class="ident" id="6671086">Fatalf</span><span class="op" id="6671092">(</span><span class="string" id="6671093">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="6671130">,</span>&nbsp;<span class="ident" id="6671132">sum</span><span class="op" id="6671135">,</span>&nbsp;<span class="ident" id="6671137">a</span><span class="op" id="6671138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671145">h</span><span class="op" id="6671146">.</span><span class="ident" id="6671147">Reset</span><span class="op" id="6671152">(</span><span class="op" id="6671153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671156">h</span><span class="op" id="6671157">.</span><span class="ident" id="6671158">Write</span><span class="op" id="6671163">(</span><span class="ident" id="6671164">data</span><span class="op" id="6671168">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671171">if</span>&nbsp;<span class="ident" id="6671174">a</span>&nbsp;<span class="op" id="6671176">:=</span>&nbsp;<span class="ident" id="6671179">h</span><span class="op" id="6671180">.</span><span class="ident" id="6671181">Sum</span><span class="op" id="6671184">(</span><span class="ident" id="6671185">nil</span><span class="op" id="6671188">)</span><span class="op" id="6671189">;</span>&nbsp;<span class="op" id="6671191">!</span><span class="ident" id="6671192">bytes</span><span class="op" id="6671197">.</span><span class="ident" id="6671198">Equal</span><span class="op" id="6671203">(</span><span class="ident" id="6671204">sum</span><span class="op" id="6671207">,</span>&nbsp;<span class="ident" id="6671209">a</span><span class="op" id="6671210">)</span>&nbsp;<span class="op" id="6671212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671216">t</span><span class="op" id="6671217">.</span><span class="ident" id="6671218">Fatalf</span><span class="op" id="6671224">(</span><span class="string" id="6671225">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="6671267">,</span>&nbsp;<span class="ident" id="6671269">sum</span><span class="op" id="6671272">,</span>&nbsp;<span class="ident" id="6671274">a</span><span class="op" id="6671275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671282">h</span><span class="op" id="6671283">.</span><span class="ident" id="6671284">Reset</span><span class="op" id="6671289">(</span><span class="op" id="6671290">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671293">h</span><span class="op" id="6671294">.</span><span class="ident" id="6671295">Write</span><span class="op" id="6671300">(</span><span class="ident" id="6671301">data</span><span class="op" id="6671305">[</span><span class="op" id="6671306">:</span><span class="num" id="6671307">2</span><span class="op" id="6671308">]</span><span class="op" id="6671309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671312">h</span><span class="op" id="6671313">.</span><span class="ident" id="6671314">Write</span><span class="op" id="6671319">(</span><span class="ident" id="6671320">data</span><span class="op" id="6671324">[</span><span class="num" id="6671325">2</span><span class="op" id="6671326">:</span><span class="op" id="6671327">]</span><span class="op" id="6671328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671331">if</span>&nbsp;<span class="ident" id="6671334">a</span>&nbsp;<span class="op" id="6671336">:=</span>&nbsp;<span class="ident" id="6671339">h</span><span class="op" id="6671340">.</span><span class="ident" id="6671341">Sum</span><span class="op" id="6671344">(</span><span class="ident" id="6671345">nil</span><span class="op" id="6671348">)</span><span class="op" id="6671349">;</span>&nbsp;<span class="op" id="6671351">!</span><span class="ident" id="6671352">bytes</span><span class="op" id="6671357">.</span><span class="ident" id="6671358">Equal</span><span class="op" id="6671363">(</span><span class="ident" id="6671364">sum</span><span class="op" id="6671367">,</span>&nbsp;<span class="ident" id="6671369">a</span><span class="op" id="6671370">)</span>&nbsp;<span class="op" id="6671372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671376">t</span><span class="op" id="6671377">.</span><span class="ident" id="6671378">Fatalf</span><span class="op" id="6671384">(</span><span class="string" id="6671385">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="6671434">,</span>&nbsp;<span class="ident" id="6671436">sum</span><span class="op" id="6671439">,</span>&nbsp;<span class="ident" id="6671441">a</span><span class="op" id="6671442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671445">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671449">switch</span>&nbsp;<span class="ident" id="6671456">h</span><span class="op" id="6671457">.</span><span class="ident" id="6671458">Size</span><span class="op" id="6671462">(</span><span class="op" id="6671463">)</span>&nbsp;<span class="op" id="6671465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671468">case</span>&nbsp;<span class="num" id="6671473">4</span><span class="op" id="6671474">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671478">sum32</span>&nbsp;<span class="op" id="6671484">:=</span>&nbsp;<span class="ident" id="6671487">h</span><span class="op" id="6671488">.</span><span class="op" id="6671489">(</span><span class="ident" id="6671490">hash</span><span class="op" id="6671494">.</span><span class="ident" id="6671495">Hash32</span><span class="op" id="6671501">)</span><span class="op" id="6671502">.</span><span class="ident" id="6671503">Sum32</span><span class="op" id="6671508">(</span><span class="op" id="6671509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671513">if</span>&nbsp;<span class="ident" id="6671516">sum32</span>&nbsp;<span class="op" id="6671522">!=</span>&nbsp;<span class="ident" id="6671525">binary</span><span class="op" id="6671531">.</span><span class="ident" id="6671532">BigEndian</span><span class="op" id="6671541">.</span><span class="ident" id="6671542">Uint32</span><span class="op" id="6671548">(</span><span class="ident" id="6671549">sum</span><span class="op" id="6671552">)</span>&nbsp;<span class="op" id="6671554">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671559">t</span><span class="op" id="6671560">.</span><span class="ident" id="6671561">Fatalf</span><span class="op" id="6671567">(</span><span class="string" id="6671568">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="6671598">,</span>&nbsp;<span class="ident" id="6671600">sum</span><span class="op" id="6671603">,</span>&nbsp;<span class="ident" id="6671605">sum32</span><span class="op" id="6671610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671617">case</span>&nbsp;<span class="num" id="6671622">8</span><span class="op" id="6671623">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671627">sum64</span>&nbsp;<span class="op" id="6671633">:=</span>&nbsp;<span class="ident" id="6671636">h</span><span class="op" id="6671637">.</span><span class="op" id="6671638">(</span><span class="ident" id="6671639">hash</span><span class="op" id="6671643">.</span><span class="ident" id="6671644">Hash64</span><span class="op" id="6671650">)</span><span class="op" id="6671651">.</span><span class="ident" id="6671652">Sum64</span><span class="op" id="6671657">(</span><span class="op" id="6671658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671662">if</span>&nbsp;<span class="ident" id="6671665">sum64</span>&nbsp;<span class="op" id="6671671">!=</span>&nbsp;<span class="ident" id="6671674">binary</span><span class="op" id="6671680">.</span><span class="ident" id="6671681">BigEndian</span><span class="op" id="6671690">.</span><span class="ident" id="6671691">Uint64</span><span class="op" id="6671697">(</span><span class="ident" id="6671698">sum</span><span class="op" id="6671701">)</span>&nbsp;<span class="op" id="6671703">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671708">t</span><span class="op" id="6671709">.</span><span class="ident" id="6671710">Fatalf</span><span class="op" id="6671716">(</span><span class="string" id="6671717">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="6671747">,</span>&nbsp;<span class="ident" id="6671749">sum</span><span class="op" id="6671752">,</span>&nbsp;<span class="ident" id="6671754">sum64</span><span class="op" id="6671759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671766">}</span><br>
<span class="lineno"></span><span class="op" id="6671768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="6671771">func</span>&nbsp;<span class="ident" id="6671776">BenchmarkFnv32KB</span><span class="op" id="6671792">(</span><span class="ident" id="6671793">b</span>&nbsp;<span class="op" id="6671795">*</span><span class="ident" id="6671796">testing</span><span class="op" id="6671803">.</span><span class="ident" id="6671804">B</span><span class="op" id="6671805">)</span>&nbsp;<span class="op" id="6671807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671810">benchmarkKB</span><span class="op" id="6671821">(</span><span class="ident" id="6671822">b</span><span class="op" id="6671823">,</span>&nbsp;<span class="ident" id="6671825">New32</span><span class="op" id="6671830">(</span><span class="op" id="6671831">)</span><span class="op" id="6671832">)</span><br>
<span class="lineno"></span><span class="op" id="6671834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671837">func</span>&nbsp;<span class="ident" id="6671842">BenchmarkFnv32aKB</span><span class="op" id="6671859">(</span><span class="ident" id="6671860">b</span>&nbsp;<span class="op" id="6671862">*</span><span class="ident" id="6671863">testing</span><span class="op" id="6671870">.</span><span class="ident" id="6671871">B</span><span class="op" id="6671872">)</span>&nbsp;<span class="op" id="6671874">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671877">benchmarkKB</span><span class="op" id="6671888">(</span><span class="ident" id="6671889">b</span><span class="op" id="6671890">,</span>&nbsp;<span class="ident" id="6671892">New32a</span><span class="op" id="6671898">(</span><span class="op" id="6671899">)</span><span class="op" id="6671900">)</span><br>
<span class="lineno"></span><span class="op" id="6671902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671905">func</span>&nbsp;<span class="ident" id="6671910">BenchmarkFnv64KB</span><span class="op" id="6671926">(</span><span class="ident" id="6671927">b</span>&nbsp;<span class="op" id="6671929">*</span><span class="ident" id="6671930">testing</span><span class="op" id="6671937">.</span><span class="ident" id="6671938">B</span><span class="op" id="6671939">)</span>&nbsp;<span class="op" id="6671941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671944">benchmarkKB</span><span class="op" id="6671955">(</span><span class="ident" id="6671956">b</span><span class="op" id="6671957">,</span>&nbsp;<span class="ident" id="6671959">New64</span><span class="op" id="6671964">(</span><span class="op" id="6671965">)</span><span class="op" id="6671966">)</span><br>
<span class="lineno">145</span><span class="op" id="6671968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671971">func</span>&nbsp;<span class="ident" id="6671976">BenchmarkFnv64aKB</span><span class="op" id="6671993">(</span><span class="ident" id="6671994">b</span>&nbsp;<span class="op" id="6671996">*</span><span class="ident" id="6671997">testing</span><span class="op" id="6672004">.</span><span class="ident" id="6672005">B</span><span class="op" id="6672006">)</span>&nbsp;<span class="op" id="6672008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672011">benchmarkKB</span><span class="op" id="6672022">(</span><span class="ident" id="6672023">b</span><span class="op" id="6672024">,</span>&nbsp;<span class="ident" id="6672026">New64a</span><span class="op" id="6672032">(</span><span class="op" id="6672033">)</span><span class="op" id="6672034">)</span><br>
<span class="lineno"></span><span class="op" id="6672036">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="6672039">func</span>&nbsp;<span class="ident" id="6672044">benchmarkKB</span><span class="op" id="6672055">(</span><span class="ident" id="6672056">b</span>&nbsp;<span class="op" id="6672058">*</span><span class="ident" id="6672059">testing</span><span class="op" id="6672066">.</span><span class="ident" id="6672067">B</span><span class="op" id="6672068">,</span>&nbsp;<span class="ident" id="6672070">h</span>&nbsp;<span class="ident" id="6672072">hash</span><span class="op" id="6672076">.</span><span class="ident" id="6672077">Hash</span><span class="op" id="6672081">)</span>&nbsp;<span class="op" id="6672083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672086">b</span><span class="op" id="6672087">.</span><span class="ident" id="6672088">SetBytes</span><span class="op" id="6672096">(</span><span class="num" id="6672097">1024</span><span class="op" id="6672101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672104">data</span>&nbsp;<span class="op" id="6672109">:=</span>&nbsp;<span class="builtinfunc" id="6672112">make</span><span class="op" id="6672116">(</span><span class="op" id="6672117">[</span><span class="op" id="6672118">]</span><span class="builtintype" id="6672119">byte</span><span class="op" id="6672123">,</span>&nbsp;<span class="num" id="6672125">1024</span><span class="op" id="6672129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672132">for</span>&nbsp;<span class="ident" id="6672136">i</span>&nbsp;<span class="op" id="6672138">:=</span>&nbsp;<span class="keyword" id="6672141">range</span>&nbsp;<span class="ident" id="6672147">data</span>&nbsp;<span class="op" id="6672152">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672156">data</span><span class="op" id="6672160">[</span><span class="ident" id="6672161">i</span><span class="op" id="6672162">]</span>&nbsp;<span class="op" id="6672164">=</span>&nbsp;<span class="builtintype" id="6672166">byte</span><span class="op" id="6672170">(</span><span class="ident" id="6672171">i</span><span class="op" id="6672172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672178">in</span>&nbsp;<span class="op" id="6672181">:=</span>&nbsp;<span class="builtinfunc" id="6672184">make</span><span class="op" id="6672188">(</span><span class="op" id="6672189">[</span><span class="op" id="6672190">]</span><span class="builtintype" id="6672191">byte</span><span class="op" id="6672195">,</span>&nbsp;<span class="num" id="6672197">0</span><span class="op" id="6672198">,</span>&nbsp;<span class="ident" id="6672200">h</span><span class="op" id="6672201">.</span><span class="ident" id="6672202">Size</span><span class="op" id="6672206">(</span><span class="op" id="6672207">)</span><span class="op" id="6672208">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672212">b</span><span class="op" id="6672213">.</span><span class="ident" id="6672214">ResetTimer</span><span class="op" id="6672224">(</span><span class="op" id="6672225">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672228">for</span>&nbsp;<span class="ident" id="6672232">i</span>&nbsp;<span class="op" id="6672234">:=</span>&nbsp;<span class="num" id="6672237">0</span><span class="op" id="6672238">;</span>&nbsp;<span class="ident" id="6672240">i</span>&nbsp;<span class="op" id="6672242">&lt;</span>&nbsp;<span class="ident" id="6672244">b</span><span class="op" id="6672245">.</span><span class="ident" id="6672246">N</span><span class="op" id="6672247">;</span>&nbsp;<span class="ident" id="6672249">i</span><span class="op" id="6672250">++</span>&nbsp;<span class="op" id="6672253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672257">h</span><span class="op" id="6672258">.</span><span class="ident" id="6672259">Reset</span><span class="op" id="6672264">(</span><span class="op" id="6672265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672269">h</span><span class="op" id="6672270">.</span><span class="ident" id="6672271">Write</span><span class="op" id="6672276">(</span><span class="ident" id="6672277">data</span><span class="op" id="6672281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672285">h</span><span class="op" id="6672286">.</span><span class="ident" id="6672287">Sum</span><span class="op" id="6672290">(</span><span class="ident" id="6672291">in</span><span class="op" id="6672293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672296">}</span><br>
<span class="lineno">165</span><span class="op" id="6672298">}</span>
</div>
</body>
</html>
