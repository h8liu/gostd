<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html" class="current">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4265005">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4265060">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4265114">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4265165">package</span>&nbsp;<span class="ident" id="4265173">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4265184">import</span>&nbsp;<span class="op" id="4265191">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4265194">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4265203">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4265213">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4265219">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4265232">&#34;net/textproto&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4265249">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="4265254">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="4265257">//&nbsp;TODO(adg,bradfitz):&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;unify&nbsp;the&nbsp;DoS-prevention&nbsp;strategy&nbsp;here</span><br>
<span class="lineno"></span><span class="comment" id="4265333">//&nbsp;with&nbsp;that&nbsp;of&nbsp;the&nbsp;http&nbsp;package&#39;s&nbsp;ParseForm.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4265380">//&nbsp;ReadForm&nbsp;parses&nbsp;an&nbsp;entire&nbsp;multipart&nbsp;message&nbsp;whose&nbsp;parts&nbsp;have</span><br>
<span class="lineno">20</span><span class="comment" id="4265444">//&nbsp;a&nbsp;Content-Disposition&nbsp;of&nbsp;&#34;form-data&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4265485">//&nbsp;It&nbsp;stores&nbsp;up&nbsp;to&nbsp;maxMemory&nbsp;bytes&nbsp;of&nbsp;the&nbsp;file&nbsp;parts&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="4265548">//&nbsp;and&nbsp;the&nbsp;remainder&nbsp;on&nbsp;disk&nbsp;in&nbsp;temporary&nbsp;files.</span><br>
<span class="lineno"></span><span class="keyword" id="4265597">func</span>&nbsp;<span class="op" id="4265602">(</span><span class="ident" id="4265603">r</span>&nbsp;<span class="op" id="4265605">*</span><span class="ident" id="4265606">Reader</span><span class="op" id="4265612">)</span>&nbsp;<span class="ident" id="4265614">ReadForm</span><span class="op" id="4265622">(</span><span class="ident" id="4265623">maxMemory</span>&nbsp;<span class="ident" id="4265633">int64</span><span class="op" id="4265638">)</span>&nbsp;<span class="op" id="4265640">(</span><span class="ident" id="4265641">f</span>&nbsp;<span class="op" id="4265643">*</span><span class="ident" id="4265644">Form</span><span class="op" id="4265648">,</span>&nbsp;<span class="ident" id="4265650">err</span>&nbsp;<span class="builtintype" id="4265654">error</span><span class="op" id="4265659">)</span>&nbsp;<span class="op" id="4265661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4265664">form</span>&nbsp;<span class="op" id="4265669">:=</span>&nbsp;<span class="op" id="4265672">&amp;</span><span class="ident" id="4265673">Form</span><span class="op" id="4265677">{</span><span class="builtinfunc" id="4265678">make</span><span class="op" id="4265682">(</span><span class="keyword" id="4265683">map</span><span class="op" id="4265686">[</span><span class="builtintype" id="4265687">string</span><span class="op" id="4265693">]</span><span class="op" id="4265694">[</span><span class="op" id="4265695">]</span><span class="builtintype" id="4265696">string</span><span class="op" id="4265702">)</span><span class="op" id="4265703">,</span>&nbsp;<span class="builtinfunc" id="4265705">make</span><span class="op" id="4265709">(</span><span class="keyword" id="4265710">map</span><span class="op" id="4265713">[</span><span class="builtintype" id="4265714">string</span><span class="op" id="4265720">]</span><span class="op" id="4265721">[</span><span class="op" id="4265722">]</span><span class="op" id="4265723">*</span><span class="ident" id="4265724">FileHeader</span><span class="op" id="4265734">)</span><span class="op" id="4265735">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4265738">defer</span>&nbsp;<span class="keyword" id="4265744">func</span><span class="op" id="4265748">(</span><span class="op" id="4265749">)</span>&nbsp;<span class="op" id="4265751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4265755">if</span>&nbsp;<span class="ident" id="4265758">err</span>&nbsp;<span class="op" id="4265762">!=</span>&nbsp;<span class="builtintype" id="4265765">nil</span>&nbsp;<span class="op" id="4265769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4265774">form</span><span class="op" id="4265778">.</span><span class="ident" id="4265779">RemoveAll</span><span class="op" id="4265788">(</span><span class="op" id="4265789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4265793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4265796">}</span><span class="op" id="4265797">(</span><span class="op" id="4265798">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4265802">maxValueBytes</span>&nbsp;<span class="op" id="4265816">:=</span>&nbsp;<span class="ident" id="4265819">int64</span><span class="op" id="4265824">(</span><span class="num" id="4265825">10</span>&nbsp;<span class="op" id="4265828">&lt;&lt;</span>&nbsp;<span class="num" id="4265831">20</span><span class="op" id="4265833">)</span>&nbsp;<span class="comment" id="4265835">//&nbsp;10&nbsp;MB&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;text.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4265863">for</span>&nbsp;<span class="op" id="4265867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4265871">p</span><span class="op" id="4265872">,</span>&nbsp;<span class="ident" id="4265874">err</span>&nbsp;<span class="op" id="4265878">:=</span>&nbsp;<span class="ident" id="4265881">r</span><span class="op" id="4265882">.</span><span class="ident" id="4265883">NextPart</span><span class="op" id="4265891">(</span><span class="op" id="4265892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4265896">if</span>&nbsp;<span class="ident" id="4265899">err</span>&nbsp;<span class="op" id="4265903">==</span>&nbsp;<span class="ident" id="4265906">io</span><span class="op" id="4265908">.</span><span class="ident" id="4265909">EOF</span>&nbsp;<span class="op" id="4265913">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4265918">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4265926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4265930">if</span>&nbsp;<span class="ident" id="4265933">err</span>&nbsp;<span class="op" id="4265937">!=</span>&nbsp;<span class="builtintype" id="4265940">nil</span>&nbsp;<span class="op" id="4265944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4265949">return</span>&nbsp;<span class="builtintype" id="4265956">nil</span><span class="op" id="4265959">,</span>&nbsp;<span class="ident" id="4265961">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4265967">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4265972">name</span>&nbsp;<span class="op" id="4265977">:=</span>&nbsp;<span class="ident" id="4265980">p</span><span class="op" id="4265981">.</span><span class="ident" id="4265982">FormName</span><span class="op" id="4265990">(</span><span class="op" id="4265991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4265995">if</span>&nbsp;<span class="ident" id="4265998">name</span>&nbsp;<span class="op" id="4266003">==</span>&nbsp;<span class="string" id="4266006">&#34;&#34;</span>&nbsp;<span class="op" id="4266009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266014">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4266025">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266029">filename</span>&nbsp;<span class="op" id="4266038">:=</span>&nbsp;<span class="ident" id="4266041">p</span><span class="op" id="4266042">.</span><span class="ident" id="4266043">FileName</span><span class="op" id="4266051">(</span><span class="op" id="4266052">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266057">var</span>&nbsp;<span class="ident" id="4266061">b</span>&nbsp;<span class="ident" id="4266063">bytes</span><span class="op" id="4266068">.</span><span class="ident" id="4266069">Buffer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266079">if</span>&nbsp;<span class="ident" id="4266082">filename</span>&nbsp;<span class="op" id="4266091">==</span>&nbsp;<span class="string" id="4266094">&#34;&#34;</span>&nbsp;<span class="op" id="4266097">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4266102">//&nbsp;value,&nbsp;store&nbsp;as&nbsp;string&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266141">n</span><span class="op" id="4266142">,</span>&nbsp;<span class="ident" id="4266144">err</span>&nbsp;<span class="op" id="4266148">:=</span>&nbsp;<span class="ident" id="4266151">io</span><span class="op" id="4266153">.</span><span class="ident" id="4266154">CopyN</span><span class="op" id="4266159">(</span><span class="op" id="4266160">&amp;</span><span class="ident" id="4266161">b</span><span class="op" id="4266162">,</span>&nbsp;<span class="ident" id="4266164">p</span><span class="op" id="4266165">,</span>&nbsp;<span class="ident" id="4266167">maxValueBytes</span><span class="op" id="4266180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266185">if</span>&nbsp;<span class="ident" id="4266188">err</span>&nbsp;<span class="op" id="4266192">!=</span>&nbsp;<span class="builtintype" id="4266195">nil</span>&nbsp;<span class="op" id="4266199">&amp;&amp;</span>&nbsp;<span class="ident" id="4266202">err</span>&nbsp;<span class="op" id="4266206">!=</span>&nbsp;<span class="ident" id="4266209">io</span><span class="op" id="4266211">.</span><span class="ident" id="4266212">EOF</span>&nbsp;<span class="op" id="4266216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266222">return</span>&nbsp;<span class="builtintype" id="4266229">nil</span><span class="op" id="4266232">,</span>&nbsp;<span class="ident" id="4266234">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4266241">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266246">maxValueBytes</span>&nbsp;<span class="op" id="4266260">-=</span>&nbsp;<span class="ident" id="4266263">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266268">if</span>&nbsp;<span class="ident" id="4266271">maxValueBytes</span>&nbsp;<span class="op" id="4266285">==</span>&nbsp;<span class="num" id="4266288">0</span>&nbsp;<span class="op" id="4266290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266296">return</span>&nbsp;<span class="builtintype" id="4266303">nil</span><span class="op" id="4266306">,</span>&nbsp;<span class="ident" id="4266308">errors</span><span class="op" id="4266314">.</span><span class="ident" id="4266315">New</span><span class="op" id="4266318">(</span><span class="string" id="4266319">&#34;multipart:&nbsp;message&nbsp;too&nbsp;large&#34;</span><span class="op" id="4266349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4266354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266359">form</span><span class="op" id="4266363">.</span><span class="ident" id="4266364">Value</span><span class="op" id="4266369">[</span><span class="ident" id="4266370">name</span><span class="op" id="4266374">]</span>&nbsp;<span class="op" id="4266376">=</span>&nbsp;<span class="builtinfunc" id="4266378">append</span><span class="op" id="4266384">(</span><span class="ident" id="4266385">form</span><span class="op" id="4266389">.</span><span class="ident" id="4266390">Value</span><span class="op" id="4266395">[</span><span class="ident" id="4266396">name</span><span class="op" id="4266400">]</span><span class="op" id="4266401">,</span>&nbsp;<span class="ident" id="4266403">b</span><span class="op" id="4266404">.</span><span class="ident" id="4266405">String</span><span class="op" id="4266411">(</span><span class="op" id="4266412">)</span><span class="op" id="4266413">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266418">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4266429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4266434">//&nbsp;file,&nbsp;store&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266472">fh</span>&nbsp;<span class="op" id="4266475">:=</span>&nbsp;<span class="op" id="4266478">&amp;</span><span class="ident" id="4266479">FileHeader</span><span class="op" id="4266489">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266494">Filename</span><span class="op" id="4266502">:</span>&nbsp;<span class="ident" id="4266504">filename</span><span class="op" id="4266512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266517">Header</span><span class="op" id="4266523">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4266527">p</span><span class="op" id="4266528">.</span><span class="ident" id="4266529">Header</span><span class="op" id="4266535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4266539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266543">n</span><span class="op" id="4266544">,</span>&nbsp;<span class="ident" id="4266546">err</span>&nbsp;<span class="op" id="4266550">:=</span>&nbsp;<span class="ident" id="4266553">io</span><span class="op" id="4266555">.</span><span class="ident" id="4266556">CopyN</span><span class="op" id="4266561">(</span><span class="op" id="4266562">&amp;</span><span class="ident" id="4266563">b</span><span class="op" id="4266564">,</span>&nbsp;<span class="ident" id="4266566">p</span><span class="op" id="4266567">,</span>&nbsp;<span class="ident" id="4266569">maxMemory</span><span class="op" id="4266578">+</span><span class="num" id="4266579">1</span><span class="op" id="4266580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266584">if</span>&nbsp;<span class="ident" id="4266587">err</span>&nbsp;<span class="op" id="4266591">!=</span>&nbsp;<span class="builtintype" id="4266594">nil</span>&nbsp;<span class="op" id="4266598">&amp;&amp;</span>&nbsp;<span class="ident" id="4266601">err</span>&nbsp;<span class="op" id="4266605">!=</span>&nbsp;<span class="ident" id="4266608">io</span><span class="op" id="4266610">.</span><span class="ident" id="4266611">EOF</span>&nbsp;<span class="op" id="4266615">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266620">return</span>&nbsp;<span class="builtintype" id="4266627">nil</span><span class="op" id="4266630">,</span>&nbsp;<span class="ident" id="4266632">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4266638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266642">if</span>&nbsp;<span class="ident" id="4266645">n</span>&nbsp;<span class="op" id="4266647">&gt;</span>&nbsp;<span class="ident" id="4266649">maxMemory</span>&nbsp;<span class="op" id="4266659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4266664">//&nbsp;too&nbsp;big,&nbsp;write&nbsp;to&nbsp;disk&nbsp;and&nbsp;flush&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266710">file</span><span class="op" id="4266714">,</span>&nbsp;<span class="ident" id="4266716">err</span>&nbsp;<span class="op" id="4266720">:=</span>&nbsp;<span class="ident" id="4266723">ioutil</span><span class="op" id="4266729">.</span><span class="ident" id="4266730">TempFile</span><span class="op" id="4266738">(</span><span class="string" id="4266739">&#34;&#34;</span><span class="op" id="4266741">,</span>&nbsp;<span class="string" id="4266743">&#34;multipart-&#34;</span><span class="op" id="4266755">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266760">if</span>&nbsp;<span class="ident" id="4266763">err</span>&nbsp;<span class="op" id="4266767">!=</span>&nbsp;<span class="builtintype" id="4266770">nil</span>&nbsp;<span class="op" id="4266774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266780">return</span>&nbsp;<span class="builtintype" id="4266787">nil</span><span class="op" id="4266790">,</span>&nbsp;<span class="ident" id="4266792">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4266799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266804">defer</span>&nbsp;<span class="ident" id="4266810">file</span><span class="op" id="4266814">.</span><span class="ident" id="4266815">Close</span><span class="op" id="4266820">(</span><span class="op" id="4266821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266826">_</span><span class="op" id="4266827">,</span>&nbsp;<span class="ident" id="4266829">err</span>&nbsp;<span class="op" id="4266833">=</span>&nbsp;<span class="ident" id="4266835">io</span><span class="op" id="4266837">.</span><span class="ident" id="4266838">Copy</span><span class="op" id="4266842">(</span><span class="ident" id="4266843">file</span><span class="op" id="4266847">,</span>&nbsp;<span class="ident" id="4266849">io</span><span class="op" id="4266851">.</span><span class="ident" id="4266852">MultiReader</span><span class="op" id="4266863">(</span><span class="op" id="4266864">&amp;</span><span class="ident" id="4266865">b</span><span class="op" id="4266866">,</span>&nbsp;<span class="ident" id="4266868">p</span><span class="op" id="4266869">)</span><span class="op" id="4266870">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266875">if</span>&nbsp;<span class="ident" id="4266878">err</span>&nbsp;<span class="op" id="4266882">!=</span>&nbsp;<span class="builtintype" id="4266885">nil</span>&nbsp;<span class="op" id="4266889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266895">os</span><span class="op" id="4266897">.</span><span class="ident" id="4266898">Remove</span><span class="op" id="4266904">(</span><span class="ident" id="4266905">file</span><span class="op" id="4266909">.</span><span class="ident" id="4266910">Name</span><span class="op" id="4266914">(</span><span class="op" id="4266915">)</span><span class="op" id="4266916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4266922">return</span>&nbsp;<span class="builtintype" id="4266929">nil</span><span class="op" id="4266932">,</span>&nbsp;<span class="ident" id="4266934">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4266941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266946">fh</span><span class="op" id="4266948">.</span><span class="ident" id="4266949">tmpfile</span>&nbsp;<span class="op" id="4266957">=</span>&nbsp;<span class="ident" id="4266959">file</span><span class="op" id="4266963">.</span><span class="ident" id="4266964">Name</span><span class="op" id="4266968">(</span><span class="op" id="4266969">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4266973">}</span>&nbsp;<span class="keyword" id="4266975">else</span>&nbsp;<span class="op" id="4266980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4266985">fh</span><span class="op" id="4266987">.</span><span class="ident" id="4266988">content</span>&nbsp;<span class="op" id="4266996">=</span>&nbsp;<span class="ident" id="4266998">b</span><span class="op" id="4266999">.</span><span class="ident" id="4267000">Bytes</span><span class="op" id="4267005">(</span><span class="op" id="4267006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267011">maxMemory</span>&nbsp;<span class="op" id="4267021">-=</span>&nbsp;<span class="ident" id="4267024">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4267028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267032">form</span><span class="op" id="4267036">.</span><span class="ident" id="4267037">File</span><span class="op" id="4267041">[</span><span class="ident" id="4267042">name</span><span class="op" id="4267046">]</span>&nbsp;<span class="op" id="4267048">=</span>&nbsp;<span class="builtinfunc" id="4267050">append</span><span class="op" id="4267056">(</span><span class="ident" id="4267057">form</span><span class="op" id="4267061">.</span><span class="ident" id="4267062">File</span><span class="op" id="4267066">[</span><span class="ident" id="4267067">name</span><span class="op" id="4267071">]</span><span class="op" id="4267072">,</span>&nbsp;<span class="ident" id="4267074">fh</span><span class="op" id="4267076">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4267079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4267083">return</span>&nbsp;<span class="ident" id="4267090">form</span><span class="op" id="4267094">,</span>&nbsp;<span class="builtintype" id="4267096">nil</span><br>
<span class="lineno"></span><span class="op" id="4267100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4267103">//&nbsp;Form&nbsp;is&nbsp;a&nbsp;parsed&nbsp;multipart&nbsp;form.</span><br>
<span class="lineno"></span><span class="comment" id="4267139">//&nbsp;Its&nbsp;File&nbsp;parts&nbsp;are&nbsp;stored&nbsp;either&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk,</span><br>
<span class="lineno"></span><span class="comment" id="4267197">//&nbsp;and&nbsp;are&nbsp;accessible&nbsp;via&nbsp;the&nbsp;*FileHeader&#39;s&nbsp;Open&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="4267254">//&nbsp;Its&nbsp;Value&nbsp;parts&nbsp;are&nbsp;stored&nbsp;as&nbsp;strings.</span><br>
<span class="lineno"></span><span class="comment" id="4267296">//&nbsp;Both&nbsp;are&nbsp;keyed&nbsp;by&nbsp;field&nbsp;name.</span><br>
<span class="lineno">100</span><span class="keyword" id="4267329">type</span>&nbsp;<span class="ident" id="4267334">Form</span>&nbsp;<span class="keyword" id="4267339">struct</span>&nbsp;<span class="op" id="4267346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267349">Value</span>&nbsp;<span class="keyword" id="4267355">map</span><span class="op" id="4267358">[</span><span class="builtintype" id="4267359">string</span><span class="op" id="4267365">]</span><span class="op" id="4267366">[</span><span class="op" id="4267367">]</span><span class="builtintype" id="4267368">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267376">File</span>&nbsp;&nbsp;<span class="keyword" id="4267382">map</span><span class="op" id="4267385">[</span><span class="builtintype" id="4267386">string</span><span class="op" id="4267392">]</span><span class="op" id="4267393">[</span><span class="op" id="4267394">]</span><span class="op" id="4267395">*</span><span class="ident" id="4267396">FileHeader</span><br>
<span class="lineno"></span><span class="op" id="4267407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4267410">//&nbsp;RemoveAll&nbsp;removes&nbsp;any&nbsp;temporary&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;Form.</span><br>
<span class="lineno"></span><span class="keyword" id="4267475">func</span>&nbsp;<span class="op" id="4267480">(</span><span class="ident" id="4267481">f</span>&nbsp;<span class="op" id="4267483">*</span><span class="ident" id="4267484">Form</span><span class="op" id="4267488">)</span>&nbsp;<span class="ident" id="4267490">RemoveAll</span><span class="op" id="4267499">(</span><span class="op" id="4267500">)</span>&nbsp;<span class="builtintype" id="4267502">error</span>&nbsp;<span class="op" id="4267508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4267511">var</span>&nbsp;<span class="ident" id="4267515">err</span>&nbsp;<span class="builtintype" id="4267519">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4267526">for</span>&nbsp;<span class="ident" id="4267530">_</span><span class="op" id="4267531">,</span>&nbsp;<span class="ident" id="4267533">fhs</span>&nbsp;<span class="op" id="4267537">:=</span>&nbsp;<span class="keyword" id="4267540">range</span>&nbsp;<span class="ident" id="4267546">f</span><span class="op" id="4267547">.</span><span class="ident" id="4267548">File</span>&nbsp;<span class="op" id="4267553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4267557">for</span>&nbsp;<span class="ident" id="4267561">_</span><span class="op" id="4267562">,</span>&nbsp;<span class="ident" id="4267564">fh</span>&nbsp;<span class="op" id="4267567">:=</span>&nbsp;<span class="keyword" id="4267570">range</span>&nbsp;<span class="ident" id="4267576">fhs</span>&nbsp;<span class="op" id="4267580">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4267585">if</span>&nbsp;<span class="ident" id="4267588">fh</span><span class="op" id="4267590">.</span><span class="ident" id="4267591">tmpfile</span>&nbsp;<span class="op" id="4267599">!=</span>&nbsp;<span class="string" id="4267602">&#34;&#34;</span>&nbsp;<span class="op" id="4267605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267611">e</span>&nbsp;<span class="op" id="4267613">:=</span>&nbsp;<span class="ident" id="4267616">os</span><span class="op" id="4267618">.</span><span class="ident" id="4267619">Remove</span><span class="op" id="4267625">(</span><span class="ident" id="4267626">fh</span><span class="op" id="4267628">.</span><span class="ident" id="4267629">tmpfile</span><span class="op" id="4267636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4267642">if</span>&nbsp;<span class="ident" id="4267645">e</span>&nbsp;<span class="op" id="4267647">!=</span>&nbsp;<span class="builtintype" id="4267650">nil</span>&nbsp;<span class="op" id="4267654">&amp;&amp;</span>&nbsp;<span class="ident" id="4267657">err</span>&nbsp;<span class="op" id="4267661">==</span>&nbsp;<span class="builtintype" id="4267664">nil</span>&nbsp;<span class="op" id="4267668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267675">err</span>&nbsp;<span class="op" id="4267679">=</span>&nbsp;<span class="ident" id="4267681">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4267687">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4267692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4267696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4267699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4267702">return</span>&nbsp;<span class="ident" id="4267709">err</span><br>
<span class="lineno"></span><span class="op" id="4267713">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="4267716">//&nbsp;A&nbsp;FileHeader&nbsp;describes&nbsp;a&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;request.</span><br>
<span class="lineno"></span><span class="keyword" id="4267778">type</span>&nbsp;<span class="ident" id="4267783">FileHeader</span>&nbsp;<span class="keyword" id="4267794">struct</span>&nbsp;<span class="op" id="4267801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267804">Filename</span>&nbsp;<span class="builtintype" id="4267813">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267821">Header</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4267830">textproto</span><span class="op" id="4267839">.</span><span class="ident" id="4267840">MIMEHeader</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267853">content</span>&nbsp;<span class="op" id="4267861">[</span><span class="op" id="4267862">]</span><span class="builtintype" id="4267863">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4267869">tmpfile</span>&nbsp;<span class="builtintype" id="4267877">string</span><br>
<span class="lineno"></span><span class="op" id="4267884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4267887">//&nbsp;Open&nbsp;opens&nbsp;and&nbsp;returns&nbsp;the&nbsp;FileHeader&#39;s&nbsp;associated&nbsp;File.</span><br>
<span class="lineno"></span><span class="keyword" id="4267947">func</span>&nbsp;<span class="op" id="4267952">(</span><span class="ident" id="4267953">fh</span>&nbsp;<span class="op" id="4267956">*</span><span class="ident" id="4267957">FileHeader</span><span class="op" id="4267967">)</span>&nbsp;<span class="ident" id="4267969">Open</span><span class="op" id="4267973">(</span><span class="op" id="4267974">)</span>&nbsp;<span class="op" id="4267976">(</span><span class="ident" id="4267977">File</span><span class="op" id="4267981">,</span>&nbsp;<span class="builtintype" id="4267983">error</span><span class="op" id="4267988">)</span>&nbsp;<span class="op" id="4267990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4267993">if</span>&nbsp;<span class="ident" id="4267996">b</span>&nbsp;<span class="op" id="4267998">:=</span>&nbsp;<span class="ident" id="4268001">fh</span><span class="op" id="4268003">.</span><span class="ident" id="4268004">content</span><span class="op" id="4268011">;</span>&nbsp;<span class="ident" id="4268013">b</span>&nbsp;<span class="op" id="4268015">!=</span>&nbsp;<span class="builtintype" id="4268018">nil</span>&nbsp;<span class="op" id="4268022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4268026">r</span>&nbsp;<span class="op" id="4268028">:=</span>&nbsp;<span class="ident" id="4268031">io</span><span class="op" id="4268033">.</span><span class="ident" id="4268034">NewSectionReader</span><span class="op" id="4268050">(</span><span class="ident" id="4268051">bytes</span><span class="op" id="4268056">.</span><span class="ident" id="4268057">NewReader</span><span class="op" id="4268066">(</span><span class="ident" id="4268067">b</span><span class="op" id="4268068">)</span><span class="op" id="4268069">,</span>&nbsp;<span class="num" id="4268071">0</span><span class="op" id="4268072">,</span>&nbsp;<span class="ident" id="4268074">int64</span><span class="op" id="4268079">(</span><span class="builtinfunc" id="4268080">len</span><span class="op" id="4268083">(</span><span class="ident" id="4268084">b</span><span class="op" id="4268085">)</span><span class="op" id="4268086">)</span><span class="op" id="4268087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4268091">return</span>&nbsp;<span class="ident" id="4268098">sectionReadCloser</span><span class="op" id="4268115">{</span><span class="ident" id="4268116">r</span><span class="op" id="4268117">}</span><span class="op" id="4268118">,</span>&nbsp;<span class="builtintype" id="4268120">nil</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4268125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4268128">return</span>&nbsp;<span class="ident" id="4268135">os</span><span class="op" id="4268137">.</span><span class="ident" id="4268138">Open</span><span class="op" id="4268142">(</span><span class="ident" id="4268143">fh</span><span class="op" id="4268145">.</span><span class="ident" id="4268146">tmpfile</span><span class="op" id="4268153">)</span><br>
<span class="lineno"></span><span class="op" id="4268155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4268158">//&nbsp;File&nbsp;is&nbsp;an&nbsp;interface&nbsp;to&nbsp;access&nbsp;the&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;message.</span><br>
<span class="lineno">140</span><span class="comment" id="4268230">//&nbsp;Its&nbsp;contents&nbsp;may&nbsp;be&nbsp;either&nbsp;stored&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk.</span><br>
<span class="lineno"></span><span class="comment" id="4268289">//&nbsp;If&nbsp;stored&nbsp;on&nbsp;disk,&nbsp;the&nbsp;File&#39;s&nbsp;underlying&nbsp;concrete&nbsp;type&nbsp;will&nbsp;be&nbsp;an&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="keyword" id="4268368">type</span>&nbsp;<span class="ident" id="4268373">File</span>&nbsp;<span class="keyword" id="4268378">interface</span>&nbsp;<span class="op" id="4268388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4268391">io</span><span class="op" id="4268393">.</span><span class="ident" id="4268394">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4268402">io</span><span class="op" id="4268404">.</span><span class="ident" id="4268405">ReaderAt</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4268415">io</span><span class="op" id="4268417">.</span><span class="ident" id="4268418">Seeker</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4268426">io</span><span class="op" id="4268428">.</span><span class="ident" id="4268429">Closer</span><br>
<span class="lineno"></span><span class="op" id="4268436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4268439">//&nbsp;helper&nbsp;types&nbsp;to&nbsp;turn&nbsp;a&nbsp;[]byte&nbsp;into&nbsp;a&nbsp;File</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="4268485">type</span>&nbsp;<span class="ident" id="4268490">sectionReadCloser</span>&nbsp;<span class="keyword" id="4268508">struct</span>&nbsp;<span class="op" id="4268515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4268518">*</span><span class="ident" id="4268519">io</span><span class="op" id="4268521">.</span><span class="ident" id="4268522">SectionReader</span><br>
<span class="lineno"></span><span class="op" id="4268536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="4268539">func</span>&nbsp;<span class="op" id="4268544">(</span><span class="ident" id="4268545">rc</span>&nbsp;<span class="ident" id="4268548">sectionReadCloser</span><span class="op" id="4268565">)</span>&nbsp;<span class="ident" id="4268567">Close</span><span class="op" id="4268572">(</span><span class="op" id="4268573">)</span>&nbsp;<span class="builtintype" id="4268575">error</span>&nbsp;<span class="op" id="4268581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4268584">return</span>&nbsp;<span class="builtintype" id="4268591">nil</span><br>
<span class="lineno"></span><span class="op" id="4268595">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
