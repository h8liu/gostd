<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4537488">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4537543">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4537597">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4537648">//&nbsp;Package&nbsp;gzip&nbsp;implements&nbsp;reading&nbsp;and&nbsp;writing&nbsp;of&nbsp;gzip&nbsp;format&nbsp;compressed&nbsp;files,</span><br>
<span class="lineno"></span><span class="comment" id="4537728">//&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;1952.</span><br>
<span class="lineno"></span><span class="keyword" id="4537757">package</span>&nbsp;<span class="ident" id="4537765">gzip</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4537771">import</span>&nbsp;<span class="op" id="4537778">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4537781">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4537790">&#34;compress/flate&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4537808">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4537818">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4537826">&#34;hash/crc32&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4537840">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4537846">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="4537853">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4537856">const</span>&nbsp;<span class="op" id="4537862">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537865">gzipID1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4537877">=</span>&nbsp;<span class="num" id="4537879">0x1f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537885">gzipID2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4537897">=</span>&nbsp;<span class="num" id="4537899">0x8b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537905">gzipDeflate</span>&nbsp;<span class="op" id="4537917">=</span>&nbsp;<span class="num" id="4537919">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537922">flagText</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4537934">=</span>&nbsp;<span class="num" id="4537936">1</span>&nbsp;<span class="op" id="4537938">&lt;&lt;</span>&nbsp;<span class="num" id="4537941">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537944">flagHdrCrc</span>&nbsp;&nbsp;<span class="op" id="4537956">=</span>&nbsp;<span class="num" id="4537958">1</span>&nbsp;<span class="op" id="4537960">&lt;&lt;</span>&nbsp;<span class="num" id="4537963">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537966">flagExtra</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4537978">=</span>&nbsp;<span class="num" id="4537980">1</span>&nbsp;<span class="op" id="4537982">&lt;&lt;</span>&nbsp;<span class="num" id="4537985">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537988">flagName</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4538000">=</span>&nbsp;<span class="num" id="4538002">1</span>&nbsp;<span class="op" id="4538004">&lt;&lt;</span>&nbsp;<span class="num" id="4538007">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4538010">flagComment</span>&nbsp;<span class="op" id="4538022">=</span>&nbsp;<span class="num" id="4538024">1</span>&nbsp;<span class="op" id="4538026">&lt;&lt;</span>&nbsp;<span class="num" id="4538029">4</span><br>
<span class="lineno"></span><span class="op" id="4538031">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="4538034">func</span>&nbsp;<span class="ident" id="4538039">makeReader</span><span class="op" id="4538049">(</span><span class="ident" id="4538050">r</span>&nbsp;<span class="ident" id="4538052"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4538054">.</span><span class="ident" id="4538055">Reader</span><span class="op" id="4538061">)</span>&nbsp;<span class="ident" id="4538063"><a href="/compress/gzip/gunzip.go.html#4537790">flate</a></span><span class="op" id="4538068">.</span><span class="ident" id="4538069">Reader</span>&nbsp;<span class="op" id="4538076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4538079">if</span>&nbsp;<span class="ident" id="4538082">rr</span><span class="op" id="4538084">,</span>&nbsp;<span class="ident" id="4538086">ok</span>&nbsp;<span class="op" id="4538089">:=</span>&nbsp;<span class="ident" id="4538092"><a href="/compress/gzip/gunzip.go.html#4538050">r</a></span><span class="op" id="4538093">.</span><span class="op" id="4538094">(</span><span class="ident" id="4538095"><a href="/compress/gzip/gunzip.go.html#4537790">flate</a></span><span class="op" id="4538100">.</span><span class="ident" id="4538101">Reader</span><span class="op" id="4538107">)</span><span class="op" id="4538108">;</span>&nbsp;<span class="ident" id="4538110"><a href="/compress/gzip/gunzip.go.html#4538086">ok</a></span>&nbsp;<span class="op" id="4538113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4538117">return</span>&nbsp;<span class="ident" id="4538124"><a href="/compress/gzip/gunzip.go.html#4538082">rr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4538128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4538131">return</span>&nbsp;<span class="ident" id="4538138"><a href="/compress/gzip/gunzip.go.html#4537781">bufio</a></span><span class="op" id="4538143">.</span><span class="ident" id="4538144">NewReader</span><span class="op" id="4538153">(</span><span class="ident" id="4538154"><a href="/compress/gzip/gunzip.go.html#4538050">r</a></span><span class="op" id="4538155">)</span><br>
<span class="lineno">35</span><span class="op" id="4538157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4538160">var</span>&nbsp;<span class="op" id="4538164">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4538167">//&nbsp;ErrChecksum&nbsp;is&nbsp;returned&nbsp;when&nbsp;reading&nbsp;GZIP&nbsp;data&nbsp;that&nbsp;has&nbsp;an&nbsp;invalid&nbsp;checksum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4538248">ErrChecksum</span>&nbsp;<span class="op" id="4538260">=</span>&nbsp;<span class="ident" id="4538262"><a href="/compress/gzip/gunzip.go.html#4537808">errors</a></span><span class="op" id="4538268">.</span><span class="ident" id="4538269">New</span><span class="op" id="4538272">(</span><span class="string" id="4538273">&#34;gzip:&nbsp;invalid&nbsp;checksum&#34;</span><span class="op" id="4538297">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4538300">//&nbsp;ErrHeader&nbsp;is&nbsp;returned&nbsp;when&nbsp;reading&nbsp;GZIP&nbsp;data&nbsp;that&nbsp;has&nbsp;an&nbsp;invalid&nbsp;header.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4538377">ErrHeader</span>&nbsp;<span class="op" id="4538387">=</span>&nbsp;<span class="ident" id="4538389"><a href="/compress/gzip/gunzip.go.html#4537808">errors</a></span><span class="op" id="4538395">.</span><span class="ident" id="4538396">New</span><span class="op" id="4538399">(</span><span class="string" id="4538400">&#34;gzip:&nbsp;invalid&nbsp;header&#34;</span><span class="op" id="4538422">)</span><br>
<span class="lineno"></span><span class="op" id="4538424">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4538427">//&nbsp;The&nbsp;gzip&nbsp;file&nbsp;stores&nbsp;a&nbsp;header&nbsp;giving&nbsp;metadata&nbsp;about&nbsp;the&nbsp;compressed&nbsp;file.</span><br>
<span class="lineno">45</span><span class="comment" id="4538503">//&nbsp;That&nbsp;header&nbsp;is&nbsp;exposed&nbsp;as&nbsp;the&nbsp;fields&nbsp;of&nbsp;the&nbsp;Writer&nbsp;and&nbsp;Reader&nbsp;structs.</span><br>
<span class="lineno"></span><span class="keyword" id="4538577">type</span>&nbsp;<span class="ident" id="4538582">Header</span>&nbsp;<span class="keyword" id="4538589">struct</span>&nbsp;<span class="op" id="4538596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4538599">Comment</span>&nbsp;<span class="builtintype" id="4538607">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4538617">//&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4538629">Extra</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4538637">[</span><span class="op" id="4538638">]</span><span class="builtintype" id="4538639">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4538647">//&nbsp;&#34;extra&nbsp;data&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4538664">ModTime</span>&nbsp;<span class="ident" id="4538672"><a href="/compress/gzip/gunzip.go.html#4537846">time</a></span><span class="op" id="4538676">.</span><span class="ident" id="4538677">Time</span>&nbsp;<span class="comment" id="4538682">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4538704">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4538712">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4538722">//&nbsp;file&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4538736">OS</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4538744">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4538754">//&nbsp;operating&nbsp;system&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="4538779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4538782">//&nbsp;A&nbsp;Reader&nbsp;is&nbsp;an&nbsp;io.Reader&nbsp;that&nbsp;can&nbsp;be&nbsp;read&nbsp;to&nbsp;retrieve</span><br>
<span class="lineno">55</span><span class="comment" id="4538839">//&nbsp;uncompressed&nbsp;data&nbsp;from&nbsp;a&nbsp;gzip-format&nbsp;compressed&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="4538896">//</span><br>
<span class="lineno"></span><span class="comment" id="4538899">//&nbsp;In&nbsp;general,&nbsp;a&nbsp;gzip&nbsp;file&nbsp;can&nbsp;be&nbsp;a&nbsp;concatenation&nbsp;of&nbsp;gzip&nbsp;files,</span><br>
<span class="lineno"></span><span class="comment" id="4538964">//&nbsp;each&nbsp;with&nbsp;its&nbsp;own&nbsp;header.&nbsp;&nbsp;Reads&nbsp;from&nbsp;the&nbsp;Reader</span><br>
<span class="lineno"></span><span class="comment" id="4539016">//&nbsp;return&nbsp;the&nbsp;concatenation&nbsp;of&nbsp;the&nbsp;uncompressed&nbsp;data&nbsp;of&nbsp;each.</span><br>
<span class="lineno">60</span><span class="comment" id="4539078">//&nbsp;Only&nbsp;the&nbsp;first&nbsp;header&nbsp;is&nbsp;recorded&nbsp;in&nbsp;the&nbsp;Reader&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="4539137">//</span><br>
<span class="lineno"></span><span class="comment" id="4539140">//&nbsp;Gzip&nbsp;files&nbsp;store&nbsp;a&nbsp;length&nbsp;and&nbsp;checksum&nbsp;of&nbsp;the&nbsp;uncompressed&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="4539208">//&nbsp;The&nbsp;Reader&nbsp;will&nbsp;return&nbsp;a&nbsp;ErrChecksum&nbsp;when&nbsp;Read</span><br>
<span class="lineno"></span><span class="comment" id="4539258">//&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;uncompressed&nbsp;data&nbsp;if&nbsp;it&nbsp;does&nbsp;not</span><br>
<span class="lineno">65</span><span class="comment" id="4539317">//&nbsp;have&nbsp;the&nbsp;expected&nbsp;length&nbsp;or&nbsp;checksum.&nbsp;&nbsp;Clients&nbsp;should&nbsp;treat&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="4539385">//&nbsp;returned&nbsp;by&nbsp;Read&nbsp;as&nbsp;tentative&nbsp;until&nbsp;they&nbsp;receive&nbsp;the&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="comment" id="4539448">//&nbsp;marking&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span><span class="keyword" id="4539480">type</span>&nbsp;<span class="ident" id="4539485">Reader</span>&nbsp;<span class="keyword" id="4539492">struct</span>&nbsp;<span class="op" id="4539499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539502"><a href="/compress/gzip/gunzip.go.html#4538582">Header</a></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539510">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4539523"><a href="/compress/gzip/gunzip.go.html#4537790">flate</a></span><span class="op" id="4539528">.</span><span class="ident" id="4539529">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539537">decompressor</span>&nbsp;<span class="ident" id="4539550"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4539552">.</span><span class="ident" id="4539553">ReadCloser</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539565">digest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4539578"><a href="/compress/gzip/gunzip.go.html#4537818">hash</a></span><span class="op" id="4539582">.</span><span class="ident" id="4539583">Hash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539591">size</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4539604">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539612">flg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4539625">byte</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539631">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4539644">[</span><span class="num" id="4539645">512</span><span class="op" id="4539648">]</span><span class="builtintype" id="4539649">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539655">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4539668">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539675">multistream</span>&nbsp;&nbsp;<span class="builtintype" id="4539688">bool</span><br>
<span class="lineno"></span><span class="op" id="4539693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="4539696">//&nbsp;NewReader&nbsp;creates&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;the&nbsp;given&nbsp;reader.</span><br>
<span class="lineno"></span><span class="comment" id="4539756">//&nbsp;If&nbsp;r&nbsp;does&nbsp;not&nbsp;also&nbsp;implement&nbsp;io.ByteReader,</span><br>
<span class="lineno"></span><span class="comment" id="4539803">//&nbsp;the&nbsp;decompressor&nbsp;may&nbsp;read&nbsp;more&nbsp;data&nbsp;than&nbsp;necessary&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="4539865">//&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility&nbsp;to&nbsp;call&nbsp;Close&nbsp;on&nbsp;the&nbsp;Reader&nbsp;when&nbsp;done.</span><br>
<span class="lineno"></span><span class="keyword" id="4539941">func</span>&nbsp;<span class="ident" id="4539946">NewReader</span><span class="op" id="4539955">(</span><span class="ident" id="4539956">r</span>&nbsp;<span class="ident" id="4539958"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4539960">.</span><span class="ident" id="4539961">Reader</span><span class="op" id="4539967">)</span>&nbsp;<span class="op" id="4539969">(</span><span class="op" id="4539970">*</span><span class="ident" id="4539971"><a href="/compress/gzip/gunzip.go.html#4539485">Reader</a></span><span class="op" id="4539977">,</span>&nbsp;<span class="builtintype" id="4539979">error</span><span class="op" id="4539984">)</span>&nbsp;<span class="op" id="4539986">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4539989">z</span>&nbsp;<span class="op" id="4539991">:=</span>&nbsp;<span class="builtinfunc" id="4539994">new</span><span class="op" id="4539997">(</span><span class="ident" id="4539998"><a href="/compress/gzip/gunzip.go.html#4539485">Reader</a></span><span class="op" id="4540004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4540007"><a href="/compress/gzip/gunzip.go.html#4539989">z</a></span><span class="op" id="4540008">.</span><span class="ident" id="4540009">r</span>&nbsp;<span class="op" id="4540011">=</span>&nbsp;<span class="ident" id="4540013"><a href="/compress/gzip/gunzip.go.html#4538039">makeReader</a></span><span class="op" id="4540023">(</span><span class="ident" id="4540024"><a href="/compress/gzip/gunzip.go.html#4539956">r</a></span><span class="op" id="4540025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4540028"><a href="/compress/gzip/gunzip.go.html#4539989">z</a></span><span class="op" id="4540029">.</span><span class="ident" id="4540030">multistream</span>&nbsp;<span class="op" id="4540042">=</span>&nbsp;<span class="ident" id="4540044">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4540050"><a href="/compress/gzip/gunzip.go.html#4539989">z</a></span><span class="op" id="4540051">.</span><span class="ident" id="4540052">digest</span>&nbsp;<span class="op" id="4540059">=</span>&nbsp;<span class="ident" id="4540061"><a href="/compress/gzip/gunzip.go.html#4537826">crc32</a></span><span class="op" id="4540066">.</span><span class="ident" id="4540067">NewIEEE</span><span class="op" id="4540074">(</span><span class="op" id="4540075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4540078">if</span>&nbsp;<span class="ident" id="4540081">err</span>&nbsp;<span class="op" id="4540085">:=</span>&nbsp;<span class="ident" id="4540088"><a href="/compress/gzip/gunzip.go.html#4539989">z</a></span><span class="op" id="4540089">.</span><span class="ident" id="4540090">readHeader</span><span class="op" id="4540100">(</span><span class="ident" id="4540101">true</span><span class="op" id="4540105">)</span><span class="op" id="4540106">;</span>&nbsp;<span class="ident" id="4540108"><a href="/compress/gzip/gunzip.go.html#4540081">err</a></span>&nbsp;<span class="op" id="4540112">!=</span>&nbsp;<span class="ident" id="4540115">nil</span>&nbsp;<span class="op" id="4540119">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4540123">return</span>&nbsp;<span class="ident" id="4540130">nil</span><span class="op" id="4540133">,</span>&nbsp;<span class="ident" id="4540135"><a href="/compress/gzip/gunzip.go.html#4540081">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4540140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4540143">return</span>&nbsp;<span class="ident" id="4540150"><a href="/compress/gzip/gunzip.go.html#4539989">z</a></span><span class="op" id="4540151">,</span>&nbsp;<span class="ident" id="4540153">nil</span><br>
<span class="lineno"></span><span class="op" id="4540157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4540160">//&nbsp;Reset&nbsp;discards&nbsp;the&nbsp;Reader&nbsp;z&#39;s&nbsp;state&nbsp;and&nbsp;makes&nbsp;it&nbsp;equivalent&nbsp;to&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4540230">//&nbsp;result&nbsp;of&nbsp;its&nbsp;original&nbsp;state&nbsp;from&nbsp;NewReader,&nbsp;but&nbsp;reading&nbsp;from&nbsp;r&nbsp;instead.</span><br>
<span class="lineno"></span><span class="comment" id="4540306">//&nbsp;This&nbsp;permits&nbsp;reusing&nbsp;a&nbsp;Reader&nbsp;rather&nbsp;than&nbsp;allocating&nbsp;a&nbsp;new&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="4540373">func</span>&nbsp;<span class="op" id="4540378">(</span><span class="ident" id="4540379">z</span>&nbsp;<span class="op" id="4540381">*</span><span class="ident" id="4540382"><a href="/compress/gzip/gunzip.go.html#4539485">Reader</a></span><span class="op" id="4540388">)</span>&nbsp;<span class="ident" id="4540390">Reset</span><span class="op" id="4540395">(</span><span class="ident" id="4540396">r</span>&nbsp;<span class="ident" id="4540398"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4540400">.</span><span class="ident" id="4540401">Reader</span><span class="op" id="4540407">)</span>&nbsp;<span class="builtintype" id="4540409">error</span>&nbsp;<span class="op" id="4540415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4540418"><a href="/compress/gzip/gunzip.go.html#4540379">z</a></span><span class="op" id="4540419">.</span><span class="ident" id="4540420">r</span>&nbsp;<span class="op" id="4540422">=</span>&nbsp;<span class="ident" id="4540424"><a href="/compress/gzip/gunzip.go.html#4538039">makeReader</a></span><span class="op" id="4540434">(</span><span class="ident" id="4540435"><a href="/compress/gzip/gunzip.go.html#4540396">r</a></span><span class="op" id="4540436">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4540439">if</span>&nbsp;<span class="ident" id="4540442"><a href="/compress/gzip/gunzip.go.html#4540379">z</a></span><span class="op" id="4540443">.</span><span class="ident" id="4540444">digest</span>&nbsp;<span class="op" id="4540451">==</span>&nbsp;<span class="ident" id="4540454">nil</span>&nbsp;<span class="op" id="4540458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4540462"><a href="/compress/gzip/gunzip.go.html#4540379">z</a></span><span class="op" id="4540463">.</span><span class="ident" id="4540464">digest</span>&nbsp;<span class="op" id="4540471">=</span>&nbsp;<span class="ident" id="4540473"><a href="/compress/gzip/gunzip.go.html#4537826">crc32</a></span><span class="op" id="4540478">.</span><span class="ident" id="4540479">NewIEEE</span><span class="op" id="4540486">(</span><span class="op" id="4540487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4540490">}</span>&nbsp;<span class="keyword" id="4540492">else</span>&nbsp;<span class="op" id="4540497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4540501"><a href="/compress/gzip/gunzip.go.html#4540379">z</a></span><span class="op" id="4540502">.</span><span class="ident" id="4540503">digest</span><span class="op" id="4540509">.</span><span class="ident" id="4540510">Reset</span><span class="op" id="4540515">(</span><span class="op" id="4540516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4540519">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4540522"><a href="/compress/gzip/gunzip.go.html#4540379">z</a></span><span class="op" id="4540523">.</span><span class="ident" id="4540524">size</span>&nbsp;<span class="op" id="4540529">=</span>&nbsp;<span class="num" id="4540531">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4540534"><a href="/compress/gzip/gunzip.go.html#4540379">z</a></span><span class="op" id="4540535">.</span><span class="ident" id="4540536">err</span>&nbsp;<span class="op" id="4540540">=</span>&nbsp;<span class="ident" id="4540542">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4540547"><a href="/compress/gzip/gunzip.go.html#4540379">z</a></span><span class="op" id="4540548">.</span><span class="ident" id="4540549">multistream</span>&nbsp;<span class="op" id="4540561">=</span>&nbsp;<span class="ident" id="4540563">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4540569">return</span>&nbsp;<span class="ident" id="4540576"><a href="/compress/gzip/gunzip.go.html#4540379">z</a></span><span class="op" id="4540577">.</span><span class="ident" id="4540578">readHeader</span><span class="op" id="4540588">(</span><span class="ident" id="4540589">true</span><span class="op" id="4540593">)</span><br>
<span class="lineno"></span><span class="op" id="4540595">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4540598">//&nbsp;Multistream&nbsp;controls&nbsp;whether&nbsp;the&nbsp;reader&nbsp;supports&nbsp;multistream&nbsp;files.</span><br>
<span class="lineno"></span><span class="comment" id="4540669">//</span><br>
<span class="lineno"></span><span class="comment" id="4540672">//&nbsp;If&nbsp;enabled&nbsp;(the&nbsp;default),&nbsp;the&nbsp;Reader&nbsp;expects&nbsp;the&nbsp;input&nbsp;to&nbsp;be&nbsp;a&nbsp;sequence</span><br>
<span class="lineno"></span><span class="comment" id="4540747">//&nbsp;of&nbsp;individually&nbsp;gzipped&nbsp;data&nbsp;streams,&nbsp;each&nbsp;with&nbsp;its&nbsp;own&nbsp;header&nbsp;and</span><br>
<span class="lineno">115</span><span class="comment" id="4540817">//&nbsp;trailer,&nbsp;ending&nbsp;at&nbsp;EOF.&nbsp;The&nbsp;effect&nbsp;is&nbsp;that&nbsp;the&nbsp;concatenation&nbsp;of&nbsp;a&nbsp;sequence</span><br>
<span class="lineno"></span><span class="comment" id="4540895">//&nbsp;of&nbsp;gzipped&nbsp;files&nbsp;is&nbsp;treated&nbsp;as&nbsp;equivalent&nbsp;to&nbsp;the&nbsp;gzip&nbsp;of&nbsp;the&nbsp;concatenation</span><br>
<span class="lineno"></span><span class="comment" id="4540973">//&nbsp;of&nbsp;the&nbsp;sequence.&nbsp;This&nbsp;is&nbsp;standard&nbsp;behavior&nbsp;for&nbsp;gzip&nbsp;readers.</span><br>
<span class="lineno"></span><span class="comment" id="4541037">//</span><br>
<span class="lineno"></span><span class="comment" id="4541040">//&nbsp;Calling&nbsp;Multistream(false)&nbsp;disables&nbsp;this&nbsp;behavior;&nbsp;disabling&nbsp;the&nbsp;behavior</span><br>
<span class="lineno">120</span><span class="comment" id="4541117">//&nbsp;can&nbsp;be&nbsp;useful&nbsp;when&nbsp;reading&nbsp;file&nbsp;formats&nbsp;that&nbsp;distinguish&nbsp;individual&nbsp;gzip</span><br>
<span class="lineno"></span><span class="comment" id="4541193">//&nbsp;data&nbsp;streams&nbsp;or&nbsp;mix&nbsp;gzip&nbsp;data&nbsp;streams&nbsp;with&nbsp;other&nbsp;data&nbsp;streams.</span><br>
<span class="lineno"></span><span class="comment" id="4541259">//&nbsp;In&nbsp;this&nbsp;mode,&nbsp;when&nbsp;the&nbsp;Reader&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;data&nbsp;stream,</span><br>
<span class="lineno"></span><span class="comment" id="4541328">//&nbsp;Read&nbsp;returns&nbsp;io.EOF.&nbsp;If&nbsp;the&nbsp;underlying&nbsp;reader&nbsp;implements&nbsp;io.ByteReader,</span><br>
<span class="lineno"></span><span class="comment" id="4541403">//&nbsp;it&nbsp;will&nbsp;be&nbsp;left&nbsp;positioned&nbsp;just&nbsp;after&nbsp;the&nbsp;gzip&nbsp;stream.</span><br>
<span class="lineno">125</span><span class="comment" id="4541461">//&nbsp;To&nbsp;start&nbsp;the&nbsp;next&nbsp;stream,&nbsp;call&nbsp;z.Reset(r)&nbsp;followed&nbsp;by&nbsp;z.Multistream(false).</span><br>
<span class="lineno"></span><span class="comment" id="4541540">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;next&nbsp;stream,&nbsp;z.Reset(r)&nbsp;will&nbsp;return&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="4541602">func</span>&nbsp;<span class="op" id="4541607">(</span><span class="ident" id="4541608">z</span>&nbsp;<span class="op" id="4541610">*</span><span class="ident" id="4541611"><a href="/compress/gzip/gunzip.go.html#4539485">Reader</a></span><span class="op" id="4541617">)</span>&nbsp;<span class="ident" id="4541619">Multistream</span><span class="op" id="4541630">(</span><span class="ident" id="4541631">ok</span>&nbsp;<span class="builtintype" id="4541634">bool</span><span class="op" id="4541638">)</span>&nbsp;<span class="op" id="4541640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4541643"><a href="/compress/gzip/gunzip.go.html#4541608">z</a></span><span class="op" id="4541644">.</span><span class="ident" id="4541645">multistream</span>&nbsp;<span class="op" id="4541657">=</span>&nbsp;<span class="ident" id="4541659"><a href="/compress/gzip/gunzip.go.html#4541631">ok</a></span><br>
<span class="lineno"></span><span class="op" id="4541662">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="4541665">//&nbsp;GZIP&nbsp;(RFC&nbsp;1952)&nbsp;is&nbsp;little-endian,&nbsp;unlike&nbsp;ZLIB&nbsp;(RFC&nbsp;1950).</span><br>
<span class="lineno"></span><span class="keyword" id="4541726">func</span>&nbsp;<span class="ident" id="4541731">get4</span><span class="op" id="4541735">(</span><span class="ident" id="4541736">p</span>&nbsp;<span class="op" id="4541738">[</span><span class="op" id="4541739">]</span><span class="builtintype" id="4541740">byte</span><span class="op" id="4541744">)</span>&nbsp;<span class="builtintype" id="4541746">uint32</span>&nbsp;<span class="op" id="4541753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4541756">return</span>&nbsp;<span class="builtintype" id="4541763">uint32</span><span class="op" id="4541769">(</span><span class="ident" id="4541770"><a href="/compress/gzip/gunzip.go.html#4541736">p</a></span><span class="op" id="4541771">[</span><span class="num" id="4541772">0</span><span class="op" id="4541773">]</span><span class="op" id="4541774">)</span>&nbsp;<span class="op" id="4541776">|</span>&nbsp;<span class="builtintype" id="4541778">uint32</span><span class="op" id="4541784">(</span><span class="ident" id="4541785"><a href="/compress/gzip/gunzip.go.html#4541736">p</a></span><span class="op" id="4541786">[</span><span class="num" id="4541787">1</span><span class="op" id="4541788">]</span><span class="op" id="4541789">)</span><span class="op" id="4541790">&lt;&lt;</span><span class="num" id="4541792">8</span>&nbsp;<span class="op" id="4541794">|</span>&nbsp;<span class="builtintype" id="4541796">uint32</span><span class="op" id="4541802">(</span><span class="ident" id="4541803"><a href="/compress/gzip/gunzip.go.html#4541736">p</a></span><span class="op" id="4541804">[</span><span class="num" id="4541805">2</span><span class="op" id="4541806">]</span><span class="op" id="4541807">)</span><span class="op" id="4541808">&lt;&lt;</span><span class="num" id="4541810">16</span>&nbsp;<span class="op" id="4541813">|</span>&nbsp;<span class="builtintype" id="4541815">uint32</span><span class="op" id="4541821">(</span><span class="ident" id="4541822"><a href="/compress/gzip/gunzip.go.html#4541736">p</a></span><span class="op" id="4541823">[</span><span class="num" id="4541824">3</span><span class="op" id="4541825">]</span><span class="op" id="4541826">)</span><span class="op" id="4541827">&lt;&lt;</span><span class="num" id="4541829">24</span><br>
<span class="lineno"></span><span class="op" id="4541832">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="4541835">func</span>&nbsp;<span class="op" id="4541840">(</span><span class="ident" id="4541841">z</span>&nbsp;<span class="op" id="4541843">*</span><span class="ident" id="4541844"><a href="/compress/gzip/gunzip.go.html#4539485">Reader</a></span><span class="op" id="4541850">)</span>&nbsp;<span class="ident" id="4541852">readString</span><span class="op" id="4541862">(</span><span class="op" id="4541863">)</span>&nbsp;<span class="op" id="4541865">(</span><span class="builtintype" id="4541866">string</span><span class="op" id="4541872">,</span>&nbsp;<span class="builtintype" id="4541874">error</span><span class="op" id="4541879">)</span>&nbsp;<span class="op" id="4541881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4541884">var</span>&nbsp;<span class="ident" id="4541888">err</span>&nbsp;<span class="builtintype" id="4541892">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4541899">needconv</span>&nbsp;<span class="op" id="4541908">:=</span>&nbsp;<span class="ident" id="4541911">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4541918">for</span>&nbsp;<span class="ident" id="4541922">i</span>&nbsp;<span class="op" id="4541924">:=</span>&nbsp;<span class="num" id="4541927">0</span><span class="op" id="4541928">;</span>&nbsp;<span class="op" id="4541930">;</span>&nbsp;<span class="ident" id="4541932"><a href="/compress/gzip/gunzip.go.html#4541922">i</a></span><span class="op" id="4541933">++</span>&nbsp;<span class="op" id="4541936">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4541940">if</span>&nbsp;<span class="ident" id="4541943"><a href="/compress/gzip/gunzip.go.html#4541922">i</a></span>&nbsp;<span class="op" id="4541945">&gt;=</span>&nbsp;<span class="builtinfunc" id="4541948">len</span><span class="op" id="4541951">(</span><span class="ident" id="4541952"><a href="/compress/gzip/gunzip.go.html#4541841">z</a></span><span class="op" id="4541953">.</span><span class="ident" id="4541954">buf</span><span class="op" id="4541957">)</span>&nbsp;<span class="op" id="4541959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4541964">return</span>&nbsp;<span class="string" id="4541971">&#34;&#34;</span><span class="op" id="4541973">,</span>&nbsp;<span class="ident" id="4541975"><a href="/compress/gzip/gunzip.go.html#4538377">ErrHeader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4541987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4541991"><a href="/compress/gzip/gunzip.go.html#4541841">z</a></span><span class="op" id="4541992">.</span><span class="ident" id="4541993">buf</span><span class="op" id="4541996">[</span><span class="ident" id="4541997"><a href="/compress/gzip/gunzip.go.html#4541922">i</a></span><span class="op" id="4541998">]</span><span class="op" id="4541999">,</span>&nbsp;<span class="ident" id="4542001"><a href="/compress/gzip/gunzip.go.html#4541888">err</a></span>&nbsp;<span class="op" id="4542005">=</span>&nbsp;<span class="ident" id="4542007"><a href="/compress/gzip/gunzip.go.html#4541841">z</a></span><span class="op" id="4542008">.</span><span class="ident" id="4542009">r</span><span class="op" id="4542010">.</span><span class="ident" id="4542011">ReadByte</span><span class="op" id="4542019">(</span><span class="op" id="4542020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542024">if</span>&nbsp;<span class="ident" id="4542027"><a href="/compress/gzip/gunzip.go.html#4541888">err</a></span>&nbsp;<span class="op" id="4542031">!=</span>&nbsp;<span class="ident" id="4542034">nil</span>&nbsp;<span class="op" id="4542038">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542043">return</span>&nbsp;<span class="string" id="4542050">&#34;&#34;</span><span class="op" id="4542052">,</span>&nbsp;<span class="ident" id="4542054"><a href="/compress/gzip/gunzip.go.html#4541888">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542064">if</span>&nbsp;<span class="ident" id="4542067"><a href="/compress/gzip/gunzip.go.html#4541841">z</a></span><span class="op" id="4542068">.</span><span class="ident" id="4542069">buf</span><span class="op" id="4542072">[</span><span class="ident" id="4542073"><a href="/compress/gzip/gunzip.go.html#4541922">i</a></span><span class="op" id="4542074">]</span>&nbsp;<span class="op" id="4542076">&gt;</span>&nbsp;<span class="num" id="4542078">0x7f</span>&nbsp;<span class="op" id="4542083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542088"><a href="/compress/gzip/gunzip.go.html#4541899">needconv</a></span>&nbsp;<span class="op" id="4542097">=</span>&nbsp;<span class="ident" id="4542099">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542106">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542110">if</span>&nbsp;<span class="ident" id="4542113"><a href="/compress/gzip/gunzip.go.html#4541841">z</a></span><span class="op" id="4542114">.</span><span class="ident" id="4542115">buf</span><span class="op" id="4542118">[</span><span class="ident" id="4542119"><a href="/compress/gzip/gunzip.go.html#4541922">i</a></span><span class="op" id="4542120">]</span>&nbsp;<span class="op" id="4542122">==</span>&nbsp;<span class="num" id="4542125">0</span>&nbsp;<span class="op" id="4542127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4542132">//&nbsp;GZIP&nbsp;(RFC&nbsp;1952)&nbsp;specifies&nbsp;that&nbsp;strings&nbsp;are&nbsp;NUL-terminated&nbsp;ISO&nbsp;8859-1&nbsp;(Latin-1).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542218">if</span>&nbsp;<span class="ident" id="4542221"><a href="/compress/gzip/gunzip.go.html#4541899">needconv</a></span>&nbsp;<span class="op" id="4542230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542236">s</span>&nbsp;<span class="op" id="4542238">:=</span>&nbsp;<span class="builtinfunc" id="4542241">make</span><span class="op" id="4542245">(</span><span class="op" id="4542246">[</span><span class="op" id="4542247">]</span><span class="builtintype" id="4542248">rune</span><span class="op" id="4542252">,</span>&nbsp;<span class="num" id="4542254">0</span><span class="op" id="4542255">,</span>&nbsp;<span class="ident" id="4542257"><a href="/compress/gzip/gunzip.go.html#4541922">i</a></span><span class="op" id="4542258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542264">for</span>&nbsp;<span class="ident" id="4542268">_</span><span class="op" id="4542269">,</span>&nbsp;<span class="ident" id="4542271">v</span>&nbsp;<span class="op" id="4542273">:=</span>&nbsp;<span class="keyword" id="4542276">range</span>&nbsp;<span class="ident" id="4542282"><a href="/compress/gzip/gunzip.go.html#4541841">z</a></span><span class="op" id="4542283">.</span><span class="ident" id="4542284">buf</span><span class="op" id="4542287">[</span><span class="num" id="4542288">0</span><span class="op" id="4542289">:</span><span class="ident" id="4542290"><a href="/compress/gzip/gunzip.go.html#4541922">i</a></span><span class="op" id="4542291">]</span>&nbsp;<span class="op" id="4542293">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542300"><a href="/compress/gzip/gunzip.go.html#4542236">s</a></span>&nbsp;<span class="op" id="4542302">=</span>&nbsp;<span class="builtinfunc" id="4542304">append</span><span class="op" id="4542310">(</span><span class="ident" id="4542311"><a href="/compress/gzip/gunzip.go.html#4542236">s</a></span><span class="op" id="4542312">,</span>&nbsp;<span class="builtintype" id="4542314">rune</span><span class="op" id="4542318">(</span><span class="ident" id="4542319"><a href="/compress/gzip/gunzip.go.html#4542271">v</a></span><span class="op" id="4542320">)</span><span class="op" id="4542321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542333">return</span>&nbsp;<span class="builtintype" id="4542340">string</span><span class="op" id="4542346">(</span><span class="ident" id="4542347"><a href="/compress/gzip/gunzip.go.html#4542236">s</a></span><span class="op" id="4542348">)</span><span class="op" id="4542349">,</span>&nbsp;<span class="ident" id="4542351">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542363">return</span>&nbsp;<span class="builtintype" id="4542370">string</span><span class="op" id="4542376">(</span><span class="ident" id="4542377"><a href="/compress/gzip/gunzip.go.html#4541841">z</a></span><span class="op" id="4542378">.</span><span class="ident" id="4542379">buf</span><span class="op" id="4542382">[</span><span class="num" id="4542383">0</span><span class="op" id="4542384">:</span><span class="ident" id="4542385"><a href="/compress/gzip/gunzip.go.html#4541922">i</a></span><span class="op" id="4542386">]</span><span class="op" id="4542387">)</span><span class="op" id="4542388">,</span>&nbsp;<span class="ident" id="4542390">nil</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542399">}</span><br>
<span class="lineno"></span><span class="op" id="4542401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4542404">func</span>&nbsp;<span class="op" id="4542409">(</span><span class="ident" id="4542410">z</span>&nbsp;<span class="op" id="4542412">*</span><span class="ident" id="4542413"><a href="/compress/gzip/gunzip.go.html#4539485">Reader</a></span><span class="op" id="4542419">)</span>&nbsp;<span class="ident" id="4542421">read2</span><span class="op" id="4542426">(</span><span class="op" id="4542427">)</span>&nbsp;<span class="op" id="4542429">(</span><span class="builtintype" id="4542430">uint32</span><span class="op" id="4542436">,</span>&nbsp;<span class="builtintype" id="4542438">error</span><span class="op" id="4542443">)</span>&nbsp;<span class="op" id="4542445">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542448">_</span><span class="op" id="4542449">,</span>&nbsp;<span class="ident" id="4542451">err</span>&nbsp;<span class="op" id="4542455">:=</span>&nbsp;<span class="ident" id="4542458"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4542460">.</span><span class="ident" id="4542461">ReadFull</span><span class="op" id="4542469">(</span><span class="ident" id="4542470"><a href="/compress/gzip/gunzip.go.html#4542410">z</a></span><span class="op" id="4542471">.</span><span class="ident" id="4542472">r</span><span class="op" id="4542473">,</span>&nbsp;<span class="ident" id="4542475"><a href="/compress/gzip/gunzip.go.html#4542410">z</a></span><span class="op" id="4542476">.</span><span class="ident" id="4542477">buf</span><span class="op" id="4542480">[</span><span class="num" id="4542481">0</span><span class="op" id="4542482">:</span><span class="num" id="4542483">2</span><span class="op" id="4542484">]</span><span class="op" id="4542485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542488">if</span>&nbsp;<span class="ident" id="4542491"><a href="/compress/gzip/gunzip.go.html#4542451">err</a></span>&nbsp;<span class="op" id="4542495">!=</span>&nbsp;<span class="ident" id="4542498">nil</span>&nbsp;<span class="op" id="4542502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542506">return</span>&nbsp;<span class="num" id="4542513">0</span><span class="op" id="4542514">,</span>&nbsp;<span class="ident" id="4542516"><a href="/compress/gzip/gunzip.go.html#4542451">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542524">return</span>&nbsp;<span class="builtintype" id="4542531">uint32</span><span class="op" id="4542537">(</span><span class="ident" id="4542538"><a href="/compress/gzip/gunzip.go.html#4542410">z</a></span><span class="op" id="4542539">.</span><span class="ident" id="4542540">buf</span><span class="op" id="4542543">[</span><span class="num" id="4542544">0</span><span class="op" id="4542545">]</span><span class="op" id="4542546">)</span>&nbsp;<span class="op" id="4542548">|</span>&nbsp;<span class="builtintype" id="4542550">uint32</span><span class="op" id="4542556">(</span><span class="ident" id="4542557"><a href="/compress/gzip/gunzip.go.html#4542410">z</a></span><span class="op" id="4542558">.</span><span class="ident" id="4542559">buf</span><span class="op" id="4542562">[</span><span class="num" id="4542563">1</span><span class="op" id="4542564">]</span><span class="op" id="4542565">)</span><span class="op" id="4542566">&lt;&lt;</span><span class="num" id="4542568">8</span><span class="op" id="4542569">,</span>&nbsp;<span class="ident" id="4542571">nil</span><br>
<span class="lineno">170</span><span class="op" id="4542575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4542578">func</span>&nbsp;<span class="op" id="4542583">(</span><span class="ident" id="4542584">z</span>&nbsp;<span class="op" id="4542586">*</span><span class="ident" id="4542587"><a href="/compress/gzip/gunzip.go.html#4539485">Reader</a></span><span class="op" id="4542593">)</span>&nbsp;<span class="ident" id="4542595">readHeader</span><span class="op" id="4542605">(</span><span class="ident" id="4542606">save</span>&nbsp;<span class="builtintype" id="4542611">bool</span><span class="op" id="4542615">)</span>&nbsp;<span class="builtintype" id="4542617">error</span>&nbsp;<span class="op" id="4542623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542626">_</span><span class="op" id="4542627">,</span>&nbsp;<span class="ident" id="4542629">err</span>&nbsp;<span class="op" id="4542633">:=</span>&nbsp;<span class="ident" id="4542636"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4542638">.</span><span class="ident" id="4542639">ReadFull</span><span class="op" id="4542647">(</span><span class="ident" id="4542648"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542649">.</span><span class="ident" id="4542650">r</span><span class="op" id="4542651">,</span>&nbsp;<span class="ident" id="4542653"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542654">.</span><span class="ident" id="4542655">buf</span><span class="op" id="4542658">[</span><span class="num" id="4542659">0</span><span class="op" id="4542660">:</span><span class="num" id="4542661">10</span><span class="op" id="4542663">]</span><span class="op" id="4542664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542667">if</span>&nbsp;<span class="ident" id="4542670"><a href="/compress/gzip/gunzip.go.html#4542629">err</a></span>&nbsp;<span class="op" id="4542674">!=</span>&nbsp;<span class="ident" id="4542677">nil</span>&nbsp;<span class="op" id="4542681">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542685">return</span>&nbsp;<span class="ident" id="4542692"><a href="/compress/gzip/gunzip.go.html#4542629">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542700">if</span>&nbsp;<span class="ident" id="4542703"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542704">.</span><span class="ident" id="4542705">buf</span><span class="op" id="4542708">[</span><span class="num" id="4542709">0</span><span class="op" id="4542710">]</span>&nbsp;<span class="op" id="4542712">!=</span>&nbsp;<span class="ident" id="4542715"><a href="/compress/gzip/gunzip.go.html#4537865">gzipID1</a></span>&nbsp;<span class="op" id="4542723">||</span>&nbsp;<span class="ident" id="4542726"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542727">.</span><span class="ident" id="4542728">buf</span><span class="op" id="4542731">[</span><span class="num" id="4542732">1</span><span class="op" id="4542733">]</span>&nbsp;<span class="op" id="4542735">!=</span>&nbsp;<span class="ident" id="4542738"><a href="/compress/gzip/gunzip.go.html#4537885">gzipID2</a></span>&nbsp;<span class="op" id="4542746">||</span>&nbsp;<span class="ident" id="4542749"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542750">.</span><span class="ident" id="4542751">buf</span><span class="op" id="4542754">[</span><span class="num" id="4542755">2</span><span class="op" id="4542756">]</span>&nbsp;<span class="op" id="4542758">!=</span>&nbsp;<span class="ident" id="4542761"><a href="/compress/gzip/gunzip.go.html#4537905">gzipDeflate</a></span>&nbsp;<span class="op" id="4542773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542777">return</span>&nbsp;<span class="ident" id="4542784"><a href="/compress/gzip/gunzip.go.html#4538377">ErrHeader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542795">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542798"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542799">.</span><span class="ident" id="4542800">flg</span>&nbsp;<span class="op" id="4542804">=</span>&nbsp;<span class="ident" id="4542806"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542807">.</span><span class="ident" id="4542808">buf</span><span class="op" id="4542811">[</span><span class="num" id="4542812">3</span><span class="op" id="4542813">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542816">if</span>&nbsp;<span class="ident" id="4542819"><a href="/compress/gzip/gunzip.go.html#4542606">save</a></span>&nbsp;<span class="op" id="4542824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542828"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542829">.</span><span class="ident" id="4542830">ModTime</span>&nbsp;<span class="op" id="4542838">=</span>&nbsp;<span class="ident" id="4542840"><a href="/compress/gzip/gunzip.go.html#4537846">time</a></span><span class="op" id="4542844">.</span><span class="ident" id="4542845">Unix</span><span class="op" id="4542849">(</span><span class="ident" id="4542850">int64</span><span class="op" id="4542855">(</span><span class="ident" id="4542856"><a href="/compress/gzip/gunzip.go.html#4541731">get4</a></span><span class="op" id="4542860">(</span><span class="ident" id="4542861"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542862">.</span><span class="ident" id="4542863">buf</span><span class="op" id="4542866">[</span><span class="num" id="4542867">4</span><span class="op" id="4542868">:</span><span class="num" id="4542869">8</span><span class="op" id="4542870">]</span><span class="op" id="4542871">)</span><span class="op" id="4542872">)</span><span class="op" id="4542873">,</span>&nbsp;<span class="num" id="4542875">0</span><span class="op" id="4542876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4542880">//&nbsp;z.buf[8]&nbsp;is&nbsp;xfl,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542910"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542911">.</span><span class="ident" id="4542912">OS</span>&nbsp;<span class="op" id="4542915">=</span>&nbsp;<span class="ident" id="4542917"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542918">.</span><span class="ident" id="4542919">buf</span><span class="op" id="4542922">[</span><span class="num" id="4542923">9</span><span class="op" id="4542924">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4542927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542930"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542931">.</span><span class="ident" id="4542932">digest</span><span class="op" id="4542938">.</span><span class="ident" id="4542939">Reset</span><span class="op" id="4542944">(</span><span class="op" id="4542945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4542948"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542949">.</span><span class="ident" id="4542950">digest</span><span class="op" id="4542956">.</span><span class="ident" id="4542957">Write</span><span class="op" id="4542962">(</span><span class="ident" id="4542963"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542964">.</span><span class="ident" id="4542965">buf</span><span class="op" id="4542968">[</span><span class="num" id="4542969">0</span><span class="op" id="4542970">:</span><span class="num" id="4542971">10</span><span class="op" id="4542973">]</span><span class="op" id="4542974">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4542978">if</span>&nbsp;<span class="ident" id="4542981"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4542982">.</span><span class="ident" id="4542983">flg</span><span class="op" id="4542986">&amp;</span><span class="ident" id="4542987"><a href="/compress/gzip/gunzip.go.html#4537966">flagExtra</a></span>&nbsp;<span class="op" id="4542997">!=</span>&nbsp;<span class="num" id="4543000">0</span>&nbsp;<span class="op" id="4543002">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543006">n</span><span class="op" id="4543007">,</span>&nbsp;<span class="ident" id="4543009">err</span>&nbsp;<span class="op" id="4543013">:=</span>&nbsp;<span class="ident" id="4543016"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543017">.</span><span class="ident" id="4543018">read2</span><span class="op" id="4543023">(</span><span class="op" id="4543024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543028">if</span>&nbsp;<span class="ident" id="4543031"><a href="/compress/gzip/gunzip.go.html#4543009">err</a></span>&nbsp;<span class="op" id="4543035">!=</span>&nbsp;<span class="ident" id="4543038">nil</span>&nbsp;<span class="op" id="4543042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543047">return</span>&nbsp;<span class="ident" id="4543054"><a href="/compress/gzip/gunzip.go.html#4543009">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543064">data</span>&nbsp;<span class="op" id="4543069">:=</span>&nbsp;<span class="builtinfunc" id="4543072">make</span><span class="op" id="4543076">(</span><span class="op" id="4543077">[</span><span class="op" id="4543078">]</span><span class="builtintype" id="4543079">byte</span><span class="op" id="4543083">,</span>&nbsp;<span class="ident" id="4543085"><a href="/compress/gzip/gunzip.go.html#4543006">n</a></span><span class="op" id="4543086">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543090">if</span>&nbsp;<span class="ident" id="4543093">_</span><span class="op" id="4543094">,</span>&nbsp;<span class="ident" id="4543096"><a href="/compress/gzip/gunzip.go.html#4543009">err</a></span>&nbsp;<span class="op" id="4543100">=</span>&nbsp;<span class="ident" id="4543102"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4543104">.</span><span class="ident" id="4543105">ReadFull</span><span class="op" id="4543113">(</span><span class="ident" id="4543114"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543115">.</span><span class="ident" id="4543116">r</span><span class="op" id="4543117">,</span>&nbsp;<span class="ident" id="4543119"><a href="/compress/gzip/gunzip.go.html#4543064">data</a></span><span class="op" id="4543123">)</span><span class="op" id="4543124">;</span>&nbsp;<span class="ident" id="4543126"><a href="/compress/gzip/gunzip.go.html#4543009">err</a></span>&nbsp;<span class="op" id="4543130">!=</span>&nbsp;<span class="ident" id="4543133">nil</span>&nbsp;<span class="op" id="4543137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543142">return</span>&nbsp;<span class="ident" id="4543149"><a href="/compress/gzip/gunzip.go.html#4543009">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543159">if</span>&nbsp;<span class="ident" id="4543162"><a href="/compress/gzip/gunzip.go.html#4542606">save</a></span>&nbsp;<span class="op" id="4543167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543172"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543173">.</span><span class="ident" id="4543174">Extra</span>&nbsp;<span class="op" id="4543180">=</span>&nbsp;<span class="ident" id="4543182"><a href="/compress/gzip/gunzip.go.html#4543064">data</a></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543196">var</span>&nbsp;<span class="ident" id="4543200">s</span>&nbsp;<span class="builtintype" id="4543202">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543210">if</span>&nbsp;<span class="ident" id="4543213"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543214">.</span><span class="ident" id="4543215">flg</span><span class="op" id="4543218">&amp;</span><span class="ident" id="4543219"><a href="/compress/gzip/gunzip.go.html#4537988">flagName</a></span>&nbsp;<span class="op" id="4543228">!=</span>&nbsp;<span class="num" id="4543231">0</span>&nbsp;<span class="op" id="4543233">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543237">if</span>&nbsp;<span class="ident" id="4543240"><a href="/compress/gzip/gunzip.go.html#4543200">s</a></span><span class="op" id="4543241">,</span>&nbsp;<span class="ident" id="4543243"><a href="/compress/gzip/gunzip.go.html#4542629">err</a></span>&nbsp;<span class="op" id="4543247">=</span>&nbsp;<span class="ident" id="4543249"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543250">.</span><span class="ident" id="4543251">readString</span><span class="op" id="4543261">(</span><span class="op" id="4543262">)</span><span class="op" id="4543263">;</span>&nbsp;<span class="ident" id="4543265"><a href="/compress/gzip/gunzip.go.html#4542629">err</a></span>&nbsp;<span class="op" id="4543269">!=</span>&nbsp;<span class="ident" id="4543272">nil</span>&nbsp;<span class="op" id="4543276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543281">return</span>&nbsp;<span class="ident" id="4543288"><a href="/compress/gzip/gunzip.go.html#4542629">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543298">if</span>&nbsp;<span class="ident" id="4543301"><a href="/compress/gzip/gunzip.go.html#4542606">save</a></span>&nbsp;<span class="op" id="4543306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543311"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543312">.</span><span class="ident" id="4543313">Name</span>&nbsp;<span class="op" id="4543318">=</span>&nbsp;<span class="ident" id="4543320"><a href="/compress/gzip/gunzip.go.html#4543200">s</a></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543331">if</span>&nbsp;<span class="ident" id="4543334"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543335">.</span><span class="ident" id="4543336">flg</span><span class="op" id="4543339">&amp;</span><span class="ident" id="4543340"><a href="/compress/gzip/gunzip.go.html#4538010">flagComment</a></span>&nbsp;<span class="op" id="4543352">!=</span>&nbsp;<span class="num" id="4543355">0</span>&nbsp;<span class="op" id="4543357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543361">if</span>&nbsp;<span class="ident" id="4543364"><a href="/compress/gzip/gunzip.go.html#4543200">s</a></span><span class="op" id="4543365">,</span>&nbsp;<span class="ident" id="4543367"><a href="/compress/gzip/gunzip.go.html#4542629">err</a></span>&nbsp;<span class="op" id="4543371">=</span>&nbsp;<span class="ident" id="4543373"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543374">.</span><span class="ident" id="4543375">readString</span><span class="op" id="4543385">(</span><span class="op" id="4543386">)</span><span class="op" id="4543387">;</span>&nbsp;<span class="ident" id="4543389"><a href="/compress/gzip/gunzip.go.html#4542629">err</a></span>&nbsp;<span class="op" id="4543393">!=</span>&nbsp;<span class="ident" id="4543396">nil</span>&nbsp;<span class="op" id="4543400">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543405">return</span>&nbsp;<span class="ident" id="4543412"><a href="/compress/gzip/gunzip.go.html#4542629">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543422">if</span>&nbsp;<span class="ident" id="4543425"><a href="/compress/gzip/gunzip.go.html#4542606">save</a></span>&nbsp;<span class="op" id="4543430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543435"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543436">.</span><span class="ident" id="4543437">Comment</span>&nbsp;<span class="op" id="4543445">=</span>&nbsp;<span class="ident" id="4543447"><a href="/compress/gzip/gunzip.go.html#4543200">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543451">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543458">if</span>&nbsp;<span class="ident" id="4543461"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543462">.</span><span class="ident" id="4543463">flg</span><span class="op" id="4543466">&amp;</span><span class="ident" id="4543467"><a href="/compress/gzip/gunzip.go.html#4537944">flagHdrCrc</a></span>&nbsp;<span class="op" id="4543478">!=</span>&nbsp;<span class="num" id="4543481">0</span>&nbsp;<span class="op" id="4543483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543487">n</span><span class="op" id="4543488">,</span>&nbsp;<span class="ident" id="4543490">err</span>&nbsp;<span class="op" id="4543494">:=</span>&nbsp;<span class="ident" id="4543497"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543498">.</span><span class="ident" id="4543499">read2</span><span class="op" id="4543504">(</span><span class="op" id="4543505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543509">if</span>&nbsp;<span class="ident" id="4543512"><a href="/compress/gzip/gunzip.go.html#4543490">err</a></span>&nbsp;<span class="op" id="4543516">!=</span>&nbsp;<span class="ident" id="4543519">nil</span>&nbsp;<span class="op" id="4543523">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543528">return</span>&nbsp;<span class="ident" id="4543535"><a href="/compress/gzip/gunzip.go.html#4543490">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543545">sum</span>&nbsp;<span class="op" id="4543549">:=</span>&nbsp;<span class="ident" id="4543552"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543553">.</span><span class="ident" id="4543554">digest</span><span class="op" id="4543560">.</span><span class="ident" id="4543561">Sum32</span><span class="op" id="4543566">(</span><span class="op" id="4543567">)</span>&nbsp;<span class="op" id="4543569">&amp;</span>&nbsp;<span class="num" id="4543571">0xFFFF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543580">if</span>&nbsp;<span class="ident" id="4543583"><a href="/compress/gzip/gunzip.go.html#4543487">n</a></span>&nbsp;<span class="op" id="4543585">!=</span>&nbsp;<span class="ident" id="4543588"><a href="/compress/gzip/gunzip.go.html#4543545">sum</a></span>&nbsp;<span class="op" id="4543592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543597">return</span>&nbsp;<span class="ident" id="4543604"><a href="/compress/gzip/gunzip.go.html#4538377">ErrHeader</a></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543623"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543624">.</span><span class="ident" id="4543625">digest</span><span class="op" id="4543631">.</span><span class="ident" id="4543632">Reset</span><span class="op" id="4543637">(</span><span class="op" id="4543638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543641">if</span>&nbsp;<span class="ident" id="4543644"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543645">.</span><span class="ident" id="4543646">decompressor</span>&nbsp;<span class="op" id="4543659">==</span>&nbsp;<span class="ident" id="4543662">nil</span>&nbsp;<span class="op" id="4543666">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543670"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543671">.</span><span class="ident" id="4543672">decompressor</span>&nbsp;<span class="op" id="4543685">=</span>&nbsp;<span class="ident" id="4543687"><a href="/compress/gzip/gunzip.go.html#4537790">flate</a></span><span class="op" id="4543692">.</span><span class="ident" id="4543693">NewReader</span><span class="op" id="4543702">(</span><span class="ident" id="4543703"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543704">.</span><span class="ident" id="4543705">r</span><span class="op" id="4543706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543709">}</span>&nbsp;<span class="keyword" id="4543711">else</span>&nbsp;<span class="op" id="4543716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543720"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543721">.</span><span class="ident" id="4543722">decompressor</span><span class="op" id="4543734">.</span><span class="op" id="4543735">(</span><span class="ident" id="4543736"><a href="/compress/gzip/gunzip.go.html#4537790">flate</a></span><span class="op" id="4543741">.</span><span class="ident" id="4543742">Resetter</span><span class="op" id="4543750">)</span><span class="op" id="4543751">.</span><span class="ident" id="4543752">Reset</span><span class="op" id="4543757">(</span><span class="ident" id="4543758"><a href="/compress/gzip/gunzip.go.html#4542584">z</a></span><span class="op" id="4543759">.</span><span class="ident" id="4543760">r</span><span class="op" id="4543761">,</span>&nbsp;<span class="ident" id="4543763">nil</span><span class="op" id="4543766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543772">return</span>&nbsp;<span class="ident" id="4543779">nil</span><br>
<span class="lineno">240</span><span class="op" id="4543783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4543786">func</span>&nbsp;<span class="op" id="4543791">(</span><span class="ident" id="4543792">z</span>&nbsp;<span class="op" id="4543794">*</span><span class="ident" id="4543795"><a href="/compress/gzip/gunzip.go.html#4539485">Reader</a></span><span class="op" id="4543801">)</span>&nbsp;<span class="ident" id="4543803">Read</span><span class="op" id="4543807">(</span><span class="ident" id="4543808">p</span>&nbsp;<span class="op" id="4543810">[</span><span class="op" id="4543811">]</span><span class="builtintype" id="4543812">byte</span><span class="op" id="4543816">)</span>&nbsp;<span class="op" id="4543818">(</span><span class="ident" id="4543819">n</span>&nbsp;<span class="builtintype" id="4543821">int</span><span class="op" id="4543824">,</span>&nbsp;<span class="ident" id="4543826">err</span>&nbsp;<span class="builtintype" id="4543830">error</span><span class="op" id="4543835">)</span>&nbsp;<span class="op" id="4543837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543840">if</span>&nbsp;<span class="ident" id="4543843"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4543844">.</span><span class="ident" id="4543845">err</span>&nbsp;<span class="op" id="4543849">!=</span>&nbsp;<span class="ident" id="4543852">nil</span>&nbsp;<span class="op" id="4543856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543860">return</span>&nbsp;<span class="num" id="4543867">0</span><span class="op" id="4543868">,</span>&nbsp;<span class="ident" id="4543870"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4543871">.</span><span class="ident" id="4543872">err</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543880">if</span>&nbsp;<span class="builtinfunc" id="4543883">len</span><span class="op" id="4543886">(</span><span class="ident" id="4543887"><a href="/compress/gzip/gunzip.go.html#4543808">p</a></span><span class="op" id="4543888">)</span>&nbsp;<span class="op" id="4543890">==</span>&nbsp;<span class="num" id="4543893">0</span>&nbsp;<span class="op" id="4543895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543899">return</span>&nbsp;<span class="num" id="4543906">0</span><span class="op" id="4543907">,</span>&nbsp;<span class="ident" id="4543909">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4543914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543918"><a href="/compress/gzip/gunzip.go.html#4543819">n</a></span><span class="op" id="4543919">,</span>&nbsp;<span class="ident" id="4543921"><a href="/compress/gzip/gunzip.go.html#4543826">err</a></span>&nbsp;<span class="op" id="4543925">=</span>&nbsp;<span class="ident" id="4543927"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4543928">.</span><span class="ident" id="4543929">decompressor</span><span class="op" id="4543941">.</span><span class="ident" id="4543942">Read</span><span class="op" id="4543946">(</span><span class="ident" id="4543947"><a href="/compress/gzip/gunzip.go.html#4543808">p</a></span><span class="op" id="4543948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543951"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4543952">.</span><span class="ident" id="4543953">digest</span><span class="op" id="4543959">.</span><span class="ident" id="4543960">Write</span><span class="op" id="4543965">(</span><span class="ident" id="4543966"><a href="/compress/gzip/gunzip.go.html#4543808">p</a></span><span class="op" id="4543967">[</span><span class="num" id="4543968">0</span><span class="op" id="4543969">:</span><span class="ident" id="4543970"><a href="/compress/gzip/gunzip.go.html#4543819">n</a></span><span class="op" id="4543971">]</span><span class="op" id="4543972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4543975"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4543976">.</span><span class="ident" id="4543977">size</span>&nbsp;<span class="op" id="4543982">+=</span>&nbsp;<span class="builtintype" id="4543985">uint32</span><span class="op" id="4543991">(</span><span class="ident" id="4543992"><a href="/compress/gzip/gunzip.go.html#4543819">n</a></span><span class="op" id="4543993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4543996">if</span>&nbsp;<span class="ident" id="4543999"><a href="/compress/gzip/gunzip.go.html#4543819">n</a></span>&nbsp;<span class="op" id="4544001">!=</span>&nbsp;<span class="num" id="4544004">0</span>&nbsp;<span class="op" id="4544006">||</span>&nbsp;<span class="ident" id="4544009"><a href="/compress/gzip/gunzip.go.html#4543826">err</a></span>&nbsp;<span class="op" id="4544013">!=</span>&nbsp;<span class="ident" id="4544016"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4544018">.</span><span class="ident" id="4544019">EOF</span>&nbsp;<span class="op" id="4544023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4544027"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544028">.</span><span class="ident" id="4544029">err</span>&nbsp;<span class="op" id="4544033">=</span>&nbsp;<span class="ident" id="4544035"><a href="/compress/gzip/gunzip.go.html#4543826">err</a></span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544041">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4544049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4544053">//&nbsp;Finished&nbsp;file;&nbsp;check&nbsp;checksum&nbsp;+&nbsp;size.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544095">if</span>&nbsp;<span class="ident" id="4544098">_</span><span class="op" id="4544099">,</span>&nbsp;<span class="ident" id="4544101">err</span>&nbsp;<span class="op" id="4544105">:=</span>&nbsp;<span class="ident" id="4544108"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4544110">.</span><span class="ident" id="4544111">ReadFull</span><span class="op" id="4544119">(</span><span class="ident" id="4544120"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544121">.</span><span class="ident" id="4544122">r</span><span class="op" id="4544123">,</span>&nbsp;<span class="ident" id="4544125"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544126">.</span><span class="ident" id="4544127">buf</span><span class="op" id="4544130">[</span><span class="num" id="4544131">0</span><span class="op" id="4544132">:</span><span class="num" id="4544133">8</span><span class="op" id="4544134">]</span><span class="op" id="4544135">)</span><span class="op" id="4544136">;</span>&nbsp;<span class="ident" id="4544138"><a href="/compress/gzip/gunzip.go.html#4544101">err</a></span>&nbsp;<span class="op" id="4544142">!=</span>&nbsp;<span class="ident" id="4544145">nil</span>&nbsp;<span class="op" id="4544149">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4544153"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544154">.</span><span class="ident" id="4544155">err</span>&nbsp;<span class="op" id="4544159">=</span>&nbsp;<span class="ident" id="4544161"><a href="/compress/gzip/gunzip.go.html#4544101">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544167">return</span>&nbsp;<span class="num" id="4544174">0</span><span class="op" id="4544175">,</span>&nbsp;<span class="ident" id="4544177"><a href="/compress/gzip/gunzip.go.html#4544101">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4544182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4544185">crc32</span><span class="op" id="4544190">,</span>&nbsp;<span class="ident" id="4544192">isize</span>&nbsp;<span class="op" id="4544198">:=</span>&nbsp;<span class="ident" id="4544201"><a href="/compress/gzip/gunzip.go.html#4541731">get4</a></span><span class="op" id="4544205">(</span><span class="ident" id="4544206"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544207">.</span><span class="ident" id="4544208">buf</span><span class="op" id="4544211">[</span><span class="num" id="4544212">0</span><span class="op" id="4544213">:</span><span class="num" id="4544214">4</span><span class="op" id="4544215">]</span><span class="op" id="4544216">)</span><span class="op" id="4544217">,</span>&nbsp;<span class="ident" id="4544219"><a href="/compress/gzip/gunzip.go.html#4541731">get4</a></span><span class="op" id="4544223">(</span><span class="ident" id="4544224"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544225">.</span><span class="ident" id="4544226">buf</span><span class="op" id="4544229">[</span><span class="num" id="4544230">4</span><span class="op" id="4544231">:</span><span class="num" id="4544232">8</span><span class="op" id="4544233">]</span><span class="op" id="4544234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4544237">sum</span>&nbsp;<span class="op" id="4544241">:=</span>&nbsp;<span class="ident" id="4544244"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544245">.</span><span class="ident" id="4544246">digest</span><span class="op" id="4544252">.</span><span class="ident" id="4544253">Sum32</span><span class="op" id="4544258">(</span><span class="op" id="4544259">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544262">if</span>&nbsp;<span class="ident" id="4544265"><a href="/compress/gzip/gunzip.go.html#4544237">sum</a></span>&nbsp;<span class="op" id="4544269">!=</span>&nbsp;<span class="ident" id="4544272"><a href="/compress/gzip/gunzip.go.html#4544185">crc32</a></span>&nbsp;<span class="op" id="4544278">||</span>&nbsp;<span class="ident" id="4544281"><a href="/compress/gzip/gunzip.go.html#4544192">isize</a></span>&nbsp;<span class="op" id="4544287">!=</span>&nbsp;<span class="ident" id="4544290"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544291">.</span><span class="ident" id="4544292">size</span>&nbsp;<span class="op" id="4544297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4544301"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544302">.</span><span class="ident" id="4544303">err</span>&nbsp;<span class="op" id="4544307">=</span>&nbsp;<span class="ident" id="4544309"><a href="/compress/gzip/gunzip.go.html#4538248">ErrChecksum</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544323">return</span>&nbsp;<span class="num" id="4544330">0</span><span class="op" id="4544331">,</span>&nbsp;<span class="ident" id="4544333"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544334">.</span><span class="ident" id="4544335">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4544340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4544344">//&nbsp;File&nbsp;is&nbsp;ok;&nbsp;is&nbsp;there&nbsp;another?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544378">if</span>&nbsp;<span class="op" id="4544381">!</span><span class="ident" id="4544382"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544383">.</span><span class="ident" id="4544384">multistream</span>&nbsp;<span class="op" id="4544396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544400">return</span>&nbsp;<span class="num" id="4544407">0</span><span class="op" id="4544408">,</span>&nbsp;<span class="ident" id="4544410"><a href="/compress/gzip/gunzip.go.html#4537840">io</a></span><span class="op" id="4544412">.</span><span class="ident" id="4544413">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4544418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544422">if</span>&nbsp;<span class="ident" id="4544425"><a href="/compress/gzip/gunzip.go.html#4543826">err</a></span>&nbsp;<span class="op" id="4544429">=</span>&nbsp;<span class="ident" id="4544431"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544432">.</span><span class="ident" id="4544433">readHeader</span><span class="op" id="4544443">(</span><span class="ident" id="4544444">false</span><span class="op" id="4544449">)</span><span class="op" id="4544450">;</span>&nbsp;<span class="ident" id="4544452"><a href="/compress/gzip/gunzip.go.html#4543826">err</a></span>&nbsp;<span class="op" id="4544456">!=</span>&nbsp;<span class="ident" id="4544459">nil</span>&nbsp;<span class="op" id="4544463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4544467"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544468">.</span><span class="ident" id="4544469">err</span>&nbsp;<span class="op" id="4544473">=</span>&nbsp;<span class="ident" id="4544475"><a href="/compress/gzip/gunzip.go.html#4543826">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544481">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4544489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4544493">//&nbsp;Yes.&nbsp;&nbsp;Reset&nbsp;and&nbsp;read&nbsp;from&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4544527"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544528">.</span><span class="ident" id="4544529">digest</span><span class="op" id="4544535">.</span><span class="ident" id="4544536">Reset</span><span class="op" id="4544541">(</span><span class="op" id="4544542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4544545"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544546">.</span><span class="ident" id="4544547">size</span>&nbsp;<span class="op" id="4544552">=</span>&nbsp;<span class="num" id="4544554">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4544557">return</span>&nbsp;<span class="ident" id="4544564"><a href="/compress/gzip/gunzip.go.html#4543792">z</a></span><span class="op" id="4544565">.</span><span class="ident" id="4544566">Read</span><span class="op" id="4544570">(</span><span class="ident" id="4544571"><a href="/compress/gzip/gunzip.go.html#4543808">p</a></span><span class="op" id="4544572">)</span><br>
<span class="lineno"></span><span class="op" id="4544574">}</span><br>
<span class="lineno">285</span><br>
<span class="lineno"></span><span class="comment" id="4544577">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;Reader.&nbsp;It&nbsp;does&nbsp;not&nbsp;close&nbsp;the&nbsp;underlying&nbsp;io.Reader.</span><br>
<span class="lineno"></span><span class="keyword" id="4544649">func</span>&nbsp;<span class="op" id="4544654">(</span><span class="ident" id="4544655">z</span>&nbsp;<span class="op" id="4544657">*</span><span class="ident" id="4544658"><a href="/compress/gzip/gunzip.go.html#4539485">Reader</a></span><span class="op" id="4544664">)</span>&nbsp;<span class="ident" id="4544666">Close</span><span class="op" id="4544671">(</span><span class="op" id="4544672">)</span>&nbsp;<span class="builtintype" id="4544674">error</span>&nbsp;<span class="op" id="4544680">{</span>&nbsp;<span class="keyword" id="4544682">return</span>&nbsp;<span class="ident" id="4544689"><a href="/compress/gzip/gunzip.go.html#4544655">z</a></span><span class="op" id="4544690">.</span><span class="ident" id="4544691">decompressor</span><span class="op" id="4544703">.</span><span class="ident" id="4544704">Close</span><span class="op" id="4544709">(</span><span class="op" id="4544710">)</span>&nbsp;<span class="op" id="4544712">}</span>
</div>
</body>
</html>
