<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html" class="current">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8418558">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8418614">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8418668">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8418719">package</span>&nbsp;<span class="ident" id="8418727">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8418735">import</span>&nbsp;<span class="op" id="8418742">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8418745">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8418754">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8418761">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8418772">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="8418782">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8418785">type</span>&nbsp;<span class="ident" id="8418790">parseTest</span>&nbsp;<span class="keyword" id="8418800">struct</span>&nbsp;<span class="op" id="8418807">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8418810">Regexp</span>&nbsp;<span class="builtintype" id="8418817">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8418825">Dump</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8418832">string</span><br>
<span class="lineno"></span><span class="op" id="8418839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8418842">var</span>&nbsp;<span class="ident" id="8418846">parseTests</span>&nbsp;<span class="op" id="8418857">=</span>&nbsp;<span class="op" id="8418859">[</span><span class="op" id="8418860">]</span><span class="ident" id="8418861">parseTest</span><span class="op" id="8418870">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8418873">//&nbsp;Base&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418888">{</span><span class="string" id="8418889">`a`</span><span class="op" id="8418892">,</span>&nbsp;<span class="string" id="8418894">`lit{a}`</span><span class="op" id="8418902">}</span><span class="op" id="8418903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418906">{</span><span class="string" id="8418907">`a.`</span><span class="op" id="8418911">,</span>&nbsp;<span class="string" id="8418913">`cat{lit{a}dot{}}`</span><span class="op" id="8418931">}</span><span class="op" id="8418932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418935">{</span><span class="string" id="8418936">`a.b`</span><span class="op" id="8418941">,</span>&nbsp;<span class="string" id="8418943">`cat{lit{a}dot{}lit{b}}`</span><span class="op" id="8418967">}</span><span class="op" id="8418968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418971">{</span><span class="string" id="8418972">`ab`</span><span class="op" id="8418976">,</span>&nbsp;<span class="string" id="8418978">`str{ab}`</span><span class="op" id="8418987">}</span><span class="op" id="8418988">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418991">{</span><span class="string" id="8418992">`a.b.c`</span><span class="op" id="8418999">,</span>&nbsp;<span class="string" id="8419001">`cat{lit{a}dot{}lit{b}dot{}lit{c}}`</span><span class="op" id="8419036">}</span><span class="op" id="8419037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419040">{</span><span class="string" id="8419041">`abc`</span><span class="op" id="8419046">,</span>&nbsp;<span class="string" id="8419048">`str{abc}`</span><span class="op" id="8419058">}</span><span class="op" id="8419059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419062">{</span><span class="string" id="8419063">`a|^`</span><span class="op" id="8419068">,</span>&nbsp;<span class="string" id="8419070">`alt{lit{a}bol{}}`</span><span class="op" id="8419088">}</span><span class="op" id="8419089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419092">{</span><span class="string" id="8419093">`a|b`</span><span class="op" id="8419098">,</span>&nbsp;<span class="string" id="8419100">`cc{0x61-0x62}`</span><span class="op" id="8419115">}</span><span class="op" id="8419116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419119">{</span><span class="string" id="8419120">`(a)`</span><span class="op" id="8419125">,</span>&nbsp;<span class="string" id="8419127">`cap{lit{a}}`</span><span class="op" id="8419140">}</span><span class="op" id="8419141">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419144">{</span><span class="string" id="8419145">`(a)|b`</span><span class="op" id="8419152">,</span>&nbsp;<span class="string" id="8419154">`alt{cap{lit{a}}lit{b}}`</span><span class="op" id="8419178">}</span><span class="op" id="8419179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419182">{</span><span class="string" id="8419183">`a*`</span><span class="op" id="8419187">,</span>&nbsp;<span class="string" id="8419189">`star{lit{a}}`</span><span class="op" id="8419203">}</span><span class="op" id="8419204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419207">{</span><span class="string" id="8419208">`a+`</span><span class="op" id="8419212">,</span>&nbsp;<span class="string" id="8419214">`plus{lit{a}}`</span><span class="op" id="8419228">}</span><span class="op" id="8419229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419232">{</span><span class="string" id="8419233">`a?`</span><span class="op" id="8419237">,</span>&nbsp;<span class="string" id="8419239">`que{lit{a}}`</span><span class="op" id="8419252">}</span><span class="op" id="8419253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419256">{</span><span class="string" id="8419257">`a{2}`</span><span class="op" id="8419263">,</span>&nbsp;<span class="string" id="8419265">`rep{2,2&nbsp;lit{a}}`</span><span class="op" id="8419282">}</span><span class="op" id="8419283">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419286">{</span><span class="string" id="8419287">`a{2,3}`</span><span class="op" id="8419295">,</span>&nbsp;<span class="string" id="8419297">`rep{2,3&nbsp;lit{a}}`</span><span class="op" id="8419314">}</span><span class="op" id="8419315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419318">{</span><span class="string" id="8419319">`a{2,}`</span><span class="op" id="8419326">,</span>&nbsp;<span class="string" id="8419328">`rep{2,-1&nbsp;lit{a}}`</span><span class="op" id="8419346">}</span><span class="op" id="8419347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419350">{</span><span class="string" id="8419351">`a*?`</span><span class="op" id="8419356">,</span>&nbsp;<span class="string" id="8419358">`nstar{lit{a}}`</span><span class="op" id="8419373">}</span><span class="op" id="8419374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419377">{</span><span class="string" id="8419378">`a+?`</span><span class="op" id="8419383">,</span>&nbsp;<span class="string" id="8419385">`nplus{lit{a}}`</span><span class="op" id="8419400">}</span><span class="op" id="8419401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419404">{</span><span class="string" id="8419405">`a??`</span><span class="op" id="8419410">,</span>&nbsp;<span class="string" id="8419412">`nque{lit{a}}`</span><span class="op" id="8419426">}</span><span class="op" id="8419427">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419430">{</span><span class="string" id="8419431">`a{2}?`</span><span class="op" id="8419438">,</span>&nbsp;<span class="string" id="8419440">`nrep{2,2&nbsp;lit{a}}`</span><span class="op" id="8419458">}</span><span class="op" id="8419459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419462">{</span><span class="string" id="8419463">`a{2,3}?`</span><span class="op" id="8419472">,</span>&nbsp;<span class="string" id="8419474">`nrep{2,3&nbsp;lit{a}}`</span><span class="op" id="8419492">}</span><span class="op" id="8419493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419496">{</span><span class="string" id="8419497">`a{2,}?`</span><span class="op" id="8419505">,</span>&nbsp;<span class="string" id="8419507">`nrep{2,-1&nbsp;lit{a}}`</span><span class="op" id="8419526">}</span><span class="op" id="8419527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8419530">//&nbsp;Malformed&nbsp;{&nbsp;}&nbsp;are&nbsp;treated&nbsp;as&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419573">{</span><span class="string" id="8419574">`x{1001`</span><span class="op" id="8419582">,</span>&nbsp;<span class="string" id="8419584">`str{x{1001}`</span><span class="op" id="8419597">}</span><span class="op" id="8419598">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419601">{</span><span class="string" id="8419602">`x{9876543210`</span><span class="op" id="8419616">,</span>&nbsp;<span class="string" id="8419618">`str{x{9876543210}`</span><span class="op" id="8419637">}</span><span class="op" id="8419638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419641">{</span><span class="string" id="8419642">`x{9876543210,`</span><span class="op" id="8419657">,</span>&nbsp;<span class="string" id="8419659">`str{x{9876543210,}`</span><span class="op" id="8419679">}</span><span class="op" id="8419680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419683">{</span><span class="string" id="8419684">`x{2,1`</span><span class="op" id="8419691">,</span>&nbsp;<span class="string" id="8419693">`str{x{2,1}`</span><span class="op" id="8419705">}</span><span class="op" id="8419706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419709">{</span><span class="string" id="8419710">`x{1,9876543210`</span><span class="op" id="8419726">,</span>&nbsp;<span class="string" id="8419728">`str{x{1,9876543210}`</span><span class="op" id="8419749">}</span><span class="op" id="8419750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419753">{</span><span class="string" id="8419754">``</span><span class="op" id="8419756">,</span>&nbsp;<span class="string" id="8419758">`emp{}`</span><span class="op" id="8419765">}</span><span class="op" id="8419766">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419769">{</span><span class="string" id="8419770">`|`</span><span class="op" id="8419773">,</span>&nbsp;<span class="string" id="8419775">`emp{}`</span><span class="op" id="8419782">}</span><span class="op" id="8419783">,</span>&nbsp;<span class="comment" id="8419785">//&nbsp;alt{emp{}emp{}}&nbsp;but&nbsp;got&nbsp;factored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419822">{</span><span class="string" id="8419823">`|x|`</span><span class="op" id="8419828">,</span>&nbsp;<span class="string" id="8419830">`alt{emp{}lit{x}emp{}}`</span><span class="op" id="8419853">}</span><span class="op" id="8419854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419857">{</span><span class="string" id="8419858">`.`</span><span class="op" id="8419861">,</span>&nbsp;<span class="string" id="8419863">`dot{}`</span><span class="op" id="8419870">}</span><span class="op" id="8419871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419874">{</span><span class="string" id="8419875">`^`</span><span class="op" id="8419878">,</span>&nbsp;<span class="string" id="8419880">`bol{}`</span><span class="op" id="8419887">}</span><span class="op" id="8419888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419891">{</span><span class="string" id="8419892">`$`</span><span class="op" id="8419895">,</span>&nbsp;<span class="string" id="8419897">`eol{}`</span><span class="op" id="8419904">}</span><span class="op" id="8419905">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419908">{</span><span class="string" id="8419909">`\|`</span><span class="op" id="8419913">,</span>&nbsp;<span class="string" id="8419915">`lit{|}`</span><span class="op" id="8419923">}</span><span class="op" id="8419924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419927">{</span><span class="string" id="8419928">`\(`</span><span class="op" id="8419932">,</span>&nbsp;<span class="string" id="8419934">`lit{(}`</span><span class="op" id="8419942">}</span><span class="op" id="8419943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419946">{</span><span class="string" id="8419947">`\)`</span><span class="op" id="8419951">,</span>&nbsp;<span class="string" id="8419953">`lit{)}`</span><span class="op" id="8419961">}</span><span class="op" id="8419962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419965">{</span><span class="string" id="8419966">`\*`</span><span class="op" id="8419970">,</span>&nbsp;<span class="string" id="8419972">`lit{*}`</span><span class="op" id="8419980">}</span><span class="op" id="8419981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8419984">{</span><span class="string" id="8419985">`\+`</span><span class="op" id="8419989">,</span>&nbsp;<span class="string" id="8419991">`lit{+}`</span><span class="op" id="8419999">}</span><span class="op" id="8420000">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420003">{</span><span class="string" id="8420004">`\?`</span><span class="op" id="8420008">,</span>&nbsp;<span class="string" id="8420010">`lit{?}`</span><span class="op" id="8420018">}</span><span class="op" id="8420019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420022">{</span><span class="string" id="8420023">`{`</span><span class="op" id="8420026">,</span>&nbsp;<span class="string" id="8420028">`lit{{}`</span><span class="op" id="8420036">}</span><span class="op" id="8420037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420040">{</span><span class="string" id="8420041">`}`</span><span class="op" id="8420044">,</span>&nbsp;<span class="string" id="8420046">`lit{}}`</span><span class="op" id="8420054">}</span><span class="op" id="8420055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420058">{</span><span class="string" id="8420059">`\.`</span><span class="op" id="8420063">,</span>&nbsp;<span class="string" id="8420065">`lit{.}`</span><span class="op" id="8420073">}</span><span class="op" id="8420074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420077">{</span><span class="string" id="8420078">`\^`</span><span class="op" id="8420082">,</span>&nbsp;<span class="string" id="8420084">`lit{^}`</span><span class="op" id="8420092">}</span><span class="op" id="8420093">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420096">{</span><span class="string" id="8420097">`\$`</span><span class="op" id="8420101">,</span>&nbsp;<span class="string" id="8420103">`lit{$}`</span><span class="op" id="8420111">}</span><span class="op" id="8420112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420115">{</span><span class="string" id="8420116">`\\`</span><span class="op" id="8420120">,</span>&nbsp;<span class="string" id="8420122">`lit{\}`</span><span class="op" id="8420130">}</span><span class="op" id="8420131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420134">{</span><span class="string" id="8420135">`[ace]`</span><span class="op" id="8420142">,</span>&nbsp;<span class="string" id="8420144">`cc{0x61&nbsp;0x63&nbsp;0x65}`</span><span class="op" id="8420164">}</span><span class="op" id="8420165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420168">{</span><span class="string" id="8420169">`[abc]`</span><span class="op" id="8420176">,</span>&nbsp;<span class="string" id="8420178">`cc{0x61-0x63}`</span><span class="op" id="8420193">}</span><span class="op" id="8420194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420197">{</span><span class="string" id="8420198">`[a-z]`</span><span class="op" id="8420205">,</span>&nbsp;<span class="string" id="8420207">`cc{0x61-0x7a}`</span><span class="op" id="8420222">}</span><span class="op" id="8420223">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420226">{</span><span class="string" id="8420227">`[a]`</span><span class="op" id="8420232">,</span>&nbsp;<span class="string" id="8420234">`lit{a}`</span><span class="op" id="8420242">}</span><span class="op" id="8420243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420246">{</span><span class="string" id="8420247">`\-`</span><span class="op" id="8420251">,</span>&nbsp;<span class="string" id="8420253">`lit{-}`</span><span class="op" id="8420261">}</span><span class="op" id="8420262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420265">{</span><span class="string" id="8420266">`-`</span><span class="op" id="8420269">,</span>&nbsp;<span class="string" id="8420271">`lit{-}`</span><span class="op" id="8420279">}</span><span class="op" id="8420280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420283">{</span><span class="string" id="8420284">`\_`</span><span class="op" id="8420288">,</span>&nbsp;<span class="string" id="8420290">`lit{_}`</span><span class="op" id="8420298">}</span><span class="op" id="8420299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420302">{</span><span class="string" id="8420303">`abc`</span><span class="op" id="8420308">,</span>&nbsp;<span class="string" id="8420310">`str{abc}`</span><span class="op" id="8420320">}</span><span class="op" id="8420321">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420324">{</span><span class="string" id="8420325">`abc|def`</span><span class="op" id="8420334">,</span>&nbsp;<span class="string" id="8420336">`alt{str{abc}str{def}}`</span><span class="op" id="8420359">}</span><span class="op" id="8420360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420363">{</span><span class="string" id="8420364">`abc|def|ghi`</span><span class="op" id="8420377">,</span>&nbsp;<span class="string" id="8420379">`alt{str{abc}str{def}str{ghi}}`</span><span class="op" id="8420410">}</span><span class="op" id="8420411">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8420415">//&nbsp;Posix&nbsp;and&nbsp;Perl&nbsp;extensions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420445">{</span><span class="string" id="8420446">`[[:lower:]]`</span><span class="op" id="8420459">,</span>&nbsp;<span class="string" id="8420461">`cc{0x61-0x7a}`</span><span class="op" id="8420476">}</span><span class="op" id="8420477">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420480">{</span><span class="string" id="8420481">`[a-z]`</span><span class="op" id="8420488">,</span>&nbsp;<span class="string" id="8420490">`cc{0x61-0x7a}`</span><span class="op" id="8420505">}</span><span class="op" id="8420506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420509">{</span><span class="string" id="8420510">`[^[:lower:]]`</span><span class="op" id="8420524">,</span>&nbsp;<span class="string" id="8420526">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="8420554">}</span><span class="op" id="8420555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420558">{</span><span class="string" id="8420559">`[[:^lower:]]`</span><span class="op" id="8420573">,</span>&nbsp;<span class="string" id="8420575">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="8420603">}</span><span class="op" id="8420604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420607">{</span><span class="string" id="8420608">`(?i)[[:lower:]]`</span><span class="op" id="8420625">,</span>&nbsp;<span class="string" id="8420627">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="8420665">}</span><span class="op" id="8420666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420669">{</span><span class="string" id="8420670">`(?i)[a-z]`</span><span class="op" id="8420681">,</span>&nbsp;<span class="string" id="8420683">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="8420721">}</span><span class="op" id="8420722">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420725">{</span><span class="string" id="8420726">`(?i)[^[:lower:]]`</span><span class="op" id="8420744">,</span>&nbsp;<span class="string" id="8420746">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="8420810">}</span><span class="op" id="8420811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420814">{</span><span class="string" id="8420815">`(?i)[[:^lower:]]`</span><span class="op" id="8420833">,</span>&nbsp;<span class="string" id="8420835">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="8420899">}</span><span class="op" id="8420900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420903">{</span><span class="string" id="8420904">`\d`</span><span class="op" id="8420908">,</span>&nbsp;<span class="string" id="8420910">`cc{0x30-0x39}`</span><span class="op" id="8420925">}</span><span class="op" id="8420926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420929">{</span><span class="string" id="8420930">`\D`</span><span class="op" id="8420934">,</span>&nbsp;<span class="string" id="8420936">`cc{0x0-0x2f&nbsp;0x3a-0x10ffff}`</span><span class="op" id="8420964">}</span><span class="op" id="8420965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420968">{</span><span class="string" id="8420969">`\s`</span><span class="op" id="8420973">,</span>&nbsp;<span class="string" id="8420975">`cc{0x9-0xa&nbsp;0xc-0xd&nbsp;0x20}`</span><span class="op" id="8421001">}</span><span class="op" id="8421002">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421005">{</span><span class="string" id="8421006">`\S`</span><span class="op" id="8421010">,</span>&nbsp;<span class="string" id="8421012">`cc{0x0-0x8&nbsp;0xb&nbsp;0xe-0x1f&nbsp;0x21-0x10ffff}`</span><span class="op" id="8421052">}</span><span class="op" id="8421053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421056">{</span><span class="string" id="8421057">`\w`</span><span class="op" id="8421061">,</span>&nbsp;<span class="string" id="8421063">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a}`</span><span class="op" id="8421103">}</span><span class="op" id="8421104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421107">{</span><span class="string" id="8421108">`\W`</span><span class="op" id="8421112">,</span>&nbsp;<span class="string" id="8421114">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="8421167">}</span><span class="op" id="8421168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421171">{</span><span class="string" id="8421172">`(?i)\w`</span><span class="op" id="8421180">,</span>&nbsp;<span class="string" id="8421182">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="8421235">}</span><span class="op" id="8421236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421239">{</span><span class="string" id="8421240">`(?i)\W`</span><span class="op" id="8421248">,</span>&nbsp;<span class="string" id="8421250">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="8421329">}</span><span class="op" id="8421330">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421333">{</span><span class="string" id="8421334">`[^\\]`</span><span class="op" id="8421341">,</span>&nbsp;<span class="string" id="8421343">`cc{0x0-0x5b&nbsp;0x5d-0x10ffff}`</span><span class="op" id="8421371">}</span><span class="op" id="8421372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8421375">//&nbsp;&nbsp;&nbsp;&nbsp{&nbsp;`\C`,&nbsp;`byte{}`&nbsp;},&nbsp;&nbsp;//&nbsp;probably&nbsp;never</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8421419">//&nbsp;Unicode,&nbsp;negatives,&nbsp;and&nbsp;a&nbsp;double&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421466">{</span><span class="string" id="8421467">`\p{Braille}`</span><span class="op" id="8421480">,</span>&nbsp;<span class="string" id="8421482">`cc{0x2800-0x28ff}`</span><span class="op" id="8421501">}</span><span class="op" id="8421502">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421505">{</span><span class="string" id="8421506">`\P{Braille}`</span><span class="op" id="8421519">,</span>&nbsp;<span class="string" id="8421521">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="8421553">}</span><span class="op" id="8421554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421557">{</span><span class="string" id="8421558">`\p{^Braille}`</span><span class="op" id="8421572">,</span>&nbsp;<span class="string" id="8421574">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="8421606">}</span><span class="op" id="8421607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421610">{</span><span class="string" id="8421611">`\P{^Braille}`</span><span class="op" id="8421625">,</span>&nbsp;<span class="string" id="8421627">`cc{0x2800-0x28ff}`</span><span class="op" id="8421646">}</span><span class="op" id="8421647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421650">{</span><span class="string" id="8421651">`\pZ`</span><span class="op" id="8421656">,</span>&nbsp;<span class="string" id="8421658">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="8421729">}</span><span class="op" id="8421730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421733">{</span><span class="string" id="8421734">`[\p{Braille}]`</span><span class="op" id="8421749">,</span>&nbsp;<span class="string" id="8421751">`cc{0x2800-0x28ff}`</span><span class="op" id="8421770">}</span><span class="op" id="8421771">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421774">{</span><span class="string" id="8421775">`[\P{Braille}]`</span><span class="op" id="8421790">,</span>&nbsp;<span class="string" id="8421792">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="8421824">}</span><span class="op" id="8421825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421828">{</span><span class="string" id="8421829">`[\p{^Braille}]`</span><span class="op" id="8421845">,</span>&nbsp;<span class="string" id="8421847">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="8421879">}</span><span class="op" id="8421880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421883">{</span><span class="string" id="8421884">`[\P{^Braille}]`</span><span class="op" id="8421900">,</span>&nbsp;<span class="string" id="8421902">`cc{0x2800-0x28ff}`</span><span class="op" id="8421921">}</span><span class="op" id="8421922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421925">{</span><span class="string" id="8421926">`[\pZ]`</span><span class="op" id="8421933">,</span>&nbsp;<span class="string" id="8421935">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="8422006">}</span><span class="op" id="8422007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422010">{</span><span class="string" id="8422011">`\p{Lu}`</span><span class="op" id="8422019">,</span>&nbsp;<span class="ident" id="8422021">mkCharClass</span><span class="op" id="8422032">(</span><span class="ident" id="8422033">unicode</span><span class="op" id="8422040">.</span><span class="ident" id="8422041">IsUpper</span><span class="op" id="8422048">)</span><span class="op" id="8422049">}</span><span class="op" id="8422050">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422053">{</span><span class="string" id="8422054">`[\p{Lu}]`</span><span class="op" id="8422064">,</span>&nbsp;<span class="ident" id="8422066">mkCharClass</span><span class="op" id="8422077">(</span><span class="ident" id="8422078">unicode</span><span class="op" id="8422085">.</span><span class="ident" id="8422086">IsUpper</span><span class="op" id="8422093">)</span><span class="op" id="8422094">}</span><span class="op" id="8422095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422098">{</span><span class="string" id="8422099">`(?i)[\p{Lu}]`</span><span class="op" id="8422113">,</span>&nbsp;<span class="ident" id="8422115">mkCharClass</span><span class="op" id="8422126">(</span><span class="ident" id="8422127">isUpperFold</span><span class="op" id="8422138">)</span><span class="op" id="8422139">}</span><span class="op" id="8422140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422143">{</span><span class="string" id="8422144">`\p{Any}`</span><span class="op" id="8422153">,</span>&nbsp;<span class="string" id="8422155">`dot{}`</span><span class="op" id="8422162">}</span><span class="op" id="8422163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422166">{</span><span class="string" id="8422167">`\p{^Any}`</span><span class="op" id="8422177">,</span>&nbsp;<span class="string" id="8422179">`cc{}`</span><span class="op" id="8422185">}</span><span class="op" id="8422186">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8422190">//&nbsp;Hex,&nbsp;octal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422206">{</span><span class="string" id="8422207">`[\012-\234]\141`</span><span class="op" id="8422224">,</span>&nbsp;<span class="string" id="8422226">`cat{cc{0xa-0x9c}lit{a}}`</span><span class="op" id="8422251">}</span><span class="op" id="8422252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422255">{</span><span class="string" id="8422256">`[\x{41}-\x7a]\x61`</span><span class="op" id="8422275">,</span>&nbsp;<span class="string" id="8422277">`cat{cc{0x41-0x7a}lit{a}}`</span><span class="op" id="8422303">}</span><span class="op" id="8422304">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8422308">//&nbsp;More&nbsp;interesting&nbsp;regular&nbsp;expressions.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422350">{</span><span class="string" id="8422351">`a{,2}`</span><span class="op" id="8422358">,</span>&nbsp;<span class="string" id="8422360">`str{a{,2}}`</span><span class="op" id="8422372">}</span><span class="op" id="8422373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422376">{</span><span class="string" id="8422377">`\.\^\$\\`</span><span class="op" id="8422387">,</span>&nbsp;<span class="string" id="8422389">`str{.^$\}`</span><span class="op" id="8422400">}</span><span class="op" id="8422401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422404">{</span><span class="string" id="8422405">`[a-zABC]`</span><span class="op" id="8422415">,</span>&nbsp;<span class="string" id="8422417">`cc{0x41-0x43&nbsp;0x61-0x7a}`</span><span class="op" id="8422442">}</span><span class="op" id="8422443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422446">{</span><span class="string" id="8422447">`[^a]`</span><span class="op" id="8422453">,</span>&nbsp;<span class="string" id="8422455">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="8422483">}</span><span class="op" id="8422484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422487">{</span><span class="string" id="8422488">`[α-ε☺]`</span><span class="op" id="8422500">,</span>&nbsp;<span class="string" id="8422502">`cc{0x3b1-0x3b5&nbsp;0x263a}`</span><span class="op" id="8422526">}</span><span class="op" id="8422527">,</span>&nbsp;<span class="comment" id="8422529">//&nbsp;utf-8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422539">{</span><span class="string" id="8422540">`a*{`</span><span class="op" id="8422545">,</span>&nbsp;<span class="string" id="8422547">`cat{star{lit{a}}lit{{}}`</span><span class="op" id="8422572">}</span><span class="op" id="8422573">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8422577">//&nbsp;Test&nbsp;precedences</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422598">{</span><span class="string" id="8422599">`(?:ab)*`</span><span class="op" id="8422608">,</span>&nbsp;<span class="string" id="8422610">`star{str{ab}}`</span><span class="op" id="8422625">}</span><span class="op" id="8422626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422629">{</span><span class="string" id="8422630">`(ab)*`</span><span class="op" id="8422637">,</span>&nbsp;<span class="string" id="8422639">`star{cap{str{ab}}}`</span><span class="op" id="8422659">}</span><span class="op" id="8422660">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422663">{</span><span class="string" id="8422664">`ab|cd`</span><span class="op" id="8422671">,</span>&nbsp;<span class="string" id="8422673">`alt{str{ab}str{cd}}`</span><span class="op" id="8422694">}</span><span class="op" id="8422695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422698">{</span><span class="string" id="8422699">`a(b|c)d`</span><span class="op" id="8422708">,</span>&nbsp;<span class="string" id="8422710">`cat{lit{a}cap{cc{0x62-0x63}}lit{d}}`</span><span class="op" id="8422747">}</span><span class="op" id="8422748">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8422752">//&nbsp;Test&nbsp;flattening.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422773">{</span><span class="string" id="8422774">`(?:a)`</span><span class="op" id="8422781">,</span>&nbsp;<span class="string" id="8422783">`lit{a}`</span><span class="op" id="8422791">}</span><span class="op" id="8422792">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422795">{</span><span class="string" id="8422796">`(?:ab)(?:cd)`</span><span class="op" id="8422810">,</span>&nbsp;<span class="string" id="8422812">`str{abcd}`</span><span class="op" id="8422823">}</span><span class="op" id="8422824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422827">{</span><span class="string" id="8422828">`(?:a+b+)(?:c+d+)`</span><span class="op" id="8422846">,</span>&nbsp;<span class="string" id="8422848">`cat{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="8422903">}</span><span class="op" id="8422904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422907">{</span><span class="string" id="8422908">`(?:a+|b+)|(?:c+|d+)`</span><span class="op" id="8422929">,</span>&nbsp;<span class="string" id="8422931">`alt{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="8422986">}</span><span class="op" id="8422987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422990">{</span><span class="string" id="8422991">`(?:a|b)|(?:c|d)`</span><span class="op" id="8423008">,</span>&nbsp;<span class="string" id="8423010">`cc{0x61-0x64}`</span><span class="op" id="8423025">}</span><span class="op" id="8423026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423029">{</span><span class="string" id="8423030">`a|.`</span><span class="op" id="8423035">,</span>&nbsp;<span class="string" id="8423037">`dot{}`</span><span class="op" id="8423044">}</span><span class="op" id="8423045">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423048">{</span><span class="string" id="8423049">`.|a`</span><span class="op" id="8423054">,</span>&nbsp;<span class="string" id="8423056">`dot{}`</span><span class="op" id="8423063">}</span><span class="op" id="8423064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423067">{</span><span class="string" id="8423068">`(?:[abc]|A|Z|hello|world)`</span><span class="op" id="8423095">,</span>&nbsp;<span class="string" id="8423097">`alt{cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}str{hello}str{world}}`</span><span class="op" id="8423147">}</span><span class="op" id="8423148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423151">{</span><span class="string" id="8423152">`(?:[abc]|A|Z)`</span><span class="op" id="8423167">,</span>&nbsp;<span class="string" id="8423169">`cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}`</span><span class="op" id="8423194">}</span><span class="op" id="8423195">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8423199">//&nbsp;Test&nbsp;Perl&nbsp;quoted&nbsp;literals</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423229">{</span><span class="string" id="8423230">`\Q+|*?{[\E`</span><span class="op" id="8423242">,</span>&nbsp;<span class="string" id="8423244">`str{+|*?{[}`</span><span class="op" id="8423257">}</span><span class="op" id="8423258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423261">{</span><span class="string" id="8423262">`\Q+\E+`</span><span class="op" id="8423270">,</span>&nbsp;<span class="string" id="8423272">`plus{lit{+}}`</span><span class="op" id="8423286">}</span><span class="op" id="8423287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423290">{</span><span class="string" id="8423291">`\Q\\E`</span><span class="op" id="8423298">,</span>&nbsp;<span class="string" id="8423300">`lit{\}`</span><span class="op" id="8423308">}</span><span class="op" id="8423309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423312">{</span><span class="string" id="8423313">`\Q\\\E`</span><span class="op" id="8423321">,</span>&nbsp;<span class="string" id="8423323">`str{\\}`</span><span class="op" id="8423332">}</span><span class="op" id="8423333">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8423337">//&nbsp;Test&nbsp;Perl&nbsp;\A&nbsp;and&nbsp;\z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423361">{</span><span class="string" id="8423362">`(?m)^`</span><span class="op" id="8423369">,</span>&nbsp;<span class="string" id="8423371">`bol{}`</span><span class="op" id="8423378">}</span><span class="op" id="8423379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423382">{</span><span class="string" id="8423383">`(?m)$`</span><span class="op" id="8423390">,</span>&nbsp;<span class="string" id="8423392">`eol{}`</span><span class="op" id="8423399">}</span><span class="op" id="8423400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423403">{</span><span class="string" id="8423404">`(?-m)^`</span><span class="op" id="8423412">,</span>&nbsp;<span class="string" id="8423414">`bot{}`</span><span class="op" id="8423421">}</span><span class="op" id="8423422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423425">{</span><span class="string" id="8423426">`(?-m)$`</span><span class="op" id="8423434">,</span>&nbsp;<span class="string" id="8423436">`eot{}`</span><span class="op" id="8423443">}</span><span class="op" id="8423444">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423447">{</span><span class="string" id="8423448">`(?m)\A`</span><span class="op" id="8423456">,</span>&nbsp;<span class="string" id="8423458">`bot{}`</span><span class="op" id="8423465">}</span><span class="op" id="8423466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423469">{</span><span class="string" id="8423470">`(?m)\z`</span><span class="op" id="8423478">,</span>&nbsp;<span class="string" id="8423480">`eot{\z}`</span><span class="op" id="8423489">}</span><span class="op" id="8423490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423493">{</span><span class="string" id="8423494">`(?-m)\A`</span><span class="op" id="8423503">,</span>&nbsp;<span class="string" id="8423505">`bot{}`</span><span class="op" id="8423512">}</span><span class="op" id="8423513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423516">{</span><span class="string" id="8423517">`(?-m)\z`</span><span class="op" id="8423526">,</span>&nbsp;<span class="string" id="8423528">`eot{\z}`</span><span class="op" id="8423537">}</span><span class="op" id="8423538">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8423542">//&nbsp;Test&nbsp;named&nbsp;captures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423566">{</span><span class="string" id="8423567">`(?P&lt;name&gt;a)`</span><span class="op" id="8423580">,</span>&nbsp;<span class="string" id="8423582">`cap{name:lit{a}}`</span><span class="op" id="8423600">}</span><span class="op" id="8423601">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8423605">//&nbsp;Case-folded&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423630">{</span><span class="string" id="8423631">`[Aa]`</span><span class="op" id="8423637">,</span>&nbsp;<span class="string" id="8423639">`litfold{A}`</span><span class="op" id="8423651">}</span><span class="op" id="8423652">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423655">{</span><span class="string" id="8423656">`[\x{100}\x{101}]`</span><span class="op" id="8423674">,</span>&nbsp;<span class="string" id="8423676">`litfold{Ā}`</span><span class="op" id="8423689">}</span><span class="op" id="8423690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423693">{</span><span class="string" id="8423694">`[Δδ]`</span><span class="op" id="8423702">,</span>&nbsp;<span class="string" id="8423704">`litfold{Δ}`</span><span class="op" id="8423717">}</span><span class="op" id="8423718">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8423722">//&nbsp;Strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423734">{</span><span class="string" id="8423735">`abcde`</span><span class="op" id="8423742">,</span>&nbsp;<span class="string" id="8423744">`str{abcde}`</span><span class="op" id="8423756">}</span><span class="op" id="8423757">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423760">{</span><span class="string" id="8423761">`[Aa][Bb]cd`</span><span class="op" id="8423773">,</span>&nbsp;<span class="string" id="8423775">`cat{strfold{AB}str{cd}}`</span><span class="op" id="8423800">}</span><span class="op" id="8423801">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8423805">//&nbsp;Factoring.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423820">{</span><span class="string" id="8423821">`abc|abd|aef|bcx|bcy`</span><span class="op" id="8423842">,</span>&nbsp;<span class="string" id="8423844">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="8423923">}</span><span class="op" id="8423924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423927">{</span><span class="string" id="8423928">`ax+y|ax+z|ay+w`</span><span class="op" id="8423944">,</span>&nbsp;<span class="string" id="8423946">`cat{lit{a}alt{cat{plus{lit{x}}cc{0x79-0x7a}}cat{plus{lit{y}}lit{w}}}}`</span><span class="op" id="8424017">}</span><span class="op" id="8424018">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8424022">//&nbsp;Bug&nbsp;fixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424037">{</span><span class="string" id="8424038">`(?:.)`</span><span class="op" id="8424045">,</span>&nbsp;<span class="string" id="8424047">`dot{}`</span><span class="op" id="8424054">}</span><span class="op" id="8424055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424058">{</span><span class="string" id="8424059">`(?:x|(?:xa))`</span><span class="op" id="8424073">,</span>&nbsp;<span class="string" id="8424075">`cat{lit{x}alt{emp{}lit{a}}}`</span><span class="op" id="8424104">}</span><span class="op" id="8424105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424108">{</span><span class="string" id="8424109">`(?:.|(?:.a))`</span><span class="op" id="8424123">,</span>&nbsp;<span class="string" id="8424125">`cat{dot{}alt{emp{}lit{a}}}`</span><span class="op" id="8424153">}</span><span class="op" id="8424154">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424157">{</span><span class="string" id="8424158">`(?:A(?:A|a))`</span><span class="op" id="8424172">,</span>&nbsp;<span class="string" id="8424174">`cat{lit{A}litfold{A}}`</span><span class="op" id="8424197">}</span><span class="op" id="8424198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424201">{</span><span class="string" id="8424202">`(?:A|a)`</span><span class="op" id="8424211">,</span>&nbsp;<span class="string" id="8424213">`litfold{A}`</span><span class="op" id="8424225">}</span><span class="op" id="8424226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424229">{</span><span class="string" id="8424230">`A|(?:A|a)`</span><span class="op" id="8424241">,</span>&nbsp;<span class="string" id="8424243">`litfold{A}`</span><span class="op" id="8424255">}</span><span class="op" id="8424256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424259">{</span><span class="string" id="8424260">`(?s).`</span><span class="op" id="8424267">,</span>&nbsp;<span class="string" id="8424269">`dot{}`</span><span class="op" id="8424276">}</span><span class="op" id="8424277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424280">{</span><span class="string" id="8424281">`(?-s).`</span><span class="op" id="8424289">,</span>&nbsp;<span class="string" id="8424291">`dnl{}`</span><span class="op" id="8424298">}</span><span class="op" id="8424299">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424302">{</span><span class="string" id="8424303">`(?:(?:^).)`</span><span class="op" id="8424315">,</span>&nbsp;<span class="string" id="8424317">`cat{bol{}dot{}}`</span><span class="op" id="8424334">}</span><span class="op" id="8424335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424338">{</span><span class="string" id="8424339">`(?-s)(?:(?:^).)`</span><span class="op" id="8424356">,</span>&nbsp;<span class="string" id="8424358">`cat{bol{}dnl{}}`</span><span class="op" id="8424375">}</span><span class="op" id="8424376">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8424380">//&nbsp;RE2&nbsp;prefix_tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424401">{</span><span class="string" id="8424402">`abc|abd`</span><span class="op" id="8424411">,</span>&nbsp;<span class="string" id="8424413">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="8424440">}</span><span class="op" id="8424441">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424444">{</span><span class="string" id="8424445">`a(?:b)c|abd`</span><span class="op" id="8424458">,</span>&nbsp;<span class="string" id="8424460">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="8424487">}</span><span class="op" id="8424488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424491">{</span><span class="string" id="8424492">`abc|abd|aef|bcx|bcy`</span><span class="op" id="8424513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8424517">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}`</span>&nbsp;<span class="op" id="8424571">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8424576">`cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="8424604">}</span><span class="op" id="8424605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424608">{</span><span class="string" id="8424609">`abc|x|abd`</span><span class="op" id="8424620">,</span>&nbsp;<span class="string" id="8424622">`alt{str{abc}lit{x}str{abd}}`</span><span class="op" id="8424651">}</span><span class="op" id="8424652">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424655">{</span><span class="string" id="8424656">`(?i)abc|ABD`</span><span class="op" id="8424669">,</span>&nbsp;<span class="string" id="8424671">`cat{strfold{AB}cc{0x43-0x44&nbsp;0x63-0x64}}`</span><span class="op" id="8424712">}</span><span class="op" id="8424713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424716">{</span><span class="string" id="8424717">`[ab]c|[ab]d`</span><span class="op" id="8424730">,</span>&nbsp;<span class="string" id="8424732">`cat{cc{0x61-0x62}cc{0x63-0x64}}`</span><span class="op" id="8424765">}</span><span class="op" id="8424766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424769">{</span><span class="string" id="8424770">`(?:xx|yy)c|(?:xx|yy)d`</span><span class="op" id="8424793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8424797">`cat{alt{str{xx}str{yy}}cc{0x63-0x64}}`</span><span class="op" id="8424836">}</span><span class="op" id="8424837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424840">{</span><span class="string" id="8424841">`x{2}|x{2}[0-9]`</span><span class="op" id="8424857">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8424861">`cat{rep{2,2&nbsp;lit{x}}alt{emp{}cc{0x30-0x39}}}`</span><span class="op" id="8424906">}</span><span class="op" id="8424907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424910">{</span><span class="string" id="8424911">`x{2}y|x{2}[0-9]y`</span><span class="op" id="8424929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8424933">`cat{rep{2,2&nbsp;lit{x}}alt{lit{y}cat{cc{0x30-0x39}lit{y}}}}`</span><span class="op" id="8424990">}</span><span class="op" id="8424991">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8424995">//&nbsp;Valid&nbsp;repetitions.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425018">{</span><span class="string" id="8425019">`((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}))`</span><span class="op" id="8425069">,</span>&nbsp;<span class="string" id="8425071">``</span><span class="op" id="8425073">}</span><span class="op" id="8425074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425077">{</span><span class="string" id="8425078">`((((((((((x{1}){2}){2}){2}){2}){2}){2}){2}){2}){2})`</span><span class="op" id="8425131">,</span>&nbsp;<span class="string" id="8425133">``</span><span class="op" id="8425135">}</span><span class="op" id="8425136">,</span><br>
<span class="lineno"></span><span class="op" id="8425138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8425141">const</span>&nbsp;<span class="ident" id="8425147">testFlags</span>&nbsp;<span class="op" id="8425157">=</span>&nbsp;<span class="ident" id="8425159">MatchNL</span>&nbsp;<span class="op" id="8425167">|</span>&nbsp;<span class="ident" id="8425169">PerlX</span>&nbsp;<span class="op" id="8425175">|</span>&nbsp;<span class="ident" id="8425177">UnicodeGroups</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="8425192">func</span>&nbsp;<span class="ident" id="8425197">TestParseSimple</span><span class="op" id="8425212">(</span><span class="ident" id="8425213">t</span>&nbsp;<span class="op" id="8425215">*</span><span class="ident" id="8425216">testing</span><span class="op" id="8425223">.</span><span class="ident" id="8425224">T</span><span class="op" id="8425225">)</span>&nbsp;<span class="op" id="8425227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425230">testParseDump</span><span class="op" id="8425243">(</span><span class="ident" id="8425244">t</span><span class="op" id="8425245">,</span>&nbsp;<span class="ident" id="8425247">parseTests</span><span class="op" id="8425257">,</span>&nbsp;<span class="ident" id="8425259">testFlags</span><span class="op" id="8425268">)</span><br>
<span class="lineno"></span><span class="op" id="8425270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="8425273">var</span>&nbsp;<span class="ident" id="8425277">foldcaseTests</span>&nbsp;<span class="op" id="8425291">=</span>&nbsp;<span class="op" id="8425293">[</span><span class="op" id="8425294">]</span><span class="ident" id="8425295">parseTest</span><span class="op" id="8425304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425307">{</span><span class="string" id="8425308">`AbCdE`</span><span class="op" id="8425315">,</span>&nbsp;<span class="string" id="8425317">`strfold{ABCDE}`</span><span class="op" id="8425333">}</span><span class="op" id="8425334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425337">{</span><span class="string" id="8425338">`[Aa]`</span><span class="op" id="8425344">,</span>&nbsp;<span class="string" id="8425346">`litfold{A}`</span><span class="op" id="8425358">}</span><span class="op" id="8425359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425362">{</span><span class="string" id="8425363">`a`</span><span class="op" id="8425366">,</span>&nbsp;<span class="string" id="8425368">`litfold{A}`</span><span class="op" id="8425380">}</span><span class="op" id="8425381">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8425385">//&nbsp;0x17F&nbsp;is&nbsp;an&nbsp;old&nbsp;English&nbsp;long&nbsp;s&nbsp;(looks&nbsp;like&nbsp;an&nbsp;f)&nbsp;and&nbsp;folds&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8425454">//&nbsp;0x212A&nbsp;is&nbsp;the&nbsp;Kelvin&nbsp;symbol&nbsp;and&nbsp;folds&nbsp;to&nbsp;k.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425502">{</span><span class="string" id="8425503">`A[F-g]`</span><span class="op" id="8425511">,</span>&nbsp;<span class="string" id="8425513">`cat{litfold{A}cc{0x41-0x7a&nbsp;0x17f&nbsp;0x212a}}`</span><span class="op" id="8425556">}</span><span class="op" id="8425557">,</span>&nbsp;<span class="comment" id="8425559">//&nbsp;[Aa][A-z...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425576">{</span><span class="string" id="8425577">`[[:upper:]]`</span><span class="op" id="8425590">,</span>&nbsp;<span class="string" id="8425592">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="8425630">}</span><span class="op" id="8425631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425634">{</span><span class="string" id="8425635">`[[:lower:]]`</span><span class="op" id="8425648">,</span>&nbsp;<span class="string" id="8425650">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="8425688">}</span><span class="op" id="8425689">,</span><br>
<span class="lineno">225</span><span class="op" id="8425691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8425694">func</span>&nbsp;<span class="ident" id="8425699">TestParseFoldCase</span><span class="op" id="8425716">(</span><span class="ident" id="8425717">t</span>&nbsp;<span class="op" id="8425719">*</span><span class="ident" id="8425720">testing</span><span class="op" id="8425727">.</span><span class="ident" id="8425728">T</span><span class="op" id="8425729">)</span>&nbsp;<span class="op" id="8425731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425734">testParseDump</span><span class="op" id="8425747">(</span><span class="ident" id="8425748">t</span><span class="op" id="8425749">,</span>&nbsp;<span class="ident" id="8425751">foldcaseTests</span><span class="op" id="8425764">,</span>&nbsp;<span class="ident" id="8425766">FoldCase</span><span class="op" id="8425774">)</span><br>
<span class="lineno"></span><span class="op" id="8425776">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="8425779">var</span>&nbsp;<span class="ident" id="8425783">literalTests</span>&nbsp;<span class="op" id="8425796">=</span>&nbsp;<span class="op" id="8425798">[</span><span class="op" id="8425799">]</span><span class="ident" id="8425800">parseTest</span><span class="op" id="8425809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425812">{</span><span class="string" id="8425813">&#34;(|)^$.[*+?]{5,10},\\&#34;</span><span class="op" id="8425835">,</span>&nbsp;<span class="string" id="8425837">&#34;str{(|)^$.[*+?]{5,10},\\}&#34;</span><span class="op" id="8425864">}</span><span class="op" id="8425865">,</span><br>
<span class="lineno"></span><span class="op" id="8425867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="8425870">func</span>&nbsp;<span class="ident" id="8425875">TestParseLiteral</span><span class="op" id="8425891">(</span><span class="ident" id="8425892">t</span>&nbsp;<span class="op" id="8425894">*</span><span class="ident" id="8425895">testing</span><span class="op" id="8425902">.</span><span class="ident" id="8425903">T</span><span class="op" id="8425904">)</span>&nbsp;<span class="op" id="8425906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425909">testParseDump</span><span class="op" id="8425922">(</span><span class="ident" id="8425923">t</span><span class="op" id="8425924">,</span>&nbsp;<span class="ident" id="8425926">literalTests</span><span class="op" id="8425938">,</span>&nbsp;<span class="ident" id="8425940">Literal</span><span class="op" id="8425947">)</span><br>
<span class="lineno"></span><span class="op" id="8425949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8425952">var</span>&nbsp;<span class="ident" id="8425956">matchnlTests</span>&nbsp;<span class="op" id="8425969">=</span>&nbsp;<span class="op" id="8425971">[</span><span class="op" id="8425972">]</span><span class="ident" id="8425973">parseTest</span><span class="op" id="8425982">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425985">{</span><span class="string" id="8425986">`.`</span><span class="op" id="8425989">,</span>&nbsp;<span class="string" id="8425991">`dot{}`</span><span class="op" id="8425998">}</span><span class="op" id="8425999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426002">{</span><span class="string" id="8426003">&#34;\n&#34;</span><span class="op" id="8426007">,</span>&nbsp;<span class="string" id="8426009">&#34;lit{\n}&#34;</span><span class="op" id="8426018">}</span><span class="op" id="8426019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426022">{</span><span class="string" id="8426023">`[^a]`</span><span class="op" id="8426029">,</span>&nbsp;<span class="string" id="8426031">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="8426059">}</span><span class="op" id="8426060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426063">{</span><span class="string" id="8426064">`[a\n]`</span><span class="op" id="8426071">,</span>&nbsp;<span class="string" id="8426073">`cc{0xa&nbsp;0x61}`</span><span class="op" id="8426087">}</span><span class="op" id="8426088">,</span><br>
<span class="lineno"></span><span class="op" id="8426090">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="8426093">func</span>&nbsp;<span class="ident" id="8426098">TestParseMatchNL</span><span class="op" id="8426114">(</span><span class="ident" id="8426115">t</span>&nbsp;<span class="op" id="8426117">*</span><span class="ident" id="8426118">testing</span><span class="op" id="8426125">.</span><span class="ident" id="8426126">T</span><span class="op" id="8426127">)</span>&nbsp;<span class="op" id="8426129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426132">testParseDump</span><span class="op" id="8426145">(</span><span class="ident" id="8426146">t</span><span class="op" id="8426147">,</span>&nbsp;<span class="ident" id="8426149">matchnlTests</span><span class="op" id="8426161">,</span>&nbsp;<span class="ident" id="8426163">MatchNL</span><span class="op" id="8426170">)</span><br>
<span class="lineno"></span><span class="op" id="8426172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="8426175">var</span>&nbsp;<span class="ident" id="8426179">nomatchnlTests</span>&nbsp;<span class="op" id="8426194">=</span>&nbsp;<span class="op" id="8426196">[</span><span class="op" id="8426197">]</span><span class="ident" id="8426198">parseTest</span><span class="op" id="8426207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426210">{</span><span class="string" id="8426211">`.`</span><span class="op" id="8426214">,</span>&nbsp;<span class="string" id="8426216">`dnl{}`</span><span class="op" id="8426223">}</span><span class="op" id="8426224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426227">{</span><span class="string" id="8426228">&#34;\n&#34;</span><span class="op" id="8426232">,</span>&nbsp;<span class="string" id="8426234">&#34;lit{\n}&#34;</span><span class="op" id="8426243">}</span><span class="op" id="8426244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426247">{</span><span class="string" id="8426248">`[^a]`</span><span class="op" id="8426254">,</span>&nbsp;<span class="string" id="8426256">`cc{0x0-0x9&nbsp;0xb-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="8426292">}</span><span class="op" id="8426293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426296">{</span><span class="string" id="8426297">`[a\n]`</span><span class="op" id="8426304">,</span>&nbsp;<span class="string" id="8426306">`cc{0xa&nbsp;0x61}`</span><span class="op" id="8426320">}</span><span class="op" id="8426321">,</span><br>
<span class="lineno">255</span><span class="op" id="8426323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8426326">func</span>&nbsp;<span class="ident" id="8426331">TestParseNoMatchNL</span><span class="op" id="8426349">(</span><span class="ident" id="8426350">t</span>&nbsp;<span class="op" id="8426352">*</span><span class="ident" id="8426353">testing</span><span class="op" id="8426360">.</span><span class="ident" id="8426361">T</span><span class="op" id="8426362">)</span>&nbsp;<span class="op" id="8426364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426367">testParseDump</span><span class="op" id="8426380">(</span><span class="ident" id="8426381">t</span><span class="op" id="8426382">,</span>&nbsp;<span class="ident" id="8426384">nomatchnlTests</span><span class="op" id="8426398">,</span>&nbsp;<span class="num" id="8426400">0</span><span class="op" id="8426401">)</span><br>
<span class="lineno"></span><span class="op" id="8426403">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="8426406">//&nbsp;Test&nbsp;Parse&nbsp;-&gt;&nbsp;Dump.</span><br>
<span class="lineno"></span><span class="keyword" id="8426429">func</span>&nbsp;<span class="ident" id="8426434">testParseDump</span><span class="op" id="8426447">(</span><span class="ident" id="8426448">t</span>&nbsp;<span class="op" id="8426450">*</span><span class="ident" id="8426451">testing</span><span class="op" id="8426458">.</span><span class="ident" id="8426459">T</span><span class="op" id="8426460">,</span>&nbsp;<span class="ident" id="8426462">tests</span>&nbsp;<span class="op" id="8426468">[</span><span class="op" id="8426469">]</span><span class="ident" id="8426470">parseTest</span><span class="op" id="8426479">,</span>&nbsp;<span class="ident" id="8426481">flags</span>&nbsp;<span class="ident" id="8426487">Flags</span><span class="op" id="8426492">)</span>&nbsp;<span class="op" id="8426494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426497">for</span>&nbsp;<span class="ident" id="8426501">_</span><span class="op" id="8426502">,</span>&nbsp;<span class="ident" id="8426504">tt</span>&nbsp;<span class="op" id="8426507">:=</span>&nbsp;<span class="keyword" id="8426510">range</span>&nbsp;<span class="ident" id="8426516">tests</span>&nbsp;<span class="op" id="8426522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426526">re</span><span class="op" id="8426528">,</span>&nbsp;<span class="ident" id="8426530">err</span>&nbsp;<span class="op" id="8426534">:=</span>&nbsp;<span class="ident" id="8426537">Parse</span><span class="op" id="8426542">(</span><span class="ident" id="8426543">tt</span><span class="op" id="8426545">.</span><span class="ident" id="8426546">Regexp</span><span class="op" id="8426552">,</span>&nbsp;<span class="ident" id="8426554">flags</span><span class="op" id="8426559">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426563">if</span>&nbsp;<span class="ident" id="8426566">err</span>&nbsp;<span class="op" id="8426570">!=</span>&nbsp;<span class="ident" id="8426573">nil</span>&nbsp;<span class="op" id="8426577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426582">t</span><span class="op" id="8426583">.</span><span class="ident" id="8426584">Errorf</span><span class="op" id="8426590">(</span><span class="string" id="8426591">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="8426607">,</span>&nbsp;<span class="ident" id="8426609">tt</span><span class="op" id="8426611">.</span><span class="ident" id="8426612">Regexp</span><span class="op" id="8426618">,</span>&nbsp;<span class="ident" id="8426620">err</span><span class="op" id="8426623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426628">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426643">if</span>&nbsp;<span class="ident" id="8426646">tt</span><span class="op" id="8426648">.</span><span class="ident" id="8426649">Dump</span>&nbsp;<span class="op" id="8426654">==</span>&nbsp;<span class="string" id="8426657">&#34;&#34;</span>&nbsp;<span class="op" id="8426660">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8426665">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426708">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426723">d</span>&nbsp;<span class="op" id="8426725">:=</span>&nbsp;<span class="ident" id="8426728">dump</span><span class="op" id="8426732">(</span><span class="ident" id="8426733">re</span><span class="op" id="8426735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426739">if</span>&nbsp;<span class="ident" id="8426742">d</span>&nbsp;<span class="op" id="8426744">!=</span>&nbsp;<span class="ident" id="8426747">tt</span><span class="op" id="8426749">.</span><span class="ident" id="8426750">Dump</span>&nbsp;<span class="op" id="8426755">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426760">t</span><span class="op" id="8426761">.</span><span class="ident" id="8426762">Errorf</span><span class="op" id="8426768">(</span><span class="string" id="8426769">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="8426803">,</span>&nbsp;<span class="ident" id="8426805">tt</span><span class="op" id="8426807">.</span><span class="ident" id="8426808">Regexp</span><span class="op" id="8426814">,</span>&nbsp;<span class="ident" id="8426816">d</span><span class="op" id="8426817">,</span>&nbsp;<span class="ident" id="8426819">tt</span><span class="op" id="8426821">.</span><span class="ident" id="8426822">Dump</span><span class="op" id="8426826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426833">}</span><br>
<span class="lineno"></span><span class="op" id="8426835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="8426838">//&nbsp;dump&nbsp;prints&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;regexp&nbsp;showing</span><br>
<span class="lineno"></span><span class="comment" id="8426899">//&nbsp;the&nbsp;structure&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="keyword" id="8426928">func</span>&nbsp;<span class="ident" id="8426933">dump</span><span class="op" id="8426937">(</span><span class="ident" id="8426938">re</span>&nbsp;<span class="op" id="8426941">*</span><span class="ident" id="8426942">Regexp</span><span class="op" id="8426948">)</span>&nbsp;<span class="builtintype" id="8426950">string</span>&nbsp;<span class="op" id="8426957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426960">var</span>&nbsp;<span class="ident" id="8426964">b</span>&nbsp;<span class="ident" id="8426966">bytes</span><span class="op" id="8426971">.</span><span class="ident" id="8426972">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426980">dumpRegexp</span><span class="op" id="8426990">(</span><span class="op" id="8426991">&amp;</span><span class="ident" id="8426992">b</span><span class="op" id="8426993">,</span>&nbsp;<span class="ident" id="8426995">re</span><span class="op" id="8426997">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427000">return</span>&nbsp;<span class="ident" id="8427007">b</span><span class="op" id="8427008">.</span><span class="ident" id="8427009">String</span><span class="op" id="8427015">(</span><span class="op" id="8427016">)</span><br>
<span class="lineno"></span><span class="op" id="8427018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8427021">var</span>&nbsp;<span class="ident" id="8427025">opNames</span>&nbsp;<span class="op" id="8427033">=</span>&nbsp;<span class="op" id="8427035">[</span><span class="op" id="8427036">]</span><span class="builtintype" id="8427037">string</span><span class="op" id="8427043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427046">OpNoMatch</span><span class="op" id="8427055">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427064">&#34;no&#34;</span><span class="op" id="8427068">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427071">OpEmptyMatch</span><span class="op" id="8427083">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427089">&#34;emp&#34;</span><span class="op" id="8427094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427097">OpLiteral</span><span class="op" id="8427106">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427115">&#34;lit&#34;</span><span class="op" id="8427120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427123">OpCharClass</span><span class="op" id="8427134">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427141">&#34;cc&#34;</span><span class="op" id="8427145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427148">OpAnyCharNotNL</span><span class="op" id="8427162">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8427166">&#34;dnl&#34;</span><span class="op" id="8427171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427174">OpAnyChar</span><span class="op" id="8427183">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427192">&#34;dot&#34;</span><span class="op" id="8427197">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427200">OpBeginLine</span><span class="op" id="8427211">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427218">&#34;bol&#34;</span><span class="op" id="8427223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427226">OpEndLine</span><span class="op" id="8427235">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427244">&#34;eol&#34;</span><span class="op" id="8427249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427252">OpBeginText</span><span class="op" id="8427263">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427270">&#34;bot&#34;</span><span class="op" id="8427275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427278">OpEndText</span><span class="op" id="8427287">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427296">&#34;eot&#34;</span><span class="op" id="8427301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427304">OpWordBoundary</span><span class="op" id="8427318">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8427322">&#34;wb&#34;</span><span class="op" id="8427326">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427329">OpNoWordBoundary</span><span class="op" id="8427345">:</span>&nbsp;<span class="string" id="8427347">&#34;nwb&#34;</span><span class="op" id="8427352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427355">OpCapture</span><span class="op" id="8427364">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427373">&#34;cap&#34;</span><span class="op" id="8427378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427381">OpStar</span><span class="op" id="8427387">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427399">&#34;star&#34;</span><span class="op" id="8427405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427408">OpPlus</span><span class="op" id="8427414">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427426">&#34;plus&#34;</span><span class="op" id="8427432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427435">OpQuest</span><span class="op" id="8427442">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427453">&#34;que&#34;</span><span class="op" id="8427458">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427461">OpRepeat</span><span class="op" id="8427469">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427479">&#34;rep&#34;</span><span class="op" id="8427484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427487">OpConcat</span><span class="op" id="8427495">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427505">&#34;cat&#34;</span><span class="op" id="8427510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427513">OpAlternate</span><span class="op" id="8427524">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8427531">&#34;alt&#34;</span><span class="op" id="8427536">,</span><br>
<span class="lineno"></span><span class="op" id="8427538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="8427541">//&nbsp;dumpRegexp&nbsp;writes&nbsp;an&nbsp;encoding&nbsp;of&nbsp;the&nbsp;syntax&nbsp;tree&nbsp;for&nbsp;the&nbsp;regexp&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="8427617">//&nbsp;It&nbsp;is&nbsp;used&nbsp;during&nbsp;testing&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;parses&nbsp;that&nbsp;might&nbsp;print</span><br>
<span class="lineno"></span><span class="comment" id="8427693">//&nbsp;the&nbsp;same&nbsp;using&nbsp;re&#39;s&nbsp;String&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="8427731">func</span>&nbsp;<span class="ident" id="8427736">dumpRegexp</span><span class="op" id="8427746">(</span><span class="ident" id="8427747">b</span>&nbsp;<span class="op" id="8427749">*</span><span class="ident" id="8427750">bytes</span><span class="op" id="8427755">.</span><span class="ident" id="8427756">Buffer</span><span class="op" id="8427762">,</span>&nbsp;<span class="ident" id="8427764">re</span>&nbsp;<span class="op" id="8427767">*</span><span class="ident" id="8427768">Regexp</span><span class="op" id="8427774">)</span>&nbsp;<span class="op" id="8427776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427779">if</span>&nbsp;<span class="builtintype" id="8427782">int</span><span class="op" id="8427785">(</span><span class="ident" id="8427786">re</span><span class="op" id="8427788">.</span><span class="ident" id="8427789">Op</span><span class="op" id="8427791">)</span>&nbsp;<span class="op" id="8427793">&gt;=</span>&nbsp;<span class="builtinfunc" id="8427796">len</span><span class="op" id="8427799">(</span><span class="ident" id="8427800">opNames</span><span class="op" id="8427807">)</span>&nbsp;<span class="op" id="8427809">||</span>&nbsp;<span class="ident" id="8427812">opNames</span><span class="op" id="8427819">[</span><span class="ident" id="8427820">re</span><span class="op" id="8427822">.</span><span class="ident" id="8427823">Op</span><span class="op" id="8427825">]</span>&nbsp;<span class="op" id="8427827">==</span>&nbsp;<span class="string" id="8427830">&#34;&#34;</span>&nbsp;<span class="op" id="8427833">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427837">fmt</span><span class="op" id="8427840">.</span><span class="ident" id="8427841">Fprintf</span><span class="op" id="8427848">(</span><span class="ident" id="8427849">b</span><span class="op" id="8427850">,</span>&nbsp;<span class="string" id="8427852">&#34;op%d&#34;</span><span class="op" id="8427858">,</span>&nbsp;<span class="ident" id="8427860">re</span><span class="op" id="8427862">.</span><span class="ident" id="8427863">Op</span><span class="op" id="8427865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427868">}</span>&nbsp;<span class="keyword" id="8427870">else</span>&nbsp;<span class="op" id="8427875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427879">switch</span>&nbsp;<span class="ident" id="8427886">re</span><span class="op" id="8427888">.</span><span class="ident" id="8427889">Op</span>&nbsp;<span class="op" id="8427892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427896">default</span><span class="op" id="8427903">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427908">b</span><span class="op" id="8427909">.</span><span class="ident" id="8427910">WriteString</span><span class="op" id="8427921">(</span><span class="ident" id="8427922">opNames</span><span class="op" id="8427929">[</span><span class="ident" id="8427930">re</span><span class="op" id="8427932">.</span><span class="ident" id="8427933">Op</span><span class="op" id="8427935">]</span><span class="op" id="8427936">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427940">case</span>&nbsp;<span class="ident" id="8427945">OpStar</span><span class="op" id="8427951">,</span>&nbsp;<span class="ident" id="8427953">OpPlus</span><span class="op" id="8427959">,</span>&nbsp;<span class="ident" id="8427961">OpQuest</span><span class="op" id="8427968">,</span>&nbsp;<span class="ident" id="8427970">OpRepeat</span><span class="op" id="8427978">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427983">if</span>&nbsp;<span class="ident" id="8427986">re</span><span class="op" id="8427988">.</span><span class="ident" id="8427989">Flags</span><span class="op" id="8427994">&amp;</span><span class="ident" id="8427995">NonGreedy</span>&nbsp;<span class="op" id="8428005">!=</span>&nbsp;<span class="num" id="8428008">0</span>&nbsp;<span class="op" id="8428010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428016">b</span><span class="op" id="8428017">.</span><span class="ident" id="8428018">WriteByte</span><span class="op" id="8428027">(</span><span class="string" id="8428028">&#39;n&#39;</span><span class="op" id="8428031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428041">b</span><span class="op" id="8428042">.</span><span class="ident" id="8428043">WriteString</span><span class="op" id="8428054">(</span><span class="ident" id="8428055">opNames</span><span class="op" id="8428062">[</span><span class="ident" id="8428063">re</span><span class="op" id="8428065">.</span><span class="ident" id="8428066">Op</span><span class="op" id="8428068">]</span><span class="op" id="8428069">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428073">case</span>&nbsp;<span class="ident" id="8428078">OpLiteral</span><span class="op" id="8428087">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428092">if</span>&nbsp;<span class="builtinfunc" id="8428095">len</span><span class="op" id="8428098">(</span><span class="ident" id="8428099">re</span><span class="op" id="8428101">.</span><span class="ident" id="8428102">Rune</span><span class="op" id="8428106">)</span>&nbsp;<span class="op" id="8428108">&gt;</span>&nbsp;<span class="num" id="8428110">1</span>&nbsp;<span class="op" id="8428112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428118">b</span><span class="op" id="8428119">.</span><span class="ident" id="8428120">WriteString</span><span class="op" id="8428131">(</span><span class="string" id="8428132">&#34;str&#34;</span><span class="op" id="8428137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428142">}</span>&nbsp;<span class="keyword" id="8428144">else</span>&nbsp;<span class="op" id="8428149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428155">b</span><span class="op" id="8428156">.</span><span class="ident" id="8428157">WriteString</span><span class="op" id="8428168">(</span><span class="string" id="8428169">&#34;lit&#34;</span><span class="op" id="8428174">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428184">if</span>&nbsp;<span class="ident" id="8428187">re</span><span class="op" id="8428189">.</span><span class="ident" id="8428190">Flags</span><span class="op" id="8428195">&amp;</span><span class="ident" id="8428196">FoldCase</span>&nbsp;<span class="op" id="8428205">!=</span>&nbsp;<span class="num" id="8428208">0</span>&nbsp;<span class="op" id="8428210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428216">for</span>&nbsp;<span class="ident" id="8428220">_</span><span class="op" id="8428221">,</span>&nbsp;<span class="ident" id="8428223">r</span>&nbsp;<span class="op" id="8428225">:=</span>&nbsp;<span class="keyword" id="8428228">range</span>&nbsp;<span class="ident" id="8428234">re</span><span class="op" id="8428236">.</span><span class="ident" id="8428237">Rune</span>&nbsp;<span class="op" id="8428242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428249">if</span>&nbsp;<span class="ident" id="8428252">unicode</span><span class="op" id="8428259">.</span><span class="ident" id="8428260">SimpleFold</span><span class="op" id="8428270">(</span><span class="ident" id="8428271">r</span><span class="op" id="8428272">)</span>&nbsp;<span class="op" id="8428274">!=</span>&nbsp;<span class="ident" id="8428277">r</span>&nbsp;<span class="op" id="8428279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428287">b</span><span class="op" id="8428288">.</span><span class="ident" id="8428289">WriteString</span><span class="op" id="8428300">(</span><span class="string" id="8428301">&#34;fold&#34;</span><span class="op" id="8428307">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428315">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428341">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428347">b</span><span class="op" id="8428348">.</span><span class="ident" id="8428349">WriteByte</span><span class="op" id="8428358">(</span><span class="string" id="8428359">&#39;{&#39;</span><span class="op" id="8428362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428365">switch</span>&nbsp;<span class="ident" id="8428372">re</span><span class="op" id="8428374">.</span><span class="ident" id="8428375">Op</span>&nbsp;<span class="op" id="8428378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428381">case</span>&nbsp;<span class="ident" id="8428386">OpEndText</span><span class="op" id="8428395">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428399">if</span>&nbsp;<span class="ident" id="8428402">re</span><span class="op" id="8428404">.</span><span class="ident" id="8428405">Flags</span><span class="op" id="8428410">&amp;</span><span class="ident" id="8428411">WasDollar</span>&nbsp;<span class="op" id="8428421">==</span>&nbsp;<span class="num" id="8428424">0</span>&nbsp;<span class="op" id="8428426">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428431">b</span><span class="op" id="8428432">.</span><span class="ident" id="8428433">WriteString</span><span class="op" id="8428444">(</span><span class="string" id="8428445">`\z`</span><span class="op" id="8428449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428456">case</span>&nbsp;<span class="ident" id="8428461">OpLiteral</span><span class="op" id="8428470">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428474">for</span>&nbsp;<span class="ident" id="8428478">_</span><span class="op" id="8428479">,</span>&nbsp;<span class="ident" id="8428481">r</span>&nbsp;<span class="op" id="8428483">:=</span>&nbsp;<span class="keyword" id="8428486">range</span>&nbsp;<span class="ident" id="8428492">re</span><span class="op" id="8428494">.</span><span class="ident" id="8428495">Rune</span>&nbsp;<span class="op" id="8428500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428505">b</span><span class="op" id="8428506">.</span><span class="ident" id="8428507">WriteRune</span><span class="op" id="8428516">(</span><span class="ident" id="8428517">r</span><span class="op" id="8428518">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428525">case</span>&nbsp;<span class="ident" id="8428530">OpConcat</span><span class="op" id="8428538">,</span>&nbsp;<span class="ident" id="8428540">OpAlternate</span><span class="op" id="8428551">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428555">for</span>&nbsp;<span class="ident" id="8428559">_</span><span class="op" id="8428560">,</span>&nbsp;<span class="ident" id="8428562">sub</span>&nbsp;<span class="op" id="8428566">:=</span>&nbsp;<span class="keyword" id="8428569">range</span>&nbsp;<span class="ident" id="8428575">re</span><span class="op" id="8428577">.</span><span class="ident" id="8428578">Sub</span>&nbsp;<span class="op" id="8428582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428587">dumpRegexp</span><span class="op" id="8428597">(</span><span class="ident" id="8428598">b</span><span class="op" id="8428599">,</span>&nbsp;<span class="ident" id="8428601">sub</span><span class="op" id="8428604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428608">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428611">case</span>&nbsp;<span class="ident" id="8428616">OpStar</span><span class="op" id="8428622">,</span>&nbsp;<span class="ident" id="8428624">OpPlus</span><span class="op" id="8428630">,</span>&nbsp;<span class="ident" id="8428632">OpQuest</span><span class="op" id="8428639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428643">dumpRegexp</span><span class="op" id="8428653">(</span><span class="ident" id="8428654">b</span><span class="op" id="8428655">,</span>&nbsp;<span class="ident" id="8428657">re</span><span class="op" id="8428659">.</span><span class="ident" id="8428660">Sub</span><span class="op" id="8428663">[</span><span class="num" id="8428664">0</span><span class="op" id="8428665">]</span><span class="op" id="8428666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428669">case</span>&nbsp;<span class="ident" id="8428674">OpRepeat</span><span class="op" id="8428682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428686">fmt</span><span class="op" id="8428689">.</span><span class="ident" id="8428690">Fprintf</span><span class="op" id="8428697">(</span><span class="ident" id="8428698">b</span><span class="op" id="8428699">,</span>&nbsp;<span class="string" id="8428701">&#34;%d,%d&nbsp;&#34;</span><span class="op" id="8428709">,</span>&nbsp;<span class="ident" id="8428711">re</span><span class="op" id="8428713">.</span><span class="ident" id="8428714">Min</span><span class="op" id="8428717">,</span>&nbsp;<span class="ident" id="8428719">re</span><span class="op" id="8428721">.</span><span class="ident" id="8428722">Max</span><span class="op" id="8428725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428729">dumpRegexp</span><span class="op" id="8428739">(</span><span class="ident" id="8428740">b</span><span class="op" id="8428741">,</span>&nbsp;<span class="ident" id="8428743">re</span><span class="op" id="8428745">.</span><span class="ident" id="8428746">Sub</span><span class="op" id="8428749">[</span><span class="num" id="8428750">0</span><span class="op" id="8428751">]</span><span class="op" id="8428752">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428755">case</span>&nbsp;<span class="ident" id="8428760">OpCapture</span><span class="op" id="8428769">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428773">if</span>&nbsp;<span class="ident" id="8428776">re</span><span class="op" id="8428778">.</span><span class="ident" id="8428779">Name</span>&nbsp;<span class="op" id="8428784">!=</span>&nbsp;<span class="string" id="8428787">&#34;&#34;</span>&nbsp;<span class="op" id="8428790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428795">b</span><span class="op" id="8428796">.</span><span class="ident" id="8428797">WriteString</span><span class="op" id="8428808">(</span><span class="ident" id="8428809">re</span><span class="op" id="8428811">.</span><span class="ident" id="8428812">Name</span><span class="op" id="8428816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428821">b</span><span class="op" id="8428822">.</span><span class="ident" id="8428823">WriteByte</span><span class="op" id="8428832">(</span><span class="string" id="8428833">&#39;:&#39;</span><span class="op" id="8428836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428840">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428844">dumpRegexp</span><span class="op" id="8428854">(</span><span class="ident" id="8428855">b</span><span class="op" id="8428856">,</span>&nbsp;<span class="ident" id="8428858">re</span><span class="op" id="8428860">.</span><span class="ident" id="8428861">Sub</span><span class="op" id="8428864">[</span><span class="num" id="8428865">0</span><span class="op" id="8428866">]</span><span class="op" id="8428867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428870">case</span>&nbsp;<span class="ident" id="8428875">OpCharClass</span><span class="op" id="8428886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428890">sep</span>&nbsp;<span class="op" id="8428894">:=</span>&nbsp;<span class="string" id="8428897">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428902">for</span>&nbsp;<span class="ident" id="8428906">i</span>&nbsp;<span class="op" id="8428908">:=</span>&nbsp;<span class="num" id="8428911">0</span><span class="op" id="8428912">;</span>&nbsp;<span class="ident" id="8428914">i</span>&nbsp;<span class="op" id="8428916">&lt;</span>&nbsp;<span class="builtinfunc" id="8428918">len</span><span class="op" id="8428921">(</span><span class="ident" id="8428922">re</span><span class="op" id="8428924">.</span><span class="ident" id="8428925">Rune</span><span class="op" id="8428929">)</span><span class="op" id="8428930">;</span>&nbsp;<span class="ident" id="8428932">i</span>&nbsp;<span class="op" id="8428934">+=</span>&nbsp;<span class="num" id="8428937">2</span>&nbsp;<span class="op" id="8428939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428944">b</span><span class="op" id="8428945">.</span><span class="ident" id="8428946">WriteString</span><span class="op" id="8428957">(</span><span class="ident" id="8428958">sep</span><span class="op" id="8428961">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428966">sep</span>&nbsp;<span class="op" id="8428970">=</span>&nbsp;<span class="string" id="8428972">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428979">lo</span><span class="op" id="8428981">,</span>&nbsp;<span class="ident" id="8428983">hi</span>&nbsp;<span class="op" id="8428986">:=</span>&nbsp;<span class="ident" id="8428989">re</span><span class="op" id="8428991">.</span><span class="ident" id="8428992">Rune</span><span class="op" id="8428996">[</span><span class="ident" id="8428997">i</span><span class="op" id="8428998">]</span><span class="op" id="8428999">,</span>&nbsp;<span class="ident" id="8429001">re</span><span class="op" id="8429003">.</span><span class="ident" id="8429004">Rune</span><span class="op" id="8429008">[</span><span class="ident" id="8429009">i</span><span class="op" id="8429010">+</span><span class="num" id="8429011">1</span><span class="op" id="8429012">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429017">if</span>&nbsp;<span class="ident" id="8429020">lo</span>&nbsp;<span class="op" id="8429023">==</span>&nbsp;<span class="ident" id="8429026">hi</span>&nbsp;<span class="op" id="8429029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429035">fmt</span><span class="op" id="8429038">.</span><span class="ident" id="8429039">Fprintf</span><span class="op" id="8429046">(</span><span class="ident" id="8429047">b</span><span class="op" id="8429048">,</span>&nbsp;<span class="string" id="8429050">&#34;%#x&#34;</span><span class="op" id="8429055">,</span>&nbsp;<span class="ident" id="8429057">lo</span><span class="op" id="8429059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429064">}</span>&nbsp;<span class="keyword" id="8429066">else</span>&nbsp;<span class="op" id="8429071">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429077">fmt</span><span class="op" id="8429080">.</span><span class="ident" id="8429081">Fprintf</span><span class="op" id="8429088">(</span><span class="ident" id="8429089">b</span><span class="op" id="8429090">,</span>&nbsp;<span class="string" id="8429092">&#34;%#x-%#x&#34;</span><span class="op" id="8429101">,</span>&nbsp;<span class="ident" id="8429103">lo</span><span class="op" id="8429105">,</span>&nbsp;<span class="ident" id="8429107">hi</span><span class="op" id="8429109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429124">b</span><span class="op" id="8429125">.</span><span class="ident" id="8429126">WriteByte</span><span class="op" id="8429135">(</span><span class="string" id="8429136">&#39;}&#39;</span><span class="op" id="8429139">)</span><br>
<span class="lineno">380</span><span class="op" id="8429141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8429144">func</span>&nbsp;<span class="ident" id="8429149">mkCharClass</span><span class="op" id="8429160">(</span><span class="ident" id="8429161">f</span>&nbsp;<span class="keyword" id="8429163">func</span><span class="op" id="8429167">(</span><span class="builtintype" id="8429168">rune</span><span class="op" id="8429172">)</span>&nbsp;<span class="builtintype" id="8429174">bool</span><span class="op" id="8429178">)</span>&nbsp;<span class="builtintype" id="8429180">string</span>&nbsp;<span class="op" id="8429187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429190">re</span>&nbsp;<span class="op" id="8429193">:=</span>&nbsp;<span class="op" id="8429196">&amp;</span><span class="ident" id="8429197">Regexp</span><span class="op" id="8429203">{</span><span class="ident" id="8429204">Op</span><span class="op" id="8429206">:</span>&nbsp;<span class="ident" id="8429208">OpCharClass</span><span class="op" id="8429219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429222">lo</span>&nbsp;<span class="op" id="8429225">:=</span>&nbsp;<span class="builtintype" id="8429228">rune</span><span class="op" id="8429232">(</span><span class="op" id="8429233">-</span><span class="num" id="8429234">1</span><span class="op" id="8429235">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429238">for</span>&nbsp;<span class="ident" id="8429242">i</span>&nbsp;<span class="op" id="8429244">:=</span>&nbsp;<span class="builtintype" id="8429247">rune</span><span class="op" id="8429251">(</span><span class="num" id="8429252">0</span><span class="op" id="8429253">)</span><span class="op" id="8429254">;</span>&nbsp;<span class="ident" id="8429256">i</span>&nbsp;<span class="op" id="8429258">&lt;=</span>&nbsp;<span class="ident" id="8429261">unicode</span><span class="op" id="8429268">.</span><span class="ident" id="8429269">MaxRune</span><span class="op" id="8429276">;</span>&nbsp;<span class="ident" id="8429278">i</span><span class="op" id="8429279">++</span>&nbsp;<span class="op" id="8429282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429286">if</span>&nbsp;<span class="ident" id="8429289">f</span><span class="op" id="8429290">(</span><span class="ident" id="8429291">i</span><span class="op" id="8429292">)</span>&nbsp;<span class="op" id="8429294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429299">if</span>&nbsp;<span class="ident" id="8429302">lo</span>&nbsp;<span class="op" id="8429305">&lt;</span>&nbsp;<span class="num" id="8429307">0</span>&nbsp;<span class="op" id="8429309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429315">lo</span>&nbsp;<span class="op" id="8429318">=</span>&nbsp;<span class="ident" id="8429320">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429325">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429329">}</span>&nbsp;<span class="keyword" id="8429331">else</span>&nbsp;<span class="op" id="8429336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429341">if</span>&nbsp;<span class="ident" id="8429344">lo</span>&nbsp;<span class="op" id="8429347">&gt;=</span>&nbsp;<span class="num" id="8429350">0</span>&nbsp;<span class="op" id="8429352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429358">re</span><span class="op" id="8429360">.</span><span class="ident" id="8429361">Rune</span>&nbsp;<span class="op" id="8429366">=</span>&nbsp;<span class="builtinfunc" id="8429368">append</span><span class="op" id="8429374">(</span><span class="ident" id="8429375">re</span><span class="op" id="8429377">.</span><span class="ident" id="8429378">Rune</span><span class="op" id="8429382">,</span>&nbsp;<span class="ident" id="8429384">lo</span><span class="op" id="8429386">,</span>&nbsp;<span class="ident" id="8429388">i</span><span class="op" id="8429389">-</span><span class="num" id="8429390">1</span><span class="op" id="8429391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429397">lo</span>&nbsp;<span class="op" id="8429400">=</span>&nbsp;<span class="op" id="8429402">-</span><span class="num" id="8429403">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429408">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429418">if</span>&nbsp;<span class="ident" id="8429421">lo</span>&nbsp;<span class="op" id="8429424">&gt;=</span>&nbsp;<span class="num" id="8429427">0</span>&nbsp;<span class="op" id="8429429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429433">re</span><span class="op" id="8429435">.</span><span class="ident" id="8429436">Rune</span>&nbsp;<span class="op" id="8429441">=</span>&nbsp;<span class="builtinfunc" id="8429443">append</span><span class="op" id="8429449">(</span><span class="ident" id="8429450">re</span><span class="op" id="8429452">.</span><span class="ident" id="8429453">Rune</span><span class="op" id="8429457">,</span>&nbsp;<span class="ident" id="8429459">lo</span><span class="op" id="8429461">,</span>&nbsp;<span class="ident" id="8429463">unicode</span><span class="op" id="8429470">.</span><span class="ident" id="8429471">MaxRune</span><span class="op" id="8429478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429481">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429484">return</span>&nbsp;<span class="ident" id="8429491">dump</span><span class="op" id="8429495">(</span><span class="ident" id="8429496">re</span><span class="op" id="8429498">)</span><br>
<span class="lineno"></span><span class="op" id="8429500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8429503">func</span>&nbsp;<span class="ident" id="8429508">isUpperFold</span><span class="op" id="8429519">(</span><span class="ident" id="8429520">r</span>&nbsp;<span class="builtintype" id="8429522">rune</span><span class="op" id="8429526">)</span>&nbsp;<span class="builtintype" id="8429528">bool</span>&nbsp;<span class="op" id="8429533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429536">if</span>&nbsp;<span class="ident" id="8429539">unicode</span><span class="op" id="8429546">.</span><span class="ident" id="8429547">IsUpper</span><span class="op" id="8429554">(</span><span class="ident" id="8429555">r</span><span class="op" id="8429556">)</span>&nbsp;<span class="op" id="8429558">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429562">return</span>&nbsp;<span class="builtintype" id="8429569">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429578">c</span>&nbsp;<span class="op" id="8429580">:=</span>&nbsp;<span class="ident" id="8429583">unicode</span><span class="op" id="8429590">.</span><span class="ident" id="8429591">SimpleFold</span><span class="op" id="8429601">(</span><span class="ident" id="8429602">r</span><span class="op" id="8429603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429606">for</span>&nbsp;<span class="ident" id="8429610">c</span>&nbsp;<span class="op" id="8429612">!=</span>&nbsp;<span class="ident" id="8429615">r</span>&nbsp;<span class="op" id="8429617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429621">if</span>&nbsp;<span class="ident" id="8429624">unicode</span><span class="op" id="8429631">.</span><span class="ident" id="8429632">IsUpper</span><span class="op" id="8429639">(</span><span class="ident" id="8429640">c</span><span class="op" id="8429641">)</span>&nbsp;<span class="op" id="8429643">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429648">return</span>&nbsp;<span class="builtintype" id="8429655">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429666">c</span>&nbsp;<span class="op" id="8429668">=</span>&nbsp;<span class="ident" id="8429670">unicode</span><span class="op" id="8429677">.</span><span class="ident" id="8429678">SimpleFold</span><span class="op" id="8429688">(</span><span class="ident" id="8429689">c</span><span class="op" id="8429690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429696">return</span>&nbsp;<span class="builtintype" id="8429703">false</span><br>
<span class="lineno">415</span><span class="op" id="8429709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8429712">func</span>&nbsp;<span class="ident" id="8429717">TestFoldConstants</span><span class="op" id="8429734">(</span><span class="ident" id="8429735">t</span>&nbsp;<span class="op" id="8429737">*</span><span class="ident" id="8429738">testing</span><span class="op" id="8429745">.</span><span class="ident" id="8429746">T</span><span class="op" id="8429747">)</span>&nbsp;<span class="op" id="8429749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429752">last</span>&nbsp;<span class="op" id="8429757">:=</span>&nbsp;<span class="builtintype" id="8429760">rune</span><span class="op" id="8429764">(</span><span class="op" id="8429765">-</span><span class="num" id="8429766">1</span><span class="op" id="8429767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429770">for</span>&nbsp;<span class="ident" id="8429774">i</span>&nbsp;<span class="op" id="8429776">:=</span>&nbsp;<span class="builtintype" id="8429779">rune</span><span class="op" id="8429783">(</span><span class="num" id="8429784">0</span><span class="op" id="8429785">)</span><span class="op" id="8429786">;</span>&nbsp;<span class="ident" id="8429788">i</span>&nbsp;<span class="op" id="8429790">&lt;=</span>&nbsp;<span class="ident" id="8429793">unicode</span><span class="op" id="8429800">.</span><span class="ident" id="8429801">MaxRune</span><span class="op" id="8429808">;</span>&nbsp;<span class="ident" id="8429810">i</span><span class="op" id="8429811">++</span>&nbsp;<span class="op" id="8429814">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429818">if</span>&nbsp;<span class="ident" id="8429821">unicode</span><span class="op" id="8429828">.</span><span class="ident" id="8429829">SimpleFold</span><span class="op" id="8429839">(</span><span class="ident" id="8429840">i</span><span class="op" id="8429841">)</span>&nbsp;<span class="op" id="8429843">==</span>&nbsp;<span class="ident" id="8429846">i</span>&nbsp;<span class="op" id="8429848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429853">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429868">if</span>&nbsp;<span class="ident" id="8429871">last</span>&nbsp;<span class="op" id="8429876">==</span>&nbsp;<span class="op" id="8429879">-</span><span class="num" id="8429880">1</span>&nbsp;<span class="op" id="8429882">&amp;&amp;</span>&nbsp;<span class="ident" id="8429885">minFold</span>&nbsp;<span class="op" id="8429893">!=</span>&nbsp;<span class="ident" id="8429896">i</span>&nbsp;<span class="op" id="8429898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429903">t</span><span class="op" id="8429904">.</span><span class="ident" id="8429905">Errorf</span><span class="op" id="8429911">(</span><span class="string" id="8429912">&#34;minFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="8429939">,</span>&nbsp;<span class="ident" id="8429941">minFold</span><span class="op" id="8429948">,</span>&nbsp;<span class="ident" id="8429950">i</span><span class="op" id="8429951">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429959">last</span>&nbsp;<span class="op" id="8429964">=</span>&nbsp;<span class="ident" id="8429966">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429972">if</span>&nbsp;<span class="ident" id="8429975">maxFold</span>&nbsp;<span class="op" id="8429983">!=</span>&nbsp;<span class="ident" id="8429986">last</span>&nbsp;<span class="op" id="8429991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429995">t</span><span class="op" id="8429996">.</span><span class="ident" id="8429997">Errorf</span><span class="op" id="8430003">(</span><span class="string" id="8430004">&#34;maxFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="8430031">,</span>&nbsp;<span class="ident" id="8430033">maxFold</span><span class="op" id="8430040">,</span>&nbsp;<span class="ident" id="8430042">last</span><span class="op" id="8430046">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430049">}</span><br>
<span class="lineno"></span><span class="op" id="8430051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8430054">func</span>&nbsp;<span class="ident" id="8430059">TestAppendRangeCollapse</span><span class="op" id="8430082">(</span><span class="ident" id="8430083">t</span>&nbsp;<span class="op" id="8430085">*</span><span class="ident" id="8430086">testing</span><span class="op" id="8430093">.</span><span class="ident" id="8430094">T</span><span class="op" id="8430095">)</span>&nbsp;<span class="op" id="8430097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8430100">//&nbsp;AppendRange&nbsp;should&nbsp;collapse&nbsp;each&nbsp;of&nbsp;the&nbsp;new&nbsp;ranges</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8430155">//&nbsp;into&nbsp;the&nbsp;earlier&nbsp;ones&nbsp;(it&nbsp;looks&nbsp;back&nbsp;two&nbsp;ranges),&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8430217">//&nbsp;the&nbsp;slice&nbsp;never&nbsp;grows&nbsp;very&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8430255">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;calling&nbsp;cleanClass.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430300">var</span>&nbsp;<span class="ident" id="8430304">r</span>&nbsp;<span class="op" id="8430306">[</span><span class="op" id="8430307">]</span><span class="builtintype" id="8430308">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430314">for</span>&nbsp;<span class="ident" id="8430318">i</span>&nbsp;<span class="op" id="8430320">:=</span>&nbsp;<span class="builtintype" id="8430323">rune</span><span class="op" id="8430327">(</span><span class="string" id="8430328">&#39;A&#39;</span><span class="op" id="8430331">)</span><span class="op" id="8430332">;</span>&nbsp;<span class="ident" id="8430334">i</span>&nbsp;<span class="op" id="8430336">&lt;=</span>&nbsp;<span class="string" id="8430339">&#39;Z&#39;</span><span class="op" id="8430342">;</span>&nbsp;<span class="ident" id="8430344">i</span><span class="op" id="8430345">++</span>&nbsp;<span class="op" id="8430348">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430352">r</span>&nbsp;<span class="op" id="8430354">=</span>&nbsp;<span class="ident" id="8430356">appendRange</span><span class="op" id="8430367">(</span><span class="ident" id="8430368">r</span><span class="op" id="8430369">,</span>&nbsp;<span class="ident" id="8430371">i</span><span class="op" id="8430372">,</span>&nbsp;<span class="ident" id="8430374">i</span><span class="op" id="8430375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430379">r</span>&nbsp;<span class="op" id="8430381">=</span>&nbsp;<span class="ident" id="8430383">appendRange</span><span class="op" id="8430394">(</span><span class="ident" id="8430395">r</span><span class="op" id="8430396">,</span>&nbsp;<span class="ident" id="8430398">i</span><span class="op" id="8430399">+</span><span class="string" id="8430400">&#39;a&#39;</span><span class="op" id="8430403">-</span><span class="string" id="8430404">&#39;A&#39;</span><span class="op" id="8430407">,</span>&nbsp;<span class="ident" id="8430409">i</span><span class="op" id="8430410">+</span><span class="string" id="8430411">&#39;a&#39;</span><span class="op" id="8430414">-</span><span class="string" id="8430415">&#39;A&#39;</span><span class="op" id="8430418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430424">if</span>&nbsp;<span class="builtintype" id="8430427">string</span><span class="op" id="8430433">(</span><span class="ident" id="8430434">r</span><span class="op" id="8430435">)</span>&nbsp;<span class="op" id="8430437">!=</span>&nbsp;<span class="string" id="8430440">&#34;AZaz&#34;</span>&nbsp;<span class="op" id="8430447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430451">t</span><span class="op" id="8430452">.</span><span class="ident" id="8430453">Errorf</span><span class="op" id="8430459">(</span><span class="string" id="8430460">&#34;appendRange&nbsp;interlaced&nbsp;A-Z&nbsp;a-z&nbsp;=&nbsp;%s,&nbsp;want&nbsp;AZaz&#34;</span><span class="op" id="8430508">,</span>&nbsp;<span class="builtintype" id="8430510">string</span><span class="op" id="8430516">(</span><span class="ident" id="8430517">r</span><span class="op" id="8430518">)</span><span class="op" id="8430519">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430522">}</span><br>
<span class="lineno"></span><span class="op" id="8430524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8430527">var</span>&nbsp;<span class="ident" id="8430531">invalidRegexps</span>&nbsp;<span class="op" id="8430546">=</span>&nbsp;<span class="op" id="8430548">[</span><span class="op" id="8430549">]</span><span class="builtintype" id="8430550">string</span><span class="op" id="8430556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430559">`(`</span><span class="op" id="8430562">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430565">`)`</span><span class="op" id="8430568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430571">`(a`</span><span class="op" id="8430575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430578">`a)`</span><span class="op" id="8430582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430585">`(a))`</span><span class="op" id="8430591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430594">`(a|b|`</span><span class="op" id="8430601">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430604">`a|b|)`</span><span class="op" id="8430611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430614">`(a|b|))`</span><span class="op" id="8430623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430626">`(a|b`</span><span class="op" id="8430632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430635">`a|b)`</span><span class="op" id="8430641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430644">`(a|b))`</span><span class="op" id="8430652">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430655">`[a-z`</span><span class="op" id="8430661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430664">`([a-z)`</span><span class="op" id="8430672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430675">`[a-z)`</span><span class="op" id="8430682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430685">`([a-z]))`</span><span class="op" id="8430695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430698">`x{1001}`</span><span class="op" id="8430707">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430710">`x{9876543210}`</span><span class="op" id="8430725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430728">`x{2,1}`</span><span class="op" id="8430736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430739">`x{1,9876543210}`</span><span class="op" id="8430756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430759">&#34;\xff&#34;</span><span class="op" id="8430765">,</span>&nbsp;<span class="comment" id="8430767">//&nbsp;Invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430785">&#34;[\xff]&#34;</span><span class="op" id="8430793">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430796">&#34;[\\\xff]&#34;</span><span class="op" id="8430806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430809">&#34;\\\xff&#34;</span><span class="op" id="8430817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430820">`(?P&lt;name&gt;a`</span><span class="op" id="8430832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430835">`(?P&lt;name&gt;`</span><span class="op" id="8430846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430849">`(?P&lt;name`</span><span class="op" id="8430859">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430862">`(?P&lt;x&nbsp;y&gt;a)`</span><span class="op" id="8430874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430877">`(?P&lt;&gt;a)`</span><span class="op" id="8430886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430889">`[a-Z]`</span><span class="op" id="8430896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430899">`(?i)[a-Z]`</span><span class="op" id="8430910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430913">`a{100000}`</span><span class="op" id="8430924">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430927">`a{100000,}`</span><span class="op" id="8430939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8430942">&#34;((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}){2})&#34;</span><span class="op" id="8430995">,</span><br>
<span class="lineno"></span><span class="op" id="8430997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8431000">var</span>&nbsp;<span class="ident" id="8431004">onlyPerl</span>&nbsp;<span class="op" id="8431013">=</span>&nbsp;<span class="op" id="8431015">[</span><span class="op" id="8431016">]</span><span class="builtintype" id="8431017">string</span><span class="op" id="8431023">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431026">`[a-b-c]`</span><span class="op" id="8431035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431038">`\Qabc\E`</span><span class="op" id="8431047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431050">`\Q*+?{[\E`</span><span class="op" id="8431061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431064">`\Q\\E`</span><span class="op" id="8431071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431074">`\Q\\\E`</span><span class="op" id="8431082">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431085">`\Q\\\\E`</span><span class="op" id="8431094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431097">`\Q\\\\\E`</span><span class="op" id="8431107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431110">`(?:a)`</span><span class="op" id="8431117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431120">`(?P&lt;name&gt;a)`</span><span class="op" id="8431133">,</span><br>
<span class="lineno"></span><span class="op" id="8431135">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="8431138">var</span>&nbsp;<span class="ident" id="8431142">onlyPOSIX</span>&nbsp;<span class="op" id="8431152">=</span>&nbsp;<span class="op" id="8431154">[</span><span class="op" id="8431155">]</span><span class="builtintype" id="8431156">string</span><span class="op" id="8431162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431165">&#34;a++&#34;</span><span class="op" id="8431170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431173">&#34;a**&#34;</span><span class="op" id="8431178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431181">&#34;a?*&#34;</span><span class="op" id="8431186">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431189">&#34;a+*&#34;</span><span class="op" id="8431194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431197">&#34;a{1}*&#34;</span><span class="op" id="8431204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431207">&#34;.{1}{2}.{3}&#34;</span><span class="op" id="8431220">,</span><br>
<span class="lineno"></span><span class="op" id="8431222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="keyword" id="8431225">func</span>&nbsp;<span class="ident" id="8431230">TestParseInvalidRegexps</span><span class="op" id="8431253">(</span><span class="ident" id="8431254">t</span>&nbsp;<span class="op" id="8431256">*</span><span class="ident" id="8431257">testing</span><span class="op" id="8431264">.</span><span class="ident" id="8431265">T</span><span class="op" id="8431266">)</span>&nbsp;<span class="op" id="8431268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431271">for</span>&nbsp;<span class="ident" id="8431275">_</span><span class="op" id="8431276">,</span>&nbsp;<span class="ident" id="8431278">regexp</span>&nbsp;<span class="op" id="8431285">:=</span>&nbsp;<span class="keyword" id="8431288">range</span>&nbsp;<span class="ident" id="8431294">invalidRegexps</span>&nbsp;<span class="op" id="8431309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431313">if</span>&nbsp;<span class="ident" id="8431316">re</span><span class="op" id="8431318">,</span>&nbsp;<span class="ident" id="8431320">err</span>&nbsp;<span class="op" id="8431324">:=</span>&nbsp;<span class="ident" id="8431327">Parse</span><span class="op" id="8431332">(</span><span class="ident" id="8431333">regexp</span><span class="op" id="8431339">,</span>&nbsp;<span class="ident" id="8431341">Perl</span><span class="op" id="8431345">)</span><span class="op" id="8431346">;</span>&nbsp;<span class="ident" id="8431348">err</span>&nbsp;<span class="op" id="8431352">==</span>&nbsp;<span class="ident" id="8431355">nil</span>&nbsp;<span class="op" id="8431359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431364">t</span><span class="op" id="8431365">.</span><span class="ident" id="8431366">Errorf</span><span class="op" id="8431372">(</span><span class="string" id="8431373">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="8431416">,</span>&nbsp;<span class="ident" id="8431418">regexp</span><span class="op" id="8431424">,</span>&nbsp;<span class="ident" id="8431426">dump</span><span class="op" id="8431430">(</span><span class="ident" id="8431431">re</span><span class="op" id="8431433">)</span><span class="op" id="8431434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431438">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431442">if</span>&nbsp;<span class="ident" id="8431445">re</span><span class="op" id="8431447">,</span>&nbsp;<span class="ident" id="8431449">err</span>&nbsp;<span class="op" id="8431453">:=</span>&nbsp;<span class="ident" id="8431456">Parse</span><span class="op" id="8431461">(</span><span class="ident" id="8431462">regexp</span><span class="op" id="8431468">,</span>&nbsp;<span class="ident" id="8431470">POSIX</span><span class="op" id="8431475">)</span><span class="op" id="8431476">;</span>&nbsp;<span class="ident" id="8431478">err</span>&nbsp;<span class="op" id="8431482">==</span>&nbsp;<span class="ident" id="8431485">nil</span>&nbsp;<span class="op" id="8431489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431494">t</span><span class="op" id="8431495">.</span><span class="ident" id="8431496">Errorf</span><span class="op" id="8431502">(</span><span class="string" id="8431503">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="8431547">,</span>&nbsp;<span class="ident" id="8431549">regexp</span><span class="op" id="8431555">,</span>&nbsp;<span class="ident" id="8431557">dump</span><span class="op" id="8431561">(</span><span class="ident" id="8431562">re</span><span class="op" id="8431564">)</span><span class="op" id="8431565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431575">for</span>&nbsp;<span class="ident" id="8431579">_</span><span class="op" id="8431580">,</span>&nbsp;<span class="ident" id="8431582">regexp</span>&nbsp;<span class="op" id="8431589">:=</span>&nbsp;<span class="keyword" id="8431592">range</span>&nbsp;<span class="ident" id="8431598">onlyPerl</span>&nbsp;<span class="op" id="8431607">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431611">if</span>&nbsp;<span class="ident" id="8431614">_</span><span class="op" id="8431615">,</span>&nbsp;<span class="ident" id="8431617">err</span>&nbsp;<span class="op" id="8431621">:=</span>&nbsp;<span class="ident" id="8431624">Parse</span><span class="op" id="8431629">(</span><span class="ident" id="8431630">regexp</span><span class="op" id="8431636">,</span>&nbsp;<span class="ident" id="8431638">Perl</span><span class="op" id="8431642">)</span><span class="op" id="8431643">;</span>&nbsp;<span class="ident" id="8431645">err</span>&nbsp;<span class="op" id="8431649">!=</span>&nbsp;<span class="ident" id="8431652">nil</span>&nbsp;<span class="op" id="8431656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431661">t</span><span class="op" id="8431662">.</span><span class="ident" id="8431663">Errorf</span><span class="op" id="8431669">(</span><span class="string" id="8431670">&#34;Parse(%#q,&nbsp;Perl):&nbsp;%v&#34;</span><span class="op" id="8431692">,</span>&nbsp;<span class="ident" id="8431694">regexp</span><span class="op" id="8431700">,</span>&nbsp;<span class="ident" id="8431702">err</span><span class="op" id="8431705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431713">if</span>&nbsp;<span class="ident" id="8431716">re</span><span class="op" id="8431718">,</span>&nbsp;<span class="ident" id="8431720">err</span>&nbsp;<span class="op" id="8431724">:=</span>&nbsp;<span class="ident" id="8431727">Parse</span><span class="op" id="8431732">(</span><span class="ident" id="8431733">regexp</span><span class="op" id="8431739">,</span>&nbsp;<span class="ident" id="8431741">POSIX</span><span class="op" id="8431746">)</span><span class="op" id="8431747">;</span>&nbsp;<span class="ident" id="8431749">err</span>&nbsp;<span class="op" id="8431753">==</span>&nbsp;<span class="ident" id="8431756">nil</span>&nbsp;<span class="op" id="8431760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431765">t</span><span class="op" id="8431766">.</span><span class="ident" id="8431767">Errorf</span><span class="op" id="8431773">(</span><span class="string" id="8431774">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="8431818">,</span>&nbsp;<span class="ident" id="8431820">regexp</span><span class="op" id="8431826">,</span>&nbsp;<span class="ident" id="8431828">dump</span><span class="op" id="8431832">(</span><span class="ident" id="8431833">re</span><span class="op" id="8431835">)</span><span class="op" id="8431836">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431846">for</span>&nbsp;<span class="ident" id="8431850">_</span><span class="op" id="8431851">,</span>&nbsp;<span class="ident" id="8431853">regexp</span>&nbsp;<span class="op" id="8431860">:=</span>&nbsp;<span class="keyword" id="8431863">range</span>&nbsp;<span class="ident" id="8431869">onlyPOSIX</span>&nbsp;<span class="op" id="8431879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431883">if</span>&nbsp;<span class="ident" id="8431886">re</span><span class="op" id="8431888">,</span>&nbsp;<span class="ident" id="8431890">err</span>&nbsp;<span class="op" id="8431894">:=</span>&nbsp;<span class="ident" id="8431897">Parse</span><span class="op" id="8431902">(</span><span class="ident" id="8431903">regexp</span><span class="op" id="8431909">,</span>&nbsp;<span class="ident" id="8431911">Perl</span><span class="op" id="8431915">)</span><span class="op" id="8431916">;</span>&nbsp;<span class="ident" id="8431918">err</span>&nbsp;<span class="op" id="8431922">==</span>&nbsp;<span class="ident" id="8431925">nil</span>&nbsp;<span class="op" id="8431929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431934">t</span><span class="op" id="8431935">.</span><span class="ident" id="8431936">Errorf</span><span class="op" id="8431942">(</span><span class="string" id="8431943">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="8431986">,</span>&nbsp;<span class="ident" id="8431988">regexp</span><span class="op" id="8431994">,</span>&nbsp;<span class="ident" id="8431996">dump</span><span class="op" id="8432000">(</span><span class="ident" id="8432001">re</span><span class="op" id="8432003">)</span><span class="op" id="8432004">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432012">if</span>&nbsp;<span class="ident" id="8432015">_</span><span class="op" id="8432016">,</span>&nbsp;<span class="ident" id="8432018">err</span>&nbsp;<span class="op" id="8432022">:=</span>&nbsp;<span class="ident" id="8432025">Parse</span><span class="op" id="8432030">(</span><span class="ident" id="8432031">regexp</span><span class="op" id="8432037">,</span>&nbsp;<span class="ident" id="8432039">POSIX</span><span class="op" id="8432044">)</span><span class="op" id="8432045">;</span>&nbsp;<span class="ident" id="8432047">err</span>&nbsp;<span class="op" id="8432051">!=</span>&nbsp;<span class="ident" id="8432054">nil</span>&nbsp;<span class="op" id="8432058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432063">t</span><span class="op" id="8432064">.</span><span class="ident" id="8432065">Errorf</span><span class="op" id="8432071">(</span><span class="string" id="8432072">&#34;Parse(%#q,&nbsp;POSIX):&nbsp;%v&#34;</span><span class="op" id="8432095">,</span>&nbsp;<span class="ident" id="8432097">regexp</span><span class="op" id="8432103">,</span>&nbsp;<span class="ident" id="8432105">err</span><span class="op" id="8432108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432115">}</span><br>
<span class="lineno">530</span><span class="op" id="8432117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8432120">func</span>&nbsp;<span class="ident" id="8432125">TestToStringEquivalentParse</span><span class="op" id="8432152">(</span><span class="ident" id="8432153">t</span>&nbsp;<span class="op" id="8432155">*</span><span class="ident" id="8432156">testing</span><span class="op" id="8432163">.</span><span class="ident" id="8432164">T</span><span class="op" id="8432165">)</span>&nbsp;<span class="op" id="8432167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432170">for</span>&nbsp;<span class="ident" id="8432174">_</span><span class="op" id="8432175">,</span>&nbsp;<span class="ident" id="8432177">tt</span>&nbsp;<span class="op" id="8432180">:=</span>&nbsp;<span class="keyword" id="8432183">range</span>&nbsp;<span class="ident" id="8432189">parseTests</span>&nbsp;<span class="op" id="8432200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432204">re</span><span class="op" id="8432206">,</span>&nbsp;<span class="ident" id="8432208">err</span>&nbsp;<span class="op" id="8432212">:=</span>&nbsp;<span class="ident" id="8432215">Parse</span><span class="op" id="8432220">(</span><span class="ident" id="8432221">tt</span><span class="op" id="8432223">.</span><span class="ident" id="8432224">Regexp</span><span class="op" id="8432230">,</span>&nbsp;<span class="ident" id="8432232">testFlags</span><span class="op" id="8432241">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432245">if</span>&nbsp;<span class="ident" id="8432248">err</span>&nbsp;<span class="op" id="8432252">!=</span>&nbsp;<span class="ident" id="8432255">nil</span>&nbsp;<span class="op" id="8432259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432264">t</span><span class="op" id="8432265">.</span><span class="ident" id="8432266">Errorf</span><span class="op" id="8432272">(</span><span class="string" id="8432273">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="8432289">,</span>&nbsp;<span class="ident" id="8432291">tt</span><span class="op" id="8432293">.</span><span class="ident" id="8432294">Regexp</span><span class="op" id="8432300">,</span>&nbsp;<span class="ident" id="8432302">err</span><span class="op" id="8432305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432310">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432325">if</span>&nbsp;<span class="ident" id="8432328">tt</span><span class="op" id="8432330">.</span><span class="ident" id="8432331">Dump</span>&nbsp;<span class="op" id="8432336">==</span>&nbsp;<span class="string" id="8432339">&#34;&#34;</span>&nbsp;<span class="op" id="8432342">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432347">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432390">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432405">d</span>&nbsp;<span class="op" id="8432407">:=</span>&nbsp;<span class="ident" id="8432410">dump</span><span class="op" id="8432414">(</span><span class="ident" id="8432415">re</span><span class="op" id="8432417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432421">if</span>&nbsp;<span class="ident" id="8432424">d</span>&nbsp;<span class="op" id="8432426">!=</span>&nbsp;<span class="ident" id="8432429">tt</span><span class="op" id="8432431">.</span><span class="ident" id="8432432">Dump</span>&nbsp;<span class="op" id="8432437">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432442">t</span><span class="op" id="8432443">.</span><span class="ident" id="8432444">Errorf</span><span class="op" id="8432450">(</span><span class="string" id="8432451">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="8432485">,</span>&nbsp;<span class="ident" id="8432487">tt</span><span class="op" id="8432489">.</span><span class="ident" id="8432490">Regexp</span><span class="op" id="8432496">,</span>&nbsp;<span class="ident" id="8432498">d</span><span class="op" id="8432499">,</span>&nbsp;<span class="ident" id="8432501">tt</span><span class="op" id="8432503">.</span><span class="ident" id="8432504">Dump</span><span class="op" id="8432508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432513">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432529">s</span>&nbsp;<span class="op" id="8432531">:=</span>&nbsp;<span class="ident" id="8432534">re</span><span class="op" id="8432536">.</span><span class="ident" id="8432537">String</span><span class="op" id="8432543">(</span><span class="op" id="8432544">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432548">if</span>&nbsp;<span class="ident" id="8432551">s</span>&nbsp;<span class="op" id="8432553">!=</span>&nbsp;<span class="ident" id="8432556">tt</span><span class="op" id="8432558">.</span><span class="ident" id="8432559">Regexp</span>&nbsp;<span class="op" id="8432566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432571">//&nbsp;If&nbsp;ToString&nbsp;didn&#39;t&nbsp;return&nbsp;the&nbsp;original&nbsp;regexp,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432624">//&nbsp;it&nbsp;must&nbsp;have&nbsp;found&nbsp;one&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432672">//&nbsp;Unfortunately&nbsp;we&nbsp;can&#39;t&nbsp;check&nbsp;the&nbsp;length&nbsp;here,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432732">//&nbsp;ToString&nbsp;produces&nbsp;&#34;\\{&#34;&nbsp;for&nbsp;a&nbsp;literal&nbsp;brace,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432783">//&nbsp;but&nbsp;&#34;{&#34;&nbsp;is&nbsp;a&nbsp;shorter&nbsp;equivalent&nbsp;in&nbsp;some&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432839">nre</span><span class="op" id="8432842">,</span>&nbsp;<span class="ident" id="8432844">err</span>&nbsp;<span class="op" id="8432848">:=</span>&nbsp;<span class="ident" id="8432851">Parse</span><span class="op" id="8432856">(</span><span class="ident" id="8432857">s</span><span class="op" id="8432858">,</span>&nbsp;<span class="ident" id="8432860">testFlags</span><span class="op" id="8432869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432874">if</span>&nbsp;<span class="ident" id="8432877">err</span>&nbsp;<span class="op" id="8432881">!=</span>&nbsp;<span class="ident" id="8432884">nil</span>&nbsp;<span class="op" id="8432888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432894">t</span><span class="op" id="8432895">.</span><span class="ident" id="8432896">Errorf</span><span class="op" id="8432902">(</span><span class="string" id="8432903">&#34;Parse(%#q.String()&nbsp;=&nbsp;%#q):&nbsp;%v&#34;</span><span class="op" id="8432934">,</span>&nbsp;<span class="ident" id="8432936">tt</span><span class="op" id="8432938">.</span><span class="ident" id="8432939">Regexp</span><span class="op" id="8432945">,</span>&nbsp;<span class="ident" id="8432947">s</span><span class="op" id="8432948">,</span>&nbsp;<span class="ident" id="8432950">err</span><span class="op" id="8432953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432959">continue</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432976">nd</span>&nbsp;<span class="op" id="8432979">:=</span>&nbsp;<span class="ident" id="8432982">dump</span><span class="op" id="8432986">(</span><span class="ident" id="8432987">nre</span><span class="op" id="8432990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432995">if</span>&nbsp;<span class="ident" id="8432998">d</span>&nbsp;<span class="op" id="8433000">!=</span>&nbsp;<span class="ident" id="8433003">nd</span>&nbsp;<span class="op" id="8433006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433012">t</span><span class="op" id="8433013">.</span><span class="ident" id="8433014">Errorf</span><span class="op" id="8433020">(</span><span class="string" id="8433021">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q;&nbsp;%#q&nbsp;vs&nbsp;%#q&#34;</span><span class="op" id="8433052">,</span>&nbsp;<span class="ident" id="8433054">tt</span><span class="op" id="8433056">.</span><span class="ident" id="8433057">Regexp</span><span class="op" id="8433063">,</span>&nbsp;<span class="ident" id="8433065">s</span><span class="op" id="8433066">,</span>&nbsp;<span class="ident" id="8433068">d</span><span class="op" id="8433069">,</span>&nbsp;<span class="ident" id="8433071">nd</span><span class="op" id="8433073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433078">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433084">ns</span>&nbsp;<span class="op" id="8433087">:=</span>&nbsp;<span class="ident" id="8433090">nre</span><span class="op" id="8433093">.</span><span class="ident" id="8433094">String</span><span class="op" id="8433100">(</span><span class="op" id="8433101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433106">if</span>&nbsp;<span class="ident" id="8433109">s</span>&nbsp;<span class="op" id="8433111">!=</span>&nbsp;<span class="ident" id="8433114">ns</span>&nbsp;<span class="op" id="8433117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433123">t</span><span class="op" id="8433124">.</span><span class="ident" id="8433125">Errorf</span><span class="op" id="8433131">(</span><span class="string" id="8433132">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q&nbsp;-&gt;&nbsp;%#q&#34;</span><span class="op" id="8433158">,</span>&nbsp;<span class="ident" id="8433160">tt</span><span class="op" id="8433162">.</span><span class="ident" id="8433163">Regexp</span><span class="op" id="8433169">,</span>&nbsp;<span class="ident" id="8433171">s</span><span class="op" id="8433172">,</span>&nbsp;<span class="ident" id="8433174">ns</span><span class="op" id="8433176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433181">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433188">}</span><br>
<span class="lineno"></span><span class="op" id="8433190">}</span>
</div>
</body>
</html>
