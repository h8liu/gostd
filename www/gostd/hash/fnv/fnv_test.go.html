<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html" class="current">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7116291">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7116346">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7116400">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7116451">package</span>&nbsp;<span class="ident" id="7116459">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7116464">import</span>&nbsp;<span class="op" id="7116471">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7116474">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7116483">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7116502">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7116510">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7116520">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7116523">type</span>&nbsp;<span class="ident" id="7116528">golden</span>&nbsp;<span class="keyword" id="7116535">struct</span>&nbsp;<span class="op" id="7116542">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7116545">sum</span>&nbsp;&nbsp;<span class="op" id="7116550">[</span><span class="op" id="7116551">]</span><span class="builtintype" id="7116552">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7116558">text</span>&nbsp;<span class="builtintype" id="7116563">string</span><br>
<span class="lineno"></span><span class="op" id="7116570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7116573">var</span>&nbsp;<span class="ident" id="7116577">golden32</span>&nbsp;<span class="op" id="7116586">=</span>&nbsp;<span class="op" id="7116588">[</span><span class="op" id="7116589">]</span><span class="ident" id="7116590">golden</span><span class="op" id="7116596">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116599">{</span><span class="op" id="7116600">[</span><span class="op" id="7116601">]</span><span class="builtintype" id="7116602">byte</span><span class="op" id="7116606">{</span><span class="num" id="7116607">0x81</span><span class="op" id="7116611">,</span>&nbsp;<span class="num" id="7116613">0x1c</span><span class="op" id="7116617">,</span>&nbsp;<span class="num" id="7116619">0x9d</span><span class="op" id="7116623">,</span>&nbsp;<span class="num" id="7116625">0xc5</span><span class="op" id="7116629">}</span><span class="op" id="7116630">,</span>&nbsp;<span class="string" id="7116632">&#34;&#34;</span><span class="op" id="7116634">}</span><span class="op" id="7116635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116638">{</span><span class="op" id="7116639">[</span><span class="op" id="7116640">]</span><span class="builtintype" id="7116641">byte</span><span class="op" id="7116645">{</span><span class="num" id="7116646">0x05</span><span class="op" id="7116650">,</span>&nbsp;<span class="num" id="7116652">0x0c</span><span class="op" id="7116656">,</span>&nbsp;<span class="num" id="7116658">0x5d</span><span class="op" id="7116662">,</span>&nbsp;<span class="num" id="7116664">0x7e</span><span class="op" id="7116668">}</span><span class="op" id="7116669">,</span>&nbsp;<span class="string" id="7116671">&#34;a&#34;</span><span class="op" id="7116674">}</span><span class="op" id="7116675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116678">{</span><span class="op" id="7116679">[</span><span class="op" id="7116680">]</span><span class="builtintype" id="7116681">byte</span><span class="op" id="7116685">{</span><span class="num" id="7116686">0x70</span><span class="op" id="7116690">,</span>&nbsp;<span class="num" id="7116692">0x77</span><span class="op" id="7116696">,</span>&nbsp;<span class="num" id="7116698">0x2d</span><span class="op" id="7116702">,</span>&nbsp;<span class="num" id="7116704">0x38</span><span class="op" id="7116708">}</span><span class="op" id="7116709">,</span>&nbsp;<span class="string" id="7116711">&#34;ab&#34;</span><span class="op" id="7116715">}</span><span class="op" id="7116716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116719">{</span><span class="op" id="7116720">[</span><span class="op" id="7116721">]</span><span class="builtintype" id="7116722">byte</span><span class="op" id="7116726">{</span><span class="num" id="7116727">0x43</span><span class="op" id="7116731">,</span>&nbsp;<span class="num" id="7116733">0x9c</span><span class="op" id="7116737">,</span>&nbsp;<span class="num" id="7116739">0x2f</span><span class="op" id="7116743">,</span>&nbsp;<span class="num" id="7116745">0x4b</span><span class="op" id="7116749">}</span><span class="op" id="7116750">,</span>&nbsp;<span class="string" id="7116752">&#34;abc&#34;</span><span class="op" id="7116757">}</span><span class="op" id="7116758">,</span><br>
<span class="lineno"></span><span class="op" id="7116760">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7116763">var</span>&nbsp;<span class="ident" id="7116767">golden32a</span>&nbsp;<span class="op" id="7116777">=</span>&nbsp;<span class="op" id="7116779">[</span><span class="op" id="7116780">]</span><span class="ident" id="7116781">golden</span><span class="op" id="7116787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116790">{</span><span class="op" id="7116791">[</span><span class="op" id="7116792">]</span><span class="builtintype" id="7116793">byte</span><span class="op" id="7116797">{</span><span class="num" id="7116798">0x81</span><span class="op" id="7116802">,</span>&nbsp;<span class="num" id="7116804">0x1c</span><span class="op" id="7116808">,</span>&nbsp;<span class="num" id="7116810">0x9d</span><span class="op" id="7116814">,</span>&nbsp;<span class="num" id="7116816">0xc5</span><span class="op" id="7116820">}</span><span class="op" id="7116821">,</span>&nbsp;<span class="string" id="7116823">&#34;&#34;</span><span class="op" id="7116825">}</span><span class="op" id="7116826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116829">{</span><span class="op" id="7116830">[</span><span class="op" id="7116831">]</span><span class="builtintype" id="7116832">byte</span><span class="op" id="7116836">{</span><span class="num" id="7116837">0xe4</span><span class="op" id="7116841">,</span>&nbsp;<span class="num" id="7116843">0x0c</span><span class="op" id="7116847">,</span>&nbsp;<span class="num" id="7116849">0x29</span><span class="op" id="7116853">,</span>&nbsp;<span class="num" id="7116855">0x2c</span><span class="op" id="7116859">}</span><span class="op" id="7116860">,</span>&nbsp;<span class="string" id="7116862">&#34;a&#34;</span><span class="op" id="7116865">}</span><span class="op" id="7116866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116869">{</span><span class="op" id="7116870">[</span><span class="op" id="7116871">]</span><span class="builtintype" id="7116872">byte</span><span class="op" id="7116876">{</span><span class="num" id="7116877">0x4d</span><span class="op" id="7116881">,</span>&nbsp;<span class="num" id="7116883">0x25</span><span class="op" id="7116887">,</span>&nbsp;<span class="num" id="7116889">0x05</span><span class="op" id="7116893">,</span>&nbsp;<span class="num" id="7116895">0xca</span><span class="op" id="7116899">}</span><span class="op" id="7116900">,</span>&nbsp;<span class="string" id="7116902">&#34;ab&#34;</span><span class="op" id="7116906">}</span><span class="op" id="7116907">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116910">{</span><span class="op" id="7116911">[</span><span class="op" id="7116912">]</span><span class="builtintype" id="7116913">byte</span><span class="op" id="7116917">{</span><span class="num" id="7116918">0x1a</span><span class="op" id="7116922">,</span>&nbsp;<span class="num" id="7116924">0x47</span><span class="op" id="7116928">,</span>&nbsp;<span class="num" id="7116930">0xe9</span><span class="op" id="7116934">,</span>&nbsp;<span class="num" id="7116936">0x0b</span><span class="op" id="7116940">}</span><span class="op" id="7116941">,</span>&nbsp;<span class="string" id="7116943">&#34;abc&#34;</span><span class="op" id="7116948">}</span><span class="op" id="7116949">,</span><br>
<span class="lineno"></span><span class="op" id="7116951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7116954">var</span>&nbsp;<span class="ident" id="7116958">golden64</span>&nbsp;<span class="op" id="7116967">=</span>&nbsp;<span class="op" id="7116969">[</span><span class="op" id="7116970">]</span><span class="ident" id="7116971">golden</span><span class="op" id="7116977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7116980">{</span><span class="op" id="7116981">[</span><span class="op" id="7116982">]</span><span class="builtintype" id="7116983">byte</span><span class="op" id="7116987">{</span><span class="num" id="7116988">0xcb</span><span class="op" id="7116992">,</span>&nbsp;<span class="num" id="7116994">0xf2</span><span class="op" id="7116998">,</span>&nbsp;<span class="num" id="7117000">0x9c</span><span class="op" id="7117004">,</span>&nbsp;<span class="num" id="7117006">0xe4</span><span class="op" id="7117010">,</span>&nbsp;<span class="num" id="7117012">0x84</span><span class="op" id="7117016">,</span>&nbsp;<span class="num" id="7117018">0x22</span><span class="op" id="7117022">,</span>&nbsp;<span class="num" id="7117024">0x23</span><span class="op" id="7117028">,</span>&nbsp;<span class="num" id="7117030">0x25</span><span class="op" id="7117034">}</span><span class="op" id="7117035">,</span>&nbsp;<span class="string" id="7117037">&#34;&#34;</span><span class="op" id="7117039">}</span><span class="op" id="7117040">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7117043">{</span><span class="op" id="7117044">[</span><span class="op" id="7117045">]</span><span class="builtintype" id="7117046">byte</span><span class="op" id="7117050">{</span><span class="num" id="7117051">0xaf</span><span class="op" id="7117055">,</span>&nbsp;<span class="num" id="7117057">0x63</span><span class="op" id="7117061">,</span>&nbsp;<span class="num" id="7117063">0xbd</span><span class="op" id="7117067">,</span>&nbsp;<span class="num" id="7117069">0x4c</span><span class="op" id="7117073">,</span>&nbsp;<span class="num" id="7117075">0x86</span><span class="op" id="7117079">,</span>&nbsp;<span class="num" id="7117081">0x01</span><span class="op" id="7117085">,</span>&nbsp;<span class="num" id="7117087">0xb7</span><span class="op" id="7117091">,</span>&nbsp;<span class="num" id="7117093">0xbe</span><span class="op" id="7117097">}</span><span class="op" id="7117098">,</span>&nbsp;<span class="string" id="7117100">&#34;a&#34;</span><span class="op" id="7117103">}</span><span class="op" id="7117104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7117107">{</span><span class="op" id="7117108">[</span><span class="op" id="7117109">]</span><span class="builtintype" id="7117110">byte</span><span class="op" id="7117114">{</span><span class="num" id="7117115">0x08</span><span class="op" id="7117119">,</span>&nbsp;<span class="num" id="7117121">0x32</span><span class="op" id="7117125">,</span>&nbsp;<span class="num" id="7117127">0x67</span><span class="op" id="7117131">,</span>&nbsp;<span class="num" id="7117133">0x07</span><span class="op" id="7117137">,</span>&nbsp;<span class="num" id="7117139">0xb4</span><span class="op" id="7117143">,</span>&nbsp;<span class="num" id="7117145">0xeb</span><span class="op" id="7117149">,</span>&nbsp;<span class="num" id="7117151">0x37</span><span class="op" id="7117155">,</span>&nbsp;<span class="num" id="7117157">0xb8</span><span class="op" id="7117161">}</span><span class="op" id="7117162">,</span>&nbsp;<span class="string" id="7117164">&#34;ab&#34;</span><span class="op" id="7117168">}</span><span class="op" id="7117169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7117172">{</span><span class="op" id="7117173">[</span><span class="op" id="7117174">]</span><span class="builtintype" id="7117175">byte</span><span class="op" id="7117179">{</span><span class="num" id="7117180">0xd8</span><span class="op" id="7117184">,</span>&nbsp;<span class="num" id="7117186">0xdc</span><span class="op" id="7117190">,</span>&nbsp;<span class="num" id="7117192">0xca</span><span class="op" id="7117196">,</span>&nbsp;<span class="num" id="7117198">0x18</span><span class="op" id="7117202">,</span>&nbsp;<span class="num" id="7117204">0x6b</span><span class="op" id="7117208">,</span>&nbsp;<span class="num" id="7117210">0xaf</span><span class="op" id="7117214">,</span>&nbsp;<span class="num" id="7117216">0xad</span><span class="op" id="7117220">,</span>&nbsp;<span class="num" id="7117222">0xcb</span><span class="op" id="7117226">}</span><span class="op" id="7117227">,</span>&nbsp;<span class="string" id="7117229">&#34;abc&#34;</span><span class="op" id="7117234">}</span><span class="op" id="7117235">,</span><br>
<span class="lineno"></span><span class="op" id="7117237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7117240">var</span>&nbsp;<span class="ident" id="7117244">golden64a</span>&nbsp;<span class="op" id="7117254">=</span>&nbsp;<span class="op" id="7117256">[</span><span class="op" id="7117257">]</span><span class="ident" id="7117258">golden</span><span class="op" id="7117264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7117267">{</span><span class="op" id="7117268">[</span><span class="op" id="7117269">]</span><span class="builtintype" id="7117270">byte</span><span class="op" id="7117274">{</span><span class="num" id="7117275">0xcb</span><span class="op" id="7117279">,</span>&nbsp;<span class="num" id="7117281">0xf2</span><span class="op" id="7117285">,</span>&nbsp;<span class="num" id="7117287">0x9c</span><span class="op" id="7117291">,</span>&nbsp;<span class="num" id="7117293">0xe4</span><span class="op" id="7117297">,</span>&nbsp;<span class="num" id="7117299">0x84</span><span class="op" id="7117303">,</span>&nbsp;<span class="num" id="7117305">0x22</span><span class="op" id="7117309">,</span>&nbsp;<span class="num" id="7117311">0x23</span><span class="op" id="7117315">,</span>&nbsp;<span class="num" id="7117317">0x25</span><span class="op" id="7117321">}</span><span class="op" id="7117322">,</span>&nbsp;<span class="string" id="7117324">&#34;&#34;</span><span class="op" id="7117326">}</span><span class="op" id="7117327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7117330">{</span><span class="op" id="7117331">[</span><span class="op" id="7117332">]</span><span class="builtintype" id="7117333">byte</span><span class="op" id="7117337">{</span><span class="num" id="7117338">0xaf</span><span class="op" id="7117342">,</span>&nbsp;<span class="num" id="7117344">0x63</span><span class="op" id="7117348">,</span>&nbsp;<span class="num" id="7117350">0xdc</span><span class="op" id="7117354">,</span>&nbsp;<span class="num" id="7117356">0x4c</span><span class="op" id="7117360">,</span>&nbsp;<span class="num" id="7117362">0x86</span><span class="op" id="7117366">,</span>&nbsp;<span class="num" id="7117368">0x01</span><span class="op" id="7117372">,</span>&nbsp;<span class="num" id="7117374">0xec</span><span class="op" id="7117378">,</span>&nbsp;<span class="num" id="7117380">0x8c</span><span class="op" id="7117384">}</span><span class="op" id="7117385">,</span>&nbsp;<span class="string" id="7117387">&#34;a&#34;</span><span class="op" id="7117390">}</span><span class="op" id="7117391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7117394">{</span><span class="op" id="7117395">[</span><span class="op" id="7117396">]</span><span class="builtintype" id="7117397">byte</span><span class="op" id="7117401">{</span><span class="num" id="7117402">0x08</span><span class="op" id="7117406">,</span>&nbsp;<span class="num" id="7117408">0x9c</span><span class="op" id="7117412">,</span>&nbsp;<span class="num" id="7117414">0x44</span><span class="op" id="7117418">,</span>&nbsp;<span class="num" id="7117420">0x07</span><span class="op" id="7117424">,</span>&nbsp;<span class="num" id="7117426">0xb5</span><span class="op" id="7117430">,</span>&nbsp;<span class="num" id="7117432">0x45</span><span class="op" id="7117436">,</span>&nbsp;<span class="num" id="7117438">0x98</span><span class="op" id="7117442">,</span>&nbsp;<span class="num" id="7117444">0x6a</span><span class="op" id="7117448">}</span><span class="op" id="7117449">,</span>&nbsp;<span class="string" id="7117451">&#34;ab&#34;</span><span class="op" id="7117455">}</span><span class="op" id="7117456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7117459">{</span><span class="op" id="7117460">[</span><span class="op" id="7117461">]</span><span class="builtintype" id="7117462">byte</span><span class="op" id="7117466">{</span><span class="num" id="7117467">0xe7</span><span class="op" id="7117471">,</span>&nbsp;<span class="num" id="7117473">0x1f</span><span class="op" id="7117477">,</span>&nbsp;<span class="num" id="7117479">0xa2</span><span class="op" id="7117483">,</span>&nbsp;<span class="num" id="7117485">0x19</span><span class="op" id="7117489">,</span>&nbsp;<span class="num" id="7117491">0x05</span><span class="op" id="7117495">,</span>&nbsp;<span class="num" id="7117497">0x41</span><span class="op" id="7117501">,</span>&nbsp;<span class="num" id="7117503">0x57</span><span class="op" id="7117507">,</span>&nbsp;<span class="num" id="7117509">0x4b</span><span class="op" id="7117513">}</span><span class="op" id="7117514">,</span>&nbsp;<span class="string" id="7117516">&#34;abc&#34;</span><span class="op" id="7117521">}</span><span class="op" id="7117522">,</span><br>
<span class="lineno">45</span><span class="op" id="7117524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7117527">func</span>&nbsp;<span class="ident" id="7117532">TestGolden32</span><span class="op" id="7117544">(</span><span class="ident" id="7117545">t</span>&nbsp;<span class="op" id="7117547">*</span><span class="ident" id="7117548">testing</span><span class="op" id="7117555">.</span><span class="ident" id="7117556">T</span><span class="op" id="7117557">)</span>&nbsp;<span class="op" id="7117559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7117562">testGolden</span><span class="op" id="7117572">(</span><span class="ident" id="7117573">t</span><span class="op" id="7117574">,</span>&nbsp;<span class="ident" id="7117576">New32</span><span class="op" id="7117581">(</span><span class="op" id="7117582">)</span><span class="op" id="7117583">,</span>&nbsp;<span class="ident" id="7117585">golden32</span><span class="op" id="7117593">)</span><br>
<span class="lineno"></span><span class="op" id="7117595">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7117598">func</span>&nbsp;<span class="ident" id="7117603">TestGolden32a</span><span class="op" id="7117616">(</span><span class="ident" id="7117617">t</span>&nbsp;<span class="op" id="7117619">*</span><span class="ident" id="7117620">testing</span><span class="op" id="7117627">.</span><span class="ident" id="7117628">T</span><span class="op" id="7117629">)</span>&nbsp;<span class="op" id="7117631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7117634">testGolden</span><span class="op" id="7117644">(</span><span class="ident" id="7117645">t</span><span class="op" id="7117646">,</span>&nbsp;<span class="ident" id="7117648">New32a</span><span class="op" id="7117654">(</span><span class="op" id="7117655">)</span><span class="op" id="7117656">,</span>&nbsp;<span class="ident" id="7117658">golden32a</span><span class="op" id="7117667">)</span><br>
<span class="lineno"></span><span class="op" id="7117669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7117672">func</span>&nbsp;<span class="ident" id="7117677">TestGolden64</span><span class="op" id="7117689">(</span><span class="ident" id="7117690">t</span>&nbsp;<span class="op" id="7117692">*</span><span class="ident" id="7117693">testing</span><span class="op" id="7117700">.</span><span class="ident" id="7117701">T</span><span class="op" id="7117702">)</span>&nbsp;<span class="op" id="7117704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7117707">testGolden</span><span class="op" id="7117717">(</span><span class="ident" id="7117718">t</span><span class="op" id="7117719">,</span>&nbsp;<span class="ident" id="7117721">New64</span><span class="op" id="7117726">(</span><span class="op" id="7117727">)</span><span class="op" id="7117728">,</span>&nbsp;<span class="ident" id="7117730">golden64</span><span class="op" id="7117738">)</span><br>
<span class="lineno"></span><span class="op" id="7117740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7117743">func</span>&nbsp;<span class="ident" id="7117748">TestGolden64a</span><span class="op" id="7117761">(</span><span class="ident" id="7117762">t</span>&nbsp;<span class="op" id="7117764">*</span><span class="ident" id="7117765">testing</span><span class="op" id="7117772">.</span><span class="ident" id="7117773">T</span><span class="op" id="7117774">)</span>&nbsp;<span class="op" id="7117776">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7117779">testGolden</span><span class="op" id="7117789">(</span><span class="ident" id="7117790">t</span><span class="op" id="7117791">,</span>&nbsp;<span class="ident" id="7117793">New64a</span><span class="op" id="7117799">(</span><span class="op" id="7117800">)</span><span class="op" id="7117801">,</span>&nbsp;<span class="ident" id="7117803">golden64a</span><span class="op" id="7117812">)</span><br>
<span class="lineno"></span><span class="op" id="7117814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7117817">func</span>&nbsp;<span class="ident" id="7117822">testGolden</span><span class="op" id="7117832">(</span><span class="ident" id="7117833">t</span>&nbsp;<span class="op" id="7117835">*</span><span class="ident" id="7117836">testing</span><span class="op" id="7117843">.</span><span class="ident" id="7117844">T</span><span class="op" id="7117845">,</span>&nbsp;<span class="ident" id="7117847">hash</span>&nbsp;<span class="ident" id="7117852">hash</span><span class="op" id="7117856">.</span><span class="ident" id="7117857">Hash</span><span class="op" id="7117861">,</span>&nbsp;<span class="ident" id="7117863">gold</span>&nbsp;<span class="op" id="7117868">[</span><span class="op" id="7117869">]</span><span class="ident" id="7117870">golden</span><span class="op" id="7117876">)</span>&nbsp;<span class="op" id="7117878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7117881">for</span>&nbsp;<span class="ident" id="7117885">_</span><span class="op" id="7117886">,</span>&nbsp;<span class="ident" id="7117888">g</span>&nbsp;<span class="op" id="7117890">:=</span>&nbsp;<span class="keyword" id="7117893">range</span>&nbsp;<span class="ident" id="7117899">gold</span>&nbsp;<span class="op" id="7117904">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7117908">hash</span><span class="op" id="7117912">.</span><span class="ident" id="7117913">Reset</span><span class="op" id="7117918">(</span><span class="op" id="7117919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7117923">done</span><span class="op" id="7117927">,</span>&nbsp;<span class="builtintype" id="7117929">error</span>&nbsp;<span class="op" id="7117935">:=</span>&nbsp;<span class="ident" id="7117938">hash</span><span class="op" id="7117942">.</span><span class="ident" id="7117943">Write</span><span class="op" id="7117948">(</span><span class="op" id="7117949">[</span><span class="op" id="7117950">]</span><span class="builtintype" id="7117951">byte</span><span class="op" id="7117955">(</span><span class="ident" id="7117956">g</span><span class="op" id="7117957">.</span><span class="ident" id="7117958">text</span><span class="op" id="7117962">)</span><span class="op" id="7117963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7117967">if</span>&nbsp;<span class="builtintype" id="7117970">error</span>&nbsp;<span class="op" id="7117976">!=</span>&nbsp;<span class="builtintype" id="7117979">nil</span>&nbsp;<span class="op" id="7117983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7117988">t</span><span class="op" id="7117989">.</span><span class="ident" id="7117990">Fatalf</span><span class="op" id="7117996">(</span><span class="string" id="7117997">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7118014">,</span>&nbsp;<span class="builtintype" id="7118016">error</span><span class="op" id="7118021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7118025">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7118029">if</span>&nbsp;<span class="ident" id="7118032">done</span>&nbsp;<span class="op" id="7118037">!=</span>&nbsp;<span class="builtinfunc" id="7118040">len</span><span class="op" id="7118043">(</span><span class="ident" id="7118044">g</span><span class="op" id="7118045">.</span><span class="ident" id="7118046">text</span><span class="op" id="7118050">)</span>&nbsp;<span class="op" id="7118052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118057">t</span><span class="op" id="7118058">.</span><span class="ident" id="7118059">Fatalf</span><span class="op" id="7118065">(</span><span class="string" id="7118066">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7118097">,</span>&nbsp;<span class="ident" id="7118099">done</span><span class="op" id="7118103">,</span>&nbsp;<span class="builtinfunc" id="7118105">len</span><span class="op" id="7118108">(</span><span class="ident" id="7118109">g</span><span class="op" id="7118110">.</span><span class="ident" id="7118111">text</span><span class="op" id="7118115">)</span><span class="op" id="7118116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7118120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7118124">if</span>&nbsp;<span class="ident" id="7118127">actual</span>&nbsp;<span class="op" id="7118134">:=</span>&nbsp;<span class="ident" id="7118137">hash</span><span class="op" id="7118141">.</span><span class="ident" id="7118142">Sum</span><span class="op" id="7118145">(</span><span class="builtintype" id="7118146">nil</span><span class="op" id="7118149">)</span><span class="op" id="7118150">;</span>&nbsp;<span class="op" id="7118152">!</span><span class="ident" id="7118153">bytes</span><span class="op" id="7118158">.</span><span class="ident" id="7118159">Equal</span><span class="op" id="7118164">(</span><span class="ident" id="7118165">g</span><span class="op" id="7118166">.</span><span class="ident" id="7118167">sum</span><span class="op" id="7118170">,</span>&nbsp;<span class="ident" id="7118172">actual</span><span class="op" id="7118178">)</span>&nbsp;<span class="op" id="7118180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118185">t</span><span class="op" id="7118186">.</span><span class="ident" id="7118187">Errorf</span><span class="op" id="7118193">(</span><span class="string" id="7118194">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7118221">,</span>&nbsp;<span class="ident" id="7118223">g</span><span class="op" id="7118224">.</span><span class="ident" id="7118225">text</span><span class="op" id="7118229">,</span>&nbsp;<span class="ident" id="7118231">actual</span><span class="op" id="7118237">,</span>&nbsp;<span class="ident" id="7118239">g</span><span class="op" id="7118240">.</span><span class="ident" id="7118241">sum</span><span class="op" id="7118244">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7118248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7118251">}</span><br>
<span class="lineno"></span><span class="op" id="7118253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7118256">func</span>&nbsp;<span class="ident" id="7118261">TestIntegrity32</span><span class="op" id="7118276">(</span><span class="ident" id="7118277">t</span>&nbsp;<span class="op" id="7118279">*</span><span class="ident" id="7118280">testing</span><span class="op" id="7118287">.</span><span class="ident" id="7118288">T</span><span class="op" id="7118289">)</span>&nbsp;<span class="op" id="7118291">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118294">testIntegrity</span><span class="op" id="7118307">(</span><span class="ident" id="7118308">t</span><span class="op" id="7118309">,</span>&nbsp;<span class="ident" id="7118311">New32</span><span class="op" id="7118316">(</span><span class="op" id="7118317">)</span><span class="op" id="7118318">)</span><br>
<span class="lineno"></span><span class="op" id="7118320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7118323">func</span>&nbsp;<span class="ident" id="7118328">TestIntegrity32a</span><span class="op" id="7118344">(</span><span class="ident" id="7118345">t</span>&nbsp;<span class="op" id="7118347">*</span><span class="ident" id="7118348">testing</span><span class="op" id="7118355">.</span><span class="ident" id="7118356">T</span><span class="op" id="7118357">)</span>&nbsp;<span class="op" id="7118359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118362">testIntegrity</span><span class="op" id="7118375">(</span><span class="ident" id="7118376">t</span><span class="op" id="7118377">,</span>&nbsp;<span class="ident" id="7118379">New32a</span><span class="op" id="7118385">(</span><span class="op" id="7118386">)</span><span class="op" id="7118387">)</span><br>
<span class="lineno">85</span><span class="op" id="7118389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7118392">func</span>&nbsp;<span class="ident" id="7118397">TestIntegrity64</span><span class="op" id="7118412">(</span><span class="ident" id="7118413">t</span>&nbsp;<span class="op" id="7118415">*</span><span class="ident" id="7118416">testing</span><span class="op" id="7118423">.</span><span class="ident" id="7118424">T</span><span class="op" id="7118425">)</span>&nbsp;<span class="op" id="7118427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118430">testIntegrity</span><span class="op" id="7118443">(</span><span class="ident" id="7118444">t</span><span class="op" id="7118445">,</span>&nbsp;<span class="ident" id="7118447">New64</span><span class="op" id="7118452">(</span><span class="op" id="7118453">)</span><span class="op" id="7118454">)</span><br>
<span class="lineno"></span><span class="op" id="7118456">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7118459">func</span>&nbsp;<span class="ident" id="7118464">TestIntegrity64a</span><span class="op" id="7118480">(</span><span class="ident" id="7118481">t</span>&nbsp;<span class="op" id="7118483">*</span><span class="ident" id="7118484">testing</span><span class="op" id="7118491">.</span><span class="ident" id="7118492">T</span><span class="op" id="7118493">)</span>&nbsp;<span class="op" id="7118495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118498">testIntegrity</span><span class="op" id="7118511">(</span><span class="ident" id="7118512">t</span><span class="op" id="7118513">,</span>&nbsp;<span class="ident" id="7118515">New64a</span><span class="op" id="7118521">(</span><span class="op" id="7118522">)</span><span class="op" id="7118523">)</span><br>
<span class="lineno"></span><span class="op" id="7118525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7118528">func</span>&nbsp;<span class="ident" id="7118533">testIntegrity</span><span class="op" id="7118546">(</span><span class="ident" id="7118547">t</span>&nbsp;<span class="op" id="7118549">*</span><span class="ident" id="7118550">testing</span><span class="op" id="7118557">.</span><span class="ident" id="7118558">T</span><span class="op" id="7118559">,</span>&nbsp;<span class="ident" id="7118561">h</span>&nbsp;<span class="ident" id="7118563">hash</span><span class="op" id="7118567">.</span><span class="ident" id="7118568">Hash</span><span class="op" id="7118572">)</span>&nbsp;<span class="op" id="7118574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118577">data</span>&nbsp;<span class="op" id="7118582">:=</span>&nbsp;<span class="op" id="7118585">[</span><span class="op" id="7118586">]</span><span class="builtintype" id="7118587">byte</span><span class="op" id="7118591">{</span><span class="string" id="7118592">&#39;1&#39;</span><span class="op" id="7118595">,</span>&nbsp;<span class="string" id="7118597">&#39;2&#39;</span><span class="op" id="7118600">,</span>&nbsp;<span class="num" id="7118602">3</span><span class="op" id="7118603">,</span>&nbsp;<span class="num" id="7118605">4</span><span class="op" id="7118606">,</span>&nbsp;<span class="num" id="7118608">5</span><span class="op" id="7118609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118612">h</span><span class="op" id="7118613">.</span><span class="ident" id="7118614">Write</span><span class="op" id="7118619">(</span><span class="ident" id="7118620">data</span><span class="op" id="7118624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118627">sum</span>&nbsp;<span class="op" id="7118631">:=</span>&nbsp;<span class="ident" id="7118634">h</span><span class="op" id="7118635">.</span><span class="ident" id="7118636">Sum</span><span class="op" id="7118639">(</span><span class="builtintype" id="7118640">nil</span><span class="op" id="7118643">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7118647">if</span>&nbsp;<span class="ident" id="7118650">size</span>&nbsp;<span class="op" id="7118655">:=</span>&nbsp;<span class="ident" id="7118658">h</span><span class="op" id="7118659">.</span><span class="ident" id="7118660">Size</span><span class="op" id="7118664">(</span><span class="op" id="7118665">)</span><span class="op" id="7118666">;</span>&nbsp;<span class="ident" id="7118668">size</span>&nbsp;<span class="op" id="7118673">!=</span>&nbsp;<span class="builtinfunc" id="7118676">len</span><span class="op" id="7118679">(</span><span class="ident" id="7118680">sum</span><span class="op" id="7118683">)</span>&nbsp;<span class="op" id="7118685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118689">t</span><span class="op" id="7118690">.</span><span class="ident" id="7118691">Fatalf</span><span class="op" id="7118697">(</span><span class="string" id="7118698">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="7118727">,</span>&nbsp;<span class="ident" id="7118729">size</span><span class="op" id="7118733">,</span>&nbsp;<span class="builtinfunc" id="7118735">len</span><span class="op" id="7118738">(</span><span class="ident" id="7118739">sum</span><span class="op" id="7118742">)</span><span class="op" id="7118743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7118746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7118750">if</span>&nbsp;<span class="ident" id="7118753">a</span>&nbsp;<span class="op" id="7118755">:=</span>&nbsp;<span class="ident" id="7118758">h</span><span class="op" id="7118759">.</span><span class="ident" id="7118760">Sum</span><span class="op" id="7118763">(</span><span class="builtintype" id="7118764">nil</span><span class="op" id="7118767">)</span><span class="op" id="7118768">;</span>&nbsp;<span class="op" id="7118770">!</span><span class="ident" id="7118771">bytes</span><span class="op" id="7118776">.</span><span class="ident" id="7118777">Equal</span><span class="op" id="7118782">(</span><span class="ident" id="7118783">sum</span><span class="op" id="7118786">,</span>&nbsp;<span class="ident" id="7118788">a</span><span class="op" id="7118789">)</span>&nbsp;<span class="op" id="7118791">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118795">t</span><span class="op" id="7118796">.</span><span class="ident" id="7118797">Fatalf</span><span class="op" id="7118803">(</span><span class="string" id="7118804">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7118841">,</span>&nbsp;<span class="ident" id="7118843">sum</span><span class="op" id="7118846">,</span>&nbsp;<span class="ident" id="7118848">a</span><span class="op" id="7118849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7118852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118856">h</span><span class="op" id="7118857">.</span><span class="ident" id="7118858">Reset</span><span class="op" id="7118863">(</span><span class="op" id="7118864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118867">h</span><span class="op" id="7118868">.</span><span class="ident" id="7118869">Write</span><span class="op" id="7118874">(</span><span class="ident" id="7118875">data</span><span class="op" id="7118879">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7118882">if</span>&nbsp;<span class="ident" id="7118885">a</span>&nbsp;<span class="op" id="7118887">:=</span>&nbsp;<span class="ident" id="7118890">h</span><span class="op" id="7118891">.</span><span class="ident" id="7118892">Sum</span><span class="op" id="7118895">(</span><span class="builtintype" id="7118896">nil</span><span class="op" id="7118899">)</span><span class="op" id="7118900">;</span>&nbsp;<span class="op" id="7118902">!</span><span class="ident" id="7118903">bytes</span><span class="op" id="7118908">.</span><span class="ident" id="7118909">Equal</span><span class="op" id="7118914">(</span><span class="ident" id="7118915">sum</span><span class="op" id="7118918">,</span>&nbsp;<span class="ident" id="7118920">a</span><span class="op" id="7118921">)</span>&nbsp;<span class="op" id="7118923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118927">t</span><span class="op" id="7118928">.</span><span class="ident" id="7118929">Fatalf</span><span class="op" id="7118935">(</span><span class="string" id="7118936">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7118978">,</span>&nbsp;<span class="ident" id="7118980">sum</span><span class="op" id="7118983">,</span>&nbsp;<span class="ident" id="7118985">a</span><span class="op" id="7118986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7118989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7118993">h</span><span class="op" id="7118994">.</span><span class="ident" id="7118995">Reset</span><span class="op" id="7119000">(</span><span class="op" id="7119001">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119004">h</span><span class="op" id="7119005">.</span><span class="ident" id="7119006">Write</span><span class="op" id="7119011">(</span><span class="ident" id="7119012">data</span><span class="op" id="7119016">[</span><span class="op" id="7119017">:</span><span class="num" id="7119018">2</span><span class="op" id="7119019">]</span><span class="op" id="7119020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119023">h</span><span class="op" id="7119024">.</span><span class="ident" id="7119025">Write</span><span class="op" id="7119030">(</span><span class="ident" id="7119031">data</span><span class="op" id="7119035">[</span><span class="num" id="7119036">2</span><span class="op" id="7119037">:</span><span class="op" id="7119038">]</span><span class="op" id="7119039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7119042">if</span>&nbsp;<span class="ident" id="7119045">a</span>&nbsp;<span class="op" id="7119047">:=</span>&nbsp;<span class="ident" id="7119050">h</span><span class="op" id="7119051">.</span><span class="ident" id="7119052">Sum</span><span class="op" id="7119055">(</span><span class="builtintype" id="7119056">nil</span><span class="op" id="7119059">)</span><span class="op" id="7119060">;</span>&nbsp;<span class="op" id="7119062">!</span><span class="ident" id="7119063">bytes</span><span class="op" id="7119068">.</span><span class="ident" id="7119069">Equal</span><span class="op" id="7119074">(</span><span class="ident" id="7119075">sum</span><span class="op" id="7119078">,</span>&nbsp;<span class="ident" id="7119080">a</span><span class="op" id="7119081">)</span>&nbsp;<span class="op" id="7119083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119087">t</span><span class="op" id="7119088">.</span><span class="ident" id="7119089">Fatalf</span><span class="op" id="7119095">(</span><span class="string" id="7119096">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7119145">,</span>&nbsp;<span class="ident" id="7119147">sum</span><span class="op" id="7119150">,</span>&nbsp;<span class="ident" id="7119152">a</span><span class="op" id="7119153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7119156">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7119160">switch</span>&nbsp;<span class="ident" id="7119167">h</span><span class="op" id="7119168">.</span><span class="ident" id="7119169">Size</span><span class="op" id="7119173">(</span><span class="op" id="7119174">)</span>&nbsp;<span class="op" id="7119176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7119179">case</span>&nbsp;<span class="num" id="7119184">4</span><span class="op" id="7119185">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119189">sum32</span>&nbsp;<span class="op" id="7119195">:=</span>&nbsp;<span class="ident" id="7119198">h</span><span class="op" id="7119199">.</span><span class="op" id="7119200">(</span><span class="ident" id="7119201">hash</span><span class="op" id="7119205">.</span><span class="ident" id="7119206">Hash32</span><span class="op" id="7119212">)</span><span class="op" id="7119213">.</span><span class="ident" id="7119214">Sum32</span><span class="op" id="7119219">(</span><span class="op" id="7119220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7119224">if</span>&nbsp;<span class="ident" id="7119227">sum32</span>&nbsp;<span class="op" id="7119233">!=</span>&nbsp;<span class="ident" id="7119236">binary</span><span class="op" id="7119242">.</span><span class="ident" id="7119243">BigEndian</span><span class="op" id="7119252">.</span><span class="ident" id="7119253">Uint32</span><span class="op" id="7119259">(</span><span class="ident" id="7119260">sum</span><span class="op" id="7119263">)</span>&nbsp;<span class="op" id="7119265">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119270">t</span><span class="op" id="7119271">.</span><span class="ident" id="7119272">Fatalf</span><span class="op" id="7119278">(</span><span class="string" id="7119279">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="7119309">,</span>&nbsp;<span class="ident" id="7119311">sum</span><span class="op" id="7119314">,</span>&nbsp;<span class="ident" id="7119316">sum32</span><span class="op" id="7119321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7119325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7119328">case</span>&nbsp;<span class="num" id="7119333">8</span><span class="op" id="7119334">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119338">sum64</span>&nbsp;<span class="op" id="7119344">:=</span>&nbsp;<span class="ident" id="7119347">h</span><span class="op" id="7119348">.</span><span class="op" id="7119349">(</span><span class="ident" id="7119350">hash</span><span class="op" id="7119354">.</span><span class="ident" id="7119355">Hash64</span><span class="op" id="7119361">)</span><span class="op" id="7119362">.</span><span class="ident" id="7119363">Sum64</span><span class="op" id="7119368">(</span><span class="op" id="7119369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7119373">if</span>&nbsp;<span class="ident" id="7119376">sum64</span>&nbsp;<span class="op" id="7119382">!=</span>&nbsp;<span class="ident" id="7119385">binary</span><span class="op" id="7119391">.</span><span class="ident" id="7119392">BigEndian</span><span class="op" id="7119401">.</span><span class="ident" id="7119402">Uint64</span><span class="op" id="7119408">(</span><span class="ident" id="7119409">sum</span><span class="op" id="7119412">)</span>&nbsp;<span class="op" id="7119414">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119419">t</span><span class="op" id="7119420">.</span><span class="ident" id="7119421">Fatalf</span><span class="op" id="7119427">(</span><span class="string" id="7119428">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="7119458">,</span>&nbsp;<span class="ident" id="7119460">sum</span><span class="op" id="7119463">,</span>&nbsp;<span class="ident" id="7119465">sum64</span><span class="op" id="7119470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7119474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7119477">}</span><br>
<span class="lineno"></span><span class="op" id="7119479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7119482">func</span>&nbsp;<span class="ident" id="7119487">BenchmarkFnv32KB</span><span class="op" id="7119503">(</span><span class="ident" id="7119504">b</span>&nbsp;<span class="op" id="7119506">*</span><span class="ident" id="7119507">testing</span><span class="op" id="7119514">.</span><span class="ident" id="7119515">B</span><span class="op" id="7119516">)</span>&nbsp;<span class="op" id="7119518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119521">benchmarkKB</span><span class="op" id="7119532">(</span><span class="ident" id="7119533">b</span><span class="op" id="7119534">,</span>&nbsp;<span class="ident" id="7119536">New32</span><span class="op" id="7119541">(</span><span class="op" id="7119542">)</span><span class="op" id="7119543">)</span><br>
<span class="lineno"></span><span class="op" id="7119545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7119548">func</span>&nbsp;<span class="ident" id="7119553">BenchmarkFnv32aKB</span><span class="op" id="7119570">(</span><span class="ident" id="7119571">b</span>&nbsp;<span class="op" id="7119573">*</span><span class="ident" id="7119574">testing</span><span class="op" id="7119581">.</span><span class="ident" id="7119582">B</span><span class="op" id="7119583">)</span>&nbsp;<span class="op" id="7119585">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119588">benchmarkKB</span><span class="op" id="7119599">(</span><span class="ident" id="7119600">b</span><span class="op" id="7119601">,</span>&nbsp;<span class="ident" id="7119603">New32a</span><span class="op" id="7119609">(</span><span class="op" id="7119610">)</span><span class="op" id="7119611">)</span><br>
<span class="lineno"></span><span class="op" id="7119613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7119616">func</span>&nbsp;<span class="ident" id="7119621">BenchmarkFnv64KB</span><span class="op" id="7119637">(</span><span class="ident" id="7119638">b</span>&nbsp;<span class="op" id="7119640">*</span><span class="ident" id="7119641">testing</span><span class="op" id="7119648">.</span><span class="ident" id="7119649">B</span><span class="op" id="7119650">)</span>&nbsp;<span class="op" id="7119652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119655">benchmarkKB</span><span class="op" id="7119666">(</span><span class="ident" id="7119667">b</span><span class="op" id="7119668">,</span>&nbsp;<span class="ident" id="7119670">New64</span><span class="op" id="7119675">(</span><span class="op" id="7119676">)</span><span class="op" id="7119677">)</span><br>
<span class="lineno">145</span><span class="op" id="7119679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7119682">func</span>&nbsp;<span class="ident" id="7119687">BenchmarkFnv64aKB</span><span class="op" id="7119704">(</span><span class="ident" id="7119705">b</span>&nbsp;<span class="op" id="7119707">*</span><span class="ident" id="7119708">testing</span><span class="op" id="7119715">.</span><span class="ident" id="7119716">B</span><span class="op" id="7119717">)</span>&nbsp;<span class="op" id="7119719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119722">benchmarkKB</span><span class="op" id="7119733">(</span><span class="ident" id="7119734">b</span><span class="op" id="7119735">,</span>&nbsp;<span class="ident" id="7119737">New64a</span><span class="op" id="7119743">(</span><span class="op" id="7119744">)</span><span class="op" id="7119745">)</span><br>
<span class="lineno"></span><span class="op" id="7119747">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="7119750">func</span>&nbsp;<span class="ident" id="7119755">benchmarkKB</span><span class="op" id="7119766">(</span><span class="ident" id="7119767">b</span>&nbsp;<span class="op" id="7119769">*</span><span class="ident" id="7119770">testing</span><span class="op" id="7119777">.</span><span class="ident" id="7119778">B</span><span class="op" id="7119779">,</span>&nbsp;<span class="ident" id="7119781">h</span>&nbsp;<span class="ident" id="7119783">hash</span><span class="op" id="7119787">.</span><span class="ident" id="7119788">Hash</span><span class="op" id="7119792">)</span>&nbsp;<span class="op" id="7119794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119797">b</span><span class="op" id="7119798">.</span><span class="ident" id="7119799">SetBytes</span><span class="op" id="7119807">(</span><span class="num" id="7119808">1024</span><span class="op" id="7119812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119815">data</span>&nbsp;<span class="op" id="7119820">:=</span>&nbsp;<span class="builtinfunc" id="7119823">make</span><span class="op" id="7119827">(</span><span class="op" id="7119828">[</span><span class="op" id="7119829">]</span><span class="builtintype" id="7119830">byte</span><span class="op" id="7119834">,</span>&nbsp;<span class="num" id="7119836">1024</span><span class="op" id="7119840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7119843">for</span>&nbsp;<span class="ident" id="7119847">i</span>&nbsp;<span class="op" id="7119849">:=</span>&nbsp;<span class="keyword" id="7119852">range</span>&nbsp;<span class="ident" id="7119858">data</span>&nbsp;<span class="op" id="7119863">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119867">data</span><span class="op" id="7119871">[</span><span class="ident" id="7119872">i</span><span class="op" id="7119873">]</span>&nbsp;<span class="op" id="7119875">=</span>&nbsp;<span class="builtintype" id="7119877">byte</span><span class="op" id="7119881">(</span><span class="ident" id="7119882">i</span><span class="op" id="7119883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7119886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119889">in</span>&nbsp;<span class="op" id="7119892">:=</span>&nbsp;<span class="builtinfunc" id="7119895">make</span><span class="op" id="7119899">(</span><span class="op" id="7119900">[</span><span class="op" id="7119901">]</span><span class="builtintype" id="7119902">byte</span><span class="op" id="7119906">,</span>&nbsp;<span class="num" id="7119908">0</span><span class="op" id="7119909">,</span>&nbsp;<span class="ident" id="7119911">h</span><span class="op" id="7119912">.</span><span class="ident" id="7119913">Size</span><span class="op" id="7119917">(</span><span class="op" id="7119918">)</span><span class="op" id="7119919">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119923">b</span><span class="op" id="7119924">.</span><span class="ident" id="7119925">ResetTimer</span><span class="op" id="7119935">(</span><span class="op" id="7119936">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7119939">for</span>&nbsp;<span class="ident" id="7119943">i</span>&nbsp;<span class="op" id="7119945">:=</span>&nbsp;<span class="num" id="7119948">0</span><span class="op" id="7119949">;</span>&nbsp;<span class="ident" id="7119951">i</span>&nbsp;<span class="op" id="7119953">&lt;</span>&nbsp;<span class="ident" id="7119955">b</span><span class="op" id="7119956">.</span><span class="ident" id="7119957">N</span><span class="op" id="7119958">;</span>&nbsp;<span class="ident" id="7119960">i</span><span class="op" id="7119961">++</span>&nbsp;<span class="op" id="7119964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119968">h</span><span class="op" id="7119969">.</span><span class="ident" id="7119970">Reset</span><span class="op" id="7119975">(</span><span class="op" id="7119976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119980">h</span><span class="op" id="7119981">.</span><span class="ident" id="7119982">Write</span><span class="op" id="7119987">(</span><span class="ident" id="7119988">data</span><span class="op" id="7119992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7119996">h</span><span class="op" id="7119997">.</span><span class="ident" id="7119998">Sum</span><span class="op" id="7120001">(</span><span class="ident" id="7120002">in</span><span class="op" id="7120004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7120007">}</span><br>
<span class="lineno">165</span><span class="op" id="7120009">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
