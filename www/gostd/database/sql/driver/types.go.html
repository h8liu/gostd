<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>database/sql/driver</h2>
<ul>
<li><a href="/gostd/database/sql/driver/driver.go.html">driver.go</a></li>
<li><a href="/gostd/database/sql/driver/types.go.html" class="current">types.go</a></li>
<li><a href="/gostd/database/sql/driver/types_test.go.html">types_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5854534">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5854589">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5854643">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5854694">package</span>&nbsp;<span class="ident" id="5854702">driver</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5854710">import</span>&nbsp;<span class="op" id="5854717">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5854720">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5854727">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5854738">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5854749">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="5854756">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5854759">//&nbsp;ValueConverter&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;ConvertValue&nbsp;method.</span><br>
<span class="lineno">15</span><span class="comment" id="5854829">//</span><br>
<span class="lineno"></span><span class="comment" id="5854832">//&nbsp;Various&nbsp;implementations&nbsp;of&nbsp;ValueConverter&nbsp;are&nbsp;provided&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5854897">//&nbsp;driver&nbsp;package&nbsp;to&nbsp;provide&nbsp;consistent&nbsp;implementations&nbsp;of&nbsp;conversions</span><br>
<span class="lineno"></span><span class="comment" id="5854968">//&nbsp;between&nbsp;drivers.&nbsp;&nbsp;The&nbsp;ValueConverters&nbsp;have&nbsp;several&nbsp;uses:</span><br>
<span class="lineno"></span><span class="comment" id="5855028">//</span><br>
<span class="lineno">20</span><span class="comment" id="5855031">//&nbsp;&nbsp;*&nbsp;converting&nbsp;from&nbsp;the&nbsp;Value&nbsp;types&nbsp;as&nbsp;provided&nbsp;by&nbsp;the&nbsp;sql&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="5855100">//&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;a&nbsp;database&nbsp;table&#39;s&nbsp;specific&nbsp;column&nbsp;type&nbsp;and&nbsp;making&nbsp;sure&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5855170">//&nbsp;&nbsp;&nbsp;&nbsp;fits,&nbsp;such&nbsp;as&nbsp;making&nbsp;sure&nbsp;a&nbsp;particular&nbsp;int64&nbsp;fits&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5855231">//&nbsp;&nbsp;&nbsp;&nbsp;table&#39;s&nbsp;uint16&nbsp;column.</span><br>
<span class="lineno"></span><span class="comment" id="5855260">//</span><br>
<span class="lineno">25</span><span class="comment" id="5855263">//&nbsp;&nbsp;*&nbsp;converting&nbsp;a&nbsp;value&nbsp;as&nbsp;given&nbsp;from&nbsp;the&nbsp;database&nbsp;into&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5855331">//&nbsp;&nbsp;&nbsp;&nbsp;driver&nbsp;Value&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="5855357">//</span><br>
<span class="lineno"></span><span class="comment" id="5855360">//&nbsp;&nbsp;*&nbsp;by&nbsp;the&nbsp;sql&nbsp;package,&nbsp;for&nbsp;converting&nbsp;from&nbsp;a&nbsp;driver&#39;s&nbsp;Value&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="5855428">//&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;user&#39;s&nbsp;type&nbsp;in&nbsp;a&nbsp;scan.</span><br>
<span class="lineno">30</span><span class="keyword" id="5855462">type</span>&nbsp;<span class="ident" id="5855467">ValueConverter</span>&nbsp;<span class="keyword" id="5855482">interface</span>&nbsp;<span class="op" id="5855492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5855495">//&nbsp;ConvertValue&nbsp;converts&nbsp;a&nbsp;value&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5855548">ConvertValue</span><span class="op" id="5855560">(</span><span class="ident" id="5855561">v</span>&nbsp;<span class="keyword" id="5855563">interface</span><span class="op" id="5855572">{</span><span class="op" id="5855573">}</span><span class="op" id="5855574">)</span>&nbsp;<span class="op" id="5855576">(</span><span class="ident" id="5855577">Value</span><span class="op" id="5855582">,</span>&nbsp;<span class="builtintype" id="5855584">error</span><span class="op" id="5855589">)</span><br>
<span class="lineno"></span><span class="op" id="5855591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5855594">//&nbsp;Valuer&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;Value&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="5855649">//</span><br>
<span class="lineno"></span><span class="comment" id="5855652">//&nbsp;Types&nbsp;implementing&nbsp;Valuer&nbsp;interface&nbsp;are&nbsp;able&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span><span class="comment" id="5855711">//&nbsp;themselves&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="5855744">type</span>&nbsp;<span class="ident" id="5855749">Valuer</span>&nbsp;<span class="keyword" id="5855756">interface</span>&nbsp;<span class="op" id="5855766">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5855769">//&nbsp;Value&nbsp;returns&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5855803">Value</span><span class="op" id="5855808">(</span><span class="op" id="5855809">)</span>&nbsp;<span class="op" id="5855811">(</span><span class="ident" id="5855812">Value</span><span class="op" id="5855817">,</span>&nbsp;<span class="builtintype" id="5855819">error</span><span class="op" id="5855824">)</span><br>
<span class="lineno"></span><span class="op" id="5855826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5855829">//&nbsp;Bool&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;bools.</span><br>
<span class="lineno">45</span><span class="comment" id="5855894">//</span><br>
<span class="lineno"></span><span class="comment" id="5855897">//&nbsp;The&nbsp;conversion&nbsp;rules&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="5855926">//&nbsp;&nbsp;-&nbsp;booleans&nbsp;are&nbsp;returned&nbsp;unchanged</span><br>
<span class="lineno"></span><span class="comment" id="5855964">//&nbsp;&nbsp;-&nbsp;for&nbsp;integer&nbsp;types,</span><br>
<span class="lineno"></span><span class="comment" id="5855989">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;is&nbsp;true</span><br>
<span class="lineno">50</span><span class="comment" id="5856008">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;is&nbsp;false,</span><br>
<span class="lineno"></span><span class="comment" id="5856029">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;integers&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="5856066">//&nbsp;&nbsp;-&nbsp;for&nbsp;strings&nbsp;and&nbsp;[]byte,&nbsp;same&nbsp;rules&nbsp;as&nbsp;strconv.ParseBool</span><br>
<span class="lineno"></span><span class="comment" id="5856128">//&nbsp;&nbsp;-&nbsp;all&nbsp;other&nbsp;types&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="5856163">var</span>&nbsp;<span class="ident" id="5856167">Bool</span>&nbsp;<span class="ident" id="5856172">boolType</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5856182">type</span>&nbsp;<span class="ident" id="5856187">boolType</span>&nbsp;<span class="keyword" id="5856196">struct</span><span class="op" id="5856202">{</span><span class="op" id="5856203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5856206">var</span>&nbsp;<span class="ident" id="5856210">_</span>&nbsp;<span class="ident" id="5856212">ValueConverter</span>&nbsp;<span class="op" id="5856227">=</span>&nbsp;<span class="ident" id="5856229">boolType</span><span class="op" id="5856237">{</span><span class="op" id="5856238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5856241">func</span>&nbsp;<span class="op" id="5856246">(</span><span class="ident" id="5856247">boolType</span><span class="op" id="5856255">)</span>&nbsp;<span class="ident" id="5856257">String</span><span class="op" id="5856263">(</span><span class="op" id="5856264">)</span>&nbsp;<span class="builtintype" id="5856266">string</span>&nbsp;<span class="op" id="5856273">{</span>&nbsp;<span class="keyword" id="5856275">return</span>&nbsp;<span class="string" id="5856282">&#34;Bool&#34;</span>&nbsp;<span class="op" id="5856289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5856292">func</span>&nbsp;<span class="op" id="5856297">(</span><span class="ident" id="5856298">boolType</span><span class="op" id="5856306">)</span>&nbsp;<span class="ident" id="5856308">ConvertValue</span><span class="op" id="5856320">(</span><span class="ident" id="5856321">src</span>&nbsp;<span class="keyword" id="5856325">interface</span><span class="op" id="5856334">{</span><span class="op" id="5856335">}</span><span class="op" id="5856336">)</span>&nbsp;<span class="op" id="5856338">(</span><span class="ident" id="5856339">Value</span><span class="op" id="5856344">,</span>&nbsp;<span class="builtintype" id="5856346">error</span><span class="op" id="5856351">)</span>&nbsp;<span class="op" id="5856353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856356">switch</span>&nbsp;<span class="ident" id="5856363">s</span>&nbsp;<span class="op" id="5856365">:=</span>&nbsp;<span class="ident" id="5856368">src</span><span class="op" id="5856371">.</span><span class="op" id="5856372">(</span><span class="keyword" id="5856373">type</span><span class="op" id="5856377">)</span>&nbsp;<span class="op" id="5856379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856382">case</span>&nbsp;<span class="builtintype" id="5856387">bool</span><span class="op" id="5856391">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856395">return</span>&nbsp;<span class="ident" id="5856402">s</span><span class="op" id="5856403">,</span>&nbsp;<span class="builtintype" id="5856405">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856410">case</span>&nbsp;<span class="builtintype" id="5856415">string</span><span class="op" id="5856421">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5856425">b</span><span class="op" id="5856426">,</span>&nbsp;<span class="ident" id="5856428">err</span>&nbsp;<span class="op" id="5856432">:=</span>&nbsp;<span class="ident" id="5856435">strconv</span><span class="op" id="5856442">.</span><span class="ident" id="5856443">ParseBool</span><span class="op" id="5856452">(</span><span class="ident" id="5856453">s</span><span class="op" id="5856454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856458">if</span>&nbsp;<span class="ident" id="5856461">err</span>&nbsp;<span class="op" id="5856465">!=</span>&nbsp;<span class="builtintype" id="5856468">nil</span>&nbsp;<span class="op" id="5856472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856477">return</span>&nbsp;<span class="builtintype" id="5856484">nil</span><span class="op" id="5856487">,</span>&nbsp;<span class="ident" id="5856489">fmt</span><span class="op" id="5856492">.</span><span class="ident" id="5856493">Errorf</span><span class="op" id="5856499">(</span><span class="string" id="5856500">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5856548">,</span>&nbsp;<span class="ident" id="5856550">s</span><span class="op" id="5856551">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5856555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856559">return</span>&nbsp;<span class="ident" id="5856566">b</span><span class="op" id="5856567">,</span>&nbsp;<span class="builtintype" id="5856569">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856574">case</span>&nbsp;<span class="op" id="5856579">[</span><span class="op" id="5856580">]</span><span class="builtintype" id="5856581">byte</span><span class="op" id="5856585">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5856589">b</span><span class="op" id="5856590">,</span>&nbsp;<span class="ident" id="5856592">err</span>&nbsp;<span class="op" id="5856596">:=</span>&nbsp;<span class="ident" id="5856599">strconv</span><span class="op" id="5856606">.</span><span class="ident" id="5856607">ParseBool</span><span class="op" id="5856616">(</span><span class="builtintype" id="5856617">string</span><span class="op" id="5856623">(</span><span class="ident" id="5856624">s</span><span class="op" id="5856625">)</span><span class="op" id="5856626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856630">if</span>&nbsp;<span class="ident" id="5856633">err</span>&nbsp;<span class="op" id="5856637">!=</span>&nbsp;<span class="builtintype" id="5856640">nil</span>&nbsp;<span class="op" id="5856644">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856649">return</span>&nbsp;<span class="builtintype" id="5856656">nil</span><span class="op" id="5856659">,</span>&nbsp;<span class="ident" id="5856661">fmt</span><span class="op" id="5856664">.</span><span class="ident" id="5856665">Errorf</span><span class="op" id="5856671">(</span><span class="string" id="5856672">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5856720">,</span>&nbsp;<span class="ident" id="5856722">s</span><span class="op" id="5856723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5856727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856731">return</span>&nbsp;<span class="ident" id="5856738">b</span><span class="op" id="5856739">,</span>&nbsp;<span class="builtintype" id="5856741">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5856746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5856750">sv</span>&nbsp;<span class="op" id="5856753">:=</span>&nbsp;<span class="ident" id="5856756">reflect</span><span class="op" id="5856763">.</span><span class="ident" id="5856764">ValueOf</span><span class="op" id="5856771">(</span><span class="ident" id="5856772">src</span><span class="op" id="5856775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856778">switch</span>&nbsp;<span class="ident" id="5856785">sv</span><span class="op" id="5856787">.</span><span class="ident" id="5856788">Kind</span><span class="op" id="5856792">(</span><span class="op" id="5856793">)</span>&nbsp;<span class="op" id="5856795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856798">case</span>&nbsp;<span class="ident" id="5856803">reflect</span><span class="op" id="5856810">.</span><span class="ident" id="5856811">Int</span><span class="op" id="5856814">,</span>&nbsp;<span class="ident" id="5856816">reflect</span><span class="op" id="5856823">.</span><span class="ident" id="5856824">Int8</span><span class="op" id="5856828">,</span>&nbsp;<span class="ident" id="5856830">reflect</span><span class="op" id="5856837">.</span><span class="ident" id="5856838">Int16</span><span class="op" id="5856843">,</span>&nbsp;<span class="ident" id="5856845">reflect</span><span class="op" id="5856852">.</span><span class="ident" id="5856853">Int32</span><span class="op" id="5856858">,</span>&nbsp;<span class="ident" id="5856860">reflect</span><span class="op" id="5856867">.</span><span class="ident" id="5856868">Int64</span><span class="op" id="5856873">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5856877">iv</span>&nbsp;<span class="op" id="5856880">:=</span>&nbsp;<span class="ident" id="5856883">sv</span><span class="op" id="5856885">.</span><span class="ident" id="5856886">Int</span><span class="op" id="5856889">(</span><span class="op" id="5856890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856894">if</span>&nbsp;<span class="ident" id="5856897">iv</span>&nbsp;<span class="op" id="5856900">==</span>&nbsp;<span class="num" id="5856903">1</span>&nbsp;<span class="op" id="5856905">||</span>&nbsp;<span class="ident" id="5856908">iv</span>&nbsp;<span class="op" id="5856911">==</span>&nbsp;<span class="num" id="5856914">0</span>&nbsp;<span class="op" id="5856916">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856921">return</span>&nbsp;<span class="ident" id="5856928">iv</span>&nbsp;<span class="op" id="5856931">==</span>&nbsp;<span class="num" id="5856934">1</span><span class="op" id="5856935">,</span>&nbsp;<span class="builtintype" id="5856937">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5856943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5856947">return</span>&nbsp;<span class="builtintype" id="5856954">nil</span><span class="op" id="5856957">,</span>&nbsp;<span class="ident" id="5856959">fmt</span><span class="op" id="5856962">.</span><span class="ident" id="5856963">Errorf</span><span class="op" id="5856969">(</span><span class="string" id="5856970">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5857018">,</span>&nbsp;<span class="ident" id="5857020">iv</span><span class="op" id="5857022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857025">case</span>&nbsp;<span class="ident" id="5857030">reflect</span><span class="op" id="5857037">.</span><span class="ident" id="5857038">Uint</span><span class="op" id="5857042">,</span>&nbsp;<span class="ident" id="5857044">reflect</span><span class="op" id="5857051">.</span><span class="ident" id="5857052">Uint8</span><span class="op" id="5857057">,</span>&nbsp;<span class="ident" id="5857059">reflect</span><span class="op" id="5857066">.</span><span class="ident" id="5857067">Uint16</span><span class="op" id="5857073">,</span>&nbsp;<span class="ident" id="5857075">reflect</span><span class="op" id="5857082">.</span><span class="ident" id="5857083">Uint32</span><span class="op" id="5857089">,</span>&nbsp;<span class="ident" id="5857091">reflect</span><span class="op" id="5857098">.</span><span class="ident" id="5857099">Uint64</span><span class="op" id="5857105">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5857109">uv</span>&nbsp;<span class="op" id="5857112">:=</span>&nbsp;<span class="ident" id="5857115">sv</span><span class="op" id="5857117">.</span><span class="ident" id="5857118">Uint</span><span class="op" id="5857122">(</span><span class="op" id="5857123">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857127">if</span>&nbsp;<span class="ident" id="5857130">uv</span>&nbsp;<span class="op" id="5857133">==</span>&nbsp;<span class="num" id="5857136">1</span>&nbsp;<span class="op" id="5857138">||</span>&nbsp;<span class="ident" id="5857141">uv</span>&nbsp;<span class="op" id="5857144">==</span>&nbsp;<span class="num" id="5857147">0</span>&nbsp;<span class="op" id="5857149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857154">return</span>&nbsp;<span class="ident" id="5857161">uv</span>&nbsp;<span class="op" id="5857164">==</span>&nbsp;<span class="num" id="5857167">1</span><span class="op" id="5857168">,</span>&nbsp;<span class="builtintype" id="5857170">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5857176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857180">return</span>&nbsp;<span class="builtintype" id="5857187">nil</span><span class="op" id="5857190">,</span>&nbsp;<span class="ident" id="5857192">fmt</span><span class="op" id="5857195">.</span><span class="ident" id="5857196">Errorf</span><span class="op" id="5857202">(</span><span class="string" id="5857203">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5857251">,</span>&nbsp;<span class="ident" id="5857253">uv</span><span class="op" id="5857255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5857258">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857262">return</span>&nbsp;<span class="builtintype" id="5857269">nil</span><span class="op" id="5857272">,</span>&nbsp;<span class="ident" id="5857274">fmt</span><span class="op" id="5857277">.</span><span class="ident" id="5857278">Errorf</span><span class="op" id="5857284">(</span><span class="string" id="5857285">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%v&nbsp;(%T)&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5857338">,</span>&nbsp;<span class="ident" id="5857340">src</span><span class="op" id="5857343">,</span>&nbsp;<span class="ident" id="5857345">src</span><span class="op" id="5857348">)</span><br>
<span class="lineno"></span><span class="op" id="5857350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5857353">//&nbsp;Int32&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;int64,</span><br>
<span class="lineno">100</span><span class="comment" id="5857419">//&nbsp;respecting&nbsp;the&nbsp;limits&nbsp;of&nbsp;an&nbsp;int32&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5857463">var</span>&nbsp;<span class="ident" id="5857467">Int32</span>&nbsp;<span class="ident" id="5857473">int32Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5857484">type</span>&nbsp;<span class="ident" id="5857489">int32Type</span>&nbsp;<span class="keyword" id="5857499">struct</span><span class="op" id="5857505">{</span><span class="op" id="5857506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5857509">var</span>&nbsp;<span class="ident" id="5857513">_</span>&nbsp;<span class="ident" id="5857515">ValueConverter</span>&nbsp;<span class="op" id="5857530">=</span>&nbsp;<span class="ident" id="5857532">int32Type</span><span class="op" id="5857541">{</span><span class="op" id="5857542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5857545">func</span>&nbsp;<span class="op" id="5857550">(</span><span class="ident" id="5857551">int32Type</span><span class="op" id="5857560">)</span>&nbsp;<span class="ident" id="5857562">ConvertValue</span><span class="op" id="5857574">(</span><span class="ident" id="5857575">v</span>&nbsp;<span class="keyword" id="5857577">interface</span><span class="op" id="5857586">{</span><span class="op" id="5857587">}</span><span class="op" id="5857588">)</span>&nbsp;<span class="op" id="5857590">(</span><span class="ident" id="5857591">Value</span><span class="op" id="5857596">,</span>&nbsp;<span class="builtintype" id="5857598">error</span><span class="op" id="5857603">)</span>&nbsp;<span class="op" id="5857605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5857608">rv</span>&nbsp;<span class="op" id="5857611">:=</span>&nbsp;<span class="ident" id="5857614">reflect</span><span class="op" id="5857621">.</span><span class="ident" id="5857622">ValueOf</span><span class="op" id="5857629">(</span><span class="ident" id="5857630">v</span><span class="op" id="5857631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857634">switch</span>&nbsp;<span class="ident" id="5857641">rv</span><span class="op" id="5857643">.</span><span class="ident" id="5857644">Kind</span><span class="op" id="5857648">(</span><span class="op" id="5857649">)</span>&nbsp;<span class="op" id="5857651">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857654">case</span>&nbsp;<span class="ident" id="5857659">reflect</span><span class="op" id="5857666">.</span><span class="ident" id="5857667">Int</span><span class="op" id="5857670">,</span>&nbsp;<span class="ident" id="5857672">reflect</span><span class="op" id="5857679">.</span><span class="ident" id="5857680">Int8</span><span class="op" id="5857684">,</span>&nbsp;<span class="ident" id="5857686">reflect</span><span class="op" id="5857693">.</span><span class="ident" id="5857694">Int16</span><span class="op" id="5857699">,</span>&nbsp;<span class="ident" id="5857701">reflect</span><span class="op" id="5857708">.</span><span class="ident" id="5857709">Int32</span><span class="op" id="5857714">,</span>&nbsp;<span class="ident" id="5857716">reflect</span><span class="op" id="5857723">.</span><span class="ident" id="5857724">Int64</span><span class="op" id="5857729">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5857733">i64</span>&nbsp;<span class="op" id="5857737">:=</span>&nbsp;<span class="ident" id="5857740">rv</span><span class="op" id="5857742">.</span><span class="ident" id="5857743">Int</span><span class="op" id="5857746">(</span><span class="op" id="5857747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857751">if</span>&nbsp;<span class="ident" id="5857754">i64</span>&nbsp;<span class="op" id="5857758">&gt;</span>&nbsp;<span class="op" id="5857760">(</span><span class="num" id="5857761">1</span><span class="op" id="5857762">&lt;&lt;</span><span class="num" id="5857764">31</span><span class="op" id="5857766">)</span><span class="op" id="5857767">-</span><span class="num" id="5857768">1</span>&nbsp;<span class="op" id="5857770">||</span>&nbsp;<span class="ident" id="5857773">i64</span>&nbsp;<span class="op" id="5857777">&lt;</span>&nbsp;<span class="op" id="5857779">-</span><span class="op" id="5857780">(</span><span class="num" id="5857781">1</span><span class="op" id="5857782">&lt;&lt;</span><span class="num" id="5857784">31</span><span class="op" id="5857786">)</span>&nbsp;<span class="op" id="5857788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857793">return</span>&nbsp;<span class="builtintype" id="5857800">nil</span><span class="op" id="5857803">,</span>&nbsp;<span class="ident" id="5857805">fmt</span><span class="op" id="5857808">.</span><span class="ident" id="5857809">Errorf</span><span class="op" id="5857815">(</span><span class="string" id="5857816">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="5857854">,</span>&nbsp;<span class="ident" id="5857856">v</span><span class="op" id="5857857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5857861">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857865">return</span>&nbsp;<span class="ident" id="5857872">i64</span><span class="op" id="5857875">,</span>&nbsp;<span class="builtintype" id="5857877">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857882">case</span>&nbsp;<span class="ident" id="5857887">reflect</span><span class="op" id="5857894">.</span><span class="ident" id="5857895">Uint</span><span class="op" id="5857899">,</span>&nbsp;<span class="ident" id="5857901">reflect</span><span class="op" id="5857908">.</span><span class="ident" id="5857909">Uint8</span><span class="op" id="5857914">,</span>&nbsp;<span class="ident" id="5857916">reflect</span><span class="op" id="5857923">.</span><span class="ident" id="5857924">Uint16</span><span class="op" id="5857930">,</span>&nbsp;<span class="ident" id="5857932">reflect</span><span class="op" id="5857939">.</span><span class="ident" id="5857940">Uint32</span><span class="op" id="5857946">,</span>&nbsp;<span class="ident" id="5857948">reflect</span><span class="op" id="5857955">.</span><span class="ident" id="5857956">Uint64</span><span class="op" id="5857962">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5857966">u64</span>&nbsp;<span class="op" id="5857970">:=</span>&nbsp;<span class="ident" id="5857973">rv</span><span class="op" id="5857975">.</span><span class="ident" id="5857976">Uint</span><span class="op" id="5857980">(</span><span class="op" id="5857981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5857985">if</span>&nbsp;<span class="ident" id="5857988">u64</span>&nbsp;<span class="op" id="5857992">&gt;</span>&nbsp;<span class="op" id="5857994">(</span><span class="num" id="5857995">1</span><span class="op" id="5857996">&lt;&lt;</span><span class="num" id="5857998">31</span><span class="op" id="5858000">)</span><span class="op" id="5858001">-</span><span class="num" id="5858002">1</span>&nbsp;<span class="op" id="5858004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858009">return</span>&nbsp;<span class="builtintype" id="5858016">nil</span><span class="op" id="5858019">,</span>&nbsp;<span class="ident" id="5858021">fmt</span><span class="op" id="5858024">.</span><span class="ident" id="5858025">Errorf</span><span class="op" id="5858031">(</span><span class="string" id="5858032">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="5858070">,</span>&nbsp;<span class="ident" id="5858072">v</span><span class="op" id="5858073">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5858077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858081">return</span>&nbsp;<span class="ident" id="5858088">int64</span><span class="op" id="5858093">(</span><span class="ident" id="5858094">u64</span><span class="op" id="5858097">)</span><span class="op" id="5858098">,</span>&nbsp;<span class="builtintype" id="5858100">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858105">case</span>&nbsp;<span class="ident" id="5858110">reflect</span><span class="op" id="5858117">.</span><span class="ident" id="5858118">String</span><span class="op" id="5858124">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5858128">i</span><span class="op" id="5858129">,</span>&nbsp;<span class="ident" id="5858131">err</span>&nbsp;<span class="op" id="5858135">:=</span>&nbsp;<span class="ident" id="5858138">strconv</span><span class="op" id="5858145">.</span><span class="ident" id="5858146">Atoi</span><span class="op" id="5858150">(</span><span class="ident" id="5858151">rv</span><span class="op" id="5858153">.</span><span class="ident" id="5858154">String</span><span class="op" id="5858160">(</span><span class="op" id="5858161">)</span><span class="op" id="5858162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858166">if</span>&nbsp;<span class="ident" id="5858169">err</span>&nbsp;<span class="op" id="5858173">!=</span>&nbsp;<span class="builtintype" id="5858176">nil</span>&nbsp;<span class="op" id="5858180">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858185">return</span>&nbsp;<span class="builtintype" id="5858192">nil</span><span class="op" id="5858195">,</span>&nbsp;<span class="ident" id="5858197">fmt</span><span class="op" id="5858200">.</span><span class="ident" id="5858201">Errorf</span><span class="op" id="5858207">(</span><span class="string" id="5858208">&#34;sql/driver:&nbsp;value&nbsp;%q&nbsp;can&#39;t&nbsp;be&nbsp;converted&nbsp;to&nbsp;int32&#34;</span><span class="op" id="5858258">,</span>&nbsp;<span class="ident" id="5858260">v</span><span class="op" id="5858261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5858265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858269">return</span>&nbsp;<span class="ident" id="5858276">int64</span><span class="op" id="5858281">(</span><span class="ident" id="5858282">i</span><span class="op" id="5858283">)</span><span class="op" id="5858284">,</span>&nbsp;<span class="builtintype" id="5858286">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5858291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858294">return</span>&nbsp;<span class="builtintype" id="5858301">nil</span><span class="op" id="5858304">,</span>&nbsp;<span class="ident" id="5858306">fmt</span><span class="op" id="5858309">.</span><span class="ident" id="5858310">Errorf</span><span class="op" id="5858316">(</span><span class="string" id="5858317">&#34;sql/driver:&nbsp;unsupported&nbsp;value&nbsp;%v&nbsp;(type&nbsp;%T)&nbsp;converting&nbsp;to&nbsp;int32&#34;</span><span class="op" id="5858381">,</span>&nbsp;<span class="ident" id="5858383">v</span><span class="op" id="5858384">,</span>&nbsp;<span class="ident" id="5858386">v</span><span class="op" id="5858387">)</span><br>
<span class="lineno">130</span><span class="op" id="5858389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5858392">//&nbsp;String&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;its&nbsp;input&nbsp;to&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="5858459">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;already&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte,&nbsp;it&#39;s&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="comment" id="5858522">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;of&nbsp;another&nbsp;type,&nbsp;conversion&nbsp;to&nbsp;string&nbsp;is&nbsp;done</span><br>
<span class="lineno">135</span><span class="comment" id="5858587">//&nbsp;with&nbsp;fmt.Sprintf(&#34;%v&#34;,&nbsp;v).</span><br>
<span class="lineno"></span><span class="keyword" id="5858617">var</span>&nbsp;<span class="ident" id="5858621">String</span>&nbsp;<span class="ident" id="5858628">stringType</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5858640">type</span>&nbsp;<span class="ident" id="5858645">stringType</span>&nbsp;<span class="keyword" id="5858656">struct</span><span class="op" id="5858662">{</span><span class="op" id="5858663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="5858666">func</span>&nbsp;<span class="op" id="5858671">(</span><span class="ident" id="5858672">stringType</span><span class="op" id="5858682">)</span>&nbsp;<span class="ident" id="5858684">ConvertValue</span><span class="op" id="5858696">(</span><span class="ident" id="5858697">v</span>&nbsp;<span class="keyword" id="5858699">interface</span><span class="op" id="5858708">{</span><span class="op" id="5858709">}</span><span class="op" id="5858710">)</span>&nbsp;<span class="op" id="5858712">(</span><span class="ident" id="5858713">Value</span><span class="op" id="5858718">,</span>&nbsp;<span class="builtintype" id="5858720">error</span><span class="op" id="5858725">)</span>&nbsp;<span class="op" id="5858727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858730">switch</span>&nbsp;<span class="ident" id="5858737">v</span><span class="op" id="5858738">.</span><span class="op" id="5858739">(</span><span class="keyword" id="5858740">type</span><span class="op" id="5858744">)</span>&nbsp;<span class="op" id="5858746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858749">case</span>&nbsp;<span class="builtintype" id="5858754">string</span><span class="op" id="5858760">,</span>&nbsp;<span class="op" id="5858762">[</span><span class="op" id="5858763">]</span><span class="builtintype" id="5858764">byte</span><span class="op" id="5858768">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858772">return</span>&nbsp;<span class="ident" id="5858779">v</span><span class="op" id="5858780">,</span>&nbsp;<span class="builtintype" id="5858782">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5858787">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5858790">return</span>&nbsp;<span class="ident" id="5858797">fmt</span><span class="op" id="5858800">.</span><span class="ident" id="5858801">Sprintf</span><span class="op" id="5858808">(</span><span class="string" id="5858809">&#34;%v&#34;</span><span class="op" id="5858813">,</span>&nbsp;<span class="ident" id="5858815">v</span><span class="op" id="5858816">)</span><span class="op" id="5858817">,</span>&nbsp;<span class="builtintype" id="5858819">nil</span><br>
<span class="lineno"></span><span class="op" id="5858823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5858826">//&nbsp;Null&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;allowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="5858891">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno">150</span><span class="keyword" id="5858953">type</span>&nbsp;<span class="ident" id="5858958">Null</span>&nbsp;<span class="keyword" id="5858963">struct</span>&nbsp;<span class="op" id="5858970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5858973">Converter</span>&nbsp;<span class="ident" id="5858983">ValueConverter</span><br>
<span class="lineno"></span><span class="op" id="5858998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5859001">func</span>&nbsp;<span class="op" id="5859006">(</span><span class="ident" id="5859007">n</span>&nbsp;<span class="ident" id="5859009">Null</span><span class="op" id="5859013">)</span>&nbsp;<span class="ident" id="5859015">ConvertValue</span><span class="op" id="5859027">(</span><span class="ident" id="5859028">v</span>&nbsp;<span class="keyword" id="5859030">interface</span><span class="op" id="5859039">{</span><span class="op" id="5859040">}</span><span class="op" id="5859041">)</span>&nbsp;<span class="op" id="5859043">(</span><span class="ident" id="5859044">Value</span><span class="op" id="5859049">,</span>&nbsp;<span class="builtintype" id="5859051">error</span><span class="op" id="5859056">)</span>&nbsp;<span class="op" id="5859058">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859061">if</span>&nbsp;<span class="ident" id="5859064">v</span>&nbsp;<span class="op" id="5859066">==</span>&nbsp;<span class="builtintype" id="5859069">nil</span>&nbsp;<span class="op" id="5859073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859077">return</span>&nbsp;<span class="builtintype" id="5859084">nil</span><span class="op" id="5859087">,</span>&nbsp;<span class="builtintype" id="5859089">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5859094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859097">return</span>&nbsp;<span class="ident" id="5859104">n</span><span class="op" id="5859105">.</span><span class="ident" id="5859106">Converter</span><span class="op" id="5859115">.</span><span class="ident" id="5859116">ConvertValue</span><span class="op" id="5859128">(</span><span class="ident" id="5859129">v</span><span class="op" id="5859130">)</span><br>
<span class="lineno"></span><span class="op" id="5859132">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="comment" id="5859135">//&nbsp;NotNull&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;disallowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="5859206">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno"></span><span class="keyword" id="5859268">type</span>&nbsp;<span class="ident" id="5859273">NotNull</span>&nbsp;<span class="keyword" id="5859281">struct</span>&nbsp;<span class="op" id="5859288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5859291">Converter</span>&nbsp;<span class="ident" id="5859301">ValueConverter</span><br>
<span class="lineno">165</span><span class="op" id="5859316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5859319">func</span>&nbsp;<span class="op" id="5859324">(</span><span class="ident" id="5859325">n</span>&nbsp;<span class="ident" id="5859327">NotNull</span><span class="op" id="5859334">)</span>&nbsp;<span class="ident" id="5859336">ConvertValue</span><span class="op" id="5859348">(</span><span class="ident" id="5859349">v</span>&nbsp;<span class="keyword" id="5859351">interface</span><span class="op" id="5859360">{</span><span class="op" id="5859361">}</span><span class="op" id="5859362">)</span>&nbsp;<span class="op" id="5859364">(</span><span class="ident" id="5859365">Value</span><span class="op" id="5859370">,</span>&nbsp;<span class="builtintype" id="5859372">error</span><span class="op" id="5859377">)</span>&nbsp;<span class="op" id="5859379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859382">if</span>&nbsp;<span class="ident" id="5859385">v</span>&nbsp;<span class="op" id="5859387">==</span>&nbsp;<span class="builtintype" id="5859390">nil</span>&nbsp;<span class="op" id="5859394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859398">return</span>&nbsp;<span class="builtintype" id="5859405">nil</span><span class="op" id="5859408">,</span>&nbsp;<span class="ident" id="5859410">fmt</span><span class="op" id="5859413">.</span><span class="ident" id="5859414">Errorf</span><span class="op" id="5859420">(</span><span class="string" id="5859421">&#34;nil&nbsp;value&nbsp;not&nbsp;allowed&#34;</span><span class="op" id="5859444">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5859447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859450">return</span>&nbsp;<span class="ident" id="5859457">n</span><span class="op" id="5859458">.</span><span class="ident" id="5859459">Converter</span><span class="op" id="5859468">.</span><span class="ident" id="5859469">ConvertValue</span><span class="op" id="5859481">(</span><span class="ident" id="5859482">v</span><span class="op" id="5859483">)</span><br>
<span class="lineno"></span><span class="op" id="5859485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5859488">//&nbsp;IsValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;parameter&nbsp;type.</span><br>
<span class="lineno">175</span><span class="comment" id="5859550">//&nbsp;Unlike&nbsp;IsScanValue,&nbsp;IsValue&nbsp;permits&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5859606">func</span>&nbsp;<span class="ident" id="5859611">IsValue</span><span class="op" id="5859618">(</span><span class="ident" id="5859619">v</span>&nbsp;<span class="keyword" id="5859621">interface</span><span class="op" id="5859630">{</span><span class="op" id="5859631">}</span><span class="op" id="5859632">)</span>&nbsp;<span class="builtintype" id="5859634">bool</span>&nbsp;<span class="op" id="5859639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859642">if</span>&nbsp;<span class="ident" id="5859645">IsScanValue</span><span class="op" id="5859656">(</span><span class="ident" id="5859657">v</span><span class="op" id="5859658">)</span>&nbsp;<span class="op" id="5859660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859664">return</span>&nbsp;<span class="builtintype" id="5859671">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5859677">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859680">if</span>&nbsp;<span class="ident" id="5859683">_</span><span class="op" id="5859684">,</span>&nbsp;<span class="ident" id="5859686">ok</span>&nbsp;<span class="op" id="5859689">:=</span>&nbsp;<span class="ident" id="5859692">v</span><span class="op" id="5859693">.</span><span class="op" id="5859694">(</span><span class="builtintype" id="5859695">string</span><span class="op" id="5859701">)</span><span class="op" id="5859702">;</span>&nbsp;<span class="ident" id="5859704">ok</span>&nbsp;<span class="op" id="5859707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859711">return</span>&nbsp;<span class="builtintype" id="5859718">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5859724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859727">return</span>&nbsp;<span class="builtintype" id="5859734">false</span><br>
<span class="lineno"></span><span class="op" id="5859740">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="comment" id="5859743">//&nbsp;IsScanValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;scan&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="5859804">//&nbsp;Unlike&nbsp;IsValue,&nbsp;IsScanValue&nbsp;does&nbsp;not&nbsp;permit&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5859868">func</span>&nbsp;<span class="ident" id="5859873">IsScanValue</span><span class="op" id="5859884">(</span><span class="ident" id="5859885">v</span>&nbsp;<span class="keyword" id="5859887">interface</span><span class="op" id="5859896">{</span><span class="op" id="5859897">}</span><span class="op" id="5859898">)</span>&nbsp;<span class="builtintype" id="5859900">bool</span>&nbsp;<span class="op" id="5859905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859908">if</span>&nbsp;<span class="ident" id="5859911">v</span>&nbsp;<span class="op" id="5859913">==</span>&nbsp;<span class="builtintype" id="5859916">nil</span>&nbsp;<span class="op" id="5859920">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859924">return</span>&nbsp;<span class="builtintype" id="5859931">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5859937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859940">switch</span>&nbsp;<span class="ident" id="5859947">v</span><span class="op" id="5859948">.</span><span class="op" id="5859949">(</span><span class="keyword" id="5859950">type</span><span class="op" id="5859954">)</span>&nbsp;<span class="op" id="5859956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5859959">case</span>&nbsp;<span class="ident" id="5859964">int64</span><span class="op" id="5859969">,</span>&nbsp;<span class="builtintype" id="5859971">float64</span><span class="op" id="5859978">,</span>&nbsp;<span class="op" id="5859980">[</span><span class="op" id="5859981">]</span><span class="builtintype" id="5859982">byte</span><span class="op" id="5859986">,</span>&nbsp;<span class="builtintype" id="5859988">bool</span><span class="op" id="5859992">,</span>&nbsp;<span class="ident" id="5859994">time</span><span class="op" id="5859998">.</span><span class="ident" id="5859999">Time</span><span class="op" id="5860003">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860007">return</span>&nbsp;<span class="builtintype" id="5860014">true</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5860020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860023">return</span>&nbsp;<span class="builtintype" id="5860030">false</span><br>
<span class="lineno"></span><span class="op" id="5860036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5860039">//&nbsp;DefaultParameterConverter&nbsp;is&nbsp;the&nbsp;default&nbsp;implementation&nbsp;of</span><br>
<span class="lineno">200</span><span class="comment" id="5860101">//&nbsp;ValueConverter&nbsp;that&#39;s&nbsp;used&nbsp;when&nbsp;a&nbsp;Stmt&nbsp;doesn&#39;t&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="5860161">//&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span><span class="comment" id="5860181">//</span><br>
<span class="lineno"></span><span class="comment" id="5860184">//&nbsp;DefaultParameterConverter&nbsp;returns&nbsp;the&nbsp;given&nbsp;value&nbsp;directly&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5860249">//&nbsp;IsValue(value).&nbsp;&nbsp;Otherwise&nbsp;integer&nbsp;type&nbsp;are&nbsp;converted&nbsp;to</span><br>
<span class="lineno">205</span><span class="comment" id="5860309">//&nbsp;int64,&nbsp;floats&nbsp;to&nbsp;float64,&nbsp;and&nbsp;strings&nbsp;to&nbsp;[]byte.&nbsp;&nbsp;Other&nbsp;types&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="5860378">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="5860391">var</span>&nbsp;<span class="ident" id="5860395">DefaultParameterConverter</span>&nbsp;<span class="ident" id="5860421">defaultConverter</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5860439">type</span>&nbsp;<span class="ident" id="5860444">defaultConverter</span>&nbsp;<span class="keyword" id="5860461">struct</span><span class="op" id="5860467">{</span><span class="op" id="5860468">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="5860471">var</span>&nbsp;<span class="ident" id="5860475">_</span>&nbsp;<span class="ident" id="5860477">ValueConverter</span>&nbsp;<span class="op" id="5860492">=</span>&nbsp;<span class="ident" id="5860494">defaultConverter</span><span class="op" id="5860510">{</span><span class="op" id="5860511">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5860514">func</span>&nbsp;<span class="op" id="5860519">(</span><span class="ident" id="5860520">defaultConverter</span><span class="op" id="5860536">)</span>&nbsp;<span class="ident" id="5860538">ConvertValue</span><span class="op" id="5860550">(</span><span class="ident" id="5860551">v</span>&nbsp;<span class="keyword" id="5860553">interface</span><span class="op" id="5860562">{</span><span class="op" id="5860563">}</span><span class="op" id="5860564">)</span>&nbsp;<span class="op" id="5860566">(</span><span class="ident" id="5860567">Value</span><span class="op" id="5860572">,</span>&nbsp;<span class="builtintype" id="5860574">error</span><span class="op" id="5860579">)</span>&nbsp;<span class="op" id="5860581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860584">if</span>&nbsp;<span class="ident" id="5860587">IsValue</span><span class="op" id="5860594">(</span><span class="ident" id="5860595">v</span><span class="op" id="5860596">)</span>&nbsp;<span class="op" id="5860598">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860602">return</span>&nbsp;<span class="ident" id="5860609">v</span><span class="op" id="5860610">,</span>&nbsp;<span class="builtintype" id="5860612">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5860617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860621">if</span>&nbsp;<span class="ident" id="5860624">svi</span><span class="op" id="5860627">,</span>&nbsp;<span class="ident" id="5860629">ok</span>&nbsp;<span class="op" id="5860632">:=</span>&nbsp;<span class="ident" id="5860635">v</span><span class="op" id="5860636">.</span><span class="op" id="5860637">(</span><span class="ident" id="5860638">Valuer</span><span class="op" id="5860644">)</span><span class="op" id="5860645">;</span>&nbsp;<span class="ident" id="5860647">ok</span>&nbsp;<span class="op" id="5860650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5860654">sv</span><span class="op" id="5860656">,</span>&nbsp;<span class="ident" id="5860658">err</span>&nbsp;<span class="op" id="5860662">:=</span>&nbsp;<span class="ident" id="5860665">svi</span><span class="op" id="5860668">.</span><span class="ident" id="5860669">Value</span><span class="op" id="5860674">(</span><span class="op" id="5860675">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860679">if</span>&nbsp;<span class="ident" id="5860682">err</span>&nbsp;<span class="op" id="5860686">!=</span>&nbsp;<span class="builtintype" id="5860689">nil</span>&nbsp;<span class="op" id="5860693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860698">return</span>&nbsp;<span class="builtintype" id="5860705">nil</span><span class="op" id="5860708">,</span>&nbsp;<span class="ident" id="5860710">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5860716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860720">if</span>&nbsp;<span class="op" id="5860723">!</span><span class="ident" id="5860724">IsValue</span><span class="op" id="5860731">(</span><span class="ident" id="5860732">sv</span><span class="op" id="5860734">)</span>&nbsp;<span class="op" id="5860736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860741">return</span>&nbsp;<span class="builtintype" id="5860748">nil</span><span class="op" id="5860751">,</span>&nbsp;<span class="ident" id="5860753">fmt</span><span class="op" id="5860756">.</span><span class="ident" id="5860757">Errorf</span><span class="op" id="5860763">(</span><span class="string" id="5860764">&#34;non-Value&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="5860803">,</span>&nbsp;<span class="ident" id="5860805">sv</span><span class="op" id="5860807">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5860811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860815">return</span>&nbsp;<span class="ident" id="5860822">sv</span><span class="op" id="5860824">,</span>&nbsp;<span class="builtintype" id="5860826">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5860831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5860835">rv</span>&nbsp;<span class="op" id="5860838">:=</span>&nbsp;<span class="ident" id="5860841">reflect</span><span class="op" id="5860848">.</span><span class="ident" id="5860849">ValueOf</span><span class="op" id="5860856">(</span><span class="ident" id="5860857">v</span><span class="op" id="5860858">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860861">switch</span>&nbsp;<span class="ident" id="5860868">rv</span><span class="op" id="5860870">.</span><span class="ident" id="5860871">Kind</span><span class="op" id="5860875">(</span><span class="op" id="5860876">)</span>&nbsp;<span class="op" id="5860878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860881">case</span>&nbsp;<span class="ident" id="5860886">reflect</span><span class="op" id="5860893">.</span><span class="ident" id="5860894">Ptr</span><span class="op" id="5860897">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5860901">//&nbsp;indirect&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860924">if</span>&nbsp;<span class="ident" id="5860927">rv</span><span class="op" id="5860929">.</span><span class="ident" id="5860930">IsNil</span><span class="op" id="5860935">(</span><span class="op" id="5860936">)</span>&nbsp;<span class="op" id="5860938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860943">return</span>&nbsp;<span class="builtintype" id="5860950">nil</span><span class="op" id="5860953">,</span>&nbsp;<span class="builtintype" id="5860955">nil</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5860961">}</span>&nbsp;<span class="keyword" id="5860963">else</span>&nbsp;<span class="op" id="5860968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5860973">return</span>&nbsp;<span class="ident" id="5860980">defaultConverter</span><span class="op" id="5860996">{</span><span class="op" id="5860997">}</span><span class="op" id="5860998">.</span><span class="ident" id="5860999">ConvertValue</span><span class="op" id="5861011">(</span><span class="ident" id="5861012">rv</span><span class="op" id="5861014">.</span><span class="ident" id="5861015">Elem</span><span class="op" id="5861019">(</span><span class="op" id="5861020">)</span><span class="op" id="5861021">.</span><span class="ident" id="5861022">Interface</span><span class="op" id="5861031">(</span><span class="op" id="5861032">)</span><span class="op" id="5861033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5861037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861040">case</span>&nbsp;<span class="ident" id="5861045">reflect</span><span class="op" id="5861052">.</span><span class="ident" id="5861053">Int</span><span class="op" id="5861056">,</span>&nbsp;<span class="ident" id="5861058">reflect</span><span class="op" id="5861065">.</span><span class="ident" id="5861066">Int8</span><span class="op" id="5861070">,</span>&nbsp;<span class="ident" id="5861072">reflect</span><span class="op" id="5861079">.</span><span class="ident" id="5861080">Int16</span><span class="op" id="5861085">,</span>&nbsp;<span class="ident" id="5861087">reflect</span><span class="op" id="5861094">.</span><span class="ident" id="5861095">Int32</span><span class="op" id="5861100">,</span>&nbsp;<span class="ident" id="5861102">reflect</span><span class="op" id="5861109">.</span><span class="ident" id="5861110">Int64</span><span class="op" id="5861115">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861119">return</span>&nbsp;<span class="ident" id="5861126">rv</span><span class="op" id="5861128">.</span><span class="ident" id="5861129">Int</span><span class="op" id="5861132">(</span><span class="op" id="5861133">)</span><span class="op" id="5861134">,</span>&nbsp;<span class="builtintype" id="5861136">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861141">case</span>&nbsp;<span class="ident" id="5861146">reflect</span><span class="op" id="5861153">.</span><span class="ident" id="5861154">Uint</span><span class="op" id="5861158">,</span>&nbsp;<span class="ident" id="5861160">reflect</span><span class="op" id="5861167">.</span><span class="ident" id="5861168">Uint8</span><span class="op" id="5861173">,</span>&nbsp;<span class="ident" id="5861175">reflect</span><span class="op" id="5861182">.</span><span class="ident" id="5861183">Uint16</span><span class="op" id="5861189">,</span>&nbsp;<span class="ident" id="5861191">reflect</span><span class="op" id="5861198">.</span><span class="ident" id="5861199">Uint32</span><span class="op" id="5861205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861209">return</span>&nbsp;<span class="ident" id="5861216">int64</span><span class="op" id="5861221">(</span><span class="ident" id="5861222">rv</span><span class="op" id="5861224">.</span><span class="ident" id="5861225">Uint</span><span class="op" id="5861229">(</span><span class="op" id="5861230">)</span><span class="op" id="5861231">)</span><span class="op" id="5861232">,</span>&nbsp;<span class="builtintype" id="5861234">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861239">case</span>&nbsp;<span class="ident" id="5861244">reflect</span><span class="op" id="5861251">.</span><span class="ident" id="5861252">Uint64</span><span class="op" id="5861258">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5861262">u64</span>&nbsp;<span class="op" id="5861266">:=</span>&nbsp;<span class="ident" id="5861269">rv</span><span class="op" id="5861271">.</span><span class="ident" id="5861272">Uint</span><span class="op" id="5861276">(</span><span class="op" id="5861277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861281">if</span>&nbsp;<span class="ident" id="5861284">u64</span>&nbsp;<span class="op" id="5861288">&gt;=</span>&nbsp;<span class="num" id="5861291">1</span><span class="op" id="5861292">&lt;&lt;</span><span class="num" id="5861294">63</span>&nbsp;<span class="op" id="5861297">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861302">return</span>&nbsp;<span class="builtintype" id="5861309">nil</span><span class="op" id="5861312">,</span>&nbsp;<span class="ident" id="5861314">fmt</span><span class="op" id="5861317">.</span><span class="ident" id="5861318">Errorf</span><span class="op" id="5861324">(</span><span class="string" id="5861325">&#34;uint64&nbsp;values&nbsp;with&nbsp;high&nbsp;bit&nbsp;set&nbsp;are&nbsp;not&nbsp;supported&#34;</span><span class="op" id="5861376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5861380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861384">return</span>&nbsp;<span class="ident" id="5861391">int64</span><span class="op" id="5861396">(</span><span class="ident" id="5861397">u64</span><span class="op" id="5861400">)</span><span class="op" id="5861401">,</span>&nbsp;<span class="builtintype" id="5861403">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861408">case</span>&nbsp;<span class="ident" id="5861413">reflect</span><span class="op" id="5861420">.</span><span class="ident" id="5861421">Float32</span><span class="op" id="5861428">,</span>&nbsp;<span class="ident" id="5861430">reflect</span><span class="op" id="5861437">.</span><span class="ident" id="5861438">Float64</span><span class="op" id="5861445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861449">return</span>&nbsp;<span class="ident" id="5861456">rv</span><span class="op" id="5861458">.</span><span class="ident" id="5861459">Float</span><span class="op" id="5861464">(</span><span class="op" id="5861465">)</span><span class="op" id="5861466">,</span>&nbsp;<span class="builtintype" id="5861468">nil</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5861473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5861476">return</span>&nbsp;<span class="builtintype" id="5861483">nil</span><span class="op" id="5861486">,</span>&nbsp;<span class="ident" id="5861488">fmt</span><span class="op" id="5861491">.</span><span class="ident" id="5861492">Errorf</span><span class="op" id="5861498">(</span><span class="string" id="5861499">&#34;unsupported&nbsp;type&nbsp;%T,&nbsp;a&nbsp;%s&#34;</span><span class="op" id="5861526">,</span>&nbsp;<span class="ident" id="5861528">v</span><span class="op" id="5861529">,</span>&nbsp;<span class="ident" id="5861531">rv</span><span class="op" id="5861533">.</span><span class="ident" id="5861534">Kind</span><span class="op" id="5861538">(</span><span class="op" id="5861539">)</span><span class="op" id="5861540">)</span><br>
<span class="lineno"></span><span class="op" id="5861542">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
