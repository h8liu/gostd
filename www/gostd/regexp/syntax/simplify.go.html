<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html" class="current">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3674260">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3674316">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3674370">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3674421">package</span>&nbsp;<span class="ident" id="3674429">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3674437">//&nbsp;Simplify&nbsp;returns&nbsp;a&nbsp;regexp&nbsp;equivalent&nbsp;to&nbsp;re&nbsp;but&nbsp;without&nbsp;counted&nbsp;repetitions</span><br>
<span class="lineno"></span><span class="comment" id="3674515">//&nbsp;and&nbsp;with&nbsp;various&nbsp;other&nbsp;simplifications,&nbsp;such&nbsp;as&nbsp;rewriting&nbsp;/(?:a+)+/&nbsp;to&nbsp;/a+/.</span><br>
<span class="lineno"></span><span class="comment" id="3674595">//&nbsp;The&nbsp;resulting&nbsp;regexp&nbsp;will&nbsp;execute&nbsp;correctly&nbsp;but&nbsp;its&nbsp;string&nbsp;representation</span><br>
<span class="lineno">10</span><span class="comment" id="3674672">//&nbsp;will&nbsp;not&nbsp;produce&nbsp;the&nbsp;same&nbsp;parse&nbsp;tree,&nbsp;because&nbsp;capturing&nbsp;parentheses</span><br>
<span class="lineno"></span><span class="comment" id="3674743">//&nbsp;may&nbsp;have&nbsp;been&nbsp;duplicated&nbsp;or&nbsp;removed.&nbsp;&nbsp;For&nbsp;example,&nbsp;the&nbsp;simplified&nbsp;form</span><br>
<span class="lineno"></span><span class="comment" id="3674817">//&nbsp;for&nbsp;/(x){1,2}/&nbsp;is&nbsp;/(x)(x)?/&nbsp;but&nbsp;both&nbsp;parentheses&nbsp;capture&nbsp;as&nbsp;$1.</span><br>
<span class="lineno"></span><span class="comment" id="3674884">//&nbsp;The&nbsp;returned&nbsp;regexp&nbsp;may&nbsp;share&nbsp;structure&nbsp;with&nbsp;or&nbsp;be&nbsp;the&nbsp;original.</span><br>
<span class="lineno"></span><span class="keyword" id="3674952">func</span>&nbsp;<span class="op" id="3674957">(</span><span class="ident" id="3674958">re</span>&nbsp;<span class="op" id="3674961">*</span><span class="ident" id="3674962"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="3674968">)</span>&nbsp;<span class="ident" id="3674970">Simplify</span><span class="op" id="3674978">(</span><span class="op" id="3674979">)</span>&nbsp;<span class="op" id="3674981">*</span><span class="ident" id="3674982"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span>&nbsp;<span class="op" id="3674989">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3674992">if</span>&nbsp;<span class="ident" id="3674995"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span>&nbsp;<span class="op" id="3674998">==</span>&nbsp;<span class="builtintype" id="3675001">nil</span>&nbsp;<span class="op" id="3675005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675009">return</span>&nbsp;<span class="builtintype" id="3675016">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3675021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675024">switch</span>&nbsp;<span class="ident" id="3675031"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675033">.</span><span class="ident" id="3675034"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span>&nbsp;<span class="op" id="3675037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675040">case</span>&nbsp;<span class="ident" id="3675045"><a href="/gostd/regexp/syntax/regexp.go.html#3668363">OpCapture</a></span><span class="op" id="3675054">,</span>&nbsp;<span class="ident" id="3675056"><a href="/gostd/regexp/syntax/regexp.go.html#3668768">OpConcat</a></span><span class="op" id="3675064">,</span>&nbsp;<span class="ident" id="3675066"><a href="/gostd/regexp/syntax/regexp.go.html#3668833">OpAlternate</a></span><span class="op" id="3675077">:</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3675081">//&nbsp;Simplify&nbsp;children,&nbsp;building&nbsp;new&nbsp;Regexp&nbsp;if&nbsp;children&nbsp;change.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3675145">nre</span>&nbsp;<span class="op" id="3675149">:=</span>&nbsp;<span class="ident" id="3675152"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675157">for</span>&nbsp;<span class="ident" id="3675161">i</span><span class="op" id="3675162">,</span>&nbsp;<span class="ident" id="3675164">sub</span>&nbsp;<span class="op" id="3675168">:=</span>&nbsp;<span class="keyword" id="3675171">range</span>&nbsp;<span class="ident" id="3675177"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675179">.</span><span class="ident" id="3675180"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3675184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3675189">nsub</span>&nbsp;<span class="op" id="3675194">:=</span>&nbsp;<span class="ident" id="3675197"><a href="/gostd/regexp/syntax/simplify.go.html#3675164">sub</a></span><span class="op" id="3675200">.</span><span class="ident" id="3675201"><a href="/gostd/regexp/syntax/simplify.go.html#3674970">Simplify</a></span><span class="op" id="3675209">(</span><span class="op" id="3675210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675215">if</span>&nbsp;<span class="ident" id="3675218"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span>&nbsp;<span class="op" id="3675222">==</span>&nbsp;<span class="ident" id="3675225"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span>&nbsp;<span class="op" id="3675228">&amp;&amp;</span>&nbsp;<span class="ident" id="3675231"><a href="/gostd/regexp/syntax/simplify.go.html#3675189">nsub</a></span>&nbsp;<span class="op" id="3675236">!=</span>&nbsp;<span class="ident" id="3675239"><a href="/gostd/regexp/syntax/simplify.go.html#3675164">sub</a></span>&nbsp;<span class="op" id="3675243">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3675249">//&nbsp;Start&nbsp;a&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3675270"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span>&nbsp;<span class="op" id="3675274">=</span>&nbsp;<span class="builtinfunc" id="3675276">new</span><span class="op" id="3675279">(</span><span class="ident" id="3675280"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="3675286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3675292">*</span><span class="ident" id="3675293"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span>&nbsp;<span class="op" id="3675297">=</span>&nbsp;<span class="op" id="3675299">*</span><span class="ident" id="3675300"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3675307"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span><span class="op" id="3675310">.</span><span class="ident" id="3675311"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span>&nbsp;<span class="op" id="3675316">=</span>&nbsp;<span class="builtintype" id="3675318">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3675326"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span><span class="op" id="3675329">.</span><span class="ident" id="3675330"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3675334">=</span>&nbsp;<span class="builtinfunc" id="3675336">append</span><span class="op" id="3675342">(</span><span class="ident" id="3675343"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span><span class="op" id="3675346">.</span><span class="ident" id="3675347"><a href="/gostd/regexp/syntax/regexp.go.html#3666976">Sub0</a></span><span class="op" id="3675351">[</span><span class="op" id="3675352">:</span><span class="num" id="3675353">0</span><span class="op" id="3675354">]</span><span class="op" id="3675355">,</span>&nbsp;<span class="ident" id="3675357"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675359">.</span><span class="ident" id="3675360"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="3675363">[</span><span class="op" id="3675364">:</span><span class="ident" id="3675365"><a href="/gostd/regexp/syntax/simplify.go.html#3675161">i</a></span><span class="op" id="3675366">]</span><span class="op" id="3675367">...</span><span class="op" id="3675370">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3675375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675380">if</span>&nbsp;<span class="ident" id="3675383"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span>&nbsp;<span class="op" id="3675387">!=</span>&nbsp;<span class="ident" id="3675390"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span>&nbsp;<span class="op" id="3675393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3675399"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span><span class="op" id="3675402">.</span><span class="ident" id="3675403"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3675407">=</span>&nbsp;<span class="builtinfunc" id="3675409">append</span><span class="op" id="3675415">(</span><span class="ident" id="3675416"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span><span class="op" id="3675419">.</span><span class="ident" id="3675420"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="3675423">,</span>&nbsp;<span class="ident" id="3675425"><a href="/gostd/regexp/syntax/simplify.go.html#3675189">nsub</a></span><span class="op" id="3675429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3675434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3675438">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675442">return</span>&nbsp;<span class="ident" id="3675449"><a href="/gostd/regexp/syntax/simplify.go.html#3675145">nre</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675455">case</span>&nbsp;<span class="ident" id="3675460"><a href="/gostd/regexp/syntax/regexp.go.html#3668457">OpStar</a></span><span class="op" id="3675466">,</span>&nbsp;<span class="ident" id="3675468"><a href="/gostd/regexp/syntax/regexp.go.html#3668526">OpPlus</a></span><span class="op" id="3675474">,</span>&nbsp;<span class="ident" id="3675476"><a href="/gostd/regexp/syntax/regexp.go.html#3668594">OpQuest</a></span><span class="op" id="3675483">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3675487">sub</span>&nbsp;<span class="op" id="3675491">:=</span>&nbsp;<span class="ident" id="3675494"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675496">.</span><span class="ident" id="3675497"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="3675500">[</span><span class="num" id="3675501">0</span><span class="op" id="3675502">]</span><span class="op" id="3675503">.</span><span class="ident" id="3675504"><a href="/gostd/regexp/syntax/simplify.go.html#3674970">Simplify</a></span><span class="op" id="3675512">(</span><span class="op" id="3675513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675517">return</span>&nbsp;<span class="ident" id="3675524"><a href="/gostd/regexp/syntax/simplify.go.html#3678039">simplify1</a></span><span class="op" id="3675533">(</span><span class="ident" id="3675534"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675536">.</span><span class="ident" id="3675537"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="3675539">,</span>&nbsp;<span class="ident" id="3675541"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675543">.</span><span class="ident" id="3675544"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="3675549">,</span>&nbsp;<span class="ident" id="3675551"><a href="/gostd/regexp/syntax/simplify.go.html#3675487">sub</a></span><span class="op" id="3675554">,</span>&nbsp;<span class="ident" id="3675556"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675558">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675562">case</span>&nbsp;<span class="ident" id="3675567"><a href="/gostd/regexp/syntax/regexp.go.html#3668662">OpRepeat</a></span><span class="op" id="3675575">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3675579">//&nbsp;Special&nbsp;special&nbsp;case:&nbsp;x{0}&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3675636">//&nbsp;and&nbsp;doesn&#39;t&nbsp;even&nbsp;need&nbsp;to&nbsp;consider&nbsp;x.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675678">if</span>&nbsp;<span class="ident" id="3675681"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675683">.</span><span class="ident" id="3675684"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span>&nbsp;<span class="op" id="3675688">==</span>&nbsp;<span class="num" id="3675691">0</span>&nbsp;<span class="op" id="3675693">&amp;&amp;</span>&nbsp;<span class="ident" id="3675696"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675698">.</span><span class="ident" id="3675699"><a href="/gostd/regexp/syntax/regexp.go.html#3667140">Max</a></span>&nbsp;<span class="op" id="3675703">==</span>&nbsp;<span class="num" id="3675706">0</span>&nbsp;<span class="op" id="3675708">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675713">return</span>&nbsp;<span class="op" id="3675720">&amp;</span><span class="ident" id="3675721"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="3675727">{</span><span class="ident" id="3675728"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="3675730">:</span>&nbsp;<span class="ident" id="3675732"><a href="/gostd/regexp/syntax/regexp.go.html#3667616">OpEmptyMatch</a></span><span class="op" id="3675744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3675748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3675753">//&nbsp;The&nbsp;fun&nbsp;begins.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3675774">sub</span>&nbsp;<span class="op" id="3675778">:=</span>&nbsp;<span class="ident" id="3675781"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675783">.</span><span class="ident" id="3675784"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="3675787">[</span><span class="num" id="3675788">0</span><span class="op" id="3675789">]</span><span class="op" id="3675790">.</span><span class="ident" id="3675791"><a href="/gostd/regexp/syntax/simplify.go.html#3674970">Simplify</a></span><span class="op" id="3675799">(</span><span class="op" id="3675800">)</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3675805">//&nbsp;x{n,}&nbsp;means&nbsp;at&nbsp;least&nbsp;n&nbsp;matches&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675847">if</span>&nbsp;<span class="ident" id="3675850"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675852">.</span><span class="ident" id="3675853"><a href="/gostd/regexp/syntax/regexp.go.html#3667140">Max</a></span>&nbsp;<span class="op" id="3675857">==</span>&nbsp;<span class="op" id="3675860">-</span><span class="num" id="3675861">1</span>&nbsp;<span class="op" id="3675863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3675868">//&nbsp;Special&nbsp;case:&nbsp;x{0,}&nbsp;is&nbsp;x*.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675901">if</span>&nbsp;<span class="ident" id="3675904"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675906">.</span><span class="ident" id="3675907"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span>&nbsp;<span class="op" id="3675911">==</span>&nbsp;<span class="num" id="3675914">0</span>&nbsp;<span class="op" id="3675916">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3675922">return</span>&nbsp;<span class="ident" id="3675929"><a href="/gostd/regexp/syntax/simplify.go.html#3678039">simplify1</a></span><span class="op" id="3675938">(</span><span class="ident" id="3675939"><a href="/gostd/regexp/syntax/regexp.go.html#3668457">OpStar</a></span><span class="op" id="3675945">,</span>&nbsp;<span class="ident" id="3675947"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3675949">.</span><span class="ident" id="3675950"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="3675955">,</span>&nbsp;<span class="ident" id="3675957"><a href="/gostd/regexp/syntax/simplify.go.html#3675774">sub</a></span><span class="op" id="3675960">,</span>&nbsp;<span class="builtintype" id="3675962">nil</span><span class="op" id="3675965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3675970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3675976">//&nbsp;Special&nbsp;case:&nbsp;x{1,}&nbsp;is&nbsp;x+.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676009">if</span>&nbsp;<span class="ident" id="3676012"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676014">.</span><span class="ident" id="3676015"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span>&nbsp;<span class="op" id="3676019">==</span>&nbsp;<span class="num" id="3676022">1</span>&nbsp;<span class="op" id="3676024">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676030">return</span>&nbsp;<span class="ident" id="3676037"><a href="/gostd/regexp/syntax/simplify.go.html#3678039">simplify1</a></span><span class="op" id="3676046">(</span><span class="ident" id="3676047"><a href="/gostd/regexp/syntax/regexp.go.html#3668526">OpPlus</a></span><span class="op" id="3676053">,</span>&nbsp;<span class="ident" id="3676055"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676057">.</span><span class="ident" id="3676058"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="3676063">,</span>&nbsp;<span class="ident" id="3676065"><a href="/gostd/regexp/syntax/simplify.go.html#3675774">sub</a></span><span class="op" id="3676068">,</span>&nbsp;<span class="builtintype" id="3676070">nil</span><span class="op" id="3676073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3676078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3676084">//&nbsp;General&nbsp;case:&nbsp;x{4,}&nbsp;is&nbsp;xxxx+.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676120">nre</span>&nbsp;<span class="op" id="3676124">:=</span>&nbsp;<span class="op" id="3676127">&amp;</span><span class="ident" id="3676128"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="3676134">{</span><span class="ident" id="3676135"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="3676137">:</span>&nbsp;<span class="ident" id="3676139"><a href="/gostd/regexp/syntax/regexp.go.html#3668768">OpConcat</a></span><span class="op" id="3676147">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676152"><a href="/gostd/regexp/syntax/simplify.go.html#3676120">nre</a></span><span class="op" id="3676155">.</span><span class="ident" id="3676156"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3676160">=</span>&nbsp;<span class="ident" id="3676162"><a href="/gostd/regexp/syntax/simplify.go.html#3676120">nre</a></span><span class="op" id="3676165">.</span><span class="ident" id="3676166"><a href="/gostd/regexp/syntax/regexp.go.html#3666976">Sub0</a></span><span class="op" id="3676170">[</span><span class="op" id="3676171">:</span><span class="num" id="3676172">0</span><span class="op" id="3676173">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676178">for</span>&nbsp;<span class="ident" id="3676182">i</span>&nbsp;<span class="op" id="3676184">:=</span>&nbsp;<span class="num" id="3676187">0</span><span class="op" id="3676188">;</span>&nbsp;<span class="ident" id="3676190"><a href="/gostd/regexp/syntax/simplify.go.html#3676182">i</a></span>&nbsp;<span class="op" id="3676192">&lt;</span>&nbsp;<span class="ident" id="3676194"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676196">.</span><span class="ident" id="3676197"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span><span class="op" id="3676200">-</span><span class="num" id="3676201">1</span><span class="op" id="3676202">;</span>&nbsp;<span class="ident" id="3676204"><a href="/gostd/regexp/syntax/simplify.go.html#3676182">i</a></span><span class="op" id="3676205">++</span>&nbsp;<span class="op" id="3676208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676214"><a href="/gostd/regexp/syntax/simplify.go.html#3676120">nre</a></span><span class="op" id="3676217">.</span><span class="ident" id="3676218"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3676222">=</span>&nbsp;<span class="builtinfunc" id="3676224">append</span><span class="op" id="3676230">(</span><span class="ident" id="3676231"><a href="/gostd/regexp/syntax/simplify.go.html#3676120">nre</a></span><span class="op" id="3676234">.</span><span class="ident" id="3676235"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="3676238">,</span>&nbsp;<span class="ident" id="3676240"><a href="/gostd/regexp/syntax/simplify.go.html#3675774">sub</a></span><span class="op" id="3676243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3676248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676253"><a href="/gostd/regexp/syntax/simplify.go.html#3676120">nre</a></span><span class="op" id="3676256">.</span><span class="ident" id="3676257"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3676261">=</span>&nbsp;<span class="builtinfunc" id="3676263">append</span><span class="op" id="3676269">(</span><span class="ident" id="3676270"><a href="/gostd/regexp/syntax/simplify.go.html#3676120">nre</a></span><span class="op" id="3676273">.</span><span class="ident" id="3676274"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="3676277">,</span>&nbsp;<span class="ident" id="3676279"><a href="/gostd/regexp/syntax/simplify.go.html#3678039">simplify1</a></span><span class="op" id="3676288">(</span><span class="ident" id="3676289"><a href="/gostd/regexp/syntax/regexp.go.html#3668526">OpPlus</a></span><span class="op" id="3676295">,</span>&nbsp;<span class="ident" id="3676297"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676299">.</span><span class="ident" id="3676300"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="3676305">,</span>&nbsp;<span class="ident" id="3676307"><a href="/gostd/regexp/syntax/simplify.go.html#3675774">sub</a></span><span class="op" id="3676310">,</span>&nbsp;<span class="builtintype" id="3676312">nil</span><span class="op" id="3676315">)</span><span class="op" id="3676316">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676321">return</span>&nbsp;<span class="ident" id="3676328"><a href="/gostd/regexp/syntax/simplify.go.html#3676120">nre</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3676334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3676339">//&nbsp;Special&nbsp;case&nbsp;x{0}&nbsp;handled&nbsp;above.</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3676378">//&nbsp;Special&nbsp;case:&nbsp;x{1}&nbsp;is&nbsp;just&nbsp;x.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676413">if</span>&nbsp;<span class="ident" id="3676416"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676418">.</span><span class="ident" id="3676419"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span>&nbsp;<span class="op" id="3676423">==</span>&nbsp;<span class="num" id="3676426">1</span>&nbsp;<span class="op" id="3676428">&amp;&amp;</span>&nbsp;<span class="ident" id="3676431"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676433">.</span><span class="ident" id="3676434"><a href="/gostd/regexp/syntax/regexp.go.html#3667140">Max</a></span>&nbsp;<span class="op" id="3676438">==</span>&nbsp;<span class="num" id="3676441">1</span>&nbsp;<span class="op" id="3676443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676448">return</span>&nbsp;<span class="ident" id="3676455"><a href="/gostd/regexp/syntax/simplify.go.html#3675774">sub</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3676461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3676466">//&nbsp;General&nbsp;case:&nbsp;x{n,m}&nbsp;means&nbsp;n&nbsp;copies&nbsp;of&nbsp;x&nbsp;and&nbsp;m&nbsp;copies&nbsp;of&nbsp;x?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3676531">//&nbsp;The&nbsp;machine&nbsp;will&nbsp;do&nbsp;less&nbsp;work&nbsp;if&nbsp;we&nbsp;nest&nbsp;the&nbsp;final&nbsp;m&nbsp;copies,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3676597">//&nbsp;so&nbsp;that&nbsp;x{2,5}&nbsp;=&nbsp;xx(x(x(x)?)?)?</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3676635">//&nbsp;Build&nbsp;leading&nbsp;prefix:&nbsp;xx.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676666">var</span>&nbsp;<span class="ident" id="3676670">prefix</span>&nbsp;<span class="op" id="3676677">*</span><span class="ident" id="3676678"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676687">if</span>&nbsp;<span class="ident" id="3676690"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676692">.</span><span class="ident" id="3676693"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span>&nbsp;<span class="op" id="3676697">&gt;</span>&nbsp;<span class="num" id="3676699">0</span>&nbsp;<span class="op" id="3676701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676706"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span>&nbsp;<span class="op" id="3676713">=</span>&nbsp;<span class="op" id="3676715">&amp;</span><span class="ident" id="3676716"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="3676722">{</span><span class="ident" id="3676723"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="3676725">:</span>&nbsp;<span class="ident" id="3676727"><a href="/gostd/regexp/syntax/regexp.go.html#3668768">OpConcat</a></span><span class="op" id="3676735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676740"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span><span class="op" id="3676746">.</span><span class="ident" id="3676747"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3676751">=</span>&nbsp;<span class="ident" id="3676753"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span><span class="op" id="3676759">.</span><span class="ident" id="3676760"><a href="/gostd/regexp/syntax/regexp.go.html#3666976">Sub0</a></span><span class="op" id="3676764">[</span><span class="op" id="3676765">:</span><span class="num" id="3676766">0</span><span class="op" id="3676767">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676772">for</span>&nbsp;<span class="ident" id="3676776">i</span>&nbsp;<span class="op" id="3676778">:=</span>&nbsp;<span class="num" id="3676781">0</span><span class="op" id="3676782">;</span>&nbsp;<span class="ident" id="3676784"><a href="/gostd/regexp/syntax/simplify.go.html#3676776">i</a></span>&nbsp;<span class="op" id="3676786">&lt;</span>&nbsp;<span class="ident" id="3676788"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676790">.</span><span class="ident" id="3676791"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span><span class="op" id="3676794">;</span>&nbsp;<span class="ident" id="3676796"><a href="/gostd/regexp/syntax/simplify.go.html#3676776">i</a></span><span class="op" id="3676797">++</span>&nbsp;<span class="op" id="3676800">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676806"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span><span class="op" id="3676812">.</span><span class="ident" id="3676813"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3676817">=</span>&nbsp;<span class="builtinfunc" id="3676819">append</span><span class="op" id="3676825">(</span><span class="ident" id="3676826"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span><span class="op" id="3676832">.</span><span class="ident" id="3676833"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="3676836">,</span>&nbsp;<span class="ident" id="3676838"><a href="/gostd/regexp/syntax/simplify.go.html#3675774">sub</a></span><span class="op" id="3676841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3676846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3676850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3676855">//&nbsp;Build&nbsp;and&nbsp;attach&nbsp;suffix:&nbsp;(x(x(x)?)?)?</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676898">if</span>&nbsp;<span class="ident" id="3676901"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676903">.</span><span class="ident" id="3676904"><a href="/gostd/regexp/syntax/regexp.go.html#3667140">Max</a></span>&nbsp;<span class="op" id="3676908">&gt;</span>&nbsp;<span class="ident" id="3676910"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676912">.</span><span class="ident" id="3676913"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span>&nbsp;<span class="op" id="3676917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676922">suffix</span>&nbsp;<span class="op" id="3676929">:=</span>&nbsp;<span class="ident" id="3676932"><a href="/gostd/regexp/syntax/simplify.go.html#3678039">simplify1</a></span><span class="op" id="3676941">(</span><span class="ident" id="3676942"><a href="/gostd/regexp/syntax/regexp.go.html#3668594">OpQuest</a></span><span class="op" id="3676949">,</span>&nbsp;<span class="ident" id="3676951"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676953">.</span><span class="ident" id="3676954"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="3676959">,</span>&nbsp;<span class="ident" id="3676961"><a href="/gostd/regexp/syntax/simplify.go.html#3675774">sub</a></span><span class="op" id="3676964">,</span>&nbsp;<span class="builtintype" id="3676966">nil</span><span class="op" id="3676969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676974">for</span>&nbsp;<span class="ident" id="3676978">i</span>&nbsp;<span class="op" id="3676980">:=</span>&nbsp;<span class="ident" id="3676983"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3676985">.</span><span class="ident" id="3676986"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span>&nbsp;<span class="op" id="3676990">+</span>&nbsp;<span class="num" id="3676992">1</span><span class="op" id="3676993">;</span>&nbsp;<span class="ident" id="3676995"><a href="/gostd/regexp/syntax/simplify.go.html#3676978">i</a></span>&nbsp;<span class="op" id="3676997">&lt;</span>&nbsp;<span class="ident" id="3676999"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3677001">.</span><span class="ident" id="3677002"><a href="/gostd/regexp/syntax/regexp.go.html#3667140">Max</a></span><span class="op" id="3677005">;</span>&nbsp;<span class="ident" id="3677007"><a href="/gostd/regexp/syntax/simplify.go.html#3676978">i</a></span><span class="op" id="3677008">++</span>&nbsp;<span class="op" id="3677011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677017">nre2</span>&nbsp;<span class="op" id="3677022">:=</span>&nbsp;<span class="op" id="3677025">&amp;</span><span class="ident" id="3677026"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="3677032">{</span><span class="ident" id="3677033"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="3677035">:</span>&nbsp;<span class="ident" id="3677037"><a href="/gostd/regexp/syntax/regexp.go.html#3668768">OpConcat</a></span><span class="op" id="3677045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677051"><a href="/gostd/regexp/syntax/simplify.go.html#3677017">nre2</a></span><span class="op" id="3677055">.</span><span class="ident" id="3677056"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3677060">=</span>&nbsp;<span class="builtinfunc" id="3677062">append</span><span class="op" id="3677068">(</span><span class="ident" id="3677069"><a href="/gostd/regexp/syntax/simplify.go.html#3677017">nre2</a></span><span class="op" id="3677073">.</span><span class="ident" id="3677074"><a href="/gostd/regexp/syntax/regexp.go.html#3666976">Sub0</a></span><span class="op" id="3677078">[</span><span class="op" id="3677079">:</span><span class="num" id="3677080">0</span><span class="op" id="3677081">]</span><span class="op" id="3677082">,</span>&nbsp;<span class="ident" id="3677084"><a href="/gostd/regexp/syntax/simplify.go.html#3675774">sub</a></span><span class="op" id="3677087">,</span>&nbsp;<span class="ident" id="3677089"><a href="/gostd/regexp/syntax/simplify.go.html#3676922">suffix</a></span><span class="op" id="3677095">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677101"><a href="/gostd/regexp/syntax/simplify.go.html#3676922">suffix</a></span>&nbsp;<span class="op" id="3677108">=</span>&nbsp;<span class="ident" id="3677110"><a href="/gostd/regexp/syntax/simplify.go.html#3678039">simplify1</a></span><span class="op" id="3677119">(</span><span class="ident" id="3677120"><a href="/gostd/regexp/syntax/regexp.go.html#3668594">OpQuest</a></span><span class="op" id="3677127">,</span>&nbsp;<span class="ident" id="3677129"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><span class="op" id="3677131">.</span><span class="ident" id="3677132"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="3677137">,</span>&nbsp;<span class="ident" id="3677139"><a href="/gostd/regexp/syntax/simplify.go.html#3677017">nre2</a></span><span class="op" id="3677143">,</span>&nbsp;<span class="builtintype" id="3677145">nil</span><span class="op" id="3677148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677158">if</span>&nbsp;<span class="ident" id="3677161"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span>&nbsp;<span class="op" id="3677168">==</span>&nbsp;<span class="builtintype" id="3677171">nil</span>&nbsp;<span class="op" id="3677175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677181">return</span>&nbsp;<span class="ident" id="3677188"><a href="/gostd/regexp/syntax/simplify.go.html#3676922">suffix</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677198">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677203"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span><span class="op" id="3677209">.</span><span class="ident" id="3677210"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3677214">=</span>&nbsp;<span class="builtinfunc" id="3677216">append</span><span class="op" id="3677222">(</span><span class="ident" id="3677223"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span><span class="op" id="3677229">.</span><span class="ident" id="3677230"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="3677233">,</span>&nbsp;<span class="ident" id="3677235"><a href="/gostd/regexp/syntax/simplify.go.html#3676922">suffix</a></span><span class="op" id="3677241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677249">if</span>&nbsp;<span class="ident" id="3677252"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span>&nbsp;<span class="op" id="3677259">!=</span>&nbsp;<span class="builtintype" id="3677262">nil</span>&nbsp;<span class="op" id="3677266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677271">return</span>&nbsp;<span class="ident" id="3677278"><a href="/gostd/regexp/syntax/simplify.go.html#3676670">prefix</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677287">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3677292">//&nbsp;Some&nbsp;degenerate&nbsp;case&nbsp;like&nbsp;min&nbsp;&gt;&nbsp;max&nbsp;or&nbsp;min&nbsp;&lt;&nbsp;max&nbsp;&lt;&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3677351">//&nbsp;Handle&nbsp;as&nbsp;impossible&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677384">return</span>&nbsp;<span class="op" id="3677391">&amp;</span><span class="ident" id="3677392"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="3677398">{</span><span class="ident" id="3677399"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="3677401">:</span>&nbsp;<span class="ident" id="3677403"><a href="/gostd/regexp/syntax/regexp.go.html#3667562">OpNoMatch</a></span><span class="op" id="3677412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677415">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677419">return</span>&nbsp;<span class="ident" id="3677426"><a href="/gostd/regexp/syntax/simplify.go.html#3674958">re</a></span><br>
<span class="lineno"></span><span class="op" id="3677429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3677432">//&nbsp;simplify1&nbsp;implements&nbsp;Simplify&nbsp;for&nbsp;the&nbsp;unary&nbsp;OpStar,</span><br>
<span class="lineno">120</span><span class="comment" id="3677487">//&nbsp;OpPlus,&nbsp;and&nbsp;OpQuest&nbsp;operators.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;simple&nbsp;regexp</span><br>
<span class="lineno"></span><span class="comment" id="3677551">//&nbsp;equivalent&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3677568">//</span><br>
<span class="lineno"></span><span class="comment" id="3677571">//&nbsp;&nbsp;&nbsp;&nbsp;Regexp{Op:&nbsp;op,&nbsp;Flags:&nbsp;flags,&nbsp;Sub:&nbsp;{sub}}</span><br>
<span class="lineno"></span><span class="comment" id="3677615">//</span><br>
<span class="lineno">125</span><span class="comment" id="3677618">//&nbsp;under&nbsp;the&nbsp;assumption&nbsp;that&nbsp;sub&nbsp;is&nbsp;already&nbsp;simple,&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3677674">//&nbsp;without&nbsp;first&nbsp;allocating&nbsp;that&nbsp;structure.&nbsp;&nbsp;If&nbsp;the&nbsp;regexp</span><br>
<span class="lineno"></span><span class="comment" id="3677733">//&nbsp;to&nbsp;be&nbsp;returned&nbsp;turns&nbsp;out&nbsp;to&nbsp;be&nbsp;equivalent&nbsp;to&nbsp;re,&nbsp;simplify1</span><br>
<span class="lineno"></span><span class="comment" id="3677795">//&nbsp;returns&nbsp;re&nbsp;instead.</span><br>
<span class="lineno"></span><span class="comment" id="3677818">//</span><br>
<span class="lineno">130</span><span class="comment" id="3677821">//&nbsp;simplify1&nbsp;is&nbsp;factored&nbsp;out&nbsp;of&nbsp;Simplify&nbsp;because&nbsp;the&nbsp;implementation</span><br>
<span class="lineno"></span><span class="comment" id="3677889">//&nbsp;for&nbsp;other&nbsp;operators&nbsp;generates&nbsp;these&nbsp;unary&nbsp;expressions.</span><br>
<span class="lineno"></span><span class="comment" id="3677947">//&nbsp;Letting&nbsp;them&nbsp;call&nbsp;simplify1&nbsp;makes&nbsp;sure&nbsp;the&nbsp;expressions&nbsp;they</span><br>
<span class="lineno"></span><span class="comment" id="3678010">//&nbsp;generate&nbsp;are&nbsp;simple.</span><br>
<span class="lineno"></span><span class="keyword" id="3678034">func</span>&nbsp;<span class="ident" id="3678039">simplify1</span><span class="op" id="3678048">(</span><span class="ident" id="3678049">op</span>&nbsp;<span class="ident" id="3678052"><a href="/gostd/regexp/syntax/regexp.go.html#3667347">Op</a></span><span class="op" id="3678054">,</span>&nbsp;<span class="ident" id="3678056">flags</span>&nbsp;<span class="ident" id="3678062"><a href="/gostd/regexp/syntax/parse.go.html#3611149">Flags</a></span><span class="op" id="3678067">,</span>&nbsp;<span class="ident" id="3678069">sub</span><span class="op" id="3678072">,</span>&nbsp;<span class="ident" id="3678074">re</span>&nbsp;<span class="op" id="3678077">*</span><span class="ident" id="3678078"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="3678084">)</span>&nbsp;<span class="op" id="3678086">*</span><span class="ident" id="3678087"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span>&nbsp;<span class="op" id="3678094">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3678097">//&nbsp;Special&nbsp;case:&nbsp;repeat&nbsp;the&nbsp;empty&nbsp;string&nbsp;as&nbsp;much&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3678150">//&nbsp;you&nbsp;want,&nbsp;but&nbsp;it&#39;s&nbsp;still&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678197">if</span>&nbsp;<span class="ident" id="3678200"><a href="/gostd/regexp/syntax/simplify.go.html#3678069">sub</a></span><span class="op" id="3678203">.</span><span class="ident" id="3678204"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span>&nbsp;<span class="op" id="3678207">==</span>&nbsp;<span class="ident" id="3678210"><a href="/gostd/regexp/syntax/regexp.go.html#3667616">OpEmptyMatch</a></span>&nbsp;<span class="op" id="3678223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678227">return</span>&nbsp;<span class="ident" id="3678234"><a href="/gostd/regexp/syntax/simplify.go.html#3678069">sub</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3678239">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3678242">//&nbsp;The&nbsp;operators&nbsp;are&nbsp;idempotent&nbsp;if&nbsp;the&nbsp;flags&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678295">if</span>&nbsp;<span class="ident" id="3678298"><a href="/gostd/regexp/syntax/simplify.go.html#3678049">op</a></span>&nbsp;<span class="op" id="3678301">==</span>&nbsp;<span class="ident" id="3678304"><a href="/gostd/regexp/syntax/simplify.go.html#3678069">sub</a></span><span class="op" id="3678307">.</span><span class="ident" id="3678308"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span>&nbsp;<span class="op" id="3678311">&amp;&amp;</span>&nbsp;<span class="ident" id="3678314"><a href="/gostd/regexp/syntax/simplify.go.html#3678056">flags</a></span><span class="op" id="3678319">&amp;</span><span class="ident" id="3678320"><a href="/gostd/regexp/syntax/parse.go.html#3611561">NonGreedy</a></span>&nbsp;<span class="op" id="3678330">==</span>&nbsp;<span class="ident" id="3678333"><a href="/gostd/regexp/syntax/simplify.go.html#3678069">sub</a></span><span class="op" id="3678336">.</span><span class="ident" id="3678337"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="3678342">&amp;</span><span class="ident" id="3678343"><a href="/gostd/regexp/syntax/parse.go.html#3611561">NonGreedy</a></span>&nbsp;<span class="op" id="3678353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678357">return</span>&nbsp;<span class="ident" id="3678364"><a href="/gostd/regexp/syntax/simplify.go.html#3678069">sub</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3678369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678372">if</span>&nbsp;<span class="ident" id="3678375"><a href="/gostd/regexp/syntax/simplify.go.html#3678074">re</a></span>&nbsp;<span class="op" id="3678378">!=</span>&nbsp;<span class="builtintype" id="3678381">nil</span>&nbsp;<span class="op" id="3678385">&amp;&amp;</span>&nbsp;<span class="ident" id="3678388"><a href="/gostd/regexp/syntax/simplify.go.html#3678074">re</a></span><span class="op" id="3678390">.</span><span class="ident" id="3678391"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span>&nbsp;<span class="op" id="3678394">==</span>&nbsp;<span class="ident" id="3678397"><a href="/gostd/regexp/syntax/simplify.go.html#3678049">op</a></span>&nbsp;<span class="op" id="3678400">&amp;&amp;</span>&nbsp;<span class="ident" id="3678403"><a href="/gostd/regexp/syntax/simplify.go.html#3678074">re</a></span><span class="op" id="3678405">.</span><span class="ident" id="3678406"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="3678411">&amp;</span><span class="ident" id="3678412"><a href="/gostd/regexp/syntax/parse.go.html#3611561">NonGreedy</a></span>&nbsp;<span class="op" id="3678422">==</span>&nbsp;<span class="ident" id="3678425"><a href="/gostd/regexp/syntax/simplify.go.html#3678056">flags</a></span><span class="op" id="3678430">&amp;</span><span class="ident" id="3678431"><a href="/gostd/regexp/syntax/parse.go.html#3611561">NonGreedy</a></span>&nbsp;<span class="op" id="3678441">&amp;&amp;</span>&nbsp;<span class="ident" id="3678444"><a href="/gostd/regexp/syntax/simplify.go.html#3678069">sub</a></span>&nbsp;<span class="op" id="3678448">==</span>&nbsp;<span class="ident" id="3678451"><a href="/gostd/regexp/syntax/simplify.go.html#3678074">re</a></span><span class="op" id="3678453">.</span><span class="ident" id="3678454"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="3678457">[</span><span class="num" id="3678458">0</span><span class="op" id="3678459">]</span>&nbsp;<span class="op" id="3678461">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678465">return</span>&nbsp;<span class="ident" id="3678472"><a href="/gostd/regexp/syntax/simplify.go.html#3678074">re</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3678476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3678480"><a href="/gostd/regexp/syntax/simplify.go.html#3678074">re</a></span>&nbsp;<span class="op" id="3678483">=</span>&nbsp;<span class="op" id="3678485">&amp;</span><span class="ident" id="3678486"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="3678492">{</span><span class="ident" id="3678493"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="3678495">:</span>&nbsp;<span class="ident" id="3678497"><a href="/gostd/regexp/syntax/simplify.go.html#3678049">op</a></span><span class="op" id="3678499">,</span>&nbsp;<span class="ident" id="3678501"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="3678506">:</span>&nbsp;<span class="ident" id="3678508"><a href="/gostd/regexp/syntax/simplify.go.html#3678056">flags</a></span><span class="op" id="3678513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3678516"><a href="/gostd/regexp/syntax/simplify.go.html#3678074">re</a></span><span class="op" id="3678518">.</span><span class="ident" id="3678519"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="3678523">=</span>&nbsp;<span class="builtinfunc" id="3678525">append</span><span class="op" id="3678531">(</span><span class="ident" id="3678532"><a href="/gostd/regexp/syntax/simplify.go.html#3678074">re</a></span><span class="op" id="3678534">.</span><span class="ident" id="3678535"><a href="/gostd/regexp/syntax/regexp.go.html#3666976">Sub0</a></span><span class="op" id="3678539">[</span><span class="op" id="3678540">:</span><span class="num" id="3678541">0</span><span class="op" id="3678542">]</span><span class="op" id="3678543">,</span>&nbsp;<span class="ident" id="3678545"><a href="/gostd/regexp/syntax/simplify.go.html#3678069">sub</a></span><span class="op" id="3678548">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678551">return</span>&nbsp;<span class="ident" id="3678558"><a href="/gostd/regexp/syntax/simplify.go.html#3678074">re</a></span><br>
<span class="lineno"></span><span class="op" id="3678561">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
