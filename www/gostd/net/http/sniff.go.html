<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html" class="current">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3074667">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3074723">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3074777">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3074828">package</span>&nbsp;<span class="ident" id="3074836">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3074842">import</span>&nbsp;<span class="op" id="3074849">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3074852">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3074861">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3074879">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3074882">//&nbsp;The&nbsp;algorithm&nbsp;uses&nbsp;at&nbsp;most&nbsp;sniffLen&nbsp;bytes&nbsp;to&nbsp;make&nbsp;its&nbsp;decision.</span><br>
<span class="lineno"></span><span class="keyword" id="3074949">const</span>&nbsp;<span class="ident" id="3074955">sniffLen</span>&nbsp;<span class="op" id="3074964">=</span>&nbsp;<span class="num" id="3074966">512</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3074971">//&nbsp;DetectContentType&nbsp;implements&nbsp;the&nbsp;algorithm&nbsp;described</span><br>
<span class="lineno"></span><span class="comment" id="3075027">//&nbsp;at&nbsp;http://mimesniff.spec.whatwg.org/&nbsp;to&nbsp;determine&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3075084">//&nbsp;Content-Type&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;&nbsp;It&nbsp;considers&nbsp;at&nbsp;most&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3075145">//&nbsp;first&nbsp;512&nbsp;bytes&nbsp;of&nbsp;data.&nbsp;&nbsp;DetectContentType&nbsp;always&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3075207">//&nbsp;a&nbsp;valid&nbsp;MIME&nbsp;type:&nbsp;if&nbsp;it&nbsp;cannot&nbsp;determine&nbsp;a&nbsp;more&nbsp;specific&nbsp;one,&nbsp;it</span><br>
<span class="lineno">20</span><span class="comment" id="3075276">//&nbsp;returns&nbsp;&#34;application/octet-stream&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3075315">func</span>&nbsp;<span class="ident" id="3075320">DetectContentType</span><span class="op" id="3075337">(</span><span class="ident" id="3075338">data</span>&nbsp;<span class="op" id="3075343">[</span><span class="op" id="3075344">]</span><span class="builtintype" id="3075345">byte</span><span class="op" id="3075349">)</span>&nbsp;<span class="builtintype" id="3075351">string</span>&nbsp;<span class="op" id="3075358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3075361">if</span>&nbsp;<span class="builtinfunc" id="3075364">len</span><span class="op" id="3075367">(</span><span class="ident" id="3075368">data</span><span class="op" id="3075372">)</span>&nbsp;<span class="op" id="3075374">&gt;</span>&nbsp;<span class="ident" id="3075376">sniffLen</span>&nbsp;<span class="op" id="3075385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3075389">data</span>&nbsp;<span class="op" id="3075394">=</span>&nbsp;<span class="ident" id="3075396">data</span><span class="op" id="3075400">[</span><span class="op" id="3075401">:</span><span class="ident" id="3075402">sniffLen</span><span class="op" id="3075410">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3075413">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3075417">//&nbsp;Index&nbsp;of&nbsp;the&nbsp;first&nbsp;non-whitespace&nbsp;byte&nbsp;in&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3075469">firstNonWS</span>&nbsp;<span class="op" id="3075480">:=</span>&nbsp;<span class="num" id="3075483">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3075486">for</span>&nbsp;<span class="op" id="3075490">;</span>&nbsp;<span class="ident" id="3075492">firstNonWS</span>&nbsp;<span class="op" id="3075503">&lt;</span>&nbsp;<span class="builtinfunc" id="3075505">len</span><span class="op" id="3075508">(</span><span class="ident" id="3075509">data</span><span class="op" id="3075513">)</span>&nbsp;<span class="op" id="3075515">&amp;&amp;</span>&nbsp;<span class="ident" id="3075518">isWS</span><span class="op" id="3075522">(</span><span class="ident" id="3075523">data</span><span class="op" id="3075527">[</span><span class="ident" id="3075528">firstNonWS</span><span class="op" id="3075538">]</span><span class="op" id="3075539">)</span><span class="op" id="3075540">;</span>&nbsp;<span class="ident" id="3075542">firstNonWS</span><span class="op" id="3075552">++</span>&nbsp;<span class="op" id="3075555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3075558">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3075562">for</span>&nbsp;<span class="ident" id="3075566">_</span><span class="op" id="3075567">,</span>&nbsp;<span class="ident" id="3075569">sig</span>&nbsp;<span class="op" id="3075573">:=</span>&nbsp;<span class="keyword" id="3075576">range</span>&nbsp;<span class="ident" id="3075582">sniffSignatures</span>&nbsp;<span class="op" id="3075598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3075602">if</span>&nbsp;<span class="ident" id="3075605">ct</span>&nbsp;<span class="op" id="3075608">:=</span>&nbsp;<span class="ident" id="3075611">sig</span><span class="op" id="3075614">.</span><span class="ident" id="3075615">match</span><span class="op" id="3075620">(</span><span class="ident" id="3075621">data</span><span class="op" id="3075625">,</span>&nbsp;<span class="ident" id="3075627">firstNonWS</span><span class="op" id="3075637">)</span><span class="op" id="3075638">;</span>&nbsp;<span class="ident" id="3075640">ct</span>&nbsp;<span class="op" id="3075643">!=</span>&nbsp;<span class="string" id="3075646">&#34;&#34;</span>&nbsp;<span class="op" id="3075649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3075654">return</span>&nbsp;<span class="ident" id="3075661">ct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3075666">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3075669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3075673">return</span>&nbsp;<span class="string" id="3075680">&#34;application/octet-stream&#34;</span>&nbsp;<span class="comment" id="3075707">//&nbsp;fallback</span><br>
<span class="lineno"></span><span class="op" id="3075719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3075722">func</span>&nbsp;<span class="ident" id="3075727">isWS</span><span class="op" id="3075731">(</span><span class="ident" id="3075732">b</span>&nbsp;<span class="builtintype" id="3075734">byte</span><span class="op" id="3075738">)</span>&nbsp;<span class="builtintype" id="3075740">bool</span>&nbsp;<span class="op" id="3075745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3075748">return</span>&nbsp;<span class="ident" id="3075755">bytes</span><span class="op" id="3075760">.</span><span class="ident" id="3075761">IndexByte</span><span class="op" id="3075770">(</span><span class="op" id="3075771">[</span><span class="op" id="3075772">]</span><span class="builtintype" id="3075773">byte</span><span class="op" id="3075777">(</span><span class="string" id="3075778">&#34;\t\n\x0C\r&nbsp;&#34;</span><span class="op" id="3075791">)</span><span class="op" id="3075792">,</span>&nbsp;<span class="ident" id="3075794">b</span><span class="op" id="3075795">)</span>&nbsp;<span class="op" id="3075797">!=</span>&nbsp;<span class="op" id="3075800">-</span><span class="num" id="3075801">1</span><br>
<span class="lineno"></span><span class="op" id="3075803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3075806">type</span>&nbsp;<span class="ident" id="3075811">sniffSig</span>&nbsp;<span class="keyword" id="3075820">interface</span>&nbsp;<span class="op" id="3075830">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3075833">//&nbsp;match&nbsp;returns&nbsp;the&nbsp;MIME&nbsp;type&nbsp;of&nbsp;the&nbsp;data,&nbsp;or&nbsp;&#34;&#34;&nbsp;if&nbsp;unknown.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3075896">match</span><span class="op" id="3075901">(</span><span class="ident" id="3075902">data</span>&nbsp;<span class="op" id="3075907">[</span><span class="op" id="3075908">]</span><span class="builtintype" id="3075909">byte</span><span class="op" id="3075913">,</span>&nbsp;<span class="ident" id="3075915">firstNonWS</span>&nbsp;<span class="builtintype" id="3075926">int</span><span class="op" id="3075929">)</span>&nbsp;<span class="builtintype" id="3075931">string</span><br>
<span class="lineno"></span><span class="op" id="3075938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3075941">//&nbsp;Data&nbsp;matching&nbsp;the&nbsp;table&nbsp;in&nbsp;section&nbsp;6.</span><br>
<span class="lineno">50</span><span class="keyword" id="3075982">var</span>&nbsp;<span class="ident" id="3075986">sniffSignatures</span>&nbsp;<span class="op" id="3076002">=</span>&nbsp;<span class="op" id="3076004">[</span><span class="op" id="3076005">]</span><span class="ident" id="3076006">sniffSig</span><span class="op" id="3076014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076017">htmlSig</span><span class="op" id="3076024">(</span><span class="string" id="3076025">&#34;&lt;!DOCTYPE&nbsp;HTML&#34;</span><span class="op" id="3076041">)</span><span class="op" id="3076042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076045">htmlSig</span><span class="op" id="3076052">(</span><span class="string" id="3076053">&#34;&lt;HTML&#34;</span><span class="op" id="3076060">)</span><span class="op" id="3076061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076064">htmlSig</span><span class="op" id="3076071">(</span><span class="string" id="3076072">&#34;&lt;HEAD&#34;</span><span class="op" id="3076079">)</span><span class="op" id="3076080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076083">htmlSig</span><span class="op" id="3076090">(</span><span class="string" id="3076091">&#34;&lt;SCRIPT&#34;</span><span class="op" id="3076100">)</span><span class="op" id="3076101">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076104">htmlSig</span><span class="op" id="3076111">(</span><span class="string" id="3076112">&#34;&lt;IFRAME&#34;</span><span class="op" id="3076121">)</span><span class="op" id="3076122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076125">htmlSig</span><span class="op" id="3076132">(</span><span class="string" id="3076133">&#34;&lt;H1&#34;</span><span class="op" id="3076138">)</span><span class="op" id="3076139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076142">htmlSig</span><span class="op" id="3076149">(</span><span class="string" id="3076150">&#34;&lt;DIV&#34;</span><span class="op" id="3076156">)</span><span class="op" id="3076157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076160">htmlSig</span><span class="op" id="3076167">(</span><span class="string" id="3076168">&#34;&lt;FONT&#34;</span><span class="op" id="3076175">)</span><span class="op" id="3076176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076179">htmlSig</span><span class="op" id="3076186">(</span><span class="string" id="3076187">&#34;&lt;TABLE&#34;</span><span class="op" id="3076195">)</span><span class="op" id="3076196">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076199">htmlSig</span><span class="op" id="3076206">(</span><span class="string" id="3076207">&#34;&lt;A&#34;</span><span class="op" id="3076211">)</span><span class="op" id="3076212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076215">htmlSig</span><span class="op" id="3076222">(</span><span class="string" id="3076223">&#34;&lt;STYLE&#34;</span><span class="op" id="3076231">)</span><span class="op" id="3076232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076235">htmlSig</span><span class="op" id="3076242">(</span><span class="string" id="3076243">&#34;&lt;TITLE&#34;</span><span class="op" id="3076251">)</span><span class="op" id="3076252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076255">htmlSig</span><span class="op" id="3076262">(</span><span class="string" id="3076263">&#34;&lt;B&#34;</span><span class="op" id="3076267">)</span><span class="op" id="3076268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076271">htmlSig</span><span class="op" id="3076278">(</span><span class="string" id="3076279">&#34;&lt;BODY&#34;</span><span class="op" id="3076286">)</span><span class="op" id="3076287">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076290">htmlSig</span><span class="op" id="3076297">(</span><span class="string" id="3076298">&#34;&lt;BR&#34;</span><span class="op" id="3076303">)</span><span class="op" id="3076304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076307">htmlSig</span><span class="op" id="3076314">(</span><span class="string" id="3076315">&#34;&lt;P&#34;</span><span class="op" id="3076319">)</span><span class="op" id="3076320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3076323">htmlSig</span><span class="op" id="3076330">(</span><span class="string" id="3076331">&#34;&lt;!--&#34;</span><span class="op" id="3076337">)</span><span class="op" id="3076338">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3076342">&amp;</span><span class="ident" id="3076343">maskedSig</span><span class="op" id="3076352">{</span><span class="ident" id="3076353">mask</span><span class="op" id="3076357">:</span>&nbsp;<span class="op" id="3076359">[</span><span class="op" id="3076360">]</span><span class="builtintype" id="3076361">byte</span><span class="op" id="3076365">(</span><span class="string" id="3076366">&#34;\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3076388">)</span><span class="op" id="3076389">,</span>&nbsp;<span class="ident" id="3076391">pat</span><span class="op" id="3076394">:</span>&nbsp;<span class="op" id="3076396">[</span><span class="op" id="3076397">]</span><span class="builtintype" id="3076398">byte</span><span class="op" id="3076402">(</span><span class="string" id="3076403">&#34;&lt;?xml&#34;</span><span class="op" id="3076410">)</span><span class="op" id="3076411">,</span>&nbsp;<span class="ident" id="3076413">skipWS</span><span class="op" id="3076419">:</span>&nbsp;<span class="builtintype" id="3076421">true</span><span class="op" id="3076425">,</span>&nbsp;<span class="ident" id="3076427">ct</span><span class="op" id="3076429">:</span>&nbsp;<span class="string" id="3076431">&#34;text/xml;&nbsp;charset=utf-8&#34;</span><span class="op" id="3076456">}</span><span class="op" id="3076457">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3076461">&amp;</span><span class="ident" id="3076462">exactSig</span><span class="op" id="3076470">{</span><span class="op" id="3076471">[</span><span class="op" id="3076472">]</span><span class="builtintype" id="3076473">byte</span><span class="op" id="3076477">(</span><span class="string" id="3076478">&#34;%PDF-&#34;</span><span class="op" id="3076485">)</span><span class="op" id="3076486">,</span>&nbsp;<span class="string" id="3076488">&#34;application/pdf&#34;</span><span class="op" id="3076505">}</span><span class="op" id="3076506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3076509">&amp;</span><span class="ident" id="3076510">exactSig</span><span class="op" id="3076518">{</span><span class="op" id="3076519">[</span><span class="op" id="3076520">]</span><span class="builtintype" id="3076521">byte</span><span class="op" id="3076525">(</span><span class="string" id="3076526">&#34;%!PS-Adobe-&#34;</span><span class="op" id="3076539">)</span><span class="op" id="3076540">,</span>&nbsp;<span class="string" id="3076542">&#34;application/postscript&#34;</span><span class="op" id="3076566">}</span><span class="op" id="3076567">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3076571">//&nbsp;UTF&nbsp;BOMs.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3076585">&amp;</span><span class="ident" id="3076586">maskedSig</span><span class="op" id="3076595">{</span><span class="ident" id="3076596">mask</span><span class="op" id="3076600">:</span>&nbsp;<span class="op" id="3076602">[</span><span class="op" id="3076603">]</span><span class="builtintype" id="3076604">byte</span><span class="op" id="3076608">(</span><span class="string" id="3076609">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3076627">)</span><span class="op" id="3076628">,</span>&nbsp;<span class="ident" id="3076630">pat</span><span class="op" id="3076633">:</span>&nbsp;<span class="op" id="3076635">[</span><span class="op" id="3076636">]</span><span class="builtintype" id="3076637">byte</span><span class="op" id="3076641">(</span><span class="string" id="3076642">&#34;\xFE\xFF\x00\x00&#34;</span><span class="op" id="3076660">)</span><span class="op" id="3076661">,</span>&nbsp;<span class="ident" id="3076663">ct</span><span class="op" id="3076665">:</span>&nbsp;<span class="string" id="3076667">&#34;text/plain;&nbsp;charset=utf-16be&#34;</span><span class="op" id="3076697">}</span><span class="op" id="3076698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3076701">&amp;</span><span class="ident" id="3076702">maskedSig</span><span class="op" id="3076711">{</span><span class="ident" id="3076712">mask</span><span class="op" id="3076716">:</span>&nbsp;<span class="op" id="3076718">[</span><span class="op" id="3076719">]</span><span class="builtintype" id="3076720">byte</span><span class="op" id="3076724">(</span><span class="string" id="3076725">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3076743">)</span><span class="op" id="3076744">,</span>&nbsp;<span class="ident" id="3076746">pat</span><span class="op" id="3076749">:</span>&nbsp;<span class="op" id="3076751">[</span><span class="op" id="3076752">]</span><span class="builtintype" id="3076753">byte</span><span class="op" id="3076757">(</span><span class="string" id="3076758">&#34;\xFF\xFE\x00\x00&#34;</span><span class="op" id="3076776">)</span><span class="op" id="3076777">,</span>&nbsp;<span class="ident" id="3076779">ct</span><span class="op" id="3076781">:</span>&nbsp;<span class="string" id="3076783">&#34;text/plain;&nbsp;charset=utf-16le&#34;</span><span class="op" id="3076813">}</span><span class="op" id="3076814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3076817">&amp;</span><span class="ident" id="3076818">maskedSig</span><span class="op" id="3076827">{</span><span class="ident" id="3076828">mask</span><span class="op" id="3076832">:</span>&nbsp;<span class="op" id="3076834">[</span><span class="op" id="3076835">]</span><span class="builtintype" id="3076836">byte</span><span class="op" id="3076840">(</span><span class="string" id="3076841">&#34;\xFF\xFF\xFF\x00&#34;</span><span class="op" id="3076859">)</span><span class="op" id="3076860">,</span>&nbsp;<span class="ident" id="3076862">pat</span><span class="op" id="3076865">:</span>&nbsp;<span class="op" id="3076867">[</span><span class="op" id="3076868">]</span><span class="builtintype" id="3076869">byte</span><span class="op" id="3076873">(</span><span class="string" id="3076874">&#34;\xEF\xBB\xBF\x00&#34;</span><span class="op" id="3076892">)</span><span class="op" id="3076893">,</span>&nbsp;<span class="ident" id="3076895">ct</span><span class="op" id="3076897">:</span>&nbsp;<span class="string" id="3076899">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><span class="op" id="3076926">}</span><span class="op" id="3076927">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3076931">&amp;</span><span class="ident" id="3076932">exactSig</span><span class="op" id="3076940">{</span><span class="op" id="3076941">[</span><span class="op" id="3076942">]</span><span class="builtintype" id="3076943">byte</span><span class="op" id="3076947">(</span><span class="string" id="3076948">&#34;GIF87a&#34;</span><span class="op" id="3076956">)</span><span class="op" id="3076957">,</span>&nbsp;<span class="string" id="3076959">&#34;image/gif&#34;</span><span class="op" id="3076970">}</span><span class="op" id="3076971">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3076974">&amp;</span><span class="ident" id="3076975">exactSig</span><span class="op" id="3076983">{</span><span class="op" id="3076984">[</span><span class="op" id="3076985">]</span><span class="builtintype" id="3076986">byte</span><span class="op" id="3076990">(</span><span class="string" id="3076991">&#34;GIF89a&#34;</span><span class="op" id="3076999">)</span><span class="op" id="3077000">,</span>&nbsp;<span class="string" id="3077002">&#34;image/gif&#34;</span><span class="op" id="3077013">}</span><span class="op" id="3077014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077017">&amp;</span><span class="ident" id="3077018">exactSig</span><span class="op" id="3077026">{</span><span class="op" id="3077027">[</span><span class="op" id="3077028">]</span><span class="builtintype" id="3077029">byte</span><span class="op" id="3077033">(</span><span class="string" id="3077034">&#34;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&#34;</span><span class="op" id="3077068">)</span><span class="op" id="3077069">,</span>&nbsp;<span class="string" id="3077071">&#34;image/png&#34;</span><span class="op" id="3077082">}</span><span class="op" id="3077083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077086">&amp;</span><span class="ident" id="3077087">exactSig</span><span class="op" id="3077095">{</span><span class="op" id="3077096">[</span><span class="op" id="3077097">]</span><span class="builtintype" id="3077098">byte</span><span class="op" id="3077102">(</span><span class="string" id="3077103">&#34;\xFF\xD8\xFF&#34;</span><span class="op" id="3077117">)</span><span class="op" id="3077118">,</span>&nbsp;<span class="string" id="3077120">&#34;image/jpeg&#34;</span><span class="op" id="3077132">}</span><span class="op" id="3077133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077136">&amp;</span><span class="ident" id="3077137">exactSig</span><span class="op" id="3077145">{</span><span class="op" id="3077146">[</span><span class="op" id="3077147">]</span><span class="builtintype" id="3077148">byte</span><span class="op" id="3077152">(</span><span class="string" id="3077153">&#34;BM&#34;</span><span class="op" id="3077157">)</span><span class="op" id="3077158">,</span>&nbsp;<span class="string" id="3077160">&#34;image/bmp&#34;</span><span class="op" id="3077171">}</span><span class="op" id="3077172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077175">&amp;</span><span class="ident" id="3077176">maskedSig</span><span class="op" id="3077185">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3077189">mask</span><span class="op" id="3077193">:</span>&nbsp;<span class="op" id="3077195">[</span><span class="op" id="3077196">]</span><span class="builtintype" id="3077197">byte</span><span class="op" id="3077201">(</span><span class="string" id="3077202">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3077260">)</span><span class="op" id="3077261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3077265">pat</span><span class="op" id="3077268">:</span>&nbsp;&nbsp;<span class="op" id="3077271">[</span><span class="op" id="3077272">]</span><span class="builtintype" id="3077273">byte</span><span class="op" id="3077277">(</span><span class="string" id="3077278">&#34;RIFF\x00\x00\x00\x00WEBPVP&#34;</span><span class="op" id="3077306">)</span><span class="op" id="3077307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3077311">ct</span><span class="op" id="3077313">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3077317">&#34;image/webp&#34;</span><span class="op" id="3077329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077332">}</span><span class="op" id="3077333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077336">&amp;</span><span class="ident" id="3077337">exactSig</span><span class="op" id="3077345">{</span><span class="op" id="3077346">[</span><span class="op" id="3077347">]</span><span class="builtintype" id="3077348">byte</span><span class="op" id="3077352">(</span><span class="string" id="3077353">&#34;\x00\x00\x01\x00&#34;</span><span class="op" id="3077371">)</span><span class="op" id="3077372">,</span>&nbsp;<span class="string" id="3077374">&#34;image/vnd.microsoft.icon&#34;</span><span class="op" id="3077400">}</span><span class="op" id="3077401">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077404">&amp;</span><span class="ident" id="3077405">exactSig</span><span class="op" id="3077413">{</span><span class="op" id="3077414">[</span><span class="op" id="3077415">]</span><span class="builtintype" id="3077416">byte</span><span class="op" id="3077420">(</span><span class="string" id="3077421">&#34;\x4F\x67\x67\x53\x00&#34;</span><span class="op" id="3077443">)</span><span class="op" id="3077444">,</span>&nbsp;<span class="string" id="3077446">&#34;application/ogg&#34;</span><span class="op" id="3077463">}</span><span class="op" id="3077464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077467">&amp;</span><span class="ident" id="3077468">maskedSig</span><span class="op" id="3077477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3077481">mask</span><span class="op" id="3077485">:</span>&nbsp;<span class="op" id="3077487">[</span><span class="op" id="3077488">]</span><span class="builtintype" id="3077489">byte</span><span class="op" id="3077493">(</span><span class="string" id="3077494">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3077544">)</span><span class="op" id="3077545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3077549">pat</span><span class="op" id="3077552">:</span>&nbsp;&nbsp;<span class="op" id="3077555">[</span><span class="op" id="3077556">]</span><span class="builtintype" id="3077557">byte</span><span class="op" id="3077561">(</span><span class="string" id="3077562">&#34;RIFF\x00\x00\x00\x00WAVE&#34;</span><span class="op" id="3077588">)</span><span class="op" id="3077589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3077593">ct</span><span class="op" id="3077595">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3077599">&#34;audio/wave&#34;</span><span class="op" id="3077611">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077614">}</span><span class="op" id="3077615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077618">&amp;</span><span class="ident" id="3077619">exactSig</span><span class="op" id="3077627">{</span><span class="op" id="3077628">[</span><span class="op" id="3077629">]</span><span class="builtintype" id="3077630">byte</span><span class="op" id="3077634">(</span><span class="string" id="3077635">&#34;\x1A\x45\xDF\xA3&#34;</span><span class="op" id="3077653">)</span><span class="op" id="3077654">,</span>&nbsp;<span class="string" id="3077656">&#34;video/webm&#34;</span><span class="op" id="3077668">}</span><span class="op" id="3077669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077672">&amp;</span><span class="ident" id="3077673">exactSig</span><span class="op" id="3077681">{</span><span class="op" id="3077682">[</span><span class="op" id="3077683">]</span><span class="builtintype" id="3077684">byte</span><span class="op" id="3077688">(</span><span class="string" id="3077689">&#34;\x52\x61\x72\x20\x1A\x07\x00&#34;</span><span class="op" id="3077719">)</span><span class="op" id="3077720">,</span>&nbsp;<span class="string" id="3077722">&#34;application/x-rar-compressed&#34;</span><span class="op" id="3077752">}</span><span class="op" id="3077753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077756">&amp;</span><span class="ident" id="3077757">exactSig</span><span class="op" id="3077765">{</span><span class="op" id="3077766">[</span><span class="op" id="3077767">]</span><span class="builtintype" id="3077768">byte</span><span class="op" id="3077772">(</span><span class="string" id="3077773">&#34;\x50\x4B\x03\x04&#34;</span><span class="op" id="3077791">)</span><span class="op" id="3077792">,</span>&nbsp;<span class="string" id="3077794">&#34;application/zip&#34;</span><span class="op" id="3077811">}</span><span class="op" id="3077812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3077815">&amp;</span><span class="ident" id="3077816">exactSig</span><span class="op" id="3077824">{</span><span class="op" id="3077825">[</span><span class="op" id="3077826">]</span><span class="builtintype" id="3077827">byte</span><span class="op" id="3077831">(</span><span class="string" id="3077832">&#34;\x1F\x8B\x08&#34;</span><span class="op" id="3077846">)</span><span class="op" id="3077847">,</span>&nbsp;<span class="string" id="3077849">&#34;application/x-gzip&#34;</span><span class="op" id="3077869">}</span><span class="op" id="3077870">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3077874">//&nbsp;TODO(dsymonds):&nbsp;Re-enable&nbsp;this&nbsp;when&nbsp;the&nbsp;spec&nbsp;is&nbsp;sorted&nbsp;w.r.t.&nbsp;MP4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3077945">//mp4Sig(0),</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3077960">textSig</span><span class="op" id="3077967">(</span><span class="num" id="3077968">0</span><span class="op" id="3077969">)</span><span class="op" id="3077970">,</span>&nbsp;<span class="comment" id="3077972">//&nbsp;should&nbsp;be&nbsp;last</span><br>
<span class="lineno">105</span><span class="op" id="3077990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3077993">type</span>&nbsp;<span class="ident" id="3077998">exactSig</span>&nbsp;<span class="keyword" id="3078007">struct</span>&nbsp;<span class="op" id="3078014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078017">sig</span>&nbsp;<span class="op" id="3078021">[</span><span class="op" id="3078022">]</span><span class="builtintype" id="3078023">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078029">ct</span>&nbsp;&nbsp;<span class="builtintype" id="3078033">string</span><br>
<span class="lineno">110</span><span class="op" id="3078040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3078043">func</span>&nbsp;<span class="op" id="3078048">(</span><span class="ident" id="3078049">e</span>&nbsp;<span class="op" id="3078051">*</span><span class="ident" id="3078052">exactSig</span><span class="op" id="3078060">)</span>&nbsp;<span class="ident" id="3078062">match</span><span class="op" id="3078067">(</span><span class="ident" id="3078068">data</span>&nbsp;<span class="op" id="3078073">[</span><span class="op" id="3078074">]</span><span class="builtintype" id="3078075">byte</span><span class="op" id="3078079">,</span>&nbsp;<span class="ident" id="3078081">firstNonWS</span>&nbsp;<span class="builtintype" id="3078092">int</span><span class="op" id="3078095">)</span>&nbsp;<span class="builtintype" id="3078097">string</span>&nbsp;<span class="op" id="3078104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078107">if</span>&nbsp;<span class="ident" id="3078110">bytes</span><span class="op" id="3078115">.</span><span class="ident" id="3078116">HasPrefix</span><span class="op" id="3078125">(</span><span class="ident" id="3078126">data</span><span class="op" id="3078130">,</span>&nbsp;<span class="ident" id="3078132">e</span><span class="op" id="3078133">.</span><span class="ident" id="3078134">sig</span><span class="op" id="3078137">)</span>&nbsp;<span class="op" id="3078139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078143">return</span>&nbsp;<span class="ident" id="3078150">e</span><span class="op" id="3078151">.</span><span class="ident" id="3078152">ct</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078159">return</span>&nbsp;<span class="string" id="3078166">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3078169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3078172">type</span>&nbsp;<span class="ident" id="3078177">maskedSig</span>&nbsp;<span class="keyword" id="3078187">struct</span>&nbsp;<span class="op" id="3078194">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078197">mask</span><span class="op" id="3078201">,</span>&nbsp;<span class="ident" id="3078203">pat</span>&nbsp;<span class="op" id="3078207">[</span><span class="op" id="3078208">]</span><span class="builtintype" id="3078209">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078215">skipWS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3078225">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078231">ct</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3078241">string</span><br>
<span class="lineno"></span><span class="op" id="3078248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="3078251">func</span>&nbsp;<span class="op" id="3078256">(</span><span class="ident" id="3078257">m</span>&nbsp;<span class="op" id="3078259">*</span><span class="ident" id="3078260">maskedSig</span><span class="op" id="3078269">)</span>&nbsp;<span class="ident" id="3078271">match</span><span class="op" id="3078276">(</span><span class="ident" id="3078277">data</span>&nbsp;<span class="op" id="3078282">[</span><span class="op" id="3078283">]</span><span class="builtintype" id="3078284">byte</span><span class="op" id="3078288">,</span>&nbsp;<span class="ident" id="3078290">firstNonWS</span>&nbsp;<span class="builtintype" id="3078301">int</span><span class="op" id="3078304">)</span>&nbsp;<span class="builtintype" id="3078306">string</span>&nbsp;<span class="op" id="3078313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078316">if</span>&nbsp;<span class="ident" id="3078319">m</span><span class="op" id="3078320">.</span><span class="ident" id="3078321">skipWS</span>&nbsp;<span class="op" id="3078328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078332">data</span>&nbsp;<span class="op" id="3078337">=</span>&nbsp;<span class="ident" id="3078339">data</span><span class="op" id="3078343">[</span><span class="ident" id="3078344">firstNonWS</span><span class="op" id="3078354">:</span><span class="op" id="3078355">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078361">if</span>&nbsp;<span class="builtinfunc" id="3078364">len</span><span class="op" id="3078367">(</span><span class="ident" id="3078368">data</span><span class="op" id="3078372">)</span>&nbsp;<span class="op" id="3078374">&lt;</span>&nbsp;<span class="builtinfunc" id="3078376">len</span><span class="op" id="3078379">(</span><span class="ident" id="3078380">m</span><span class="op" id="3078381">.</span><span class="ident" id="3078382">mask</span><span class="op" id="3078386">)</span>&nbsp;<span class="op" id="3078388">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078392">return</span>&nbsp;<span class="string" id="3078399">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078406">for</span>&nbsp;<span class="ident" id="3078410">i</span><span class="op" id="3078411">,</span>&nbsp;<span class="ident" id="3078413">mask</span>&nbsp;<span class="op" id="3078418">:=</span>&nbsp;<span class="keyword" id="3078421">range</span>&nbsp;<span class="ident" id="3078427">m</span><span class="op" id="3078428">.</span><span class="ident" id="3078429">mask</span>&nbsp;<span class="op" id="3078434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078438">db</span>&nbsp;<span class="op" id="3078441">:=</span>&nbsp;<span class="ident" id="3078444">data</span><span class="op" id="3078448">[</span><span class="ident" id="3078449">i</span><span class="op" id="3078450">]</span>&nbsp;<span class="op" id="3078452">&amp;</span>&nbsp;<span class="ident" id="3078454">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078461">if</span>&nbsp;<span class="ident" id="3078464">db</span>&nbsp;<span class="op" id="3078467">!=</span>&nbsp;<span class="ident" id="3078470">m</span><span class="op" id="3078471">.</span><span class="ident" id="3078472">pat</span><span class="op" id="3078475">[</span><span class="ident" id="3078476">i</span><span class="op" id="3078477">]</span>&nbsp;<span class="op" id="3078479">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078484">return</span>&nbsp;<span class="string" id="3078491">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078502">return</span>&nbsp;<span class="ident" id="3078509">m</span><span class="op" id="3078510">.</span><span class="ident" id="3078511">ct</span><br>
<span class="lineno"></span><span class="op" id="3078514">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="3078517">type</span>&nbsp;<span class="ident" id="3078522">htmlSig</span>&nbsp;<span class="op" id="3078530">[</span><span class="op" id="3078531">]</span><span class="builtintype" id="3078532">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3078538">func</span>&nbsp;<span class="op" id="3078543">(</span><span class="ident" id="3078544">h</span>&nbsp;<span class="ident" id="3078546">htmlSig</span><span class="op" id="3078553">)</span>&nbsp;<span class="ident" id="3078555">match</span><span class="op" id="3078560">(</span><span class="ident" id="3078561">data</span>&nbsp;<span class="op" id="3078566">[</span><span class="op" id="3078567">]</span><span class="builtintype" id="3078568">byte</span><span class="op" id="3078572">,</span>&nbsp;<span class="ident" id="3078574">firstNonWS</span>&nbsp;<span class="builtintype" id="3078585">int</span><span class="op" id="3078588">)</span>&nbsp;<span class="builtintype" id="3078590">string</span>&nbsp;<span class="op" id="3078597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078600">data</span>&nbsp;<span class="op" id="3078605">=</span>&nbsp;<span class="ident" id="3078607">data</span><span class="op" id="3078611">[</span><span class="ident" id="3078612">firstNonWS</span><span class="op" id="3078622">:</span><span class="op" id="3078623">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078626">if</span>&nbsp;<span class="builtinfunc" id="3078629">len</span><span class="op" id="3078632">(</span><span class="ident" id="3078633">data</span><span class="op" id="3078637">)</span>&nbsp;<span class="op" id="3078639">&lt;</span>&nbsp;<span class="builtinfunc" id="3078641">len</span><span class="op" id="3078644">(</span><span class="ident" id="3078645">h</span><span class="op" id="3078646">)</span><span class="op" id="3078647">+</span><span class="num" id="3078648">1</span>&nbsp;<span class="op" id="3078650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078654">return</span>&nbsp;<span class="string" id="3078661">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078668">for</span>&nbsp;<span class="ident" id="3078672">i</span><span class="op" id="3078673">,</span>&nbsp;<span class="ident" id="3078675">b</span>&nbsp;<span class="op" id="3078677">:=</span>&nbsp;<span class="keyword" id="3078680">range</span>&nbsp;<span class="ident" id="3078686">h</span>&nbsp;<span class="op" id="3078688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078692">db</span>&nbsp;<span class="op" id="3078695">:=</span>&nbsp;<span class="ident" id="3078698">data</span><span class="op" id="3078702">[</span><span class="ident" id="3078703">i</span><span class="op" id="3078704">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078708">if</span>&nbsp;<span class="string" id="3078711">&#39;A&#39;</span>&nbsp;<span class="op" id="3078715">&lt;=</span>&nbsp;<span class="ident" id="3078718">b</span>&nbsp;<span class="op" id="3078720">&amp;&amp;</span>&nbsp;<span class="ident" id="3078723">b</span>&nbsp;<span class="op" id="3078725">&lt;=</span>&nbsp;<span class="string" id="3078728">&#39;Z&#39;</span>&nbsp;<span class="op" id="3078732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3078737">db</span>&nbsp;<span class="op" id="3078740">&amp;=</span>&nbsp;<span class="num" id="3078743">0xDF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078754">if</span>&nbsp;<span class="ident" id="3078757">b</span>&nbsp;<span class="op" id="3078759">!=</span>&nbsp;<span class="ident" id="3078762">db</span>&nbsp;<span class="op" id="3078765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078770">return</span>&nbsp;<span class="string" id="3078777">&#34;&#34;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3078788">//&nbsp;Next&nbsp;byte&nbsp;must&nbsp;be&nbsp;space&nbsp;or&nbsp;right&nbsp;angle&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078840">if</span>&nbsp;<span class="ident" id="3078843">db</span>&nbsp;<span class="op" id="3078846">:=</span>&nbsp;<span class="ident" id="3078849">data</span><span class="op" id="3078853">[</span><span class="builtinfunc" id="3078854">len</span><span class="op" id="3078857">(</span><span class="ident" id="3078858">h</span><span class="op" id="3078859">)</span><span class="op" id="3078860">]</span><span class="op" id="3078861">;</span>&nbsp;<span class="ident" id="3078863">db</span>&nbsp;<span class="op" id="3078866">!=</span>&nbsp;<span class="string" id="3078869">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3078873">&amp;&amp;</span>&nbsp;<span class="ident" id="3078876">db</span>&nbsp;<span class="op" id="3078879">!=</span>&nbsp;<span class="string" id="3078882">&#39;&gt;&#39;</span>&nbsp;<span class="op" id="3078886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078890">return</span>&nbsp;<span class="string" id="3078897">&#34;&#34;</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3078901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3078904">return</span>&nbsp;<span class="string" id="3078911">&#34;text/html;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3078938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3078941">type</span>&nbsp;<span class="ident" id="3078946">mp4Sig</span>&nbsp;<span class="builtintype" id="3078953">int</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="3078958">func</span>&nbsp;<span class="op" id="3078963">(</span><span class="ident" id="3078964">mp4Sig</span><span class="op" id="3078970">)</span>&nbsp;<span class="ident" id="3078972">match</span><span class="op" id="3078977">(</span><span class="ident" id="3078978">data</span>&nbsp;<span class="op" id="3078983">[</span><span class="op" id="3078984">]</span><span class="builtintype" id="3078985">byte</span><span class="op" id="3078989">,</span>&nbsp;<span class="ident" id="3078991">firstNonWS</span>&nbsp;<span class="builtintype" id="3079002">int</span><span class="op" id="3079005">)</span>&nbsp;<span class="builtintype" id="3079007">string</span>&nbsp;<span class="op" id="3079014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3079017">//&nbsp;c.f.&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079039">if</span>&nbsp;<span class="builtinfunc" id="3079042">len</span><span class="op" id="3079045">(</span><span class="ident" id="3079046">data</span><span class="op" id="3079050">)</span>&nbsp;<span class="op" id="3079052">&lt;</span>&nbsp;<span class="num" id="3079054">8</span>&nbsp;<span class="op" id="3079056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079060">return</span>&nbsp;<span class="string" id="3079067">&#34;&#34;</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3079071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3079074">boxSize</span>&nbsp;<span class="op" id="3079082">:=</span>&nbsp;<span class="builtintype" id="3079085">int</span><span class="op" id="3079088">(</span><span class="ident" id="3079089">binary</span><span class="op" id="3079095">.</span><span class="ident" id="3079096">BigEndian</span><span class="op" id="3079105">.</span><span class="ident" id="3079106">Uint32</span><span class="op" id="3079112">(</span><span class="ident" id="3079113">data</span><span class="op" id="3079117">[</span><span class="op" id="3079118">:</span><span class="num" id="3079119">4</span><span class="op" id="3079120">]</span><span class="op" id="3079121">)</span><span class="op" id="3079122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079125">if</span>&nbsp;<span class="ident" id="3079128">boxSize</span><span class="op" id="3079135">%</span><span class="num" id="3079136">4</span>&nbsp;<span class="op" id="3079138">!=</span>&nbsp;<span class="num" id="3079141">0</span>&nbsp;<span class="op" id="3079143">||</span>&nbsp;<span class="builtinfunc" id="3079146">len</span><span class="op" id="3079149">(</span><span class="ident" id="3079150">data</span><span class="op" id="3079154">)</span>&nbsp;<span class="op" id="3079156">&lt;</span>&nbsp;<span class="ident" id="3079158">boxSize</span>&nbsp;<span class="op" id="3079166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079170">return</span>&nbsp;<span class="string" id="3079177">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3079181">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079184">if</span>&nbsp;<span class="op" id="3079187">!</span><span class="ident" id="3079188">bytes</span><span class="op" id="3079193">.</span><span class="ident" id="3079194">Equal</span><span class="op" id="3079199">(</span><span class="ident" id="3079200">data</span><span class="op" id="3079204">[</span><span class="num" id="3079205">4</span><span class="op" id="3079206">:</span><span class="num" id="3079207">8</span><span class="op" id="3079208">]</span><span class="op" id="3079209">,</span>&nbsp;<span class="op" id="3079211">[</span><span class="op" id="3079212">]</span><span class="builtintype" id="3079213">byte</span><span class="op" id="3079217">(</span><span class="string" id="3079218">&#34;ftyp&#34;</span><span class="op" id="3079224">)</span><span class="op" id="3079225">)</span>&nbsp;<span class="op" id="3079227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079231">return</span>&nbsp;<span class="string" id="3079238">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3079242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079245">for</span>&nbsp;<span class="ident" id="3079249">st</span>&nbsp;<span class="op" id="3079252">:=</span>&nbsp;<span class="num" id="3079255">8</span><span class="op" id="3079256">;</span>&nbsp;<span class="ident" id="3079258">st</span>&nbsp;<span class="op" id="3079261">&lt;</span>&nbsp;<span class="ident" id="3079263">boxSize</span><span class="op" id="3079270">;</span>&nbsp;<span class="ident" id="3079272">st</span>&nbsp;<span class="op" id="3079275">+=</span>&nbsp;<span class="num" id="3079278">4</span>&nbsp;<span class="op" id="3079280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079284">if</span>&nbsp;<span class="ident" id="3079287">st</span>&nbsp;<span class="op" id="3079290">==</span>&nbsp;<span class="num" id="3079293">12</span>&nbsp;<span class="op" id="3079296">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3079301">//&nbsp;minor&nbsp;version&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079328">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3079339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3079343">seg</span>&nbsp;<span class="op" id="3079347">:=</span>&nbsp;<span class="builtintype" id="3079350">string</span><span class="op" id="3079356">(</span><span class="ident" id="3079357">data</span><span class="op" id="3079361">[</span><span class="ident" id="3079362">st</span>&nbsp;<span class="op" id="3079365">:</span>&nbsp;<span class="ident" id="3079367">st</span><span class="op" id="3079369">+</span><span class="num" id="3079370">3</span><span class="op" id="3079371">]</span><span class="op" id="3079372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079376">switch</span>&nbsp;<span class="ident" id="3079383">seg</span>&nbsp;<span class="op" id="3079387">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079391">case</span>&nbsp;<span class="string" id="3079396">&#34;mp4&#34;</span><span class="op" id="3079401">,</span>&nbsp;<span class="string" id="3079403">&#34;iso&#34;</span><span class="op" id="3079408">,</span>&nbsp;<span class="string" id="3079410">&#34;M4V&#34;</span><span class="op" id="3079415">,</span>&nbsp;<span class="string" id="3079417">&#34;M4P&#34;</span><span class="op" id="3079422">,</span>&nbsp;<span class="string" id="3079424">&#34;M4B&#34;</span><span class="op" id="3079429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079434">return</span>&nbsp;<span class="string" id="3079441">&#34;video/mp4&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3079456">/*&nbsp;The&nbsp;remainder&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;spec.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;M4A&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;audio/mp4&#34;<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;3gp&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;video/3gpp&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;jp2&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;image/jp2&#34;&nbsp;//&nbsp;JPEG&nbsp;2000<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3079630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3079633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079636">return</span>&nbsp;<span class="string" id="3079643">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3079646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="3079649">type</span>&nbsp;<span class="ident" id="3079654">textSig</span>&nbsp;<span class="builtintype" id="3079662">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3079667">func</span>&nbsp;<span class="op" id="3079672">(</span><span class="ident" id="3079673">textSig</span><span class="op" id="3079680">)</span>&nbsp;<span class="ident" id="3079682">match</span><span class="op" id="3079687">(</span><span class="ident" id="3079688">data</span>&nbsp;<span class="op" id="3079693">[</span><span class="op" id="3079694">]</span><span class="builtintype" id="3079695">byte</span><span class="op" id="3079699">,</span>&nbsp;<span class="ident" id="3079701">firstNonWS</span>&nbsp;<span class="builtintype" id="3079712">int</span><span class="op" id="3079715">)</span>&nbsp;<span class="builtintype" id="3079717">string</span>&nbsp;<span class="op" id="3079724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3079727">//&nbsp;c.f.&nbsp;section&nbsp;5,&nbsp;step&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079755">for</span>&nbsp;<span class="ident" id="3079759">_</span><span class="op" id="3079760">,</span>&nbsp;<span class="ident" id="3079762">b</span>&nbsp;<span class="op" id="3079764">:=</span>&nbsp;<span class="keyword" id="3079767">range</span>&nbsp;<span class="ident" id="3079773">data</span><span class="op" id="3079777">[</span><span class="ident" id="3079778">firstNonWS</span><span class="op" id="3079788">:</span><span class="op" id="3079789">]</span>&nbsp;<span class="op" id="3079791">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079795">switch</span>&nbsp;<span class="op" id="3079802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079806">case</span>&nbsp;<span class="num" id="3079811">0x00</span>&nbsp;<span class="op" id="3079816">&lt;=</span>&nbsp;<span class="ident" id="3079819">b</span>&nbsp;<span class="op" id="3079821">&amp;&amp;</span>&nbsp;<span class="ident" id="3079824">b</span>&nbsp;<span class="op" id="3079826">&lt;=</span>&nbsp;<span class="num" id="3079829">0x08</span><span class="op" id="3079833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3079838">b</span>&nbsp;<span class="op" id="3079840">==</span>&nbsp;<span class="num" id="3079843">0x0B</span><span class="op" id="3079847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="3079852">0x0E</span>&nbsp;<span class="op" id="3079857">&lt;=</span>&nbsp;<span class="ident" id="3079860">b</span>&nbsp;<span class="op" id="3079862">&amp;&amp;</span>&nbsp;<span class="ident" id="3079865">b</span>&nbsp;<span class="op" id="3079867">&lt;=</span>&nbsp;<span class="num" id="3079870">0x1A</span><span class="op" id="3079874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="3079879">0x1C</span>&nbsp;<span class="op" id="3079884">&lt;=</span>&nbsp;<span class="ident" id="3079887">b</span>&nbsp;<span class="op" id="3079889">&amp;&amp;</span>&nbsp;<span class="ident" id="3079892">b</span>&nbsp;<span class="op" id="3079894">&lt;=</span>&nbsp;<span class="num" id="3079897">0x1F</span><span class="op" id="3079901">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079906">return</span>&nbsp;<span class="string" id="3079913">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3079918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3079921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3079924">return</span>&nbsp;<span class="string" id="3079931">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3079959">}</span>
</div>
</body>
</html>
