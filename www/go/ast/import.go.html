<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5144923">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5144978">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5145032">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5145083">package</span>&nbsp;<span class="ident" id="5145091">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5145096">import</span>&nbsp;<span class="op" id="5145103">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5145106">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5145118">&#34;sort&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5145126">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="5145136">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5145139">//&nbsp;SortImports&nbsp;sorts&nbsp;runs&nbsp;of&nbsp;consecutive&nbsp;import&nbsp;lines&nbsp;in&nbsp;import&nbsp;blocks&nbsp;in&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="5145216">//&nbsp;It&nbsp;also&nbsp;removes&nbsp;duplicate&nbsp;imports&nbsp;when&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;do&nbsp;so&nbsp;without&nbsp;data&nbsp;loss.</span><br>
<span class="lineno">15</span><span class="keyword" id="5145301">func</span>&nbsp;<span class="ident" id="5145306">SortImports</span><span class="op" id="5145317">(</span><span class="ident" id="5145318">fset</span>&nbsp;<span class="op" id="5145323">*</span><span class="ident" id="5145324"><a href="/go/ast/import.go.html#5145106">token</a></span><span class="op" id="5145329">.</span><span class="ident" id="5145330">FileSet</span><span class="op" id="5145337">,</span>&nbsp;<span class="ident" id="5145339">f</span>&nbsp;<span class="op" id="5145341">*</span><span class="ident" id="5145342"><a href="/go/ast/ast.go.html#5122014">File</a></span><span class="op" id="5145346">)</span>&nbsp;<span class="op" id="5145348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5145351">for</span>&nbsp;<span class="ident" id="5145355">_</span><span class="op" id="5145356">,</span>&nbsp;<span class="ident" id="5145358">d</span>&nbsp;<span class="op" id="5145360">:=</span>&nbsp;<span class="keyword" id="5145363">range</span>&nbsp;<span class="ident" id="5145369"><a href="/go/ast/import.go.html#5145339">f</a></span><span class="op" id="5145370">.</span><span class="ident" id="5145371">Decls</span>&nbsp;<span class="op" id="5145377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5145381">d</span><span class="op" id="5145382">,</span>&nbsp;<span class="ident" id="5145384">ok</span>&nbsp;<span class="op" id="5145387">:=</span>&nbsp;<span class="ident" id="5145390"><a href="/go/ast/import.go.html#5145358">d</a></span><span class="op" id="5145391">.</span><span class="op" id="5145392">(</span><span class="op" id="5145393">*</span><span class="ident" id="5145394"><a href="/go/ast/ast.go.html#5120307">GenDecl</a></span><span class="op" id="5145401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5145405">if</span>&nbsp;<span class="op" id="5145408">!</span><span class="ident" id="5145409"><a href="/go/ast/import.go.html#5145384">ok</a></span>&nbsp;<span class="op" id="5145412">||</span>&nbsp;<span class="ident" id="5145415"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5145416">.</span><span class="ident" id="5145417">Tok</span>&nbsp;<span class="op" id="5145421">!=</span>&nbsp;<span class="ident" id="5145424"><a href="/go/ast/import.go.html#5145106">token</a></span><span class="op" id="5145429">.</span><span class="ident" id="5145430">IMPORT</span>&nbsp;<span class="op" id="5145437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5145442">//&nbsp;Not&nbsp;an&nbsp;import&nbsp;declaration,&nbsp;so&nbsp;we&#39;re&nbsp;done.</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5145490">//&nbsp;Imports&nbsp;are&nbsp;always&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5145522">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5145530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5145535">if</span>&nbsp;<span class="op" id="5145538">!</span><span class="ident" id="5145539"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5145540">.</span><span class="ident" id="5145541">Lparen</span><span class="op" id="5145547">.</span><span class="ident" id="5145548">IsValid</span><span class="op" id="5145555">(</span><span class="op" id="5145556">)</span>&nbsp;<span class="op" id="5145558">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5145563">//&nbsp;Not&nbsp;a&nbsp;block:&nbsp;sorted&nbsp;by&nbsp;default.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5145601">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5145612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5145617">//&nbsp;Identify&nbsp;and&nbsp;sort&nbsp;runs&nbsp;of&nbsp;specs&nbsp;on&nbsp;successive&nbsp;lines.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5145675">i</span>&nbsp;<span class="op" id="5145677">:=</span>&nbsp;<span class="num" id="5145680">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5145684">specs</span>&nbsp;<span class="op" id="5145690">:=</span>&nbsp;<span class="ident" id="5145693"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5145694">.</span><span class="ident" id="5145695">Specs</span><span class="op" id="5145700">[</span><span class="op" id="5145701">:</span><span class="num" id="5145702">0</span><span class="op" id="5145703">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5145707">for</span>&nbsp;<span class="ident" id="5145711">j</span><span class="op" id="5145712">,</span>&nbsp;<span class="ident" id="5145714">s</span>&nbsp;<span class="op" id="5145716">:=</span>&nbsp;<span class="keyword" id="5145719">range</span>&nbsp;<span class="ident" id="5145725"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5145726">.</span><span class="ident" id="5145727">Specs</span>&nbsp;<span class="op" id="5145733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5145738">if</span>&nbsp;<span class="ident" id="5145741"><a href="/go/ast/import.go.html#5145711">j</a></span>&nbsp;<span class="op" id="5145743">&gt;</span>&nbsp;<span class="ident" id="5145745"><a href="/go/ast/import.go.html#5145675">i</a></span>&nbsp;<span class="op" id="5145747">&amp;&amp;</span>&nbsp;<span class="ident" id="5145750"><a href="/go/ast/import.go.html#5145318">fset</a></span><span class="op" id="5145754">.</span><span class="ident" id="5145755">Position</span><span class="op" id="5145763">(</span><span class="ident" id="5145764"><a href="/go/ast/import.go.html#5145714">s</a></span><span class="op" id="5145765">.</span><span class="ident" id="5145766">Pos</span><span class="op" id="5145769">(</span><span class="op" id="5145770">)</span><span class="op" id="5145771">)</span><span class="op" id="5145772">.</span><span class="ident" id="5145773">Line</span>&nbsp;<span class="op" id="5145778">&gt;</span>&nbsp;<span class="num" id="5145780">1</span><span class="op" id="5145781">+</span><span class="ident" id="5145782"><a href="/go/ast/import.go.html#5145318">fset</a></span><span class="op" id="5145786">.</span><span class="ident" id="5145787">Position</span><span class="op" id="5145795">(</span><span class="ident" id="5145796"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5145797">.</span><span class="ident" id="5145798">Specs</span><span class="op" id="5145803">[</span><span class="ident" id="5145804"><a href="/go/ast/import.go.html#5145711">j</a></span><span class="op" id="5145805">-</span><span class="num" id="5145806">1</span><span class="op" id="5145807">]</span><span class="op" id="5145808">.</span><span class="ident" id="5145809">End</span><span class="op" id="5145812">(</span><span class="op" id="5145813">)</span><span class="op" id="5145814">)</span><span class="op" id="5145815">.</span><span class="ident" id="5145816">Line</span>&nbsp;<span class="op" id="5145821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5145827">//&nbsp;j&nbsp;begins&nbsp;a&nbsp;new&nbsp;run.&nbsp;&nbsp;End&nbsp;this&nbsp;one.</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5145869"><a href="/go/ast/import.go.html#5145684">specs</a></span>&nbsp;<span class="op" id="5145875">=</span>&nbsp;<span class="builtinfunc" id="5145877">append</span><span class="op" id="5145883">(</span><span class="ident" id="5145884"><a href="/go/ast/import.go.html#5145684">specs</a></span><span class="op" id="5145889">,</span>&nbsp;<span class="ident" id="5145891"><a href="/go/ast/import.go.html#5147026">sortSpecs</a></span><span class="op" id="5145900">(</span><span class="ident" id="5145901"><a href="/go/ast/import.go.html#5145318">fset</a></span><span class="op" id="5145905">,</span>&nbsp;<span class="ident" id="5145907"><a href="/go/ast/import.go.html#5145339">f</a></span><span class="op" id="5145908">,</span>&nbsp;<span class="ident" id="5145910"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5145911">.</span><span class="ident" id="5145912">Specs</span><span class="op" id="5145917">[</span><span class="ident" id="5145918"><a href="/go/ast/import.go.html#5145675">i</a></span><span class="op" id="5145919">:</span><span class="ident" id="5145920"><a href="/go/ast/import.go.html#5145711">j</a></span><span class="op" id="5145921">]</span><span class="op" id="5145922">)</span><span class="op" id="5145923">...</span><span class="op" id="5145926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5145932"><a href="/go/ast/import.go.html#5145675">i</a></span>&nbsp;<span class="op" id="5145934">=</span>&nbsp;<span class="ident" id="5145936"><a href="/go/ast/import.go.html#5145711">j</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5145941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5145945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5145949"><a href="/go/ast/import.go.html#5145684">specs</a></span>&nbsp;<span class="op" id="5145955">=</span>&nbsp;<span class="builtinfunc" id="5145957">append</span><span class="op" id="5145963">(</span><span class="ident" id="5145964"><a href="/go/ast/import.go.html#5145684">specs</a></span><span class="op" id="5145969">,</span>&nbsp;<span class="ident" id="5145971"><a href="/go/ast/import.go.html#5147026">sortSpecs</a></span><span class="op" id="5145980">(</span><span class="ident" id="5145981"><a href="/go/ast/import.go.html#5145318">fset</a></span><span class="op" id="5145985">,</span>&nbsp;<span class="ident" id="5145987"><a href="/go/ast/import.go.html#5145339">f</a></span><span class="op" id="5145988">,</span>&nbsp;<span class="ident" id="5145990"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5145991">.</span><span class="ident" id="5145992">Specs</span><span class="op" id="5145997">[</span><span class="ident" id="5145998"><a href="/go/ast/import.go.html#5145675">i</a></span><span class="op" id="5145999">:</span><span class="op" id="5146000">]</span><span class="op" id="5146001">)</span><span class="op" id="5146002">...</span><span class="op" id="5146005">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5146009"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5146010">.</span><span class="ident" id="5146011">Specs</span>&nbsp;<span class="op" id="5146017">=</span>&nbsp;<span class="ident" id="5146019"><a href="/go/ast/import.go.html#5145684">specs</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5146028">//&nbsp;Deduping&nbsp;can&nbsp;leave&nbsp;a&nbsp;blank&nbsp;line&nbsp;before&nbsp;the&nbsp;rparen;&nbsp;clean&nbsp;that&nbsp;up.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146099">if</span>&nbsp;<span class="builtinfunc" id="5146102">len</span><span class="op" id="5146105">(</span><span class="ident" id="5146106"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5146107">.</span><span class="ident" id="5146108">Specs</span><span class="op" id="5146113">)</span>&nbsp;<span class="op" id="5146115">&gt;</span>&nbsp;<span class="num" id="5146117">0</span>&nbsp;<span class="op" id="5146119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5146124">lastSpec</span>&nbsp;<span class="op" id="5146133">:=</span>&nbsp;<span class="ident" id="5146136"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5146137">.</span><span class="ident" id="5146138">Specs</span><span class="op" id="5146143">[</span><span class="builtinfunc" id="5146144">len</span><span class="op" id="5146147">(</span><span class="ident" id="5146148"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5146149">.</span><span class="ident" id="5146150">Specs</span><span class="op" id="5146155">)</span><span class="op" id="5146156">-</span><span class="num" id="5146157">1</span><span class="op" id="5146158">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5146163">lastLine</span>&nbsp;<span class="op" id="5146172">:=</span>&nbsp;<span class="ident" id="5146175"><a href="/go/ast/import.go.html#5145318">fset</a></span><span class="op" id="5146179">.</span><span class="ident" id="5146180">Position</span><span class="op" id="5146188">(</span><span class="ident" id="5146189"><a href="/go/ast/import.go.html#5146124">lastSpec</a></span><span class="op" id="5146197">.</span><span class="ident" id="5146198">Pos</span><span class="op" id="5146201">(</span><span class="op" id="5146202">)</span><span class="op" id="5146203">)</span><span class="op" id="5146204">.</span><span class="ident" id="5146205">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146213">if</span>&nbsp;<span class="ident" id="5146216">rParenLine</span>&nbsp;<span class="op" id="5146227">:=</span>&nbsp;<span class="ident" id="5146230"><a href="/go/ast/import.go.html#5145318">fset</a></span><span class="op" id="5146234">.</span><span class="ident" id="5146235">Position</span><span class="op" id="5146243">(</span><span class="ident" id="5146244"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5146245">.</span><span class="ident" id="5146246">Rparen</span><span class="op" id="5146252">)</span><span class="op" id="5146253">.</span><span class="ident" id="5146254">Line</span><span class="op" id="5146258">;</span>&nbsp;<span class="ident" id="5146260"><a href="/go/ast/import.go.html#5146216">rParenLine</a></span>&nbsp;<span class="op" id="5146271">&gt;</span>&nbsp;<span class="ident" id="5146273"><a href="/go/ast/import.go.html#5146163">lastLine</a></span><span class="op" id="5146281">+</span><span class="num" id="5146282">1</span>&nbsp;<span class="op" id="5146284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5146290"><a href="/go/ast/import.go.html#5145318">fset</a></span><span class="op" id="5146294">.</span><span class="ident" id="5146295">File</span><span class="op" id="5146299">(</span><span class="ident" id="5146300"><a href="/go/ast/import.go.html#5145381">d</a></span><span class="op" id="5146301">.</span><span class="ident" id="5146302">Rparen</span><span class="op" id="5146308">)</span><span class="op" id="5146309">.</span><span class="ident" id="5146310">MergeLine</span><span class="op" id="5146319">(</span><span class="ident" id="5146320"><a href="/go/ast/import.go.html#5146216">rParenLine</a></span>&nbsp;<span class="op" id="5146331">-</span>&nbsp;<span class="num" id="5146333">1</span><span class="op" id="5146334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5146339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5146343">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5146346">}</span><br>
<span class="lineno"></span><span class="op" id="5146348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5146351">func</span>&nbsp;<span class="ident" id="5146356">importPath</span><span class="op" id="5146366">(</span><span class="ident" id="5146367">s</span>&nbsp;<span class="ident" id="5146369"><a href="/go/ast/ast.go.html#5117653">Spec</a></span><span class="op" id="5146373">)</span>&nbsp;<span class="builtintype" id="5146375">string</span>&nbsp;<span class="op" id="5146382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5146385">t</span><span class="op" id="5146386">,</span>&nbsp;<span class="ident" id="5146388">err</span>&nbsp;<span class="op" id="5146392">:=</span>&nbsp;<span class="ident" id="5146395"><a href="/go/ast/import.go.html#5145126">strconv</a></span><span class="op" id="5146402">.</span><span class="ident" id="5146403">Unquote</span><span class="op" id="5146410">(</span><span class="ident" id="5146411"><a href="/go/ast/import.go.html#5146367">s</a></span><span class="op" id="5146412">.</span><span class="op" id="5146413">(</span><span class="op" id="5146414">*</span><span class="ident" id="5146415"><a href="/go/ast/ast.go.html#5117754">ImportSpec</a></span><span class="op" id="5146425">)</span><span class="op" id="5146426">.</span><span class="ident" id="5146427">Path</span><span class="op" id="5146431">.</span><span class="ident" id="5146432">Value</span><span class="op" id="5146437">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146440">if</span>&nbsp;<span class="ident" id="5146443"><a href="/go/ast/import.go.html#5146388">err</a></span>&nbsp;<span class="op" id="5146447">==</span>&nbsp;<span class="ident" id="5146450">nil</span>&nbsp;<span class="op" id="5146454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146458">return</span>&nbsp;<span class="ident" id="5146465"><a href="/go/ast/import.go.html#5146385">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5146468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146471">return</span>&nbsp;<span class="string" id="5146478">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="5146481">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="5146484">func</span>&nbsp;<span class="ident" id="5146489">importName</span><span class="op" id="5146499">(</span><span class="ident" id="5146500">s</span>&nbsp;<span class="ident" id="5146502"><a href="/go/ast/ast.go.html#5117653">Spec</a></span><span class="op" id="5146506">)</span>&nbsp;<span class="builtintype" id="5146508">string</span>&nbsp;<span class="op" id="5146515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5146518">n</span>&nbsp;<span class="op" id="5146520">:=</span>&nbsp;<span class="ident" id="5146523"><a href="/go/ast/import.go.html#5146500">s</a></span><span class="op" id="5146524">.</span><span class="op" id="5146525">(</span><span class="op" id="5146526">*</span><span class="ident" id="5146527"><a href="/go/ast/ast.go.html#5117754">ImportSpec</a></span><span class="op" id="5146537">)</span><span class="op" id="5146538">.</span><span class="ident" id="5146539">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146545">if</span>&nbsp;<span class="ident" id="5146548"><a href="/go/ast/import.go.html#5146518">n</a></span>&nbsp;<span class="op" id="5146550">==</span>&nbsp;<span class="ident" id="5146553">nil</span>&nbsp;<span class="op" id="5146557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146561">return</span>&nbsp;<span class="string" id="5146568">&#34;&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5146572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146575">return</span>&nbsp;<span class="ident" id="5146582"><a href="/go/ast/import.go.html#5146518">n</a></span><span class="op" id="5146583">.</span><span class="ident" id="5146584">Name</span><br>
<span class="lineno"></span><span class="op" id="5146589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5146592">func</span>&nbsp;<span class="ident" id="5146597">importComment</span><span class="op" id="5146610">(</span><span class="ident" id="5146611">s</span>&nbsp;<span class="ident" id="5146613"><a href="/go/ast/ast.go.html#5117653">Spec</a></span><span class="op" id="5146617">)</span>&nbsp;<span class="builtintype" id="5146619">string</span>&nbsp;<span class="op" id="5146626">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5146629">c</span>&nbsp;<span class="op" id="5146631">:=</span>&nbsp;<span class="ident" id="5146634"><a href="/go/ast/import.go.html#5146611">s</a></span><span class="op" id="5146635">.</span><span class="op" id="5146636">(</span><span class="op" id="5146637">*</span><span class="ident" id="5146638"><a href="/go/ast/ast.go.html#5117754">ImportSpec</a></span><span class="op" id="5146648">)</span><span class="op" id="5146649">.</span><span class="ident" id="5146650">Comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146659">if</span>&nbsp;<span class="ident" id="5146662"><a href="/go/ast/import.go.html#5146629">c</a></span>&nbsp;<span class="op" id="5146664">==</span>&nbsp;<span class="ident" id="5146667">nil</span>&nbsp;<span class="op" id="5146671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146675">return</span>&nbsp;<span class="string" id="5146682">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5146686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146689">return</span>&nbsp;<span class="ident" id="5146696"><a href="/go/ast/import.go.html#5146629">c</a></span><span class="op" id="5146697">.</span><span class="ident" id="5146698">Text</span><span class="op" id="5146702">(</span><span class="op" id="5146703">)</span><br>
<span class="lineno">75</span><span class="op" id="5146705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5146708">//&nbsp;collapse&nbsp;indicates&nbsp;whether&nbsp;prev&nbsp;may&nbsp;be&nbsp;removed,&nbsp;leaving&nbsp;only&nbsp;next.</span><br>
<span class="lineno"></span><span class="keyword" id="5146778">func</span>&nbsp;<span class="ident" id="5146783">collapse</span><span class="op" id="5146791">(</span><span class="ident" id="5146792">prev</span><span class="op" id="5146796">,</span>&nbsp;<span class="ident" id="5146798">next</span>&nbsp;<span class="ident" id="5146803"><a href="/go/ast/ast.go.html#5117653">Spec</a></span><span class="op" id="5146807">)</span>&nbsp;<span class="builtintype" id="5146809">bool</span>&nbsp;<span class="op" id="5146814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146817">if</span>&nbsp;<span class="ident" id="5146820"><a href="/go/ast/import.go.html#5146356">importPath</a></span><span class="op" id="5146830">(</span><span class="ident" id="5146831"><a href="/go/ast/import.go.html#5146798">next</a></span><span class="op" id="5146835">)</span>&nbsp;<span class="op" id="5146837">!=</span>&nbsp;<span class="ident" id="5146840"><a href="/go/ast/import.go.html#5146356">importPath</a></span><span class="op" id="5146850">(</span><span class="ident" id="5146851"><a href="/go/ast/import.go.html#5146792">prev</a></span><span class="op" id="5146855">)</span>&nbsp;<span class="op" id="5146857">||</span>&nbsp;<span class="ident" id="5146860"><a href="/go/ast/import.go.html#5146489">importName</a></span><span class="op" id="5146870">(</span><span class="ident" id="5146871"><a href="/go/ast/import.go.html#5146798">next</a></span><span class="op" id="5146875">)</span>&nbsp;<span class="op" id="5146877">!=</span>&nbsp;<span class="ident" id="5146880"><a href="/go/ast/import.go.html#5146489">importName</a></span><span class="op" id="5146890">(</span><span class="ident" id="5146891"><a href="/go/ast/import.go.html#5146792">prev</a></span><span class="op" id="5146895">)</span>&nbsp;<span class="op" id="5146897">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146901">return</span>&nbsp;<span class="builtintype" id="5146908">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5146915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5146918">return</span>&nbsp;<span class="ident" id="5146925"><a href="/go/ast/import.go.html#5146792">prev</a></span><span class="op" id="5146929">.</span><span class="op" id="5146930">(</span><span class="op" id="5146931">*</span><span class="ident" id="5146932"><a href="/go/ast/ast.go.html#5117754">ImportSpec</a></span><span class="op" id="5146942">)</span><span class="op" id="5146943">.</span><span class="ident" id="5146944">Comment</span>&nbsp;<span class="op" id="5146952">==</span>&nbsp;<span class="ident" id="5146955">nil</span><br>
<span class="lineno"></span><span class="op" id="5146959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="5146962">type</span>&nbsp;<span class="ident" id="5146967">posSpan</span>&nbsp;<span class="keyword" id="5146975">struct</span>&nbsp;<span class="op" id="5146982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5146985">Start</span>&nbsp;<span class="ident" id="5146991"><a href="/go/ast/import.go.html#5145106">token</a></span><span class="op" id="5146996">.</span><span class="ident" id="5146997">Pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147002">End</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5147008"><a href="/go/ast/import.go.html#5145106">token</a></span><span class="op" id="5147013">.</span><span class="ident" id="5147014">Pos</span><br>
<span class="lineno"></span><span class="op" id="5147018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="5147021">func</span>&nbsp;<span class="ident" id="5147026">sortSpecs</span><span class="op" id="5147035">(</span><span class="ident" id="5147036">fset</span>&nbsp;<span class="op" id="5147041">*</span><span class="ident" id="5147042"><a href="/go/ast/import.go.html#5145106">token</a></span><span class="op" id="5147047">.</span><span class="ident" id="5147048">FileSet</span><span class="op" id="5147055">,</span>&nbsp;<span class="ident" id="5147057">f</span>&nbsp;<span class="op" id="5147059">*</span><span class="ident" id="5147060"><a href="/go/ast/ast.go.html#5122014">File</a></span><span class="op" id="5147064">,</span>&nbsp;<span class="ident" id="5147066">specs</span>&nbsp;<span class="op" id="5147072">[</span><span class="op" id="5147073">]</span><span class="ident" id="5147074"><a href="/go/ast/ast.go.html#5117653">Spec</a></span><span class="op" id="5147078">)</span>&nbsp;<span class="op" id="5147080">[</span><span class="op" id="5147081">]</span><span class="ident" id="5147082"><a href="/go/ast/ast.go.html#5117653">Spec</a></span>&nbsp;<span class="op" id="5147087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5147090">//&nbsp;Can&#39;t&nbsp;short-circuit&nbsp;here&nbsp;even&nbsp;if&nbsp;specs&nbsp;are&nbsp;already&nbsp;sorted,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5147153">//&nbsp;since&nbsp;they&nbsp;might&nbsp;yet&nbsp;need&nbsp;deduplication.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5147198">//&nbsp;A&nbsp;lone&nbsp;import,&nbsp;however,&nbsp;may&nbsp;be&nbsp;safely&nbsp;ignored.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147249">if</span>&nbsp;<span class="builtinfunc" id="5147252">len</span><span class="op" id="5147255">(</span><span class="ident" id="5147256"><a href="/go/ast/import.go.html#5147066">specs</a></span><span class="op" id="5147261">)</span>&nbsp;<span class="op" id="5147263">&lt;=</span>&nbsp;<span class="num" id="5147266">1</span>&nbsp;<span class="op" id="5147268">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147272">return</span>&nbsp;<span class="ident" id="5147279"><a href="/go/ast/import.go.html#5147066">specs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5147286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5147290">//&nbsp;Record&nbsp;positions&nbsp;for&nbsp;specs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147322">pos</span>&nbsp;<span class="op" id="5147326">:=</span>&nbsp;<span class="builtinfunc" id="5147329">make</span><span class="op" id="5147333">(</span><span class="op" id="5147334">[</span><span class="op" id="5147335">]</span><span class="ident" id="5147336"><a href="/go/ast/import.go.html#5146967">posSpan</a></span><span class="op" id="5147343">,</span>&nbsp;<span class="builtinfunc" id="5147345">len</span><span class="op" id="5147348">(</span><span class="ident" id="5147349"><a href="/go/ast/import.go.html#5147066">specs</a></span><span class="op" id="5147354">)</span><span class="op" id="5147355">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147358">for</span>&nbsp;<span class="ident" id="5147362">i</span><span class="op" id="5147363">,</span>&nbsp;<span class="ident" id="5147365">s</span>&nbsp;<span class="op" id="5147367">:=</span>&nbsp;<span class="keyword" id="5147370">range</span>&nbsp;<span class="ident" id="5147376"><a href="/go/ast/import.go.html#5147066">specs</a></span>&nbsp;<span class="op" id="5147382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147386"><a href="/go/ast/import.go.html#5147322">pos</a></span><span class="op" id="5147389">[</span><span class="ident" id="5147390"><a href="/go/ast/import.go.html#5147362">i</a></span><span class="op" id="5147391">]</span>&nbsp;<span class="op" id="5147393">=</span>&nbsp;<span class="ident" id="5147395"><a href="/go/ast/import.go.html#5146967">posSpan</a></span><span class="op" id="5147402">{</span><span class="ident" id="5147403"><a href="/go/ast/import.go.html#5147365">s</a></span><span class="op" id="5147404">.</span><span class="ident" id="5147405">Pos</span><span class="op" id="5147408">(</span><span class="op" id="5147409">)</span><span class="op" id="5147410">,</span>&nbsp;<span class="ident" id="5147412"><a href="/go/ast/import.go.html#5147365">s</a></span><span class="op" id="5147413">.</span><span class="ident" id="5147414">End</span><span class="op" id="5147417">(</span><span class="op" id="5147418">)</span><span class="op" id="5147419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5147422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5147426">//&nbsp;Identify&nbsp;comments&nbsp;in&nbsp;this&nbsp;range.</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5147463">//&nbsp;Any&nbsp;comment&nbsp;from&nbsp;pos[0].Start&nbsp;to&nbsp;the&nbsp;final&nbsp;line&nbsp;counts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147523">lastLine</span>&nbsp;<span class="op" id="5147532">:=</span>&nbsp;<span class="ident" id="5147535"><a href="/go/ast/import.go.html#5147036">fset</a></span><span class="op" id="5147539">.</span><span class="ident" id="5147540">Position</span><span class="op" id="5147548">(</span><span class="ident" id="5147549"><a href="/go/ast/import.go.html#5147322">pos</a></span><span class="op" id="5147552">[</span><span class="builtinfunc" id="5147553">len</span><span class="op" id="5147556">(</span><span class="ident" id="5147557"><a href="/go/ast/import.go.html#5147322">pos</a></span><span class="op" id="5147560">)</span><span class="op" id="5147561">-</span><span class="num" id="5147562">1</span><span class="op" id="5147563">]</span><span class="op" id="5147564">.</span><span class="ident" id="5147565">End</span><span class="op" id="5147568">)</span><span class="op" id="5147569">.</span><span class="ident" id="5147570">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147576">cstart</span>&nbsp;<span class="op" id="5147583">:=</span>&nbsp;<span class="builtinfunc" id="5147586">len</span><span class="op" id="5147589">(</span><span class="ident" id="5147590"><a href="/go/ast/import.go.html#5147057">f</a></span><span class="op" id="5147591">.</span><span class="ident" id="5147592">Comments</span><span class="op" id="5147600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147603">cend</span>&nbsp;<span class="op" id="5147608">:=</span>&nbsp;<span class="builtinfunc" id="5147611">len</span><span class="op" id="5147614">(</span><span class="ident" id="5147615"><a href="/go/ast/import.go.html#5147057">f</a></span><span class="op" id="5147616">.</span><span class="ident" id="5147617">Comments</span><span class="op" id="5147625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147628">for</span>&nbsp;<span class="ident" id="5147632">i</span><span class="op" id="5147633">,</span>&nbsp;<span class="ident" id="5147635">g</span>&nbsp;<span class="op" id="5147637">:=</span>&nbsp;<span class="keyword" id="5147640">range</span>&nbsp;<span class="ident" id="5147646"><a href="/go/ast/import.go.html#5147057">f</a></span><span class="op" id="5147647">.</span><span class="ident" id="5147648">Comments</span>&nbsp;<span class="op" id="5147657">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147661">if</span>&nbsp;<span class="ident" id="5147664"><a href="/go/ast/import.go.html#5147635">g</a></span><span class="op" id="5147665">.</span><span class="ident" id="5147666">Pos</span><span class="op" id="5147669">(</span><span class="op" id="5147670">)</span>&nbsp;<span class="op" id="5147672">&lt;</span>&nbsp;<span class="ident" id="5147674"><a href="/go/ast/import.go.html#5147322">pos</a></span><span class="op" id="5147677">[</span><span class="num" id="5147678">0</span><span class="op" id="5147679">]</span><span class="op" id="5147680">.</span><span class="ident" id="5147681">Start</span>&nbsp;<span class="op" id="5147687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147692">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5147703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147707">if</span>&nbsp;<span class="ident" id="5147710"><a href="/go/ast/import.go.html#5147632">i</a></span>&nbsp;<span class="op" id="5147712">&lt;</span>&nbsp;<span class="ident" id="5147714"><a href="/go/ast/import.go.html#5147576">cstart</a></span>&nbsp;<span class="op" id="5147721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147726"><a href="/go/ast/import.go.html#5147576">cstart</a></span>&nbsp;<span class="op" id="5147733">=</span>&nbsp;<span class="ident" id="5147735"><a href="/go/ast/import.go.html#5147632">i</a></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5147739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147743">if</span>&nbsp;<span class="ident" id="5147746"><a href="/go/ast/import.go.html#5147036">fset</a></span><span class="op" id="5147750">.</span><span class="ident" id="5147751">Position</span><span class="op" id="5147759">(</span><span class="ident" id="5147760"><a href="/go/ast/import.go.html#5147635">g</a></span><span class="op" id="5147761">.</span><span class="ident" id="5147762">End</span><span class="op" id="5147765">(</span><span class="op" id="5147766">)</span><span class="op" id="5147767">)</span><span class="op" id="5147768">.</span><span class="ident" id="5147769">Line</span>&nbsp;<span class="op" id="5147774">&gt;</span>&nbsp;<span class="ident" id="5147776"><a href="/go/ast/import.go.html#5147523">lastLine</a></span>&nbsp;<span class="op" id="5147785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147790"><a href="/go/ast/import.go.html#5147603">cend</a></span>&nbsp;<span class="op" id="5147795">=</span>&nbsp;<span class="ident" id="5147797"><a href="/go/ast/import.go.html#5147632">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147802">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5147810">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5147813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147816">comments</span>&nbsp;<span class="op" id="5147825">:=</span>&nbsp;<span class="ident" id="5147828"><a href="/go/ast/import.go.html#5147057">f</a></span><span class="op" id="5147829">.</span><span class="ident" id="5147830">Comments</span><span class="op" id="5147838">[</span><span class="ident" id="5147839"><a href="/go/ast/import.go.html#5147576">cstart</a></span><span class="op" id="5147845">:</span><span class="ident" id="5147846"><a href="/go/ast/import.go.html#5147603">cend</a></span><span class="op" id="5147850">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5147854">//&nbsp;Assign&nbsp;each&nbsp;comment&nbsp;to&nbsp;the&nbsp;import&nbsp;spec&nbsp;preceding&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147911">importComment</span>&nbsp;<span class="op" id="5147925">:=</span>&nbsp;<span class="keyword" id="5147928">map</span><span class="op" id="5147931">[</span><span class="op" id="5147932">*</span><span class="ident" id="5147933"><a href="/go/ast/ast.go.html#5117754">ImportSpec</a></span><span class="op" id="5147943">]</span><span class="op" id="5147944">[</span><span class="op" id="5147945">]</span><span class="op" id="5147946">*</span><span class="ident" id="5147947"><a href="/go/ast/ast.go.html#5094179">CommentGroup</a></span><span class="op" id="5147959">{</span><span class="op" id="5147960">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5147963">specIndex</span>&nbsp;<span class="op" id="5147973">:=</span>&nbsp;<span class="num" id="5147976">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5147979">for</span>&nbsp;<span class="ident" id="5147983">_</span><span class="op" id="5147984">,</span>&nbsp;<span class="ident" id="5147986">g</span>&nbsp;<span class="op" id="5147988">:=</span>&nbsp;<span class="keyword" id="5147991">range</span>&nbsp;<span class="ident" id="5147997"><a href="/go/ast/import.go.html#5147816">comments</a></span>&nbsp;<span class="op" id="5148006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5148010">for</span>&nbsp;<span class="ident" id="5148014"><a href="/go/ast/import.go.html#5147963">specIndex</a></span><span class="op" id="5148023">+</span><span class="num" id="5148024">1</span>&nbsp;<span class="op" id="5148026">&lt;</span>&nbsp;<span class="builtinfunc" id="5148028">len</span><span class="op" id="5148031">(</span><span class="ident" id="5148032"><a href="/go/ast/import.go.html#5147066">specs</a></span><span class="op" id="5148037">)</span>&nbsp;<span class="op" id="5148039">&amp;&amp;</span>&nbsp;<span class="ident" id="5148042"><a href="/go/ast/import.go.html#5147322">pos</a></span><span class="op" id="5148045">[</span><span class="ident" id="5148046"><a href="/go/ast/import.go.html#5147963">specIndex</a></span><span class="op" id="5148055">+</span><span class="num" id="5148056">1</span><span class="op" id="5148057">]</span><span class="op" id="5148058">.</span><span class="ident" id="5148059">Start</span>&nbsp;<span class="op" id="5148065">&lt;=</span>&nbsp;<span class="ident" id="5148068"><a href="/go/ast/import.go.html#5147986">g</a></span><span class="op" id="5148069">.</span><span class="ident" id="5148070">Pos</span><span class="op" id="5148073">(</span><span class="op" id="5148074">)</span>&nbsp;<span class="op" id="5148076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148081"><a href="/go/ast/import.go.html#5147963">specIndex</a></span><span class="op" id="5148090">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5148095">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148099">s</span>&nbsp;<span class="op" id="5148101">:=</span>&nbsp;<span class="ident" id="5148104"><a href="/go/ast/import.go.html#5147066">specs</a></span><span class="op" id="5148109">[</span><span class="ident" id="5148110"><a href="/go/ast/import.go.html#5147963">specIndex</a></span><span class="op" id="5148119">]</span><span class="op" id="5148120">.</span><span class="op" id="5148121">(</span><span class="op" id="5148122">*</span><span class="ident" id="5148123"><a href="/go/ast/ast.go.html#5117754">ImportSpec</a></span><span class="op" id="5148133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148137"><a href="/go/ast/import.go.html#5147911">importComment</a></span><span class="op" id="5148150">[</span><span class="ident" id="5148151"><a href="/go/ast/import.go.html#5148099">s</a></span><span class="op" id="5148152">]</span>&nbsp;<span class="op" id="5148154">=</span>&nbsp;<span class="builtinfunc" id="5148156">append</span><span class="op" id="5148162">(</span><span class="ident" id="5148163"><a href="/go/ast/import.go.html#5147911">importComment</a></span><span class="op" id="5148176">[</span><span class="ident" id="5148177"><a href="/go/ast/import.go.html#5148099">s</a></span><span class="op" id="5148178">]</span><span class="op" id="5148179">,</span>&nbsp;<span class="ident" id="5148181"><a href="/go/ast/import.go.html#5147986">g</a></span><span class="op" id="5148182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5148185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5148189">//&nbsp;Sort&nbsp;the&nbsp;import&nbsp;specs&nbsp;by&nbsp;import&nbsp;path.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5148231">//&nbsp;Remove&nbsp;duplicates,&nbsp;when&nbsp;possible&nbsp;without&nbsp;data&nbsp;loss.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5148287">//&nbsp;Reassign&nbsp;the&nbsp;import&nbsp;paths&nbsp;to&nbsp;have&nbsp;the&nbsp;same&nbsp;position&nbsp;sequence.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5148353">//&nbsp;Reassign&nbsp;each&nbsp;comment&nbsp;to&nbsp;abut&nbsp;the&nbsp;end&nbsp;of&nbsp;its&nbsp;spec.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5148408">//&nbsp;Sort&nbsp;the&nbsp;comments&nbsp;by&nbsp;new&nbsp;position.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148447"><a href="/go/ast/import.go.html#5145118">sort</a></span><span class="op" id="5148451">.</span><span class="ident" id="5148452">Sort</span><span class="op" id="5148456">(</span><span class="ident" id="5148457"><a href="/go/ast/import.go.html#5149159">byImportSpec</a></span><span class="op" id="5148469">(</span><span class="ident" id="5148470"><a href="/go/ast/import.go.html#5147066">specs</a></span><span class="op" id="5148475">)</span><span class="op" id="5148476">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5148480">//&nbsp;Dedup.&nbsp;Thanks&nbsp;to&nbsp;our&nbsp;sorting,&nbsp;we&nbsp;can&nbsp;just&nbsp;consider</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5148535">//&nbsp;adjacent&nbsp;pairs&nbsp;of&nbsp;imports.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148566">deduped</span>&nbsp;<span class="op" id="5148574">:=</span>&nbsp;<span class="ident" id="5148577"><a href="/go/ast/import.go.html#5147066">specs</a></span><span class="op" id="5148582">[</span><span class="op" id="5148583">:</span><span class="num" id="5148584">0</span><span class="op" id="5148585">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5148588">for</span>&nbsp;<span class="ident" id="5148592">i</span><span class="op" id="5148593">,</span>&nbsp;<span class="ident" id="5148595">s</span>&nbsp;<span class="op" id="5148597">:=</span>&nbsp;<span class="keyword" id="5148600">range</span>&nbsp;<span class="ident" id="5148606"><a href="/go/ast/import.go.html#5147066">specs</a></span>&nbsp;<span class="op" id="5148612">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5148616">if</span>&nbsp;<span class="ident" id="5148619"><a href="/go/ast/import.go.html#5148592">i</a></span>&nbsp;<span class="op" id="5148621">==</span>&nbsp;<span class="builtinfunc" id="5148624">len</span><span class="op" id="5148627">(</span><span class="ident" id="5148628"><a href="/go/ast/import.go.html#5147066">specs</a></span><span class="op" id="5148633">)</span><span class="op" id="5148634">-</span><span class="num" id="5148635">1</span>&nbsp;<span class="op" id="5148637">||</span>&nbsp;<span class="op" id="5148640">!</span><span class="ident" id="5148641"><a href="/go/ast/import.go.html#5146783">collapse</a></span><span class="op" id="5148649">(</span><span class="ident" id="5148650"><a href="/go/ast/import.go.html#5148595">s</a></span><span class="op" id="5148651">,</span>&nbsp;<span class="ident" id="5148653"><a href="/go/ast/import.go.html#5147066">specs</a></span><span class="op" id="5148658">[</span><span class="ident" id="5148659"><a href="/go/ast/import.go.html#5148592">i</a></span><span class="op" id="5148660">+</span><span class="num" id="5148661">1</span><span class="op" id="5148662">]</span><span class="op" id="5148663">)</span>&nbsp;<span class="op" id="5148665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148670"><a href="/go/ast/import.go.html#5148566">deduped</a></span>&nbsp;<span class="op" id="5148678">=</span>&nbsp;<span class="builtinfunc" id="5148680">append</span><span class="op" id="5148686">(</span><span class="ident" id="5148687"><a href="/go/ast/import.go.html#5148566">deduped</a></span><span class="op" id="5148694">,</span>&nbsp;<span class="ident" id="5148696"><a href="/go/ast/import.go.html#5148595">s</a></span><span class="op" id="5148697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5148701">}</span>&nbsp;<span class="keyword" id="5148703">else</span>&nbsp;<span class="op" id="5148708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148713">p</span>&nbsp;<span class="op" id="5148715">:=</span>&nbsp;<span class="ident" id="5148718"><a href="/go/ast/import.go.html#5148595">s</a></span><span class="op" id="5148719">.</span><span class="ident" id="5148720">Pos</span><span class="op" id="5148723">(</span><span class="op" id="5148724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148729"><a href="/go/ast/import.go.html#5147036">fset</a></span><span class="op" id="5148733">.</span><span class="ident" id="5148734">File</span><span class="op" id="5148738">(</span><span class="ident" id="5148739"><a href="/go/ast/import.go.html#5148713">p</a></span><span class="op" id="5148740">)</span><span class="op" id="5148741">.</span><span class="ident" id="5148742">MergeLine</span><span class="op" id="5148751">(</span><span class="ident" id="5148752"><a href="/go/ast/import.go.html#5147036">fset</a></span><span class="op" id="5148756">.</span><span class="ident" id="5148757">Position</span><span class="op" id="5148765">(</span><span class="ident" id="5148766"><a href="/go/ast/import.go.html#5148713">p</a></span><span class="op" id="5148767">)</span><span class="op" id="5148768">.</span><span class="ident" id="5148769">Line</span><span class="op" id="5148773">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5148777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5148780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148783"><a href="/go/ast/import.go.html#5147066">specs</a></span>&nbsp;<span class="op" id="5148789">=</span>&nbsp;<span class="ident" id="5148791"><a href="/go/ast/import.go.html#5148566">deduped</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5148801">//&nbsp;Fix&nbsp;up&nbsp;comment&nbsp;positions</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5148830">for</span>&nbsp;<span class="ident" id="5148834">i</span><span class="op" id="5148835">,</span>&nbsp;<span class="ident" id="5148837">s</span>&nbsp;<span class="op" id="5148839">:=</span>&nbsp;<span class="keyword" id="5148842">range</span>&nbsp;<span class="ident" id="5148848"><a href="/go/ast/import.go.html#5147066">specs</a></span>&nbsp;<span class="op" id="5148854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148858">s</span>&nbsp;<span class="op" id="5148860">:=</span>&nbsp;<span class="ident" id="5148863"><a href="/go/ast/import.go.html#5148837">s</a></span><span class="op" id="5148864">.</span><span class="op" id="5148865">(</span><span class="op" id="5148866">*</span><span class="ident" id="5148867"><a href="/go/ast/ast.go.html#5117754">ImportSpec</a></span><span class="op" id="5148877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5148881">if</span>&nbsp;<span class="ident" id="5148884"><a href="/go/ast/import.go.html#5148858">s</a></span><span class="op" id="5148885">.</span><span class="ident" id="5148886">Name</span>&nbsp;<span class="op" id="5148891">!=</span>&nbsp;<span class="ident" id="5148894">nil</span>&nbsp;<span class="op" id="5148898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148903"><a href="/go/ast/import.go.html#5148858">s</a></span><span class="op" id="5148904">.</span><span class="ident" id="5148905">Name</span><span class="op" id="5148909">.</span><span class="ident" id="5148910">NamePos</span>&nbsp;<span class="op" id="5148918">=</span>&nbsp;<span class="ident" id="5148920"><a href="/go/ast/import.go.html#5147322">pos</a></span><span class="op" id="5148923">[</span><span class="ident" id="5148924"><a href="/go/ast/import.go.html#5148834">i</a></span><span class="op" id="5148925">]</span><span class="op" id="5148926">.</span><span class="ident" id="5148927">Start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5148935">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148939"><a href="/go/ast/import.go.html#5148858">s</a></span><span class="op" id="5148940">.</span><span class="ident" id="5148941">Path</span><span class="op" id="5148945">.</span><span class="ident" id="5148946">ValuePos</span>&nbsp;<span class="op" id="5148955">=</span>&nbsp;<span class="ident" id="5148957"><a href="/go/ast/import.go.html#5147322">pos</a></span><span class="op" id="5148960">[</span><span class="ident" id="5148961"><a href="/go/ast/import.go.html#5148834">i</a></span><span class="op" id="5148962">]</span><span class="op" id="5148963">.</span><span class="ident" id="5148964">Start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5148972"><a href="/go/ast/import.go.html#5148858">s</a></span><span class="op" id="5148973">.</span><span class="ident" id="5148974">EndPos</span>&nbsp;<span class="op" id="5148981">=</span>&nbsp;<span class="ident" id="5148983"><a href="/go/ast/import.go.html#5147322">pos</a></span><span class="op" id="5148986">[</span><span class="ident" id="5148987"><a href="/go/ast/import.go.html#5148834">i</a></span><span class="op" id="5148988">]</span><span class="op" id="5148989">.</span><span class="ident" id="5148990">End</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5148996">for</span>&nbsp;<span class="ident" id="5149000">_</span><span class="op" id="5149001">,</span>&nbsp;<span class="ident" id="5149003">g</span>&nbsp;<span class="op" id="5149005">:=</span>&nbsp;<span class="keyword" id="5149008">range</span>&nbsp;<span class="ident" id="5149014"><a href="/go/ast/import.go.html#5147911">importComment</a></span><span class="op" id="5149027">[</span><span class="ident" id="5149028"><a href="/go/ast/import.go.html#5148858">s</a></span><span class="op" id="5149029">]</span>&nbsp;<span class="op" id="5149031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5149036">for</span>&nbsp;<span class="ident" id="5149040">_</span><span class="op" id="5149041">,</span>&nbsp;<span class="ident" id="5149043">c</span>&nbsp;<span class="op" id="5149045">:=</span>&nbsp;<span class="keyword" id="5149048">range</span>&nbsp;<span class="ident" id="5149054"><a href="/go/ast/import.go.html#5149003">g</a></span><span class="op" id="5149055">.</span><span class="ident" id="5149056">List</span>&nbsp;<span class="op" id="5149061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5149067"><a href="/go/ast/import.go.html#5149043">c</a></span><span class="op" id="5149068">.</span><span class="ident" id="5149069">Slash</span>&nbsp;<span class="op" id="5149075">=</span>&nbsp;<span class="ident" id="5149077"><a href="/go/ast/import.go.html#5147322">pos</a></span><span class="op" id="5149080">[</span><span class="ident" id="5149081"><a href="/go/ast/import.go.html#5148834">i</a></span><span class="op" id="5149082">]</span><span class="op" id="5149083">.</span><span class="ident" id="5149084">End</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5149091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5149095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5149098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5149102"><a href="/go/ast/import.go.html#5145118">sort</a></span><span class="op" id="5149106">.</span><span class="ident" id="5149107">Sort</span><span class="op" id="5149111">(</span><span class="ident" id="5149112"><a href="/go/ast/import.go.html#5149628">byCommentPos</a></span><span class="op" id="5149124">(</span><span class="ident" id="5149125"><a href="/go/ast/import.go.html#5147816">comments</a></span><span class="op" id="5149133">)</span><span class="op" id="5149134">)</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5149138">return</span>&nbsp;<span class="ident" id="5149145"><a href="/go/ast/import.go.html#5147066">specs</a></span><br>
<span class="lineno"></span><span class="op" id="5149151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5149154">type</span>&nbsp;<span class="ident" id="5149159">byImportSpec</span>&nbsp;<span class="op" id="5149172">[</span><span class="op" id="5149173">]</span><span class="ident" id="5149174"><a href="/go/ast/ast.go.html#5117653">Spec</a></span>&nbsp;<span class="comment" id="5149179">//&nbsp;slice&nbsp;of&nbsp;*ImportSpec</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="5149204">func</span>&nbsp;<span class="op" id="5149209">(</span><span class="ident" id="5149210">x</span>&nbsp;<span class="ident" id="5149212"><a href="/go/ast/import.go.html#5149159">byImportSpec</a></span><span class="op" id="5149224">)</span>&nbsp;<span class="ident" id="5149226">Len</span><span class="op" id="5149229">(</span><span class="op" id="5149230">)</span>&nbsp;<span class="builtintype" id="5149232">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5149241">{</span>&nbsp;<span class="keyword" id="5149243">return</span>&nbsp;<span class="builtinfunc" id="5149250">len</span><span class="op" id="5149253">(</span><span class="ident" id="5149254"><a href="/go/ast/import.go.html#5149210">x</a></span><span class="op" id="5149255">)</span>&nbsp;<span class="op" id="5149257">}</span><br>
<span class="lineno"></span><span class="keyword" id="5149259">func</span>&nbsp;<span class="op" id="5149264">(</span><span class="ident" id="5149265">x</span>&nbsp;<span class="ident" id="5149267"><a href="/go/ast/import.go.html#5149159">byImportSpec</a></span><span class="op" id="5149279">)</span>&nbsp;<span class="ident" id="5149281">Swap</span><span class="op" id="5149285">(</span><span class="ident" id="5149286">i</span><span class="op" id="5149287">,</span>&nbsp;<span class="ident" id="5149289">j</span>&nbsp;<span class="builtintype" id="5149291">int</span><span class="op" id="5149294">)</span>&nbsp;<span class="op" id="5149296">{</span>&nbsp;<span class="ident" id="5149298"><a href="/go/ast/import.go.html#5149265">x</a></span><span class="op" id="5149299">[</span><span class="ident" id="5149300"><a href="/go/ast/import.go.html#5149286">i</a></span><span class="op" id="5149301">]</span><span class="op" id="5149302">,</span>&nbsp;<span class="ident" id="5149304"><a href="/go/ast/import.go.html#5149265">x</a></span><span class="op" id="5149305">[</span><span class="ident" id="5149306"><a href="/go/ast/import.go.html#5149289">j</a></span><span class="op" id="5149307">]</span>&nbsp;<span class="op" id="5149309">=</span>&nbsp;<span class="ident" id="5149311"><a href="/go/ast/import.go.html#5149265">x</a></span><span class="op" id="5149312">[</span><span class="ident" id="5149313"><a href="/go/ast/import.go.html#5149289">j</a></span><span class="op" id="5149314">]</span><span class="op" id="5149315">,</span>&nbsp;<span class="ident" id="5149317"><a href="/go/ast/import.go.html#5149265">x</a></span><span class="op" id="5149318">[</span><span class="ident" id="5149319"><a href="/go/ast/import.go.html#5149286">i</a></span><span class="op" id="5149320">]</span>&nbsp;<span class="op" id="5149322">}</span><br>
<span class="lineno"></span><span class="keyword" id="5149324">func</span>&nbsp;<span class="op" id="5149329">(</span><span class="ident" id="5149330">x</span>&nbsp;<span class="ident" id="5149332"><a href="/go/ast/import.go.html#5149159">byImportSpec</a></span><span class="op" id="5149344">)</span>&nbsp;<span class="ident" id="5149346">Less</span><span class="op" id="5149350">(</span><span class="ident" id="5149351">i</span><span class="op" id="5149352">,</span>&nbsp;<span class="ident" id="5149354">j</span>&nbsp;<span class="builtintype" id="5149356">int</span><span class="op" id="5149359">)</span>&nbsp;<span class="builtintype" id="5149361">bool</span>&nbsp;<span class="op" id="5149366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5149369">ipath</span>&nbsp;<span class="op" id="5149375">:=</span>&nbsp;<span class="ident" id="5149378"><a href="/go/ast/import.go.html#5146356">importPath</a></span><span class="op" id="5149388">(</span><span class="ident" id="5149389"><a href="/go/ast/import.go.html#5149330">x</a></span><span class="op" id="5149390">[</span><span class="ident" id="5149391"><a href="/go/ast/import.go.html#5149351">i</a></span><span class="op" id="5149392">]</span><span class="op" id="5149393">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5149396">jpath</span>&nbsp;<span class="op" id="5149402">:=</span>&nbsp;<span class="ident" id="5149405"><a href="/go/ast/import.go.html#5146356">importPath</a></span><span class="op" id="5149415">(</span><span class="ident" id="5149416"><a href="/go/ast/import.go.html#5149330">x</a></span><span class="op" id="5149417">[</span><span class="ident" id="5149418"><a href="/go/ast/import.go.html#5149354">j</a></span><span class="op" id="5149419">]</span><span class="op" id="5149420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5149423">if</span>&nbsp;<span class="ident" id="5149426"><a href="/go/ast/import.go.html#5149369">ipath</a></span>&nbsp;<span class="op" id="5149432">!=</span>&nbsp;<span class="ident" id="5149435"><a href="/go/ast/import.go.html#5149396">jpath</a></span>&nbsp;<span class="op" id="5149441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5149445">return</span>&nbsp;<span class="ident" id="5149452"><a href="/go/ast/import.go.html#5149369">ipath</a></span>&nbsp;<span class="op" id="5149458">&lt;</span>&nbsp;<span class="ident" id="5149460"><a href="/go/ast/import.go.html#5149396">jpath</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5149467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5149470">iname</span>&nbsp;<span class="op" id="5149476">:=</span>&nbsp;<span class="ident" id="5149479"><a href="/go/ast/import.go.html#5146489">importName</a></span><span class="op" id="5149489">(</span><span class="ident" id="5149490"><a href="/go/ast/import.go.html#5149330">x</a></span><span class="op" id="5149491">[</span><span class="ident" id="5149492"><a href="/go/ast/import.go.html#5149351">i</a></span><span class="op" id="5149493">]</span><span class="op" id="5149494">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5149497">jname</span>&nbsp;<span class="op" id="5149503">:=</span>&nbsp;<span class="ident" id="5149506"><a href="/go/ast/import.go.html#5146489">importName</a></span><span class="op" id="5149516">(</span><span class="ident" id="5149517"><a href="/go/ast/import.go.html#5149330">x</a></span><span class="op" id="5149518">[</span><span class="ident" id="5149519"><a href="/go/ast/import.go.html#5149354">j</a></span><span class="op" id="5149520">]</span><span class="op" id="5149521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5149524">if</span>&nbsp;<span class="ident" id="5149527"><a href="/go/ast/import.go.html#5149470">iname</a></span>&nbsp;<span class="op" id="5149533">!=</span>&nbsp;<span class="ident" id="5149536"><a href="/go/ast/import.go.html#5149497">jname</a></span>&nbsp;<span class="op" id="5149542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5149546">return</span>&nbsp;<span class="ident" id="5149553"><a href="/go/ast/import.go.html#5149470">iname</a></span>&nbsp;<span class="op" id="5149559">&lt;</span>&nbsp;<span class="ident" id="5149561"><a href="/go/ast/import.go.html#5149497">jname</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5149568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5149571">return</span>&nbsp;<span class="ident" id="5149578"><a href="/go/ast/import.go.html#5146597">importComment</a></span><span class="op" id="5149591">(</span><span class="ident" id="5149592"><a href="/go/ast/import.go.html#5149330">x</a></span><span class="op" id="5149593">[</span><span class="ident" id="5149594"><a href="/go/ast/import.go.html#5149351">i</a></span><span class="op" id="5149595">]</span><span class="op" id="5149596">)</span>&nbsp;<span class="op" id="5149598">&lt;</span>&nbsp;<span class="ident" id="5149600"><a href="/go/ast/import.go.html#5146597">importComment</a></span><span class="op" id="5149613">(</span><span class="ident" id="5149614"><a href="/go/ast/import.go.html#5149330">x</a></span><span class="op" id="5149615">[</span><span class="ident" id="5149616"><a href="/go/ast/import.go.html#5149354">j</a></span><span class="op" id="5149617">]</span><span class="op" id="5149618">)</span><br>
<span class="lineno">190</span><span class="op" id="5149620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5149623">type</span>&nbsp;<span class="ident" id="5149628">byCommentPos</span>&nbsp;<span class="op" id="5149641">[</span><span class="op" id="5149642">]</span><span class="op" id="5149643">*</span><span class="ident" id="5149644"><a href="/go/ast/ast.go.html#5094179">CommentGroup</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5149658">func</span>&nbsp;<span class="op" id="5149663">(</span><span class="ident" id="5149664">x</span>&nbsp;<span class="ident" id="5149666"><a href="/go/ast/import.go.html#5149628">byCommentPos</a></span><span class="op" id="5149678">)</span>&nbsp;<span class="ident" id="5149680">Len</span><span class="op" id="5149683">(</span><span class="op" id="5149684">)</span>&nbsp;<span class="builtintype" id="5149686">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5149700">{</span>&nbsp;<span class="keyword" id="5149702">return</span>&nbsp;<span class="builtinfunc" id="5149709">len</span><span class="op" id="5149712">(</span><span class="ident" id="5149713"><a href="/go/ast/import.go.html#5149664">x</a></span><span class="op" id="5149714">)</span>&nbsp;<span class="op" id="5149716">}</span><br>
<span class="lineno">195</span><span class="keyword" id="5149718">func</span>&nbsp;<span class="op" id="5149723">(</span><span class="ident" id="5149724">x</span>&nbsp;<span class="ident" id="5149726"><a href="/go/ast/import.go.html#5149628">byCommentPos</a></span><span class="op" id="5149738">)</span>&nbsp;<span class="ident" id="5149740">Swap</span><span class="op" id="5149744">(</span><span class="ident" id="5149745">i</span><span class="op" id="5149746">,</span>&nbsp;<span class="ident" id="5149748">j</span>&nbsp;<span class="builtintype" id="5149750">int</span><span class="op" id="5149753">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5149760">{</span>&nbsp;<span class="ident" id="5149762"><a href="/go/ast/import.go.html#5149724">x</a></span><span class="op" id="5149763">[</span><span class="ident" id="5149764"><a href="/go/ast/import.go.html#5149745">i</a></span><span class="op" id="5149765">]</span><span class="op" id="5149766">,</span>&nbsp;<span class="ident" id="5149768"><a href="/go/ast/import.go.html#5149724">x</a></span><span class="op" id="5149769">[</span><span class="ident" id="5149770"><a href="/go/ast/import.go.html#5149748">j</a></span><span class="op" id="5149771">]</span>&nbsp;<span class="op" id="5149773">=</span>&nbsp;<span class="ident" id="5149775"><a href="/go/ast/import.go.html#5149724">x</a></span><span class="op" id="5149776">[</span><span class="ident" id="5149777"><a href="/go/ast/import.go.html#5149748">j</a></span><span class="op" id="5149778">]</span><span class="op" id="5149779">,</span>&nbsp;<span class="ident" id="5149781"><a href="/go/ast/import.go.html#5149724">x</a></span><span class="op" id="5149782">[</span><span class="ident" id="5149783"><a href="/go/ast/import.go.html#5149745">i</a></span><span class="op" id="5149784">]</span>&nbsp;<span class="op" id="5149786">}</span><br>
<span class="lineno"></span><span class="keyword" id="5149788">func</span>&nbsp;<span class="op" id="5149793">(</span><span class="ident" id="5149794">x</span>&nbsp;<span class="ident" id="5149796"><a href="/go/ast/import.go.html#5149628">byCommentPos</a></span><span class="op" id="5149808">)</span>&nbsp;<span class="ident" id="5149810">Less</span><span class="op" id="5149814">(</span><span class="ident" id="5149815">i</span><span class="op" id="5149816">,</span>&nbsp;<span class="ident" id="5149818">j</span>&nbsp;<span class="builtintype" id="5149820">int</span><span class="op" id="5149823">)</span>&nbsp;<span class="builtintype" id="5149825">bool</span>&nbsp;<span class="op" id="5149830">{</span>&nbsp;<span class="keyword" id="5149832">return</span>&nbsp;<span class="ident" id="5149839"><a href="/go/ast/import.go.html#5149794">x</a></span><span class="op" id="5149840">[</span><span class="ident" id="5149841"><a href="/go/ast/import.go.html#5149815">i</a></span><span class="op" id="5149842">]</span><span class="op" id="5149843">.</span><span class="ident" id="5149844">Pos</span><span class="op" id="5149847">(</span><span class="op" id="5149848">)</span>&nbsp;<span class="op" id="5149850">&lt;</span>&nbsp;<span class="ident" id="5149852"><a href="/go/ast/import.go.html#5149794">x</a></span><span class="op" id="5149853">[</span><span class="ident" id="5149854"><a href="/go/ast/import.go.html#5149818">j</a></span><span class="op" id="5149855">]</span><span class="op" id="5149856">.</span><span class="ident" id="5149857">Pos</span><span class="op" id="5149860">(</span><span class="op" id="5149861">)</span>&nbsp;<span class="op" id="5149863">}</span>
</div>
</body>
</html>
