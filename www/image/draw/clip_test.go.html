<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7605075">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7605130">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7605184">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7605235">package</span>&nbsp;<span class="ident" id="7605243">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7605249">import</span>&nbsp;<span class="op" id="7605256">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7605259">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7605268">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7605278">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7605281">type</span>&nbsp;<span class="ident" id="7605286">clipTest</span>&nbsp;<span class="keyword" id="7605295">struct</span>&nbsp;<span class="op" id="7605302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605305">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7605319">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605327">r</span><span class="op" id="7605328">,</span>&nbsp;<span class="ident" id="7605330">dr</span><span class="op" id="7605332">,</span>&nbsp;<span class="ident" id="7605334">sr</span><span class="op" id="7605336">,</span>&nbsp;<span class="ident" id="7605338">mr</span>&nbsp;<span class="ident" id="7605341">image</span><span class="op" id="7605346">.</span><span class="ident" id="7605347">Rectangle</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605358">sp</span><span class="op" id="7605360">,</span>&nbsp;<span class="ident" id="7605362">mp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7605372">image</span><span class="op" id="7605377">.</span><span class="ident" id="7605378">Point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605385">nilMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7605399">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605405">r0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7605419">image</span><span class="op" id="7605424">.</span><span class="ident" id="7605425">Rectangle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605436">sp0</span><span class="op" id="7605439">,</span>&nbsp;<span class="ident" id="7605441">mp0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7605450">image</span><span class="op" id="7605455">.</span><span class="ident" id="7605456">Point</span><br>
<span class="lineno"></span><span class="op" id="7605462">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7605465">var</span>&nbsp;<span class="ident" id="7605469">clipTests</span>&nbsp;<span class="op" id="7605479">=</span>&nbsp;<span class="op" id="7605481">[</span><span class="op" id="7605482">]</span><span class="ident" id="7605483">clipTest</span><span class="op" id="7605491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7605494">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7605539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7605543">&#34;basic&#34;</span><span class="op" id="7605550">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605554">image</span><span class="op" id="7605559">.</span><span class="ident" id="7605560">Rect</span><span class="op" id="7605564">(</span><span class="num" id="7605565">0</span><span class="op" id="7605566">,</span>&nbsp;<span class="num" id="7605568">0</span><span class="op" id="7605569">,</span>&nbsp;<span class="num" id="7605571">100</span><span class="op" id="7605574">,</span>&nbsp;<span class="num" id="7605576">100</span><span class="op" id="7605579">)</span><span class="op" id="7605580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605584">image</span><span class="op" id="7605589">.</span><span class="ident" id="7605590">Rect</span><span class="op" id="7605594">(</span><span class="num" id="7605595">0</span><span class="op" id="7605596">,</span>&nbsp;<span class="num" id="7605598">0</span><span class="op" id="7605599">,</span>&nbsp;<span class="num" id="7605601">100</span><span class="op" id="7605604">,</span>&nbsp;<span class="num" id="7605606">100</span><span class="op" id="7605609">)</span><span class="op" id="7605610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605614">image</span><span class="op" id="7605619">.</span><span class="ident" id="7605620">Rect</span><span class="op" id="7605624">(</span><span class="num" id="7605625">0</span><span class="op" id="7605626">,</span>&nbsp;<span class="num" id="7605628">0</span><span class="op" id="7605629">,</span>&nbsp;<span class="num" id="7605631">100</span><span class="op" id="7605634">,</span>&nbsp;<span class="num" id="7605636">100</span><span class="op" id="7605639">)</span><span class="op" id="7605640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605644">image</span><span class="op" id="7605649">.</span><span class="ident" id="7605650">ZR</span><span class="op" id="7605652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605656">image</span><span class="op" id="7605661">.</span><span class="ident" id="7605662">ZP</span><span class="op" id="7605664">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605668">image</span><span class="op" id="7605673">.</span><span class="ident" id="7605674">ZP</span><span class="op" id="7605676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605680">true</span><span class="op" id="7605684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605688">image</span><span class="op" id="7605693">.</span><span class="ident" id="7605694">Rect</span><span class="op" id="7605698">(</span><span class="num" id="7605699">0</span><span class="op" id="7605700">,</span>&nbsp;<span class="num" id="7605702">0</span><span class="op" id="7605703">,</span>&nbsp;<span class="num" id="7605705">100</span><span class="op" id="7605708">,</span>&nbsp;<span class="num" id="7605710">100</span><span class="op" id="7605713">)</span><span class="op" id="7605714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605718">image</span><span class="op" id="7605723">.</span><span class="ident" id="7605724">ZP</span><span class="op" id="7605726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605730">image</span><span class="op" id="7605735">.</span><span class="ident" id="7605736">ZP</span><span class="op" id="7605738">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7605741">}</span><span class="op" id="7605742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7605745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7605749">&#34;clip&nbsp;dr&#34;</span><span class="op" id="7605758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605762">image</span><span class="op" id="7605767">.</span><span class="ident" id="7605768">Rect</span><span class="op" id="7605772">(</span><span class="num" id="7605773">0</span><span class="op" id="7605774">,</span>&nbsp;<span class="num" id="7605776">0</span><span class="op" id="7605777">,</span>&nbsp;<span class="num" id="7605779">100</span><span class="op" id="7605782">,</span>&nbsp;<span class="num" id="7605784">100</span><span class="op" id="7605787">)</span><span class="op" id="7605788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605792">image</span><span class="op" id="7605797">.</span><span class="ident" id="7605798">Rect</span><span class="op" id="7605802">(</span><span class="num" id="7605803">40</span><span class="op" id="7605805">,</span>&nbsp;<span class="num" id="7605807">40</span><span class="op" id="7605809">,</span>&nbsp;<span class="num" id="7605811">60</span><span class="op" id="7605813">,</span>&nbsp;<span class="num" id="7605815">60</span><span class="op" id="7605817">)</span><span class="op" id="7605818">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605822">image</span><span class="op" id="7605827">.</span><span class="ident" id="7605828">Rect</span><span class="op" id="7605832">(</span><span class="num" id="7605833">0</span><span class="op" id="7605834">,</span>&nbsp;<span class="num" id="7605836">0</span><span class="op" id="7605837">,</span>&nbsp;<span class="num" id="7605839">100</span><span class="op" id="7605842">,</span>&nbsp;<span class="num" id="7605844">100</span><span class="op" id="7605847">)</span><span class="op" id="7605848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605852">image</span><span class="op" id="7605857">.</span><span class="ident" id="7605858">ZR</span><span class="op" id="7605860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605864">image</span><span class="op" id="7605869">.</span><span class="ident" id="7605870">ZP</span><span class="op" id="7605872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605876">image</span><span class="op" id="7605881">.</span><span class="ident" id="7605882">ZP</span><span class="op" id="7605884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605888">true</span><span class="op" id="7605892">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605896">image</span><span class="op" id="7605901">.</span><span class="ident" id="7605902">Rect</span><span class="op" id="7605906">(</span><span class="num" id="7605907">40</span><span class="op" id="7605909">,</span>&nbsp;<span class="num" id="7605911">40</span><span class="op" id="7605913">,</span>&nbsp;<span class="num" id="7605915">60</span><span class="op" id="7605917">,</span>&nbsp;<span class="num" id="7605919">60</span><span class="op" id="7605921">)</span><span class="op" id="7605922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605926">image</span><span class="op" id="7605931">.</span><span class="ident" id="7605932">Pt</span><span class="op" id="7605934">(</span><span class="num" id="7605935">40</span><span class="op" id="7605937">,</span>&nbsp;<span class="num" id="7605939">40</span><span class="op" id="7605941">)</span><span class="op" id="7605942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605946">image</span><span class="op" id="7605951">.</span><span class="ident" id="7605952">ZP</span><span class="op" id="7605954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7605957">}</span><span class="op" id="7605958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7605961">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7605965">&#34;clip&nbsp;sr&#34;</span><span class="op" id="7605974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7605978">image</span><span class="op" id="7605983">.</span><span class="ident" id="7605984">Rect</span><span class="op" id="7605988">(</span><span class="num" id="7605989">0</span><span class="op" id="7605990">,</span>&nbsp;<span class="num" id="7605992">0</span><span class="op" id="7605993">,</span>&nbsp;<span class="num" id="7605995">100</span><span class="op" id="7605998">,</span>&nbsp;<span class="num" id="7606000">100</span><span class="op" id="7606003">)</span><span class="op" id="7606004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606008">image</span><span class="op" id="7606013">.</span><span class="ident" id="7606014">Rect</span><span class="op" id="7606018">(</span><span class="num" id="7606019">0</span><span class="op" id="7606020">,</span>&nbsp;<span class="num" id="7606022">0</span><span class="op" id="7606023">,</span>&nbsp;<span class="num" id="7606025">100</span><span class="op" id="7606028">,</span>&nbsp;<span class="num" id="7606030">100</span><span class="op" id="7606033">)</span><span class="op" id="7606034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606038">image</span><span class="op" id="7606043">.</span><span class="ident" id="7606044">Rect</span><span class="op" id="7606048">(</span><span class="num" id="7606049">20</span><span class="op" id="7606051">,</span>&nbsp;<span class="num" id="7606053">20</span><span class="op" id="7606055">,</span>&nbsp;<span class="num" id="7606057">80</span><span class="op" id="7606059">,</span>&nbsp;<span class="num" id="7606061">80</span><span class="op" id="7606063">)</span><span class="op" id="7606064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606068">image</span><span class="op" id="7606073">.</span><span class="ident" id="7606074">ZR</span><span class="op" id="7606076">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606080">image</span><span class="op" id="7606085">.</span><span class="ident" id="7606086">ZP</span><span class="op" id="7606088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606092">image</span><span class="op" id="7606097">.</span><span class="ident" id="7606098">ZP</span><span class="op" id="7606100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606104">true</span><span class="op" id="7606108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606112">image</span><span class="op" id="7606117">.</span><span class="ident" id="7606118">Rect</span><span class="op" id="7606122">(</span><span class="num" id="7606123">20</span><span class="op" id="7606125">,</span>&nbsp;<span class="num" id="7606127">20</span><span class="op" id="7606129">,</span>&nbsp;<span class="num" id="7606131">80</span><span class="op" id="7606133">,</span>&nbsp;<span class="num" id="7606135">80</span><span class="op" id="7606137">)</span><span class="op" id="7606138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606142">image</span><span class="op" id="7606147">.</span><span class="ident" id="7606148">Pt</span><span class="op" id="7606150">(</span><span class="num" id="7606151">20</span><span class="op" id="7606153">,</span>&nbsp;<span class="num" id="7606155">20</span><span class="op" id="7606157">)</span><span class="op" id="7606158">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606162">image</span><span class="op" id="7606167">.</span><span class="ident" id="7606168">ZP</span><span class="op" id="7606170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7606173">}</span><span class="op" id="7606174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7606177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7606181">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr&#34;</span><span class="op" id="7606197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606201">image</span><span class="op" id="7606206">.</span><span class="ident" id="7606207">Rect</span><span class="op" id="7606211">(</span><span class="num" id="7606212">0</span><span class="op" id="7606213">,</span>&nbsp;<span class="num" id="7606215">0</span><span class="op" id="7606216">,</span>&nbsp;<span class="num" id="7606218">100</span><span class="op" id="7606221">,</span>&nbsp;<span class="num" id="7606223">100</span><span class="op" id="7606226">)</span><span class="op" id="7606227">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606231">image</span><span class="op" id="7606236">.</span><span class="ident" id="7606237">Rect</span><span class="op" id="7606241">(</span><span class="num" id="7606242">0</span><span class="op" id="7606243">,</span>&nbsp;<span class="num" id="7606245">0</span><span class="op" id="7606246">,</span>&nbsp;<span class="num" id="7606248">50</span><span class="op" id="7606250">,</span>&nbsp;<span class="num" id="7606252">100</span><span class="op" id="7606255">)</span><span class="op" id="7606256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606260">image</span><span class="op" id="7606265">.</span><span class="ident" id="7606266">Rect</span><span class="op" id="7606270">(</span><span class="num" id="7606271">20</span><span class="op" id="7606273">,</span>&nbsp;<span class="num" id="7606275">20</span><span class="op" id="7606277">,</span>&nbsp;<span class="num" id="7606279">80</span><span class="op" id="7606281">,</span>&nbsp;<span class="num" id="7606283">80</span><span class="op" id="7606285">)</span><span class="op" id="7606286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606290">image</span><span class="op" id="7606295">.</span><span class="ident" id="7606296">ZR</span><span class="op" id="7606298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606302">image</span><span class="op" id="7606307">.</span><span class="ident" id="7606308">ZP</span><span class="op" id="7606310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606314">image</span><span class="op" id="7606319">.</span><span class="ident" id="7606320">ZP</span><span class="op" id="7606322">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606326">true</span><span class="op" id="7606330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606334">image</span><span class="op" id="7606339">.</span><span class="ident" id="7606340">Rect</span><span class="op" id="7606344">(</span><span class="num" id="7606345">20</span><span class="op" id="7606347">,</span>&nbsp;<span class="num" id="7606349">20</span><span class="op" id="7606351">,</span>&nbsp;<span class="num" id="7606353">50</span><span class="op" id="7606355">,</span>&nbsp;<span class="num" id="7606357">80</span><span class="op" id="7606359">)</span><span class="op" id="7606360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606364">image</span><span class="op" id="7606369">.</span><span class="ident" id="7606370">Pt</span><span class="op" id="7606372">(</span><span class="num" id="7606373">20</span><span class="op" id="7606375">,</span>&nbsp;<span class="num" id="7606377">20</span><span class="op" id="7606379">)</span><span class="op" id="7606380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606384">image</span><span class="op" id="7606389">.</span><span class="ident" id="7606390">ZP</span><span class="op" id="7606392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7606395">}</span><span class="op" id="7606396">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7606399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7606403">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(top-left)&#34;</span><span class="op" id="7606445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606449">image</span><span class="op" id="7606454">.</span><span class="ident" id="7606455">Rect</span><span class="op" id="7606459">(</span><span class="num" id="7606460">0</span><span class="op" id="7606461">,</span>&nbsp;<span class="num" id="7606463">0</span><span class="op" id="7606464">,</span>&nbsp;<span class="num" id="7606466">100</span><span class="op" id="7606469">,</span>&nbsp;<span class="num" id="7606471">100</span><span class="op" id="7606474">)</span><span class="op" id="7606475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606479">image</span><span class="op" id="7606484">.</span><span class="ident" id="7606485">Rect</span><span class="op" id="7606489">(</span><span class="num" id="7606490">0</span><span class="op" id="7606491">,</span>&nbsp;<span class="num" id="7606493">0</span><span class="op" id="7606494">,</span>&nbsp;<span class="num" id="7606496">50</span><span class="op" id="7606498">,</span>&nbsp;<span class="num" id="7606500">100</span><span class="op" id="7606503">)</span><span class="op" id="7606504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606508">image</span><span class="op" id="7606513">.</span><span class="ident" id="7606514">Rect</span><span class="op" id="7606518">(</span><span class="num" id="7606519">20</span><span class="op" id="7606521">,</span>&nbsp;<span class="num" id="7606523">20</span><span class="op" id="7606525">,</span>&nbsp;<span class="num" id="7606527">80</span><span class="op" id="7606529">,</span>&nbsp;<span class="num" id="7606531">80</span><span class="op" id="7606533">)</span><span class="op" id="7606534">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606538">image</span><span class="op" id="7606543">.</span><span class="ident" id="7606544">ZR</span><span class="op" id="7606546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606550">image</span><span class="op" id="7606555">.</span><span class="ident" id="7606556">Pt</span><span class="op" id="7606558">(</span><span class="num" id="7606559">15</span><span class="op" id="7606561">,</span>&nbsp;<span class="num" id="7606563">8</span><span class="op" id="7606564">)</span><span class="op" id="7606565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606569">image</span><span class="op" id="7606574">.</span><span class="ident" id="7606575">ZP</span><span class="op" id="7606577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606581">true</span><span class="op" id="7606585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606589">image</span><span class="op" id="7606594">.</span><span class="ident" id="7606595">Rect</span><span class="op" id="7606599">(</span><span class="num" id="7606600">5</span><span class="op" id="7606601">,</span>&nbsp;<span class="num" id="7606603">12</span><span class="op" id="7606605">,</span>&nbsp;<span class="num" id="7606607">50</span><span class="op" id="7606609">,</span>&nbsp;<span class="num" id="7606611">72</span><span class="op" id="7606613">)</span><span class="op" id="7606614">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606618">image</span><span class="op" id="7606623">.</span><span class="ident" id="7606624">Pt</span><span class="op" id="7606626">(</span><span class="num" id="7606627">20</span><span class="op" id="7606629">,</span>&nbsp;<span class="num" id="7606631">20</span><span class="op" id="7606633">)</span><span class="op" id="7606634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606638">image</span><span class="op" id="7606643">.</span><span class="ident" id="7606644">ZP</span><span class="op" id="7606646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7606649">}</span><span class="op" id="7606650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7606653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7606657">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(middle-left)&#34;</span><span class="op" id="7606702">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606706">image</span><span class="op" id="7606711">.</span><span class="ident" id="7606712">Rect</span><span class="op" id="7606716">(</span><span class="num" id="7606717">0</span><span class="op" id="7606718">,</span>&nbsp;<span class="num" id="7606720">0</span><span class="op" id="7606721">,</span>&nbsp;<span class="num" id="7606723">100</span><span class="op" id="7606726">,</span>&nbsp;<span class="num" id="7606728">100</span><span class="op" id="7606731">)</span><span class="op" id="7606732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606736">image</span><span class="op" id="7606741">.</span><span class="ident" id="7606742">Rect</span><span class="op" id="7606746">(</span><span class="num" id="7606747">0</span><span class="op" id="7606748">,</span>&nbsp;<span class="num" id="7606750">0</span><span class="op" id="7606751">,</span>&nbsp;<span class="num" id="7606753">50</span><span class="op" id="7606755">,</span>&nbsp;<span class="num" id="7606757">100</span><span class="op" id="7606760">)</span><span class="op" id="7606761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606765">image</span><span class="op" id="7606770">.</span><span class="ident" id="7606771">Rect</span><span class="op" id="7606775">(</span><span class="num" id="7606776">20</span><span class="op" id="7606778">,</span>&nbsp;<span class="num" id="7606780">20</span><span class="op" id="7606782">,</span>&nbsp;<span class="num" id="7606784">80</span><span class="op" id="7606786">,</span>&nbsp;<span class="num" id="7606788">80</span><span class="op" id="7606790">)</span><span class="op" id="7606791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606795">image</span><span class="op" id="7606800">.</span><span class="ident" id="7606801">ZR</span><span class="op" id="7606803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606807">image</span><span class="op" id="7606812">.</span><span class="ident" id="7606813">Pt</span><span class="op" id="7606815">(</span><span class="num" id="7606816">15</span><span class="op" id="7606818">,</span>&nbsp;<span class="num" id="7606820">66</span><span class="op" id="7606822">)</span><span class="op" id="7606823">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606827">image</span><span class="op" id="7606832">.</span><span class="ident" id="7606833">ZP</span><span class="op" id="7606835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606839">true</span><span class="op" id="7606843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606847">image</span><span class="op" id="7606852">.</span><span class="ident" id="7606853">Rect</span><span class="op" id="7606857">(</span><span class="num" id="7606858">5</span><span class="op" id="7606859">,</span>&nbsp;<span class="num" id="7606861">0</span><span class="op" id="7606862">,</span>&nbsp;<span class="num" id="7606864">50</span><span class="op" id="7606866">,</span>&nbsp;<span class="num" id="7606868">14</span><span class="op" id="7606870">)</span><span class="op" id="7606871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606875">image</span><span class="op" id="7606880">.</span><span class="ident" id="7606881">Pt</span><span class="op" id="7606883">(</span><span class="num" id="7606884">20</span><span class="op" id="7606886">,</span>&nbsp;<span class="num" id="7606888">66</span><span class="op" id="7606890">)</span><span class="op" id="7606891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606895">image</span><span class="op" id="7606900">.</span><span class="ident" id="7606901">ZP</span><span class="op" id="7606903">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7606906">}</span><span class="op" id="7606907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7606910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7606914">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(bottom-left)&#34;</span><span class="op" id="7606959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606963">image</span><span class="op" id="7606968">.</span><span class="ident" id="7606969">Rect</span><span class="op" id="7606973">(</span><span class="num" id="7606974">0</span><span class="op" id="7606975">,</span>&nbsp;<span class="num" id="7606977">0</span><span class="op" id="7606978">,</span>&nbsp;<span class="num" id="7606980">100</span><span class="op" id="7606983">,</span>&nbsp;<span class="num" id="7606985">100</span><span class="op" id="7606988">)</span><span class="op" id="7606989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7606993">image</span><span class="op" id="7606998">.</span><span class="ident" id="7606999">Rect</span><span class="op" id="7607003">(</span><span class="num" id="7607004">0</span><span class="op" id="7607005">,</span>&nbsp;<span class="num" id="7607007">0</span><span class="op" id="7607008">,</span>&nbsp;<span class="num" id="7607010">50</span><span class="op" id="7607012">,</span>&nbsp;<span class="num" id="7607014">100</span><span class="op" id="7607017">)</span><span class="op" id="7607018">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607022">image</span><span class="op" id="7607027">.</span><span class="ident" id="7607028">Rect</span><span class="op" id="7607032">(</span><span class="num" id="7607033">20</span><span class="op" id="7607035">,</span>&nbsp;<span class="num" id="7607037">20</span><span class="op" id="7607039">,</span>&nbsp;<span class="num" id="7607041">80</span><span class="op" id="7607043">,</span>&nbsp;<span class="num" id="7607045">80</span><span class="op" id="7607047">)</span><span class="op" id="7607048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607052">image</span><span class="op" id="7607057">.</span><span class="ident" id="7607058">ZR</span><span class="op" id="7607060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607064">image</span><span class="op" id="7607069">.</span><span class="ident" id="7607070">Pt</span><span class="op" id="7607072">(</span><span class="num" id="7607073">15</span><span class="op" id="7607075">,</span>&nbsp;<span class="num" id="7607077">91</span><span class="op" id="7607079">)</span><span class="op" id="7607080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607084">image</span><span class="op" id="7607089">.</span><span class="ident" id="7607090">ZP</span><span class="op" id="7607092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607096">true</span><span class="op" id="7607100">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607104">image</span><span class="op" id="7607109">.</span><span class="ident" id="7607110">ZR</span><span class="op" id="7607112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607116">image</span><span class="op" id="7607121">.</span><span class="ident" id="7607122">Pt</span><span class="op" id="7607124">(</span><span class="num" id="7607125">15</span><span class="op" id="7607127">,</span>&nbsp;<span class="num" id="7607129">91</span><span class="op" id="7607131">)</span><span class="op" id="7607132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607136">image</span><span class="op" id="7607141">.</span><span class="ident" id="7607142">ZP</span><span class="op" id="7607144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7607147">}</span><span class="op" id="7607148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7607151">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7607155">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;inside&nbsp;sr&#34;</span><span class="op" id="7607185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607189">image</span><span class="op" id="7607194">.</span><span class="ident" id="7607195">Rect</span><span class="op" id="7607199">(</span><span class="num" id="7607200">0</span><span class="op" id="7607201">,</span>&nbsp;<span class="num" id="7607203">0</span><span class="op" id="7607204">,</span>&nbsp;<span class="num" id="7607206">100</span><span class="op" id="7607209">,</span>&nbsp;<span class="num" id="7607211">100</span><span class="op" id="7607214">)</span><span class="op" id="7607215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607219">image</span><span class="op" id="7607224">.</span><span class="ident" id="7607225">Rect</span><span class="op" id="7607229">(</span><span class="num" id="7607230">0</span><span class="op" id="7607231">,</span>&nbsp;<span class="num" id="7607233">0</span><span class="op" id="7607234">,</span>&nbsp;<span class="num" id="7607236">50</span><span class="op" id="7607238">,</span>&nbsp;<span class="num" id="7607240">100</span><span class="op" id="7607243">)</span><span class="op" id="7607244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607248">image</span><span class="op" id="7607253">.</span><span class="ident" id="7607254">Rect</span><span class="op" id="7607258">(</span><span class="num" id="7607259">20</span><span class="op" id="7607261">,</span>&nbsp;<span class="num" id="7607263">20</span><span class="op" id="7607265">,</span>&nbsp;<span class="num" id="7607267">80</span><span class="op" id="7607269">,</span>&nbsp;<span class="num" id="7607271">80</span><span class="op" id="7607273">)</span><span class="op" id="7607274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607278">image</span><span class="op" id="7607283">.</span><span class="ident" id="7607284">ZR</span><span class="op" id="7607286">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607290">image</span><span class="op" id="7607295">.</span><span class="ident" id="7607296">Pt</span><span class="op" id="7607298">(</span><span class="num" id="7607299">44</span><span class="op" id="7607301">,</span>&nbsp;<span class="num" id="7607303">33</span><span class="op" id="7607305">)</span><span class="op" id="7607306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607310">image</span><span class="op" id="7607315">.</span><span class="ident" id="7607316">ZP</span><span class="op" id="7607318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607322">true</span><span class="op" id="7607326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607330">image</span><span class="op" id="7607335">.</span><span class="ident" id="7607336">Rect</span><span class="op" id="7607340">(</span><span class="num" id="7607341">0</span><span class="op" id="7607342">,</span>&nbsp;<span class="num" id="7607344">0</span><span class="op" id="7607345">,</span>&nbsp;<span class="num" id="7607347">36</span><span class="op" id="7607349">,</span>&nbsp;<span class="num" id="7607351">47</span><span class="op" id="7607353">)</span><span class="op" id="7607354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607358">image</span><span class="op" id="7607363">.</span><span class="ident" id="7607364">Pt</span><span class="op" id="7607366">(</span><span class="num" id="7607367">44</span><span class="op" id="7607369">,</span>&nbsp;<span class="num" id="7607371">33</span><span class="op" id="7607373">)</span><span class="op" id="7607374">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607378">image</span><span class="op" id="7607383">.</span><span class="ident" id="7607384">ZP</span><span class="op" id="7607386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7607389">}</span><span class="op" id="7607390">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7607394">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;non-nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7607443">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7607447">&#34;basic&nbsp;mask&#34;</span><span class="op" id="7607459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607463">image</span><span class="op" id="7607468">.</span><span class="ident" id="7607469">Rect</span><span class="op" id="7607473">(</span><span class="num" id="7607474">0</span><span class="op" id="7607475">,</span>&nbsp;<span class="num" id="7607477">0</span><span class="op" id="7607478">,</span>&nbsp;<span class="num" id="7607480">80</span><span class="op" id="7607482">,</span>&nbsp;<span class="num" id="7607484">80</span><span class="op" id="7607486">)</span><span class="op" id="7607487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607491">image</span><span class="op" id="7607496">.</span><span class="ident" id="7607497">Rect</span><span class="op" id="7607501">(</span><span class="num" id="7607502">20</span><span class="op" id="7607504">,</span>&nbsp;<span class="num" id="7607506">0</span><span class="op" id="7607507">,</span>&nbsp;<span class="num" id="7607509">100</span><span class="op" id="7607512">,</span>&nbsp;<span class="num" id="7607514">80</span><span class="op" id="7607516">)</span><span class="op" id="7607517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607521">image</span><span class="op" id="7607526">.</span><span class="ident" id="7607527">Rect</span><span class="op" id="7607531">(</span><span class="num" id="7607532">0</span><span class="op" id="7607533">,</span>&nbsp;<span class="num" id="7607535">0</span><span class="op" id="7607536">,</span>&nbsp;<span class="num" id="7607538">50</span><span class="op" id="7607540">,</span>&nbsp;<span class="num" id="7607542">49</span><span class="op" id="7607544">)</span><span class="op" id="7607545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607549">image</span><span class="op" id="7607554">.</span><span class="ident" id="7607555">Rect</span><span class="op" id="7607559">(</span><span class="num" id="7607560">0</span><span class="op" id="7607561">,</span>&nbsp;<span class="num" id="7607563">0</span><span class="op" id="7607564">,</span>&nbsp;<span class="num" id="7607566">46</span><span class="op" id="7607568">,</span>&nbsp;<span class="num" id="7607570">47</span><span class="op" id="7607572">)</span><span class="op" id="7607573">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607577">image</span><span class="op" id="7607582">.</span><span class="ident" id="7607583">ZP</span><span class="op" id="7607585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607589">image</span><span class="op" id="7607594">.</span><span class="ident" id="7607595">ZP</span><span class="op" id="7607597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607601">false</span><span class="op" id="7607606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607610">image</span><span class="op" id="7607615">.</span><span class="ident" id="7607616">Rect</span><span class="op" id="7607620">(</span><span class="num" id="7607621">20</span><span class="op" id="7607623">,</span>&nbsp;<span class="num" id="7607625">0</span><span class="op" id="7607626">,</span>&nbsp;<span class="num" id="7607628">46</span><span class="op" id="7607630">,</span>&nbsp;<span class="num" id="7607632">47</span><span class="op" id="7607634">)</span><span class="op" id="7607635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607639">image</span><span class="op" id="7607644">.</span><span class="ident" id="7607645">Pt</span><span class="op" id="7607647">(</span><span class="num" id="7607648">20</span><span class="op" id="7607650">,</span>&nbsp;<span class="num" id="7607652">0</span><span class="op" id="7607653">)</span><span class="op" id="7607654">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607658">image</span><span class="op" id="7607663">.</span><span class="ident" id="7607664">Pt</span><span class="op" id="7607666">(</span><span class="num" id="7607667">20</span><span class="op" id="7607669">,</span>&nbsp;<span class="num" id="7607671">0</span><span class="op" id="7607672">)</span><span class="op" id="7607673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7607676">}</span><span class="op" id="7607677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7607680">//&nbsp;TODO(nigeltao):&nbsp;write&nbsp;more&nbsp;tests.</span><br>
<span class="lineno"></span><span class="op" id="7607717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="7607720">func</span>&nbsp;<span class="ident" id="7607725">TestClip</span><span class="op" id="7607733">(</span><span class="ident" id="7607734">t</span>&nbsp;<span class="op" id="7607736">*</span><span class="ident" id="7607737">testing</span><span class="op" id="7607744">.</span><span class="ident" id="7607745">T</span><span class="op" id="7607746">)</span>&nbsp;<span class="op" id="7607748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607751">dst0</span>&nbsp;<span class="op" id="7607756">:=</span>&nbsp;<span class="ident" id="7607759">image</span><span class="op" id="7607764">.</span><span class="ident" id="7607765">NewRGBA</span><span class="op" id="7607772">(</span><span class="ident" id="7607773">image</span><span class="op" id="7607778">.</span><span class="ident" id="7607779">Rect</span><span class="op" id="7607783">(</span><span class="num" id="7607784">0</span><span class="op" id="7607785">,</span>&nbsp;<span class="num" id="7607787">0</span><span class="op" id="7607788">,</span>&nbsp;<span class="num" id="7607790">100</span><span class="op" id="7607793">,</span>&nbsp;<span class="num" id="7607795">100</span><span class="op" id="7607798">)</span><span class="op" id="7607799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607802">src0</span>&nbsp;<span class="op" id="7607807">:=</span>&nbsp;<span class="ident" id="7607810">image</span><span class="op" id="7607815">.</span><span class="ident" id="7607816">NewRGBA</span><span class="op" id="7607823">(</span><span class="ident" id="7607824">image</span><span class="op" id="7607829">.</span><span class="ident" id="7607830">Rect</span><span class="op" id="7607834">(</span><span class="num" id="7607835">0</span><span class="op" id="7607836">,</span>&nbsp;<span class="num" id="7607838">0</span><span class="op" id="7607839">,</span>&nbsp;<span class="num" id="7607841">100</span><span class="op" id="7607844">,</span>&nbsp;<span class="num" id="7607846">100</span><span class="op" id="7607849">)</span><span class="op" id="7607850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607853">mask0</span>&nbsp;<span class="op" id="7607859">:=</span>&nbsp;<span class="ident" id="7607862">image</span><span class="op" id="7607867">.</span><span class="ident" id="7607868">NewRGBA</span><span class="op" id="7607875">(</span><span class="ident" id="7607876">image</span><span class="op" id="7607881">.</span><span class="ident" id="7607882">Rect</span><span class="op" id="7607886">(</span><span class="num" id="7607887">0</span><span class="op" id="7607888">,</span>&nbsp;<span class="num" id="7607890">0</span><span class="op" id="7607891">,</span>&nbsp;<span class="num" id="7607893">100</span><span class="op" id="7607896">,</span>&nbsp;<span class="num" id="7607898">100</span><span class="op" id="7607901">)</span><span class="op" id="7607902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7607905">for</span>&nbsp;<span class="ident" id="7607909">_</span><span class="op" id="7607910">,</span>&nbsp;<span class="ident" id="7607912">c</span>&nbsp;<span class="op" id="7607914">:=</span>&nbsp;<span class="keyword" id="7607917">range</span>&nbsp;<span class="ident" id="7607923">clipTests</span>&nbsp;<span class="op" id="7607933">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607937">dst</span>&nbsp;<span class="op" id="7607941">:=</span>&nbsp;<span class="ident" id="7607944">dst0</span><span class="op" id="7607948">.</span><span class="ident" id="7607949">SubImage</span><span class="op" id="7607957">(</span><span class="ident" id="7607958">c</span><span class="op" id="7607959">.</span><span class="ident" id="7607960">dr</span><span class="op" id="7607962">)</span><span class="op" id="7607963">.</span><span class="op" id="7607964">(</span><span class="op" id="7607965">*</span><span class="ident" id="7607966">image</span><span class="op" id="7607971">.</span><span class="ident" id="7607972">RGBA</span><span class="op" id="7607976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7607980">src</span>&nbsp;<span class="op" id="7607984">:=</span>&nbsp;<span class="ident" id="7607987">src0</span><span class="op" id="7607991">.</span><span class="ident" id="7607992">SubImage</span><span class="op" id="7608000">(</span><span class="ident" id="7608001">c</span><span class="op" id="7608002">.</span><span class="ident" id="7608003">sr</span><span class="op" id="7608005">)</span><span class="op" id="7608006">.</span><span class="op" id="7608007">(</span><span class="op" id="7608008">*</span><span class="ident" id="7608009">image</span><span class="op" id="7608014">.</span><span class="ident" id="7608015">RGBA</span><span class="op" id="7608019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608023">var</span>&nbsp;<span class="ident" id="7608027">mask</span>&nbsp;<span class="ident" id="7608032">image</span><span class="op" id="7608037">.</span><span class="ident" id="7608038">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608046">if</span>&nbsp;<span class="op" id="7608049">!</span><span class="ident" id="7608050">c</span><span class="op" id="7608051">.</span><span class="ident" id="7608052">nilMask</span>&nbsp;<span class="op" id="7608060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7608065">mask</span>&nbsp;<span class="op" id="7608070">=</span>&nbsp;<span class="ident" id="7608072">mask0</span><span class="op" id="7608077">.</span><span class="ident" id="7608078">SubImage</span><span class="op" id="7608086">(</span><span class="ident" id="7608087">c</span><span class="op" id="7608088">.</span><span class="ident" id="7608089">mr</span><span class="op" id="7608091">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7608095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7608099">r</span><span class="op" id="7608100">,</span>&nbsp;<span class="ident" id="7608102">sp</span><span class="op" id="7608104">,</span>&nbsp;<span class="ident" id="7608106">mp</span>&nbsp;<span class="op" id="7608109">:=</span>&nbsp;<span class="ident" id="7608112">c</span><span class="op" id="7608113">.</span><span class="ident" id="7608114">r</span><span class="op" id="7608115">,</span>&nbsp;<span class="ident" id="7608117">c</span><span class="op" id="7608118">.</span><span class="ident" id="7608119">sp</span><span class="op" id="7608121">,</span>&nbsp;<span class="ident" id="7608123">c</span><span class="op" id="7608124">.</span><span class="ident" id="7608125">mp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7608130">clip</span><span class="op" id="7608134">(</span><span class="ident" id="7608135">dst</span><span class="op" id="7608138">,</span>&nbsp;<span class="op" id="7608140">&amp;</span><span class="ident" id="7608141">r</span><span class="op" id="7608142">,</span>&nbsp;<span class="ident" id="7608144">src</span><span class="op" id="7608147">,</span>&nbsp;<span class="op" id="7608149">&amp;</span><span class="ident" id="7608150">sp</span><span class="op" id="7608152">,</span>&nbsp;<span class="ident" id="7608154">mask</span><span class="op" id="7608158">,</span>&nbsp;<span class="op" id="7608160">&amp;</span><span class="ident" id="7608161">mp</span><span class="op" id="7608163">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7608168">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;actual&nbsp;results&nbsp;equal&nbsp;the&nbsp;expected&nbsp;results.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608231">if</span>&nbsp;<span class="op" id="7608234">!</span><span class="ident" id="7608235">c</span><span class="op" id="7608236">.</span><span class="ident" id="7608237">r0</span><span class="op" id="7608239">.</span><span class="ident" id="7608240">Eq</span><span class="op" id="7608242">(</span><span class="ident" id="7608243">r</span><span class="op" id="7608244">)</span>&nbsp;<span class="op" id="7608246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7608251">t</span><span class="op" id="7608252">.</span><span class="ident" id="7608253">Errorf</span><span class="op" id="7608259">(</span><span class="string" id="7608260">&#34;%s:&nbsp;clip&nbsp;rectangle&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7608295">,</span>&nbsp;<span class="ident" id="7608297">c</span><span class="op" id="7608298">.</span><span class="ident" id="7608299">desc</span><span class="op" id="7608303">,</span>&nbsp;<span class="ident" id="7608305">c</span><span class="op" id="7608306">.</span><span class="ident" id="7608307">r0</span><span class="op" id="7608309">,</span>&nbsp;<span class="ident" id="7608311">r</span><span class="op" id="7608312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608317">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7608328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608332">if</span>&nbsp;<span class="op" id="7608335">!</span><span class="ident" id="7608336">c</span><span class="op" id="7608337">.</span><span class="ident" id="7608338">sp0</span><span class="op" id="7608341">.</span><span class="ident" id="7608342">Eq</span><span class="op" id="7608344">(</span><span class="ident" id="7608345">sp</span><span class="op" id="7608347">)</span>&nbsp;<span class="op" id="7608349">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7608354">t</span><span class="op" id="7608355">.</span><span class="ident" id="7608356">Errorf</span><span class="op" id="7608362">(</span><span class="string" id="7608363">&#34;%s:&nbsp;sp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7608386">,</span>&nbsp;<span class="ident" id="7608388">c</span><span class="op" id="7608389">.</span><span class="ident" id="7608390">desc</span><span class="op" id="7608394">,</span>&nbsp;<span class="ident" id="7608396">c</span><span class="op" id="7608397">.</span><span class="ident" id="7608398">sp0</span><span class="op" id="7608401">,</span>&nbsp;<span class="ident" id="7608403">sp</span><span class="op" id="7608405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608410">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7608421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608425">if</span>&nbsp;<span class="op" id="7608428">!</span><span class="ident" id="7608429">c</span><span class="op" id="7608430">.</span><span class="ident" id="7608431">nilMask</span>&nbsp;<span class="op" id="7608439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608444">if</span>&nbsp;<span class="op" id="7608447">!</span><span class="ident" id="7608448">c</span><span class="op" id="7608449">.</span><span class="ident" id="7608450">mp0</span><span class="op" id="7608453">.</span><span class="ident" id="7608454">Eq</span><span class="op" id="7608456">(</span><span class="ident" id="7608457">mp</span><span class="op" id="7608459">)</span>&nbsp;<span class="op" id="7608461">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7608467">t</span><span class="op" id="7608468">.</span><span class="ident" id="7608469">Errorf</span><span class="op" id="7608475">(</span><span class="string" id="7608476">&#34;%s:&nbsp;mp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7608499">,</span>&nbsp;<span class="ident" id="7608501">c</span><span class="op" id="7608502">.</span><span class="ident" id="7608503">desc</span><span class="op" id="7608507">,</span>&nbsp;<span class="ident" id="7608509">c</span><span class="op" id="7608510">.</span><span class="ident" id="7608511">mp0</span><span class="op" id="7608514">,</span>&nbsp;<span class="ident" id="7608516">mp</span><span class="op" id="7608518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608524">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7608536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7608540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7608545">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;clipped&nbsp;rectangle&nbsp;is&nbsp;contained&nbsp;by&nbsp;the&nbsp;dst&nbsp;/&nbsp;src&nbsp;/&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7608620">//&nbsp;rectangles,&nbsp;in&nbsp;their&nbsp;respective&nbsp;co-ordinate&nbsp;spaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608677">if</span>&nbsp;<span class="op" id="7608680">!</span><span class="ident" id="7608681">r</span><span class="op" id="7608682">.</span><span class="ident" id="7608683">In</span><span class="op" id="7608685">(</span><span class="ident" id="7608686">c</span><span class="op" id="7608687">.</span><span class="ident" id="7608688">dr</span><span class="op" id="7608690">)</span>&nbsp;<span class="op" id="7608692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7608697">t</span><span class="op" id="7608698">.</span><span class="ident" id="7608699">Errorf</span><span class="op" id="7608705">(</span><span class="string" id="7608706">&#34;%s:&nbsp;c.dr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;r&nbsp;%v&#34;</span><span class="op" id="7608741">,</span>&nbsp;<span class="ident" id="7608743">c</span><span class="op" id="7608744">.</span><span class="ident" id="7608745">desc</span><span class="op" id="7608749">,</span>&nbsp;<span class="ident" id="7608751">c</span><span class="op" id="7608752">.</span><span class="ident" id="7608753">dr</span><span class="op" id="7608755">,</span>&nbsp;<span class="ident" id="7608757">r</span><span class="op" id="7608758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7608762">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7608766">//&nbsp;sr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;src&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7608820">sr</span>&nbsp;<span class="op" id="7608823">:=</span>&nbsp;<span class="ident" id="7608826">r</span><span class="op" id="7608827">.</span><span class="ident" id="7608828">Add</span><span class="op" id="7608831">(</span><span class="ident" id="7608832">c</span><span class="op" id="7608833">.</span><span class="ident" id="7608834">sp</span><span class="op" id="7608836">.</span><span class="ident" id="7608837">Sub</span><span class="op" id="7608840">(</span><span class="ident" id="7608841">c</span><span class="op" id="7608842">.</span><span class="ident" id="7608843">dr</span><span class="op" id="7608845">.</span><span class="ident" id="7608846">Min</span><span class="op" id="7608849">)</span><span class="op" id="7608850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608854">if</span>&nbsp;<span class="op" id="7608857">!</span><span class="ident" id="7608858">sr</span><span class="op" id="7608860">.</span><span class="ident" id="7608861">In</span><span class="op" id="7608863">(</span><span class="ident" id="7608864">c</span><span class="op" id="7608865">.</span><span class="ident" id="7608866">sr</span><span class="op" id="7608868">)</span>&nbsp;<span class="op" id="7608870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7608875">t</span><span class="op" id="7608876">.</span><span class="ident" id="7608877">Errorf</span><span class="op" id="7608883">(</span><span class="string" id="7608884">&#34;%s:&nbsp;c.sr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;sr&nbsp;%v&#34;</span><span class="op" id="7608920">,</span>&nbsp;<span class="ident" id="7608922">c</span><span class="op" id="7608923">.</span><span class="ident" id="7608924">desc</span><span class="op" id="7608928">,</span>&nbsp;<span class="ident" id="7608930">c</span><span class="op" id="7608931">.</span><span class="ident" id="7608932">sr</span><span class="op" id="7608934">,</span>&nbsp;<span class="ident" id="7608936">sr</span><span class="op" id="7608938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7608942">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7608946">if</span>&nbsp;<span class="op" id="7608949">!</span><span class="ident" id="7608950">c</span><span class="op" id="7608951">.</span><span class="ident" id="7608952">nilMask</span>&nbsp;<span class="op" id="7608960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7608965">//&nbsp;mr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;mask&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7609021">mr</span>&nbsp;<span class="op" id="7609024">:=</span>&nbsp;<span class="ident" id="7609027">r</span><span class="op" id="7609028">.</span><span class="ident" id="7609029">Add</span><span class="op" id="7609032">(</span><span class="ident" id="7609033">c</span><span class="op" id="7609034">.</span><span class="ident" id="7609035">mp</span><span class="op" id="7609037">.</span><span class="ident" id="7609038">Sub</span><span class="op" id="7609041">(</span><span class="ident" id="7609042">c</span><span class="op" id="7609043">.</span><span class="ident" id="7609044">dr</span><span class="op" id="7609046">.</span><span class="ident" id="7609047">Min</span><span class="op" id="7609050">)</span><span class="op" id="7609051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7609056">if</span>&nbsp;<span class="op" id="7609059">!</span><span class="ident" id="7609060">mr</span><span class="op" id="7609062">.</span><span class="ident" id="7609063">In</span><span class="op" id="7609065">(</span><span class="ident" id="7609066">c</span><span class="op" id="7609067">.</span><span class="ident" id="7609068">mr</span><span class="op" id="7609070">)</span>&nbsp;<span class="op" id="7609072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7609078">t</span><span class="op" id="7609079">.</span><span class="ident" id="7609080">Errorf</span><span class="op" id="7609086">(</span><span class="string" id="7609087">&#34;%s:&nbsp;c.mr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;mr&nbsp;%v&#34;</span><span class="op" id="7609123">,</span>&nbsp;<span class="ident" id="7609125">c</span><span class="op" id="7609126">.</span><span class="ident" id="7609127">desc</span><span class="op" id="7609131">,</span>&nbsp;<span class="ident" id="7609133">c</span><span class="op" id="7609134">.</span><span class="ident" id="7609135">mr</span><span class="op" id="7609137">,</span>&nbsp;<span class="ident" id="7609139">mr</span><span class="op" id="7609141">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7609146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7609150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7609153">}</span><br>
<span class="lineno"></span><span class="op" id="7609155">}</span>
</div>
</body>
</html>
