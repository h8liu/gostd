<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html" class="current">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4737631">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4737687">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4737741">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4737792">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="4737830">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="4737891">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4737938">package</span>&nbsp;<span class="ident" id="4737946">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="4737953">import</span>&nbsp;<span class="string" id="4737960">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4737971">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4738031">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="4738089">type</span>&nbsp;<span class="ident" id="4738094">Type</span>&nbsp;<span class="keyword" id="4738099">interface</span>&nbsp;<span class="op" id="4738109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4738112">Common</span><span class="op" id="4738118">(</span><span class="op" id="4738119">)</span>&nbsp;<span class="op" id="4738121">*</span><span class="ident" id="4738122">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4738134">String</span><span class="op" id="4738140">(</span><span class="op" id="4738141">)</span>&nbsp;<span class="builtintype" id="4738143">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4738151">Size</span><span class="op" id="4738155">(</span><span class="op" id="4738156">)</span>&nbsp;<span class="ident" id="4738158">int64</span><br>
<span class="lineno"></span><span class="op" id="4738164">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="4738167">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="4738222">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="4738285">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="4738312">type</span>&nbsp;<span class="ident" id="4738317">CommonType</span>&nbsp;<span class="keyword" id="4738328">struct</span>&nbsp;<span class="op" id="4738335">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4738338">ByteSize</span>&nbsp;<span class="ident" id="4738347">int64</span>&nbsp;&nbsp;<span class="comment" id="4738354">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4738395">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4738404">string</span>&nbsp;<span class="comment" id="4738411">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="4738453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4738456">func</span>&nbsp;<span class="op" id="4738461">(</span><span class="ident" id="4738462">c</span>&nbsp;<span class="op" id="4738464">*</span><span class="ident" id="4738465">CommonType</span><span class="op" id="4738475">)</span>&nbsp;<span class="ident" id="4738477">Common</span><span class="op" id="4738483">(</span><span class="op" id="4738484">)</span>&nbsp;<span class="op" id="4738486">*</span><span class="ident" id="4738487">CommonType</span>&nbsp;<span class="op" id="4738498">{</span>&nbsp;<span class="keyword" id="4738500">return</span>&nbsp;<span class="ident" id="4738507">c</span>&nbsp;<span class="op" id="4738509">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="4738512">func</span>&nbsp;<span class="op" id="4738517">(</span><span class="ident" id="4738518">c</span>&nbsp;<span class="op" id="4738520">*</span><span class="ident" id="4738521">CommonType</span><span class="op" id="4738531">)</span>&nbsp;<span class="ident" id="4738533">Size</span><span class="op" id="4738537">(</span><span class="op" id="4738538">)</span>&nbsp;<span class="ident" id="4738540">int64</span>&nbsp;<span class="op" id="4738546">{</span>&nbsp;<span class="keyword" id="4738548">return</span>&nbsp;<span class="ident" id="4738555">c</span><span class="op" id="4738556">.</span><span class="ident" id="4738557">ByteSize</span>&nbsp;<span class="op" id="4738566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4738569">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="4738585">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="4738640">type</span>&nbsp;<span class="ident" id="4738645">BasicType</span>&nbsp;<span class="keyword" id="4738655">struct</span>&nbsp;<span class="op" id="4738662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4738665">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4738677">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4738687">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4738694">BitOffset</span>&nbsp;<span class="ident" id="4738704">int64</span><br>
<span class="lineno">40</span><span class="op" id="4738710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4738713">func</span>&nbsp;<span class="op" id="4738718">(</span><span class="ident" id="4738719">b</span>&nbsp;<span class="op" id="4738721">*</span><span class="ident" id="4738722">BasicType</span><span class="op" id="4738731">)</span>&nbsp;<span class="ident" id="4738733">Basic</span><span class="op" id="4738738">(</span><span class="op" id="4738739">)</span>&nbsp;<span class="op" id="4738741">*</span><span class="ident" id="4738742">BasicType</span>&nbsp;<span class="op" id="4738752">{</span>&nbsp;<span class="keyword" id="4738754">return</span>&nbsp;<span class="ident" id="4738761">b</span>&nbsp;<span class="op" id="4738763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4738766">func</span>&nbsp;<span class="op" id="4738771">(</span><span class="ident" id="4738772">t</span>&nbsp;<span class="op" id="4738774">*</span><span class="ident" id="4738775">BasicType</span><span class="op" id="4738784">)</span>&nbsp;<span class="ident" id="4738786">String</span><span class="op" id="4738792">(</span><span class="op" id="4738793">)</span>&nbsp;<span class="builtintype" id="4738795">string</span>&nbsp;<span class="op" id="4738802">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4738805">if</span>&nbsp;<span class="ident" id="4738808">t</span><span class="op" id="4738809">.</span><span class="ident" id="4738810">Name</span>&nbsp;<span class="op" id="4738815">!=</span>&nbsp;<span class="string" id="4738818">&#34;&#34;</span>&nbsp;<span class="op" id="4738821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4738825">return</span>&nbsp;<span class="ident" id="4738832">t</span><span class="op" id="4738833">.</span><span class="ident" id="4738834">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4738840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4738843">return</span>&nbsp;<span class="string" id="4738850">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="4738854">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="4738857">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4738907">type</span>&nbsp;<span class="ident" id="4738912">CharType</span>&nbsp;<span class="keyword" id="4738921">struct</span>&nbsp;<span class="op" id="4738928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4738931">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4738941">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="4738944">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4738998">type</span>&nbsp;<span class="ident" id="4739003">UcharType</span>&nbsp;<span class="keyword" id="4739013">struct</span>&nbsp;<span class="op" id="4739020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739023">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4739033">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4739036">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4739084">type</span>&nbsp;<span class="ident" id="4739089">IntType</span>&nbsp;<span class="keyword" id="4739097">struct</span>&nbsp;<span class="op" id="4739104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739107">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4739117">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="4739120">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4739171">type</span>&nbsp;<span class="ident" id="4739176">UintType</span>&nbsp;<span class="keyword" id="4739185">struct</span>&nbsp;<span class="op" id="4739192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739195">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4739205">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="4739208">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4739257">type</span>&nbsp;<span class="ident" id="4739262">FloatType</span>&nbsp;<span class="keyword" id="4739272">struct</span>&nbsp;<span class="op" id="4739279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739282">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4739292">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="4739295">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4739354">type</span>&nbsp;<span class="ident" id="4739359">ComplexType</span>&nbsp;<span class="keyword" id="4739371">struct</span>&nbsp;<span class="op" id="4739378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739381">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4739391">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="4739394">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4739435">type</span>&nbsp;<span class="ident" id="4739440">BoolType</span>&nbsp;<span class="keyword" id="4739449">struct</span>&nbsp;<span class="op" id="4739456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739459">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4739469">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="4739472">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4739522">type</span>&nbsp;<span class="ident" id="4739527">AddrType</span>&nbsp;<span class="keyword" id="4739536">struct</span>&nbsp;<span class="op" id="4739543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739546">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4739556">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="4739559">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4739645">type</span>&nbsp;<span class="ident" id="4739650">UnspecifiedType</span>&nbsp;<span class="keyword" id="4739666">struct</span>&nbsp;<span class="op" id="4739673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739676">BasicType</span><br>
<span class="lineno"></span><span class="op" id="4739686">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="4739689">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4739704">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="4739801">type</span>&nbsp;<span class="ident" id="4739806">QualType</span>&nbsp;<span class="keyword" id="4739815">struct</span>&nbsp;<span class="op" id="4739822">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739825">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739837">Qual</span>&nbsp;<span class="builtintype" id="4739842">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4739850">Type</span>&nbsp;<span class="ident" id="4739855">Type</span><br>
<span class="lineno"></span><span class="op" id="4739860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="4739863">func</span>&nbsp;<span class="op" id="4739868">(</span><span class="ident" id="4739869">t</span>&nbsp;<span class="op" id="4739871">*</span><span class="ident" id="4739872">QualType</span><span class="op" id="4739880">)</span>&nbsp;<span class="ident" id="4739882">String</span><span class="op" id="4739888">(</span><span class="op" id="4739889">)</span>&nbsp;<span class="builtintype" id="4739891">string</span>&nbsp;<span class="op" id="4739898">{</span>&nbsp;<span class="keyword" id="4739900">return</span>&nbsp;<span class="ident" id="4739907">t</span><span class="op" id="4739908">.</span><span class="ident" id="4739909">Qual</span>&nbsp;<span class="op" id="4739914">+</span>&nbsp;<span class="string" id="4739916">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4739920">+</span>&nbsp;<span class="ident" id="4739922">t</span><span class="op" id="4739923">.</span><span class="ident" id="4739924">Type</span><span class="op" id="4739928">.</span><span class="ident" id="4739929">String</span><span class="op" id="4739935">(</span><span class="op" id="4739936">)</span>&nbsp;<span class="op" id="4739938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4739941">func</span>&nbsp;<span class="op" id="4739946">(</span><span class="ident" id="4739947">t</span>&nbsp;<span class="op" id="4739949">*</span><span class="ident" id="4739950">QualType</span><span class="op" id="4739958">)</span>&nbsp;<span class="ident" id="4739960">Size</span><span class="op" id="4739964">(</span><span class="op" id="4739965">)</span>&nbsp;<span class="ident" id="4739967">int64</span>&nbsp;<span class="op" id="4739973">{</span>&nbsp;<span class="keyword" id="4739975">return</span>&nbsp;<span class="ident" id="4739982">t</span><span class="op" id="4739983">.</span><span class="ident" id="4739984">Type</span><span class="op" id="4739988">.</span><span class="ident" id="4739989">Size</span><span class="op" id="4739993">(</span><span class="op" id="4739994">)</span>&nbsp;<span class="op" id="4739996">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4739999">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="4740051">type</span>&nbsp;<span class="ident" id="4740056">ArrayType</span>&nbsp;<span class="keyword" id="4740066">struct</span>&nbsp;<span class="op" id="4740073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740076">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740088">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740102">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740108">StrideBitSize</span>&nbsp;<span class="ident" id="4740122">int64</span>&nbsp;<span class="comment" id="4740128">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740176">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740190">int64</span>&nbsp;<span class="comment" id="4740196">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="4740245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4740248">func</span>&nbsp;<span class="op" id="4740253">(</span><span class="ident" id="4740254">t</span>&nbsp;<span class="op" id="4740256">*</span><span class="ident" id="4740257">ArrayType</span><span class="op" id="4740266">)</span>&nbsp;<span class="ident" id="4740268">String</span><span class="op" id="4740274">(</span><span class="op" id="4740275">)</span>&nbsp;<span class="builtintype" id="4740277">string</span>&nbsp;<span class="op" id="4740284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4740287">return</span>&nbsp;<span class="string" id="4740294">&#34;[&#34;</span>&nbsp;<span class="op" id="4740298">+</span>&nbsp;<span class="ident" id="4740300">strconv</span><span class="op" id="4740307">.</span><span class="ident" id="4740308">FormatInt</span><span class="op" id="4740317">(</span><span class="ident" id="4740318">t</span><span class="op" id="4740319">.</span><span class="ident" id="4740320">Count</span><span class="op" id="4740325">,</span>&nbsp;<span class="num" id="4740327">10</span><span class="op" id="4740329">)</span>&nbsp;<span class="op" id="4740331">+</span>&nbsp;<span class="string" id="4740333">&#34;]&#34;</span>&nbsp;<span class="op" id="4740337">+</span>&nbsp;<span class="ident" id="4740339">t</span><span class="op" id="4740340">.</span><span class="ident" id="4740341">Type</span><span class="op" id="4740345">.</span><span class="ident" id="4740346">String</span><span class="op" id="4740352">(</span><span class="op" id="4740353">)</span><br>
<span class="lineno"></span><span class="op" id="4740355">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="4740358">func</span>&nbsp;<span class="op" id="4740363">(</span><span class="ident" id="4740364">t</span>&nbsp;<span class="op" id="4740366">*</span><span class="ident" id="4740367">ArrayType</span><span class="op" id="4740376">)</span>&nbsp;<span class="ident" id="4740378">Size</span><span class="op" id="4740382">(</span><span class="op" id="4740383">)</span>&nbsp;<span class="ident" id="4740385">int64</span>&nbsp;<span class="op" id="4740391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4740394">if</span>&nbsp;<span class="ident" id="4740397">t</span><span class="op" id="4740398">.</span><span class="ident" id="4740399">Count</span>&nbsp;<span class="op" id="4740405">==</span>&nbsp;<span class="op" id="4740408">-</span><span class="num" id="4740409">1</span>&nbsp;<span class="op" id="4740411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4740415">return</span>&nbsp;<span class="num" id="4740422">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4740425">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4740428">return</span>&nbsp;<span class="ident" id="4740435">t</span><span class="op" id="4740436">.</span><span class="ident" id="4740437">Count</span>&nbsp;<span class="op" id="4740443">*</span>&nbsp;<span class="ident" id="4740445">t</span><span class="op" id="4740446">.</span><span class="ident" id="4740447">Type</span><span class="op" id="4740451">.</span><span class="ident" id="4740452">Size</span><span class="op" id="4740456">(</span><span class="op" id="4740457">)</span><br>
<span class="lineno"></span><span class="op" id="4740459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4740462">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4740504">type</span>&nbsp;<span class="ident" id="4740509">VoidType</span>&nbsp;<span class="keyword" id="4740518">struct</span>&nbsp;<span class="op" id="4740525">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740528">CommonType</span><br>
<span class="lineno"></span><span class="op" id="4740539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4740542">func</span>&nbsp;<span class="op" id="4740547">(</span><span class="ident" id="4740548">t</span>&nbsp;<span class="op" id="4740550">*</span><span class="ident" id="4740551">VoidType</span><span class="op" id="4740559">)</span>&nbsp;<span class="ident" id="4740561">String</span><span class="op" id="4740567">(</span><span class="op" id="4740568">)</span>&nbsp;<span class="builtintype" id="4740570">string</span>&nbsp;<span class="op" id="4740577">{</span>&nbsp;<span class="keyword" id="4740579">return</span>&nbsp;<span class="string" id="4740586">&#34;void&#34;</span>&nbsp;<span class="op" id="4740593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="4740596">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4740636">type</span>&nbsp;<span class="ident" id="4740641">PtrType</span>&nbsp;<span class="keyword" id="4740649">struct</span>&nbsp;<span class="op" id="4740656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740659">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740671">Type</span>&nbsp;<span class="ident" id="4740676">Type</span><br>
<span class="lineno"></span><span class="op" id="4740681">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="4740684">func</span>&nbsp;<span class="op" id="4740689">(</span><span class="ident" id="4740690">t</span>&nbsp;<span class="op" id="4740692">*</span><span class="ident" id="4740693">PtrType</span><span class="op" id="4740700">)</span>&nbsp;<span class="ident" id="4740702">String</span><span class="op" id="4740708">(</span><span class="op" id="4740709">)</span>&nbsp;<span class="builtintype" id="4740711">string</span>&nbsp;<span class="op" id="4740718">{</span>&nbsp;<span class="keyword" id="4740720">return</span>&nbsp;<span class="string" id="4740727">&#34;*&#34;</span>&nbsp;<span class="op" id="4740731">+</span>&nbsp;<span class="ident" id="4740733">t</span><span class="op" id="4740734">.</span><span class="ident" id="4740735">Type</span><span class="op" id="4740739">.</span><span class="ident" id="4740740">String</span><span class="op" id="4740746">(</span><span class="op" id="4740747">)</span>&nbsp;<span class="op" id="4740749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4740752">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4740815">type</span>&nbsp;<span class="ident" id="4740820">StructType</span>&nbsp;<span class="keyword" id="4740831">struct</span>&nbsp;<span class="op" id="4740838">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740841">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740853">StructName</span>&nbsp;<span class="builtintype" id="4740864">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740872">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4740883">string</span>&nbsp;<span class="comment" id="4740890">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740925">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4740936">[</span><span class="op" id="4740937">]</span><span class="op" id="4740938">*</span><span class="ident" id="4740939">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4740952">Incomplete</span>&nbsp;<span class="builtintype" id="4740963">bool</span>&nbsp;<span class="comment" id="4740968">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="4741029">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4741032">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4741107">type</span>&nbsp;<span class="ident" id="4741112">StructField</span>&nbsp;<span class="keyword" id="4741124">struct</span>&nbsp;<span class="op" id="4741131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741134">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4741145">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741153">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741164">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741170">ByteOffset</span>&nbsp;<span class="ident" id="4741181">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741188">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4741199">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741206">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="4741217">int64</span>&nbsp;<span class="comment" id="4741223">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741267">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741278">int64</span>&nbsp;<span class="comment" id="4741284">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="4741311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4741314">func</span>&nbsp;<span class="op" id="4741319">(</span><span class="ident" id="4741320">t</span>&nbsp;<span class="op" id="4741322">*</span><span class="ident" id="4741323">StructType</span><span class="op" id="4741333">)</span>&nbsp;<span class="ident" id="4741335">String</span><span class="op" id="4741341">(</span><span class="op" id="4741342">)</span>&nbsp;<span class="builtintype" id="4741344">string</span>&nbsp;<span class="op" id="4741351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741354">if</span>&nbsp;<span class="ident" id="4741357">t</span><span class="op" id="4741358">.</span><span class="ident" id="4741359">StructName</span>&nbsp;<span class="op" id="4741370">!=</span>&nbsp;<span class="string" id="4741373">&#34;&#34;</span>&nbsp;<span class="op" id="4741376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741380">return</span>&nbsp;<span class="ident" id="4741387">t</span><span class="op" id="4741388">.</span><span class="ident" id="4741389">Kind</span>&nbsp;<span class="op" id="4741394">+</span>&nbsp;<span class="string" id="4741396">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4741400">+</span>&nbsp;<span class="ident" id="4741402">t</span><span class="op" id="4741403">.</span><span class="ident" id="4741404">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4741416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741419">return</span>&nbsp;<span class="ident" id="4741426">t</span><span class="op" id="4741427">.</span><span class="ident" id="4741428">Defn</span><span class="op" id="4741432">(</span><span class="op" id="4741433">)</span><br>
<span class="lineno"></span><span class="op" id="4741435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4741438">func</span>&nbsp;<span class="op" id="4741443">(</span><span class="ident" id="4741444">t</span>&nbsp;<span class="op" id="4741446">*</span><span class="ident" id="4741447">StructType</span><span class="op" id="4741457">)</span>&nbsp;<span class="ident" id="4741459">Defn</span><span class="op" id="4741463">(</span><span class="op" id="4741464">)</span>&nbsp;<span class="builtintype" id="4741466">string</span>&nbsp;<span class="op" id="4741473">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741476">s</span>&nbsp;<span class="op" id="4741478">:=</span>&nbsp;<span class="ident" id="4741481">t</span><span class="op" id="4741482">.</span><span class="ident" id="4741483">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741489">if</span>&nbsp;<span class="ident" id="4741492">t</span><span class="op" id="4741493">.</span><span class="ident" id="4741494">StructName</span>&nbsp;<span class="op" id="4741505">!=</span>&nbsp;<span class="string" id="4741508">&#34;&#34;</span>&nbsp;<span class="op" id="4741511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741515">s</span>&nbsp;<span class="op" id="4741517">+=</span>&nbsp;<span class="string" id="4741520">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4741524">+</span>&nbsp;<span class="ident" id="4741526">t</span><span class="op" id="4741527">.</span><span class="ident" id="4741528">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4741540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741543">if</span>&nbsp;<span class="ident" id="4741546">t</span><span class="op" id="4741547">.</span><span class="ident" id="4741548">Incomplete</span>&nbsp;<span class="op" id="4741559">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741563">s</span>&nbsp;<span class="op" id="4741565">+=</span>&nbsp;<span class="string" id="4741568">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741588">return</span>&nbsp;<span class="ident" id="4741595">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4741598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741601">s</span>&nbsp;<span class="op" id="4741603">+=</span>&nbsp;<span class="string" id="4741606">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741612">for</span>&nbsp;<span class="ident" id="4741616">i</span><span class="op" id="4741617">,</span>&nbsp;<span class="ident" id="4741619">f</span>&nbsp;<span class="op" id="4741621">:=</span>&nbsp;<span class="keyword" id="4741624">range</span>&nbsp;<span class="ident" id="4741630">t</span><span class="op" id="4741631">.</span><span class="ident" id="4741632">Field</span>&nbsp;<span class="op" id="4741638">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741642">if</span>&nbsp;<span class="ident" id="4741645">i</span>&nbsp;<span class="op" id="4741647">&gt;</span>&nbsp;<span class="num" id="4741649">0</span>&nbsp;<span class="op" id="4741651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741656">s</span>&nbsp;<span class="op" id="4741658">+=</span>&nbsp;<span class="string" id="4741661">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4741668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741672">s</span>&nbsp;<span class="op" id="4741674">+=</span>&nbsp;<span class="ident" id="4741677">f</span><span class="op" id="4741678">.</span><span class="ident" id="4741679">Name</span>&nbsp;<span class="op" id="4741684">+</span>&nbsp;<span class="string" id="4741686">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4741690">+</span>&nbsp;<span class="ident" id="4741692">f</span><span class="op" id="4741693">.</span><span class="ident" id="4741694">Type</span><span class="op" id="4741698">.</span><span class="ident" id="4741699">String</span><span class="op" id="4741705">(</span><span class="op" id="4741706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741710">s</span>&nbsp;<span class="op" id="4741712">+=</span>&nbsp;<span class="string" id="4741715">&#34;@&#34;</span>&nbsp;<span class="op" id="4741719">+</span>&nbsp;<span class="ident" id="4741721">strconv</span><span class="op" id="4741728">.</span><span class="ident" id="4741729">FormatInt</span><span class="op" id="4741738">(</span><span class="ident" id="4741739">f</span><span class="op" id="4741740">.</span><span class="ident" id="4741741">ByteOffset</span><span class="op" id="4741751">,</span>&nbsp;<span class="num" id="4741753">10</span><span class="op" id="4741755">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741759">if</span>&nbsp;<span class="ident" id="4741762">f</span><span class="op" id="4741763">.</span><span class="ident" id="4741764">BitSize</span>&nbsp;<span class="op" id="4741772">&gt;</span>&nbsp;<span class="num" id="4741774">0</span>&nbsp;<span class="op" id="4741776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741781">s</span>&nbsp;<span class="op" id="4741783">+=</span>&nbsp;<span class="string" id="4741786">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="4741792">+</span>&nbsp;<span class="ident" id="4741794">strconv</span><span class="op" id="4741801">.</span><span class="ident" id="4741802">FormatInt</span><span class="op" id="4741811">(</span><span class="ident" id="4741812">f</span><span class="op" id="4741813">.</span><span class="ident" id="4741814">BitSize</span><span class="op" id="4741821">,</span>&nbsp;<span class="num" id="4741823">10</span><span class="op" id="4741825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741830">s</span>&nbsp;<span class="op" id="4741832">+=</span>&nbsp;<span class="string" id="4741835">&#34;@&#34;</span>&nbsp;<span class="op" id="4741839">+</span>&nbsp;<span class="ident" id="4741841">strconv</span><span class="op" id="4741848">.</span><span class="ident" id="4741849">FormatInt</span><span class="op" id="4741858">(</span><span class="ident" id="4741859">f</span><span class="op" id="4741860">.</span><span class="ident" id="4741861">BitOffset</span><span class="op" id="4741870">,</span>&nbsp;<span class="num" id="4741872">10</span><span class="op" id="4741874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4741878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4741881">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4741884">s</span>&nbsp;<span class="op" id="4741886">+=</span>&nbsp;<span class="string" id="4741889">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4741894">return</span>&nbsp;<span class="ident" id="4741901">s</span><br>
<span class="lineno"></span><span class="op" id="4741903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4741906">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="4741952">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="4742018">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="4742042">type</span>&nbsp;<span class="ident" id="4742047">EnumType</span>&nbsp;<span class="keyword" id="4742056">struct</span>&nbsp;<span class="op" id="4742063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742066">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742078">EnumName</span>&nbsp;<span class="builtintype" id="4742087">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742095">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4742104">[</span><span class="op" id="4742105">]</span><span class="op" id="4742106">*</span><span class="ident" id="4742107">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="4742117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4742120">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="4742175">type</span>&nbsp;<span class="ident" id="4742180">EnumValue</span>&nbsp;<span class="keyword" id="4742190">struct</span>&nbsp;<span class="op" id="4742197">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742200">Name</span>&nbsp;<span class="builtintype" id="4742205">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742213">Val</span>&nbsp;&nbsp;<span class="ident" id="4742218">int64</span><br>
<span class="lineno"></span><span class="op" id="4742224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4742227">func</span>&nbsp;<span class="op" id="4742232">(</span><span class="ident" id="4742233">t</span>&nbsp;<span class="op" id="4742235">*</span><span class="ident" id="4742236">EnumType</span><span class="op" id="4742244">)</span>&nbsp;<span class="ident" id="4742246">String</span><span class="op" id="4742252">(</span><span class="op" id="4742253">)</span>&nbsp;<span class="builtintype" id="4742255">string</span>&nbsp;<span class="op" id="4742262">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742265">s</span>&nbsp;<span class="op" id="4742267">:=</span>&nbsp;<span class="string" id="4742270">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4742278">if</span>&nbsp;<span class="ident" id="4742281">t</span><span class="op" id="4742282">.</span><span class="ident" id="4742283">EnumName</span>&nbsp;<span class="op" id="4742292">!=</span>&nbsp;<span class="string" id="4742295">&#34;&#34;</span>&nbsp;<span class="op" id="4742298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742302">s</span>&nbsp;<span class="op" id="4742304">+=</span>&nbsp;<span class="string" id="4742307">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4742311">+</span>&nbsp;<span class="ident" id="4742313">t</span><span class="op" id="4742314">.</span><span class="ident" id="4742315">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4742325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742328">s</span>&nbsp;<span class="op" id="4742330">+=</span>&nbsp;<span class="string" id="4742333">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4742339">for</span>&nbsp;<span class="ident" id="4742343">i</span><span class="op" id="4742344">,</span>&nbsp;<span class="ident" id="4742346">v</span>&nbsp;<span class="op" id="4742348">:=</span>&nbsp;<span class="keyword" id="4742351">range</span>&nbsp;<span class="ident" id="4742357">t</span><span class="op" id="4742358">.</span><span class="ident" id="4742359">Val</span>&nbsp;<span class="op" id="4742363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4742367">if</span>&nbsp;<span class="ident" id="4742370">i</span>&nbsp;<span class="op" id="4742372">&gt;</span>&nbsp;<span class="num" id="4742374">0</span>&nbsp;<span class="op" id="4742376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742381">s</span>&nbsp;<span class="op" id="4742383">+=</span>&nbsp;<span class="string" id="4742386">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4742393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742397">s</span>&nbsp;<span class="op" id="4742399">+=</span>&nbsp;<span class="ident" id="4742402">v</span><span class="op" id="4742403">.</span><span class="ident" id="4742404">Name</span>&nbsp;<span class="op" id="4742409">+</span>&nbsp;<span class="string" id="4742411">&#34;=&#34;</span>&nbsp;<span class="op" id="4742415">+</span>&nbsp;<span class="ident" id="4742417">strconv</span><span class="op" id="4742424">.</span><span class="ident" id="4742425">FormatInt</span><span class="op" id="4742434">(</span><span class="ident" id="4742435">v</span><span class="op" id="4742436">.</span><span class="ident" id="4742437">Val</span><span class="op" id="4742440">,</span>&nbsp;<span class="num" id="4742442">10</span><span class="op" id="4742444">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4742447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742450">s</span>&nbsp;<span class="op" id="4742452">+=</span>&nbsp;<span class="string" id="4742455">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4742460">return</span>&nbsp;<span class="ident" id="4742467">s</span><br>
<span class="lineno"></span><span class="op" id="4742469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="4742472">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4742514">type</span>&nbsp;<span class="ident" id="4742519">FuncType</span>&nbsp;<span class="keyword" id="4742528">struct</span>&nbsp;<span class="op" id="4742535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742538">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742550">ReturnType</span>&nbsp;<span class="ident" id="4742561">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742567">ParamType</span>&nbsp;&nbsp;<span class="op" id="4742578">[</span><span class="op" id="4742579">]</span><span class="ident" id="4742580">Type</span><br>
<span class="lineno">230</span><span class="op" id="4742585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4742588">func</span>&nbsp;<span class="op" id="4742593">(</span><span class="ident" id="4742594">t</span>&nbsp;<span class="op" id="4742596">*</span><span class="ident" id="4742597">FuncType</span><span class="op" id="4742605">)</span>&nbsp;<span class="ident" id="4742607">String</span><span class="op" id="4742613">(</span><span class="op" id="4742614">)</span>&nbsp;<span class="builtintype" id="4742616">string</span>&nbsp;<span class="op" id="4742623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742626">s</span>&nbsp;<span class="op" id="4742628">:=</span>&nbsp;<span class="string" id="4742631">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4742640">for</span>&nbsp;<span class="ident" id="4742644">i</span><span class="op" id="4742645">,</span>&nbsp;<span class="ident" id="4742647">t</span>&nbsp;<span class="op" id="4742649">:=</span>&nbsp;<span class="keyword" id="4742652">range</span>&nbsp;<span class="ident" id="4742658">t</span><span class="op" id="4742659">.</span><span class="ident" id="4742660">ParamType</span>&nbsp;<span class="op" id="4742670">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4742674">if</span>&nbsp;<span class="ident" id="4742677">i</span>&nbsp;<span class="op" id="4742679">&gt;</span>&nbsp;<span class="num" id="4742681">0</span>&nbsp;<span class="op" id="4742683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742688">s</span>&nbsp;<span class="op" id="4742690">+=</span>&nbsp;<span class="string" id="4742693">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4742700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742704">s</span>&nbsp;<span class="op" id="4742706">+=</span>&nbsp;<span class="ident" id="4742709">t</span><span class="op" id="4742710">.</span><span class="ident" id="4742711">String</span><span class="op" id="4742717">(</span><span class="op" id="4742718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4742721">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742724">s</span>&nbsp;<span class="op" id="4742726">+=</span>&nbsp;<span class="string" id="4742729">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4742734">if</span>&nbsp;<span class="ident" id="4742737">t</span><span class="op" id="4742738">.</span><span class="ident" id="4742739">ReturnType</span>&nbsp;<span class="op" id="4742750">!=</span>&nbsp;<span class="builtintype" id="4742753">nil</span>&nbsp;<span class="op" id="4742757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742761">s</span>&nbsp;<span class="op" id="4742763">+=</span>&nbsp;<span class="string" id="4742766">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4742770">+</span>&nbsp;<span class="ident" id="4742772">t</span><span class="op" id="4742773">.</span><span class="ident" id="4742774">ReturnType</span><span class="op" id="4742784">.</span><span class="ident" id="4742785">String</span><span class="op" id="4742791">(</span><span class="op" id="4742792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4742795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4742798">return</span>&nbsp;<span class="ident" id="4742805">s</span><br>
<span class="lineno">245</span><span class="op" id="4742807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4742810">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="4742877">type</span>&nbsp;<span class="ident" id="4742882">DotDotDotType</span>&nbsp;<span class="keyword" id="4742896">struct</span>&nbsp;<span class="op" id="4742903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4742906">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="4742917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4742920">func</span>&nbsp;<span class="op" id="4742925">(</span><span class="ident" id="4742926">t</span>&nbsp;<span class="op" id="4742928">*</span><span class="ident" id="4742929">DotDotDotType</span><span class="op" id="4742942">)</span>&nbsp;<span class="ident" id="4742944">String</span><span class="op" id="4742950">(</span><span class="op" id="4742951">)</span>&nbsp;<span class="builtintype" id="4742953">string</span>&nbsp;<span class="op" id="4742960">{</span>&nbsp;<span class="keyword" id="4742962">return</span>&nbsp;<span class="string" id="4742969">&#34;...&#34;</span>&nbsp;<span class="op" id="4742975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4742978">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="4743020">type</span>&nbsp;<span class="ident" id="4743025">TypedefType</span>&nbsp;<span class="keyword" id="4743037">struct</span>&nbsp;<span class="op" id="4743044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4743047">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4743059">Type</span>&nbsp;<span class="ident" id="4743064">Type</span><br>
<span class="lineno"></span><span class="op" id="4743069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="4743072">func</span>&nbsp;<span class="op" id="4743077">(</span><span class="ident" id="4743078">t</span>&nbsp;<span class="op" id="4743080">*</span><span class="ident" id="4743081">TypedefType</span><span class="op" id="4743092">)</span>&nbsp;<span class="ident" id="4743094">String</span><span class="op" id="4743100">(</span><span class="op" id="4743101">)</span>&nbsp;<span class="builtintype" id="4743103">string</span>&nbsp;<span class="op" id="4743110">{</span>&nbsp;<span class="keyword" id="4743112">return</span>&nbsp;<span class="ident" id="4743119">t</span><span class="op" id="4743120">.</span><span class="ident" id="4743121">Name</span>&nbsp;<span class="op" id="4743126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4743129">func</span>&nbsp;<span class="op" id="4743134">(</span><span class="ident" id="4743135">t</span>&nbsp;<span class="op" id="4743137">*</span><span class="ident" id="4743138">TypedefType</span><span class="op" id="4743149">)</span>&nbsp;<span class="ident" id="4743151">Size</span><span class="op" id="4743155">(</span><span class="op" id="4743156">)</span>&nbsp;<span class="ident" id="4743158">int64</span>&nbsp;<span class="op" id="4743164">{</span>&nbsp;<span class="keyword" id="4743166">return</span>&nbsp;<span class="ident" id="4743173">t</span><span class="op" id="4743174">.</span><span class="ident" id="4743175">Type</span><span class="op" id="4743179">.</span><span class="ident" id="4743180">Size</span><span class="op" id="4743184">(</span><span class="op" id="4743185">)</span>&nbsp;<span class="op" id="4743187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4743190">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="4743256">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4743274">type</span>&nbsp;<span class="ident" id="4743279">typeReader</span>&nbsp;<span class="keyword" id="4743290">interface</span>&nbsp;<span class="op" id="4743300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4743303">Seek</span><span class="op" id="4743307">(</span><span class="ident" id="4743308">Offset</span><span class="op" id="4743314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4743317">Next</span><span class="op" id="4743321">(</span><span class="op" id="4743322">)</span>&nbsp;<span class="op" id="4743324">(</span><span class="op" id="4743325">*</span><span class="ident" id="4743326">Entry</span><span class="op" id="4743331">,</span>&nbsp;<span class="builtintype" id="4743333">error</span><span class="op" id="4743338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4743341">clone</span><span class="op" id="4743346">(</span><span class="op" id="4743347">)</span>&nbsp;<span class="ident" id="4743349">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4743361">offset</span><span class="op" id="4743367">(</span><span class="op" id="4743368">)</span>&nbsp;<span class="ident" id="4743370">Offset</span><br>
<span class="lineno"></span><span class="op" id="4743377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4743380">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4743441">func</span>&nbsp;<span class="op" id="4743446">(</span><span class="ident" id="4743447">d</span>&nbsp;<span class="op" id="4743449">*</span><span class="ident" id="4743450">Data</span><span class="op" id="4743454">)</span>&nbsp;<span class="ident" id="4743456">Type</span><span class="op" id="4743460">(</span><span class="ident" id="4743461">off</span>&nbsp;<span class="ident" id="4743465">Offset</span><span class="op" id="4743471">)</span>&nbsp;<span class="op" id="4743473">(</span><span class="ident" id="4743474">Type</span><span class="op" id="4743478">,</span>&nbsp;<span class="builtintype" id="4743480">error</span><span class="op" id="4743485">)</span>&nbsp;<span class="op" id="4743487">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4743490">return</span>&nbsp;<span class="ident" id="4743497">d</span><span class="op" id="4743498">.</span><span class="ident" id="4743499">readType</span><span class="op" id="4743507">(</span><span class="string" id="4743508">&#34;info&#34;</span><span class="op" id="4743514">,</span>&nbsp;<span class="ident" id="4743516">d</span><span class="op" id="4743517">.</span><span class="ident" id="4743518">Reader</span><span class="op" id="4743524">(</span><span class="op" id="4743525">)</span><span class="op" id="4743526">,</span>&nbsp;<span class="ident" id="4743528">off</span><span class="op" id="4743531">,</span>&nbsp;<span class="ident" id="4743533">d</span><span class="op" id="4743534">.</span><span class="ident" id="4743535">typeCache</span><span class="op" id="4743544">)</span><br>
<span class="lineno"></span><span class="op" id="4743546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4743549">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4743617">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="4743632">func</span>&nbsp;<span class="op" id="4743637">(</span><span class="ident" id="4743638">d</span>&nbsp;<span class="op" id="4743640">*</span><span class="ident" id="4743641">Data</span><span class="op" id="4743645">)</span>&nbsp;<span class="ident" id="4743647">readType</span><span class="op" id="4743655">(</span><span class="ident" id="4743656">name</span>&nbsp;<span class="builtintype" id="4743661">string</span><span class="op" id="4743667">,</span>&nbsp;<span class="ident" id="4743669">r</span>&nbsp;<span class="ident" id="4743671">typeReader</span><span class="op" id="4743681">,</span>&nbsp;<span class="ident" id="4743683">off</span>&nbsp;<span class="ident" id="4743687">Offset</span><span class="op" id="4743693">,</span>&nbsp;<span class="ident" id="4743695">typeCache</span>&nbsp;<span class="keyword" id="4743705">map</span><span class="op" id="4743708">[</span><span class="ident" id="4743709">Offset</span><span class="op" id="4743715">]</span><span class="ident" id="4743716">Type</span><span class="op" id="4743720">)</span>&nbsp;<span class="op" id="4743722">(</span><span class="ident" id="4743723">Type</span><span class="op" id="4743727">,</span>&nbsp;<span class="builtintype" id="4743729">error</span><span class="op" id="4743734">)</span>&nbsp;<span class="op" id="4743736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4743739">if</span>&nbsp;<span class="ident" id="4743742">t</span><span class="op" id="4743743">,</span>&nbsp;<span class="ident" id="4743745">ok</span>&nbsp;<span class="op" id="4743748">:=</span>&nbsp;<span class="ident" id="4743751">typeCache</span><span class="op" id="4743760">[</span><span class="ident" id="4743761">off</span><span class="op" id="4743764">]</span><span class="op" id="4743765">;</span>&nbsp;<span class="ident" id="4743767">ok</span>&nbsp;<span class="op" id="4743770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4743774">return</span>&nbsp;<span class="ident" id="4743781">t</span><span class="op" id="4743782">,</span>&nbsp;<span class="builtintype" id="4743784">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4743789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4743792">r</span><span class="op" id="4743793">.</span><span class="ident" id="4743794">Seek</span><span class="op" id="4743798">(</span><span class="ident" id="4743799">off</span><span class="op" id="4743802">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4743805">e</span><span class="op" id="4743806">,</span>&nbsp;<span class="ident" id="4743808">err</span>&nbsp;<span class="op" id="4743812">:=</span>&nbsp;<span class="ident" id="4743815">r</span><span class="op" id="4743816">.</span><span class="ident" id="4743817">Next</span><span class="op" id="4743821">(</span><span class="op" id="4743822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4743825">if</span>&nbsp;<span class="ident" id="4743828">err</span>&nbsp;<span class="op" id="4743832">!=</span>&nbsp;<span class="builtintype" id="4743835">nil</span>&nbsp;<span class="op" id="4743839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4743843">return</span>&nbsp;<span class="builtintype" id="4743850">nil</span><span class="op" id="4743853">,</span>&nbsp;<span class="ident" id="4743855">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4743860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4743863">if</span>&nbsp;<span class="ident" id="4743866">e</span>&nbsp;<span class="op" id="4743868">==</span>&nbsp;<span class="builtintype" id="4743871">nil</span>&nbsp;<span class="op" id="4743875">||</span>&nbsp;<span class="ident" id="4743878">e</span><span class="op" id="4743879">.</span><span class="ident" id="4743880">Offset</span>&nbsp;<span class="op" id="4743887">!=</span>&nbsp;<span class="ident" id="4743890">off</span>&nbsp;<span class="op" id="4743894">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4743898">return</span>&nbsp;<span class="builtintype" id="4743905">nil</span><span class="op" id="4743908">,</span>&nbsp;<span class="ident" id="4743910">DecodeError</span><span class="op" id="4743921">{</span><span class="ident" id="4743922">name</span><span class="op" id="4743926">,</span>&nbsp;<span class="ident" id="4743928">off</span><span class="op" id="4743931">,</span>&nbsp;<span class="string" id="4743933">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="4743952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4743955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4743959">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4743986">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4744036">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744096">var</span>&nbsp;<span class="ident" id="4744100">typ</span>&nbsp;<span class="ident" id="4744104">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4744111">nextDepth</span>&nbsp;<span class="op" id="4744121">:=</span>&nbsp;<span class="num" id="4744124">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4744128">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4744174">next</span>&nbsp;<span class="op" id="4744179">:=</span>&nbsp;<span class="keyword" id="4744182">func</span><span class="op" id="4744186">(</span><span class="op" id="4744187">)</span>&nbsp;<span class="op" id="4744189">*</span><span class="ident" id="4744190">Entry</span>&nbsp;<span class="op" id="4744196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744200">if</span>&nbsp;<span class="op" id="4744203">!</span><span class="ident" id="4744204">e</span><span class="op" id="4744205">.</span><span class="ident" id="4744206">Children</span>&nbsp;<span class="op" id="4744215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744220">return</span>&nbsp;<span class="builtintype" id="4744227">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4744233">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4744237">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4744271">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4744329">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4744391">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4744426">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744458">for</span>&nbsp;<span class="op" id="4744462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4744467">kid</span><span class="op" id="4744470">,</span>&nbsp;<span class="ident" id="4744472">err1</span>&nbsp;<span class="op" id="4744477">:=</span>&nbsp;<span class="ident" id="4744480">r</span><span class="op" id="4744481">.</span><span class="ident" id="4744482">Next</span><span class="op" id="4744486">(</span><span class="op" id="4744487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744492">if</span>&nbsp;<span class="ident" id="4744495">err1</span>&nbsp;<span class="op" id="4744500">!=</span>&nbsp;<span class="builtintype" id="4744503">nil</span>&nbsp;<span class="op" id="4744507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4744513">err</span>&nbsp;<span class="op" id="4744517">=</span>&nbsp;<span class="ident" id="4744519">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744528">return</span>&nbsp;<span class="builtintype" id="4744535">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4744542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744547">if</span>&nbsp;<span class="ident" id="4744550">kid</span>&nbsp;<span class="op" id="4744554">==</span>&nbsp;<span class="builtintype" id="4744557">nil</span>&nbsp;<span class="op" id="4744561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4744567">err</span>&nbsp;<span class="op" id="4744571">=</span>&nbsp;<span class="ident" id="4744573">DecodeError</span><span class="op" id="4744584">{</span><span class="ident" id="4744585">name</span><span class="op" id="4744589">,</span>&nbsp;<span class="ident" id="4744591">r</span><span class="op" id="4744592">.</span><span class="ident" id="4744593">offset</span><span class="op" id="4744599">(</span><span class="op" id="4744600">)</span><span class="op" id="4744601">,</span>&nbsp;<span class="string" id="4744603">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="4744636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744642">return</span>&nbsp;<span class="builtintype" id="4744649">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4744656">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744661">if</span>&nbsp;<span class="ident" id="4744664">kid</span><span class="op" id="4744667">.</span><span class="ident" id="4744668">Tag</span>&nbsp;<span class="op" id="4744672">==</span>&nbsp;<span class="num" id="4744675">0</span>&nbsp;<span class="op" id="4744677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744683">if</span>&nbsp;<span class="ident" id="4744686">nextDepth</span>&nbsp;<span class="op" id="4744696">&gt;</span>&nbsp;<span class="num" id="4744698">0</span>&nbsp;<span class="op" id="4744700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4744707">nextDepth</span><span class="op" id="4744716">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744724">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4744737">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744743">return</span>&nbsp;<span class="builtintype" id="4744750">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4744757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744762">if</span>&nbsp;<span class="ident" id="4744765">kid</span><span class="op" id="4744768">.</span><span class="ident" id="4744769">Children</span>&nbsp;<span class="op" id="4744778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4744784">nextDepth</span><span class="op" id="4744793">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4744799">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744804">if</span>&nbsp;<span class="ident" id="4744807">nextDepth</span>&nbsp;<span class="op" id="4744817">&gt;</span>&nbsp;<span class="num" id="4744819">0</span>&nbsp;<span class="op" id="4744821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744827">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4744839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4744844">return</span>&nbsp;<span class="ident" id="4744851">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4744857">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4744860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4744864">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4744916">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4744978">typeOf</span>&nbsp;<span class="op" id="4744985">:=</span>&nbsp;<span class="keyword" id="4744988">func</span><span class="op" id="4744992">(</span><span class="ident" id="4744993">e</span>&nbsp;<span class="op" id="4744995">*</span><span class="ident" id="4744996">Entry</span><span class="op" id="4745001">)</span>&nbsp;<span class="ident" id="4745003">Type</span>&nbsp;<span class="op" id="4745008">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4745012">tval</span>&nbsp;<span class="op" id="4745017">:=</span>&nbsp;<span class="ident" id="4745020">e</span><span class="op" id="4745021">.</span><span class="ident" id="4745022">Val</span><span class="op" id="4745025">(</span><span class="ident" id="4745026">AttrType</span><span class="op" id="4745034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745038">var</span>&nbsp;<span class="ident" id="4745042">t</span>&nbsp;<span class="ident" id="4745044">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745051">switch</span>&nbsp;<span class="ident" id="4745058">toff</span>&nbsp;<span class="op" id="4745063">:=</span>&nbsp;<span class="ident" id="4745066">tval</span><span class="op" id="4745070">.</span><span class="op" id="4745071">(</span><span class="keyword" id="4745072">type</span><span class="op" id="4745076">)</span>&nbsp;<span class="op" id="4745078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745082">case</span>&nbsp;<span class="ident" id="4745087">Offset</span><span class="op" id="4745093">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745098">if</span>&nbsp;<span class="ident" id="4745101">t</span><span class="op" id="4745102">,</span>&nbsp;<span class="ident" id="4745104">err</span>&nbsp;<span class="op" id="4745108">=</span>&nbsp;<span class="ident" id="4745110">d</span><span class="op" id="4745111">.</span><span class="ident" id="4745112">readType</span><span class="op" id="4745120">(</span><span class="ident" id="4745121">name</span><span class="op" id="4745125">,</span>&nbsp;<span class="ident" id="4745127">r</span><span class="op" id="4745128">.</span><span class="ident" id="4745129">clone</span><span class="op" id="4745134">(</span><span class="op" id="4745135">)</span><span class="op" id="4745136">,</span>&nbsp;<span class="ident" id="4745138">toff</span><span class="op" id="4745142">,</span>&nbsp;<span class="ident" id="4745144">typeCache</span><span class="op" id="4745153">)</span><span class="op" id="4745154">;</span>&nbsp;<span class="ident" id="4745156">err</span>&nbsp;<span class="op" id="4745160">!=</span>&nbsp;<span class="builtintype" id="4745163">nil</span>&nbsp;<span class="op" id="4745167">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745173">return</span>&nbsp;<span class="builtintype" id="4745180">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4745187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745191">case</span>&nbsp;<span class="ident" id="4745196">uint64</span><span class="op" id="4745202">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745207">if</span>&nbsp;<span class="ident" id="4745210">t</span><span class="op" id="4745211">,</span>&nbsp;<span class="ident" id="4745213">err</span>&nbsp;<span class="op" id="4745217">=</span>&nbsp;<span class="ident" id="4745219">d</span><span class="op" id="4745220">.</span><span class="ident" id="4745221">sigToType</span><span class="op" id="4745230">(</span><span class="ident" id="4745231">toff</span><span class="op" id="4745235">)</span><span class="op" id="4745236">;</span>&nbsp;<span class="ident" id="4745238">err</span>&nbsp;<span class="op" id="4745242">!=</span>&nbsp;<span class="builtintype" id="4745245">nil</span>&nbsp;<span class="op" id="4745249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745255">return</span>&nbsp;<span class="builtintype" id="4745262">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4745269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745273">default</span><span class="op" id="4745280">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745285">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745329">return</span>&nbsp;<span class="builtinfunc" id="4745336">new</span><span class="op" id="4745339">(</span><span class="ident" id="4745340">VoidType</span><span class="op" id="4745348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4745352">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745356">return</span>&nbsp;<span class="ident" id="4745363">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4745366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745370">switch</span>&nbsp;<span class="ident" id="4745377">e</span><span class="op" id="4745378">.</span><span class="ident" id="4745379">Tag</span>&nbsp;<span class="op" id="4745383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745386">case</span>&nbsp;<span class="ident" id="4745391">TagArrayType</span><span class="op" id="4745403">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745407">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745455">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745472">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745505">//&nbsp;&nbsp;&nbsp;&nbsp;AttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745568">//&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745608">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745623">//&nbsp;&nbsp;&nbsp;&nbsp;TagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745688">//&nbsp;&nbsp;&nbsp;&nbsp;dimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4745732">t</span>&nbsp;<span class="op" id="4745734">:=</span>&nbsp;<span class="builtinfunc" id="4745737">new</span><span class="op" id="4745740">(</span><span class="ident" id="4745741">ArrayType</span><span class="op" id="4745750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4745754">typ</span>&nbsp;<span class="op" id="4745758">=</span>&nbsp;<span class="ident" id="4745760">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4745764">typeCache</span><span class="op" id="4745773">[</span><span class="ident" id="4745774">off</span><span class="op" id="4745777">]</span>&nbsp;<span class="op" id="4745779">=</span>&nbsp;<span class="ident" id="4745781">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745785">if</span>&nbsp;<span class="ident" id="4745788">t</span><span class="op" id="4745789">.</span><span class="ident" id="4745790">Type</span>&nbsp;<span class="op" id="4745795">=</span>&nbsp;<span class="ident" id="4745797">typeOf</span><span class="op" id="4745803">(</span><span class="ident" id="4745804">e</span><span class="op" id="4745805">)</span><span class="op" id="4745806">;</span>&nbsp;<span class="ident" id="4745808">err</span>&nbsp;<span class="op" id="4745812">!=</span>&nbsp;<span class="builtintype" id="4745815">nil</span>&nbsp;<span class="op" id="4745819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745824">goto</span>&nbsp;<span class="ident" id="4745829">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4745837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4745841">t</span><span class="op" id="4745842">.</span><span class="ident" id="4745843">StrideBitSize</span><span class="op" id="4745856">,</span>&nbsp;<span class="ident" id="4745858">_</span>&nbsp;<span class="op" id="4745860">=</span>&nbsp;<span class="ident" id="4745862">e</span><span class="op" id="4745863">.</span><span class="ident" id="4745864">Val</span><span class="op" id="4745867">(</span><span class="ident" id="4745868">AttrStrideSize</span><span class="op" id="4745882">)</span><span class="op" id="4745883">.</span><span class="op" id="4745884">(</span><span class="ident" id="4745885">int64</span><span class="op" id="4745890">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745895">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745923">var</span>&nbsp;<span class="ident" id="4745927">dims</span>&nbsp;<span class="op" id="4745932">[</span><span class="op" id="4745933">]</span><span class="ident" id="4745934">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4745942">for</span>&nbsp;<span class="ident" id="4745946">kid</span>&nbsp;<span class="op" id="4745950">:=</span>&nbsp;<span class="ident" id="4745953">next</span><span class="op" id="4745957">(</span><span class="op" id="4745958">)</span><span class="op" id="4745959">;</span>&nbsp;<span class="ident" id="4745961">kid</span>&nbsp;<span class="op" id="4745965">!=</span>&nbsp;<span class="builtintype" id="4745968">nil</span><span class="op" id="4745971">;</span>&nbsp;<span class="ident" id="4745973">kid</span>&nbsp;<span class="op" id="4745977">=</span>&nbsp;<span class="ident" id="4745979">next</span><span class="op" id="4745983">(</span><span class="op" id="4745984">)</span>&nbsp;<span class="op" id="4745986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4745991">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4746039">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4746084">switch</span>&nbsp;<span class="ident" id="4746091">kid</span><span class="op" id="4746094">.</span><span class="ident" id="4746095">Tag</span>&nbsp;<span class="op" id="4746099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4746104">case</span>&nbsp;<span class="ident" id="4746109">TagSubrangeType</span><span class="op" id="4746124">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4746130">count</span><span class="op" id="4746135">,</span>&nbsp;<span class="ident" id="4746137">ok</span>&nbsp;<span class="op" id="4746140">:=</span>&nbsp;<span class="ident" id="4746143">kid</span><span class="op" id="4746146">.</span><span class="ident" id="4746147">Val</span><span class="op" id="4746150">(</span><span class="ident" id="4746151">AttrCount</span><span class="op" id="4746160">)</span><span class="op" id="4746161">.</span><span class="op" id="4746162">(</span><span class="ident" id="4746163">int64</span><span class="op" id="4746168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4746174">if</span>&nbsp;<span class="op" id="4746177">!</span><span class="ident" id="4746178">ok</span>&nbsp;<span class="op" id="4746181">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4746188">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4746242">count</span><span class="op" id="4746247">,</span>&nbsp;<span class="ident" id="4746249">ok</span>&nbsp;<span class="op" id="4746252">=</span>&nbsp;<span class="ident" id="4746254">kid</span><span class="op" id="4746257">.</span><span class="ident" id="4746258">Val</span><span class="op" id="4746261">(</span><span class="ident" id="4746262">AttrUpperBound</span><span class="op" id="4746276">)</span><span class="op" id="4746277">.</span><span class="op" id="4746278">(</span><span class="ident" id="4746279">int64</span><span class="op" id="4746284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4746291">if</span>&nbsp;<span class="ident" id="4746294">ok</span>&nbsp;<span class="op" id="4746297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4746305">count</span><span class="op" id="4746310">++</span>&nbsp;<span class="comment" id="4746313">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4746358">}</span>&nbsp;<span class="keyword" id="4746360">else</span>&nbsp;<span class="keyword" id="4746365">if</span>&nbsp;<span class="builtinfunc" id="4746368">len</span><span class="op" id="4746371">(</span><span class="ident" id="4746372">dims</span><span class="op" id="4746376">)</span>&nbsp;<span class="op" id="4746378">==</span>&nbsp;<span class="num" id="4746381">0</span>&nbsp;<span class="op" id="4746383">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4746391">count</span>&nbsp;<span class="op" id="4746397">=</span>&nbsp;<span class="op" id="4746399">-</span><span class="num" id="4746400">1</span>&nbsp;<span class="comment" id="4746402">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4746421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4746427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4746433">dims</span>&nbsp;<span class="op" id="4746438">=</span>&nbsp;<span class="builtinfunc" id="4746440">append</span><span class="op" id="4746446">(</span><span class="ident" id="4746447">dims</span><span class="op" id="4746451">,</span>&nbsp;<span class="ident" id="4746453">count</span><span class="op" id="4746458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4746463">case</span>&nbsp;<span class="ident" id="4746468">TagEnumerationType</span><span class="op" id="4746486">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4746492">err</span>&nbsp;<span class="op" id="4746496">=</span>&nbsp;<span class="ident" id="4746498">DecodeError</span><span class="op" id="4746509">{</span><span class="ident" id="4746510">name</span><span class="op" id="4746514">,</span>&nbsp;<span class="ident" id="4746516">kid</span><span class="op" id="4746519">.</span><span class="ident" id="4746520">Offset</span><span class="op" id="4746526">,</span>&nbsp;<span class="string" id="4746528">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="4746575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4746581">goto</span>&nbsp;<span class="ident" id="4746586">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4746595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4746599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4746603">if</span>&nbsp;<span class="builtinfunc" id="4746606">len</span><span class="op" id="4746609">(</span><span class="ident" id="4746610">dims</span><span class="op" id="4746614">)</span>&nbsp;<span class="op" id="4746616">==</span>&nbsp;<span class="num" id="4746619">0</span>&nbsp;<span class="op" id="4746621">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4746626">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4746661">dims</span>&nbsp;<span class="op" id="4746666">=</span>&nbsp;<span class="op" id="4746668">[</span><span class="op" id="4746669">]</span><span class="ident" id="4746670">int64</span><span class="op" id="4746675">{</span><span class="op" id="4746676">-</span><span class="num" id="4746677">1</span><span class="op" id="4746678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4746682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4746687">t</span><span class="op" id="4746688">.</span><span class="ident" id="4746689">Count</span>&nbsp;<span class="op" id="4746695">=</span>&nbsp;<span class="ident" id="4746697">dims</span><span class="op" id="4746701">[</span><span class="num" id="4746702">0</span><span class="op" id="4746703">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4746707">for</span>&nbsp;<span class="ident" id="4746711">i</span>&nbsp;<span class="op" id="4746713">:=</span>&nbsp;<span class="builtinfunc" id="4746716">len</span><span class="op" id="4746719">(</span><span class="ident" id="4746720">dims</span><span class="op" id="4746724">)</span>&nbsp;<span class="op" id="4746726">-</span>&nbsp;<span class="num" id="4746728">1</span><span class="op" id="4746729">;</span>&nbsp;<span class="ident" id="4746731">i</span>&nbsp;<span class="op" id="4746733">&gt;=</span>&nbsp;<span class="num" id="4746736">1</span><span class="op" id="4746737">;</span>&nbsp;<span class="ident" id="4746739">i</span><span class="op" id="4746740">--</span>&nbsp;<span class="op" id="4746743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4746748">t</span><span class="op" id="4746749">.</span><span class="ident" id="4746750">Type</span>&nbsp;<span class="op" id="4746755">=</span>&nbsp;<span class="op" id="4746757">&amp;</span><span class="ident" id="4746758">ArrayType</span><span class="op" id="4746767">{</span><span class="ident" id="4746768">Type</span><span class="op" id="4746772">:</span>&nbsp;<span class="ident" id="4746774">t</span><span class="op" id="4746775">.</span><span class="ident" id="4746776">Type</span><span class="op" id="4746780">,</span>&nbsp;<span class="ident" id="4746782">Count</span><span class="op" id="4746787">:</span>&nbsp;<span class="ident" id="4746789">dims</span><span class="op" id="4746793">[</span><span class="ident" id="4746794">i</span><span class="op" id="4746795">]</span><span class="op" id="4746796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4746800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4746804">case</span>&nbsp;<span class="ident" id="4746809">TagBaseType</span><span class="op" id="4746820">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4746824">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4746859">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4746876">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4746968">//&nbsp;&nbsp;&nbsp;&nbsp;AttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4747037">//&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4747089">//&nbsp;&nbsp;&nbsp;&nbsp;AttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4747142">//&nbsp;&nbsp;&nbsp;&nbsp;AttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4747235">name</span><span class="op" id="4747239">,</span>&nbsp;<span class="ident" id="4747241">_</span>&nbsp;<span class="op" id="4747243">:=</span>&nbsp;<span class="ident" id="4747246">e</span><span class="op" id="4747247">.</span><span class="ident" id="4747248">Val</span><span class="op" id="4747251">(</span><span class="ident" id="4747252">AttrName</span><span class="op" id="4747260">)</span><span class="op" id="4747261">.</span><span class="op" id="4747262">(</span><span class="builtintype" id="4747263">string</span><span class="op" id="4747269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4747273">enc</span><span class="op" id="4747276">,</span>&nbsp;<span class="ident" id="4747278">ok</span>&nbsp;<span class="op" id="4747281">:=</span>&nbsp;<span class="ident" id="4747284">e</span><span class="op" id="4747285">.</span><span class="ident" id="4747286">Val</span><span class="op" id="4747289">(</span><span class="ident" id="4747290">AttrEncoding</span><span class="op" id="4747302">)</span><span class="op" id="4747303">.</span><span class="op" id="4747304">(</span><span class="ident" id="4747305">int64</span><span class="op" id="4747310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747314">if</span>&nbsp;<span class="op" id="4747317">!</span><span class="ident" id="4747318">ok</span>&nbsp;<span class="op" id="4747321">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4747326">err</span>&nbsp;<span class="op" id="4747330">=</span>&nbsp;<span class="ident" id="4747332">DecodeError</span><span class="op" id="4747343">{</span><span class="ident" id="4747344">name</span><span class="op" id="4747348">,</span>&nbsp;<span class="ident" id="4747350">e</span><span class="op" id="4747351">.</span><span class="ident" id="4747352">Offset</span><span class="op" id="4747358">,</span>&nbsp;<span class="string" id="4747360">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="4747394">+</span>&nbsp;<span class="ident" id="4747396">name</span><span class="op" id="4747400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747405">goto</span>&nbsp;<span class="ident" id="4747410">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4747418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747422">switch</span>&nbsp;<span class="ident" id="4747429">enc</span>&nbsp;<span class="op" id="4747433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747437">default</span><span class="op" id="4747444">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4747449">err</span>&nbsp;<span class="op" id="4747453">=</span>&nbsp;<span class="ident" id="4747455">DecodeError</span><span class="op" id="4747466">{</span><span class="ident" id="4747467">name</span><span class="op" id="4747471">,</span>&nbsp;<span class="ident" id="4747473">e</span><span class="op" id="4747474">.</span><span class="ident" id="4747475">Offset</span><span class="op" id="4747481">,</span>&nbsp;<span class="string" id="4747483">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="4747522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747527">goto</span>&nbsp;<span class="ident" id="4747532">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747541">case</span>&nbsp;<span class="ident" id="4747546">encAddress</span><span class="op" id="4747556">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4747561">typ</span>&nbsp;<span class="op" id="4747565">=</span>&nbsp;<span class="builtinfunc" id="4747567">new</span><span class="op" id="4747570">(</span><span class="ident" id="4747571">AddrType</span><span class="op" id="4747579">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747583">case</span>&nbsp;<span class="ident" id="4747588">encBoolean</span><span class="op" id="4747598">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4747603">typ</span>&nbsp;<span class="op" id="4747607">=</span>&nbsp;<span class="builtinfunc" id="4747609">new</span><span class="op" id="4747612">(</span><span class="ident" id="4747613">BoolType</span><span class="op" id="4747621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747625">case</span>&nbsp;<span class="ident" id="4747630">encComplexFloat</span><span class="op" id="4747645">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4747650">typ</span>&nbsp;<span class="op" id="4747654">=</span>&nbsp;<span class="builtinfunc" id="4747656">new</span><span class="op" id="4747659">(</span><span class="ident" id="4747660">ComplexType</span><span class="op" id="4747671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747676">if</span>&nbsp;<span class="ident" id="4747679">name</span>&nbsp;<span class="op" id="4747684">==</span>&nbsp;<span class="string" id="4747687">&#34;complex&#34;</span>&nbsp;<span class="op" id="4747697">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4747703">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4747785">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4747858">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747881">switch</span>&nbsp;<span class="ident" id="4747888">byteSize</span><span class="op" id="4747896">,</span>&nbsp;<span class="ident" id="4747898">_</span>&nbsp;<span class="op" id="4747900">:=</span>&nbsp;<span class="ident" id="4747903">e</span><span class="op" id="4747904">.</span><span class="ident" id="4747905">Val</span><span class="op" id="4747908">(</span><span class="ident" id="4747909">AttrByteSize</span><span class="op" id="4747921">)</span><span class="op" id="4747922">.</span><span class="op" id="4747923">(</span><span class="ident" id="4747924">int64</span><span class="op" id="4747929">)</span><span class="op" id="4747930">;</span>&nbsp;<span class="ident" id="4747932">byteSize</span>&nbsp;<span class="op" id="4747941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747947">case</span>&nbsp;<span class="num" id="4747952">8</span><span class="op" id="4747953">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4747960">name</span>&nbsp;<span class="op" id="4747965">=</span>&nbsp;<span class="string" id="4747967">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4747987">case</span>&nbsp;<span class="num" id="4747992">16</span><span class="op" id="4747994">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748001">name</span>&nbsp;<span class="op" id="4748006">=</span>&nbsp;<span class="string" id="4748008">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4748029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4748034">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4748038">case</span>&nbsp;<span class="ident" id="4748043">encFloat</span><span class="op" id="4748051">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748056">typ</span>&nbsp;<span class="op" id="4748060">=</span>&nbsp;<span class="builtinfunc" id="4748062">new</span><span class="op" id="4748065">(</span><span class="ident" id="4748066">FloatType</span><span class="op" id="4748075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4748079">case</span>&nbsp;<span class="ident" id="4748084">encSigned</span><span class="op" id="4748093">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748098">typ</span>&nbsp;<span class="op" id="4748102">=</span>&nbsp;<span class="builtinfunc" id="4748104">new</span><span class="op" id="4748107">(</span><span class="ident" id="4748108">IntType</span><span class="op" id="4748115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4748119">case</span>&nbsp;<span class="ident" id="4748124">encUnsigned</span><span class="op" id="4748135">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748140">typ</span>&nbsp;<span class="op" id="4748144">=</span>&nbsp;<span class="builtinfunc" id="4748146">new</span><span class="op" id="4748149">(</span><span class="ident" id="4748150">UintType</span><span class="op" id="4748158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4748162">case</span>&nbsp;<span class="ident" id="4748167">encSignedChar</span><span class="op" id="4748180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748185">typ</span>&nbsp;<span class="op" id="4748189">=</span>&nbsp;<span class="builtinfunc" id="4748191">new</span><span class="op" id="4748194">(</span><span class="ident" id="4748195">CharType</span><span class="op" id="4748203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4748207">case</span>&nbsp;<span class="ident" id="4748212">encUnsignedChar</span><span class="op" id="4748227">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748232">typ</span>&nbsp;<span class="op" id="4748236">=</span>&nbsp;<span class="builtinfunc" id="4748238">new</span><span class="op" id="4748241">(</span><span class="ident" id="4748242">UcharType</span><span class="op" id="4748251">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4748255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748259">typeCache</span><span class="op" id="4748268">[</span><span class="ident" id="4748269">off</span><span class="op" id="4748272">]</span>&nbsp;<span class="op" id="4748274">=</span>&nbsp;<span class="ident" id="4748276">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748282">t</span>&nbsp;<span class="op" id="4748284">:=</span>&nbsp;<span class="ident" id="4748287">typ</span><span class="op" id="4748290">.</span><span class="op" id="4748291">(</span><span class="keyword" id="4748292">interface</span>&nbsp;<span class="op" id="4748302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748307">Basic</span><span class="op" id="4748312">(</span><span class="op" id="4748313">)</span>&nbsp;<span class="op" id="4748315">*</span><span class="ident" id="4748316">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4748328">}</span><span class="op" id="4748329">)</span><span class="op" id="4748330">.</span><span class="ident" id="4748331">Basic</span><span class="op" id="4748336">(</span><span class="op" id="4748337">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748341">t</span><span class="op" id="4748342">.</span><span class="ident" id="4748343">Name</span>&nbsp;<span class="op" id="4748348">=</span>&nbsp;<span class="ident" id="4748350">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748357">t</span><span class="op" id="4748358">.</span><span class="ident" id="4748359">BitSize</span><span class="op" id="4748366">,</span>&nbsp;<span class="ident" id="4748368">_</span>&nbsp;<span class="op" id="4748370">=</span>&nbsp;<span class="ident" id="4748372">e</span><span class="op" id="4748373">.</span><span class="ident" id="4748374">Val</span><span class="op" id="4748377">(</span><span class="ident" id="4748378">AttrBitSize</span><span class="op" id="4748389">)</span><span class="op" id="4748390">.</span><span class="op" id="4748391">(</span><span class="ident" id="4748392">int64</span><span class="op" id="4748397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4748401">t</span><span class="op" id="4748402">.</span><span class="ident" id="4748403">BitOffset</span><span class="op" id="4748412">,</span>&nbsp;<span class="ident" id="4748414">_</span>&nbsp;<span class="op" id="4748416">=</span>&nbsp;<span class="ident" id="4748418">e</span><span class="op" id="4748419">.</span><span class="ident" id="4748420">Val</span><span class="op" id="4748423">(</span><span class="ident" id="4748424">AttrBitOffset</span><span class="op" id="4748437">)</span><span class="op" id="4748438">.</span><span class="op" id="4748439">(</span><span class="ident" id="4748440">int64</span><span class="op" id="4748445">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4748449">case</span>&nbsp;<span class="ident" id="4748454">TagClassType</span><span class="op" id="4748466">,</span>&nbsp;<span class="ident" id="4748468">TagStructType</span><span class="op" id="4748481">,</span>&nbsp;<span class="ident" id="4748483">TagUnionType</span><span class="op" id="4748495">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748499">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748555">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748572">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748619">//&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748659">//&nbsp;&nbsp;&nbsp;&nbsp;AttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748723">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748738">//&nbsp;&nbsp;&nbsp;&nbsp;TagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748777">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748819">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748861">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748895">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748955">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4748998">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749075">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749135">t</span>&nbsp;<span class="op" id="4749137">:=</span>&nbsp;<span class="builtinfunc" id="4749140">new</span><span class="op" id="4749143">(</span><span class="ident" id="4749144">StructType</span><span class="op" id="4749154">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749158">typ</span>&nbsp;<span class="op" id="4749162">=</span>&nbsp;<span class="ident" id="4749164">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749168">typeCache</span><span class="op" id="4749177">[</span><span class="ident" id="4749178">off</span><span class="op" id="4749181">]</span>&nbsp;<span class="op" id="4749183">=</span>&nbsp;<span class="ident" id="4749185">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749189">switch</span>&nbsp;<span class="ident" id="4749196">e</span><span class="op" id="4749197">.</span><span class="ident" id="4749198">Tag</span>&nbsp;<span class="op" id="4749202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749206">case</span>&nbsp;<span class="ident" id="4749211">TagClassType</span><span class="op" id="4749223">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749228">t</span><span class="op" id="4749229">.</span><span class="ident" id="4749230">Kind</span>&nbsp;<span class="op" id="4749235">=</span>&nbsp;<span class="string" id="4749237">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749247">case</span>&nbsp;<span class="ident" id="4749252">TagStructType</span><span class="op" id="4749265">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749270">t</span><span class="op" id="4749271">.</span><span class="ident" id="4749272">Kind</span>&nbsp;<span class="op" id="4749277">=</span>&nbsp;<span class="string" id="4749279">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749290">case</span>&nbsp;<span class="ident" id="4749295">TagUnionType</span><span class="op" id="4749307">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749312">t</span><span class="op" id="4749313">.</span><span class="ident" id="4749314">Kind</span>&nbsp;<span class="op" id="4749319">=</span>&nbsp;<span class="string" id="4749321">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4749331">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749335">t</span><span class="op" id="4749336">.</span><span class="ident" id="4749337">StructName</span><span class="op" id="4749347">,</span>&nbsp;<span class="ident" id="4749349">_</span>&nbsp;<span class="op" id="4749351">=</span>&nbsp;<span class="ident" id="4749353">e</span><span class="op" id="4749354">.</span><span class="ident" id="4749355">Val</span><span class="op" id="4749358">(</span><span class="ident" id="4749359">AttrName</span><span class="op" id="4749367">)</span><span class="op" id="4749368">.</span><span class="op" id="4749369">(</span><span class="builtintype" id="4749370">string</span><span class="op" id="4749376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749380">t</span><span class="op" id="4749381">.</span><span class="ident" id="4749382">Incomplete</span>&nbsp;<span class="op" id="4749393">=</span>&nbsp;<span class="ident" id="4749395">e</span><span class="op" id="4749396">.</span><span class="ident" id="4749397">Val</span><span class="op" id="4749400">(</span><span class="ident" id="4749401">AttrDeclaration</span><span class="op" id="4749416">)</span>&nbsp;<span class="op" id="4749418">!=</span>&nbsp;<span class="builtintype" id="4749421">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749427">t</span><span class="op" id="4749428">.</span><span class="ident" id="4749429">Field</span>&nbsp;<span class="op" id="4749435">=</span>&nbsp;<span class="builtinfunc" id="4749437">make</span><span class="op" id="4749441">(</span><span class="op" id="4749442">[</span><span class="op" id="4749443">]</span><span class="op" id="4749444">*</span><span class="ident" id="4749445">StructField</span><span class="op" id="4749456">,</span>&nbsp;<span class="num" id="4749458">0</span><span class="op" id="4749459">,</span>&nbsp;<span class="num" id="4749461">8</span><span class="op" id="4749462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749466">var</span>&nbsp;<span class="ident" id="4749470">lastFieldType</span>&nbsp;<span class="op" id="4749484">*</span><span class="ident" id="4749485">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749492">var</span>&nbsp;<span class="ident" id="4749496">lastFieldBitOffset</span>&nbsp;<span class="ident" id="4749515">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749523">for</span>&nbsp;<span class="ident" id="4749527">kid</span>&nbsp;<span class="op" id="4749531">:=</span>&nbsp;<span class="ident" id="4749534">next</span><span class="op" id="4749538">(</span><span class="op" id="4749539">)</span><span class="op" id="4749540">;</span>&nbsp;<span class="ident" id="4749542">kid</span>&nbsp;<span class="op" id="4749546">!=</span>&nbsp;<span class="builtintype" id="4749549">nil</span><span class="op" id="4749552">;</span>&nbsp;<span class="ident" id="4749554">kid</span>&nbsp;<span class="op" id="4749558">=</span>&nbsp;<span class="ident" id="4749560">next</span><span class="op" id="4749564">(</span><span class="op" id="4749565">)</span>&nbsp;<span class="op" id="4749567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749572">if</span>&nbsp;<span class="ident" id="4749575">kid</span><span class="op" id="4749578">.</span><span class="ident" id="4749579">Tag</span>&nbsp;<span class="op" id="4749583">==</span>&nbsp;<span class="ident" id="4749586">TagMember</span>&nbsp;<span class="op" id="4749596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749602">f</span>&nbsp;<span class="op" id="4749604">:=</span>&nbsp;<span class="builtinfunc" id="4749607">new</span><span class="op" id="4749610">(</span><span class="ident" id="4749611">StructField</span><span class="op" id="4749622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749628">if</span>&nbsp;<span class="ident" id="4749631">f</span><span class="op" id="4749632">.</span><span class="ident" id="4749633">Type</span>&nbsp;<span class="op" id="4749638">=</span>&nbsp;<span class="ident" id="4749640">typeOf</span><span class="op" id="4749646">(</span><span class="ident" id="4749647">kid</span><span class="op" id="4749650">)</span><span class="op" id="4749651">;</span>&nbsp;<span class="ident" id="4749653">err</span>&nbsp;<span class="op" id="4749657">!=</span>&nbsp;<span class="builtintype" id="4749660">nil</span>&nbsp;<span class="op" id="4749664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749671">goto</span>&nbsp;<span class="ident" id="4749676">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4749686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749692">switch</span>&nbsp;<span class="ident" id="4749699">loc</span>&nbsp;<span class="op" id="4749703">:=</span>&nbsp;<span class="ident" id="4749706">kid</span><span class="op" id="4749709">.</span><span class="ident" id="4749710">Val</span><span class="op" id="4749713">(</span><span class="ident" id="4749714">AttrDataMemberLoc</span><span class="op" id="4749731">)</span><span class="op" id="4749732">.</span><span class="op" id="4749733">(</span><span class="keyword" id="4749734">type</span><span class="op" id="4749738">)</span>&nbsp;<span class="op" id="4749740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749746">case</span>&nbsp;<span class="op" id="4749751">[</span><span class="op" id="4749752">]</span><span class="builtintype" id="4749753">byte</span><span class="op" id="4749757">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749764">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749811">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749849">b</span>&nbsp;<span class="op" id="4749851">:=</span>&nbsp;<span class="ident" id="4749854">makeBuf</span><span class="op" id="4749861">(</span><span class="ident" id="4749862">d</span><span class="op" id="4749863">,</span>&nbsp;<span class="ident" id="4749865">unknownFormat</span><span class="op" id="4749878">{</span><span class="op" id="4749879">}</span><span class="op" id="4749880">,</span>&nbsp;<span class="string" id="4749882">&#34;location&#34;</span><span class="op" id="4749892">,</span>&nbsp;<span class="num" id="4749894">0</span><span class="op" id="4749895">,</span>&nbsp;<span class="ident" id="4749897">loc</span><span class="op" id="4749900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749907">if</span>&nbsp;<span class="ident" id="4749910">b</span><span class="op" id="4749911">.</span><span class="builtintype" id="4749912">uint8</span><span class="op" id="4749917">(</span><span class="op" id="4749918">)</span>&nbsp;<span class="op" id="4749920">!=</span>&nbsp;<span class="ident" id="4749923">opPlusUconst</span>&nbsp;<span class="op" id="4749936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749944">err</span>&nbsp;<span class="op" id="4749948">=</span>&nbsp;<span class="ident" id="4749950">DecodeError</span><span class="op" id="4749961">{</span><span class="ident" id="4749962">name</span><span class="op" id="4749966">,</span>&nbsp;<span class="ident" id="4749968">kid</span><span class="op" id="4749971">.</span><span class="ident" id="4749972">Offset</span><span class="op" id="4749978">,</span>&nbsp;<span class="string" id="4749980">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="4749999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750007">goto</span>&nbsp;<span class="ident" id="4750012">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750023">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750030">f</span><span class="op" id="4750031">.</span><span class="ident" id="4750032">ByteOffset</span>&nbsp;<span class="op" id="4750043">=</span>&nbsp;<span class="ident" id="4750045">int64</span><span class="op" id="4750050">(</span><span class="ident" id="4750051">b</span><span class="op" id="4750052">.</span><span class="builtintype" id="4750053">uint</span><span class="op" id="4750057">(</span><span class="op" id="4750058">)</span><span class="op" id="4750059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750066">if</span>&nbsp;<span class="ident" id="4750069">b</span><span class="op" id="4750070">.</span><span class="ident" id="4750071">err</span>&nbsp;<span class="op" id="4750075">!=</span>&nbsp;<span class="builtintype" id="4750078">nil</span>&nbsp;<span class="op" id="4750082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750090">err</span>&nbsp;<span class="op" id="4750094">=</span>&nbsp;<span class="ident" id="4750096">b</span><span class="op" id="4750097">.</span><span class="ident" id="4750098">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750108">goto</span>&nbsp;<span class="ident" id="4750113">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750124">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750130">case</span>&nbsp;<span class="ident" id="4750135">int64</span><span class="op" id="4750140">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750147">f</span><span class="op" id="4750148">.</span><span class="ident" id="4750149">ByteOffset</span>&nbsp;<span class="op" id="4750160">=</span>&nbsp;<span class="ident" id="4750162">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750177">haveBitOffset</span>&nbsp;<span class="op" id="4750191">:=</span>&nbsp;<span class="builtintype" id="4750194">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750204">f</span><span class="op" id="4750205">.</span><span class="ident" id="4750206">Name</span><span class="op" id="4750210">,</span>&nbsp;<span class="ident" id="4750212">_</span>&nbsp;<span class="op" id="4750214">=</span>&nbsp;<span class="ident" id="4750216">kid</span><span class="op" id="4750219">.</span><span class="ident" id="4750220">Val</span><span class="op" id="4750223">(</span><span class="ident" id="4750224">AttrName</span><span class="op" id="4750232">)</span><span class="op" id="4750233">.</span><span class="op" id="4750234">(</span><span class="builtintype" id="4750235">string</span><span class="op" id="4750241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750247">f</span><span class="op" id="4750248">.</span><span class="ident" id="4750249">ByteSize</span><span class="op" id="4750257">,</span>&nbsp;<span class="ident" id="4750259">_</span>&nbsp;<span class="op" id="4750261">=</span>&nbsp;<span class="ident" id="4750263">kid</span><span class="op" id="4750266">.</span><span class="ident" id="4750267">Val</span><span class="op" id="4750270">(</span><span class="ident" id="4750271">AttrByteSize</span><span class="op" id="4750283">)</span><span class="op" id="4750284">.</span><span class="op" id="4750285">(</span><span class="ident" id="4750286">int64</span><span class="op" id="4750291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750297">f</span><span class="op" id="4750298">.</span><span class="ident" id="4750299">BitOffset</span><span class="op" id="4750308">,</span>&nbsp;<span class="ident" id="4750310">haveBitOffset</span>&nbsp;<span class="op" id="4750324">=</span>&nbsp;<span class="ident" id="4750326">kid</span><span class="op" id="4750329">.</span><span class="ident" id="4750330">Val</span><span class="op" id="4750333">(</span><span class="ident" id="4750334">AttrBitOffset</span><span class="op" id="4750347">)</span><span class="op" id="4750348">.</span><span class="op" id="4750349">(</span><span class="ident" id="4750350">int64</span><span class="op" id="4750355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750361">f</span><span class="op" id="4750362">.</span><span class="ident" id="4750363">BitSize</span><span class="op" id="4750370">,</span>&nbsp;<span class="ident" id="4750372">_</span>&nbsp;<span class="op" id="4750374">=</span>&nbsp;<span class="ident" id="4750376">kid</span><span class="op" id="4750379">.</span><span class="ident" id="4750380">Val</span><span class="op" id="4750383">(</span><span class="ident" id="4750384">AttrBitSize</span><span class="op" id="4750395">)</span><span class="op" id="4750396">.</span><span class="op" id="4750397">(</span><span class="ident" id="4750398">int64</span><span class="op" id="4750403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750409">t</span><span class="op" id="4750410">.</span><span class="ident" id="4750411">Field</span>&nbsp;<span class="op" id="4750417">=</span>&nbsp;<span class="builtinfunc" id="4750419">append</span><span class="op" id="4750425">(</span><span class="ident" id="4750426">t</span><span class="op" id="4750427">.</span><span class="ident" id="4750428">Field</span><span class="op" id="4750433">,</span>&nbsp;<span class="ident" id="4750435">f</span><span class="op" id="4750436">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750443">bito</span>&nbsp;<span class="op" id="4750448">:=</span>&nbsp;<span class="ident" id="4750451">f</span><span class="op" id="4750452">.</span><span class="ident" id="4750453">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750467">if</span>&nbsp;<span class="op" id="4750470">!</span><span class="ident" id="4750471">haveBitOffset</span>&nbsp;<span class="op" id="4750485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750492">bito</span>&nbsp;<span class="op" id="4750497">=</span>&nbsp;<span class="ident" id="4750499">f</span><span class="op" id="4750500">.</span><span class="ident" id="4750501">ByteOffset</span>&nbsp;<span class="op" id="4750512">*</span>&nbsp;<span class="num" id="4750514">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750520">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750526">if</span>&nbsp;<span class="ident" id="4750529">bito</span>&nbsp;<span class="op" id="4750534">==</span>&nbsp;<span class="ident" id="4750537">lastFieldBitOffset</span>&nbsp;<span class="op" id="4750556">&amp;&amp;</span>&nbsp;<span class="ident" id="4750559">t</span><span class="op" id="4750560">.</span><span class="ident" id="4750561">Kind</span>&nbsp;<span class="op" id="4750566">!=</span>&nbsp;<span class="string" id="4750569">&#34;union&#34;</span>&nbsp;<span class="op" id="4750577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4750584">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4750638">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750714">zeroArray</span><span class="op" id="4750723">(</span><span class="ident" id="4750724">lastFieldType</span><span class="op" id="4750737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750743">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750749">lastFieldType</span>&nbsp;<span class="op" id="4750763">=</span>&nbsp;<span class="op" id="4750765">&amp;</span><span class="ident" id="4750766">f</span><span class="op" id="4750767">.</span><span class="ident" id="4750768">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750777">lastFieldBitOffset</span>&nbsp;<span class="op" id="4750796">=</span>&nbsp;<span class="ident" id="4750798">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750814">if</span>&nbsp;<span class="ident" id="4750817">t</span><span class="op" id="4750818">.</span><span class="ident" id="4750819">Kind</span>&nbsp;<span class="op" id="4750824">!=</span>&nbsp;<span class="string" id="4750827">&#34;union&#34;</span>&nbsp;<span class="op" id="4750835">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750840">b</span><span class="op" id="4750841">,</span>&nbsp;<span class="ident" id="4750843">ok</span>&nbsp;<span class="op" id="4750846">:=</span>&nbsp;<span class="ident" id="4750849">e</span><span class="op" id="4750850">.</span><span class="ident" id="4750851">Val</span><span class="op" id="4750854">(</span><span class="ident" id="4750855">AttrByteSize</span><span class="op" id="4750867">)</span><span class="op" id="4750868">.</span><span class="op" id="4750869">(</span><span class="ident" id="4750870">int64</span><span class="op" id="4750875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750880">if</span>&nbsp;<span class="ident" id="4750883">ok</span>&nbsp;<span class="op" id="4750886">&amp;&amp;</span>&nbsp;<span class="ident" id="4750889">b</span><span class="op" id="4750890">*</span><span class="num" id="4750891">8</span>&nbsp;<span class="op" id="4750893">==</span>&nbsp;<span class="ident" id="4750896">lastFieldBitOffset</span>&nbsp;<span class="op" id="4750915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4750921">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750979">zeroArray</span><span class="op" id="4750988">(</span><span class="ident" id="4750989">lastFieldType</span><span class="op" id="4751002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4751007">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4751011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751015">case</span>&nbsp;<span class="ident" id="4751020">TagConstType</span><span class="op" id="4751032">,</span>&nbsp;<span class="ident" id="4751034">TagVolatileType</span><span class="op" id="4751049">,</span>&nbsp;<span class="ident" id="4751051">TagRestrictType</span><span class="op" id="4751066">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751070">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751106">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751123">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751146">t</span>&nbsp;<span class="op" id="4751148">:=</span>&nbsp;<span class="builtinfunc" id="4751151">new</span><span class="op" id="4751154">(</span><span class="ident" id="4751155">QualType</span><span class="op" id="4751163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751167">typ</span>&nbsp;<span class="op" id="4751171">=</span>&nbsp;<span class="ident" id="4751173">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751177">typeCache</span><span class="op" id="4751186">[</span><span class="ident" id="4751187">off</span><span class="op" id="4751190">]</span>&nbsp;<span class="op" id="4751192">=</span>&nbsp;<span class="ident" id="4751194">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751198">if</span>&nbsp;<span class="ident" id="4751201">t</span><span class="op" id="4751202">.</span><span class="ident" id="4751203">Type</span>&nbsp;<span class="op" id="4751208">=</span>&nbsp;<span class="ident" id="4751210">typeOf</span><span class="op" id="4751216">(</span><span class="ident" id="4751217">e</span><span class="op" id="4751218">)</span><span class="op" id="4751219">;</span>&nbsp;<span class="ident" id="4751221">err</span>&nbsp;<span class="op" id="4751225">!=</span>&nbsp;<span class="builtintype" id="4751228">nil</span>&nbsp;<span class="op" id="4751232">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751237">goto</span>&nbsp;<span class="ident" id="4751242">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4751250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751254">switch</span>&nbsp;<span class="ident" id="4751261">e</span><span class="op" id="4751262">.</span><span class="ident" id="4751263">Tag</span>&nbsp;<span class="op" id="4751267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751271">case</span>&nbsp;<span class="ident" id="4751276">TagConstType</span><span class="op" id="4751288">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751293">t</span><span class="op" id="4751294">.</span><span class="ident" id="4751295">Qual</span>&nbsp;<span class="op" id="4751300">=</span>&nbsp;<span class="string" id="4751302">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751312">case</span>&nbsp;<span class="ident" id="4751317">TagRestrictType</span><span class="op" id="4751332">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751337">t</span><span class="op" id="4751338">.</span><span class="ident" id="4751339">Qual</span>&nbsp;<span class="op" id="4751344">=</span>&nbsp;<span class="string" id="4751346">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751359">case</span>&nbsp;<span class="ident" id="4751364">TagVolatileType</span><span class="op" id="4751379">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751384">t</span><span class="op" id="4751385">.</span><span class="ident" id="4751386">Qual</span>&nbsp;<span class="op" id="4751391">=</span>&nbsp;<span class="string" id="4751393">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4751406">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751410">case</span>&nbsp;<span class="ident" id="4751415">TagEnumerationType</span><span class="op" id="4751433">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751437">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;§5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751476">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751493">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751525">//&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751586">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751601">//&nbsp;&nbsp;&nbsp;&nbsp;TagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751621">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751654">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751694">t</span>&nbsp;<span class="op" id="4751696">:=</span>&nbsp;<span class="builtinfunc" id="4751699">new</span><span class="op" id="4751702">(</span><span class="ident" id="4751703">EnumType</span><span class="op" id="4751711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751715">typ</span>&nbsp;<span class="op" id="4751719">=</span>&nbsp;<span class="ident" id="4751721">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751725">typeCache</span><span class="op" id="4751734">[</span><span class="ident" id="4751735">off</span><span class="op" id="4751738">]</span>&nbsp;<span class="op" id="4751740">=</span>&nbsp;<span class="ident" id="4751742">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751746">t</span><span class="op" id="4751747">.</span><span class="ident" id="4751748">EnumName</span><span class="op" id="4751756">,</span>&nbsp;<span class="ident" id="4751758">_</span>&nbsp;<span class="op" id="4751760">=</span>&nbsp;<span class="ident" id="4751762">e</span><span class="op" id="4751763">.</span><span class="ident" id="4751764">Val</span><span class="op" id="4751767">(</span><span class="ident" id="4751768">AttrName</span><span class="op" id="4751776">)</span><span class="op" id="4751777">.</span><span class="op" id="4751778">(</span><span class="builtintype" id="4751779">string</span><span class="op" id="4751785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751789">t</span><span class="op" id="4751790">.</span><span class="ident" id="4751791">Val</span>&nbsp;<span class="op" id="4751795">=</span>&nbsp;<span class="builtinfunc" id="4751797">make</span><span class="op" id="4751801">(</span><span class="op" id="4751802">[</span><span class="op" id="4751803">]</span><span class="op" id="4751804">*</span><span class="ident" id="4751805">EnumValue</span><span class="op" id="4751814">,</span>&nbsp;<span class="num" id="4751816">0</span><span class="op" id="4751817">,</span>&nbsp;<span class="num" id="4751819">8</span><span class="op" id="4751820">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751824">for</span>&nbsp;<span class="ident" id="4751828">kid</span>&nbsp;<span class="op" id="4751832">:=</span>&nbsp;<span class="ident" id="4751835">next</span><span class="op" id="4751839">(</span><span class="op" id="4751840">)</span><span class="op" id="4751841">;</span>&nbsp;<span class="ident" id="4751843">kid</span>&nbsp;<span class="op" id="4751847">!=</span>&nbsp;<span class="builtintype" id="4751850">nil</span><span class="op" id="4751853">;</span>&nbsp;<span class="ident" id="4751855">kid</span>&nbsp;<span class="op" id="4751859">=</span>&nbsp;<span class="ident" id="4751861">next</span><span class="op" id="4751865">(</span><span class="op" id="4751866">)</span>&nbsp;<span class="op" id="4751868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751873">if</span>&nbsp;<span class="ident" id="4751876">kid</span><span class="op" id="4751879">.</span><span class="ident" id="4751880">Tag</span>&nbsp;<span class="op" id="4751884">==</span>&nbsp;<span class="ident" id="4751887">TagEnumerator</span>&nbsp;<span class="op" id="4751901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751907">f</span>&nbsp;<span class="op" id="4751909">:=</span>&nbsp;<span class="builtinfunc" id="4751912">new</span><span class="op" id="4751915">(</span><span class="ident" id="4751916">EnumValue</span><span class="op" id="4751925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751931">f</span><span class="op" id="4751932">.</span><span class="ident" id="4751933">Name</span><span class="op" id="4751937">,</span>&nbsp;<span class="ident" id="4751939">_</span>&nbsp;<span class="op" id="4751941">=</span>&nbsp;<span class="ident" id="4751943">kid</span><span class="op" id="4751946">.</span><span class="ident" id="4751947">Val</span><span class="op" id="4751950">(</span><span class="ident" id="4751951">AttrName</span><span class="op" id="4751959">)</span><span class="op" id="4751960">.</span><span class="op" id="4751961">(</span><span class="builtintype" id="4751962">string</span><span class="op" id="4751968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751974">f</span><span class="op" id="4751975">.</span><span class="ident" id="4751976">Val</span><span class="op" id="4751979">,</span>&nbsp;<span class="ident" id="4751981">_</span>&nbsp;<span class="op" id="4751983">=</span>&nbsp;<span class="ident" id="4751985">kid</span><span class="op" id="4751988">.</span><span class="ident" id="4751989">Val</span><span class="op" id="4751992">(</span><span class="ident" id="4751993">AttrConstValue</span><span class="op" id="4752007">)</span><span class="op" id="4752008">.</span><span class="op" id="4752009">(</span><span class="ident" id="4752010">int64</span><span class="op" id="4752015">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752021">n</span>&nbsp;<span class="op" id="4752023">:=</span>&nbsp;<span class="builtinfunc" id="4752026">len</span><span class="op" id="4752029">(</span><span class="ident" id="4752030">t</span><span class="op" id="4752031">.</span><span class="ident" id="4752032">Val</span><span class="op" id="4752035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752041">if</span>&nbsp;<span class="ident" id="4752044">n</span>&nbsp;<span class="op" id="4752046">&gt;=</span>&nbsp;<span class="builtinfunc" id="4752049">cap</span><span class="op" id="4752052">(</span><span class="ident" id="4752053">t</span><span class="op" id="4752054">.</span><span class="ident" id="4752055">Val</span><span class="op" id="4752058">)</span>&nbsp;<span class="op" id="4752060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752067">val</span>&nbsp;<span class="op" id="4752071">:=</span>&nbsp;<span class="builtinfunc" id="4752074">make</span><span class="op" id="4752078">(</span><span class="op" id="4752079">[</span><span class="op" id="4752080">]</span><span class="op" id="4752081">*</span><span class="ident" id="4752082">EnumValue</span><span class="op" id="4752091">,</span>&nbsp;<span class="ident" id="4752093">n</span><span class="op" id="4752094">,</span>&nbsp;<span class="ident" id="4752096">n</span><span class="op" id="4752097">*</span><span class="num" id="4752098">2</span><span class="op" id="4752099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4752106">copy</span><span class="op" id="4752110">(</span><span class="ident" id="4752111">val</span><span class="op" id="4752114">,</span>&nbsp;<span class="ident" id="4752116">t</span><span class="op" id="4752117">.</span><span class="ident" id="4752118">Val</span><span class="op" id="4752121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752128">t</span><span class="op" id="4752129">.</span><span class="ident" id="4752130">Val</span>&nbsp;<span class="op" id="4752134">=</span>&nbsp;<span class="ident" id="4752136">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4752144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752150">t</span><span class="op" id="4752151">.</span><span class="ident" id="4752152">Val</span>&nbsp;<span class="op" id="4752156">=</span>&nbsp;<span class="ident" id="4752158">t</span><span class="op" id="4752159">.</span><span class="ident" id="4752160">Val</span><span class="op" id="4752163">[</span><span class="num" id="4752164">0</span>&nbsp;<span class="op" id="4752166">:</span>&nbsp;<span class="ident" id="4752168">n</span><span class="op" id="4752169">+</span><span class="num" id="4752170">1</span><span class="op" id="4752171">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752177">t</span><span class="op" id="4752178">.</span><span class="ident" id="4752179">Val</span><span class="op" id="4752182">[</span><span class="ident" id="4752183">n</span><span class="op" id="4752184">]</span>&nbsp;<span class="op" id="4752186">=</span>&nbsp;<span class="ident" id="4752188">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4752193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4752197">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752201">case</span>&nbsp;<span class="ident" id="4752206">TagPointerType</span><span class="op" id="4752220">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752224">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752260">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752277">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752339">//&nbsp;&nbsp;&nbsp;&nbsp;AttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752383">t</span>&nbsp;<span class="op" id="4752385">:=</span>&nbsp;<span class="builtinfunc" id="4752388">new</span><span class="op" id="4752391">(</span><span class="ident" id="4752392">PtrType</span><span class="op" id="4752399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752403">typ</span>&nbsp;<span class="op" id="4752407">=</span>&nbsp;<span class="ident" id="4752409">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752413">typeCache</span><span class="op" id="4752422">[</span><span class="ident" id="4752423">off</span><span class="op" id="4752426">]</span>&nbsp;<span class="op" id="4752428">=</span>&nbsp;<span class="ident" id="4752430">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752434">if</span>&nbsp;<span class="ident" id="4752437">e</span><span class="op" id="4752438">.</span><span class="ident" id="4752439">Val</span><span class="op" id="4752442">(</span><span class="ident" id="4752443">AttrType</span><span class="op" id="4752451">)</span>&nbsp;<span class="op" id="4752453">==</span>&nbsp;<span class="builtintype" id="4752456">nil</span>&nbsp;<span class="op" id="4752460">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752465">t</span><span class="op" id="4752466">.</span><span class="ident" id="4752467">Type</span>&nbsp;<span class="op" id="4752472">=</span>&nbsp;<span class="op" id="4752474">&amp;</span><span class="ident" id="4752475">VoidType</span><span class="op" id="4752483">{</span><span class="op" id="4752484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752489">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4752497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752501">t</span><span class="op" id="4752502">.</span><span class="ident" id="4752503">Type</span>&nbsp;<span class="op" id="4752508">=</span>&nbsp;<span class="ident" id="4752510">typeOf</span><span class="op" id="4752516">(</span><span class="ident" id="4752517">e</span><span class="op" id="4752518">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752522">case</span>&nbsp;<span class="ident" id="4752527">TagSubroutineType</span><span class="op" id="4752544">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752548">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752588">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752605">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752648">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752695">//&nbsp;&nbsp;&nbsp;&nbsp;AttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752756">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752771">//&nbsp;&nbsp;&nbsp;&nbsp;TagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752812">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752846">//&nbsp;&nbsp;&nbsp;&nbsp;TagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752886">t</span>&nbsp;<span class="op" id="4752888">:=</span>&nbsp;<span class="builtinfunc" id="4752891">new</span><span class="op" id="4752894">(</span><span class="ident" id="4752895">FuncType</span><span class="op" id="4752903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752907">typ</span>&nbsp;<span class="op" id="4752911">=</span>&nbsp;<span class="ident" id="4752913">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752917">typeCache</span><span class="op" id="4752926">[</span><span class="ident" id="4752927">off</span><span class="op" id="4752930">]</span>&nbsp;<span class="op" id="4752932">=</span>&nbsp;<span class="ident" id="4752934">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752938">if</span>&nbsp;<span class="ident" id="4752941">t</span><span class="op" id="4752942">.</span><span class="ident" id="4752943">ReturnType</span>&nbsp;<span class="op" id="4752954">=</span>&nbsp;<span class="ident" id="4752956">typeOf</span><span class="op" id="4752962">(</span><span class="ident" id="4752963">e</span><span class="op" id="4752964">)</span><span class="op" id="4752965">;</span>&nbsp;<span class="ident" id="4752967">err</span>&nbsp;<span class="op" id="4752971">!=</span>&nbsp;<span class="builtintype" id="4752974">nil</span>&nbsp;<span class="op" id="4752978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752983">goto</span>&nbsp;<span class="ident" id="4752988">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4752996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753000">t</span><span class="op" id="4753001">.</span><span class="ident" id="4753002">ParamType</span>&nbsp;<span class="op" id="4753012">=</span>&nbsp;<span class="builtinfunc" id="4753014">make</span><span class="op" id="4753018">(</span><span class="op" id="4753019">[</span><span class="op" id="4753020">]</span><span class="ident" id="4753021">Type</span><span class="op" id="4753025">,</span>&nbsp;<span class="num" id="4753027">0</span><span class="op" id="4753028">,</span>&nbsp;<span class="num" id="4753030">8</span><span class="op" id="4753031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753035">for</span>&nbsp;<span class="ident" id="4753039">kid</span>&nbsp;<span class="op" id="4753043">:=</span>&nbsp;<span class="ident" id="4753046">next</span><span class="op" id="4753050">(</span><span class="op" id="4753051">)</span><span class="op" id="4753052">;</span>&nbsp;<span class="ident" id="4753054">kid</span>&nbsp;<span class="op" id="4753058">!=</span>&nbsp;<span class="builtintype" id="4753061">nil</span><span class="op" id="4753064">;</span>&nbsp;<span class="ident" id="4753066">kid</span>&nbsp;<span class="op" id="4753070">=</span>&nbsp;<span class="ident" id="4753072">next</span><span class="op" id="4753076">(</span><span class="op" id="4753077">)</span>&nbsp;<span class="op" id="4753079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753084">var</span>&nbsp;<span class="ident" id="4753088">tkid</span>&nbsp;<span class="ident" id="4753093">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753101">switch</span>&nbsp;<span class="ident" id="4753108">kid</span><span class="op" id="4753111">.</span><span class="ident" id="4753112">Tag</span>&nbsp;<span class="op" id="4753116">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753121">default</span><span class="op" id="4753128">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753134">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753146">case</span>&nbsp;<span class="ident" id="4753151">TagFormalParameter</span><span class="op" id="4753169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753175">if</span>&nbsp;<span class="ident" id="4753178">tkid</span>&nbsp;<span class="op" id="4753183">=</span>&nbsp;<span class="ident" id="4753185">typeOf</span><span class="op" id="4753191">(</span><span class="ident" id="4753192">kid</span><span class="op" id="4753195">)</span><span class="op" id="4753196">;</span>&nbsp;<span class="ident" id="4753198">err</span>&nbsp;<span class="op" id="4753202">!=</span>&nbsp;<span class="builtintype" id="4753205">nil</span>&nbsp;<span class="op" id="4753209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753216">goto</span>&nbsp;<span class="ident" id="4753221">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753236">case</span>&nbsp;<span class="ident" id="4753241">TagUnspecifiedParameters</span><span class="op" id="4753265">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753271">tkid</span>&nbsp;<span class="op" id="4753276">=</span>&nbsp;<span class="op" id="4753278">&amp;</span><span class="ident" id="4753279">DotDotDotType</span><span class="op" id="4753292">{</span><span class="op" id="4753293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753303">t</span><span class="op" id="4753304">.</span><span class="ident" id="4753305">ParamType</span>&nbsp;<span class="op" id="4753315">=</span>&nbsp;<span class="builtinfunc" id="4753317">append</span><span class="op" id="4753323">(</span><span class="ident" id="4753324">t</span><span class="op" id="4753325">.</span><span class="ident" id="4753326">ParamType</span><span class="op" id="4753335">,</span>&nbsp;<span class="ident" id="4753337">tkid</span><span class="op" id="4753341">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753349">case</span>&nbsp;<span class="ident" id="4753354">TagTypedef</span><span class="op" id="4753364">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753368">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;§5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753398">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753415">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753446">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753488">t</span>&nbsp;<span class="op" id="4753490">:=</span>&nbsp;<span class="builtinfunc" id="4753493">new</span><span class="op" id="4753496">(</span><span class="ident" id="4753497">TypedefType</span><span class="op" id="4753508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753512">typ</span>&nbsp;<span class="op" id="4753516">=</span>&nbsp;<span class="ident" id="4753518">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753522">typeCache</span><span class="op" id="4753531">[</span><span class="ident" id="4753532">off</span><span class="op" id="4753535">]</span>&nbsp;<span class="op" id="4753537">=</span>&nbsp;<span class="ident" id="4753539">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753543">t</span><span class="op" id="4753544">.</span><span class="ident" id="4753545">Name</span><span class="op" id="4753549">,</span>&nbsp;<span class="ident" id="4753551">_</span>&nbsp;<span class="op" id="4753553">=</span>&nbsp;<span class="ident" id="4753555">e</span><span class="op" id="4753556">.</span><span class="ident" id="4753557">Val</span><span class="op" id="4753560">(</span><span class="ident" id="4753561">AttrName</span><span class="op" id="4753569">)</span><span class="op" id="4753570">.</span><span class="op" id="4753571">(</span><span class="builtintype" id="4753572">string</span><span class="op" id="4753578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753582">t</span><span class="op" id="4753583">.</span><span class="ident" id="4753584">Type</span>&nbsp;<span class="op" id="4753589">=</span>&nbsp;<span class="ident" id="4753591">typeOf</span><span class="op" id="4753597">(</span><span class="ident" id="4753598">e</span><span class="op" id="4753599">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753603">case</span>&nbsp;<span class="ident" id="4753608">TagUnspecifiedType</span><span class="op" id="4753626">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753630">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;§5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753669">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753686">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753706">t</span>&nbsp;<span class="op" id="4753708">:=</span>&nbsp;<span class="builtinfunc" id="4753711">new</span><span class="op" id="4753714">(</span><span class="ident" id="4753715">UnspecifiedType</span><span class="op" id="4753730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753734">typ</span>&nbsp;<span class="op" id="4753738">=</span>&nbsp;<span class="ident" id="4753740">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753744">typeCache</span><span class="op" id="4753753">[</span><span class="ident" id="4753754">off</span><span class="op" id="4753757">]</span>&nbsp;<span class="op" id="4753759">=</span>&nbsp;<span class="ident" id="4753761">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753765">t</span><span class="op" id="4753766">.</span><span class="ident" id="4753767">Name</span><span class="op" id="4753771">,</span>&nbsp;<span class="ident" id="4753773">_</span>&nbsp;<span class="op" id="4753775">=</span>&nbsp;<span class="ident" id="4753777">e</span><span class="op" id="4753778">.</span><span class="ident" id="4753779">Val</span><span class="op" id="4753782">(</span><span class="ident" id="4753783">AttrName</span><span class="op" id="4753791">)</span><span class="op" id="4753792">.</span><span class="op" id="4753793">(</span><span class="builtintype" id="4753794">string</span><span class="op" id="4753800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753807">if</span>&nbsp;<span class="ident" id="4753810">err</span>&nbsp;<span class="op" id="4753814">!=</span>&nbsp;<span class="builtintype" id="4753817">nil</span>&nbsp;<span class="op" id="4753821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753825">goto</span>&nbsp;<span class="ident" id="4753830">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753845">b</span><span class="op" id="4753846">,</span>&nbsp;<span class="ident" id="4753848">ok</span>&nbsp;<span class="op" id="4753851">:=</span>&nbsp;<span class="ident" id="4753854">e</span><span class="op" id="4753855">.</span><span class="ident" id="4753856">Val</span><span class="op" id="4753859">(</span><span class="ident" id="4753860">AttrByteSize</span><span class="op" id="4753872">)</span><span class="op" id="4753873">.</span><span class="op" id="4753874">(</span><span class="ident" id="4753875">int64</span><span class="op" id="4753880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753884">if</span>&nbsp;<span class="op" id="4753887">!</span><span class="ident" id="4753888">ok</span>&nbsp;<span class="op" id="4753891">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753896">b</span>&nbsp;<span class="op" id="4753898">=</span>&nbsp;<span class="op" id="4753900">-</span><span class="num" id="4753901">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753909">typ</span><span class="op" id="4753912">.</span><span class="ident" id="4753913">Common</span><span class="op" id="4753919">(</span><span class="op" id="4753920">)</span><span class="op" id="4753921">.</span><span class="ident" id="4753922">ByteSize</span>&nbsp;<span class="op" id="4753931">=</span>&nbsp;<span class="ident" id="4753933">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753939">return</span>&nbsp;<span class="ident" id="4753946">typ</span><span class="op" id="4753949">,</span>&nbsp;<span class="builtintype" id="4753951">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="4753956">Error</span><span class="op" id="4753961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753964">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4754019">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4754074">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4754108">delete</span><span class="op" id="4754114">(</span><span class="ident" id="4754115">typeCache</span><span class="op" id="4754124">,</span>&nbsp;<span class="ident" id="4754126">off</span><span class="op" id="4754129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4754132">return</span>&nbsp;<span class="builtintype" id="4754139">nil</span><span class="op" id="4754142">,</span>&nbsp;<span class="ident" id="4754144">err</span><br>
<span class="lineno"></span><span class="op" id="4754148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4754151">func</span>&nbsp;<span class="ident" id="4754156">zeroArray</span><span class="op" id="4754165">(</span><span class="ident" id="4754166">t</span>&nbsp;<span class="op" id="4754168">*</span><span class="ident" id="4754169">Type</span><span class="op" id="4754173">)</span>&nbsp;<span class="op" id="4754175">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4754178">if</span>&nbsp;<span class="ident" id="4754181">t</span>&nbsp;<span class="op" id="4754183">==</span>&nbsp;<span class="builtintype" id="4754186">nil</span>&nbsp;<span class="op" id="4754190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4754194">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4754202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4754205">at</span><span class="op" id="4754207">,</span>&nbsp;<span class="ident" id="4754209">ok</span>&nbsp;<span class="op" id="4754212">:=</span>&nbsp;<span class="op" id="4754215">(</span><span class="op" id="4754216">*</span><span class="ident" id="4754217">t</span><span class="op" id="4754218">)</span><span class="op" id="4754219">.</span><span class="op" id="4754220">(</span><span class="op" id="4754221">*</span><span class="ident" id="4754222">ArrayType</span><span class="op" id="4754231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4754234">if</span>&nbsp;<span class="op" id="4754237">!</span><span class="ident" id="4754238">ok</span>&nbsp;<span class="op" id="4754241">||</span>&nbsp;<span class="ident" id="4754244">at</span><span class="op" id="4754246">.</span><span class="ident" id="4754247">Type</span><span class="op" id="4754251">.</span><span class="ident" id="4754252">Size</span><span class="op" id="4754256">(</span><span class="op" id="4754257">)</span>&nbsp;<span class="op" id="4754259">==</span>&nbsp;<span class="num" id="4754262">0</span>&nbsp;<span class="op" id="4754264">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4754268">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4754276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4754279">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4754328">tt</span>&nbsp;<span class="op" id="4754331">:=</span>&nbsp;<span class="op" id="4754334">*</span><span class="ident" id="4754335">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4754339">tt</span><span class="op" id="4754341">.</span><span class="ident" id="4754342">Count</span>&nbsp;<span class="op" id="4754348">=</span>&nbsp;<span class="num" id="4754350">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4754353">*</span><span class="ident" id="4754354">t</span>&nbsp;<span class="op" id="4754356">=</span>&nbsp;<span class="op" id="4754358">&amp;</span><span class="ident" id="4754359">tt</span><br>
<span class="lineno"></span><span class="op" id="4754362">}</span>
</div>
</body>
</html>
