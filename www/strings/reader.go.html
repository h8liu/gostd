<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2925283">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2925338">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2925392">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2925443">package</span>&nbsp;<span class="ident" id="2925451">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2925460">import</span>&nbsp;<span class="op" id="2925467">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2925470">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2925480">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2925486">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2925501">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2925504">//&nbsp;A&nbsp;Reader&nbsp;implements&nbsp;the&nbsp;io.Reader,&nbsp;io.ReaderAt,&nbsp;io.Seeker,&nbsp;io.WriterTo,</span><br>
<span class="lineno"></span><span class="comment" id="2925579">//&nbsp;io.ByteScanner,&nbsp;and&nbsp;io.RuneScanner&nbsp;interfaces&nbsp;by&nbsp;reading</span><br>
<span class="lineno">15</span><span class="comment" id="2925639">//&nbsp;from&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2925657">type</span>&nbsp;<span class="ident" id="2925662">Reader</span>&nbsp;<span class="keyword" id="2925669">struct</span>&nbsp;<span class="op" id="2925676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2925679">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2925688">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2925696">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2925705">int64</span>&nbsp;<span class="comment" id="2925711">//&nbsp;current&nbsp;reading&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2925737">prevRune</span>&nbsp;<span class="builtintype" id="2925746">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2925752">//&nbsp;index&nbsp;of&nbsp;previous&nbsp;rune;&nbsp;or&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno">20</span><span class="op" id="2925786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2925789">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;of&nbsp;the&nbsp;unread&nbsp;portion&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2925853">//&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2925864">func</span>&nbsp;<span class="op" id="2925869">(</span><span class="ident" id="2925870">r</span>&nbsp;<span class="op" id="2925872">*</span><span class="ident" id="2925873"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2925879">)</span>&nbsp;<span class="ident" id="2925881">Len</span><span class="op" id="2925884">(</span><span class="op" id="2925885">)</span>&nbsp;<span class="builtintype" id="2925887">int</span>&nbsp;<span class="op" id="2925891">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2925894">if</span>&nbsp;<span class="ident" id="2925897"><a href="/strings/reader.go.html#2925870">r</a></span><span class="op" id="2925898">.</span><span class="ident" id="2925899">i</span>&nbsp;<span class="op" id="2925901">&gt;=</span>&nbsp;<span class="ident" id="2925904">int64</span><span class="op" id="2925909">(</span><span class="builtinfunc" id="2925910">len</span><span class="op" id="2925913">(</span><span class="ident" id="2925914"><a href="/strings/reader.go.html#2925870">r</a></span><span class="op" id="2925915">.</span><span class="ident" id="2925916">s</span><span class="op" id="2925917">)</span><span class="op" id="2925918">)</span>&nbsp;<span class="op" id="2925920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2925924">return</span>&nbsp;<span class="num" id="2925931">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2925934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2925937">return</span>&nbsp;<span class="builtintype" id="2925944">int</span><span class="op" id="2925947">(</span><span class="ident" id="2925948">int64</span><span class="op" id="2925953">(</span><span class="builtinfunc" id="2925954">len</span><span class="op" id="2925957">(</span><span class="ident" id="2925958"><a href="/strings/reader.go.html#2925870">r</a></span><span class="op" id="2925959">.</span><span class="ident" id="2925960">s</span><span class="op" id="2925961">)</span><span class="op" id="2925962">)</span>&nbsp;<span class="op" id="2925964">-</span>&nbsp;<span class="ident" id="2925966"><a href="/strings/reader.go.html#2925870">r</a></span><span class="op" id="2925967">.</span><span class="ident" id="2925968">i</span><span class="op" id="2925969">)</span><br>
<span class="lineno"></span><span class="op" id="2925971">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="2925974">func</span>&nbsp;<span class="op" id="2925979">(</span><span class="ident" id="2925980">r</span>&nbsp;<span class="op" id="2925982">*</span><span class="ident" id="2925983"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2925989">)</span>&nbsp;<span class="ident" id="2925991">Read</span><span class="op" id="2925995">(</span><span class="ident" id="2925996">b</span>&nbsp;<span class="op" id="2925998">[</span><span class="op" id="2925999">]</span><span class="builtintype" id="2926000">byte</span><span class="op" id="2926004">)</span>&nbsp;<span class="op" id="2926006">(</span><span class="ident" id="2926007">n</span>&nbsp;<span class="builtintype" id="2926009">int</span><span class="op" id="2926012">,</span>&nbsp;<span class="ident" id="2926014">err</span>&nbsp;<span class="builtintype" id="2926018">error</span><span class="op" id="2926023">)</span>&nbsp;<span class="op" id="2926025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926028">if</span>&nbsp;<span class="builtinfunc" id="2926031">len</span><span class="op" id="2926034">(</span><span class="ident" id="2926035"><a href="/strings/reader.go.html#2925996">b</a></span><span class="op" id="2926036">)</span>&nbsp;<span class="op" id="2926038">==</span>&nbsp;<span class="num" id="2926041">0</span>&nbsp;<span class="op" id="2926043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926047">return</span>&nbsp;<span class="num" id="2926054">0</span><span class="op" id="2926055">,</span>&nbsp;<span class="ident" id="2926057">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2926062">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926065">if</span>&nbsp;<span class="ident" id="2926068"><a href="/strings/reader.go.html#2925980">r</a></span><span class="op" id="2926069">.</span><span class="ident" id="2926070">i</span>&nbsp;<span class="op" id="2926072">&gt;=</span>&nbsp;<span class="ident" id="2926075">int64</span><span class="op" id="2926080">(</span><span class="builtinfunc" id="2926081">len</span><span class="op" id="2926084">(</span><span class="ident" id="2926085"><a href="/strings/reader.go.html#2925980">r</a></span><span class="op" id="2926086">.</span><span class="ident" id="2926087">s</span><span class="op" id="2926088">)</span><span class="op" id="2926089">)</span>&nbsp;<span class="op" id="2926091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926095">return</span>&nbsp;<span class="num" id="2926102">0</span><span class="op" id="2926103">,</span>&nbsp;<span class="ident" id="2926105"><a href="/strings/reader.go.html#2925480">io</a></span><span class="op" id="2926107">.</span><span class="ident" id="2926108">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2926113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926116"><a href="/strings/reader.go.html#2925980">r</a></span><span class="op" id="2926117">.</span><span class="ident" id="2926118">prevRune</span>&nbsp;<span class="op" id="2926127">=</span>&nbsp;<span class="op" id="2926129">-</span><span class="num" id="2926130">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926133"><a href="/strings/reader.go.html#2926007">n</a></span>&nbsp;<span class="op" id="2926135">=</span>&nbsp;<span class="builtinfunc" id="2926137">copy</span><span class="op" id="2926141">(</span><span class="ident" id="2926142"><a href="/strings/reader.go.html#2925996">b</a></span><span class="op" id="2926143">,</span>&nbsp;<span class="ident" id="2926145"><a href="/strings/reader.go.html#2925980">r</a></span><span class="op" id="2926146">.</span><span class="ident" id="2926147">s</span><span class="op" id="2926148">[</span><span class="ident" id="2926149"><a href="/strings/reader.go.html#2925980">r</a></span><span class="op" id="2926150">.</span><span class="ident" id="2926151">i</span><span class="op" id="2926152">:</span><span class="op" id="2926153">]</span><span class="op" id="2926154">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926157"><a href="/strings/reader.go.html#2925980">r</a></span><span class="op" id="2926158">.</span><span class="ident" id="2926159">i</span>&nbsp;<span class="op" id="2926161">+=</span>&nbsp;<span class="ident" id="2926164">int64</span><span class="op" id="2926169">(</span><span class="ident" id="2926170"><a href="/strings/reader.go.html#2926007">n</a></span><span class="op" id="2926171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926174">return</span><br>
<span class="lineno"></span><span class="op" id="2926181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2926184">func</span>&nbsp;<span class="op" id="2926189">(</span><span class="ident" id="2926190">r</span>&nbsp;<span class="op" id="2926192">*</span><span class="ident" id="2926193"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2926199">)</span>&nbsp;<span class="ident" id="2926201">ReadAt</span><span class="op" id="2926207">(</span><span class="ident" id="2926208">b</span>&nbsp;<span class="op" id="2926210">[</span><span class="op" id="2926211">]</span><span class="builtintype" id="2926212">byte</span><span class="op" id="2926216">,</span>&nbsp;<span class="ident" id="2926218">off</span>&nbsp;<span class="ident" id="2926222">int64</span><span class="op" id="2926227">)</span>&nbsp;<span class="op" id="2926229">(</span><span class="ident" id="2926230">n</span>&nbsp;<span class="builtintype" id="2926232">int</span><span class="op" id="2926235">,</span>&nbsp;<span class="ident" id="2926237">err</span>&nbsp;<span class="builtintype" id="2926241">error</span><span class="op" id="2926246">)</span>&nbsp;<span class="op" id="2926248">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2926251">//&nbsp;cannot&nbsp;modify&nbsp;state&nbsp;-&nbsp;see&nbsp;io.ReaderAt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926293">if</span>&nbsp;<span class="ident" id="2926296"><a href="/strings/reader.go.html#2926218">off</a></span>&nbsp;<span class="op" id="2926300">&lt;</span>&nbsp;<span class="num" id="2926302">0</span>&nbsp;<span class="op" id="2926304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926308">return</span>&nbsp;<span class="num" id="2926315">0</span><span class="op" id="2926316">,</span>&nbsp;<span class="ident" id="2926318"><a href="/strings/reader.go.html#2925470">errors</a></span><span class="op" id="2926324">.</span><span class="ident" id="2926325">New</span><span class="op" id="2926328">(</span><span class="string" id="2926329">&#34;strings.Reader.ReadAt:&nbsp;negative&nbsp;offset&#34;</span><span class="op" id="2926369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2926372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926375">if</span>&nbsp;<span class="ident" id="2926378"><a href="/strings/reader.go.html#2926218">off</a></span>&nbsp;<span class="op" id="2926382">&gt;=</span>&nbsp;<span class="ident" id="2926385">int64</span><span class="op" id="2926390">(</span><span class="builtinfunc" id="2926391">len</span><span class="op" id="2926394">(</span><span class="ident" id="2926395"><a href="/strings/reader.go.html#2926190">r</a></span><span class="op" id="2926396">.</span><span class="ident" id="2926397">s</span><span class="op" id="2926398">)</span><span class="op" id="2926399">)</span>&nbsp;<span class="op" id="2926401">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926405">return</span>&nbsp;<span class="num" id="2926412">0</span><span class="op" id="2926413">,</span>&nbsp;<span class="ident" id="2926415"><a href="/strings/reader.go.html#2925480">io</a></span><span class="op" id="2926417">.</span><span class="ident" id="2926418">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2926423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926426"><a href="/strings/reader.go.html#2926230">n</a></span>&nbsp;<span class="op" id="2926428">=</span>&nbsp;<span class="builtinfunc" id="2926430">copy</span><span class="op" id="2926434">(</span><span class="ident" id="2926435"><a href="/strings/reader.go.html#2926208">b</a></span><span class="op" id="2926436">,</span>&nbsp;<span class="ident" id="2926438"><a href="/strings/reader.go.html#2926190">r</a></span><span class="op" id="2926439">.</span><span class="ident" id="2926440">s</span><span class="op" id="2926441">[</span><span class="ident" id="2926442"><a href="/strings/reader.go.html#2926218">off</a></span><span class="op" id="2926445">:</span><span class="op" id="2926446">]</span><span class="op" id="2926447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926450">if</span>&nbsp;<span class="ident" id="2926453"><a href="/strings/reader.go.html#2926230">n</a></span>&nbsp;<span class="op" id="2926455">&lt;</span>&nbsp;<span class="builtinfunc" id="2926457">len</span><span class="op" id="2926460">(</span><span class="ident" id="2926461"><a href="/strings/reader.go.html#2926208">b</a></span><span class="op" id="2926462">)</span>&nbsp;<span class="op" id="2926464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926468"><a href="/strings/reader.go.html#2926237">err</a></span>&nbsp;<span class="op" id="2926472">=</span>&nbsp;<span class="ident" id="2926474"><a href="/strings/reader.go.html#2925480">io</a></span><span class="op" id="2926476">.</span><span class="ident" id="2926477">EOF</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2926482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926485">return</span><br>
<span class="lineno"></span><span class="op" id="2926492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2926495">func</span>&nbsp;<span class="op" id="2926500">(</span><span class="ident" id="2926501">r</span>&nbsp;<span class="op" id="2926503">*</span><span class="ident" id="2926504"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2926510">)</span>&nbsp;<span class="ident" id="2926512">ReadByte</span><span class="op" id="2926520">(</span><span class="op" id="2926521">)</span>&nbsp;<span class="op" id="2926523">(</span><span class="ident" id="2926524">b</span>&nbsp;<span class="builtintype" id="2926526">byte</span><span class="op" id="2926530">,</span>&nbsp;<span class="ident" id="2926532">err</span>&nbsp;<span class="builtintype" id="2926536">error</span><span class="op" id="2926541">)</span>&nbsp;<span class="op" id="2926543">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926546"><a href="/strings/reader.go.html#2926501">r</a></span><span class="op" id="2926547">.</span><span class="ident" id="2926548">prevRune</span>&nbsp;<span class="op" id="2926557">=</span>&nbsp;<span class="op" id="2926559">-</span><span class="num" id="2926560">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926563">if</span>&nbsp;<span class="ident" id="2926566"><a href="/strings/reader.go.html#2926501">r</a></span><span class="op" id="2926567">.</span><span class="ident" id="2926568">i</span>&nbsp;<span class="op" id="2926570">&gt;=</span>&nbsp;<span class="ident" id="2926573">int64</span><span class="op" id="2926578">(</span><span class="builtinfunc" id="2926579">len</span><span class="op" id="2926582">(</span><span class="ident" id="2926583"><a href="/strings/reader.go.html#2926501">r</a></span><span class="op" id="2926584">.</span><span class="ident" id="2926585">s</span><span class="op" id="2926586">)</span><span class="op" id="2926587">)</span>&nbsp;<span class="op" id="2926589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926593">return</span>&nbsp;<span class="num" id="2926600">0</span><span class="op" id="2926601">,</span>&nbsp;<span class="ident" id="2926603"><a href="/strings/reader.go.html#2925480">io</a></span><span class="op" id="2926605">.</span><span class="ident" id="2926606">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2926611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926614"><a href="/strings/reader.go.html#2926524">b</a></span>&nbsp;<span class="op" id="2926616">=</span>&nbsp;<span class="ident" id="2926618"><a href="/strings/reader.go.html#2926501">r</a></span><span class="op" id="2926619">.</span><span class="ident" id="2926620">s</span><span class="op" id="2926621">[</span><span class="ident" id="2926622"><a href="/strings/reader.go.html#2926501">r</a></span><span class="op" id="2926623">.</span><span class="ident" id="2926624">i</span><span class="op" id="2926625">]</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926628"><a href="/strings/reader.go.html#2926501">r</a></span><span class="op" id="2926629">.</span><span class="ident" id="2926630">i</span><span class="op" id="2926631">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926635">return</span><br>
<span class="lineno"></span><span class="op" id="2926642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2926645">func</span>&nbsp;<span class="op" id="2926650">(</span><span class="ident" id="2926651">r</span>&nbsp;<span class="op" id="2926653">*</span><span class="ident" id="2926654"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2926660">)</span>&nbsp;<span class="ident" id="2926662">UnreadByte</span><span class="op" id="2926672">(</span><span class="op" id="2926673">)</span>&nbsp;<span class="builtintype" id="2926675">error</span>&nbsp;<span class="op" id="2926681">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926684"><a href="/strings/reader.go.html#2926651">r</a></span><span class="op" id="2926685">.</span><span class="ident" id="2926686">prevRune</span>&nbsp;<span class="op" id="2926695">=</span>&nbsp;<span class="op" id="2926697">-</span><span class="num" id="2926698">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926701">if</span>&nbsp;<span class="ident" id="2926704"><a href="/strings/reader.go.html#2926651">r</a></span><span class="op" id="2926705">.</span><span class="ident" id="2926706">i</span>&nbsp;<span class="op" id="2926708">&lt;=</span>&nbsp;<span class="num" id="2926711">0</span>&nbsp;<span class="op" id="2926713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926717">return</span>&nbsp;<span class="ident" id="2926724"><a href="/strings/reader.go.html#2925470">errors</a></span><span class="op" id="2926730">.</span><span class="ident" id="2926731">New</span><span class="op" id="2926734">(</span><span class="string" id="2926735">&#34;strings.Reader.UnreadByte:&nbsp;at&nbsp;beginning&nbsp;of&nbsp;string&#34;</span><span class="op" id="2926786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2926789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926792"><a href="/strings/reader.go.html#2926651">r</a></span><span class="op" id="2926793">.</span><span class="ident" id="2926794">i</span><span class="op" id="2926795">--</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926799">return</span>&nbsp;<span class="ident" id="2926806">nil</span><br>
<span class="lineno"></span><span class="op" id="2926810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2926813">func</span>&nbsp;<span class="op" id="2926818">(</span><span class="ident" id="2926819">r</span>&nbsp;<span class="op" id="2926821">*</span><span class="ident" id="2926822"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2926828">)</span>&nbsp;<span class="ident" id="2926830">ReadRune</span><span class="op" id="2926838">(</span><span class="op" id="2926839">)</span>&nbsp;<span class="op" id="2926841">(</span><span class="ident" id="2926842">ch</span>&nbsp;<span class="builtintype" id="2926845">rune</span><span class="op" id="2926849">,</span>&nbsp;<span class="ident" id="2926851">size</span>&nbsp;<span class="builtintype" id="2926856">int</span><span class="op" id="2926859">,</span>&nbsp;<span class="ident" id="2926861">err</span>&nbsp;<span class="builtintype" id="2926865">error</span><span class="op" id="2926870">)</span>&nbsp;<span class="op" id="2926872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926875">if</span>&nbsp;<span class="ident" id="2926878"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2926879">.</span><span class="ident" id="2926880">i</span>&nbsp;<span class="op" id="2926882">&gt;=</span>&nbsp;<span class="ident" id="2926885">int64</span><span class="op" id="2926890">(</span><span class="builtinfunc" id="2926891">len</span><span class="op" id="2926894">(</span><span class="ident" id="2926895"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2926896">.</span><span class="ident" id="2926897">s</span><span class="op" id="2926898">)</span><span class="op" id="2926899">)</span>&nbsp;<span class="op" id="2926901">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926905"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2926906">.</span><span class="ident" id="2926907">prevRune</span>&nbsp;<span class="op" id="2926916">=</span>&nbsp;<span class="op" id="2926918">-</span><span class="num" id="2926919">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926923">return</span>&nbsp;<span class="num" id="2926930">0</span><span class="op" id="2926931">,</span>&nbsp;<span class="num" id="2926933">0</span><span class="op" id="2926934">,</span>&nbsp;<span class="ident" id="2926936"><a href="/strings/reader.go.html#2925480">io</a></span><span class="op" id="2926938">.</span><span class="ident" id="2926939">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2926944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2926947"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2926948">.</span><span class="ident" id="2926949">prevRune</span>&nbsp;<span class="op" id="2926958">=</span>&nbsp;<span class="builtintype" id="2926960">int</span><span class="op" id="2926963">(</span><span class="ident" id="2926964"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2926965">.</span><span class="ident" id="2926966">i</span><span class="op" id="2926967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2926970">if</span>&nbsp;<span class="ident" id="2926973">c</span>&nbsp;<span class="op" id="2926975">:=</span>&nbsp;<span class="ident" id="2926978"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2926979">.</span><span class="ident" id="2926980">s</span><span class="op" id="2926981">[</span><span class="ident" id="2926982"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2926983">.</span><span class="ident" id="2926984">i</span><span class="op" id="2926985">]</span><span class="op" id="2926986">;</span>&nbsp;<span class="ident" id="2926988"><a href="/strings/reader.go.html#2926973">c</a></span>&nbsp;<span class="op" id="2926990">&lt;</span>&nbsp;<span class="ident" id="2926992"><a href="/strings/reader.go.html#2925486">utf8</a></span><span class="op" id="2926996">.</span><span class="ident" id="2926997">RuneSelf</span>&nbsp;<span class="op" id="2927006">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927010"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2927011">.</span><span class="ident" id="2927012">i</span><span class="op" id="2927013">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927018">return</span>&nbsp;<span class="builtintype" id="2927025">rune</span><span class="op" id="2927029">(</span><span class="ident" id="2927030"><a href="/strings/reader.go.html#2926973">c</a></span><span class="op" id="2927031">)</span><span class="op" id="2927032">,</span>&nbsp;<span class="num" id="2927034">1</span><span class="op" id="2927035">,</span>&nbsp;<span class="ident" id="2927037">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2927042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927045"><a href="/strings/reader.go.html#2926842">ch</a></span><span class="op" id="2927047">,</span>&nbsp;<span class="ident" id="2927049"><a href="/strings/reader.go.html#2926851">size</a></span>&nbsp;<span class="op" id="2927054">=</span>&nbsp;<span class="ident" id="2927056"><a href="/strings/reader.go.html#2925486">utf8</a></span><span class="op" id="2927060">.</span><span class="ident" id="2927061">DecodeRuneInString</span><span class="op" id="2927079">(</span><span class="ident" id="2927080"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2927081">.</span><span class="ident" id="2927082">s</span><span class="op" id="2927083">[</span><span class="ident" id="2927084"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2927085">.</span><span class="ident" id="2927086">i</span><span class="op" id="2927087">:</span><span class="op" id="2927088">]</span><span class="op" id="2927089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927092"><a href="/strings/reader.go.html#2926819">r</a></span><span class="op" id="2927093">.</span><span class="ident" id="2927094">i</span>&nbsp;<span class="op" id="2927096">+=</span>&nbsp;<span class="ident" id="2927099">int64</span><span class="op" id="2927104">(</span><span class="ident" id="2927105"><a href="/strings/reader.go.html#2926851">size</a></span><span class="op" id="2927109">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927112">return</span><br>
<span class="lineno"></span><span class="op" id="2927119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2927122">func</span>&nbsp;<span class="op" id="2927127">(</span><span class="ident" id="2927128">r</span>&nbsp;<span class="op" id="2927130">*</span><span class="ident" id="2927131"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2927137">)</span>&nbsp;<span class="ident" id="2927139">UnreadRune</span><span class="op" id="2927149">(</span><span class="op" id="2927150">)</span>&nbsp;<span class="builtintype" id="2927152">error</span>&nbsp;<span class="op" id="2927158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927161">if</span>&nbsp;<span class="ident" id="2927164"><a href="/strings/reader.go.html#2927128">r</a></span><span class="op" id="2927165">.</span><span class="ident" id="2927166">prevRune</span>&nbsp;<span class="op" id="2927175">&lt;</span>&nbsp;<span class="num" id="2927177">0</span>&nbsp;<span class="op" id="2927179">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927183">return</span>&nbsp;<span class="ident" id="2927190"><a href="/strings/reader.go.html#2925470">errors</a></span><span class="op" id="2927196">.</span><span class="ident" id="2927197">New</span><span class="op" id="2927200">(</span><span class="string" id="2927201">&#34;strings.Reader.UnreadRune:&nbsp;previous&nbsp;operation&nbsp;was&nbsp;not&nbsp;ReadRune&#34;</span><span class="op" id="2927265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2927268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927271"><a href="/strings/reader.go.html#2927128">r</a></span><span class="op" id="2927272">.</span><span class="ident" id="2927273">i</span>&nbsp;<span class="op" id="2927275">=</span>&nbsp;<span class="ident" id="2927277">int64</span><span class="op" id="2927282">(</span><span class="ident" id="2927283"><a href="/strings/reader.go.html#2927128">r</a></span><span class="op" id="2927284">.</span><span class="ident" id="2927285">prevRune</span><span class="op" id="2927293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927296"><a href="/strings/reader.go.html#2927128">r</a></span><span class="op" id="2927297">.</span><span class="ident" id="2927298">prevRune</span>&nbsp;<span class="op" id="2927307">=</span>&nbsp;<span class="op" id="2927309">-</span><span class="num" id="2927310">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927313">return</span>&nbsp;<span class="ident" id="2927320">nil</span><br>
<span class="lineno">100</span><span class="op" id="2927324">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2927327">//&nbsp;Seek&nbsp;implements&nbsp;the&nbsp;io.Seeker&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2927371">func</span>&nbsp;<span class="op" id="2927376">(</span><span class="ident" id="2927377">r</span>&nbsp;<span class="op" id="2927379">*</span><span class="ident" id="2927380"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2927386">)</span>&nbsp;<span class="ident" id="2927388">Seek</span><span class="op" id="2927392">(</span><span class="ident" id="2927393">offset</span>&nbsp;<span class="ident" id="2927400">int64</span><span class="op" id="2927405">,</span>&nbsp;<span class="ident" id="2927407">whence</span>&nbsp;<span class="builtintype" id="2927414">int</span><span class="op" id="2927417">)</span>&nbsp;<span class="op" id="2927419">(</span><span class="ident" id="2927420">int64</span><span class="op" id="2927425">,</span>&nbsp;<span class="builtintype" id="2927427">error</span><span class="op" id="2927432">)</span>&nbsp;<span class="op" id="2927434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927437"><a href="/strings/reader.go.html#2927377">r</a></span><span class="op" id="2927438">.</span><span class="ident" id="2927439">prevRune</span>&nbsp;<span class="op" id="2927448">=</span>&nbsp;<span class="op" id="2927450">-</span><span class="num" id="2927451">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927454">var</span>&nbsp;<span class="ident" id="2927458">abs</span>&nbsp;<span class="ident" id="2927462">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927469">switch</span>&nbsp;<span class="ident" id="2927476"><a href="/strings/reader.go.html#2927407">whence</a></span>&nbsp;<span class="op" id="2927483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927486">case</span>&nbsp;<span class="num" id="2927491">0</span><span class="op" id="2927492">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927496"><a href="/strings/reader.go.html#2927458">abs</a></span>&nbsp;<span class="op" id="2927500">=</span>&nbsp;<span class="ident" id="2927502"><a href="/strings/reader.go.html#2927393">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927510">case</span>&nbsp;<span class="num" id="2927515">1</span><span class="op" id="2927516">:</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927520"><a href="/strings/reader.go.html#2927458">abs</a></span>&nbsp;<span class="op" id="2927524">=</span>&nbsp;<span class="ident" id="2927526">int64</span><span class="op" id="2927531">(</span><span class="ident" id="2927532"><a href="/strings/reader.go.html#2927377">r</a></span><span class="op" id="2927533">.</span><span class="ident" id="2927534">i</span><span class="op" id="2927535">)</span>&nbsp;<span class="op" id="2927537">+</span>&nbsp;<span class="ident" id="2927539"><a href="/strings/reader.go.html#2927393">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927547">case</span>&nbsp;<span class="num" id="2927552">2</span><span class="op" id="2927553">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927557"><a href="/strings/reader.go.html#2927458">abs</a></span>&nbsp;<span class="op" id="2927561">=</span>&nbsp;<span class="ident" id="2927563">int64</span><span class="op" id="2927568">(</span><span class="builtinfunc" id="2927569">len</span><span class="op" id="2927572">(</span><span class="ident" id="2927573"><a href="/strings/reader.go.html#2927377">r</a></span><span class="op" id="2927574">.</span><span class="ident" id="2927575">s</span><span class="op" id="2927576">)</span><span class="op" id="2927577">)</span>&nbsp;<span class="op" id="2927579">+</span>&nbsp;<span class="ident" id="2927581"><a href="/strings/reader.go.html#2927393">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927589">default</span><span class="op" id="2927596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927600">return</span>&nbsp;<span class="num" id="2927607">0</span><span class="op" id="2927608">,</span>&nbsp;<span class="ident" id="2927610"><a href="/strings/reader.go.html#2925470">errors</a></span><span class="op" id="2927616">.</span><span class="ident" id="2927617">New</span><span class="op" id="2927620">(</span><span class="string" id="2927621">&#34;strings.Reader.Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="2927658">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2927661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927664">if</span>&nbsp;<span class="ident" id="2927667"><a href="/strings/reader.go.html#2927458">abs</a></span>&nbsp;<span class="op" id="2927671">&lt;</span>&nbsp;<span class="num" id="2927673">0</span>&nbsp;<span class="op" id="2927675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927679">return</span>&nbsp;<span class="num" id="2927686">0</span><span class="op" id="2927687">,</span>&nbsp;<span class="ident" id="2927689"><a href="/strings/reader.go.html#2925470">errors</a></span><span class="op" id="2927695">.</span><span class="ident" id="2927696">New</span><span class="op" id="2927699">(</span><span class="string" id="2927700">&#34;strings.Reader.Seek:&nbsp;negative&nbsp;position&#34;</span><span class="op" id="2927740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2927743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927746"><a href="/strings/reader.go.html#2927377">r</a></span><span class="op" id="2927747">.</span><span class="ident" id="2927748">i</span>&nbsp;<span class="op" id="2927750">=</span>&nbsp;<span class="ident" id="2927752"><a href="/strings/reader.go.html#2927458">abs</a></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927757">return</span>&nbsp;<span class="ident" id="2927764"><a href="/strings/reader.go.html#2927458">abs</a></span><span class="op" id="2927767">,</span>&nbsp;<span class="ident" id="2927769">nil</span><br>
<span class="lineno"></span><span class="op" id="2927773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2927776">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;io.WriterTo&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2927825">func</span>&nbsp;<span class="op" id="2927830">(</span><span class="ident" id="2927831">r</span>&nbsp;<span class="op" id="2927833">*</span><span class="ident" id="2927834"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2927840">)</span>&nbsp;<span class="ident" id="2927842">WriteTo</span><span class="op" id="2927849">(</span><span class="ident" id="2927850">w</span>&nbsp;<span class="ident" id="2927852"><a href="/strings/reader.go.html#2925480">io</a></span><span class="op" id="2927854">.</span><span class="ident" id="2927855">Writer</span><span class="op" id="2927861">)</span>&nbsp;<span class="op" id="2927863">(</span><span class="ident" id="2927864">n</span>&nbsp;<span class="ident" id="2927866">int64</span><span class="op" id="2927871">,</span>&nbsp;<span class="ident" id="2927873">err</span>&nbsp;<span class="builtintype" id="2927877">error</span><span class="op" id="2927882">)</span>&nbsp;<span class="op" id="2927884">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927887"><a href="/strings/reader.go.html#2927831">r</a></span><span class="op" id="2927888">.</span><span class="ident" id="2927889">prevRune</span>&nbsp;<span class="op" id="2927898">=</span>&nbsp;<span class="op" id="2927900">-</span><span class="num" id="2927901">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927904">if</span>&nbsp;<span class="ident" id="2927907"><a href="/strings/reader.go.html#2927831">r</a></span><span class="op" id="2927908">.</span><span class="ident" id="2927909">i</span>&nbsp;<span class="op" id="2927911">&gt;=</span>&nbsp;<span class="ident" id="2927914">int64</span><span class="op" id="2927919">(</span><span class="builtinfunc" id="2927920">len</span><span class="op" id="2927923">(</span><span class="ident" id="2927924"><a href="/strings/reader.go.html#2927831">r</a></span><span class="op" id="2927925">.</span><span class="ident" id="2927926">s</span><span class="op" id="2927927">)</span><span class="op" id="2927928">)</span>&nbsp;<span class="op" id="2927930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2927934">return</span>&nbsp;<span class="num" id="2927941">0</span><span class="op" id="2927942">,</span>&nbsp;<span class="ident" id="2927944">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2927949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927952">s</span>&nbsp;<span class="op" id="2927954">:=</span>&nbsp;<span class="ident" id="2927957"><a href="/strings/reader.go.html#2927831">r</a></span><span class="op" id="2927958">.</span><span class="ident" id="2927959">s</span><span class="op" id="2927960">[</span><span class="ident" id="2927961"><a href="/strings/reader.go.html#2927831">r</a></span><span class="op" id="2927962">.</span><span class="ident" id="2927963">i</span><span class="op" id="2927964">:</span><span class="op" id="2927965">]</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2927968">m</span><span class="op" id="2927969">,</span>&nbsp;<span class="ident" id="2927971"><a href="/strings/reader.go.html#2927873">err</a></span>&nbsp;<span class="op" id="2927975">:=</span>&nbsp;<span class="ident" id="2927978"><a href="/strings/reader.go.html#2925480">io</a></span><span class="op" id="2927980">.</span><span class="ident" id="2927981">WriteString</span><span class="op" id="2927992">(</span><span class="ident" id="2927993"><a href="/strings/reader.go.html#2927850">w</a></span><span class="op" id="2927994">,</span>&nbsp;<span class="ident" id="2927996"><a href="/strings/reader.go.html#2927952">s</a></span><span class="op" id="2927997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2928000">if</span>&nbsp;<span class="ident" id="2928003"><a href="/strings/reader.go.html#2927968">m</a></span>&nbsp;<span class="op" id="2928005">&gt;</span>&nbsp;<span class="builtinfunc" id="2928007">len</span><span class="op" id="2928010">(</span><span class="ident" id="2928011"><a href="/strings/reader.go.html#2927952">s</a></span><span class="op" id="2928012">)</span>&nbsp;<span class="op" id="2928014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2928018">panic</span><span class="op" id="2928023">(</span><span class="string" id="2928024">&#34;strings.Reader.WriteTo:&nbsp;invalid&nbsp;WriteString&nbsp;count&#34;</span><span class="op" id="2928075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2928078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2928081"><a href="/strings/reader.go.html#2927831">r</a></span><span class="op" id="2928082">.</span><span class="ident" id="2928083">i</span>&nbsp;<span class="op" id="2928085">+=</span>&nbsp;<span class="ident" id="2928088">int64</span><span class="op" id="2928093">(</span><span class="ident" id="2928094"><a href="/strings/reader.go.html#2927968">m</a></span><span class="op" id="2928095">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2928098"><a href="/strings/reader.go.html#2927864">n</a></span>&nbsp;<span class="op" id="2928100">=</span>&nbsp;<span class="ident" id="2928102">int64</span><span class="op" id="2928107">(</span><span class="ident" id="2928108"><a href="/strings/reader.go.html#2927968">m</a></span><span class="op" id="2928109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2928112">if</span>&nbsp;<span class="ident" id="2928115"><a href="/strings/reader.go.html#2927968">m</a></span>&nbsp;<span class="op" id="2928117">!=</span>&nbsp;<span class="builtinfunc" id="2928120">len</span><span class="op" id="2928123">(</span><span class="ident" id="2928124"><a href="/strings/reader.go.html#2927952">s</a></span><span class="op" id="2928125">)</span>&nbsp;<span class="op" id="2928127">&amp;&amp;</span>&nbsp;<span class="ident" id="2928130"><a href="/strings/reader.go.html#2927873">err</a></span>&nbsp;<span class="op" id="2928134">==</span>&nbsp;<span class="ident" id="2928137">nil</span>&nbsp;<span class="op" id="2928141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2928145"><a href="/strings/reader.go.html#2927873">err</a></span>&nbsp;<span class="op" id="2928149">=</span>&nbsp;<span class="ident" id="2928151"><a href="/strings/reader.go.html#2925480">io</a></span><span class="op" id="2928153">.</span><span class="ident" id="2928154">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2928169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2928172">return</span><br>
<span class="lineno">140</span><span class="op" id="2928179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2928182">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;from&nbsp;s.</span><br>
<span class="lineno"></span><span class="comment" id="2928232">//&nbsp;It&nbsp;is&nbsp;similar&nbsp;to&nbsp;bytes.NewBufferString&nbsp;but&nbsp;more&nbsp;efficient&nbsp;and&nbsp;read-only.</span><br>
<span class="lineno"></span><span class="keyword" id="2928308">func</span>&nbsp;<span class="ident" id="2928313">NewReader</span><span class="op" id="2928322">(</span><span class="ident" id="2928323">s</span>&nbsp;<span class="builtintype" id="2928325">string</span><span class="op" id="2928331">)</span>&nbsp;<span class="op" id="2928333">*</span><span class="ident" id="2928334"><a href="/strings/reader.go.html#2925662">Reader</a></span>&nbsp;<span class="op" id="2928341">{</span>&nbsp;<span class="keyword" id="2928343">return</span>&nbsp;<span class="op" id="2928350">&amp;</span><span class="ident" id="2928351"><a href="/strings/reader.go.html#2925662">Reader</a></span><span class="op" id="2928357">{</span><span class="ident" id="2928358"><a href="/strings/reader.go.html#2928323">s</a></span><span class="op" id="2928359">,</span>&nbsp;<span class="num" id="2928361">0</span><span class="op" id="2928362">,</span>&nbsp;<span class="op" id="2928364">-</span><span class="num" id="2928365">1</span><span class="op" id="2928366">}</span>&nbsp;<span class="op" id="2928368">}</span>
</div>
</body>
</html>
