<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html" class="current">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6659679">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6659734">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6659788">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6659839">//&nbsp;This&nbsp;test&nbsp;tests&nbsp;some&nbsp;internals&nbsp;of&nbsp;the&nbsp;flate&nbsp;package.</span><br>
<span class="lineno"></span><span class="comment" id="6659895">//&nbsp;The&nbsp;tests&nbsp;in&nbsp;package&nbsp;compress/gzip&nbsp;serve&nbsp;as&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6659946">//&nbsp;end-to-end&nbsp;test&nbsp;of&nbsp;the&nbsp;decompressor.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6659987">package</span>&nbsp;<span class="ident" id="6659995">flate</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6660002">import</span>&nbsp;<span class="op" id="6660009">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6660012">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6660021">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6660031">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6660034">func</span>&nbsp;<span class="ident" id="6660039">TestUncompressedSource</span><span class="op" id="6660061">(</span><span class="ident" id="6660062">t</span>&nbsp;<span class="op" id="6660064">*</span><span class="ident" id="6660065">testing</span><span class="op" id="6660072">.</span><span class="ident" id="6660073">T</span><span class="op" id="6660074">)</span>&nbsp;<span class="op" id="6660076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660079">decoder</span>&nbsp;<span class="op" id="6660087">:=</span>&nbsp;<span class="ident" id="6660090">NewReader</span><span class="op" id="6660099">(</span><span class="ident" id="6660100">bytes</span><span class="op" id="6660105">.</span><span class="ident" id="6660106">NewReader</span><span class="op" id="6660115">(</span><span class="op" id="6660116">[</span><span class="op" id="6660117">]</span><span class="builtintype" id="6660118">byte</span><span class="op" id="6660122">{</span><span class="num" id="6660123">0x01</span><span class="op" id="6660127">,</span>&nbsp;<span class="num" id="6660129">0x01</span><span class="op" id="6660133">,</span>&nbsp;<span class="num" id="6660135">0x00</span><span class="op" id="6660139">,</span>&nbsp;<span class="num" id="6660141">0xfe</span><span class="op" id="6660145">,</span>&nbsp;<span class="num" id="6660147">0xff</span><span class="op" id="6660151">,</span>&nbsp;<span class="num" id="6660153">0x11</span><span class="op" id="6660157">}</span><span class="op" id="6660158">)</span><span class="op" id="6660159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660162">output</span>&nbsp;<span class="op" id="6660169">:=</span>&nbsp;<span class="builtinfunc" id="6660172">make</span><span class="op" id="6660176">(</span><span class="op" id="6660177">[</span><span class="op" id="6660178">]</span><span class="builtintype" id="6660179">byte</span><span class="op" id="6660183">,</span>&nbsp;<span class="num" id="6660185">1</span><span class="op" id="6660186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660189">n</span><span class="op" id="6660190">,</span>&nbsp;<span class="builtintype" id="6660192">error</span>&nbsp;<span class="op" id="6660198">:=</span>&nbsp;<span class="ident" id="6660201">decoder</span><span class="op" id="6660208">.</span><span class="ident" id="6660209">Read</span><span class="op" id="6660213">(</span><span class="ident" id="6660214">output</span><span class="op" id="6660220">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660223">if</span>&nbsp;<span class="ident" id="6660226">n</span>&nbsp;<span class="op" id="6660228">!=</span>&nbsp;<span class="num" id="6660231">1</span>&nbsp;<span class="op" id="6660233">||</span>&nbsp;<span class="builtintype" id="6660236">error</span>&nbsp;<span class="op" id="6660242">!=</span>&nbsp;<span class="ident" id="6660245">nil</span>&nbsp;<span class="op" id="6660249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660253">t</span><span class="op" id="6660254">.</span><span class="ident" id="6660255">Fatalf</span><span class="op" id="6660261">(</span><span class="string" id="6660262">&#34;decoder.Read()&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;1,&nbsp;nil&#34;</span><span class="op" id="6660300">,</span>&nbsp;<span class="ident" id="6660302">n</span><span class="op" id="6660303">,</span>&nbsp;<span class="builtintype" id="6660305">error</span><span class="op" id="6660310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6660313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660316">if</span>&nbsp;<span class="ident" id="6660319">output</span><span class="op" id="6660325">[</span><span class="num" id="6660326">0</span><span class="op" id="6660327">]</span>&nbsp;<span class="op" id="6660329">!=</span>&nbsp;<span class="num" id="6660332">0x11</span>&nbsp;<span class="op" id="6660337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660341">t</span><span class="op" id="6660342">.</span><span class="ident" id="6660343">Errorf</span><span class="op" id="6660349">(</span><span class="string" id="6660350">&#34;output[0]&nbsp;=&nbsp;%x,&nbsp;want&nbsp;0x11&#34;</span><span class="op" id="6660377">,</span>&nbsp;<span class="ident" id="6660379">output</span><span class="op" id="6660385">[</span><span class="num" id="6660386">0</span><span class="op" id="6660387">]</span><span class="op" id="6660388">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6660391">}</span><br>
<span class="lineno"></span><span class="op" id="6660393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6660396">//&nbsp;The&nbsp;following&nbsp;test&nbsp;should&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="6660436">func</span>&nbsp;<span class="ident" id="6660441">TestIssue5915</span><span class="op" id="6660454">(</span><span class="ident" id="6660455">t</span>&nbsp;<span class="op" id="6660457">*</span><span class="ident" id="6660458">testing</span><span class="op" id="6660465">.</span><span class="ident" id="6660466">T</span><span class="op" id="6660467">)</span>&nbsp;<span class="op" id="6660469">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660472">bits</span>&nbsp;<span class="op" id="6660477">:=</span>&nbsp;<span class="op" id="6660480">[</span><span class="op" id="6660481">]</span><span class="builtintype" id="6660482">int</span><span class="op" id="6660485">{</span><span class="num" id="6660486">4</span><span class="op" id="6660487">,</span>&nbsp;<span class="num" id="6660489">0</span><span class="op" id="6660490">,</span>&nbsp;<span class="num" id="6660492">0</span><span class="op" id="6660493">,</span>&nbsp;<span class="num" id="6660495">6</span><span class="op" id="6660496">,</span>&nbsp;<span class="num" id="6660498">4</span><span class="op" id="6660499">,</span>&nbsp;<span class="num" id="6660501">3</span><span class="op" id="6660502">,</span>&nbsp;<span class="num" id="6660504">2</span><span class="op" id="6660505">,</span>&nbsp;<span class="num" id="6660507">3</span><span class="op" id="6660508">,</span>&nbsp;<span class="num" id="6660510">3</span><span class="op" id="6660511">,</span>&nbsp;<span class="num" id="6660513">4</span><span class="op" id="6660514">,</span>&nbsp;<span class="num" id="6660516">4</span><span class="op" id="6660517">,</span>&nbsp;<span class="num" id="6660519">5</span><span class="op" id="6660520">,</span>&nbsp;<span class="num" id="6660522">0</span><span class="op" id="6660523">,</span>&nbsp;<span class="num" id="6660525">0</span><span class="op" id="6660526">,</span>&nbsp;<span class="num" id="6660528">0</span><span class="op" id="6660529">,</span>&nbsp;<span class="num" id="6660531">0</span><span class="op" id="6660532">,</span>&nbsp;<span class="num" id="6660534">5</span><span class="op" id="6660535">,</span>&nbsp;<span class="num" id="6660537">5</span><span class="op" id="6660538">,</span>&nbsp;<span class="num" id="6660540">6</span><span class="op" id="6660541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6660545">0</span><span class="op" id="6660546">,</span>&nbsp;<span class="num" id="6660548">0</span><span class="op" id="6660549">,</span>&nbsp;<span class="num" id="6660551">0</span><span class="op" id="6660552">,</span>&nbsp;<span class="num" id="6660554">0</span><span class="op" id="6660555">,</span>&nbsp;<span class="num" id="6660557">0</span><span class="op" id="6660558">,</span>&nbsp;<span class="num" id="6660560">0</span><span class="op" id="6660561">,</span>&nbsp;<span class="num" id="6660563">0</span><span class="op" id="6660564">,</span>&nbsp;<span class="num" id="6660566">0</span><span class="op" id="6660567">,</span>&nbsp;<span class="num" id="6660569">0</span><span class="op" id="6660570">,</span>&nbsp;<span class="num" id="6660572">0</span><span class="op" id="6660573">,</span>&nbsp;<span class="num" id="6660575">11</span><span class="op" id="6660577">,</span>&nbsp;<span class="num" id="6660579">0</span><span class="op" id="6660580">,</span>&nbsp;<span class="num" id="6660582">0</span><span class="op" id="6660583">,</span>&nbsp;<span class="num" id="6660585">0</span><span class="op" id="6660586">,</span>&nbsp;<span class="num" id="6660588">0</span><span class="op" id="6660589">,</span>&nbsp;<span class="num" id="6660591">0</span><span class="op" id="6660592">,</span>&nbsp;<span class="num" id="6660594">0</span><span class="op" id="6660595">,</span>&nbsp;<span class="num" id="6660597">0</span><span class="op" id="6660598">,</span>&nbsp;<span class="num" id="6660600">0</span><span class="op" id="6660601">,</span>&nbsp;<span class="num" id="6660603">0</span><span class="op" id="6660604">,</span>&nbsp;<span class="num" id="6660606">0</span><span class="op" id="6660607">,</span>&nbsp;<span class="num" id="6660609">0</span><span class="op" id="6660610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6660614">0</span><span class="op" id="6660615">,</span>&nbsp;<span class="num" id="6660617">0</span><span class="op" id="6660618">,</span>&nbsp;<span class="num" id="6660620">0</span><span class="op" id="6660621">,</span>&nbsp;<span class="num" id="6660623">0</span><span class="op" id="6660624">,</span>&nbsp;<span class="num" id="6660626">0</span><span class="op" id="6660627">,</span>&nbsp;<span class="num" id="6660629">0</span><span class="op" id="6660630">,</span>&nbsp;<span class="num" id="6660632">0</span><span class="op" id="6660633">,</span>&nbsp;<span class="num" id="6660635">0</span><span class="op" id="6660636">,</span>&nbsp;<span class="num" id="6660638">0</span><span class="op" id="6660639">,</span>&nbsp;<span class="num" id="6660641">0</span><span class="op" id="6660642">,</span>&nbsp;<span class="num" id="6660644">7</span><span class="op" id="6660645">,</span>&nbsp;<span class="num" id="6660647">8</span><span class="op" id="6660648">,</span>&nbsp;<span class="num" id="6660650">6</span><span class="op" id="6660651">,</span>&nbsp;<span class="num" id="6660653">0</span><span class="op" id="6660654">,</span>&nbsp;<span class="num" id="6660656">11</span><span class="op" id="6660658">,</span>&nbsp;<span class="num" id="6660660">0</span><span class="op" id="6660661">,</span>&nbsp;<span class="num" id="6660663">8</span><span class="op" id="6660664">,</span>&nbsp;<span class="num" id="6660666">0</span><span class="op" id="6660667">,</span>&nbsp;<span class="num" id="6660669">6</span><span class="op" id="6660670">,</span>&nbsp;<span class="num" id="6660672">6</span><span class="op" id="6660673">,</span>&nbsp;<span class="num" id="6660675">10</span><span class="op" id="6660677">,</span>&nbsp;<span class="num" id="6660679">8</span><span class="op" id="6660680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660683">h</span>&nbsp;<span class="op" id="6660685">:=</span>&nbsp;<span class="builtinfunc" id="6660688">new</span><span class="op" id="6660691">(</span><span class="ident" id="6660692">huffmanDecoder</span><span class="op" id="6660706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660709">ok</span>&nbsp;<span class="op" id="6660712">:=</span>&nbsp;<span class="ident" id="6660715">h</span><span class="op" id="6660716">.</span><span class="ident" id="6660717">init</span><span class="op" id="6660721">(</span><span class="ident" id="6660722">bits</span><span class="op" id="6660726">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660729">if</span>&nbsp;<span class="ident" id="6660732">ok</span>&nbsp;<span class="op" id="6660735">==</span>&nbsp;<span class="builtintype" id="6660738">true</span>&nbsp;<span class="op" id="6660743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660747">t</span><span class="op" id="6660748">.</span><span class="ident" id="6660749">Fatalf</span><span class="op" id="6660755">(</span><span class="string" id="6660756">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;bad,&nbsp;and&nbsp;should&nbsp;not&nbsp;succeed.&#34;</span><span class="op" id="6660812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6660815">}</span><br>
<span class="lineno"></span><span class="op" id="6660817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="6660820">//&nbsp;The&nbsp;following&nbsp;test&nbsp;should&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="6660860">func</span>&nbsp;<span class="ident" id="6660865">TestIssue5962</span><span class="op" id="6660878">(</span><span class="ident" id="6660879">t</span>&nbsp;<span class="op" id="6660881">*</span><span class="ident" id="6660882">testing</span><span class="op" id="6660889">.</span><span class="ident" id="6660890">T</span><span class="op" id="6660891">)</span>&nbsp;<span class="op" id="6660893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660896">bits</span>&nbsp;<span class="op" id="6660901">:=</span>&nbsp;<span class="op" id="6660904">[</span><span class="op" id="6660905">]</span><span class="builtintype" id="6660906">int</span><span class="op" id="6660909">{</span><span class="num" id="6660910">4</span><span class="op" id="6660911">,</span>&nbsp;<span class="num" id="6660913">0</span><span class="op" id="6660914">,</span>&nbsp;<span class="num" id="6660916">0</span><span class="op" id="6660917">,</span>&nbsp;<span class="num" id="6660919">6</span><span class="op" id="6660920">,</span>&nbsp;<span class="num" id="6660922">4</span><span class="op" id="6660923">,</span>&nbsp;<span class="num" id="6660925">3</span><span class="op" id="6660926">,</span>&nbsp;<span class="num" id="6660928">2</span><span class="op" id="6660929">,</span>&nbsp;<span class="num" id="6660931">3</span><span class="op" id="6660932">,</span>&nbsp;<span class="num" id="6660934">3</span><span class="op" id="6660935">,</span>&nbsp;<span class="num" id="6660937">4</span><span class="op" id="6660938">,</span>&nbsp;<span class="num" id="6660940">4</span><span class="op" id="6660941">,</span>&nbsp;<span class="num" id="6660943">5</span><span class="op" id="6660944">,</span>&nbsp;<span class="num" id="6660946">0</span><span class="op" id="6660947">,</span>&nbsp;<span class="num" id="6660949">0</span><span class="op" id="6660950">,</span>&nbsp;<span class="num" id="6660952">0</span><span class="op" id="6660953">,</span>&nbsp;<span class="num" id="6660955">0</span><span class="op" id="6660956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6660960">5</span><span class="op" id="6660961">,</span>&nbsp;<span class="num" id="6660963">5</span><span class="op" id="6660964">,</span>&nbsp;<span class="num" id="6660966">6</span><span class="op" id="6660967">,</span>&nbsp;<span class="num" id="6660969">0</span><span class="op" id="6660970">,</span>&nbsp;<span class="num" id="6660972">0</span><span class="op" id="6660973">,</span>&nbsp;<span class="num" id="6660975">0</span><span class="op" id="6660976">,</span>&nbsp;<span class="num" id="6660978">0</span><span class="op" id="6660979">,</span>&nbsp;<span class="num" id="6660981">0</span><span class="op" id="6660982">,</span>&nbsp;<span class="num" id="6660984">0</span><span class="op" id="6660985">,</span>&nbsp;<span class="num" id="6660987">0</span><span class="op" id="6660988">,</span>&nbsp;<span class="num" id="6660990">0</span><span class="op" id="6660991">,</span>&nbsp;<span class="num" id="6660993">0</span><span class="op" id="6660994">,</span>&nbsp;<span class="num" id="6660996">0</span><span class="op" id="6660997">,</span>&nbsp;<span class="num" id="6660999">11</span><span class="op" id="6661001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661004">h</span>&nbsp;<span class="op" id="6661006">:=</span>&nbsp;<span class="builtinfunc" id="6661009">new</span><span class="op" id="6661012">(</span><span class="ident" id="6661013">huffmanDecoder</span><span class="op" id="6661027">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661030">ok</span>&nbsp;<span class="op" id="6661033">:=</span>&nbsp;<span class="ident" id="6661036">h</span><span class="op" id="6661037">.</span><span class="ident" id="6661038">init</span><span class="op" id="6661042">(</span><span class="ident" id="6661043">bits</span><span class="op" id="6661047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6661050">if</span>&nbsp;<span class="ident" id="6661053">ok</span>&nbsp;<span class="op" id="6661056">==</span>&nbsp;<span class="builtintype" id="6661059">true</span>&nbsp;<span class="op" id="6661064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661068">t</span><span class="op" id="6661069">.</span><span class="ident" id="6661070">Fatalf</span><span class="op" id="6661076">(</span><span class="string" id="6661077">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;bad,&nbsp;and&nbsp;should&nbsp;not&nbsp;succeed.&#34;</span><span class="op" id="6661133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6661136">}</span><br>
<span class="lineno"></span><span class="op" id="6661138">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="6661141">//&nbsp;The&nbsp;following&nbsp;test&nbsp;should&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="6661181">func</span>&nbsp;<span class="ident" id="6661186">TestIssue6255</span><span class="op" id="6661199">(</span><span class="ident" id="6661200">t</span>&nbsp;<span class="op" id="6661202">*</span><span class="ident" id="6661203">testing</span><span class="op" id="6661210">.</span><span class="ident" id="6661211">T</span><span class="op" id="6661212">)</span>&nbsp;<span class="op" id="6661214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661217">bits1</span>&nbsp;<span class="op" id="6661223">:=</span>&nbsp;<span class="op" id="6661226">[</span><span class="op" id="6661227">]</span><span class="builtintype" id="6661228">int</span><span class="op" id="6661231">{</span><span class="num" id="6661232">1</span><span class="op" id="6661233">,</span>&nbsp;<span class="num" id="6661235">2</span><span class="op" id="6661236">,</span>&nbsp;<span class="num" id="6661238">3</span><span class="op" id="6661239">,</span>&nbsp;<span class="num" id="6661241">4</span><span class="op" id="6661242">,</span>&nbsp;<span class="num" id="6661244">5</span><span class="op" id="6661245">,</span>&nbsp;<span class="num" id="6661247">6</span><span class="op" id="6661248">,</span>&nbsp;<span class="num" id="6661250">7</span><span class="op" id="6661251">,</span>&nbsp;<span class="num" id="6661253">8</span><span class="op" id="6661254">,</span>&nbsp;<span class="num" id="6661256">9</span><span class="op" id="6661257">,</span>&nbsp;<span class="num" id="6661259">10</span><span class="op" id="6661261">,</span>&nbsp;<span class="num" id="6661263">11</span><span class="op" id="6661265">,</span>&nbsp;<span class="num" id="6661267">11</span><span class="op" id="6661269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661272">bits2</span>&nbsp;<span class="op" id="6661278">:=</span>&nbsp;<span class="op" id="6661281">[</span><span class="op" id="6661282">]</span><span class="builtintype" id="6661283">int</span><span class="op" id="6661286">{</span><span class="num" id="6661287">11</span><span class="op" id="6661289">,</span>&nbsp;<span class="num" id="6661291">13</span><span class="op" id="6661293">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661296">h</span>&nbsp;<span class="op" id="6661298">:=</span>&nbsp;<span class="builtinfunc" id="6661301">new</span><span class="op" id="6661304">(</span><span class="ident" id="6661305">huffmanDecoder</span><span class="op" id="6661319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6661322">if</span>&nbsp;<span class="op" id="6661325">!</span><span class="ident" id="6661326">h</span><span class="op" id="6661327">.</span><span class="ident" id="6661328">init</span><span class="op" id="6661332">(</span><span class="ident" id="6661333">bits1</span><span class="op" id="6661338">)</span>&nbsp;<span class="op" id="6661340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661344">t</span><span class="op" id="6661345">.</span><span class="ident" id="6661346">Fatalf</span><span class="op" id="6661352">(</span><span class="string" id="6661353">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;good&nbsp;and&nbsp;should&nbsp;succeed.&#34;</span><span class="op" id="6661405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6661408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6661411">if</span>&nbsp;<span class="ident" id="6661414">h</span><span class="op" id="6661415">.</span><span class="ident" id="6661416">init</span><span class="op" id="6661420">(</span><span class="ident" id="6661421">bits2</span><span class="op" id="6661426">)</span>&nbsp;<span class="op" id="6661428">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661432">t</span><span class="op" id="6661433">.</span><span class="ident" id="6661434">Fatalf</span><span class="op" id="6661440">(</span><span class="string" id="6661441">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;bad&nbsp;and&nbsp;should&nbsp;not&nbsp;succeed.&#34;</span><span class="op" id="6661496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6661499">}</span><br>
<span class="lineno"></span><span class="op" id="6661501">}</span>
</div>
</body>
</html>
