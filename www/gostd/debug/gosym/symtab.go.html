<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6466218">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6466274">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6466328">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6466379">//&nbsp;Package&nbsp;gosym&nbsp;implements&nbsp;access&nbsp;to&nbsp;the&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="6466431">//&nbsp;and&nbsp;line&nbsp;number&nbsp;tables&nbsp;embedded&nbsp;in&nbsp;Go&nbsp;binaries&nbsp;generated</span><br>
<span class="lineno"></span><span class="comment" id="6466491">//&nbsp;by&nbsp;the&nbsp;gc&nbsp;compilers.</span><br>
<span class="lineno"></span><span class="keyword" id="6466515">package</span>&nbsp;<span class="ident" id="6466523">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="6466530">//&nbsp;The&nbsp;table&nbsp;format&nbsp;is&nbsp;a&nbsp;variant&nbsp;of&nbsp;the&nbsp;format&nbsp;used&nbsp;in&nbsp;Plan&nbsp;9&#39;s&nbsp;a.out</span><br>
<span class="lineno"></span><span class="comment" id="6466600">//&nbsp;format,&nbsp;documented&nbsp;at&nbsp;http://plan9.bell-labs.com/magic/man2html/6/a.out.</span><br>
<span class="lineno"></span><span class="comment" id="6466676">//&nbsp;The&nbsp;best&nbsp;reference&nbsp;for&nbsp;the&nbsp;differences&nbsp;between&nbsp;the&nbsp;Plan&nbsp;9&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="6466744">//&nbsp;and&nbsp;the&nbsp;Go&nbsp;format&nbsp;is&nbsp;the&nbsp;runtime&nbsp;source,&nbsp;specifically&nbsp;../../runtime/symtab.c.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6466826">import</span>&nbsp;<span class="op" id="6466833">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6466836">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6466845">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6466864">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6466871">&#34;strconv&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6466882">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="6466892">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6466895">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbols<br>
<span class="lineno">25</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6466914">//&nbsp;A&nbsp;Sym&nbsp;represents&nbsp;a&nbsp;single&nbsp;symbol&nbsp;table&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="6466963">type</span>&nbsp;<span class="ident" id="6466968">Sym</span>&nbsp;<span class="keyword" id="6466972">struct</span>&nbsp;<span class="op" id="6466979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6466982">Value</span>&nbsp;&nbsp;<span class="ident" id="6466989">uint64</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6466997">Type</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6467004">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467010">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6467017">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467025">GoType</span>&nbsp;<span class="ident" id="6467032">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6467040">//&nbsp;If&nbsp;this&nbsp;symbol&nbsp;if&nbsp;a&nbsp;function&nbsp;symbol,&nbsp;the&nbsp;corresponding&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467104">Func</span>&nbsp;<span class="op" id="6467109">*</span><span class="ident" id="6467110">Func</span><br>
<span class="lineno">35</span><span class="op" id="6467115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6467118">//&nbsp;Static&nbsp;reports&nbsp;whether&nbsp;this&nbsp;symbol&nbsp;is&nbsp;static&nbsp;(not&nbsp;visible&nbsp;outside&nbsp;its&nbsp;file).</span><br>
<span class="lineno"></span><span class="keyword" id="6467198">func</span>&nbsp;<span class="op" id="6467203">(</span><span class="ident" id="6467204">s</span>&nbsp;<span class="op" id="6467206">*</span><span class="ident" id="6467207">Sym</span><span class="op" id="6467210">)</span>&nbsp;<span class="ident" id="6467212">Static</span><span class="op" id="6467218">(</span><span class="op" id="6467219">)</span>&nbsp;<span class="builtintype" id="6467221">bool</span>&nbsp;<span class="op" id="6467226">{</span>&nbsp;<span class="keyword" id="6467228">return</span>&nbsp;<span class="ident" id="6467235">s</span><span class="op" id="6467236">.</span><span class="ident" id="6467237">Type</span>&nbsp;<span class="op" id="6467242">&gt;=</span>&nbsp;<span class="string" id="6467245">&#39;a&#39;</span>&nbsp;<span class="op" id="6467249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="6467252">//&nbsp;PackageName&nbsp;returns&nbsp;the&nbsp;package&nbsp;part&nbsp;of&nbsp;the&nbsp;symbol&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6467312">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="6467353">func</span>&nbsp;<span class="op" id="6467358">(</span><span class="ident" id="6467359">s</span>&nbsp;<span class="op" id="6467361">*</span><span class="ident" id="6467362">Sym</span><span class="op" id="6467365">)</span>&nbsp;<span class="ident" id="6467367">PackageName</span><span class="op" id="6467378">(</span><span class="op" id="6467379">)</span>&nbsp;<span class="builtintype" id="6467381">string</span>&nbsp;<span class="op" id="6467388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467391">if</span>&nbsp;<span class="ident" id="6467394">i</span>&nbsp;<span class="op" id="6467396">:=</span>&nbsp;<span class="ident" id="6467399">strings</span><span class="op" id="6467406">.</span><span class="ident" id="6467407">Index</span><span class="op" id="6467412">(</span><span class="ident" id="6467413">s</span><span class="op" id="6467414">.</span><span class="ident" id="6467415">Name</span><span class="op" id="6467419">,</span>&nbsp;<span class="string" id="6467421">&#34;.&#34;</span><span class="op" id="6467424">)</span><span class="op" id="6467425">;</span>&nbsp;<span class="ident" id="6467427">i</span>&nbsp;<span class="op" id="6467429">!=</span>&nbsp;<span class="op" id="6467432">-</span><span class="num" id="6467433">1</span>&nbsp;<span class="op" id="6467435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467439">return</span>&nbsp;<span class="ident" id="6467446">s</span><span class="op" id="6467447">.</span><span class="ident" id="6467448">Name</span><span class="op" id="6467452">[</span><span class="num" id="6467453">0</span><span class="op" id="6467454">:</span><span class="ident" id="6467455">i</span><span class="op" id="6467456">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467462">return</span>&nbsp;<span class="string" id="6467469">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6467472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6467475">//&nbsp;ReceiverName&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;name&nbsp;of&nbsp;this&nbsp;symbol,</span><br>
<span class="lineno">50</span><span class="comment" id="6467538">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="6467579">func</span>&nbsp;<span class="op" id="6467584">(</span><span class="ident" id="6467585">s</span>&nbsp;<span class="op" id="6467587">*</span><span class="ident" id="6467588">Sym</span><span class="op" id="6467591">)</span>&nbsp;<span class="ident" id="6467593">ReceiverName</span><span class="op" id="6467605">(</span><span class="op" id="6467606">)</span>&nbsp;<span class="builtintype" id="6467608">string</span>&nbsp;<span class="op" id="6467615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467618">l</span>&nbsp;<span class="op" id="6467620">:=</span>&nbsp;<span class="ident" id="6467623">strings</span><span class="op" id="6467630">.</span><span class="ident" id="6467631">Index</span><span class="op" id="6467636">(</span><span class="ident" id="6467637">s</span><span class="op" id="6467638">.</span><span class="ident" id="6467639">Name</span><span class="op" id="6467643">,</span>&nbsp;<span class="string" id="6467645">&#34;.&#34;</span><span class="op" id="6467648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467651">r</span>&nbsp;<span class="op" id="6467653">:=</span>&nbsp;<span class="ident" id="6467656">strings</span><span class="op" id="6467663">.</span><span class="ident" id="6467664">LastIndex</span><span class="op" id="6467673">(</span><span class="ident" id="6467674">s</span><span class="op" id="6467675">.</span><span class="ident" id="6467676">Name</span><span class="op" id="6467680">,</span>&nbsp;<span class="string" id="6467682">&#34;.&#34;</span><span class="op" id="6467685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467688">if</span>&nbsp;<span class="ident" id="6467691">l</span>&nbsp;<span class="op" id="6467693">==</span>&nbsp;<span class="op" id="6467696">-</span><span class="num" id="6467697">1</span>&nbsp;<span class="op" id="6467699">||</span>&nbsp;<span class="ident" id="6467702">r</span>&nbsp;<span class="op" id="6467704">==</span>&nbsp;<span class="op" id="6467707">-</span><span class="num" id="6467708">1</span>&nbsp;<span class="op" id="6467710">||</span>&nbsp;<span class="ident" id="6467713">l</span>&nbsp;<span class="op" id="6467715">==</span>&nbsp;<span class="ident" id="6467718">r</span>&nbsp;<span class="op" id="6467720">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467724">return</span>&nbsp;<span class="string" id="6467731">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467738">return</span>&nbsp;<span class="ident" id="6467745">s</span><span class="op" id="6467746">.</span><span class="ident" id="6467747">Name</span><span class="op" id="6467751">[</span><span class="ident" id="6467752">l</span><span class="op" id="6467753">+</span><span class="num" id="6467754">1</span>&nbsp;<span class="op" id="6467756">:</span>&nbsp;<span class="ident" id="6467758">r</span><span class="op" id="6467759">]</span><br>
<span class="lineno"></span><span class="op" id="6467761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="6467764">//&nbsp;BaseName&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;name&nbsp;without&nbsp;the&nbsp;package&nbsp;or&nbsp;receiver&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="6467838">func</span>&nbsp;<span class="op" id="6467843">(</span><span class="ident" id="6467844">s</span>&nbsp;<span class="op" id="6467846">*</span><span class="ident" id="6467847">Sym</span><span class="op" id="6467850">)</span>&nbsp;<span class="ident" id="6467852">BaseName</span><span class="op" id="6467860">(</span><span class="op" id="6467861">)</span>&nbsp;<span class="builtintype" id="6467863">string</span>&nbsp;<span class="op" id="6467870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467873">if</span>&nbsp;<span class="ident" id="6467876">i</span>&nbsp;<span class="op" id="6467878">:=</span>&nbsp;<span class="ident" id="6467881">strings</span><span class="op" id="6467888">.</span><span class="ident" id="6467889">LastIndex</span><span class="op" id="6467898">(</span><span class="ident" id="6467899">s</span><span class="op" id="6467900">.</span><span class="ident" id="6467901">Name</span><span class="op" id="6467905">,</span>&nbsp;<span class="string" id="6467907">&#34;.&#34;</span><span class="op" id="6467910">)</span><span class="op" id="6467911">;</span>&nbsp;<span class="ident" id="6467913">i</span>&nbsp;<span class="op" id="6467915">!=</span>&nbsp;<span class="op" id="6467918">-</span><span class="num" id="6467919">1</span>&nbsp;<span class="op" id="6467921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467925">return</span>&nbsp;<span class="ident" id="6467932">s</span><span class="op" id="6467933">.</span><span class="ident" id="6467934">Name</span><span class="op" id="6467938">[</span><span class="ident" id="6467939">i</span><span class="op" id="6467940">+</span><span class="num" id="6467941">1</span><span class="op" id="6467942">:</span><span class="op" id="6467943">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467946">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467949">return</span>&nbsp;<span class="ident" id="6467956">s</span><span class="op" id="6467957">.</span><span class="ident" id="6467958">Name</span><br>
<span class="lineno"></span><span class="op" id="6467963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6467966">//&nbsp;A&nbsp;Func&nbsp;collects&nbsp;information&nbsp;about&nbsp;a&nbsp;single&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="6468022">type</span>&nbsp;<span class="ident" id="6468027">Func</span>&nbsp;<span class="keyword" id="6468032">struct</span>&nbsp;<span class="op" id="6468039">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468042">Entry</span>&nbsp;<span class="ident" id="6468048">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468056">*</span><span class="ident" id="6468057">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468062">End</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6468072">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468080">Params</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468090">[</span><span class="op" id="6468091">]</span><span class="op" id="6468092">*</span><span class="ident" id="6468093">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468098">Locals</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468108">[</span><span class="op" id="6468109">]</span><span class="op" id="6468110">*</span><span class="ident" id="6468111">Sym</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468116">FrameSize</span>&nbsp;<span class="builtintype" id="6468126">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468131">LineTable</span>&nbsp;<span class="op" id="6468141">*</span><span class="ident" id="6468142">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468153">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468163">*</span><span class="ident" id="6468164">Obj</span><br>
<span class="lineno"></span><span class="op" id="6468168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="6468171">//&nbsp;An&nbsp;Obj&nbsp;represents&nbsp;a&nbsp;collection&nbsp;of&nbsp;functions&nbsp;in&nbsp;a&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="6468237">//</span><br>
<span class="lineno"></span><span class="comment" id="6468240">//&nbsp;The&nbsp;exact&nbsp;method&nbsp;of&nbsp;division&nbsp;of&nbsp;a&nbsp;binary&nbsp;into&nbsp;separate&nbsp;Objs&nbsp;is&nbsp;an&nbsp;internal&nbsp;detail</span><br>
<span class="lineno"></span><span class="comment" id="6468325">//&nbsp;of&nbsp;the&nbsp;symbol&nbsp;table&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="6468356">//</span><br>
<span class="lineno">85</span><span class="comment" id="6468359">//&nbsp;In&nbsp;early&nbsp;versions&nbsp;of&nbsp;Go&nbsp;each&nbsp;source&nbsp;file&nbsp;became&nbsp;a&nbsp;different&nbsp;Obj.</span><br>
<span class="lineno"></span><span class="comment" id="6468427">//</span><br>
<span class="lineno"></span><span class="comment" id="6468430">//&nbsp;In&nbsp;Go&nbsp;1&nbsp;and&nbsp;Go&nbsp;1.1,&nbsp;each&nbsp;package&nbsp;produced&nbsp;one&nbsp;Obj&nbsp;for&nbsp;all&nbsp;Go&nbsp;sources</span><br>
<span class="lineno"></span><span class="comment" id="6468502">//&nbsp;and&nbsp;one&nbsp;Obj&nbsp;per&nbsp;C&nbsp;source&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="6468536">//</span><br>
<span class="lineno">90</span><span class="comment" id="6468539">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;there&nbsp;is&nbsp;a&nbsp;single&nbsp;Obj&nbsp;for&nbsp;the&nbsp;entire&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="6468599">type</span>&nbsp;<span class="ident" id="6468604">Obj</span>&nbsp;<span class="keyword" id="6468608">struct</span>&nbsp;<span class="op" id="6468615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6468618">//&nbsp;Funcs&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;functions&nbsp;in&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468663">Funcs</span>&nbsp;<span class="op" id="6468669">[</span><span class="op" id="6468670">]</span><span class="ident" id="6468671">Func</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6468678">//&nbsp;In&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;Paths&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;symbols&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6468746">//&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;names&nbsp;that&nbsp;produced&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6468798">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;Paths&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6468827">//&nbsp;Use&nbsp;the&nbsp;keys&nbsp;of&nbsp;Table.Files&nbsp;to&nbsp;obtain&nbsp;a&nbsp;list&nbsp;of&nbsp;source&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468893">Paths</span>&nbsp;<span class="op" id="6468899">[</span><span class="op" id="6468900">]</span><span class="ident" id="6468901">Sym</span>&nbsp;<span class="comment" id="6468905">//&nbsp;meta</span><br>
<span class="lineno">100</span><span class="op" id="6468913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6468916">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbol&nbsp;tables<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="6468941">//&nbsp;Table&nbsp;represents&nbsp;a&nbsp;Go&nbsp;symbol&nbsp;table.&nbsp;&nbsp;It&nbsp;stores&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6469002">//&nbsp;symbols&nbsp;decoded&nbsp;from&nbsp;the&nbsp;program&nbsp;and&nbsp;provides&nbsp;methods&nbsp;to&nbsp;translate</span><br>
<span class="lineno"></span><span class="comment" id="6469072">//&nbsp;between&nbsp;symbols,&nbsp;names,&nbsp;and&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="6469114">type</span>&nbsp;<span class="ident" id="6469119">Table</span>&nbsp;<span class="keyword" id="6469125">struct</span>&nbsp;<span class="op" id="6469132">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469135">Syms</span>&nbsp;&nbsp;<span class="op" id="6469141">[</span><span class="op" id="6469142">]</span><span class="ident" id="6469143">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469148">Funcs</span>&nbsp;<span class="op" id="6469154">[</span><span class="op" id="6469155">]</span><span class="ident" id="6469156">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469162">Files</span>&nbsp;<span class="keyword" id="6469168">map</span><span class="op" id="6469171">[</span><span class="builtintype" id="6469172">string</span><span class="op" id="6469178">]</span><span class="op" id="6469179">*</span><span class="ident" id="6469180">Obj</span>&nbsp;<span class="comment" id="6469184">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469222">Objs</span>&nbsp;&nbsp;<span class="op" id="6469228">[</span><span class="op" id="6469229">]</span><span class="ident" id="6469230">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6469244">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469283">go12line</span>&nbsp;<span class="op" id="6469292">*</span><span class="ident" id="6469293">LineTable</span>&nbsp;<span class="comment" id="6469303">//&nbsp;Go&nbsp;1.2&nbsp;line&nbsp;number&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="6469331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6469334">type</span>&nbsp;<span class="ident" id="6469339">sym</span>&nbsp;<span class="keyword" id="6469343">struct</span>&nbsp;<span class="op" id="6469350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469353">value</span>&nbsp;&nbsp;<span class="ident" id="6469360">uint64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469368">gotype</span>&nbsp;<span class="ident" id="6469375">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469383">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6469390">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469396">name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6469403">[</span><span class="op" id="6469404">]</span><span class="builtintype" id="6469405">byte</span><br>
<span class="lineno"></span><span class="op" id="6469410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6469413">var</span>&nbsp;<span class="op" id="6469417">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469420">littleEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469442">=</span>&nbsp;<span class="op" id="6469444">[</span><span class="op" id="6469445">]</span><span class="builtintype" id="6469446">byte</span><span class="op" id="6469450">{</span><span class="num" id="6469451">0xFD</span><span class="op" id="6469455">,</span>&nbsp;<span class="num" id="6469457">0xFF</span><span class="op" id="6469461">,</span>&nbsp;<span class="num" id="6469463">0xFF</span><span class="op" id="6469467">,</span>&nbsp;<span class="num" id="6469469">0xFF</span><span class="op" id="6469473">,</span>&nbsp;<span class="num" id="6469475">0x00</span><span class="op" id="6469479">,</span>&nbsp;<span class="num" id="6469481">0x00</span><span class="op" id="6469485">,</span>&nbsp;<span class="num" id="6469487">0x00</span><span class="op" id="6469491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469494">bigEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469516">=</span>&nbsp;<span class="op" id="6469518">[</span><span class="op" id="6469519">]</span><span class="builtintype" id="6469520">byte</span><span class="op" id="6469524">{</span><span class="num" id="6469525">0xFF</span><span class="op" id="6469529">,</span>&nbsp;<span class="num" id="6469531">0xFF</span><span class="op" id="6469535">,</span>&nbsp;<span class="num" id="6469537">0xFF</span><span class="op" id="6469541">,</span>&nbsp;<span class="num" id="6469543">0xFD</span><span class="op" id="6469547">,</span>&nbsp;<span class="num" id="6469549">0x00</span><span class="op" id="6469553">,</span>&nbsp;<span class="num" id="6469555">0x00</span><span class="op" id="6469559">,</span>&nbsp;<span class="num" id="6469561">0x00</span><span class="op" id="6469565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469568">oldLittleEndianSymtab</span>&nbsp;<span class="op" id="6469590">=</span>&nbsp;<span class="op" id="6469592">[</span><span class="op" id="6469593">]</span><span class="builtintype" id="6469594">byte</span><span class="op" id="6469598">{</span><span class="num" id="6469599">0xFE</span><span class="op" id="6469603">,</span>&nbsp;<span class="num" id="6469605">0xFF</span><span class="op" id="6469609">,</span>&nbsp;<span class="num" id="6469611">0xFF</span><span class="op" id="6469615">,</span>&nbsp;<span class="num" id="6469617">0xFF</span><span class="op" id="6469621">,</span>&nbsp;<span class="num" id="6469623">0x00</span><span class="op" id="6469627">,</span>&nbsp;<span class="num" id="6469629">0x00</span><span class="op" id="6469633">}</span><br>
<span class="lineno"></span><span class="op" id="6469635">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="6469638">func</span>&nbsp;<span class="ident" id="6469643">walksymtab</span><span class="op" id="6469653">(</span><span class="ident" id="6469654">data</span>&nbsp;<span class="op" id="6469659">[</span><span class="op" id="6469660">]</span><span class="builtintype" id="6469661">byte</span><span class="op" id="6469665">,</span>&nbsp;<span class="ident" id="6469667">fn</span>&nbsp;<span class="keyword" id="6469670">func</span><span class="op" id="6469674">(</span><span class="ident" id="6469675">sym</span><span class="op" id="6469678">)</span>&nbsp;<span class="builtintype" id="6469680">error</span><span class="op" id="6469685">)</span>&nbsp;<span class="builtintype" id="6469687">error</span>&nbsp;<span class="op" id="6469693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469696">if</span>&nbsp;<span class="builtinfunc" id="6469699">len</span><span class="op" id="6469702">(</span><span class="ident" id="6469703">data</span><span class="op" id="6469707">)</span>&nbsp;<span class="op" id="6469709">==</span>&nbsp;<span class="num" id="6469712">0</span>&nbsp;<span class="op" id="6469714">{</span>&nbsp;<span class="comment" id="6469716">//&nbsp;missing&nbsp;symtab&nbsp;is&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469744">return</span>&nbsp;<span class="ident" id="6469751">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469756">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469759">var</span>&nbsp;<span class="ident" id="6469763">order</span>&nbsp;<span class="ident" id="6469769">binary</span><span class="op" id="6469775">.</span><span class="ident" id="6469776">ByteOrder</span>&nbsp;<span class="op" id="6469786">=</span>&nbsp;<span class="ident" id="6469788">binary</span><span class="op" id="6469794">.</span><span class="ident" id="6469795">BigEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469806">newTable</span>&nbsp;<span class="op" id="6469815">:=</span>&nbsp;<span class="builtintype" id="6469818">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469825">switch</span>&nbsp;<span class="op" id="6469832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469835">case</span>&nbsp;<span class="ident" id="6469840">bytes</span><span class="op" id="6469845">.</span><span class="ident" id="6469846">HasPrefix</span><span class="op" id="6469855">(</span><span class="ident" id="6469856">data</span><span class="op" id="6469860">,</span>&nbsp;<span class="ident" id="6469862">oldLittleEndianSymtab</span><span class="op" id="6469883">)</span><span class="op" id="6469884">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6469888">//&nbsp;Same&nbsp;as&nbsp;Go&nbsp;1.0,&nbsp;but&nbsp;little&nbsp;endian.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6469928">//&nbsp;Format&nbsp;was&nbsp;used&nbsp;during&nbsp;interim&nbsp;development&nbsp;between&nbsp;Go&nbsp;1.0&nbsp;and&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6470003">//&nbsp;Should&nbsp;not&nbsp;be&nbsp;widespread,&nbsp;but&nbsp;easy&nbsp;to&nbsp;support.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470055">data</span>&nbsp;<span class="op" id="6470060">=</span>&nbsp;<span class="ident" id="6470062">data</span><span class="op" id="6470066">[</span><span class="num" id="6470067">6</span><span class="op" id="6470068">:</span><span class="op" id="6470069">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470073">order</span>&nbsp;<span class="op" id="6470079">=</span>&nbsp;<span class="ident" id="6470081">binary</span><span class="op" id="6470087">.</span><span class="ident" id="6470088">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470102">case</span>&nbsp;<span class="ident" id="6470107">bytes</span><span class="op" id="6470112">.</span><span class="ident" id="6470113">HasPrefix</span><span class="op" id="6470122">(</span><span class="ident" id="6470123">data</span><span class="op" id="6470127">,</span>&nbsp;<span class="ident" id="6470129">bigEndianSymtab</span><span class="op" id="6470144">)</span><span class="op" id="6470145">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470149">newTable</span>&nbsp;<span class="op" id="6470158">=</span>&nbsp;<span class="builtintype" id="6470160">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470166">case</span>&nbsp;<span class="ident" id="6470171">bytes</span><span class="op" id="6470176">.</span><span class="ident" id="6470177">HasPrefix</span><span class="op" id="6470186">(</span><span class="ident" id="6470187">data</span><span class="op" id="6470191">,</span>&nbsp;<span class="ident" id="6470193">littleEndianSymtab</span><span class="op" id="6470211">)</span><span class="op" id="6470212">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470216">newTable</span>&nbsp;<span class="op" id="6470225">=</span>&nbsp;<span class="builtintype" id="6470227">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470234">order</span>&nbsp;<span class="op" id="6470240">=</span>&nbsp;<span class="ident" id="6470242">binary</span><span class="op" id="6470248">.</span><span class="ident" id="6470249">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470263">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470266">var</span>&nbsp;<span class="ident" id="6470270">ptrsz</span>&nbsp;<span class="builtintype" id="6470276">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470281">if</span>&nbsp;<span class="ident" id="6470284">newTable</span>&nbsp;<span class="op" id="6470293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470297">if</span>&nbsp;<span class="builtinfunc" id="6470300">len</span><span class="op" id="6470303">(</span><span class="ident" id="6470304">data</span><span class="op" id="6470308">)</span>&nbsp;<span class="op" id="6470310">&lt;</span>&nbsp;<span class="num" id="6470312">8</span>&nbsp;<span class="op" id="6470314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470319">return</span>&nbsp;<span class="op" id="6470326">&amp;</span><span class="ident" id="6470327">DecodingError</span><span class="op" id="6470340">{</span><span class="builtinfunc" id="6470341">len</span><span class="op" id="6470344">(</span><span class="ident" id="6470345">data</span><span class="op" id="6470349">)</span><span class="op" id="6470350">,</span>&nbsp;<span class="string" id="6470352">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6470368">,</span>&nbsp;<span class="ident" id="6470370">nil</span><span class="op" id="6470373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470377">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470381">ptrsz</span>&nbsp;<span class="op" id="6470387">=</span>&nbsp;<span class="builtintype" id="6470389">int</span><span class="op" id="6470392">(</span><span class="ident" id="6470393">data</span><span class="op" id="6470397">[</span><span class="num" id="6470398">7</span><span class="op" id="6470399">]</span><span class="op" id="6470400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470404">if</span>&nbsp;<span class="ident" id="6470407">ptrsz</span>&nbsp;<span class="op" id="6470413">!=</span>&nbsp;<span class="num" id="6470416">4</span>&nbsp;<span class="op" id="6470418">&amp;&amp;</span>&nbsp;<span class="ident" id="6470421">ptrsz</span>&nbsp;<span class="op" id="6470427">!=</span>&nbsp;<span class="num" id="6470430">8</span>&nbsp;<span class="op" id="6470432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470437">return</span>&nbsp;<span class="op" id="6470444">&amp;</span><span class="ident" id="6470445">DecodingError</span><span class="op" id="6470458">{</span><span class="num" id="6470459">7</span><span class="op" id="6470460">,</span>&nbsp;<span class="string" id="6470462">&#34;invalid&nbsp;pointer&nbsp;size&#34;</span><span class="op" id="6470484">,</span>&nbsp;<span class="ident" id="6470486">ptrsz</span><span class="op" id="6470491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470499">data</span>&nbsp;<span class="op" id="6470504">=</span>&nbsp;<span class="ident" id="6470506">data</span><span class="op" id="6470510">[</span><span class="num" id="6470511">8</span><span class="op" id="6470512">:</span><span class="op" id="6470513">]</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470519">var</span>&nbsp;<span class="ident" id="6470523">s</span>&nbsp;<span class="ident" id="6470525">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470530">p</span>&nbsp;<span class="op" id="6470532">:=</span>&nbsp;<span class="ident" id="6470535">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470541">for</span>&nbsp;<span class="builtinfunc" id="6470545">len</span><span class="op" id="6470548">(</span><span class="ident" id="6470549">p</span><span class="op" id="6470550">)</span>&nbsp;<span class="op" id="6470552">&gt;=</span>&nbsp;<span class="num" id="6470555">4</span>&nbsp;<span class="op" id="6470557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470561">var</span>&nbsp;<span class="ident" id="6470565">typ</span>&nbsp;<span class="builtintype" id="6470569">byte</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470576">if</span>&nbsp;<span class="ident" id="6470579">newTable</span>&nbsp;<span class="op" id="6470588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6470593">//&nbsp;Symbol&nbsp;type,&nbsp;value,&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470628">typ</span>&nbsp;<span class="op" id="6470632">=</span>&nbsp;<span class="ident" id="6470634">p</span><span class="op" id="6470635">[</span><span class="num" id="6470636">0</span><span class="op" id="6470637">]</span>&nbsp;<span class="op" id="6470639">&amp;</span>&nbsp;<span class="num" id="6470641">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470649">wideValue</span>&nbsp;<span class="op" id="6470659">:=</span>&nbsp;<span class="ident" id="6470662">p</span><span class="op" id="6470663">[</span><span class="num" id="6470664">0</span><span class="op" id="6470665">]</span><span class="op" id="6470666">&amp;</span><span class="num" id="6470667">0x40</span>&nbsp;<span class="op" id="6470672">!=</span>&nbsp;<span class="num" id="6470675">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470680">goType</span>&nbsp;<span class="op" id="6470687">:=</span>&nbsp;<span class="ident" id="6470690">p</span><span class="op" id="6470691">[</span><span class="num" id="6470692">0</span><span class="op" id="6470693">]</span><span class="op" id="6470694">&amp;</span><span class="num" id="6470695">0x80</span>&nbsp;<span class="op" id="6470700">!=</span>&nbsp;<span class="num" id="6470703">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470708">if</span>&nbsp;<span class="ident" id="6470711">typ</span>&nbsp;<span class="op" id="6470715">&lt;</span>&nbsp;<span class="num" id="6470717">26</span>&nbsp;<span class="op" id="6470720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470726">typ</span>&nbsp;<span class="op" id="6470730">+=</span>&nbsp;<span class="string" id="6470733">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470740">}</span>&nbsp;<span class="keyword" id="6470742">else</span>&nbsp;<span class="op" id="6470747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470753">typ</span>&nbsp;<span class="op" id="6470757">+=</span>&nbsp;<span class="string" id="6470760">&#39;a&#39;</span>&nbsp;<span class="op" id="6470764">-</span>&nbsp;<span class="num" id="6470766">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470772">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470777">s</span><span class="op" id="6470778">.</span><span class="ident" id="6470779">typ</span>&nbsp;<span class="op" id="6470783">=</span>&nbsp;<span class="ident" id="6470785">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470792">p</span>&nbsp;<span class="op" id="6470794">=</span>&nbsp;<span class="ident" id="6470796">p</span><span class="op" id="6470797">[</span><span class="num" id="6470798">1</span><span class="op" id="6470799">:</span><span class="op" id="6470800">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470805">if</span>&nbsp;<span class="ident" id="6470808">wideValue</span>&nbsp;<span class="op" id="6470818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470824">if</span>&nbsp;<span class="builtinfunc" id="6470827">len</span><span class="op" id="6470830">(</span><span class="ident" id="6470831">p</span><span class="op" id="6470832">)</span>&nbsp;<span class="op" id="6470834">&lt;</span>&nbsp;<span class="ident" id="6470836">ptrsz</span>&nbsp;<span class="op" id="6470842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470849">return</span>&nbsp;<span class="op" id="6470856">&amp;</span><span class="ident" id="6470857">DecodingError</span><span class="op" id="6470870">{</span><span class="builtinfunc" id="6470871">len</span><span class="op" id="6470874">(</span><span class="ident" id="6470875">data</span><span class="op" id="6470879">)</span><span class="op" id="6470880">,</span>&nbsp;<span class="string" id="6470882">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6470898">,</span>&nbsp;<span class="ident" id="6470900">nil</span><span class="op" id="6470903">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6470915">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6470940">if</span>&nbsp;<span class="ident" id="6470943">ptrsz</span>&nbsp;<span class="op" id="6470949">==</span>&nbsp;<span class="num" id="6470952">8</span>&nbsp;<span class="op" id="6470954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470961">s</span><span class="op" id="6470962">.</span><span class="ident" id="6470963">value</span>&nbsp;<span class="op" id="6470969">=</span>&nbsp;<span class="ident" id="6470971">order</span><span class="op" id="6470976">.</span><span class="ident" id="6470977">Uint64</span><span class="op" id="6470983">(</span><span class="ident" id="6470984">p</span><span class="op" id="6470985">[</span><span class="num" id="6470986">0</span><span class="op" id="6470987">:</span><span class="num" id="6470988">8</span><span class="op" id="6470989">]</span><span class="op" id="6470990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470997">p</span>&nbsp;<span class="op" id="6470999">=</span>&nbsp;<span class="ident" id="6471001">p</span><span class="op" id="6471002">[</span><span class="num" id="6471003">8</span><span class="op" id="6471004">:</span><span class="op" id="6471005">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471011">}</span>&nbsp;<span class="keyword" id="6471013">else</span>&nbsp;<span class="op" id="6471018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471025">s</span><span class="op" id="6471026">.</span><span class="ident" id="6471027">value</span>&nbsp;<span class="op" id="6471033">=</span>&nbsp;<span class="ident" id="6471035">uint64</span><span class="op" id="6471041">(</span><span class="ident" id="6471042">order</span><span class="op" id="6471047">.</span><span class="ident" id="6471048">Uint32</span><span class="op" id="6471054">(</span><span class="ident" id="6471055">p</span><span class="op" id="6471056">[</span><span class="num" id="6471057">0</span><span class="op" id="6471058">:</span><span class="num" id="6471059">4</span><span class="op" id="6471060">]</span><span class="op" id="6471061">)</span><span class="op" id="6471062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471069">p</span>&nbsp;<span class="op" id="6471071">=</span>&nbsp;<span class="ident" id="6471073">p</span><span class="op" id="6471074">[</span><span class="num" id="6471075">4</span><span class="op" id="6471076">:</span><span class="op" id="6471077">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471088">}</span>&nbsp;<span class="keyword" id="6471090">else</span>&nbsp;<span class="op" id="6471095">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471101">//&nbsp;varint&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471121">s</span><span class="op" id="6471122">.</span><span class="ident" id="6471123">value</span>&nbsp;<span class="op" id="6471129">=</span>&nbsp;<span class="num" id="6471131">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471137">shift</span>&nbsp;<span class="op" id="6471143">:=</span>&nbsp;<span class="builtintype" id="6471146">uint</span><span class="op" id="6471150">(</span><span class="num" id="6471151">0</span><span class="op" id="6471152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471158">for</span>&nbsp;<span class="builtinfunc" id="6471162">len</span><span class="op" id="6471165">(</span><span class="ident" id="6471166">p</span><span class="op" id="6471167">)</span>&nbsp;<span class="op" id="6471169">&gt;</span>&nbsp;<span class="num" id="6471171">0</span>&nbsp;<span class="op" id="6471173">&amp;&amp;</span>&nbsp;<span class="ident" id="6471176">p</span><span class="op" id="6471177">[</span><span class="num" id="6471178">0</span><span class="op" id="6471179">]</span><span class="op" id="6471180">&amp;</span><span class="num" id="6471181">0x80</span>&nbsp;<span class="op" id="6471186">!=</span>&nbsp;<span class="num" id="6471189">0</span>&nbsp;<span class="op" id="6471191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471198">s</span><span class="op" id="6471199">.</span><span class="ident" id="6471200">value</span>&nbsp;<span class="op" id="6471206">|=</span>&nbsp;<span class="ident" id="6471209">uint64</span><span class="op" id="6471215">(</span><span class="ident" id="6471216">p</span><span class="op" id="6471217">[</span><span class="num" id="6471218">0</span><span class="op" id="6471219">]</span><span class="op" id="6471220">&amp;</span><span class="num" id="6471221">0x7F</span><span class="op" id="6471225">)</span>&nbsp;<span class="op" id="6471227">&lt;&lt;</span>&nbsp;<span class="ident" id="6471230">shift</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471241">shift</span>&nbsp;<span class="op" id="6471247">+=</span>&nbsp;<span class="num" id="6471250">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471257">p</span>&nbsp;<span class="op" id="6471259">=</span>&nbsp;<span class="ident" id="6471261">p</span><span class="op" id="6471262">[</span><span class="num" id="6471263">1</span><span class="op" id="6471264">:</span><span class="op" id="6471265">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471277">if</span>&nbsp;<span class="builtinfunc" id="6471280">len</span><span class="op" id="6471283">(</span><span class="ident" id="6471284">p</span><span class="op" id="6471285">)</span>&nbsp;<span class="op" id="6471287">==</span>&nbsp;<span class="num" id="6471290">0</span>&nbsp;<span class="op" id="6471292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471299">return</span>&nbsp;<span class="op" id="6471306">&amp;</span><span class="ident" id="6471307">DecodingError</span><span class="op" id="6471320">{</span><span class="builtinfunc" id="6471321">len</span><span class="op" id="6471324">(</span><span class="ident" id="6471325">data</span><span class="op" id="6471329">)</span><span class="op" id="6471330">,</span>&nbsp;<span class="string" id="6471332">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6471348">,</span>&nbsp;<span class="ident" id="6471350">nil</span><span class="op" id="6471353">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471365">s</span><span class="op" id="6471366">.</span><span class="ident" id="6471367">value</span>&nbsp;<span class="op" id="6471373">|=</span>&nbsp;<span class="ident" id="6471376">uint64</span><span class="op" id="6471382">(</span><span class="ident" id="6471383">p</span><span class="op" id="6471384">[</span><span class="num" id="6471385">0</span><span class="op" id="6471386">]</span><span class="op" id="6471387">)</span>&nbsp;<span class="op" id="6471389">&lt;&lt;</span>&nbsp;<span class="ident" id="6471392">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471402">p</span>&nbsp;<span class="op" id="6471404">=</span>&nbsp;<span class="ident" id="6471406">p</span><span class="op" id="6471407">[</span><span class="num" id="6471408">1</span><span class="op" id="6471409">:</span><span class="op" id="6471410">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471420">if</span>&nbsp;<span class="ident" id="6471423">goType</span>&nbsp;<span class="op" id="6471430">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471436">if</span>&nbsp;<span class="builtinfunc" id="6471439">len</span><span class="op" id="6471442">(</span><span class="ident" id="6471443">p</span><span class="op" id="6471444">)</span>&nbsp;<span class="op" id="6471446">&lt;</span>&nbsp;<span class="ident" id="6471448">ptrsz</span>&nbsp;<span class="op" id="6471454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471461">return</span>&nbsp;<span class="op" id="6471468">&amp;</span><span class="ident" id="6471469">DecodingError</span><span class="op" id="6471482">{</span><span class="builtinfunc" id="6471483">len</span><span class="op" id="6471486">(</span><span class="ident" id="6471487">data</span><span class="op" id="6471491">)</span><span class="op" id="6471492">,</span>&nbsp;<span class="string" id="6471494">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6471510">,</span>&nbsp;<span class="ident" id="6471512">nil</span><span class="op" id="6471515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471527">//&nbsp;fixed-width&nbsp;go&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471554">if</span>&nbsp;<span class="ident" id="6471557">ptrsz</span>&nbsp;<span class="op" id="6471563">==</span>&nbsp;<span class="num" id="6471566">8</span>&nbsp;<span class="op" id="6471568">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471575">s</span><span class="op" id="6471576">.</span><span class="ident" id="6471577">gotype</span>&nbsp;<span class="op" id="6471584">=</span>&nbsp;<span class="ident" id="6471586">order</span><span class="op" id="6471591">.</span><span class="ident" id="6471592">Uint64</span><span class="op" id="6471598">(</span><span class="ident" id="6471599">p</span><span class="op" id="6471600">[</span><span class="num" id="6471601">0</span><span class="op" id="6471602">:</span><span class="num" id="6471603">8</span><span class="op" id="6471604">]</span><span class="op" id="6471605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471612">p</span>&nbsp;<span class="op" id="6471614">=</span>&nbsp;<span class="ident" id="6471616">p</span><span class="op" id="6471617">[</span><span class="num" id="6471618">8</span><span class="op" id="6471619">:</span><span class="op" id="6471620">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471626">}</span>&nbsp;<span class="keyword" id="6471628">else</span>&nbsp;<span class="op" id="6471633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471640">s</span><span class="op" id="6471641">.</span><span class="ident" id="6471642">gotype</span>&nbsp;<span class="op" id="6471649">=</span>&nbsp;<span class="ident" id="6471651">uint64</span><span class="op" id="6471657">(</span><span class="ident" id="6471658">order</span><span class="op" id="6471663">.</span><span class="ident" id="6471664">Uint32</span><span class="op" id="6471670">(</span><span class="ident" id="6471671">p</span><span class="op" id="6471672">[</span><span class="num" id="6471673">0</span><span class="op" id="6471674">:</span><span class="num" id="6471675">4</span><span class="op" id="6471676">]</span><span class="op" id="6471677">)</span><span class="op" id="6471678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471685">p</span>&nbsp;<span class="op" id="6471687">=</span>&nbsp;<span class="ident" id="6471689">p</span><span class="op" id="6471690">[</span><span class="num" id="6471691">4</span><span class="op" id="6471692">:</span><span class="op" id="6471693">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471708">}</span>&nbsp;<span class="keyword" id="6471710">else</span>&nbsp;<span class="op" id="6471715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471720">//&nbsp;Value,&nbsp;symbol&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471746">s</span><span class="op" id="6471747">.</span><span class="ident" id="6471748">value</span>&nbsp;<span class="op" id="6471754">=</span>&nbsp;<span class="ident" id="6471756">uint64</span><span class="op" id="6471762">(</span><span class="ident" id="6471763">order</span><span class="op" id="6471768">.</span><span class="ident" id="6471769">Uint32</span><span class="op" id="6471775">(</span><span class="ident" id="6471776">p</span><span class="op" id="6471777">[</span><span class="num" id="6471778">0</span><span class="op" id="6471779">:</span><span class="num" id="6471780">4</span><span class="op" id="6471781">]</span><span class="op" id="6471782">)</span><span class="op" id="6471783">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471788">if</span>&nbsp;<span class="builtinfunc" id="6471791">len</span><span class="op" id="6471794">(</span><span class="ident" id="6471795">p</span><span class="op" id="6471796">)</span>&nbsp;<span class="op" id="6471798">&lt;</span>&nbsp;<span class="num" id="6471800">5</span>&nbsp;<span class="op" id="6471802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471808">return</span>&nbsp;<span class="op" id="6471815">&amp;</span><span class="ident" id="6471816">DecodingError</span><span class="op" id="6471829">{</span><span class="builtinfunc" id="6471830">len</span><span class="op" id="6471833">(</span><span class="ident" id="6471834">data</span><span class="op" id="6471838">)</span><span class="op" id="6471839">,</span>&nbsp;<span class="string" id="6471841">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6471857">,</span>&nbsp;<span class="ident" id="6471859">nil</span><span class="op" id="6471862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471872">typ</span>&nbsp;<span class="op" id="6471876">=</span>&nbsp;<span class="ident" id="6471878">p</span><span class="op" id="6471879">[</span><span class="num" id="6471880">4</span><span class="op" id="6471881">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471886">if</span>&nbsp;<span class="ident" id="6471889">typ</span><span class="op" id="6471892">&amp;</span><span class="num" id="6471893">0x80</span>&nbsp;<span class="op" id="6471898">==</span>&nbsp;<span class="num" id="6471901">0</span>&nbsp;<span class="op" id="6471903">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6471909">return</span>&nbsp;<span class="op" id="6471916">&amp;</span><span class="ident" id="6471917">DecodingError</span><span class="op" id="6471930">{</span><span class="builtinfunc" id="6471931">len</span><span class="op" id="6471934">(</span><span class="ident" id="6471935">data</span><span class="op" id="6471939">)</span>&nbsp;<span class="op" id="6471941">-</span>&nbsp;<span class="builtinfunc" id="6471943">len</span><span class="op" id="6471946">(</span><span class="ident" id="6471947">p</span><span class="op" id="6471948">)</span>&nbsp;<span class="op" id="6471950">+</span>&nbsp;<span class="num" id="6471952">4</span><span class="op" id="6471953">,</span>&nbsp;<span class="string" id="6471955">&#34;bad&nbsp;symbol&nbsp;type&#34;</span><span class="op" id="6471972">,</span>&nbsp;<span class="ident" id="6471974">typ</span><span class="op" id="6471977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471987">typ</span>&nbsp;<span class="op" id="6471991">&amp;^=</span>&nbsp;<span class="num" id="6471995">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472003">s</span><span class="op" id="6472004">.</span><span class="ident" id="6472005">typ</span>&nbsp;<span class="op" id="6472009">=</span>&nbsp;<span class="ident" id="6472011">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472018">p</span>&nbsp;<span class="op" id="6472020">=</span>&nbsp;<span class="ident" id="6472022">p</span><span class="op" id="6472023">[</span><span class="num" id="6472024">5</span><span class="op" id="6472025">:</span><span class="op" id="6472026">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6472035">//&nbsp;Name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472046">var</span>&nbsp;<span class="ident" id="6472050">i</span>&nbsp;<span class="builtintype" id="6472052">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472058">var</span>&nbsp;<span class="ident" id="6472062">nnul</span>&nbsp;<span class="builtintype" id="6472067">int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472073">for</span>&nbsp;<span class="ident" id="6472077">i</span>&nbsp;<span class="op" id="6472079">=</span>&nbsp;<span class="num" id="6472081">0</span><span class="op" id="6472082">;</span>&nbsp;<span class="ident" id="6472084">i</span>&nbsp;<span class="op" id="6472086">&lt;</span>&nbsp;<span class="builtinfunc" id="6472088">len</span><span class="op" id="6472091">(</span><span class="ident" id="6472092">p</span><span class="op" id="6472093">)</span><span class="op" id="6472094">;</span>&nbsp;<span class="ident" id="6472096">i</span><span class="op" id="6472097">++</span>&nbsp;<span class="op" id="6472100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472105">if</span>&nbsp;<span class="ident" id="6472108">p</span><span class="op" id="6472109">[</span><span class="ident" id="6472110">i</span><span class="op" id="6472111">]</span>&nbsp;<span class="op" id="6472113">==</span>&nbsp;<span class="num" id="6472116">0</span>&nbsp;<span class="op" id="6472118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472124">nnul</span>&nbsp;<span class="op" id="6472129">=</span>&nbsp;<span class="num" id="6472131">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472137">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472146">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472154">switch</span>&nbsp;<span class="ident" id="6472161">typ</span>&nbsp;<span class="op" id="6472165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472169">case</span>&nbsp;<span class="string" id="6472174">&#39;z&#39;</span><span class="op" id="6472177">,</span>&nbsp;<span class="string" id="6472179">&#39;Z&#39;</span><span class="op" id="6472182">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472187">p</span>&nbsp;<span class="op" id="6472189">=</span>&nbsp;<span class="ident" id="6472191">p</span><span class="op" id="6472192">[</span><span class="ident" id="6472193">i</span><span class="op" id="6472194">+</span><span class="ident" id="6472195">nnul</span><span class="op" id="6472199">:</span><span class="op" id="6472200">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472205">for</span>&nbsp;<span class="ident" id="6472209">i</span>&nbsp;<span class="op" id="6472211">=</span>&nbsp;<span class="num" id="6472213">0</span><span class="op" id="6472214">;</span>&nbsp;<span class="ident" id="6472216">i</span><span class="op" id="6472217">+</span><span class="num" id="6472218">2</span>&nbsp;<span class="op" id="6472220">&lt;=</span>&nbsp;<span class="builtinfunc" id="6472223">len</span><span class="op" id="6472226">(</span><span class="ident" id="6472227">p</span><span class="op" id="6472228">)</span><span class="op" id="6472229">;</span>&nbsp;<span class="ident" id="6472231">i</span>&nbsp;<span class="op" id="6472233">+=</span>&nbsp;<span class="num" id="6472236">2</span>&nbsp;<span class="op" id="6472238">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472244">if</span>&nbsp;<span class="ident" id="6472247">p</span><span class="op" id="6472248">[</span><span class="ident" id="6472249">i</span><span class="op" id="6472250">]</span>&nbsp;<span class="op" id="6472252">==</span>&nbsp;<span class="num" id="6472255">0</span>&nbsp;<span class="op" id="6472257">&amp;&amp;</span>&nbsp;<span class="ident" id="6472260">p</span><span class="op" id="6472261">[</span><span class="ident" id="6472262">i</span><span class="op" id="6472263">+</span><span class="num" id="6472264">1</span><span class="op" id="6472265">]</span>&nbsp;<span class="op" id="6472267">==</span>&nbsp;<span class="num" id="6472270">0</span>&nbsp;<span class="op" id="6472272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472279">nnul</span>&nbsp;<span class="op" id="6472284">=</span>&nbsp;<span class="num" id="6472286">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472293">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472308">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472316">if</span>&nbsp;<span class="builtinfunc" id="6472319">len</span><span class="op" id="6472322">(</span><span class="ident" id="6472323">p</span><span class="op" id="6472324">)</span>&nbsp;<span class="op" id="6472326">&lt;</span>&nbsp;<span class="ident" id="6472328">i</span><span class="op" id="6472329">+</span><span class="ident" id="6472330">nnul</span>&nbsp;<span class="op" id="6472335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472340">return</span>&nbsp;<span class="op" id="6472347">&amp;</span><span class="ident" id="6472348">DecodingError</span><span class="op" id="6472361">{</span><span class="builtinfunc" id="6472362">len</span><span class="op" id="6472365">(</span><span class="ident" id="6472366">data</span><span class="op" id="6472370">)</span><span class="op" id="6472371">,</span>&nbsp;<span class="string" id="6472373">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6472389">,</span>&nbsp;<span class="ident" id="6472391">nil</span><span class="op" id="6472394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472402">s</span><span class="op" id="6472403">.</span><span class="ident" id="6472404">name</span>&nbsp;<span class="op" id="6472409">=</span>&nbsp;<span class="ident" id="6472411">p</span><span class="op" id="6472412">[</span><span class="num" id="6472413">0</span><span class="op" id="6472414">:</span><span class="ident" id="6472415">i</span><span class="op" id="6472416">]</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472420">i</span>&nbsp;<span class="op" id="6472422">+=</span>&nbsp;<span class="ident" id="6472425">nnul</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472432">p</span>&nbsp;<span class="op" id="6472434">=</span>&nbsp;<span class="ident" id="6472436">p</span><span class="op" id="6472437">[</span><span class="ident" id="6472438">i</span><span class="op" id="6472439">:</span><span class="op" id="6472440">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472445">if</span>&nbsp;<span class="op" id="6472448">!</span><span class="ident" id="6472449">newTable</span>&nbsp;<span class="op" id="6472458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472463">if</span>&nbsp;<span class="builtinfunc" id="6472466">len</span><span class="op" id="6472469">(</span><span class="ident" id="6472470">p</span><span class="op" id="6472471">)</span>&nbsp;<span class="op" id="6472473">&lt;</span>&nbsp;<span class="num" id="6472475">4</span>&nbsp;<span class="op" id="6472477">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472483">return</span>&nbsp;<span class="op" id="6472490">&amp;</span><span class="ident" id="6472491">DecodingError</span><span class="op" id="6472504">{</span><span class="builtinfunc" id="6472505">len</span><span class="op" id="6472508">(</span><span class="ident" id="6472509">data</span><span class="op" id="6472513">)</span><span class="op" id="6472514">,</span>&nbsp;<span class="string" id="6472516">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6472532">,</span>&nbsp;<span class="ident" id="6472534">nil</span><span class="op" id="6472537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6472547">//&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472562">s</span><span class="op" id="6472563">.</span><span class="ident" id="6472564">gotype</span>&nbsp;<span class="op" id="6472571">=</span>&nbsp;<span class="ident" id="6472573">uint64</span><span class="op" id="6472579">(</span><span class="ident" id="6472580">order</span><span class="op" id="6472585">.</span><span class="ident" id="6472586">Uint32</span><span class="op" id="6472592">(</span><span class="ident" id="6472593">p</span><span class="op" id="6472594">[</span><span class="op" id="6472595">:</span><span class="num" id="6472596">4</span><span class="op" id="6472597">]</span><span class="op" id="6472598">)</span><span class="op" id="6472599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472604">p</span>&nbsp;<span class="op" id="6472606">=</span>&nbsp;<span class="ident" id="6472608">p</span><span class="op" id="6472609">[</span><span class="num" id="6472610">4</span><span class="op" id="6472611">:</span><span class="op" id="6472612">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472620">fn</span><span class="op" id="6472622">(</span><span class="ident" id="6472623">s</span><span class="op" id="6472624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472630">return</span>&nbsp;<span class="ident" id="6472637">nil</span><br>
<span class="lineno"></span><span class="op" id="6472641">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="6472644">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="6472693">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="6472735">func</span>&nbsp;<span class="ident" id="6472740">NewTable</span><span class="op" id="6472748">(</span><span class="ident" id="6472749">symtab</span>&nbsp;<span class="op" id="6472756">[</span><span class="op" id="6472757">]</span><span class="builtintype" id="6472758">byte</span><span class="op" id="6472762">,</span>&nbsp;<span class="ident" id="6472764">pcln</span>&nbsp;<span class="op" id="6472769">*</span><span class="ident" id="6472770">LineTable</span><span class="op" id="6472779">)</span>&nbsp;<span class="op" id="6472781">(</span><span class="op" id="6472782">*</span><span class="ident" id="6472783">Table</span><span class="op" id="6472788">,</span>&nbsp;<span class="builtintype" id="6472790">error</span><span class="op" id="6472795">)</span>&nbsp;<span class="op" id="6472797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472800">var</span>&nbsp;<span class="ident" id="6472804">n</span>&nbsp;<span class="builtintype" id="6472806">int</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472811">err</span>&nbsp;<span class="op" id="6472815">:=</span>&nbsp;<span class="ident" id="6472818">walksymtab</span><span class="op" id="6472828">(</span><span class="ident" id="6472829">symtab</span><span class="op" id="6472835">,</span>&nbsp;<span class="keyword" id="6472837">func</span><span class="op" id="6472841">(</span><span class="ident" id="6472842">s</span>&nbsp;<span class="ident" id="6472844">sym</span><span class="op" id="6472847">)</span>&nbsp;<span class="builtintype" id="6472849">error</span>&nbsp;<span class="op" id="6472855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472859">n</span><span class="op" id="6472860">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472865">return</span>&nbsp;<span class="ident" id="6472872">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472877">}</span><span class="op" id="6472878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472881">if</span>&nbsp;<span class="ident" id="6472884">err</span>&nbsp;<span class="op" id="6472888">!=</span>&nbsp;<span class="ident" id="6472891">nil</span>&nbsp;<span class="op" id="6472895">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472899">return</span>&nbsp;<span class="ident" id="6472906">nil</span><span class="op" id="6472909">,</span>&nbsp;<span class="ident" id="6472911">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472920">var</span>&nbsp;<span class="ident" id="6472924">t</span>&nbsp;<span class="ident" id="6472926">Table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472933">if</span>&nbsp;<span class="ident" id="6472936">pcln</span><span class="op" id="6472940">.</span><span class="ident" id="6472941">isGo12</span><span class="op" id="6472947">(</span><span class="op" id="6472948">)</span>&nbsp;<span class="op" id="6472950">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472954">t</span><span class="op" id="6472955">.</span><span class="ident" id="6472956">go12line</span>&nbsp;<span class="op" id="6472965">=</span>&nbsp;<span class="ident" id="6472967">pcln</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472976">fname</span>&nbsp;<span class="op" id="6472982">:=</span>&nbsp;<span class="builtinfunc" id="6472985">make</span><span class="op" id="6472989">(</span><span class="keyword" id="6472990">map</span><span class="op" id="6472993">[</span><span class="builtintype" id="6472994">uint16</span><span class="op" id="6473000">]</span><span class="builtintype" id="6473001">string</span><span class="op" id="6473007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473010">t</span><span class="op" id="6473011">.</span><span class="ident" id="6473012">Syms</span>&nbsp;<span class="op" id="6473017">=</span>&nbsp;<span class="builtinfunc" id="6473019">make</span><span class="op" id="6473023">(</span><span class="op" id="6473024">[</span><span class="op" id="6473025">]</span><span class="ident" id="6473026">Sym</span><span class="op" id="6473029">,</span>&nbsp;<span class="num" id="6473031">0</span><span class="op" id="6473032">,</span>&nbsp;<span class="ident" id="6473034">n</span><span class="op" id="6473035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473038">nf</span>&nbsp;<span class="op" id="6473041">:=</span>&nbsp;<span class="num" id="6473044">0</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473047">nz</span>&nbsp;<span class="op" id="6473050">:=</span>&nbsp;<span class="num" id="6473053">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473056">lasttyp</span>&nbsp;<span class="op" id="6473064">:=</span>&nbsp;<span class="builtintype" id="6473067">uint8</span><span class="op" id="6473072">(</span><span class="num" id="6473073">0</span><span class="op" id="6473074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473077">err</span>&nbsp;<span class="op" id="6473081">=</span>&nbsp;<span class="ident" id="6473083">walksymtab</span><span class="op" id="6473093">(</span><span class="ident" id="6473094">symtab</span><span class="op" id="6473100">,</span>&nbsp;<span class="keyword" id="6473102">func</span><span class="op" id="6473106">(</span><span class="ident" id="6473107">s</span>&nbsp;<span class="ident" id="6473109">sym</span><span class="op" id="6473112">)</span>&nbsp;<span class="builtintype" id="6473114">error</span>&nbsp;<span class="op" id="6473120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473124">n</span>&nbsp;<span class="op" id="6473126">:=</span>&nbsp;<span class="builtinfunc" id="6473129">len</span><span class="op" id="6473132">(</span><span class="ident" id="6473133">t</span><span class="op" id="6473134">.</span><span class="ident" id="6473135">Syms</span><span class="op" id="6473139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473143">t</span><span class="op" id="6473144">.</span><span class="ident" id="6473145">Syms</span>&nbsp;<span class="op" id="6473150">=</span>&nbsp;<span class="ident" id="6473152">t</span><span class="op" id="6473153">.</span><span class="ident" id="6473154">Syms</span><span class="op" id="6473158">[</span><span class="num" id="6473159">0</span>&nbsp;<span class="op" id="6473161">:</span>&nbsp;<span class="ident" id="6473163">n</span><span class="op" id="6473164">+</span><span class="num" id="6473165">1</span><span class="op" id="6473166">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473170">ts</span>&nbsp;<span class="op" id="6473173">:=</span>&nbsp;<span class="op" id="6473176">&amp;</span><span class="ident" id="6473177">t</span><span class="op" id="6473178">.</span><span class="ident" id="6473179">Syms</span><span class="op" id="6473183">[</span><span class="ident" id="6473184">n</span><span class="op" id="6473185">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473189">ts</span><span class="op" id="6473191">.</span><span class="ident" id="6473192">Type</span>&nbsp;<span class="op" id="6473197">=</span>&nbsp;<span class="ident" id="6473199">s</span><span class="op" id="6473200">.</span><span class="ident" id="6473201">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473207">ts</span><span class="op" id="6473209">.</span><span class="ident" id="6473210">Value</span>&nbsp;<span class="op" id="6473216">=</span>&nbsp;<span class="ident" id="6473218">uint64</span><span class="op" id="6473224">(</span><span class="ident" id="6473225">s</span><span class="op" id="6473226">.</span><span class="ident" id="6473227">value</span><span class="op" id="6473232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473236">ts</span><span class="op" id="6473238">.</span><span class="ident" id="6473239">GoType</span>&nbsp;<span class="op" id="6473246">=</span>&nbsp;<span class="ident" id="6473248">uint64</span><span class="op" id="6473254">(</span><span class="ident" id="6473255">s</span><span class="op" id="6473256">.</span><span class="ident" id="6473257">gotype</span><span class="op" id="6473263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473267">switch</span>&nbsp;<span class="ident" id="6473274">s</span><span class="op" id="6473275">.</span><span class="ident" id="6473276">typ</span>&nbsp;<span class="op" id="6473280">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473284">default</span><span class="op" id="6473291">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6473296">//&nbsp;rewrite&nbsp;name&nbsp;to&nbsp;use&nbsp;.&nbsp;instead&nbsp;of&nbsp;·&nbsp;(c2&nbsp;b7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473346">w</span>&nbsp;<span class="op" id="6473348">:=</span>&nbsp;<span class="num" id="6473351">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473356">b</span>&nbsp;<span class="op" id="6473358">:=</span>&nbsp;<span class="ident" id="6473361">s</span><span class="op" id="6473362">.</span><span class="ident" id="6473363">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473371">for</span>&nbsp;<span class="ident" id="6473375">i</span>&nbsp;<span class="op" id="6473377">:=</span>&nbsp;<span class="num" id="6473380">0</span><span class="op" id="6473381">;</span>&nbsp;<span class="ident" id="6473383">i</span>&nbsp;<span class="op" id="6473385">&lt;</span>&nbsp;<span class="builtinfunc" id="6473387">len</span><span class="op" id="6473390">(</span><span class="ident" id="6473391">b</span><span class="op" id="6473392">)</span><span class="op" id="6473393">;</span>&nbsp;<span class="ident" id="6473395">i</span><span class="op" id="6473396">++</span>&nbsp;<span class="op" id="6473399">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473405">if</span>&nbsp;<span class="ident" id="6473408">b</span><span class="op" id="6473409">[</span><span class="ident" id="6473410">i</span><span class="op" id="6473411">]</span>&nbsp;<span class="op" id="6473413">==</span>&nbsp;<span class="num" id="6473416">0xc2</span>&nbsp;<span class="op" id="6473421">&amp;&amp;</span>&nbsp;<span class="ident" id="6473424">i</span><span class="op" id="6473425">+</span><span class="num" id="6473426">1</span>&nbsp;<span class="op" id="6473428">&lt;</span>&nbsp;<span class="builtinfunc" id="6473430">len</span><span class="op" id="6473433">(</span><span class="ident" id="6473434">b</span><span class="op" id="6473435">)</span>&nbsp;<span class="op" id="6473437">&amp;&amp;</span>&nbsp;<span class="ident" id="6473440">b</span><span class="op" id="6473441">[</span><span class="ident" id="6473442">i</span><span class="op" id="6473443">+</span><span class="num" id="6473444">1</span><span class="op" id="6473445">]</span>&nbsp;<span class="op" id="6473447">==</span>&nbsp;<span class="num" id="6473450">0xb7</span>&nbsp;<span class="op" id="6473455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473462">i</span><span class="op" id="6473463">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473471">b</span><span class="op" id="6473472">[</span><span class="ident" id="6473473">i</span><span class="op" id="6473474">]</span>&nbsp;<span class="op" id="6473476">=</span>&nbsp;<span class="string" id="6473478">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473492">b</span><span class="op" id="6473493">[</span><span class="ident" id="6473494">w</span><span class="op" id="6473495">]</span>&nbsp;<span class="op" id="6473497">=</span>&nbsp;<span class="ident" id="6473499">b</span><span class="op" id="6473500">[</span><span class="ident" id="6473501">i</span><span class="op" id="6473502">]</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473508">w</span><span class="op" id="6473509">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473520">ts</span><span class="op" id="6473522">.</span><span class="ident" id="6473523">Name</span>&nbsp;<span class="op" id="6473528">=</span>&nbsp;<span class="builtintype" id="6473530">string</span><span class="op" id="6473536">(</span><span class="ident" id="6473537">s</span><span class="op" id="6473538">.</span><span class="ident" id="6473539">name</span><span class="op" id="6473543">[</span><span class="num" id="6473544">0</span><span class="op" id="6473545">:</span><span class="ident" id="6473546">w</span><span class="op" id="6473547">]</span><span class="op" id="6473548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473552">case</span>&nbsp;<span class="string" id="6473557">&#39;z&#39;</span><span class="op" id="6473560">,</span>&nbsp;<span class="string" id="6473562">&#39;Z&#39;</span><span class="op" id="6473565">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473570">if</span>&nbsp;<span class="ident" id="6473573">lasttyp</span>&nbsp;<span class="op" id="6473581">!=</span>&nbsp;<span class="string" id="6473584">&#39;z&#39;</span>&nbsp;<span class="op" id="6473588">&amp;&amp;</span>&nbsp;<span class="ident" id="6473591">lasttyp</span>&nbsp;<span class="op" id="6473599">!=</span>&nbsp;<span class="string" id="6473602">&#39;Z&#39;</span>&nbsp;<span class="op" id="6473606">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473612">nz</span><span class="op" id="6473614">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473625">for</span>&nbsp;<span class="ident" id="6473629">i</span>&nbsp;<span class="op" id="6473631">:=</span>&nbsp;<span class="num" id="6473634">0</span><span class="op" id="6473635">;</span>&nbsp;<span class="ident" id="6473637">i</span>&nbsp;<span class="op" id="6473639">&lt;</span>&nbsp;<span class="builtinfunc" id="6473641">len</span><span class="op" id="6473644">(</span><span class="ident" id="6473645">s</span><span class="op" id="6473646">.</span><span class="ident" id="6473647">name</span><span class="op" id="6473651">)</span><span class="op" id="6473652">;</span>&nbsp;<span class="ident" id="6473654">i</span>&nbsp;<span class="op" id="6473656">+=</span>&nbsp;<span class="num" id="6473659">2</span>&nbsp;<span class="op" id="6473661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473667">eltIdx</span>&nbsp;<span class="op" id="6473674">:=</span>&nbsp;<span class="ident" id="6473677">binary</span><span class="op" id="6473683">.</span><span class="ident" id="6473684">BigEndian</span><span class="op" id="6473693">.</span><span class="ident" id="6473694">Uint16</span><span class="op" id="6473700">(</span><span class="ident" id="6473701">s</span><span class="op" id="6473702">.</span><span class="ident" id="6473703">name</span><span class="op" id="6473707">[</span><span class="ident" id="6473708">i</span>&nbsp;<span class="op" id="6473710">:</span>&nbsp;<span class="ident" id="6473712">i</span><span class="op" id="6473713">+</span><span class="num" id="6473714">2</span><span class="op" id="6473715">]</span><span class="op" id="6473716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473722">elt</span><span class="op" id="6473725">,</span>&nbsp;<span class="ident" id="6473727">ok</span>&nbsp;<span class="op" id="6473730">:=</span>&nbsp;<span class="ident" id="6473733">fname</span><span class="op" id="6473738">[</span><span class="ident" id="6473739">eltIdx</span><span class="op" id="6473745">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473751">if</span>&nbsp;<span class="op" id="6473754">!</span><span class="ident" id="6473755">ok</span>&nbsp;<span class="op" id="6473758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473765">return</span>&nbsp;<span class="op" id="6473772">&amp;</span><span class="ident" id="6473773">DecodingError</span><span class="op" id="6473786">{</span><span class="op" id="6473787">-</span><span class="num" id="6473788">1</span><span class="op" id="6473789">,</span>&nbsp;<span class="string" id="6473791">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="6473810">,</span>&nbsp;<span class="ident" id="6473812">eltIdx</span><span class="op" id="6473818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473830">if</span>&nbsp;<span class="ident" id="6473833">n</span>&nbsp;<span class="op" id="6473835">:=</span>&nbsp;<span class="builtinfunc" id="6473838">len</span><span class="op" id="6473841">(</span><span class="ident" id="6473842">ts</span><span class="op" id="6473844">.</span><span class="ident" id="6473845">Name</span><span class="op" id="6473849">)</span><span class="op" id="6473850">;</span>&nbsp;<span class="ident" id="6473852">n</span>&nbsp;<span class="op" id="6473854">&gt;</span>&nbsp;<span class="num" id="6473856">0</span>&nbsp;<span class="op" id="6473858">&amp;&amp;</span>&nbsp;<span class="ident" id="6473861">ts</span><span class="op" id="6473863">.</span><span class="ident" id="6473864">Name</span><span class="op" id="6473868">[</span><span class="ident" id="6473869">n</span><span class="op" id="6473870">-</span><span class="num" id="6473871">1</span><span class="op" id="6473872">]</span>&nbsp;<span class="op" id="6473874">!=</span>&nbsp;<span class="string" id="6473877">&#39;/&#39;</span>&nbsp;<span class="op" id="6473881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473888">ts</span><span class="op" id="6473890">.</span><span class="ident" id="6473891">Name</span>&nbsp;<span class="op" id="6473896">+=</span>&nbsp;<span class="string" id="6473899">&#34;/&#34;</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473913">ts</span><span class="op" id="6473915">.</span><span class="ident" id="6473916">Name</span>&nbsp;<span class="op" id="6473921">+=</span>&nbsp;<span class="ident" id="6473924">elt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473939">switch</span>&nbsp;<span class="ident" id="6473946">s</span><span class="op" id="6473947">.</span><span class="ident" id="6473948">typ</span>&nbsp;<span class="op" id="6473952">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473956">case</span>&nbsp;<span class="string" id="6473961">&#39;T&#39;</span><span class="op" id="6473964">,</span>&nbsp;<span class="string" id="6473966">&#39;t&#39;</span><span class="op" id="6473969">,</span>&nbsp;<span class="string" id="6473971">&#39;L&#39;</span><span class="op" id="6473974">,</span>&nbsp;<span class="string" id="6473976">&#39;l&#39;</span><span class="op" id="6473979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473984">nf</span><span class="op" id="6473986">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473991">case</span>&nbsp;<span class="string" id="6473996">&#39;f&#39;</span><span class="op" id="6473999">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474004">fname</span><span class="op" id="6474009">[</span><span class="builtintype" id="6474010">uint16</span><span class="op" id="6474016">(</span><span class="ident" id="6474017">s</span><span class="op" id="6474018">.</span><span class="ident" id="6474019">value</span><span class="op" id="6474024">)</span><span class="op" id="6474025">]</span>&nbsp;<span class="op" id="6474027">=</span>&nbsp;<span class="ident" id="6474029">ts</span><span class="op" id="6474031">.</span><span class="ident" id="6474032">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6474039">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474043">lasttyp</span>&nbsp;<span class="op" id="6474051">=</span>&nbsp;<span class="ident" id="6474053">s</span><span class="op" id="6474054">.</span><span class="ident" id="6474055">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474061">return</span>&nbsp;<span class="ident" id="6474068">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6474073">}</span><span class="op" id="6474074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474077">if</span>&nbsp;<span class="ident" id="6474080">err</span>&nbsp;<span class="op" id="6474084">!=</span>&nbsp;<span class="ident" id="6474087">nil</span>&nbsp;<span class="op" id="6474091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474095">return</span>&nbsp;<span class="ident" id="6474102">nil</span><span class="op" id="6474105">,</span>&nbsp;<span class="ident" id="6474107">err</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6474112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474116">t</span><span class="op" id="6474117">.</span><span class="ident" id="6474118">Funcs</span>&nbsp;<span class="op" id="6474124">=</span>&nbsp;<span class="builtinfunc" id="6474126">make</span><span class="op" id="6474130">(</span><span class="op" id="6474131">[</span><span class="op" id="6474132">]</span><span class="ident" id="6474133">Func</span><span class="op" id="6474137">,</span>&nbsp;<span class="num" id="6474139">0</span><span class="op" id="6474140">,</span>&nbsp;<span class="ident" id="6474142">nf</span><span class="op" id="6474144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474147">t</span><span class="op" id="6474148">.</span><span class="ident" id="6474149">Files</span>&nbsp;<span class="op" id="6474155">=</span>&nbsp;<span class="builtinfunc" id="6474157">make</span><span class="op" id="6474161">(</span><span class="keyword" id="6474162">map</span><span class="op" id="6474165">[</span><span class="builtintype" id="6474166">string</span><span class="op" id="6474172">]</span><span class="op" id="6474173">*</span><span class="ident" id="6474174">Obj</span><span class="op" id="6474177">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474181">var</span>&nbsp;<span class="ident" id="6474185">obj</span>&nbsp;<span class="op" id="6474189">*</span><span class="ident" id="6474190">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474195">if</span>&nbsp;<span class="ident" id="6474198">t</span><span class="op" id="6474199">.</span><span class="ident" id="6474200">go12line</span>&nbsp;<span class="op" id="6474209">!=</span>&nbsp;<span class="ident" id="6474212">nil</span>&nbsp;<span class="op" id="6474216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6474220">//&nbsp;Put&nbsp;all&nbsp;functions&nbsp;into&nbsp;one&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474257">t</span><span class="op" id="6474258">.</span><span class="ident" id="6474259">Objs</span>&nbsp;<span class="op" id="6474264">=</span>&nbsp;<span class="builtinfunc" id="6474266">make</span><span class="op" id="6474270">(</span><span class="op" id="6474271">[</span><span class="op" id="6474272">]</span><span class="ident" id="6474273">Obj</span><span class="op" id="6474276">,</span>&nbsp;<span class="num" id="6474278">1</span><span class="op" id="6474279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474283">obj</span>&nbsp;<span class="op" id="6474287">=</span>&nbsp;<span class="op" id="6474289">&amp;</span><span class="ident" id="6474290">t</span><span class="op" id="6474291">.</span><span class="ident" id="6474292">Objs</span><span class="op" id="6474296">[</span><span class="num" id="6474297">0</span><span class="op" id="6474298">]</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474302">t</span><span class="op" id="6474303">.</span><span class="ident" id="6474304">go12line</span><span class="op" id="6474312">.</span><span class="ident" id="6474313">go12MapFiles</span><span class="op" id="6474325">(</span><span class="ident" id="6474326">t</span><span class="op" id="6474327">.</span><span class="ident" id="6474328">Files</span><span class="op" id="6474333">,</span>&nbsp;<span class="ident" id="6474335">obj</span><span class="op" id="6474338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6474341">}</span>&nbsp;<span class="keyword" id="6474343">else</span>&nbsp;<span class="op" id="6474348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474352">t</span><span class="op" id="6474353">.</span><span class="ident" id="6474354">Objs</span>&nbsp;<span class="op" id="6474359">=</span>&nbsp;<span class="builtinfunc" id="6474361">make</span><span class="op" id="6474365">(</span><span class="op" id="6474366">[</span><span class="op" id="6474367">]</span><span class="ident" id="6474368">Obj</span><span class="op" id="6474371">,</span>&nbsp;<span class="num" id="6474373">0</span><span class="op" id="6474374">,</span>&nbsp;<span class="ident" id="6474376">nz</span><span class="op" id="6474378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6474381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6474385">//&nbsp;Count&nbsp;text&nbsp;symbols&nbsp;and&nbsp;attach&nbsp;frame&nbsp;sizes,&nbsp;parameters,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6474448">//&nbsp;locals&nbsp;to&nbsp;them.&nbsp;&nbsp;Also,&nbsp;find&nbsp;object&nbsp;file&nbsp;boundaries.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474504">lastf</span>&nbsp;<span class="op" id="6474510">:=</span>&nbsp;<span class="num" id="6474513">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474516">for</span>&nbsp;<span class="ident" id="6474520">i</span>&nbsp;<span class="op" id="6474522">:=</span>&nbsp;<span class="num" id="6474525">0</span><span class="op" id="6474526">;</span>&nbsp;<span class="ident" id="6474528">i</span>&nbsp;<span class="op" id="6474530">&lt;</span>&nbsp;<span class="builtinfunc" id="6474532">len</span><span class="op" id="6474535">(</span><span class="ident" id="6474536">t</span><span class="op" id="6474537">.</span><span class="ident" id="6474538">Syms</span><span class="op" id="6474542">)</span><span class="op" id="6474543">;</span>&nbsp;<span class="ident" id="6474545">i</span><span class="op" id="6474546">++</span>&nbsp;<span class="op" id="6474549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474553">sym</span>&nbsp;<span class="op" id="6474557">:=</span>&nbsp;<span class="op" id="6474560">&amp;</span><span class="ident" id="6474561">t</span><span class="op" id="6474562">.</span><span class="ident" id="6474563">Syms</span><span class="op" id="6474567">[</span><span class="ident" id="6474568">i</span><span class="op" id="6474569">]</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474573">switch</span>&nbsp;<span class="ident" id="6474580">sym</span><span class="op" id="6474583">.</span><span class="ident" id="6474584">Type</span>&nbsp;<span class="op" id="6474589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474593">case</span>&nbsp;<span class="string" id="6474598">&#39;Z&#39;</span><span class="op" id="6474601">,</span>&nbsp;<span class="string" id="6474603">&#39;z&#39;</span><span class="op" id="6474606">:</span>&nbsp;<span class="comment" id="6474608">//&nbsp;path&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474626">if</span>&nbsp;<span class="ident" id="6474629">t</span><span class="op" id="6474630">.</span><span class="ident" id="6474631">go12line</span>&nbsp;<span class="op" id="6474640">!=</span>&nbsp;<span class="ident" id="6474643">nil</span>&nbsp;<span class="op" id="6474647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6474653">//&nbsp;Go&nbsp;1.2&nbsp;binaries&nbsp;have&nbsp;the&nbsp;file&nbsp;information&nbsp;elsewhere.&nbsp;Ignore.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474721">break</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6474730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6474735">//&nbsp;Finish&nbsp;the&nbsp;current&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474767">if</span>&nbsp;<span class="ident" id="6474770">obj</span>&nbsp;<span class="op" id="6474774">!=</span>&nbsp;<span class="ident" id="6474777">nil</span>&nbsp;<span class="op" id="6474781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474787">obj</span><span class="op" id="6474790">.</span><span class="ident" id="6474791">Funcs</span>&nbsp;<span class="op" id="6474797">=</span>&nbsp;<span class="ident" id="6474799">t</span><span class="op" id="6474800">.</span><span class="ident" id="6474801">Funcs</span><span class="op" id="6474806">[</span><span class="ident" id="6474807">lastf</span><span class="op" id="6474812">:</span><span class="op" id="6474813">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6474818">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474823">lastf</span>&nbsp;<span class="op" id="6474829">=</span>&nbsp;<span class="builtinfunc" id="6474831">len</span><span class="op" id="6474834">(</span><span class="ident" id="6474835">t</span><span class="op" id="6474836">.</span><span class="ident" id="6474837">Funcs</span><span class="op" id="6474842">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6474848">//&nbsp;Start&nbsp;new&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474871">n</span>&nbsp;<span class="op" id="6474873">:=</span>&nbsp;<span class="builtinfunc" id="6474876">len</span><span class="op" id="6474879">(</span><span class="ident" id="6474880">t</span><span class="op" id="6474881">.</span><span class="ident" id="6474882">Objs</span><span class="op" id="6474886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474891">t</span><span class="op" id="6474892">.</span><span class="ident" id="6474893">Objs</span>&nbsp;<span class="op" id="6474898">=</span>&nbsp;<span class="ident" id="6474900">t</span><span class="op" id="6474901">.</span><span class="ident" id="6474902">Objs</span><span class="op" id="6474906">[</span><span class="num" id="6474907">0</span>&nbsp;<span class="op" id="6474909">:</span>&nbsp;<span class="ident" id="6474911">n</span><span class="op" id="6474912">+</span><span class="num" id="6474913">1</span><span class="op" id="6474914">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6474919">obj</span>&nbsp;<span class="op" id="6474923">=</span>&nbsp;<span class="op" id="6474925">&amp;</span><span class="ident" id="6474926">t</span><span class="op" id="6474927">.</span><span class="ident" id="6474928">Objs</span><span class="op" id="6474932">[</span><span class="ident" id="6474933">n</span><span class="op" id="6474934">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6474940">//&nbsp;Count&nbsp;&amp;&nbsp;copy&nbsp;path&nbsp;symbols</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474972">var</span>&nbsp;<span class="ident" id="6474976">end</span>&nbsp;<span class="builtintype" id="6474980">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6474987">for</span>&nbsp;<span class="ident" id="6474991">end</span>&nbsp;<span class="op" id="6474995">=</span>&nbsp;<span class="ident" id="6474997">i</span>&nbsp;<span class="op" id="6474999">+</span>&nbsp;<span class="num" id="6475001">1</span><span class="op" id="6475002">;</span>&nbsp;<span class="ident" id="6475004">end</span>&nbsp;<span class="op" id="6475008">&lt;</span>&nbsp;<span class="builtinfunc" id="6475010">len</span><span class="op" id="6475013">(</span><span class="ident" id="6475014">t</span><span class="op" id="6475015">.</span><span class="ident" id="6475016">Syms</span><span class="op" id="6475020">)</span><span class="op" id="6475021">;</span>&nbsp;<span class="ident" id="6475023">end</span><span class="op" id="6475026">++</span>&nbsp;<span class="op" id="6475029">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475035">if</span>&nbsp;<span class="ident" id="6475038">c</span>&nbsp;<span class="op" id="6475040">:=</span>&nbsp;<span class="ident" id="6475043">t</span><span class="op" id="6475044">.</span><span class="ident" id="6475045">Syms</span><span class="op" id="6475049">[</span><span class="ident" id="6475050">end</span><span class="op" id="6475053">]</span><span class="op" id="6475054">.</span><span class="ident" id="6475055">Type</span><span class="op" id="6475059">;</span>&nbsp;<span class="ident" id="6475061">c</span>&nbsp;<span class="op" id="6475063">!=</span>&nbsp;<span class="string" id="6475066">&#39;Z&#39;</span>&nbsp;<span class="op" id="6475070">&amp;&amp;</span>&nbsp;<span class="ident" id="6475073">c</span>&nbsp;<span class="op" id="6475075">!=</span>&nbsp;<span class="string" id="6475078">&#39;z&#39;</span>&nbsp;<span class="op" id="6475082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475089">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475109">obj</span><span class="op" id="6475112">.</span><span class="ident" id="6475113">Paths</span>&nbsp;<span class="op" id="6475119">=</span>&nbsp;<span class="ident" id="6475121">t</span><span class="op" id="6475122">.</span><span class="ident" id="6475123">Syms</span><span class="op" id="6475127">[</span><span class="ident" id="6475128">i</span><span class="op" id="6475129">:</span><span class="ident" id="6475130">end</span><span class="op" id="6475133">]</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475138">i</span>&nbsp;<span class="op" id="6475140">=</span>&nbsp;<span class="ident" id="6475142">end</span>&nbsp;<span class="op" id="6475146">-</span>&nbsp;<span class="num" id="6475148">1</span>&nbsp;<span class="comment" id="6475150">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6475171">//&nbsp;Record&nbsp;file&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475195">depth</span>&nbsp;<span class="op" id="6475201">:=</span>&nbsp;<span class="num" id="6475204">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475209">for</span>&nbsp;<span class="ident" id="6475213">j</span>&nbsp;<span class="op" id="6475215">:=</span>&nbsp;<span class="keyword" id="6475218">range</span>&nbsp;<span class="ident" id="6475224">obj</span><span class="op" id="6475227">.</span><span class="ident" id="6475228">Paths</span>&nbsp;<span class="op" id="6475234">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475240">s</span>&nbsp;<span class="op" id="6475242">:=</span>&nbsp;<span class="op" id="6475245">&amp;</span><span class="ident" id="6475246">obj</span><span class="op" id="6475249">.</span><span class="ident" id="6475250">Paths</span><span class="op" id="6475255">[</span><span class="ident" id="6475256">j</span><span class="op" id="6475257">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475263">if</span>&nbsp;<span class="ident" id="6475266">s</span><span class="op" id="6475267">.</span><span class="ident" id="6475268">Name</span>&nbsp;<span class="op" id="6475273">==</span>&nbsp;<span class="string" id="6475276">&#34;&#34;</span>&nbsp;<span class="op" id="6475279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475286">depth</span><span class="op" id="6475291">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475298">}</span>&nbsp;<span class="keyword" id="6475300">else</span>&nbsp;<span class="op" id="6475305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475312">if</span>&nbsp;<span class="ident" id="6475315">depth</span>&nbsp;<span class="op" id="6475321">==</span>&nbsp;<span class="num" id="6475324">0</span>&nbsp;<span class="op" id="6475326">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475334">t</span><span class="op" id="6475335">.</span><span class="ident" id="6475336">Files</span><span class="op" id="6475341">[</span><span class="ident" id="6475342">s</span><span class="op" id="6475343">.</span><span class="ident" id="6475344">Name</span><span class="op" id="6475348">]</span>&nbsp;<span class="op" id="6475350">=</span>&nbsp;<span class="ident" id="6475352">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475368">depth</span><span class="op" id="6475373">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475385">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475390">case</span>&nbsp;<span class="string" id="6475395">&#39;T&#39;</span><span class="op" id="6475398">,</span>&nbsp;<span class="string" id="6475400">&#39;t&#39;</span><span class="op" id="6475403">,</span>&nbsp;<span class="string" id="6475405">&#39;L&#39;</span><span class="op" id="6475408">,</span>&nbsp;<span class="string" id="6475410">&#39;l&#39;</span><span class="op" id="6475413">:</span>&nbsp;<span class="comment" id="6475415">//&nbsp;text&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475433">if</span>&nbsp;<span class="ident" id="6475436">n</span>&nbsp;<span class="op" id="6475438">:=</span>&nbsp;<span class="builtinfunc" id="6475441">len</span><span class="op" id="6475444">(</span><span class="ident" id="6475445">t</span><span class="op" id="6475446">.</span><span class="ident" id="6475447">Funcs</span><span class="op" id="6475452">)</span><span class="op" id="6475453">;</span>&nbsp;<span class="ident" id="6475455">n</span>&nbsp;<span class="op" id="6475457">&gt;</span>&nbsp;<span class="num" id="6475459">0</span>&nbsp;<span class="op" id="6475461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475467">t</span><span class="op" id="6475468">.</span><span class="ident" id="6475469">Funcs</span><span class="op" id="6475474">[</span><span class="ident" id="6475475">n</span><span class="op" id="6475476">-</span><span class="num" id="6475477">1</span><span class="op" id="6475478">]</span><span class="op" id="6475479">.</span><span class="ident" id="6475480">End</span>&nbsp;<span class="op" id="6475484">=</span>&nbsp;<span class="ident" id="6475486">sym</span><span class="op" id="6475489">.</span><span class="ident" id="6475490">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475499">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475504">if</span>&nbsp;<span class="ident" id="6475507">sym</span><span class="op" id="6475510">.</span><span class="ident" id="6475511">Name</span>&nbsp;<span class="op" id="6475516">==</span>&nbsp;<span class="string" id="6475519">&#34;runtime.etext&#34;</span>&nbsp;<span class="op" id="6475535">||</span>&nbsp;<span class="ident" id="6475538">sym</span><span class="op" id="6475541">.</span><span class="ident" id="6475542">Name</span>&nbsp;<span class="op" id="6475547">==</span>&nbsp;<span class="string" id="6475550">&#34;etext&#34;</span>&nbsp;<span class="op" id="6475558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475564">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6475582">//&nbsp;Count&nbsp;parameter&nbsp;and&nbsp;local&nbsp;(auto)&nbsp;syms</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475626">var</span>&nbsp;<span class="ident" id="6475630">np</span><span class="op" id="6475632">,</span>&nbsp;<span class="ident" id="6475634">na</span>&nbsp;<span class="builtintype" id="6475637">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475644">var</span>&nbsp;<span class="ident" id="6475648">end</span>&nbsp;<span class="builtintype" id="6475652">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475658">countloop</span><span class="op" id="6475667">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475672">for</span>&nbsp;<span class="ident" id="6475676">end</span>&nbsp;<span class="op" id="6475680">=</span>&nbsp;<span class="ident" id="6475682">i</span>&nbsp;<span class="op" id="6475684">+</span>&nbsp;<span class="num" id="6475686">1</span><span class="op" id="6475687">;</span>&nbsp;<span class="ident" id="6475689">end</span>&nbsp;<span class="op" id="6475693">&lt;</span>&nbsp;<span class="builtinfunc" id="6475695">len</span><span class="op" id="6475698">(</span><span class="ident" id="6475699">t</span><span class="op" id="6475700">.</span><span class="ident" id="6475701">Syms</span><span class="op" id="6475705">)</span><span class="op" id="6475706">;</span>&nbsp;<span class="ident" id="6475708">end</span><span class="op" id="6475711">++</span>&nbsp;<span class="op" id="6475714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475720">switch</span>&nbsp;<span class="ident" id="6475727">t</span><span class="op" id="6475728">.</span><span class="ident" id="6475729">Syms</span><span class="op" id="6475733">[</span><span class="ident" id="6475734">end</span><span class="op" id="6475737">]</span><span class="op" id="6475738">.</span><span class="ident" id="6475739">Type</span>&nbsp;<span class="op" id="6475744">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475750">case</span>&nbsp;<span class="string" id="6475755">&#39;T&#39;</span><span class="op" id="6475758">,</span>&nbsp;<span class="string" id="6475760">&#39;t&#39;</span><span class="op" id="6475763">,</span>&nbsp;<span class="string" id="6475765">&#39;L&#39;</span><span class="op" id="6475768">,</span>&nbsp;<span class="string" id="6475770">&#39;l&#39;</span><span class="op" id="6475773">,</span>&nbsp;<span class="string" id="6475775">&#39;Z&#39;</span><span class="op" id="6475778">,</span>&nbsp;<span class="string" id="6475780">&#39;z&#39;</span><span class="op" id="6475783">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475790">break</span>&nbsp;<span class="ident" id="6475796">countloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475810">case</span>&nbsp;<span class="string" id="6475815">&#39;p&#39;</span><span class="op" id="6475818">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475825">np</span><span class="op" id="6475827">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6475834">case</span>&nbsp;<span class="string" id="6475839">&#39;a&#39;</span><span class="op" id="6475842">:</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475849">na</span><span class="op" id="6475851">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6475863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6475869">//&nbsp;Fill&nbsp;in&nbsp;the&nbsp;function&nbsp;symbol</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475903">n</span>&nbsp;<span class="op" id="6475905">:=</span>&nbsp;<span class="builtinfunc" id="6475908">len</span><span class="op" id="6475911">(</span><span class="ident" id="6475912">t</span><span class="op" id="6475913">.</span><span class="ident" id="6475914">Funcs</span><span class="op" id="6475919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475924">t</span><span class="op" id="6475925">.</span><span class="ident" id="6475926">Funcs</span>&nbsp;<span class="op" id="6475932">=</span>&nbsp;<span class="ident" id="6475934">t</span><span class="op" id="6475935">.</span><span class="ident" id="6475936">Funcs</span><span class="op" id="6475941">[</span><span class="num" id="6475942">0</span>&nbsp;<span class="op" id="6475944">:</span>&nbsp;<span class="ident" id="6475946">n</span><span class="op" id="6475947">+</span><span class="num" id="6475948">1</span><span class="op" id="6475949">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475954">fn</span>&nbsp;<span class="op" id="6475957">:=</span>&nbsp;<span class="op" id="6475960">&amp;</span><span class="ident" id="6475961">t</span><span class="op" id="6475962">.</span><span class="ident" id="6475963">Funcs</span><span class="op" id="6475968">[</span><span class="ident" id="6475969">n</span><span class="op" id="6475970">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475975">sym</span><span class="op" id="6475978">.</span><span class="ident" id="6475979">Func</span>&nbsp;<span class="op" id="6475984">=</span>&nbsp;<span class="ident" id="6475986">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6475992">fn</span><span class="op" id="6475994">.</span><span class="ident" id="6475995">Params</span>&nbsp;<span class="op" id="6476002">=</span>&nbsp;<span class="builtinfunc" id="6476004">make</span><span class="op" id="6476008">(</span><span class="op" id="6476009">[</span><span class="op" id="6476010">]</span><span class="op" id="6476011">*</span><span class="ident" id="6476012">Sym</span><span class="op" id="6476015">,</span>&nbsp;<span class="num" id="6476017">0</span><span class="op" id="6476018">,</span>&nbsp;<span class="ident" id="6476020">np</span><span class="op" id="6476022">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476027">fn</span><span class="op" id="6476029">.</span><span class="ident" id="6476030">Locals</span>&nbsp;<span class="op" id="6476037">=</span>&nbsp;<span class="builtinfunc" id="6476039">make</span><span class="op" id="6476043">(</span><span class="op" id="6476044">[</span><span class="op" id="6476045">]</span><span class="op" id="6476046">*</span><span class="ident" id="6476047">Sym</span><span class="op" id="6476050">,</span>&nbsp;<span class="num" id="6476052">0</span><span class="op" id="6476053">,</span>&nbsp;<span class="ident" id="6476055">na</span><span class="op" id="6476057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476062">fn</span><span class="op" id="6476064">.</span><span class="ident" id="6476065">Sym</span>&nbsp;<span class="op" id="6476069">=</span>&nbsp;<span class="ident" id="6476071">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476078">fn</span><span class="op" id="6476080">.</span><span class="ident" id="6476081">Entry</span>&nbsp;<span class="op" id="6476087">=</span>&nbsp;<span class="ident" id="6476089">sym</span><span class="op" id="6476092">.</span><span class="ident" id="6476093">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476102">fn</span><span class="op" id="6476104">.</span><span class="ident" id="6476105">Obj</span>&nbsp;<span class="op" id="6476109">=</span>&nbsp;<span class="ident" id="6476111">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6476118">if</span>&nbsp;<span class="ident" id="6476121">t</span><span class="op" id="6476122">.</span><span class="ident" id="6476123">go12line</span>&nbsp;<span class="op" id="6476132">!=</span>&nbsp;<span class="ident" id="6476135">nil</span>&nbsp;<span class="op" id="6476139">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6476145">//&nbsp;All&nbsp;functions&nbsp;share&nbsp;the&nbsp;same&nbsp;line&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6476193">//&nbsp;It&nbsp;knows&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;to&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6476242">//&nbsp;function&nbsp;quickly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476267">fn</span><span class="op" id="6476269">.</span><span class="ident" id="6476270">LineTable</span>&nbsp;<span class="op" id="6476280">=</span>&nbsp;<span class="ident" id="6476282">t</span><span class="op" id="6476283">.</span><span class="ident" id="6476284">go12line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6476296">}</span>&nbsp;<span class="keyword" id="6476298">else</span>&nbsp;<span class="keyword" id="6476303">if</span>&nbsp;<span class="ident" id="6476306">pcln</span>&nbsp;<span class="op" id="6476311">!=</span>&nbsp;<span class="ident" id="6476314">nil</span>&nbsp;<span class="op" id="6476318">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476324">fn</span><span class="op" id="6476326">.</span><span class="ident" id="6476327">LineTable</span>&nbsp;<span class="op" id="6476337">=</span>&nbsp;<span class="ident" id="6476339">pcln</span><span class="op" id="6476343">.</span><span class="ident" id="6476344">slice</span><span class="op" id="6476349">(</span><span class="ident" id="6476350">fn</span><span class="op" id="6476352">.</span><span class="ident" id="6476353">Entry</span><span class="op" id="6476358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476364">pcln</span>&nbsp;<span class="op" id="6476369">=</span>&nbsp;<span class="ident" id="6476371">fn</span><span class="op" id="6476373">.</span><span class="ident" id="6476374">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6476387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6476392">for</span>&nbsp;<span class="ident" id="6476396">j</span>&nbsp;<span class="op" id="6476398">:=</span>&nbsp;<span class="ident" id="6476401">i</span><span class="op" id="6476402">;</span>&nbsp;<span class="ident" id="6476404">j</span>&nbsp;<span class="op" id="6476406">&lt;</span>&nbsp;<span class="ident" id="6476408">end</span><span class="op" id="6476411">;</span>&nbsp;<span class="ident" id="6476413">j</span><span class="op" id="6476414">++</span>&nbsp;<span class="op" id="6476417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476423">s</span>&nbsp;<span class="op" id="6476425">:=</span>&nbsp;<span class="op" id="6476428">&amp;</span><span class="ident" id="6476429">t</span><span class="op" id="6476430">.</span><span class="ident" id="6476431">Syms</span><span class="op" id="6476435">[</span><span class="ident" id="6476436">j</span><span class="op" id="6476437">]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6476443">switch</span>&nbsp;<span class="ident" id="6476450">s</span><span class="op" id="6476451">.</span><span class="ident" id="6476452">Type</span>&nbsp;<span class="op" id="6476457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6476463">case</span>&nbsp;<span class="string" id="6476468">&#39;m&#39;</span><span class="op" id="6476471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476478">fn</span><span class="op" id="6476480">.</span><span class="ident" id="6476481">FrameSize</span>&nbsp;<span class="op" id="6476491">=</span>&nbsp;<span class="builtintype" id="6476493">int</span><span class="op" id="6476496">(</span><span class="ident" id="6476497">s</span><span class="op" id="6476498">.</span><span class="ident" id="6476499">Value</span><span class="op" id="6476504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6476510">case</span>&nbsp;<span class="string" id="6476515">&#39;p&#39;</span><span class="op" id="6476518">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476525">n</span>&nbsp;<span class="op" id="6476527">:=</span>&nbsp;<span class="builtinfunc" id="6476530">len</span><span class="op" id="6476533">(</span><span class="ident" id="6476534">fn</span><span class="op" id="6476536">.</span><span class="ident" id="6476537">Params</span><span class="op" id="6476543">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476550">fn</span><span class="op" id="6476552">.</span><span class="ident" id="6476553">Params</span>&nbsp;<span class="op" id="6476560">=</span>&nbsp;<span class="ident" id="6476562">fn</span><span class="op" id="6476564">.</span><span class="ident" id="6476565">Params</span><span class="op" id="6476571">[</span><span class="num" id="6476572">0</span>&nbsp;<span class="op" id="6476574">:</span>&nbsp;<span class="ident" id="6476576">n</span><span class="op" id="6476577">+</span><span class="num" id="6476578">1</span><span class="op" id="6476579">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476586">fn</span><span class="op" id="6476588">.</span><span class="ident" id="6476589">Params</span><span class="op" id="6476595">[</span><span class="ident" id="6476596">n</span><span class="op" id="6476597">]</span>&nbsp;<span class="op" id="6476599">=</span>&nbsp;<span class="ident" id="6476601">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6476607">case</span>&nbsp;<span class="string" id="6476612">&#39;a&#39;</span><span class="op" id="6476615">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476622">n</span>&nbsp;<span class="op" id="6476624">:=</span>&nbsp;<span class="builtinfunc" id="6476627">len</span><span class="op" id="6476630">(</span><span class="ident" id="6476631">fn</span><span class="op" id="6476633">.</span><span class="ident" id="6476634">Locals</span><span class="op" id="6476640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476647">fn</span><span class="op" id="6476649">.</span><span class="ident" id="6476650">Locals</span>&nbsp;<span class="op" id="6476657">=</span>&nbsp;<span class="ident" id="6476659">fn</span><span class="op" id="6476661">.</span><span class="ident" id="6476662">Locals</span><span class="op" id="6476668">[</span><span class="num" id="6476669">0</span>&nbsp;<span class="op" id="6476671">:</span>&nbsp;<span class="ident" id="6476673">n</span><span class="op" id="6476674">+</span><span class="num" id="6476675">1</span><span class="op" id="6476676">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476683">fn</span><span class="op" id="6476685">.</span><span class="ident" id="6476686">Locals</span><span class="op" id="6476692">[</span><span class="ident" id="6476693">n</span><span class="op" id="6476694">]</span>&nbsp;<span class="op" id="6476696">=</span>&nbsp;<span class="ident" id="6476698">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6476704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6476709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476714">i</span>&nbsp;<span class="op" id="6476716">=</span>&nbsp;<span class="ident" id="6476718">end</span>&nbsp;<span class="op" id="6476722">-</span>&nbsp;<span class="num" id="6476724">1</span>&nbsp;<span class="comment" id="6476726">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6476745">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6476748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6476752">if</span>&nbsp;<span class="ident" id="6476755">t</span><span class="op" id="6476756">.</span><span class="ident" id="6476757">go12line</span>&nbsp;<span class="op" id="6476766">!=</span>&nbsp;<span class="ident" id="6476769">nil</span>&nbsp;<span class="op" id="6476773">&amp;&amp;</span>&nbsp;<span class="ident" id="6476776">nf</span>&nbsp;<span class="op" id="6476779">==</span>&nbsp;<span class="num" id="6476782">0</span>&nbsp;<span class="op" id="6476784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476788">t</span><span class="op" id="6476789">.</span><span class="ident" id="6476790">Funcs</span>&nbsp;<span class="op" id="6476796">=</span>&nbsp;<span class="ident" id="6476798">t</span><span class="op" id="6476799">.</span><span class="ident" id="6476800">go12line</span><span class="op" id="6476808">.</span><span class="ident" id="6476809">go12Funcs</span><span class="op" id="6476818">(</span><span class="op" id="6476819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6476822">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6476825">if</span>&nbsp;<span class="ident" id="6476828">obj</span>&nbsp;<span class="op" id="6476832">!=</span>&nbsp;<span class="ident" id="6476835">nil</span>&nbsp;<span class="op" id="6476839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6476843">obj</span><span class="op" id="6476846">.</span><span class="ident" id="6476847">Funcs</span>&nbsp;<span class="op" id="6476853">=</span>&nbsp;<span class="ident" id="6476855">t</span><span class="op" id="6476856">.</span><span class="ident" id="6476857">Funcs</span><span class="op" id="6476862">[</span><span class="ident" id="6476863">lastf</span><span class="op" id="6476868">:</span><span class="op" id="6476869">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6476872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6476875">return</span>&nbsp;<span class="op" id="6476882">&amp;</span><span class="ident" id="6476883">t</span><span class="op" id="6476884">,</span>&nbsp;<span class="ident" id="6476886">nil</span><br>
<span class="lineno"></span><span class="op" id="6476890">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="6476893">//&nbsp;PCToFunc&nbsp;returns&nbsp;the&nbsp;function&nbsp;containing&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc,</span><br>
<span class="lineno"></span><span class="comment" id="6476961">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="6477001">func</span>&nbsp;<span class="op" id="6477006">(</span><span class="ident" id="6477007">t</span>&nbsp;<span class="op" id="6477009">*</span><span class="ident" id="6477010">Table</span><span class="op" id="6477015">)</span>&nbsp;<span class="ident" id="6477017">PCToFunc</span><span class="op" id="6477025">(</span><span class="ident" id="6477026">pc</span>&nbsp;<span class="ident" id="6477029">uint64</span><span class="op" id="6477035">)</span>&nbsp;<span class="op" id="6477037">*</span><span class="ident" id="6477038">Func</span>&nbsp;<span class="op" id="6477043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6477046">funcs</span>&nbsp;<span class="op" id="6477052">:=</span>&nbsp;<span class="ident" id="6477055">t</span><span class="op" id="6477056">.</span><span class="ident" id="6477057">Funcs</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477064">for</span>&nbsp;<span class="builtinfunc" id="6477068">len</span><span class="op" id="6477071">(</span><span class="ident" id="6477072">funcs</span><span class="op" id="6477077">)</span>&nbsp;<span class="op" id="6477079">&gt;</span>&nbsp;<span class="num" id="6477081">0</span>&nbsp;<span class="op" id="6477083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6477087">m</span>&nbsp;<span class="op" id="6477089">:=</span>&nbsp;<span class="builtinfunc" id="6477092">len</span><span class="op" id="6477095">(</span><span class="ident" id="6477096">funcs</span><span class="op" id="6477101">)</span>&nbsp;<span class="op" id="6477103">/</span>&nbsp;<span class="num" id="6477105">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6477109">fn</span>&nbsp;<span class="op" id="6477112">:=</span>&nbsp;<span class="op" id="6477115">&amp;</span><span class="ident" id="6477116">funcs</span><span class="op" id="6477121">[</span><span class="ident" id="6477122">m</span><span class="op" id="6477123">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477127">switch</span>&nbsp;<span class="op" id="6477134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477138">case</span>&nbsp;<span class="ident" id="6477143">pc</span>&nbsp;<span class="op" id="6477146">&lt;</span>&nbsp;<span class="ident" id="6477148">fn</span><span class="op" id="6477150">.</span><span class="ident" id="6477151">Entry</span><span class="op" id="6477156">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6477161">funcs</span>&nbsp;<span class="op" id="6477167">=</span>&nbsp;<span class="ident" id="6477169">funcs</span><span class="op" id="6477174">[</span><span class="num" id="6477175">0</span><span class="op" id="6477176">:</span><span class="ident" id="6477177">m</span><span class="op" id="6477178">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477182">case</span>&nbsp;<span class="ident" id="6477187">fn</span><span class="op" id="6477189">.</span><span class="ident" id="6477190">Entry</span>&nbsp;<span class="op" id="6477196">&lt;=</span>&nbsp;<span class="ident" id="6477199">pc</span>&nbsp;<span class="op" id="6477202">&amp;&amp;</span>&nbsp;<span class="ident" id="6477205">pc</span>&nbsp;<span class="op" id="6477208">&lt;</span>&nbsp;<span class="ident" id="6477210">fn</span><span class="op" id="6477212">.</span><span class="ident" id="6477213">End</span><span class="op" id="6477216">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477221">return</span>&nbsp;<span class="ident" id="6477228">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477233">default</span><span class="op" id="6477240">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6477245">funcs</span>&nbsp;<span class="op" id="6477251">=</span>&nbsp;<span class="ident" id="6477253">funcs</span><span class="op" id="6477258">[</span><span class="ident" id="6477259">m</span><span class="op" id="6477260">+</span><span class="num" id="6477261">1</span><span class="op" id="6477262">:</span><span class="op" id="6477263">]</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6477267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6477270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477273">return</span>&nbsp;<span class="ident" id="6477280">nil</span><br>
<span class="lineno"></span><span class="op" id="6477284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="6477287">//&nbsp;PCToLine&nbsp;looks&nbsp;up&nbsp;line&nbsp;number&nbsp;information&nbsp;for&nbsp;a&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span><span class="comment" id="6477355">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;information,&nbsp;it&nbsp;returns&nbsp;fn&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="6477408">func</span>&nbsp;<span class="op" id="6477413">(</span><span class="ident" id="6477414">t</span>&nbsp;<span class="op" id="6477416">*</span><span class="ident" id="6477417">Table</span><span class="op" id="6477422">)</span>&nbsp;<span class="ident" id="6477424">PCToLine</span><span class="op" id="6477432">(</span><span class="ident" id="6477433">pc</span>&nbsp;<span class="ident" id="6477436">uint64</span><span class="op" id="6477442">)</span>&nbsp;<span class="op" id="6477444">(</span><span class="ident" id="6477445">file</span>&nbsp;<span class="builtintype" id="6477450">string</span><span class="op" id="6477456">,</span>&nbsp;<span class="ident" id="6477458">line</span>&nbsp;<span class="builtintype" id="6477463">int</span><span class="op" id="6477466">,</span>&nbsp;<span class="ident" id="6477468">fn</span>&nbsp;<span class="op" id="6477471">*</span><span class="ident" id="6477472">Func</span><span class="op" id="6477476">)</span>&nbsp;<span class="op" id="6477478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477481">if</span>&nbsp;<span class="ident" id="6477484">fn</span>&nbsp;<span class="op" id="6477487">=</span>&nbsp;<span class="ident" id="6477489">t</span><span class="op" id="6477490">.</span><span class="ident" id="6477491">PCToFunc</span><span class="op" id="6477499">(</span><span class="ident" id="6477500">pc</span><span class="op" id="6477502">)</span><span class="op" id="6477503">;</span>&nbsp;<span class="ident" id="6477505">fn</span>&nbsp;<span class="op" id="6477508">==</span>&nbsp;<span class="ident" id="6477511">nil</span>&nbsp;<span class="op" id="6477515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477519">return</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6477527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477530">if</span>&nbsp;<span class="ident" id="6477533">t</span><span class="op" id="6477534">.</span><span class="ident" id="6477535">go12line</span>&nbsp;<span class="op" id="6477544">!=</span>&nbsp;<span class="ident" id="6477547">nil</span>&nbsp;<span class="op" id="6477551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6477555">file</span>&nbsp;<span class="op" id="6477560">=</span>&nbsp;<span class="ident" id="6477562">t</span><span class="op" id="6477563">.</span><span class="ident" id="6477564">go12line</span><span class="op" id="6477572">.</span><span class="ident" id="6477573">go12PCToFile</span><span class="op" id="6477585">(</span><span class="ident" id="6477586">pc</span><span class="op" id="6477588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6477592">line</span>&nbsp;<span class="op" id="6477597">=</span>&nbsp;<span class="ident" id="6477599">t</span><span class="op" id="6477600">.</span><span class="ident" id="6477601">go12line</span><span class="op" id="6477609">.</span><span class="ident" id="6477610">go12PCToLine</span><span class="op" id="6477622">(</span><span class="ident" id="6477623">pc</span><span class="op" id="6477625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6477628">}</span>&nbsp;<span class="keyword" id="6477630">else</span>&nbsp;<span class="op" id="6477635">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6477639">file</span><span class="op" id="6477643">,</span>&nbsp;<span class="ident" id="6477645">line</span>&nbsp;<span class="op" id="6477650">=</span>&nbsp;<span class="ident" id="6477652">fn</span><span class="op" id="6477654">.</span><span class="ident" id="6477655">Obj</span><span class="op" id="6477658">.</span><span class="ident" id="6477659">lineFromAline</span><span class="op" id="6477672">(</span><span class="ident" id="6477673">fn</span><span class="op" id="6477675">.</span><span class="ident" id="6477676">LineTable</span><span class="op" id="6477685">.</span><span class="ident" id="6477686">PCToLine</span><span class="op" id="6477694">(</span><span class="ident" id="6477695">pc</span><span class="op" id="6477697">)</span><span class="op" id="6477698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6477701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6477704">return</span><br>
<span class="lineno"></span><span class="op" id="6477711">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="comment" id="6477714">//&nbsp;LineToPC&nbsp;looks&nbsp;up&nbsp;the&nbsp;first&nbsp;program&nbsp;counter&nbsp;on&nbsp;the&nbsp;given&nbsp;line&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6477782">//&nbsp;the&nbsp;named&nbsp;file.&nbsp;&nbsp;It&nbsp;returns&nbsp;UnknownPathError&nbsp;or&nbsp;UnknownLineError&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="6477853">//&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;looking&nbsp;up&nbsp;this&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="6477896">func</span>&nbsp;<span class="op" id="6477901">(</span><span class="ident" id="6477902">t</span>&nbsp;<span class="op" id="6477904">*</span><span class="ident" id="6477905">Table</span><span class="op" id="6477910">)</span>&nbsp;<span class="ident" id="6477912">LineToPC</span><span class="op" id="6477920">(</span><span class="ident" id="6477921">file</span>&nbsp;<span class="builtintype" id="6477926">string</span><span class="op" id="6477932">,</span>&nbsp;<span class="ident" id="6477934">line</span>&nbsp;<span class="builtintype" id="6477939">int</span><span class="op" id="6477942">)</span>&nbsp;<span class="op" id="6477944">(</span><span class="ident" id="6477945">pc</span>&nbsp;<span class="ident" id="6477948">uint64</span><span class="op" id="6477954">,</span>&nbsp;<span class="ident" id="6477956">fn</span>&nbsp;<span class="op" id="6477959">*</span><span class="ident" id="6477960">Func</span><span class="op" id="6477964">,</span>&nbsp;<span class="ident" id="6477966">err</span>&nbsp;<span class="builtintype" id="6477970">error</span><span class="op" id="6477975">)</span>&nbsp;<span class="op" id="6477977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6477980">obj</span><span class="op" id="6477983">,</span>&nbsp;<span class="ident" id="6477985">ok</span>&nbsp;<span class="op" id="6477988">:=</span>&nbsp;<span class="ident" id="6477991">t</span><span class="op" id="6477992">.</span><span class="ident" id="6477993">Files</span><span class="op" id="6477998">[</span><span class="ident" id="6477999">file</span><span class="op" id="6478003">]</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478006">if</span>&nbsp;<span class="op" id="6478009">!</span><span class="ident" id="6478010">ok</span>&nbsp;<span class="op" id="6478013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478017">return</span>&nbsp;<span class="num" id="6478024">0</span><span class="op" id="6478025">,</span>&nbsp;<span class="ident" id="6478027">nil</span><span class="op" id="6478030">,</span>&nbsp;<span class="ident" id="6478032">UnknownFileError</span><span class="op" id="6478048">(</span><span class="ident" id="6478049">file</span><span class="op" id="6478053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6478056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478060">if</span>&nbsp;<span class="ident" id="6478063">t</span><span class="op" id="6478064">.</span><span class="ident" id="6478065">go12line</span>&nbsp;<span class="op" id="6478074">!=</span>&nbsp;<span class="ident" id="6478077">nil</span>&nbsp;<span class="op" id="6478081">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6478085">pc</span>&nbsp;<span class="op" id="6478088">:=</span>&nbsp;<span class="ident" id="6478091">t</span><span class="op" id="6478092">.</span><span class="ident" id="6478093">go12line</span><span class="op" id="6478101">.</span><span class="ident" id="6478102">go12LineToPC</span><span class="op" id="6478114">(</span><span class="ident" id="6478115">file</span><span class="op" id="6478119">,</span>&nbsp;<span class="ident" id="6478121">line</span><span class="op" id="6478125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478129">if</span>&nbsp;<span class="ident" id="6478132">pc</span>&nbsp;<span class="op" id="6478135">==</span>&nbsp;<span class="num" id="6478138">0</span>&nbsp;<span class="op" id="6478140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478145">return</span>&nbsp;<span class="num" id="6478152">0</span><span class="op" id="6478153">,</span>&nbsp;<span class="ident" id="6478155">nil</span><span class="op" id="6478158">,</span>&nbsp;<span class="op" id="6478160">&amp;</span><span class="ident" id="6478161">UnknownLineError</span><span class="op" id="6478177">{</span><span class="ident" id="6478178">file</span><span class="op" id="6478182">,</span>&nbsp;<span class="ident" id="6478184">line</span><span class="op" id="6478188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6478192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478196">return</span>&nbsp;<span class="ident" id="6478203">pc</span><span class="op" id="6478205">,</span>&nbsp;<span class="ident" id="6478207">t</span><span class="op" id="6478208">.</span><span class="ident" id="6478209">PCToFunc</span><span class="op" id="6478217">(</span><span class="ident" id="6478218">pc</span><span class="op" id="6478220">)</span><span class="op" id="6478221">,</span>&nbsp;<span class="ident" id="6478223">nil</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6478228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6478232">abs</span><span class="op" id="6478235">,</span>&nbsp;<span class="ident" id="6478237">err</span>&nbsp;<span class="op" id="6478241">:=</span>&nbsp;<span class="ident" id="6478244">obj</span><span class="op" id="6478247">.</span><span class="ident" id="6478248">alineFromLine</span><span class="op" id="6478261">(</span><span class="ident" id="6478262">file</span><span class="op" id="6478266">,</span>&nbsp;<span class="ident" id="6478268">line</span><span class="op" id="6478272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478275">if</span>&nbsp;<span class="ident" id="6478278">err</span>&nbsp;<span class="op" id="6478282">!=</span>&nbsp;<span class="ident" id="6478285">nil</span>&nbsp;<span class="op" id="6478289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478293">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6478301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478304">for</span>&nbsp;<span class="ident" id="6478308">i</span>&nbsp;<span class="op" id="6478310">:=</span>&nbsp;<span class="keyword" id="6478313">range</span>&nbsp;<span class="ident" id="6478319">obj</span><span class="op" id="6478322">.</span><span class="ident" id="6478323">Funcs</span>&nbsp;<span class="op" id="6478329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6478333">f</span>&nbsp;<span class="op" id="6478335">:=</span>&nbsp;<span class="op" id="6478338">&amp;</span><span class="ident" id="6478339">obj</span><span class="op" id="6478342">.</span><span class="ident" id="6478343">Funcs</span><span class="op" id="6478348">[</span><span class="ident" id="6478349">i</span><span class="op" id="6478350">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6478354">pc</span>&nbsp;<span class="op" id="6478357">:=</span>&nbsp;<span class="ident" id="6478360">f</span><span class="op" id="6478361">.</span><span class="ident" id="6478362">LineTable</span><span class="op" id="6478371">.</span><span class="ident" id="6478372">LineToPC</span><span class="op" id="6478380">(</span><span class="ident" id="6478381">abs</span><span class="op" id="6478384">,</span>&nbsp;<span class="ident" id="6478386">f</span><span class="op" id="6478387">.</span><span class="ident" id="6478388">End</span><span class="op" id="6478391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478395">if</span>&nbsp;<span class="ident" id="6478398">pc</span>&nbsp;<span class="op" id="6478401">!=</span>&nbsp;<span class="num" id="6478404">0</span>&nbsp;<span class="op" id="6478406">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478411">return</span>&nbsp;<span class="ident" id="6478418">pc</span><span class="op" id="6478420">,</span>&nbsp;<span class="ident" id="6478422">f</span><span class="op" id="6478423">,</span>&nbsp;<span class="ident" id="6478425">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6478431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6478434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478437">return</span>&nbsp;<span class="num" id="6478444">0</span><span class="op" id="6478445">,</span>&nbsp;<span class="ident" id="6478447">nil</span><span class="op" id="6478450">,</span>&nbsp;<span class="op" id="6478452">&amp;</span><span class="ident" id="6478453">UnknownLineError</span><span class="op" id="6478469">{</span><span class="ident" id="6478470">file</span><span class="op" id="6478474">,</span>&nbsp;<span class="ident" id="6478476">line</span><span class="op" id="6478480">}</span><br>
<span class="lineno"></span><span class="op" id="6478482">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="comment" id="6478485">//&nbsp;LookupSym&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6478557">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6478595">func</span>&nbsp;<span class="op" id="6478600">(</span><span class="ident" id="6478601">t</span>&nbsp;<span class="op" id="6478603">*</span><span class="ident" id="6478604">Table</span><span class="op" id="6478609">)</span>&nbsp;<span class="ident" id="6478611">LookupSym</span><span class="op" id="6478620">(</span><span class="ident" id="6478621">name</span>&nbsp;<span class="builtintype" id="6478626">string</span><span class="op" id="6478632">)</span>&nbsp;<span class="op" id="6478634">*</span><span class="ident" id="6478635">Sym</span>&nbsp;<span class="op" id="6478639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6478642">//&nbsp;TODO(austin)&nbsp;Maybe&nbsp;make&nbsp;a&nbsp;map</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478676">for</span>&nbsp;<span class="ident" id="6478680">i</span>&nbsp;<span class="op" id="6478682">:=</span>&nbsp;<span class="keyword" id="6478685">range</span>&nbsp;<span class="ident" id="6478691">t</span><span class="op" id="6478692">.</span><span class="ident" id="6478693">Syms</span>&nbsp;<span class="op" id="6478698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6478702">s</span>&nbsp;<span class="op" id="6478704">:=</span>&nbsp;<span class="op" id="6478707">&amp;</span><span class="ident" id="6478708">t</span><span class="op" id="6478709">.</span><span class="ident" id="6478710">Syms</span><span class="op" id="6478714">[</span><span class="ident" id="6478715">i</span><span class="op" id="6478716">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478720">switch</span>&nbsp;<span class="ident" id="6478727">s</span><span class="op" id="6478728">.</span><span class="ident" id="6478729">Type</span>&nbsp;<span class="op" id="6478734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478738">case</span>&nbsp;<span class="string" id="6478743">&#39;T&#39;</span><span class="op" id="6478746">,</span>&nbsp;<span class="string" id="6478748">&#39;t&#39;</span><span class="op" id="6478751">,</span>&nbsp;<span class="string" id="6478753">&#39;L&#39;</span><span class="op" id="6478756">,</span>&nbsp;<span class="string" id="6478758">&#39;l&#39;</span><span class="op" id="6478761">,</span>&nbsp;<span class="string" id="6478763">&#39;D&#39;</span><span class="op" id="6478766">,</span>&nbsp;<span class="string" id="6478768">&#39;d&#39;</span><span class="op" id="6478771">,</span>&nbsp;<span class="string" id="6478773">&#39;B&#39;</span><span class="op" id="6478776">,</span>&nbsp;<span class="string" id="6478778">&#39;b&#39;</span><span class="op" id="6478781">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478786">if</span>&nbsp;<span class="ident" id="6478789">s</span><span class="op" id="6478790">.</span><span class="ident" id="6478791">Name</span>&nbsp;<span class="op" id="6478796">==</span>&nbsp;<span class="ident" id="6478799">name</span>&nbsp;<span class="op" id="6478804">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478810">return</span>&nbsp;<span class="ident" id="6478817">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6478822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6478826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6478829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6478832">return</span>&nbsp;<span class="ident" id="6478839">nil</span><br>
<span class="lineno">550</span><span class="op" id="6478843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6478846">//&nbsp;LookupFunc&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6478919">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6478957">func</span>&nbsp;<span class="op" id="6478962">(</span><span class="ident" id="6478963">t</span>&nbsp;<span class="op" id="6478965">*</span><span class="ident" id="6478966">Table</span><span class="op" id="6478971">)</span>&nbsp;<span class="ident" id="6478973">LookupFunc</span><span class="op" id="6478983">(</span><span class="ident" id="6478984">name</span>&nbsp;<span class="builtintype" id="6478989">string</span><span class="op" id="6478995">)</span>&nbsp;<span class="op" id="6478997">*</span><span class="ident" id="6478998">Func</span>&nbsp;<span class="op" id="6479003">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479006">for</span>&nbsp;<span class="ident" id="6479010">i</span>&nbsp;<span class="op" id="6479012">:=</span>&nbsp;<span class="keyword" id="6479015">range</span>&nbsp;<span class="ident" id="6479021">t</span><span class="op" id="6479022">.</span><span class="ident" id="6479023">Funcs</span>&nbsp;<span class="op" id="6479029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6479033">f</span>&nbsp;<span class="op" id="6479035">:=</span>&nbsp;<span class="op" id="6479038">&amp;</span><span class="ident" id="6479039">t</span><span class="op" id="6479040">.</span><span class="ident" id="6479041">Funcs</span><span class="op" id="6479046">[</span><span class="ident" id="6479047">i</span><span class="op" id="6479048">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479052">if</span>&nbsp;<span class="ident" id="6479055">f</span><span class="op" id="6479056">.</span><span class="ident" id="6479057">Sym</span><span class="op" id="6479060">.</span><span class="ident" id="6479061">Name</span>&nbsp;<span class="op" id="6479066">==</span>&nbsp;<span class="ident" id="6479069">name</span>&nbsp;<span class="op" id="6479074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479079">return</span>&nbsp;<span class="ident" id="6479086">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6479090">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6479093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479096">return</span>&nbsp;<span class="ident" id="6479103">nil</span><br>
<span class="lineno"></span><span class="op" id="6479107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6479110">//&nbsp;SymByAddr&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;starting&nbsp;at&nbsp;the&nbsp;given&nbsp;address.</span><br>
<span class="lineno">565</span><span class="keyword" id="6479192">func</span>&nbsp;<span class="op" id="6479197">(</span><span class="ident" id="6479198">t</span>&nbsp;<span class="op" id="6479200">*</span><span class="ident" id="6479201">Table</span><span class="op" id="6479206">)</span>&nbsp;<span class="ident" id="6479208">SymByAddr</span><span class="op" id="6479217">(</span><span class="ident" id="6479218">addr</span>&nbsp;<span class="ident" id="6479223">uint64</span><span class="op" id="6479229">)</span>&nbsp;<span class="op" id="6479231">*</span><span class="ident" id="6479232">Sym</span>&nbsp;<span class="op" id="6479236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479239">for</span>&nbsp;<span class="ident" id="6479243">i</span>&nbsp;<span class="op" id="6479245">:=</span>&nbsp;<span class="keyword" id="6479248">range</span>&nbsp;<span class="ident" id="6479254">t</span><span class="op" id="6479255">.</span><span class="ident" id="6479256">Syms</span>&nbsp;<span class="op" id="6479261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6479265">s</span>&nbsp;<span class="op" id="6479267">:=</span>&nbsp;<span class="op" id="6479270">&amp;</span><span class="ident" id="6479271">t</span><span class="op" id="6479272">.</span><span class="ident" id="6479273">Syms</span><span class="op" id="6479277">[</span><span class="ident" id="6479278">i</span><span class="op" id="6479279">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479283">switch</span>&nbsp;<span class="ident" id="6479290">s</span><span class="op" id="6479291">.</span><span class="ident" id="6479292">Type</span>&nbsp;<span class="op" id="6479297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479301">case</span>&nbsp;<span class="string" id="6479306">&#39;T&#39;</span><span class="op" id="6479309">,</span>&nbsp;<span class="string" id="6479311">&#39;t&#39;</span><span class="op" id="6479314">,</span>&nbsp;<span class="string" id="6479316">&#39;L&#39;</span><span class="op" id="6479319">,</span>&nbsp;<span class="string" id="6479321">&#39;l&#39;</span><span class="op" id="6479324">,</span>&nbsp;<span class="string" id="6479326">&#39;D&#39;</span><span class="op" id="6479329">,</span>&nbsp;<span class="string" id="6479331">&#39;d&#39;</span><span class="op" id="6479334">,</span>&nbsp;<span class="string" id="6479336">&#39;B&#39;</span><span class="op" id="6479339">,</span>&nbsp;<span class="string" id="6479341">&#39;b&#39;</span><span class="op" id="6479344">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479349">if</span>&nbsp;<span class="ident" id="6479352">s</span><span class="op" id="6479353">.</span><span class="ident" id="6479354">Value</span>&nbsp;<span class="op" id="6479360">==</span>&nbsp;<span class="ident" id="6479363">addr</span>&nbsp;<span class="op" id="6479368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479374">return</span>&nbsp;<span class="ident" id="6479381">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6479386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6479390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6479393">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479396">return</span>&nbsp;<span class="ident" id="6479403">nil</span><br>
<span class="lineno"></span><span class="op" id="6479407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6479410">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Object&nbsp;files<br>
<span class="lineno">580</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6479434">//&nbsp;This&nbsp;is&nbsp;legacy&nbsp;code&nbsp;for&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;which&nbsp;used&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6479496">//&nbsp;Plan&nbsp;9&nbsp;format&nbsp;for&nbsp;pc-line&nbsp;tables.&nbsp;This&nbsp;code&nbsp;was&nbsp;never&nbsp;quite</span><br>
<span class="lineno"></span><span class="comment" id="6479559">//&nbsp;correct.&nbsp;It&#39;s&nbsp;probably&nbsp;very&nbsp;close,&nbsp;and&nbsp;it&#39;s&nbsp;usually&nbsp;correct,&nbsp;but</span><br>
<span class="lineno">585</span><span class="comment" id="6479627">//&nbsp;we&nbsp;never&nbsp;quite&nbsp;found&nbsp;all&nbsp;the&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="6479673">//</span><br>
<span class="lineno"></span><span class="comment" id="6479676">//&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;use&nbsp;a&nbsp;simpler&nbsp;format,&nbsp;documented&nbsp;at&nbsp;golang.org/s/go12symtab.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6479758">func</span>&nbsp;<span class="op" id="6479763">(</span><span class="ident" id="6479764">o</span>&nbsp;<span class="op" id="6479766">*</span><span class="ident" id="6479767">Obj</span><span class="op" id="6479770">)</span>&nbsp;<span class="ident" id="6479772">lineFromAline</span><span class="op" id="6479785">(</span><span class="ident" id="6479786">aline</span>&nbsp;<span class="builtintype" id="6479792">int</span><span class="op" id="6479795">)</span>&nbsp;<span class="op" id="6479797">(</span><span class="builtintype" id="6479798">string</span><span class="op" id="6479804">,</span>&nbsp;<span class="builtintype" id="6479806">int</span><span class="op" id="6479809">)</span>&nbsp;<span class="op" id="6479811">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479814">type</span>&nbsp;<span class="ident" id="6479819">stackEnt</span>&nbsp;<span class="keyword" id="6479828">struct</span>&nbsp;<span class="op" id="6479835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6479839">path</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6479846">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6479855">start</span>&nbsp;&nbsp;<span class="builtintype" id="6479862">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6479868">offset</span>&nbsp;<span class="builtintype" id="6479875">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6479881">prev</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6479888">*</span><span class="ident" id="6479889">stackEnt</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6479899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6479903">noPath</span>&nbsp;<span class="op" id="6479910">:=</span>&nbsp;<span class="op" id="6479913">&amp;</span><span class="ident" id="6479914">stackEnt</span><span class="op" id="6479922">{</span><span class="string" id="6479923">&#34;&#34;</span><span class="op" id="6479925">,</span>&nbsp;<span class="num" id="6479927">0</span><span class="op" id="6479928">,</span>&nbsp;<span class="num" id="6479930">0</span><span class="op" id="6479931">,</span>&nbsp;<span class="ident" id="6479933">nil</span><span class="op" id="6479936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6479939">tos</span>&nbsp;<span class="op" id="6479943">:=</span>&nbsp;<span class="ident" id="6479946">noPath</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="ident" id="6479954">pathloop</span><span class="op" id="6479962">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6479965">for</span>&nbsp;<span class="ident" id="6479969">_</span><span class="op" id="6479970">,</span>&nbsp;<span class="ident" id="6479972">s</span>&nbsp;<span class="op" id="6479974">:=</span>&nbsp;<span class="keyword" id="6479977">range</span>&nbsp;<span class="ident" id="6479983">o</span><span class="op" id="6479984">.</span><span class="ident" id="6479985">Paths</span>&nbsp;<span class="op" id="6479991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6479995">val</span>&nbsp;<span class="op" id="6479999">:=</span>&nbsp;<span class="builtintype" id="6480002">int</span><span class="op" id="6480005">(</span><span class="ident" id="6480006">s</span><span class="op" id="6480007">.</span><span class="ident" id="6480008">Value</span><span class="op" id="6480013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480017">switch</span>&nbsp;<span class="op" id="6480024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480028">case</span>&nbsp;<span class="ident" id="6480033">val</span>&nbsp;<span class="op" id="6480037">&gt;</span>&nbsp;<span class="ident" id="6480039">aline</span><span class="op" id="6480044">:</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480049">break</span>&nbsp;<span class="ident" id="6480055">pathloop</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480067">case</span>&nbsp;<span class="ident" id="6480072">val</span>&nbsp;<span class="op" id="6480076">==</span>&nbsp;<span class="num" id="6480079">1</span><span class="op" id="6480080">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6480085">//&nbsp;Start&nbsp;a&nbsp;new&nbsp;stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480109">tos</span>&nbsp;<span class="op" id="6480113">=</span>&nbsp;<span class="op" id="6480115">&amp;</span><span class="ident" id="6480116">stackEnt</span><span class="op" id="6480124">{</span><span class="ident" id="6480125">s</span><span class="op" id="6480126">.</span><span class="ident" id="6480127">Name</span><span class="op" id="6480131">,</span>&nbsp;<span class="ident" id="6480133">val</span><span class="op" id="6480136">,</span>&nbsp;<span class="num" id="6480138">0</span><span class="op" id="6480139">,</span>&nbsp;<span class="ident" id="6480141">noPath</span><span class="op" id="6480147">}</span><br>
<span class="lineno">610</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480152">case</span>&nbsp;<span class="ident" id="6480157">s</span><span class="op" id="6480158">.</span><span class="ident" id="6480159">Name</span>&nbsp;<span class="op" id="6480164">==</span>&nbsp;<span class="string" id="6480167">&#34;&#34;</span><span class="op" id="6480169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6480174">//&nbsp;Pop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480184">if</span>&nbsp;<span class="ident" id="6480187">tos</span>&nbsp;<span class="op" id="6480191">==</span>&nbsp;<span class="ident" id="6480194">noPath</span>&nbsp;<span class="op" id="6480201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480207">return</span>&nbsp;<span class="string" id="6480214">&#34;&lt;malformed&nbsp;symbol&nbsp;table&gt;&#34;</span><span class="op" id="6480240">,</span>&nbsp;<span class="num" id="6480242">0</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6480247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480252">tos</span><span class="op" id="6480255">.</span><span class="ident" id="6480256">prev</span><span class="op" id="6480260">.</span><span class="ident" id="6480261">offset</span>&nbsp;<span class="op" id="6480268">+=</span>&nbsp;<span class="ident" id="6480271">val</span>&nbsp;<span class="op" id="6480275">-</span>&nbsp;<span class="ident" id="6480277">tos</span><span class="op" id="6480280">.</span><span class="ident" id="6480281">start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480290">tos</span>&nbsp;<span class="op" id="6480294">=</span>&nbsp;<span class="ident" id="6480296">tos</span><span class="op" id="6480299">.</span><span class="ident" id="6480300">prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480308">default</span><span class="op" id="6480315">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6480320">//&nbsp;Push</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480331">tos</span>&nbsp;<span class="op" id="6480335">=</span>&nbsp;<span class="op" id="6480337">&amp;</span><span class="ident" id="6480338">stackEnt</span><span class="op" id="6480346">{</span><span class="ident" id="6480347">s</span><span class="op" id="6480348">.</span><span class="ident" id="6480349">Name</span><span class="op" id="6480353">,</span>&nbsp;<span class="ident" id="6480355">val</span><span class="op" id="6480358">,</span>&nbsp;<span class="num" id="6480360">0</span><span class="op" id="6480361">,</span>&nbsp;<span class="ident" id="6480363">tos</span><span class="op" id="6480366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6480370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6480373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480377">if</span>&nbsp;<span class="ident" id="6480380">tos</span>&nbsp;<span class="op" id="6480384">==</span>&nbsp;<span class="ident" id="6480387">noPath</span>&nbsp;<span class="op" id="6480394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480398">return</span>&nbsp;<span class="string" id="6480405">&#34;&#34;</span><span class="op" id="6480407">,</span>&nbsp;<span class="num" id="6480409">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6480412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480415">return</span>&nbsp;<span class="ident" id="6480422">tos</span><span class="op" id="6480425">.</span><span class="ident" id="6480426">path</span><span class="op" id="6480430">,</span>&nbsp;<span class="ident" id="6480432">aline</span>&nbsp;<span class="op" id="6480438">-</span>&nbsp;<span class="ident" id="6480440">tos</span><span class="op" id="6480443">.</span><span class="ident" id="6480444">start</span>&nbsp;<span class="op" id="6480450">-</span>&nbsp;<span class="ident" id="6480452">tos</span><span class="op" id="6480455">.</span><span class="ident" id="6480456">offset</span>&nbsp;<span class="op" id="6480463">+</span>&nbsp;<span class="num" id="6480465">1</span><br>
<span class="lineno"></span><span class="op" id="6480467">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="6480470">func</span>&nbsp;<span class="op" id="6480475">(</span><span class="ident" id="6480476">o</span>&nbsp;<span class="op" id="6480478">*</span><span class="ident" id="6480479">Obj</span><span class="op" id="6480482">)</span>&nbsp;<span class="ident" id="6480484">alineFromLine</span><span class="op" id="6480497">(</span><span class="ident" id="6480498">path</span>&nbsp;<span class="builtintype" id="6480503">string</span><span class="op" id="6480509">,</span>&nbsp;<span class="ident" id="6480511">line</span>&nbsp;<span class="builtintype" id="6480516">int</span><span class="op" id="6480519">)</span>&nbsp;<span class="op" id="6480521">(</span><span class="builtintype" id="6480522">int</span><span class="op" id="6480525">,</span>&nbsp;<span class="builtintype" id="6480527">error</span><span class="op" id="6480532">)</span>&nbsp;<span class="op" id="6480534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480537">if</span>&nbsp;<span class="ident" id="6480540">line</span>&nbsp;<span class="op" id="6480545">&lt;</span>&nbsp;<span class="num" id="6480547">1</span>&nbsp;<span class="op" id="6480549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480553">return</span>&nbsp;<span class="num" id="6480560">0</span><span class="op" id="6480561">,</span>&nbsp;<span class="op" id="6480563">&amp;</span><span class="ident" id="6480564">UnknownLineError</span><span class="op" id="6480580">{</span><span class="ident" id="6480581">path</span><span class="op" id="6480585">,</span>&nbsp;<span class="ident" id="6480587">line</span><span class="op" id="6480591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6480594">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480598">for</span>&nbsp;<span class="ident" id="6480602">i</span><span class="op" id="6480603">,</span>&nbsp;<span class="ident" id="6480605">s</span>&nbsp;<span class="op" id="6480607">:=</span>&nbsp;<span class="keyword" id="6480610">range</span>&nbsp;<span class="ident" id="6480616">o</span><span class="op" id="6480617">.</span><span class="ident" id="6480618">Paths</span>&nbsp;<span class="op" id="6480624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6480628">//&nbsp;Find&nbsp;this&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480648">if</span>&nbsp;<span class="ident" id="6480651">s</span><span class="op" id="6480652">.</span><span class="ident" id="6480653">Name</span>&nbsp;<span class="op" id="6480658">!=</span>&nbsp;<span class="ident" id="6480661">path</span>&nbsp;<span class="op" id="6480666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480671">continue</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6480682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6480687">//&nbsp;Find&nbsp;this&nbsp;line&nbsp;at&nbsp;this&nbsp;stack&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480727">depth</span>&nbsp;<span class="op" id="6480733">:=</span>&nbsp;<span class="num" id="6480736">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480740">var</span>&nbsp;<span class="ident" id="6480744">incstart</span>&nbsp;<span class="builtintype" id="6480753">int</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480759">line</span>&nbsp;<span class="op" id="6480764">+=</span>&nbsp;<span class="builtintype" id="6480767">int</span><span class="op" id="6480770">(</span><span class="ident" id="6480771">s</span><span class="op" id="6480772">.</span><span class="ident" id="6480773">Value</span><span class="op" id="6480778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480781">pathloop</span><span class="op" id="6480789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480793">for</span>&nbsp;<span class="ident" id="6480797">_</span><span class="op" id="6480798">,</span>&nbsp;<span class="ident" id="6480800">s</span>&nbsp;<span class="op" id="6480802">:=</span>&nbsp;<span class="keyword" id="6480805">range</span>&nbsp;<span class="ident" id="6480811">o</span><span class="op" id="6480812">.</span><span class="ident" id="6480813">Paths</span><span class="op" id="6480818">[</span><span class="ident" id="6480819">i</span><span class="op" id="6480820">:</span><span class="op" id="6480821">]</span>&nbsp;<span class="op" id="6480823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480828">val</span>&nbsp;<span class="op" id="6480832">:=</span>&nbsp;<span class="builtintype" id="6480835">int</span><span class="op" id="6480838">(</span><span class="ident" id="6480839">s</span><span class="op" id="6480840">.</span><span class="ident" id="6480841">Value</span><span class="op" id="6480846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480851">switch</span>&nbsp;<span class="op" id="6480858">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480863">case</span>&nbsp;<span class="ident" id="6480868">depth</span>&nbsp;<span class="op" id="6480874">==</span>&nbsp;<span class="num" id="6480877">1</span>&nbsp;<span class="op" id="6480879">&amp;&amp;</span>&nbsp;<span class="ident" id="6480882">val</span>&nbsp;<span class="op" id="6480886">&gt;=</span>&nbsp;<span class="ident" id="6480889">line</span><span class="op" id="6480893">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480899">return</span>&nbsp;<span class="ident" id="6480906">line</span>&nbsp;<span class="op" id="6480911">-</span>&nbsp;<span class="num" id="6480913">1</span><span class="op" id="6480914">,</span>&nbsp;<span class="ident" id="6480916">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480924">case</span>&nbsp;<span class="ident" id="6480929">s</span><span class="op" id="6480930">.</span><span class="ident" id="6480931">Name</span>&nbsp;<span class="op" id="6480936">==</span>&nbsp;<span class="string" id="6480939">&#34;&#34;</span><span class="op" id="6480941">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480947">depth</span><span class="op" id="6480952">--</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480959">if</span>&nbsp;<span class="ident" id="6480962">depth</span>&nbsp;<span class="op" id="6480968">==</span>&nbsp;<span class="num" id="6480971">0</span>&nbsp;<span class="op" id="6480973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6480980">break</span>&nbsp;<span class="ident" id="6480986">pathloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6480999">}</span>&nbsp;<span class="keyword" id="6481001">else</span>&nbsp;<span class="keyword" id="6481006">if</span>&nbsp;<span class="ident" id="6481009">depth</span>&nbsp;<span class="op" id="6481015">==</span>&nbsp;<span class="num" id="6481018">1</span>&nbsp;<span class="op" id="6481020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481027">line</span>&nbsp;<span class="op" id="6481032">+=</span>&nbsp;<span class="ident" id="6481035">val</span>&nbsp;<span class="op" id="6481039">-</span>&nbsp;<span class="ident" id="6481041">incstart</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481054">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481060">default</span><span class="op" id="6481067">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481073">if</span>&nbsp;<span class="ident" id="6481076">depth</span>&nbsp;<span class="op" id="6481082">==</span>&nbsp;<span class="num" id="6481085">1</span>&nbsp;<span class="op" id="6481087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481094">incstart</span>&nbsp;<span class="op" id="6481103">=</span>&nbsp;<span class="ident" id="6481105">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481113">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481119">depth</span><span class="op" id="6481124">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481138">return</span>&nbsp;<span class="num" id="6481145">0</span><span class="op" id="6481146">,</span>&nbsp;<span class="op" id="6481148">&amp;</span><span class="ident" id="6481149">UnknownLineError</span><span class="op" id="6481165">{</span><span class="ident" id="6481166">path</span><span class="op" id="6481170">,</span>&nbsp;<span class="ident" id="6481172">line</span><span class="op" id="6481176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481179">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481182">return</span>&nbsp;<span class="num" id="6481189">0</span><span class="op" id="6481190">,</span>&nbsp;<span class="ident" id="6481192">UnknownFileError</span><span class="op" id="6481208">(</span><span class="ident" id="6481209">path</span><span class="op" id="6481213">)</span><br>
<span class="lineno"></span><span class="op" id="6481215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6481218">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Errors<br>
<span class="lineno">675</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6481236">//&nbsp;UnknownFileError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;find&nbsp;the&nbsp;specific&nbsp;file&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6481306">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="6481327">type</span>&nbsp;<span class="ident" id="6481332">UnknownFileError</span>&nbsp;<span class="builtintype" id="6481349">string</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="6481357">func</span>&nbsp;<span class="op" id="6481362">(</span><span class="ident" id="6481363">e</span>&nbsp;<span class="ident" id="6481365">UnknownFileError</span><span class="op" id="6481381">)</span>&nbsp;<span class="ident" id="6481383">Error</span><span class="op" id="6481388">(</span><span class="op" id="6481389">)</span>&nbsp;<span class="builtintype" id="6481391">string</span>&nbsp;<span class="op" id="6481398">{</span>&nbsp;<span class="keyword" id="6481400">return</span>&nbsp;<span class="string" id="6481407">&#34;unknown&nbsp;file:&nbsp;&#34;</span>&nbsp;<span class="op" id="6481424">+</span>&nbsp;<span class="builtintype" id="6481426">string</span><span class="op" id="6481432">(</span><span class="ident" id="6481433">e</span><span class="op" id="6481434">)</span>&nbsp;<span class="op" id="6481436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6481439">//&nbsp;UnknownLineError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;map&nbsp;a&nbsp;line&nbsp;to&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="6481507">//&nbsp;counter,&nbsp;either&nbsp;because&nbsp;the&nbsp;line&nbsp;is&nbsp;beyond&nbsp;the&nbsp;bounds&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno">685</span><span class="comment" id="6481576">//&nbsp;or&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;on&nbsp;the&nbsp;given&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="6481626">type</span>&nbsp;<span class="ident" id="6481631">UnknownLineError</span>&nbsp;<span class="keyword" id="6481648">struct</span>&nbsp;<span class="op" id="6481655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481658">File</span>&nbsp;<span class="builtintype" id="6481663">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481671">Line</span>&nbsp;<span class="builtintype" id="6481676">int</span><br>
<span class="lineno"></span><span class="op" id="6481680">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="6481683">func</span>&nbsp;<span class="op" id="6481688">(</span><span class="ident" id="6481689">e</span>&nbsp;<span class="op" id="6481691">*</span><span class="ident" id="6481692">UnknownLineError</span><span class="op" id="6481708">)</span>&nbsp;<span class="ident" id="6481710">Error</span><span class="op" id="6481715">(</span><span class="op" id="6481716">)</span>&nbsp;<span class="builtintype" id="6481718">string</span>&nbsp;<span class="op" id="6481725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481728">return</span>&nbsp;<span class="string" id="6481735">&#34;no&nbsp;code&nbsp;at&nbsp;&#34;</span>&nbsp;<span class="op" id="6481749">+</span>&nbsp;<span class="ident" id="6481751">e</span><span class="op" id="6481752">.</span><span class="ident" id="6481753">File</span>&nbsp;<span class="op" id="6481758">+</span>&nbsp;<span class="string" id="6481760">&#34;:&#34;</span>&nbsp;<span class="op" id="6481764">+</span>&nbsp;<span class="ident" id="6481766">strconv</span><span class="op" id="6481773">.</span><span class="ident" id="6481774">Itoa</span><span class="op" id="6481778">(</span><span class="ident" id="6481779">e</span><span class="op" id="6481780">.</span><span class="ident" id="6481781">Line</span><span class="op" id="6481785">)</span><br>
<span class="lineno"></span><span class="op" id="6481787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="6481790">//&nbsp;DecodingError&nbsp;represents&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;decoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="6481850">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="6481871">type</span>&nbsp;<span class="ident" id="6481876">DecodingError</span>&nbsp;<span class="keyword" id="6481890">struct</span>&nbsp;<span class="op" id="6481897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481900">off</span>&nbsp;<span class="builtintype" id="6481904">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481909">msg</span>&nbsp;<span class="builtintype" id="6481913">string</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481921">val</span>&nbsp;<span class="keyword" id="6481925">interface</span><span class="op" id="6481934">{</span><span class="op" id="6481935">}</span><br>
<span class="lineno"></span><span class="op" id="6481937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6481940">func</span>&nbsp;<span class="op" id="6481945">(</span><span class="ident" id="6481946">e</span>&nbsp;<span class="op" id="6481948">*</span><span class="ident" id="6481949">DecodingError</span><span class="op" id="6481962">)</span>&nbsp;<span class="ident" id="6481964">Error</span><span class="op" id="6481969">(</span><span class="op" id="6481970">)</span>&nbsp;<span class="builtintype" id="6481972">string</span>&nbsp;<span class="op" id="6481979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481982">msg</span>&nbsp;<span class="op" id="6481986">:=</span>&nbsp;<span class="ident" id="6481989">e</span><span class="op" id="6481990">.</span><span class="ident" id="6481991">msg</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481996">if</span>&nbsp;<span class="ident" id="6481999">e</span><span class="op" id="6482000">.</span><span class="ident" id="6482001">val</span>&nbsp;<span class="op" id="6482005">!=</span>&nbsp;<span class="ident" id="6482008">nil</span>&nbsp;<span class="op" id="6482012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482016">msg</span>&nbsp;<span class="op" id="6482020">+=</span>&nbsp;<span class="ident" id="6482023">fmt</span><span class="op" id="6482026">.</span><span class="ident" id="6482027">Sprintf</span><span class="op" id="6482034">(</span><span class="string" id="6482035">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="6482042">,</span>&nbsp;<span class="ident" id="6482044">e</span><span class="op" id="6482045">.</span><span class="ident" id="6482046">val</span><span class="op" id="6482049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6482052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482055">msg</span>&nbsp;<span class="op" id="6482059">+=</span>&nbsp;<span class="ident" id="6482062">fmt</span><span class="op" id="6482065">.</span><span class="ident" id="6482066">Sprintf</span><span class="op" id="6482073">(</span><span class="string" id="6482074">&#34;&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="6482088">,</span>&nbsp;<span class="ident" id="6482090">e</span><span class="op" id="6482091">.</span><span class="ident" id="6482092">off</span><span class="op" id="6482095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482098">return</span>&nbsp;<span class="ident" id="6482105">msg</span><br>
<span class="lineno">710</span><span class="op" id="6482109">}</span>
</div>
</body>
</html>
