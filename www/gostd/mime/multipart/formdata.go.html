<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html" class="current">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4265243">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4265298">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4265352">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4265403">package</span>&nbsp;<span class="ident" id="4265411">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4265422">import</span>&nbsp;<span class="op" id="4265429">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4265432">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4265441">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4265451">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4265457">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4265470">&#34;net/textproto&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4265487">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="4265492">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="4265495">//&nbsp;TODO(adg,bradfitz):&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;unify&nbsp;the&nbsp;DoS-prevention&nbsp;strategy&nbsp;here</span><br>
<span class="lineno"></span><span class="comment" id="4265571">//&nbsp;with&nbsp;that&nbsp;of&nbsp;the&nbsp;http&nbsp;package&#39;s&nbsp;ParseForm.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4265618">//&nbsp;ReadForm&nbsp;parses&nbsp;an&nbsp;entire&nbsp;multipart&nbsp;message&nbsp;whose&nbsp;parts&nbsp;have</span><br>
<span class="lineno">20</span><span class="comment" id="4265682">//&nbsp;a&nbsp;Content-Disposition&nbsp;of&nbsp;&#34;form-data&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4265723">//&nbsp;It&nbsp;stores&nbsp;up&nbsp;to&nbsp;maxMemory&nbsp;bytes&nbsp;of&nbsp;the&nbsp;file&nbsp;parts&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="4265786">//&nbsp;and&nbsp;the&nbsp;remainder&nbsp;on&nbsp;disk&nbsp;in&nbsp;temporary&nbsp;files.</span><br>
<span class="lineno"></span><span class="keyword" id="4265835">func</span>&nbsp;<span class="op" id="4265840">(</span><span class="ident" id="4265841">r</span>&nbsp;<span class="op" id="4265843">*</span><span class="ident" id="4265844">Reader</span><span class="op" id="4265850">)</span>&nbsp;<span class="ident" id="4265852">ReadForm</span><span class="op" id="4265860">(</span><span class="ident" id="4265861">maxMemory</span>&nbsp;<span class="ident" id="4265871">int64</span><span class="op" id="4265876">)</span>&nbsp;<span class="op" id="4265878">(</span><span class="ident" id="4265879">f</span>&nbsp;<span class="op" id="4265881">*</span><span class="ident" id="4265882">Form</span><span class="op" id="4265886">,</span>&nbsp;<span class="ident" id="4265888">err</span>&nbsp;<span class="builtintype" id="4265892">error</span><span class="op" id="4265897">)</span>&nbsp;<span class="op" id="4265899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4265902">form</span>&nbsp;<span class="op" id="4265907">:=</span>&nbsp;<span class="op" id="4265910">&amp;</span><span class="ident" id="4265911">Form</span><span class="op" id="4265915">{</span><span class="builtinfunc" id="4265916">make</span><span class="op" id="4265920">(</span><span class="keyword" id="4265921">map</span><span class="op" id="4265924">[</span><span class="builtintype" id="4265925">string</span><span class="op" id="4265931">]</span><span class="op" id="4265932">[</span><span class="op" id="4265933">]</span><span class="builtintype" id="4265934">string</span><span class="op" id="4265940">)</span><span class="op" id="4265941">,</span>&nbsp;<span class="builtinfunc" id="4265943">make</span><span class="op" id="4265947">(</span><span class="keyword" id="4265948">map</span><span class="op" id="4265951">[</span><span class="builtintype" id="4265952">string</span><span class="op" id="4265958">]</span><span class="op" id="4265959">[</span><span class="op" id="4265960">]</span><span class="op" id="4265961">*</span><span class="ident" id="4265962">FileHeader</span><span class="op" id="4265972">)</span><span class="op" id="4265973">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4265976">defer</span>&nbsp;<span class="keyword" id="4265982">func</span><span class="op" id="4265986">(</span><span class="op" id="4265987">)</span>&nbsp;<span class="op" id="4265989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4265993">if</span>&nbsp;<span class="ident" id="4265996">err</span>&nbsp;<span class="op" id="4266000">!=</span>&nbsp;<span class="ident" id="4266003">nil</span>&nbsp;<span class="op" id="4266007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266012">form</span><span class="op" id="4266016">.</span><span class="ident" id="4266017">RemoveAll</span><span class="op" id="4266026">(</span><span class="op" id="4266027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266034">}</span><span class="op" id="4266035">(</span><span class="op" id="4266036">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266040">maxValueBytes</span>&nbsp;<span class="op" id="4266054">:=</span>&nbsp;<span class="ident" id="4266057">int64</span><span class="op" id="4266062">(</span><span class="num" id="4266063">10</span>&nbsp;<span class="op" id="4266066">&lt;&lt;</span>&nbsp;<span class="num" id="4266069">20</span><span class="op" id="4266071">)</span>&nbsp;<span class="comment" id="4266073">//&nbsp;10&nbsp;MB&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;text.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266101">for</span>&nbsp;<span class="op" id="4266105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266109">p</span><span class="op" id="4266110">,</span>&nbsp;<span class="ident" id="4266112">err</span>&nbsp;<span class="op" id="4266116">:=</span>&nbsp;<span class="ident" id="4266119">r</span><span class="op" id="4266120">.</span><span class="ident" id="4266121">NextPart</span><span class="op" id="4266129">(</span><span class="op" id="4266130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266134">if</span>&nbsp;<span class="ident" id="4266137">err</span>&nbsp;<span class="op" id="4266141">==</span>&nbsp;<span class="ident" id="4266144">io</span><span class="op" id="4266146">.</span><span class="ident" id="4266147">EOF</span>&nbsp;<span class="op" id="4266151">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266156">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266168">if</span>&nbsp;<span class="ident" id="4266171">err</span>&nbsp;<span class="op" id="4266175">!=</span>&nbsp;<span class="ident" id="4266178">nil</span>&nbsp;<span class="op" id="4266182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266187">return</span>&nbsp;<span class="ident" id="4266194">nil</span><span class="op" id="4266197">,</span>&nbsp;<span class="ident" id="4266199">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266205">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266210">name</span>&nbsp;<span class="op" id="4266215">:=</span>&nbsp;<span class="ident" id="4266218">p</span><span class="op" id="4266219">.</span><span class="ident" id="4266220">FormName</span><span class="op" id="4266228">(</span><span class="op" id="4266229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266233">if</span>&nbsp;<span class="ident" id="4266236">name</span>&nbsp;<span class="op" id="4266241">==</span>&nbsp;<span class="string" id="4266244">&#34;&#34;</span>&nbsp;<span class="op" id="4266247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266252">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266263">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266267">filename</span>&nbsp;<span class="op" id="4266276">:=</span>&nbsp;<span class="ident" id="4266279">p</span><span class="op" id="4266280">.</span><span class="ident" id="4266281">FileName</span><span class="op" id="4266289">(</span><span class="op" id="4266290">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266295">var</span>&nbsp;<span class="ident" id="4266299">b</span>&nbsp;<span class="ident" id="4266301">bytes</span><span class="op" id="4266306">.</span><span class="ident" id="4266307">Buffer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266317">if</span>&nbsp;<span class="ident" id="4266320">filename</span>&nbsp;<span class="op" id="4266329">==</span>&nbsp;<span class="string" id="4266332">&#34;&#34;</span>&nbsp;<span class="op" id="4266335">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4266340">//&nbsp;value,&nbsp;store&nbsp;as&nbsp;string&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266379">n</span><span class="op" id="4266380">,</span>&nbsp;<span class="ident" id="4266382">err</span>&nbsp;<span class="op" id="4266386">:=</span>&nbsp;<span class="ident" id="4266389">io</span><span class="op" id="4266391">.</span><span class="ident" id="4266392">CopyN</span><span class="op" id="4266397">(</span><span class="op" id="4266398">&amp;</span><span class="ident" id="4266399">b</span><span class="op" id="4266400">,</span>&nbsp;<span class="ident" id="4266402">p</span><span class="op" id="4266403">,</span>&nbsp;<span class="ident" id="4266405">maxValueBytes</span><span class="op" id="4266418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266423">if</span>&nbsp;<span class="ident" id="4266426">err</span>&nbsp;<span class="op" id="4266430">!=</span>&nbsp;<span class="ident" id="4266433">nil</span>&nbsp;<span class="op" id="4266437">&amp;&amp;</span>&nbsp;<span class="ident" id="4266440">err</span>&nbsp;<span class="op" id="4266444">!=</span>&nbsp;<span class="ident" id="4266447">io</span><span class="op" id="4266449">.</span><span class="ident" id="4266450">EOF</span>&nbsp;<span class="op" id="4266454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266460">return</span>&nbsp;<span class="ident" id="4266467">nil</span><span class="op" id="4266470">,</span>&nbsp;<span class="ident" id="4266472">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266479">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266484">maxValueBytes</span>&nbsp;<span class="op" id="4266498">-=</span>&nbsp;<span class="ident" id="4266501">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266506">if</span>&nbsp;<span class="ident" id="4266509">maxValueBytes</span>&nbsp;<span class="op" id="4266523">==</span>&nbsp;<span class="num" id="4266526">0</span>&nbsp;<span class="op" id="4266528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266534">return</span>&nbsp;<span class="ident" id="4266541">nil</span><span class="op" id="4266544">,</span>&nbsp;<span class="ident" id="4266546">errors</span><span class="op" id="4266552">.</span><span class="ident" id="4266553">New</span><span class="op" id="4266556">(</span><span class="string" id="4266557">&#34;multipart:&nbsp;message&nbsp;too&nbsp;large&#34;</span><span class="op" id="4266587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266597">form</span><span class="op" id="4266601">.</span><span class="ident" id="4266602">Value</span><span class="op" id="4266607">[</span><span class="ident" id="4266608">name</span><span class="op" id="4266612">]</span>&nbsp;<span class="op" id="4266614">=</span>&nbsp;<span class="builtinfunc" id="4266616">append</span><span class="op" id="4266622">(</span><span class="ident" id="4266623">form</span><span class="op" id="4266627">.</span><span class="ident" id="4266628">Value</span><span class="op" id="4266633">[</span><span class="ident" id="4266634">name</span><span class="op" id="4266638">]</span><span class="op" id="4266639">,</span>&nbsp;<span class="ident" id="4266641">b</span><span class="op" id="4266642">.</span><span class="ident" id="4266643">String</span><span class="op" id="4266649">(</span><span class="op" id="4266650">)</span><span class="op" id="4266651">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266656">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4266672">//&nbsp;file,&nbsp;store&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266710">fh</span>&nbsp;<span class="op" id="4266713">:=</span>&nbsp;<span class="op" id="4266716">&amp;</span><span class="ident" id="4266717">FileHeader</span><span class="op" id="4266727">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266732">Filename</span><span class="op" id="4266740">:</span>&nbsp;<span class="ident" id="4266742">filename</span><span class="op" id="4266750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266755">Header</span><span class="op" id="4266761">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4266765">p</span><span class="op" id="4266766">.</span><span class="ident" id="4266767">Header</span><span class="op" id="4266773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266781">n</span><span class="op" id="4266782">,</span>&nbsp;<span class="ident" id="4266784">err</span>&nbsp;<span class="op" id="4266788">:=</span>&nbsp;<span class="ident" id="4266791">io</span><span class="op" id="4266793">.</span><span class="ident" id="4266794">CopyN</span><span class="op" id="4266799">(</span><span class="op" id="4266800">&amp;</span><span class="ident" id="4266801">b</span><span class="op" id="4266802">,</span>&nbsp;<span class="ident" id="4266804">p</span><span class="op" id="4266805">,</span>&nbsp;<span class="ident" id="4266807">maxMemory</span><span class="op" id="4266816">+</span><span class="num" id="4266817">1</span><span class="op" id="4266818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266822">if</span>&nbsp;<span class="ident" id="4266825">err</span>&nbsp;<span class="op" id="4266829">!=</span>&nbsp;<span class="ident" id="4266832">nil</span>&nbsp;<span class="op" id="4266836">&amp;&amp;</span>&nbsp;<span class="ident" id="4266839">err</span>&nbsp;<span class="op" id="4266843">!=</span>&nbsp;<span class="ident" id="4266846">io</span><span class="op" id="4266848">.</span><span class="ident" id="4266849">EOF</span>&nbsp;<span class="op" id="4266853">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266858">return</span>&nbsp;<span class="ident" id="4266865">nil</span><span class="op" id="4266868">,</span>&nbsp;<span class="ident" id="4266870">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4266876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266880">if</span>&nbsp;<span class="ident" id="4266883">n</span>&nbsp;<span class="op" id="4266885">&gt;</span>&nbsp;<span class="ident" id="4266887">maxMemory</span>&nbsp;<span class="op" id="4266897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4266902">//&nbsp;too&nbsp;big,&nbsp;write&nbsp;to&nbsp;disk&nbsp;and&nbsp;flush&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4266948">file</span><span class="op" id="4266952">,</span>&nbsp;<span class="ident" id="4266954">err</span>&nbsp;<span class="op" id="4266958">:=</span>&nbsp;<span class="ident" id="4266961">ioutil</span><span class="op" id="4266967">.</span><span class="ident" id="4266968">TempFile</span><span class="op" id="4266976">(</span><span class="string" id="4266977">&#34;&#34;</span><span class="op" id="4266979">,</span>&nbsp;<span class="string" id="4266981">&#34;multipart-&#34;</span><span class="op" id="4266993">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4266998">if</span>&nbsp;<span class="ident" id="4267001">err</span>&nbsp;<span class="op" id="4267005">!=</span>&nbsp;<span class="ident" id="4267008">nil</span>&nbsp;<span class="op" id="4267012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267018">return</span>&nbsp;<span class="ident" id="4267025">nil</span><span class="op" id="4267028">,</span>&nbsp;<span class="ident" id="4267030">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4267037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267042">defer</span>&nbsp;<span class="ident" id="4267048">file</span><span class="op" id="4267052">.</span><span class="ident" id="4267053">Close</span><span class="op" id="4267058">(</span><span class="op" id="4267059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267064">_</span><span class="op" id="4267065">,</span>&nbsp;<span class="ident" id="4267067">err</span>&nbsp;<span class="op" id="4267071">=</span>&nbsp;<span class="ident" id="4267073">io</span><span class="op" id="4267075">.</span><span class="ident" id="4267076">Copy</span><span class="op" id="4267080">(</span><span class="ident" id="4267081">file</span><span class="op" id="4267085">,</span>&nbsp;<span class="ident" id="4267087">io</span><span class="op" id="4267089">.</span><span class="ident" id="4267090">MultiReader</span><span class="op" id="4267101">(</span><span class="op" id="4267102">&amp;</span><span class="ident" id="4267103">b</span><span class="op" id="4267104">,</span>&nbsp;<span class="ident" id="4267106">p</span><span class="op" id="4267107">)</span><span class="op" id="4267108">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267113">if</span>&nbsp;<span class="ident" id="4267116">err</span>&nbsp;<span class="op" id="4267120">!=</span>&nbsp;<span class="ident" id="4267123">nil</span>&nbsp;<span class="op" id="4267127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267133">os</span><span class="op" id="4267135">.</span><span class="ident" id="4267136">Remove</span><span class="op" id="4267142">(</span><span class="ident" id="4267143">file</span><span class="op" id="4267147">.</span><span class="ident" id="4267148">Name</span><span class="op" id="4267152">(</span><span class="op" id="4267153">)</span><span class="op" id="4267154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267160">return</span>&nbsp;<span class="ident" id="4267167">nil</span><span class="op" id="4267170">,</span>&nbsp;<span class="ident" id="4267172">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4267179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267184">fh</span><span class="op" id="4267186">.</span><span class="ident" id="4267187">tmpfile</span>&nbsp;<span class="op" id="4267195">=</span>&nbsp;<span class="ident" id="4267197">file</span><span class="op" id="4267201">.</span><span class="ident" id="4267202">Name</span><span class="op" id="4267206">(</span><span class="op" id="4267207">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4267211">}</span>&nbsp;<span class="keyword" id="4267213">else</span>&nbsp;<span class="op" id="4267218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267223">fh</span><span class="op" id="4267225">.</span><span class="ident" id="4267226">content</span>&nbsp;<span class="op" id="4267234">=</span>&nbsp;<span class="ident" id="4267236">b</span><span class="op" id="4267237">.</span><span class="ident" id="4267238">Bytes</span><span class="op" id="4267243">(</span><span class="op" id="4267244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267249">maxMemory</span>&nbsp;<span class="op" id="4267259">-=</span>&nbsp;<span class="ident" id="4267262">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4267266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267270">form</span><span class="op" id="4267274">.</span><span class="ident" id="4267275">File</span><span class="op" id="4267279">[</span><span class="ident" id="4267280">name</span><span class="op" id="4267284">]</span>&nbsp;<span class="op" id="4267286">=</span>&nbsp;<span class="builtinfunc" id="4267288">append</span><span class="op" id="4267294">(</span><span class="ident" id="4267295">form</span><span class="op" id="4267299">.</span><span class="ident" id="4267300">File</span><span class="op" id="4267304">[</span><span class="ident" id="4267305">name</span><span class="op" id="4267309">]</span><span class="op" id="4267310">,</span>&nbsp;<span class="ident" id="4267312">fh</span><span class="op" id="4267314">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4267317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267321">return</span>&nbsp;<span class="ident" id="4267328">form</span><span class="op" id="4267332">,</span>&nbsp;<span class="ident" id="4267334">nil</span><br>
<span class="lineno"></span><span class="op" id="4267338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4267341">//&nbsp;Form&nbsp;is&nbsp;a&nbsp;parsed&nbsp;multipart&nbsp;form.</span><br>
<span class="lineno"></span><span class="comment" id="4267377">//&nbsp;Its&nbsp;File&nbsp;parts&nbsp;are&nbsp;stored&nbsp;either&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk,</span><br>
<span class="lineno"></span><span class="comment" id="4267435">//&nbsp;and&nbsp;are&nbsp;accessible&nbsp;via&nbsp;the&nbsp;*FileHeader&#39;s&nbsp;Open&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="4267492">//&nbsp;Its&nbsp;Value&nbsp;parts&nbsp;are&nbsp;stored&nbsp;as&nbsp;strings.</span><br>
<span class="lineno"></span><span class="comment" id="4267534">//&nbsp;Both&nbsp;are&nbsp;keyed&nbsp;by&nbsp;field&nbsp;name.</span><br>
<span class="lineno">100</span><span class="keyword" id="4267567">type</span>&nbsp;<span class="ident" id="4267572">Form</span>&nbsp;<span class="keyword" id="4267577">struct</span>&nbsp;<span class="op" id="4267584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267587">Value</span>&nbsp;<span class="keyword" id="4267593">map</span><span class="op" id="4267596">[</span><span class="builtintype" id="4267597">string</span><span class="op" id="4267603">]</span><span class="op" id="4267604">[</span><span class="op" id="4267605">]</span><span class="builtintype" id="4267606">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267614">File</span>&nbsp;&nbsp;<span class="keyword" id="4267620">map</span><span class="op" id="4267623">[</span><span class="builtintype" id="4267624">string</span><span class="op" id="4267630">]</span><span class="op" id="4267631">[</span><span class="op" id="4267632">]</span><span class="op" id="4267633">*</span><span class="ident" id="4267634">FileHeader</span><br>
<span class="lineno"></span><span class="op" id="4267645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4267648">//&nbsp;RemoveAll&nbsp;removes&nbsp;any&nbsp;temporary&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;Form.</span><br>
<span class="lineno"></span><span class="keyword" id="4267713">func</span>&nbsp;<span class="op" id="4267718">(</span><span class="ident" id="4267719">f</span>&nbsp;<span class="op" id="4267721">*</span><span class="ident" id="4267722">Form</span><span class="op" id="4267726">)</span>&nbsp;<span class="ident" id="4267728">RemoveAll</span><span class="op" id="4267737">(</span><span class="op" id="4267738">)</span>&nbsp;<span class="builtintype" id="4267740">error</span>&nbsp;<span class="op" id="4267746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267749">var</span>&nbsp;<span class="ident" id="4267753">err</span>&nbsp;<span class="builtintype" id="4267757">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267764">for</span>&nbsp;<span class="ident" id="4267768">_</span><span class="op" id="4267769">,</span>&nbsp;<span class="ident" id="4267771">fhs</span>&nbsp;<span class="op" id="4267775">:=</span>&nbsp;<span class="keyword" id="4267778">range</span>&nbsp;<span class="ident" id="4267784">f</span><span class="op" id="4267785">.</span><span class="ident" id="4267786">File</span>&nbsp;<span class="op" id="4267791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267795">for</span>&nbsp;<span class="ident" id="4267799">_</span><span class="op" id="4267800">,</span>&nbsp;<span class="ident" id="4267802">fh</span>&nbsp;<span class="op" id="4267805">:=</span>&nbsp;<span class="keyword" id="4267808">range</span>&nbsp;<span class="ident" id="4267814">fhs</span>&nbsp;<span class="op" id="4267818">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267823">if</span>&nbsp;<span class="ident" id="4267826">fh</span><span class="op" id="4267828">.</span><span class="ident" id="4267829">tmpfile</span>&nbsp;<span class="op" id="4267837">!=</span>&nbsp;<span class="string" id="4267840">&#34;&#34;</span>&nbsp;<span class="op" id="4267843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267849">e</span>&nbsp;<span class="op" id="4267851">:=</span>&nbsp;<span class="ident" id="4267854">os</span><span class="op" id="4267856">.</span><span class="ident" id="4267857">Remove</span><span class="op" id="4267863">(</span><span class="ident" id="4267864">fh</span><span class="op" id="4267866">.</span><span class="ident" id="4267867">tmpfile</span><span class="op" id="4267874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267880">if</span>&nbsp;<span class="ident" id="4267883">e</span>&nbsp;<span class="op" id="4267885">!=</span>&nbsp;<span class="ident" id="4267888">nil</span>&nbsp;<span class="op" id="4267892">&amp;&amp;</span>&nbsp;<span class="ident" id="4267895">err</span>&nbsp;<span class="op" id="4267899">==</span>&nbsp;<span class="ident" id="4267902">nil</span>&nbsp;<span class="op" id="4267906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4267913">err</span>&nbsp;<span class="op" id="4267917">=</span>&nbsp;<span class="ident" id="4267919">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4267925">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4267930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4267934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4267937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4267940">return</span>&nbsp;<span class="ident" id="4267947">err</span><br>
<span class="lineno"></span><span class="op" id="4267951">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="4267954">//&nbsp;A&nbsp;FileHeader&nbsp;describes&nbsp;a&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;request.</span><br>
<span class="lineno"></span><span class="keyword" id="4268016">type</span>&nbsp;<span class="ident" id="4268021">FileHeader</span>&nbsp;<span class="keyword" id="4268032">struct</span>&nbsp;<span class="op" id="4268039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4268042">Filename</span>&nbsp;<span class="builtintype" id="4268051">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4268059">Header</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4268068">textproto</span><span class="op" id="4268077">.</span><span class="ident" id="4268078">MIMEHeader</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4268091">content</span>&nbsp;<span class="op" id="4268099">[</span><span class="op" id="4268100">]</span><span class="builtintype" id="4268101">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4268107">tmpfile</span>&nbsp;<span class="builtintype" id="4268115">string</span><br>
<span class="lineno"></span><span class="op" id="4268122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4268125">//&nbsp;Open&nbsp;opens&nbsp;and&nbsp;returns&nbsp;the&nbsp;FileHeader&#39;s&nbsp;associated&nbsp;File.</span><br>
<span class="lineno"></span><span class="keyword" id="4268185">func</span>&nbsp;<span class="op" id="4268190">(</span><span class="ident" id="4268191">fh</span>&nbsp;<span class="op" id="4268194">*</span><span class="ident" id="4268195">FileHeader</span><span class="op" id="4268205">)</span>&nbsp;<span class="ident" id="4268207">Open</span><span class="op" id="4268211">(</span><span class="op" id="4268212">)</span>&nbsp;<span class="op" id="4268214">(</span><span class="ident" id="4268215">File</span><span class="op" id="4268219">,</span>&nbsp;<span class="builtintype" id="4268221">error</span><span class="op" id="4268226">)</span>&nbsp;<span class="op" id="4268228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4268231">if</span>&nbsp;<span class="ident" id="4268234">b</span>&nbsp;<span class="op" id="4268236">:=</span>&nbsp;<span class="ident" id="4268239">fh</span><span class="op" id="4268241">.</span><span class="ident" id="4268242">content</span><span class="op" id="4268249">;</span>&nbsp;<span class="ident" id="4268251">b</span>&nbsp;<span class="op" id="4268253">!=</span>&nbsp;<span class="ident" id="4268256">nil</span>&nbsp;<span class="op" id="4268260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4268264">r</span>&nbsp;<span class="op" id="4268266">:=</span>&nbsp;<span class="ident" id="4268269">io</span><span class="op" id="4268271">.</span><span class="ident" id="4268272">NewSectionReader</span><span class="op" id="4268288">(</span><span class="ident" id="4268289">bytes</span><span class="op" id="4268294">.</span><span class="ident" id="4268295">NewReader</span><span class="op" id="4268304">(</span><span class="ident" id="4268305">b</span><span class="op" id="4268306">)</span><span class="op" id="4268307">,</span>&nbsp;<span class="num" id="4268309">0</span><span class="op" id="4268310">,</span>&nbsp;<span class="ident" id="4268312">int64</span><span class="op" id="4268317">(</span><span class="builtinfunc" id="4268318">len</span><span class="op" id="4268321">(</span><span class="ident" id="4268322">b</span><span class="op" id="4268323">)</span><span class="op" id="4268324">)</span><span class="op" id="4268325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4268329">return</span>&nbsp;<span class="ident" id="4268336">sectionReadCloser</span><span class="op" id="4268353">{</span><span class="ident" id="4268354">r</span><span class="op" id="4268355">}</span><span class="op" id="4268356">,</span>&nbsp;<span class="ident" id="4268358">nil</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4268363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4268366">return</span>&nbsp;<span class="ident" id="4268373">os</span><span class="op" id="4268375">.</span><span class="ident" id="4268376">Open</span><span class="op" id="4268380">(</span><span class="ident" id="4268381">fh</span><span class="op" id="4268383">.</span><span class="ident" id="4268384">tmpfile</span><span class="op" id="4268391">)</span><br>
<span class="lineno"></span><span class="op" id="4268393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4268396">//&nbsp;File&nbsp;is&nbsp;an&nbsp;interface&nbsp;to&nbsp;access&nbsp;the&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;message.</span><br>
<span class="lineno">140</span><span class="comment" id="4268468">//&nbsp;Its&nbsp;contents&nbsp;may&nbsp;be&nbsp;either&nbsp;stored&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk.</span><br>
<span class="lineno"></span><span class="comment" id="4268527">//&nbsp;If&nbsp;stored&nbsp;on&nbsp;disk,&nbsp;the&nbsp;File&#39;s&nbsp;underlying&nbsp;concrete&nbsp;type&nbsp;will&nbsp;be&nbsp;an&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="keyword" id="4268606">type</span>&nbsp;<span class="ident" id="4268611">File</span>&nbsp;<span class="keyword" id="4268616">interface</span>&nbsp;<span class="op" id="4268626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4268629">io</span><span class="op" id="4268631">.</span><span class="ident" id="4268632">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4268640">io</span><span class="op" id="4268642">.</span><span class="ident" id="4268643">ReaderAt</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4268653">io</span><span class="op" id="4268655">.</span><span class="ident" id="4268656">Seeker</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4268664">io</span><span class="op" id="4268666">.</span><span class="ident" id="4268667">Closer</span><br>
<span class="lineno"></span><span class="op" id="4268674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4268677">//&nbsp;helper&nbsp;types&nbsp;to&nbsp;turn&nbsp;a&nbsp;[]byte&nbsp;into&nbsp;a&nbsp;File</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="4268723">type</span>&nbsp;<span class="ident" id="4268728">sectionReadCloser</span>&nbsp;<span class="keyword" id="4268746">struct</span>&nbsp;<span class="op" id="4268753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4268756">*</span><span class="ident" id="4268757">io</span><span class="op" id="4268759">.</span><span class="ident" id="4268760">SectionReader</span><br>
<span class="lineno"></span><span class="op" id="4268774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="4268777">func</span>&nbsp;<span class="op" id="4268782">(</span><span class="ident" id="4268783">rc</span>&nbsp;<span class="ident" id="4268786">sectionReadCloser</span><span class="op" id="4268803">)</span>&nbsp;<span class="ident" id="4268805">Close</span><span class="op" id="4268810">(</span><span class="op" id="4268811">)</span>&nbsp;<span class="builtintype" id="4268813">error</span>&nbsp;<span class="op" id="4268819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4268822">return</span>&nbsp;<span class="ident" id="4268829">nil</span><br>
<span class="lineno"></span><span class="op" id="4268833">}</span>
</div>
</body>
</html>
