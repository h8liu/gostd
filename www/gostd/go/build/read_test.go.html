<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/build</h2>
<ul>
<li><a href="/gostd/go/build/build.go.html">build.go</a></li>
<li><a href="/gostd/go/build/build_test.go.html">build_test.go</a></li>
<li><a href="/gostd/go/build/deps_test.go.html">deps_test.go</a></li>
<li><a href="/gostd/go/build/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/build/read.go.html">read.go</a></li>
<li><a href="/gostd/go/build/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/go/build/syslist.go.html">syslist.go</a></li>
<li><a href="/gostd/go/build/syslist_test.go.html">syslist_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7673725">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7673781">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7673835">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7673886">package</span>&nbsp;<span class="ident" id="7673894">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7673901">import</span>&nbsp;<span class="op" id="7673908">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7673911">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7673917">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7673928">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7673938">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7673941">const</span>&nbsp;<span class="ident" id="7673947">quote</span>&nbsp;<span class="op" id="7673953">=</span>&nbsp;<span class="string" id="7673955">&#34;`&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7673960">type</span>&nbsp;<span class="ident" id="7673965">readTest</span>&nbsp;<span class="keyword" id="7673974">struct</span>&nbsp;<span class="op" id="7673981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7673984">//&nbsp;Test&nbsp;input&nbsp;contains&nbsp;ℙ&nbsp;where&nbsp;readImports&nbsp;should&nbsp;stop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674043">in</span>&nbsp;&nbsp;<span class="builtintype" id="7674047">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674055">err</span>&nbsp;<span class="builtintype" id="7674059">string</span><br>
<span class="lineno"></span><span class="op" id="7674066">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7674069">var</span>&nbsp;<span class="ident" id="7674073">readImportsTests</span>&nbsp;<span class="op" id="7674090">=</span>&nbsp;<span class="op" id="7674092">[</span><span class="op" id="7674093">]</span><span class="ident" id="7674094">readTest</span><span class="op" id="7674102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674109">`package&nbsp;p`</span><span class="op" id="7674120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674124">&#34;&#34;</span><span class="op" id="7674126">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674129">}</span><span class="op" id="7674130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674137">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7674160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674164">&#34;&#34;</span><span class="op" id="7674166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674169">}</span><span class="op" id="7674170">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674177">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7674202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674206">&#34;&#34;</span><span class="op" id="7674208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674211">}</span><span class="op" id="7674212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674215">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674219">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;;ℙvar&nbsp;x&nbsp;=&nbsp;1`</span><span class="op" id="7674255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674259">&#34;&#34;</span><span class="op" id="7674261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674264">}</span><span class="op" id="7674265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674272">`package&nbsp;p<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;_&nbsp;&#34;x&#34;<br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;a&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;(<br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;x&#34;&nbsp;/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp_&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspa&nbsp;&#34;x&#34;&nbsp;//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span>&nbsp;<span class="op" id="7674433">+</span>&nbsp;<span class="ident" id="7674435">quote</span>&nbsp;<span class="op" id="7674441">+</span>&nbsp;<span class="string" id="7674443">`x`</span>&nbsp;<span class="op" id="7674447">+</span>&nbsp;<span class="ident" id="7674449">quote</span>&nbsp;<span class="op" id="7674455">+</span>&nbsp;<span class="string" id="7674457">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp_&nbsp;/*comment*/&nbsp;`</span>&nbsp;<span class="op" id="7674478">+</span>&nbsp;<span class="ident" id="7674480">quote</span>&nbsp;<span class="op" id="7674486">+</span>&nbsp;<span class="string" id="7674488">`x`</span>&nbsp;<span class="op" id="7674492">+</span>&nbsp;<span class="ident" id="7674494">quote</span>&nbsp;<span class="op" id="7674500">+</span>&nbsp;<span class="string" id="7674502">`<br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspa&nbsp;`</span>&nbsp;<span class="op" id="7674511">+</span>&nbsp;<span class="ident" id="7674513">quote</span>&nbsp;<span class="op" id="7674519">+</span>&nbsp;<span class="string" id="7674521">`x`</span>&nbsp;<span class="op" id="7674525">+</span>&nbsp;<span class="ident" id="7674527">quote</span>&nbsp;<span class="op" id="7674533">+</span>&nbsp;<span class="string" id="7674535">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;(<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport&nbsp;()<br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport()import()import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimport();import();import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspℙvar&nbsp;x&nbsp;=&nbsp;1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp`</span><span class="op" id="7674645">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674649">&#34;&#34;</span><span class="op" id="7674651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674654">}</span><span class="op" id="7674655">,</span><br>
<span class="lineno"></span><span class="op" id="7674657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674660">var</span>&nbsp;<span class="ident" id="7674664">readCommentsTests</span>&nbsp;<span class="op" id="7674682">=</span>&nbsp;<span class="op" id="7674684">[</span><span class="op" id="7674685">]</span><span class="ident" id="7674686">readTest</span><span class="op" id="7674694">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674701">`ℙpackage&nbsp;p`</span><span class="op" id="7674715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674719">&#34;&#34;</span><span class="op" id="7674721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674724">}</span><span class="op" id="7674725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674728">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674732">`ℙpackage&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7674758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674762">&#34;&#34;</span><span class="op" id="7674764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674767">}</span><span class="op" id="7674768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674775">`ℙpackage&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7674803">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674807">&#34;&#34;</span><span class="op" id="7674809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674812">}</span><span class="op" id="7674813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674820">`//&nbsp;foo<br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;bar&nbsp;*/<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*&nbsp;quux&nbsp;*/&nbsp;//&nbsp;baz<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp/*/&nbsp;zot&nbsp;*/<br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;asdf<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspℙHello,&nbsp;world`</span><span class="op" id="7674907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674911">&#34;&#34;</span><span class="op" id="7674913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674916">}</span><span class="op" id="7674917">,</span><br>
<span class="lineno">95</span><span class="op" id="7674919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674922">func</span>&nbsp;<span class="ident" id="7674927">testRead</span><span class="op" id="7674935">(</span><span class="ident" id="7674936">t</span>&nbsp;<span class="op" id="7674938">*</span><span class="ident" id="7674939">testing</span><span class="op" id="7674946">.</span><span class="ident" id="7674947">T</span><span class="op" id="7674948">,</span>&nbsp;<span class="ident" id="7674950">tests</span>&nbsp;<span class="op" id="7674956">[</span><span class="op" id="7674957">]</span><span class="ident" id="7674958">readTest</span><span class="op" id="7674966">,</span>&nbsp;<span class="ident" id="7674968">read</span>&nbsp;<span class="keyword" id="7674973">func</span><span class="op" id="7674977">(</span><span class="ident" id="7674978">io</span><span class="op" id="7674980">.</span><span class="ident" id="7674981">Reader</span><span class="op" id="7674987">)</span>&nbsp;<span class="op" id="7674989">(</span><span class="op" id="7674990">[</span><span class="op" id="7674991">]</span><span class="builtintype" id="7674992">byte</span><span class="op" id="7674996">,</span>&nbsp;<span class="builtintype" id="7674998">error</span><span class="op" id="7675003">)</span><span class="op" id="7675004">)</span>&nbsp;<span class="op" id="7675006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675009">for</span>&nbsp;<span class="ident" id="7675013">i</span><span class="op" id="7675014">,</span>&nbsp;<span class="ident" id="7675016">tt</span>&nbsp;<span class="op" id="7675019">:=</span>&nbsp;<span class="keyword" id="7675022">range</span>&nbsp;<span class="ident" id="7675028">tests</span>&nbsp;<span class="op" id="7675034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675038">var</span>&nbsp;<span class="ident" id="7675042">in</span><span class="op" id="7675044">,</span>&nbsp;<span class="ident" id="7675046">testOut</span>&nbsp;<span class="builtintype" id="7675054">string</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675063">j</span>&nbsp;<span class="op" id="7675065">:=</span>&nbsp;<span class="ident" id="7675068">strings</span><span class="op" id="7675075">.</span><span class="ident" id="7675076">Index</span><span class="op" id="7675081">(</span><span class="ident" id="7675082">tt</span><span class="op" id="7675084">.</span><span class="ident" id="7675085">in</span><span class="op" id="7675087">,</span>&nbsp;<span class="string" id="7675089">&#34;ℙ&#34;</span><span class="op" id="7675094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675098">if</span>&nbsp;<span class="ident" id="7675101">j</span>&nbsp;<span class="op" id="7675103">&lt;</span>&nbsp;<span class="num" id="7675105">0</span>&nbsp;<span class="op" id="7675107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675112">in</span>&nbsp;<span class="op" id="7675115">=</span>&nbsp;<span class="ident" id="7675117">tt</span><span class="op" id="7675119">.</span><span class="ident" id="7675120">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675126">testOut</span>&nbsp;<span class="op" id="7675134">=</span>&nbsp;<span class="ident" id="7675136">tt</span><span class="op" id="7675138">.</span><span class="ident" id="7675139">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675144">}</span>&nbsp;<span class="keyword" id="7675146">else</span>&nbsp;<span class="op" id="7675151">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675156">in</span>&nbsp;<span class="op" id="7675159">=</span>&nbsp;<span class="ident" id="7675161">tt</span><span class="op" id="7675163">.</span><span class="ident" id="7675164">in</span><span class="op" id="7675166">[</span><span class="op" id="7675167">:</span><span class="ident" id="7675168">j</span><span class="op" id="7675169">]</span>&nbsp;<span class="op" id="7675171">+</span>&nbsp;<span class="ident" id="7675173">tt</span><span class="op" id="7675175">.</span><span class="ident" id="7675176">in</span><span class="op" id="7675178">[</span><span class="ident" id="7675179">j</span><span class="op" id="7675180">+</span><span class="builtinfunc" id="7675181">len</span><span class="op" id="7675184">(</span><span class="string" id="7675185">&#34;ℙ&#34;</span><span class="op" id="7675190">)</span><span class="op" id="7675191">:</span><span class="op" id="7675192">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675197">testOut</span>&nbsp;<span class="op" id="7675205">=</span>&nbsp;<span class="ident" id="7675207">tt</span><span class="op" id="7675209">.</span><span class="ident" id="7675210">in</span><span class="op" id="7675212">[</span><span class="op" id="7675213">:</span><span class="ident" id="7675214">j</span><span class="op" id="7675215">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675223">r</span>&nbsp;<span class="op" id="7675225">:=</span>&nbsp;<span class="ident" id="7675228">strings</span><span class="op" id="7675235">.</span><span class="ident" id="7675236">NewReader</span><span class="op" id="7675245">(</span><span class="ident" id="7675246">in</span><span class="op" id="7675248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675252">buf</span><span class="op" id="7675255">,</span>&nbsp;<span class="ident" id="7675257">err</span>&nbsp;<span class="op" id="7675261">:=</span>&nbsp;<span class="ident" id="7675264">read</span><span class="op" id="7675268">(</span><span class="ident" id="7675269">r</span><span class="op" id="7675270">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675274">if</span>&nbsp;<span class="ident" id="7675277">err</span>&nbsp;<span class="op" id="7675281">!=</span>&nbsp;<span class="ident" id="7675284">nil</span>&nbsp;<span class="op" id="7675288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675293">if</span>&nbsp;<span class="ident" id="7675296">tt</span><span class="op" id="7675298">.</span><span class="ident" id="7675299">err</span>&nbsp;<span class="op" id="7675303">==</span>&nbsp;<span class="string" id="7675306">&#34;&#34;</span>&nbsp;<span class="op" id="7675309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675315">t</span><span class="op" id="7675316">.</span><span class="ident" id="7675317">Errorf</span><span class="op" id="7675323">(</span><span class="string" id="7675324">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;success&nbsp;(%q)&#34;</span><span class="op" id="7675360">,</span>&nbsp;<span class="ident" id="7675362">i</span><span class="op" id="7675363">,</span>&nbsp;<span class="ident" id="7675365">err</span><span class="op" id="7675368">,</span>&nbsp;<span class="builtintype" id="7675370">string</span><span class="op" id="7675376">(</span><span class="ident" id="7675377">buf</span><span class="op" id="7675380">)</span><span class="op" id="7675381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675387">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675399">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675404">if</span>&nbsp;<span class="op" id="7675407">!</span><span class="ident" id="7675408">strings</span><span class="op" id="7675415">.</span><span class="ident" id="7675416">Contains</span><span class="op" id="7675424">(</span><span class="ident" id="7675425">err</span><span class="op" id="7675428">.</span><span class="ident" id="7675429">Error</span><span class="op" id="7675434">(</span><span class="op" id="7675435">)</span><span class="op" id="7675436">,</span>&nbsp;<span class="ident" id="7675438">tt</span><span class="op" id="7675440">.</span><span class="ident" id="7675441">err</span><span class="op" id="7675444">)</span>&nbsp;<span class="op" id="7675446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675452">t</span><span class="op" id="7675453">.</span><span class="ident" id="7675454">Errorf</span><span class="op" id="7675460">(</span><span class="string" id="7675461">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7675487">,</span>&nbsp;<span class="ident" id="7675489">i</span><span class="op" id="7675490">,</span>&nbsp;<span class="ident" id="7675492">err</span><span class="op" id="7675495">,</span>&nbsp;<span class="ident" id="7675497">tt</span><span class="op" id="7675499">.</span><span class="ident" id="7675500">err</span><span class="op" id="7675503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675509">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675526">continue</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675541">if</span>&nbsp;<span class="ident" id="7675544">err</span>&nbsp;<span class="op" id="7675548">==</span>&nbsp;<span class="ident" id="7675551">nil</span>&nbsp;<span class="op" id="7675555">&amp;&amp;</span>&nbsp;<span class="ident" id="7675558">tt</span><span class="op" id="7675560">.</span><span class="ident" id="7675561">err</span>&nbsp;<span class="op" id="7675565">!=</span>&nbsp;<span class="string" id="7675568">&#34;&#34;</span>&nbsp;<span class="op" id="7675571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675576">t</span><span class="op" id="7675577">.</span><span class="ident" id="7675578">Errorf</span><span class="op" id="7675584">(</span><span class="string" id="7675585">&#34;#%d:&nbsp;success,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7675612">,</span>&nbsp;<span class="ident" id="7675614">i</span><span class="op" id="7675615">,</span>&nbsp;<span class="ident" id="7675617">tt</span><span class="op" id="7675619">.</span><span class="ident" id="7675620">err</span><span class="op" id="7675623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675628">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675639">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675644">out</span>&nbsp;<span class="op" id="7675648">:=</span>&nbsp;<span class="builtintype" id="7675651">string</span><span class="op" id="7675657">(</span><span class="ident" id="7675658">buf</span><span class="op" id="7675661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675665">if</span>&nbsp;<span class="ident" id="7675668">out</span>&nbsp;<span class="op" id="7675672">!=</span>&nbsp;<span class="ident" id="7675675">testOut</span>&nbsp;<span class="op" id="7675683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675688">t</span><span class="op" id="7675689">.</span><span class="ident" id="7675690">Errorf</span><span class="op" id="7675696">(</span><span class="string" id="7675697">&#34;#%d:&nbsp;wrong&nbsp;output:\nhave&nbsp;%q\nwant&nbsp;%q\n&#34;</span><span class="op" id="7675737">,</span>&nbsp;<span class="ident" id="7675739">i</span><span class="op" id="7675740">,</span>&nbsp;<span class="ident" id="7675742">out</span><span class="op" id="7675745">,</span>&nbsp;<span class="ident" id="7675747">testOut</span><span class="op" id="7675754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675758">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675761">}</span><br>
<span class="lineno"></span><span class="op" id="7675763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7675766">func</span>&nbsp;<span class="ident" id="7675771">TestReadImports</span><span class="op" id="7675786">(</span><span class="ident" id="7675787">t</span>&nbsp;<span class="op" id="7675789">*</span><span class="ident" id="7675790">testing</span><span class="op" id="7675797">.</span><span class="ident" id="7675798">T</span><span class="op" id="7675799">)</span>&nbsp;<span class="op" id="7675801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675804">testRead</span><span class="op" id="7675812">(</span><span class="ident" id="7675813">t</span><span class="op" id="7675814">,</span>&nbsp;<span class="ident" id="7675816">readImportsTests</span><span class="op" id="7675832">,</span>&nbsp;<span class="keyword" id="7675834">func</span><span class="op" id="7675838">(</span><span class="ident" id="7675839">r</span>&nbsp;<span class="ident" id="7675841">io</span><span class="op" id="7675843">.</span><span class="ident" id="7675844">Reader</span><span class="op" id="7675850">)</span>&nbsp;<span class="op" id="7675852">(</span><span class="op" id="7675853">[</span><span class="op" id="7675854">]</span><span class="builtintype" id="7675855">byte</span><span class="op" id="7675859">,</span>&nbsp;<span class="builtintype" id="7675861">error</span><span class="op" id="7675866">)</span>&nbsp;<span class="op" id="7675868">{</span>&nbsp;<span class="keyword" id="7675870">return</span>&nbsp;<span class="ident" id="7675877">readImports</span><span class="op" id="7675888">(</span><span class="ident" id="7675889">r</span><span class="op" id="7675890">,</span>&nbsp;<span class="builtintype" id="7675892">true</span><span class="op" id="7675896">)</span>&nbsp;<span class="op" id="7675898">}</span><span class="op" id="7675899">)</span><br>
<span class="lineno">135</span><span class="op" id="7675901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7675904">func</span>&nbsp;<span class="ident" id="7675909">TestReadComments</span><span class="op" id="7675925">(</span><span class="ident" id="7675926">t</span>&nbsp;<span class="op" id="7675928">*</span><span class="ident" id="7675929">testing</span><span class="op" id="7675936">.</span><span class="ident" id="7675937">T</span><span class="op" id="7675938">)</span>&nbsp;<span class="op" id="7675940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675943">testRead</span><span class="op" id="7675951">(</span><span class="ident" id="7675952">t</span><span class="op" id="7675953">,</span>&nbsp;<span class="ident" id="7675955">readCommentsTests</span><span class="op" id="7675972">,</span>&nbsp;<span class="ident" id="7675974">readComments</span><span class="op" id="7675986">)</span><br>
<span class="lineno"></span><span class="op" id="7675988">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="7675991">var</span>&nbsp;<span class="ident" id="7675995">readFailuresTests</span>&nbsp;<span class="op" id="7676013">=</span>&nbsp;<span class="op" id="7676015">[</span><span class="op" id="7676016">]</span><span class="ident" id="7676017">readTest</span><span class="op" id="7676025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676032">`package`</span><span class="op" id="7676041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676045">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676059">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676062">}</span><span class="op" id="7676063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676070">&#34;package&nbsp;p\n\x00\nimport&nbsp;`math`\n&#34;</span><span class="op" id="7676104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676108">&#34;unexpected&nbsp;NUL&nbsp;in&nbsp;input&#34;</span><span class="op" id="7676133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676136">}</span><span class="op" id="7676137">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676144">`package&nbsp;p;&nbsp;import`</span><span class="op" id="7676163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676167">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676184">}</span><span class="op" id="7676185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676188">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676192">`package&nbsp;p;&nbsp;import&nbsp;&#34;`</span><span class="op" id="7676213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676217">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676234">}</span><span class="op" id="7676235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676242">&#34;package&nbsp;p;&nbsp;import&nbsp;`&nbsp;\n\n&#34;</span><span class="op" id="7676268">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676272">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676289">}</span><span class="op" id="7676290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676297">`package&nbsp;p;&nbsp;import&nbsp;&#34;x`</span><span class="op" id="7676319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676323">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676337">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676340">}</span><span class="op" id="7676341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676348">`package&nbsp;p;&nbsp;import&nbsp;_`</span><span class="op" id="7676369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676373">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676390">}</span><span class="op" id="7676391">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676398">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;`</span><span class="op" id="7676421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676425">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676442">}</span><span class="op" id="7676443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676446">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676450">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;x`</span><span class="op" id="7676474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676478">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676495">}</span><span class="op" id="7676496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676503">`package&nbsp;p;&nbsp;import&nbsp;.`</span><span class="op" id="7676524">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676528">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676545">}</span><span class="op" id="7676546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676553">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;`</span><span class="op" id="7676576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676580">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676594">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676597">}</span><span class="op" id="7676598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676605">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x`</span><span class="op" id="7676629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676633">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676650">}</span><span class="op" id="7676651">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676658">`package&nbsp;p;&nbsp;import&nbsp;(`</span><span class="op" id="7676679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676683">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676700">}</span><span class="op" id="7676701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676704">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676708">`package&nbsp;p;&nbsp;import&nbsp;(&#34;`</span><span class="op" id="7676730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676734">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676751">}</span><span class="op" id="7676752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676759">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x`</span><span class="op" id="7676782">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676786">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676803">}</span><span class="op" id="7676804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676811">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x&#34;`</span><span class="op" id="7676835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7676839">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7676853">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676856">}</span><span class="op" id="7676857">,</span><br>
<span class="lineno"></span><span class="op" id="7676859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676862">func</span>&nbsp;<span class="ident" id="7676867">TestReadFailures</span><span class="op" id="7676883">(</span><span class="ident" id="7676884">t</span>&nbsp;<span class="op" id="7676886">*</span><span class="ident" id="7676887">testing</span><span class="op" id="7676894">.</span><span class="ident" id="7676895">T</span><span class="op" id="7676896">)</span>&nbsp;<span class="op" id="7676898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7676901">//&nbsp;Errors&nbsp;should&nbsp;be&nbsp;reported&nbsp;(true&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676958">testRead</span><span class="op" id="7676966">(</span><span class="ident" id="7676967">t</span><span class="op" id="7676968">,</span>&nbsp;<span class="ident" id="7676970">readFailuresTests</span><span class="op" id="7676987">,</span>&nbsp;<span class="keyword" id="7676989">func</span><span class="op" id="7676993">(</span><span class="ident" id="7676994">r</span>&nbsp;<span class="ident" id="7676996">io</span><span class="op" id="7676998">.</span><span class="ident" id="7676999">Reader</span><span class="op" id="7677005">)</span>&nbsp;<span class="op" id="7677007">(</span><span class="op" id="7677008">[</span><span class="op" id="7677009">]</span><span class="builtintype" id="7677010">byte</span><span class="op" id="7677014">,</span>&nbsp;<span class="builtintype" id="7677016">error</span><span class="op" id="7677021">)</span>&nbsp;<span class="op" id="7677023">{</span>&nbsp;<span class="keyword" id="7677025">return</span>&nbsp;<span class="ident" id="7677032">readImports</span><span class="op" id="7677043">(</span><span class="ident" id="7677044">r</span><span class="op" id="7677045">,</span>&nbsp;<span class="builtintype" id="7677047">true</span><span class="op" id="7677051">)</span>&nbsp;<span class="op" id="7677053">}</span><span class="op" id="7677054">)</span><br>
<span class="lineno"></span><span class="op" id="7677056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7677059">func</span>&nbsp;<span class="ident" id="7677064">TestReadFailuresIgnored</span><span class="op" id="7677087">(</span><span class="ident" id="7677088">t</span>&nbsp;<span class="op" id="7677090">*</span><span class="ident" id="7677091">testing</span><span class="op" id="7677098">.</span><span class="ident" id="7677099">T</span><span class="op" id="7677100">)</span>&nbsp;<span class="op" id="7677102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7677105">//&nbsp;Syntax&nbsp;errors&nbsp;should&nbsp;not&nbsp;be&nbsp;reported&nbsp;(false&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7677174">//&nbsp;Instead,&nbsp;entire&nbsp;file&nbsp;should&nbsp;be&nbsp;the&nbsp;output&nbsp;and&nbsp;no&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7677234">//&nbsp;Convert&nbsp;tests&nbsp;not&nbsp;to&nbsp;return&nbsp;syntax&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677281">tests</span>&nbsp;<span class="op" id="7677287">:=</span>&nbsp;<span class="builtinfunc" id="7677290">make</span><span class="op" id="7677294">(</span><span class="op" id="7677295">[</span><span class="op" id="7677296">]</span><span class="ident" id="7677297">readTest</span><span class="op" id="7677305">,</span>&nbsp;<span class="builtinfunc" id="7677307">len</span><span class="op" id="7677310">(</span><span class="ident" id="7677311">readFailuresTests</span><span class="op" id="7677328">)</span><span class="op" id="7677329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7677332">copy</span><span class="op" id="7677336">(</span><span class="ident" id="7677337">tests</span><span class="op" id="7677342">,</span>&nbsp;<span class="ident" id="7677344">readFailuresTests</span><span class="op" id="7677361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677364">for</span>&nbsp;<span class="ident" id="7677368">i</span>&nbsp;<span class="op" id="7677370">:=</span>&nbsp;<span class="keyword" id="7677373">range</span>&nbsp;<span class="ident" id="7677379">tests</span>&nbsp;<span class="op" id="7677385">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677389">tt</span>&nbsp;<span class="op" id="7677392">:=</span>&nbsp;<span class="op" id="7677395">&amp;</span><span class="ident" id="7677396">tests</span><span class="op" id="7677401">[</span><span class="ident" id="7677402">i</span><span class="op" id="7677403">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677407">if</span>&nbsp;<span class="op" id="7677410">!</span><span class="ident" id="7677411">strings</span><span class="op" id="7677418">.</span><span class="ident" id="7677419">Contains</span><span class="op" id="7677427">(</span><span class="ident" id="7677428">tt</span><span class="op" id="7677430">.</span><span class="ident" id="7677431">err</span><span class="op" id="7677434">,</span>&nbsp;<span class="string" id="7677436">&#34;NUL&#34;</span><span class="op" id="7677441">)</span>&nbsp;<span class="op" id="7677443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677448">tt</span><span class="op" id="7677450">.</span><span class="ident" id="7677451">err</span>&nbsp;<span class="op" id="7677455">=</span>&nbsp;<span class="string" id="7677457">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677465">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677468">testRead</span><span class="op" id="7677476">(</span><span class="ident" id="7677477">t</span><span class="op" id="7677478">,</span>&nbsp;<span class="ident" id="7677480">tests</span><span class="op" id="7677485">,</span>&nbsp;<span class="keyword" id="7677487">func</span><span class="op" id="7677491">(</span><span class="ident" id="7677492">r</span>&nbsp;<span class="ident" id="7677494">io</span><span class="op" id="7677496">.</span><span class="ident" id="7677497">Reader</span><span class="op" id="7677503">)</span>&nbsp;<span class="op" id="7677505">(</span><span class="op" id="7677506">[</span><span class="op" id="7677507">]</span><span class="builtintype" id="7677508">byte</span><span class="op" id="7677512">,</span>&nbsp;<span class="builtintype" id="7677514">error</span><span class="op" id="7677519">)</span>&nbsp;<span class="op" id="7677521">{</span>&nbsp;<span class="keyword" id="7677523">return</span>&nbsp;<span class="ident" id="7677530">readImports</span><span class="op" id="7677541">(</span><span class="ident" id="7677542">r</span><span class="op" id="7677543">,</span>&nbsp;<span class="builtintype" id="7677545">false</span><span class="op" id="7677550">)</span>&nbsp;<span class="op" id="7677552">}</span><span class="op" id="7677553">)</span><br>
<span class="lineno"></span><span class="op" id="7677555">}</span>
</div>
</body>
</html>
