<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html" class="current">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6750496">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6750551">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6750605">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6750656">package</span>&nbsp;<span class="ident" id="6750664">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6750669">import</span>&nbsp;<span class="op" id="6750676">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6750679">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6750685">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6750696">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6750707">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6750718">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6750725">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6750728">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6750773">func</span>&nbsp;<span class="ident" id="6750778">TestUnmarshalFeed</span><span class="op" id="6750795">(</span><span class="ident" id="6750796">t</span>&nbsp;<span class="op" id="6750798">*</span><span class="ident" id="6750799">testing</span><span class="op" id="6750806">.</span><span class="ident" id="6750807">T</span><span class="op" id="6750808">)</span>&nbsp;<span class="op" id="6750810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6750813">var</span>&nbsp;<span class="ident" id="6750817">f</span>&nbsp;<span class="ident" id="6750819">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6750825">if</span>&nbsp;<span class="ident" id="6750828">err</span>&nbsp;<span class="op" id="6750832">:=</span>&nbsp;<span class="ident" id="6750835">Unmarshal</span><span class="op" id="6750844">(</span><span class="op" id="6750845">[</span><span class="op" id="6750846">]</span><span class="builtintype" id="6750847">byte</span><span class="op" id="6750851">(</span><span class="ident" id="6750852">atomFeedString</span><span class="op" id="6750866">)</span><span class="op" id="6750867">,</span>&nbsp;<span class="op" id="6750869">&amp;</span><span class="ident" id="6750870">f</span><span class="op" id="6750871">)</span><span class="op" id="6750872">;</span>&nbsp;<span class="ident" id="6750874">err</span>&nbsp;<span class="op" id="6750878">!=</span>&nbsp;<span class="ident" id="6750881">nil</span>&nbsp;<span class="op" id="6750885">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6750889">t</span><span class="op" id="6750890">.</span><span class="ident" id="6750891">Fatalf</span><span class="op" id="6750897">(</span><span class="string" id="6750898">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6750913">,</span>&nbsp;<span class="ident" id="6750915">err</span><span class="op" id="6750918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6750921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6750924">if</span>&nbsp;<span class="op" id="6750927">!</span><span class="ident" id="6750928">reflect</span><span class="op" id="6750935">.</span><span class="ident" id="6750936">DeepEqual</span><span class="op" id="6750945">(</span><span class="ident" id="6750946">f</span><span class="op" id="6750947">,</span>&nbsp;<span class="ident" id="6750949">atomFeed</span><span class="op" id="6750957">)</span>&nbsp;<span class="op" id="6750959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6750963">t</span><span class="op" id="6750964">.</span><span class="ident" id="6750965">Fatalf</span><span class="op" id="6750971">(</span><span class="string" id="6750972">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="6750992">,</span>&nbsp;<span class="ident" id="6750994">f</span><span class="op" id="6750995">,</span>&nbsp;<span class="ident" id="6750997">atomFeed</span><span class="op" id="6751005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6751008">}</span><br>
<span class="lineno">25</span><span class="op" id="6751010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6751013">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="6751064">const</span>&nbsp;<span class="ident" id="6751070">atomFeedString</span>&nbsp;<span class="op" id="6751085">=</span>&nbsp;<span class="string" id="6751087">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6754076">type</span>&nbsp;<span class="ident" id="6754081">Feed</span>&nbsp;<span class="keyword" id="6754086">struct</span>&nbsp;<span class="op" id="6754093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754096">XMLName</span>&nbsp;<span class="ident" id="6754104">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754114">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754156">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6754164">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754174">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754189">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6754197">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754207">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754219">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754227">[</span><span class="op" id="6754228">]</span><span class="ident" id="6754229">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754237">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754251">Updated</span>&nbsp;<span class="ident" id="6754259">time</span><span class="op" id="6754263">.</span><span class="ident" id="6754264">Time</span>&nbsp;<span class="string" id="6754269">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754291">Author</span>&nbsp;&nbsp;<span class="ident" id="6754299">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754309">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754325">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6754333">[</span><span class="op" id="6754334">]</span><span class="ident" id="6754335">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6754343">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6754357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6754360">type</span>&nbsp;<span class="ident" id="6754365">Entry</span>&nbsp;<span class="keyword" id="6754371">struct</span>&nbsp;<span class="op" id="6754378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754381">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6754389">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754399">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754414">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6754422">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754432">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754444">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6754452">[</span><span class="op" id="6754453">]</span><span class="ident" id="6754454">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754462">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754476">Updated</span>&nbsp;<span class="ident" id="6754484">time</span><span class="op" id="6754488">.</span><span class="ident" id="6754489">Time</span>&nbsp;<span class="string" id="6754494">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754511">Author</span>&nbsp;&nbsp;<span class="ident" id="6754519">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754529">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754545">Summary</span>&nbsp;<span class="ident" id="6754553">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754563">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="6754579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6754582">type</span>&nbsp;<span class="ident" id="6754587">Link</span>&nbsp;<span class="keyword" id="6754592">struct</span>&nbsp;<span class="op" id="6754599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754602">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="6754607">string</span>&nbsp;<span class="string" id="6754614">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754642">Href</span>&nbsp;<span class="builtintype" id="6754647">string</span>&nbsp;<span class="string" id="6754654">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="6754672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6754675">type</span>&nbsp;<span class="ident" id="6754680">Person</span>&nbsp;<span class="keyword" id="6754687">struct</span>&nbsp;<span class="op" id="6754694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754697">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6754706">string</span>&nbsp;<span class="string" id="6754713">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754727">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6754736">string</span>&nbsp;<span class="string" id="6754743">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754756">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6754765">string</span>&nbsp;<span class="string" id="6754772">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754787">InnerXML</span>&nbsp;<span class="builtintype" id="6754796">string</span>&nbsp;<span class="string" id="6754803">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6754821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6754824">type</span>&nbsp;<span class="ident" id="6754829">Text</span>&nbsp;<span class="keyword" id="6754834">struct</span>&nbsp;<span class="op" id="6754841">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754844">Type</span>&nbsp;<span class="builtintype" id="6754849">string</span>&nbsp;<span class="string" id="6754856">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754885">Body</span>&nbsp;<span class="builtintype" id="6754890">string</span>&nbsp;<span class="string" id="6754897">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6754915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6754918">var</span>&nbsp;<span class="ident" id="6754922">atomFeed</span>&nbsp;<span class="op" id="6754931">=</span>&nbsp;<span class="ident" id="6754933">Feed</span><span class="op" id="6754937">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754940">XMLName</span><span class="op" id="6754947">:</span>&nbsp;<span class="ident" id="6754949">Name</span><span class="op" id="6754953">{</span><span class="string" id="6754954">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="6754983">,</span>&nbsp;<span class="string" id="6754985">&#34;feed&#34;</span><span class="op" id="6754991">}</span><span class="op" id="6754992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6754995">Title</span><span class="op" id="6755000">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6755004">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="6755029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755032">Link</span><span class="op" id="6755036">:</span>&nbsp;<span class="op" id="6755038">[</span><span class="op" id="6755039">]</span><span class="ident" id="6755040">Link</span><span class="op" id="6755044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755048">{</span><span class="ident" id="6755049">Rel</span><span class="op" id="6755052">:</span>&nbsp;<span class="string" id="6755054">&#34;alternate&#34;</span><span class="op" id="6755065">,</span>&nbsp;<span class="ident" id="6755067">Href</span><span class="op" id="6755071">:</span>&nbsp;<span class="string" id="6755073">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="6755105">}</span><span class="op" id="6755106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755110">{</span><span class="ident" id="6755111">Rel</span><span class="op" id="6755114">:</span>&nbsp;<span class="string" id="6755116">&#34;self&#34;</span><span class="op" id="6755122">,</span>&nbsp;<span class="ident" id="6755124">Href</span><span class="op" id="6755128">:</span>&nbsp;<span class="string" id="6755130">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="6755174">}</span><span class="op" id="6755175">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755178">}</span><span class="op" id="6755179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755182">Id</span><span class="op" id="6755184">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6755191">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="6755223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755226">Updated</span><span class="op" id="6755233">:</span>&nbsp;<span class="ident" id="6755235">ParseTime</span><span class="op" id="6755244">(</span><span class="string" id="6755245">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="6755272">)</span><span class="op" id="6755273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755276">Author</span><span class="op" id="6755282">:</span>&nbsp;<span class="ident" id="6755284">Person</span><span class="op" id="6755290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755294">Name</span><span class="op" id="6755298">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6755304">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="6755316">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755320">InnerXML</span><span class="op" id="6755328">:</span>&nbsp;<span class="string" id="6755330">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="6755361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755364">}</span><span class="op" id="6755365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755368">Entry</span><span class="op" id="6755373">:</span>&nbsp;<span class="op" id="6755375">[</span><span class="op" id="6755376">]</span><span class="ident" id="6755377">Entry</span><span class="op" id="6755382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755391">Title</span><span class="op" id="6755396">:</span>&nbsp;<span class="string" id="6755398">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="6755438">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755443">Link</span><span class="op" id="6755447">:</span>&nbsp;<span class="op" id="6755449">[</span><span class="op" id="6755450">]</span><span class="ident" id="6755451">Link</span><span class="op" id="6755455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755461">{</span><span class="ident" id="6755462">Rel</span><span class="op" id="6755465">:</span>&nbsp;<span class="string" id="6755467">&#34;alternate&#34;</span><span class="op" id="6755478">,</span>&nbsp;<span class="ident" id="6755480">Href</span><span class="op" id="6755484">:</span>&nbsp;<span class="string" id="6755486">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="6755524">}</span><span class="op" id="6755525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755530">}</span><span class="op" id="6755531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755536">Updated</span><span class="op" id="6755543">:</span>&nbsp;<span class="ident" id="6755545">ParseTime</span><span class="op" id="6755554">(</span><span class="string" id="6755555">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="6755582">)</span><span class="op" id="6755583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755588">Author</span><span class="op" id="6755594">:</span>&nbsp;<span class="ident" id="6755596">Person</span><span class="op" id="6755602">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755608">Name</span><span class="op" id="6755612">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6755618">&#34;email-address-removed&#34;</span><span class="op" id="6755641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755647">InnerXML</span><span class="op" id="6755655">:</span>&nbsp;<span class="string" id="6755657">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="6755693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6755698">}</span><span class="op" id="6755699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755704">Id</span><span class="op" id="6755706">:</span>&nbsp;<span class="string" id="6755708">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="6755750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755755">Summary</span><span class="op" id="6755762">:</span>&nbsp;<span class="ident" id="6755764">Text</span><span class="op" id="6755768">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755774">Type</span><span class="op" id="6755778">:</span>&nbsp;<span class="string" id="6755780">&#34;html&#34;</span><span class="op" id="6755786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6755792">Body</span><span class="op" id="6755796">:</span>&nbsp;<span class="string" id="6755798">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="6757030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757035">}</span><span class="op" id="6757036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757040">}</span><span class="op" id="6757041">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757050">Title</span><span class="op" id="6757055">:</span>&nbsp;<span class="string" id="6757057">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="6757091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757096">Link</span><span class="op" id="6757100">:</span>&nbsp;<span class="op" id="6757102">[</span><span class="op" id="6757103">]</span><span class="ident" id="6757104">Link</span><span class="op" id="6757108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757114">{</span><span class="ident" id="6757115">Rel</span><span class="op" id="6757118">:</span>&nbsp;<span class="string" id="6757120">&#34;alternate&#34;</span><span class="op" id="6757131">,</span>&nbsp;<span class="ident" id="6757133">Href</span><span class="op" id="6757137">:</span>&nbsp;<span class="string" id="6757139">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="6757177">}</span><span class="op" id="6757178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757183">}</span><span class="op" id="6757184">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757189">Updated</span><span class="op" id="6757196">:</span>&nbsp;<span class="ident" id="6757198">ParseTime</span><span class="op" id="6757207">(</span><span class="string" id="6757208">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="6757235">)</span><span class="op" id="6757236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757241">Author</span><span class="op" id="6757247">:</span>&nbsp;<span class="ident" id="6757249">Person</span><span class="op" id="6757255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757261">Name</span><span class="op" id="6757265">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6757271">&#34;email-address-removed&#34;</span><span class="op" id="6757294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757300">InnerXML</span><span class="op" id="6757308">:</span>&nbsp;<span class="string" id="6757310">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="6757346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757351">}</span><span class="op" id="6757352">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757357">Id</span><span class="op" id="6757359">:</span>&nbsp;<span class="string" id="6757361">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="6757403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757408">Summary</span><span class="op" id="6757415">:</span>&nbsp;<span class="ident" id="6757417">Text</span><span class="op" id="6757421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757427">Type</span><span class="op" id="6757431">:</span>&nbsp;<span class="string" id="6757433">&#34;html&#34;</span><span class="op" id="6757439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757445">Body</span><span class="op" id="6757449">:</span>&nbsp;<span class="string" id="6757451">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="6758129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758134">}</span><span class="op" id="6758135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758139">}</span><span class="op" id="6758140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758143">}</span><span class="op" id="6758144">,</span><br>
<span class="lineno">215</span><span class="op" id="6758146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758149">const</span>&nbsp;<span class="ident" id="6758155">pathTestString</span>&nbsp;<span class="op" id="6758170">=</span>&nbsp;<span class="string" id="6758172">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758534">type</span>&nbsp;<span class="ident" id="6758539">PathTestItem</span>&nbsp;<span class="keyword" id="6758552">struct</span>&nbsp;<span class="op" id="6758559">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758562">Value</span>&nbsp;<span class="builtintype" id="6758568">string</span><br>
<span class="lineno"></span><span class="op" id="6758575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758578">type</span>&nbsp;<span class="ident" id="6758583">PathTestA</span>&nbsp;<span class="keyword" id="6758593">struct</span>&nbsp;<span class="op" id="6758600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758603">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758617">[</span><span class="op" id="6758618">]</span><span class="ident" id="6758619">PathTestItem</span>&nbsp;<span class="string" id="6758632">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758648">Before</span><span class="op" id="6758654">,</span>&nbsp;<span class="ident" id="6758656">After</span>&nbsp;<span class="builtintype" id="6758662">string</span><br>
<span class="lineno"></span><span class="op" id="6758669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758672">type</span>&nbsp;<span class="ident" id="6758677">PathTestB</span>&nbsp;<span class="keyword" id="6758687">struct</span>&nbsp;<span class="op" id="6758694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758697">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758711">[</span><span class="op" id="6758712">]</span><span class="ident" id="6758713">PathTestItem</span>&nbsp;<span class="string" id="6758726">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758747">Before</span><span class="op" id="6758753">,</span>&nbsp;<span class="ident" id="6758755">After</span>&nbsp;<span class="builtintype" id="6758761">string</span><br>
<span class="lineno"></span><span class="op" id="6758768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758771">type</span>&nbsp;<span class="ident" id="6758776">PathTestC</span>&nbsp;<span class="keyword" id="6758786">struct</span>&nbsp;<span class="op" id="6758793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758796">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758810">[</span><span class="op" id="6758811">]</span><span class="builtintype" id="6758812">string</span>&nbsp;<span class="string" id="6758819">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758846">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6758860">[</span><span class="op" id="6758861">]</span><span class="builtintype" id="6758862">string</span>&nbsp;<span class="string" id="6758869">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758896">Before</span><span class="op" id="6758902">,</span>&nbsp;<span class="ident" id="6758904">After</span>&nbsp;<span class="builtintype" id="6758910">string</span><br>
<span class="lineno"></span><span class="op" id="6758917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758920">type</span>&nbsp;<span class="ident" id="6758925">PathTestSet</span>&nbsp;<span class="keyword" id="6758937">struct</span>&nbsp;<span class="op" id="6758944">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758947">Item1</span>&nbsp;<span class="op" id="6758953">[</span><span class="op" id="6758954">]</span><span class="ident" id="6758955">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="6758968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758971">type</span>&nbsp;<span class="ident" id="6758976">PathTestD</span>&nbsp;<span class="keyword" id="6758986">struct</span>&nbsp;<span class="op" id="6758993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6758996">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759010">PathTestSet</span>&nbsp;<span class="string" id="6759022">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759037">Before</span><span class="op" id="6759043">,</span>&nbsp;<span class="ident" id="6759045">After</span>&nbsp;<span class="builtintype" id="6759051">string</span><br>
<span class="lineno"></span><span class="op" id="6759058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6759061">type</span>&nbsp;<span class="ident" id="6759066">PathTestE</span>&nbsp;<span class="keyword" id="6759076">struct</span>&nbsp;<span class="op" id="6759083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759086">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6759100">string</span>&nbsp;<span class="string" id="6759107">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759130">Before</span><span class="op" id="6759136">,</span>&nbsp;<span class="ident" id="6759138">After</span>&nbsp;<span class="builtintype" id="6759144">string</span><br>
<span class="lineno"></span><span class="op" id="6759151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6759154">var</span>&nbsp;<span class="ident" id="6759158">pathTests</span>&nbsp;<span class="op" id="6759168">=</span>&nbsp;<span class="op" id="6759170">[</span><span class="op" id="6759171">]</span><span class="keyword" id="6759172">interface</span><span class="op" id="6759181">{</span><span class="op" id="6759182">}</span><span class="op" id="6759183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759186">&amp;</span><span class="ident" id="6759187">PathTestA</span><span class="op" id="6759196">{</span><span class="ident" id="6759197">Items</span><span class="op" id="6759202">:</span>&nbsp;<span class="op" id="6759204">[</span><span class="op" id="6759205">]</span><span class="ident" id="6759206">PathTestItem</span><span class="op" id="6759218">{</span><span class="op" id="6759219">{</span><span class="string" id="6759220">&#34;A&#34;</span><span class="op" id="6759223">}</span><span class="op" id="6759224">,</span>&nbsp;<span class="op" id="6759226">{</span><span class="string" id="6759227">&#34;D&#34;</span><span class="op" id="6759230">}</span><span class="op" id="6759231">}</span><span class="op" id="6759232">,</span>&nbsp;<span class="ident" id="6759234">Before</span><span class="op" id="6759240">:</span>&nbsp;<span class="string" id="6759242">&#34;1&#34;</span><span class="op" id="6759245">,</span>&nbsp;<span class="ident" id="6759247">After</span><span class="op" id="6759252">:</span>&nbsp;<span class="string" id="6759254">&#34;2&#34;</span><span class="op" id="6759257">}</span><span class="op" id="6759258">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759261">&amp;</span><span class="ident" id="6759262">PathTestB</span><span class="op" id="6759271">{</span><span class="ident" id="6759272">Other</span><span class="op" id="6759277">:</span>&nbsp;<span class="op" id="6759279">[</span><span class="op" id="6759280">]</span><span class="ident" id="6759281">PathTestItem</span><span class="op" id="6759293">{</span><span class="op" id="6759294">{</span><span class="string" id="6759295">&#34;A&#34;</span><span class="op" id="6759298">}</span><span class="op" id="6759299">,</span>&nbsp;<span class="op" id="6759301">{</span><span class="string" id="6759302">&#34;D&#34;</span><span class="op" id="6759305">}</span><span class="op" id="6759306">}</span><span class="op" id="6759307">,</span>&nbsp;<span class="ident" id="6759309">Before</span><span class="op" id="6759315">:</span>&nbsp;<span class="string" id="6759317">&#34;1&#34;</span><span class="op" id="6759320">,</span>&nbsp;<span class="ident" id="6759322">After</span><span class="op" id="6759327">:</span>&nbsp;<span class="string" id="6759329">&#34;2&#34;</span><span class="op" id="6759332">}</span><span class="op" id="6759333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759336">&amp;</span><span class="ident" id="6759337">PathTestC</span><span class="op" id="6759346">{</span><span class="ident" id="6759347">Values1</span><span class="op" id="6759354">:</span>&nbsp;<span class="op" id="6759356">[</span><span class="op" id="6759357">]</span><span class="builtintype" id="6759358">string</span><span class="op" id="6759364">{</span><span class="string" id="6759365">&#34;A&#34;</span><span class="op" id="6759368">,</span>&nbsp;<span class="string" id="6759370">&#34;C&#34;</span><span class="op" id="6759373">,</span>&nbsp;<span class="string" id="6759375">&#34;D&#34;</span><span class="op" id="6759378">}</span><span class="op" id="6759379">,</span>&nbsp;<span class="ident" id="6759381">Values2</span><span class="op" id="6759388">:</span>&nbsp;<span class="op" id="6759390">[</span><span class="op" id="6759391">]</span><span class="builtintype" id="6759392">string</span><span class="op" id="6759398">{</span><span class="string" id="6759399">&#34;B&#34;</span><span class="op" id="6759402">}</span><span class="op" id="6759403">,</span>&nbsp;<span class="ident" id="6759405">Before</span><span class="op" id="6759411">:</span>&nbsp;<span class="string" id="6759413">&#34;1&#34;</span><span class="op" id="6759416">,</span>&nbsp;<span class="ident" id="6759418">After</span><span class="op" id="6759423">:</span>&nbsp;<span class="string" id="6759425">&#34;2&#34;</span><span class="op" id="6759428">}</span><span class="op" id="6759429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759432">&amp;</span><span class="ident" id="6759433">PathTestD</span><span class="op" id="6759442">{</span><span class="ident" id="6759443">Other</span><span class="op" id="6759448">:</span>&nbsp;<span class="ident" id="6759450">PathTestSet</span><span class="op" id="6759461">{</span><span class="ident" id="6759462">Item1</span><span class="op" id="6759467">:</span>&nbsp;<span class="op" id="6759469">[</span><span class="op" id="6759470">]</span><span class="ident" id="6759471">PathTestItem</span><span class="op" id="6759483">{</span><span class="op" id="6759484">{</span><span class="string" id="6759485">&#34;A&#34;</span><span class="op" id="6759488">}</span><span class="op" id="6759489">,</span>&nbsp;<span class="op" id="6759491">{</span><span class="string" id="6759492">&#34;D&#34;</span><span class="op" id="6759495">}</span><span class="op" id="6759496">}</span><span class="op" id="6759497">}</span><span class="op" id="6759498">,</span>&nbsp;<span class="ident" id="6759500">Before</span><span class="op" id="6759506">:</span>&nbsp;<span class="string" id="6759508">&#34;1&#34;</span><span class="op" id="6759511">,</span>&nbsp;<span class="ident" id="6759513">After</span><span class="op" id="6759518">:</span>&nbsp;<span class="string" id="6759520">&#34;2&#34;</span><span class="op" id="6759523">}</span><span class="op" id="6759524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759527">&amp;</span><span class="ident" id="6759528">PathTestE</span><span class="op" id="6759537">{</span><span class="ident" id="6759538">Underline</span><span class="op" id="6759547">:</span>&nbsp;<span class="string" id="6759549">&#34;E&#34;</span><span class="op" id="6759552">,</span>&nbsp;<span class="ident" id="6759554">Before</span><span class="op" id="6759560">:</span>&nbsp;<span class="string" id="6759562">&#34;1&#34;</span><span class="op" id="6759565">,</span>&nbsp;<span class="ident" id="6759567">After</span><span class="op" id="6759572">:</span>&nbsp;<span class="string" id="6759574">&#34;2&#34;</span><span class="op" id="6759577">}</span><span class="op" id="6759578">,</span><br>
<span class="lineno"></span><span class="op" id="6759580">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6759583">func</span>&nbsp;<span class="ident" id="6759588">TestUnmarshalPaths</span><span class="op" id="6759606">(</span><span class="ident" id="6759607">t</span>&nbsp;<span class="op" id="6759609">*</span><span class="ident" id="6759610">testing</span><span class="op" id="6759617">.</span><span class="ident" id="6759618">T</span><span class="op" id="6759619">)</span>&nbsp;<span class="op" id="6759621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759624">for</span>&nbsp;<span class="ident" id="6759628">_</span><span class="op" id="6759629">,</span>&nbsp;<span class="ident" id="6759631">pt</span>&nbsp;<span class="op" id="6759634">:=</span>&nbsp;<span class="keyword" id="6759637">range</span>&nbsp;<span class="ident" id="6759643">pathTests</span>&nbsp;<span class="op" id="6759653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759657">v</span>&nbsp;<span class="op" id="6759659">:=</span>&nbsp;<span class="ident" id="6759662">reflect</span><span class="op" id="6759669">.</span><span class="ident" id="6759670">New</span><span class="op" id="6759673">(</span><span class="ident" id="6759674">reflect</span><span class="op" id="6759681">.</span><span class="ident" id="6759682">TypeOf</span><span class="op" id="6759688">(</span><span class="ident" id="6759689">pt</span><span class="op" id="6759691">)</span><span class="op" id="6759692">.</span><span class="ident" id="6759693">Elem</span><span class="op" id="6759697">(</span><span class="op" id="6759698">)</span><span class="op" id="6759699">)</span><span class="op" id="6759700">.</span><span class="ident" id="6759701">Interface</span><span class="op" id="6759710">(</span><span class="op" id="6759711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759715">if</span>&nbsp;<span class="ident" id="6759718">err</span>&nbsp;<span class="op" id="6759722">:=</span>&nbsp;<span class="ident" id="6759725">Unmarshal</span><span class="op" id="6759734">(</span><span class="op" id="6759735">[</span><span class="op" id="6759736">]</span><span class="builtintype" id="6759737">byte</span><span class="op" id="6759741">(</span><span class="ident" id="6759742">pathTestString</span><span class="op" id="6759756">)</span><span class="op" id="6759757">,</span>&nbsp;<span class="ident" id="6759759">v</span><span class="op" id="6759760">)</span><span class="op" id="6759761">;</span>&nbsp;<span class="ident" id="6759763">err</span>&nbsp;<span class="op" id="6759767">!=</span>&nbsp;<span class="ident" id="6759770">nil</span>&nbsp;<span class="op" id="6759774">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759779">t</span><span class="op" id="6759780">.</span><span class="ident" id="6759781">Fatalf</span><span class="op" id="6759787">(</span><span class="string" id="6759788">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6759803">,</span>&nbsp;<span class="ident" id="6759805">err</span><span class="op" id="6759808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6759816">if</span>&nbsp;<span class="op" id="6759819">!</span><span class="ident" id="6759820">reflect</span><span class="op" id="6759827">.</span><span class="ident" id="6759828">DeepEqual</span><span class="op" id="6759837">(</span><span class="ident" id="6759838">v</span><span class="op" id="6759839">,</span>&nbsp;<span class="ident" id="6759841">pt</span><span class="op" id="6759843">)</span>&nbsp;<span class="op" id="6759845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759850">t</span><span class="op" id="6759851">.</span><span class="ident" id="6759852">Fatalf</span><span class="op" id="6759858">(</span><span class="string" id="6759859">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="6759879">,</span>&nbsp;<span class="ident" id="6759881">v</span><span class="op" id="6759882">,</span>&nbsp;<span class="ident" id="6759884">pt</span><span class="op" id="6759886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759890">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6759893">}</span><br>
<span class="lineno"></span><span class="op" id="6759895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6759898">type</span>&nbsp;<span class="ident" id="6759903">BadPathTestA</span>&nbsp;<span class="keyword" id="6759916">struct</span>&nbsp;<span class="op" id="6759923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759926">First</span>&nbsp;&nbsp;<span class="builtintype" id="6759933">string</span>&nbsp;<span class="string" id="6759940">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759961">Other</span>&nbsp;&nbsp;<span class="builtintype" id="6759968">string</span>&nbsp;<span class="string" id="6759975">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6759996">Second</span>&nbsp;<span class="builtintype" id="6760003">string</span>&nbsp;<span class="string" id="6760010">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6760024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6760027">type</span>&nbsp;<span class="ident" id="6760032">BadPathTestB</span>&nbsp;<span class="keyword" id="6760045">struct</span>&nbsp;<span class="op" id="6760052">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760055">Other</span>&nbsp;&nbsp;<span class="builtintype" id="6760062">string</span>&nbsp;<span class="string" id="6760069">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760096">First</span>&nbsp;&nbsp;<span class="builtintype" id="6760103">string</span>&nbsp;<span class="string" id="6760110">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760131">Second</span>&nbsp;<span class="builtintype" id="6760138">string</span>&nbsp;<span class="string" id="6760145">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6760171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="6760174">type</span>&nbsp;<span class="ident" id="6760179">BadPathTestC</span>&nbsp;<span class="keyword" id="6760192">struct</span>&nbsp;<span class="op" id="6760199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760202">First</span>&nbsp;&nbsp;<span class="builtintype" id="6760209">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760217">Second</span>&nbsp;<span class="builtintype" id="6760224">string</span>&nbsp;<span class="string" id="6760231">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6760245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="6760248">type</span>&nbsp;<span class="ident" id="6760253">BadPathTestD</span>&nbsp;<span class="keyword" id="6760266">struct</span>&nbsp;<span class="op" id="6760273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760276">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760294">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="6760311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="6760314">type</span>&nbsp;<span class="ident" id="6760319">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="6760336">struct</span>&nbsp;<span class="op" id="6760343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760346">First</span>&nbsp;<span class="builtintype" id="6760352">string</span><br>
<span class="lineno"></span><span class="op" id="6760359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6760362">type</span>&nbsp;<span class="ident" id="6760367">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="6760384">struct</span>&nbsp;<span class="op" id="6760391">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760394">Second</span>&nbsp;<span class="builtintype" id="6760401">string</span>&nbsp;<span class="string" id="6760408">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6760422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6760425">var</span>&nbsp;<span class="ident" id="6760429">badPathTests</span>&nbsp;<span class="op" id="6760442">=</span>&nbsp;<span class="op" id="6760444">[</span><span class="op" id="6760445">]</span><span class="keyword" id="6760446">struct</span>&nbsp;<span class="op" id="6760453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760456">v</span><span class="op" id="6760457">,</span>&nbsp;<span class="ident" id="6760459">e</span>&nbsp;<span class="keyword" id="6760461">interface</span><span class="op" id="6760470">{</span><span class="op" id="6760471">}</span><br>
<span class="lineno">325</span><span class="op" id="6760473">}</span><span class="op" id="6760474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760477">{</span><span class="op" id="6760478">&amp;</span><span class="ident" id="6760479">BadPathTestA</span><span class="op" id="6760491">{</span><span class="op" id="6760492">}</span><span class="op" id="6760493">,</span>&nbsp;<span class="op" id="6760495">&amp;</span><span class="ident" id="6760496">TagPathError</span><span class="op" id="6760508">{</span><span class="ident" id="6760509">reflect</span><span class="op" id="6760516">.</span><span class="ident" id="6760517">TypeOf</span><span class="op" id="6760523">(</span><span class="ident" id="6760524">BadPathTestA</span><span class="op" id="6760536">{</span><span class="op" id="6760537">}</span><span class="op" id="6760538">)</span><span class="op" id="6760539">,</span>&nbsp;<span class="string" id="6760541">&#34;First&#34;</span><span class="op" id="6760548">,</span>&nbsp;<span class="string" id="6760550">&#34;items&gt;item1&#34;</span><span class="op" id="6760563">,</span>&nbsp;<span class="string" id="6760565">&#34;Second&#34;</span><span class="op" id="6760573">,</span>&nbsp;<span class="string" id="6760575">&#34;items&#34;</span><span class="op" id="6760582">}</span><span class="op" id="6760583">}</span><span class="op" id="6760584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760587">{</span><span class="op" id="6760588">&amp;</span><span class="ident" id="6760589">BadPathTestB</span><span class="op" id="6760601">{</span><span class="op" id="6760602">}</span><span class="op" id="6760603">,</span>&nbsp;<span class="op" id="6760605">&amp;</span><span class="ident" id="6760606">TagPathError</span><span class="op" id="6760618">{</span><span class="ident" id="6760619">reflect</span><span class="op" id="6760626">.</span><span class="ident" id="6760627">TypeOf</span><span class="op" id="6760633">(</span><span class="ident" id="6760634">BadPathTestB</span><span class="op" id="6760646">{</span><span class="op" id="6760647">}</span><span class="op" id="6760648">)</span><span class="op" id="6760649">,</span>&nbsp;<span class="string" id="6760651">&#34;First&#34;</span><span class="op" id="6760658">,</span>&nbsp;<span class="string" id="6760660">&#34;items&gt;item1&#34;</span><span class="op" id="6760673">,</span>&nbsp;<span class="string" id="6760675">&#34;Second&#34;</span><span class="op" id="6760683">,</span>&nbsp;<span class="string" id="6760685">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="6760704">}</span><span class="op" id="6760705">}</span><span class="op" id="6760706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760709">{</span><span class="op" id="6760710">&amp;</span><span class="ident" id="6760711">BadPathTestC</span><span class="op" id="6760723">{</span><span class="op" id="6760724">}</span><span class="op" id="6760725">,</span>&nbsp;<span class="op" id="6760727">&amp;</span><span class="ident" id="6760728">TagPathError</span><span class="op" id="6760740">{</span><span class="ident" id="6760741">reflect</span><span class="op" id="6760748">.</span><span class="ident" id="6760749">TypeOf</span><span class="op" id="6760755">(</span><span class="ident" id="6760756">BadPathTestC</span><span class="op" id="6760768">{</span><span class="op" id="6760769">}</span><span class="op" id="6760770">)</span><span class="op" id="6760771">,</span>&nbsp;<span class="string" id="6760773">&#34;First&#34;</span><span class="op" id="6760780">,</span>&nbsp;<span class="string" id="6760782">&#34;&#34;</span><span class="op" id="6760784">,</span>&nbsp;<span class="string" id="6760786">&#34;Second&#34;</span><span class="op" id="6760794">,</span>&nbsp;<span class="string" id="6760796">&#34;First&#34;</span><span class="op" id="6760803">}</span><span class="op" id="6760804">}</span><span class="op" id="6760805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6760808">{</span><span class="op" id="6760809">&amp;</span><span class="ident" id="6760810">BadPathTestD</span><span class="op" id="6760822">{</span><span class="op" id="6760823">}</span><span class="op" id="6760824">,</span>&nbsp;<span class="op" id="6760826">&amp;</span><span class="ident" id="6760827">TagPathError</span><span class="op" id="6760839">{</span><span class="ident" id="6760840">reflect</span><span class="op" id="6760847">.</span><span class="ident" id="6760848">TypeOf</span><span class="op" id="6760854">(</span><span class="ident" id="6760855">BadPathTestD</span><span class="op" id="6760867">{</span><span class="op" id="6760868">}</span><span class="op" id="6760869">)</span><span class="op" id="6760870">,</span>&nbsp;<span class="string" id="6760872">&#34;First&#34;</span><span class="op" id="6760879">,</span>&nbsp;<span class="string" id="6760881">&#34;&#34;</span><span class="op" id="6760883">,</span>&nbsp;<span class="string" id="6760885">&#34;Second&#34;</span><span class="op" id="6760893">,</span>&nbsp;<span class="string" id="6760895">&#34;First&#34;</span><span class="op" id="6760902">}</span><span class="op" id="6760903">}</span><span class="op" id="6760904">,</span><br>
<span class="lineno">330</span><span class="op" id="6760906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6760909">func</span>&nbsp;<span class="ident" id="6760914">TestUnmarshalBadPaths</span><span class="op" id="6760935">(</span><span class="ident" id="6760936">t</span>&nbsp;<span class="op" id="6760938">*</span><span class="ident" id="6760939">testing</span><span class="op" id="6760946">.</span><span class="ident" id="6760947">T</span><span class="op" id="6760948">)</span>&nbsp;<span class="op" id="6760950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6760953">for</span>&nbsp;<span class="ident" id="6760957">_</span><span class="op" id="6760958">,</span>&nbsp;<span class="ident" id="6760960">tt</span>&nbsp;<span class="op" id="6760963">:=</span>&nbsp;<span class="keyword" id="6760966">range</span>&nbsp;<span class="ident" id="6760972">badPathTests</span>&nbsp;<span class="op" id="6760985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6760989">err</span>&nbsp;<span class="op" id="6760993">:=</span>&nbsp;<span class="ident" id="6760996">Unmarshal</span><span class="op" id="6761005">(</span><span class="op" id="6761006">[</span><span class="op" id="6761007">]</span><span class="builtintype" id="6761008">byte</span><span class="op" id="6761012">(</span><span class="ident" id="6761013">pathTestString</span><span class="op" id="6761027">)</span><span class="op" id="6761028">,</span>&nbsp;<span class="ident" id="6761030">tt</span><span class="op" id="6761032">.</span><span class="ident" id="6761033">v</span><span class="op" id="6761034">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761038">if</span>&nbsp;<span class="op" id="6761041">!</span><span class="ident" id="6761042">reflect</span><span class="op" id="6761049">.</span><span class="ident" id="6761050">DeepEqual</span><span class="op" id="6761059">(</span><span class="ident" id="6761060">err</span><span class="op" id="6761063">,</span>&nbsp;<span class="ident" id="6761065">tt</span><span class="op" id="6761067">.</span><span class="ident" id="6761068">e</span><span class="op" id="6761069">)</span>&nbsp;<span class="op" id="6761071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761076">t</span><span class="op" id="6761077">.</span><span class="ident" id="6761078">Fatalf</span><span class="op" id="6761084">(</span><span class="string" id="6761085">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="6761148">,</span>&nbsp;<span class="ident" id="6761150">tt</span><span class="op" id="6761152">.</span><span class="ident" id="6761153">v</span><span class="op" id="6761154">,</span>&nbsp;<span class="ident" id="6761156">err</span><span class="op" id="6761159">,</span>&nbsp;<span class="ident" id="6761161">tt</span><span class="op" id="6761163">.</span><span class="ident" id="6761164">e</span><span class="op" id="6761165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761172">}</span><br>
<span class="lineno"></span><span class="op" id="6761174">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="6761177">const</span>&nbsp;<span class="ident" id="6761183">OK</span>&nbsp;<span class="op" id="6761186">=</span>&nbsp;<span class="string" id="6761188">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="6761193">const</span>&nbsp;<span class="ident" id="6761199">withoutNameTypeData</span>&nbsp;<span class="op" id="6761219">=</span>&nbsp;<span class="string" id="6761221">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="6761283">type</span>&nbsp;<span class="ident" id="6761288">TestThree</span>&nbsp;<span class="keyword" id="6761298">struct</span>&nbsp;<span class="op" id="6761305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761308">XMLName</span>&nbsp;<span class="ident" id="6761316">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6761323">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761338">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6761346">string</span>&nbsp;<span class="string" id="6761353">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6761367">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="6761370">func</span>&nbsp;<span class="ident" id="6761375">TestUnmarshalWithoutNameType</span><span class="op" id="6761403">(</span><span class="ident" id="6761404">t</span>&nbsp;<span class="op" id="6761406">*</span><span class="ident" id="6761407">testing</span><span class="op" id="6761414">.</span><span class="ident" id="6761415">T</span><span class="op" id="6761416">)</span>&nbsp;<span class="op" id="6761418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761421">var</span>&nbsp;<span class="ident" id="6761425">x</span>&nbsp;<span class="ident" id="6761427">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761438">if</span>&nbsp;<span class="ident" id="6761441">err</span>&nbsp;<span class="op" id="6761445">:=</span>&nbsp;<span class="ident" id="6761448">Unmarshal</span><span class="op" id="6761457">(</span><span class="op" id="6761458">[</span><span class="op" id="6761459">]</span><span class="builtintype" id="6761460">byte</span><span class="op" id="6761464">(</span><span class="ident" id="6761465">withoutNameTypeData</span><span class="op" id="6761484">)</span><span class="op" id="6761485">,</span>&nbsp;<span class="op" id="6761487">&amp;</span><span class="ident" id="6761488">x</span><span class="op" id="6761489">)</span><span class="op" id="6761490">;</span>&nbsp;<span class="ident" id="6761492">err</span>&nbsp;<span class="op" id="6761496">!=</span>&nbsp;<span class="ident" id="6761499">nil</span>&nbsp;<span class="op" id="6761503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761507">t</span><span class="op" id="6761508">.</span><span class="ident" id="6761509">Fatalf</span><span class="op" id="6761515">(</span><span class="string" id="6761516">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6761531">,</span>&nbsp;<span class="ident" id="6761533">err</span><span class="op" id="6761536">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761542">if</span>&nbsp;<span class="ident" id="6761545">x</span><span class="op" id="6761546">.</span><span class="ident" id="6761547">Attr</span>&nbsp;<span class="op" id="6761552">!=</span>&nbsp;<span class="ident" id="6761555">OK</span>&nbsp;<span class="op" id="6761558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761562">t</span><span class="op" id="6761563">.</span><span class="ident" id="6761564">Fatalf</span><span class="op" id="6761570">(</span><span class="string" id="6761571">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="6761589">,</span>&nbsp;<span class="ident" id="6761591">x</span><span class="op" id="6761592">.</span><span class="ident" id="6761593">Attr</span><span class="op" id="6761597">,</span>&nbsp;<span class="ident" id="6761599">OK</span><span class="op" id="6761601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761604">}</span><br>
<span class="lineno"></span><span class="op" id="6761606">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="6761609">func</span>&nbsp;<span class="ident" id="6761614">TestUnmarshalAttr</span><span class="op" id="6761631">(</span><span class="ident" id="6761632">t</span>&nbsp;<span class="op" id="6761634">*</span><span class="ident" id="6761635">testing</span><span class="op" id="6761642">.</span><span class="ident" id="6761643">T</span><span class="op" id="6761644">)</span>&nbsp;<span class="op" id="6761646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761649">type</span>&nbsp;<span class="ident" id="6761654">ParamVal</span>&nbsp;<span class="keyword" id="6761663">struct</span>&nbsp;<span class="op" id="6761670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761674">Int</span>&nbsp;<span class="builtintype" id="6761678">int</span>&nbsp;<span class="string" id="6761682">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761700">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761704">type</span>&nbsp;<span class="ident" id="6761709">ParamPtr</span>&nbsp;<span class="keyword" id="6761718">struct</span>&nbsp;<span class="op" id="6761725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761729">Int</span>&nbsp;<span class="op" id="6761733">*</span><span class="builtintype" id="6761734">int</span>&nbsp;<span class="string" id="6761738">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761760">type</span>&nbsp;<span class="ident" id="6761765">ParamStringPtr</span>&nbsp;<span class="keyword" id="6761780">struct</span>&nbsp;<span class="op" id="6761787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761791">Int</span>&nbsp;<span class="op" id="6761795">*</span><span class="builtintype" id="6761796">string</span>&nbsp;<span class="string" id="6761803">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761825">x</span>&nbsp;<span class="op" id="6761827">:=</span>&nbsp;<span class="op" id="6761830">[</span><span class="op" id="6761831">]</span><span class="builtintype" id="6761832">byte</span><span class="op" id="6761836">(</span><span class="string" id="6761837">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="6761856">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761860">p1</span>&nbsp;<span class="op" id="6761863">:=</span>&nbsp;<span class="op" id="6761866">&amp;</span><span class="ident" id="6761867">ParamPtr</span><span class="op" id="6761875">{</span><span class="op" id="6761876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761879">if</span>&nbsp;<span class="ident" id="6761882">err</span>&nbsp;<span class="op" id="6761886">:=</span>&nbsp;<span class="ident" id="6761889">Unmarshal</span><span class="op" id="6761898">(</span><span class="ident" id="6761899">x</span><span class="op" id="6761900">,</span>&nbsp;<span class="ident" id="6761902">p1</span><span class="op" id="6761904">)</span><span class="op" id="6761905">;</span>&nbsp;<span class="ident" id="6761907">err</span>&nbsp;<span class="op" id="6761911">!=</span>&nbsp;<span class="ident" id="6761914">nil</span>&nbsp;<span class="op" id="6761918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761922">t</span><span class="op" id="6761923">.</span><span class="ident" id="6761924">Fatalf</span><span class="op" id="6761930">(</span><span class="string" id="6761931">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6761946">,</span>&nbsp;<span class="ident" id="6761948">err</span><span class="op" id="6761951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6761954">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6761957">if</span>&nbsp;<span class="ident" id="6761960">p1</span><span class="op" id="6761962">.</span><span class="ident" id="6761963">Int</span>&nbsp;<span class="op" id="6761967">==</span>&nbsp;<span class="ident" id="6761970">nil</span>&nbsp;<span class="op" id="6761974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6761978">t</span><span class="op" id="6761979">.</span><span class="ident" id="6761980">Fatalf</span><span class="op" id="6761986">(</span><span class="string" id="6761987">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="6762022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762025">}</span>&nbsp;<span class="keyword" id="6762027">else</span>&nbsp;<span class="keyword" id="6762032">if</span>&nbsp;<span class="op" id="6762035">*</span><span class="ident" id="6762036">p1</span><span class="op" id="6762038">.</span><span class="ident" id="6762039">Int</span>&nbsp;<span class="op" id="6762043">!=</span>&nbsp;<span class="num" id="6762046">1</span>&nbsp;<span class="op" id="6762048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762052">t</span><span class="op" id="6762053">.</span><span class="ident" id="6762054">Fatalf</span><span class="op" id="6762060">(</span><span class="string" id="6762061">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6762110">,</span>&nbsp;<span class="ident" id="6762112">x</span><span class="op" id="6762113">,</span>&nbsp;<span class="ident" id="6762115">p1</span><span class="op" id="6762117">.</span><span class="ident" id="6762118">Int</span><span class="op" id="6762121">,</span>&nbsp;<span class="num" id="6762123">1</span><span class="op" id="6762124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762127">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762131">p2</span>&nbsp;<span class="op" id="6762134">:=</span>&nbsp;<span class="op" id="6762137">&amp;</span><span class="ident" id="6762138">ParamVal</span><span class="op" id="6762146">{</span><span class="op" id="6762147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762150">if</span>&nbsp;<span class="ident" id="6762153">err</span>&nbsp;<span class="op" id="6762157">:=</span>&nbsp;<span class="ident" id="6762160">Unmarshal</span><span class="op" id="6762169">(</span><span class="ident" id="6762170">x</span><span class="op" id="6762171">,</span>&nbsp;<span class="ident" id="6762173">p2</span><span class="op" id="6762175">)</span><span class="op" id="6762176">;</span>&nbsp;<span class="ident" id="6762178">err</span>&nbsp;<span class="op" id="6762182">!=</span>&nbsp;<span class="ident" id="6762185">nil</span>&nbsp;<span class="op" id="6762189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762193">t</span><span class="op" id="6762194">.</span><span class="ident" id="6762195">Fatalf</span><span class="op" id="6762201">(</span><span class="string" id="6762202">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6762217">,</span>&nbsp;<span class="ident" id="6762219">err</span><span class="op" id="6762222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762225">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762228">if</span>&nbsp;<span class="ident" id="6762231">p2</span><span class="op" id="6762233">.</span><span class="ident" id="6762234">Int</span>&nbsp;<span class="op" id="6762238">!=</span>&nbsp;<span class="num" id="6762241">1</span>&nbsp;<span class="op" id="6762243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762247">t</span><span class="op" id="6762248">.</span><span class="ident" id="6762249">Fatalf</span><span class="op" id="6762255">(</span><span class="string" id="6762256">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6762305">,</span>&nbsp;<span class="ident" id="6762307">x</span><span class="op" id="6762308">,</span>&nbsp;<span class="ident" id="6762310">p2</span><span class="op" id="6762312">.</span><span class="ident" id="6762313">Int</span><span class="op" id="6762316">,</span>&nbsp;<span class="num" id="6762318">1</span><span class="op" id="6762319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762326">p3</span>&nbsp;<span class="op" id="6762329">:=</span>&nbsp;<span class="op" id="6762332">&amp;</span><span class="ident" id="6762333">ParamStringPtr</span><span class="op" id="6762347">{</span><span class="op" id="6762348">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762351">if</span>&nbsp;<span class="ident" id="6762354">err</span>&nbsp;<span class="op" id="6762358">:=</span>&nbsp;<span class="ident" id="6762361">Unmarshal</span><span class="op" id="6762370">(</span><span class="ident" id="6762371">x</span><span class="op" id="6762372">,</span>&nbsp;<span class="ident" id="6762374">p3</span><span class="op" id="6762376">)</span><span class="op" id="6762377">;</span>&nbsp;<span class="ident" id="6762379">err</span>&nbsp;<span class="op" id="6762383">!=</span>&nbsp;<span class="ident" id="6762386">nil</span>&nbsp;<span class="op" id="6762390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762394">t</span><span class="op" id="6762395">.</span><span class="ident" id="6762396">Fatalf</span><span class="op" id="6762402">(</span><span class="string" id="6762403">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6762418">,</span>&nbsp;<span class="ident" id="6762420">err</span><span class="op" id="6762423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6762429">if</span>&nbsp;<span class="ident" id="6762432">p3</span><span class="op" id="6762434">.</span><span class="ident" id="6762435">Int</span>&nbsp;<span class="op" id="6762439">==</span>&nbsp;<span class="ident" id="6762442">nil</span>&nbsp;<span class="op" id="6762446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762450">t</span><span class="op" id="6762451">.</span><span class="ident" id="6762452">Fatalf</span><span class="op" id="6762458">(</span><span class="string" id="6762459">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="6762497">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762500">}</span>&nbsp;<span class="keyword" id="6762502">else</span>&nbsp;<span class="keyword" id="6762507">if</span>&nbsp;<span class="op" id="6762510">*</span><span class="ident" id="6762511">p3</span><span class="op" id="6762513">.</span><span class="ident" id="6762514">Int</span>&nbsp;<span class="op" id="6762518">!=</span>&nbsp;<span class="string" id="6762521">&#34;1&#34;</span>&nbsp;<span class="op" id="6762525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762529">t</span><span class="op" id="6762530">.</span><span class="ident" id="6762531">Fatalf</span><span class="op" id="6762537">(</span><span class="string" id="6762538">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6762587">,</span>&nbsp;<span class="ident" id="6762589">x</span><span class="op" id="6762590">,</span>&nbsp;<span class="ident" id="6762592">p3</span><span class="op" id="6762594">.</span><span class="ident" id="6762595">Int</span><span class="op" id="6762598">,</span>&nbsp;<span class="num" id="6762600">1</span><span class="op" id="6762601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762604">}</span><br>
<span class="lineno"></span><span class="op" id="6762606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="6762609">type</span>&nbsp;<span class="ident" id="6762614">Tables</span>&nbsp;<span class="keyword" id="6762621">struct</span>&nbsp;<span class="op" id="6762628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762631">HTable</span>&nbsp;<span class="builtintype" id="6762638">string</span>&nbsp;<span class="string" id="6762645">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762688">FTable</span>&nbsp;<span class="builtintype" id="6762695">string</span>&nbsp;<span class="string" id="6762702">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6762751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="6762754">var</span>&nbsp;<span class="ident" id="6762758">tables</span>&nbsp;<span class="op" id="6762765">=</span>&nbsp;<span class="op" id="6762767">[</span><span class="op" id="6762768">]</span><span class="keyword" id="6762769">struct</span>&nbsp;<span class="op" id="6762776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762779">xml</span>&nbsp;<span class="builtintype" id="6762783">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762791">tab</span>&nbsp;<span class="ident" id="6762795">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762803">ns</span>&nbsp;&nbsp;<span class="builtintype" id="6762807">string</span><br>
<span class="lineno"></span><span class="op" id="6762814">}</span><span class="op" id="6762815">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6762818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762822">xml</span><span class="op" id="6762825">:</span>&nbsp;<span class="string" id="6762827">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6762838">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6762843">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="6762902">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6762907">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="6762973">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6762978">`&lt;/Tables&gt;`</span><span class="op" id="6762989">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6762993">tab</span><span class="op" id="6762996">:</span>&nbsp;<span class="ident" id="6762998">Tables</span><span class="op" id="6763004">{</span><span class="string" id="6763005">&#34;hello&#34;</span><span class="op" id="6763012">,</span>&nbsp;<span class="string" id="6763014">&#34;world&#34;</span><span class="op" id="6763021">}</span><span class="op" id="6763022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763025">}</span><span class="op" id="6763026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763033">xml</span><span class="op" id="6763036">:</span>&nbsp;<span class="string" id="6763038">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6763049">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763054">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="6763120">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763125">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="6763184">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763189">`&lt;/Tables&gt;`</span><span class="op" id="6763200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763204">tab</span><span class="op" id="6763207">:</span>&nbsp;<span class="ident" id="6763209">Tables</span><span class="op" id="6763215">{</span><span class="string" id="6763216">&#34;hello&#34;</span><span class="op" id="6763223">,</span>&nbsp;<span class="string" id="6763225">&#34;world&#34;</span><span class="op" id="6763232">}</span><span class="op" id="6763233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763236">}</span><span class="op" id="6763237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763240">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763244">xml</span><span class="op" id="6763247">:</span>&nbsp;<span class="string" id="6763249">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="6763343">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763348">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="6763375">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763380">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="6763407">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763412">`&lt;/Tables&gt;`</span><span class="op" id="6763423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763427">tab</span><span class="op" id="6763430">:</span>&nbsp;<span class="ident" id="6763432">Tables</span><span class="op" id="6763438">{</span><span class="string" id="6763439">&#34;hello&#34;</span><span class="op" id="6763446">,</span>&nbsp;<span class="string" id="6763448">&#34;world&#34;</span><span class="op" id="6763455">}</span><span class="op" id="6763456">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763459">}</span><span class="op" id="6763460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763467">xml</span><span class="op" id="6763470">:</span>&nbsp;<span class="string" id="6763472">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6763483">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763488">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="6763511">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763516">`&lt;/Tables&gt;`</span><span class="op" id="6763527">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763531">tab</span><span class="op" id="6763534">:</span>&nbsp;<span class="ident" id="6763536">Tables</span><span class="op" id="6763542">{</span><span class="op" id="6763543">}</span><span class="op" id="6763544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763547">}</span><span class="op" id="6763548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763555">xml</span><span class="op" id="6763558">:</span>&nbsp;<span class="string" id="6763560">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6763571">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763576">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="6763598">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763603">`&lt;/Tables&gt;`</span><span class="op" id="6763614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763618">tab</span><span class="op" id="6763621">:</span>&nbsp;<span class="ident" id="6763623">Tables</span><span class="op" id="6763629">{</span><span class="ident" id="6763630">HTable</span><span class="op" id="6763636">:</span>&nbsp;<span class="string" id="6763638">&#34;only&#34;</span><span class="op" id="6763644">}</span><span class="op" id="6763645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763649">ns</span><span class="op" id="6763651">:</span>&nbsp;&nbsp;<span class="string" id="6763654">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="6763683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763686">}</span><span class="op" id="6763687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763690">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763694">xml</span><span class="op" id="6763697">:</span>&nbsp;<span class="string" id="6763699">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6763710">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763715">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="6763737">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763742">`&lt;/Tables&gt;`</span><span class="op" id="6763753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763757">tab</span><span class="op" id="6763760">:</span>&nbsp;<span class="ident" id="6763762">Tables</span><span class="op" id="6763768">{</span><span class="ident" id="6763769">FTable</span><span class="op" id="6763775">:</span>&nbsp;<span class="string" id="6763777">&#34;only&#34;</span><span class="op" id="6763783">}</span><span class="op" id="6763784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763788">ns</span><span class="op" id="6763790">:</span>&nbsp;&nbsp;<span class="string" id="6763793">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="6763829">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763832">}</span><span class="op" id="6763833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763840">xml</span><span class="op" id="6763843">:</span>&nbsp;<span class="string" id="6763845">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6763856">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763861">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="6763883">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6763888">`&lt;/Tables&gt;`</span><span class="op" id="6763899">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763903">tab</span><span class="op" id="6763906">:</span>&nbsp;<span class="ident" id="6763908">Tables</span><span class="op" id="6763914">{</span><span class="op" id="6763915">}</span><span class="op" id="6763916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6763920">ns</span><span class="op" id="6763922">:</span>&nbsp;&nbsp;<span class="string" id="6763925">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="6763950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6763953">}</span><span class="op" id="6763954">,</span><br>
<span class="lineno"></span><span class="op" id="6763956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="6763959">func</span>&nbsp;<span class="ident" id="6763964">TestUnmarshalNS</span><span class="op" id="6763979">(</span><span class="ident" id="6763980">t</span>&nbsp;<span class="op" id="6763982">*</span><span class="ident" id="6763983">testing</span><span class="op" id="6763990">.</span><span class="ident" id="6763991">T</span><span class="op" id="6763992">)</span>&nbsp;<span class="op" id="6763994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6763997">for</span>&nbsp;<span class="ident" id="6764001">i</span><span class="op" id="6764002">,</span>&nbsp;<span class="ident" id="6764004">tt</span>&nbsp;<span class="op" id="6764007">:=</span>&nbsp;<span class="keyword" id="6764010">range</span>&nbsp;<span class="ident" id="6764016">tables</span>&nbsp;<span class="op" id="6764023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6764027">var</span>&nbsp;<span class="ident" id="6764031">dst</span>&nbsp;<span class="ident" id="6764035">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6764044">var</span>&nbsp;<span class="ident" id="6764048">err</span>&nbsp;<span class="builtintype" id="6764052">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6764060">if</span>&nbsp;<span class="ident" id="6764063">tt</span><span class="op" id="6764065">.</span><span class="ident" id="6764066">ns</span>&nbsp;<span class="op" id="6764069">!=</span>&nbsp;<span class="string" id="6764072">&#34;&#34;</span>&nbsp;<span class="op" id="6764075">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764080">d</span>&nbsp;<span class="op" id="6764082">:=</span>&nbsp;<span class="ident" id="6764085">NewDecoder</span><span class="op" id="6764095">(</span><span class="ident" id="6764096">strings</span><span class="op" id="6764103">.</span><span class="ident" id="6764104">NewReader</span><span class="op" id="6764113">(</span><span class="ident" id="6764114">tt</span><span class="op" id="6764116">.</span><span class="ident" id="6764117">xml</span><span class="op" id="6764120">)</span><span class="op" id="6764121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764126">d</span><span class="op" id="6764127">.</span><span class="ident" id="6764128">DefaultSpace</span>&nbsp;<span class="op" id="6764141">=</span>&nbsp;<span class="ident" id="6764143">tt</span><span class="op" id="6764145">.</span><span class="ident" id="6764146">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764152">err</span>&nbsp;<span class="op" id="6764156">=</span>&nbsp;<span class="ident" id="6764158">d</span><span class="op" id="6764159">.</span><span class="ident" id="6764160">Decode</span><span class="op" id="6764166">(</span><span class="op" id="6764167">&amp;</span><span class="ident" id="6764168">dst</span><span class="op" id="6764171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6764175">}</span>&nbsp;<span class="keyword" id="6764177">else</span>&nbsp;<span class="op" id="6764182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764187">err</span>&nbsp;<span class="op" id="6764191">=</span>&nbsp;<span class="ident" id="6764193">Unmarshal</span><span class="op" id="6764202">(</span><span class="op" id="6764203">[</span><span class="op" id="6764204">]</span><span class="builtintype" id="6764205">byte</span><span class="op" id="6764209">(</span><span class="ident" id="6764210">tt</span><span class="op" id="6764212">.</span><span class="ident" id="6764213">xml</span><span class="op" id="6764216">)</span><span class="op" id="6764217">,</span>&nbsp;<span class="op" id="6764219">&amp;</span><span class="ident" id="6764220">dst</span><span class="op" id="6764223">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6764227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6764231">if</span>&nbsp;<span class="ident" id="6764234">err</span>&nbsp;<span class="op" id="6764238">!=</span>&nbsp;<span class="ident" id="6764241">nil</span>&nbsp;<span class="op" id="6764245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764250">t</span><span class="op" id="6764251">.</span><span class="ident" id="6764252">Errorf</span><span class="op" id="6764258">(</span><span class="string" id="6764259">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6764279">,</span>&nbsp;<span class="ident" id="6764281">i</span><span class="op" id="6764282">,</span>&nbsp;<span class="ident" id="6764284">err</span><span class="op" id="6764287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6764292">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6764303">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764307">want</span>&nbsp;<span class="op" id="6764312">:=</span>&nbsp;<span class="ident" id="6764315">tt</span><span class="op" id="6764317">.</span><span class="ident" id="6764318">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6764324">if</span>&nbsp;<span class="ident" id="6764327">dst</span>&nbsp;<span class="op" id="6764331">!=</span>&nbsp;<span class="ident" id="6764334">want</span>&nbsp;<span class="op" id="6764339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764344">t</span><span class="op" id="6764345">.</span><span class="ident" id="6764346">Errorf</span><span class="op" id="6764352">(</span><span class="string" id="6764353">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6764377">,</span>&nbsp;<span class="ident" id="6764379">i</span><span class="op" id="6764380">,</span>&nbsp;<span class="ident" id="6764382">dst</span><span class="op" id="6764385">,</span>&nbsp;<span class="ident" id="6764387">want</span><span class="op" id="6764391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6764395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6764398">}</span><br>
<span class="lineno">485</span><span class="op" id="6764400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6764403">func</span>&nbsp;<span class="ident" id="6764408">TestMarshalNS</span><span class="op" id="6764421">(</span><span class="ident" id="6764422">t</span>&nbsp;<span class="op" id="6764424">*</span><span class="ident" id="6764425">testing</span><span class="op" id="6764432">.</span><span class="ident" id="6764433">T</span><span class="op" id="6764434">)</span>&nbsp;<span class="op" id="6764436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764439">dst</span>&nbsp;<span class="op" id="6764443">:=</span>&nbsp;<span class="ident" id="6764446">Tables</span><span class="op" id="6764452">{</span><span class="string" id="6764453">&#34;hello&#34;</span><span class="op" id="6764460">,</span>&nbsp;<span class="string" id="6764462">&#34;world&#34;</span><span class="op" id="6764469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764472">data</span><span class="op" id="6764476">,</span>&nbsp;<span class="ident" id="6764478">err</span>&nbsp;<span class="op" id="6764482">:=</span>&nbsp;<span class="ident" id="6764485">Marshal</span><span class="op" id="6764492">(</span><span class="op" id="6764493">&amp;</span><span class="ident" id="6764494">dst</span><span class="op" id="6764497">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6764500">if</span>&nbsp;<span class="ident" id="6764503">err</span>&nbsp;<span class="op" id="6764507">!=</span>&nbsp;<span class="ident" id="6764510">nil</span>&nbsp;<span class="op" id="6764514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764518">t</span><span class="op" id="6764519">.</span><span class="ident" id="6764520">Fatalf</span><span class="op" id="6764526">(</span><span class="string" id="6764527">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="6764540">,</span>&nbsp;<span class="ident" id="6764542">err</span><span class="op" id="6764545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6764548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764551">want</span>&nbsp;<span class="op" id="6764556">:=</span>&nbsp;<span class="string" id="6764559">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764699">str</span>&nbsp;<span class="op" id="6764703">:=</span>&nbsp;<span class="builtintype" id="6764706">string</span><span class="op" id="6764712">(</span><span class="ident" id="6764713">data</span><span class="op" id="6764717">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6764720">if</span>&nbsp;<span class="ident" id="6764723">str</span>&nbsp;<span class="op" id="6764727">!=</span>&nbsp;<span class="ident" id="6764730">want</span>&nbsp;<span class="op" id="6764735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764739">t</span><span class="op" id="6764740">.</span><span class="ident" id="6764741">Errorf</span><span class="op" id="6764747">(</span><span class="string" id="6764748">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="6764770">,</span>&nbsp;<span class="ident" id="6764772">str</span><span class="op" id="6764775">,</span>&nbsp;<span class="ident" id="6764777">want</span><span class="op" id="6764781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6764784">}</span><br>
<span class="lineno"></span><span class="op" id="6764786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="6764789">type</span>&nbsp;<span class="ident" id="6764794">TableAttrs</span>&nbsp;<span class="keyword" id="6764805">struct</span>&nbsp;<span class="op" id="6764812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764815">TAttr</span>&nbsp;<span class="ident" id="6764821">TAttr</span><br>
<span class="lineno"></span><span class="op" id="6764827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6764830">type</span>&nbsp;<span class="ident" id="6764835">TAttr</span>&nbsp;<span class="keyword" id="6764841">struct</span>&nbsp;<span class="op" id="6764848">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764851">HTable</span>&nbsp;<span class="builtintype" id="6764858">string</span>&nbsp;<span class="string" id="6764865">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764913">FTable</span>&nbsp;<span class="builtintype" id="6764920">string</span>&nbsp;<span class="string" id="6764927">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6764982">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6764989">string</span>&nbsp;<span class="string" id="6764996">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765062">Other1</span>&nbsp;<span class="builtintype" id="6765069">string</span>&nbsp;<span class="string" id="6765076">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765129">Other2</span>&nbsp;<span class="builtintype" id="6765136">string</span>&nbsp;<span class="string" id="6765143">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765199">Other3</span>&nbsp;<span class="builtintype" id="6765206">string</span>&nbsp;<span class="string" id="6765213">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765267">Other4</span>&nbsp;<span class="builtintype" id="6765274">string</span>&nbsp;<span class="string" id="6765281">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6765336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6765339">var</span>&nbsp;<span class="ident" id="6765343">tableAttrs</span>&nbsp;<span class="op" id="6765354">=</span>&nbsp;<span class="op" id="6765356">[</span><span class="op" id="6765357">]</span><span class="keyword" id="6765358">struct</span>&nbsp;<span class="op" id="6765365">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765368">xml</span>&nbsp;<span class="builtintype" id="6765372">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765380">tab</span>&nbsp;<span class="ident" id="6765384">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765396">ns</span>&nbsp;&nbsp;<span class="builtintype" id="6765400">string</span><br>
<span class="lineno"></span><span class="op" id="6765407">}</span><span class="op" id="6765408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6765411">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765415">xml</span><span class="op" id="6765418">:</span>&nbsp;<span class="string" id="6765420">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6765525">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6765530">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6765565">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6765570">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6765587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765591">tab</span><span class="op" id="6765594">:</span>&nbsp;<span class="ident" id="6765596">TableAttrs</span><span class="op" id="6765606">{</span><span class="ident" id="6765607">TAttr</span><span class="op" id="6765612">{</span><span class="ident" id="6765613">HTable</span><span class="op" id="6765619">:</span>&nbsp;<span class="string" id="6765621">&#34;hello&#34;</span><span class="op" id="6765628">,</span>&nbsp;<span class="ident" id="6765630">FTable</span><span class="op" id="6765636">:</span>&nbsp;<span class="string" id="6765638">&#34;world&#34;</span><span class="op" id="6765645">}</span><span class="op" id="6765646">}</span><span class="op" id="6765647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6765650">}</span><span class="op" id="6765651">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6765654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765658">xml</span><span class="op" id="6765661">:</span>&nbsp;<span class="string" id="6765663">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="6765768">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6765773">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6765808">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6765813">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6765830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765834">tab</span><span class="op" id="6765837">:</span>&nbsp;<span class="ident" id="6765839">TableAttrs</span><span class="op" id="6765849">{</span><span class="ident" id="6765850">TAttr</span><span class="op" id="6765855">{</span><span class="ident" id="6765856">HTable</span><span class="op" id="6765862">:</span>&nbsp;<span class="string" id="6765864">&#34;hello&#34;</span><span class="op" id="6765871">,</span>&nbsp;<span class="ident" id="6765873">FTable</span><span class="op" id="6765879">:</span>&nbsp;<span class="string" id="6765881">&#34;world&#34;</span><span class="op" id="6765888">}</span><span class="op" id="6765889">}</span><span class="op" id="6765890">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6765893">}</span><span class="op" id="6765894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6765897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6765901">xml</span><span class="op" id="6765904">:</span>&nbsp;<span class="string" id="6765906">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6765928">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6765933">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="6766051">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6766056">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6766073">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6766077">tab</span><span class="op" id="6766080">:</span>&nbsp;<span class="ident" id="6766082">TableAttrs</span><span class="op" id="6766092">{</span><span class="ident" id="6766093">TAttr</span><span class="op" id="6766098">{</span><span class="ident" id="6766099">HTable</span><span class="op" id="6766105">:</span>&nbsp;<span class="string" id="6766107">&#34;hello&#34;</span><span class="op" id="6766114">,</span>&nbsp;<span class="ident" id="6766116">FTable</span><span class="op" id="6766122">:</span>&nbsp;<span class="string" id="6766124">&#34;world&#34;</span><span class="op" id="6766131">}</span><span class="op" id="6766132">}</span><span class="op" id="6766133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6766136">}</span><span class="op" id="6766137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6766140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6766144">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6766198">xml</span><span class="op" id="6766201">:</span>&nbsp;<span class="string" id="6766203">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6766306">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6766311">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6766344">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6766349">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6766366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6766370">tab</span><span class="op" id="6766373">:</span>&nbsp;<span class="ident" id="6766375">TableAttrs</span><span class="op" id="6766385">{</span><span class="ident" id="6766386">TAttr</span><span class="op" id="6766391">{</span><span class="ident" id="6766392">HTable</span><span class="op" id="6766398">:</span>&nbsp;<span class="string" id="6766400">&#34;hello&#34;</span><span class="op" id="6766407">,</span>&nbsp;<span class="ident" id="6766409">FTable</span><span class="op" id="6766415">:</span>&nbsp;<span class="string" id="6766417">&#34;&#34;</span><span class="op" id="6766419">}</span><span class="op" id="6766420">}</span><span class="op" id="6766421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6766424">}</span><span class="op" id="6766425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6766428">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6766432">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6766486">xml</span><span class="op" id="6766489">:</span>&nbsp;<span class="string" id="6766491">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="6766594">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6766599">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6766632">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6766637">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6766654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6766658">tab</span><span class="op" id="6766661">:</span>&nbsp;<span class="ident" id="6766663">TableAttrs</span><span class="op" id="6766673">{</span><span class="ident" id="6766674">TAttr</span><span class="op" id="6766679">{</span><span class="ident" id="6766680">HTable</span><span class="op" id="6766686">:</span>&nbsp;<span class="string" id="6766688">&#34;&#34;</span><span class="op" id="6766690">,</span>&nbsp;<span class="ident" id="6766692">FTable</span><span class="op" id="6766698">:</span>&nbsp;<span class="string" id="6766700">&#34;world&#34;</span><span class="op" id="6766707">}</span><span class="op" id="6766708">}</span><span class="op" id="6766709">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6766712">}</span><span class="op" id="6766713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6766716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6766720">xml</span><span class="op" id="6766723">:</span>&nbsp;<span class="string" id="6766725">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6766747">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6766752">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="6766769">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6766774">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6766791">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6766795">tab</span><span class="op" id="6766798">:</span>&nbsp;<span class="ident" id="6766800">TableAttrs</span><span class="op" id="6766810">{</span><span class="op" id="6766811">}</span><span class="op" id="6766812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6766815">}</span><span class="op" id="6766816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6766819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6766823">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6766877">xml</span><span class="op" id="6766880">:</span>&nbsp;<span class="string" id="6766882">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6766942">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6766947">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6766980">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6766985">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6767002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767006">tab</span><span class="op" id="6767009">:</span>&nbsp;<span class="ident" id="6767011">TableAttrs</span><span class="op" id="6767021">{</span><span class="ident" id="6767022">TAttr</span><span class="op" id="6767027">{</span><span class="ident" id="6767028">HTable</span><span class="op" id="6767034">:</span>&nbsp;<span class="string" id="6767036">&#34;hello&#34;</span><span class="op" id="6767043">,</span>&nbsp;<span class="ident" id="6767045">FTable</span><span class="op" id="6767051">:</span>&nbsp;<span class="string" id="6767053">&#34;&#34;</span><span class="op" id="6767055">}</span><span class="op" id="6767056">}</span><span class="op" id="6767057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767061">ns</span><span class="op" id="6767063">:</span>&nbsp;&nbsp;<span class="string" id="6767066">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="6767102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767105">}</span><span class="op" id="6767106">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6767113">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767167">xml</span><span class="op" id="6767170">:</span>&nbsp;<span class="string" id="6767172">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6767239">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6767244">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6767277">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6767282">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6767299">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767303">tab</span><span class="op" id="6767306">:</span>&nbsp;<span class="ident" id="6767308">TableAttrs</span><span class="op" id="6767318">{</span><span class="ident" id="6767319">TAttr</span><span class="op" id="6767324">{</span><span class="ident" id="6767325">HTable</span><span class="op" id="6767331">:</span>&nbsp;<span class="string" id="6767333">&#34;&#34;</span><span class="op" id="6767335">,</span>&nbsp;<span class="ident" id="6767337">FTable</span><span class="op" id="6767343">:</span>&nbsp;<span class="string" id="6767345">&#34;world&#34;</span><span class="op" id="6767352">}</span><span class="op" id="6767353">}</span><span class="op" id="6767354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767358">ns</span><span class="op" id="6767360">:</span>&nbsp;&nbsp;<span class="string" id="6767363">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="6767392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767395">}</span><span class="op" id="6767396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767403">xml</span><span class="op" id="6767406">:</span>&nbsp;<span class="string" id="6767408">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6767430">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6767435">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="6767452">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6767457">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6767474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767478">tab</span><span class="op" id="6767481">:</span>&nbsp;<span class="ident" id="6767483">TableAttrs</span><span class="op" id="6767493">{</span><span class="op" id="6767494">}</span><span class="op" id="6767495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767499">ns</span><span class="op" id="6767501">:</span>&nbsp;&nbsp;<span class="string" id="6767504">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="6767529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767532">}</span><span class="op" id="6767533">,</span><br>
<span class="lineno">580</span><span class="op" id="6767535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6767538">func</span>&nbsp;<span class="ident" id="6767543">TestUnmarshalNSAttr</span><span class="op" id="6767562">(</span><span class="ident" id="6767563">t</span>&nbsp;<span class="op" id="6767565">*</span><span class="ident" id="6767566">testing</span><span class="op" id="6767573">.</span><span class="ident" id="6767574">T</span><span class="op" id="6767575">)</span>&nbsp;<span class="op" id="6767577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6767580">for</span>&nbsp;<span class="ident" id="6767584">i</span><span class="op" id="6767585">,</span>&nbsp;<span class="ident" id="6767587">tt</span>&nbsp;<span class="op" id="6767590">:=</span>&nbsp;<span class="keyword" id="6767593">range</span>&nbsp;<span class="ident" id="6767599">tableAttrs</span>&nbsp;<span class="op" id="6767610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6767614">var</span>&nbsp;<span class="ident" id="6767618">dst</span>&nbsp;<span class="ident" id="6767622">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6767635">var</span>&nbsp;<span class="ident" id="6767639">err</span>&nbsp;<span class="builtintype" id="6767643">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6767651">if</span>&nbsp;<span class="ident" id="6767654">tt</span><span class="op" id="6767656">.</span><span class="ident" id="6767657">ns</span>&nbsp;<span class="op" id="6767660">!=</span>&nbsp;<span class="string" id="6767663">&#34;&#34;</span>&nbsp;<span class="op" id="6767666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767671">d</span>&nbsp;<span class="op" id="6767673">:=</span>&nbsp;<span class="ident" id="6767676">NewDecoder</span><span class="op" id="6767686">(</span><span class="ident" id="6767687">strings</span><span class="op" id="6767694">.</span><span class="ident" id="6767695">NewReader</span><span class="op" id="6767704">(</span><span class="ident" id="6767705">tt</span><span class="op" id="6767707">.</span><span class="ident" id="6767708">xml</span><span class="op" id="6767711">)</span><span class="op" id="6767712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767717">d</span><span class="op" id="6767718">.</span><span class="ident" id="6767719">DefaultSpace</span>&nbsp;<span class="op" id="6767732">=</span>&nbsp;<span class="ident" id="6767734">tt</span><span class="op" id="6767736">.</span><span class="ident" id="6767737">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767743">err</span>&nbsp;<span class="op" id="6767747">=</span>&nbsp;<span class="ident" id="6767749">d</span><span class="op" id="6767750">.</span><span class="ident" id="6767751">Decode</span><span class="op" id="6767757">(</span><span class="op" id="6767758">&amp;</span><span class="ident" id="6767759">dst</span><span class="op" id="6767762">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767766">}</span>&nbsp;<span class="keyword" id="6767768">else</span>&nbsp;<span class="op" id="6767773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767778">err</span>&nbsp;<span class="op" id="6767782">=</span>&nbsp;<span class="ident" id="6767784">Unmarshal</span><span class="op" id="6767793">(</span><span class="op" id="6767794">[</span><span class="op" id="6767795">]</span><span class="builtintype" id="6767796">byte</span><span class="op" id="6767800">(</span><span class="ident" id="6767801">tt</span><span class="op" id="6767803">.</span><span class="ident" id="6767804">xml</span><span class="op" id="6767807">)</span><span class="op" id="6767808">,</span>&nbsp;<span class="op" id="6767810">&amp;</span><span class="ident" id="6767811">dst</span><span class="op" id="6767814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6767822">if</span>&nbsp;<span class="ident" id="6767825">err</span>&nbsp;<span class="op" id="6767829">!=</span>&nbsp;<span class="ident" id="6767832">nil</span>&nbsp;<span class="op" id="6767836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767841">t</span><span class="op" id="6767842">.</span><span class="ident" id="6767843">Errorf</span><span class="op" id="6767849">(</span><span class="string" id="6767850">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6767870">,</span>&nbsp;<span class="ident" id="6767872">i</span><span class="op" id="6767873">,</span>&nbsp;<span class="ident" id="6767875">err</span><span class="op" id="6767878">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6767883">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767898">want</span>&nbsp;<span class="op" id="6767903">:=</span>&nbsp;<span class="ident" id="6767906">tt</span><span class="op" id="6767908">.</span><span class="ident" id="6767909">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6767915">if</span>&nbsp;<span class="ident" id="6767918">dst</span>&nbsp;<span class="op" id="6767922">!=</span>&nbsp;<span class="ident" id="6767925">want</span>&nbsp;<span class="op" id="6767930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6767935">t</span><span class="op" id="6767936">.</span><span class="ident" id="6767937">Errorf</span><span class="op" id="6767943">(</span><span class="string" id="6767944">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6767968">,</span>&nbsp;<span class="ident" id="6767970">i</span><span class="op" id="6767971">,</span>&nbsp;<span class="ident" id="6767973">dst</span><span class="op" id="6767976">,</span>&nbsp;<span class="ident" id="6767978">want</span><span class="op" id="6767982">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6767989">}</span><br>
<span class="lineno"></span><span class="op" id="6767991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6767994">func</span>&nbsp;<span class="ident" id="6767999">TestMarshalNSAttr</span><span class="op" id="6768016">(</span><span class="ident" id="6768017">t</span>&nbsp;<span class="op" id="6768019">*</span><span class="ident" id="6768020">testing</span><span class="op" id="6768027">.</span><span class="ident" id="6768028">T</span><span class="op" id="6768029">)</span>&nbsp;<span class="op" id="6768031">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6768034">src</span>&nbsp;<span class="op" id="6768038">:=</span>&nbsp;<span class="ident" id="6768041">TableAttrs</span><span class="op" id="6768051">{</span><span class="ident" id="6768052">TAttr</span><span class="op" id="6768057">{</span><span class="string" id="6768058">&#34;hello&#34;</span><span class="op" id="6768065">,</span>&nbsp;<span class="string" id="6768067">&#34;world&#34;</span><span class="op" id="6768074">,</span>&nbsp;<span class="string" id="6768076">&#34;en_US&#34;</span><span class="op" id="6768083">,</span>&nbsp;<span class="string" id="6768085">&#34;other1&#34;</span><span class="op" id="6768093">,</span>&nbsp;<span class="string" id="6768095">&#34;other2&#34;</span><span class="op" id="6768103">,</span>&nbsp;<span class="string" id="6768105">&#34;other3&#34;</span><span class="op" id="6768113">,</span>&nbsp;<span class="string" id="6768115">&#34;other4&#34;</span><span class="op" id="6768123">}</span><span class="op" id="6768124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6768127">data</span><span class="op" id="6768131">,</span>&nbsp;<span class="ident" id="6768133">err</span>&nbsp;<span class="op" id="6768137">:=</span>&nbsp;<span class="ident" id="6768140">Marshal</span><span class="op" id="6768147">(</span><span class="op" id="6768148">&amp;</span><span class="ident" id="6768149">src</span><span class="op" id="6768152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6768155">if</span>&nbsp;<span class="ident" id="6768158">err</span>&nbsp;<span class="op" id="6768162">!=</span>&nbsp;<span class="ident" id="6768165">nil</span>&nbsp;<span class="op" id="6768169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6768173">t</span><span class="op" id="6768174">.</span><span class="ident" id="6768175">Fatalf</span><span class="op" id="6768181">(</span><span class="string" id="6768182">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="6768195">,</span>&nbsp;<span class="ident" id="6768197">err</span><span class="op" id="6768200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6768203">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6768206">want</span>&nbsp;<span class="op" id="6768211">:=</span>&nbsp;<span class="string" id="6768214">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6768655">str</span>&nbsp;<span class="op" id="6768659">:=</span>&nbsp;<span class="builtintype" id="6768662">string</span><span class="op" id="6768668">(</span><span class="ident" id="6768669">data</span><span class="op" id="6768673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6768676">if</span>&nbsp;<span class="ident" id="6768679">str</span>&nbsp;<span class="op" id="6768683">!=</span>&nbsp;<span class="ident" id="6768686">want</span>&nbsp;<span class="op" id="6768691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6768695">t</span><span class="op" id="6768696">.</span><span class="ident" id="6768697">Errorf</span><span class="op" id="6768703">(</span><span class="string" id="6768704">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="6768738">,</span>&nbsp;<span class="ident" id="6768740">str</span><span class="op" id="6768743">,</span>&nbsp;<span class="ident" id="6768745">want</span><span class="op" id="6768749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6768752">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6768756">var</span>&nbsp;<span class="ident" id="6768760">dst</span>&nbsp;<span class="ident" id="6768764">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6768776">if</span>&nbsp;<span class="ident" id="6768779">err</span>&nbsp;<span class="op" id="6768783">:=</span>&nbsp;<span class="ident" id="6768786">Unmarshal</span><span class="op" id="6768795">(</span><span class="ident" id="6768796">data</span><span class="op" id="6768800">,</span>&nbsp;<span class="op" id="6768802">&amp;</span><span class="ident" id="6768803">dst</span><span class="op" id="6768806">)</span><span class="op" id="6768807">;</span>&nbsp;<span class="ident" id="6768809">err</span>&nbsp;<span class="op" id="6768813">!=</span>&nbsp;<span class="ident" id="6768816">nil</span>&nbsp;<span class="op" id="6768820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6768824">t</span><span class="op" id="6768825">.</span><span class="ident" id="6768826">Errorf</span><span class="op" id="6768832">(</span><span class="string" id="6768833">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6768848">,</span>&nbsp;<span class="ident" id="6768850">err</span><span class="op" id="6768853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6768856">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6768860">if</span>&nbsp;<span class="ident" id="6768863">dst</span>&nbsp;<span class="op" id="6768867">!=</span>&nbsp;<span class="ident" id="6768870">src</span>&nbsp;<span class="op" id="6768874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6768878">t</span><span class="op" id="6768879">.</span><span class="ident" id="6768880">Errorf</span><span class="op" id="6768886">(</span><span class="string" id="6768887">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6768912">,</span>&nbsp;<span class="ident" id="6768914">dst</span><span class="op" id="6768917">,</span>&nbsp;<span class="ident" id="6768919">src</span><span class="op" id="6768922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6768925">}</span><br>
<span class="lineno"></span><span class="op" id="6768927">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="6768930">type</span>&nbsp;<span class="ident" id="6768935">MyCharData</span>&nbsp;<span class="keyword" id="6768946">struct</span>&nbsp;<span class="op" id="6768953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6768956">body</span>&nbsp;<span class="builtintype" id="6768961">string</span><br>
<span class="lineno"></span><span class="op" id="6768968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="6768971">func</span>&nbsp;<span class="op" id="6768976">(</span><span class="ident" id="6768977">m</span>&nbsp;<span class="op" id="6768979">*</span><span class="ident" id="6768980">MyCharData</span><span class="op" id="6768990">)</span>&nbsp;<span class="ident" id="6768992">UnmarshalXML</span><span class="op" id="6769004">(</span><span class="ident" id="6769005">d</span>&nbsp;<span class="op" id="6769007">*</span><span class="ident" id="6769008">Decoder</span><span class="op" id="6769015">,</span>&nbsp;<span class="ident" id="6769017">start</span>&nbsp;<span class="ident" id="6769023">StartElement</span><span class="op" id="6769035">)</span>&nbsp;<span class="builtintype" id="6769037">error</span>&nbsp;<span class="op" id="6769043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769046">for</span>&nbsp;<span class="op" id="6769050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769054">t</span><span class="op" id="6769055">,</span>&nbsp;<span class="ident" id="6769057">err</span>&nbsp;<span class="op" id="6769061">:=</span>&nbsp;<span class="ident" id="6769064">d</span><span class="op" id="6769065">.</span><span class="ident" id="6769066">Token</span><span class="op" id="6769071">(</span><span class="op" id="6769072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769076">if</span>&nbsp;<span class="ident" id="6769079">err</span>&nbsp;<span class="op" id="6769083">==</span>&nbsp;<span class="ident" id="6769086">io</span><span class="op" id="6769088">.</span><span class="ident" id="6769089">EOF</span>&nbsp;<span class="op" id="6769093">{</span>&nbsp;<span class="comment" id="6769095">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769122">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6769130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769134">if</span>&nbsp;<span class="ident" id="6769137">err</span>&nbsp;<span class="op" id="6769141">!=</span>&nbsp;<span class="ident" id="6769144">nil</span>&nbsp;<span class="op" id="6769148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769153">return</span>&nbsp;<span class="ident" id="6769160">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6769166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769170">if</span>&nbsp;<span class="ident" id="6769173">char</span><span class="op" id="6769177">,</span>&nbsp;<span class="ident" id="6769179">ok</span>&nbsp;<span class="op" id="6769182">:=</span>&nbsp;<span class="ident" id="6769185">t</span><span class="op" id="6769186">.</span><span class="op" id="6769187">(</span><span class="ident" id="6769188">CharData</span><span class="op" id="6769196">)</span><span class="op" id="6769197">;</span>&nbsp;<span class="ident" id="6769199">ok</span>&nbsp;<span class="op" id="6769202">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769207">m</span><span class="op" id="6769208">.</span><span class="ident" id="6769209">body</span>&nbsp;<span class="op" id="6769214">+=</span>&nbsp;<span class="builtintype" id="6769217">string</span><span class="op" id="6769223">(</span><span class="ident" id="6769224">char</span><span class="op" id="6769228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6769232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6769235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769238">return</span>&nbsp;<span class="ident" id="6769245">nil</span><br>
<span class="lineno"></span><span class="op" id="6769249">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="6769252">var</span>&nbsp;<span class="ident" id="6769256">_</span>&nbsp;<span class="ident" id="6769258">Unmarshaler</span>&nbsp;<span class="op" id="6769270">=</span>&nbsp;<span class="op" id="6769272">(</span><span class="op" id="6769273">*</span><span class="ident" id="6769274">MyCharData</span><span class="op" id="6769284">)</span><span class="op" id="6769285">(</span><span class="ident" id="6769286">nil</span><span class="op" id="6769289">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6769292">func</span>&nbsp;<span class="op" id="6769297">(</span><span class="ident" id="6769298">m</span>&nbsp;<span class="op" id="6769300">*</span><span class="ident" id="6769301">MyCharData</span><span class="op" id="6769311">)</span>&nbsp;<span class="ident" id="6769313">UnmarshalXMLAttr</span><span class="op" id="6769329">(</span><span class="ident" id="6769330">attr</span>&nbsp;<span class="ident" id="6769335">Attr</span><span class="op" id="6769339">)</span>&nbsp;<span class="builtintype" id="6769341">error</span>&nbsp;<span class="op" id="6769347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6769350">panic</span><span class="op" id="6769355">(</span><span class="string" id="6769356">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="6769371">)</span><br>
<span class="lineno">650</span><span class="op" id="6769373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6769376">type</span>&nbsp;<span class="ident" id="6769381">MyAttr</span>&nbsp;<span class="keyword" id="6769388">struct</span>&nbsp;<span class="op" id="6769395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769398">attr</span>&nbsp;<span class="builtintype" id="6769403">string</span><br>
<span class="lineno"></span><span class="op" id="6769410">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="6769413">func</span>&nbsp;<span class="op" id="6769418">(</span><span class="ident" id="6769419">m</span>&nbsp;<span class="op" id="6769421">*</span><span class="ident" id="6769422">MyAttr</span><span class="op" id="6769428">)</span>&nbsp;<span class="ident" id="6769430">UnmarshalXMLAttr</span><span class="op" id="6769446">(</span><span class="ident" id="6769447">attr</span>&nbsp;<span class="ident" id="6769452">Attr</span><span class="op" id="6769456">)</span>&nbsp;<span class="builtintype" id="6769458">error</span>&nbsp;<span class="op" id="6769464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769467">m</span><span class="op" id="6769468">.</span><span class="ident" id="6769469">attr</span>&nbsp;<span class="op" id="6769474">=</span>&nbsp;<span class="ident" id="6769476">attr</span><span class="op" id="6769480">.</span><span class="ident" id="6769481">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769488">return</span>&nbsp;<span class="ident" id="6769495">nil</span><br>
<span class="lineno"></span><span class="op" id="6769499">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="6769502">var</span>&nbsp;<span class="ident" id="6769506">_</span>&nbsp;<span class="ident" id="6769508">UnmarshalerAttr</span>&nbsp;<span class="op" id="6769524">=</span>&nbsp;<span class="op" id="6769526">(</span><span class="op" id="6769527">*</span><span class="ident" id="6769528">MyAttr</span><span class="op" id="6769534">)</span><span class="op" id="6769535">(</span><span class="ident" id="6769536">nil</span><span class="op" id="6769539">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6769542">type</span>&nbsp;<span class="ident" id="6769547">MyStruct</span>&nbsp;<span class="keyword" id="6769556">struct</span>&nbsp;<span class="op" id="6769563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769566">Data</span>&nbsp;<span class="op" id="6769571">*</span><span class="ident" id="6769572">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769584">Attr</span>&nbsp;<span class="op" id="6769589">*</span><span class="ident" id="6769590">MyAttr</span>&nbsp;<span class="string" id="6769597">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769613">Data2</span>&nbsp;<span class="ident" id="6769619">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769631">Attr2</span>&nbsp;<span class="ident" id="6769637">MyAttr</span>&nbsp;<span class="string" id="6769644">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6769658">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="6769661">func</span>&nbsp;<span class="ident" id="6769666">TestUnmarshaler</span><span class="op" id="6769681">(</span><span class="ident" id="6769682">t</span>&nbsp;<span class="op" id="6769684">*</span><span class="ident" id="6769685">testing</span><span class="op" id="6769692">.</span><span class="ident" id="6769693">T</span><span class="op" id="6769694">)</span>&nbsp;<span class="op" id="6769696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769699">xml</span>&nbsp;<span class="op" id="6769703">:=</span>&nbsp;<span class="string" id="6769706">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769893">var</span>&nbsp;<span class="ident" id="6769897">m</span>&nbsp;<span class="ident" id="6769899">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769909">if</span>&nbsp;<span class="ident" id="6769912">err</span>&nbsp;<span class="op" id="6769916">:=</span>&nbsp;<span class="ident" id="6769919">Unmarshal</span><span class="op" id="6769928">(</span><span class="op" id="6769929">[</span><span class="op" id="6769930">]</span><span class="builtintype" id="6769931">byte</span><span class="op" id="6769935">(</span><span class="ident" id="6769936">xml</span><span class="op" id="6769939">)</span><span class="op" id="6769940">,</span>&nbsp;<span class="op" id="6769942">&amp;</span><span class="ident" id="6769943">m</span><span class="op" id="6769944">)</span><span class="op" id="6769945">;</span>&nbsp;<span class="ident" id="6769947">err</span>&nbsp;<span class="op" id="6769951">!=</span>&nbsp;<span class="ident" id="6769954">nil</span>&nbsp;<span class="op" id="6769958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6769962">t</span><span class="op" id="6769963">.</span><span class="ident" id="6769964">Fatal</span><span class="op" id="6769969">(</span><span class="ident" id="6769970">err</span><span class="op" id="6769973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6769976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6769980">if</span>&nbsp;<span class="ident" id="6769983">m</span><span class="op" id="6769984">.</span><span class="ident" id="6769985">Data</span>&nbsp;<span class="op" id="6769990">==</span>&nbsp;<span class="ident" id="6769993">nil</span>&nbsp;<span class="op" id="6769997">||</span>&nbsp;<span class="ident" id="6770000">m</span><span class="op" id="6770001">.</span><span class="ident" id="6770002">Attr</span>&nbsp;<span class="op" id="6770007">==</span>&nbsp;<span class="ident" id="6770010">nil</span>&nbsp;<span class="op" id="6770014">||</span>&nbsp;<span class="ident" id="6770017">m</span><span class="op" id="6770018">.</span><span class="ident" id="6770019">Data</span><span class="op" id="6770023">.</span><span class="ident" id="6770024">body</span>&nbsp;<span class="op" id="6770029">!=</span>&nbsp;<span class="string" id="6770032">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="6770046">||</span>&nbsp;<span class="ident" id="6770049">m</span><span class="op" id="6770050">.</span><span class="ident" id="6770051">Attr</span><span class="op" id="6770055">.</span><span class="ident" id="6770056">attr</span>&nbsp;<span class="op" id="6770061">!=</span>&nbsp;<span class="string" id="6770064">&#34;attr1&#34;</span>&nbsp;<span class="op" id="6770072">||</span>&nbsp;<span class="ident" id="6770075">m</span><span class="op" id="6770076">.</span><span class="ident" id="6770077">Data2</span><span class="op" id="6770082">.</span><span class="ident" id="6770083">body</span>&nbsp;<span class="op" id="6770088">!=</span>&nbsp;<span class="string" id="6770091">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="6770105">||</span>&nbsp;<span class="ident" id="6770108">m</span><span class="op" id="6770109">.</span><span class="ident" id="6770110">Attr2</span><span class="op" id="6770115">.</span><span class="ident" id="6770116">attr</span>&nbsp;<span class="op" id="6770121">!=</span>&nbsp;<span class="string" id="6770124">&#34;attr2&#34;</span>&nbsp;<span class="op" id="6770132">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770136">t</span><span class="op" id="6770137">.</span><span class="ident" id="6770138">Errorf</span><span class="op" id="6770144">(</span><span class="string" id="6770145">&#34;m=%#+v\n&#34;</span><span class="op" id="6770155">,</span>&nbsp;<span class="ident" id="6770157">m</span><span class="op" id="6770158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6770161">}</span><br>
<span class="lineno"></span><span class="op" id="6770163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6770166">type</span>&nbsp;<span class="ident" id="6770171">Pea</span>&nbsp;<span class="keyword" id="6770175">struct</span>&nbsp;<span class="op" id="6770182">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770185">Cotelydon</span>&nbsp;<span class="builtintype" id="6770195">string</span><br>
<span class="lineno"></span><span class="op" id="6770202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6770205">type</span>&nbsp;<span class="ident" id="6770210">Pod</span>&nbsp;<span class="keyword" id="6770214">struct</span>&nbsp;<span class="op" id="6770221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770224">Pea</span>&nbsp;<span class="keyword" id="6770228">interface</span><span class="op" id="6770237">{</span><span class="op" id="6770238">}</span>&nbsp;<span class="string" id="6770240">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="6770252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6770255">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="6770309">func</span>&nbsp;<span class="ident" id="6770314">TestUnmarshalIntoInterface</span><span class="op" id="6770340">(</span><span class="ident" id="6770341">t</span>&nbsp;<span class="op" id="6770343">*</span><span class="ident" id="6770344">testing</span><span class="op" id="6770351">.</span><span class="ident" id="6770352">T</span><span class="op" id="6770353">)</span>&nbsp;<span class="op" id="6770355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770358">pod</span>&nbsp;<span class="op" id="6770362">:=</span>&nbsp;<span class="builtinfunc" id="6770365">new</span><span class="op" id="6770368">(</span><span class="ident" id="6770369">Pod</span><span class="op" id="6770372">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770375">pod</span><span class="op" id="6770378">.</span><span class="ident" id="6770379">Pea</span>&nbsp;<span class="op" id="6770383">=</span>&nbsp;<span class="builtinfunc" id="6770385">new</span><span class="op" id="6770388">(</span><span class="ident" id="6770389">Pea</span><span class="op" id="6770392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770395">xml</span>&nbsp;<span class="op" id="6770399">:=</span>&nbsp;<span class="string" id="6770402">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770462">err</span>&nbsp;<span class="op" id="6770466">:=</span>&nbsp;<span class="ident" id="6770469">Unmarshal</span><span class="op" id="6770478">(</span><span class="op" id="6770479">[</span><span class="op" id="6770480">]</span><span class="builtintype" id="6770481">byte</span><span class="op" id="6770485">(</span><span class="ident" id="6770486">xml</span><span class="op" id="6770489">)</span><span class="op" id="6770490">,</span>&nbsp;<span class="ident" id="6770492">pod</span><span class="op" id="6770495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6770498">if</span>&nbsp;<span class="ident" id="6770501">err</span>&nbsp;<span class="op" id="6770505">!=</span>&nbsp;<span class="ident" id="6770508">nil</span>&nbsp;<span class="op" id="6770512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770516">t</span><span class="op" id="6770517">.</span><span class="ident" id="6770518">Fatalf</span><span class="op" id="6770524">(</span><span class="string" id="6770525">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6770553">,</span>&nbsp;<span class="ident" id="6770555">xml</span><span class="op" id="6770558">,</span>&nbsp;<span class="ident" id="6770560">err</span><span class="op" id="6770563">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6770566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770569">pea</span><span class="op" id="6770572">,</span>&nbsp;<span class="ident" id="6770574">ok</span>&nbsp;<span class="op" id="6770577">:=</span>&nbsp;<span class="ident" id="6770580">pod</span><span class="op" id="6770583">.</span><span class="ident" id="6770584">Pea</span><span class="op" id="6770587">.</span><span class="op" id="6770588">(</span><span class="op" id="6770589">*</span><span class="ident" id="6770590">Pea</span><span class="op" id="6770593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6770596">if</span>&nbsp;<span class="op" id="6770599">!</span><span class="ident" id="6770600">ok</span>&nbsp;<span class="op" id="6770603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770607">t</span><span class="op" id="6770608">.</span><span class="ident" id="6770609">Fatalf</span><span class="op" id="6770615">(</span><span class="string" id="6770616">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="6770665">,</span>&nbsp;<span class="ident" id="6770667">pod</span><span class="op" id="6770670">.</span><span class="ident" id="6770671">Pea</span><span class="op" id="6770674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6770677">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770680">have</span><span class="op" id="6770684">,</span>&nbsp;<span class="ident" id="6770686">want</span>&nbsp;<span class="op" id="6770691">:=</span>&nbsp;<span class="ident" id="6770694">pea</span><span class="op" id="6770697">.</span><span class="ident" id="6770698">Cotelydon</span><span class="op" id="6770707">,</span>&nbsp;<span class="string" id="6770709">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6770724">if</span>&nbsp;<span class="ident" id="6770727">have</span>&nbsp;<span class="op" id="6770732">!=</span>&nbsp;<span class="ident" id="6770735">want</span>&nbsp;<span class="op" id="6770740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6770744">t</span><span class="op" id="6770745">.</span><span class="ident" id="6770746">Errorf</span><span class="op" id="6770752">(</span><span class="string" id="6770753">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6770806">,</span>&nbsp;<span class="ident" id="6770808">have</span><span class="op" id="6770812">,</span>&nbsp;<span class="ident" id="6770814">want</span><span class="op" id="6770818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6770821">}</span><br>
<span class="lineno"></span><span class="op" id="6770823">}</span>
</div>
</body>
</html>
