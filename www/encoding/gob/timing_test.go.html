<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8326636">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8326691">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8326745">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8326796">package</span>&nbsp;<span class="ident" id="8326804">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8326809">import</span>&nbsp;<span class="op" id="8326816">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8326819">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8326828">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8326834">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8326840">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8326851">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8326861">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8326864">type</span>&nbsp;<span class="ident" id="8326869">Bench</span>&nbsp;<span class="keyword" id="8326875">struct</span>&nbsp;<span class="op" id="8326882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326885">A</span>&nbsp;<span class="builtintype" id="8326887">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326892">B</span>&nbsp;<span class="builtintype" id="8326894">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326903">C</span>&nbsp;<span class="builtintype" id="8326905">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326913">D</span>&nbsp;<span class="op" id="8326915">[</span><span class="op" id="8326916">]</span><span class="builtintype" id="8326917">byte</span><br>
<span class="lineno">20</span><span class="op" id="8326922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8326925">func</span>&nbsp;<span class="ident" id="8326930">benchmarkEndToEnd</span><span class="op" id="8326947">(</span><span class="ident" id="8326948">b</span>&nbsp;<span class="op" id="8326950">*</span><span class="ident" id="8326951"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8326958">.</span><span class="ident" id="8326959">B</span><span class="op" id="8326960">,</span>&nbsp;<span class="ident" id="8326962">ctor</span>&nbsp;<span class="keyword" id="8326967">func</span><span class="op" id="8326971">(</span><span class="op" id="8326972">)</span>&nbsp;<span class="keyword" id="8326974">interface</span><span class="op" id="8326983">{</span><span class="op" id="8326984">}</span><span class="op" id="8326985">,</span>&nbsp;<span class="ident" id="8326987">pipe</span>&nbsp;<span class="keyword" id="8326992">func</span><span class="op" id="8326996">(</span><span class="op" id="8326997">)</span>&nbsp;<span class="op" id="8326999">(</span><span class="ident" id="8327000">r</span>&nbsp;<span class="ident" id="8327002"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8327004">.</span><span class="ident" id="8327005">Reader</span><span class="op" id="8327011">,</span>&nbsp;<span class="ident" id="8327013">w</span>&nbsp;<span class="ident" id="8327015"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8327017">.</span><span class="ident" id="8327018">Writer</span><span class="op" id="8327024">,</span>&nbsp;<span class="ident" id="8327026">err</span>&nbsp;<span class="builtintype" id="8327030">error</span><span class="op" id="8327035">)</span><span class="op" id="8327036">)</span>&nbsp;<span class="op" id="8327038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327041"><a href="/encoding/gob/timing_test.go.html#8326948">b</a></span><span class="op" id="8327042">.</span><span class="ident" id="8327043">RunParallel</span><span class="op" id="8327054">(</span><span class="keyword" id="8327055">func</span><span class="op" id="8327059">(</span><span class="ident" id="8327060">pb</span>&nbsp;<span class="op" id="8327063">*</span><span class="ident" id="8327064"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8327071">.</span><span class="ident" id="8327072">PB</span><span class="op" id="8327074">)</span>&nbsp;<span class="op" id="8327076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327080">r</span><span class="op" id="8327081">,</span>&nbsp;<span class="ident" id="8327083">w</span><span class="op" id="8327084">,</span>&nbsp;<span class="ident" id="8327086">err</span>&nbsp;<span class="op" id="8327090">:=</span>&nbsp;<span class="ident" id="8327093"><a href="/encoding/gob/timing_test.go.html#8326987">pipe</a></span><span class="op" id="8327097">(</span><span class="op" id="8327098">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327102">if</span>&nbsp;<span class="ident" id="8327105"><a href="/encoding/gob/timing_test.go.html#8327086">err</a></span>&nbsp;<span class="op" id="8327109">!=</span>&nbsp;<span class="ident" id="8327112">nil</span>&nbsp;<span class="op" id="8327116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327121"><a href="/encoding/gob/timing_test.go.html#8326948">b</a></span><span class="op" id="8327122">.</span><span class="ident" id="8327123">Fatal</span><span class="op" id="8327128">(</span><span class="string" id="8327129">&#34;can&#39;t&nbsp;get&nbsp;pipe:&#34;</span><span class="op" id="8327146">,</span>&nbsp;<span class="ident" id="8327148"><a href="/encoding/gob/timing_test.go.html#8327086">err</a></span><span class="op" id="8327151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327159">v</span>&nbsp;<span class="op" id="8327161">:=</span>&nbsp;<span class="ident" id="8327164"><a href="/encoding/gob/timing_test.go.html#8326962">ctor</a></span><span class="op" id="8327168">(</span><span class="op" id="8327169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327173">enc</span>&nbsp;<span class="op" id="8327177">:=</span>&nbsp;<span class="ident" id="8327180"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8327190">(</span><span class="ident" id="8327191"><a href="/encoding/gob/timing_test.go.html#8327083">w</a></span><span class="op" id="8327192">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327196">dec</span>&nbsp;<span class="op" id="8327200">:=</span>&nbsp;<span class="ident" id="8327203"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8327213">(</span><span class="ident" id="8327214"><a href="/encoding/gob/timing_test.go.html#8327080">r</a></span><span class="op" id="8327215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327219">for</span>&nbsp;<span class="ident" id="8327223"><a href="/encoding/gob/timing_test.go.html#8327060">pb</a></span><span class="op" id="8327225">.</span><span class="ident" id="8327226">Next</span><span class="op" id="8327230">(</span><span class="op" id="8327231">)</span>&nbsp;<span class="op" id="8327233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327238">if</span>&nbsp;<span class="ident" id="8327241">err</span>&nbsp;<span class="op" id="8327245">:=</span>&nbsp;<span class="ident" id="8327248"><a href="/encoding/gob/timing_test.go.html#8327173">enc</a></span><span class="op" id="8327251">.</span><span class="ident" id="8327252">Encode</span><span class="op" id="8327258">(</span><span class="ident" id="8327259"><a href="/encoding/gob/timing_test.go.html#8327159">v</a></span><span class="op" id="8327260">)</span><span class="op" id="8327261">;</span>&nbsp;<span class="ident" id="8327263"><a href="/encoding/gob/timing_test.go.html#8327241">err</a></span>&nbsp;<span class="op" id="8327267">!=</span>&nbsp;<span class="ident" id="8327270">nil</span>&nbsp;<span class="op" id="8327274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327280"><a href="/encoding/gob/timing_test.go.html#8326948">b</a></span><span class="op" id="8327281">.</span><span class="ident" id="8327282">Fatal</span><span class="op" id="8327287">(</span><span class="string" id="8327288">&#34;encode&nbsp;error:&#34;</span><span class="op" id="8327303">,</span>&nbsp;<span class="ident" id="8327305"><a href="/encoding/gob/timing_test.go.html#8327241">err</a></span><span class="op" id="8327308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327313">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327318">if</span>&nbsp;<span class="ident" id="8327321">err</span>&nbsp;<span class="op" id="8327325">:=</span>&nbsp;<span class="ident" id="8327328"><a href="/encoding/gob/timing_test.go.html#8327196">dec</a></span><span class="op" id="8327331">.</span><span class="ident" id="8327332">Decode</span><span class="op" id="8327338">(</span><span class="ident" id="8327339"><a href="/encoding/gob/timing_test.go.html#8327159">v</a></span><span class="op" id="8327340">)</span><span class="op" id="8327341">;</span>&nbsp;<span class="ident" id="8327343"><a href="/encoding/gob/timing_test.go.html#8327321">err</a></span>&nbsp;<span class="op" id="8327347">!=</span>&nbsp;<span class="ident" id="8327350">nil</span>&nbsp;<span class="op" id="8327354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327360"><a href="/encoding/gob/timing_test.go.html#8326948">b</a></span><span class="op" id="8327361">.</span><span class="ident" id="8327362">Fatal</span><span class="op" id="8327367">(</span><span class="string" id="8327368">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8327383">,</span>&nbsp;<span class="ident" id="8327385"><a href="/encoding/gob/timing_test.go.html#8327321">err</a></span><span class="op" id="8327388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327400">}</span><span class="op" id="8327401">)</span><br>
<span class="lineno">40</span><span class="op" id="8327403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8327406">func</span>&nbsp;<span class="ident" id="8327411">BenchmarkEndToEndPipe</span><span class="op" id="8327432">(</span><span class="ident" id="8327433">b</span>&nbsp;<span class="op" id="8327435">*</span><span class="ident" id="8327436"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8327443">.</span><span class="ident" id="8327444">B</span><span class="op" id="8327445">)</span>&nbsp;<span class="op" id="8327447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327450"><a href="/encoding/gob/timing_test.go.html#8326930">benchmarkEndToEnd</a></span><span class="op" id="8327467">(</span><span class="ident" id="8327468"><a href="/encoding/gob/timing_test.go.html#8327433">b</a></span><span class="op" id="8327469">,</span>&nbsp;<span class="keyword" id="8327471">func</span><span class="op" id="8327475">(</span><span class="op" id="8327476">)</span>&nbsp;<span class="keyword" id="8327478">interface</span><span class="op" id="8327487">{</span><span class="op" id="8327488">}</span>&nbsp;<span class="op" id="8327490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327494">return</span>&nbsp;<span class="op" id="8327501">&amp;</span><span class="ident" id="8327502"><a href="/encoding/gob/timing_test.go.html#8326869">Bench</a></span><span class="op" id="8327507">{</span><span class="num" id="8327508">7</span><span class="op" id="8327509">,</span>&nbsp;<span class="num" id="8327511">3.2</span><span class="op" id="8327514">,</span>&nbsp;<span class="string" id="8327516">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8327533">,</span>&nbsp;<span class="ident" id="8327535"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8327540">.</span><span class="ident" id="8327541">Repeat</span><span class="op" id="8327547">(</span><span class="op" id="8327548">[</span><span class="op" id="8327549">]</span><span class="builtintype" id="8327550">byte</span><span class="op" id="8327554">(</span><span class="string" id="8327555">&#34;for&nbsp;all&nbsp;good&nbsp;men&#34;</span><span class="op" id="8327573">)</span><span class="op" id="8327574">,</span>&nbsp;<span class="num" id="8327576">100</span><span class="op" id="8327579">)</span><span class="op" id="8327580">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327583">}</span><span class="op" id="8327584">,</span>&nbsp;<span class="keyword" id="8327586">func</span><span class="op" id="8327590">(</span><span class="op" id="8327591">)</span>&nbsp;<span class="op" id="8327593">(</span><span class="ident" id="8327594">r</span>&nbsp;<span class="ident" id="8327596"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8327598">.</span><span class="ident" id="8327599">Reader</span><span class="op" id="8327605">,</span>&nbsp;<span class="ident" id="8327607">w</span>&nbsp;<span class="ident" id="8327609"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8327611">.</span><span class="ident" id="8327612">Writer</span><span class="op" id="8327618">,</span>&nbsp;<span class="ident" id="8327620">err</span>&nbsp;<span class="builtintype" id="8327624">error</span><span class="op" id="8327629">)</span>&nbsp;<span class="op" id="8327631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327635"><a href="/encoding/gob/timing_test.go.html#8327594">r</a></span><span class="op" id="8327636">,</span>&nbsp;<span class="ident" id="8327638"><a href="/encoding/gob/timing_test.go.html#8327607">w</a></span><span class="op" id="8327639">,</span>&nbsp;<span class="ident" id="8327641"><a href="/encoding/gob/timing_test.go.html#8327620">err</a></span>&nbsp;<span class="op" id="8327645">=</span>&nbsp;<span class="ident" id="8327647"><a href="/encoding/gob/timing_test.go.html#8326834">os</a></span><span class="op" id="8327649">.</span><span class="ident" id="8327650">Pipe</span><span class="op" id="8327654">(</span><span class="op" id="8327655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327659">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327667">}</span><span class="op" id="8327668">)</span><br>
<span class="lineno"></span><span class="op" id="8327670">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="8327673">func</span>&nbsp;<span class="ident" id="8327678">BenchmarkEndToEndByteBuffer</span><span class="op" id="8327705">(</span><span class="ident" id="8327706">b</span>&nbsp;<span class="op" id="8327708">*</span><span class="ident" id="8327709"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8327716">.</span><span class="ident" id="8327717">B</span><span class="op" id="8327718">)</span>&nbsp;<span class="op" id="8327720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327723"><a href="/encoding/gob/timing_test.go.html#8326930">benchmarkEndToEnd</a></span><span class="op" id="8327740">(</span><span class="ident" id="8327741"><a href="/encoding/gob/timing_test.go.html#8327706">b</a></span><span class="op" id="8327742">,</span>&nbsp;<span class="keyword" id="8327744">func</span><span class="op" id="8327748">(</span><span class="op" id="8327749">)</span>&nbsp;<span class="keyword" id="8327751">interface</span><span class="op" id="8327760">{</span><span class="op" id="8327761">}</span>&nbsp;<span class="op" id="8327763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327767">return</span>&nbsp;<span class="op" id="8327774">&amp;</span><span class="ident" id="8327775"><a href="/encoding/gob/timing_test.go.html#8326869">Bench</a></span><span class="op" id="8327780">{</span><span class="num" id="8327781">7</span><span class="op" id="8327782">,</span>&nbsp;<span class="num" id="8327784">3.2</span><span class="op" id="8327787">,</span>&nbsp;<span class="string" id="8327789">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8327806">,</span>&nbsp;<span class="ident" id="8327808"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8327813">.</span><span class="ident" id="8327814">Repeat</span><span class="op" id="8327820">(</span><span class="op" id="8327821">[</span><span class="op" id="8327822">]</span><span class="builtintype" id="8327823">byte</span><span class="op" id="8327827">(</span><span class="string" id="8327828">&#34;for&nbsp;all&nbsp;good&nbsp;men&#34;</span><span class="op" id="8327846">)</span><span class="op" id="8327847">,</span>&nbsp;<span class="num" id="8327849">100</span><span class="op" id="8327852">)</span><span class="op" id="8327853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327856">}</span><span class="op" id="8327857">,</span>&nbsp;<span class="keyword" id="8327859">func</span><span class="op" id="8327863">(</span><span class="op" id="8327864">)</span>&nbsp;<span class="op" id="8327866">(</span><span class="ident" id="8327867">r</span>&nbsp;<span class="ident" id="8327869"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8327871">.</span><span class="ident" id="8327872">Reader</span><span class="op" id="8327878">,</span>&nbsp;<span class="ident" id="8327880">w</span>&nbsp;<span class="ident" id="8327882"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8327884">.</span><span class="ident" id="8327885">Writer</span><span class="op" id="8327891">,</span>&nbsp;<span class="ident" id="8327893">err</span>&nbsp;<span class="builtintype" id="8327897">error</span><span class="op" id="8327902">)</span>&nbsp;<span class="op" id="8327904">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327908">var</span>&nbsp;<span class="ident" id="8327912">buf</span>&nbsp;<span class="ident" id="8327916"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8327921">.</span><span class="ident" id="8327922">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327931">return</span>&nbsp;<span class="op" id="8327938">&amp;</span><span class="ident" id="8327939"><a href="/encoding/gob/timing_test.go.html#8327912">buf</a></span><span class="op" id="8327942">,</span>&nbsp;<span class="op" id="8327944">&amp;</span><span class="ident" id="8327945"><a href="/encoding/gob/timing_test.go.html#8327912">buf</a></span><span class="op" id="8327948">,</span>&nbsp;<span class="ident" id="8327950">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327955">}</span><span class="op" id="8327956">)</span><br>
<span class="lineno"></span><span class="op" id="8327958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8327961">func</span>&nbsp;<span class="ident" id="8327966">BenchmarkEndToEndSliceByteBuffer</span><span class="op" id="8327998">(</span><span class="ident" id="8327999">b</span>&nbsp;<span class="op" id="8328001">*</span><span class="ident" id="8328002"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8328009">.</span><span class="ident" id="8328010">B</span><span class="op" id="8328011">)</span>&nbsp;<span class="op" id="8328013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328016"><a href="/encoding/gob/timing_test.go.html#8326930">benchmarkEndToEnd</a></span><span class="op" id="8328033">(</span><span class="ident" id="8328034"><a href="/encoding/gob/timing_test.go.html#8327999">b</a></span><span class="op" id="8328035">,</span>&nbsp;<span class="keyword" id="8328037">func</span><span class="op" id="8328041">(</span><span class="op" id="8328042">)</span>&nbsp;<span class="keyword" id="8328044">interface</span><span class="op" id="8328053">{</span><span class="op" id="8328054">}</span>&nbsp;<span class="op" id="8328056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328060">v</span>&nbsp;<span class="op" id="8328062">:=</span>&nbsp;<span class="op" id="8328065">&amp;</span><span class="ident" id="8328066"><a href="/encoding/gob/timing_test.go.html#8326869">Bench</a></span><span class="op" id="8328071">{</span><span class="num" id="8328072">7</span><span class="op" id="8328073">,</span>&nbsp;<span class="num" id="8328075">3.2</span><span class="op" id="8328078">,</span>&nbsp;<span class="string" id="8328080">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8328097">,</span>&nbsp;<span class="ident" id="8328099">nil</span><span class="op" id="8328102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328106"><a href="/encoding/gob/type.go.html#5163647">Register</a></span><span class="op" id="8328114">(</span><span class="ident" id="8328115"><a href="/encoding/gob/timing_test.go.html#8328060">v</a></span><span class="op" id="8328116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328120">arr</span>&nbsp;<span class="op" id="8328124">:=</span>&nbsp;<span class="builtinfunc" id="8328127">make</span><span class="op" id="8328131">(</span><span class="op" id="8328132">[</span><span class="op" id="8328133">]</span><span class="keyword" id="8328134">interface</span><span class="op" id="8328143">{</span><span class="op" id="8328144">}</span><span class="op" id="8328145">,</span>&nbsp;<span class="num" id="8328147">100</span><span class="op" id="8328150">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328154">for</span>&nbsp;<span class="ident" id="8328158">i</span>&nbsp;<span class="op" id="8328160">:=</span>&nbsp;<span class="keyword" id="8328163">range</span>&nbsp;<span class="ident" id="8328169"><a href="/encoding/gob/timing_test.go.html#8328120">arr</a></span>&nbsp;<span class="op" id="8328173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328178"><a href="/encoding/gob/timing_test.go.html#8328120">arr</a></span><span class="op" id="8328181">[</span><span class="ident" id="8328182"><a href="/encoding/gob/timing_test.go.html#8328158">i</a></span><span class="op" id="8328183">]</span>&nbsp;<span class="op" id="8328185">=</span>&nbsp;<span class="ident" id="8328187"><a href="/encoding/gob/timing_test.go.html#8328060">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8328191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328195">return</span>&nbsp;<span class="op" id="8328202">&amp;</span><span class="ident" id="8328203"><a href="/encoding/gob/timing_test.go.html#8328120">arr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8328208">}</span><span class="op" id="8328209">,</span>&nbsp;<span class="keyword" id="8328211">func</span><span class="op" id="8328215">(</span><span class="op" id="8328216">)</span>&nbsp;<span class="op" id="8328218">(</span><span class="ident" id="8328219">r</span>&nbsp;<span class="ident" id="8328221"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8328223">.</span><span class="ident" id="8328224">Reader</span><span class="op" id="8328230">,</span>&nbsp;<span class="ident" id="8328232">w</span>&nbsp;<span class="ident" id="8328234"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8328236">.</span><span class="ident" id="8328237">Writer</span><span class="op" id="8328243">,</span>&nbsp;<span class="ident" id="8328245">err</span>&nbsp;<span class="builtintype" id="8328249">error</span><span class="op" id="8328254">)</span>&nbsp;<span class="op" id="8328256">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328260">var</span>&nbsp;<span class="ident" id="8328264">buf</span>&nbsp;<span class="ident" id="8328268"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8328273">.</span><span class="ident" id="8328274">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328283">return</span>&nbsp;<span class="op" id="8328290">&amp;</span><span class="ident" id="8328291"><a href="/encoding/gob/timing_test.go.html#8328264">buf</a></span><span class="op" id="8328294">,</span>&nbsp;<span class="op" id="8328296">&amp;</span><span class="ident" id="8328297"><a href="/encoding/gob/timing_test.go.html#8328264">buf</a></span><span class="op" id="8328300">,</span>&nbsp;<span class="ident" id="8328302">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8328307">}</span><span class="op" id="8328308">)</span><br>
<span class="lineno"></span><span class="op" id="8328310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="8328313">func</span>&nbsp;<span class="ident" id="8328318">TestCountEncodeMallocs</span><span class="op" id="8328340">(</span><span class="ident" id="8328341">t</span>&nbsp;<span class="op" id="8328343">*</span><span class="ident" id="8328344"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8328351">.</span><span class="ident" id="8328352">T</span><span class="op" id="8328353">)</span>&nbsp;<span class="op" id="8328355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328358">if</span>&nbsp;<span class="ident" id="8328361"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8328368">.</span><span class="ident" id="8328369">Short</span><span class="op" id="8328374">(</span><span class="op" id="8328375">)</span>&nbsp;<span class="op" id="8328377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328381"><a href="/encoding/gob/timing_test.go.html#8328341">t</a></span><span class="op" id="8328382">.</span><span class="ident" id="8328383">Skip</span><span class="op" id="8328387">(</span><span class="string" id="8328388">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="8328425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8328428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328431">if</span>&nbsp;<span class="ident" id="8328434"><a href="/encoding/gob/timing_test.go.html#8326840">runtime</a></span><span class="op" id="8328441">.</span><span class="ident" id="8328442">GOMAXPROCS</span><span class="op" id="8328452">(</span><span class="num" id="8328453">0</span><span class="op" id="8328454">)</span>&nbsp;<span class="op" id="8328456">&gt;</span>&nbsp;<span class="num" id="8328458">1</span>&nbsp;<span class="op" id="8328460">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328464"><a href="/encoding/gob/timing_test.go.html#8328341">t</a></span><span class="op" id="8328465">.</span><span class="ident" id="8328466">Skip</span><span class="op" id="8328470">(</span><span class="string" id="8328471">&#34;skipping;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="8328495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8328498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328502">const</span>&nbsp;<span class="ident" id="8328508">N</span>&nbsp;<span class="op" id="8328510">=</span>&nbsp;<span class="num" id="8328512">1000</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328519">var</span>&nbsp;<span class="ident" id="8328523">buf</span>&nbsp;<span class="ident" id="8328527"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8328532">.</span><span class="ident" id="8328533">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328541">enc</span>&nbsp;<span class="op" id="8328545">:=</span>&nbsp;<span class="ident" id="8328548"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8328558">(</span><span class="op" id="8328559">&amp;</span><span class="ident" id="8328560"><a href="/encoding/gob/timing_test.go.html#8328523">buf</a></span><span class="op" id="8328563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328566">bench</span>&nbsp;<span class="op" id="8328572">:=</span>&nbsp;<span class="op" id="8328575">&amp;</span><span class="ident" id="8328576"><a href="/encoding/gob/timing_test.go.html#8326869">Bench</a></span><span class="op" id="8328581">{</span><span class="num" id="8328582">7</span><span class="op" id="8328583">,</span>&nbsp;<span class="num" id="8328585">3.2</span><span class="op" id="8328588">,</span>&nbsp;<span class="string" id="8328590">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8328607">,</span>&nbsp;<span class="op" id="8328609">[</span><span class="op" id="8328610">]</span><span class="builtintype" id="8328611">byte</span><span class="op" id="8328615">(</span><span class="string" id="8328616">&#34;for&nbsp;all&nbsp;good&nbsp;men&#34;</span><span class="op" id="8328634">)</span><span class="op" id="8328635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328639">allocs</span>&nbsp;<span class="op" id="8328646">:=</span>&nbsp;<span class="ident" id="8328649"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8328656">.</span><span class="ident" id="8328657">AllocsPerRun</span><span class="op" id="8328669">(</span><span class="ident" id="8328670"><a href="/encoding/gob/timing_test.go.html#8328508">N</a></span><span class="op" id="8328671">,</span>&nbsp;<span class="keyword" id="8328673">func</span><span class="op" id="8328677">(</span><span class="op" id="8328678">)</span>&nbsp;<span class="op" id="8328680">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328684">err</span>&nbsp;<span class="op" id="8328688">:=</span>&nbsp;<span class="ident" id="8328691"><a href="/encoding/gob/timing_test.go.html#8328541">enc</a></span><span class="op" id="8328694">.</span><span class="ident" id="8328695">Encode</span><span class="op" id="8328701">(</span><span class="ident" id="8328702"><a href="/encoding/gob/timing_test.go.html#8328566">bench</a></span><span class="op" id="8328707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328711">if</span>&nbsp;<span class="ident" id="8328714"><a href="/encoding/gob/timing_test.go.html#8328684">err</a></span>&nbsp;<span class="op" id="8328718">!=</span>&nbsp;<span class="ident" id="8328721">nil</span>&nbsp;<span class="op" id="8328725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328730"><a href="/encoding/gob/timing_test.go.html#8328341">t</a></span><span class="op" id="8328731">.</span><span class="ident" id="8328732">Fatal</span><span class="op" id="8328737">(</span><span class="string" id="8328738">&#34;encode:&#34;</span><span class="op" id="8328747">,</span>&nbsp;<span class="ident" id="8328749"><a href="/encoding/gob/timing_test.go.html#8328684">err</a></span><span class="op" id="8328752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8328756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8328759">}</span><span class="op" id="8328760">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328763">if</span>&nbsp;<span class="ident" id="8328766"><a href="/encoding/gob/timing_test.go.html#8328639">allocs</a></span>&nbsp;<span class="op" id="8328773">!=</span>&nbsp;<span class="num" id="8328776">0</span>&nbsp;<span class="op" id="8328778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328782"><a href="/encoding/gob/timing_test.go.html#8328341">t</a></span><span class="op" id="8328783">.</span><span class="ident" id="8328784">Fatalf</span><span class="op" id="8328790">(</span><span class="string" id="8328791">&#34;mallocs&nbsp;per&nbsp;encode&nbsp;of&nbsp;type&nbsp;Bench:&nbsp;%v;&nbsp;wanted&nbsp;0\n&#34;</span><span class="op" id="8328841">,</span>&nbsp;<span class="ident" id="8328843"><a href="/encoding/gob/timing_test.go.html#8328639">allocs</a></span><span class="op" id="8328849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8328852">}</span><br>
<span class="lineno"></span><span class="op" id="8328854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="8328857">func</span>&nbsp;<span class="ident" id="8328862">TestCountDecodeMallocs</span><span class="op" id="8328884">(</span><span class="ident" id="8328885">t</span>&nbsp;<span class="op" id="8328887">*</span><span class="ident" id="8328888"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8328895">.</span><span class="ident" id="8328896">T</span><span class="op" id="8328897">)</span>&nbsp;<span class="op" id="8328899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328902">if</span>&nbsp;<span class="ident" id="8328905"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8328912">.</span><span class="ident" id="8328913">Short</span><span class="op" id="8328918">(</span><span class="op" id="8328919">)</span>&nbsp;<span class="op" id="8328921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8328925"><a href="/encoding/gob/timing_test.go.html#8328885">t</a></span><span class="op" id="8328926">.</span><span class="ident" id="8328927">Skip</span><span class="op" id="8328931">(</span><span class="string" id="8328932">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="8328969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8328972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8328975">if</span>&nbsp;<span class="ident" id="8328978"><a href="/encoding/gob/timing_test.go.html#8326840">runtime</a></span><span class="op" id="8328985">.</span><span class="ident" id="8328986">GOMAXPROCS</span><span class="op" id="8328996">(</span><span class="num" id="8328997">0</span><span class="op" id="8328998">)</span>&nbsp;<span class="op" id="8329000">&gt;</span>&nbsp;<span class="num" id="8329002">1</span>&nbsp;<span class="op" id="8329004">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329008"><a href="/encoding/gob/timing_test.go.html#8328885">t</a></span><span class="op" id="8329009">.</span><span class="ident" id="8329010">Skip</span><span class="op" id="8329014">(</span><span class="string" id="8329015">&#34;skipping;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="8329039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329046">const</span>&nbsp;<span class="ident" id="8329052">N</span>&nbsp;<span class="op" id="8329054">=</span>&nbsp;<span class="num" id="8329056">1000</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329063">var</span>&nbsp;<span class="ident" id="8329067">buf</span>&nbsp;<span class="ident" id="8329071"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8329076">.</span><span class="ident" id="8329077">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329085">enc</span>&nbsp;<span class="op" id="8329089">:=</span>&nbsp;<span class="ident" id="8329092"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8329102">(</span><span class="op" id="8329103">&amp;</span><span class="ident" id="8329104"><a href="/encoding/gob/timing_test.go.html#8329067">buf</a></span><span class="op" id="8329107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329110">bench</span>&nbsp;<span class="op" id="8329116">:=</span>&nbsp;<span class="op" id="8329119">&amp;</span><span class="ident" id="8329120"><a href="/encoding/gob/timing_test.go.html#8326869">Bench</a></span><span class="op" id="8329125">{</span><span class="num" id="8329126">7</span><span class="op" id="8329127">,</span>&nbsp;<span class="num" id="8329129">3.2</span><span class="op" id="8329132">,</span>&nbsp;<span class="string" id="8329134">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8329151">,</span>&nbsp;<span class="op" id="8329153">[</span><span class="op" id="8329154">]</span><span class="builtintype" id="8329155">byte</span><span class="op" id="8329159">(</span><span class="string" id="8329160">&#34;for&nbsp;all&nbsp;good&nbsp;men&#34;</span><span class="op" id="8329178">)</span><span class="op" id="8329179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8329183">//&nbsp;Fill&nbsp;the&nbsp;buffer&nbsp;with&nbsp;enough&nbsp;to&nbsp;decode</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329225"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8329232">.</span><span class="ident" id="8329233">AllocsPerRun</span><span class="op" id="8329245">(</span><span class="ident" id="8329246"><a href="/encoding/gob/timing_test.go.html#8329052">N</a></span><span class="op" id="8329247">,</span>&nbsp;<span class="keyword" id="8329249">func</span><span class="op" id="8329253">(</span><span class="op" id="8329254">)</span>&nbsp;<span class="op" id="8329256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329260">err</span>&nbsp;<span class="op" id="8329264">:=</span>&nbsp;<span class="ident" id="8329267"><a href="/encoding/gob/timing_test.go.html#8329085">enc</a></span><span class="op" id="8329270">.</span><span class="ident" id="8329271">Encode</span><span class="op" id="8329277">(</span><span class="ident" id="8329278"><a href="/encoding/gob/timing_test.go.html#8329110">bench</a></span><span class="op" id="8329283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329287">if</span>&nbsp;<span class="ident" id="8329290"><a href="/encoding/gob/timing_test.go.html#8329260">err</a></span>&nbsp;<span class="op" id="8329294">!=</span>&nbsp;<span class="ident" id="8329297">nil</span>&nbsp;<span class="op" id="8329301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329306"><a href="/encoding/gob/timing_test.go.html#8328885">t</a></span><span class="op" id="8329307">.</span><span class="ident" id="8329308">Fatal</span><span class="op" id="8329313">(</span><span class="string" id="8329314">&#34;encode:&#34;</span><span class="op" id="8329323">,</span>&nbsp;<span class="ident" id="8329325"><a href="/encoding/gob/timing_test.go.html#8329260">err</a></span><span class="op" id="8329328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329332">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329335">}</span><span class="op" id="8329336">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329340">dec</span>&nbsp;<span class="op" id="8329344">:=</span>&nbsp;<span class="ident" id="8329347"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8329357">(</span><span class="op" id="8329358">&amp;</span><span class="ident" id="8329359"><a href="/encoding/gob/timing_test.go.html#8329067">buf</a></span><span class="op" id="8329362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329365">allocs</span>&nbsp;<span class="op" id="8329372">:=</span>&nbsp;<span class="ident" id="8329375"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8329382">.</span><span class="ident" id="8329383">AllocsPerRun</span><span class="op" id="8329395">(</span><span class="ident" id="8329396"><a href="/encoding/gob/timing_test.go.html#8329052">N</a></span><span class="op" id="8329397">,</span>&nbsp;<span class="keyword" id="8329399">func</span><span class="op" id="8329403">(</span><span class="op" id="8329404">)</span>&nbsp;<span class="op" id="8329406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329410">*</span><span class="ident" id="8329411"><a href="/encoding/gob/timing_test.go.html#8329110">bench</a></span>&nbsp;<span class="op" id="8329417">=</span>&nbsp;<span class="ident" id="8329419"><a href="/encoding/gob/timing_test.go.html#8326869">Bench</a></span><span class="op" id="8329424">{</span><span class="op" id="8329425">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329429">err</span>&nbsp;<span class="op" id="8329433">:=</span>&nbsp;<span class="ident" id="8329436"><a href="/encoding/gob/timing_test.go.html#8329340">dec</a></span><span class="op" id="8329439">.</span><span class="ident" id="8329440">Decode</span><span class="op" id="8329446">(</span><span class="op" id="8329447">&amp;</span><span class="ident" id="8329448"><a href="/encoding/gob/timing_test.go.html#8329110">bench</a></span><span class="op" id="8329453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329457">if</span>&nbsp;<span class="ident" id="8329460"><a href="/encoding/gob/timing_test.go.html#8329429">err</a></span>&nbsp;<span class="op" id="8329464">!=</span>&nbsp;<span class="ident" id="8329467">nil</span>&nbsp;<span class="op" id="8329471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329476"><a href="/encoding/gob/timing_test.go.html#8328885">t</a></span><span class="op" id="8329477">.</span><span class="ident" id="8329478">Fatal</span><span class="op" id="8329483">(</span><span class="string" id="8329484">&#34;decode:&#34;</span><span class="op" id="8329493">,</span>&nbsp;<span class="ident" id="8329495"><a href="/encoding/gob/timing_test.go.html#8329429">err</a></span><span class="op" id="8329498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329505">}</span><span class="op" id="8329506">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329509">if</span>&nbsp;<span class="ident" id="8329512"><a href="/encoding/gob/timing_test.go.html#8329365">allocs</a></span>&nbsp;<span class="op" id="8329519">!=</span>&nbsp;<span class="num" id="8329522">4</span>&nbsp;<span class="op" id="8329524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329528"><a href="/encoding/gob/timing_test.go.html#8328885">t</a></span><span class="op" id="8329529">.</span><span class="ident" id="8329530">Fatalf</span><span class="op" id="8329536">(</span><span class="string" id="8329537">&#34;mallocs&nbsp;per&nbsp;decode&nbsp;of&nbsp;type&nbsp;Bench:&nbsp;%v;&nbsp;wanted&nbsp;4\n&#34;</span><span class="op" id="8329587">,</span>&nbsp;<span class="ident" id="8329589"><a href="/encoding/gob/timing_test.go.html#8329365">allocs</a></span><span class="op" id="8329595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329598">}</span><br>
<span class="lineno"></span><span class="op" id="8329600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="8329603">func</span>&nbsp;<span class="ident" id="8329608">BenchmarkEncodeComplex128Slice</span><span class="op" id="8329638">(</span><span class="ident" id="8329639">b</span>&nbsp;<span class="op" id="8329641">*</span><span class="ident" id="8329642"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8329649">.</span><span class="ident" id="8329650">B</span><span class="op" id="8329651">)</span>&nbsp;<span class="op" id="8329653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329656">var</span>&nbsp;<span class="ident" id="8329660">buf</span>&nbsp;<span class="ident" id="8329664"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8329669">.</span><span class="ident" id="8329670">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329678">enc</span>&nbsp;<span class="op" id="8329682">:=</span>&nbsp;<span class="ident" id="8329685"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8329695">(</span><span class="op" id="8329696">&amp;</span><span class="ident" id="8329697"><a href="/encoding/gob/timing_test.go.html#8329660">buf</a></span><span class="op" id="8329700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329703">a</span>&nbsp;<span class="op" id="8329705">:=</span>&nbsp;<span class="builtinfunc" id="8329708">make</span><span class="op" id="8329712">(</span><span class="op" id="8329713">[</span><span class="op" id="8329714">]</span><span class="builtintype" id="8329715">complex128</span><span class="op" id="8329725">,</span>&nbsp;<span class="num" id="8329727">1000</span><span class="op" id="8329731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329734">for</span>&nbsp;<span class="ident" id="8329738">i</span>&nbsp;<span class="op" id="8329740">:=</span>&nbsp;<span class="keyword" id="8329743">range</span>&nbsp;<span class="ident" id="8329749"><a href="/encoding/gob/timing_test.go.html#8329703">a</a></span>&nbsp;<span class="op" id="8329751">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329755"><a href="/encoding/gob/timing_test.go.html#8329703">a</a></span><span class="op" id="8329756">[</span><span class="ident" id="8329757"><a href="/encoding/gob/timing_test.go.html#8329738">i</a></span><span class="op" id="8329758">]</span>&nbsp;<span class="op" id="8329760">=</span>&nbsp;<span class="num" id="8329762">1.2</span>&nbsp;<span class="op" id="8329766">+</span>&nbsp;<span class="num" id="8329768">3.4i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329777"><a href="/encoding/gob/timing_test.go.html#8329639">b</a></span><span class="op" id="8329778">.</span><span class="ident" id="8329779">ResetTimer</span><span class="op" id="8329789">(</span><span class="op" id="8329790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329793">for</span>&nbsp;<span class="ident" id="8329797">i</span>&nbsp;<span class="op" id="8329799">:=</span>&nbsp;<span class="num" id="8329802">0</span><span class="op" id="8329803">;</span>&nbsp;<span class="ident" id="8329805"><a href="/encoding/gob/timing_test.go.html#8329797">i</a></span>&nbsp;<span class="op" id="8329807">&lt;</span>&nbsp;<span class="ident" id="8329809"><a href="/encoding/gob/timing_test.go.html#8329639">b</a></span><span class="op" id="8329810">.</span><span class="ident" id="8329811">N</span><span class="op" id="8329812">;</span>&nbsp;<span class="ident" id="8329814"><a href="/encoding/gob/timing_test.go.html#8329797">i</a></span><span class="op" id="8329815">++</span>&nbsp;<span class="op" id="8329818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329822"><a href="/encoding/gob/timing_test.go.html#8329660">buf</a></span><span class="op" id="8329825">.</span><span class="ident" id="8329826">Reset</span><span class="op" id="8329831">(</span><span class="op" id="8329832">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329836">err</span>&nbsp;<span class="op" id="8329840">:=</span>&nbsp;<span class="ident" id="8329843"><a href="/encoding/gob/timing_test.go.html#8329678">enc</a></span><span class="op" id="8329846">.</span><span class="ident" id="8329847">Encode</span><span class="op" id="8329853">(</span><span class="ident" id="8329854"><a href="/encoding/gob/timing_test.go.html#8329703">a</a></span><span class="op" id="8329855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329859">if</span>&nbsp;<span class="ident" id="8329862"><a href="/encoding/gob/timing_test.go.html#8329836">err</a></span>&nbsp;<span class="op" id="8329866">!=</span>&nbsp;<span class="ident" id="8329869">nil</span>&nbsp;<span class="op" id="8329873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329878"><a href="/encoding/gob/timing_test.go.html#8329639">b</a></span><span class="op" id="8329879">.</span><span class="ident" id="8329880">Fatal</span><span class="op" id="8329885">(</span><span class="ident" id="8329886"><a href="/encoding/gob/timing_test.go.html#8329836">err</a></span><span class="op" id="8329889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8329896">}</span><br>
<span class="lineno">150</span><span class="op" id="8329898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8329901">func</span>&nbsp;<span class="ident" id="8329906">BenchmarkEncodeFloat64Slice</span><span class="op" id="8329933">(</span><span class="ident" id="8329934">b</span>&nbsp;<span class="op" id="8329936">*</span><span class="ident" id="8329937"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8329944">.</span><span class="ident" id="8329945">B</span><span class="op" id="8329946">)</span>&nbsp;<span class="op" id="8329948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8329951">var</span>&nbsp;<span class="ident" id="8329955">buf</span>&nbsp;<span class="ident" id="8329959"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8329964">.</span><span class="ident" id="8329965">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329973">enc</span>&nbsp;<span class="op" id="8329977">:=</span>&nbsp;<span class="ident" id="8329980"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8329990">(</span><span class="op" id="8329991">&amp;</span><span class="ident" id="8329992"><a href="/encoding/gob/timing_test.go.html#8329955">buf</a></span><span class="op" id="8329995">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8329998">a</span>&nbsp;<span class="op" id="8330000">:=</span>&nbsp;<span class="builtinfunc" id="8330003">make</span><span class="op" id="8330007">(</span><span class="op" id="8330008">[</span><span class="op" id="8330009">]</span><span class="builtintype" id="8330010">float64</span><span class="op" id="8330017">,</span>&nbsp;<span class="num" id="8330019">1000</span><span class="op" id="8330023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330026">for</span>&nbsp;<span class="ident" id="8330030">i</span>&nbsp;<span class="op" id="8330032">:=</span>&nbsp;<span class="keyword" id="8330035">range</span>&nbsp;<span class="ident" id="8330041"><a href="/encoding/gob/timing_test.go.html#8329998">a</a></span>&nbsp;<span class="op" id="8330043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330047"><a href="/encoding/gob/timing_test.go.html#8329998">a</a></span><span class="op" id="8330048">[</span><span class="ident" id="8330049"><a href="/encoding/gob/timing_test.go.html#8330030">i</a></span><span class="op" id="8330050">]</span>&nbsp;<span class="op" id="8330052">=</span>&nbsp;<span class="num" id="8330054">1.23e4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330065"><a href="/encoding/gob/timing_test.go.html#8329934">b</a></span><span class="op" id="8330066">.</span><span class="ident" id="8330067">ResetTimer</span><span class="op" id="8330077">(</span><span class="op" id="8330078">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330081">for</span>&nbsp;<span class="ident" id="8330085">i</span>&nbsp;<span class="op" id="8330087">:=</span>&nbsp;<span class="num" id="8330090">0</span><span class="op" id="8330091">;</span>&nbsp;<span class="ident" id="8330093"><a href="/encoding/gob/timing_test.go.html#8330085">i</a></span>&nbsp;<span class="op" id="8330095">&lt;</span>&nbsp;<span class="ident" id="8330097"><a href="/encoding/gob/timing_test.go.html#8329934">b</a></span><span class="op" id="8330098">.</span><span class="ident" id="8330099">N</span><span class="op" id="8330100">;</span>&nbsp;<span class="ident" id="8330102"><a href="/encoding/gob/timing_test.go.html#8330085">i</a></span><span class="op" id="8330103">++</span>&nbsp;<span class="op" id="8330106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330110"><a href="/encoding/gob/timing_test.go.html#8329955">buf</a></span><span class="op" id="8330113">.</span><span class="ident" id="8330114">Reset</span><span class="op" id="8330119">(</span><span class="op" id="8330120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330124">err</span>&nbsp;<span class="op" id="8330128">:=</span>&nbsp;<span class="ident" id="8330131"><a href="/encoding/gob/timing_test.go.html#8329973">enc</a></span><span class="op" id="8330134">.</span><span class="ident" id="8330135">Encode</span><span class="op" id="8330141">(</span><span class="ident" id="8330142"><a href="/encoding/gob/timing_test.go.html#8329998">a</a></span><span class="op" id="8330143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330147">if</span>&nbsp;<span class="ident" id="8330150"><a href="/encoding/gob/timing_test.go.html#8330124">err</a></span>&nbsp;<span class="op" id="8330154">!=</span>&nbsp;<span class="ident" id="8330157">nil</span>&nbsp;<span class="op" id="8330161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330166"><a href="/encoding/gob/timing_test.go.html#8329934">b</a></span><span class="op" id="8330167">.</span><span class="ident" id="8330168">Fatal</span><span class="op" id="8330173">(</span><span class="ident" id="8330174"><a href="/encoding/gob/timing_test.go.html#8330124">err</a></span><span class="op" id="8330177">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330184">}</span><br>
<span class="lineno"></span><span class="op" id="8330186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8330189">func</span>&nbsp;<span class="ident" id="8330194">BenchmarkEncodeInt32Slice</span><span class="op" id="8330219">(</span><span class="ident" id="8330220">b</span>&nbsp;<span class="op" id="8330222">*</span><span class="ident" id="8330223"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8330230">.</span><span class="ident" id="8330231">B</span><span class="op" id="8330232">)</span>&nbsp;<span class="op" id="8330234">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330237">var</span>&nbsp;<span class="ident" id="8330241">buf</span>&nbsp;<span class="ident" id="8330245"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8330250">.</span><span class="ident" id="8330251">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330259">enc</span>&nbsp;<span class="op" id="8330263">:=</span>&nbsp;<span class="ident" id="8330266"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8330276">(</span><span class="op" id="8330277">&amp;</span><span class="ident" id="8330278"><a href="/encoding/gob/timing_test.go.html#8330241">buf</a></span><span class="op" id="8330281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330284">a</span>&nbsp;<span class="op" id="8330286">:=</span>&nbsp;<span class="builtinfunc" id="8330289">make</span><span class="op" id="8330293">(</span><span class="op" id="8330294">[</span><span class="op" id="8330295">]</span><span class="builtintype" id="8330296">int32</span><span class="op" id="8330301">,</span>&nbsp;<span class="num" id="8330303">1000</span><span class="op" id="8330307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330310">for</span>&nbsp;<span class="ident" id="8330314">i</span>&nbsp;<span class="op" id="8330316">:=</span>&nbsp;<span class="keyword" id="8330319">range</span>&nbsp;<span class="ident" id="8330325"><a href="/encoding/gob/timing_test.go.html#8330284">a</a></span>&nbsp;<span class="op" id="8330327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330331"><a href="/encoding/gob/timing_test.go.html#8330284">a</a></span><span class="op" id="8330332">[</span><span class="ident" id="8330333"><a href="/encoding/gob/timing_test.go.html#8330314">i</a></span><span class="op" id="8330334">]</span>&nbsp;<span class="op" id="8330336">=</span>&nbsp;<span class="num" id="8330338">1234</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330347"><a href="/encoding/gob/timing_test.go.html#8330220">b</a></span><span class="op" id="8330348">.</span><span class="ident" id="8330349">ResetTimer</span><span class="op" id="8330359">(</span><span class="op" id="8330360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330363">for</span>&nbsp;<span class="ident" id="8330367">i</span>&nbsp;<span class="op" id="8330369">:=</span>&nbsp;<span class="num" id="8330372">0</span><span class="op" id="8330373">;</span>&nbsp;<span class="ident" id="8330375"><a href="/encoding/gob/timing_test.go.html#8330367">i</a></span>&nbsp;<span class="op" id="8330377">&lt;</span>&nbsp;<span class="ident" id="8330379"><a href="/encoding/gob/timing_test.go.html#8330220">b</a></span><span class="op" id="8330380">.</span><span class="ident" id="8330381">N</span><span class="op" id="8330382">;</span>&nbsp;<span class="ident" id="8330384"><a href="/encoding/gob/timing_test.go.html#8330367">i</a></span><span class="op" id="8330385">++</span>&nbsp;<span class="op" id="8330388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330392"><a href="/encoding/gob/timing_test.go.html#8330241">buf</a></span><span class="op" id="8330395">.</span><span class="ident" id="8330396">Reset</span><span class="op" id="8330401">(</span><span class="op" id="8330402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330406">err</span>&nbsp;<span class="op" id="8330410">:=</span>&nbsp;<span class="ident" id="8330413"><a href="/encoding/gob/timing_test.go.html#8330259">enc</a></span><span class="op" id="8330416">.</span><span class="ident" id="8330417">Encode</span><span class="op" id="8330423">(</span><span class="ident" id="8330424"><a href="/encoding/gob/timing_test.go.html#8330284">a</a></span><span class="op" id="8330425">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330429">if</span>&nbsp;<span class="ident" id="8330432"><a href="/encoding/gob/timing_test.go.html#8330406">err</a></span>&nbsp;<span class="op" id="8330436">!=</span>&nbsp;<span class="ident" id="8330439">nil</span>&nbsp;<span class="op" id="8330443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330448"><a href="/encoding/gob/timing_test.go.html#8330220">b</a></span><span class="op" id="8330449">.</span><span class="ident" id="8330450">Fatal</span><span class="op" id="8330455">(</span><span class="ident" id="8330456"><a href="/encoding/gob/timing_test.go.html#8330406">err</a></span><span class="op" id="8330459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330466">}</span><br>
<span class="lineno"></span><span class="op" id="8330468">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="8330471">func</span>&nbsp;<span class="ident" id="8330476">BenchmarkEncodeStringSlice</span><span class="op" id="8330502">(</span><span class="ident" id="8330503">b</span>&nbsp;<span class="op" id="8330505">*</span><span class="ident" id="8330506"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8330513">.</span><span class="ident" id="8330514">B</span><span class="op" id="8330515">)</span>&nbsp;<span class="op" id="8330517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330520">var</span>&nbsp;<span class="ident" id="8330524">buf</span>&nbsp;<span class="ident" id="8330528"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8330533">.</span><span class="ident" id="8330534">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330542">enc</span>&nbsp;<span class="op" id="8330546">:=</span>&nbsp;<span class="ident" id="8330549"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8330559">(</span><span class="op" id="8330560">&amp;</span><span class="ident" id="8330561"><a href="/encoding/gob/timing_test.go.html#8330524">buf</a></span><span class="op" id="8330564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330567">a</span>&nbsp;<span class="op" id="8330569">:=</span>&nbsp;<span class="builtinfunc" id="8330572">make</span><span class="op" id="8330576">(</span><span class="op" id="8330577">[</span><span class="op" id="8330578">]</span><span class="builtintype" id="8330579">string</span><span class="op" id="8330585">,</span>&nbsp;<span class="num" id="8330587">1000</span><span class="op" id="8330591">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330594">for</span>&nbsp;<span class="ident" id="8330598">i</span>&nbsp;<span class="op" id="8330600">:=</span>&nbsp;<span class="keyword" id="8330603">range</span>&nbsp;<span class="ident" id="8330609"><a href="/encoding/gob/timing_test.go.html#8330567">a</a></span>&nbsp;<span class="op" id="8330611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330615"><a href="/encoding/gob/timing_test.go.html#8330567">a</a></span><span class="op" id="8330616">[</span><span class="ident" id="8330617"><a href="/encoding/gob/timing_test.go.html#8330598">i</a></span><span class="op" id="8330618">]</span>&nbsp;<span class="op" id="8330620">=</span>&nbsp;<span class="string" id="8330622">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330644"><a href="/encoding/gob/timing_test.go.html#8330503">b</a></span><span class="op" id="8330645">.</span><span class="ident" id="8330646">ResetTimer</span><span class="op" id="8330656">(</span><span class="op" id="8330657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330660">for</span>&nbsp;<span class="ident" id="8330664">i</span>&nbsp;<span class="op" id="8330666">:=</span>&nbsp;<span class="num" id="8330669">0</span><span class="op" id="8330670">;</span>&nbsp;<span class="ident" id="8330672"><a href="/encoding/gob/timing_test.go.html#8330664">i</a></span>&nbsp;<span class="op" id="8330674">&lt;</span>&nbsp;<span class="ident" id="8330676"><a href="/encoding/gob/timing_test.go.html#8330503">b</a></span><span class="op" id="8330677">.</span><span class="ident" id="8330678">N</span><span class="op" id="8330679">;</span>&nbsp;<span class="ident" id="8330681"><a href="/encoding/gob/timing_test.go.html#8330664">i</a></span><span class="op" id="8330682">++</span>&nbsp;<span class="op" id="8330685">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330689"><a href="/encoding/gob/timing_test.go.html#8330524">buf</a></span><span class="op" id="8330692">.</span><span class="ident" id="8330693">Reset</span><span class="op" id="8330698">(</span><span class="op" id="8330699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330703">err</span>&nbsp;<span class="op" id="8330707">:=</span>&nbsp;<span class="ident" id="8330710"><a href="/encoding/gob/timing_test.go.html#8330542">enc</a></span><span class="op" id="8330713">.</span><span class="ident" id="8330714">Encode</span><span class="op" id="8330720">(</span><span class="ident" id="8330721"><a href="/encoding/gob/timing_test.go.html#8330567">a</a></span><span class="op" id="8330722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330726">if</span>&nbsp;<span class="ident" id="8330729"><a href="/encoding/gob/timing_test.go.html#8330703">err</a></span>&nbsp;<span class="op" id="8330733">!=</span>&nbsp;<span class="ident" id="8330736">nil</span>&nbsp;<span class="op" id="8330740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330745"><a href="/encoding/gob/timing_test.go.html#8330503">b</a></span><span class="op" id="8330746">.</span><span class="ident" id="8330747">Fatal</span><span class="op" id="8330752">(</span><span class="ident" id="8330753"><a href="/encoding/gob/timing_test.go.html#8330703">err</a></span><span class="op" id="8330756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330760">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330763">}</span><br>
<span class="lineno"></span><span class="op" id="8330765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8330768">//&nbsp;benchmarkBuf&nbsp;is&nbsp;a&nbsp;read&nbsp;buffer&nbsp;we&nbsp;can&nbsp;reset</span><br>
<span class="lineno"></span><span class="keyword" id="8330814">type</span>&nbsp;<span class="ident" id="8330819">benchmarkBuf</span>&nbsp;<span class="keyword" id="8330832">struct</span>&nbsp;<span class="op" id="8330839">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330842">offset</span>&nbsp;<span class="builtintype" id="8330849">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330854">data</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8330861">[</span><span class="op" id="8330862">]</span><span class="builtintype" id="8330863">byte</span><br>
<span class="lineno"></span><span class="op" id="8330868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8330871">func</span>&nbsp;<span class="op" id="8330876">(</span><span class="ident" id="8330877">b</span>&nbsp;<span class="op" id="8330879">*</span><span class="ident" id="8330880"><a href="/encoding/gob/timing_test.go.html#8330819">benchmarkBuf</a></span><span class="op" id="8330892">)</span>&nbsp;<span class="ident" id="8330894">Read</span><span class="op" id="8330898">(</span><span class="ident" id="8330899">p</span>&nbsp;<span class="op" id="8330901">[</span><span class="op" id="8330902">]</span><span class="builtintype" id="8330903">byte</span><span class="op" id="8330907">)</span>&nbsp;<span class="op" id="8330909">(</span><span class="ident" id="8330910">n</span>&nbsp;<span class="builtintype" id="8330912">int</span><span class="op" id="8330915">,</span>&nbsp;<span class="ident" id="8330917">err</span>&nbsp;<span class="builtintype" id="8330921">error</span><span class="op" id="8330926">)</span>&nbsp;<span class="op" id="8330928">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330931"><a href="/encoding/gob/timing_test.go.html#8330910">n</a></span>&nbsp;<span class="op" id="8330933">=</span>&nbsp;<span class="builtinfunc" id="8330935">copy</span><span class="op" id="8330939">(</span><span class="ident" id="8330940"><a href="/encoding/gob/timing_test.go.html#8330899">p</a></span><span class="op" id="8330941">,</span>&nbsp;<span class="ident" id="8330943"><a href="/encoding/gob/timing_test.go.html#8330877">b</a></span><span class="op" id="8330944">.</span><span class="ident" id="8330945">data</span><span class="op" id="8330949">[</span><span class="ident" id="8330950"><a href="/encoding/gob/timing_test.go.html#8330877">b</a></span><span class="op" id="8330951">.</span><span class="ident" id="8330952">offset</span><span class="op" id="8330958">:</span><span class="op" id="8330959">]</span><span class="op" id="8330960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330963">if</span>&nbsp;<span class="ident" id="8330966"><a href="/encoding/gob/timing_test.go.html#8330910">n</a></span>&nbsp;<span class="op" id="8330968">==</span>&nbsp;<span class="num" id="8330971">0</span>&nbsp;<span class="op" id="8330973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8330977">return</span>&nbsp;<span class="num" id="8330984">0</span><span class="op" id="8330985">,</span>&nbsp;<span class="ident" id="8330987"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8330989">.</span><span class="ident" id="8330990">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8330995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8330998"><a href="/encoding/gob/timing_test.go.html#8330877">b</a></span><span class="op" id="8330999">.</span><span class="ident" id="8331000">offset</span>&nbsp;<span class="op" id="8331007">+=</span>&nbsp;<span class="ident" id="8331010"><a href="/encoding/gob/timing_test.go.html#8330910">n</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331013">return</span><br>
<span class="lineno"></span><span class="op" id="8331020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8331023">func</span>&nbsp;<span class="op" id="8331028">(</span><span class="ident" id="8331029">b</span>&nbsp;<span class="op" id="8331031">*</span><span class="ident" id="8331032"><a href="/encoding/gob/timing_test.go.html#8330819">benchmarkBuf</a></span><span class="op" id="8331044">)</span>&nbsp;<span class="ident" id="8331046">ReadByte</span><span class="op" id="8331054">(</span><span class="op" id="8331055">)</span>&nbsp;<span class="op" id="8331057">(</span><span class="ident" id="8331058">c</span>&nbsp;<span class="builtintype" id="8331060">byte</span><span class="op" id="8331064">,</span>&nbsp;<span class="ident" id="8331066">err</span>&nbsp;<span class="builtintype" id="8331070">error</span><span class="op" id="8331075">)</span>&nbsp;<span class="op" id="8331077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331080">if</span>&nbsp;<span class="ident" id="8331083"><a href="/encoding/gob/timing_test.go.html#8331029">b</a></span><span class="op" id="8331084">.</span><span class="ident" id="8331085">offset</span>&nbsp;<span class="op" id="8331092">&gt;=</span>&nbsp;<span class="builtinfunc" id="8331095">len</span><span class="op" id="8331098">(</span><span class="ident" id="8331099"><a href="/encoding/gob/timing_test.go.html#8331029">b</a></span><span class="op" id="8331100">.</span><span class="ident" id="8331101">data</span><span class="op" id="8331105">)</span>&nbsp;<span class="op" id="8331107">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331111">return</span>&nbsp;<span class="num" id="8331118">0</span><span class="op" id="8331119">,</span>&nbsp;<span class="ident" id="8331121"><a href="/encoding/gob/timing_test.go.html#8326828">io</a></span><span class="op" id="8331123">.</span><span class="ident" id="8331124">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8331129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331132"><a href="/encoding/gob/timing_test.go.html#8331058">c</a></span>&nbsp;<span class="op" id="8331134">=</span>&nbsp;<span class="ident" id="8331136"><a href="/encoding/gob/timing_test.go.html#8331029">b</a></span><span class="op" id="8331137">.</span><span class="ident" id="8331138">data</span><span class="op" id="8331142">[</span><span class="ident" id="8331143"><a href="/encoding/gob/timing_test.go.html#8331029">b</a></span><span class="op" id="8331144">.</span><span class="ident" id="8331145">offset</span><span class="op" id="8331151">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331154"><a href="/encoding/gob/timing_test.go.html#8331029">b</a></span><span class="op" id="8331155">.</span><span class="ident" id="8331156">offset</span><span class="op" id="8331162">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331166">return</span><br>
<span class="lineno">225</span><span class="op" id="8331173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8331176">func</span>&nbsp;<span class="op" id="8331181">(</span><span class="ident" id="8331182">b</span>&nbsp;<span class="op" id="8331184">*</span><span class="ident" id="8331185"><a href="/encoding/gob/timing_test.go.html#8330819">benchmarkBuf</a></span><span class="op" id="8331197">)</span>&nbsp;<span class="ident" id="8331199">reset</span><span class="op" id="8331204">(</span><span class="op" id="8331205">)</span>&nbsp;<span class="op" id="8331207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331210"><a href="/encoding/gob/timing_test.go.html#8331182">b</a></span><span class="op" id="8331211">.</span><span class="ident" id="8331212">offset</span>&nbsp;<span class="op" id="8331219">=</span>&nbsp;<span class="num" id="8331221">0</span><br>
<span class="lineno"></span><span class="op" id="8331223">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="8331226">func</span>&nbsp;<span class="ident" id="8331231">BenchmarkDecodeComplex128Slice</span><span class="op" id="8331261">(</span><span class="ident" id="8331262">b</span>&nbsp;<span class="op" id="8331264">*</span><span class="ident" id="8331265"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8331272">.</span><span class="ident" id="8331273">B</span><span class="op" id="8331274">)</span>&nbsp;<span class="op" id="8331276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331279">var</span>&nbsp;<span class="ident" id="8331283">buf</span>&nbsp;<span class="ident" id="8331287"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8331292">.</span><span class="ident" id="8331293">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331301">enc</span>&nbsp;<span class="op" id="8331305">:=</span>&nbsp;<span class="ident" id="8331308"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8331318">(</span><span class="op" id="8331319">&amp;</span><span class="ident" id="8331320"><a href="/encoding/gob/timing_test.go.html#8331283">buf</a></span><span class="op" id="8331323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331326">a</span>&nbsp;<span class="op" id="8331328">:=</span>&nbsp;<span class="builtinfunc" id="8331331">make</span><span class="op" id="8331335">(</span><span class="op" id="8331336">[</span><span class="op" id="8331337">]</span><span class="builtintype" id="8331338">complex128</span><span class="op" id="8331348">,</span>&nbsp;<span class="num" id="8331350">1000</span><span class="op" id="8331354">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331357">for</span>&nbsp;<span class="ident" id="8331361">i</span>&nbsp;<span class="op" id="8331363">:=</span>&nbsp;<span class="keyword" id="8331366">range</span>&nbsp;<span class="ident" id="8331372"><a href="/encoding/gob/timing_test.go.html#8331326">a</a></span>&nbsp;<span class="op" id="8331374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331378"><a href="/encoding/gob/timing_test.go.html#8331326">a</a></span><span class="op" id="8331379">[</span><span class="ident" id="8331380"><a href="/encoding/gob/timing_test.go.html#8331361">i</a></span><span class="op" id="8331381">]</span>&nbsp;<span class="op" id="8331383">=</span>&nbsp;<span class="num" id="8331385">1.2</span>&nbsp;<span class="op" id="8331389">+</span>&nbsp;<span class="num" id="8331391">3.4i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8331397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331400">err</span>&nbsp;<span class="op" id="8331404">:=</span>&nbsp;<span class="ident" id="8331407"><a href="/encoding/gob/timing_test.go.html#8331301">enc</a></span><span class="op" id="8331410">.</span><span class="ident" id="8331411">Encode</span><span class="op" id="8331417">(</span><span class="ident" id="8331418"><a href="/encoding/gob/timing_test.go.html#8331326">a</a></span><span class="op" id="8331419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331422">if</span>&nbsp;<span class="ident" id="8331425"><a href="/encoding/gob/timing_test.go.html#8331400">err</a></span>&nbsp;<span class="op" id="8331429">!=</span>&nbsp;<span class="ident" id="8331432">nil</span>&nbsp;<span class="op" id="8331436">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331440"><a href="/encoding/gob/timing_test.go.html#8331262">b</a></span><span class="op" id="8331441">.</span><span class="ident" id="8331442">Fatal</span><span class="op" id="8331447">(</span><span class="ident" id="8331448"><a href="/encoding/gob/timing_test.go.html#8331400">err</a></span><span class="op" id="8331451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8331454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331457">x</span>&nbsp;<span class="op" id="8331459">:=</span>&nbsp;<span class="builtinfunc" id="8331462">make</span><span class="op" id="8331466">(</span><span class="op" id="8331467">[</span><span class="op" id="8331468">]</span><span class="builtintype" id="8331469">complex128</span><span class="op" id="8331479">,</span>&nbsp;<span class="num" id="8331481">1000</span><span class="op" id="8331485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331488">bbuf</span>&nbsp;<span class="op" id="8331493">:=</span>&nbsp;<span class="ident" id="8331496"><a href="/encoding/gob/timing_test.go.html#8330819">benchmarkBuf</a></span><span class="op" id="8331508">{</span><span class="ident" id="8331509">data</span><span class="op" id="8331513">:</span>&nbsp;<span class="ident" id="8331515"><a href="/encoding/gob/timing_test.go.html#8331283">buf</a></span><span class="op" id="8331518">.</span><span class="ident" id="8331519">Bytes</span><span class="op" id="8331524">(</span><span class="op" id="8331525">)</span><span class="op" id="8331526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331529"><a href="/encoding/gob/timing_test.go.html#8331262">b</a></span><span class="op" id="8331530">.</span><span class="ident" id="8331531">ResetTimer</span><span class="op" id="8331541">(</span><span class="op" id="8331542">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331545">for</span>&nbsp;<span class="ident" id="8331549">i</span>&nbsp;<span class="op" id="8331551">:=</span>&nbsp;<span class="num" id="8331554">0</span><span class="op" id="8331555">;</span>&nbsp;<span class="ident" id="8331557"><a href="/encoding/gob/timing_test.go.html#8331549">i</a></span>&nbsp;<span class="op" id="8331559">&lt;</span>&nbsp;<span class="ident" id="8331561"><a href="/encoding/gob/timing_test.go.html#8331262">b</a></span><span class="op" id="8331562">.</span><span class="ident" id="8331563">N</span><span class="op" id="8331564">;</span>&nbsp;<span class="ident" id="8331566"><a href="/encoding/gob/timing_test.go.html#8331549">i</a></span><span class="op" id="8331567">++</span>&nbsp;<span class="op" id="8331570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331574"><a href="/encoding/gob/timing_test.go.html#8331488">bbuf</a></span><span class="op" id="8331578">.</span><span class="ident" id="8331579">reset</span><span class="op" id="8331584">(</span><span class="op" id="8331585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331589">dec</span>&nbsp;<span class="op" id="8331593">:=</span>&nbsp;<span class="ident" id="8331596"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8331606">(</span><span class="op" id="8331607">&amp;</span><span class="ident" id="8331608"><a href="/encoding/gob/timing_test.go.html#8331488">bbuf</a></span><span class="op" id="8331612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331616">err</span>&nbsp;<span class="op" id="8331620">:=</span>&nbsp;<span class="ident" id="8331623"><a href="/encoding/gob/timing_test.go.html#8331589">dec</a></span><span class="op" id="8331626">.</span><span class="ident" id="8331627">Decode</span><span class="op" id="8331633">(</span><span class="op" id="8331634">&amp;</span><span class="ident" id="8331635"><a href="/encoding/gob/timing_test.go.html#8331457">x</a></span><span class="op" id="8331636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331640">if</span>&nbsp;<span class="ident" id="8331643"><a href="/encoding/gob/timing_test.go.html#8331616">err</a></span>&nbsp;<span class="op" id="8331647">!=</span>&nbsp;<span class="ident" id="8331650">nil</span>&nbsp;<span class="op" id="8331654">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331659"><a href="/encoding/gob/timing_test.go.html#8331262">b</a></span><span class="op" id="8331660">.</span><span class="ident" id="8331661">Fatal</span><span class="op" id="8331666">(</span><span class="ident" id="8331667"><a href="/encoding/gob/timing_test.go.html#8331549">i</a></span><span class="op" id="8331668">,</span>&nbsp;<span class="ident" id="8331670"><a href="/encoding/gob/timing_test.go.html#8331616">err</a></span><span class="op" id="8331673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8331677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8331680">}</span><br>
<span class="lineno"></span><span class="op" id="8331682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="8331685">func</span>&nbsp;<span class="ident" id="8331690">BenchmarkDecodeFloat64Slice</span><span class="op" id="8331717">(</span><span class="ident" id="8331718">b</span>&nbsp;<span class="op" id="8331720">*</span><span class="ident" id="8331721"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8331728">.</span><span class="ident" id="8331729">B</span><span class="op" id="8331730">)</span>&nbsp;<span class="op" id="8331732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331735">var</span>&nbsp;<span class="ident" id="8331739">buf</span>&nbsp;<span class="ident" id="8331743"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8331748">.</span><span class="ident" id="8331749">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331757">enc</span>&nbsp;<span class="op" id="8331761">:=</span>&nbsp;<span class="ident" id="8331764"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8331774">(</span><span class="op" id="8331775">&amp;</span><span class="ident" id="8331776"><a href="/encoding/gob/timing_test.go.html#8331739">buf</a></span><span class="op" id="8331779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331782">a</span>&nbsp;<span class="op" id="8331784">:=</span>&nbsp;<span class="builtinfunc" id="8331787">make</span><span class="op" id="8331791">(</span><span class="op" id="8331792">[</span><span class="op" id="8331793">]</span><span class="builtintype" id="8331794">float64</span><span class="op" id="8331801">,</span>&nbsp;<span class="num" id="8331803">1000</span><span class="op" id="8331807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331810">for</span>&nbsp;<span class="ident" id="8331814">i</span>&nbsp;<span class="op" id="8331816">:=</span>&nbsp;<span class="keyword" id="8331819">range</span>&nbsp;<span class="ident" id="8331825"><a href="/encoding/gob/timing_test.go.html#8331782">a</a></span>&nbsp;<span class="op" id="8331827">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331831"><a href="/encoding/gob/timing_test.go.html#8331782">a</a></span><span class="op" id="8331832">[</span><span class="ident" id="8331833"><a href="/encoding/gob/timing_test.go.html#8331814">i</a></span><span class="op" id="8331834">]</span>&nbsp;<span class="op" id="8331836">=</span>&nbsp;<span class="num" id="8331838">1.23e4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8331846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331849">err</span>&nbsp;<span class="op" id="8331853">:=</span>&nbsp;<span class="ident" id="8331856"><a href="/encoding/gob/timing_test.go.html#8331757">enc</a></span><span class="op" id="8331859">.</span><span class="ident" id="8331860">Encode</span><span class="op" id="8331866">(</span><span class="ident" id="8331867"><a href="/encoding/gob/timing_test.go.html#8331782">a</a></span><span class="op" id="8331868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331871">if</span>&nbsp;<span class="ident" id="8331874"><a href="/encoding/gob/timing_test.go.html#8331849">err</a></span>&nbsp;<span class="op" id="8331878">!=</span>&nbsp;<span class="ident" id="8331881">nil</span>&nbsp;<span class="op" id="8331885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331889"><a href="/encoding/gob/timing_test.go.html#8331718">b</a></span><span class="op" id="8331890">.</span><span class="ident" id="8331891">Fatal</span><span class="op" id="8331896">(</span><span class="ident" id="8331897"><a href="/encoding/gob/timing_test.go.html#8331849">err</a></span><span class="op" id="8331900">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8331903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331906">x</span>&nbsp;<span class="op" id="8331908">:=</span>&nbsp;<span class="builtinfunc" id="8331911">make</span><span class="op" id="8331915">(</span><span class="op" id="8331916">[</span><span class="op" id="8331917">]</span><span class="builtintype" id="8331918">float64</span><span class="op" id="8331925">,</span>&nbsp;<span class="num" id="8331927">1000</span><span class="op" id="8331931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331934">bbuf</span>&nbsp;<span class="op" id="8331939">:=</span>&nbsp;<span class="ident" id="8331942"><a href="/encoding/gob/timing_test.go.html#8330819">benchmarkBuf</a></span><span class="op" id="8331954">{</span><span class="ident" id="8331955">data</span><span class="op" id="8331959">:</span>&nbsp;<span class="ident" id="8331961"><a href="/encoding/gob/timing_test.go.html#8331739">buf</a></span><span class="op" id="8331964">.</span><span class="ident" id="8331965">Bytes</span><span class="op" id="8331970">(</span><span class="op" id="8331971">)</span><span class="op" id="8331972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8331975"><a href="/encoding/gob/timing_test.go.html#8331718">b</a></span><span class="op" id="8331976">.</span><span class="ident" id="8331977">ResetTimer</span><span class="op" id="8331987">(</span><span class="op" id="8331988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8331991">for</span>&nbsp;<span class="ident" id="8331995">i</span>&nbsp;<span class="op" id="8331997">:=</span>&nbsp;<span class="num" id="8332000">0</span><span class="op" id="8332001">;</span>&nbsp;<span class="ident" id="8332003"><a href="/encoding/gob/timing_test.go.html#8331995">i</a></span>&nbsp;<span class="op" id="8332005">&lt;</span>&nbsp;<span class="ident" id="8332007"><a href="/encoding/gob/timing_test.go.html#8331718">b</a></span><span class="op" id="8332008">.</span><span class="ident" id="8332009">N</span><span class="op" id="8332010">;</span>&nbsp;<span class="ident" id="8332012"><a href="/encoding/gob/timing_test.go.html#8331995">i</a></span><span class="op" id="8332013">++</span>&nbsp;<span class="op" id="8332016">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332020"><a href="/encoding/gob/timing_test.go.html#8331934">bbuf</a></span><span class="op" id="8332024">.</span><span class="ident" id="8332025">reset</span><span class="op" id="8332030">(</span><span class="op" id="8332031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332035">dec</span>&nbsp;<span class="op" id="8332039">:=</span>&nbsp;<span class="ident" id="8332042"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8332052">(</span><span class="op" id="8332053">&amp;</span><span class="ident" id="8332054"><a href="/encoding/gob/timing_test.go.html#8331934">bbuf</a></span><span class="op" id="8332058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332062">err</span>&nbsp;<span class="op" id="8332066">:=</span>&nbsp;<span class="ident" id="8332069"><a href="/encoding/gob/timing_test.go.html#8332035">dec</a></span><span class="op" id="8332072">.</span><span class="ident" id="8332073">Decode</span><span class="op" id="8332079">(</span><span class="op" id="8332080">&amp;</span><span class="ident" id="8332081"><a href="/encoding/gob/timing_test.go.html#8331906">x</a></span><span class="op" id="8332082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332086">if</span>&nbsp;<span class="ident" id="8332089"><a href="/encoding/gob/timing_test.go.html#8332062">err</a></span>&nbsp;<span class="op" id="8332093">!=</span>&nbsp;<span class="ident" id="8332096">nil</span>&nbsp;<span class="op" id="8332100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332105"><a href="/encoding/gob/timing_test.go.html#8331718">b</a></span><span class="op" id="8332106">.</span><span class="ident" id="8332107">Fatal</span><span class="op" id="8332112">(</span><span class="ident" id="8332113"><a href="/encoding/gob/timing_test.go.html#8331995">i</a></span><span class="op" id="8332114">,</span>&nbsp;<span class="ident" id="8332116"><a href="/encoding/gob/timing_test.go.html#8332062">err</a></span><span class="op" id="8332119">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8332123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8332126">}</span><br>
<span class="lineno"></span><span class="op" id="8332128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8332131">func</span>&nbsp;<span class="ident" id="8332136">BenchmarkDecodeInt32Slice</span><span class="op" id="8332161">(</span><span class="ident" id="8332162">b</span>&nbsp;<span class="op" id="8332164">*</span><span class="ident" id="8332165"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8332172">.</span><span class="ident" id="8332173">B</span><span class="op" id="8332174">)</span>&nbsp;<span class="op" id="8332176">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332179">var</span>&nbsp;<span class="ident" id="8332183">buf</span>&nbsp;<span class="ident" id="8332187"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8332192">.</span><span class="ident" id="8332193">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332201">enc</span>&nbsp;<span class="op" id="8332205">:=</span>&nbsp;<span class="ident" id="8332208"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8332218">(</span><span class="op" id="8332219">&amp;</span><span class="ident" id="8332220"><a href="/encoding/gob/timing_test.go.html#8332183">buf</a></span><span class="op" id="8332223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332226">a</span>&nbsp;<span class="op" id="8332228">:=</span>&nbsp;<span class="builtinfunc" id="8332231">make</span><span class="op" id="8332235">(</span><span class="op" id="8332236">[</span><span class="op" id="8332237">]</span><span class="builtintype" id="8332238">int32</span><span class="op" id="8332243">,</span>&nbsp;<span class="num" id="8332245">1000</span><span class="op" id="8332249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332252">for</span>&nbsp;<span class="ident" id="8332256">i</span>&nbsp;<span class="op" id="8332258">:=</span>&nbsp;<span class="keyword" id="8332261">range</span>&nbsp;<span class="ident" id="8332267"><a href="/encoding/gob/timing_test.go.html#8332226">a</a></span>&nbsp;<span class="op" id="8332269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332273"><a href="/encoding/gob/timing_test.go.html#8332226">a</a></span><span class="op" id="8332274">[</span><span class="ident" id="8332275"><a href="/encoding/gob/timing_test.go.html#8332256">i</a></span><span class="op" id="8332276">]</span>&nbsp;<span class="op" id="8332278">=</span>&nbsp;<span class="num" id="8332280">1234</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8332286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332289">err</span>&nbsp;<span class="op" id="8332293">:=</span>&nbsp;<span class="ident" id="8332296"><a href="/encoding/gob/timing_test.go.html#8332201">enc</a></span><span class="op" id="8332299">.</span><span class="ident" id="8332300">Encode</span><span class="op" id="8332306">(</span><span class="ident" id="8332307"><a href="/encoding/gob/timing_test.go.html#8332226">a</a></span><span class="op" id="8332308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332311">if</span>&nbsp;<span class="ident" id="8332314"><a href="/encoding/gob/timing_test.go.html#8332289">err</a></span>&nbsp;<span class="op" id="8332318">!=</span>&nbsp;<span class="ident" id="8332321">nil</span>&nbsp;<span class="op" id="8332325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332329"><a href="/encoding/gob/timing_test.go.html#8332162">b</a></span><span class="op" id="8332330">.</span><span class="ident" id="8332331">Fatal</span><span class="op" id="8332336">(</span><span class="ident" id="8332337"><a href="/encoding/gob/timing_test.go.html#8332289">err</a></span><span class="op" id="8332340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8332343">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332346">x</span>&nbsp;<span class="op" id="8332348">:=</span>&nbsp;<span class="builtinfunc" id="8332351">make</span><span class="op" id="8332355">(</span><span class="op" id="8332356">[</span><span class="op" id="8332357">]</span><span class="builtintype" id="8332358">int32</span><span class="op" id="8332363">,</span>&nbsp;<span class="num" id="8332365">1000</span><span class="op" id="8332369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332372">bbuf</span>&nbsp;<span class="op" id="8332377">:=</span>&nbsp;<span class="ident" id="8332380"><a href="/encoding/gob/timing_test.go.html#8330819">benchmarkBuf</a></span><span class="op" id="8332392">{</span><span class="ident" id="8332393">data</span><span class="op" id="8332397">:</span>&nbsp;<span class="ident" id="8332399"><a href="/encoding/gob/timing_test.go.html#8332183">buf</a></span><span class="op" id="8332402">.</span><span class="ident" id="8332403">Bytes</span><span class="op" id="8332408">(</span><span class="op" id="8332409">)</span><span class="op" id="8332410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332413"><a href="/encoding/gob/timing_test.go.html#8332162">b</a></span><span class="op" id="8332414">.</span><span class="ident" id="8332415">ResetTimer</span><span class="op" id="8332425">(</span><span class="op" id="8332426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332429">for</span>&nbsp;<span class="ident" id="8332433">i</span>&nbsp;<span class="op" id="8332435">:=</span>&nbsp;<span class="num" id="8332438">0</span><span class="op" id="8332439">;</span>&nbsp;<span class="ident" id="8332441"><a href="/encoding/gob/timing_test.go.html#8332433">i</a></span>&nbsp;<span class="op" id="8332443">&lt;</span>&nbsp;<span class="ident" id="8332445"><a href="/encoding/gob/timing_test.go.html#8332162">b</a></span><span class="op" id="8332446">.</span><span class="ident" id="8332447">N</span><span class="op" id="8332448">;</span>&nbsp;<span class="ident" id="8332450"><a href="/encoding/gob/timing_test.go.html#8332433">i</a></span><span class="op" id="8332451">++</span>&nbsp;<span class="op" id="8332454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332458"><a href="/encoding/gob/timing_test.go.html#8332372">bbuf</a></span><span class="op" id="8332462">.</span><span class="ident" id="8332463">reset</span><span class="op" id="8332468">(</span><span class="op" id="8332469">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332473">dec</span>&nbsp;<span class="op" id="8332477">:=</span>&nbsp;<span class="ident" id="8332480"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8332490">(</span><span class="op" id="8332491">&amp;</span><span class="ident" id="8332492"><a href="/encoding/gob/timing_test.go.html#8332372">bbuf</a></span><span class="op" id="8332496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332500">err</span>&nbsp;<span class="op" id="8332504">:=</span>&nbsp;<span class="ident" id="8332507"><a href="/encoding/gob/timing_test.go.html#8332473">dec</a></span><span class="op" id="8332510">.</span><span class="ident" id="8332511">Decode</span><span class="op" id="8332517">(</span><span class="op" id="8332518">&amp;</span><span class="ident" id="8332519"><a href="/encoding/gob/timing_test.go.html#8332346">x</a></span><span class="op" id="8332520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332524">if</span>&nbsp;<span class="ident" id="8332527"><a href="/encoding/gob/timing_test.go.html#8332500">err</a></span>&nbsp;<span class="op" id="8332531">!=</span>&nbsp;<span class="ident" id="8332534">nil</span>&nbsp;<span class="op" id="8332538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332543"><a href="/encoding/gob/timing_test.go.html#8332162">b</a></span><span class="op" id="8332544">.</span><span class="ident" id="8332545">Fatal</span><span class="op" id="8332550">(</span><span class="ident" id="8332551"><a href="/encoding/gob/timing_test.go.html#8332433">i</a></span><span class="op" id="8332552">,</span>&nbsp;<span class="ident" id="8332554"><a href="/encoding/gob/timing_test.go.html#8332500">err</a></span><span class="op" id="8332557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8332561">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8332564">}</span><br>
<span class="lineno"></span><span class="op" id="8332566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8332569">func</span>&nbsp;<span class="ident" id="8332574">BenchmarkDecodeStringSlice</span><span class="op" id="8332600">(</span><span class="ident" id="8332601">b</span>&nbsp;<span class="op" id="8332603">*</span><span class="ident" id="8332604"><a href="/encoding/gob/timing_test.go.html#8326851">testing</a></span><span class="op" id="8332611">.</span><span class="ident" id="8332612">B</span><span class="op" id="8332613">)</span>&nbsp;<span class="op" id="8332615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332618">var</span>&nbsp;<span class="ident" id="8332622">buf</span>&nbsp;<span class="ident" id="8332626"><a href="/encoding/gob/timing_test.go.html#8326819">bytes</a></span><span class="op" id="8332631">.</span><span class="ident" id="8332632">Buffer</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332640">enc</span>&nbsp;<span class="op" id="8332644">:=</span>&nbsp;<span class="ident" id="8332647"><a href="/encoding/gob/encoder.go.html#5130396">NewEncoder</a></span><span class="op" id="8332657">(</span><span class="op" id="8332658">&amp;</span><span class="ident" id="8332659"><a href="/encoding/gob/timing_test.go.html#8332622">buf</a></span><span class="op" id="8332662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332665">a</span>&nbsp;<span class="op" id="8332667">:=</span>&nbsp;<span class="builtinfunc" id="8332670">make</span><span class="op" id="8332674">(</span><span class="op" id="8332675">[</span><span class="op" id="8332676">]</span><span class="builtintype" id="8332677">string</span><span class="op" id="8332683">,</span>&nbsp;<span class="num" id="8332685">1000</span><span class="op" id="8332689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332692">for</span>&nbsp;<span class="ident" id="8332696">i</span>&nbsp;<span class="op" id="8332698">:=</span>&nbsp;<span class="keyword" id="8332701">range</span>&nbsp;<span class="ident" id="8332707"><a href="/encoding/gob/timing_test.go.html#8332665">a</a></span>&nbsp;<span class="op" id="8332709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332713"><a href="/encoding/gob/timing_test.go.html#8332665">a</a></span><span class="op" id="8332714">[</span><span class="ident" id="8332715"><a href="/encoding/gob/timing_test.go.html#8332696">i</a></span><span class="op" id="8332716">]</span>&nbsp;<span class="op" id="8332718">=</span>&nbsp;<span class="string" id="8332720">&#34;now&nbsp;is&nbsp;the&nbsp;time&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8332739">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332742">err</span>&nbsp;<span class="op" id="8332746">:=</span>&nbsp;<span class="ident" id="8332749"><a href="/encoding/gob/timing_test.go.html#8332640">enc</a></span><span class="op" id="8332752">.</span><span class="ident" id="8332753">Encode</span><span class="op" id="8332759">(</span><span class="ident" id="8332760"><a href="/encoding/gob/timing_test.go.html#8332665">a</a></span><span class="op" id="8332761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332764">if</span>&nbsp;<span class="ident" id="8332767"><a href="/encoding/gob/timing_test.go.html#8332742">err</a></span>&nbsp;<span class="op" id="8332771">!=</span>&nbsp;<span class="ident" id="8332774">nil</span>&nbsp;<span class="op" id="8332778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332782"><a href="/encoding/gob/timing_test.go.html#8332601">b</a></span><span class="op" id="8332783">.</span><span class="ident" id="8332784">Fatal</span><span class="op" id="8332789">(</span><span class="ident" id="8332790"><a href="/encoding/gob/timing_test.go.html#8332742">err</a></span><span class="op" id="8332793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8332796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332799">x</span>&nbsp;<span class="op" id="8332801">:=</span>&nbsp;<span class="builtinfunc" id="8332804">make</span><span class="op" id="8332808">(</span><span class="op" id="8332809">[</span><span class="op" id="8332810">]</span><span class="builtintype" id="8332811">string</span><span class="op" id="8332817">,</span>&nbsp;<span class="num" id="8332819">1000</span><span class="op" id="8332823">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332826">bbuf</span>&nbsp;<span class="op" id="8332831">:=</span>&nbsp;<span class="ident" id="8332834"><a href="/encoding/gob/timing_test.go.html#8330819">benchmarkBuf</a></span><span class="op" id="8332846">{</span><span class="ident" id="8332847">data</span><span class="op" id="8332851">:</span>&nbsp;<span class="ident" id="8332853"><a href="/encoding/gob/timing_test.go.html#8332622">buf</a></span><span class="op" id="8332856">.</span><span class="ident" id="8332857">Bytes</span><span class="op" id="8332862">(</span><span class="op" id="8332863">)</span><span class="op" id="8332864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332867"><a href="/encoding/gob/timing_test.go.html#8332601">b</a></span><span class="op" id="8332868">.</span><span class="ident" id="8332869">ResetTimer</span><span class="op" id="8332879">(</span><span class="op" id="8332880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332883">for</span>&nbsp;<span class="ident" id="8332887">i</span>&nbsp;<span class="op" id="8332889">:=</span>&nbsp;<span class="num" id="8332892">0</span><span class="op" id="8332893">;</span>&nbsp;<span class="ident" id="8332895"><a href="/encoding/gob/timing_test.go.html#8332887">i</a></span>&nbsp;<span class="op" id="8332897">&lt;</span>&nbsp;<span class="ident" id="8332899"><a href="/encoding/gob/timing_test.go.html#8332601">b</a></span><span class="op" id="8332900">.</span><span class="ident" id="8332901">N</span><span class="op" id="8332902">;</span>&nbsp;<span class="ident" id="8332904"><a href="/encoding/gob/timing_test.go.html#8332887">i</a></span><span class="op" id="8332905">++</span>&nbsp;<span class="op" id="8332908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332912"><a href="/encoding/gob/timing_test.go.html#8332826">bbuf</a></span><span class="op" id="8332916">.</span><span class="ident" id="8332917">reset</span><span class="op" id="8332922">(</span><span class="op" id="8332923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332927">dec</span>&nbsp;<span class="op" id="8332931">:=</span>&nbsp;<span class="ident" id="8332934"><a href="/encoding/gob/decoder.go.html#5077981">NewDecoder</a></span><span class="op" id="8332944">(</span><span class="op" id="8332945">&amp;</span><span class="ident" id="8332946"><a href="/encoding/gob/timing_test.go.html#8332826">bbuf</a></span><span class="op" id="8332950">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332954">err</span>&nbsp;<span class="op" id="8332958">:=</span>&nbsp;<span class="ident" id="8332961"><a href="/encoding/gob/timing_test.go.html#8332927">dec</a></span><span class="op" id="8332964">.</span><span class="ident" id="8332965">Decode</span><span class="op" id="8332971">(</span><span class="op" id="8332972">&amp;</span><span class="ident" id="8332973"><a href="/encoding/gob/timing_test.go.html#8332799">x</a></span><span class="op" id="8332974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8332978">if</span>&nbsp;<span class="ident" id="8332981"><a href="/encoding/gob/timing_test.go.html#8332954">err</a></span>&nbsp;<span class="op" id="8332985">!=</span>&nbsp;<span class="ident" id="8332988">nil</span>&nbsp;<span class="op" id="8332992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8332997"><a href="/encoding/gob/timing_test.go.html#8332601">b</a></span><span class="op" id="8332998">.</span><span class="ident" id="8332999">Fatal</span><span class="op" id="8333004">(</span><span class="ident" id="8333005"><a href="/encoding/gob/timing_test.go.html#8332887">i</a></span><span class="op" id="8333006">,</span>&nbsp;<span class="ident" id="8333008"><a href="/encoding/gob/timing_test.go.html#8332954">err</a></span><span class="op" id="8333011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8333015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8333018">}</span><br>
<span class="lineno">325</span><span class="op" id="8333020">}</span>
</div>
</body>
</html>
