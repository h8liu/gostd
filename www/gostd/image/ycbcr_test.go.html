<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8555212">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8555267">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8555321">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8555372">package</span>&nbsp;<span class="ident" id="8555380">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8555387">import</span>&nbsp;<span class="op" id="8555394">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8555397">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8555412">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8555422">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8555425">func</span>&nbsp;<span class="ident" id="8555430">TestYCbCr</span><span class="op" id="8555439">(</span><span class="ident" id="8555440">t</span>&nbsp;<span class="op" id="8555442">*</span><span class="ident" id="8555443">testing</span><span class="op" id="8555450">.</span><span class="ident" id="8555451">T</span><span class="op" id="8555452">)</span>&nbsp;<span class="op" id="8555454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555457">rects</span>&nbsp;<span class="op" id="8555463">:=</span>&nbsp;<span class="op" id="8555466">[</span><span class="op" id="8555467">]</span><span class="ident" id="8555468">Rectangle</span><span class="op" id="8555477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555481">Rect</span><span class="op" id="8555485">(</span><span class="num" id="8555486">0</span><span class="op" id="8555487">,</span>&nbsp;<span class="num" id="8555489">0</span><span class="op" id="8555490">,</span>&nbsp;<span class="num" id="8555492">16</span><span class="op" id="8555494">,</span>&nbsp;<span class="num" id="8555496">16</span><span class="op" id="8555498">)</span><span class="op" id="8555499">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555503">Rect</span><span class="op" id="8555507">(</span><span class="num" id="8555508">1</span><span class="op" id="8555509">,</span>&nbsp;<span class="num" id="8555511">0</span><span class="op" id="8555512">,</span>&nbsp;<span class="num" id="8555514">16</span><span class="op" id="8555516">,</span>&nbsp;<span class="num" id="8555518">16</span><span class="op" id="8555520">)</span><span class="op" id="8555521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555525">Rect</span><span class="op" id="8555529">(</span><span class="num" id="8555530">0</span><span class="op" id="8555531">,</span>&nbsp;<span class="num" id="8555533">1</span><span class="op" id="8555534">,</span>&nbsp;<span class="num" id="8555536">16</span><span class="op" id="8555538">,</span>&nbsp;<span class="num" id="8555540">16</span><span class="op" id="8555542">)</span><span class="op" id="8555543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555547">Rect</span><span class="op" id="8555551">(</span><span class="num" id="8555552">1</span><span class="op" id="8555553">,</span>&nbsp;<span class="num" id="8555555">1</span><span class="op" id="8555556">,</span>&nbsp;<span class="num" id="8555558">16</span><span class="op" id="8555560">,</span>&nbsp;<span class="num" id="8555562">16</span><span class="op" id="8555564">)</span><span class="op" id="8555565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555569">Rect</span><span class="op" id="8555573">(</span><span class="num" id="8555574">1</span><span class="op" id="8555575">,</span>&nbsp;<span class="num" id="8555577">1</span><span class="op" id="8555578">,</span>&nbsp;<span class="num" id="8555580">15</span><span class="op" id="8555582">,</span>&nbsp;<span class="num" id="8555584">16</span><span class="op" id="8555586">)</span><span class="op" id="8555587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555591">Rect</span><span class="op" id="8555595">(</span><span class="num" id="8555596">1</span><span class="op" id="8555597">,</span>&nbsp;<span class="num" id="8555599">1</span><span class="op" id="8555600">,</span>&nbsp;<span class="num" id="8555602">16</span><span class="op" id="8555604">,</span>&nbsp;<span class="num" id="8555606">15</span><span class="op" id="8555608">)</span><span class="op" id="8555609">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555613">Rect</span><span class="op" id="8555617">(</span><span class="num" id="8555618">1</span><span class="op" id="8555619">,</span>&nbsp;<span class="num" id="8555621">1</span><span class="op" id="8555622">,</span>&nbsp;<span class="num" id="8555624">15</span><span class="op" id="8555626">,</span>&nbsp;<span class="num" id="8555628">15</span><span class="op" id="8555630">)</span><span class="op" id="8555631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555635">Rect</span><span class="op" id="8555639">(</span><span class="num" id="8555640">2</span><span class="op" id="8555641">,</span>&nbsp;<span class="num" id="8555643">3</span><span class="op" id="8555644">,</span>&nbsp;<span class="num" id="8555646">14</span><span class="op" id="8555648">,</span>&nbsp;<span class="num" id="8555650">15</span><span class="op" id="8555652">)</span><span class="op" id="8555653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555657">Rect</span><span class="op" id="8555661">(</span><span class="num" id="8555662">7</span><span class="op" id="8555663">,</span>&nbsp;<span class="num" id="8555665">0</span><span class="op" id="8555666">,</span>&nbsp;<span class="num" id="8555668">7</span><span class="op" id="8555669">,</span>&nbsp;<span class="num" id="8555671">16</span><span class="op" id="8555673">)</span><span class="op" id="8555674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555678">Rect</span><span class="op" id="8555682">(</span><span class="num" id="8555683">0</span><span class="op" id="8555684">,</span>&nbsp;<span class="num" id="8555686">8</span><span class="op" id="8555687">,</span>&nbsp;<span class="num" id="8555689">16</span><span class="op" id="8555691">,</span>&nbsp;<span class="num" id="8555693">8</span><span class="op" id="8555694">)</span><span class="op" id="8555695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555699">Rect</span><span class="op" id="8555703">(</span><span class="num" id="8555704">0</span><span class="op" id="8555705">,</span>&nbsp;<span class="num" id="8555707">0</span><span class="op" id="8555708">,</span>&nbsp;<span class="num" id="8555710">10</span><span class="op" id="8555712">,</span>&nbsp;<span class="num" id="8555714">11</span><span class="op" id="8555716">)</span><span class="op" id="8555717">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555721">Rect</span><span class="op" id="8555725">(</span><span class="num" id="8555726">5</span><span class="op" id="8555727">,</span>&nbsp;<span class="num" id="8555729">6</span><span class="op" id="8555730">,</span>&nbsp;<span class="num" id="8555732">16</span><span class="op" id="8555734">,</span>&nbsp;<span class="num" id="8555736">16</span><span class="op" id="8555738">)</span><span class="op" id="8555739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555743">Rect</span><span class="op" id="8555747">(</span><span class="num" id="8555748">7</span><span class="op" id="8555749">,</span>&nbsp;<span class="num" id="8555751">7</span><span class="op" id="8555752">,</span>&nbsp;<span class="num" id="8555754">8</span><span class="op" id="8555755">,</span>&nbsp;<span class="num" id="8555757">8</span><span class="op" id="8555758">)</span><span class="op" id="8555759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555763">Rect</span><span class="op" id="8555767">(</span><span class="num" id="8555768">7</span><span class="op" id="8555769">,</span>&nbsp;<span class="num" id="8555771">8</span><span class="op" id="8555772">,</span>&nbsp;<span class="num" id="8555774">8</span><span class="op" id="8555775">,</span>&nbsp;<span class="num" id="8555777">9</span><span class="op" id="8555778">)</span><span class="op" id="8555779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555783">Rect</span><span class="op" id="8555787">(</span><span class="num" id="8555788">8</span><span class="op" id="8555789">,</span>&nbsp;<span class="num" id="8555791">7</span><span class="op" id="8555792">,</span>&nbsp;<span class="num" id="8555794">9</span><span class="op" id="8555795">,</span>&nbsp;<span class="num" id="8555797">8</span><span class="op" id="8555798">)</span><span class="op" id="8555799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555803">Rect</span><span class="op" id="8555807">(</span><span class="num" id="8555808">8</span><span class="op" id="8555809">,</span>&nbsp;<span class="num" id="8555811">8</span><span class="op" id="8555812">,</span>&nbsp;<span class="num" id="8555814">9</span><span class="op" id="8555815">,</span>&nbsp;<span class="num" id="8555817">9</span><span class="op" id="8555818">)</span><span class="op" id="8555819">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555823">Rect</span><span class="op" id="8555827">(</span><span class="num" id="8555828">7</span><span class="op" id="8555829">,</span>&nbsp;<span class="num" id="8555831">7</span><span class="op" id="8555832">,</span>&nbsp;<span class="num" id="8555834">17</span><span class="op" id="8555836">,</span>&nbsp;<span class="num" id="8555838">17</span><span class="op" id="8555840">)</span><span class="op" id="8555841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555845">Rect</span><span class="op" id="8555849">(</span><span class="num" id="8555850">8</span><span class="op" id="8555851">,</span>&nbsp;<span class="num" id="8555853">8</span><span class="op" id="8555854">,</span>&nbsp;<span class="num" id="8555856">17</span><span class="op" id="8555858">,</span>&nbsp;<span class="num" id="8555860">17</span><span class="op" id="8555862">)</span><span class="op" id="8555863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555867">Rect</span><span class="op" id="8555871">(</span><span class="num" id="8555872">9</span><span class="op" id="8555873">,</span>&nbsp;<span class="num" id="8555875">9</span><span class="op" id="8555876">,</span>&nbsp;<span class="num" id="8555878">17</span><span class="op" id="8555880">,</span>&nbsp;<span class="num" id="8555882">17</span><span class="op" id="8555884">)</span><span class="op" id="8555885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555889">Rect</span><span class="op" id="8555893">(</span><span class="num" id="8555894">10</span><span class="op" id="8555896">,</span>&nbsp;<span class="num" id="8555898">10</span><span class="op" id="8555900">,</span>&nbsp;<span class="num" id="8555902">17</span><span class="op" id="8555904">,</span>&nbsp;<span class="num" id="8555906">17</span><span class="op" id="8555908">)</span><span class="op" id="8555909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8555912">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555915">subsampleRatios</span>&nbsp;<span class="op" id="8555931">:=</span>&nbsp;<span class="op" id="8555934">[</span><span class="op" id="8555935">]</span><span class="ident" id="8555936">YCbCrSubsampleRatio</span><span class="op" id="8555955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555959">YCbCrSubsampleRatio444</span><span class="op" id="8555981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555985">YCbCrSubsampleRatio422</span><span class="op" id="8556007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556011">YCbCrSubsampleRatio420</span><span class="op" id="8556033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556037">YCbCrSubsampleRatio440</span><span class="op" id="8556059">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8556062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556065">deltas</span>&nbsp;<span class="op" id="8556072">:=</span>&nbsp;<span class="op" id="8556075">[</span><span class="op" id="8556076">]</span><span class="ident" id="8556077">Point</span><span class="op" id="8556082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556086">Pt</span><span class="op" id="8556088">(</span><span class="num" id="8556089">0</span><span class="op" id="8556090">,</span>&nbsp;<span class="num" id="8556092">0</span><span class="op" id="8556093">)</span><span class="op" id="8556094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556098">Pt</span><span class="op" id="8556100">(</span><span class="num" id="8556101">1000</span><span class="op" id="8556105">,</span>&nbsp;<span class="num" id="8556107">1001</span><span class="op" id="8556111">)</span><span class="op" id="8556112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556116">Pt</span><span class="op" id="8556118">(</span><span class="num" id="8556119">5001</span><span class="op" id="8556123">,</span>&nbsp;<span class="op" id="8556125">-</span><span class="num" id="8556126">400</span><span class="op" id="8556129">)</span><span class="op" id="8556130">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556134">Pt</span><span class="op" id="8556136">(</span><span class="op" id="8556137">-</span><span class="num" id="8556138">701</span><span class="op" id="8556141">,</span>&nbsp;<span class="op" id="8556143">-</span><span class="num" id="8556144">801</span><span class="op" id="8556147">)</span><span class="op" id="8556148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8556151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556154">for</span>&nbsp;<span class="ident" id="8556158">_</span><span class="op" id="8556159">,</span>&nbsp;<span class="ident" id="8556161">r</span>&nbsp;<span class="op" id="8556163">:=</span>&nbsp;<span class="keyword" id="8556166">range</span>&nbsp;<span class="ident" id="8556172">rects</span>&nbsp;<span class="op" id="8556178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556182">for</span>&nbsp;<span class="ident" id="8556186">_</span><span class="op" id="8556187">,</span>&nbsp;<span class="ident" id="8556189">subsampleRatio</span>&nbsp;<span class="op" id="8556204">:=</span>&nbsp;<span class="keyword" id="8556207">range</span>&nbsp;<span class="ident" id="8556213">subsampleRatios</span>&nbsp;<span class="op" id="8556229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556234">for</span>&nbsp;<span class="ident" id="8556238">_</span><span class="op" id="8556239">,</span>&nbsp;<span class="ident" id="8556241">delta</span>&nbsp;<span class="op" id="8556247">:=</span>&nbsp;<span class="keyword" id="8556250">range</span>&nbsp;<span class="ident" id="8556256">deltas</span>&nbsp;<span class="op" id="8556263">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556269">testYCbCr</span><span class="op" id="8556278">(</span><span class="ident" id="8556279">t</span><span class="op" id="8556280">,</span>&nbsp;<span class="ident" id="8556282">r</span><span class="op" id="8556283">,</span>&nbsp;<span class="ident" id="8556285">subsampleRatio</span><span class="op" id="8556299">,</span>&nbsp;<span class="ident" id="8556301">delta</span><span class="op" id="8556306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8556311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8556315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556319">if</span>&nbsp;<span class="ident" id="8556322">testing</span><span class="op" id="8556329">.</span><span class="ident" id="8556330">Short</span><span class="op" id="8556335">(</span><span class="op" id="8556336">)</span>&nbsp;<span class="op" id="8556338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556343">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8556351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8556354">}</span><br>
<span class="lineno"></span><span class="op" id="8556356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8556359">func</span>&nbsp;<span class="ident" id="8556364">testYCbCr</span><span class="op" id="8556373">(</span><span class="ident" id="8556374">t</span>&nbsp;<span class="op" id="8556376">*</span><span class="ident" id="8556377">testing</span><span class="op" id="8556384">.</span><span class="ident" id="8556385">T</span><span class="op" id="8556386">,</span>&nbsp;<span class="ident" id="8556388">r</span>&nbsp;<span class="ident" id="8556390">Rectangle</span><span class="op" id="8556399">,</span>&nbsp;<span class="ident" id="8556401">subsampleRatio</span>&nbsp;<span class="ident" id="8556416">YCbCrSubsampleRatio</span><span class="op" id="8556435">,</span>&nbsp;<span class="ident" id="8556437">delta</span>&nbsp;<span class="ident" id="8556443">Point</span><span class="op" id="8556448">)</span>&nbsp;<span class="op" id="8556450">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8556453">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556534">r1</span>&nbsp;<span class="op" id="8556537">:=</span>&nbsp;<span class="ident" id="8556540">r</span><span class="op" id="8556541">.</span><span class="ident" id="8556542">Add</span><span class="op" id="8556545">(</span><span class="ident" id="8556546">delta</span><span class="op" id="8556551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556554">m</span>&nbsp;<span class="op" id="8556556">:=</span>&nbsp;<span class="ident" id="8556559">NewYCbCr</span><span class="op" id="8556567">(</span><span class="ident" id="8556568">r1</span><span class="op" id="8556570">,</span>&nbsp;<span class="ident" id="8556572">subsampleRatio</span><span class="op" id="8556586">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8556590">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556692">if</span>&nbsp;<span class="builtinfunc" id="8556695">len</span><span class="op" id="8556698">(</span><span class="ident" id="8556699">m</span><span class="op" id="8556700">.</span><span class="ident" id="8556701">Y</span><span class="op" id="8556702">)</span>&nbsp;<span class="op" id="8556704">&gt;</span>&nbsp;<span class="num" id="8556706">100</span><span class="op" id="8556709">*</span><span class="num" id="8556710">100</span>&nbsp;<span class="op" id="8556714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556718">t</span><span class="op" id="8556719">.</span><span class="ident" id="8556720">Errorf</span><span class="op" id="8556726">(</span><span class="string" id="8556727">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="8556789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8556794">r</span><span class="op" id="8556795">,</span>&nbsp;<span class="ident" id="8556797">subsampleRatio</span><span class="op" id="8556811">,</span>&nbsp;<span class="ident" id="8556813">delta</span><span class="op" id="8556818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8556822">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8556830">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8556834">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8556921">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557003">for</span>&nbsp;<span class="ident" id="8557007">y</span>&nbsp;<span class="op" id="8557009">:=</span>&nbsp;<span class="ident" id="8557012">r1</span><span class="op" id="8557014">.</span><span class="ident" id="8557015">Min</span><span class="op" id="8557018">.</span><span class="ident" id="8557019">Y</span><span class="op" id="8557020">;</span>&nbsp;<span class="ident" id="8557022">y</span>&nbsp;<span class="op" id="8557024">&lt;</span>&nbsp;<span class="ident" id="8557026">r1</span><span class="op" id="8557028">.</span><span class="ident" id="8557029">Max</span><span class="op" id="8557032">.</span><span class="ident" id="8557033">Y</span><span class="op" id="8557034">;</span>&nbsp;<span class="ident" id="8557036">y</span><span class="op" id="8557037">++</span>&nbsp;<span class="op" id="8557040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557044">for</span>&nbsp;<span class="ident" id="8557048">x</span>&nbsp;<span class="op" id="8557050">:=</span>&nbsp;<span class="ident" id="8557053">r1</span><span class="op" id="8557055">.</span><span class="ident" id="8557056">Min</span><span class="op" id="8557059">.</span><span class="ident" id="8557060">X</span><span class="op" id="8557061">;</span>&nbsp;<span class="ident" id="8557063">x</span>&nbsp;<span class="op" id="8557065">&lt;</span>&nbsp;<span class="ident" id="8557067">r1</span><span class="op" id="8557069">.</span><span class="ident" id="8557070">Max</span><span class="op" id="8557073">.</span><span class="ident" id="8557074">X</span><span class="op" id="8557075">;</span>&nbsp;<span class="ident" id="8557077">x</span><span class="op" id="8557078">++</span>&nbsp;<span class="op" id="8557081">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557086">yi</span>&nbsp;<span class="op" id="8557089">:=</span>&nbsp;<span class="ident" id="8557092">m</span><span class="op" id="8557093">.</span><span class="ident" id="8557094">YOffset</span><span class="op" id="8557101">(</span><span class="ident" id="8557102">x</span><span class="op" id="8557103">,</span>&nbsp;<span class="ident" id="8557105">y</span><span class="op" id="8557106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557111">ci</span>&nbsp;<span class="op" id="8557114">:=</span>&nbsp;<span class="ident" id="8557117">m</span><span class="op" id="8557118">.</span><span class="ident" id="8557119">COffset</span><span class="op" id="8557126">(</span><span class="ident" id="8557127">x</span><span class="op" id="8557128">,</span>&nbsp;<span class="ident" id="8557130">y</span><span class="op" id="8557131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557136">m</span><span class="op" id="8557137">.</span><span class="ident" id="8557138">Y</span><span class="op" id="8557139">[</span><span class="ident" id="8557140">yi</span><span class="op" id="8557142">]</span>&nbsp;<span class="op" id="8557144">=</span>&nbsp;<span class="builtintype" id="8557146">uint8</span><span class="op" id="8557151">(</span><span class="num" id="8557152">16</span><span class="op" id="8557154">*</span><span class="ident" id="8557155">y</span>&nbsp;<span class="op" id="8557157">+</span>&nbsp;<span class="ident" id="8557159">x</span><span class="op" id="8557160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557165">m</span><span class="op" id="8557166">.</span><span class="ident" id="8557167">Cb</span><span class="op" id="8557169">[</span><span class="ident" id="8557170">ci</span><span class="op" id="8557172">]</span>&nbsp;<span class="op" id="8557174">=</span>&nbsp;<span class="builtintype" id="8557176">uint8</span><span class="op" id="8557181">(</span><span class="ident" id="8557182">y</span>&nbsp;<span class="op" id="8557184">+</span>&nbsp;<span class="num" id="8557186">16</span><span class="op" id="8557188">*</span><span class="ident" id="8557189">x</span><span class="op" id="8557190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557195">m</span><span class="op" id="8557196">.</span><span class="ident" id="8557197">Cr</span><span class="op" id="8557199">[</span><span class="ident" id="8557200">ci</span><span class="op" id="8557202">]</span>&nbsp;<span class="op" id="8557204">=</span>&nbsp;<span class="builtintype" id="8557206">uint8</span><span class="op" id="8557211">(</span><span class="ident" id="8557212">y</span>&nbsp;<span class="op" id="8557214">+</span>&nbsp;<span class="num" id="8557216">16</span><span class="op" id="8557218">*</span><span class="ident" id="8557219">x</span><span class="op" id="8557220">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8557224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8557227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8557231">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557265">for</span>&nbsp;<span class="ident" id="8557269">y0</span>&nbsp;<span class="op" id="8557272">:=</span>&nbsp;<span class="ident" id="8557275">delta</span><span class="op" id="8557280">.</span><span class="ident" id="8557281">Y</span>&nbsp;<span class="op" id="8557283">+</span>&nbsp;<span class="num" id="8557285">3</span><span class="op" id="8557286">;</span>&nbsp;<span class="ident" id="8557288">y0</span>&nbsp;<span class="op" id="8557291">&lt;</span>&nbsp;<span class="ident" id="8557293">delta</span><span class="op" id="8557298">.</span><span class="ident" id="8557299">Y</span><span class="op" id="8557300">+</span><span class="num" id="8557301">7</span><span class="op" id="8557302">;</span>&nbsp;<span class="ident" id="8557304">y0</span><span class="op" id="8557306">++</span>&nbsp;<span class="op" id="8557309">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557313">for</span>&nbsp;<span class="ident" id="8557317">y1</span>&nbsp;<span class="op" id="8557320">:=</span>&nbsp;<span class="ident" id="8557323">delta</span><span class="op" id="8557328">.</span><span class="ident" id="8557329">Y</span>&nbsp;<span class="op" id="8557331">+</span>&nbsp;<span class="num" id="8557333">8</span><span class="op" id="8557334">;</span>&nbsp;<span class="ident" id="8557336">y1</span>&nbsp;<span class="op" id="8557339">&lt;</span>&nbsp;<span class="ident" id="8557341">delta</span><span class="op" id="8557346">.</span><span class="ident" id="8557347">Y</span><span class="op" id="8557348">+</span><span class="num" id="8557349">13</span><span class="op" id="8557351">;</span>&nbsp;<span class="ident" id="8557353">y1</span><span class="op" id="8557355">++</span>&nbsp;<span class="op" id="8557358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557363">for</span>&nbsp;<span class="ident" id="8557367">x0</span>&nbsp;<span class="op" id="8557370">:=</span>&nbsp;<span class="ident" id="8557373">delta</span><span class="op" id="8557378">.</span><span class="ident" id="8557379">X</span>&nbsp;<span class="op" id="8557381">+</span>&nbsp;<span class="num" id="8557383">3</span><span class="op" id="8557384">;</span>&nbsp;<span class="ident" id="8557386">x0</span>&nbsp;<span class="op" id="8557389">&lt;</span>&nbsp;<span class="ident" id="8557391">delta</span><span class="op" id="8557396">.</span><span class="ident" id="8557397">X</span><span class="op" id="8557398">+</span><span class="num" id="8557399">7</span><span class="op" id="8557400">;</span>&nbsp;<span class="ident" id="8557402">x0</span><span class="op" id="8557404">++</span>&nbsp;<span class="op" id="8557407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557413">for</span>&nbsp;<span class="ident" id="8557417">x1</span>&nbsp;<span class="op" id="8557420">:=</span>&nbsp;<span class="ident" id="8557423">delta</span><span class="op" id="8557428">.</span><span class="ident" id="8557429">X</span>&nbsp;<span class="op" id="8557431">+</span>&nbsp;<span class="num" id="8557433">8</span><span class="op" id="8557434">;</span>&nbsp;<span class="ident" id="8557436">x1</span>&nbsp;<span class="op" id="8557439">&lt;</span>&nbsp;<span class="ident" id="8557441">delta</span><span class="op" id="8557446">.</span><span class="ident" id="8557447">X</span><span class="op" id="8557448">+</span><span class="num" id="8557449">13</span><span class="op" id="8557451">;</span>&nbsp;<span class="ident" id="8557453">x1</span><span class="op" id="8557455">++</span>&nbsp;<span class="op" id="8557458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557465">subRect</span>&nbsp;<span class="op" id="8557473">:=</span>&nbsp;<span class="ident" id="8557476">Rect</span><span class="op" id="8557480">(</span><span class="ident" id="8557481">x0</span><span class="op" id="8557483">,</span>&nbsp;<span class="ident" id="8557485">y0</span><span class="op" id="8557487">,</span>&nbsp;<span class="ident" id="8557489">x1</span><span class="op" id="8557491">,</span>&nbsp;<span class="ident" id="8557493">y1</span><span class="op" id="8557495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557502">sub</span>&nbsp;<span class="op" id="8557506">:=</span>&nbsp;<span class="ident" id="8557509">m</span><span class="op" id="8557510">.</span><span class="ident" id="8557511">SubImage</span><span class="op" id="8557519">(</span><span class="ident" id="8557520">subRect</span><span class="op" id="8557527">)</span><span class="op" id="8557528">.</span><span class="op" id="8557529">(</span><span class="op" id="8557530">*</span><span class="ident" id="8557531">YCbCr</span><span class="op" id="8557536">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8557544">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557637">for</span>&nbsp;<span class="ident" id="8557641">y</span>&nbsp;<span class="op" id="8557643">:=</span>&nbsp;<span class="ident" id="8557646">sub</span><span class="op" id="8557649">.</span><span class="ident" id="8557650">Rect</span><span class="op" id="8557654">.</span><span class="ident" id="8557655">Min</span><span class="op" id="8557658">.</span><span class="ident" id="8557659">Y</span><span class="op" id="8557660">;</span>&nbsp;<span class="ident" id="8557662">y</span>&nbsp;<span class="op" id="8557664">&lt;</span>&nbsp;<span class="ident" id="8557666">sub</span><span class="op" id="8557669">.</span><span class="ident" id="8557670">Rect</span><span class="op" id="8557674">.</span><span class="ident" id="8557675">Max</span><span class="op" id="8557678">.</span><span class="ident" id="8557679">Y</span><span class="op" id="8557680">;</span>&nbsp;<span class="ident" id="8557682">y</span><span class="op" id="8557683">++</span>&nbsp;<span class="op" id="8557686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557694">for</span>&nbsp;<span class="ident" id="8557698">x</span>&nbsp;<span class="op" id="8557700">:=</span>&nbsp;<span class="ident" id="8557703">sub</span><span class="op" id="8557706">.</span><span class="ident" id="8557707">Rect</span><span class="op" id="8557711">.</span><span class="ident" id="8557712">Min</span><span class="op" id="8557715">.</span><span class="ident" id="8557716">X</span><span class="op" id="8557717">;</span>&nbsp;<span class="ident" id="8557719">x</span>&nbsp;<span class="op" id="8557721">&lt;</span>&nbsp;<span class="ident" id="8557723">sub</span><span class="op" id="8557726">.</span><span class="ident" id="8557727">Rect</span><span class="op" id="8557731">.</span><span class="ident" id="8557732">Max</span><span class="op" id="8557735">.</span><span class="ident" id="8557736">X</span><span class="op" id="8557737">;</span>&nbsp;<span class="ident" id="8557739">x</span><span class="op" id="8557740">++</span>&nbsp;<span class="op" id="8557743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557752">color0</span>&nbsp;<span class="op" id="8557759">:=</span>&nbsp;<span class="ident" id="8557762">m</span><span class="op" id="8557763">.</span><span class="ident" id="8557764">At</span><span class="op" id="8557766">(</span><span class="ident" id="8557767">x</span><span class="op" id="8557768">,</span>&nbsp;<span class="ident" id="8557770">y</span><span class="op" id="8557771">)</span><span class="op" id="8557772">.</span><span class="op" id="8557773">(</span><span class="ident" id="8557774">color</span><span class="op" id="8557779">.</span><span class="ident" id="8557780">YCbCr</span><span class="op" id="8557785">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557794">color1</span>&nbsp;<span class="op" id="8557801">:=</span>&nbsp;<span class="ident" id="8557804">sub</span><span class="op" id="8557807">.</span><span class="ident" id="8557808">At</span><span class="op" id="8557810">(</span><span class="ident" id="8557811">x</span><span class="op" id="8557812">,</span>&nbsp;<span class="ident" id="8557814">y</span><span class="op" id="8557815">)</span><span class="op" id="8557816">.</span><span class="op" id="8557817">(</span><span class="ident" id="8557818">color</span><span class="op" id="8557823">.</span><span class="ident" id="8557824">YCbCr</span><span class="op" id="8557829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557838">if</span>&nbsp;<span class="ident" id="8557841">color0</span>&nbsp;<span class="op" id="8557848">!=</span>&nbsp;<span class="ident" id="8557851">color1</span>&nbsp;<span class="op" id="8557858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557868">t</span><span class="op" id="8557869">.</span><span class="ident" id="8557870">Errorf</span><span class="op" id="8557876">(</span><span class="string" id="8557877">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="8557946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557957">r</span><span class="op" id="8557958">,</span>&nbsp;<span class="ident" id="8557960">subsampleRatio</span><span class="op" id="8557974">,</span>&nbsp;<span class="ident" id="8557976">delta</span><span class="op" id="8557981">,</span>&nbsp;<span class="ident" id="8557983">x</span><span class="op" id="8557984">,</span>&nbsp;<span class="ident" id="8557986">y</span><span class="op" id="8557987">,</span>&nbsp;<span class="ident" id="8557989">color0</span><span class="op" id="8557995">,</span>&nbsp;<span class="ident" id="8557997">color1</span><span class="op" id="8558003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558013">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558053">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558060">}</span><br>
<span class="lineno"></span><span class="op" id="8558062">}</span>
</div>
</body>
</html>
