<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html" class="current">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3160033">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3160088">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3160142">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3160193">//&nbsp;Parse&nbsp;nodes.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3160210">package</span>&nbsp;<span class="ident" id="3160218">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3160225">import</span>&nbsp;<span class="op" id="3160232">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3160235">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3160244">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3160251">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3160262">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="3160272">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="3160275">var</span>&nbsp;<span class="ident" id="3160279">textFormat</span>&nbsp;<span class="op" id="3160290">=</span>&nbsp;<span class="string" id="3160292">&#34;%s&#34;</span>&nbsp;<span class="comment" id="3160297">//&nbsp;Changed&nbsp;to&nbsp;&#34;%q&#34;&nbsp;in&nbsp;tests&nbsp;for&nbsp;better&nbsp;error&nbsp;messages.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3160353">//&nbsp;A&nbsp;Node&nbsp;is&nbsp;an&nbsp;element&nbsp;in&nbsp;the&nbsp;parse&nbsp;tree.&nbsp;The&nbsp;interface&nbsp;is&nbsp;trivial.</span><br>
<span class="lineno"></span><span class="comment" id="3160422">//&nbsp;The&nbsp;interface&nbsp;contains&nbsp;an&nbsp;unexported&nbsp;method&nbsp;so&nbsp;that&nbsp;only</span><br>
<span class="lineno">20</span><span class="comment" id="3160482">//&nbsp;types&nbsp;local&nbsp;to&nbsp;this&nbsp;package&nbsp;can&nbsp;satisfy&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="3160529">type</span>&nbsp;<span class="ident" id="3160534">Node</span>&nbsp;<span class="keyword" id="3160539">interface</span>&nbsp;<span class="op" id="3160549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3160552">Type</span><span class="op" id="3160556">(</span><span class="op" id="3160557">)</span>&nbsp;<span class="ident" id="3160559"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3160569">String</span><span class="op" id="3160575">(</span><span class="op" id="3160576">)</span>&nbsp;<span class="builtintype" id="3160578">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3160586">//&nbsp;Copy&nbsp;does&nbsp;a&nbsp;deep&nbsp;copy&nbsp;of&nbsp;the&nbsp;Node&nbsp;and&nbsp;all&nbsp;its&nbsp;components.</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3160648">//&nbsp;To&nbsp;avoid&nbsp;type&nbsp;assertions,&nbsp;some&nbsp;XxxNodes&nbsp;also&nbsp;have&nbsp;specialized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3160714">//&nbsp;CopyXxx&nbsp;methods&nbsp;that&nbsp;return&nbsp;*XxxNode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3160756">Copy</span><span class="op" id="3160760">(</span><span class="op" id="3160761">)</span>&nbsp;<span class="ident" id="3160763"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3160769">Position</span><span class="op" id="3160777">(</span><span class="op" id="3160778">)</span>&nbsp;<span class="ident" id="3160780"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span>&nbsp;<span class="comment" id="3160784">//&nbsp;byte&nbsp;position&nbsp;of&nbsp;start&nbsp;of&nbsp;node&nbsp;in&nbsp;full&nbsp;original&nbsp;input&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3160849">//&nbsp;tree&nbsp;returns&nbsp;the&nbsp;containing&nbsp;*Tree.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3160888">//&nbsp;It&nbsp;is&nbsp;unexported&nbsp;so&nbsp;all&nbsp;implementations&nbsp;of&nbsp;Node&nbsp;are&nbsp;in&nbsp;this&nbsp;package.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3160961">tree</span><span class="op" id="3160965">(</span><span class="op" id="3160966">)</span>&nbsp;<span class="op" id="3160968">*</span><span class="ident" id="3160969"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span><span class="op" id="3160974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3160977">//&nbsp;NodeType&nbsp;identifies&nbsp;the&nbsp;type&nbsp;of&nbsp;a&nbsp;parse&nbsp;tree&nbsp;node.</span><br>
<span class="lineno">35</span><span class="keyword" id="3161031">type</span>&nbsp;<span class="ident" id="3161036">NodeType</span>&nbsp;<span class="builtintype" id="3161045">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3161050">//&nbsp;Pos&nbsp;represents&nbsp;a&nbsp;byte&nbsp;position&nbsp;in&nbsp;the&nbsp;original&nbsp;input&nbsp;text&nbsp;from&nbsp;which</span><br>
<span class="lineno"></span><span class="comment" id="3161122">//&nbsp;this&nbsp;template&nbsp;was&nbsp;parsed.</span><br>
<span class="lineno"></span><span class="keyword" id="3161151">type</span>&nbsp;<span class="ident" id="3161156">Pos</span>&nbsp;<span class="builtintype" id="3161160">int</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="3161165">func</span>&nbsp;<span class="op" id="3161170">(</span><span class="ident" id="3161171">p</span>&nbsp;<span class="ident" id="3161173"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3161176">)</span>&nbsp;<span class="ident" id="3161178">Position</span><span class="op" id="3161186">(</span><span class="op" id="3161187">)</span>&nbsp;<span class="ident" id="3161189"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span>&nbsp;<span class="op" id="3161193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3161196">return</span>&nbsp;<span class="ident" id="3161203"><a href="/gostd/text/template/parse/node.go.html#3161171">p</a></span><br>
<span class="lineno"></span><span class="op" id="3161205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3161208">//&nbsp;Type&nbsp;returns&nbsp;itself&nbsp;and&nbsp;provides&nbsp;an&nbsp;easy&nbsp;default&nbsp;implementation</span><br>
<span class="lineno"></span><span class="comment" id="3161275">//&nbsp;for&nbsp;embedding&nbsp;in&nbsp;a&nbsp;Node.&nbsp;Embedded&nbsp;in&nbsp;all&nbsp;non-trivial&nbsp;Nodes.</span><br>
<span class="lineno"></span><span class="keyword" id="3161338">func</span>&nbsp;<span class="op" id="3161343">(</span><span class="ident" id="3161344">t</span>&nbsp;<span class="ident" id="3161346"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><span class="op" id="3161354">)</span>&nbsp;<span class="ident" id="3161356">Type</span><span class="op" id="3161360">(</span><span class="op" id="3161361">)</span>&nbsp;<span class="ident" id="3161363"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span>&nbsp;<span class="op" id="3161372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3161375">return</span>&nbsp;<span class="ident" id="3161382"><a href="/gostd/text/template/parse/node.go.html#3161344">t</a></span><br>
<span class="lineno"></span><span class="op" id="3161384">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="3161387">const</span>&nbsp;<span class="op" id="3161393">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161396">NodeText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161411"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span>&nbsp;<span class="op" id="3161420">=</span>&nbsp;<span class="ident" id="3161422">iota</span>&nbsp;<span class="comment" id="3161427">//&nbsp;Plain&nbsp;text.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161443">NodeAction</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3161474">//&nbsp;A&nbsp;non-control&nbsp;action&nbsp;such&nbsp;as&nbsp;a&nbsp;field&nbsp;evaluation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161527">NodeBool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3161558">//&nbsp;A&nbsp;boolean&nbsp;constant.</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161582">NodeChain</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3161613">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;field&nbsp;accesses.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161647">NodeCommand</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3161678">//&nbsp;An&nbsp;element&nbsp;of&nbsp;a&nbsp;pipeline.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161708">NodeDot</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3161739">//&nbsp;The&nbsp;cursor,&nbsp;dot.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161760">nodeElse</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3161791">//&nbsp;An&nbsp;else&nbsp;action.&nbsp;Not&nbsp;added&nbsp;to&nbsp;tree.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161830">nodeEnd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3161861">//&nbsp;An&nbsp;end&nbsp;action.&nbsp;Not&nbsp;added&nbsp;to&nbsp;tree.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161899">NodeField</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3161930">//&nbsp;A&nbsp;field&nbsp;or&nbsp;method&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3161958">NodeIdentifier</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3161989">//&nbsp;An&nbsp;identifier;&nbsp;always&nbsp;a&nbsp;function&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162032">NodeIf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162063">//&nbsp;An&nbsp;if&nbsp;action.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162081">NodeList</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162112">//&nbsp;A&nbsp;list&nbsp;of&nbsp;Nodes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162133">NodeNil</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162164">//&nbsp;An&nbsp;untyped&nbsp;nil&nbsp;constant.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162193">NodeNumber</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162224">//&nbsp;A&nbsp;numerical&nbsp;constant.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162250">NodePipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162281">//&nbsp;A&nbsp;pipeline&nbsp;of&nbsp;commands.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162309">NodeRange</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162340">//&nbsp;A&nbsp;range&nbsp;action.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162360">NodeString</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162391">//&nbsp;A&nbsp;string&nbsp;constant.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162414">NodeTemplate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162445">//&nbsp;A&nbsp;template&nbsp;invocation&nbsp;action.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162479">NodeVariable</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162510">//&nbsp;A&nbsp;$&nbsp;variable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162528">NodeWith</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3162559">//&nbsp;A&nbsp;with&nbsp;action.</span><br>
<span class="lineno"></span><span class="op" id="3162577">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3162580">//&nbsp;Nodes.</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="3162591">//&nbsp;ListNode&nbsp;holds&nbsp;a&nbsp;sequence&nbsp;of&nbsp;nodes.</span><br>
<span class="lineno"></span><span class="keyword" id="3162630">type</span>&nbsp;<span class="ident" id="3162635">ListNode</span>&nbsp;<span class="keyword" id="3162644">struct</span>&nbsp;<span class="op" id="3162651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162654"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162664"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162669">tr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3162675">*</span><span class="ident" id="3162676"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162682">Nodes</span>&nbsp;<span class="op" id="3162688">[</span><span class="op" id="3162689">]</span><span class="ident" id="3162690"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="comment" id="3162695">//&nbsp;The&nbsp;element&nbsp;nodes&nbsp;in&nbsp;lexical&nbsp;order.</span><br>
<span class="lineno"></span><span class="op" id="3162734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3162737">func</span>&nbsp;<span class="op" id="3162742">(</span><span class="ident" id="3162743">t</span>&nbsp;<span class="op" id="3162745">*</span><span class="ident" id="3162746"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3162750">)</span>&nbsp;<span class="ident" id="3162752">newList</span><span class="op" id="3162759">(</span><span class="ident" id="3162760">pos</span>&nbsp;<span class="ident" id="3162764"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3162767">)</span>&nbsp;<span class="op" id="3162769">*</span><span class="ident" id="3162770"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span>&nbsp;<span class="op" id="3162779">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3162782">return</span>&nbsp;<span class="op" id="3162789">&amp;</span><span class="ident" id="3162790"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span><span class="op" id="3162798">{</span><span class="ident" id="3162799"><a href="/gostd/text/template/parse/node.go.html#3162669">tr</a></span><span class="op" id="3162801">:</span>&nbsp;<span class="ident" id="3162803"><a href="/gostd/text/template/parse/node.go.html#3162743">t</a></span><span class="op" id="3162804">,</span>&nbsp;<span class="ident" id="3162806"><a href="/gostd/text/template/parse/node.go.html#3162654">NodeType</a></span><span class="op" id="3162814">:</span>&nbsp;<span class="ident" id="3162816"><a href="/gostd/text/template/parse/node.go.html#3162081">NodeList</a></span><span class="op" id="3162824">,</span>&nbsp;<span class="ident" id="3162826"><a href="/gostd/text/template/parse/node.go.html#3162664">Pos</a></span><span class="op" id="3162829">:</span>&nbsp;<span class="ident" id="3162831"><a href="/gostd/text/template/parse/node.go.html#3162760">pos</a></span><span class="op" id="3162834">}</span><br>
<span class="lineno"></span><span class="op" id="3162836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3162839">func</span>&nbsp;<span class="op" id="3162844">(</span><span class="ident" id="3162845">l</span>&nbsp;<span class="op" id="3162847">*</span><span class="ident" id="3162848"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span><span class="op" id="3162856">)</span>&nbsp;<span class="builtinfunc" id="3162858">append</span><span class="op" id="3162864">(</span><span class="ident" id="3162865">n</span>&nbsp;<span class="ident" id="3162867"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span><span class="op" id="3162871">)</span>&nbsp;<span class="op" id="3162873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162876"><a href="/gostd/text/template/parse/node.go.html#3162845">l</a></span><span class="op" id="3162877">.</span><span class="ident" id="3162878"><a href="/gostd/text/template/parse/node.go.html#3162682">Nodes</a></span>&nbsp;<span class="op" id="3162884">=</span>&nbsp;<span class="builtinfunc" id="3162886">append</span><span class="op" id="3162892">(</span><span class="ident" id="3162893"><a href="/gostd/text/template/parse/node.go.html#3162845">l</a></span><span class="op" id="3162894">.</span><span class="ident" id="3162895"><a href="/gostd/text/template/parse/node.go.html#3162682">Nodes</a></span><span class="op" id="3162900">,</span>&nbsp;<span class="ident" id="3162902"><a href="/gostd/text/template/parse/node.go.html#3162865">n</a></span><span class="op" id="3162903">)</span><br>
<span class="lineno">90</span><span class="op" id="3162905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3162908">func</span>&nbsp;<span class="op" id="3162913">(</span><span class="ident" id="3162914">l</span>&nbsp;<span class="op" id="3162916">*</span><span class="ident" id="3162917"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span><span class="op" id="3162925">)</span>&nbsp;<span class="ident" id="3162927">tree</span><span class="op" id="3162931">(</span><span class="op" id="3162932">)</span>&nbsp;<span class="op" id="3162934">*</span><span class="ident" id="3162935"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3162940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3162943">return</span>&nbsp;<span class="ident" id="3162950"><a href="/gostd/text/template/parse/node.go.html#3162914">l</a></span><span class="op" id="3162951">.</span><span class="ident" id="3162952"><a href="/gostd/text/template/parse/node.go.html#3162669">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3162955">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="3162958">func</span>&nbsp;<span class="op" id="3162963">(</span><span class="ident" id="3162964">l</span>&nbsp;<span class="op" id="3162966">*</span><span class="ident" id="3162967"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span><span class="op" id="3162975">)</span>&nbsp;<span class="ident" id="3162977">String</span><span class="op" id="3162983">(</span><span class="op" id="3162984">)</span>&nbsp;<span class="builtintype" id="3162986">string</span>&nbsp;<span class="op" id="3162993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3162996">b</span>&nbsp;<span class="op" id="3162998">:=</span>&nbsp;<span class="builtinfunc" id="3163001">new</span><span class="op" id="3163004">(</span><span class="ident" id="3163005"><a href="/gostd/text/template/parse/node.go.html#3160235">bytes</a></span><span class="op" id="3163010">.</span><span class="ident" id="3163011"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="3163017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163020">for</span>&nbsp;<span class="ident" id="3163024">_</span><span class="op" id="3163025">,</span>&nbsp;<span class="ident" id="3163027">n</span>&nbsp;<span class="op" id="3163029">:=</span>&nbsp;<span class="keyword" id="3163032">range</span>&nbsp;<span class="ident" id="3163038"><a href="/gostd/text/template/parse/node.go.html#3162964">l</a></span><span class="op" id="3163039">.</span><span class="ident" id="3163040"><a href="/gostd/text/template/parse/node.go.html#3162682">Nodes</a></span>&nbsp;<span class="op" id="3163046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163050"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3163053">.</span><span class="ident" id="3163054"><a href="/gostd/fmt/print.go.html#2144247">Fprint</a></span><span class="op" id="3163060">(</span><span class="ident" id="3163061"><a href="/gostd/text/template/parse/node.go.html#3162996">b</a></span><span class="op" id="3163062">,</span>&nbsp;<span class="ident" id="3163064"><a href="/gostd/text/template/parse/node.go.html#3163027">n</a></span><span class="op" id="3163065">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3163068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163071">return</span>&nbsp;<span class="ident" id="3163078"><a href="/gostd/text/template/parse/node.go.html#3162996">b</a></span><span class="op" id="3163079">.</span><span class="ident" id="3163080"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3163086">(</span><span class="op" id="3163087">)</span><br>
<span class="lineno"></span><span class="op" id="3163089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3163092">func</span>&nbsp;<span class="op" id="3163097">(</span><span class="ident" id="3163098">l</span>&nbsp;<span class="op" id="3163100">*</span><span class="ident" id="3163101"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span><span class="op" id="3163109">)</span>&nbsp;<span class="ident" id="3163111">CopyList</span><span class="op" id="3163119">(</span><span class="op" id="3163120">)</span>&nbsp;<span class="op" id="3163122">*</span><span class="ident" id="3163123"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span>&nbsp;<span class="op" id="3163132">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163135">if</span>&nbsp;<span class="ident" id="3163138"><a href="/gostd/text/template/parse/node.go.html#3163098">l</a></span>&nbsp;<span class="op" id="3163140">==</span>&nbsp;<span class="builtintype" id="3163143">nil</span>&nbsp;<span class="op" id="3163147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163151">return</span>&nbsp;<span class="ident" id="3163158"><a href="/gostd/text/template/parse/node.go.html#3163098">l</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3163161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163164">n</span>&nbsp;<span class="op" id="3163166">:=</span>&nbsp;<span class="ident" id="3163169"><a href="/gostd/text/template/parse/node.go.html#3163098">l</a></span><span class="op" id="3163170">.</span><span class="ident" id="3163171"><a href="/gostd/text/template/parse/node.go.html#3162669">tr</a></span><span class="op" id="3163173">.</span><span class="ident" id="3163174"><a href="/gostd/text/template/parse/node.go.html#3162752">newList</a></span><span class="op" id="3163181">(</span><span class="ident" id="3163182"><a href="/gostd/text/template/parse/node.go.html#3163098">l</a></span><span class="op" id="3163183">.</span><span class="ident" id="3163184"><a href="/gostd/text/template/parse/node.go.html#3162664">Pos</a></span><span class="op" id="3163187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163190">for</span>&nbsp;<span class="ident" id="3163194">_</span><span class="op" id="3163195">,</span>&nbsp;<span class="ident" id="3163197">elem</span>&nbsp;<span class="op" id="3163202">:=</span>&nbsp;<span class="keyword" id="3163205">range</span>&nbsp;<span class="ident" id="3163211"><a href="/gostd/text/template/parse/node.go.html#3163098">l</a></span><span class="op" id="3163212">.</span><span class="ident" id="3163213"><a href="/gostd/text/template/parse/node.go.html#3162682">Nodes</a></span>&nbsp;<span class="op" id="3163219">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163223"><a href="/gostd/text/template/parse/node.go.html#3163164">n</a></span><span class="op" id="3163224">.</span><span class="builtinfunc" id="3163225"><a href="/gostd/text/template/parse/node.go.html#3162858">append</a></span><span class="op" id="3163231">(</span><span class="ident" id="3163232"><a href="/gostd/text/template/parse/node.go.html#3163197">elem</a></span><span class="op" id="3163236">.</span><span class="ident" id="3163237"><a href="/gostd/text/template/parse/node.go.html#3160756">Copy</a></span><span class="op" id="3163241">(</span><span class="op" id="3163242">)</span><span class="op" id="3163243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3163246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163249">return</span>&nbsp;<span class="ident" id="3163256"><a href="/gostd/text/template/parse/node.go.html#3163164">n</a></span><br>
<span class="lineno"></span><span class="op" id="3163258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="3163261">func</span>&nbsp;<span class="op" id="3163266">(</span><span class="ident" id="3163267">l</span>&nbsp;<span class="op" id="3163269">*</span><span class="ident" id="3163270"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span><span class="op" id="3163278">)</span>&nbsp;<span class="ident" id="3163280">Copy</span><span class="op" id="3163284">(</span><span class="op" id="3163285">)</span>&nbsp;<span class="ident" id="3163287"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3163292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163295">return</span>&nbsp;<span class="ident" id="3163302"><a href="/gostd/text/template/parse/node.go.html#3163267">l</a></span><span class="op" id="3163303">.</span><span class="ident" id="3163304"><a href="/gostd/text/template/parse/node.go.html#3163111">CopyList</a></span><span class="op" id="3163312">(</span><span class="op" id="3163313">)</span><br>
<span class="lineno"></span><span class="op" id="3163315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3163318">//&nbsp;TextNode&nbsp;holds&nbsp;plain&nbsp;text.</span><br>
<span class="lineno">120</span><span class="keyword" id="3163348">type</span>&nbsp;<span class="ident" id="3163353">TextNode</span>&nbsp;<span class="keyword" id="3163362">struct</span>&nbsp;<span class="op" id="3163369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163372"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163382"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163387">tr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3163392">*</span><span class="ident" id="3163393"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163399">Text</span>&nbsp;<span class="op" id="3163404">[</span><span class="op" id="3163405">]</span><span class="builtintype" id="3163406">byte</span>&nbsp;<span class="comment" id="3163411">//&nbsp;The&nbsp;text;&nbsp;may&nbsp;span&nbsp;newlines.</span><br>
<span class="lineno">125</span><span class="op" id="3163443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3163446">func</span>&nbsp;<span class="op" id="3163451">(</span><span class="ident" id="3163452">t</span>&nbsp;<span class="op" id="3163454">*</span><span class="ident" id="3163455"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3163459">)</span>&nbsp;<span class="ident" id="3163461">newText</span><span class="op" id="3163468">(</span><span class="ident" id="3163469">pos</span>&nbsp;<span class="ident" id="3163473"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3163476">,</span>&nbsp;<span class="ident" id="3163478">text</span>&nbsp;<span class="builtintype" id="3163483">string</span><span class="op" id="3163489">)</span>&nbsp;<span class="op" id="3163491">*</span><span class="ident" id="3163492"><a href="/gostd/text/template/parse/node.go.html#3163353">TextNode</a></span>&nbsp;<span class="op" id="3163501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163504">return</span>&nbsp;<span class="op" id="3163511">&amp;</span><span class="ident" id="3163512"><a href="/gostd/text/template/parse/node.go.html#3163353">TextNode</a></span><span class="op" id="3163520">{</span><span class="ident" id="3163521"><a href="/gostd/text/template/parse/node.go.html#3163387">tr</a></span><span class="op" id="3163523">:</span>&nbsp;<span class="ident" id="3163525"><a href="/gostd/text/template/parse/node.go.html#3163452">t</a></span><span class="op" id="3163526">,</span>&nbsp;<span class="ident" id="3163528"><a href="/gostd/text/template/parse/node.go.html#3163372">NodeType</a></span><span class="op" id="3163536">:</span>&nbsp;<span class="ident" id="3163538"><a href="/gostd/text/template/parse/node.go.html#3161396">NodeText</a></span><span class="op" id="3163546">,</span>&nbsp;<span class="ident" id="3163548"><a href="/gostd/text/template/parse/node.go.html#3163382">Pos</a></span><span class="op" id="3163551">:</span>&nbsp;<span class="ident" id="3163553"><a href="/gostd/text/template/parse/node.go.html#3163469">pos</a></span><span class="op" id="3163556">,</span>&nbsp;<span class="ident" id="3163558"><a href="/gostd/text/template/parse/node.go.html#3163399">Text</a></span><span class="op" id="3163562">:</span>&nbsp;<span class="op" id="3163564">[</span><span class="op" id="3163565">]</span><span class="builtintype" id="3163566">byte</span><span class="op" id="3163570">(</span><span class="ident" id="3163571"><a href="/gostd/text/template/parse/node.go.html#3163478">text</a></span><span class="op" id="3163575">)</span><span class="op" id="3163576">}</span><br>
<span class="lineno"></span><span class="op" id="3163578">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="3163581">func</span>&nbsp;<span class="op" id="3163586">(</span><span class="ident" id="3163587">t</span>&nbsp;<span class="op" id="3163589">*</span><span class="ident" id="3163590"><a href="/gostd/text/template/parse/node.go.html#3163353">TextNode</a></span><span class="op" id="3163598">)</span>&nbsp;<span class="ident" id="3163600">String</span><span class="op" id="3163606">(</span><span class="op" id="3163607">)</span>&nbsp;<span class="builtintype" id="3163609">string</span>&nbsp;<span class="op" id="3163616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163619">return</span>&nbsp;<span class="ident" id="3163626"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3163629">.</span><span class="ident" id="3163630"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3163637">(</span><span class="ident" id="3163638"><a href="/gostd/text/template/parse/node.go.html#3160279">textFormat</a></span><span class="op" id="3163648">,</span>&nbsp;<span class="ident" id="3163650"><a href="/gostd/text/template/parse/node.go.html#3163587">t</a></span><span class="op" id="3163651">.</span><span class="ident" id="3163652"><a href="/gostd/text/template/parse/node.go.html#3163399">Text</a></span><span class="op" id="3163656">)</span><br>
<span class="lineno"></span><span class="op" id="3163658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="3163661">func</span>&nbsp;<span class="op" id="3163666">(</span><span class="ident" id="3163667">t</span>&nbsp;<span class="op" id="3163669">*</span><span class="ident" id="3163670"><a href="/gostd/text/template/parse/node.go.html#3163353">TextNode</a></span><span class="op" id="3163678">)</span>&nbsp;<span class="ident" id="3163680">tree</span><span class="op" id="3163684">(</span><span class="op" id="3163685">)</span>&nbsp;<span class="op" id="3163687">*</span><span class="ident" id="3163688"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3163693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163696">return</span>&nbsp;<span class="ident" id="3163703"><a href="/gostd/text/template/parse/node.go.html#3163667">t</a></span><span class="op" id="3163704">.</span><span class="ident" id="3163705"><a href="/gostd/text/template/parse/node.go.html#3163387">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3163708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3163711">func</span>&nbsp;<span class="op" id="3163716">(</span><span class="ident" id="3163717">t</span>&nbsp;<span class="op" id="3163719">*</span><span class="ident" id="3163720"><a href="/gostd/text/template/parse/node.go.html#3163353">TextNode</a></span><span class="op" id="3163728">)</span>&nbsp;<span class="ident" id="3163730">Copy</span><span class="op" id="3163734">(</span><span class="op" id="3163735">)</span>&nbsp;<span class="ident" id="3163737"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3163742">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3163745">return</span>&nbsp;<span class="op" id="3163752">&amp;</span><span class="ident" id="3163753"><a href="/gostd/text/template/parse/node.go.html#3163353">TextNode</a></span><span class="op" id="3163761">{</span><span class="ident" id="3163762"><a href="/gostd/text/template/parse/node.go.html#3163387">tr</a></span><span class="op" id="3163764">:</span>&nbsp;<span class="ident" id="3163766"><a href="/gostd/text/template/parse/node.go.html#3163717">t</a></span><span class="op" id="3163767">.</span><span class="ident" id="3163768"><a href="/gostd/text/template/parse/node.go.html#3163387">tr</a></span><span class="op" id="3163770">,</span>&nbsp;<span class="ident" id="3163772"><a href="/gostd/text/template/parse/node.go.html#3163372">NodeType</a></span><span class="op" id="3163780">:</span>&nbsp;<span class="ident" id="3163782"><a href="/gostd/text/template/parse/node.go.html#3161396">NodeText</a></span><span class="op" id="3163790">,</span>&nbsp;<span class="ident" id="3163792"><a href="/gostd/text/template/parse/node.go.html#3163382">Pos</a></span><span class="op" id="3163795">:</span>&nbsp;<span class="ident" id="3163797"><a href="/gostd/text/template/parse/node.go.html#3163717">t</a></span><span class="op" id="3163798">.</span><span class="ident" id="3163799"><a href="/gostd/text/template/parse/node.go.html#3163382">Pos</a></span><span class="op" id="3163802">,</span>&nbsp;<span class="ident" id="3163804"><a href="/gostd/text/template/parse/node.go.html#3163399">Text</a></span><span class="op" id="3163808">:</span>&nbsp;<span class="builtinfunc" id="3163810">append</span><span class="op" id="3163816">(</span><span class="op" id="3163817">[</span><span class="op" id="3163818">]</span><span class="builtintype" id="3163819">byte</span><span class="op" id="3163823">{</span><span class="op" id="3163824">}</span><span class="op" id="3163825">,</span>&nbsp;<span class="ident" id="3163827"><a href="/gostd/text/template/parse/node.go.html#3163717">t</a></span><span class="op" id="3163828">.</span><span class="ident" id="3163829"><a href="/gostd/text/template/parse/node.go.html#3163399">Text</a></span><span class="op" id="3163833">...</span><span class="op" id="3163836">)</span><span class="op" id="3163837">}</span><br>
<span class="lineno"></span><span class="op" id="3163839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3163842">//&nbsp;PipeNode&nbsp;holds&nbsp;a&nbsp;pipeline&nbsp;with&nbsp;optional&nbsp;declaration</span><br>
<span class="lineno"></span><span class="keyword" id="3163897">type</span>&nbsp;<span class="ident" id="3163902">PipeNode</span>&nbsp;<span class="keyword" id="3163911">struct</span>&nbsp;<span class="op" id="3163918">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163921"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163931"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163936">tr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3163941">*</span><span class="ident" id="3163942"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3163948">Line</span>&nbsp;<span class="builtintype" id="3163953">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3163969">//&nbsp;The&nbsp;line&nbsp;number&nbsp;in&nbsp;the&nbsp;input&nbsp;(deprecated;&nbsp;kept&nbsp;for&nbsp;compatibility)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164039">Decl</span>&nbsp;<span class="op" id="3164044">[</span><span class="op" id="3164045">]</span><span class="op" id="3164046">*</span><span class="ident" id="3164047"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span>&nbsp;<span class="comment" id="3164060">//&nbsp;Variable&nbsp;declarations&nbsp;in&nbsp;lexical&nbsp;order.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164104">Cmds</span>&nbsp;<span class="op" id="3164109">[</span><span class="op" id="3164110">]</span><span class="op" id="3164111">*</span><span class="ident" id="3164112"><a href="/gostd/text/template/parse/node.go.html#3165933">CommandNode</a></span>&nbsp;&nbsp;<span class="comment" id="3164125">//&nbsp;The&nbsp;commands&nbsp;in&nbsp;lexical&nbsp;order.</span><br>
<span class="lineno"></span><span class="op" id="3164159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3164162">func</span>&nbsp;<span class="op" id="3164167">(</span><span class="ident" id="3164168">t</span>&nbsp;<span class="op" id="3164170">*</span><span class="ident" id="3164171"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3164175">)</span>&nbsp;<span class="ident" id="3164177">newPipeline</span><span class="op" id="3164188">(</span><span class="ident" id="3164189">pos</span>&nbsp;<span class="ident" id="3164193"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3164196">,</span>&nbsp;<span class="ident" id="3164198">line</span>&nbsp;<span class="builtintype" id="3164203">int</span><span class="op" id="3164206">,</span>&nbsp;<span class="ident" id="3164208">decl</span>&nbsp;<span class="op" id="3164213">[</span><span class="op" id="3164214">]</span><span class="op" id="3164215">*</span><span class="ident" id="3164216"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span><span class="op" id="3164228">)</span>&nbsp;<span class="op" id="3164230">*</span><span class="ident" id="3164231"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span>&nbsp;<span class="op" id="3164240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164243">return</span>&nbsp;<span class="op" id="3164250">&amp;</span><span class="ident" id="3164251"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3164259">{</span><span class="ident" id="3164260"><a href="/gostd/text/template/parse/node.go.html#3163936">tr</a></span><span class="op" id="3164262">:</span>&nbsp;<span class="ident" id="3164264"><a href="/gostd/text/template/parse/node.go.html#3164168">t</a></span><span class="op" id="3164265">,</span>&nbsp;<span class="ident" id="3164267"><a href="/gostd/text/template/parse/node.go.html#3163921">NodeType</a></span><span class="op" id="3164275">:</span>&nbsp;<span class="ident" id="3164277"><a href="/gostd/text/template/parse/node.go.html#3162250">NodePipe</a></span><span class="op" id="3164285">,</span>&nbsp;<span class="ident" id="3164287"><a href="/gostd/text/template/parse/node.go.html#3163931">Pos</a></span><span class="op" id="3164290">:</span>&nbsp;<span class="ident" id="3164292"><a href="/gostd/text/template/parse/node.go.html#3164189">pos</a></span><span class="op" id="3164295">,</span>&nbsp;<span class="ident" id="3164297"><a href="/gostd/text/template/parse/node.go.html#3163948">Line</a></span><span class="op" id="3164301">:</span>&nbsp;<span class="ident" id="3164303"><a href="/gostd/text/template/parse/node.go.html#3164198">line</a></span><span class="op" id="3164307">,</span>&nbsp;<span class="ident" id="3164309"><a href="/gostd/text/template/parse/node.go.html#3164039">Decl</a></span><span class="op" id="3164313">:</span>&nbsp;<span class="ident" id="3164315"><a href="/gostd/text/template/parse/node.go.html#3164208">decl</a></span><span class="op" id="3164319">}</span><br>
<span class="lineno">155</span><span class="op" id="3164321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3164324">func</span>&nbsp;<span class="op" id="3164329">(</span><span class="ident" id="3164330">p</span>&nbsp;<span class="op" id="3164332">*</span><span class="ident" id="3164333"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3164341">)</span>&nbsp;<span class="builtinfunc" id="3164343">append</span><span class="op" id="3164349">(</span><span class="ident" id="3164350">command</span>&nbsp;<span class="op" id="3164358">*</span><span class="ident" id="3164359"><a href="/gostd/text/template/parse/node.go.html#3165933">CommandNode</a></span><span class="op" id="3164370">)</span>&nbsp;<span class="op" id="3164372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164375"><a href="/gostd/text/template/parse/node.go.html#3164330">p</a></span><span class="op" id="3164376">.</span><span class="ident" id="3164377"><a href="/gostd/text/template/parse/node.go.html#3164104">Cmds</a></span>&nbsp;<span class="op" id="3164382">=</span>&nbsp;<span class="builtinfunc" id="3164384">append</span><span class="op" id="3164390">(</span><span class="ident" id="3164391"><a href="/gostd/text/template/parse/node.go.html#3164330">p</a></span><span class="op" id="3164392">.</span><span class="ident" id="3164393"><a href="/gostd/text/template/parse/node.go.html#3164104">Cmds</a></span><span class="op" id="3164397">,</span>&nbsp;<span class="ident" id="3164399"><a href="/gostd/text/template/parse/node.go.html#3164350">command</a></span><span class="op" id="3164406">)</span><br>
<span class="lineno"></span><span class="op" id="3164408">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="keyword" id="3164411">func</span>&nbsp;<span class="op" id="3164416">(</span><span class="ident" id="3164417">p</span>&nbsp;<span class="op" id="3164419">*</span><span class="ident" id="3164420"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3164428">)</span>&nbsp;<span class="ident" id="3164430">String</span><span class="op" id="3164436">(</span><span class="op" id="3164437">)</span>&nbsp;<span class="builtintype" id="3164439">string</span>&nbsp;<span class="op" id="3164446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164449">s</span>&nbsp;<span class="op" id="3164451">:=</span>&nbsp;<span class="string" id="3164454">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164458">if</span>&nbsp;<span class="builtinfunc" id="3164461">len</span><span class="op" id="3164464">(</span><span class="ident" id="3164465"><a href="/gostd/text/template/parse/node.go.html#3164417">p</a></span><span class="op" id="3164466">.</span><span class="ident" id="3164467"><a href="/gostd/text/template/parse/node.go.html#3164039">Decl</a></span><span class="op" id="3164471">)</span>&nbsp;<span class="op" id="3164473">&gt;</span>&nbsp;<span class="num" id="3164475">0</span>&nbsp;<span class="op" id="3164477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164481">for</span>&nbsp;<span class="ident" id="3164485">i</span><span class="op" id="3164486">,</span>&nbsp;<span class="ident" id="3164488">v</span>&nbsp;<span class="op" id="3164490">:=</span>&nbsp;<span class="keyword" id="3164493">range</span>&nbsp;<span class="ident" id="3164499"><a href="/gostd/text/template/parse/node.go.html#3164417">p</a></span><span class="op" id="3164500">.</span><span class="ident" id="3164501"><a href="/gostd/text/template/parse/node.go.html#3164039">Decl</a></span>&nbsp;<span class="op" id="3164506">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164511">if</span>&nbsp;<span class="ident" id="3164514"><a href="/gostd/text/template/parse/node.go.html#3164485">i</a></span>&nbsp;<span class="op" id="3164516">&gt;</span>&nbsp;<span class="num" id="3164518">0</span>&nbsp;<span class="op" id="3164520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164526"><a href="/gostd/text/template/parse/node.go.html#3164449">s</a></span>&nbsp;<span class="op" id="3164528">+=</span>&nbsp;<span class="string" id="3164531">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3164539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164544"><a href="/gostd/text/template/parse/node.go.html#3164449">s</a></span>&nbsp;<span class="op" id="3164546">+=</span>&nbsp;<span class="ident" id="3164549"><a href="/gostd/text/template/parse/node.go.html#3164488">v</a></span><span class="op" id="3164550">.</span><span class="ident" id="3164551"><a href="/gostd/text/template/parse/node.go.html#3168165">String</a></span><span class="op" id="3164557">(</span><span class="op" id="3164558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3164562">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164566"><a href="/gostd/text/template/parse/node.go.html#3164449">s</a></span>&nbsp;<span class="op" id="3164568">+=</span>&nbsp;<span class="string" id="3164571">&#34;&nbsp;:=&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3164579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164582">for</span>&nbsp;<span class="ident" id="3164586">i</span><span class="op" id="3164587">,</span>&nbsp;<span class="ident" id="3164589">c</span>&nbsp;<span class="op" id="3164591">:=</span>&nbsp;<span class="keyword" id="3164594">range</span>&nbsp;<span class="ident" id="3164600"><a href="/gostd/text/template/parse/node.go.html#3164417">p</a></span><span class="op" id="3164601">.</span><span class="ident" id="3164602"><a href="/gostd/text/template/parse/node.go.html#3164104">Cmds</a></span>&nbsp;<span class="op" id="3164607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164611">if</span>&nbsp;<span class="ident" id="3164614"><a href="/gostd/text/template/parse/node.go.html#3164586">i</a></span>&nbsp;<span class="op" id="3164616">&gt;</span>&nbsp;<span class="num" id="3164618">0</span>&nbsp;<span class="op" id="3164620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164625"><a href="/gostd/text/template/parse/node.go.html#3164449">s</a></span>&nbsp;<span class="op" id="3164627">+=</span>&nbsp;<span class="string" id="3164630">&#34;&nbsp;|&nbsp;&#34;</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3164638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164642"><a href="/gostd/text/template/parse/node.go.html#3164449">s</a></span>&nbsp;<span class="op" id="3164644">+=</span>&nbsp;<span class="ident" id="3164647"><a href="/gostd/text/template/parse/node.go.html#3164589">c</a></span><span class="op" id="3164648">.</span><span class="ident" id="3164649"><a href="/gostd/text/template/parse/node.go.html#3166270">String</a></span><span class="op" id="3164655">(</span><span class="op" id="3164656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3164659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164662">return</span>&nbsp;<span class="ident" id="3164669"><a href="/gostd/text/template/parse/node.go.html#3164449">s</a></span><br>
<span class="lineno"></span><span class="op" id="3164671">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="3164674">func</span>&nbsp;<span class="op" id="3164679">(</span><span class="ident" id="3164680">p</span>&nbsp;<span class="op" id="3164682">*</span><span class="ident" id="3164683"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3164691">)</span>&nbsp;<span class="ident" id="3164693">tree</span><span class="op" id="3164697">(</span><span class="op" id="3164698">)</span>&nbsp;<span class="op" id="3164700">*</span><span class="ident" id="3164701"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3164706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164709">return</span>&nbsp;<span class="ident" id="3164716"><a href="/gostd/text/template/parse/node.go.html#3164680">p</a></span><span class="op" id="3164717">.</span><span class="ident" id="3164718"><a href="/gostd/text/template/parse/node.go.html#3163936">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3164721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="3164724">func</span>&nbsp;<span class="op" id="3164729">(</span><span class="ident" id="3164730">p</span>&nbsp;<span class="op" id="3164732">*</span><span class="ident" id="3164733"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3164741">)</span>&nbsp;<span class="ident" id="3164743">CopyPipe</span><span class="op" id="3164751">(</span><span class="op" id="3164752">)</span>&nbsp;<span class="op" id="3164754">*</span><span class="ident" id="3164755"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span>&nbsp;<span class="op" id="3164764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164767">if</span>&nbsp;<span class="ident" id="3164770"><a href="/gostd/text/template/parse/node.go.html#3164730">p</a></span>&nbsp;<span class="op" id="3164772">==</span>&nbsp;<span class="builtintype" id="3164775">nil</span>&nbsp;<span class="op" id="3164779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164783">return</span>&nbsp;<span class="ident" id="3164790"><a href="/gostd/text/template/parse/node.go.html#3164730">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3164793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164796">var</span>&nbsp;<span class="ident" id="3164800">decl</span>&nbsp;<span class="op" id="3164805">[</span><span class="op" id="3164806">]</span><span class="op" id="3164807">*</span><span class="ident" id="3164808"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164822">for</span>&nbsp;<span class="ident" id="3164826">_</span><span class="op" id="3164827">,</span>&nbsp;<span class="ident" id="3164829">d</span>&nbsp;<span class="op" id="3164831">:=</span>&nbsp;<span class="keyword" id="3164834">range</span>&nbsp;<span class="ident" id="3164840"><a href="/gostd/text/template/parse/node.go.html#3164730">p</a></span><span class="op" id="3164841">.</span><span class="ident" id="3164842"><a href="/gostd/text/template/parse/node.go.html#3164039">Decl</a></span>&nbsp;<span class="op" id="3164847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164851"><a href="/gostd/text/template/parse/node.go.html#3164800">decl</a></span>&nbsp;<span class="op" id="3164856">=</span>&nbsp;<span class="builtinfunc" id="3164858">append</span><span class="op" id="3164864">(</span><span class="ident" id="3164865"><a href="/gostd/text/template/parse/node.go.html#3164800">decl</a></span><span class="op" id="3164869">,</span>&nbsp;<span class="ident" id="3164871"><a href="/gostd/text/template/parse/node.go.html#3164829">d</a></span><span class="op" id="3164872">.</span><span class="ident" id="3164873"><a href="/gostd/text/template/parse/node.go.html#3168354">Copy</a></span><span class="op" id="3164877">(</span><span class="op" id="3164878">)</span><span class="op" id="3164879">.</span><span class="op" id="3164880">(</span><span class="op" id="3164881">*</span><span class="ident" id="3164882"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span><span class="op" id="3164894">)</span><span class="op" id="3164895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3164898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164901">n</span>&nbsp;<span class="op" id="3164903">:=</span>&nbsp;<span class="ident" id="3164906"><a href="/gostd/text/template/parse/node.go.html#3164730">p</a></span><span class="op" id="3164907">.</span><span class="ident" id="3164908"><a href="/gostd/text/template/parse/node.go.html#3163936">tr</a></span><span class="op" id="3164910">.</span><span class="ident" id="3164911"><a href="/gostd/text/template/parse/node.go.html#3164177">newPipeline</a></span><span class="op" id="3164922">(</span><span class="ident" id="3164923"><a href="/gostd/text/template/parse/node.go.html#3164730">p</a></span><span class="op" id="3164924">.</span><span class="ident" id="3164925"><a href="/gostd/text/template/parse/node.go.html#3163931">Pos</a></span><span class="op" id="3164928">,</span>&nbsp;<span class="ident" id="3164930"><a href="/gostd/text/template/parse/node.go.html#3164730">p</a></span><span class="op" id="3164931">.</span><span class="ident" id="3164932"><a href="/gostd/text/template/parse/node.go.html#3163948">Line</a></span><span class="op" id="3164936">,</span>&nbsp;<span class="ident" id="3164938"><a href="/gostd/text/template/parse/node.go.html#3164800">decl</a></span><span class="op" id="3164942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3164945">for</span>&nbsp;<span class="ident" id="3164949">_</span><span class="op" id="3164950">,</span>&nbsp;<span class="ident" id="3164952">c</span>&nbsp;<span class="op" id="3164954">:=</span>&nbsp;<span class="keyword" id="3164957">range</span>&nbsp;<span class="ident" id="3164963"><a href="/gostd/text/template/parse/node.go.html#3164730">p</a></span><span class="op" id="3164964">.</span><span class="ident" id="3164965"><a href="/gostd/text/template/parse/node.go.html#3164104">Cmds</a></span>&nbsp;<span class="op" id="3164970">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3164974"><a href="/gostd/text/template/parse/node.go.html#3164901">n</a></span><span class="op" id="3164975">.</span><span class="builtinfunc" id="3164976"><a href="/gostd/text/template/parse/node.go.html#3164343">append</a></span><span class="op" id="3164982">(</span><span class="ident" id="3164983"><a href="/gostd/text/template/parse/node.go.html#3164952">c</a></span><span class="op" id="3164984">.</span><span class="ident" id="3164985"><a href="/gostd/text/template/parse/node.go.html#3166554">Copy</a></span><span class="op" id="3164989">(</span><span class="op" id="3164990">)</span><span class="op" id="3164991">.</span><span class="op" id="3164992">(</span><span class="op" id="3164993">*</span><span class="ident" id="3164994"><a href="/gostd/text/template/parse/node.go.html#3165933">CommandNode</a></span><span class="op" id="3165005">)</span><span class="op" id="3165006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3165009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3165012">return</span>&nbsp;<span class="ident" id="3165019"><a href="/gostd/text/template/parse/node.go.html#3164901">n</a></span><br>
<span class="lineno"></span><span class="op" id="3165021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="3165024">func</span>&nbsp;<span class="op" id="3165029">(</span><span class="ident" id="3165030">p</span>&nbsp;<span class="op" id="3165032">*</span><span class="ident" id="3165033"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3165041">)</span>&nbsp;<span class="ident" id="3165043">Copy</span><span class="op" id="3165047">(</span><span class="op" id="3165048">)</span>&nbsp;<span class="ident" id="3165050"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3165055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3165058">return</span>&nbsp;<span class="ident" id="3165065"><a href="/gostd/text/template/parse/node.go.html#3165030">p</a></span><span class="op" id="3165066">.</span><span class="ident" id="3165067"><a href="/gostd/text/template/parse/node.go.html#3164743">CopyPipe</a></span><span class="op" id="3165075">(</span><span class="op" id="3165076">)</span><br>
<span class="lineno"></span><span class="op" id="3165078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3165081">//&nbsp;ActionNode&nbsp;holds&nbsp;an&nbsp;action&nbsp;(something&nbsp;bounded&nbsp;by&nbsp;delimiters).</span><br>
<span class="lineno">205</span><span class="comment" id="3165146">//&nbsp;Control&nbsp;actions&nbsp;have&nbsp;their&nbsp;own&nbsp;nodes;&nbsp;ActionNode&nbsp;represents&nbsp;simple</span><br>
<span class="lineno"></span><span class="comment" id="3165216">//&nbsp;ones&nbsp;such&nbsp;as&nbsp;field&nbsp;evaluations&nbsp;and&nbsp;parenthesized&nbsp;pipelines.</span><br>
<span class="lineno"></span><span class="keyword" id="3165279">type</span>&nbsp;<span class="ident" id="3165284">ActionNode</span>&nbsp;<span class="keyword" id="3165295">struct</span>&nbsp;<span class="op" id="3165302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3165305"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3165315"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3165320">tr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3165325">*</span><span class="ident" id="3165326"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3165332">Line</span>&nbsp;<span class="builtintype" id="3165337">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3165347">//&nbsp;The&nbsp;line&nbsp;number&nbsp;in&nbsp;the&nbsp;input&nbsp;(deprecated;&nbsp;kept&nbsp;for&nbsp;compatibility)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3165417">Pipe</span>&nbsp;<span class="op" id="3165422">*</span><span class="ident" id="3165423"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span>&nbsp;<span class="comment" id="3165432">//&nbsp;The&nbsp;pipeline&nbsp;in&nbsp;the&nbsp;action.</span><br>
<span class="lineno"></span><span class="op" id="3165463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="3165466">func</span>&nbsp;<span class="op" id="3165471">(</span><span class="ident" id="3165472">t</span>&nbsp;<span class="op" id="3165474">*</span><span class="ident" id="3165475"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3165479">)</span>&nbsp;<span class="ident" id="3165481">newAction</span><span class="op" id="3165490">(</span><span class="ident" id="3165491">pos</span>&nbsp;<span class="ident" id="3165495"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3165498">,</span>&nbsp;<span class="ident" id="3165500">line</span>&nbsp;<span class="builtintype" id="3165505">int</span><span class="op" id="3165508">,</span>&nbsp;<span class="ident" id="3165510">pipe</span>&nbsp;<span class="op" id="3165515">*</span><span class="ident" id="3165516"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3165524">)</span>&nbsp;<span class="op" id="3165526">*</span><span class="ident" id="3165527"><a href="/gostd/text/template/parse/node.go.html#3165284">ActionNode</a></span>&nbsp;<span class="op" id="3165538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3165541">return</span>&nbsp;<span class="op" id="3165548">&amp;</span><span class="ident" id="3165549"><a href="/gostd/text/template/parse/node.go.html#3165284">ActionNode</a></span><span class="op" id="3165559">{</span><span class="ident" id="3165560"><a href="/gostd/text/template/parse/node.go.html#3165320">tr</a></span><span class="op" id="3165562">:</span>&nbsp;<span class="ident" id="3165564"><a href="/gostd/text/template/parse/node.go.html#3165472">t</a></span><span class="op" id="3165565">,</span>&nbsp;<span class="ident" id="3165567"><a href="/gostd/text/template/parse/node.go.html#3165305">NodeType</a></span><span class="op" id="3165575">:</span>&nbsp;<span class="ident" id="3165577"><a href="/gostd/text/template/parse/node.go.html#3161443">NodeAction</a></span><span class="op" id="3165587">,</span>&nbsp;<span class="ident" id="3165589"><a href="/gostd/text/template/parse/node.go.html#3165315">Pos</a></span><span class="op" id="3165592">:</span>&nbsp;<span class="ident" id="3165594"><a href="/gostd/text/template/parse/node.go.html#3165491">pos</a></span><span class="op" id="3165597">,</span>&nbsp;<span class="ident" id="3165599"><a href="/gostd/text/template/parse/node.go.html#3165332">Line</a></span><span class="op" id="3165603">:</span>&nbsp;<span class="ident" id="3165605"><a href="/gostd/text/template/parse/node.go.html#3165500">line</a></span><span class="op" id="3165609">,</span>&nbsp;<span class="ident" id="3165611"><a href="/gostd/text/template/parse/node.go.html#3165417">Pipe</a></span><span class="op" id="3165615">:</span>&nbsp;<span class="ident" id="3165617"><a href="/gostd/text/template/parse/node.go.html#3165510">pipe</a></span><span class="op" id="3165621">}</span><br>
<span class="lineno"></span><span class="op" id="3165623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3165626">func</span>&nbsp;<span class="op" id="3165631">(</span><span class="ident" id="3165632">a</span>&nbsp;<span class="op" id="3165634">*</span><span class="ident" id="3165635"><a href="/gostd/text/template/parse/node.go.html#3165284">ActionNode</a></span><span class="op" id="3165645">)</span>&nbsp;<span class="ident" id="3165647">String</span><span class="op" id="3165653">(</span><span class="op" id="3165654">)</span>&nbsp;<span class="builtintype" id="3165656">string</span>&nbsp;<span class="op" id="3165663">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3165666">return</span>&nbsp;<span class="ident" id="3165673"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3165676">.</span><span class="ident" id="3165677"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3165684">(</span><span class="string" id="3165685">&#34;{{%s}}&#34;</span><span class="op" id="3165693">,</span>&nbsp;<span class="ident" id="3165695"><a href="/gostd/text/template/parse/node.go.html#3165632">a</a></span><span class="op" id="3165696">.</span><span class="ident" id="3165697"><a href="/gostd/text/template/parse/node.go.html#3165417">Pipe</a></span><span class="op" id="3165701">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="op" id="3165704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3165707">func</span>&nbsp;<span class="op" id="3165712">(</span><span class="ident" id="3165713">a</span>&nbsp;<span class="op" id="3165715">*</span><span class="ident" id="3165716"><a href="/gostd/text/template/parse/node.go.html#3165284">ActionNode</a></span><span class="op" id="3165726">)</span>&nbsp;<span class="ident" id="3165728">tree</span><span class="op" id="3165732">(</span><span class="op" id="3165733">)</span>&nbsp;<span class="op" id="3165735">*</span><span class="ident" id="3165736"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3165741">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3165744">return</span>&nbsp;<span class="ident" id="3165751"><a href="/gostd/text/template/parse/node.go.html#3165713">a</a></span><span class="op" id="3165752">.</span><span class="ident" id="3165753"><a href="/gostd/text/template/parse/node.go.html#3165320">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3165756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3165759">func</span>&nbsp;<span class="op" id="3165764">(</span><span class="ident" id="3165765">a</span>&nbsp;<span class="op" id="3165767">*</span><span class="ident" id="3165768"><a href="/gostd/text/template/parse/node.go.html#3165284">ActionNode</a></span><span class="op" id="3165778">)</span>&nbsp;<span class="ident" id="3165780">Copy</span><span class="op" id="3165784">(</span><span class="op" id="3165785">)</span>&nbsp;<span class="ident" id="3165787"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3165792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3165795">return</span>&nbsp;<span class="ident" id="3165802"><a href="/gostd/text/template/parse/node.go.html#3165765">a</a></span><span class="op" id="3165803">.</span><span class="ident" id="3165804"><a href="/gostd/text/template/parse/node.go.html#3165320">tr</a></span><span class="op" id="3165806">.</span><span class="ident" id="3165807"><a href="/gostd/text/template/parse/node.go.html#3165481">newAction</a></span><span class="op" id="3165816">(</span><span class="ident" id="3165817"><a href="/gostd/text/template/parse/node.go.html#3165765">a</a></span><span class="op" id="3165818">.</span><span class="ident" id="3165819"><a href="/gostd/text/template/parse/node.go.html#3165315">Pos</a></span><span class="op" id="3165822">,</span>&nbsp;<span class="ident" id="3165824"><a href="/gostd/text/template/parse/node.go.html#3165765">a</a></span><span class="op" id="3165825">.</span><span class="ident" id="3165826"><a href="/gostd/text/template/parse/node.go.html#3165332">Line</a></span><span class="op" id="3165830">,</span>&nbsp;<span class="ident" id="3165832"><a href="/gostd/text/template/parse/node.go.html#3165765">a</a></span><span class="op" id="3165833">.</span><span class="ident" id="3165834"><a href="/gostd/text/template/parse/node.go.html#3165417">Pipe</a></span><span class="op" id="3165838">.</span><span class="ident" id="3165839"><a href="/gostd/text/template/parse/node.go.html#3164743">CopyPipe</a></span><span class="op" id="3165847">(</span><span class="op" id="3165848">)</span><span class="op" id="3165849">)</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="op" id="3165852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3165855">//&nbsp;CommandNode&nbsp;holds&nbsp;a&nbsp;command&nbsp;(a&nbsp;pipeline&nbsp;inside&nbsp;an&nbsp;evaluating&nbsp;action).</span><br>
<span class="lineno"></span><span class="keyword" id="3165928">type</span>&nbsp;<span class="ident" id="3165933">CommandNode</span>&nbsp;<span class="keyword" id="3165945">struct</span>&nbsp;<span class="op" id="3165952">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3165955"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3165965"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3165970">tr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3165975">*</span><span class="ident" id="3165976"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3165982">Args</span>&nbsp;<span class="op" id="3165987">[</span><span class="op" id="3165988">]</span><span class="ident" id="3165989"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="comment" id="3165994">//&nbsp;Arguments&nbsp;in&nbsp;lexical&nbsp;order:&nbsp;Identifier,&nbsp;field,&nbsp;or&nbsp;constant.</span><br>
<span class="lineno"></span><span class="op" id="3166057">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span><span class="keyword" id="3166060">func</span>&nbsp;<span class="op" id="3166065">(</span><span class="ident" id="3166066">t</span>&nbsp;<span class="op" id="3166068">*</span><span class="ident" id="3166069"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3166073">)</span>&nbsp;<span class="ident" id="3166075">newCommand</span><span class="op" id="3166085">(</span><span class="ident" id="3166086">pos</span>&nbsp;<span class="ident" id="3166090"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3166093">)</span>&nbsp;<span class="op" id="3166095">*</span><span class="ident" id="3166096"><a href="/gostd/text/template/parse/node.go.html#3165933">CommandNode</a></span>&nbsp;<span class="op" id="3166108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166111">return</span>&nbsp;<span class="op" id="3166118">&amp;</span><span class="ident" id="3166119"><a href="/gostd/text/template/parse/node.go.html#3165933">CommandNode</a></span><span class="op" id="3166130">{</span><span class="ident" id="3166131"><a href="/gostd/text/template/parse/node.go.html#3165970">tr</a></span><span class="op" id="3166133">:</span>&nbsp;<span class="ident" id="3166135"><a href="/gostd/text/template/parse/node.go.html#3166066">t</a></span><span class="op" id="3166136">,</span>&nbsp;<span class="ident" id="3166138"><a href="/gostd/text/template/parse/node.go.html#3165955">NodeType</a></span><span class="op" id="3166146">:</span>&nbsp;<span class="ident" id="3166148"><a href="/gostd/text/template/parse/node.go.html#3161647">NodeCommand</a></span><span class="op" id="3166159">,</span>&nbsp;<span class="ident" id="3166161"><a href="/gostd/text/template/parse/node.go.html#3165965">Pos</a></span><span class="op" id="3166164">:</span>&nbsp;<span class="ident" id="3166166"><a href="/gostd/text/template/parse/node.go.html#3166086">pos</a></span><span class="op" id="3166169">}</span><br>
<span class="lineno"></span><span class="op" id="3166171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="3166174">func</span>&nbsp;<span class="op" id="3166179">(</span><span class="ident" id="3166180">c</span>&nbsp;<span class="op" id="3166182">*</span><span class="ident" id="3166183"><a href="/gostd/text/template/parse/node.go.html#3165933">CommandNode</a></span><span class="op" id="3166194">)</span>&nbsp;<span class="builtinfunc" id="3166196">append</span><span class="op" id="3166202">(</span><span class="ident" id="3166203">arg</span>&nbsp;<span class="ident" id="3166207"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span><span class="op" id="3166211">)</span>&nbsp;<span class="op" id="3166213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166216"><a href="/gostd/text/template/parse/node.go.html#3166180">c</a></span><span class="op" id="3166217">.</span><span class="ident" id="3166218"><a href="/gostd/text/template/parse/node.go.html#3165982">Args</a></span>&nbsp;<span class="op" id="3166223">=</span>&nbsp;<span class="builtinfunc" id="3166225">append</span><span class="op" id="3166231">(</span><span class="ident" id="3166232"><a href="/gostd/text/template/parse/node.go.html#3166180">c</a></span><span class="op" id="3166233">.</span><span class="ident" id="3166234"><a href="/gostd/text/template/parse/node.go.html#3165982">Args</a></span><span class="op" id="3166238">,</span>&nbsp;<span class="ident" id="3166240"><a href="/gostd/text/template/parse/node.go.html#3166203">arg</a></span><span class="op" id="3166243">)</span><br>
<span class="lineno"></span><span class="op" id="3166245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3166248">func</span>&nbsp;<span class="op" id="3166253">(</span><span class="ident" id="3166254">c</span>&nbsp;<span class="op" id="3166256">*</span><span class="ident" id="3166257"><a href="/gostd/text/template/parse/node.go.html#3165933">CommandNode</a></span><span class="op" id="3166268">)</span>&nbsp;<span class="ident" id="3166270">String</span><span class="op" id="3166276">(</span><span class="op" id="3166277">)</span>&nbsp;<span class="builtintype" id="3166279">string</span>&nbsp;<span class="op" id="3166286">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166289">s</span>&nbsp;<span class="op" id="3166291">:=</span>&nbsp;<span class="string" id="3166294">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166298">for</span>&nbsp;<span class="ident" id="3166302">i</span><span class="op" id="3166303">,</span>&nbsp;<span class="ident" id="3166305">arg</span>&nbsp;<span class="op" id="3166309">:=</span>&nbsp;<span class="keyword" id="3166312">range</span>&nbsp;<span class="ident" id="3166318"><a href="/gostd/text/template/parse/node.go.html#3166254">c</a></span><span class="op" id="3166319">.</span><span class="ident" id="3166320"><a href="/gostd/text/template/parse/node.go.html#3165982">Args</a></span>&nbsp;<span class="op" id="3166325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166329">if</span>&nbsp;<span class="ident" id="3166332"><a href="/gostd/text/template/parse/node.go.html#3166302">i</a></span>&nbsp;<span class="op" id="3166334">&gt;</span>&nbsp;<span class="num" id="3166336">0</span>&nbsp;<span class="op" id="3166338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166343"><a href="/gostd/text/template/parse/node.go.html#3166289">s</a></span>&nbsp;<span class="op" id="3166345">+=</span>&nbsp;<span class="string" id="3166348">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166354">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166358">if</span>&nbsp;<span class="ident" id="3166361">arg</span><span class="op" id="3166364">,</span>&nbsp;<span class="ident" id="3166366">ok</span>&nbsp;<span class="op" id="3166369">:=</span>&nbsp;<span class="ident" id="3166372"><a href="/gostd/text/template/parse/node.go.html#3166305">arg</a></span><span class="op" id="3166375">.</span><span class="op" id="3166376">(</span><span class="op" id="3166377">*</span><span class="ident" id="3166378"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3166386">)</span><span class="op" id="3166387">;</span>&nbsp;<span class="ident" id="3166389"><a href="/gostd/text/template/parse/node.go.html#3166366">ok</a></span>&nbsp;<span class="op" id="3166392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166397"><a href="/gostd/text/template/parse/node.go.html#3166289">s</a></span>&nbsp;<span class="op" id="3166399">+=</span>&nbsp;<span class="string" id="3166402">&#34;(&#34;</span>&nbsp;<span class="op" id="3166406">+</span>&nbsp;<span class="ident" id="3166408"><a href="/gostd/text/template/parse/node.go.html#3166361">arg</a></span><span class="op" id="3166411">.</span><span class="ident" id="3166412"><a href="/gostd/text/template/parse/node.go.html#3164430">String</a></span><span class="op" id="3166418">(</span><span class="op" id="3166419">)</span>&nbsp;<span class="op" id="3166421">+</span>&nbsp;<span class="string" id="3166423">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166430">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166445"><a href="/gostd/text/template/parse/node.go.html#3166289">s</a></span>&nbsp;<span class="op" id="3166447">+=</span>&nbsp;<span class="ident" id="3166450"><a href="/gostd/text/template/parse/node.go.html#3166305">arg</a></span><span class="op" id="3166453">.</span><span class="ident" id="3166454"><a href="/gostd/text/template/parse/node.go.html#3160569">String</a></span><span class="op" id="3166460">(</span><span class="op" id="3166461">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166467">return</span>&nbsp;<span class="ident" id="3166474"><a href="/gostd/text/template/parse/node.go.html#3166289">s</a></span><br>
<span class="lineno"></span><span class="op" id="3166476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3166479">func</span>&nbsp;<span class="op" id="3166484">(</span><span class="ident" id="3166485">c</span>&nbsp;<span class="op" id="3166487">*</span><span class="ident" id="3166488"><a href="/gostd/text/template/parse/node.go.html#3165933">CommandNode</a></span><span class="op" id="3166499">)</span>&nbsp;<span class="ident" id="3166501">tree</span><span class="op" id="3166505">(</span><span class="op" id="3166506">)</span>&nbsp;<span class="op" id="3166508">*</span><span class="ident" id="3166509"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3166514">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166517">return</span>&nbsp;<span class="ident" id="3166524"><a href="/gostd/text/template/parse/node.go.html#3166485">c</a></span><span class="op" id="3166525">.</span><span class="ident" id="3166526"><a href="/gostd/text/template/parse/node.go.html#3165970">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3166529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3166532">func</span>&nbsp;<span class="op" id="3166537">(</span><span class="ident" id="3166538">c</span>&nbsp;<span class="op" id="3166540">*</span><span class="ident" id="3166541"><a href="/gostd/text/template/parse/node.go.html#3165933">CommandNode</a></span><span class="op" id="3166552">)</span>&nbsp;<span class="ident" id="3166554">Copy</span><span class="op" id="3166558">(</span><span class="op" id="3166559">)</span>&nbsp;<span class="ident" id="3166561"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3166566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166569">if</span>&nbsp;<span class="ident" id="3166572"><a href="/gostd/text/template/parse/node.go.html#3166538">c</a></span>&nbsp;<span class="op" id="3166574">==</span>&nbsp;<span class="builtintype" id="3166577">nil</span>&nbsp;<span class="op" id="3166581">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166585">return</span>&nbsp;<span class="ident" id="3166592"><a href="/gostd/text/template/parse/node.go.html#3166538">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166598">n</span>&nbsp;<span class="op" id="3166600">:=</span>&nbsp;<span class="ident" id="3166603"><a href="/gostd/text/template/parse/node.go.html#3166538">c</a></span><span class="op" id="3166604">.</span><span class="ident" id="3166605"><a href="/gostd/text/template/parse/node.go.html#3165970">tr</a></span><span class="op" id="3166607">.</span><span class="ident" id="3166608"><a href="/gostd/text/template/parse/node.go.html#3166075">newCommand</a></span><span class="op" id="3166618">(</span><span class="ident" id="3166619"><a href="/gostd/text/template/parse/node.go.html#3166538">c</a></span><span class="op" id="3166620">.</span><span class="ident" id="3166621"><a href="/gostd/text/template/parse/node.go.html#3165965">Pos</a></span><span class="op" id="3166624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166627">for</span>&nbsp;<span class="ident" id="3166631">_</span><span class="op" id="3166632">,</span>&nbsp;<span class="ident" id="3166634">c</span>&nbsp;<span class="op" id="3166636">:=</span>&nbsp;<span class="keyword" id="3166639">range</span>&nbsp;<span class="ident" id="3166645"><a href="/gostd/text/template/parse/node.go.html#3166538">c</a></span><span class="op" id="3166646">.</span><span class="ident" id="3166647"><a href="/gostd/text/template/parse/node.go.html#3165982">Args</a></span>&nbsp;<span class="op" id="3166652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166656"><a href="/gostd/text/template/parse/node.go.html#3166598">n</a></span><span class="op" id="3166657">.</span><span class="builtinfunc" id="3166658"><a href="/gostd/text/template/parse/node.go.html#3166196">append</a></span><span class="op" id="3166664">(</span><span class="ident" id="3166665"><a href="/gostd/text/template/parse/node.go.html#3166634">c</a></span><span class="op" id="3166666">.</span><span class="ident" id="3166667"><a href="/gostd/text/template/parse/node.go.html#3160756">Copy</a></span><span class="op" id="3166671">(</span><span class="op" id="3166672">)</span><span class="op" id="3166673">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166679">return</span>&nbsp;<span class="ident" id="3166686"><a href="/gostd/text/template/parse/node.go.html#3166598">n</a></span><br>
<span class="lineno"></span><span class="op" id="3166688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3166691">//&nbsp;IdentifierNode&nbsp;holds&nbsp;an&nbsp;identifier.</span><br>
<span class="lineno">280</span><span class="keyword" id="3166730">type</span>&nbsp;<span class="ident" id="3166735">IdentifierNode</span>&nbsp;<span class="keyword" id="3166750">struct</span>&nbsp;<span class="op" id="3166757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166760"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166770"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166775">tr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166781">*</span><span class="ident" id="3166782"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166788">Ident</span>&nbsp;<span class="builtintype" id="3166794">string</span>&nbsp;<span class="comment" id="3166801">//&nbsp;The&nbsp;identifier&#39;s&nbsp;name.</span><br>
<span class="lineno">285</span><span class="op" id="3166827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3166830">//&nbsp;NewIdentifier&nbsp;returns&nbsp;a&nbsp;new&nbsp;IdentifierNode&nbsp;with&nbsp;the&nbsp;given&nbsp;identifier&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3166908">func</span>&nbsp;<span class="ident" id="3166913">NewIdentifier</span><span class="op" id="3166926">(</span><span class="ident" id="3166927">ident</span>&nbsp;<span class="builtintype" id="3166933">string</span><span class="op" id="3166939">)</span>&nbsp;<span class="op" id="3166941">*</span><span class="ident" id="3166942"><a href="/gostd/text/template/parse/node.go.html#3166735">IdentifierNode</a></span>&nbsp;<span class="op" id="3166957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166960">return</span>&nbsp;<span class="op" id="3166967">&amp;</span><span class="ident" id="3166968"><a href="/gostd/text/template/parse/node.go.html#3166735">IdentifierNode</a></span><span class="op" id="3166982">{</span><span class="ident" id="3166983"><a href="/gostd/text/template/parse/node.go.html#3166760">NodeType</a></span><span class="op" id="3166991">:</span>&nbsp;<span class="ident" id="3166993"><a href="/gostd/text/template/parse/node.go.html#3161958">NodeIdentifier</a></span><span class="op" id="3167007">,</span>&nbsp;<span class="ident" id="3167009"><a href="/gostd/text/template/parse/node.go.html#3166788">Ident</a></span><span class="op" id="3167014">:</span>&nbsp;<span class="ident" id="3167016"><a href="/gostd/text/template/parse/node.go.html#3166927">ident</a></span><span class="op" id="3167021">}</span><br>
<span class="lineno">290</span><span class="op" id="3167023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3167026">//&nbsp;SetPos&nbsp;sets&nbsp;the&nbsp;position.&nbsp;NewIdentifier&nbsp;is&nbsp;a&nbsp;public&nbsp;method&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;modify&nbsp;its&nbsp;signature.</span><br>
<span class="lineno"></span><span class="comment" id="3167122">//&nbsp;Chained&nbsp;for&nbsp;convenience.</span><br>
<span class="lineno"></span><span class="comment" id="3167150">//&nbsp;TODO:&nbsp;fix&nbsp;one&nbsp;day?</span><br>
<span class="lineno">295</span><span class="keyword" id="3167172">func</span>&nbsp;<span class="op" id="3167177">(</span><span class="ident" id="3167178">i</span>&nbsp;<span class="op" id="3167180">*</span><span class="ident" id="3167181"><a href="/gostd/text/template/parse/node.go.html#3166735">IdentifierNode</a></span><span class="op" id="3167195">)</span>&nbsp;<span class="ident" id="3167197">SetPos</span><span class="op" id="3167203">(</span><span class="ident" id="3167204">pos</span>&nbsp;<span class="ident" id="3167208"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3167211">)</span>&nbsp;<span class="op" id="3167213">*</span><span class="ident" id="3167214"><a href="/gostd/text/template/parse/node.go.html#3166735">IdentifierNode</a></span>&nbsp;<span class="op" id="3167229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167232"><a href="/gostd/text/template/parse/node.go.html#3167178">i</a></span><span class="op" id="3167233">.</span><span class="ident" id="3167234"><a href="/gostd/text/template/parse/node.go.html#3166770">Pos</a></span>&nbsp;<span class="op" id="3167238">=</span>&nbsp;<span class="ident" id="3167240"><a href="/gostd/text/template/parse/node.go.html#3167204">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167245">return</span>&nbsp;<span class="ident" id="3167252"><a href="/gostd/text/template/parse/node.go.html#3167178">i</a></span><br>
<span class="lineno"></span><span class="op" id="3167254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="comment" id="3167257">//&nbsp;SetTree&nbsp;sets&nbsp;the&nbsp;parent&nbsp;tree&nbsp;for&nbsp;the&nbsp;node.&nbsp;NewIdentifier&nbsp;is&nbsp;a&nbsp;public&nbsp;method&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;modify&nbsp;its&nbsp;signature.</span><br>
<span class="lineno"></span><span class="comment" id="3167370">//&nbsp;Chained&nbsp;for&nbsp;convenience.</span><br>
<span class="lineno"></span><span class="comment" id="3167398">//&nbsp;TODO:&nbsp;fix&nbsp;one&nbsp;day?</span><br>
<span class="lineno"></span><span class="keyword" id="3167420">func</span>&nbsp;<span class="op" id="3167425">(</span><span class="ident" id="3167426">i</span>&nbsp;<span class="op" id="3167428">*</span><span class="ident" id="3167429"><a href="/gostd/text/template/parse/node.go.html#3166735">IdentifierNode</a></span><span class="op" id="3167443">)</span>&nbsp;<span class="ident" id="3167445">SetTree</span><span class="op" id="3167452">(</span><span class="ident" id="3167453">t</span>&nbsp;<span class="op" id="3167455">*</span><span class="ident" id="3167456"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3167460">)</span>&nbsp;<span class="op" id="3167462">*</span><span class="ident" id="3167463"><a href="/gostd/text/template/parse/node.go.html#3166735">IdentifierNode</a></span>&nbsp;<span class="op" id="3167478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167481"><a href="/gostd/text/template/parse/node.go.html#3167426">i</a></span><span class="op" id="3167482">.</span><span class="ident" id="3167483"><a href="/gostd/text/template/parse/node.go.html#3166775">tr</a></span>&nbsp;<span class="op" id="3167486">=</span>&nbsp;<span class="ident" id="3167488"><a href="/gostd/text/template/parse/node.go.html#3167453">t</a></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167491">return</span>&nbsp;<span class="ident" id="3167498"><a href="/gostd/text/template/parse/node.go.html#3167426">i</a></span><br>
<span class="lineno"></span><span class="op" id="3167500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3167503">func</span>&nbsp;<span class="op" id="3167508">(</span><span class="ident" id="3167509">i</span>&nbsp;<span class="op" id="3167511">*</span><span class="ident" id="3167512"><a href="/gostd/text/template/parse/node.go.html#3166735">IdentifierNode</a></span><span class="op" id="3167526">)</span>&nbsp;<span class="ident" id="3167528">String</span><span class="op" id="3167534">(</span><span class="op" id="3167535">)</span>&nbsp;<span class="builtintype" id="3167537">string</span>&nbsp;<span class="op" id="3167544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167547">return</span>&nbsp;<span class="ident" id="3167554"><a href="/gostd/text/template/parse/node.go.html#3167509">i</a></span><span class="op" id="3167555">.</span><span class="ident" id="3167556"><a href="/gostd/text/template/parse/node.go.html#3166788">Ident</a></span><br>
<span class="lineno">310</span><span class="op" id="3167562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3167565">func</span>&nbsp;<span class="op" id="3167570">(</span><span class="ident" id="3167571">i</span>&nbsp;<span class="op" id="3167573">*</span><span class="ident" id="3167574"><a href="/gostd/text/template/parse/node.go.html#3166735">IdentifierNode</a></span><span class="op" id="3167588">)</span>&nbsp;<span class="ident" id="3167590">tree</span><span class="op" id="3167594">(</span><span class="op" id="3167595">)</span>&nbsp;<span class="op" id="3167597">*</span><span class="ident" id="3167598"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3167603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167606">return</span>&nbsp;<span class="ident" id="3167613"><a href="/gostd/text/template/parse/node.go.html#3167571">i</a></span><span class="op" id="3167614">.</span><span class="ident" id="3167615"><a href="/gostd/text/template/parse/node.go.html#3166775">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3167618">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="3167621">func</span>&nbsp;<span class="op" id="3167626">(</span><span class="ident" id="3167627">i</span>&nbsp;<span class="op" id="3167629">*</span><span class="ident" id="3167630"><a href="/gostd/text/template/parse/node.go.html#3166735">IdentifierNode</a></span><span class="op" id="3167644">)</span>&nbsp;<span class="ident" id="3167646">Copy</span><span class="op" id="3167650">(</span><span class="op" id="3167651">)</span>&nbsp;<span class="ident" id="3167653"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3167658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167661">return</span>&nbsp;<span class="ident" id="3167668"><a href="/gostd/text/template/parse/node.go.html#3166913">NewIdentifier</a></span><span class="op" id="3167681">(</span><span class="ident" id="3167682"><a href="/gostd/text/template/parse/node.go.html#3167627">i</a></span><span class="op" id="3167683">.</span><span class="ident" id="3167684"><a href="/gostd/text/template/parse/node.go.html#3166788">Ident</a></span><span class="op" id="3167689">)</span><span class="op" id="3167690">.</span><span class="ident" id="3167691"><a href="/gostd/text/template/parse/node.go.html#3167445">SetTree</a></span><span class="op" id="3167698">(</span><span class="ident" id="3167699"><a href="/gostd/text/template/parse/node.go.html#3167627">i</a></span><span class="op" id="3167700">.</span><span class="ident" id="3167701"><a href="/gostd/text/template/parse/node.go.html#3166775">tr</a></span><span class="op" id="3167703">)</span><span class="op" id="3167704">.</span><span class="ident" id="3167705"><a href="/gostd/text/template/parse/node.go.html#3167197">SetPos</a></span><span class="op" id="3167711">(</span><span class="ident" id="3167712"><a href="/gostd/text/template/parse/node.go.html#3167627">i</a></span><span class="op" id="3167713">.</span><span class="ident" id="3167714"><a href="/gostd/text/template/parse/node.go.html#3166770">Pos</a></span><span class="op" id="3167717">)</span><br>
<span class="lineno"></span><span class="op" id="3167719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="comment" id="3167722">//&nbsp;VariableNode&nbsp;holds&nbsp;a&nbsp;list&nbsp;of&nbsp;variable&nbsp;names,&nbsp;possibly&nbsp;with&nbsp;chained&nbsp;field</span><br>
<span class="lineno"></span><span class="comment" id="3167798">//&nbsp;accesses.&nbsp;The&nbsp;dollar&nbsp;sign&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;(first)&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3167856">type</span>&nbsp;<span class="ident" id="3167861">VariableNode</span>&nbsp;<span class="keyword" id="3167874">struct</span>&nbsp;<span class="op" id="3167881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167884"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167894"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167899">tr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3167905">*</span><span class="ident" id="3167906"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167912">Ident</span>&nbsp;<span class="op" id="3167918">[</span><span class="op" id="3167919">]</span><span class="builtintype" id="3167920">string</span>&nbsp;<span class="comment" id="3167927">//&nbsp;Variable&nbsp;name&nbsp;and&nbsp;fields&nbsp;in&nbsp;lexical&nbsp;order.</span><br>
<span class="lineno"></span><span class="op" id="3167973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3167976">func</span>&nbsp;<span class="op" id="3167981">(</span><span class="ident" id="3167982">t</span>&nbsp;<span class="op" id="3167984">*</span><span class="ident" id="3167985"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3167989">)</span>&nbsp;<span class="ident" id="3167991">newVariable</span><span class="op" id="3168002">(</span><span class="ident" id="3168003">pos</span>&nbsp;<span class="ident" id="3168007"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3168010">,</span>&nbsp;<span class="ident" id="3168012">ident</span>&nbsp;<span class="builtintype" id="3168018">string</span><span class="op" id="3168024">)</span>&nbsp;<span class="op" id="3168026">*</span><span class="ident" id="3168027"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span>&nbsp;<span class="op" id="3168040">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168043">return</span>&nbsp;<span class="op" id="3168050">&amp;</span><span class="ident" id="3168051"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span><span class="op" id="3168063">{</span><span class="ident" id="3168064"><a href="/gostd/text/template/parse/node.go.html#3167899">tr</a></span><span class="op" id="3168066">:</span>&nbsp;<span class="ident" id="3168068"><a href="/gostd/text/template/parse/node.go.html#3167982">t</a></span><span class="op" id="3168069">,</span>&nbsp;<span class="ident" id="3168071"><a href="/gostd/text/template/parse/node.go.html#3167884">NodeType</a></span><span class="op" id="3168079">:</span>&nbsp;<span class="ident" id="3168081"><a href="/gostd/text/template/parse/node.go.html#3162479">NodeVariable</a></span><span class="op" id="3168093">,</span>&nbsp;<span class="ident" id="3168095"><a href="/gostd/text/template/parse/node.go.html#3167894">Pos</a></span><span class="op" id="3168098">:</span>&nbsp;<span class="ident" id="3168100"><a href="/gostd/text/template/parse/node.go.html#3168003">pos</a></span><span class="op" id="3168103">,</span>&nbsp;<span class="ident" id="3168105"><a href="/gostd/text/template/parse/node.go.html#3167912">Ident</a></span><span class="op" id="3168110">:</span>&nbsp;<span class="ident" id="3168112"><a href="/gostd/text/template/parse/node.go.html#3160262">strings</a></span><span class="op" id="3168119">.</span><span class="ident" id="3168120"><a href="/gostd/strings/strings.go.html#2973136">Split</a></span><span class="op" id="3168125">(</span><span class="ident" id="3168126"><a href="/gostd/text/template/parse/node.go.html#3168012">ident</a></span><span class="op" id="3168131">,</span>&nbsp;<span class="string" id="3168133">&#34;.&#34;</span><span class="op" id="3168136">)</span><span class="op" id="3168137">}</span><br>
<span class="lineno"></span><span class="op" id="3168139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3168142">func</span>&nbsp;<span class="op" id="3168147">(</span><span class="ident" id="3168148">v</span>&nbsp;<span class="op" id="3168150">*</span><span class="ident" id="3168151"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span><span class="op" id="3168163">)</span>&nbsp;<span class="ident" id="3168165">String</span><span class="op" id="3168171">(</span><span class="op" id="3168172">)</span>&nbsp;<span class="builtintype" id="3168174">string</span>&nbsp;<span class="op" id="3168181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3168184">s</span>&nbsp;<span class="op" id="3168186">:=</span>&nbsp;<span class="string" id="3168189">&#34;&#34;</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168193">for</span>&nbsp;<span class="ident" id="3168197">i</span><span class="op" id="3168198">,</span>&nbsp;<span class="ident" id="3168200">id</span>&nbsp;<span class="op" id="3168203">:=</span>&nbsp;<span class="keyword" id="3168206">range</span>&nbsp;<span class="ident" id="3168212"><a href="/gostd/text/template/parse/node.go.html#3168148">v</a></span><span class="op" id="3168213">.</span><span class="ident" id="3168214"><a href="/gostd/text/template/parse/node.go.html#3167912">Ident</a></span>&nbsp;<span class="op" id="3168220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168224">if</span>&nbsp;<span class="ident" id="3168227"><a href="/gostd/text/template/parse/node.go.html#3168197">i</a></span>&nbsp;<span class="op" id="3168229">&gt;</span>&nbsp;<span class="num" id="3168231">0</span>&nbsp;<span class="op" id="3168233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3168238"><a href="/gostd/text/template/parse/node.go.html#3168184">s</a></span>&nbsp;<span class="op" id="3168240">+=</span>&nbsp;<span class="string" id="3168243">&#34;.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3168249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3168253"><a href="/gostd/text/template/parse/node.go.html#3168184">s</a></span>&nbsp;<span class="op" id="3168255">+=</span>&nbsp;<span class="ident" id="3168258"><a href="/gostd/text/template/parse/node.go.html#3168200">id</a></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3168262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168265">return</span>&nbsp;<span class="ident" id="3168272"><a href="/gostd/text/template/parse/node.go.html#3168184">s</a></span><br>
<span class="lineno"></span><span class="op" id="3168274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3168277">func</span>&nbsp;<span class="op" id="3168282">(</span><span class="ident" id="3168283">v</span>&nbsp;<span class="op" id="3168285">*</span><span class="ident" id="3168286"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span><span class="op" id="3168298">)</span>&nbsp;<span class="ident" id="3168300">tree</span><span class="op" id="3168304">(</span><span class="op" id="3168305">)</span>&nbsp;<span class="op" id="3168307">*</span><span class="ident" id="3168308"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3168313">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168316">return</span>&nbsp;<span class="ident" id="3168323"><a href="/gostd/text/template/parse/node.go.html#3168283">v</a></span><span class="op" id="3168324">.</span><span class="ident" id="3168325"><a href="/gostd/text/template/parse/node.go.html#3167899">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3168328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3168331">func</span>&nbsp;<span class="op" id="3168336">(</span><span class="ident" id="3168337">v</span>&nbsp;<span class="op" id="3168339">*</span><span class="ident" id="3168340"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span><span class="op" id="3168352">)</span>&nbsp;<span class="ident" id="3168354">Copy</span><span class="op" id="3168358">(</span><span class="op" id="3168359">)</span>&nbsp;<span class="ident" id="3168361"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3168366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168369">return</span>&nbsp;<span class="op" id="3168376">&amp;</span><span class="ident" id="3168377"><a href="/gostd/text/template/parse/node.go.html#3167861">VariableNode</a></span><span class="op" id="3168389">{</span><span class="ident" id="3168390"><a href="/gostd/text/template/parse/node.go.html#3167899">tr</a></span><span class="op" id="3168392">:</span>&nbsp;<span class="ident" id="3168394"><a href="/gostd/text/template/parse/node.go.html#3168337">v</a></span><span class="op" id="3168395">.</span><span class="ident" id="3168396"><a href="/gostd/text/template/parse/node.go.html#3167899">tr</a></span><span class="op" id="3168398">,</span>&nbsp;<span class="ident" id="3168400"><a href="/gostd/text/template/parse/node.go.html#3167884">NodeType</a></span><span class="op" id="3168408">:</span>&nbsp;<span class="ident" id="3168410"><a href="/gostd/text/template/parse/node.go.html#3162479">NodeVariable</a></span><span class="op" id="3168422">,</span>&nbsp;<span class="ident" id="3168424"><a href="/gostd/text/template/parse/node.go.html#3167894">Pos</a></span><span class="op" id="3168427">:</span>&nbsp;<span class="ident" id="3168429"><a href="/gostd/text/template/parse/node.go.html#3168337">v</a></span><span class="op" id="3168430">.</span><span class="ident" id="3168431"><a href="/gostd/text/template/parse/node.go.html#3167894">Pos</a></span><span class="op" id="3168434">,</span>&nbsp;<span class="ident" id="3168436"><a href="/gostd/text/template/parse/node.go.html#3167912">Ident</a></span><span class="op" id="3168441">:</span>&nbsp;<span class="builtinfunc" id="3168443">append</span><span class="op" id="3168449">(</span><span class="op" id="3168450">[</span><span class="op" id="3168451">]</span><span class="builtintype" id="3168452">string</span><span class="op" id="3168458">{</span><span class="op" id="3168459">}</span><span class="op" id="3168460">,</span>&nbsp;<span class="ident" id="3168462"><a href="/gostd/text/template/parse/node.go.html#3168337">v</a></span><span class="op" id="3168463">.</span><span class="ident" id="3168464"><a href="/gostd/text/template/parse/node.go.html#3167912">Ident</a></span><span class="op" id="3168469">...</span><span class="op" id="3168472">)</span><span class="op" id="3168473">}</span><br>
<span class="lineno">350</span><span class="op" id="3168475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3168478">//&nbsp;DotNode&nbsp;holds&nbsp;the&nbsp;special&nbsp;identifier&nbsp;&#39;.&#39;.</span><br>
<span class="lineno"></span><span class="keyword" id="3168523">type</span>&nbsp;<span class="ident" id="3168528">DotNode</span>&nbsp;<span class="keyword" id="3168536">struct</span>&nbsp;<span class="op" id="3168543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3168546"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3168556"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3168561">tr</span>&nbsp;<span class="op" id="3168564">*</span><span class="ident" id="3168565"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span><span class="op" id="3168570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3168573">func</span>&nbsp;<span class="op" id="3168578">(</span><span class="ident" id="3168579">t</span>&nbsp;<span class="op" id="3168581">*</span><span class="ident" id="3168582"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3168586">)</span>&nbsp;<span class="ident" id="3168588">newDot</span><span class="op" id="3168594">(</span><span class="ident" id="3168595">pos</span>&nbsp;<span class="ident" id="3168599"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3168602">)</span>&nbsp;<span class="op" id="3168604">*</span><span class="ident" id="3168605"><a href="/gostd/text/template/parse/node.go.html#3168528">DotNode</a></span>&nbsp;<span class="op" id="3168613">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168616">return</span>&nbsp;<span class="op" id="3168623">&amp;</span><span class="ident" id="3168624"><a href="/gostd/text/template/parse/node.go.html#3168528">DotNode</a></span><span class="op" id="3168631">{</span><span class="ident" id="3168632"><a href="/gostd/text/template/parse/node.go.html#3168561">tr</a></span><span class="op" id="3168634">:</span>&nbsp;<span class="ident" id="3168636"><a href="/gostd/text/template/parse/node.go.html#3168579">t</a></span><span class="op" id="3168637">,</span>&nbsp;<span class="ident" id="3168639"><a href="/gostd/text/template/parse/node.go.html#3168546">NodeType</a></span><span class="op" id="3168647">:</span>&nbsp;<span class="ident" id="3168649"><a href="/gostd/text/template/parse/node.go.html#3161708">NodeDot</a></span><span class="op" id="3168656">,</span>&nbsp;<span class="ident" id="3168658"><a href="/gostd/text/template/parse/node.go.html#3168556">Pos</a></span><span class="op" id="3168661">:</span>&nbsp;<span class="ident" id="3168663"><a href="/gostd/text/template/parse/node.go.html#3168595">pos</a></span><span class="op" id="3168666">}</span><br>
<span class="lineno"></span><span class="op" id="3168668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3168671">func</span>&nbsp;<span class="op" id="3168676">(</span><span class="ident" id="3168677">d</span>&nbsp;<span class="op" id="3168679">*</span><span class="ident" id="3168680"><a href="/gostd/text/template/parse/node.go.html#3168528">DotNode</a></span><span class="op" id="3168687">)</span>&nbsp;<span class="ident" id="3168689">Type</span><span class="op" id="3168693">(</span><span class="op" id="3168694">)</span>&nbsp;<span class="ident" id="3168696"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span>&nbsp;<span class="op" id="3168705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3168708">//&nbsp;Override&nbsp;method&nbsp;on&nbsp;embedded&nbsp;NodeType&nbsp;for&nbsp;API&nbsp;compatibility.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3168772">//&nbsp;TODO:&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem;&nbsp;could&nbsp;change&nbsp;API&nbsp;without&nbsp;effect&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3168840">//&nbsp;api&nbsp;tool&nbsp;complains.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168864">return</span>&nbsp;<span class="ident" id="3168871"><a href="/gostd/text/template/parse/node.go.html#3161708">NodeDot</a></span><br>
<span class="lineno"></span><span class="op" id="3168879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="3168882">func</span>&nbsp;<span class="op" id="3168887">(</span><span class="ident" id="3168888">d</span>&nbsp;<span class="op" id="3168890">*</span><span class="ident" id="3168891"><a href="/gostd/text/template/parse/node.go.html#3168528">DotNode</a></span><span class="op" id="3168898">)</span>&nbsp;<span class="ident" id="3168900">String</span><span class="op" id="3168906">(</span><span class="op" id="3168907">)</span>&nbsp;<span class="builtintype" id="3168909">string</span>&nbsp;<span class="op" id="3168916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168919">return</span>&nbsp;<span class="string" id="3168926">&#34;.&#34;</span><br>
<span class="lineno"></span><span class="op" id="3168930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3168933">func</span>&nbsp;<span class="op" id="3168938">(</span><span class="ident" id="3168939">d</span>&nbsp;<span class="op" id="3168941">*</span><span class="ident" id="3168942"><a href="/gostd/text/template/parse/node.go.html#3168528">DotNode</a></span><span class="op" id="3168949">)</span>&nbsp;<span class="ident" id="3168951">tree</span><span class="op" id="3168955">(</span><span class="op" id="3168956">)</span>&nbsp;<span class="op" id="3168958">*</span><span class="ident" id="3168959"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3168964">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3168967">return</span>&nbsp;<span class="ident" id="3168974"><a href="/gostd/text/template/parse/node.go.html#3168939">d</a></span><span class="op" id="3168975">.</span><span class="ident" id="3168976"><a href="/gostd/text/template/parse/node.go.html#3168561">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3168979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3168982">func</span>&nbsp;<span class="op" id="3168987">(</span><span class="ident" id="3168988">d</span>&nbsp;<span class="op" id="3168990">*</span><span class="ident" id="3168991"><a href="/gostd/text/template/parse/node.go.html#3168528">DotNode</a></span><span class="op" id="3168998">)</span>&nbsp;<span class="ident" id="3169000">Copy</span><span class="op" id="3169004">(</span><span class="op" id="3169005">)</span>&nbsp;<span class="ident" id="3169007"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3169012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3169015">return</span>&nbsp;<span class="ident" id="3169022"><a href="/gostd/text/template/parse/node.go.html#3168988">d</a></span><span class="op" id="3169023">.</span><span class="ident" id="3169024"><a href="/gostd/text/template/parse/node.go.html#3168561">tr</a></span><span class="op" id="3169026">.</span><span class="ident" id="3169027"><a href="/gostd/text/template/parse/node.go.html#3168588">newDot</a></span><span class="op" id="3169033">(</span><span class="ident" id="3169034"><a href="/gostd/text/template/parse/node.go.html#3168988">d</a></span><span class="op" id="3169035">.</span><span class="ident" id="3169036"><a href="/gostd/text/template/parse/node.go.html#3168556">Pos</a></span><span class="op" id="3169039">)</span><br>
<span class="lineno">380</span><span class="op" id="3169041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3169044">//&nbsp;NilNode&nbsp;holds&nbsp;the&nbsp;special&nbsp;identifier&nbsp;&#39;nil&#39;&nbsp;representing&nbsp;an&nbsp;untyped&nbsp;nil&nbsp;constant.</span><br>
<span class="lineno"></span><span class="keyword" id="3169128">type</span>&nbsp;<span class="ident" id="3169133">NilNode</span>&nbsp;<span class="keyword" id="3169141">struct</span>&nbsp;<span class="op" id="3169148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3169151"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3169161"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3169166">tr</span>&nbsp;<span class="op" id="3169169">*</span><span class="ident" id="3169170"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span><span class="op" id="3169175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3169178">func</span>&nbsp;<span class="op" id="3169183">(</span><span class="ident" id="3169184">t</span>&nbsp;<span class="op" id="3169186">*</span><span class="ident" id="3169187"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3169191">)</span>&nbsp;<span class="ident" id="3169193">newNil</span><span class="op" id="3169199">(</span><span class="ident" id="3169200">pos</span>&nbsp;<span class="ident" id="3169204"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3169207">)</span>&nbsp;<span class="op" id="3169209">*</span><span class="ident" id="3169210"><a href="/gostd/text/template/parse/node.go.html#3169133">NilNode</a></span>&nbsp;<span class="op" id="3169218">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3169221">return</span>&nbsp;<span class="op" id="3169228">&amp;</span><span class="ident" id="3169229"><a href="/gostd/text/template/parse/node.go.html#3169133">NilNode</a></span><span class="op" id="3169236">{</span><span class="ident" id="3169237"><a href="/gostd/text/template/parse/node.go.html#3169166">tr</a></span><span class="op" id="3169239">:</span>&nbsp;<span class="ident" id="3169241"><a href="/gostd/text/template/parse/node.go.html#3169184">t</a></span><span class="op" id="3169242">,</span>&nbsp;<span class="ident" id="3169244"><a href="/gostd/text/template/parse/node.go.html#3169151">NodeType</a></span><span class="op" id="3169252">:</span>&nbsp;<span class="ident" id="3169254"><a href="/gostd/text/template/parse/node.go.html#3162133">NodeNil</a></span><span class="op" id="3169261">,</span>&nbsp;<span class="ident" id="3169263"><a href="/gostd/text/template/parse/node.go.html#3169161">Pos</a></span><span class="op" id="3169266">:</span>&nbsp;<span class="ident" id="3169268"><a href="/gostd/text/template/parse/node.go.html#3169200">pos</a></span><span class="op" id="3169271">}</span><br>
<span class="lineno"></span><span class="op" id="3169273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3169276">func</span>&nbsp;<span class="op" id="3169281">(</span><span class="ident" id="3169282">n</span>&nbsp;<span class="op" id="3169284">*</span><span class="ident" id="3169285"><a href="/gostd/text/template/parse/node.go.html#3169133">NilNode</a></span><span class="op" id="3169292">)</span>&nbsp;<span class="ident" id="3169294">Type</span><span class="op" id="3169298">(</span><span class="op" id="3169299">)</span>&nbsp;<span class="ident" id="3169301"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span>&nbsp;<span class="op" id="3169310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3169313">//&nbsp;Override&nbsp;method&nbsp;on&nbsp;embedded&nbsp;NodeType&nbsp;for&nbsp;API&nbsp;compatibility.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3169377">//&nbsp;TODO:&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem;&nbsp;could&nbsp;change&nbsp;API&nbsp;without&nbsp;effect&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3169445">//&nbsp;api&nbsp;tool&nbsp;complains.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3169469">return</span>&nbsp;<span class="ident" id="3169476"><a href="/gostd/text/template/parse/node.go.html#3162133">NodeNil</a></span><br>
<span class="lineno"></span><span class="op" id="3169484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">400</span><span class="keyword" id="3169487">func</span>&nbsp;<span class="op" id="3169492">(</span><span class="ident" id="3169493">n</span>&nbsp;<span class="op" id="3169495">*</span><span class="ident" id="3169496"><a href="/gostd/text/template/parse/node.go.html#3169133">NilNode</a></span><span class="op" id="3169503">)</span>&nbsp;<span class="ident" id="3169505">String</span><span class="op" id="3169511">(</span><span class="op" id="3169512">)</span>&nbsp;<span class="builtintype" id="3169514">string</span>&nbsp;<span class="op" id="3169521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3169524">return</span>&nbsp;<span class="string" id="3169531">&#34;nil&#34;</span><br>
<span class="lineno"></span><span class="op" id="3169537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3169540">func</span>&nbsp;<span class="op" id="3169545">(</span><span class="ident" id="3169546">n</span>&nbsp;<span class="op" id="3169548">*</span><span class="ident" id="3169549"><a href="/gostd/text/template/parse/node.go.html#3169133">NilNode</a></span><span class="op" id="3169556">)</span>&nbsp;<span class="ident" id="3169558">tree</span><span class="op" id="3169562">(</span><span class="op" id="3169563">)</span>&nbsp;<span class="op" id="3169565">*</span><span class="ident" id="3169566"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3169571">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3169574">return</span>&nbsp;<span class="ident" id="3169581"><a href="/gostd/text/template/parse/node.go.html#3169546">n</a></span><span class="op" id="3169582">.</span><span class="ident" id="3169583"><a href="/gostd/text/template/parse/node.go.html#3169166">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3169586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3169589">func</span>&nbsp;<span class="op" id="3169594">(</span><span class="ident" id="3169595">n</span>&nbsp;<span class="op" id="3169597">*</span><span class="ident" id="3169598"><a href="/gostd/text/template/parse/node.go.html#3169133">NilNode</a></span><span class="op" id="3169605">)</span>&nbsp;<span class="ident" id="3169607">Copy</span><span class="op" id="3169611">(</span><span class="op" id="3169612">)</span>&nbsp;<span class="ident" id="3169614"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3169619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3169622">return</span>&nbsp;<span class="ident" id="3169629"><a href="/gostd/text/template/parse/node.go.html#3169595">n</a></span><span class="op" id="3169630">.</span><span class="ident" id="3169631"><a href="/gostd/text/template/parse/node.go.html#3169166">tr</a></span><span class="op" id="3169633">.</span><span class="ident" id="3169634"><a href="/gostd/text/template/parse/node.go.html#3169193">newNil</a></span><span class="op" id="3169640">(</span><span class="ident" id="3169641"><a href="/gostd/text/template/parse/node.go.html#3169595">n</a></span><span class="op" id="3169642">.</span><span class="ident" id="3169643"><a href="/gostd/text/template/parse/node.go.html#3169161">Pos</a></span><span class="op" id="3169646">)</span><br>
<span class="lineno">410</span><span class="op" id="3169648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3169651">//&nbsp;FieldNode&nbsp;holds&nbsp;a&nbsp;field&nbsp;(identifier&nbsp;starting&nbsp;with&nbsp;&#39;.&#39;).</span><br>
<span class="lineno"></span><span class="comment" id="3169710">//&nbsp;The&nbsp;names&nbsp;may&nbsp;be&nbsp;chained&nbsp;(&#39;.x.y&#39;).</span><br>
<span class="lineno"></span><span class="comment" id="3169748">//&nbsp;The&nbsp;period&nbsp;is&nbsp;dropped&nbsp;from&nbsp;each&nbsp;ident.</span><br>
<span class="lineno">415</span><span class="keyword" id="3169790">type</span>&nbsp;<span class="ident" id="3169795">FieldNode</span>&nbsp;<span class="keyword" id="3169805">struct</span>&nbsp;<span class="op" id="3169812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3169815"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3169825"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3169830">tr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3169836">*</span><span class="ident" id="3169837"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3169843">Ident</span>&nbsp;<span class="op" id="3169849">[</span><span class="op" id="3169850">]</span><span class="builtintype" id="3169851">string</span>&nbsp;<span class="comment" id="3169858">//&nbsp;The&nbsp;identifiers&nbsp;in&nbsp;lexical&nbsp;order.</span><br>
<span class="lineno">420</span><span class="op" id="3169895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3169898">func</span>&nbsp;<span class="op" id="3169903">(</span><span class="ident" id="3169904">t</span>&nbsp;<span class="op" id="3169906">*</span><span class="ident" id="3169907"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3169911">)</span>&nbsp;<span class="ident" id="3169913">newField</span><span class="op" id="3169921">(</span><span class="ident" id="3169922">pos</span>&nbsp;<span class="ident" id="3169926"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3169929">,</span>&nbsp;<span class="ident" id="3169931">ident</span>&nbsp;<span class="builtintype" id="3169937">string</span><span class="op" id="3169943">)</span>&nbsp;<span class="op" id="3169945">*</span><span class="ident" id="3169946"><a href="/gostd/text/template/parse/node.go.html#3169795">FieldNode</a></span>&nbsp;<span class="op" id="3169956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3169959">return</span>&nbsp;<span class="op" id="3169966">&amp;</span><span class="ident" id="3169967"><a href="/gostd/text/template/parse/node.go.html#3169795">FieldNode</a></span><span class="op" id="3169976">{</span><span class="ident" id="3169977"><a href="/gostd/text/template/parse/node.go.html#3169830">tr</a></span><span class="op" id="3169979">:</span>&nbsp;<span class="ident" id="3169981"><a href="/gostd/text/template/parse/node.go.html#3169904">t</a></span><span class="op" id="3169982">,</span>&nbsp;<span class="ident" id="3169984"><a href="/gostd/text/template/parse/node.go.html#3169815">NodeType</a></span><span class="op" id="3169992">:</span>&nbsp;<span class="ident" id="3169994"><a href="/gostd/text/template/parse/node.go.html#3161899">NodeField</a></span><span class="op" id="3170003">,</span>&nbsp;<span class="ident" id="3170005"><a href="/gostd/text/template/parse/node.go.html#3169825">Pos</a></span><span class="op" id="3170008">:</span>&nbsp;<span class="ident" id="3170010"><a href="/gostd/text/template/parse/node.go.html#3169922">pos</a></span><span class="op" id="3170013">,</span>&nbsp;<span class="ident" id="3170015"><a href="/gostd/text/template/parse/node.go.html#3169843">Ident</a></span><span class="op" id="3170020">:</span>&nbsp;<span class="ident" id="3170022"><a href="/gostd/text/template/parse/node.go.html#3160262">strings</a></span><span class="op" id="3170029">.</span><span class="ident" id="3170030"><a href="/gostd/strings/strings.go.html#2973136">Split</a></span><span class="op" id="3170035">(</span><span class="ident" id="3170036"><a href="/gostd/text/template/parse/node.go.html#3169931">ident</a></span><span class="op" id="3170041">[</span><span class="num" id="3170042">1</span><span class="op" id="3170043">:</span><span class="op" id="3170044">]</span><span class="op" id="3170045">,</span>&nbsp;<span class="string" id="3170047">&#34;.&#34;</span><span class="op" id="3170050">)</span><span class="op" id="3170051">}</span>&nbsp;<span class="comment" id="3170053">//&nbsp;[1:]&nbsp;to&nbsp;drop&nbsp;leading&nbsp;period</span><br>
<span class="lineno"></span><span class="op" id="3170084">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="3170087">func</span>&nbsp;<span class="op" id="3170092">(</span><span class="ident" id="3170093">f</span>&nbsp;<span class="op" id="3170095">*</span><span class="ident" id="3170096"><a href="/gostd/text/template/parse/node.go.html#3169795">FieldNode</a></span><span class="op" id="3170105">)</span>&nbsp;<span class="ident" id="3170107">String</span><span class="op" id="3170113">(</span><span class="op" id="3170114">)</span>&nbsp;<span class="builtintype" id="3170116">string</span>&nbsp;<span class="op" id="3170123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3170126">s</span>&nbsp;<span class="op" id="3170128">:=</span>&nbsp;<span class="string" id="3170131">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3170135">for</span>&nbsp;<span class="ident" id="3170139">_</span><span class="op" id="3170140">,</span>&nbsp;<span class="ident" id="3170142">id</span>&nbsp;<span class="op" id="3170145">:=</span>&nbsp;<span class="keyword" id="3170148">range</span>&nbsp;<span class="ident" id="3170154"><a href="/gostd/text/template/parse/node.go.html#3170093">f</a></span><span class="op" id="3170155">.</span><span class="ident" id="3170156"><a href="/gostd/text/template/parse/node.go.html#3169843">Ident</a></span>&nbsp;<span class="op" id="3170162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3170166"><a href="/gostd/text/template/parse/node.go.html#3170126">s</a></span>&nbsp;<span class="op" id="3170168">+=</span>&nbsp;<span class="string" id="3170171">&#34;.&#34;</span>&nbsp;<span class="op" id="3170175">+</span>&nbsp;<span class="ident" id="3170177"><a href="/gostd/text/template/parse/node.go.html#3170142">id</a></span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3170181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3170184">return</span>&nbsp;<span class="ident" id="3170191"><a href="/gostd/text/template/parse/node.go.html#3170126">s</a></span><br>
<span class="lineno"></span><span class="op" id="3170193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3170196">func</span>&nbsp;<span class="op" id="3170201">(</span><span class="ident" id="3170202">f</span>&nbsp;<span class="op" id="3170204">*</span><span class="ident" id="3170205"><a href="/gostd/text/template/parse/node.go.html#3169795">FieldNode</a></span><span class="op" id="3170214">)</span>&nbsp;<span class="ident" id="3170216">tree</span><span class="op" id="3170220">(</span><span class="op" id="3170221">)</span>&nbsp;<span class="op" id="3170223">*</span><span class="ident" id="3170224"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3170229">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3170232">return</span>&nbsp;<span class="ident" id="3170239"><a href="/gostd/text/template/parse/node.go.html#3170202">f</a></span><span class="op" id="3170240">.</span><span class="ident" id="3170241"><a href="/gostd/text/template/parse/node.go.html#3169830">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3170244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3170247">func</span>&nbsp;<span class="op" id="3170252">(</span><span class="ident" id="3170253">f</span>&nbsp;<span class="op" id="3170255">*</span><span class="ident" id="3170256"><a href="/gostd/text/template/parse/node.go.html#3169795">FieldNode</a></span><span class="op" id="3170265">)</span>&nbsp;<span class="ident" id="3170267">Copy</span><span class="op" id="3170271">(</span><span class="op" id="3170272">)</span>&nbsp;<span class="ident" id="3170274"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3170279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3170282">return</span>&nbsp;<span class="op" id="3170289">&amp;</span><span class="ident" id="3170290"><a href="/gostd/text/template/parse/node.go.html#3169795">FieldNode</a></span><span class="op" id="3170299">{</span><span class="ident" id="3170300"><a href="/gostd/text/template/parse/node.go.html#3169830">tr</a></span><span class="op" id="3170302">:</span>&nbsp;<span class="ident" id="3170304"><a href="/gostd/text/template/parse/node.go.html#3170253">f</a></span><span class="op" id="3170305">.</span><span class="ident" id="3170306"><a href="/gostd/text/template/parse/node.go.html#3169830">tr</a></span><span class="op" id="3170308">,</span>&nbsp;<span class="ident" id="3170310"><a href="/gostd/text/template/parse/node.go.html#3169815">NodeType</a></span><span class="op" id="3170318">:</span>&nbsp;<span class="ident" id="3170320"><a href="/gostd/text/template/parse/node.go.html#3161899">NodeField</a></span><span class="op" id="3170329">,</span>&nbsp;<span class="ident" id="3170331"><a href="/gostd/text/template/parse/node.go.html#3169825">Pos</a></span><span class="op" id="3170334">:</span>&nbsp;<span class="ident" id="3170336"><a href="/gostd/text/template/parse/node.go.html#3170253">f</a></span><span class="op" id="3170337">.</span><span class="ident" id="3170338"><a href="/gostd/text/template/parse/node.go.html#3169825">Pos</a></span><span class="op" id="3170341">,</span>&nbsp;<span class="ident" id="3170343"><a href="/gostd/text/template/parse/node.go.html#3169843">Ident</a></span><span class="op" id="3170348">:</span>&nbsp;<span class="builtinfunc" id="3170350">append</span><span class="op" id="3170356">(</span><span class="op" id="3170357">[</span><span class="op" id="3170358">]</span><span class="builtintype" id="3170359">string</span><span class="op" id="3170365">{</span><span class="op" id="3170366">}</span><span class="op" id="3170367">,</span>&nbsp;<span class="ident" id="3170369"><a href="/gostd/text/template/parse/node.go.html#3170253">f</a></span><span class="op" id="3170370">.</span><span class="ident" id="3170371"><a href="/gostd/text/template/parse/node.go.html#3169843">Ident</a></span><span class="op" id="3170376">...</span><span class="op" id="3170379">)</span><span class="op" id="3170380">}</span><br>
<span class="lineno">440</span><span class="op" id="3170382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3170385">//&nbsp;ChainNode&nbsp;holds&nbsp;a&nbsp;term&nbsp;followed&nbsp;by&nbsp;a&nbsp;chain&nbsp;of&nbsp;field&nbsp;accesses&nbsp;(identifier&nbsp;starting&nbsp;with&nbsp;&#39;.&#39;).</span><br>
<span class="lineno"></span><span class="comment" id="3170481">//&nbsp;The&nbsp;names&nbsp;may&nbsp;be&nbsp;chained&nbsp;(&#39;.x.y&#39;).</span><br>
<span class="lineno"></span><span class="comment" id="3170519">//&nbsp;The&nbsp;periods&nbsp;are&nbsp;dropped&nbsp;from&nbsp;each&nbsp;ident.</span><br>
<span class="lineno">445</span><span class="keyword" id="3170563">type</span>&nbsp;<span class="ident" id="3170568">ChainNode</span>&nbsp;<span class="keyword" id="3170578">struct</span>&nbsp;<span class="op" id="3170585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3170588"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3170598"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3170603">tr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3170609">*</span><span class="ident" id="3170610"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3170616">Node</span>&nbsp;&nbsp;<span class="ident" id="3170622"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3170628">Field</span>&nbsp;<span class="op" id="3170634">[</span><span class="op" id="3170635">]</span><span class="builtintype" id="3170636">string</span>&nbsp;<span class="comment" id="3170643">//&nbsp;The&nbsp;identifiers&nbsp;in&nbsp;lexical&nbsp;order.</span><br>
<span class="lineno"></span><span class="op" id="3170680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3170683">func</span>&nbsp;<span class="op" id="3170688">(</span><span class="ident" id="3170689">t</span>&nbsp;<span class="op" id="3170691">*</span><span class="ident" id="3170692"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3170696">)</span>&nbsp;<span class="ident" id="3170698">newChain</span><span class="op" id="3170706">(</span><span class="ident" id="3170707">pos</span>&nbsp;<span class="ident" id="3170711"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3170714">,</span>&nbsp;<span class="ident" id="3170716">node</span>&nbsp;<span class="ident" id="3170721"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span><span class="op" id="3170725">)</span>&nbsp;<span class="op" id="3170727">*</span><span class="ident" id="3170728"><a href="/gostd/text/template/parse/node.go.html#3170568">ChainNode</a></span>&nbsp;<span class="op" id="3170738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3170741">return</span>&nbsp;<span class="op" id="3170748">&amp;</span><span class="ident" id="3170749"><a href="/gostd/text/template/parse/node.go.html#3170568">ChainNode</a></span><span class="op" id="3170758">{</span><span class="ident" id="3170759"><a href="/gostd/text/template/parse/node.go.html#3170603">tr</a></span><span class="op" id="3170761">:</span>&nbsp;<span class="ident" id="3170763"><a href="/gostd/text/template/parse/node.go.html#3170689">t</a></span><span class="op" id="3170764">,</span>&nbsp;<span class="ident" id="3170766"><a href="/gostd/text/template/parse/node.go.html#3170588">NodeType</a></span><span class="op" id="3170774">:</span>&nbsp;<span class="ident" id="3170776"><a href="/gostd/text/template/parse/node.go.html#3161582">NodeChain</a></span><span class="op" id="3170785">,</span>&nbsp;<span class="ident" id="3170787"><a href="/gostd/text/template/parse/node.go.html#3170598">Pos</a></span><span class="op" id="3170790">:</span>&nbsp;<span class="ident" id="3170792"><a href="/gostd/text/template/parse/node.go.html#3170707">pos</a></span><span class="op" id="3170795">,</span>&nbsp;<span class="ident" id="3170797"><a href="/gostd/text/template/parse/node.go.html#3170616">Node</a></span><span class="op" id="3170801">:</span>&nbsp;<span class="ident" id="3170803"><a href="/gostd/text/template/parse/node.go.html#3170716">node</a></span><span class="op" id="3170807">}</span><br>
<span class="lineno">455</span><span class="op" id="3170809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3170812">//&nbsp;Add&nbsp;adds&nbsp;the&nbsp;named&nbsp;field&nbsp;(which&nbsp;should&nbsp;start&nbsp;with&nbsp;a&nbsp;period)&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;chain.</span><br>
<span class="lineno"></span><span class="keyword" id="3170900">func</span>&nbsp;<span class="op" id="3170905">(</span><span class="ident" id="3170906">c</span>&nbsp;<span class="op" id="3170908">*</span><span class="ident" id="3170909"><a href="/gostd/text/template/parse/node.go.html#3170568">ChainNode</a></span><span class="op" id="3170918">)</span>&nbsp;<span class="ident" id="3170920">Add</span><span class="op" id="3170923">(</span><span class="ident" id="3170924">field</span>&nbsp;<span class="builtintype" id="3170930">string</span><span class="op" id="3170936">)</span>&nbsp;<span class="op" id="3170938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3170941">if</span>&nbsp;<span class="builtinfunc" id="3170944">len</span><span class="op" id="3170947">(</span><span class="ident" id="3170948"><a href="/gostd/text/template/parse/node.go.html#3170924">field</a></span><span class="op" id="3170953">)</span>&nbsp;<span class="op" id="3170955">==</span>&nbsp;<span class="num" id="3170958">0</span>&nbsp;<span class="op" id="3170960">||</span>&nbsp;<span class="ident" id="3170963"><a href="/gostd/text/template/parse/node.go.html#3170924">field</a></span><span class="op" id="3170968">[</span><span class="num" id="3170969">0</span><span class="op" id="3170970">]</span>&nbsp;<span class="op" id="3170972">!=</span>&nbsp;<span class="string" id="3170975">&#39;.&#39;</span>&nbsp;<span class="op" id="3170979">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3170983">panic</span><span class="op" id="3170988">(</span><span class="string" id="3170989">&#34;no&nbsp;dot&nbsp;in&nbsp;field&#34;</span><span class="op" id="3171006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3171009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3171012"><a href="/gostd/text/template/parse/node.go.html#3170924">field</a></span>&nbsp;<span class="op" id="3171018">=</span>&nbsp;<span class="ident" id="3171020"><a href="/gostd/text/template/parse/node.go.html#3170924">field</a></span><span class="op" id="3171025">[</span><span class="num" id="3171026">1</span><span class="op" id="3171027">:</span><span class="op" id="3171028">]</span>&nbsp;<span class="comment" id="3171030">//&nbsp;Remove&nbsp;leading&nbsp;dot.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171054">if</span>&nbsp;<span class="ident" id="3171057"><a href="/gostd/text/template/parse/node.go.html#3170924">field</a></span>&nbsp;<span class="op" id="3171063">==</span>&nbsp;<span class="string" id="3171066">&#34;&#34;</span>&nbsp;<span class="op" id="3171069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3171073">panic</span><span class="op" id="3171078">(</span><span class="string" id="3171079">&#34;empty&nbsp;field&#34;</span><span class="op" id="3171092">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3171095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3171098"><a href="/gostd/text/template/parse/node.go.html#3170906">c</a></span><span class="op" id="3171099">.</span><span class="ident" id="3171100"><a href="/gostd/text/template/parse/node.go.html#3170628">Field</a></span>&nbsp;<span class="op" id="3171106">=</span>&nbsp;<span class="builtinfunc" id="3171108">append</span><span class="op" id="3171114">(</span><span class="ident" id="3171115"><a href="/gostd/text/template/parse/node.go.html#3170906">c</a></span><span class="op" id="3171116">.</span><span class="ident" id="3171117"><a href="/gostd/text/template/parse/node.go.html#3170628">Field</a></span><span class="op" id="3171122">,</span>&nbsp;<span class="ident" id="3171124"><a href="/gostd/text/template/parse/node.go.html#3170924">field</a></span><span class="op" id="3171129">)</span><br>
<span class="lineno"></span><span class="op" id="3171131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3171134">func</span>&nbsp;<span class="op" id="3171139">(</span><span class="ident" id="3171140">c</span>&nbsp;<span class="op" id="3171142">*</span><span class="ident" id="3171143"><a href="/gostd/text/template/parse/node.go.html#3170568">ChainNode</a></span><span class="op" id="3171152">)</span>&nbsp;<span class="ident" id="3171154">String</span><span class="op" id="3171160">(</span><span class="op" id="3171161">)</span>&nbsp;<span class="builtintype" id="3171163">string</span>&nbsp;<span class="op" id="3171170">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3171173">s</span>&nbsp;<span class="op" id="3171175">:=</span>&nbsp;<span class="ident" id="3171178"><a href="/gostd/text/template/parse/node.go.html#3171140">c</a></span><span class="op" id="3171179">.</span><span class="ident" id="3171180"><a href="/gostd/text/template/parse/node.go.html#3170616">Node</a></span><span class="op" id="3171184">.</span><span class="ident" id="3171185"><a href="/gostd/text/template/parse/node.go.html#3160569">String</a></span><span class="op" id="3171191">(</span><span class="op" id="3171192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171195">if</span>&nbsp;<span class="ident" id="3171198">_</span><span class="op" id="3171199">,</span>&nbsp;<span class="ident" id="3171201">ok</span>&nbsp;<span class="op" id="3171204">:=</span>&nbsp;<span class="ident" id="3171207"><a href="/gostd/text/template/parse/node.go.html#3171140">c</a></span><span class="op" id="3171208">.</span><span class="ident" id="3171209"><a href="/gostd/text/template/parse/node.go.html#3170616">Node</a></span><span class="op" id="3171213">.</span><span class="op" id="3171214">(</span><span class="op" id="3171215">*</span><span class="ident" id="3171216"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3171224">)</span><span class="op" id="3171225">;</span>&nbsp;<span class="ident" id="3171227"><a href="/gostd/text/template/parse/node.go.html#3171201">ok</a></span>&nbsp;<span class="op" id="3171230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3171234"><a href="/gostd/text/template/parse/node.go.html#3171173">s</a></span>&nbsp;<span class="op" id="3171236">=</span>&nbsp;<span class="string" id="3171238">&#34;(&#34;</span>&nbsp;<span class="op" id="3171242">+</span>&nbsp;<span class="ident" id="3171244"><a href="/gostd/text/template/parse/node.go.html#3171173">s</a></span>&nbsp;<span class="op" id="3171246">+</span>&nbsp;<span class="string" id="3171248">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3171253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171256">for</span>&nbsp;<span class="ident" id="3171260">_</span><span class="op" id="3171261">,</span>&nbsp;<span class="ident" id="3171263">field</span>&nbsp;<span class="op" id="3171269">:=</span>&nbsp;<span class="keyword" id="3171272">range</span>&nbsp;<span class="ident" id="3171278"><a href="/gostd/text/template/parse/node.go.html#3171140">c</a></span><span class="op" id="3171279">.</span><span class="ident" id="3171280"><a href="/gostd/text/template/parse/node.go.html#3170628">Field</a></span>&nbsp;<span class="op" id="3171286">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3171290"><a href="/gostd/text/template/parse/node.go.html#3171173">s</a></span>&nbsp;<span class="op" id="3171292">+=</span>&nbsp;<span class="string" id="3171295">&#34;.&#34;</span>&nbsp;<span class="op" id="3171299">+</span>&nbsp;<span class="ident" id="3171301"><a href="/gostd/text/template/parse/node.go.html#3171263">field</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3171308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171311">return</span>&nbsp;<span class="ident" id="3171318"><a href="/gostd/text/template/parse/node.go.html#3171173">s</a></span><br>
<span class="lineno"></span><span class="op" id="3171320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="3171323">func</span>&nbsp;<span class="op" id="3171328">(</span><span class="ident" id="3171329">c</span>&nbsp;<span class="op" id="3171331">*</span><span class="ident" id="3171332"><a href="/gostd/text/template/parse/node.go.html#3170568">ChainNode</a></span><span class="op" id="3171341">)</span>&nbsp;<span class="ident" id="3171343">tree</span><span class="op" id="3171347">(</span><span class="op" id="3171348">)</span>&nbsp;<span class="op" id="3171350">*</span><span class="ident" id="3171351"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3171356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171359">return</span>&nbsp;<span class="ident" id="3171366"><a href="/gostd/text/template/parse/node.go.html#3171329">c</a></span><span class="op" id="3171367">.</span><span class="ident" id="3171368"><a href="/gostd/text/template/parse/node.go.html#3170603">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3171371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3171374">func</span>&nbsp;<span class="op" id="3171379">(</span><span class="ident" id="3171380">c</span>&nbsp;<span class="op" id="3171382">*</span><span class="ident" id="3171383"><a href="/gostd/text/template/parse/node.go.html#3170568">ChainNode</a></span><span class="op" id="3171392">)</span>&nbsp;<span class="ident" id="3171394">Copy</span><span class="op" id="3171398">(</span><span class="op" id="3171399">)</span>&nbsp;<span class="ident" id="3171401"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3171406">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171409">return</span>&nbsp;<span class="op" id="3171416">&amp;</span><span class="ident" id="3171417"><a href="/gostd/text/template/parse/node.go.html#3170568">ChainNode</a></span><span class="op" id="3171426">{</span><span class="ident" id="3171427"><a href="/gostd/text/template/parse/node.go.html#3170603">tr</a></span><span class="op" id="3171429">:</span>&nbsp;<span class="ident" id="3171431"><a href="/gostd/text/template/parse/node.go.html#3171380">c</a></span><span class="op" id="3171432">.</span><span class="ident" id="3171433"><a href="/gostd/text/template/parse/node.go.html#3170603">tr</a></span><span class="op" id="3171435">,</span>&nbsp;<span class="ident" id="3171437"><a href="/gostd/text/template/parse/node.go.html#3170588">NodeType</a></span><span class="op" id="3171445">:</span>&nbsp;<span class="ident" id="3171447"><a href="/gostd/text/template/parse/node.go.html#3161582">NodeChain</a></span><span class="op" id="3171456">,</span>&nbsp;<span class="ident" id="3171458"><a href="/gostd/text/template/parse/node.go.html#3170598">Pos</a></span><span class="op" id="3171461">:</span>&nbsp;<span class="ident" id="3171463"><a href="/gostd/text/template/parse/node.go.html#3171380">c</a></span><span class="op" id="3171464">.</span><span class="ident" id="3171465"><a href="/gostd/text/template/parse/node.go.html#3170598">Pos</a></span><span class="op" id="3171468">,</span>&nbsp;<span class="ident" id="3171470"><a href="/gostd/text/template/parse/node.go.html#3170616">Node</a></span><span class="op" id="3171474">:</span>&nbsp;<span class="ident" id="3171476"><a href="/gostd/text/template/parse/node.go.html#3171380">c</a></span><span class="op" id="3171477">.</span><span class="ident" id="3171478"><a href="/gostd/text/template/parse/node.go.html#3170616">Node</a></span><span class="op" id="3171482">,</span>&nbsp;<span class="ident" id="3171484"><a href="/gostd/text/template/parse/node.go.html#3170628">Field</a></span><span class="op" id="3171489">:</span>&nbsp;<span class="builtinfunc" id="3171491">append</span><span class="op" id="3171497">(</span><span class="op" id="3171498">[</span><span class="op" id="3171499">]</span><span class="builtintype" id="3171500">string</span><span class="op" id="3171506">{</span><span class="op" id="3171507">}</span><span class="op" id="3171508">,</span>&nbsp;<span class="ident" id="3171510"><a href="/gostd/text/template/parse/node.go.html#3171380">c</a></span><span class="op" id="3171511">.</span><span class="ident" id="3171512"><a href="/gostd/text/template/parse/node.go.html#3170628">Field</a></span><span class="op" id="3171517">...</span><span class="op" id="3171520">)</span><span class="op" id="3171521">}</span><br>
<span class="lineno"></span><span class="op" id="3171523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3171526">//&nbsp;BoolNode&nbsp;holds&nbsp;a&nbsp;boolean&nbsp;constant.</span><br>
<span class="lineno"></span><span class="keyword" id="3171564">type</span>&nbsp;<span class="ident" id="3171569">BoolNode</span>&nbsp;<span class="keyword" id="3171578">struct</span>&nbsp;<span class="op" id="3171585">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3171588"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3171598"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3171603">tr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3171608">*</span><span class="ident" id="3171609"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3171615">True</span>&nbsp;<span class="builtintype" id="3171620">bool</span>&nbsp;<span class="comment" id="3171625">//&nbsp;The&nbsp;value&nbsp;of&nbsp;the&nbsp;boolean&nbsp;constant.</span><br>
<span class="lineno"></span><span class="op" id="3171663">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="3171666">func</span>&nbsp;<span class="op" id="3171671">(</span><span class="ident" id="3171672">t</span>&nbsp;<span class="op" id="3171674">*</span><span class="ident" id="3171675"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3171679">)</span>&nbsp;<span class="ident" id="3171681">newBool</span><span class="op" id="3171688">(</span><span class="ident" id="3171689">pos</span>&nbsp;<span class="ident" id="3171693"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3171696">,</span>&nbsp;<span class="builtintype" id="3171698">true</span>&nbsp;<span class="builtintype" id="3171703">bool</span><span class="op" id="3171707">)</span>&nbsp;<span class="op" id="3171709">*</span><span class="ident" id="3171710"><a href="/gostd/text/template/parse/node.go.html#3171569">BoolNode</a></span>&nbsp;<span class="op" id="3171719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171722">return</span>&nbsp;<span class="op" id="3171729">&amp;</span><span class="ident" id="3171730"><a href="/gostd/text/template/parse/node.go.html#3171569">BoolNode</a></span><span class="op" id="3171738">{</span><span class="ident" id="3171739"><a href="/gostd/text/template/parse/node.go.html#3171603">tr</a></span><span class="op" id="3171741">:</span>&nbsp;<span class="ident" id="3171743"><a href="/gostd/text/template/parse/node.go.html#3171672">t</a></span><span class="op" id="3171744">,</span>&nbsp;<span class="ident" id="3171746"><a href="/gostd/text/template/parse/node.go.html#3171588">NodeType</a></span><span class="op" id="3171754">:</span>&nbsp;<span class="ident" id="3171756"><a href="/gostd/text/template/parse/node.go.html#3161527">NodeBool</a></span><span class="op" id="3171764">,</span>&nbsp;<span class="ident" id="3171766"><a href="/gostd/text/template/parse/node.go.html#3171598">Pos</a></span><span class="op" id="3171769">:</span>&nbsp;<span class="ident" id="3171771"><a href="/gostd/text/template/parse/node.go.html#3171689">pos</a></span><span class="op" id="3171774">,</span>&nbsp;<span class="ident" id="3171776"><a href="/gostd/text/template/parse/node.go.html#3171615">True</a></span><span class="op" id="3171780">:</span>&nbsp;<span class="builtintype" id="3171782"><a href="/gostd/text/template/parse/node.go.html#3171698">true</a></span><span class="op" id="3171786">}</span><br>
<span class="lineno"></span><span class="op" id="3171788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="3171791">func</span>&nbsp;<span class="op" id="3171796">(</span><span class="ident" id="3171797">b</span>&nbsp;<span class="op" id="3171799">*</span><span class="ident" id="3171800"><a href="/gostd/text/template/parse/node.go.html#3171569">BoolNode</a></span><span class="op" id="3171808">)</span>&nbsp;<span class="ident" id="3171810">String</span><span class="op" id="3171816">(</span><span class="op" id="3171817">)</span>&nbsp;<span class="builtintype" id="3171819">string</span>&nbsp;<span class="op" id="3171826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171829">if</span>&nbsp;<span class="ident" id="3171832"><a href="/gostd/text/template/parse/node.go.html#3171797">b</a></span><span class="op" id="3171833">.</span><span class="ident" id="3171834"><a href="/gostd/text/template/parse/node.go.html#3171615">True</a></span>&nbsp;<span class="op" id="3171839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171843">return</span>&nbsp;<span class="string" id="3171850">&#34;true&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3171858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171861">return</span>&nbsp;<span class="string" id="3171868">&#34;false&#34;</span><br>
<span class="lineno">505</span><span class="op" id="3171876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3171879">func</span>&nbsp;<span class="op" id="3171884">(</span><span class="ident" id="3171885">b</span>&nbsp;<span class="op" id="3171887">*</span><span class="ident" id="3171888"><a href="/gostd/text/template/parse/node.go.html#3171569">BoolNode</a></span><span class="op" id="3171896">)</span>&nbsp;<span class="ident" id="3171898">tree</span><span class="op" id="3171902">(</span><span class="op" id="3171903">)</span>&nbsp;<span class="op" id="3171905">*</span><span class="ident" id="3171906"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3171911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171914">return</span>&nbsp;<span class="ident" id="3171921"><a href="/gostd/text/template/parse/node.go.html#3171885">b</a></span><span class="op" id="3171922">.</span><span class="ident" id="3171923"><a href="/gostd/text/template/parse/node.go.html#3171603">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3171926">}</span><br>
<span class="lineno">510</span><br>
<span class="lineno"></span><span class="keyword" id="3171929">func</span>&nbsp;<span class="op" id="3171934">(</span><span class="ident" id="3171935">b</span>&nbsp;<span class="op" id="3171937">*</span><span class="ident" id="3171938"><a href="/gostd/text/template/parse/node.go.html#3171569">BoolNode</a></span><span class="op" id="3171946">)</span>&nbsp;<span class="ident" id="3171948">Copy</span><span class="op" id="3171952">(</span><span class="op" id="3171953">)</span>&nbsp;<span class="ident" id="3171955"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3171960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3171963">return</span>&nbsp;<span class="ident" id="3171970"><a href="/gostd/text/template/parse/node.go.html#3171935">b</a></span><span class="op" id="3171971">.</span><span class="ident" id="3171972"><a href="/gostd/text/template/parse/node.go.html#3171603">tr</a></span><span class="op" id="3171974">.</span><span class="ident" id="3171975"><a href="/gostd/text/template/parse/node.go.html#3171681">newBool</a></span><span class="op" id="3171982">(</span><span class="ident" id="3171983"><a href="/gostd/text/template/parse/node.go.html#3171935">b</a></span><span class="op" id="3171984">.</span><span class="ident" id="3171985"><a href="/gostd/text/template/parse/node.go.html#3171598">Pos</a></span><span class="op" id="3171988">,</span>&nbsp;<span class="ident" id="3171990"><a href="/gostd/text/template/parse/node.go.html#3171935">b</a></span><span class="op" id="3171991">.</span><span class="ident" id="3171992"><a href="/gostd/text/template/parse/node.go.html#3171615">True</a></span><span class="op" id="3171996">)</span><br>
<span class="lineno"></span><span class="op" id="3171998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="3172001">//&nbsp;NumberNode&nbsp;holds&nbsp;a&nbsp;number:&nbsp;signed&nbsp;or&nbsp;unsigned&nbsp;integer,&nbsp;float,&nbsp;or&nbsp;complex.</span><br>
<span class="lineno"></span><span class="comment" id="3172078">//&nbsp;The&nbsp;value&nbsp;is&nbsp;parsed&nbsp;and&nbsp;stored&nbsp;under&nbsp;all&nbsp;the&nbsp;types&nbsp;that&nbsp;can&nbsp;represent&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="3172162">//&nbsp;This&nbsp;simulates&nbsp;in&nbsp;a&nbsp;small&nbsp;amount&nbsp;of&nbsp;code&nbsp;the&nbsp;behavior&nbsp;of&nbsp;Go&#39;s&nbsp;ideal&nbsp;constants.</span><br>
<span class="lineno"></span><span class="keyword" id="3172244">type</span>&nbsp;<span class="ident" id="3172249">NumberNode</span>&nbsp;<span class="keyword" id="3172260">struct</span>&nbsp;<span class="op" id="3172267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172270"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172280"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172285">tr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3172296">*</span><span class="ident" id="3172297"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172303">IsInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3172314">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3172325">//&nbsp;Number&nbsp;has&nbsp;an&nbsp;integral&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172359">IsUint</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3172370">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3172381">//&nbsp;Number&nbsp;has&nbsp;an&nbsp;unsigned&nbsp;integral&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172424">IsFloat</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3172435">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3172446">//&nbsp;Number&nbsp;has&nbsp;a&nbsp;floating-point&nbsp;value.</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172485">IsComplex</span>&nbsp;&nbsp;<span class="builtintype" id="3172496">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3172507">//&nbsp;Number&nbsp;is&nbsp;complex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172530">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3172541">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3172552">//&nbsp;The&nbsp;signed&nbsp;integer&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172582">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3172593">uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3172604">//&nbsp;The&nbsp;unsigned&nbsp;integer&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172636">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3172647">float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3172658">//&nbsp;The&nbsp;floating-point&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172688">Complex128</span>&nbsp;<span class="builtintype" id="3172699">complex128</span>&nbsp;<span class="comment" id="3172710">//&nbsp;The&nbsp;complex&nbsp;value.</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172733">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3172744">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3172755">//&nbsp;The&nbsp;original&nbsp;textual&nbsp;representation&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span><span class="op" id="3172810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3172813">func</span>&nbsp;<span class="op" id="3172818">(</span><span class="ident" id="3172819">t</span>&nbsp;<span class="op" id="3172821">*</span><span class="ident" id="3172822"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3172826">)</span>&nbsp;<span class="ident" id="3172828">newNumber</span><span class="op" id="3172837">(</span><span class="ident" id="3172838">pos</span>&nbsp;<span class="ident" id="3172842"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3172845">,</span>&nbsp;<span class="ident" id="3172847">text</span>&nbsp;<span class="builtintype" id="3172852">string</span><span class="op" id="3172858">,</span>&nbsp;<span class="ident" id="3172860">typ</span>&nbsp;<span class="ident" id="3172864"><a href="/gostd/text/template/parse/lex.go.html#3146993">itemType</a></span><span class="op" id="3172872">)</span>&nbsp;<span class="op" id="3172874">(</span><span class="op" id="3172875">*</span><span class="ident" id="3172876"><a href="/gostd/text/template/parse/node.go.html#3172249">NumberNode</a></span><span class="op" id="3172886">,</span>&nbsp;<span class="builtintype" id="3172888">error</span><span class="op" id="3172893">)</span>&nbsp;<span class="op" id="3172895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3172898">n</span>&nbsp;<span class="op" id="3172900">:=</span>&nbsp;<span class="op" id="3172903">&amp;</span><span class="ident" id="3172904"><a href="/gostd/text/template/parse/node.go.html#3172249">NumberNode</a></span><span class="op" id="3172914">{</span><span class="ident" id="3172915"><a href="/gostd/text/template/parse/node.go.html#3172285">tr</a></span><span class="op" id="3172917">:</span>&nbsp;<span class="ident" id="3172919"><a href="/gostd/text/template/parse/node.go.html#3172819">t</a></span><span class="op" id="3172920">,</span>&nbsp;<span class="ident" id="3172922"><a href="/gostd/text/template/parse/node.go.html#3172270">NodeType</a></span><span class="op" id="3172930">:</span>&nbsp;<span class="ident" id="3172932"><a href="/gostd/text/template/parse/node.go.html#3162193">NodeNumber</a></span><span class="op" id="3172942">,</span>&nbsp;<span class="ident" id="3172944"><a href="/gostd/text/template/parse/node.go.html#3172280">Pos</a></span><span class="op" id="3172947">:</span>&nbsp;<span class="ident" id="3172949"><a href="/gostd/text/template/parse/node.go.html#3172838">pos</a></span><span class="op" id="3172952">,</span>&nbsp;<span class="ident" id="3172954"><a href="/gostd/text/template/parse/node.go.html#3172733">Text</a></span><span class="op" id="3172958">:</span>&nbsp;<span class="ident" id="3172960"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3172964">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3172967">switch</span>&nbsp;<span class="ident" id="3172974"><a href="/gostd/text/template/parse/node.go.html#3172860">typ</a></span>&nbsp;<span class="op" id="3172978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3172981">case</span>&nbsp;<span class="ident" id="3172986"><a href="/gostd/text/template/parse/lex.go.html#3147234">itemCharConstant</a></span><span class="op" id="3173002">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3173006">rune</span><span class="op" id="3173010">,</span>&nbsp;<span class="ident" id="3173012">_</span><span class="op" id="3173013">,</span>&nbsp;<span class="ident" id="3173015">tail</span><span class="op" id="3173019">,</span>&nbsp;<span class="ident" id="3173021">err</span>&nbsp;<span class="op" id="3173025">:=</span>&nbsp;<span class="ident" id="3173028"><a href="/gostd/text/template/parse/node.go.html#3160251">strconv</a></span><span class="op" id="3173035">.</span><span class="ident" id="3173036"><a href="/gostd/strconv/quote.go.html#2415806">UnquoteChar</a></span><span class="op" id="3173047">(</span><span class="ident" id="3173048"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173052">[</span><span class="num" id="3173053">1</span><span class="op" id="3173054">:</span><span class="op" id="3173055">]</span><span class="op" id="3173056">,</span>&nbsp;<span class="ident" id="3173058"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173062">[</span><span class="num" id="3173063">0</span><span class="op" id="3173064">]</span><span class="op" id="3173065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173069">if</span>&nbsp;<span class="ident" id="3173072"><a href="/gostd/text/template/parse/node.go.html#3173021">err</a></span>&nbsp;<span class="op" id="3173076">!=</span>&nbsp;<span class="builtintype" id="3173079">nil</span>&nbsp;<span class="op" id="3173083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173088">return</span>&nbsp;<span class="builtintype" id="3173095">nil</span><span class="op" id="3173098">,</span>&nbsp;<span class="ident" id="3173100"><a href="/gostd/text/template/parse/node.go.html#3173021">err</a></span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3173106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173110">if</span>&nbsp;<span class="ident" id="3173113"><a href="/gostd/text/template/parse/node.go.html#3173015">tail</a></span>&nbsp;<span class="op" id="3173118">!=</span>&nbsp;<span class="string" id="3173121">&#34;&#39;&#34;</span>&nbsp;<span class="op" id="3173125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173130">return</span>&nbsp;<span class="builtintype" id="3173137">nil</span><span class="op" id="3173140">,</span>&nbsp;<span class="ident" id="3173142"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3173145">.</span><span class="ident" id="3173146"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3173152">(</span><span class="string" id="3173153">&#34;malformed&nbsp;character&nbsp;constant:&nbsp;%s&#34;</span><span class="op" id="3173187">,</span>&nbsp;<span class="ident" id="3173189"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3173197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173201"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173202">.</span><span class="ident" id="3173203"><a href="/gostd/text/template/parse/node.go.html#3172530">Int64</a></span>&nbsp;<span class="op" id="3173209">=</span>&nbsp;<span class="builtintype" id="3173211">int64</span><span class="op" id="3173216">(</span><span class="builtintype" id="3173217"><a href="/gostd/text/template/parse/node.go.html#3173006">rune</a></span><span class="op" id="3173221">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173225"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173226">.</span><span class="ident" id="3173227"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="3173233">=</span>&nbsp;<span class="builtintype" id="3173235">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173242"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173243">.</span><span class="ident" id="3173244"><a href="/gostd/text/template/parse/node.go.html#3172582">Uint64</a></span>&nbsp;<span class="op" id="3173251">=</span>&nbsp;<span class="builtintype" id="3173253">uint64</span><span class="op" id="3173259">(</span><span class="builtintype" id="3173260"><a href="/gostd/text/template/parse/node.go.html#3173006">rune</a></span><span class="op" id="3173264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173268"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173269">.</span><span class="ident" id="3173270"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="3173277">=</span>&nbsp;<span class="builtintype" id="3173279">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173286"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173287">.</span><span class="ident" id="3173288"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span>&nbsp;<span class="op" id="3173296">=</span>&nbsp;<span class="builtintype" id="3173298">float64</span><span class="op" id="3173305">(</span><span class="builtintype" id="3173306"><a href="/gostd/text/template/parse/node.go.html#3173006">rune</a></span><span class="op" id="3173310">)</span>&nbsp;<span class="comment" id="3173312">//&nbsp;odd&nbsp;but&nbsp;those&nbsp;are&nbsp;the&nbsp;rules.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173346"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173347">.</span><span class="ident" id="3173348"><a href="/gostd/text/template/parse/node.go.html#3172424">IsFloat</a></span>&nbsp;<span class="op" id="3173356">=</span>&nbsp;<span class="builtintype" id="3173358">true</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173365">return</span>&nbsp;<span class="ident" id="3173372"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173373">,</span>&nbsp;<span class="builtintype" id="3173375">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173380">case</span>&nbsp;<span class="ident" id="3173385"><a href="/gostd/text/template/parse/lex.go.html#3147290">itemComplex</a></span><span class="op" id="3173396">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3173400">//&nbsp;fmt.Sscan&nbsp;can&nbsp;parse&nbsp;the&nbsp;pair,&nbsp;so&nbsp;let&nbsp;it&nbsp;do&nbsp;the&nbsp;work.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173458">if</span>&nbsp;<span class="ident" id="3173461">_</span><span class="op" id="3173462">,</span>&nbsp;<span class="ident" id="3173464">err</span>&nbsp;<span class="op" id="3173468">:=</span>&nbsp;<span class="ident" id="3173471"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3173474">.</span><span class="ident" id="3173475"><a href="/gostd/fmt/scan.go.html#2172550">Sscan</a></span><span class="op" id="3173480">(</span><span class="ident" id="3173481"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173485">,</span>&nbsp;<span class="op" id="3173487">&amp;</span><span class="ident" id="3173488"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173489">.</span><span class="ident" id="3173490"><a href="/gostd/text/template/parse/node.go.html#3172688">Complex128</a></span><span class="op" id="3173500">)</span><span class="op" id="3173501">;</span>&nbsp;<span class="ident" id="3173503"><a href="/gostd/text/template/parse/node.go.html#3173464">err</a></span>&nbsp;<span class="op" id="3173507">!=</span>&nbsp;<span class="builtintype" id="3173510">nil</span>&nbsp;<span class="op" id="3173514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173519">return</span>&nbsp;<span class="builtintype" id="3173526">nil</span><span class="op" id="3173529">,</span>&nbsp;<span class="ident" id="3173531"><a href="/gostd/text/template/parse/node.go.html#3173464">err</a></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3173537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173541"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173542">.</span><span class="ident" id="3173543"><a href="/gostd/text/template/parse/node.go.html#3172485">IsComplex</a></span>&nbsp;<span class="op" id="3173553">=</span>&nbsp;<span class="builtintype" id="3173555">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173562"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173563">.</span><span class="ident" id="3173564"><a href="/gostd/text/template/parse/node.go.html#3175084">simplifyComplex</a></span><span class="op" id="3173579">(</span><span class="op" id="3173580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173584">return</span>&nbsp;<span class="ident" id="3173591"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173592">,</span>&nbsp;<span class="builtintype" id="3173594">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3173599">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3173602">//&nbsp;Imaginary&nbsp;constants&nbsp;can&nbsp;only&nbsp;be&nbsp;complex&nbsp;unless&nbsp;they&nbsp;are&nbsp;zero.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173668">if</span>&nbsp;<span class="builtinfunc" id="3173671">len</span><span class="op" id="3173674">(</span><span class="ident" id="3173675"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173679">)</span>&nbsp;<span class="op" id="3173681">&gt;</span>&nbsp;<span class="num" id="3173683">0</span>&nbsp;<span class="op" id="3173685">&amp;&amp;</span>&nbsp;<span class="ident" id="3173688"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173692">[</span><span class="builtinfunc" id="3173693">len</span><span class="op" id="3173696">(</span><span class="ident" id="3173697"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173701">)</span><span class="op" id="3173702">-</span><span class="num" id="3173703">1</span><span class="op" id="3173704">]</span>&nbsp;<span class="op" id="3173706">==</span>&nbsp;<span class="string" id="3173709">&#39;i&#39;</span>&nbsp;<span class="op" id="3173713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173717">f</span><span class="op" id="3173718">,</span>&nbsp;<span class="ident" id="3173720">err</span>&nbsp;<span class="op" id="3173724">:=</span>&nbsp;<span class="ident" id="3173727"><a href="/gostd/text/template/parse/node.go.html#3160251">strconv</a></span><span class="op" id="3173734">.</span><span class="ident" id="3173735"><a href="/gostd/strconv/atof.go.html#2352470">ParseFloat</a></span><span class="op" id="3173745">(</span><span class="ident" id="3173746"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173750">[</span><span class="op" id="3173751">:</span><span class="builtinfunc" id="3173752">len</span><span class="op" id="3173755">(</span><span class="ident" id="3173756"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173760">)</span><span class="op" id="3173761">-</span><span class="num" id="3173762">1</span><span class="op" id="3173763">]</span><span class="op" id="3173764">,</span>&nbsp;<span class="num" id="3173766">64</span><span class="op" id="3173768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173772">if</span>&nbsp;<span class="ident" id="3173775"><a href="/gostd/text/template/parse/node.go.html#3173720">err</a></span>&nbsp;<span class="op" id="3173779">==</span>&nbsp;<span class="builtintype" id="3173782">nil</span>&nbsp;<span class="op" id="3173786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173791"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173792">.</span><span class="ident" id="3173793"><a href="/gostd/text/template/parse/node.go.html#3172485">IsComplex</a></span>&nbsp;<span class="op" id="3173803">=</span>&nbsp;<span class="builtintype" id="3173805">true</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173813"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173814">.</span><span class="ident" id="3173815"><a href="/gostd/text/template/parse/node.go.html#3172688">Complex128</a></span>&nbsp;<span class="op" id="3173826">=</span>&nbsp;<span class="builtinfunc" id="3173828">complex</span><span class="op" id="3173835">(</span><span class="num" id="3173836">0</span><span class="op" id="3173837">,</span>&nbsp;<span class="ident" id="3173839"><a href="/gostd/text/template/parse/node.go.html#3173717">f</a></span><span class="op" id="3173840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173845"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173846">.</span><span class="ident" id="3173847"><a href="/gostd/text/template/parse/node.go.html#3175084">simplifyComplex</a></span><span class="op" id="3173862">(</span><span class="op" id="3173863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3173868">return</span>&nbsp;<span class="ident" id="3173875"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3173876">,</span>&nbsp;<span class="builtintype" id="3173878">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3173884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3173887">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3173890">//&nbsp;Do&nbsp;integer&nbsp;test&nbsp;first&nbsp;so&nbsp;we&nbsp;get&nbsp;0x123&nbsp;etc.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3173937">u</span><span class="op" id="3173938">,</span>&nbsp;<span class="ident" id="3173940">err</span>&nbsp;<span class="op" id="3173944">:=</span>&nbsp;<span class="ident" id="3173947"><a href="/gostd/text/template/parse/node.go.html#3160251">strconv</a></span><span class="op" id="3173954">.</span><span class="ident" id="3173955"><a href="/gostd/strconv/atoi.go.html#2353976">ParseUint</a></span><span class="op" id="3173964">(</span><span class="ident" id="3173965"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3173969">,</span>&nbsp;<span class="num" id="3173971">0</span><span class="op" id="3173972">,</span>&nbsp;<span class="num" id="3173974">64</span><span class="op" id="3173976">)</span>&nbsp;<span class="comment" id="3173978">//&nbsp;will&nbsp;fail&nbsp;for&nbsp;-0;&nbsp;fixed&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174013">if</span>&nbsp;<span class="ident" id="3174016"><a href="/gostd/text/template/parse/node.go.html#3173940">err</a></span>&nbsp;<span class="op" id="3174020">==</span>&nbsp;<span class="builtintype" id="3174023">nil</span>&nbsp;<span class="op" id="3174027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174031"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174032">.</span><span class="ident" id="3174033"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="3174040">=</span>&nbsp;<span class="builtintype" id="3174042">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174049"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174050">.</span><span class="ident" id="3174051"><a href="/gostd/text/template/parse/node.go.html#3172582">Uint64</a></span>&nbsp;<span class="op" id="3174058">=</span>&nbsp;<span class="ident" id="3174060"><a href="/gostd/text/template/parse/node.go.html#3173937">u</a></span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174066">i</span><span class="op" id="3174067">,</span>&nbsp;<span class="ident" id="3174069"><a href="/gostd/text/template/parse/node.go.html#3173940">err</a></span>&nbsp;<span class="op" id="3174073">:=</span>&nbsp;<span class="ident" id="3174076"><a href="/gostd/text/template/parse/node.go.html#3160251">strconv</a></span><span class="op" id="3174083">.</span><span class="ident" id="3174084"><a href="/gostd/strconv/atoi.go.html#2356133">ParseInt</a></span><span class="op" id="3174092">(</span><span class="ident" id="3174093"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3174097">,</span>&nbsp;<span class="num" id="3174099">0</span><span class="op" id="3174100">,</span>&nbsp;<span class="num" id="3174102">64</span><span class="op" id="3174104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174107">if</span>&nbsp;<span class="ident" id="3174110"><a href="/gostd/text/template/parse/node.go.html#3173940">err</a></span>&nbsp;<span class="op" id="3174114">==</span>&nbsp;<span class="builtintype" id="3174117">nil</span>&nbsp;<span class="op" id="3174121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174125"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174126">.</span><span class="ident" id="3174127"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="3174133">=</span>&nbsp;<span class="builtintype" id="3174135">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174142"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174143">.</span><span class="ident" id="3174144"><a href="/gostd/text/template/parse/node.go.html#3172530">Int64</a></span>&nbsp;<span class="op" id="3174150">=</span>&nbsp;<span class="ident" id="3174152"><a href="/gostd/text/template/parse/node.go.html#3174066">i</a></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174156">if</span>&nbsp;<span class="ident" id="3174159"><a href="/gostd/text/template/parse/node.go.html#3174066">i</a></span>&nbsp;<span class="op" id="3174161">==</span>&nbsp;<span class="num" id="3174164">0</span>&nbsp;<span class="op" id="3174166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174171"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174172">.</span><span class="ident" id="3174173"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="3174180">=</span>&nbsp;<span class="builtintype" id="3174182">true</span>&nbsp;<span class="comment" id="3174187">//&nbsp;in&nbsp;case&nbsp;of&nbsp;-0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174208"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174209">.</span><span class="ident" id="3174210"><a href="/gostd/text/template/parse/node.go.html#3172582">Uint64</a></span>&nbsp;<span class="op" id="3174217">=</span>&nbsp;<span class="ident" id="3174219"><a href="/gostd/text/template/parse/node.go.html#3173937">u</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174226">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3174229">//&nbsp;If&nbsp;an&nbsp;integer&nbsp;extraction&nbsp;succeeded,&nbsp;promote&nbsp;the&nbsp;float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174288">if</span>&nbsp;<span class="ident" id="3174291"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174292">.</span><span class="ident" id="3174293"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="3174299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174303"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174304">.</span><span class="ident" id="3174305"><a href="/gostd/text/template/parse/node.go.html#3172424">IsFloat</a></span>&nbsp;<span class="op" id="3174313">=</span>&nbsp;<span class="builtintype" id="3174315">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174322"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174323">.</span><span class="ident" id="3174324"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span>&nbsp;<span class="op" id="3174332">=</span>&nbsp;<span class="builtintype" id="3174334">float64</span><span class="op" id="3174341">(</span><span class="ident" id="3174342"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174343">.</span><span class="ident" id="3174344"><a href="/gostd/text/template/parse/node.go.html#3172530">Int64</a></span><span class="op" id="3174349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174352">}</span>&nbsp;<span class="keyword" id="3174354">else</span>&nbsp;<span class="keyword" id="3174359">if</span>&nbsp;<span class="ident" id="3174362"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174363">.</span><span class="ident" id="3174364"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="3174371">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174375"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174376">.</span><span class="ident" id="3174377"><a href="/gostd/text/template/parse/node.go.html#3172424">IsFloat</a></span>&nbsp;<span class="op" id="3174385">=</span>&nbsp;<span class="builtintype" id="3174387">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174394"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174395">.</span><span class="ident" id="3174396"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span>&nbsp;<span class="op" id="3174404">=</span>&nbsp;<span class="builtintype" id="3174406">float64</span><span class="op" id="3174413">(</span><span class="ident" id="3174414"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174415">.</span><span class="ident" id="3174416"><a href="/gostd/text/template/parse/node.go.html#3172582">Uint64</a></span><span class="op" id="3174422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174425">}</span>&nbsp;<span class="keyword" id="3174427">else</span>&nbsp;<span class="op" id="3174432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174436">f</span><span class="op" id="3174437">,</span>&nbsp;<span class="ident" id="3174439">err</span>&nbsp;<span class="op" id="3174443">:=</span>&nbsp;<span class="ident" id="3174446"><a href="/gostd/text/template/parse/node.go.html#3160251">strconv</a></span><span class="op" id="3174453">.</span><span class="ident" id="3174454"><a href="/gostd/strconv/atof.go.html#2352470">ParseFloat</a></span><span class="op" id="3174464">(</span><span class="ident" id="3174465"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3174469">,</span>&nbsp;<span class="num" id="3174471">64</span><span class="op" id="3174473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174477">if</span>&nbsp;<span class="ident" id="3174480"><a href="/gostd/text/template/parse/node.go.html#3174439">err</a></span>&nbsp;<span class="op" id="3174484">==</span>&nbsp;<span class="builtintype" id="3174487">nil</span>&nbsp;<span class="op" id="3174491">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174496"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174497">.</span><span class="ident" id="3174498"><a href="/gostd/text/template/parse/node.go.html#3172424">IsFloat</a></span>&nbsp;<span class="op" id="3174506">=</span>&nbsp;<span class="builtintype" id="3174508">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174516"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174517">.</span><span class="ident" id="3174518"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span>&nbsp;<span class="op" id="3174526">=</span>&nbsp;<span class="ident" id="3174528"><a href="/gostd/text/template/parse/node.go.html#3174436">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3174533">//&nbsp;If&nbsp;a&nbsp;floating-point&nbsp;extraction&nbsp;succeeded,&nbsp;extract&nbsp;the&nbsp;int&nbsp;if&nbsp;needed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174608">if</span>&nbsp;<span class="op" id="3174611">!</span><span class="ident" id="3174612"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174613">.</span><span class="ident" id="3174614"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="3174620">&amp;&amp;</span>&nbsp;<span class="builtintype" id="3174623">float64</span><span class="op" id="3174630">(</span><span class="builtintype" id="3174631">int64</span><span class="op" id="3174636">(</span><span class="ident" id="3174637"><a href="/gostd/text/template/parse/node.go.html#3174436">f</a></span><span class="op" id="3174638">)</span><span class="op" id="3174639">)</span>&nbsp;<span class="op" id="3174641">==</span>&nbsp;<span class="ident" id="3174644"><a href="/gostd/text/template/parse/node.go.html#3174436">f</a></span>&nbsp;<span class="op" id="3174646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174652"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174653">.</span><span class="ident" id="3174654"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="3174660">=</span>&nbsp;<span class="builtintype" id="3174662">true</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174671"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174672">.</span><span class="ident" id="3174673"><a href="/gostd/text/template/parse/node.go.html#3172530">Int64</a></span>&nbsp;<span class="op" id="3174679">=</span>&nbsp;<span class="builtintype" id="3174681">int64</span><span class="op" id="3174686">(</span><span class="ident" id="3174687"><a href="/gostd/text/template/parse/node.go.html#3174436">f</a></span><span class="op" id="3174688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174698">if</span>&nbsp;<span class="op" id="3174701">!</span><span class="ident" id="3174702"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174703">.</span><span class="ident" id="3174704"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="3174711">&amp;&amp;</span>&nbsp;<span class="builtintype" id="3174714">float64</span><span class="op" id="3174721">(</span><span class="builtintype" id="3174722">uint64</span><span class="op" id="3174728">(</span><span class="ident" id="3174729"><a href="/gostd/text/template/parse/node.go.html#3174436">f</a></span><span class="op" id="3174730">)</span><span class="op" id="3174731">)</span>&nbsp;<span class="op" id="3174733">==</span>&nbsp;<span class="ident" id="3174736"><a href="/gostd/text/template/parse/node.go.html#3174436">f</a></span>&nbsp;<span class="op" id="3174738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174744"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174745">.</span><span class="ident" id="3174746"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="3174753">=</span>&nbsp;<span class="builtintype" id="3174755">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3174764"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174765">.</span><span class="ident" id="3174766"><a href="/gostd/text/template/parse/node.go.html#3172582">Uint64</a></span>&nbsp;<span class="op" id="3174773">=</span>&nbsp;<span class="builtintype" id="3174775">uint64</span><span class="op" id="3174781">(</span><span class="ident" id="3174782"><a href="/gostd/text/template/parse/node.go.html#3174436">f</a></span><span class="op" id="3174783">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174798">if</span>&nbsp;<span class="op" id="3174801">!</span><span class="ident" id="3174802"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174803">.</span><span class="ident" id="3174804"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="3174810">&amp;&amp;</span>&nbsp;<span class="op" id="3174813">!</span><span class="ident" id="3174814"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174815">.</span><span class="ident" id="3174816"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="3174823">&amp;&amp;</span>&nbsp;<span class="op" id="3174826">!</span><span class="ident" id="3174827"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174828">.</span><span class="ident" id="3174829"><a href="/gostd/text/template/parse/node.go.html#3172424">IsFloat</a></span>&nbsp;<span class="op" id="3174837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174841">return</span>&nbsp;<span class="builtintype" id="3174848">nil</span><span class="op" id="3174851">,</span>&nbsp;<span class="ident" id="3174853"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3174856">.</span><span class="ident" id="3174857"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3174863">(</span><span class="string" id="3174864">&#34;illegal&nbsp;number&nbsp;syntax:&nbsp;%q&#34;</span><span class="op" id="3174891">,</span>&nbsp;<span class="ident" id="3174893"><a href="/gostd/text/template/parse/node.go.html#3172847">text</a></span><span class="op" id="3174897">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3174900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3174903">return</span>&nbsp;<span class="ident" id="3174910"><a href="/gostd/text/template/parse/node.go.html#3172898">n</a></span><span class="op" id="3174911">,</span>&nbsp;<span class="builtintype" id="3174913">nil</span><br>
<span class="lineno"></span><span class="op" id="3174917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3174920">//&nbsp;simplifyComplex&nbsp;pulls&nbsp;out&nbsp;any&nbsp;other&nbsp;types&nbsp;that&nbsp;are&nbsp;represented&nbsp;by&nbsp;the&nbsp;complex&nbsp;number.</span><br>
<span class="lineno">615</span><span class="comment" id="3175009">//&nbsp;These&nbsp;all&nbsp;require&nbsp;that&nbsp;the&nbsp;imaginary&nbsp;part&nbsp;be&nbsp;zero.</span><br>
<span class="lineno"></span><span class="keyword" id="3175063">func</span>&nbsp;<span class="op" id="3175068">(</span><span class="ident" id="3175069">n</span>&nbsp;<span class="op" id="3175071">*</span><span class="ident" id="3175072"><a href="/gostd/text/template/parse/node.go.html#3172249">NumberNode</a></span><span class="op" id="3175082">)</span>&nbsp;<span class="ident" id="3175084">simplifyComplex</span><span class="op" id="3175099">(</span><span class="op" id="3175100">)</span>&nbsp;<span class="op" id="3175102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175105"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175106">.</span><span class="ident" id="3175107"><a href="/gostd/text/template/parse/node.go.html#3172424">IsFloat</a></span>&nbsp;<span class="op" id="3175115">=</span>&nbsp;<span class="builtinfunc" id="3175117">imag</span><span class="op" id="3175121">(</span><span class="ident" id="3175122"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175123">.</span><span class="ident" id="3175124"><a href="/gostd/text/template/parse/node.go.html#3172688">Complex128</a></span><span class="op" id="3175134">)</span>&nbsp;<span class="op" id="3175136">==</span>&nbsp;<span class="num" id="3175139">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3175142">if</span>&nbsp;<span class="ident" id="3175145"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175146">.</span><span class="ident" id="3175147"><a href="/gostd/text/template/parse/node.go.html#3172424">IsFloat</a></span>&nbsp;<span class="op" id="3175155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175159"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175160">.</span><span class="ident" id="3175161"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span>&nbsp;<span class="op" id="3175169">=</span>&nbsp;<span class="builtinfunc" id="3175171">real</span><span class="op" id="3175175">(</span><span class="ident" id="3175176"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175177">.</span><span class="ident" id="3175178"><a href="/gostd/text/template/parse/node.go.html#3172688">Complex128</a></span><span class="op" id="3175188">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175192"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175193">.</span><span class="ident" id="3175194"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="3175200">=</span>&nbsp;<span class="builtintype" id="3175202">float64</span><span class="op" id="3175209">(</span><span class="builtintype" id="3175210">int64</span><span class="op" id="3175215">(</span><span class="ident" id="3175216"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175217">.</span><span class="ident" id="3175218"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span><span class="op" id="3175225">)</span><span class="op" id="3175226">)</span>&nbsp;<span class="op" id="3175228">==</span>&nbsp;<span class="ident" id="3175231"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175232">.</span><span class="ident" id="3175233"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3175243">if</span>&nbsp;<span class="ident" id="3175246"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175247">.</span><span class="ident" id="3175248"><a href="/gostd/text/template/parse/node.go.html#3172303">IsInt</a></span>&nbsp;<span class="op" id="3175254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175259"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175260">.</span><span class="ident" id="3175261"><a href="/gostd/text/template/parse/node.go.html#3172530">Int64</a></span>&nbsp;<span class="op" id="3175267">=</span>&nbsp;<span class="builtintype" id="3175269">int64</span><span class="op" id="3175274">(</span><span class="ident" id="3175275"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175276">.</span><span class="ident" id="3175277"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span><span class="op" id="3175284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3175288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175292"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175293">.</span><span class="ident" id="3175294"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="3175301">=</span>&nbsp;<span class="builtintype" id="3175303">float64</span><span class="op" id="3175310">(</span><span class="builtintype" id="3175311">uint64</span><span class="op" id="3175317">(</span><span class="ident" id="3175318"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175319">.</span><span class="ident" id="3175320"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span><span class="op" id="3175327">)</span><span class="op" id="3175328">)</span>&nbsp;<span class="op" id="3175330">==</span>&nbsp;<span class="ident" id="3175333"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175334">.</span><span class="ident" id="3175335"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3175345">if</span>&nbsp;<span class="ident" id="3175348"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175349">.</span><span class="ident" id="3175350"><a href="/gostd/text/template/parse/node.go.html#3172359">IsUint</a></span>&nbsp;<span class="op" id="3175357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175362"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175363">.</span><span class="ident" id="3175364"><a href="/gostd/text/template/parse/node.go.html#3172582">Uint64</a></span>&nbsp;<span class="op" id="3175371">=</span>&nbsp;<span class="builtintype" id="3175373">uint64</span><span class="op" id="3175379">(</span><span class="ident" id="3175380"><a href="/gostd/text/template/parse/node.go.html#3175069">n</a></span><span class="op" id="3175381">.</span><span class="ident" id="3175382"><a href="/gostd/text/template/parse/node.go.html#3172636">Float64</a></span><span class="op" id="3175389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3175393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3175396">}</span><br>
<span class="lineno"></span><span class="op" id="3175398">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="3175401">func</span>&nbsp;<span class="op" id="3175406">(</span><span class="ident" id="3175407">n</span>&nbsp;<span class="op" id="3175409">*</span><span class="ident" id="3175410"><a href="/gostd/text/template/parse/node.go.html#3172249">NumberNode</a></span><span class="op" id="3175420">)</span>&nbsp;<span class="ident" id="3175422">String</span><span class="op" id="3175428">(</span><span class="op" id="3175429">)</span>&nbsp;<span class="builtintype" id="3175431">string</span>&nbsp;<span class="op" id="3175438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3175441">return</span>&nbsp;<span class="ident" id="3175448"><a href="/gostd/text/template/parse/node.go.html#3175407">n</a></span><span class="op" id="3175449">.</span><span class="ident" id="3175450"><a href="/gostd/text/template/parse/node.go.html#3172733">Text</a></span><br>
<span class="lineno"></span><span class="op" id="3175455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">635</span><span class="keyword" id="3175458">func</span>&nbsp;<span class="op" id="3175463">(</span><span class="ident" id="3175464">n</span>&nbsp;<span class="op" id="3175466">*</span><span class="ident" id="3175467"><a href="/gostd/text/template/parse/node.go.html#3172249">NumberNode</a></span><span class="op" id="3175477">)</span>&nbsp;<span class="ident" id="3175479">tree</span><span class="op" id="3175483">(</span><span class="op" id="3175484">)</span>&nbsp;<span class="op" id="3175486">*</span><span class="ident" id="3175487"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3175492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3175495">return</span>&nbsp;<span class="ident" id="3175502"><a href="/gostd/text/template/parse/node.go.html#3175464">n</a></span><span class="op" id="3175503">.</span><span class="ident" id="3175504"><a href="/gostd/text/template/parse/node.go.html#3172285">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3175507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3175510">func</span>&nbsp;<span class="op" id="3175515">(</span><span class="ident" id="3175516">n</span>&nbsp;<span class="op" id="3175518">*</span><span class="ident" id="3175519"><a href="/gostd/text/template/parse/node.go.html#3172249">NumberNode</a></span><span class="op" id="3175529">)</span>&nbsp;<span class="ident" id="3175531">Copy</span><span class="op" id="3175535">(</span><span class="op" id="3175536">)</span>&nbsp;<span class="ident" id="3175538"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3175543">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175546">nn</span>&nbsp;<span class="op" id="3175549">:=</span>&nbsp;<span class="builtinfunc" id="3175552">new</span><span class="op" id="3175555">(</span><span class="ident" id="3175556"><a href="/gostd/text/template/parse/node.go.html#3172249">NumberNode</a></span><span class="op" id="3175566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3175569">*</span><span class="ident" id="3175570"><a href="/gostd/text/template/parse/node.go.html#3175546">nn</a></span>&nbsp;<span class="op" id="3175573">=</span>&nbsp;<span class="op" id="3175575">*</span><span class="ident" id="3175576"><a href="/gostd/text/template/parse/node.go.html#3175516">n</a></span>&nbsp;<span class="comment" id="3175578">//&nbsp;Easy,&nbsp;fast,&nbsp;correct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3175603">return</span>&nbsp;<span class="ident" id="3175610"><a href="/gostd/text/template/parse/node.go.html#3175546">nn</a></span><br>
<span class="lineno"></span><span class="op" id="3175613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span><span class="comment" id="3175616">//&nbsp;StringNode&nbsp;holds&nbsp;a&nbsp;string&nbsp;constant.&nbsp;The&nbsp;value&nbsp;has&nbsp;been&nbsp;&#34;unquoted&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3175686">type</span>&nbsp;<span class="ident" id="3175691">StringNode</span>&nbsp;<span class="keyword" id="3175702">struct</span>&nbsp;<span class="op" id="3175709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175712"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175722"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175727">tr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3175734">*</span><span class="ident" id="3175735"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175741">Quoted</span>&nbsp;<span class="builtintype" id="3175748">string</span>&nbsp;<span class="comment" id="3175755">//&nbsp;The&nbsp;original&nbsp;text&nbsp;of&nbsp;the&nbsp;string,&nbsp;with&nbsp;quotes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3175805">Text</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3175812">string</span>&nbsp;<span class="comment" id="3175819">//&nbsp;The&nbsp;string,&nbsp;after&nbsp;quote&nbsp;processing.</span><br>
<span class="lineno"></span><span class="op" id="3175858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3175861">func</span>&nbsp;<span class="op" id="3175866">(</span><span class="ident" id="3175867">t</span>&nbsp;<span class="op" id="3175869">*</span><span class="ident" id="3175870"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3175874">)</span>&nbsp;<span class="ident" id="3175876">newString</span><span class="op" id="3175885">(</span><span class="ident" id="3175886">pos</span>&nbsp;<span class="ident" id="3175890"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3175893">,</span>&nbsp;<span class="ident" id="3175895">orig</span><span class="op" id="3175899">,</span>&nbsp;<span class="ident" id="3175901">text</span>&nbsp;<span class="builtintype" id="3175906">string</span><span class="op" id="3175912">)</span>&nbsp;<span class="op" id="3175914">*</span><span class="ident" id="3175915"><a href="/gostd/text/template/parse/node.go.html#3175691">StringNode</a></span>&nbsp;<span class="op" id="3175926">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3175929">return</span>&nbsp;<span class="op" id="3175936">&amp;</span><span class="ident" id="3175937"><a href="/gostd/text/template/parse/node.go.html#3175691">StringNode</a></span><span class="op" id="3175947">{</span><span class="ident" id="3175948"><a href="/gostd/text/template/parse/node.go.html#3175727">tr</a></span><span class="op" id="3175950">:</span>&nbsp;<span class="ident" id="3175952"><a href="/gostd/text/template/parse/node.go.html#3175867">t</a></span><span class="op" id="3175953">,</span>&nbsp;<span class="ident" id="3175955"><a href="/gostd/text/template/parse/node.go.html#3175712">NodeType</a></span><span class="op" id="3175963">:</span>&nbsp;<span class="ident" id="3175965"><a href="/gostd/text/template/parse/node.go.html#3162360">NodeString</a></span><span class="op" id="3175975">,</span>&nbsp;<span class="ident" id="3175977"><a href="/gostd/text/template/parse/node.go.html#3175722">Pos</a></span><span class="op" id="3175980">:</span>&nbsp;<span class="ident" id="3175982"><a href="/gostd/text/template/parse/node.go.html#3175886">pos</a></span><span class="op" id="3175985">,</span>&nbsp;<span class="ident" id="3175987"><a href="/gostd/text/template/parse/node.go.html#3175741">Quoted</a></span><span class="op" id="3175993">:</span>&nbsp;<span class="ident" id="3175995"><a href="/gostd/text/template/parse/node.go.html#3175895">orig</a></span><span class="op" id="3175999">,</span>&nbsp;<span class="ident" id="3176001"><a href="/gostd/text/template/parse/node.go.html#3175805">Text</a></span><span class="op" id="3176005">:</span>&nbsp;<span class="ident" id="3176007"><a href="/gostd/text/template/parse/node.go.html#3175901">text</a></span><span class="op" id="3176011">}</span><br>
<span class="lineno"></span><span class="op" id="3176013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3176016">func</span>&nbsp;<span class="op" id="3176021">(</span><span class="ident" id="3176022">s</span>&nbsp;<span class="op" id="3176024">*</span><span class="ident" id="3176025"><a href="/gostd/text/template/parse/node.go.html#3175691">StringNode</a></span><span class="op" id="3176035">)</span>&nbsp;<span class="ident" id="3176037">String</span><span class="op" id="3176043">(</span><span class="op" id="3176044">)</span>&nbsp;<span class="builtintype" id="3176046">string</span>&nbsp;<span class="op" id="3176053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3176056">return</span>&nbsp;<span class="ident" id="3176063"><a href="/gostd/text/template/parse/node.go.html#3176022">s</a></span><span class="op" id="3176064">.</span><span class="ident" id="3176065"><a href="/gostd/text/template/parse/node.go.html#3175741">Quoted</a></span><br>
<span class="lineno">660</span><span class="op" id="3176072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3176075">func</span>&nbsp;<span class="op" id="3176080">(</span><span class="ident" id="3176081">s</span>&nbsp;<span class="op" id="3176083">*</span><span class="ident" id="3176084"><a href="/gostd/text/template/parse/node.go.html#3175691">StringNode</a></span><span class="op" id="3176094">)</span>&nbsp;<span class="ident" id="3176096">tree</span><span class="op" id="3176100">(</span><span class="op" id="3176101">)</span>&nbsp;<span class="op" id="3176103">*</span><span class="ident" id="3176104"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3176109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3176112">return</span>&nbsp;<span class="ident" id="3176119"><a href="/gostd/text/template/parse/node.go.html#3176081">s</a></span><span class="op" id="3176120">.</span><span class="ident" id="3176121"><a href="/gostd/text/template/parse/node.go.html#3175727">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3176124">}</span><br>
<span class="lineno">665</span><br>
<span class="lineno"></span><span class="keyword" id="3176127">func</span>&nbsp;<span class="op" id="3176132">(</span><span class="ident" id="3176133">s</span>&nbsp;<span class="op" id="3176135">*</span><span class="ident" id="3176136"><a href="/gostd/text/template/parse/node.go.html#3175691">StringNode</a></span><span class="op" id="3176146">)</span>&nbsp;<span class="ident" id="3176148">Copy</span><span class="op" id="3176152">(</span><span class="op" id="3176153">)</span>&nbsp;<span class="ident" id="3176155"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3176160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3176163">return</span>&nbsp;<span class="ident" id="3176170"><a href="/gostd/text/template/parse/node.go.html#3176133">s</a></span><span class="op" id="3176171">.</span><span class="ident" id="3176172"><a href="/gostd/text/template/parse/node.go.html#3175727">tr</a></span><span class="op" id="3176174">.</span><span class="ident" id="3176175"><a href="/gostd/text/template/parse/node.go.html#3175876">newString</a></span><span class="op" id="3176184">(</span><span class="ident" id="3176185"><a href="/gostd/text/template/parse/node.go.html#3176133">s</a></span><span class="op" id="3176186">.</span><span class="ident" id="3176187"><a href="/gostd/text/template/parse/node.go.html#3175722">Pos</a></span><span class="op" id="3176190">,</span>&nbsp;<span class="ident" id="3176192"><a href="/gostd/text/template/parse/node.go.html#3176133">s</a></span><span class="op" id="3176193">.</span><span class="ident" id="3176194"><a href="/gostd/text/template/parse/node.go.html#3175741">Quoted</a></span><span class="op" id="3176200">,</span>&nbsp;<span class="ident" id="3176202"><a href="/gostd/text/template/parse/node.go.html#3176133">s</a></span><span class="op" id="3176203">.</span><span class="ident" id="3176204"><a href="/gostd/text/template/parse/node.go.html#3175805">Text</a></span><span class="op" id="3176208">)</span><br>
<span class="lineno"></span><span class="op" id="3176210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">670</span><span class="comment" id="3176213">//&nbsp;endNode&nbsp;represents&nbsp;an&nbsp;{{end}}&nbsp;action.</span><br>
<span class="lineno"></span><span class="comment" id="3176254">//&nbsp;It&nbsp;does&nbsp;not&nbsp;appear&nbsp;in&nbsp;the&nbsp;final&nbsp;parse&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="3176301">type</span>&nbsp;<span class="ident" id="3176306">endNode</span>&nbsp;<span class="keyword" id="3176314">struct</span>&nbsp;<span class="op" id="3176321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3176324"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3176334"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3176339">tr</span>&nbsp;<span class="op" id="3176342">*</span><span class="ident" id="3176343"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span><span class="op" id="3176348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3176351">func</span>&nbsp;<span class="op" id="3176356">(</span><span class="ident" id="3176357">t</span>&nbsp;<span class="op" id="3176359">*</span><span class="ident" id="3176360"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3176364">)</span>&nbsp;<span class="ident" id="3176366">newEnd</span><span class="op" id="3176372">(</span><span class="ident" id="3176373">pos</span>&nbsp;<span class="ident" id="3176377"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3176380">)</span>&nbsp;<span class="op" id="3176382">*</span><span class="ident" id="3176383"><a href="/gostd/text/template/parse/node.go.html#3176306">endNode</a></span>&nbsp;<span class="op" id="3176391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3176394">return</span>&nbsp;<span class="op" id="3176401">&amp;</span><span class="ident" id="3176402"><a href="/gostd/text/template/parse/node.go.html#3176306">endNode</a></span><span class="op" id="3176409">{</span><span class="ident" id="3176410"><a href="/gostd/text/template/parse/node.go.html#3176339">tr</a></span><span class="op" id="3176412">:</span>&nbsp;<span class="ident" id="3176414"><a href="/gostd/text/template/parse/node.go.html#3176357">t</a></span><span class="op" id="3176415">,</span>&nbsp;<span class="ident" id="3176417"><a href="/gostd/text/template/parse/node.go.html#3176324">NodeType</a></span><span class="op" id="3176425">:</span>&nbsp;<span class="ident" id="3176427"><a href="/gostd/text/template/parse/node.go.html#3161830">nodeEnd</a></span><span class="op" id="3176434">,</span>&nbsp;<span class="ident" id="3176436"><a href="/gostd/text/template/parse/node.go.html#3176334">Pos</a></span><span class="op" id="3176439">:</span>&nbsp;<span class="ident" id="3176441"><a href="/gostd/text/template/parse/node.go.html#3176373">pos</a></span><span class="op" id="3176444">}</span><br>
<span class="lineno">680</span><span class="op" id="3176446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3176449">func</span>&nbsp;<span class="op" id="3176454">(</span><span class="ident" id="3176455">e</span>&nbsp;<span class="op" id="3176457">*</span><span class="ident" id="3176458"><a href="/gostd/text/template/parse/node.go.html#3176306">endNode</a></span><span class="op" id="3176465">)</span>&nbsp;<span class="ident" id="3176467">String</span><span class="op" id="3176473">(</span><span class="op" id="3176474">)</span>&nbsp;<span class="builtintype" id="3176476">string</span>&nbsp;<span class="op" id="3176483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3176486">return</span>&nbsp;<span class="string" id="3176493">&#34;{{end}}&#34;</span><br>
<span class="lineno"></span><span class="op" id="3176503">}</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span><span class="keyword" id="3176506">func</span>&nbsp;<span class="op" id="3176511">(</span><span class="ident" id="3176512">e</span>&nbsp;<span class="op" id="3176514">*</span><span class="ident" id="3176515"><a href="/gostd/text/template/parse/node.go.html#3176306">endNode</a></span><span class="op" id="3176522">)</span>&nbsp;<span class="ident" id="3176524">tree</span><span class="op" id="3176528">(</span><span class="op" id="3176529">)</span>&nbsp;<span class="op" id="3176531">*</span><span class="ident" id="3176532"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3176537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3176540">return</span>&nbsp;<span class="ident" id="3176547"><a href="/gostd/text/template/parse/node.go.html#3176512">e</a></span><span class="op" id="3176548">.</span><span class="ident" id="3176549"><a href="/gostd/text/template/parse/node.go.html#3176339">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3176552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">690</span><span class="keyword" id="3176555">func</span>&nbsp;<span class="op" id="3176560">(</span><span class="ident" id="3176561">e</span>&nbsp;<span class="op" id="3176563">*</span><span class="ident" id="3176564"><a href="/gostd/text/template/parse/node.go.html#3176306">endNode</a></span><span class="op" id="3176571">)</span>&nbsp;<span class="ident" id="3176573">Copy</span><span class="op" id="3176577">(</span><span class="op" id="3176578">)</span>&nbsp;<span class="ident" id="3176580"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3176585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3176588">return</span>&nbsp;<span class="ident" id="3176595"><a href="/gostd/text/template/parse/node.go.html#3176561">e</a></span><span class="op" id="3176596">.</span><span class="ident" id="3176597"><a href="/gostd/text/template/parse/node.go.html#3176339">tr</a></span><span class="op" id="3176599">.</span><span class="ident" id="3176600"><a href="/gostd/text/template/parse/node.go.html#3176366">newEnd</a></span><span class="op" id="3176606">(</span><span class="ident" id="3176607"><a href="/gostd/text/template/parse/node.go.html#3176561">e</a></span><span class="op" id="3176608">.</span><span class="ident" id="3176609"><a href="/gostd/text/template/parse/node.go.html#3176334">Pos</a></span><span class="op" id="3176612">)</span><br>
<span class="lineno"></span><span class="op" id="3176614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3176617">//&nbsp;elseNode&nbsp;represents&nbsp;an&nbsp;{{else}}&nbsp;action.&nbsp;Does&nbsp;not&nbsp;appear&nbsp;in&nbsp;the&nbsp;final&nbsp;tree.</span><br>
<span class="lineno">695</span><span class="keyword" id="3176695">type</span>&nbsp;<span class="ident" id="3176700">elseNode</span>&nbsp;<span class="keyword" id="3176709">struct</span>&nbsp;<span class="op" id="3176716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3176719"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3176729"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3176734">tr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3176739">*</span><span class="ident" id="3176740"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3176746">Line</span>&nbsp;<span class="builtintype" id="3176751">int</span>&nbsp;<span class="comment" id="3176755">//&nbsp;The&nbsp;line&nbsp;number&nbsp;in&nbsp;the&nbsp;input&nbsp;(deprecated;&nbsp;kept&nbsp;for&nbsp;compatibility)</span><br>
<span class="lineno">700</span><span class="op" id="3176824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3176827">func</span>&nbsp;<span class="op" id="3176832">(</span><span class="ident" id="3176833">t</span>&nbsp;<span class="op" id="3176835">*</span><span class="ident" id="3176836"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3176840">)</span>&nbsp;<span class="ident" id="3176842">newElse</span><span class="op" id="3176849">(</span><span class="ident" id="3176850">pos</span>&nbsp;<span class="ident" id="3176854"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3176857">,</span>&nbsp;<span class="ident" id="3176859">line</span>&nbsp;<span class="builtintype" id="3176864">int</span><span class="op" id="3176867">)</span>&nbsp;<span class="op" id="3176869">*</span><span class="ident" id="3176870"><a href="/gostd/text/template/parse/node.go.html#3176700">elseNode</a></span>&nbsp;<span class="op" id="3176879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3176882">return</span>&nbsp;<span class="op" id="3176889">&amp;</span><span class="ident" id="3176890"><a href="/gostd/text/template/parse/node.go.html#3176700">elseNode</a></span><span class="op" id="3176898">{</span><span class="ident" id="3176899"><a href="/gostd/text/template/parse/node.go.html#3176734">tr</a></span><span class="op" id="3176901">:</span>&nbsp;<span class="ident" id="3176903"><a href="/gostd/text/template/parse/node.go.html#3176833">t</a></span><span class="op" id="3176904">,</span>&nbsp;<span class="ident" id="3176906"><a href="/gostd/text/template/parse/node.go.html#3176719">NodeType</a></span><span class="op" id="3176914">:</span>&nbsp;<span class="ident" id="3176916"><a href="/gostd/text/template/parse/node.go.html#3161760">nodeElse</a></span><span class="op" id="3176924">,</span>&nbsp;<span class="ident" id="3176926"><a href="/gostd/text/template/parse/node.go.html#3176729">Pos</a></span><span class="op" id="3176929">:</span>&nbsp;<span class="ident" id="3176931"><a href="/gostd/text/template/parse/node.go.html#3176850">pos</a></span><span class="op" id="3176934">,</span>&nbsp;<span class="ident" id="3176936"><a href="/gostd/text/template/parse/node.go.html#3176746">Line</a></span><span class="op" id="3176940">:</span>&nbsp;<span class="ident" id="3176942"><a href="/gostd/text/template/parse/node.go.html#3176859">line</a></span><span class="op" id="3176946">}</span><br>
<span class="lineno"></span><span class="op" id="3176948">}</span><br>
<span class="lineno">705</span><br>
<span class="lineno"></span><span class="keyword" id="3176951">func</span>&nbsp;<span class="op" id="3176956">(</span><span class="ident" id="3176957">e</span>&nbsp;<span class="op" id="3176959">*</span><span class="ident" id="3176960"><a href="/gostd/text/template/parse/node.go.html#3176700">elseNode</a></span><span class="op" id="3176968">)</span>&nbsp;<span class="ident" id="3176970">Type</span><span class="op" id="3176974">(</span><span class="op" id="3176975">)</span>&nbsp;<span class="ident" id="3176977"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span>&nbsp;<span class="op" id="3176986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3176989">return</span>&nbsp;<span class="ident" id="3176996"><a href="/gostd/text/template/parse/node.go.html#3161760">nodeElse</a></span><br>
<span class="lineno"></span><span class="op" id="3177005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">710</span><span class="keyword" id="3177008">func</span>&nbsp;<span class="op" id="3177013">(</span><span class="ident" id="3177014">e</span>&nbsp;<span class="op" id="3177016">*</span><span class="ident" id="3177017"><a href="/gostd/text/template/parse/node.go.html#3176700">elseNode</a></span><span class="op" id="3177025">)</span>&nbsp;<span class="ident" id="3177027">String</span><span class="op" id="3177033">(</span><span class="op" id="3177034">)</span>&nbsp;<span class="builtintype" id="3177036">string</span>&nbsp;<span class="op" id="3177043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177046">return</span>&nbsp;<span class="string" id="3177053">&#34;{{else}}&#34;</span><br>
<span class="lineno"></span><span class="op" id="3177064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3177067">func</span>&nbsp;<span class="op" id="3177072">(</span><span class="ident" id="3177073">e</span>&nbsp;<span class="op" id="3177075">*</span><span class="ident" id="3177076"><a href="/gostd/text/template/parse/node.go.html#3176700">elseNode</a></span><span class="op" id="3177084">)</span>&nbsp;<span class="ident" id="3177086">tree</span><span class="op" id="3177090">(</span><span class="op" id="3177091">)</span>&nbsp;<span class="op" id="3177093">*</span><span class="ident" id="3177094"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3177099">{</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177102">return</span>&nbsp;<span class="ident" id="3177109"><a href="/gostd/text/template/parse/node.go.html#3177073">e</a></span><span class="op" id="3177110">.</span><span class="ident" id="3177111"><a href="/gostd/text/template/parse/node.go.html#3176734">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3177114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3177117">func</span>&nbsp;<span class="op" id="3177122">(</span><span class="ident" id="3177123">e</span>&nbsp;<span class="op" id="3177125">*</span><span class="ident" id="3177126"><a href="/gostd/text/template/parse/node.go.html#3176700">elseNode</a></span><span class="op" id="3177134">)</span>&nbsp;<span class="ident" id="3177136">Copy</span><span class="op" id="3177140">(</span><span class="op" id="3177141">)</span>&nbsp;<span class="ident" id="3177143"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3177148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177151">return</span>&nbsp;<span class="ident" id="3177158"><a href="/gostd/text/template/parse/node.go.html#3177123">e</a></span><span class="op" id="3177159">.</span><span class="ident" id="3177160"><a href="/gostd/text/template/parse/node.go.html#3176734">tr</a></span><span class="op" id="3177162">.</span><span class="ident" id="3177163"><a href="/gostd/text/template/parse/node.go.html#3176842">newElse</a></span><span class="op" id="3177170">(</span><span class="ident" id="3177171"><a href="/gostd/text/template/parse/node.go.html#3177123">e</a></span><span class="op" id="3177172">.</span><span class="ident" id="3177173"><a href="/gostd/text/template/parse/node.go.html#3176729">Pos</a></span><span class="op" id="3177176">,</span>&nbsp;<span class="ident" id="3177178"><a href="/gostd/text/template/parse/node.go.html#3177123">e</a></span><span class="op" id="3177179">.</span><span class="ident" id="3177180"><a href="/gostd/text/template/parse/node.go.html#3176746">Line</a></span><span class="op" id="3177184">)</span><br>
<span class="lineno">720</span><span class="op" id="3177186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3177189">//&nbsp;BranchNode&nbsp;is&nbsp;the&nbsp;common&nbsp;representation&nbsp;of&nbsp;if,&nbsp;range,&nbsp;and&nbsp;with.</span><br>
<span class="lineno"></span><span class="keyword" id="3177256">type</span>&nbsp;<span class="ident" id="3177261">BranchNode</span>&nbsp;<span class="keyword" id="3177272">struct</span>&nbsp;<span class="op" id="3177279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177282"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177292"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177297">tr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3177306">*</span><span class="ident" id="3177307"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177313">Line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3177322">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3177332">//&nbsp;The&nbsp;line&nbsp;number&nbsp;in&nbsp;the&nbsp;input&nbsp;(deprecated;&nbsp;kept&nbsp;for&nbsp;compatibility)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177402">Pipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3177411">*</span><span class="ident" id="3177412"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span>&nbsp;<span class="comment" id="3177421">//&nbsp;The&nbsp;pipeline&nbsp;to&nbsp;be&nbsp;evaluated.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177455">List</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3177464">*</span><span class="ident" id="3177465"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span>&nbsp;<span class="comment" id="3177474">//&nbsp;What&nbsp;to&nbsp;execute&nbsp;if&nbsp;the&nbsp;value&nbsp;is&nbsp;non-empty.</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177521">ElseList</span>&nbsp;<span class="op" id="3177530">*</span><span class="ident" id="3177531"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span>&nbsp;<span class="comment" id="3177540">//&nbsp;What&nbsp;to&nbsp;execute&nbsp;if&nbsp;the&nbsp;value&nbsp;is&nbsp;empty&nbsp;(nil&nbsp;if&nbsp;absent).</span><br>
<span class="lineno"></span><span class="op" id="3177598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3177601">func</span>&nbsp;<span class="op" id="3177606">(</span><span class="ident" id="3177607">b</span>&nbsp;<span class="op" id="3177609">*</span><span class="ident" id="3177610"><a href="/gostd/text/template/parse/node.go.html#3177261">BranchNode</a></span><span class="op" id="3177620">)</span>&nbsp;<span class="ident" id="3177622">String</span><span class="op" id="3177628">(</span><span class="op" id="3177629">)</span>&nbsp;<span class="builtintype" id="3177631">string</span>&nbsp;<span class="op" id="3177638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177641">name</span>&nbsp;<span class="op" id="3177646">:=</span>&nbsp;<span class="string" id="3177649">&#34;&#34;</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177653">switch</span>&nbsp;<span class="ident" id="3177660"><a href="/gostd/text/template/parse/node.go.html#3177607">b</a></span><span class="op" id="3177661">.</span><span class="ident" id="3177662"><a href="/gostd/text/template/parse/node.go.html#3177282">NodeType</a></span>&nbsp;<span class="op" id="3177671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177674">case</span>&nbsp;<span class="ident" id="3177679"><a href="/gostd/text/template/parse/node.go.html#3162032">NodeIf</a></span><span class="op" id="3177685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177689"><a href="/gostd/text/template/parse/node.go.html#3177641">name</a></span>&nbsp;<span class="op" id="3177694">=</span>&nbsp;<span class="string" id="3177696">&#34;if&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177702">case</span>&nbsp;<span class="ident" id="3177707"><a href="/gostd/text/template/parse/node.go.html#3162309">NodeRange</a></span><span class="op" id="3177716">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177720"><a href="/gostd/text/template/parse/node.go.html#3177641">name</a></span>&nbsp;<span class="op" id="3177725">=</span>&nbsp;<span class="string" id="3177727">&#34;range&#34;</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177736">case</span>&nbsp;<span class="ident" id="3177741"><a href="/gostd/text/template/parse/node.go.html#3162528">NodeWith</a></span><span class="op" id="3177749">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3177753"><a href="/gostd/text/template/parse/node.go.html#3177641">name</a></span>&nbsp;<span class="op" id="3177758">=</span>&nbsp;<span class="string" id="3177760">&#34;with&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177768">default</span><span class="op" id="3177775">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3177779">panic</span><span class="op" id="3177784">(</span><span class="string" id="3177785">&#34;unknown&nbsp;branch&nbsp;type&#34;</span><span class="op" id="3177806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3177809">}</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177812">if</span>&nbsp;<span class="ident" id="3177815"><a href="/gostd/text/template/parse/node.go.html#3177607">b</a></span><span class="op" id="3177816">.</span><span class="ident" id="3177817"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span>&nbsp;<span class="op" id="3177826">!=</span>&nbsp;<span class="builtintype" id="3177829">nil</span>&nbsp;<span class="op" id="3177833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177837">return</span>&nbsp;<span class="ident" id="3177844"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3177847">.</span><span class="ident" id="3177848"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3177855">(</span><span class="string" id="3177856">&#34;{{%s&nbsp;%s}}%s{{else}}%s{{end}}&#34;</span><span class="op" id="3177886">,</span>&nbsp;<span class="ident" id="3177888"><a href="/gostd/text/template/parse/node.go.html#3177641">name</a></span><span class="op" id="3177892">,</span>&nbsp;<span class="ident" id="3177894"><a href="/gostd/text/template/parse/node.go.html#3177607">b</a></span><span class="op" id="3177895">.</span><span class="ident" id="3177896"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3177900">,</span>&nbsp;<span class="ident" id="3177902"><a href="/gostd/text/template/parse/node.go.html#3177607">b</a></span><span class="op" id="3177903">.</span><span class="ident" id="3177904"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3177908">,</span>&nbsp;<span class="ident" id="3177910"><a href="/gostd/text/template/parse/node.go.html#3177607">b</a></span><span class="op" id="3177911">.</span><span class="ident" id="3177912"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3177920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3177923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3177926">return</span>&nbsp;<span class="ident" id="3177933"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3177936">.</span><span class="ident" id="3177937"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3177944">(</span><span class="string" id="3177945">&#34;{{%s&nbsp;%s}}%s{{end}}&#34;</span><span class="op" id="3177965">,</span>&nbsp;<span class="ident" id="3177967"><a href="/gostd/text/template/parse/node.go.html#3177641">name</a></span><span class="op" id="3177971">,</span>&nbsp;<span class="ident" id="3177973"><a href="/gostd/text/template/parse/node.go.html#3177607">b</a></span><span class="op" id="3177974">.</span><span class="ident" id="3177975"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3177979">,</span>&nbsp;<span class="ident" id="3177981"><a href="/gostd/text/template/parse/node.go.html#3177607">b</a></span><span class="op" id="3177982">.</span><span class="ident" id="3177983"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3177987">)</span><br>
<span class="lineno"></span><span class="op" id="3177989">}</span><br>
<span class="lineno">750</span><br>
<span class="lineno"></span><span class="keyword" id="3177992">func</span>&nbsp;<span class="op" id="3177997">(</span><span class="ident" id="3177998">b</span>&nbsp;<span class="op" id="3178000">*</span><span class="ident" id="3178001"><a href="/gostd/text/template/parse/node.go.html#3177261">BranchNode</a></span><span class="op" id="3178011">)</span>&nbsp;<span class="ident" id="3178013">tree</span><span class="op" id="3178017">(</span><span class="op" id="3178018">)</span>&nbsp;<span class="op" id="3178020">*</span><span class="ident" id="3178021"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3178026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178029">return</span>&nbsp;<span class="ident" id="3178036"><a href="/gostd/text/template/parse/node.go.html#3177998">b</a></span><span class="op" id="3178037">.</span><span class="ident" id="3178038"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><br>
<span class="lineno"></span><span class="op" id="3178041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="keyword" id="3178044">func</span>&nbsp;<span class="op" id="3178049">(</span><span class="ident" id="3178050">b</span>&nbsp;<span class="op" id="3178052">*</span><span class="ident" id="3178053"><a href="/gostd/text/template/parse/node.go.html#3177261">BranchNode</a></span><span class="op" id="3178063">)</span>&nbsp;<span class="ident" id="3178065">Copy</span><span class="op" id="3178069">(</span><span class="op" id="3178070">)</span>&nbsp;<span class="ident" id="3178072"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3178077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178080">switch</span>&nbsp;<span class="ident" id="3178087"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178088">.</span><span class="ident" id="3178089"><a href="/gostd/text/template/parse/node.go.html#3177282">NodeType</a></span>&nbsp;<span class="op" id="3178098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178101">case</span>&nbsp;<span class="ident" id="3178106"><a href="/gostd/text/template/parse/node.go.html#3162032">NodeIf</a></span><span class="op" id="3178112">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178116">return</span>&nbsp;<span class="ident" id="3178123"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178124">.</span><span class="ident" id="3178125"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><span class="op" id="3178127">.</span><span class="ident" id="3178128"><a href="/gostd/text/template/parse/node.go.html#3178495">newIf</a></span><span class="op" id="3178133">(</span><span class="ident" id="3178134"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178135">.</span><span class="ident" id="3178136"><a href="/gostd/text/template/parse/node.go.html#3177292">Pos</a></span><span class="op" id="3178139">,</span>&nbsp;<span class="ident" id="3178141"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178142">.</span><span class="ident" id="3178143"><a href="/gostd/text/template/parse/node.go.html#3177313">Line</a></span><span class="op" id="3178147">,</span>&nbsp;<span class="ident" id="3178149"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178150">.</span><span class="ident" id="3178151"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3178155">,</span>&nbsp;<span class="ident" id="3178157"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178158">.</span><span class="ident" id="3178159"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3178163">,</span>&nbsp;<span class="ident" id="3178165"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178166">.</span><span class="ident" id="3178167"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3178175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178178">case</span>&nbsp;<span class="ident" id="3178183"><a href="/gostd/text/template/parse/node.go.html#3162309">NodeRange</a></span><span class="op" id="3178192">:</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178196">return</span>&nbsp;<span class="ident" id="3178203"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178204">.</span><span class="ident" id="3178205"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><span class="op" id="3178207">.</span><span class="ident" id="3178208"><a href="/gostd/text/template/parse/node.go.html#3178938">newRange</a></span><span class="op" id="3178216">(</span><span class="ident" id="3178217"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178218">.</span><span class="ident" id="3178219"><a href="/gostd/text/template/parse/node.go.html#3177292">Pos</a></span><span class="op" id="3178222">,</span>&nbsp;<span class="ident" id="3178224"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178225">.</span><span class="ident" id="3178226"><a href="/gostd/text/template/parse/node.go.html#3177313">Line</a></span><span class="op" id="3178230">,</span>&nbsp;<span class="ident" id="3178232"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178233">.</span><span class="ident" id="3178234"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3178238">,</span>&nbsp;<span class="ident" id="3178240"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178241">.</span><span class="ident" id="3178242"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3178246">,</span>&nbsp;<span class="ident" id="3178248"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178249">.</span><span class="ident" id="3178250"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3178258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178261">case</span>&nbsp;<span class="ident" id="3178266"><a href="/gostd/text/template/parse/node.go.html#3162528">NodeWith</a></span><span class="op" id="3178274">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178278">return</span>&nbsp;<span class="ident" id="3178285"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178286">.</span><span class="ident" id="3178287"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><span class="op" id="3178289">.</span><span class="ident" id="3178290"><a href="/gostd/text/template/parse/node.go.html#3179396">newWith</a></span><span class="op" id="3178297">(</span><span class="ident" id="3178298"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178299">.</span><span class="ident" id="3178300"><a href="/gostd/text/template/parse/node.go.html#3177292">Pos</a></span><span class="op" id="3178303">,</span>&nbsp;<span class="ident" id="3178305"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178306">.</span><span class="ident" id="3178307"><a href="/gostd/text/template/parse/node.go.html#3177313">Line</a></span><span class="op" id="3178311">,</span>&nbsp;<span class="ident" id="3178313"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178314">.</span><span class="ident" id="3178315"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3178319">,</span>&nbsp;<span class="ident" id="3178321"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178322">.</span><span class="ident" id="3178323"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3178327">,</span>&nbsp;<span class="ident" id="3178329"><a href="/gostd/text/template/parse/node.go.html#3178050">b</a></span><span class="op" id="3178330">.</span><span class="ident" id="3178331"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3178339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178342">default</span><span class="op" id="3178349">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3178353">panic</span><span class="op" id="3178358">(</span><span class="string" id="3178359">&#34;unknown&nbsp;branch&nbsp;type&#34;</span><span class="op" id="3178380">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3178383">}</span><br>
<span class="lineno"></span><span class="op" id="3178385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3178388">//&nbsp;IfNode&nbsp;represents&nbsp;an&nbsp;{{if}}&nbsp;action&nbsp;and&nbsp;its&nbsp;commands.</span><br>
<span class="lineno"></span><span class="keyword" id="3178444">type</span>&nbsp;<span class="ident" id="3178449">IfNode</span>&nbsp;<span class="keyword" id="3178456">struct</span>&nbsp;<span class="op" id="3178463">{</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3178466"><a href="/gostd/text/template/parse/node.go.html#3177261">BranchNode</a></span><br>
<span class="lineno"></span><span class="op" id="3178477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3178480">func</span>&nbsp;<span class="op" id="3178485">(</span><span class="ident" id="3178486">t</span>&nbsp;<span class="op" id="3178488">*</span><span class="ident" id="3178489"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3178493">)</span>&nbsp;<span class="ident" id="3178495">newIf</span><span class="op" id="3178500">(</span><span class="ident" id="3178501">pos</span>&nbsp;<span class="ident" id="3178505"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3178508">,</span>&nbsp;<span class="ident" id="3178510">line</span>&nbsp;<span class="builtintype" id="3178515">int</span><span class="op" id="3178518">,</span>&nbsp;<span class="ident" id="3178520">pipe</span>&nbsp;<span class="op" id="3178525">*</span><span class="ident" id="3178526"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3178534">,</span>&nbsp;<span class="ident" id="3178536">list</span><span class="op" id="3178540">,</span>&nbsp;<span class="ident" id="3178542">elseList</span>&nbsp;<span class="op" id="3178551">*</span><span class="ident" id="3178552"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span><span class="op" id="3178560">)</span>&nbsp;<span class="op" id="3178562">*</span><span class="ident" id="3178563"><a href="/gostd/text/template/parse/node.go.html#3178449">IfNode</a></span>&nbsp;<span class="op" id="3178570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178573">return</span>&nbsp;<span class="op" id="3178580">&amp;</span><span class="ident" id="3178581"><a href="/gostd/text/template/parse/node.go.html#3178449">IfNode</a></span><span class="op" id="3178587">{</span><span class="ident" id="3178588"><a href="/gostd/text/template/parse/node.go.html#3177261">BranchNode</a></span><span class="op" id="3178598">{</span><span class="ident" id="3178599"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><span class="op" id="3178601">:</span>&nbsp;<span class="ident" id="3178603"><a href="/gostd/text/template/parse/node.go.html#3178486">t</a></span><span class="op" id="3178604">,</span>&nbsp;<span class="ident" id="3178606"><a href="/gostd/text/template/parse/node.go.html#3177282">NodeType</a></span><span class="op" id="3178614">:</span>&nbsp;<span class="ident" id="3178616"><a href="/gostd/text/template/parse/node.go.html#3162032">NodeIf</a></span><span class="op" id="3178622">,</span>&nbsp;<span class="ident" id="3178624"><a href="/gostd/text/template/parse/node.go.html#3177292">Pos</a></span><span class="op" id="3178627">:</span>&nbsp;<span class="ident" id="3178629"><a href="/gostd/text/template/parse/node.go.html#3178501">pos</a></span><span class="op" id="3178632">,</span>&nbsp;<span class="ident" id="3178634"><a href="/gostd/text/template/parse/node.go.html#3177313">Line</a></span><span class="op" id="3178638">:</span>&nbsp;<span class="ident" id="3178640"><a href="/gostd/text/template/parse/node.go.html#3178510">line</a></span><span class="op" id="3178644">,</span>&nbsp;<span class="ident" id="3178646"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3178650">:</span>&nbsp;<span class="ident" id="3178652"><a href="/gostd/text/template/parse/node.go.html#3178520">pipe</a></span><span class="op" id="3178656">,</span>&nbsp;<span class="ident" id="3178658"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3178662">:</span>&nbsp;<span class="ident" id="3178664"><a href="/gostd/text/template/parse/node.go.html#3178536">list</a></span><span class="op" id="3178668">,</span>&nbsp;<span class="ident" id="3178670"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3178678">:</span>&nbsp;<span class="ident" id="3178680"><a href="/gostd/text/template/parse/node.go.html#3178542">elseList</a></span><span class="op" id="3178688">}</span><span class="op" id="3178689">}</span><br>
<span class="lineno">775</span><span class="op" id="3178691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3178694">func</span>&nbsp;<span class="op" id="3178699">(</span><span class="ident" id="3178700">i</span>&nbsp;<span class="op" id="3178702">*</span><span class="ident" id="3178703"><a href="/gostd/text/template/parse/node.go.html#3178449">IfNode</a></span><span class="op" id="3178709">)</span>&nbsp;<span class="ident" id="3178711">Copy</span><span class="op" id="3178715">(</span><span class="op" id="3178716">)</span>&nbsp;<span class="ident" id="3178718"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3178723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3178726">return</span>&nbsp;<span class="ident" id="3178733"><a href="/gostd/text/template/parse/node.go.html#3178700">i</a></span><span class="op" id="3178734">.</span><span class="ident" id="3178735"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><span class="op" id="3178737">.</span><span class="ident" id="3178738"><a href="/gostd/text/template/parse/node.go.html#3178495">newIf</a></span><span class="op" id="3178743">(</span><span class="ident" id="3178744"><a href="/gostd/text/template/parse/node.go.html#3178700">i</a></span><span class="op" id="3178745">.</span><span class="ident" id="3178746"><a href="/gostd/text/template/parse/node.go.html#3177292">Pos</a></span><span class="op" id="3178749">,</span>&nbsp;<span class="ident" id="3178751"><a href="/gostd/text/template/parse/node.go.html#3178700">i</a></span><span class="op" id="3178752">.</span><span class="ident" id="3178753"><a href="/gostd/text/template/parse/node.go.html#3177313">Line</a></span><span class="op" id="3178757">,</span>&nbsp;<span class="ident" id="3178759"><a href="/gostd/text/template/parse/node.go.html#3178700">i</a></span><span class="op" id="3178760">.</span><span class="ident" id="3178761"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3178765">.</span><span class="ident" id="3178766"><a href="/gostd/text/template/parse/node.go.html#3164743">CopyPipe</a></span><span class="op" id="3178774">(</span><span class="op" id="3178775">)</span><span class="op" id="3178776">,</span>&nbsp;<span class="ident" id="3178778"><a href="/gostd/text/template/parse/node.go.html#3178700">i</a></span><span class="op" id="3178779">.</span><span class="ident" id="3178780"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3178784">.</span><span class="ident" id="3178785"><a href="/gostd/text/template/parse/node.go.html#3163111">CopyList</a></span><span class="op" id="3178793">(</span><span class="op" id="3178794">)</span><span class="op" id="3178795">,</span>&nbsp;<span class="ident" id="3178797"><a href="/gostd/text/template/parse/node.go.html#3178700">i</a></span><span class="op" id="3178798">.</span><span class="ident" id="3178799"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3178807">.</span><span class="ident" id="3178808"><a href="/gostd/text/template/parse/node.go.html#3163111">CopyList</a></span><span class="op" id="3178816">(</span><span class="op" id="3178817">)</span><span class="op" id="3178818">)</span><br>
<span class="lineno"></span><span class="op" id="3178820">}</span><br>
<span class="lineno">780</span><br>
<span class="lineno"></span><span class="comment" id="3178823">//&nbsp;RangeNode&nbsp;represents&nbsp;a&nbsp;{{range}}&nbsp;action&nbsp;and&nbsp;its&nbsp;commands.</span><br>
<span class="lineno"></span><span class="keyword" id="3178884">type</span>&nbsp;<span class="ident" id="3178889">RangeNode</span>&nbsp;<span class="keyword" id="3178899">struct</span>&nbsp;<span class="op" id="3178906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3178909"><a href="/gostd/text/template/parse/node.go.html#3177261">BranchNode</a></span><br>
<span class="lineno"></span><span class="op" id="3178920">}</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span><span class="keyword" id="3178923">func</span>&nbsp;<span class="op" id="3178928">(</span><span class="ident" id="3178929">t</span>&nbsp;<span class="op" id="3178931">*</span><span class="ident" id="3178932"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3178936">)</span>&nbsp;<span class="ident" id="3178938">newRange</span><span class="op" id="3178946">(</span><span class="ident" id="3178947">pos</span>&nbsp;<span class="ident" id="3178951"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3178954">,</span>&nbsp;<span class="ident" id="3178956">line</span>&nbsp;<span class="builtintype" id="3178961">int</span><span class="op" id="3178964">,</span>&nbsp;<span class="ident" id="3178966">pipe</span>&nbsp;<span class="op" id="3178971">*</span><span class="ident" id="3178972"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3178980">,</span>&nbsp;<span class="ident" id="3178982">list</span><span class="op" id="3178986">,</span>&nbsp;<span class="ident" id="3178988">elseList</span>&nbsp;<span class="op" id="3178997">*</span><span class="ident" id="3178998"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span><span class="op" id="3179006">)</span>&nbsp;<span class="op" id="3179008">*</span><span class="ident" id="3179009"><a href="/gostd/text/template/parse/node.go.html#3178889">RangeNode</a></span>&nbsp;<span class="op" id="3179019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3179022">return</span>&nbsp;<span class="op" id="3179029">&amp;</span><span class="ident" id="3179030"><a href="/gostd/text/template/parse/node.go.html#3178889">RangeNode</a></span><span class="op" id="3179039">{</span><span class="ident" id="3179040"><a href="/gostd/text/template/parse/node.go.html#3177261">BranchNode</a></span><span class="op" id="3179050">{</span><span class="ident" id="3179051"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><span class="op" id="3179053">:</span>&nbsp;<span class="ident" id="3179055"><a href="/gostd/text/template/parse/node.go.html#3178929">t</a></span><span class="op" id="3179056">,</span>&nbsp;<span class="ident" id="3179058"><a href="/gostd/text/template/parse/node.go.html#3177282">NodeType</a></span><span class="op" id="3179066">:</span>&nbsp;<span class="ident" id="3179068"><a href="/gostd/text/template/parse/node.go.html#3162309">NodeRange</a></span><span class="op" id="3179077">,</span>&nbsp;<span class="ident" id="3179079"><a href="/gostd/text/template/parse/node.go.html#3177292">Pos</a></span><span class="op" id="3179082">:</span>&nbsp;<span class="ident" id="3179084"><a href="/gostd/text/template/parse/node.go.html#3178947">pos</a></span><span class="op" id="3179087">,</span>&nbsp;<span class="ident" id="3179089"><a href="/gostd/text/template/parse/node.go.html#3177313">Line</a></span><span class="op" id="3179093">:</span>&nbsp;<span class="ident" id="3179095"><a href="/gostd/text/template/parse/node.go.html#3178956">line</a></span><span class="op" id="3179099">,</span>&nbsp;<span class="ident" id="3179101"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3179105">:</span>&nbsp;<span class="ident" id="3179107"><a href="/gostd/text/template/parse/node.go.html#3178966">pipe</a></span><span class="op" id="3179111">,</span>&nbsp;<span class="ident" id="3179113"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3179117">:</span>&nbsp;<span class="ident" id="3179119"><a href="/gostd/text/template/parse/node.go.html#3178982">list</a></span><span class="op" id="3179123">,</span>&nbsp;<span class="ident" id="3179125"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3179133">:</span>&nbsp;<span class="ident" id="3179135"><a href="/gostd/text/template/parse/node.go.html#3178988">elseList</a></span><span class="op" id="3179143">}</span><span class="op" id="3179144">}</span><br>
<span class="lineno"></span><span class="op" id="3179146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span><span class="keyword" id="3179149">func</span>&nbsp;<span class="op" id="3179154">(</span><span class="ident" id="3179155">r</span>&nbsp;<span class="op" id="3179157">*</span><span class="ident" id="3179158"><a href="/gostd/text/template/parse/node.go.html#3178889">RangeNode</a></span><span class="op" id="3179167">)</span>&nbsp;<span class="ident" id="3179169">Copy</span><span class="op" id="3179173">(</span><span class="op" id="3179174">)</span>&nbsp;<span class="ident" id="3179176"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3179181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3179184">return</span>&nbsp;<span class="ident" id="3179191"><a href="/gostd/text/template/parse/node.go.html#3179155">r</a></span><span class="op" id="3179192">.</span><span class="ident" id="3179193"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><span class="op" id="3179195">.</span><span class="ident" id="3179196"><a href="/gostd/text/template/parse/node.go.html#3178938">newRange</a></span><span class="op" id="3179204">(</span><span class="ident" id="3179205"><a href="/gostd/text/template/parse/node.go.html#3179155">r</a></span><span class="op" id="3179206">.</span><span class="ident" id="3179207"><a href="/gostd/text/template/parse/node.go.html#3177292">Pos</a></span><span class="op" id="3179210">,</span>&nbsp;<span class="ident" id="3179212"><a href="/gostd/text/template/parse/node.go.html#3179155">r</a></span><span class="op" id="3179213">.</span><span class="ident" id="3179214"><a href="/gostd/text/template/parse/node.go.html#3177313">Line</a></span><span class="op" id="3179218">,</span>&nbsp;<span class="ident" id="3179220"><a href="/gostd/text/template/parse/node.go.html#3179155">r</a></span><span class="op" id="3179221">.</span><span class="ident" id="3179222"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3179226">.</span><span class="ident" id="3179227"><a href="/gostd/text/template/parse/node.go.html#3164743">CopyPipe</a></span><span class="op" id="3179235">(</span><span class="op" id="3179236">)</span><span class="op" id="3179237">,</span>&nbsp;<span class="ident" id="3179239"><a href="/gostd/text/template/parse/node.go.html#3179155">r</a></span><span class="op" id="3179240">.</span><span class="ident" id="3179241"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3179245">.</span><span class="ident" id="3179246"><a href="/gostd/text/template/parse/node.go.html#3163111">CopyList</a></span><span class="op" id="3179254">(</span><span class="op" id="3179255">)</span><span class="op" id="3179256">,</span>&nbsp;<span class="ident" id="3179258"><a href="/gostd/text/template/parse/node.go.html#3179155">r</a></span><span class="op" id="3179259">.</span><span class="ident" id="3179260"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3179268">.</span><span class="ident" id="3179269"><a href="/gostd/text/template/parse/node.go.html#3163111">CopyList</a></span><span class="op" id="3179277">(</span><span class="op" id="3179278">)</span><span class="op" id="3179279">)</span><br>
<span class="lineno"></span><span class="op" id="3179281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3179284">//&nbsp;WithNode&nbsp;represents&nbsp;a&nbsp;{{with}}&nbsp;action&nbsp;and&nbsp;its&nbsp;commands.</span><br>
<span class="lineno">795</span><span class="keyword" id="3179343">type</span>&nbsp;<span class="ident" id="3179348">WithNode</span>&nbsp;<span class="keyword" id="3179357">struct</span>&nbsp;<span class="op" id="3179364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3179367"><a href="/gostd/text/template/parse/node.go.html#3177261">BranchNode</a></span><br>
<span class="lineno"></span><span class="op" id="3179378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3179381">func</span>&nbsp;<span class="op" id="3179386">(</span><span class="ident" id="3179387">t</span>&nbsp;<span class="op" id="3179389">*</span><span class="ident" id="3179390"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3179394">)</span>&nbsp;<span class="ident" id="3179396">newWith</span><span class="op" id="3179403">(</span><span class="ident" id="3179404">pos</span>&nbsp;<span class="ident" id="3179408"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3179411">,</span>&nbsp;<span class="ident" id="3179413">line</span>&nbsp;<span class="builtintype" id="3179418">int</span><span class="op" id="3179421">,</span>&nbsp;<span class="ident" id="3179423">pipe</span>&nbsp;<span class="op" id="3179428">*</span><span class="ident" id="3179429"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3179437">,</span>&nbsp;<span class="ident" id="3179439">list</span><span class="op" id="3179443">,</span>&nbsp;<span class="ident" id="3179445">elseList</span>&nbsp;<span class="op" id="3179454">*</span><span class="ident" id="3179455"><a href="/gostd/text/template/parse/node.go.html#3162635">ListNode</a></span><span class="op" id="3179463">)</span>&nbsp;<span class="op" id="3179465">*</span><span class="ident" id="3179466"><a href="/gostd/text/template/parse/node.go.html#3179348">WithNode</a></span>&nbsp;<span class="op" id="3179475">{</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3179478">return</span>&nbsp;<span class="op" id="3179485">&amp;</span><span class="ident" id="3179486"><a href="/gostd/text/template/parse/node.go.html#3179348">WithNode</a></span><span class="op" id="3179494">{</span><span class="ident" id="3179495"><a href="/gostd/text/template/parse/node.go.html#3177261">BranchNode</a></span><span class="op" id="3179505">{</span><span class="ident" id="3179506"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><span class="op" id="3179508">:</span>&nbsp;<span class="ident" id="3179510"><a href="/gostd/text/template/parse/node.go.html#3179387">t</a></span><span class="op" id="3179511">,</span>&nbsp;<span class="ident" id="3179513"><a href="/gostd/text/template/parse/node.go.html#3177282">NodeType</a></span><span class="op" id="3179521">:</span>&nbsp;<span class="ident" id="3179523"><a href="/gostd/text/template/parse/node.go.html#3162528">NodeWith</a></span><span class="op" id="3179531">,</span>&nbsp;<span class="ident" id="3179533"><a href="/gostd/text/template/parse/node.go.html#3177292">Pos</a></span><span class="op" id="3179536">:</span>&nbsp;<span class="ident" id="3179538"><a href="/gostd/text/template/parse/node.go.html#3179404">pos</a></span><span class="op" id="3179541">,</span>&nbsp;<span class="ident" id="3179543"><a href="/gostd/text/template/parse/node.go.html#3177313">Line</a></span><span class="op" id="3179547">:</span>&nbsp;<span class="ident" id="3179549"><a href="/gostd/text/template/parse/node.go.html#3179413">line</a></span><span class="op" id="3179553">,</span>&nbsp;<span class="ident" id="3179555"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3179559">:</span>&nbsp;<span class="ident" id="3179561"><a href="/gostd/text/template/parse/node.go.html#3179423">pipe</a></span><span class="op" id="3179565">,</span>&nbsp;<span class="ident" id="3179567"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3179571">:</span>&nbsp;<span class="ident" id="3179573"><a href="/gostd/text/template/parse/node.go.html#3179439">list</a></span><span class="op" id="3179577">,</span>&nbsp;<span class="ident" id="3179579"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3179587">:</span>&nbsp;<span class="ident" id="3179589"><a href="/gostd/text/template/parse/node.go.html#3179445">elseList</a></span><span class="op" id="3179597">}</span><span class="op" id="3179598">}</span><br>
<span class="lineno"></span><span class="op" id="3179600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3179603">func</span>&nbsp;<span class="op" id="3179608">(</span><span class="ident" id="3179609">w</span>&nbsp;<span class="op" id="3179611">*</span><span class="ident" id="3179612"><a href="/gostd/text/template/parse/node.go.html#3179348">WithNode</a></span><span class="op" id="3179620">)</span>&nbsp;<span class="ident" id="3179622">Copy</span><span class="op" id="3179626">(</span><span class="op" id="3179627">)</span>&nbsp;<span class="ident" id="3179629"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3179634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3179637">return</span>&nbsp;<span class="ident" id="3179644"><a href="/gostd/text/template/parse/node.go.html#3179609">w</a></span><span class="op" id="3179645">.</span><span class="ident" id="3179646"><a href="/gostd/text/template/parse/node.go.html#3177297">tr</a></span><span class="op" id="3179648">.</span><span class="ident" id="3179649"><a href="/gostd/text/template/parse/node.go.html#3179396">newWith</a></span><span class="op" id="3179656">(</span><span class="ident" id="3179657"><a href="/gostd/text/template/parse/node.go.html#3179609">w</a></span><span class="op" id="3179658">.</span><span class="ident" id="3179659"><a href="/gostd/text/template/parse/node.go.html#3177292">Pos</a></span><span class="op" id="3179662">,</span>&nbsp;<span class="ident" id="3179664"><a href="/gostd/text/template/parse/node.go.html#3179609">w</a></span><span class="op" id="3179665">.</span><span class="ident" id="3179666"><a href="/gostd/text/template/parse/node.go.html#3177313">Line</a></span><span class="op" id="3179670">,</span>&nbsp;<span class="ident" id="3179672"><a href="/gostd/text/template/parse/node.go.html#3179609">w</a></span><span class="op" id="3179673">.</span><span class="ident" id="3179674"><a href="/gostd/text/template/parse/node.go.html#3177402">Pipe</a></span><span class="op" id="3179678">.</span><span class="ident" id="3179679"><a href="/gostd/text/template/parse/node.go.html#3164743">CopyPipe</a></span><span class="op" id="3179687">(</span><span class="op" id="3179688">)</span><span class="op" id="3179689">,</span>&nbsp;<span class="ident" id="3179691"><a href="/gostd/text/template/parse/node.go.html#3179609">w</a></span><span class="op" id="3179692">.</span><span class="ident" id="3179693"><a href="/gostd/text/template/parse/node.go.html#3177455">List</a></span><span class="op" id="3179697">.</span><span class="ident" id="3179698"><a href="/gostd/text/template/parse/node.go.html#3163111">CopyList</a></span><span class="op" id="3179706">(</span><span class="op" id="3179707">)</span><span class="op" id="3179708">,</span>&nbsp;<span class="ident" id="3179710"><a href="/gostd/text/template/parse/node.go.html#3179609">w</a></span><span class="op" id="3179711">.</span><span class="ident" id="3179712"><a href="/gostd/text/template/parse/node.go.html#3177521">ElseList</a></span><span class="op" id="3179720">.</span><span class="ident" id="3179721"><a href="/gostd/text/template/parse/node.go.html#3163111">CopyList</a></span><span class="op" id="3179729">(</span><span class="op" id="3179730">)</span><span class="op" id="3179731">)</span><br>
<span class="lineno">805</span><span class="op" id="3179733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3179736">//&nbsp;TemplateNode&nbsp;represents&nbsp;a&nbsp;{{template}}&nbsp;action.</span><br>
<span class="lineno"></span><span class="keyword" id="3179786">type</span>&nbsp;<span class="ident" id="3179791">TemplateNode</span>&nbsp;<span class="keyword" id="3179804">struct</span>&nbsp;<span class="op" id="3179811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3179814"><a href="/gostd/text/template/parse/node.go.html#3161036">NodeType</a></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3179824"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3179829">tr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3179834">*</span><span class="ident" id="3179835"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3179841">Line</span>&nbsp;<span class="builtintype" id="3179846">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3179856">//&nbsp;The&nbsp;line&nbsp;number&nbsp;in&nbsp;the&nbsp;input&nbsp;(deprecated;&nbsp;kept&nbsp;for&nbsp;compatibility)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3179926">Name</span>&nbsp;<span class="builtintype" id="3179931">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3179941">//&nbsp;The&nbsp;name&nbsp;of&nbsp;the&nbsp;template&nbsp;(unquoted).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3179982">Pipe</span>&nbsp;<span class="op" id="3179987">*</span><span class="ident" id="3179988"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span>&nbsp;<span class="comment" id="3179997">//&nbsp;The&nbsp;command&nbsp;to&nbsp;evaluate&nbsp;as&nbsp;dot&nbsp;for&nbsp;the&nbsp;template.</span><br>
<span class="lineno">815</span><span class="op" id="3180049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3180052">func</span>&nbsp;<span class="op" id="3180057">(</span><span class="ident" id="3180058">t</span>&nbsp;<span class="op" id="3180060">*</span><span class="ident" id="3180061"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3180065">)</span>&nbsp;<span class="ident" id="3180067">newTemplate</span><span class="op" id="3180078">(</span><span class="ident" id="3180079">pos</span>&nbsp;<span class="ident" id="3180083"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3180086">,</span>&nbsp;<span class="ident" id="3180088">line</span>&nbsp;<span class="builtintype" id="3180093">int</span><span class="op" id="3180096">,</span>&nbsp;<span class="ident" id="3180098">name</span>&nbsp;<span class="builtintype" id="3180103">string</span><span class="op" id="3180109">,</span>&nbsp;<span class="ident" id="3180111">pipe</span>&nbsp;<span class="op" id="3180116">*</span><span class="ident" id="3180117"><a href="/gostd/text/template/parse/node.go.html#3163902">PipeNode</a></span><span class="op" id="3180125">)</span>&nbsp;<span class="op" id="3180127">*</span><span class="ident" id="3180128"><a href="/gostd/text/template/parse/node.go.html#3179791">TemplateNode</a></span>&nbsp;<span class="op" id="3180141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3180144">return</span>&nbsp;<span class="op" id="3180151">&amp;</span><span class="ident" id="3180152"><a href="/gostd/text/template/parse/node.go.html#3179791">TemplateNode</a></span><span class="op" id="3180164">{</span><span class="ident" id="3180165"><a href="/gostd/text/template/parse/node.go.html#3179829">tr</a></span><span class="op" id="3180167">:</span>&nbsp;<span class="ident" id="3180169"><a href="/gostd/text/template/parse/node.go.html#3180058">t</a></span><span class="op" id="3180170">,</span>&nbsp;<span class="ident" id="3180172"><a href="/gostd/text/template/parse/node.go.html#3179814">NodeType</a></span><span class="op" id="3180180">:</span>&nbsp;<span class="ident" id="3180182"><a href="/gostd/text/template/parse/node.go.html#3162414">NodeTemplate</a></span><span class="op" id="3180194">,</span>&nbsp;<span class="ident" id="3180196"><a href="/gostd/text/template/parse/node.go.html#3179824">Pos</a></span><span class="op" id="3180199">:</span>&nbsp;<span class="ident" id="3180201"><a href="/gostd/text/template/parse/node.go.html#3180079">pos</a></span><span class="op" id="3180204">,</span>&nbsp;<span class="ident" id="3180206"><a href="/gostd/text/template/parse/node.go.html#3179841">Line</a></span><span class="op" id="3180210">:</span>&nbsp;<span class="ident" id="3180212"><a href="/gostd/text/template/parse/node.go.html#3180088">line</a></span><span class="op" id="3180216">,</span>&nbsp;<span class="ident" id="3180218"><a href="/gostd/text/template/parse/node.go.html#3179926">Name</a></span><span class="op" id="3180222">:</span>&nbsp;<span class="ident" id="3180224"><a href="/gostd/text/template/parse/node.go.html#3180098">name</a></span><span class="op" id="3180228">,</span>&nbsp;<span class="ident" id="3180230"><a href="/gostd/text/template/parse/node.go.html#3179982">Pipe</a></span><span class="op" id="3180234">:</span>&nbsp;<span class="ident" id="3180236"><a href="/gostd/text/template/parse/node.go.html#3180111">pipe</a></span><span class="op" id="3180240">}</span><br>
<span class="lineno"></span><span class="op" id="3180242">}</span><br>
<span class="lineno">820</span><br>
<span class="lineno"></span><span class="keyword" id="3180245">func</span>&nbsp;<span class="op" id="3180250">(</span><span class="ident" id="3180251">t</span>&nbsp;<span class="op" id="3180253">*</span><span class="ident" id="3180254"><a href="/gostd/text/template/parse/node.go.html#3179791">TemplateNode</a></span><span class="op" id="3180266">)</span>&nbsp;<span class="ident" id="3180268">String</span><span class="op" id="3180274">(</span><span class="op" id="3180275">)</span>&nbsp;<span class="builtintype" id="3180277">string</span>&nbsp;<span class="op" id="3180284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3180287">if</span>&nbsp;<span class="ident" id="3180290"><a href="/gostd/text/template/parse/node.go.html#3180251">t</a></span><span class="op" id="3180291">.</span><span class="ident" id="3180292"><a href="/gostd/text/template/parse/node.go.html#3179982">Pipe</a></span>&nbsp;<span class="op" id="3180297">==</span>&nbsp;<span class="builtintype" id="3180300">nil</span>&nbsp;<span class="op" id="3180304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3180308">return</span>&nbsp;<span class="ident" id="3180315"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3180318">.</span><span class="ident" id="3180319"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3180326">(</span><span class="string" id="3180327">&#34;{{template&nbsp;%q}}&#34;</span><span class="op" id="3180344">,</span>&nbsp;<span class="ident" id="3180346"><a href="/gostd/text/template/parse/node.go.html#3180251">t</a></span><span class="op" id="3180347">.</span><span class="ident" id="3180348"><a href="/gostd/text/template/parse/node.go.html#3179926">Name</a></span><span class="op" id="3180352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3180355">}</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3180358">return</span>&nbsp;<span class="ident" id="3180365"><a href="/gostd/text/template/parse/node.go.html#3160244">fmt</a></span><span class="op" id="3180368">.</span><span class="ident" id="3180369"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3180376">(</span><span class="string" id="3180377">&#34;{{template&nbsp;%q&nbsp;%s}}&#34;</span><span class="op" id="3180397">,</span>&nbsp;<span class="ident" id="3180399"><a href="/gostd/text/template/parse/node.go.html#3180251">t</a></span><span class="op" id="3180400">.</span><span class="ident" id="3180401"><a href="/gostd/text/template/parse/node.go.html#3179926">Name</a></span><span class="op" id="3180405">,</span>&nbsp;<span class="ident" id="3180407"><a href="/gostd/text/template/parse/node.go.html#3180251">t</a></span><span class="op" id="3180408">.</span><span class="ident" id="3180409"><a href="/gostd/text/template/parse/node.go.html#3179982">Pipe</a></span><span class="op" id="3180413">)</span><br>
<span class="lineno"></span><span class="op" id="3180415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3180418">func</span>&nbsp;<span class="op" id="3180423">(</span><span class="ident" id="3180424">t</span>&nbsp;<span class="op" id="3180426">*</span><span class="ident" id="3180427"><a href="/gostd/text/template/parse/node.go.html#3179791">TemplateNode</a></span><span class="op" id="3180439">)</span>&nbsp;<span class="ident" id="3180441">tree</span><span class="op" id="3180445">(</span><span class="op" id="3180446">)</span>&nbsp;<span class="op" id="3180448">*</span><span class="ident" id="3180449"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span>&nbsp;<span class="op" id="3180454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3180457">return</span>&nbsp;<span class="ident" id="3180464"><a href="/gostd/text/template/parse/node.go.html#3180424">t</a></span><span class="op" id="3180465">.</span><span class="ident" id="3180466"><a href="/gostd/text/template/parse/node.go.html#3179829">tr</a></span><br>
<span class="lineno">830</span><span class="op" id="3180469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3180472">func</span>&nbsp;<span class="op" id="3180477">(</span><span class="ident" id="3180478">t</span>&nbsp;<span class="op" id="3180480">*</span><span class="ident" id="3180481"><a href="/gostd/text/template/parse/node.go.html#3179791">TemplateNode</a></span><span class="op" id="3180493">)</span>&nbsp;<span class="ident" id="3180495">Copy</span><span class="op" id="3180499">(</span><span class="op" id="3180500">)</span>&nbsp;<span class="ident" id="3180502"><a href="/gostd/text/template/parse/node.go.html#3160534">Node</a></span>&nbsp;<span class="op" id="3180507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3180510">return</span>&nbsp;<span class="ident" id="3180517"><a href="/gostd/text/template/parse/node.go.html#3180478">t</a></span><span class="op" id="3180518">.</span><span class="ident" id="3180519"><a href="/gostd/text/template/parse/node.go.html#3179829">tr</a></span><span class="op" id="3180521">.</span><span class="ident" id="3180522"><a href="/gostd/text/template/parse/node.go.html#3180067">newTemplate</a></span><span class="op" id="3180533">(</span><span class="ident" id="3180534"><a href="/gostd/text/template/parse/node.go.html#3180478">t</a></span><span class="op" id="3180535">.</span><span class="ident" id="3180536"><a href="/gostd/text/template/parse/node.go.html#3179824">Pos</a></span><span class="op" id="3180539">,</span>&nbsp;<span class="ident" id="3180541"><a href="/gostd/text/template/parse/node.go.html#3180478">t</a></span><span class="op" id="3180542">.</span><span class="ident" id="3180543"><a href="/gostd/text/template/parse/node.go.html#3179841">Line</a></span><span class="op" id="3180547">,</span>&nbsp;<span class="ident" id="3180549"><a href="/gostd/text/template/parse/node.go.html#3180478">t</a></span><span class="op" id="3180550">.</span><span class="ident" id="3180551"><a href="/gostd/text/template/parse/node.go.html#3179926">Name</a></span><span class="op" id="3180555">,</span>&nbsp;<span class="ident" id="3180557"><a href="/gostd/text/template/parse/node.go.html#3180478">t</a></span><span class="op" id="3180558">.</span><span class="ident" id="3180559"><a href="/gostd/text/template/parse/node.go.html#3179982">Pipe</a></span><span class="op" id="3180563">.</span><span class="ident" id="3180564"><a href="/gostd/text/template/parse/node.go.html#3164743">CopyPipe</a></span><span class="op" id="3180572">(</span><span class="op" id="3180573">)</span><span class="op" id="3180574">)</span><br>
<span class="lineno"></span><span class="op" id="3180576">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
