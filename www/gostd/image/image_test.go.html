<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html" class="current">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8134581">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8134636">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8134690">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8134741">package</span>&nbsp;<span class="ident" id="8134749">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8134756">import</span>&nbsp;<span class="op" id="8134763">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8134766">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8134781">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8134791">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8134794">type</span>&nbsp;<span class="ident" id="8134799">image</span>&nbsp;<span class="keyword" id="8134805">interface</span>&nbsp;<span class="op" id="8134815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8134818">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8134825">Opaque</span><span class="op" id="8134831">(</span><span class="op" id="8134832">)</span>&nbsp;<span class="builtintype" id="8134834">bool</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8134840">Set</span><span class="op" id="8134843">(</span><span class="builtintype" id="8134844">int</span><span class="op" id="8134847">,</span>&nbsp;<span class="builtintype" id="8134849">int</span><span class="op" id="8134852">,</span>&nbsp;<span class="ident" id="8134854">color</span><span class="op" id="8134859">.</span><span class="ident" id="8134860">Color</span><span class="op" id="8134865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8134868">SubImage</span><span class="op" id="8134876">(</span><span class="ident" id="8134877">Rectangle</span><span class="op" id="8134886">)</span>&nbsp;<span class="ident" id="8134888">Image</span><br>
<span class="lineno"></span><span class="op" id="8134894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8134897">func</span>&nbsp;<span class="ident" id="8134902">cmp</span><span class="op" id="8134905">(</span><span class="ident" id="8134906">t</span>&nbsp;<span class="op" id="8134908">*</span><span class="ident" id="8134909">testing</span><span class="op" id="8134916">.</span><span class="ident" id="8134917">T</span><span class="op" id="8134918">,</span>&nbsp;<span class="ident" id="8134920">cm</span>&nbsp;<span class="ident" id="8134923">color</span><span class="op" id="8134928">.</span><span class="ident" id="8134929">Model</span><span class="op" id="8134934">,</span>&nbsp;<span class="ident" id="8134936">c0</span><span class="op" id="8134938">,</span>&nbsp;<span class="ident" id="8134940">c1</span>&nbsp;<span class="ident" id="8134943">color</span><span class="op" id="8134948">.</span><span class="ident" id="8134949">Color</span><span class="op" id="8134954">)</span>&nbsp;<span class="builtintype" id="8134956">bool</span>&nbsp;<span class="op" id="8134961">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8134964">r0</span><span class="op" id="8134966">,</span>&nbsp;<span class="ident" id="8134968">g0</span><span class="op" id="8134970">,</span>&nbsp;<span class="ident" id="8134972">b0</span><span class="op" id="8134974">,</span>&nbsp;<span class="ident" id="8134976">a0</span>&nbsp;<span class="op" id="8134979">:=</span>&nbsp;<span class="ident" id="8134982">cm</span><span class="op" id="8134984">.</span><span class="ident" id="8134985">Convert</span><span class="op" id="8134992">(</span><span class="ident" id="8134993">c0</span><span class="op" id="8134995">)</span><span class="op" id="8134996">.</span><span class="ident" id="8134997">RGBA</span><span class="op" id="8135001">(</span><span class="op" id="8135002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135005">r1</span><span class="op" id="8135007">,</span>&nbsp;<span class="ident" id="8135009">g1</span><span class="op" id="8135011">,</span>&nbsp;<span class="ident" id="8135013">b1</span><span class="op" id="8135015">,</span>&nbsp;<span class="ident" id="8135017">a1</span>&nbsp;<span class="op" id="8135020">:=</span>&nbsp;<span class="ident" id="8135023">cm</span><span class="op" id="8135025">.</span><span class="ident" id="8135026">Convert</span><span class="op" id="8135033">(</span><span class="ident" id="8135034">c1</span><span class="op" id="8135036">)</span><span class="op" id="8135037">.</span><span class="ident" id="8135038">RGBA</span><span class="op" id="8135042">(</span><span class="op" id="8135043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8135046">return</span>&nbsp;<span class="ident" id="8135053">r0</span>&nbsp;<span class="op" id="8135056">==</span>&nbsp;<span class="ident" id="8135059">r1</span>&nbsp;<span class="op" id="8135062">&amp;&amp;</span>&nbsp;<span class="ident" id="8135065">g0</span>&nbsp;<span class="op" id="8135068">==</span>&nbsp;<span class="ident" id="8135071">g1</span>&nbsp;<span class="op" id="8135074">&amp;&amp;</span>&nbsp;<span class="ident" id="8135077">b0</span>&nbsp;<span class="op" id="8135080">==</span>&nbsp;<span class="ident" id="8135083">b1</span>&nbsp;<span class="op" id="8135086">&amp;&amp;</span>&nbsp;<span class="ident" id="8135089">a0</span>&nbsp;<span class="op" id="8135092">==</span>&nbsp;<span class="ident" id="8135095">a1</span><br>
<span class="lineno"></span><span class="op" id="8135098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8135101">func</span>&nbsp;<span class="ident" id="8135106">TestImage</span><span class="op" id="8135115">(</span><span class="ident" id="8135116">t</span>&nbsp;<span class="op" id="8135118">*</span><span class="ident" id="8135119">testing</span><span class="op" id="8135126">.</span><span class="ident" id="8135127">T</span><span class="op" id="8135128">)</span>&nbsp;<span class="op" id="8135130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135133">testImage</span>&nbsp;<span class="op" id="8135143">:=</span>&nbsp;<span class="op" id="8135146">[</span><span class="op" id="8135147">]</span><span class="ident" id="8135148">image</span><span class="op" id="8135153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135157">NewRGBA</span><span class="op" id="8135164">(</span><span class="ident" id="8135165">Rect</span><span class="op" id="8135169">(</span><span class="num" id="8135170">0</span><span class="op" id="8135171">,</span>&nbsp;<span class="num" id="8135173">0</span><span class="op" id="8135174">,</span>&nbsp;<span class="num" id="8135176">10</span><span class="op" id="8135178">,</span>&nbsp;<span class="num" id="8135180">10</span><span class="op" id="8135182">)</span><span class="op" id="8135183">)</span><span class="op" id="8135184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135188">NewRGBA64</span><span class="op" id="8135197">(</span><span class="ident" id="8135198">Rect</span><span class="op" id="8135202">(</span><span class="num" id="8135203">0</span><span class="op" id="8135204">,</span>&nbsp;<span class="num" id="8135206">0</span><span class="op" id="8135207">,</span>&nbsp;<span class="num" id="8135209">10</span><span class="op" id="8135211">,</span>&nbsp;<span class="num" id="8135213">10</span><span class="op" id="8135215">)</span><span class="op" id="8135216">)</span><span class="op" id="8135217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135221">NewNRGBA</span><span class="op" id="8135229">(</span><span class="ident" id="8135230">Rect</span><span class="op" id="8135234">(</span><span class="num" id="8135235">0</span><span class="op" id="8135236">,</span>&nbsp;<span class="num" id="8135238">0</span><span class="op" id="8135239">,</span>&nbsp;<span class="num" id="8135241">10</span><span class="op" id="8135243">,</span>&nbsp;<span class="num" id="8135245">10</span><span class="op" id="8135247">)</span><span class="op" id="8135248">)</span><span class="op" id="8135249">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135253">NewNRGBA64</span><span class="op" id="8135263">(</span><span class="ident" id="8135264">Rect</span><span class="op" id="8135268">(</span><span class="num" id="8135269">0</span><span class="op" id="8135270">,</span>&nbsp;<span class="num" id="8135272">0</span><span class="op" id="8135273">,</span>&nbsp;<span class="num" id="8135275">10</span><span class="op" id="8135277">,</span>&nbsp;<span class="num" id="8135279">10</span><span class="op" id="8135281">)</span><span class="op" id="8135282">)</span><span class="op" id="8135283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135287">NewAlpha</span><span class="op" id="8135295">(</span><span class="ident" id="8135296">Rect</span><span class="op" id="8135300">(</span><span class="num" id="8135301">0</span><span class="op" id="8135302">,</span>&nbsp;<span class="num" id="8135304">0</span><span class="op" id="8135305">,</span>&nbsp;<span class="num" id="8135307">10</span><span class="op" id="8135309">,</span>&nbsp;<span class="num" id="8135311">10</span><span class="op" id="8135313">)</span><span class="op" id="8135314">)</span><span class="op" id="8135315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135319">NewAlpha16</span><span class="op" id="8135329">(</span><span class="ident" id="8135330">Rect</span><span class="op" id="8135334">(</span><span class="num" id="8135335">0</span><span class="op" id="8135336">,</span>&nbsp;<span class="num" id="8135338">0</span><span class="op" id="8135339">,</span>&nbsp;<span class="num" id="8135341">10</span><span class="op" id="8135343">,</span>&nbsp;<span class="num" id="8135345">10</span><span class="op" id="8135347">)</span><span class="op" id="8135348">)</span><span class="op" id="8135349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135353">NewGray</span><span class="op" id="8135360">(</span><span class="ident" id="8135361">Rect</span><span class="op" id="8135365">(</span><span class="num" id="8135366">0</span><span class="op" id="8135367">,</span>&nbsp;<span class="num" id="8135369">0</span><span class="op" id="8135370">,</span>&nbsp;<span class="num" id="8135372">10</span><span class="op" id="8135374">,</span>&nbsp;<span class="num" id="8135376">10</span><span class="op" id="8135378">)</span><span class="op" id="8135379">)</span><span class="op" id="8135380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135384">NewGray16</span><span class="op" id="8135393">(</span><span class="ident" id="8135394">Rect</span><span class="op" id="8135398">(</span><span class="num" id="8135399">0</span><span class="op" id="8135400">,</span>&nbsp;<span class="num" id="8135402">0</span><span class="op" id="8135403">,</span>&nbsp;<span class="num" id="8135405">10</span><span class="op" id="8135407">,</span>&nbsp;<span class="num" id="8135409">10</span><span class="op" id="8135411">)</span><span class="op" id="8135412">)</span><span class="op" id="8135413">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135417">NewPaletted</span><span class="op" id="8135428">(</span><span class="ident" id="8135429">Rect</span><span class="op" id="8135433">(</span><span class="num" id="8135434">0</span><span class="op" id="8135435">,</span>&nbsp;<span class="num" id="8135437">0</span><span class="op" id="8135438">,</span>&nbsp;<span class="num" id="8135440">10</span><span class="op" id="8135442">,</span>&nbsp;<span class="num" id="8135444">10</span><span class="op" id="8135446">)</span><span class="op" id="8135447">,</span>&nbsp;<span class="ident" id="8135449">color</span><span class="op" id="8135454">.</span><span class="ident" id="8135455">Palette</span><span class="op" id="8135462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135467">Transparent</span><span class="op" id="8135478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135483">Opaque</span><span class="op" id="8135489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8135493">}</span><span class="op" id="8135494">)</span><span class="op" id="8135495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8135498">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8135501">for</span>&nbsp;<span class="ident" id="8135505">_</span><span class="op" id="8135506">,</span>&nbsp;<span class="ident" id="8135508">m</span>&nbsp;<span class="op" id="8135510">:=</span>&nbsp;<span class="keyword" id="8135513">range</span>&nbsp;<span class="ident" id="8135519">testImage</span>&nbsp;<span class="op" id="8135529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8135533">if</span>&nbsp;<span class="op" id="8135536">!</span><span class="ident" id="8135537">Rect</span><span class="op" id="8135541">(</span><span class="num" id="8135542">0</span><span class="op" id="8135543">,</span>&nbsp;<span class="num" id="8135545">0</span><span class="op" id="8135546">,</span>&nbsp;<span class="num" id="8135548">10</span><span class="op" id="8135550">,</span>&nbsp;<span class="num" id="8135552">10</span><span class="op" id="8135554">)</span><span class="op" id="8135555">.</span><span class="ident" id="8135556">Eq</span><span class="op" id="8135558">(</span><span class="ident" id="8135559">m</span><span class="op" id="8135560">.</span><span class="ident" id="8135561">Bounds</span><span class="op" id="8135567">(</span><span class="op" id="8135568">)</span><span class="op" id="8135569">)</span>&nbsp;<span class="op" id="8135571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135576">t</span><span class="op" id="8135577">.</span><span class="ident" id="8135578">Errorf</span><span class="op" id="8135584">(</span><span class="string" id="8135585">&#34;%T:&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8135613">,</span>&nbsp;<span class="ident" id="8135615">m</span><span class="op" id="8135616">,</span>&nbsp;<span class="ident" id="8135618">Rect</span><span class="op" id="8135622">(</span><span class="num" id="8135623">0</span><span class="op" id="8135624">,</span>&nbsp;<span class="num" id="8135626">0</span><span class="op" id="8135627">,</span>&nbsp;<span class="num" id="8135629">10</span><span class="op" id="8135631">,</span>&nbsp;<span class="num" id="8135633">10</span><span class="op" id="8135635">)</span><span class="op" id="8135636">,</span>&nbsp;<span class="ident" id="8135638">m</span><span class="op" id="8135639">.</span><span class="ident" id="8135640">Bounds</span><span class="op" id="8135646">(</span><span class="op" id="8135647">)</span><span class="op" id="8135648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8135653">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8135664">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8135668">if</span>&nbsp;<span class="op" id="8135671">!</span><span class="ident" id="8135672">cmp</span><span class="op" id="8135675">(</span><span class="ident" id="8135676">t</span><span class="op" id="8135677">,</span>&nbsp;<span class="ident" id="8135679">m</span><span class="op" id="8135680">.</span><span class="ident" id="8135681">ColorModel</span><span class="op" id="8135691">(</span><span class="op" id="8135692">)</span><span class="op" id="8135693">,</span>&nbsp;<span class="ident" id="8135695">Transparent</span><span class="op" id="8135706">,</span>&nbsp;<span class="ident" id="8135708">m</span><span class="op" id="8135709">.</span><span class="ident" id="8135710">At</span><span class="op" id="8135712">(</span><span class="num" id="8135713">6</span><span class="op" id="8135714">,</span>&nbsp;<span class="num" id="8135716">3</span><span class="op" id="8135717">)</span><span class="op" id="8135718">)</span>&nbsp;<span class="op" id="8135720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135725">t</span><span class="op" id="8135726">.</span><span class="ident" id="8135727">Errorf</span><span class="op" id="8135733">(</span><span class="string" id="8135734">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8135776">,</span>&nbsp;<span class="ident" id="8135778">m</span><span class="op" id="8135779">,</span>&nbsp;<span class="ident" id="8135781">m</span><span class="op" id="8135782">.</span><span class="ident" id="8135783">At</span><span class="op" id="8135785">(</span><span class="num" id="8135786">6</span><span class="op" id="8135787">,</span>&nbsp;<span class="num" id="8135789">3</span><span class="op" id="8135790">)</span><span class="op" id="8135791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8135796">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8135807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135811">m</span><span class="op" id="8135812">.</span><span class="ident" id="8135813">Set</span><span class="op" id="8135816">(</span><span class="num" id="8135817">6</span><span class="op" id="8135818">,</span>&nbsp;<span class="num" id="8135820">3</span><span class="op" id="8135821">,</span>&nbsp;<span class="ident" id="8135823">Opaque</span><span class="op" id="8135829">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8135833">if</span>&nbsp;<span class="op" id="8135836">!</span><span class="ident" id="8135837">cmp</span><span class="op" id="8135840">(</span><span class="ident" id="8135841">t</span><span class="op" id="8135842">,</span>&nbsp;<span class="ident" id="8135844">m</span><span class="op" id="8135845">.</span><span class="ident" id="8135846">ColorModel</span><span class="op" id="8135856">(</span><span class="op" id="8135857">)</span><span class="op" id="8135858">,</span>&nbsp;<span class="ident" id="8135860">Opaque</span><span class="op" id="8135866">,</span>&nbsp;<span class="ident" id="8135868">m</span><span class="op" id="8135869">.</span><span class="ident" id="8135870">At</span><span class="op" id="8135872">(</span><span class="num" id="8135873">6</span><span class="op" id="8135874">,</span>&nbsp;<span class="num" id="8135876">3</span><span class="op" id="8135877">)</span><span class="op" id="8135878">)</span>&nbsp;<span class="op" id="8135880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8135885">t</span><span class="op" id="8135886">.</span><span class="ident" id="8135887">Errorf</span><span class="op" id="8135893">(</span><span class="string" id="8135894">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8135940">,</span>&nbsp;<span class="ident" id="8135942">m</span><span class="op" id="8135943">,</span>&nbsp;<span class="ident" id="8135945">m</span><span class="op" id="8135946">.</span><span class="ident" id="8135947">At</span><span class="op" id="8135949">(</span><span class="num" id="8135950">6</span><span class="op" id="8135951">,</span>&nbsp;<span class="num" id="8135953">3</span><span class="op" id="8135954">)</span><span class="op" id="8135955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8135960">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8135971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8135975">if</span>&nbsp;<span class="op" id="8135978">!</span><span class="ident" id="8135979">m</span><span class="op" id="8135980">.</span><span class="ident" id="8135981">SubImage</span><span class="op" id="8135989">(</span><span class="ident" id="8135990">Rect</span><span class="op" id="8135994">(</span><span class="num" id="8135995">6</span><span class="op" id="8135996">,</span>&nbsp;<span class="num" id="8135998">3</span><span class="op" id="8135999">,</span>&nbsp;<span class="num" id="8136001">7</span><span class="op" id="8136002">,</span>&nbsp;<span class="num" id="8136004">4</span><span class="op" id="8136005">)</span><span class="op" id="8136006">)</span><span class="op" id="8136007">.</span><span class="op" id="8136008">(</span><span class="ident" id="8136009">image</span><span class="op" id="8136014">)</span><span class="op" id="8136015">.</span><span class="ident" id="8136016">Opaque</span><span class="op" id="8136022">(</span><span class="op" id="8136023">)</span>&nbsp;<span class="op" id="8136025">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136030">t</span><span class="op" id="8136031">.</span><span class="ident" id="8136032">Errorf</span><span class="op" id="8136038">(</span><span class="string" id="8136039">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3)&nbsp;was&nbsp;not&nbsp;opaque&#34;</span><span class="op" id="8136069">,</span>&nbsp;<span class="ident" id="8136071">m</span><span class="op" id="8136072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8136077">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8136088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136092">m</span>&nbsp;<span class="op" id="8136094">=</span>&nbsp;<span class="ident" id="8136096">m</span><span class="op" id="8136097">.</span><span class="ident" id="8136098">SubImage</span><span class="op" id="8136106">(</span><span class="ident" id="8136107">Rect</span><span class="op" id="8136111">(</span><span class="num" id="8136112">3</span><span class="op" id="8136113">,</span>&nbsp;<span class="num" id="8136115">2</span><span class="op" id="8136116">,</span>&nbsp;<span class="num" id="8136118">9</span><span class="op" id="8136119">,</span>&nbsp;<span class="num" id="8136121">8</span><span class="op" id="8136122">)</span><span class="op" id="8136123">)</span><span class="op" id="8136124">.</span><span class="op" id="8136125">(</span><span class="ident" id="8136126">image</span><span class="op" id="8136131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8136135">if</span>&nbsp;<span class="op" id="8136138">!</span><span class="ident" id="8136139">Rect</span><span class="op" id="8136143">(</span><span class="num" id="8136144">3</span><span class="op" id="8136145">,</span>&nbsp;<span class="num" id="8136147">2</span><span class="op" id="8136148">,</span>&nbsp;<span class="num" id="8136150">9</span><span class="op" id="8136151">,</span>&nbsp;<span class="num" id="8136153">8</span><span class="op" id="8136154">)</span><span class="op" id="8136155">.</span><span class="ident" id="8136156">Eq</span><span class="op" id="8136158">(</span><span class="ident" id="8136159">m</span><span class="op" id="8136160">.</span><span class="ident" id="8136161">Bounds</span><span class="op" id="8136167">(</span><span class="op" id="8136168">)</span><span class="op" id="8136169">)</span>&nbsp;<span class="op" id="8136171">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136176">t</span><span class="op" id="8136177">.</span><span class="ident" id="8136178">Errorf</span><span class="op" id="8136184">(</span><span class="string" id="8136185">&#34;%T:&nbsp;sub-image&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8136223">,</span>&nbsp;<span class="ident" id="8136225">m</span><span class="op" id="8136226">,</span>&nbsp;<span class="ident" id="8136228">Rect</span><span class="op" id="8136232">(</span><span class="num" id="8136233">3</span><span class="op" id="8136234">,</span>&nbsp;<span class="num" id="8136236">2</span><span class="op" id="8136237">,</span>&nbsp;<span class="num" id="8136239">9</span><span class="op" id="8136240">,</span>&nbsp;<span class="num" id="8136242">8</span><span class="op" id="8136243">)</span><span class="op" id="8136244">,</span>&nbsp;<span class="ident" id="8136246">m</span><span class="op" id="8136247">.</span><span class="ident" id="8136248">Bounds</span><span class="op" id="8136254">(</span><span class="op" id="8136255">)</span><span class="op" id="8136256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8136261">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8136272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8136276">if</span>&nbsp;<span class="op" id="8136279">!</span><span class="ident" id="8136280">cmp</span><span class="op" id="8136283">(</span><span class="ident" id="8136284">t</span><span class="op" id="8136285">,</span>&nbsp;<span class="ident" id="8136287">m</span><span class="op" id="8136288">.</span><span class="ident" id="8136289">ColorModel</span><span class="op" id="8136299">(</span><span class="op" id="8136300">)</span><span class="op" id="8136301">,</span>&nbsp;<span class="ident" id="8136303">Opaque</span><span class="op" id="8136309">,</span>&nbsp;<span class="ident" id="8136311">m</span><span class="op" id="8136312">.</span><span class="ident" id="8136313">At</span><span class="op" id="8136315">(</span><span class="num" id="8136316">6</span><span class="op" id="8136317">,</span>&nbsp;<span class="num" id="8136319">3</span><span class="op" id="8136320">)</span><span class="op" id="8136321">)</span>&nbsp;<span class="op" id="8136323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136328">t</span><span class="op" id="8136329">.</span><span class="ident" id="8136330">Errorf</span><span class="op" id="8136336">(</span><span class="string" id="8136337">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8136393">,</span>&nbsp;<span class="ident" id="8136395">m</span><span class="op" id="8136396">,</span>&nbsp;<span class="ident" id="8136398">m</span><span class="op" id="8136399">.</span><span class="ident" id="8136400">At</span><span class="op" id="8136402">(</span><span class="num" id="8136403">6</span><span class="op" id="8136404">,</span>&nbsp;<span class="num" id="8136406">3</span><span class="op" id="8136407">)</span><span class="op" id="8136408">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8136413">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8136424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8136428">if</span>&nbsp;<span class="op" id="8136431">!</span><span class="ident" id="8136432">cmp</span><span class="op" id="8136435">(</span><span class="ident" id="8136436">t</span><span class="op" id="8136437">,</span>&nbsp;<span class="ident" id="8136439">m</span><span class="op" id="8136440">.</span><span class="ident" id="8136441">ColorModel</span><span class="op" id="8136451">(</span><span class="op" id="8136452">)</span><span class="op" id="8136453">,</span>&nbsp;<span class="ident" id="8136455">Transparent</span><span class="op" id="8136466">,</span>&nbsp;<span class="ident" id="8136468">m</span><span class="op" id="8136469">.</span><span class="ident" id="8136470">At</span><span class="op" id="8136472">(</span><span class="num" id="8136473">3</span><span class="op" id="8136474">,</span>&nbsp;<span class="num" id="8136476">3</span><span class="op" id="8136477">)</span><span class="op" id="8136478">)</span>&nbsp;<span class="op" id="8136480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136485">t</span><span class="op" id="8136486">.</span><span class="ident" id="8136487">Errorf</span><span class="op" id="8136493">(</span><span class="string" id="8136494">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8136546">,</span>&nbsp;<span class="ident" id="8136548">m</span><span class="op" id="8136549">,</span>&nbsp;<span class="ident" id="8136551">m</span><span class="op" id="8136552">.</span><span class="ident" id="8136553">At</span><span class="op" id="8136555">(</span><span class="num" id="8136556">3</span><span class="op" id="8136557">,</span>&nbsp;<span class="num" id="8136559">3</span><span class="op" id="8136560">)</span><span class="op" id="8136561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8136566">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8136577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136581">m</span><span class="op" id="8136582">.</span><span class="ident" id="8136583">Set</span><span class="op" id="8136586">(</span><span class="num" id="8136587">3</span><span class="op" id="8136588">,</span>&nbsp;<span class="num" id="8136590">3</span><span class="op" id="8136591">,</span>&nbsp;<span class="ident" id="8136593">Opaque</span><span class="op" id="8136599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8136603">if</span>&nbsp;<span class="op" id="8136606">!</span><span class="ident" id="8136607">cmp</span><span class="op" id="8136610">(</span><span class="ident" id="8136611">t</span><span class="op" id="8136612">,</span>&nbsp;<span class="ident" id="8136614">m</span><span class="op" id="8136615">.</span><span class="ident" id="8136616">ColorModel</span><span class="op" id="8136626">(</span><span class="op" id="8136627">)</span><span class="op" id="8136628">,</span>&nbsp;<span class="ident" id="8136630">Opaque</span><span class="op" id="8136636">,</span>&nbsp;<span class="ident" id="8136638">m</span><span class="op" id="8136639">.</span><span class="ident" id="8136640">At</span><span class="op" id="8136642">(</span><span class="num" id="8136643">3</span><span class="op" id="8136644">,</span>&nbsp;<span class="num" id="8136646">3</span><span class="op" id="8136647">)</span><span class="op" id="8136648">)</span>&nbsp;<span class="op" id="8136650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136655">t</span><span class="op" id="8136656">.</span><span class="ident" id="8136657">Errorf</span><span class="op" id="8136663">(</span><span class="string" id="8136664">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8136720">,</span>&nbsp;<span class="ident" id="8136722">m</span><span class="op" id="8136723">,</span>&nbsp;<span class="ident" id="8136725">m</span><span class="op" id="8136726">.</span><span class="ident" id="8136727">At</span><span class="op" id="8136729">(</span><span class="num" id="8136730">3</span><span class="op" id="8136731">,</span>&nbsp;<span class="num" id="8136733">3</span><span class="op" id="8136734">)</span><span class="op" id="8136735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8136740">continue</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8136751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8136755">//&nbsp;Test&nbsp;that&nbsp;taking&nbsp;an&nbsp;empty&nbsp;sub-image&nbsp;starting&nbsp;at&nbsp;a&nbsp;corner&nbsp;does&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136833">m</span><span class="op" id="8136834">.</span><span class="ident" id="8136835">SubImage</span><span class="op" id="8136843">(</span><span class="ident" id="8136844">Rect</span><span class="op" id="8136848">(</span><span class="num" id="8136849">0</span><span class="op" id="8136850">,</span>&nbsp;<span class="num" id="8136852">0</span><span class="op" id="8136853">,</span>&nbsp;<span class="num" id="8136855">0</span><span class="op" id="8136856">,</span>&nbsp;<span class="num" id="8136858">0</span><span class="op" id="8136859">)</span><span class="op" id="8136860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136864">m</span><span class="op" id="8136865">.</span><span class="ident" id="8136866">SubImage</span><span class="op" id="8136874">(</span><span class="ident" id="8136875">Rect</span><span class="op" id="8136879">(</span><span class="num" id="8136880">10</span><span class="op" id="8136882">,</span>&nbsp;<span class="num" id="8136884">0</span><span class="op" id="8136885">,</span>&nbsp;<span class="num" id="8136887">10</span><span class="op" id="8136889">,</span>&nbsp;<span class="num" id="8136891">0</span><span class="op" id="8136892">)</span><span class="op" id="8136893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136897">m</span><span class="op" id="8136898">.</span><span class="ident" id="8136899">SubImage</span><span class="op" id="8136907">(</span><span class="ident" id="8136908">Rect</span><span class="op" id="8136912">(</span><span class="num" id="8136913">0</span><span class="op" id="8136914">,</span>&nbsp;<span class="num" id="8136916">10</span><span class="op" id="8136918">,</span>&nbsp;<span class="num" id="8136920">0</span><span class="op" id="8136921">,</span>&nbsp;<span class="num" id="8136923">10</span><span class="op" id="8136925">)</span><span class="op" id="8136926">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8136930">m</span><span class="op" id="8136931">.</span><span class="ident" id="8136932">SubImage</span><span class="op" id="8136940">(</span><span class="ident" id="8136941">Rect</span><span class="op" id="8136945">(</span><span class="num" id="8136946">10</span><span class="op" id="8136948">,</span>&nbsp;<span class="num" id="8136950">10</span><span class="op" id="8136952">,</span>&nbsp;<span class="num" id="8136954">10</span><span class="op" id="8136956">,</span>&nbsp;<span class="num" id="8136958">10</span><span class="op" id="8136960">)</span><span class="op" id="8136961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8136964">}</span><br>
<span class="lineno"></span><span class="op" id="8136966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8136969">func</span>&nbsp;<span class="ident" id="8136974">Test16BitsPerColorChannel</span><span class="op" id="8136999">(</span><span class="ident" id="8137000">t</span>&nbsp;<span class="op" id="8137002">*</span><span class="ident" id="8137003">testing</span><span class="op" id="8137010">.</span><span class="ident" id="8137011">T</span><span class="op" id="8137012">)</span>&nbsp;<span class="op" id="8137014">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137017">testColorModel</span>&nbsp;<span class="op" id="8137032">:=</span>&nbsp;<span class="op" id="8137035">[</span><span class="op" id="8137036">]</span><span class="ident" id="8137037">color</span><span class="op" id="8137042">.</span><span class="ident" id="8137043">Model</span><span class="op" id="8137048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137052">color</span><span class="op" id="8137057">.</span><span class="ident" id="8137058">RGBA64Model</span><span class="op" id="8137069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137073">color</span><span class="op" id="8137078">.</span><span class="ident" id="8137079">NRGBA64Model</span><span class="op" id="8137091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137095">color</span><span class="op" id="8137100">.</span><span class="ident" id="8137101">Alpha16Model</span><span class="op" id="8137113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137117">color</span><span class="op" id="8137122">.</span><span class="ident" id="8137123">Gray16Model</span><span class="op" id="8137134">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8137137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8137140">for</span>&nbsp;<span class="ident" id="8137144">_</span><span class="op" id="8137145">,</span>&nbsp;<span class="ident" id="8137147">cm</span>&nbsp;<span class="op" id="8137150">:=</span>&nbsp;<span class="keyword" id="8137153">range</span>&nbsp;<span class="ident" id="8137159">testColorModel</span>&nbsp;<span class="op" id="8137174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137178">c</span>&nbsp;<span class="op" id="8137180">:=</span>&nbsp;<span class="ident" id="8137183">cm</span><span class="op" id="8137185">.</span><span class="ident" id="8137186">Convert</span><span class="op" id="8137193">(</span><span class="ident" id="8137194">color</span><span class="op" id="8137199">.</span><span class="ident" id="8137200">RGBA64</span><span class="op" id="8137206">{</span><span class="num" id="8137207">0x1234</span><span class="op" id="8137213">,</span>&nbsp;<span class="num" id="8137215">0x1234</span><span class="op" id="8137221">,</span>&nbsp;<span class="num" id="8137223">0x1234</span><span class="op" id="8137229">,</span>&nbsp;<span class="num" id="8137231">0x1234</span><span class="op" id="8137237">}</span><span class="op" id="8137238">)</span>&nbsp;<span class="comment" id="8137240">//&nbsp;Premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137266">r</span><span class="op" id="8137267">,</span>&nbsp;<span class="ident" id="8137269">_</span><span class="op" id="8137270">,</span>&nbsp;<span class="ident" id="8137272">_</span><span class="op" id="8137273">,</span>&nbsp;<span class="ident" id="8137275">_</span>&nbsp;<span class="op" id="8137277">:=</span>&nbsp;<span class="ident" id="8137280">c</span><span class="op" id="8137281">.</span><span class="ident" id="8137282">RGBA</span><span class="op" id="8137286">(</span><span class="op" id="8137287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8137291">if</span>&nbsp;<span class="ident" id="8137294">r</span>&nbsp;<span class="op" id="8137296">!=</span>&nbsp;<span class="num" id="8137299">0x1234</span>&nbsp;<span class="op" id="8137306">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137311">t</span><span class="op" id="8137312">.</span><span class="ident" id="8137313">Errorf</span><span class="op" id="8137319">(</span><span class="string" id="8137320">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="8137358">,</span>&nbsp;<span class="ident" id="8137360">c</span><span class="op" id="8137361">,</span>&nbsp;<span class="num" id="8137363">0x1234</span><span class="op" id="8137369">,</span>&nbsp;<span class="ident" id="8137371">r</span><span class="op" id="8137372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8137377">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8137388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8137391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137394">testImage</span>&nbsp;<span class="op" id="8137404">:=</span>&nbsp;<span class="op" id="8137407">[</span><span class="op" id="8137408">]</span><span class="ident" id="8137409">image</span><span class="op" id="8137414">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137418">NewRGBA64</span><span class="op" id="8137427">(</span><span class="ident" id="8137428">Rect</span><span class="op" id="8137432">(</span><span class="num" id="8137433">0</span><span class="op" id="8137434">,</span>&nbsp;<span class="num" id="8137436">0</span><span class="op" id="8137437">,</span>&nbsp;<span class="num" id="8137439">10</span><span class="op" id="8137441">,</span>&nbsp;<span class="num" id="8137443">10</span><span class="op" id="8137445">)</span><span class="op" id="8137446">)</span><span class="op" id="8137447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137451">NewNRGBA64</span><span class="op" id="8137461">(</span><span class="ident" id="8137462">Rect</span><span class="op" id="8137466">(</span><span class="num" id="8137467">0</span><span class="op" id="8137468">,</span>&nbsp;<span class="num" id="8137470">0</span><span class="op" id="8137471">,</span>&nbsp;<span class="num" id="8137473">10</span><span class="op" id="8137475">,</span>&nbsp;<span class="num" id="8137477">10</span><span class="op" id="8137479">)</span><span class="op" id="8137480">)</span><span class="op" id="8137481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137485">NewAlpha16</span><span class="op" id="8137495">(</span><span class="ident" id="8137496">Rect</span><span class="op" id="8137500">(</span><span class="num" id="8137501">0</span><span class="op" id="8137502">,</span>&nbsp;<span class="num" id="8137504">0</span><span class="op" id="8137505">,</span>&nbsp;<span class="num" id="8137507">10</span><span class="op" id="8137509">,</span>&nbsp;<span class="num" id="8137511">10</span><span class="op" id="8137513">)</span><span class="op" id="8137514">)</span><span class="op" id="8137515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137519">NewGray16</span><span class="op" id="8137528">(</span><span class="ident" id="8137529">Rect</span><span class="op" id="8137533">(</span><span class="num" id="8137534">0</span><span class="op" id="8137535">,</span>&nbsp;<span class="num" id="8137537">0</span><span class="op" id="8137538">,</span>&nbsp;<span class="num" id="8137540">10</span><span class="op" id="8137542">,</span>&nbsp;<span class="num" id="8137544">10</span><span class="op" id="8137546">)</span><span class="op" id="8137547">)</span><span class="op" id="8137548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8137551">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8137554">for</span>&nbsp;<span class="ident" id="8137558">_</span><span class="op" id="8137559">,</span>&nbsp;<span class="ident" id="8137561">m</span>&nbsp;<span class="op" id="8137563">:=</span>&nbsp;<span class="keyword" id="8137566">range</span>&nbsp;<span class="ident" id="8137572">testImage</span>&nbsp;<span class="op" id="8137582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137586">m</span><span class="op" id="8137587">.</span><span class="ident" id="8137588">Set</span><span class="op" id="8137591">(</span><span class="num" id="8137592">1</span><span class="op" id="8137593">,</span>&nbsp;<span class="num" id="8137595">2</span><span class="op" id="8137596">,</span>&nbsp;<span class="ident" id="8137598">color</span><span class="op" id="8137603">.</span><span class="ident" id="8137604">NRGBA64</span><span class="op" id="8137611">{</span><span class="num" id="8137612">0xffff</span><span class="op" id="8137618">,</span>&nbsp;<span class="num" id="8137620">0xffff</span><span class="op" id="8137626">,</span>&nbsp;<span class="num" id="8137628">0xffff</span><span class="op" id="8137634">,</span>&nbsp;<span class="num" id="8137636">0x1357</span><span class="op" id="8137642">}</span><span class="op" id="8137643">)</span>&nbsp;<span class="comment" id="8137645">//&nbsp;Non-premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137675">r</span><span class="op" id="8137676">,</span>&nbsp;<span class="ident" id="8137678">_</span><span class="op" id="8137679">,</span>&nbsp;<span class="ident" id="8137681">_</span><span class="op" id="8137682">,</span>&nbsp;<span class="ident" id="8137684">_</span>&nbsp;<span class="op" id="8137686">:=</span>&nbsp;<span class="ident" id="8137689">m</span><span class="op" id="8137690">.</span><span class="ident" id="8137691">At</span><span class="op" id="8137693">(</span><span class="num" id="8137694">1</span><span class="op" id="8137695">,</span>&nbsp;<span class="num" id="8137697">2</span><span class="op" id="8137698">)</span><span class="op" id="8137699">.</span><span class="ident" id="8137700">RGBA</span><span class="op" id="8137704">(</span><span class="op" id="8137705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8137709">if</span>&nbsp;<span class="ident" id="8137712">r</span>&nbsp;<span class="op" id="8137714">!=</span>&nbsp;<span class="num" id="8137717">0x1357</span>&nbsp;<span class="op" id="8137724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8137729">t</span><span class="op" id="8137730">.</span><span class="ident" id="8137731">Errorf</span><span class="op" id="8137737">(</span><span class="string" id="8137738">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="8137776">,</span>&nbsp;<span class="ident" id="8137778">m</span><span class="op" id="8137779">,</span>&nbsp;<span class="num" id="8137781">0x1357</span><span class="op" id="8137787">,</span>&nbsp;<span class="ident" id="8137789">r</span><span class="op" id="8137790">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8137795">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8137806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8137809">}</span><br>
<span class="lineno"></span><span class="op" id="8137811">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
