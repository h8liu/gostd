<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html" class="current">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7575674">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7575730">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7575784">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7575835">package</span>&nbsp;<span class="ident" id="7575843">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7575848">import</span>&nbsp;<span class="string" id="7575855">&#34;errors&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7575865">const</span>&nbsp;<span class="op" id="7575871">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7575874">icmpv4EchoRequest</span>&nbsp;<span class="op" id="7575892">=</span>&nbsp;<span class="num" id="7575894">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7575897">icmpv4EchoReply</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7575915">=</span>&nbsp;<span class="num" id="7575917">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7575920">icmpv6EchoRequest</span>&nbsp;<span class="op" id="7575938">=</span>&nbsp;<span class="num" id="7575940">128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7575945">icmpv6EchoReply</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7575963">=</span>&nbsp;<span class="num" id="7575965">129</span><br>
<span class="lineno"></span><span class="op" id="7575969">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="7575972">//&nbsp;icmpMessage&nbsp;represents&nbsp;an&nbsp;ICMP&nbsp;message.</span><br>
<span class="lineno"></span><span class="keyword" id="7576015">type</span>&nbsp;<span class="ident" id="7576020">icmpMessage</span>&nbsp;<span class="keyword" id="7576032">struct</span>&nbsp;<span class="op" id="7576039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576042">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7576051">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7576067">//&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576076">Code</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7576085">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7576101">//&nbsp;code</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576110">Checksum</span>&nbsp;<span class="builtintype" id="7576119">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7576135">//&nbsp;checksum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576148">Body</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7576157">icmpMessageBody</span>&nbsp;<span class="comment" id="7576173">//&nbsp;body</span><br>
<span class="lineno"></span><span class="op" id="7576181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7576184">//&nbsp;icmpMessageBody&nbsp;represents&nbsp;an&nbsp;ICMP&nbsp;message&nbsp;body.</span><br>
<span class="lineno">25</span><span class="keyword" id="7576236">type</span>&nbsp;<span class="ident" id="7576241">icmpMessageBody</span>&nbsp;<span class="keyword" id="7576257">interface</span>&nbsp;<span class="op" id="7576267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576270">Len</span><span class="op" id="7576273">(</span><span class="op" id="7576274">)</span>&nbsp;<span class="builtintype" id="7576276">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576281">Marshal</span><span class="op" id="7576288">(</span><span class="op" id="7576289">)</span>&nbsp;<span class="op" id="7576291">(</span><span class="op" id="7576292">[</span><span class="op" id="7576293">]</span><span class="builtintype" id="7576294">byte</span><span class="op" id="7576298">,</span>&nbsp;<span class="builtintype" id="7576300">error</span><span class="op" id="7576305">)</span><br>
<span class="lineno"></span><span class="op" id="7576307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="7576310">//&nbsp;Marshal&nbsp;returns&nbsp;the&nbsp;binary&nbsp;enconding&nbsp;of&nbsp;the&nbsp;ICMP&nbsp;echo&nbsp;request&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="7576378">//&nbsp;reply&nbsp;message&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="7576398">func</span>&nbsp;<span class="op" id="7576403">(</span><span class="ident" id="7576404">m</span>&nbsp;<span class="op" id="7576406">*</span><span class="ident" id="7576407">icmpMessage</span><span class="op" id="7576418">)</span>&nbsp;<span class="ident" id="7576420">Marshal</span><span class="op" id="7576427">(</span><span class="op" id="7576428">)</span>&nbsp;<span class="op" id="7576430">(</span><span class="op" id="7576431">[</span><span class="op" id="7576432">]</span><span class="builtintype" id="7576433">byte</span><span class="op" id="7576437">,</span>&nbsp;<span class="builtintype" id="7576439">error</span><span class="op" id="7576444">)</span>&nbsp;<span class="op" id="7576446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576449">b</span>&nbsp;<span class="op" id="7576451">:=</span>&nbsp;<span class="op" id="7576454">[</span><span class="op" id="7576455">]</span><span class="builtintype" id="7576456">byte</span><span class="op" id="7576460">{</span><span class="builtintype" id="7576461">byte</span><span class="op" id="7576465">(</span><span class="ident" id="7576466">m</span><span class="op" id="7576467">.</span><span class="ident" id="7576468">Type</span><span class="op" id="7576472">)</span><span class="op" id="7576473">,</span>&nbsp;<span class="builtintype" id="7576475">byte</span><span class="op" id="7576479">(</span><span class="ident" id="7576480">m</span><span class="op" id="7576481">.</span><span class="ident" id="7576482">Code</span><span class="op" id="7576486">)</span><span class="op" id="7576487">,</span>&nbsp;<span class="num" id="7576489">0</span><span class="op" id="7576490">,</span>&nbsp;<span class="num" id="7576492">0</span><span class="op" id="7576493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7576496">if</span>&nbsp;<span class="ident" id="7576499">m</span><span class="op" id="7576500">.</span><span class="ident" id="7576501">Body</span>&nbsp;<span class="op" id="7576506">!=</span>&nbsp;<span class="ident" id="7576509">nil</span>&nbsp;<span class="op" id="7576513">&amp;&amp;</span>&nbsp;<span class="ident" id="7576516">m</span><span class="op" id="7576517">.</span><span class="ident" id="7576518">Body</span><span class="op" id="7576522">.</span><span class="ident" id="7576523">Len</span><span class="op" id="7576526">(</span><span class="op" id="7576527">)</span>&nbsp;<span class="op" id="7576529">!=</span>&nbsp;<span class="num" id="7576532">0</span>&nbsp;<span class="op" id="7576534">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576538">mb</span><span class="op" id="7576540">,</span>&nbsp;<span class="ident" id="7576542">err</span>&nbsp;<span class="op" id="7576546">:=</span>&nbsp;<span class="ident" id="7576549">m</span><span class="op" id="7576550">.</span><span class="ident" id="7576551">Body</span><span class="op" id="7576555">.</span><span class="ident" id="7576556">Marshal</span><span class="op" id="7576563">(</span><span class="op" id="7576564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7576568">if</span>&nbsp;<span class="ident" id="7576571">err</span>&nbsp;<span class="op" id="7576575">!=</span>&nbsp;<span class="ident" id="7576578">nil</span>&nbsp;<span class="op" id="7576582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7576587">return</span>&nbsp;<span class="ident" id="7576594">nil</span><span class="op" id="7576597">,</span>&nbsp;<span class="ident" id="7576599">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7576605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576609">b</span>&nbsp;<span class="op" id="7576611">=</span>&nbsp;<span class="builtinfunc" id="7576613">append</span><span class="op" id="7576619">(</span><span class="ident" id="7576620">b</span><span class="op" id="7576621">,</span>&nbsp;<span class="ident" id="7576623">mb</span><span class="op" id="7576625">...</span><span class="op" id="7576628">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7576631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7576634">switch</span>&nbsp;<span class="ident" id="7576641">m</span><span class="op" id="7576642">.</span><span class="ident" id="7576643">Type</span>&nbsp;<span class="op" id="7576648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7576651">case</span>&nbsp;<span class="ident" id="7576656">icmpv6EchoRequest</span><span class="op" id="7576673">,</span>&nbsp;<span class="ident" id="7576675">icmpv6EchoReply</span><span class="op" id="7576690">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7576694">return</span>&nbsp;<span class="ident" id="7576701">b</span><span class="op" id="7576702">,</span>&nbsp;<span class="ident" id="7576704">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7576709">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576712">csumcv</span>&nbsp;<span class="op" id="7576719">:=</span>&nbsp;<span class="builtinfunc" id="7576722">len</span><span class="op" id="7576725">(</span><span class="ident" id="7576726">b</span><span class="op" id="7576727">)</span>&nbsp;<span class="op" id="7576729">-</span>&nbsp;<span class="num" id="7576731">1</span>&nbsp;<span class="comment" id="7576733">//&nbsp;checksum&nbsp;coverage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576755">s</span>&nbsp;<span class="op" id="7576757">:=</span>&nbsp;<span class="builtintype" id="7576760">uint32</span><span class="op" id="7576766">(</span><span class="num" id="7576767">0</span><span class="op" id="7576768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7576771">for</span>&nbsp;<span class="ident" id="7576775">i</span>&nbsp;<span class="op" id="7576777">:=</span>&nbsp;<span class="num" id="7576780">0</span><span class="op" id="7576781">;</span>&nbsp;<span class="ident" id="7576783">i</span>&nbsp;<span class="op" id="7576785">&lt;</span>&nbsp;<span class="ident" id="7576787">csumcv</span><span class="op" id="7576793">;</span>&nbsp;<span class="ident" id="7576795">i</span>&nbsp;<span class="op" id="7576797">+=</span>&nbsp;<span class="num" id="7576800">2</span>&nbsp;<span class="op" id="7576802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576806">s</span>&nbsp;<span class="op" id="7576808">+=</span>&nbsp;<span class="builtintype" id="7576811">uint32</span><span class="op" id="7576817">(</span><span class="ident" id="7576818">b</span><span class="op" id="7576819">[</span><span class="ident" id="7576820">i</span><span class="op" id="7576821">+</span><span class="num" id="7576822">1</span><span class="op" id="7576823">]</span><span class="op" id="7576824">)</span><span class="op" id="7576825">&lt;&lt;</span><span class="num" id="7576827">8</span>&nbsp;<span class="op" id="7576829">|</span>&nbsp;<span class="builtintype" id="7576831">uint32</span><span class="op" id="7576837">(</span><span class="ident" id="7576838">b</span><span class="op" id="7576839">[</span><span class="ident" id="7576840">i</span><span class="op" id="7576841">]</span><span class="op" id="7576842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7576845">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7576848">if</span>&nbsp;<span class="ident" id="7576851">csumcv</span><span class="op" id="7576857">&amp;</span><span class="num" id="7576858">1</span>&nbsp;<span class="op" id="7576860">==</span>&nbsp;<span class="num" id="7576863">0</span>&nbsp;<span class="op" id="7576865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576869">s</span>&nbsp;<span class="op" id="7576871">+=</span>&nbsp;<span class="builtintype" id="7576874">uint32</span><span class="op" id="7576880">(</span><span class="ident" id="7576881">b</span><span class="op" id="7576882">[</span><span class="ident" id="7576883">csumcv</span><span class="op" id="7576889">]</span><span class="op" id="7576890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7576893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576896">s</span>&nbsp;<span class="op" id="7576898">=</span>&nbsp;<span class="ident" id="7576900">s</span><span class="op" id="7576901">&gt;&gt;</span><span class="num" id="7576903">16</span>&nbsp;<span class="op" id="7576906">+</span>&nbsp;<span class="ident" id="7576908">s</span><span class="op" id="7576909">&amp;</span><span class="num" id="7576910">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7576918">s</span>&nbsp;<span class="op" id="7576920">=</span>&nbsp;<span class="ident" id="7576922">s</span>&nbsp;<span class="op" id="7576924">+</span>&nbsp;<span class="ident" id="7576926">s</span><span class="op" id="7576927">&gt;&gt;</span><span class="num" id="7576929">16</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7576933">//&nbsp;Place&nbsp;checksum&nbsp;back&nbsp;in&nbsp;header;&nbsp;using&nbsp;^=&nbsp;avoids&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7576988">//&nbsp;assumption&nbsp;the&nbsp;checksum&nbsp;bytes&nbsp;are&nbsp;zero.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7577032">b</span><span class="op" id="7577033">[</span><span class="num" id="7577034">2</span><span class="op" id="7577035">]</span>&nbsp;<span class="op" id="7577037">^=</span>&nbsp;<span class="builtintype" id="7577040">byte</span><span class="op" id="7577044">(</span><span class="op" id="7577045">^</span><span class="ident" id="7577046">s</span><span class="op" id="7577047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7577050">b</span><span class="op" id="7577051">[</span><span class="num" id="7577052">3</span><span class="op" id="7577053">]</span>&nbsp;<span class="op" id="7577055">^=</span>&nbsp;<span class="builtintype" id="7577058">byte</span><span class="op" id="7577062">(</span><span class="op" id="7577063">^</span><span class="ident" id="7577064">s</span>&nbsp;<span class="op" id="7577066">&gt;&gt;</span>&nbsp;<span class="num" id="7577069">8</span><span class="op" id="7577070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577073">return</span>&nbsp;<span class="ident" id="7577080">b</span><span class="op" id="7577081">,</span>&nbsp;<span class="ident" id="7577083">nil</span><br>
<span class="lineno">60</span><span class="op" id="7577087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7577090">//&nbsp;parseICMPMessage&nbsp;parses&nbsp;b&nbsp;as&nbsp;an&nbsp;ICMP&nbsp;message.</span><br>
<span class="lineno"></span><span class="keyword" id="7577139">func</span>&nbsp;<span class="ident" id="7577144">parseICMPMessage</span><span class="op" id="7577160">(</span><span class="ident" id="7577161">b</span>&nbsp;<span class="op" id="7577163">[</span><span class="op" id="7577164">]</span><span class="builtintype" id="7577165">byte</span><span class="op" id="7577169">)</span>&nbsp;<span class="op" id="7577171">(</span><span class="op" id="7577172">*</span><span class="ident" id="7577173">icmpMessage</span><span class="op" id="7577184">,</span>&nbsp;<span class="builtintype" id="7577186">error</span><span class="op" id="7577191">)</span>&nbsp;<span class="op" id="7577193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7577196">msglen</span>&nbsp;<span class="op" id="7577203">:=</span>&nbsp;<span class="builtinfunc" id="7577206">len</span><span class="op" id="7577209">(</span><span class="ident" id="7577210">b</span><span class="op" id="7577211">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577214">if</span>&nbsp;<span class="ident" id="7577217">msglen</span>&nbsp;<span class="op" id="7577224">&lt;</span>&nbsp;<span class="num" id="7577226">4</span>&nbsp;<span class="op" id="7577228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577232">return</span>&nbsp;<span class="ident" id="7577239">nil</span><span class="op" id="7577242">,</span>&nbsp;<span class="ident" id="7577244">errors</span><span class="op" id="7577250">.</span><span class="ident" id="7577251">New</span><span class="op" id="7577254">(</span><span class="string" id="7577255">&#34;message&nbsp;too&nbsp;short&#34;</span><span class="op" id="7577274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7577277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7577280">m</span>&nbsp;<span class="op" id="7577282">:=</span>&nbsp;<span class="op" id="7577285">&amp;</span><span class="ident" id="7577286">icmpMessage</span><span class="op" id="7577297">{</span><span class="ident" id="7577298">Type</span><span class="op" id="7577302">:</span>&nbsp;<span class="builtintype" id="7577304">int</span><span class="op" id="7577307">(</span><span class="ident" id="7577308">b</span><span class="op" id="7577309">[</span><span class="num" id="7577310">0</span><span class="op" id="7577311">]</span><span class="op" id="7577312">)</span><span class="op" id="7577313">,</span>&nbsp;<span class="ident" id="7577315">Code</span><span class="op" id="7577319">:</span>&nbsp;<span class="builtintype" id="7577321">int</span><span class="op" id="7577324">(</span><span class="ident" id="7577325">b</span><span class="op" id="7577326">[</span><span class="num" id="7577327">1</span><span class="op" id="7577328">]</span><span class="op" id="7577329">)</span><span class="op" id="7577330">,</span>&nbsp;<span class="ident" id="7577332">Checksum</span><span class="op" id="7577340">:</span>&nbsp;<span class="builtintype" id="7577342">int</span><span class="op" id="7577345">(</span><span class="ident" id="7577346">b</span><span class="op" id="7577347">[</span><span class="num" id="7577348">2</span><span class="op" id="7577349">]</span><span class="op" id="7577350">)</span><span class="op" id="7577351">&lt;&lt;</span><span class="num" id="7577353">8</span>&nbsp;<span class="op" id="7577355">|</span>&nbsp;<span class="builtintype" id="7577357">int</span><span class="op" id="7577360">(</span><span class="ident" id="7577361">b</span><span class="op" id="7577362">[</span><span class="num" id="7577363">3</span><span class="op" id="7577364">]</span><span class="op" id="7577365">)</span><span class="op" id="7577366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577369">if</span>&nbsp;<span class="ident" id="7577372">msglen</span>&nbsp;<span class="op" id="7577379">&gt;</span>&nbsp;<span class="num" id="7577381">4</span>&nbsp;<span class="op" id="7577383">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577387">var</span>&nbsp;<span class="ident" id="7577391">err</span>&nbsp;<span class="builtintype" id="7577395">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577403">switch</span>&nbsp;<span class="ident" id="7577410">m</span><span class="op" id="7577411">.</span><span class="ident" id="7577412">Type</span>&nbsp;<span class="op" id="7577417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577421">case</span>&nbsp;<span class="ident" id="7577426">icmpv4EchoRequest</span><span class="op" id="7577443">,</span>&nbsp;<span class="ident" id="7577445">icmpv4EchoReply</span><span class="op" id="7577460">,</span>&nbsp;<span class="ident" id="7577462">icmpv6EchoRequest</span><span class="op" id="7577479">,</span>&nbsp;<span class="ident" id="7577481">icmpv6EchoReply</span><span class="op" id="7577496">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7577501">m</span><span class="op" id="7577502">.</span><span class="ident" id="7577503">Body</span><span class="op" id="7577507">,</span>&nbsp;<span class="ident" id="7577509">err</span>&nbsp;<span class="op" id="7577513">=</span>&nbsp;<span class="ident" id="7577515">parseICMPEcho</span><span class="op" id="7577528">(</span><span class="ident" id="7577529">b</span><span class="op" id="7577530">[</span><span class="num" id="7577531">4</span><span class="op" id="7577532">:</span><span class="op" id="7577533">]</span><span class="op" id="7577534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577539">if</span>&nbsp;<span class="ident" id="7577542">err</span>&nbsp;<span class="op" id="7577546">!=</span>&nbsp;<span class="ident" id="7577549">nil</span>&nbsp;<span class="op" id="7577553">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577559">return</span>&nbsp;<span class="ident" id="7577566">nil</span><span class="op" id="7577569">,</span>&nbsp;<span class="ident" id="7577571">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7577578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7577582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7577585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577588">return</span>&nbsp;<span class="ident" id="7577595">m</span><span class="op" id="7577596">,</span>&nbsp;<span class="ident" id="7577598">nil</span><br>
<span class="lineno">80</span><span class="op" id="7577602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7577605">//&nbsp;imcpEcho&nbsp;represenets&nbsp;an&nbsp;ICMP&nbsp;echo&nbsp;request&nbsp;or&nbsp;reply&nbsp;message&nbsp;body.</span><br>
<span class="lineno"></span><span class="keyword" id="7577673">type</span>&nbsp;<span class="ident" id="7577678">icmpEcho</span>&nbsp;<span class="keyword" id="7577687">struct</span>&nbsp;<span class="op" id="7577694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7577697">ID</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7577702">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7577709">//&nbsp;identifier</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7577724">Seq</span>&nbsp;&nbsp;<span class="builtintype" id="7577729">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7577736">//&nbsp;sequence&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7577756">Data</span>&nbsp;<span class="op" id="7577761">[</span><span class="op" id="7577762">]</span><span class="builtintype" id="7577763">byte</span>&nbsp;<span class="comment" id="7577768">//&nbsp;data</span><br>
<span class="lineno"></span><span class="op" id="7577776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7577779">func</span>&nbsp;<span class="op" id="7577784">(</span><span class="ident" id="7577785">p</span>&nbsp;<span class="op" id="7577787">*</span><span class="ident" id="7577788">icmpEcho</span><span class="op" id="7577796">)</span>&nbsp;<span class="ident" id="7577798">Len</span><span class="op" id="7577801">(</span><span class="op" id="7577802">)</span>&nbsp;<span class="builtintype" id="7577804">int</span>&nbsp;<span class="op" id="7577808">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577811">if</span>&nbsp;<span class="ident" id="7577814">p</span>&nbsp;<span class="op" id="7577816">==</span>&nbsp;<span class="ident" id="7577819">nil</span>&nbsp;<span class="op" id="7577823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577827">return</span>&nbsp;<span class="num" id="7577834">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7577837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7577840">return</span>&nbsp;<span class="num" id="7577847">4</span>&nbsp;<span class="op" id="7577849">+</span>&nbsp;<span class="builtinfunc" id="7577851">len</span><span class="op" id="7577854">(</span><span class="ident" id="7577855">p</span><span class="op" id="7577856">.</span><span class="ident" id="7577857">Data</span><span class="op" id="7577861">)</span><br>
<span class="lineno"></span><span class="op" id="7577863">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="7577866">//&nbsp;Marshal&nbsp;returns&nbsp;the&nbsp;binary&nbsp;enconding&nbsp;of&nbsp;the&nbsp;ICMP&nbsp;echo&nbsp;request&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="7577934">//&nbsp;reply&nbsp;message&nbsp;body&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="7577959">func</span>&nbsp;<span class="op" id="7577964">(</span><span class="ident" id="7577965">p</span>&nbsp;<span class="op" id="7577967">*</span><span class="ident" id="7577968">icmpEcho</span><span class="op" id="7577976">)</span>&nbsp;<span class="ident" id="7577978">Marshal</span><span class="op" id="7577985">(</span><span class="op" id="7577986">)</span>&nbsp;<span class="op" id="7577988">(</span><span class="op" id="7577989">[</span><span class="op" id="7577990">]</span><span class="builtintype" id="7577991">byte</span><span class="op" id="7577995">,</span>&nbsp;<span class="builtintype" id="7577997">error</span><span class="op" id="7578002">)</span>&nbsp;<span class="op" id="7578004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7578007">b</span>&nbsp;<span class="op" id="7578009">:=</span>&nbsp;<span class="builtinfunc" id="7578012">make</span><span class="op" id="7578016">(</span><span class="op" id="7578017">[</span><span class="op" id="7578018">]</span><span class="builtintype" id="7578019">byte</span><span class="op" id="7578023">,</span>&nbsp;<span class="num" id="7578025">4</span><span class="op" id="7578026">+</span><span class="builtinfunc" id="7578027">len</span><span class="op" id="7578030">(</span><span class="ident" id="7578031">p</span><span class="op" id="7578032">.</span><span class="ident" id="7578033">Data</span><span class="op" id="7578037">)</span><span class="op" id="7578038">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7578041">b</span><span class="op" id="7578042">[</span><span class="num" id="7578043">0</span><span class="op" id="7578044">]</span><span class="op" id="7578045">,</span>&nbsp;<span class="ident" id="7578047">b</span><span class="op" id="7578048">[</span><span class="num" id="7578049">1</span><span class="op" id="7578050">]</span>&nbsp;<span class="op" id="7578052">=</span>&nbsp;<span class="builtintype" id="7578054">byte</span><span class="op" id="7578058">(</span><span class="ident" id="7578059">p</span><span class="op" id="7578060">.</span><span class="ident" id="7578061">ID</span><span class="op" id="7578063">&gt;&gt;</span><span class="num" id="7578065">8</span><span class="op" id="7578066">)</span><span class="op" id="7578067">,</span>&nbsp;<span class="builtintype" id="7578069">byte</span><span class="op" id="7578073">(</span><span class="ident" id="7578074">p</span><span class="op" id="7578075">.</span><span class="ident" id="7578076">ID</span><span class="op" id="7578078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7578081">b</span><span class="op" id="7578082">[</span><span class="num" id="7578083">2</span><span class="op" id="7578084">]</span><span class="op" id="7578085">,</span>&nbsp;<span class="ident" id="7578087">b</span><span class="op" id="7578088">[</span><span class="num" id="7578089">3</span><span class="op" id="7578090">]</span>&nbsp;<span class="op" id="7578092">=</span>&nbsp;<span class="builtintype" id="7578094">byte</span><span class="op" id="7578098">(</span><span class="ident" id="7578099">p</span><span class="op" id="7578100">.</span><span class="ident" id="7578101">Seq</span><span class="op" id="7578104">&gt;&gt;</span><span class="num" id="7578106">8</span><span class="op" id="7578107">)</span><span class="op" id="7578108">,</span>&nbsp;<span class="builtintype" id="7578110">byte</span><span class="op" id="7578114">(</span><span class="ident" id="7578115">p</span><span class="op" id="7578116">.</span><span class="ident" id="7578117">Seq</span><span class="op" id="7578120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7578123">copy</span><span class="op" id="7578127">(</span><span class="ident" id="7578128">b</span><span class="op" id="7578129">[</span><span class="num" id="7578130">4</span><span class="op" id="7578131">:</span><span class="op" id="7578132">]</span><span class="op" id="7578133">,</span>&nbsp;<span class="ident" id="7578135">p</span><span class="op" id="7578136">.</span><span class="ident" id="7578137">Data</span><span class="op" id="7578141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7578144">return</span>&nbsp;<span class="ident" id="7578151">b</span><span class="op" id="7578152">,</span>&nbsp;<span class="ident" id="7578154">nil</span><br>
<span class="lineno"></span><span class="op" id="7578158">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="7578161">//&nbsp;parseICMPEcho&nbsp;parses&nbsp;b&nbsp;as&nbsp;an&nbsp;ICMP&nbsp;echo&nbsp;request&nbsp;or&nbsp;reply&nbsp;message</span><br>
<span class="lineno"></span><span class="comment" id="7578228">//&nbsp;body.</span><br>
<span class="lineno"></span><span class="keyword" id="7578237">func</span>&nbsp;<span class="ident" id="7578242">parseICMPEcho</span><span class="op" id="7578255">(</span><span class="ident" id="7578256">b</span>&nbsp;<span class="op" id="7578258">[</span><span class="op" id="7578259">]</span><span class="builtintype" id="7578260">byte</span><span class="op" id="7578264">)</span>&nbsp;<span class="op" id="7578266">(</span><span class="op" id="7578267">*</span><span class="ident" id="7578268">icmpEcho</span><span class="op" id="7578276">,</span>&nbsp;<span class="builtintype" id="7578278">error</span><span class="op" id="7578283">)</span>&nbsp;<span class="op" id="7578285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7578288">bodylen</span>&nbsp;<span class="op" id="7578296">:=</span>&nbsp;<span class="builtinfunc" id="7578299">len</span><span class="op" id="7578302">(</span><span class="ident" id="7578303">b</span><span class="op" id="7578304">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7578307">p</span>&nbsp;<span class="op" id="7578309">:=</span>&nbsp;<span class="op" id="7578312">&amp;</span><span class="ident" id="7578313">icmpEcho</span><span class="op" id="7578321">{</span><span class="ident" id="7578322">ID</span><span class="op" id="7578324">:</span>&nbsp;<span class="builtintype" id="7578326">int</span><span class="op" id="7578329">(</span><span class="ident" id="7578330">b</span><span class="op" id="7578331">[</span><span class="num" id="7578332">0</span><span class="op" id="7578333">]</span><span class="op" id="7578334">)</span><span class="op" id="7578335">&lt;&lt;</span><span class="num" id="7578337">8</span>&nbsp;<span class="op" id="7578339">|</span>&nbsp;<span class="builtintype" id="7578341">int</span><span class="op" id="7578344">(</span><span class="ident" id="7578345">b</span><span class="op" id="7578346">[</span><span class="num" id="7578347">1</span><span class="op" id="7578348">]</span><span class="op" id="7578349">)</span><span class="op" id="7578350">,</span>&nbsp;<span class="ident" id="7578352">Seq</span><span class="op" id="7578355">:</span>&nbsp;<span class="builtintype" id="7578357">int</span><span class="op" id="7578360">(</span><span class="ident" id="7578361">b</span><span class="op" id="7578362">[</span><span class="num" id="7578363">2</span><span class="op" id="7578364">]</span><span class="op" id="7578365">)</span><span class="op" id="7578366">&lt;&lt;</span><span class="num" id="7578368">8</span>&nbsp;<span class="op" id="7578370">|</span>&nbsp;<span class="builtintype" id="7578372">int</span><span class="op" id="7578375">(</span><span class="ident" id="7578376">b</span><span class="op" id="7578377">[</span><span class="num" id="7578378">3</span><span class="op" id="7578379">]</span><span class="op" id="7578380">)</span><span class="op" id="7578381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7578384">if</span>&nbsp;<span class="ident" id="7578387">bodylen</span>&nbsp;<span class="op" id="7578395">&gt;</span>&nbsp;<span class="num" id="7578397">4</span>&nbsp;<span class="op" id="7578399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7578403">p</span><span class="op" id="7578404">.</span><span class="ident" id="7578405">Data</span>&nbsp;<span class="op" id="7578410">=</span>&nbsp;<span class="builtinfunc" id="7578412">make</span><span class="op" id="7578416">(</span><span class="op" id="7578417">[</span><span class="op" id="7578418">]</span><span class="builtintype" id="7578419">byte</span><span class="op" id="7578423">,</span>&nbsp;<span class="ident" id="7578425">bodylen</span><span class="op" id="7578432">-</span><span class="num" id="7578433">4</span><span class="op" id="7578434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7578438">copy</span><span class="op" id="7578442">(</span><span class="ident" id="7578443">p</span><span class="op" id="7578444">.</span><span class="ident" id="7578445">Data</span><span class="op" id="7578449">,</span>&nbsp;<span class="ident" id="7578451">b</span><span class="op" id="7578452">[</span><span class="num" id="7578453">4</span><span class="op" id="7578454">:</span><span class="op" id="7578455">]</span><span class="op" id="7578456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7578459">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7578462">return</span>&nbsp;<span class="ident" id="7578469">p</span><span class="op" id="7578470">,</span>&nbsp;<span class="ident" id="7578472">nil</span><br>
<span class="lineno"></span><span class="op" id="7578476">}</span>
</div>
</body>
</html>
