<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strings</h2>
<ul>
<li><a href="/gostd/strings/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/strings/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/strings/reader.go.html" class="current">reader.go</a></li>
<li><a href="/gostd/strings/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/strings/replace.go.html">replace.go</a></li>
<li><a href="/gostd/strings/replace_test.go.html">replace_test.go</a></li>
<li><a href="/gostd/strings/search.go.html">search.go</a></li>
<li><a href="/gostd/strings/search_test.go.html">search_test.go</a></li>
<li><a href="/gostd/strings/strings.go.html">strings.go</a></li>
<li><a href="/gostd/strings/strings_decl.go.html">strings_decl.go</a></li>
<li><a href="/gostd/strings/strings_test.go.html">strings_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2286279">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2286334">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2286388">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2286439">package</span>&nbsp;<span class="ident" id="2286447">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2286456">import</span>&nbsp;<span class="op" id="2286463">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2286466">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2286476">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2286482">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2286497">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2286500">//&nbsp;A&nbsp;Reader&nbsp;implements&nbsp;the&nbsp;io.Reader,&nbsp;io.ReaderAt,&nbsp;io.Seeker,&nbsp;io.WriterTo,</span><br>
<span class="lineno"></span><span class="comment" id="2286575">//&nbsp;io.ByteScanner,&nbsp;and&nbsp;io.RuneScanner&nbsp;interfaces&nbsp;by&nbsp;reading</span><br>
<span class="lineno">15</span><span class="comment" id="2286635">//&nbsp;from&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2286653">type</span>&nbsp;<span class="ident" id="2286658">Reader</span>&nbsp;<span class="keyword" id="2286665">struct</span>&nbsp;<span class="op" id="2286672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2286675">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2286684">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2286692">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2286701">int64</span>&nbsp;<span class="comment" id="2286707">//&nbsp;current&nbsp;reading&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2286733">prevRune</span>&nbsp;<span class="builtintype" id="2286742">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2286748">//&nbsp;index&nbsp;of&nbsp;previous&nbsp;rune;&nbsp;or&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno">20</span><span class="op" id="2286782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2286785">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;of&nbsp;the&nbsp;unread&nbsp;portion&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2286849">//&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2286860">func</span>&nbsp;<span class="op" id="2286865">(</span><span class="ident" id="2286866">r</span>&nbsp;<span class="op" id="2286868">*</span><span class="ident" id="2286869">Reader</span><span class="op" id="2286875">)</span>&nbsp;<span class="ident" id="2286877">Len</span><span class="op" id="2286880">(</span><span class="op" id="2286881">)</span>&nbsp;<span class="builtintype" id="2286883">int</span>&nbsp;<span class="op" id="2286887">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2286890">if</span>&nbsp;<span class="ident" id="2286893">r</span><span class="op" id="2286894">.</span><span class="ident" id="2286895">i</span>&nbsp;<span class="op" id="2286897">&gt;=</span>&nbsp;<span class="ident" id="2286900">int64</span><span class="op" id="2286905">(</span><span class="builtinfunc" id="2286906">len</span><span class="op" id="2286909">(</span><span class="ident" id="2286910">r</span><span class="op" id="2286911">.</span><span class="ident" id="2286912">s</span><span class="op" id="2286913">)</span><span class="op" id="2286914">)</span>&nbsp;<span class="op" id="2286916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2286920">return</span>&nbsp;<span class="num" id="2286927">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2286930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2286933">return</span>&nbsp;<span class="builtintype" id="2286940">int</span><span class="op" id="2286943">(</span><span class="ident" id="2286944">int64</span><span class="op" id="2286949">(</span><span class="builtinfunc" id="2286950">len</span><span class="op" id="2286953">(</span><span class="ident" id="2286954">r</span><span class="op" id="2286955">.</span><span class="ident" id="2286956">s</span><span class="op" id="2286957">)</span><span class="op" id="2286958">)</span>&nbsp;<span class="op" id="2286960">-</span>&nbsp;<span class="ident" id="2286962">r</span><span class="op" id="2286963">.</span><span class="ident" id="2286964">i</span><span class="op" id="2286965">)</span><br>
<span class="lineno"></span><span class="op" id="2286967">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="2286970">func</span>&nbsp;<span class="op" id="2286975">(</span><span class="ident" id="2286976">r</span>&nbsp;<span class="op" id="2286978">*</span><span class="ident" id="2286979">Reader</span><span class="op" id="2286985">)</span>&nbsp;<span class="ident" id="2286987">Read</span><span class="op" id="2286991">(</span><span class="ident" id="2286992">b</span>&nbsp;<span class="op" id="2286994">[</span><span class="op" id="2286995">]</span><span class="builtintype" id="2286996">byte</span><span class="op" id="2287000">)</span>&nbsp;<span class="op" id="2287002">(</span><span class="ident" id="2287003">n</span>&nbsp;<span class="builtintype" id="2287005">int</span><span class="op" id="2287008">,</span>&nbsp;<span class="ident" id="2287010">err</span>&nbsp;<span class="builtintype" id="2287014">error</span><span class="op" id="2287019">)</span>&nbsp;<span class="op" id="2287021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287024">if</span>&nbsp;<span class="builtinfunc" id="2287027">len</span><span class="op" id="2287030">(</span><span class="ident" id="2287031">b</span><span class="op" id="2287032">)</span>&nbsp;<span class="op" id="2287034">==</span>&nbsp;<span class="num" id="2287037">0</span>&nbsp;<span class="op" id="2287039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287043">return</span>&nbsp;<span class="num" id="2287050">0</span><span class="op" id="2287051">,</span>&nbsp;<span class="builtintype" id="2287053">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2287058">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287061">if</span>&nbsp;<span class="ident" id="2287064">r</span><span class="op" id="2287065">.</span><span class="ident" id="2287066">i</span>&nbsp;<span class="op" id="2287068">&gt;=</span>&nbsp;<span class="ident" id="2287071">int64</span><span class="op" id="2287076">(</span><span class="builtinfunc" id="2287077">len</span><span class="op" id="2287080">(</span><span class="ident" id="2287081">r</span><span class="op" id="2287082">.</span><span class="ident" id="2287083">s</span><span class="op" id="2287084">)</span><span class="op" id="2287085">)</span>&nbsp;<span class="op" id="2287087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287091">return</span>&nbsp;<span class="num" id="2287098">0</span><span class="op" id="2287099">,</span>&nbsp;<span class="ident" id="2287101">io</span><span class="op" id="2287103">.</span><span class="ident" id="2287104">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2287109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287112">r</span><span class="op" id="2287113">.</span><span class="ident" id="2287114">prevRune</span>&nbsp;<span class="op" id="2287123">=</span>&nbsp;<span class="op" id="2287125">-</span><span class="num" id="2287126">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287129">n</span>&nbsp;<span class="op" id="2287131">=</span>&nbsp;<span class="builtinfunc" id="2287133">copy</span><span class="op" id="2287137">(</span><span class="ident" id="2287138">b</span><span class="op" id="2287139">,</span>&nbsp;<span class="ident" id="2287141">r</span><span class="op" id="2287142">.</span><span class="ident" id="2287143">s</span><span class="op" id="2287144">[</span><span class="ident" id="2287145">r</span><span class="op" id="2287146">.</span><span class="ident" id="2287147">i</span><span class="op" id="2287148">:</span><span class="op" id="2287149">]</span><span class="op" id="2287150">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287153">r</span><span class="op" id="2287154">.</span><span class="ident" id="2287155">i</span>&nbsp;<span class="op" id="2287157">+=</span>&nbsp;<span class="ident" id="2287160">int64</span><span class="op" id="2287165">(</span><span class="ident" id="2287166">n</span><span class="op" id="2287167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287170">return</span><br>
<span class="lineno"></span><span class="op" id="2287177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2287180">func</span>&nbsp;<span class="op" id="2287185">(</span><span class="ident" id="2287186">r</span>&nbsp;<span class="op" id="2287188">*</span><span class="ident" id="2287189">Reader</span><span class="op" id="2287195">)</span>&nbsp;<span class="ident" id="2287197">ReadAt</span><span class="op" id="2287203">(</span><span class="ident" id="2287204">b</span>&nbsp;<span class="op" id="2287206">[</span><span class="op" id="2287207">]</span><span class="builtintype" id="2287208">byte</span><span class="op" id="2287212">,</span>&nbsp;<span class="ident" id="2287214">off</span>&nbsp;<span class="ident" id="2287218">int64</span><span class="op" id="2287223">)</span>&nbsp;<span class="op" id="2287225">(</span><span class="ident" id="2287226">n</span>&nbsp;<span class="builtintype" id="2287228">int</span><span class="op" id="2287231">,</span>&nbsp;<span class="ident" id="2287233">err</span>&nbsp;<span class="builtintype" id="2287237">error</span><span class="op" id="2287242">)</span>&nbsp;<span class="op" id="2287244">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2287247">//&nbsp;cannot&nbsp;modify&nbsp;state&nbsp;-&nbsp;see&nbsp;io.ReaderAt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287289">if</span>&nbsp;<span class="ident" id="2287292">off</span>&nbsp;<span class="op" id="2287296">&lt;</span>&nbsp;<span class="num" id="2287298">0</span>&nbsp;<span class="op" id="2287300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287304">return</span>&nbsp;<span class="num" id="2287311">0</span><span class="op" id="2287312">,</span>&nbsp;<span class="ident" id="2287314">errors</span><span class="op" id="2287320">.</span><span class="ident" id="2287321">New</span><span class="op" id="2287324">(</span><span class="string" id="2287325">&#34;strings.Reader.ReadAt:&nbsp;negative&nbsp;offset&#34;</span><span class="op" id="2287365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2287368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287371">if</span>&nbsp;<span class="ident" id="2287374">off</span>&nbsp;<span class="op" id="2287378">&gt;=</span>&nbsp;<span class="ident" id="2287381">int64</span><span class="op" id="2287386">(</span><span class="builtinfunc" id="2287387">len</span><span class="op" id="2287390">(</span><span class="ident" id="2287391">r</span><span class="op" id="2287392">.</span><span class="ident" id="2287393">s</span><span class="op" id="2287394">)</span><span class="op" id="2287395">)</span>&nbsp;<span class="op" id="2287397">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287401">return</span>&nbsp;<span class="num" id="2287408">0</span><span class="op" id="2287409">,</span>&nbsp;<span class="ident" id="2287411">io</span><span class="op" id="2287413">.</span><span class="ident" id="2287414">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2287419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287422">n</span>&nbsp;<span class="op" id="2287424">=</span>&nbsp;<span class="builtinfunc" id="2287426">copy</span><span class="op" id="2287430">(</span><span class="ident" id="2287431">b</span><span class="op" id="2287432">,</span>&nbsp;<span class="ident" id="2287434">r</span><span class="op" id="2287435">.</span><span class="ident" id="2287436">s</span><span class="op" id="2287437">[</span><span class="ident" id="2287438">off</span><span class="op" id="2287441">:</span><span class="op" id="2287442">]</span><span class="op" id="2287443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287446">if</span>&nbsp;<span class="ident" id="2287449">n</span>&nbsp;<span class="op" id="2287451">&lt;</span>&nbsp;<span class="builtinfunc" id="2287453">len</span><span class="op" id="2287456">(</span><span class="ident" id="2287457">b</span><span class="op" id="2287458">)</span>&nbsp;<span class="op" id="2287460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287464">err</span>&nbsp;<span class="op" id="2287468">=</span>&nbsp;<span class="ident" id="2287470">io</span><span class="op" id="2287472">.</span><span class="ident" id="2287473">EOF</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2287478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287481">return</span><br>
<span class="lineno"></span><span class="op" id="2287488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2287491">func</span>&nbsp;<span class="op" id="2287496">(</span><span class="ident" id="2287497">r</span>&nbsp;<span class="op" id="2287499">*</span><span class="ident" id="2287500">Reader</span><span class="op" id="2287506">)</span>&nbsp;<span class="ident" id="2287508">ReadByte</span><span class="op" id="2287516">(</span><span class="op" id="2287517">)</span>&nbsp;<span class="op" id="2287519">(</span><span class="ident" id="2287520">b</span>&nbsp;<span class="builtintype" id="2287522">byte</span><span class="op" id="2287526">,</span>&nbsp;<span class="ident" id="2287528">err</span>&nbsp;<span class="builtintype" id="2287532">error</span><span class="op" id="2287537">)</span>&nbsp;<span class="op" id="2287539">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287542">r</span><span class="op" id="2287543">.</span><span class="ident" id="2287544">prevRune</span>&nbsp;<span class="op" id="2287553">=</span>&nbsp;<span class="op" id="2287555">-</span><span class="num" id="2287556">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287559">if</span>&nbsp;<span class="ident" id="2287562">r</span><span class="op" id="2287563">.</span><span class="ident" id="2287564">i</span>&nbsp;<span class="op" id="2287566">&gt;=</span>&nbsp;<span class="ident" id="2287569">int64</span><span class="op" id="2287574">(</span><span class="builtinfunc" id="2287575">len</span><span class="op" id="2287578">(</span><span class="ident" id="2287579">r</span><span class="op" id="2287580">.</span><span class="ident" id="2287581">s</span><span class="op" id="2287582">)</span><span class="op" id="2287583">)</span>&nbsp;<span class="op" id="2287585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287589">return</span>&nbsp;<span class="num" id="2287596">0</span><span class="op" id="2287597">,</span>&nbsp;<span class="ident" id="2287599">io</span><span class="op" id="2287601">.</span><span class="ident" id="2287602">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2287607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287610">b</span>&nbsp;<span class="op" id="2287612">=</span>&nbsp;<span class="ident" id="2287614">r</span><span class="op" id="2287615">.</span><span class="ident" id="2287616">s</span><span class="op" id="2287617">[</span><span class="ident" id="2287618">r</span><span class="op" id="2287619">.</span><span class="ident" id="2287620">i</span><span class="op" id="2287621">]</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287624">r</span><span class="op" id="2287625">.</span><span class="ident" id="2287626">i</span><span class="op" id="2287627">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287631">return</span><br>
<span class="lineno"></span><span class="op" id="2287638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2287641">func</span>&nbsp;<span class="op" id="2287646">(</span><span class="ident" id="2287647">r</span>&nbsp;<span class="op" id="2287649">*</span><span class="ident" id="2287650">Reader</span><span class="op" id="2287656">)</span>&nbsp;<span class="ident" id="2287658">UnreadByte</span><span class="op" id="2287668">(</span><span class="op" id="2287669">)</span>&nbsp;<span class="builtintype" id="2287671">error</span>&nbsp;<span class="op" id="2287677">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287680">r</span><span class="op" id="2287681">.</span><span class="ident" id="2287682">prevRune</span>&nbsp;<span class="op" id="2287691">=</span>&nbsp;<span class="op" id="2287693">-</span><span class="num" id="2287694">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287697">if</span>&nbsp;<span class="ident" id="2287700">r</span><span class="op" id="2287701">.</span><span class="ident" id="2287702">i</span>&nbsp;<span class="op" id="2287704">&lt;=</span>&nbsp;<span class="num" id="2287707">0</span>&nbsp;<span class="op" id="2287709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287713">return</span>&nbsp;<span class="ident" id="2287720">errors</span><span class="op" id="2287726">.</span><span class="ident" id="2287727">New</span><span class="op" id="2287730">(</span><span class="string" id="2287731">&#34;strings.Reader.UnreadByte:&nbsp;at&nbsp;beginning&nbsp;of&nbsp;string&#34;</span><span class="op" id="2287782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2287785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287788">r</span><span class="op" id="2287789">.</span><span class="ident" id="2287790">i</span><span class="op" id="2287791">--</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287795">return</span>&nbsp;<span class="builtintype" id="2287802">nil</span><br>
<span class="lineno"></span><span class="op" id="2287806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2287809">func</span>&nbsp;<span class="op" id="2287814">(</span><span class="ident" id="2287815">r</span>&nbsp;<span class="op" id="2287817">*</span><span class="ident" id="2287818">Reader</span><span class="op" id="2287824">)</span>&nbsp;<span class="ident" id="2287826">ReadRune</span><span class="op" id="2287834">(</span><span class="op" id="2287835">)</span>&nbsp;<span class="op" id="2287837">(</span><span class="ident" id="2287838">ch</span>&nbsp;<span class="builtintype" id="2287841">rune</span><span class="op" id="2287845">,</span>&nbsp;<span class="ident" id="2287847">size</span>&nbsp;<span class="builtintype" id="2287852">int</span><span class="op" id="2287855">,</span>&nbsp;<span class="ident" id="2287857">err</span>&nbsp;<span class="builtintype" id="2287861">error</span><span class="op" id="2287866">)</span>&nbsp;<span class="op" id="2287868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287871">if</span>&nbsp;<span class="ident" id="2287874">r</span><span class="op" id="2287875">.</span><span class="ident" id="2287876">i</span>&nbsp;<span class="op" id="2287878">&gt;=</span>&nbsp;<span class="ident" id="2287881">int64</span><span class="op" id="2287886">(</span><span class="builtinfunc" id="2287887">len</span><span class="op" id="2287890">(</span><span class="ident" id="2287891">r</span><span class="op" id="2287892">.</span><span class="ident" id="2287893">s</span><span class="op" id="2287894">)</span><span class="op" id="2287895">)</span>&nbsp;<span class="op" id="2287897">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287901">r</span><span class="op" id="2287902">.</span><span class="ident" id="2287903">prevRune</span>&nbsp;<span class="op" id="2287912">=</span>&nbsp;<span class="op" id="2287914">-</span><span class="num" id="2287915">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287919">return</span>&nbsp;<span class="num" id="2287926">0</span><span class="op" id="2287927">,</span>&nbsp;<span class="num" id="2287929">0</span><span class="op" id="2287930">,</span>&nbsp;<span class="ident" id="2287932">io</span><span class="op" id="2287934">.</span><span class="ident" id="2287935">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2287940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2287943">r</span><span class="op" id="2287944">.</span><span class="ident" id="2287945">prevRune</span>&nbsp;<span class="op" id="2287954">=</span>&nbsp;<span class="builtintype" id="2287956">int</span><span class="op" id="2287959">(</span><span class="ident" id="2287960">r</span><span class="op" id="2287961">.</span><span class="ident" id="2287962">i</span><span class="op" id="2287963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2287966">if</span>&nbsp;<span class="ident" id="2287969">c</span>&nbsp;<span class="op" id="2287971">:=</span>&nbsp;<span class="ident" id="2287974">r</span><span class="op" id="2287975">.</span><span class="ident" id="2287976">s</span><span class="op" id="2287977">[</span><span class="ident" id="2287978">r</span><span class="op" id="2287979">.</span><span class="ident" id="2287980">i</span><span class="op" id="2287981">]</span><span class="op" id="2287982">;</span>&nbsp;<span class="ident" id="2287984">c</span>&nbsp;<span class="op" id="2287986">&lt;</span>&nbsp;<span class="ident" id="2287988">utf8</span><span class="op" id="2287992">.</span><span class="ident" id="2287993">RuneSelf</span>&nbsp;<span class="op" id="2288002">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288006">r</span><span class="op" id="2288007">.</span><span class="ident" id="2288008">i</span><span class="op" id="2288009">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288014">return</span>&nbsp;<span class="builtintype" id="2288021">rune</span><span class="op" id="2288025">(</span><span class="ident" id="2288026">c</span><span class="op" id="2288027">)</span><span class="op" id="2288028">,</span>&nbsp;<span class="num" id="2288030">1</span><span class="op" id="2288031">,</span>&nbsp;<span class="builtintype" id="2288033">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2288038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288041">ch</span><span class="op" id="2288043">,</span>&nbsp;<span class="ident" id="2288045">size</span>&nbsp;<span class="op" id="2288050">=</span>&nbsp;<span class="ident" id="2288052">utf8</span><span class="op" id="2288056">.</span><span class="ident" id="2288057">DecodeRuneInString</span><span class="op" id="2288075">(</span><span class="ident" id="2288076">r</span><span class="op" id="2288077">.</span><span class="ident" id="2288078">s</span><span class="op" id="2288079">[</span><span class="ident" id="2288080">r</span><span class="op" id="2288081">.</span><span class="ident" id="2288082">i</span><span class="op" id="2288083">:</span><span class="op" id="2288084">]</span><span class="op" id="2288085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288088">r</span><span class="op" id="2288089">.</span><span class="ident" id="2288090">i</span>&nbsp;<span class="op" id="2288092">+=</span>&nbsp;<span class="ident" id="2288095">int64</span><span class="op" id="2288100">(</span><span class="ident" id="2288101">size</span><span class="op" id="2288105">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288108">return</span><br>
<span class="lineno"></span><span class="op" id="2288115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2288118">func</span>&nbsp;<span class="op" id="2288123">(</span><span class="ident" id="2288124">r</span>&nbsp;<span class="op" id="2288126">*</span><span class="ident" id="2288127">Reader</span><span class="op" id="2288133">)</span>&nbsp;<span class="ident" id="2288135">UnreadRune</span><span class="op" id="2288145">(</span><span class="op" id="2288146">)</span>&nbsp;<span class="builtintype" id="2288148">error</span>&nbsp;<span class="op" id="2288154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288157">if</span>&nbsp;<span class="ident" id="2288160">r</span><span class="op" id="2288161">.</span><span class="ident" id="2288162">prevRune</span>&nbsp;<span class="op" id="2288171">&lt;</span>&nbsp;<span class="num" id="2288173">0</span>&nbsp;<span class="op" id="2288175">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288179">return</span>&nbsp;<span class="ident" id="2288186">errors</span><span class="op" id="2288192">.</span><span class="ident" id="2288193">New</span><span class="op" id="2288196">(</span><span class="string" id="2288197">&#34;strings.Reader.UnreadRune:&nbsp;previous&nbsp;operation&nbsp;was&nbsp;not&nbsp;ReadRune&#34;</span><span class="op" id="2288261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2288264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288267">r</span><span class="op" id="2288268">.</span><span class="ident" id="2288269">i</span>&nbsp;<span class="op" id="2288271">=</span>&nbsp;<span class="ident" id="2288273">int64</span><span class="op" id="2288278">(</span><span class="ident" id="2288279">r</span><span class="op" id="2288280">.</span><span class="ident" id="2288281">prevRune</span><span class="op" id="2288289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288292">r</span><span class="op" id="2288293">.</span><span class="ident" id="2288294">prevRune</span>&nbsp;<span class="op" id="2288303">=</span>&nbsp;<span class="op" id="2288305">-</span><span class="num" id="2288306">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288309">return</span>&nbsp;<span class="builtintype" id="2288316">nil</span><br>
<span class="lineno">100</span><span class="op" id="2288320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2288323">//&nbsp;Seek&nbsp;implements&nbsp;the&nbsp;io.Seeker&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2288367">func</span>&nbsp;<span class="op" id="2288372">(</span><span class="ident" id="2288373">r</span>&nbsp;<span class="op" id="2288375">*</span><span class="ident" id="2288376">Reader</span><span class="op" id="2288382">)</span>&nbsp;<span class="ident" id="2288384">Seek</span><span class="op" id="2288388">(</span><span class="ident" id="2288389">offset</span>&nbsp;<span class="ident" id="2288396">int64</span><span class="op" id="2288401">,</span>&nbsp;<span class="ident" id="2288403">whence</span>&nbsp;<span class="builtintype" id="2288410">int</span><span class="op" id="2288413">)</span>&nbsp;<span class="op" id="2288415">(</span><span class="ident" id="2288416">int64</span><span class="op" id="2288421">,</span>&nbsp;<span class="builtintype" id="2288423">error</span><span class="op" id="2288428">)</span>&nbsp;<span class="op" id="2288430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288433">r</span><span class="op" id="2288434">.</span><span class="ident" id="2288435">prevRune</span>&nbsp;<span class="op" id="2288444">=</span>&nbsp;<span class="op" id="2288446">-</span><span class="num" id="2288447">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288450">var</span>&nbsp;<span class="ident" id="2288454">abs</span>&nbsp;<span class="ident" id="2288458">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288465">switch</span>&nbsp;<span class="ident" id="2288472">whence</span>&nbsp;<span class="op" id="2288479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288482">case</span>&nbsp;<span class="num" id="2288487">0</span><span class="op" id="2288488">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288492">abs</span>&nbsp;<span class="op" id="2288496">=</span>&nbsp;<span class="ident" id="2288498">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288506">case</span>&nbsp;<span class="num" id="2288511">1</span><span class="op" id="2288512">:</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288516">abs</span>&nbsp;<span class="op" id="2288520">=</span>&nbsp;<span class="ident" id="2288522">int64</span><span class="op" id="2288527">(</span><span class="ident" id="2288528">r</span><span class="op" id="2288529">.</span><span class="ident" id="2288530">i</span><span class="op" id="2288531">)</span>&nbsp;<span class="op" id="2288533">+</span>&nbsp;<span class="ident" id="2288535">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288543">case</span>&nbsp;<span class="num" id="2288548">2</span><span class="op" id="2288549">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288553">abs</span>&nbsp;<span class="op" id="2288557">=</span>&nbsp;<span class="ident" id="2288559">int64</span><span class="op" id="2288564">(</span><span class="builtinfunc" id="2288565">len</span><span class="op" id="2288568">(</span><span class="ident" id="2288569">r</span><span class="op" id="2288570">.</span><span class="ident" id="2288571">s</span><span class="op" id="2288572">)</span><span class="op" id="2288573">)</span>&nbsp;<span class="op" id="2288575">+</span>&nbsp;<span class="ident" id="2288577">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288585">default</span><span class="op" id="2288592">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288596">return</span>&nbsp;<span class="num" id="2288603">0</span><span class="op" id="2288604">,</span>&nbsp;<span class="ident" id="2288606">errors</span><span class="op" id="2288612">.</span><span class="ident" id="2288613">New</span><span class="op" id="2288616">(</span><span class="string" id="2288617">&#34;strings.Reader.Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="2288654">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2288657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288660">if</span>&nbsp;<span class="ident" id="2288663">abs</span>&nbsp;<span class="op" id="2288667">&lt;</span>&nbsp;<span class="num" id="2288669">0</span>&nbsp;<span class="op" id="2288671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288675">return</span>&nbsp;<span class="num" id="2288682">0</span><span class="op" id="2288683">,</span>&nbsp;<span class="ident" id="2288685">errors</span><span class="op" id="2288691">.</span><span class="ident" id="2288692">New</span><span class="op" id="2288695">(</span><span class="string" id="2288696">&#34;strings.Reader.Seek:&nbsp;negative&nbsp;position&#34;</span><span class="op" id="2288736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2288739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288742">r</span><span class="op" id="2288743">.</span><span class="ident" id="2288744">i</span>&nbsp;<span class="op" id="2288746">=</span>&nbsp;<span class="ident" id="2288748">abs</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288753">return</span>&nbsp;<span class="ident" id="2288760">abs</span><span class="op" id="2288763">,</span>&nbsp;<span class="builtintype" id="2288765">nil</span><br>
<span class="lineno"></span><span class="op" id="2288769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2288772">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;io.WriterTo&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2288821">func</span>&nbsp;<span class="op" id="2288826">(</span><span class="ident" id="2288827">r</span>&nbsp;<span class="op" id="2288829">*</span><span class="ident" id="2288830">Reader</span><span class="op" id="2288836">)</span>&nbsp;<span class="ident" id="2288838">WriteTo</span><span class="op" id="2288845">(</span><span class="ident" id="2288846">w</span>&nbsp;<span class="ident" id="2288848">io</span><span class="op" id="2288850">.</span><span class="ident" id="2288851">Writer</span><span class="op" id="2288857">)</span>&nbsp;<span class="op" id="2288859">(</span><span class="ident" id="2288860">n</span>&nbsp;<span class="ident" id="2288862">int64</span><span class="op" id="2288867">,</span>&nbsp;<span class="ident" id="2288869">err</span>&nbsp;<span class="builtintype" id="2288873">error</span><span class="op" id="2288878">)</span>&nbsp;<span class="op" id="2288880">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288883">r</span><span class="op" id="2288884">.</span><span class="ident" id="2288885">prevRune</span>&nbsp;<span class="op" id="2288894">=</span>&nbsp;<span class="op" id="2288896">-</span><span class="num" id="2288897">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288900">if</span>&nbsp;<span class="ident" id="2288903">r</span><span class="op" id="2288904">.</span><span class="ident" id="2288905">i</span>&nbsp;<span class="op" id="2288907">&gt;=</span>&nbsp;<span class="ident" id="2288910">int64</span><span class="op" id="2288915">(</span><span class="builtinfunc" id="2288916">len</span><span class="op" id="2288919">(</span><span class="ident" id="2288920">r</span><span class="op" id="2288921">.</span><span class="ident" id="2288922">s</span><span class="op" id="2288923">)</span><span class="op" id="2288924">)</span>&nbsp;<span class="op" id="2288926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288930">return</span>&nbsp;<span class="num" id="2288937">0</span><span class="op" id="2288938">,</span>&nbsp;<span class="builtintype" id="2288940">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2288945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288948">s</span>&nbsp;<span class="op" id="2288950">:=</span>&nbsp;<span class="ident" id="2288953">r</span><span class="op" id="2288954">.</span><span class="ident" id="2288955">s</span><span class="op" id="2288956">[</span><span class="ident" id="2288957">r</span><span class="op" id="2288958">.</span><span class="ident" id="2288959">i</span><span class="op" id="2288960">:</span><span class="op" id="2288961">]</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2288964">m</span><span class="op" id="2288965">,</span>&nbsp;<span class="ident" id="2288967">err</span>&nbsp;<span class="op" id="2288971">:=</span>&nbsp;<span class="ident" id="2288974">io</span><span class="op" id="2288976">.</span><span class="ident" id="2288977">WriteString</span><span class="op" id="2288988">(</span><span class="ident" id="2288989">w</span><span class="op" id="2288990">,</span>&nbsp;<span class="ident" id="2288992">s</span><span class="op" id="2288993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2288996">if</span>&nbsp;<span class="ident" id="2288999">m</span>&nbsp;<span class="op" id="2289001">&gt;</span>&nbsp;<span class="builtinfunc" id="2289003">len</span><span class="op" id="2289006">(</span><span class="ident" id="2289007">s</span><span class="op" id="2289008">)</span>&nbsp;<span class="op" id="2289010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2289014">panic</span><span class="op" id="2289019">(</span><span class="string" id="2289020">&#34;strings.Reader.WriteTo:&nbsp;invalid&nbsp;WriteString&nbsp;count&#34;</span><span class="op" id="2289071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2289074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2289077">r</span><span class="op" id="2289078">.</span><span class="ident" id="2289079">i</span>&nbsp;<span class="op" id="2289081">+=</span>&nbsp;<span class="ident" id="2289084">int64</span><span class="op" id="2289089">(</span><span class="ident" id="2289090">m</span><span class="op" id="2289091">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2289094">n</span>&nbsp;<span class="op" id="2289096">=</span>&nbsp;<span class="ident" id="2289098">int64</span><span class="op" id="2289103">(</span><span class="ident" id="2289104">m</span><span class="op" id="2289105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2289108">if</span>&nbsp;<span class="ident" id="2289111">m</span>&nbsp;<span class="op" id="2289113">!=</span>&nbsp;<span class="builtinfunc" id="2289116">len</span><span class="op" id="2289119">(</span><span class="ident" id="2289120">s</span><span class="op" id="2289121">)</span>&nbsp;<span class="op" id="2289123">&amp;&amp;</span>&nbsp;<span class="ident" id="2289126">err</span>&nbsp;<span class="op" id="2289130">==</span>&nbsp;<span class="builtintype" id="2289133">nil</span>&nbsp;<span class="op" id="2289137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2289141">err</span>&nbsp;<span class="op" id="2289145">=</span>&nbsp;<span class="ident" id="2289147">io</span><span class="op" id="2289149">.</span><span class="ident" id="2289150">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2289165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2289168">return</span><br>
<span class="lineno">140</span><span class="op" id="2289175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2289178">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;from&nbsp;s.</span><br>
<span class="lineno"></span><span class="comment" id="2289228">//&nbsp;It&nbsp;is&nbsp;similar&nbsp;to&nbsp;bytes.NewBufferString&nbsp;but&nbsp;more&nbsp;efficient&nbsp;and&nbsp;read-only.</span><br>
<span class="lineno"></span><span class="keyword" id="2289304">func</span>&nbsp;<span class="ident" id="2289309">NewReader</span><span class="op" id="2289318">(</span><span class="ident" id="2289319">s</span>&nbsp;<span class="builtintype" id="2289321">string</span><span class="op" id="2289327">)</span>&nbsp;<span class="op" id="2289329">*</span><span class="ident" id="2289330">Reader</span>&nbsp;<span class="op" id="2289337">{</span>&nbsp;<span class="keyword" id="2289339">return</span>&nbsp;<span class="op" id="2289346">&amp;</span><span class="ident" id="2289347">Reader</span><span class="op" id="2289353">{</span><span class="ident" id="2289354">s</span><span class="op" id="2289355">,</span>&nbsp;<span class="num" id="2289357">0</span><span class="op" id="2289358">,</span>&nbsp;<span class="op" id="2289360">-</span><span class="num" id="2289361">1</span><span class="op" id="2289362">}</span>&nbsp;<span class="op" id="2289364">}</span>
</div>
</body>
</html>
