<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html" class="current">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3332946">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3333001">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3333055">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3333106">/*<br>
<span class="lineno"></span>Package&nbsp;net&nbsp;provides&nbsp;a&nbsp;portable&nbsp;interface&nbsp;for&nbsp;network&nbsp;I/O,&nbsp;including<br>
<span class="lineno"></span>TCP/IP,&nbsp;UDP,&nbsp;domain&nbsp;name&nbsp;resolution,&nbsp;and&nbsp;Unix&nbsp;domain&nbsp;sockets.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Although&nbsp;the&nbsp;package&nbsp;provides&nbsp;access&nbsp;to&nbsp;low-level&nbsp;networking<br>
<span class="lineno">10</span>primitives,&nbsp;most&nbsp;clients&nbsp;will&nbsp;need&nbsp;only&nbsp;the&nbsp;basic&nbsp;interface&nbsp;provided<br>
<span class="lineno"></span>by&nbsp;the&nbsp;Dial,&nbsp;Listen,&nbsp;and&nbsp;Accept&nbsp;functions&nbsp;and&nbsp;the&nbsp;associated<br>
<span class="lineno"></span>Conn&nbsp;and&nbsp;Listener&nbsp;interfaces.&nbsp;The&nbsp;crypto/tls&nbsp;package&nbsp;uses<br>
<span class="lineno"></span>the&nbsp;same&nbsp;interfaces&nbsp;and&nbsp;similar&nbsp;Dial&nbsp;and&nbsp;Listen&nbsp;functions.<br>
<span class="lineno"></span><br>
<span class="lineno">15</span>The&nbsp;Dial&nbsp;function&nbsp;connects&nbsp;to&nbsp;a&nbsp;server:<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;conn,&nbsp;err&nbsp;:=&nbsp;net.Dial(&#34;tcp&#34;,&nbsp;&#34;google.com:80&#34;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;handle&nbsp;error<br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Fprintf(conn,&nbsp;&#34;GET&nbsp;/&nbsp;HTTP/1.0\r\n\r\n&#34;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;status,&nbsp;err&nbsp;:=&nbsp;bufio.NewReader(conn).ReadString(&#39;\n&#39;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;...<br>
<span class="lineno"></span><br>
<span class="lineno">25</span>The&nbsp;Listen&nbsp;function&nbsp;creates&nbsp;servers:<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;ln,&nbsp;err&nbsp;:=&nbsp;net.Listen(&#34;tcp&#34;,&nbsp;&#34;:8080&#34;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;handle&nbsp;error<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn,&nbsp;err&nbsp;:=&nbsp;ln.Accept()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;handle&nbsp;error<br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go&nbsp;handleConnection(conn)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<span class="lineno"></span>*/</span><br>
<span class="lineno"></span><span class="keyword" id="3334009">package</span>&nbsp;<span class="ident" id="3334017">net</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="3334022">//&nbsp;TODO(rsc):</span><br>
<span class="lineno"></span><span class="comment" id="3334036">//&nbsp;&nbsp;&nbsp;&nbsp;support&nbsp;for&nbsp;raw&nbsp;ethernet&nbsp;sockets</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3334073">import</span>&nbsp;<span class="op" id="3334080">(</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3334083">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3334093">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3334099">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3334105">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3334116">&#34;time&#34;</span><br>
<span class="lineno">50</span><span class="op" id="3334123">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3334126">//&nbsp;Addr&nbsp;represents&nbsp;a&nbsp;network&nbsp;end&nbsp;point&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="3334174">type</span>&nbsp;<span class="ident" id="3334179">Addr</span>&nbsp;<span class="keyword" id="3334184">interface</span>&nbsp;<span class="op" id="3334194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334197">Network</span><span class="op" id="3334204">(</span><span class="op" id="3334205">)</span>&nbsp;<span class="builtintype" id="3334207">string</span>&nbsp;<span class="comment" id="3334214">//&nbsp;name&nbsp;of&nbsp;the&nbsp;network</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334238">String</span><span class="op" id="3334244">(</span><span class="op" id="3334245">)</span>&nbsp;<span class="builtintype" id="3334247">string</span>&nbsp;&nbsp;<span class="comment" id="3334255">//&nbsp;string&nbsp;form&nbsp;of&nbsp;address</span><br>
<span class="lineno"></span><span class="op" id="3334281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3334284">//&nbsp;Conn&nbsp;is&nbsp;a&nbsp;generic&nbsp;stream-oriented&nbsp;network&nbsp;connection.</span><br>
<span class="lineno"></span><span class="comment" id="3334341">//</span><br>
<span class="lineno">60</span><span class="comment" id="3334344">//&nbsp;Multiple&nbsp;goroutines&nbsp;may&nbsp;invoke&nbsp;methods&nbsp;on&nbsp;a&nbsp;Conn&nbsp;simultaneously.</span><br>
<span class="lineno"></span><span class="keyword" id="3334412">type</span>&nbsp;<span class="ident" id="3334417">Conn</span>&nbsp;<span class="keyword" id="3334422">interface</span>&nbsp;<span class="op" id="3334432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3334435">//&nbsp;Read&nbsp;reads&nbsp;data&nbsp;from&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3334476">//&nbsp;Read&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;a&nbsp;Error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3334551">//&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetReadDeadline.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334618">Read</span><span class="op" id="3334622">(</span><span class="ident" id="3334623">b</span>&nbsp;<span class="op" id="3334625">[</span><span class="op" id="3334626">]</span><span class="builtintype" id="3334627">byte</span><span class="op" id="3334631">)</span>&nbsp;<span class="op" id="3334633">(</span><span class="ident" id="3334634">n</span>&nbsp;<span class="builtintype" id="3334636">int</span><span class="op" id="3334639">,</span>&nbsp;<span class="ident" id="3334641">err</span>&nbsp;<span class="builtintype" id="3334645">error</span><span class="op" id="3334650">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3334654">//&nbsp;Write&nbsp;writes&nbsp;data&nbsp;to&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3334695">//&nbsp;Write&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;a&nbsp;Error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3334771">//&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetWriteDeadline.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334839">Write</span><span class="op" id="3334844">(</span><span class="ident" id="3334845">b</span>&nbsp;<span class="op" id="3334847">[</span><span class="op" id="3334848">]</span><span class="builtintype" id="3334849">byte</span><span class="op" id="3334853">)</span>&nbsp;<span class="op" id="3334855">(</span><span class="ident" id="3334856">n</span>&nbsp;<span class="builtintype" id="3334858">int</span><span class="op" id="3334861">,</span>&nbsp;<span class="ident" id="3334863">err</span>&nbsp;<span class="builtintype" id="3334867">error</span><span class="op" id="3334872">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3334876">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3334909">//&nbsp;Any&nbsp;blocked&nbsp;Read&nbsp;or&nbsp;Write&nbsp;operations&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;and&nbsp;return&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3334987">Close</span><span class="op" id="3334992">(</span><span class="op" id="3334993">)</span>&nbsp;<span class="builtintype" id="3334995">error</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335003">//&nbsp;LocalAddr&nbsp;returns&nbsp;the&nbsp;local&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335052">LocalAddr</span><span class="op" id="3335061">(</span><span class="op" id="3335062">)</span>&nbsp;<span class="ident" id="3335064"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335071">//&nbsp;RemoteAddr&nbsp;returns&nbsp;the&nbsp;remote&nbsp;network&nbsp;address.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335122">RemoteAddr</span><span class="op" id="3335132">(</span><span class="op" id="3335133">)</span>&nbsp;<span class="ident" id="3335135"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335142">//&nbsp;SetDeadline&nbsp;sets&nbsp;the&nbsp;read&nbsp;and&nbsp;write&nbsp;deadlines&nbsp;associated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335203">//&nbsp;with&nbsp;the&nbsp;connection.&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335261">//&nbsp;SetReadDeadline&nbsp;and&nbsp;SetWriteDeadline.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335303">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335307">//&nbsp;A&nbsp;deadline&nbsp;is&nbsp;an&nbsp;absolute&nbsp;time&nbsp;after&nbsp;which&nbsp;I/O&nbsp;operations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335369">//&nbsp;fail&nbsp;with&nbsp;a&nbsp;timeout&nbsp;(see&nbsp;type&nbsp;Error)&nbsp;instead&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335421">//&nbsp;blocking.&nbsp;The&nbsp;deadline&nbsp;applies&nbsp;to&nbsp;all&nbsp;future&nbsp;I/O,&nbsp;not&nbsp;just</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335484">//&nbsp;the&nbsp;immediately&nbsp;following&nbsp;call&nbsp;to&nbsp;Read&nbsp;or&nbsp;Write.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335537">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335541">//&nbsp;An&nbsp;idle&nbsp;timeout&nbsp;can&nbsp;be&nbsp;implemented&nbsp;by&nbsp;repeatedly&nbsp;extending</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335604">//&nbsp;the&nbsp;deadline&nbsp;after&nbsp;successful&nbsp;Read&nbsp;or&nbsp;Write&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335659">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335663">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;I/O&nbsp;operations&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335726">SetDeadline</span><span class="op" id="3335737">(</span><span class="ident" id="3335738">t</span>&nbsp;<span class="ident" id="3335740"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3335744">.</span><span class="ident" id="3335745"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3335749">)</span>&nbsp;<span class="builtintype" id="3335751">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335759">//&nbsp;SetReadDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Read&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335820">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Read&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3335873">SetReadDeadline</span><span class="op" id="3335888">(</span><span class="ident" id="3335889">t</span>&nbsp;<span class="ident" id="3335891"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3335895">.</span><span class="ident" id="3335896"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3335900">)</span>&nbsp;<span class="builtintype" id="3335902">error</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335910">//&nbsp;SetWriteDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Write&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3335973">//&nbsp;Even&nbsp;if&nbsp;write&nbsp;times&nbsp;out,&nbsp;it&nbsp;may&nbsp;return&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;indicating&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3336039">//&nbsp;some&nbsp;of&nbsp;the&nbsp;data&nbsp;was&nbsp;successfully&nbsp;written.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3336086">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Write&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3336140">SetWriteDeadline</span><span class="op" id="3336156">(</span><span class="ident" id="3336157">t</span>&nbsp;<span class="ident" id="3336159"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3336163">.</span><span class="ident" id="3336164"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3336168">)</span>&nbsp;<span class="builtintype" id="3336170">error</span><br>
<span class="lineno"></span><span class="op" id="3336176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3336179">type</span>&nbsp;<span class="ident" id="3336184">conn</span>&nbsp;<span class="keyword" id="3336189">struct</span>&nbsp;<span class="op" id="3336196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3336199">fd</span>&nbsp;<span class="op" id="3336202">*</span><span class="ident" id="3336203"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><br>
<span class="lineno">110</span><span class="op" id="3336209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3336212">func</span>&nbsp;<span class="op" id="3336217">(</span><span class="ident" id="3336218">c</span>&nbsp;<span class="op" id="3336220">*</span><span class="ident" id="3336221"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3336225">)</span>&nbsp;<span class="ident" id="3336227">ok</span><span class="op" id="3336229">(</span><span class="op" id="3336230">)</span>&nbsp;<span class="builtintype" id="3336232">bool</span>&nbsp;<span class="op" id="3336237">{</span>&nbsp;<span class="keyword" id="3336239">return</span>&nbsp;<span class="ident" id="3336246"><a href="/gostd/net/net.go.html#3336218">c</a></span>&nbsp;<span class="op" id="3336248">!=</span>&nbsp;<span class="builtintype" id="3336251">nil</span>&nbsp;<span class="op" id="3336255">&amp;&amp;</span>&nbsp;<span class="ident" id="3336258"><a href="/gostd/net/net.go.html#3336218">c</a></span><span class="op" id="3336259">.</span><span class="ident" id="3336260"><a href="/gostd/net/net.go.html#3336199">fd</a></span>&nbsp;<span class="op" id="3336263">!=</span>&nbsp;<span class="builtintype" id="3336266">nil</span>&nbsp;<span class="op" id="3336270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3336273">//&nbsp;Implementation&nbsp;of&nbsp;the&nbsp;Conn&nbsp;interface.</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="3336315">//&nbsp;Read&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;Read&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="3336356">func</span>&nbsp;<span class="op" id="3336361">(</span><span class="ident" id="3336362">c</span>&nbsp;<span class="op" id="3336364">*</span><span class="ident" id="3336365"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3336369">)</span>&nbsp;<span class="ident" id="3336371">Read</span><span class="op" id="3336375">(</span><span class="ident" id="3336376">b</span>&nbsp;<span class="op" id="3336378">[</span><span class="op" id="3336379">]</span><span class="builtintype" id="3336380">byte</span><span class="op" id="3336384">)</span>&nbsp;<span class="op" id="3336386">(</span><span class="builtintype" id="3336387">int</span><span class="op" id="3336390">,</span>&nbsp;<span class="builtintype" id="3336392">error</span><span class="op" id="3336397">)</span>&nbsp;<span class="op" id="3336399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336402">if</span>&nbsp;<span class="op" id="3336405">!</span><span class="ident" id="3336406"><a href="/gostd/net/net.go.html#3336362">c</a></span><span class="op" id="3336407">.</span><span class="ident" id="3336408"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3336410">(</span><span class="op" id="3336411">)</span>&nbsp;<span class="op" id="3336413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336417">return</span>&nbsp;<span class="num" id="3336424">0</span><span class="op" id="3336425">,</span>&nbsp;<span class="ident" id="3336427"><a href="/gostd/net/net.go.html#3334105">syscall</a></span><span class="op" id="3336434">.</span><span class="ident" id="3336435"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336446">return</span>&nbsp;<span class="ident" id="3336453"><a href="/gostd/net/net.go.html#3336362">c</a></span><span class="op" id="3336454">.</span><span class="ident" id="3336455"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3336457">.</span><span class="ident" id="3336458"><a href="/gostd/net/fd_unix.go.html#3262444">Read</a></span><span class="op" id="3336462">(</span><span class="ident" id="3336463"><a href="/gostd/net/net.go.html#3336376">b</a></span><span class="op" id="3336464">)</span><br>
<span class="lineno"></span><span class="op" id="3336466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3336469">//&nbsp;Write&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;Write&nbsp;method.</span><br>
<span class="lineno">125</span><span class="keyword" id="3336512">func</span>&nbsp;<span class="op" id="3336517">(</span><span class="ident" id="3336518">c</span>&nbsp;<span class="op" id="3336520">*</span><span class="ident" id="3336521"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3336525">)</span>&nbsp;<span class="ident" id="3336527">Write</span><span class="op" id="3336532">(</span><span class="ident" id="3336533">b</span>&nbsp;<span class="op" id="3336535">[</span><span class="op" id="3336536">]</span><span class="builtintype" id="3336537">byte</span><span class="op" id="3336541">)</span>&nbsp;<span class="op" id="3336543">(</span><span class="builtintype" id="3336544">int</span><span class="op" id="3336547">,</span>&nbsp;<span class="builtintype" id="3336549">error</span><span class="op" id="3336554">)</span>&nbsp;<span class="op" id="3336556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336559">if</span>&nbsp;<span class="op" id="3336562">!</span><span class="ident" id="3336563"><a href="/gostd/net/net.go.html#3336518">c</a></span><span class="op" id="3336564">.</span><span class="ident" id="3336565"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3336567">(</span><span class="op" id="3336568">)</span>&nbsp;<span class="op" id="3336570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336574">return</span>&nbsp;<span class="num" id="3336581">0</span><span class="op" id="3336582">,</span>&nbsp;<span class="ident" id="3336584"><a href="/gostd/net/net.go.html#3334105">syscall</a></span><span class="op" id="3336591">.</span><span class="ident" id="3336592"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336603">return</span>&nbsp;<span class="ident" id="3336610"><a href="/gostd/net/net.go.html#3336518">c</a></span><span class="op" id="3336611">.</span><span class="ident" id="3336612"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3336614">.</span><span class="ident" id="3336615"><a href="/gostd/net/fd_unix.go.html#3264451">Write</a></span><span class="op" id="3336620">(</span><span class="ident" id="3336621"><a href="/gostd/net/net.go.html#3336533">b</a></span><span class="op" id="3336622">)</span><br>
<span class="lineno">130</span><span class="op" id="3336624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3336627">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="3336659">func</span>&nbsp;<span class="op" id="3336664">(</span><span class="ident" id="3336665">c</span>&nbsp;<span class="op" id="3336667">*</span><span class="ident" id="3336668"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3336672">)</span>&nbsp;<span class="ident" id="3336674">Close</span><span class="op" id="3336679">(</span><span class="op" id="3336680">)</span>&nbsp;<span class="builtintype" id="3336682">error</span>&nbsp;<span class="op" id="3336688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336691">if</span>&nbsp;<span class="op" id="3336694">!</span><span class="ident" id="3336695"><a href="/gostd/net/net.go.html#3336665">c</a></span><span class="op" id="3336696">.</span><span class="ident" id="3336697"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3336699">(</span><span class="op" id="3336700">)</span>&nbsp;<span class="op" id="3336702">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336706">return</span>&nbsp;<span class="ident" id="3336713"><a href="/gostd/net/net.go.html#3334105">syscall</a></span><span class="op" id="3336720">.</span><span class="ident" id="3336721"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336732">return</span>&nbsp;<span class="ident" id="3336739"><a href="/gostd/net/net.go.html#3336665">c</a></span><span class="op" id="3336740">.</span><span class="ident" id="3336741"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3336743">.</span><span class="ident" id="3336744"><a href="/gostd/net/fd_unix.go.html#3261468">Close</a></span><span class="op" id="3336749">(</span><span class="op" id="3336750">)</span><br>
<span class="lineno"></span><span class="op" id="3336752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="3336755">//&nbsp;LocalAddr&nbsp;returns&nbsp;the&nbsp;local&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="3336803">func</span>&nbsp;<span class="op" id="3336808">(</span><span class="ident" id="3336809">c</span>&nbsp;<span class="op" id="3336811">*</span><span class="ident" id="3336812"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3336816">)</span>&nbsp;<span class="ident" id="3336818">LocalAddr</span><span class="op" id="3336827">(</span><span class="op" id="3336828">)</span>&nbsp;<span class="ident" id="3336830"><a href="/gostd/net/net.go.html#3334179">Addr</a></span>&nbsp;<span class="op" id="3336835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336838">if</span>&nbsp;<span class="op" id="3336841">!</span><span class="ident" id="3336842"><a href="/gostd/net/net.go.html#3336809">c</a></span><span class="op" id="3336843">.</span><span class="ident" id="3336844"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3336846">(</span><span class="op" id="3336847">)</span>&nbsp;<span class="op" id="3336849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336853">return</span>&nbsp;<span class="builtintype" id="3336860">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3336865">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336868">return</span>&nbsp;<span class="ident" id="3336875"><a href="/gostd/net/net.go.html#3336809">c</a></span><span class="op" id="3336876">.</span><span class="ident" id="3336877"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3336879">.</span><span class="ident" id="3336880"><a href="/gostd/net/fd_unix.go.html#3257582">laddr</a></span><br>
<span class="lineno"></span><span class="op" id="3336886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3336889">//&nbsp;RemoteAddr&nbsp;returns&nbsp;the&nbsp;remote&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="3336939">func</span>&nbsp;<span class="op" id="3336944">(</span><span class="ident" id="3336945">c</span>&nbsp;<span class="op" id="3336947">*</span><span class="ident" id="3336948"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3336952">)</span>&nbsp;<span class="ident" id="3336954">RemoteAddr</span><span class="op" id="3336964">(</span><span class="op" id="3336965">)</span>&nbsp;<span class="ident" id="3336967"><a href="/gostd/net/net.go.html#3334179">Addr</a></span>&nbsp;<span class="op" id="3336972">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336975">if</span>&nbsp;<span class="op" id="3336978">!</span><span class="ident" id="3336979"><a href="/gostd/net/net.go.html#3336945">c</a></span><span class="op" id="3336980">.</span><span class="ident" id="3336981"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3336983">(</span><span class="op" id="3336984">)</span>&nbsp;<span class="op" id="3336986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3336990">return</span>&nbsp;<span class="builtintype" id="3336997">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3337002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337005">return</span>&nbsp;<span class="ident" id="3337012"><a href="/gostd/net/net.go.html#3336945">c</a></span><span class="op" id="3337013">.</span><span class="ident" id="3337014"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3337016">.</span><span class="ident" id="3337017"><a href="/gostd/net/fd_unix.go.html#3257600">raddr</a></span><br>
<span class="lineno"></span><span class="op" id="3337023">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="3337026">//&nbsp;SetDeadline&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;SetDeadline&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="3337081">func</span>&nbsp;<span class="op" id="3337086">(</span><span class="ident" id="3337087">c</span>&nbsp;<span class="op" id="3337089">*</span><span class="ident" id="3337090"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3337094">)</span>&nbsp;<span class="ident" id="3337096">SetDeadline</span><span class="op" id="3337107">(</span><span class="ident" id="3337108">t</span>&nbsp;<span class="ident" id="3337110"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3337114">.</span><span class="ident" id="3337115"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3337119">)</span>&nbsp;<span class="builtintype" id="3337121">error</span>&nbsp;<span class="op" id="3337127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337130">if</span>&nbsp;<span class="op" id="3337133">!</span><span class="ident" id="3337134"><a href="/gostd/net/net.go.html#3337087">c</a></span><span class="op" id="3337135">.</span><span class="ident" id="3337136"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3337138">(</span><span class="op" id="3337139">)</span>&nbsp;<span class="op" id="3337141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337145">return</span>&nbsp;<span class="ident" id="3337152"><a href="/gostd/net/net.go.html#3334105">syscall</a></span><span class="op" id="3337159">.</span><span class="ident" id="3337160"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3337168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337171">return</span>&nbsp;<span class="ident" id="3337178"><a href="/gostd/net/net.go.html#3337087">c</a></span><span class="op" id="3337179">.</span><span class="ident" id="3337180"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3337182">.</span><span class="ident" id="3337183"><a href="/gostd/net/fd_poll_runtime.go.html#3256482">setDeadline</a></span><span class="op" id="3337194">(</span><span class="ident" id="3337195"><a href="/gostd/net/net.go.html#3337108">t</a></span><span class="op" id="3337196">)</span><br>
<span class="lineno"></span><span class="op" id="3337198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3337201">//&nbsp;SetReadDeadline&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;SetReadDeadline&nbsp;method.</span><br>
<span class="lineno">165</span><span class="keyword" id="3337264">func</span>&nbsp;<span class="op" id="3337269">(</span><span class="ident" id="3337270">c</span>&nbsp;<span class="op" id="3337272">*</span><span class="ident" id="3337273"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3337277">)</span>&nbsp;<span class="ident" id="3337279">SetReadDeadline</span><span class="op" id="3337294">(</span><span class="ident" id="3337295">t</span>&nbsp;<span class="ident" id="3337297"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3337301">.</span><span class="ident" id="3337302"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3337306">)</span>&nbsp;<span class="builtintype" id="3337308">error</span>&nbsp;<span class="op" id="3337314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337317">if</span>&nbsp;<span class="op" id="3337320">!</span><span class="ident" id="3337321"><a href="/gostd/net/net.go.html#3337270">c</a></span><span class="op" id="3337322">.</span><span class="ident" id="3337323"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3337325">(</span><span class="op" id="3337326">)</span>&nbsp;<span class="op" id="3337328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337332">return</span>&nbsp;<span class="ident" id="3337339"><a href="/gostd/net/net.go.html#3334105">syscall</a></span><span class="op" id="3337346">.</span><span class="ident" id="3337347"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3337355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337358">return</span>&nbsp;<span class="ident" id="3337365"><a href="/gostd/net/net.go.html#3337270">c</a></span><span class="op" id="3337366">.</span><span class="ident" id="3337367"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3337369">.</span><span class="ident" id="3337370"><a href="/gostd/net/fd_poll_runtime.go.html#3256575">setReadDeadline</a></span><span class="op" id="3337385">(</span><span class="ident" id="3337386"><a href="/gostd/net/net.go.html#3337295">t</a></span><span class="op" id="3337387">)</span><br>
<span class="lineno">170</span><span class="op" id="3337389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3337392">//&nbsp;SetWriteDeadline&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;SetWriteDeadline&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="3337457">func</span>&nbsp;<span class="op" id="3337462">(</span><span class="ident" id="3337463">c</span>&nbsp;<span class="op" id="3337465">*</span><span class="ident" id="3337466"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3337470">)</span>&nbsp;<span class="ident" id="3337472">SetWriteDeadline</span><span class="op" id="3337488">(</span><span class="ident" id="3337489">t</span>&nbsp;<span class="ident" id="3337491"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3337495">.</span><span class="ident" id="3337496"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3337500">)</span>&nbsp;<span class="builtintype" id="3337502">error</span>&nbsp;<span class="op" id="3337508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337511">if</span>&nbsp;<span class="op" id="3337514">!</span><span class="ident" id="3337515"><a href="/gostd/net/net.go.html#3337463">c</a></span><span class="op" id="3337516">.</span><span class="ident" id="3337517"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3337519">(</span><span class="op" id="3337520">)</span>&nbsp;<span class="op" id="3337522">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337526">return</span>&nbsp;<span class="ident" id="3337533"><a href="/gostd/net/net.go.html#3334105">syscall</a></span><span class="op" id="3337540">.</span><span class="ident" id="3337541"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3337549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337552">return</span>&nbsp;<span class="ident" id="3337559"><a href="/gostd/net/net.go.html#3337463">c</a></span><span class="op" id="3337560">.</span><span class="ident" id="3337561"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3337563">.</span><span class="ident" id="3337564"><a href="/gostd/net/fd_poll_runtime.go.html#3256668">setWriteDeadline</a></span><span class="op" id="3337580">(</span><span class="ident" id="3337581"><a href="/gostd/net/net.go.html#3337489">t</a></span><span class="op" id="3337582">)</span><br>
<span class="lineno"></span><span class="op" id="3337584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="3337587">//&nbsp;SetReadBuffer&nbsp;sets&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;operating&nbsp;system&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="3337644">//&nbsp;receive&nbsp;buffer&nbsp;associated&nbsp;with&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="3337694">func</span>&nbsp;<span class="op" id="3337699">(</span><span class="ident" id="3337700">c</span>&nbsp;<span class="op" id="3337702">*</span><span class="ident" id="3337703"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3337707">)</span>&nbsp;<span class="ident" id="3337709">SetReadBuffer</span><span class="op" id="3337722">(</span><span class="ident" id="3337723">bytes</span>&nbsp;<span class="builtintype" id="3337729">int</span><span class="op" id="3337732">)</span>&nbsp;<span class="builtintype" id="3337734">error</span>&nbsp;<span class="op" id="3337740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337743">if</span>&nbsp;<span class="op" id="3337746">!</span><span class="ident" id="3337747"><a href="/gostd/net/net.go.html#3337700">c</a></span><span class="op" id="3337748">.</span><span class="ident" id="3337749"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3337751">(</span><span class="op" id="3337752">)</span>&nbsp;<span class="op" id="3337754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337758">return</span>&nbsp;<span class="ident" id="3337765"><a href="/gostd/net/net.go.html#3334105">syscall</a></span><span class="op" id="3337772">.</span><span class="ident" id="3337773"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3337781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337784">return</span>&nbsp;<span class="ident" id="3337791"><a href="/gostd/net/sockopt_posix.go.html#3369653">setReadBuffer</a></span><span class="op" id="3337804">(</span><span class="ident" id="3337805"><a href="/gostd/net/net.go.html#3337700">c</a></span><span class="op" id="3337806">.</span><span class="ident" id="3337807"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3337809">,</span>&nbsp;<span class="ident" id="3337811"><a href="/gostd/net/net.go.html#3337723">bytes</a></span><span class="op" id="3337816">)</span><br>
<span class="lineno"></span><span class="op" id="3337818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3337821">//&nbsp;SetWriteBuffer&nbsp;sets&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;operating&nbsp;system&#39;s</span><br>
<span class="lineno">190</span><span class="comment" id="3337879">//&nbsp;transmit&nbsp;buffer&nbsp;associated&nbsp;with&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="3337930">func</span>&nbsp;<span class="op" id="3337935">(</span><span class="ident" id="3337936">c</span>&nbsp;<span class="op" id="3337938">*</span><span class="ident" id="3337939"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3337943">)</span>&nbsp;<span class="ident" id="3337945">SetWriteBuffer</span><span class="op" id="3337959">(</span><span class="ident" id="3337960">bytes</span>&nbsp;<span class="builtintype" id="3337966">int</span><span class="op" id="3337969">)</span>&nbsp;<span class="builtintype" id="3337971">error</span>&nbsp;<span class="op" id="3337977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337980">if</span>&nbsp;<span class="op" id="3337983">!</span><span class="ident" id="3337984"><a href="/gostd/net/net.go.html#3337936">c</a></span><span class="op" id="3337985">.</span><span class="ident" id="3337986"><a href="/gostd/net/net.go.html#3336227">ok</a></span><span class="op" id="3337988">(</span><span class="op" id="3337989">)</span>&nbsp;<span class="op" id="3337991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3337995">return</span>&nbsp;<span class="ident" id="3338002"><a href="/gostd/net/net.go.html#3334105">syscall</a></span><span class="op" id="3338009">.</span><span class="ident" id="3338010"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3338018">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3338021">return</span>&nbsp;<span class="ident" id="3338028"><a href="/gostd/net/sockopt_posix.go.html#3369897">setWriteBuffer</a></span><span class="op" id="3338042">(</span><span class="ident" id="3338043"><a href="/gostd/net/net.go.html#3337936">c</a></span><span class="op" id="3338044">.</span><span class="ident" id="3338045"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3338047">,</span>&nbsp;<span class="ident" id="3338049"><a href="/gostd/net/net.go.html#3337960">bytes</a></span><span class="op" id="3338054">)</span><br>
<span class="lineno"></span><span class="op" id="3338056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3338059">//&nbsp;File&nbsp;sets&nbsp;the&nbsp;underlying&nbsp;os.File&nbsp;to&nbsp;blocking&nbsp;mode&nbsp;and&nbsp;returns&nbsp;a&nbsp;copy.</span><br>
<span class="lineno"></span><span class="comment" id="3338132">//&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility&nbsp;to&nbsp;close&nbsp;f&nbsp;when&nbsp;finished.</span><br>
<span class="lineno">200</span><span class="comment" id="3338195">//&nbsp;Closing&nbsp;c&nbsp;does&nbsp;not&nbsp;affect&nbsp;f,&nbsp;and&nbsp;closing&nbsp;f&nbsp;does&nbsp;not&nbsp;affect&nbsp;c.</span><br>
<span class="lineno"></span><span class="comment" id="3338260">//</span><br>
<span class="lineno"></span><span class="comment" id="3338263">//&nbsp;The&nbsp;returned&nbsp;os.File&#39;s&nbsp;file&nbsp;descriptor&nbsp;is&nbsp;different&nbsp;from&nbsp;the&nbsp;connection&#39;s.</span><br>
<span class="lineno"></span><span class="comment" id="3338341">//&nbsp;Attempting&nbsp;to&nbsp;change&nbsp;properties&nbsp;of&nbsp;the&nbsp;original&nbsp;using&nbsp;this&nbsp;duplicate</span><br>
<span class="lineno"></span><span class="comment" id="3338413">//&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;have&nbsp;the&nbsp;desired&nbsp;effect.</span><br>
<span class="lineno">205</span><span class="keyword" id="3338456">func</span>&nbsp;<span class="op" id="3338461">(</span><span class="ident" id="3338462">c</span>&nbsp;<span class="op" id="3338464">*</span><span class="ident" id="3338465"><a href="/gostd/net/net.go.html#3336184">conn</a></span><span class="op" id="3338469">)</span>&nbsp;<span class="ident" id="3338471">File</span><span class="op" id="3338475">(</span><span class="op" id="3338476">)</span>&nbsp;<span class="op" id="3338478">(</span><span class="ident" id="3338479">f</span>&nbsp;<span class="op" id="3338481">*</span><span class="ident" id="3338482"><a href="/gostd/net/net.go.html#3334099">os</a></span><span class="op" id="3338484">.</span><span class="ident" id="3338485"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="3338489">,</span>&nbsp;<span class="ident" id="3338491">err</span>&nbsp;<span class="builtintype" id="3338495">error</span><span class="op" id="3338500">)</span>&nbsp;<span class="op" id="3338502">{</span>&nbsp;<span class="keyword" id="3338504">return</span>&nbsp;<span class="ident" id="3338511"><a href="/gostd/net/net.go.html#3338462">c</a></span><span class="op" id="3338512">.</span><span class="ident" id="3338513"><a href="/gostd/net/net.go.html#3336199">fd</a></span><span class="op" id="3338515">.</span><span class="ident" id="3338516"><a href="/gostd/net/fd_unix.go.html#3268610">dup</a></span><span class="op" id="3338519">(</span><span class="op" id="3338520">)</span>&nbsp;<span class="op" id="3338522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3338525">//&nbsp;An&nbsp;Error&nbsp;represents&nbsp;a&nbsp;network&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3338565">type</span>&nbsp;<span class="ident" id="3338570">Error</span>&nbsp;<span class="keyword" id="3338576">interface</span>&nbsp;<span class="op" id="3338586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3338589">error</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3338596">Timeout</span><span class="op" id="3338603">(</span><span class="op" id="3338604">)</span>&nbsp;<span class="builtintype" id="3338606">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3338613">//&nbsp;Is&nbsp;the&nbsp;error&nbsp;a&nbsp;timeout?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3338641">Temporary</span><span class="op" id="3338650">(</span><span class="op" id="3338651">)</span>&nbsp;<span class="builtintype" id="3338653">bool</span>&nbsp;<span class="comment" id="3338658">//&nbsp;Is&nbsp;the&nbsp;error&nbsp;temporary?</span><br>
<span class="lineno"></span><span class="op" id="3338685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3338688">//&nbsp;PacketConn&nbsp;is&nbsp;a&nbsp;generic&nbsp;packet-oriented&nbsp;network&nbsp;connection.</span><br>
<span class="lineno">215</span><span class="comment" id="3338751">//</span><br>
<span class="lineno"></span><span class="comment" id="3338754">//&nbsp;Multiple&nbsp;goroutines&nbsp;may&nbsp;invoke&nbsp;methods&nbsp;on&nbsp;a&nbsp;PacketConn&nbsp;simultaneously.</span><br>
<span class="lineno"></span><span class="keyword" id="3338828">type</span>&nbsp;<span class="ident" id="3338833">PacketConn</span>&nbsp;<span class="keyword" id="3338844">interface</span>&nbsp;<span class="op" id="3338854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3338857">//&nbsp;ReadFrom&nbsp;reads&nbsp;a&nbsp;packet&nbsp;from&nbsp;the&nbsp;connection,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3338906">//&nbsp;copying&nbsp;the&nbsp;payload&nbsp;into&nbsp;b.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3338964">//&nbsp;bytes&nbsp;copied&nbsp;into&nbsp;b&nbsp;and&nbsp;the&nbsp;return&nbsp;address&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339016">//&nbsp;was&nbsp;on&nbsp;the&nbsp;packet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339039">//&nbsp;ReadFrom&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339087">//&nbsp;an&nbsp;error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339149">//&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetReadDeadline.</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3339190">ReadFrom</span><span class="op" id="3339198">(</span><span class="ident" id="3339199">b</span>&nbsp;<span class="op" id="3339201">[</span><span class="op" id="3339202">]</span><span class="builtintype" id="3339203">byte</span><span class="op" id="3339207">)</span>&nbsp;<span class="op" id="3339209">(</span><span class="ident" id="3339210">n</span>&nbsp;<span class="builtintype" id="3339212">int</span><span class="op" id="3339215">,</span>&nbsp;<span class="ident" id="3339217">addr</span>&nbsp;<span class="ident" id="3339222"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><span class="op" id="3339226">,</span>&nbsp;<span class="ident" id="3339228">err</span>&nbsp;<span class="builtintype" id="3339232">error</span><span class="op" id="3339237">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339241">//&nbsp;WriteTo&nbsp;writes&nbsp;a&nbsp;packet&nbsp;with&nbsp;payload&nbsp;b&nbsp;to&nbsp;addr.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339293">//&nbsp;WriteTo&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339340">//&nbsp;an&nbsp;error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339402">//&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetWriteDeadline.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339444">//&nbsp;On&nbsp;packet-oriented&nbsp;connections,&nbsp;write&nbsp;timeouts&nbsp;are&nbsp;rare.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3339505">WriteTo</span><span class="op" id="3339512">(</span><span class="ident" id="3339513">b</span>&nbsp;<span class="op" id="3339515">[</span><span class="op" id="3339516">]</span><span class="builtintype" id="3339517">byte</span><span class="op" id="3339521">,</span>&nbsp;<span class="ident" id="3339523">addr</span>&nbsp;<span class="ident" id="3339528"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><span class="op" id="3339532">)</span>&nbsp;<span class="op" id="3339534">(</span><span class="ident" id="3339535">n</span>&nbsp;<span class="builtintype" id="3339537">int</span><span class="op" id="3339540">,</span>&nbsp;<span class="ident" id="3339542">err</span>&nbsp;<span class="builtintype" id="3339546">error</span><span class="op" id="3339551">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339555">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;connection.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339588">//&nbsp;Any&nbsp;blocked&nbsp;ReadFrom&nbsp;or&nbsp;WriteTo&nbsp;operations&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;and&nbsp;return&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3339672">Close</span><span class="op" id="3339677">(</span><span class="op" id="3339678">)</span>&nbsp;<span class="builtintype" id="3339680">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339688">//&nbsp;LocalAddr&nbsp;returns&nbsp;the&nbsp;local&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3339737">LocalAddr</span><span class="op" id="3339746">(</span><span class="op" id="3339747">)</span>&nbsp;<span class="ident" id="3339749"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339756">//&nbsp;SetDeadline&nbsp;sets&nbsp;the&nbsp;read&nbsp;and&nbsp;write&nbsp;deadlines&nbsp;associated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339817">//&nbsp;with&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3339842">SetDeadline</span><span class="op" id="3339853">(</span><span class="ident" id="3339854">t</span>&nbsp;<span class="ident" id="3339856"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3339860">.</span><span class="ident" id="3339861"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3339865">)</span>&nbsp;<span class="builtintype" id="3339867">error</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339875">//&nbsp;SetReadDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Read&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339936">//&nbsp;If&nbsp;the&nbsp;deadline&nbsp;is&nbsp;reached,&nbsp;Read&nbsp;will&nbsp;fail&nbsp;with&nbsp;a&nbsp;timeout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3339998">//&nbsp;(see&nbsp;type&nbsp;Error)&nbsp;instead&nbsp;of&nbsp;blocking.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340040">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Read&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3340093">SetReadDeadline</span><span class="op" id="3340108">(</span><span class="ident" id="3340109">t</span>&nbsp;<span class="ident" id="3340111"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3340115">.</span><span class="ident" id="3340116"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3340120">)</span>&nbsp;<span class="builtintype" id="3340122">error</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340130">//&nbsp;SetWriteDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Write&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340193">//&nbsp;If&nbsp;the&nbsp;deadline&nbsp;is&nbsp;reached,&nbsp;Write&nbsp;will&nbsp;fail&nbsp;with&nbsp;a&nbsp;timeout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340256">//&nbsp;(see&nbsp;type&nbsp;Error)&nbsp;instead&nbsp;of&nbsp;blocking.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340298">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Write&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340352">//&nbsp;Even&nbsp;if&nbsp;write&nbsp;times&nbsp;out,&nbsp;it&nbsp;may&nbsp;return&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;indicating&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340418">//&nbsp;some&nbsp;of&nbsp;the&nbsp;data&nbsp;was&nbsp;successfully&nbsp;written.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3340465">SetWriteDeadline</span><span class="op" id="3340481">(</span><span class="ident" id="3340482">t</span>&nbsp;<span class="ident" id="3340484"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3340488">.</span><span class="ident" id="3340489"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3340493">)</span>&nbsp;<span class="builtintype" id="3340495">error</span><br>
<span class="lineno"></span><span class="op" id="3340501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="3340504">var</span>&nbsp;<span class="ident" id="3340508">listenerBacklog</span>&nbsp;<span class="op" id="3340524">=</span>&nbsp;<span class="ident" id="3340526"><a href="/gostd/net/sock_linux.go.html#3360380">maxListenerBacklog</a></span><span class="op" id="3340544">(</span><span class="op" id="3340545">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3340548">//&nbsp;A&nbsp;Listener&nbsp;is&nbsp;a&nbsp;generic&nbsp;network&nbsp;listener&nbsp;for&nbsp;stream-oriented&nbsp;protocols.</span><br>
<span class="lineno"></span><span class="comment" id="3340623">//</span><br>
<span class="lineno"></span><span class="comment" id="3340626">//&nbsp;Multiple&nbsp;goroutines&nbsp;may&nbsp;invoke&nbsp;methods&nbsp;on&nbsp;a&nbsp;Listener&nbsp;simultaneously.</span><br>
<span class="lineno">265</span><span class="keyword" id="3340698">type</span>&nbsp;<span class="ident" id="3340703">Listener</span>&nbsp;<span class="keyword" id="3340712">interface</span>&nbsp;<span class="op" id="3340722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340725">//&nbsp;Accept&nbsp;waits&nbsp;for&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;connection&nbsp;to&nbsp;the&nbsp;listener.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3340795">Accept</span><span class="op" id="3340801">(</span><span class="op" id="3340802">)</span>&nbsp;<span class="op" id="3340804">(</span><span class="ident" id="3340805">c</span>&nbsp;<span class="ident" id="3340807"><a href="/gostd/net/net.go.html#3334417">Conn</a></span><span class="op" id="3340811">,</span>&nbsp;<span class="ident" id="3340813">err</span>&nbsp;<span class="builtintype" id="3340817">error</span><span class="op" id="3340822">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340826">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;listener.</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340857">//&nbsp;Any&nbsp;blocked&nbsp;Accept&nbsp;operations&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;and&nbsp;return&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3340928">Close</span><span class="op" id="3340933">(</span><span class="op" id="3340934">)</span>&nbsp;<span class="builtintype" id="3340936">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3340944">//&nbsp;Addr&nbsp;returns&nbsp;the&nbsp;listener&#39;s&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3340993">Addr</span><span class="op" id="3340997">(</span><span class="op" id="3340998">)</span>&nbsp;<span class="ident" id="3341000"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><br>
<span class="lineno">275</span><span class="op" id="3341005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3341008">//&nbsp;Various&nbsp;errors&nbsp;contained&nbsp;in&nbsp;OpError.</span><br>
<span class="lineno"></span><span class="keyword" id="3341048">var</span>&nbsp;<span class="op" id="3341052">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3341055">//&nbsp;For&nbsp;connection&nbsp;setup&nbsp;and&nbsp;write&nbsp;operations.</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3341102">errMissingAddress</span>&nbsp;<span class="op" id="3341120">=</span>&nbsp;<span class="ident" id="3341122"><a href="/gostd/net/net.go.html#3334083">errors</a></span><span class="op" id="3341128">.</span><span class="ident" id="3341129"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3341132">(</span><span class="string" id="3341133">&#34;missing&nbsp;address&#34;</span><span class="op" id="3341150">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3341154">//&nbsp;For&nbsp;both&nbsp;read&nbsp;and&nbsp;write&nbsp;operations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3341194">errTimeout</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3341214">error</span>&nbsp;<span class="op" id="3341220">=</span>&nbsp;<span class="op" id="3341222">&amp;</span><span class="ident" id="3341223"><a href="/gostd/net/net.go.html#3342441">timeoutError</a></span><span class="op" id="3341235">{</span><span class="op" id="3341236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3341239">errClosing</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3341265">=</span>&nbsp;<span class="ident" id="3341267"><a href="/gostd/net/net.go.html#3334083">errors</a></span><span class="op" id="3341273">.</span><span class="ident" id="3341274"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3341277">(</span><span class="string" id="3341278">&#34;use&nbsp;of&nbsp;closed&nbsp;network&nbsp;connection&#34;</span><span class="op" id="3341312">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3341315">ErrWriteToConnected</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3341341">=</span>&nbsp;<span class="ident" id="3341343"><a href="/gostd/net/net.go.html#3334083">errors</a></span><span class="op" id="3341349">.</span><span class="ident" id="3341350"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3341353">(</span><span class="string" id="3341354">&#34;use&nbsp;of&nbsp;WriteTo&nbsp;with&nbsp;pre-connected&nbsp;connection&#34;</span><span class="op" id="3341400">)</span><br>
<span class="lineno"></span><span class="op" id="3341402">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3341405">//&nbsp;OpError&nbsp;is&nbsp;the&nbsp;error&nbsp;type&nbsp;usually&nbsp;returned&nbsp;by&nbsp;functions&nbsp;in&nbsp;the&nbsp;net</span><br>
<span class="lineno"></span><span class="comment" id="3341475">//&nbsp;package.&nbsp;It&nbsp;describes&nbsp;the&nbsp;operation,&nbsp;network&nbsp;type,&nbsp;and&nbsp;address&nbsp;of</span><br>
<span class="lineno">290</span><span class="comment" id="3341544">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3341557">type</span>&nbsp;<span class="ident" id="3341562">OpError</span>&nbsp;<span class="keyword" id="3341570">struct</span>&nbsp;<span class="op" id="3341577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3341580">//&nbsp;Op&nbsp;is&nbsp;the&nbsp;operation&nbsp;which&nbsp;caused&nbsp;the&nbsp;error,&nbsp;such&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3341636">//&nbsp;&#34;read&#34;&nbsp;or&nbsp;&#34;write&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3341659">Op</span>&nbsp;<span class="builtintype" id="3341662">string</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3341671">//&nbsp;Net&nbsp;is&nbsp;the&nbsp;network&nbsp;type&nbsp;on&nbsp;which&nbsp;this&nbsp;error&nbsp;occurred,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3341729">//&nbsp;such&nbsp;as&nbsp;&#34;tcp&#34;&nbsp;or&nbsp;&#34;udp6&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3341758">Net</span>&nbsp;<span class="builtintype" id="3341762">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3341771">//&nbsp;Addr&nbsp;is&nbsp;the&nbsp;network&nbsp;address&nbsp;on&nbsp;which&nbsp;this&nbsp;error&nbsp;occurred.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3341833">Addr</span>&nbsp;<span class="ident" id="3341838"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3341845">//&nbsp;Err&nbsp;is&nbsp;the&nbsp;error&nbsp;that&nbsp;occurred&nbsp;during&nbsp;the&nbsp;operation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3341902">Err</span>&nbsp;<span class="builtintype" id="3341906">error</span><br>
<span class="lineno">305</span><span class="op" id="3341912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3341915">func</span>&nbsp;<span class="op" id="3341920">(</span><span class="ident" id="3341921">e</span>&nbsp;<span class="op" id="3341923">*</span><span class="ident" id="3341924"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3341931">)</span>&nbsp;<span class="ident" id="3341933">Error</span><span class="op" id="3341938">(</span><span class="op" id="3341939">)</span>&nbsp;<span class="builtintype" id="3341941">string</span>&nbsp;<span class="op" id="3341948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3341951">if</span>&nbsp;<span class="ident" id="3341954"><a href="/gostd/net/net.go.html#3341921">e</a></span>&nbsp;<span class="op" id="3341956">==</span>&nbsp;<span class="builtintype" id="3341959">nil</span>&nbsp;<span class="op" id="3341963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3341967">return</span>&nbsp;<span class="string" id="3341974">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3341983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3341986">s</span>&nbsp;<span class="op" id="3341988">:=</span>&nbsp;<span class="ident" id="3341991"><a href="/gostd/net/net.go.html#3341921">e</a></span><span class="op" id="3341992">.</span><span class="ident" id="3341993"><a href="/gostd/net/net.go.html#3341659">Op</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3341997">if</span>&nbsp;<span class="ident" id="3342000"><a href="/gostd/net/net.go.html#3341921">e</a></span><span class="op" id="3342001">.</span><span class="ident" id="3342002"><a href="/gostd/net/net.go.html#3341758">Net</a></span>&nbsp;<span class="op" id="3342006">!=</span>&nbsp;<span class="string" id="3342009">&#34;&#34;</span>&nbsp;<span class="op" id="3342012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342016"><a href="/gostd/net/net.go.html#3341986">s</a></span>&nbsp;<span class="op" id="3342018">+=</span>&nbsp;<span class="string" id="3342021">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="3342025">+</span>&nbsp;<span class="ident" id="3342027"><a href="/gostd/net/net.go.html#3341921">e</a></span><span class="op" id="3342028">.</span><span class="ident" id="3342029"><a href="/gostd/net/net.go.html#3341758">Net</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3342034">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342037">if</span>&nbsp;<span class="ident" id="3342040"><a href="/gostd/net/net.go.html#3341921">e</a></span><span class="op" id="3342041">.</span><span class="ident" id="3342042"><a href="/gostd/net/net.go.html#3341833">Addr</a></span>&nbsp;<span class="op" id="3342047">!=</span>&nbsp;<span class="builtintype" id="3342050">nil</span>&nbsp;<span class="op" id="3342054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342058"><a href="/gostd/net/net.go.html#3341986">s</a></span>&nbsp;<span class="op" id="3342060">+=</span>&nbsp;<span class="string" id="3342063">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="3342067">+</span>&nbsp;<span class="ident" id="3342069"><a href="/gostd/net/net.go.html#3341921">e</a></span><span class="op" id="3342070">.</span><span class="ident" id="3342071"><a href="/gostd/net/net.go.html#3341833">Addr</a></span><span class="op" id="3342075">.</span><span class="ident" id="3342076"><a href="/gostd/net/net.go.html#3334238">String</a></span><span class="op" id="3342082">(</span><span class="op" id="3342083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3342086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342089"><a href="/gostd/net/net.go.html#3341986">s</a></span>&nbsp;<span class="op" id="3342091">+=</span>&nbsp;<span class="string" id="3342094">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="3342099">+</span>&nbsp;<span class="ident" id="3342101"><a href="/gostd/net/net.go.html#3341921">e</a></span><span class="op" id="3342102">.</span><span class="ident" id="3342103"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3342106">.</span><span class="ident" id="3342107">Error</span><span class="op" id="3342112">(</span><span class="op" id="3342113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342116">return</span>&nbsp;<span class="ident" id="3342123"><a href="/gostd/net/net.go.html#3341986">s</a></span><br>
<span class="lineno">320</span><span class="op" id="3342125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342128">type</span>&nbsp;<span class="ident" id="3342133">temporary</span>&nbsp;<span class="keyword" id="3342143">interface</span>&nbsp;<span class="op" id="3342153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342156">Temporary</span><span class="op" id="3342165">(</span><span class="op" id="3342166">)</span>&nbsp;<span class="builtintype" id="3342168">bool</span><br>
<span class="lineno"></span><span class="op" id="3342173">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="3342176">func</span>&nbsp;<span class="op" id="3342181">(</span><span class="ident" id="3342182">e</span>&nbsp;<span class="op" id="3342184">*</span><span class="ident" id="3342185"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3342192">)</span>&nbsp;<span class="ident" id="3342194">Temporary</span><span class="op" id="3342203">(</span><span class="op" id="3342204">)</span>&nbsp;<span class="builtintype" id="3342206">bool</span>&nbsp;<span class="op" id="3342211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342214">t</span><span class="op" id="3342215">,</span>&nbsp;<span class="ident" id="3342217">ok</span>&nbsp;<span class="op" id="3342220">:=</span>&nbsp;<span class="ident" id="3342223"><a href="/gostd/net/net.go.html#3342182">e</a></span><span class="op" id="3342224">.</span><span class="ident" id="3342225"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3342228">.</span><span class="op" id="3342229">(</span><span class="ident" id="3342230"><a href="/gostd/net/net.go.html#3342133">temporary</a></span><span class="op" id="3342239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342242">return</span>&nbsp;<span class="ident" id="3342249"><a href="/gostd/net/net.go.html#3342217">ok</a></span>&nbsp;<span class="op" id="3342252">&amp;&amp;</span>&nbsp;<span class="ident" id="3342255"><a href="/gostd/net/net.go.html#3342214">t</a></span><span class="op" id="3342256">.</span><span class="ident" id="3342257"><a href="/gostd/net/net.go.html#3342156">Temporary</a></span><span class="op" id="3342266">(</span><span class="op" id="3342267">)</span><br>
<span class="lineno"></span><span class="op" id="3342269">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span><span class="keyword" id="3342272">var</span>&nbsp;<span class="ident" id="3342276">noDeadline</span>&nbsp;<span class="op" id="3342287">=</span>&nbsp;<span class="ident" id="3342289"><a href="/gostd/net/net.go.html#3334116">time</a></span><span class="op" id="3342293">.</span><span class="ident" id="3342294"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3342298">{</span><span class="op" id="3342299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342302">type</span>&nbsp;<span class="ident" id="3342307">timeout</span>&nbsp;<span class="keyword" id="3342315">interface</span>&nbsp;<span class="op" id="3342325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342328">Timeout</span><span class="op" id="3342335">(</span><span class="op" id="3342336">)</span>&nbsp;<span class="builtintype" id="3342338">bool</span><br>
<span class="lineno">335</span><span class="op" id="3342343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342346">func</span>&nbsp;<span class="op" id="3342351">(</span><span class="ident" id="3342352">e</span>&nbsp;<span class="op" id="3342354">*</span><span class="ident" id="3342355"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="3342362">)</span>&nbsp;<span class="ident" id="3342364">Timeout</span><span class="op" id="3342371">(</span><span class="op" id="3342372">)</span>&nbsp;<span class="builtintype" id="3342374">bool</span>&nbsp;<span class="op" id="3342379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342382">t</span><span class="op" id="3342383">,</span>&nbsp;<span class="ident" id="3342385">ok</span>&nbsp;<span class="op" id="3342388">:=</span>&nbsp;<span class="ident" id="3342391"><a href="/gostd/net/net.go.html#3342352">e</a></span><span class="op" id="3342392">.</span><span class="ident" id="3342393"><a href="/gostd/net/net.go.html#3341902">Err</a></span><span class="op" id="3342396">.</span><span class="op" id="3342397">(</span><span class="ident" id="3342398"><a href="/gostd/net/net.go.html#3342307">timeout</a></span><span class="op" id="3342405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342408">return</span>&nbsp;<span class="ident" id="3342415"><a href="/gostd/net/net.go.html#3342385">ok</a></span>&nbsp;<span class="op" id="3342418">&amp;&amp;</span>&nbsp;<span class="ident" id="3342421"><a href="/gostd/net/net.go.html#3342382">t</a></span><span class="op" id="3342422">.</span><span class="ident" id="3342423"><a href="/gostd/net/net.go.html#3342328">Timeout</a></span><span class="op" id="3342430">(</span><span class="op" id="3342431">)</span><br>
<span class="lineno">340</span><span class="op" id="3342433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342436">type</span>&nbsp;<span class="ident" id="3342441">timeoutError</span>&nbsp;<span class="keyword" id="3342454">struct</span><span class="op" id="3342460">{</span><span class="op" id="3342461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342464">func</span>&nbsp;<span class="op" id="3342469">(</span><span class="ident" id="3342470">e</span>&nbsp;<span class="op" id="3342472">*</span><span class="ident" id="3342473"><a href="/gostd/net/net.go.html#3342441">timeoutError</a></span><span class="op" id="3342485">)</span>&nbsp;<span class="ident" id="3342487">Error</span><span class="op" id="3342492">(</span><span class="op" id="3342493">)</span>&nbsp;<span class="builtintype" id="3342495">string</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3342504">{</span>&nbsp;<span class="keyword" id="3342506">return</span>&nbsp;<span class="string" id="3342513">&#34;i/o&nbsp;timeout&#34;</span>&nbsp;<span class="op" id="3342527">}</span><br>
<span class="lineno">345</span><span class="keyword" id="3342529">func</span>&nbsp;<span class="op" id="3342534">(</span><span class="ident" id="3342535">e</span>&nbsp;<span class="op" id="3342537">*</span><span class="ident" id="3342538"><a href="/gostd/net/net.go.html#3342441">timeoutError</a></span><span class="op" id="3342550">)</span>&nbsp;<span class="ident" id="3342552">Timeout</span><span class="op" id="3342559">(</span><span class="op" id="3342560">)</span>&nbsp;<span class="builtintype" id="3342562">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3342569">{</span>&nbsp;<span class="keyword" id="3342571">return</span>&nbsp;<span class="builtintype" id="3342578">true</span>&nbsp;<span class="op" id="3342583">}</span><br>
<span class="lineno"></span><span class="keyword" id="3342585">func</span>&nbsp;<span class="op" id="3342590">(</span><span class="ident" id="3342591">e</span>&nbsp;<span class="op" id="3342593">*</span><span class="ident" id="3342594"><a href="/gostd/net/net.go.html#3342441">timeoutError</a></span><span class="op" id="3342606">)</span>&nbsp;<span class="ident" id="3342608">Temporary</span><span class="op" id="3342617">(</span><span class="op" id="3342618">)</span>&nbsp;<span class="builtintype" id="3342620">bool</span>&nbsp;<span class="op" id="3342625">{</span>&nbsp;<span class="keyword" id="3342627">return</span>&nbsp;<span class="builtintype" id="3342634">true</span>&nbsp;<span class="op" id="3342639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342642">type</span>&nbsp;<span class="ident" id="3342647">AddrError</span>&nbsp;<span class="keyword" id="3342657">struct</span>&nbsp;<span class="op" id="3342664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342667">Err</span>&nbsp;&nbsp;<span class="builtintype" id="3342672">string</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342680">Addr</span>&nbsp;<span class="builtintype" id="3342685">string</span><br>
<span class="lineno"></span><span class="op" id="3342692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342695">func</span>&nbsp;<span class="op" id="3342700">(</span><span class="ident" id="3342701">e</span>&nbsp;<span class="op" id="3342703">*</span><span class="ident" id="3342704"><a href="/gostd/net/net.go.html#3342647">AddrError</a></span><span class="op" id="3342713">)</span>&nbsp;<span class="ident" id="3342715">Error</span><span class="op" id="3342720">(</span><span class="op" id="3342721">)</span>&nbsp;<span class="builtintype" id="3342723">string</span>&nbsp;<span class="op" id="3342730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342733">if</span>&nbsp;<span class="ident" id="3342736"><a href="/gostd/net/net.go.html#3342701">e</a></span>&nbsp;<span class="op" id="3342738">==</span>&nbsp;<span class="builtintype" id="3342741">nil</span>&nbsp;<span class="op" id="3342745">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342749">return</span>&nbsp;<span class="string" id="3342756">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3342765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342768">s</span>&nbsp;<span class="op" id="3342770">:=</span>&nbsp;<span class="ident" id="3342773"><a href="/gostd/net/net.go.html#3342701">e</a></span><span class="op" id="3342774">.</span><span class="ident" id="3342775"><a href="/gostd/net/net.go.html#3342667">Err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342780">if</span>&nbsp;<span class="ident" id="3342783"><a href="/gostd/net/net.go.html#3342701">e</a></span><span class="op" id="3342784">.</span><span class="ident" id="3342785"><a href="/gostd/net/net.go.html#3342680">Addr</a></span>&nbsp;<span class="op" id="3342790">!=</span>&nbsp;<span class="string" id="3342793">&#34;&#34;</span>&nbsp;<span class="op" id="3342796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3342800"><a href="/gostd/net/net.go.html#3342768">s</a></span>&nbsp;<span class="op" id="3342802">+=</span>&nbsp;<span class="string" id="3342805">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="3342809">+</span>&nbsp;<span class="ident" id="3342811"><a href="/gostd/net/net.go.html#3342701">e</a></span><span class="op" id="3342812">.</span><span class="ident" id="3342813"><a href="/gostd/net/net.go.html#3342680">Addr</a></span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3342819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342822">return</span>&nbsp;<span class="ident" id="3342829"><a href="/gostd/net/net.go.html#3342768">s</a></span><br>
<span class="lineno"></span><span class="op" id="3342831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342834">func</span>&nbsp;<span class="op" id="3342839">(</span><span class="ident" id="3342840">e</span>&nbsp;<span class="op" id="3342842">*</span><span class="ident" id="3342843"><a href="/gostd/net/net.go.html#3342647">AddrError</a></span><span class="op" id="3342852">)</span>&nbsp;<span class="ident" id="3342854">Temporary</span><span class="op" id="3342863">(</span><span class="op" id="3342864">)</span>&nbsp;<span class="builtintype" id="3342866">bool</span>&nbsp;<span class="op" id="3342871">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342874">return</span>&nbsp;<span class="builtintype" id="3342881">false</span><br>
<span class="lineno"></span><span class="op" id="3342887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342890">func</span>&nbsp;<span class="op" id="3342895">(</span><span class="ident" id="3342896">e</span>&nbsp;<span class="op" id="3342898">*</span><span class="ident" id="3342899"><a href="/gostd/net/net.go.html#3342647">AddrError</a></span><span class="op" id="3342908">)</span>&nbsp;<span class="ident" id="3342910">Timeout</span><span class="op" id="3342917">(</span><span class="op" id="3342918">)</span>&nbsp;<span class="builtintype" id="3342920">bool</span>&nbsp;<span class="op" id="3342925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3342928">return</span>&nbsp;<span class="builtintype" id="3342935">false</span><br>
<span class="lineno">370</span><span class="op" id="3342941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342944">type</span>&nbsp;<span class="ident" id="3342949">UnknownNetworkError</span>&nbsp;<span class="builtintype" id="3342969">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3342977">func</span>&nbsp;<span class="op" id="3342982">(</span><span class="ident" id="3342983">e</span>&nbsp;<span class="ident" id="3342985"><a href="/gostd/net/net.go.html#3342949">UnknownNetworkError</a></span><span class="op" id="3343004">)</span>&nbsp;<span class="ident" id="3343006">Error</span><span class="op" id="3343011">(</span><span class="op" id="3343012">)</span>&nbsp;<span class="builtintype" id="3343014">string</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3343023">{</span>&nbsp;<span class="keyword" id="3343025">return</span>&nbsp;<span class="string" id="3343032">&#34;unknown&nbsp;network&nbsp;&#34;</span>&nbsp;<span class="op" id="3343051">+</span>&nbsp;<span class="builtintype" id="3343053">string</span><span class="op" id="3343059">(</span><span class="ident" id="3343060"><a href="/gostd/net/net.go.html#3342983">e</a></span><span class="op" id="3343061">)</span>&nbsp;<span class="op" id="3343063">}</span><br>
<span class="lineno">375</span><span class="keyword" id="3343065">func</span>&nbsp;<span class="op" id="3343070">(</span><span class="ident" id="3343071">e</span>&nbsp;<span class="ident" id="3343073"><a href="/gostd/net/net.go.html#3342949">UnknownNetworkError</a></span><span class="op" id="3343092">)</span>&nbsp;<span class="ident" id="3343094">Temporary</span><span class="op" id="3343103">(</span><span class="op" id="3343104">)</span>&nbsp;<span class="builtintype" id="3343106">bool</span>&nbsp;<span class="op" id="3343111">{</span>&nbsp;<span class="keyword" id="3343113">return</span>&nbsp;<span class="builtintype" id="3343120">false</span>&nbsp;<span class="op" id="3343126">}</span><br>
<span class="lineno"></span><span class="keyword" id="3343128">func</span>&nbsp;<span class="op" id="3343133">(</span><span class="ident" id="3343134">e</span>&nbsp;<span class="ident" id="3343136"><a href="/gostd/net/net.go.html#3342949">UnknownNetworkError</a></span><span class="op" id="3343155">)</span>&nbsp;<span class="ident" id="3343157">Timeout</span><span class="op" id="3343164">(</span><span class="op" id="3343165">)</span>&nbsp;<span class="builtintype" id="3343167">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3343174">{</span>&nbsp;<span class="keyword" id="3343176">return</span>&nbsp;<span class="builtintype" id="3343183">false</span>&nbsp;<span class="op" id="3343189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3343192">type</span>&nbsp;<span class="ident" id="3343197">InvalidAddrError</span>&nbsp;<span class="builtintype" id="3343214">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="3343222">func</span>&nbsp;<span class="op" id="3343227">(</span><span class="ident" id="3343228">e</span>&nbsp;<span class="ident" id="3343230"><a href="/gostd/net/net.go.html#3343197">InvalidAddrError</a></span><span class="op" id="3343246">)</span>&nbsp;<span class="ident" id="3343248">Error</span><span class="op" id="3343253">(</span><span class="op" id="3343254">)</span>&nbsp;<span class="builtintype" id="3343256">string</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3343265">{</span>&nbsp;<span class="keyword" id="3343267">return</span>&nbsp;<span class="builtintype" id="3343274">string</span><span class="op" id="3343280">(</span><span class="ident" id="3343281"><a href="/gostd/net/net.go.html#3343228">e</a></span><span class="op" id="3343282">)</span>&nbsp;<span class="op" id="3343284">}</span><br>
<span class="lineno"></span><span class="keyword" id="3343286">func</span>&nbsp;<span class="op" id="3343291">(</span><span class="ident" id="3343292">e</span>&nbsp;<span class="ident" id="3343294"><a href="/gostd/net/net.go.html#3343197">InvalidAddrError</a></span><span class="op" id="3343310">)</span>&nbsp;<span class="ident" id="3343312">Timeout</span><span class="op" id="3343319">(</span><span class="op" id="3343320">)</span>&nbsp;<span class="builtintype" id="3343322">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3343329">{</span>&nbsp;<span class="keyword" id="3343331">return</span>&nbsp;<span class="builtintype" id="3343338">false</span>&nbsp;<span class="op" id="3343344">}</span><br>
<span class="lineno"></span><span class="keyword" id="3343346">func</span>&nbsp;<span class="op" id="3343351">(</span><span class="ident" id="3343352">e</span>&nbsp;<span class="ident" id="3343354"><a href="/gostd/net/net.go.html#3343197">InvalidAddrError</a></span><span class="op" id="3343370">)</span>&nbsp;<span class="ident" id="3343372">Temporary</span><span class="op" id="3343381">(</span><span class="op" id="3343382">)</span>&nbsp;<span class="builtintype" id="3343384">bool</span>&nbsp;<span class="op" id="3343389">{</span>&nbsp;<span class="keyword" id="3343391">return</span>&nbsp;<span class="builtintype" id="3343398">false</span>&nbsp;<span class="op" id="3343404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3343407">//&nbsp;DNSConfigError&nbsp;represents&nbsp;an&nbsp;error&nbsp;reading&nbsp;the&nbsp;machine&#39;s&nbsp;DNS&nbsp;configuration.</span><br>
<span class="lineno">385</span><span class="keyword" id="3343486">type</span>&nbsp;<span class="ident" id="3343491">DNSConfigError</span>&nbsp;<span class="keyword" id="3343506">struct</span>&nbsp;<span class="op" id="3343513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3343516">Err</span>&nbsp;<span class="builtintype" id="3343520">error</span><br>
<span class="lineno"></span><span class="op" id="3343526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3343529">func</span>&nbsp;<span class="op" id="3343534">(</span><span class="ident" id="3343535">e</span>&nbsp;<span class="op" id="3343537">*</span><span class="ident" id="3343538"><a href="/gostd/net/net.go.html#3343491">DNSConfigError</a></span><span class="op" id="3343552">)</span>&nbsp;<span class="ident" id="3343554">Error</span><span class="op" id="3343559">(</span><span class="op" id="3343560">)</span>&nbsp;<span class="builtintype" id="3343562">string</span>&nbsp;<span class="op" id="3343569">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3343572">return</span>&nbsp;<span class="string" id="3343579">&#34;error&nbsp;reading&nbsp;DNS&nbsp;config:&nbsp;&#34;</span>&nbsp;<span class="op" id="3343608">+</span>&nbsp;<span class="ident" id="3343610"><a href="/gostd/net/net.go.html#3343535">e</a></span><span class="op" id="3343611">.</span><span class="ident" id="3343612"><a href="/gostd/net/net.go.html#3343516">Err</a></span><span class="op" id="3343615">.</span><span class="ident" id="3343616">Error</span><span class="op" id="3343621">(</span><span class="op" id="3343622">)</span><br>
<span class="lineno"></span><span class="op" id="3343624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3343627">func</span>&nbsp;<span class="op" id="3343632">(</span><span class="ident" id="3343633">e</span>&nbsp;<span class="op" id="3343635">*</span><span class="ident" id="3343636"><a href="/gostd/net/net.go.html#3343491">DNSConfigError</a></span><span class="op" id="3343650">)</span>&nbsp;<span class="ident" id="3343652">Timeout</span><span class="op" id="3343659">(</span><span class="op" id="3343660">)</span>&nbsp;<span class="builtintype" id="3343662">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3343669">{</span>&nbsp;<span class="keyword" id="3343671">return</span>&nbsp;<span class="builtintype" id="3343678">false</span>&nbsp;<span class="op" id="3343684">}</span><br>
<span class="lineno"></span><span class="keyword" id="3343686">func</span>&nbsp;<span class="op" id="3343691">(</span><span class="ident" id="3343692">e</span>&nbsp;<span class="op" id="3343694">*</span><span class="ident" id="3343695"><a href="/gostd/net/net.go.html#3343491">DNSConfigError</a></span><span class="op" id="3343709">)</span>&nbsp;<span class="ident" id="3343711">Temporary</span><span class="op" id="3343720">(</span><span class="op" id="3343721">)</span>&nbsp;<span class="builtintype" id="3343723">bool</span>&nbsp;<span class="op" id="3343728">{</span>&nbsp;<span class="keyword" id="3343730">return</span>&nbsp;<span class="builtintype" id="3343737">false</span>&nbsp;<span class="op" id="3343743">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span><span class="keyword" id="3343746">type</span>&nbsp;<span class="ident" id="3343751">writerOnly</span>&nbsp;<span class="keyword" id="3343762">struct</span>&nbsp;<span class="op" id="3343769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3343772"><a href="/gostd/net/net.go.html#3334093">io</a></span><span class="op" id="3343774">.</span><span class="ident" id="3343775"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span><span class="op" id="3343782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">400</span><span class="comment" id="3343785">//&nbsp;Fallback&nbsp;implementation&nbsp;of&nbsp;io.ReaderFrom&#39;s&nbsp;ReadFrom,&nbsp;when&nbsp;sendfile&nbsp;isn&#39;t</span><br>
<span class="lineno"></span><span class="comment" id="3343861">//&nbsp;applicable.</span><br>
<span class="lineno"></span><span class="keyword" id="3343876">func</span>&nbsp;<span class="ident" id="3343881">genericReadFrom</span><span class="op" id="3343896">(</span><span class="ident" id="3343897">w</span>&nbsp;<span class="ident" id="3343899"><a href="/gostd/net/net.go.html#3334093">io</a></span><span class="op" id="3343901">.</span><span class="ident" id="3343902"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="3343908">,</span>&nbsp;<span class="ident" id="3343910">r</span>&nbsp;<span class="ident" id="3343912"><a href="/gostd/net/net.go.html#3334093">io</a></span><span class="op" id="3343914">.</span><span class="ident" id="3343915"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="3343921">)</span>&nbsp;<span class="op" id="3343923">(</span><span class="ident" id="3343924">n</span>&nbsp;<span class="builtintype" id="3343926">int64</span><span class="op" id="3343931">,</span>&nbsp;<span class="ident" id="3343933">err</span>&nbsp;<span class="builtintype" id="3343937">error</span><span class="op" id="3343942">)</span>&nbsp;<span class="op" id="3343944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3343947">//&nbsp;Use&nbsp;wrapper&nbsp;to&nbsp;hide&nbsp;existing&nbsp;r.ReadFrom&nbsp;from&nbsp;io.Copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3344005">return</span>&nbsp;<span class="ident" id="3344012"><a href="/gostd/net/net.go.html#3334093">io</a></span><span class="op" id="3344014">.</span><span class="ident" id="3344015"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="3344019">(</span><span class="ident" id="3344020"><a href="/gostd/net/net.go.html#3343751">writerOnly</a></span><span class="op" id="3344030">{</span><span class="ident" id="3344031"><a href="/gostd/net/net.go.html#3343897">w</a></span><span class="op" id="3344032">}</span><span class="op" id="3344033">,</span>&nbsp;<span class="ident" id="3344035"><a href="/gostd/net/net.go.html#3343910">r</a></span><span class="op" id="3344036">)</span><br>
<span class="lineno">405</span><span class="op" id="3344038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3344041">//&nbsp;Limit&nbsp;the&nbsp;number&nbsp;of&nbsp;concurrent&nbsp;cgo-using&nbsp;goroutines,&nbsp;because</span><br>
<span class="lineno"></span><span class="comment" id="3344105">//&nbsp;each&nbsp;will&nbsp;block&nbsp;an&nbsp;entire&nbsp;operating&nbsp;system&nbsp;thread.&nbsp;The&nbsp;usual&nbsp;culprit</span><br>
<span class="lineno"></span><span class="comment" id="3344177">//&nbsp;is&nbsp;resolving&nbsp;many&nbsp;DNS&nbsp;names&nbsp;in&nbsp;separate&nbsp;goroutines&nbsp;but&nbsp;the&nbsp;DNS</span><br>
<span class="lineno">410</span><span class="comment" id="3344243">//&nbsp;server&nbsp;is&nbsp;not&nbsp;responding.&nbsp;Then&nbsp;the&nbsp;many&nbsp;lookups&nbsp;each&nbsp;use&nbsp;a&nbsp;different</span><br>
<span class="lineno"></span><span class="comment" id="3344315">//&nbsp;thread,&nbsp;and&nbsp;the&nbsp;system&nbsp;or&nbsp;the&nbsp;program&nbsp;runs&nbsp;out&nbsp;of&nbsp;threads.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3344378">var</span>&nbsp;<span class="ident" id="3344382">threadLimit</span>&nbsp;<span class="op" id="3344394">=</span>&nbsp;<span class="builtinfunc" id="3344396">make</span><span class="op" id="3344400">(</span><span class="keyword" id="3344401">chan</span>&nbsp;<span class="keyword" id="3344406">struct</span><span class="op" id="3344412">{</span><span class="op" id="3344413">}</span><span class="op" id="3344414">,</span>&nbsp;<span class="num" id="3344416">500</span><span class="op" id="3344419">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">415</span><span class="comment" id="3344422">//&nbsp;Using&nbsp;send&nbsp;for&nbsp;acquire&nbsp;is&nbsp;fine&nbsp;here&nbsp;because&nbsp;we&nbsp;are&nbsp;not&nbsp;using&nbsp;this</span><br>
<span class="lineno"></span><span class="comment" id="3344491">//&nbsp;to&nbsp;protect&nbsp;any&nbsp;memory.&nbsp;All&nbsp;we&nbsp;care&nbsp;about&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;goroutines</span><br>
<span class="lineno"></span><span class="comment" id="3344563">//&nbsp;making&nbsp;calls&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3344591">func</span>&nbsp;<span class="ident" id="3344596">acquireThread</span><span class="op" id="3344609">(</span><span class="op" id="3344610">)</span>&nbsp;<span class="op" id="3344612">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3344615"><a href="/gostd/net/net.go.html#3344382">threadLimit</a></span>&nbsp;<span class="op" id="3344627">&lt;-</span>&nbsp;<span class="keyword" id="3344630">struct</span><span class="op" id="3344636">{</span><span class="op" id="3344637">}</span><span class="op" id="3344638">{</span><span class="op" id="3344639">}</span><br>
<span class="lineno"></span><span class="op" id="3344641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3344644">func</span>&nbsp;<span class="ident" id="3344649">releaseThread</span><span class="op" id="3344662">(</span><span class="op" id="3344663">)</span>&nbsp;<span class="op" id="3344665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3344668">&lt;-</span><span class="ident" id="3344670"><a href="/gostd/net/net.go.html#3344382">threadLimit</a></span><br>
<span class="lineno">425</span><span class="op" id="3344682">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
