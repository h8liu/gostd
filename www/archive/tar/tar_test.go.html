<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7317321">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7317376">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7317430">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7317481">package</span>&nbsp;<span class="ident" id="7317489">tar</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7317494">import</span>&nbsp;<span class="op" id="7317501">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7317504">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7317513">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7317526">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7317532">&#34;path&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7317540">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7317551">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7317562">&#34;testing&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7317573">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7317580">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7317583">func</span>&nbsp;<span class="ident" id="7317588">TestFileInfoHeader</span><span class="op" id="7317606">(</span><span class="ident" id="7317607">t</span>&nbsp;<span class="op" id="7317609">*</span><span class="ident" id="7317610"><a href="/archive/tar/tar_test.go.html#7317562">testing</a></span><span class="op" id="7317617">.</span><span class="ident" id="7317618">T</span><span class="op" id="7317619">)</span>&nbsp;<span class="op" id="7317621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317624">fi</span><span class="op" id="7317626">,</span>&nbsp;<span class="ident" id="7317628">err</span>&nbsp;<span class="op" id="7317632">:=</span>&nbsp;<span class="ident" id="7317635"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7317637">.</span><span class="ident" id="7317638">Stat</span><span class="op" id="7317642">(</span><span class="string" id="7317643">&#34;testdata/small.txt&#34;</span><span class="op" id="7317663">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317666">if</span>&nbsp;<span class="ident" id="7317669"><a href="/archive/tar/tar_test.go.html#7317628">err</a></span>&nbsp;<span class="op" id="7317673">!=</span>&nbsp;<span class="ident" id="7317676">nil</span>&nbsp;<span class="op" id="7317680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317684"><a href="/archive/tar/tar_test.go.html#7317607">t</a></span><span class="op" id="7317685">.</span><span class="ident" id="7317686">Fatal</span><span class="op" id="7317691">(</span><span class="ident" id="7317692"><a href="/archive/tar/tar_test.go.html#7317628">err</a></span><span class="op" id="7317695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317701">h</span><span class="op" id="7317702">,</span>&nbsp;<span class="ident" id="7317704"><a href="/archive/tar/tar_test.go.html#7317628">err</a></span>&nbsp;<span class="op" id="7317708">:=</span>&nbsp;<span class="ident" id="7317711"><a href="/archive/tar/common.go.html#5201063">FileInfoHeader</a></span><span class="op" id="7317725">(</span><span class="ident" id="7317726"><a href="/archive/tar/tar_test.go.html#7317624">fi</a></span><span class="op" id="7317728">,</span>&nbsp;<span class="string" id="7317730">&#34;&#34;</span><span class="op" id="7317732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317735">if</span>&nbsp;<span class="ident" id="7317738"><a href="/archive/tar/tar_test.go.html#7317628">err</a></span>&nbsp;<span class="op" id="7317742">!=</span>&nbsp;<span class="ident" id="7317745">nil</span>&nbsp;<span class="op" id="7317749">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317753"><a href="/archive/tar/tar_test.go.html#7317607">t</a></span><span class="op" id="7317754">.</span><span class="ident" id="7317755">Fatalf</span><span class="op" id="7317761">(</span><span class="string" id="7317762">&#34;FileInfoHeader:&nbsp;%v&#34;</span><span class="op" id="7317782">,</span>&nbsp;<span class="ident" id="7317784"><a href="/archive/tar/tar_test.go.html#7317628">err</a></span><span class="op" id="7317787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317793">if</span>&nbsp;<span class="ident" id="7317796">g</span><span class="op" id="7317797">,</span>&nbsp;<span class="ident" id="7317799">e</span>&nbsp;<span class="op" id="7317801">:=</span>&nbsp;<span class="ident" id="7317804"><a href="/archive/tar/tar_test.go.html#7317701">h</a></span><span class="op" id="7317805">.</span><span class="ident" id="7317806">Name</span><span class="op" id="7317810">,</span>&nbsp;<span class="string" id="7317812">&#34;small.txt&#34;</span><span class="op" id="7317823">;</span>&nbsp;<span class="ident" id="7317825"><a href="/archive/tar/tar_test.go.html#7317796">g</a></span>&nbsp;<span class="op" id="7317827">!=</span>&nbsp;<span class="ident" id="7317830"><a href="/archive/tar/tar_test.go.html#7317799">e</a></span>&nbsp;<span class="op" id="7317832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317836"><a href="/archive/tar/tar_test.go.html#7317607">t</a></span><span class="op" id="7317837">.</span><span class="ident" id="7317838">Errorf</span><span class="op" id="7317844">(</span><span class="string" id="7317845">&#34;Name&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7317865">,</span>&nbsp;<span class="ident" id="7317867"><a href="/archive/tar/tar_test.go.html#7317796">g</a></span><span class="op" id="7317868">,</span>&nbsp;<span class="ident" id="7317870"><a href="/archive/tar/tar_test.go.html#7317799">e</a></span><span class="op" id="7317871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317874">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317877">if</span>&nbsp;<span class="ident" id="7317880">g</span><span class="op" id="7317881">,</span>&nbsp;<span class="ident" id="7317883">e</span>&nbsp;<span class="op" id="7317885">:=</span>&nbsp;<span class="ident" id="7317888"><a href="/archive/tar/tar_test.go.html#7317701">h</a></span><span class="op" id="7317889">.</span><span class="ident" id="7317890">Mode</span><span class="op" id="7317894">,</span>&nbsp;<span class="ident" id="7317896">int64</span><span class="op" id="7317901">(</span><span class="ident" id="7317902"><a href="/archive/tar/tar_test.go.html#7317624">fi</a></span><span class="op" id="7317904">.</span><span class="ident" id="7317905">Mode</span><span class="op" id="7317909">(</span><span class="op" id="7317910">)</span><span class="op" id="7317911">.</span><span class="ident" id="7317912">Perm</span><span class="op" id="7317916">(</span><span class="op" id="7317917">)</span><span class="op" id="7317918">)</span><span class="op" id="7317919">|</span><span class="ident" id="7317920"><a href="/archive/tar/common.go.html#5200021">c_ISREG</a></span><span class="op" id="7317927">;</span>&nbsp;<span class="ident" id="7317929"><a href="/archive/tar/tar_test.go.html#7317880">g</a></span>&nbsp;<span class="op" id="7317931">!=</span>&nbsp;<span class="ident" id="7317934"><a href="/archive/tar/tar_test.go.html#7317883">e</a></span>&nbsp;<span class="op" id="7317936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317940"><a href="/archive/tar/tar_test.go.html#7317607">t</a></span><span class="op" id="7317941">.</span><span class="ident" id="7317942">Errorf</span><span class="op" id="7317948">(</span><span class="string" id="7317949">&#34;Mode&nbsp;=&nbsp;%#o;&nbsp;want&nbsp;%#o&#34;</span><span class="op" id="7317971">,</span>&nbsp;<span class="ident" id="7317973"><a href="/archive/tar/tar_test.go.html#7317880">g</a></span><span class="op" id="7317974">,</span>&nbsp;<span class="ident" id="7317976"><a href="/archive/tar/tar_test.go.html#7317883">e</a></span><span class="op" id="7317977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317983">if</span>&nbsp;<span class="ident" id="7317986">g</span><span class="op" id="7317987">,</span>&nbsp;<span class="ident" id="7317989">e</span>&nbsp;<span class="op" id="7317991">:=</span>&nbsp;<span class="ident" id="7317994"><a href="/archive/tar/tar_test.go.html#7317701">h</a></span><span class="op" id="7317995">.</span><span class="ident" id="7317996">Size</span><span class="op" id="7318000">,</span>&nbsp;<span class="ident" id="7318002">int64</span><span class="op" id="7318007">(</span><span class="num" id="7318008">5</span><span class="op" id="7318009">)</span><span class="op" id="7318010">;</span>&nbsp;<span class="ident" id="7318012"><a href="/archive/tar/tar_test.go.html#7317986">g</a></span>&nbsp;<span class="op" id="7318014">!=</span>&nbsp;<span class="ident" id="7318017"><a href="/archive/tar/tar_test.go.html#7317989">e</a></span>&nbsp;<span class="op" id="7318019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318023"><a href="/archive/tar/tar_test.go.html#7317607">t</a></span><span class="op" id="7318024">.</span><span class="ident" id="7318025">Errorf</span><span class="op" id="7318031">(</span><span class="string" id="7318032">&#34;Size&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7318052">,</span>&nbsp;<span class="ident" id="7318054"><a href="/archive/tar/tar_test.go.html#7317986">g</a></span><span class="op" id="7318055">,</span>&nbsp;<span class="ident" id="7318057"><a href="/archive/tar/tar_test.go.html#7317989">e</a></span><span class="op" id="7318058">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318064">if</span>&nbsp;<span class="ident" id="7318067">g</span><span class="op" id="7318068">,</span>&nbsp;<span class="ident" id="7318070">e</span>&nbsp;<span class="op" id="7318072">:=</span>&nbsp;<span class="ident" id="7318075"><a href="/archive/tar/tar_test.go.html#7317701">h</a></span><span class="op" id="7318076">.</span><span class="ident" id="7318077">ModTime</span><span class="op" id="7318084">,</span>&nbsp;<span class="ident" id="7318086"><a href="/archive/tar/tar_test.go.html#7317624">fi</a></span><span class="op" id="7318088">.</span><span class="ident" id="7318089">ModTime</span><span class="op" id="7318096">(</span><span class="op" id="7318097">)</span><span class="op" id="7318098">;</span>&nbsp;<span class="op" id="7318100">!</span><span class="ident" id="7318101"><a href="/archive/tar/tar_test.go.html#7318067">g</a></span><span class="op" id="7318102">.</span><span class="ident" id="7318103">Equal</span><span class="op" id="7318108">(</span><span class="ident" id="7318109"><a href="/archive/tar/tar_test.go.html#7318070">e</a></span><span class="op" id="7318110">)</span>&nbsp;<span class="op" id="7318112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318116"><a href="/archive/tar/tar_test.go.html#7317607">t</a></span><span class="op" id="7318117">.</span><span class="ident" id="7318118">Errorf</span><span class="op" id="7318124">(</span><span class="string" id="7318125">&#34;ModTime&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7318148">,</span>&nbsp;<span class="ident" id="7318150"><a href="/archive/tar/tar_test.go.html#7318067">g</a></span><span class="op" id="7318151">,</span>&nbsp;<span class="ident" id="7318153"><a href="/archive/tar/tar_test.go.html#7318070">e</a></span><span class="op" id="7318154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7318160">//&nbsp;FileInfoHeader&nbsp;should&nbsp;error&nbsp;when&nbsp;passing&nbsp;nil&nbsp;FileInfo</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318218">if</span>&nbsp;<span class="ident" id="7318221">_</span><span class="op" id="7318222">,</span>&nbsp;<span class="ident" id="7318224">err</span>&nbsp;<span class="op" id="7318228">:=</span>&nbsp;<span class="ident" id="7318231"><a href="/archive/tar/common.go.html#5201063">FileInfoHeader</a></span><span class="op" id="7318245">(</span><span class="ident" id="7318246">nil</span><span class="op" id="7318249">,</span>&nbsp;<span class="string" id="7318251">&#34;&#34;</span><span class="op" id="7318253">)</span><span class="op" id="7318254">;</span>&nbsp;<span class="ident" id="7318256"><a href="/archive/tar/tar_test.go.html#7318224">err</a></span>&nbsp;<span class="op" id="7318260">==</span>&nbsp;<span class="ident" id="7318263">nil</span>&nbsp;<span class="op" id="7318267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318271"><a href="/archive/tar/tar_test.go.html#7317607">t</a></span><span class="op" id="7318272">.</span><span class="ident" id="7318273">Fatalf</span><span class="op" id="7318279">(</span><span class="string" id="7318280">&#34;Expected&nbsp;error&nbsp;when&nbsp;passing&nbsp;nil&nbsp;to&nbsp;FileInfoHeader&#34;</span><span class="op" id="7318331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318334">}</span><br>
<span class="lineno"></span><span class="op" id="7318336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="7318339">func</span>&nbsp;<span class="ident" id="7318344">TestFileInfoHeaderDir</span><span class="op" id="7318365">(</span><span class="ident" id="7318366">t</span>&nbsp;<span class="op" id="7318368">*</span><span class="ident" id="7318369"><a href="/archive/tar/tar_test.go.html#7317562">testing</a></span><span class="op" id="7318376">.</span><span class="ident" id="7318377">T</span><span class="op" id="7318378">)</span>&nbsp;<span class="op" id="7318380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318383">fi</span><span class="op" id="7318385">,</span>&nbsp;<span class="ident" id="7318387">err</span>&nbsp;<span class="op" id="7318391">:=</span>&nbsp;<span class="ident" id="7318394"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7318396">.</span><span class="ident" id="7318397">Stat</span><span class="op" id="7318401">(</span><span class="string" id="7318402">&#34;testdata&#34;</span><span class="op" id="7318412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318415">if</span>&nbsp;<span class="ident" id="7318418"><a href="/archive/tar/tar_test.go.html#7318387">err</a></span>&nbsp;<span class="op" id="7318422">!=</span>&nbsp;<span class="ident" id="7318425">nil</span>&nbsp;<span class="op" id="7318429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318433"><a href="/archive/tar/tar_test.go.html#7318366">t</a></span><span class="op" id="7318434">.</span><span class="ident" id="7318435">Fatal</span><span class="op" id="7318440">(</span><span class="ident" id="7318441"><a href="/archive/tar/tar_test.go.html#7318387">err</a></span><span class="op" id="7318444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318447">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318450">h</span><span class="op" id="7318451">,</span>&nbsp;<span class="ident" id="7318453"><a href="/archive/tar/tar_test.go.html#7318387">err</a></span>&nbsp;<span class="op" id="7318457">:=</span>&nbsp;<span class="ident" id="7318460"><a href="/archive/tar/common.go.html#5201063">FileInfoHeader</a></span><span class="op" id="7318474">(</span><span class="ident" id="7318475"><a href="/archive/tar/tar_test.go.html#7318383">fi</a></span><span class="op" id="7318477">,</span>&nbsp;<span class="string" id="7318479">&#34;&#34;</span><span class="op" id="7318481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318484">if</span>&nbsp;<span class="ident" id="7318487"><a href="/archive/tar/tar_test.go.html#7318387">err</a></span>&nbsp;<span class="op" id="7318491">!=</span>&nbsp;<span class="ident" id="7318494">nil</span>&nbsp;<span class="op" id="7318498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318502"><a href="/archive/tar/tar_test.go.html#7318366">t</a></span><span class="op" id="7318503">.</span><span class="ident" id="7318504">Fatalf</span><span class="op" id="7318510">(</span><span class="string" id="7318511">&#34;FileInfoHeader:&nbsp;%v&#34;</span><span class="op" id="7318531">,</span>&nbsp;<span class="ident" id="7318533"><a href="/archive/tar/tar_test.go.html#7318387">err</a></span><span class="op" id="7318536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318542">if</span>&nbsp;<span class="ident" id="7318545">g</span><span class="op" id="7318546">,</span>&nbsp;<span class="ident" id="7318548">e</span>&nbsp;<span class="op" id="7318550">:=</span>&nbsp;<span class="ident" id="7318553"><a href="/archive/tar/tar_test.go.html#7318450">h</a></span><span class="op" id="7318554">.</span><span class="ident" id="7318555">Name</span><span class="op" id="7318559">,</span>&nbsp;<span class="string" id="7318561">&#34;testdata/&#34;</span><span class="op" id="7318572">;</span>&nbsp;<span class="ident" id="7318574"><a href="/archive/tar/tar_test.go.html#7318545">g</a></span>&nbsp;<span class="op" id="7318576">!=</span>&nbsp;<span class="ident" id="7318579"><a href="/archive/tar/tar_test.go.html#7318548">e</a></span>&nbsp;<span class="op" id="7318581">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318585"><a href="/archive/tar/tar_test.go.html#7318366">t</a></span><span class="op" id="7318586">.</span><span class="ident" id="7318587">Errorf</span><span class="op" id="7318593">(</span><span class="string" id="7318594">&#34;Name&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7318614">,</span>&nbsp;<span class="ident" id="7318616"><a href="/archive/tar/tar_test.go.html#7318545">g</a></span><span class="op" id="7318617">,</span>&nbsp;<span class="ident" id="7318619"><a href="/archive/tar/tar_test.go.html#7318548">e</a></span><span class="op" id="7318620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7318626">//&nbsp;Ignoring&nbsp;c_ISGID&nbsp;for&nbsp;golang.org/issue/4867</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318673">if</span>&nbsp;<span class="ident" id="7318676">g</span><span class="op" id="7318677">,</span>&nbsp;<span class="ident" id="7318679">e</span>&nbsp;<span class="op" id="7318681">:=</span>&nbsp;<span class="ident" id="7318684"><a href="/archive/tar/tar_test.go.html#7318450">h</a></span><span class="op" id="7318685">.</span><span class="ident" id="7318686">Mode</span><span class="op" id="7318690">&amp;^</span><span class="ident" id="7318692"><a href="/archive/tar/common.go.html#5199883">c_ISGID</a></span><span class="op" id="7318699">,</span>&nbsp;<span class="ident" id="7318701">int64</span><span class="op" id="7318706">(</span><span class="ident" id="7318707"><a href="/archive/tar/tar_test.go.html#7318383">fi</a></span><span class="op" id="7318709">.</span><span class="ident" id="7318710">Mode</span><span class="op" id="7318714">(</span><span class="op" id="7318715">)</span><span class="op" id="7318716">.</span><span class="ident" id="7318717">Perm</span><span class="op" id="7318721">(</span><span class="op" id="7318722">)</span><span class="op" id="7318723">)</span><span class="op" id="7318724">|</span><span class="ident" id="7318725"><a href="/archive/tar/common.go.html#5199960">c_ISDIR</a></span><span class="op" id="7318732">;</span>&nbsp;<span class="ident" id="7318734"><a href="/archive/tar/tar_test.go.html#7318676">g</a></span>&nbsp;<span class="op" id="7318736">!=</span>&nbsp;<span class="ident" id="7318739"><a href="/archive/tar/tar_test.go.html#7318679">e</a></span>&nbsp;<span class="op" id="7318741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318745"><a href="/archive/tar/tar_test.go.html#7318366">t</a></span><span class="op" id="7318746">.</span><span class="ident" id="7318747">Errorf</span><span class="op" id="7318753">(</span><span class="string" id="7318754">&#34;Mode&nbsp;=&nbsp;%#o;&nbsp;want&nbsp;%#o&#34;</span><span class="op" id="7318776">,</span>&nbsp;<span class="ident" id="7318778"><a href="/archive/tar/tar_test.go.html#7318676">g</a></span><span class="op" id="7318779">,</span>&nbsp;<span class="ident" id="7318781"><a href="/archive/tar/tar_test.go.html#7318679">e</a></span><span class="op" id="7318782">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318788">if</span>&nbsp;<span class="ident" id="7318791">g</span><span class="op" id="7318792">,</span>&nbsp;<span class="ident" id="7318794">e</span>&nbsp;<span class="op" id="7318796">:=</span>&nbsp;<span class="ident" id="7318799"><a href="/archive/tar/tar_test.go.html#7318450">h</a></span><span class="op" id="7318800">.</span><span class="ident" id="7318801">Size</span><span class="op" id="7318805">,</span>&nbsp;<span class="ident" id="7318807">int64</span><span class="op" id="7318812">(</span><span class="num" id="7318813">0</span><span class="op" id="7318814">)</span><span class="op" id="7318815">;</span>&nbsp;<span class="ident" id="7318817"><a href="/archive/tar/tar_test.go.html#7318791">g</a></span>&nbsp;<span class="op" id="7318819">!=</span>&nbsp;<span class="ident" id="7318822"><a href="/archive/tar/tar_test.go.html#7318794">e</a></span>&nbsp;<span class="op" id="7318824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318828"><a href="/archive/tar/tar_test.go.html#7318366">t</a></span><span class="op" id="7318829">.</span><span class="ident" id="7318830">Errorf</span><span class="op" id="7318836">(</span><span class="string" id="7318837">&#34;Size&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7318857">,</span>&nbsp;<span class="ident" id="7318859"><a href="/archive/tar/tar_test.go.html#7318791">g</a></span><span class="op" id="7318860">,</span>&nbsp;<span class="ident" id="7318862"><a href="/archive/tar/tar_test.go.html#7318794">e</a></span><span class="op" id="7318863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318869">if</span>&nbsp;<span class="ident" id="7318872">g</span><span class="op" id="7318873">,</span>&nbsp;<span class="ident" id="7318875">e</span>&nbsp;<span class="op" id="7318877">:=</span>&nbsp;<span class="ident" id="7318880"><a href="/archive/tar/tar_test.go.html#7318450">h</a></span><span class="op" id="7318881">.</span><span class="ident" id="7318882">ModTime</span><span class="op" id="7318889">,</span>&nbsp;<span class="ident" id="7318891"><a href="/archive/tar/tar_test.go.html#7318383">fi</a></span><span class="op" id="7318893">.</span><span class="ident" id="7318894">ModTime</span><span class="op" id="7318901">(</span><span class="op" id="7318902">)</span><span class="op" id="7318903">;</span>&nbsp;<span class="op" id="7318905">!</span><span class="ident" id="7318906"><a href="/archive/tar/tar_test.go.html#7318872">g</a></span><span class="op" id="7318907">.</span><span class="ident" id="7318908">Equal</span><span class="op" id="7318913">(</span><span class="ident" id="7318914"><a href="/archive/tar/tar_test.go.html#7318875">e</a></span><span class="op" id="7318915">)</span>&nbsp;<span class="op" id="7318917">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318921"><a href="/archive/tar/tar_test.go.html#7318366">t</a></span><span class="op" id="7318922">.</span><span class="ident" id="7318923">Errorf</span><span class="op" id="7318929">(</span><span class="string" id="7318930">&#34;ModTime&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7318953">,</span>&nbsp;<span class="ident" id="7318955"><a href="/archive/tar/tar_test.go.html#7318872">g</a></span><span class="op" id="7318956">,</span>&nbsp;<span class="ident" id="7318958"><a href="/archive/tar/tar_test.go.html#7318875">e</a></span><span class="op" id="7318959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318962">}</span><br>
<span class="lineno"></span><span class="op" id="7318964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7318967">func</span>&nbsp;<span class="ident" id="7318972">TestFileInfoHeaderSymlink</span><span class="op" id="7318997">(</span><span class="ident" id="7318998">t</span>&nbsp;<span class="op" id="7319000">*</span><span class="ident" id="7319001"><a href="/archive/tar/tar_test.go.html#7317562">testing</a></span><span class="op" id="7319008">.</span><span class="ident" id="7319009">T</span><span class="op" id="7319010">)</span>&nbsp;<span class="op" id="7319012">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319015">h</span><span class="op" id="7319016">,</span>&nbsp;<span class="ident" id="7319018">err</span>&nbsp;<span class="op" id="7319022">:=</span>&nbsp;<span class="ident" id="7319025"><a href="/archive/tar/common.go.html#5201063">FileInfoHeader</a></span><span class="op" id="7319039">(</span><span class="ident" id="7319040"><a href="/archive/tar/tar_test.go.html#7319290">symlink</a></span><span class="op" id="7319047">{</span><span class="op" id="7319048">}</span><span class="op" id="7319049">,</span>&nbsp;<span class="string" id="7319051">&#34;some-target&#34;</span><span class="op" id="7319064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7319067">if</span>&nbsp;<span class="ident" id="7319070"><a href="/archive/tar/tar_test.go.html#7319018">err</a></span>&nbsp;<span class="op" id="7319074">!=</span>&nbsp;<span class="ident" id="7319077">nil</span>&nbsp;<span class="op" id="7319081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319085"><a href="/archive/tar/tar_test.go.html#7318998">t</a></span><span class="op" id="7319086">.</span><span class="ident" id="7319087">Fatal</span><span class="op" id="7319092">(</span><span class="ident" id="7319093"><a href="/archive/tar/tar_test.go.html#7319018">err</a></span><span class="op" id="7319096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7319102">if</span>&nbsp;<span class="ident" id="7319105">g</span><span class="op" id="7319106">,</span>&nbsp;<span class="ident" id="7319108">e</span>&nbsp;<span class="op" id="7319110">:=</span>&nbsp;<span class="ident" id="7319113"><a href="/archive/tar/tar_test.go.html#7319015">h</a></span><span class="op" id="7319114">.</span><span class="ident" id="7319115">Name</span><span class="op" id="7319119">,</span>&nbsp;<span class="string" id="7319121">&#34;some-symlink&#34;</span><span class="op" id="7319135">;</span>&nbsp;<span class="ident" id="7319137"><a href="/archive/tar/tar_test.go.html#7319105">g</a></span>&nbsp;<span class="op" id="7319139">!=</span>&nbsp;<span class="ident" id="7319142"><a href="/archive/tar/tar_test.go.html#7319108">e</a></span>&nbsp;<span class="op" id="7319144">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319148"><a href="/archive/tar/tar_test.go.html#7318998">t</a></span><span class="op" id="7319149">.</span><span class="ident" id="7319150">Errorf</span><span class="op" id="7319156">(</span><span class="string" id="7319157">&#34;Name&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7319177">,</span>&nbsp;<span class="ident" id="7319179"><a href="/archive/tar/tar_test.go.html#7319105">g</a></span><span class="op" id="7319180">,</span>&nbsp;<span class="ident" id="7319182"><a href="/archive/tar/tar_test.go.html#7319108">e</a></span><span class="op" id="7319183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7319189">if</span>&nbsp;<span class="ident" id="7319192">g</span><span class="op" id="7319193">,</span>&nbsp;<span class="ident" id="7319195">e</span>&nbsp;<span class="op" id="7319197">:=</span>&nbsp;<span class="ident" id="7319200"><a href="/archive/tar/tar_test.go.html#7319015">h</a></span><span class="op" id="7319201">.</span><span class="ident" id="7319202">Linkname</span><span class="op" id="7319210">,</span>&nbsp;<span class="string" id="7319212">&#34;some-target&#34;</span><span class="op" id="7319225">;</span>&nbsp;<span class="ident" id="7319227"><a href="/archive/tar/tar_test.go.html#7319192">g</a></span>&nbsp;<span class="op" id="7319229">!=</span>&nbsp;<span class="ident" id="7319232"><a href="/archive/tar/tar_test.go.html#7319195">e</a></span>&nbsp;<span class="op" id="7319234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319238"><a href="/archive/tar/tar_test.go.html#7318998">t</a></span><span class="op" id="7319239">.</span><span class="ident" id="7319240">Errorf</span><span class="op" id="7319246">(</span><span class="string" id="7319247">&#34;Linkname&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7319271">,</span>&nbsp;<span class="ident" id="7319273"><a href="/archive/tar/tar_test.go.html#7319192">g</a></span><span class="op" id="7319274">,</span>&nbsp;<span class="ident" id="7319276"><a href="/archive/tar/tar_test.go.html#7319195">e</a></span><span class="op" id="7319277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319280">}</span><br>
<span class="lineno">80</span><span class="op" id="7319282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7319285">type</span>&nbsp;<span class="ident" id="7319290">symlink</span>&nbsp;<span class="keyword" id="7319298">struct</span><span class="op" id="7319304">{</span><span class="op" id="7319305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7319308">func</span>&nbsp;<span class="op" id="7319313">(</span><span class="ident" id="7319314"><a href="/archive/tar/tar_test.go.html#7319290">symlink</a></span><span class="op" id="7319321">)</span>&nbsp;<span class="ident" id="7319323">Name</span><span class="op" id="7319327">(</span><span class="op" id="7319328">)</span>&nbsp;<span class="builtintype" id="7319330">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319343">{</span>&nbsp;<span class="keyword" id="7319345">return</span>&nbsp;<span class="string" id="7319352">&#34;some-symlink&#34;</span>&nbsp;<span class="op" id="7319367">}</span><br>
<span class="lineno">85</span><span class="keyword" id="7319369">func</span>&nbsp;<span class="op" id="7319374">(</span><span class="ident" id="7319375"><a href="/archive/tar/tar_test.go.html#7319290">symlink</a></span><span class="op" id="7319382">)</span>&nbsp;<span class="ident" id="7319384">Size</span><span class="op" id="7319388">(</span><span class="op" id="7319389">)</span>&nbsp;<span class="ident" id="7319391">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319404">{</span>&nbsp;<span class="keyword" id="7319406">return</span>&nbsp;<span class="num" id="7319413">0</span>&nbsp;<span class="op" id="7319415">}</span><br>
<span class="lineno"></span><span class="keyword" id="7319417">func</span>&nbsp;<span class="op" id="7319422">(</span><span class="ident" id="7319423"><a href="/archive/tar/tar_test.go.html#7319290">symlink</a></span><span class="op" id="7319430">)</span>&nbsp;<span class="ident" id="7319432">Mode</span><span class="op" id="7319436">(</span><span class="op" id="7319437">)</span>&nbsp;<span class="ident" id="7319439"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7319441">.</span><span class="ident" id="7319442">FileMode</span>&nbsp;&nbsp;<span class="op" id="7319452">{</span>&nbsp;<span class="keyword" id="7319454">return</span>&nbsp;<span class="ident" id="7319461"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7319463">.</span><span class="ident" id="7319464">ModeSymlink</span>&nbsp;<span class="op" id="7319476">}</span><br>
<span class="lineno"></span><span class="keyword" id="7319478">func</span>&nbsp;<span class="op" id="7319483">(</span><span class="ident" id="7319484"><a href="/archive/tar/tar_test.go.html#7319290">symlink</a></span><span class="op" id="7319491">)</span>&nbsp;<span class="ident" id="7319493">ModTime</span><span class="op" id="7319500">(</span><span class="op" id="7319501">)</span>&nbsp;<span class="ident" id="7319503"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7319507">.</span><span class="ident" id="7319508">Time</span>&nbsp;<span class="op" id="7319513">{</span>&nbsp;<span class="keyword" id="7319515">return</span>&nbsp;<span class="ident" id="7319522"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7319526">.</span><span class="ident" id="7319527">Time</span><span class="op" id="7319531">{</span><span class="op" id="7319532">}</span>&nbsp;<span class="op" id="7319534">}</span><br>
<span class="lineno"></span><span class="keyword" id="7319536">func</span>&nbsp;<span class="op" id="7319541">(</span><span class="ident" id="7319542"><a href="/archive/tar/tar_test.go.html#7319290">symlink</a></span><span class="op" id="7319549">)</span>&nbsp;<span class="ident" id="7319551">IsDir</span><span class="op" id="7319556">(</span><span class="op" id="7319557">)</span>&nbsp;<span class="builtintype" id="7319559">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319571">{</span>&nbsp;<span class="keyword" id="7319573">return</span>&nbsp;<span class="ident" id="7319580">false</span>&nbsp;<span class="op" id="7319586">}</span><br>
<span class="lineno"></span><span class="keyword" id="7319588">func</span>&nbsp;<span class="op" id="7319593">(</span><span class="ident" id="7319594"><a href="/archive/tar/tar_test.go.html#7319290">symlink</a></span><span class="op" id="7319601">)</span>&nbsp;<span class="ident" id="7319603">Sys</span><span class="op" id="7319606">(</span><span class="op" id="7319607">)</span>&nbsp;<span class="keyword" id="7319609">interface</span><span class="op" id="7319618">{</span><span class="op" id="7319619">}</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7319623">{</span>&nbsp;<span class="keyword" id="7319625">return</span>&nbsp;<span class="ident" id="7319632">nil</span>&nbsp;<span class="op" id="7319636">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7319639">func</span>&nbsp;<span class="ident" id="7319644">TestRoundTrip</span><span class="op" id="7319657">(</span><span class="ident" id="7319658">t</span>&nbsp;<span class="op" id="7319660">*</span><span class="ident" id="7319661"><a href="/archive/tar/tar_test.go.html#7317562">testing</a></span><span class="op" id="7319668">.</span><span class="ident" id="7319669">T</span><span class="op" id="7319670">)</span>&nbsp;<span class="op" id="7319672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319675">data</span>&nbsp;<span class="op" id="7319680">:=</span>&nbsp;<span class="op" id="7319683">[</span><span class="op" id="7319684">]</span><span class="builtintype" id="7319685">byte</span><span class="op" id="7319689">(</span><span class="string" id="7319690">&#34;some&nbsp;file&nbsp;contents&#34;</span><span class="op" id="7319710">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7319714">var</span>&nbsp;<span class="ident" id="7319718">b</span>&nbsp;<span class="ident" id="7319720"><a href="/archive/tar/tar_test.go.html#7317504">bytes</a></span><span class="op" id="7319725">.</span><span class="ident" id="7319726">Buffer</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319734">tw</span>&nbsp;<span class="op" id="7319737">:=</span>&nbsp;<span class="ident" id="7319740"><a href="/archive/tar/writer.go.html#5228179">NewWriter</a></span><span class="op" id="7319749">(</span><span class="op" id="7319750">&amp;</span><span class="ident" id="7319751"><a href="/archive/tar/tar_test.go.html#7319718">b</a></span><span class="op" id="7319752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319755">hdr</span>&nbsp;<span class="op" id="7319759">:=</span>&nbsp;<span class="op" id="7319762">&amp;</span><span class="ident" id="7319763"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7319769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319773">Name</span><span class="op" id="7319777">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7319782">&#34;file.txt&#34;</span><span class="op" id="7319792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319796">Uid</span><span class="op" id="7319799">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7319805">1</span>&nbsp;<span class="op" id="7319807">&lt;&lt;</span>&nbsp;<span class="num" id="7319810">21</span><span class="op" id="7319812">,</span>&nbsp;<span class="comment" id="7319814">//&nbsp;too&nbsp;big&nbsp;for&nbsp;8&nbsp;octal&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319846">Size</span><span class="op" id="7319850">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7319855">int64</span><span class="op" id="7319860">(</span><span class="builtinfunc" id="7319861">len</span><span class="op" id="7319864">(</span><span class="ident" id="7319865"><a href="/archive/tar/tar_test.go.html#7319675">data</a></span><span class="op" id="7319869">)</span><span class="op" id="7319870">)</span><span class="op" id="7319871">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319875">ModTime</span><span class="op" id="7319882">:</span>&nbsp;<span class="ident" id="7319884"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7319888">.</span><span class="ident" id="7319889">Now</span><span class="op" id="7319892">(</span><span class="op" id="7319893">)</span><span class="op" id="7319894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7319900">//&nbsp;tar&nbsp;only&nbsp;supports&nbsp;second&nbsp;precision.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319940"><a href="/archive/tar/tar_test.go.html#7319755">hdr</a></span><span class="op" id="7319943">.</span><span class="ident" id="7319944">ModTime</span>&nbsp;<span class="op" id="7319952">=</span>&nbsp;<span class="ident" id="7319954"><a href="/archive/tar/tar_test.go.html#7319755">hdr</a></span><span class="op" id="7319957">.</span><span class="ident" id="7319958">ModTime</span><span class="op" id="7319965">.</span><span class="ident" id="7319966">Add</span><span class="op" id="7319969">(</span><span class="op" id="7319970">-</span><span class="ident" id="7319971"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7319975">.</span><span class="ident" id="7319976">Duration</span><span class="op" id="7319984">(</span><span class="ident" id="7319985"><a href="/archive/tar/tar_test.go.html#7319755">hdr</a></span><span class="op" id="7319988">.</span><span class="ident" id="7319989">ModTime</span><span class="op" id="7319996">.</span><span class="ident" id="7319997">Nanosecond</span><span class="op" id="7320007">(</span><span class="op" id="7320008">)</span><span class="op" id="7320009">)</span>&nbsp;<span class="op" id="7320011">*</span>&nbsp;<span class="ident" id="7320013"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7320017">.</span><span class="ident" id="7320018">Nanosecond</span><span class="op" id="7320028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320031">if</span>&nbsp;<span class="ident" id="7320034">err</span>&nbsp;<span class="op" id="7320038">:=</span>&nbsp;<span class="ident" id="7320041"><a href="/archive/tar/tar_test.go.html#7319734">tw</a></span><span class="op" id="7320043">.</span><span class="ident" id="7320044">WriteHeader</span><span class="op" id="7320055">(</span><span class="ident" id="7320056"><a href="/archive/tar/tar_test.go.html#7319755">hdr</a></span><span class="op" id="7320059">)</span><span class="op" id="7320060">;</span>&nbsp;<span class="ident" id="7320062"><a href="/archive/tar/tar_test.go.html#7320034">err</a></span>&nbsp;<span class="op" id="7320066">!=</span>&nbsp;<span class="ident" id="7320069">nil</span>&nbsp;<span class="op" id="7320073">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320077"><a href="/archive/tar/tar_test.go.html#7319658">t</a></span><span class="op" id="7320078">.</span><span class="ident" id="7320079">Fatalf</span><span class="op" id="7320085">(</span><span class="string" id="7320086">&#34;tw.WriteHeader:&nbsp;%v&#34;</span><span class="op" id="7320106">,</span>&nbsp;<span class="ident" id="7320108"><a href="/archive/tar/tar_test.go.html#7320034">err</a></span><span class="op" id="7320111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320117">if</span>&nbsp;<span class="ident" id="7320120">_</span><span class="op" id="7320121">,</span>&nbsp;<span class="ident" id="7320123">err</span>&nbsp;<span class="op" id="7320127">:=</span>&nbsp;<span class="ident" id="7320130"><a href="/archive/tar/tar_test.go.html#7319734">tw</a></span><span class="op" id="7320132">.</span><span class="ident" id="7320133">Write</span><span class="op" id="7320138">(</span><span class="ident" id="7320139"><a href="/archive/tar/tar_test.go.html#7319675">data</a></span><span class="op" id="7320143">)</span><span class="op" id="7320144">;</span>&nbsp;<span class="ident" id="7320146"><a href="/archive/tar/tar_test.go.html#7320123">err</a></span>&nbsp;<span class="op" id="7320150">!=</span>&nbsp;<span class="ident" id="7320153">nil</span>&nbsp;<span class="op" id="7320157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320161"><a href="/archive/tar/tar_test.go.html#7319658">t</a></span><span class="op" id="7320162">.</span><span class="ident" id="7320163">Fatalf</span><span class="op" id="7320169">(</span><span class="string" id="7320170">&#34;tw.Write:&nbsp;%v&#34;</span><span class="op" id="7320184">,</span>&nbsp;<span class="ident" id="7320186"><a href="/archive/tar/tar_test.go.html#7320123">err</a></span><span class="op" id="7320189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320192">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320195">if</span>&nbsp;<span class="ident" id="7320198">err</span>&nbsp;<span class="op" id="7320202">:=</span>&nbsp;<span class="ident" id="7320205"><a href="/archive/tar/tar_test.go.html#7319734">tw</a></span><span class="op" id="7320207">.</span><span class="ident" id="7320208">Close</span><span class="op" id="7320213">(</span><span class="op" id="7320214">)</span><span class="op" id="7320215">;</span>&nbsp;<span class="ident" id="7320217"><a href="/archive/tar/tar_test.go.html#7320198">err</a></span>&nbsp;<span class="op" id="7320221">!=</span>&nbsp;<span class="ident" id="7320224">nil</span>&nbsp;<span class="op" id="7320228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320232"><a href="/archive/tar/tar_test.go.html#7319658">t</a></span><span class="op" id="7320233">.</span><span class="ident" id="7320234">Fatalf</span><span class="op" id="7320240">(</span><span class="string" id="7320241">&#34;tw.Close:&nbsp;%v&#34;</span><span class="op" id="7320255">,</span>&nbsp;<span class="ident" id="7320257"><a href="/archive/tar/tar_test.go.html#7320198">err</a></span><span class="op" id="7320260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7320267">//&nbsp;Read&nbsp;it&nbsp;back.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320285">tr</span>&nbsp;<span class="op" id="7320288">:=</span>&nbsp;<span class="ident" id="7320291"><a href="/archive/tar/reader.go.html#5205723">NewReader</a></span><span class="op" id="7320300">(</span><span class="op" id="7320301">&amp;</span><span class="ident" id="7320302"><a href="/archive/tar/tar_test.go.html#7319718">b</a></span><span class="op" id="7320303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320306">rHdr</span><span class="op" id="7320310">,</span>&nbsp;<span class="ident" id="7320312">err</span>&nbsp;<span class="op" id="7320316">:=</span>&nbsp;<span class="ident" id="7320319"><a href="/archive/tar/tar_test.go.html#7320285">tr</a></span><span class="op" id="7320321">.</span><span class="ident" id="7320322">Next</span><span class="op" id="7320326">(</span><span class="op" id="7320327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320330">if</span>&nbsp;<span class="ident" id="7320333"><a href="/archive/tar/tar_test.go.html#7320312">err</a></span>&nbsp;<span class="op" id="7320337">!=</span>&nbsp;<span class="ident" id="7320340">nil</span>&nbsp;<span class="op" id="7320344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320348"><a href="/archive/tar/tar_test.go.html#7319658">t</a></span><span class="op" id="7320349">.</span><span class="ident" id="7320350">Fatalf</span><span class="op" id="7320356">(</span><span class="string" id="7320357">&#34;tr.Next:&nbsp;%v&#34;</span><span class="op" id="7320370">,</span>&nbsp;<span class="ident" id="7320372"><a href="/archive/tar/tar_test.go.html#7320312">err</a></span><span class="op" id="7320375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320378">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320381">if</span>&nbsp;<span class="op" id="7320384">!</span><span class="ident" id="7320385"><a href="/archive/tar/tar_test.go.html#7317540">reflect</a></span><span class="op" id="7320392">.</span><span class="ident" id="7320393">DeepEqual</span><span class="op" id="7320402">(</span><span class="ident" id="7320403"><a href="/archive/tar/tar_test.go.html#7320306">rHdr</a></span><span class="op" id="7320407">,</span>&nbsp;<span class="ident" id="7320409"><a href="/archive/tar/tar_test.go.html#7319755">hdr</a></span><span class="op" id="7320412">)</span>&nbsp;<span class="op" id="7320414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320418"><a href="/archive/tar/tar_test.go.html#7319658">t</a></span><span class="op" id="7320419">.</span><span class="ident" id="7320420">Errorf</span><span class="op" id="7320426">(</span><span class="string" id="7320427">&#34;Header&nbsp;mismatch.\n&nbsp;got&nbsp;%+v\nwant&nbsp;%+v&#34;</span><span class="op" id="7320465">,</span>&nbsp;<span class="ident" id="7320467"><a href="/archive/tar/tar_test.go.html#7320306">rHdr</a></span><span class="op" id="7320471">,</span>&nbsp;<span class="ident" id="7320473"><a href="/archive/tar/tar_test.go.html#7319755">hdr</a></span><span class="op" id="7320476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320482">rData</span><span class="op" id="7320487">,</span>&nbsp;<span class="ident" id="7320489"><a href="/archive/tar/tar_test.go.html#7320312">err</a></span>&nbsp;<span class="op" id="7320493">:=</span>&nbsp;<span class="ident" id="7320496"><a href="/archive/tar/tar_test.go.html#7317513">ioutil</a></span><span class="op" id="7320502">.</span><span class="ident" id="7320503">ReadAll</span><span class="op" id="7320510">(</span><span class="ident" id="7320511"><a href="/archive/tar/tar_test.go.html#7320285">tr</a></span><span class="op" id="7320513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320516">if</span>&nbsp;<span class="ident" id="7320519"><a href="/archive/tar/tar_test.go.html#7320312">err</a></span>&nbsp;<span class="op" id="7320523">!=</span>&nbsp;<span class="ident" id="7320526">nil</span>&nbsp;<span class="op" id="7320530">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320534"><a href="/archive/tar/tar_test.go.html#7319658">t</a></span><span class="op" id="7320535">.</span><span class="ident" id="7320536">Fatalf</span><span class="op" id="7320542">(</span><span class="string" id="7320543">&#34;Read:&nbsp;%v&#34;</span><span class="op" id="7320553">,</span>&nbsp;<span class="ident" id="7320555"><a href="/archive/tar/tar_test.go.html#7320312">err</a></span><span class="op" id="7320558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320564">if</span>&nbsp;<span class="op" id="7320567">!</span><span class="ident" id="7320568"><a href="/archive/tar/tar_test.go.html#7317504">bytes</a></span><span class="op" id="7320573">.</span><span class="ident" id="7320574">Equal</span><span class="op" id="7320579">(</span><span class="ident" id="7320580"><a href="/archive/tar/tar_test.go.html#7320482">rData</a></span><span class="op" id="7320585">,</span>&nbsp;<span class="ident" id="7320587"><a href="/archive/tar/tar_test.go.html#7319675">data</a></span><span class="op" id="7320591">)</span>&nbsp;<span class="op" id="7320593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320597"><a href="/archive/tar/tar_test.go.html#7319658">t</a></span><span class="op" id="7320598">.</span><span class="ident" id="7320599">Errorf</span><span class="op" id="7320605">(</span><span class="string" id="7320606">&#34;Data&nbsp;mismatch.\n&nbsp;got&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="7320640">,</span>&nbsp;<span class="ident" id="7320642"><a href="/archive/tar/tar_test.go.html#7320482">rData</a></span><span class="op" id="7320647">,</span>&nbsp;<span class="ident" id="7320649"><a href="/archive/tar/tar_test.go.html#7319675">data</a></span><span class="op" id="7320653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320656">}</span><br>
<span class="lineno">130</span><span class="op" id="7320658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7320661">type</span>&nbsp;<span class="ident" id="7320666">headerRoundTripTest</span>&nbsp;<span class="keyword" id="7320686">struct</span>&nbsp;<span class="op" id="7320693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320696">h</span>&nbsp;&nbsp;<span class="op" id="7320699">*</span><span class="ident" id="7320700"><a href="/archive/tar/common.go.html#5196742">Header</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320708">fm</span>&nbsp;<span class="ident" id="7320711"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7320713">.</span><span class="ident" id="7320714">FileMode</span><br>
<span class="lineno">135</span><span class="op" id="7320723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7320726">func</span>&nbsp;<span class="ident" id="7320731">TestHeaderRoundTrip</span><span class="op" id="7320750">(</span><span class="ident" id="7320751">t</span>&nbsp;<span class="op" id="7320753">*</span><span class="ident" id="7320754"><a href="/archive/tar/tar_test.go.html#7317562">testing</a></span><span class="op" id="7320761">.</span><span class="ident" id="7320762">T</span><span class="op" id="7320763">)</span>&nbsp;<span class="op" id="7320765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320768">golden</span>&nbsp;<span class="op" id="7320775">:=</span>&nbsp;<span class="op" id="7320778">[</span><span class="op" id="7320779">]</span><span class="ident" id="7320780"><a href="/archive/tar/tar_test.go.html#7320666">headerRoundTripTest</a></span><span class="op" id="7320799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7320803">//&nbsp;regular&nbsp;file.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320827">h</span><span class="op" id="7320828">:</span>&nbsp;<span class="op" id="7320830">&amp;</span><span class="ident" id="7320831"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7320837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320843">Name</span><span class="op" id="7320847">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7320853">&#34;test.txt&#34;</span><span class="op" id="7320863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320869">Mode</span><span class="op" id="7320873">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7320879">0644</span>&nbsp;<span class="op" id="7320884">|</span>&nbsp;<span class="ident" id="7320886"><a href="/archive/tar/common.go.html#5200021">c_ISREG</a></span><span class="op" id="7320893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320899">Size</span><span class="op" id="7320903">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7320909">12</span><span class="op" id="7320911">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320917">ModTime</span><span class="op" id="7320924">:</span>&nbsp;&nbsp;<span class="ident" id="7320927"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7320931">.</span><span class="ident" id="7320932">Unix</span><span class="op" id="7320936">(</span><span class="num" id="7320937">1360600916</span><span class="op" id="7320947">,</span>&nbsp;<span class="num" id="7320949">0</span><span class="op" id="7320950">)</span><span class="op" id="7320951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320957">Typeflag</span><span class="op" id="7320965">:</span>&nbsp;<span class="ident" id="7320967"><a href="/archive/tar/common.go.html#5195967">TypeReg</a></span><span class="op" id="7320974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320979">}</span><span class="op" id="7320980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320985">fm</span><span class="op" id="7320987">:</span>&nbsp;<span class="num" id="7320989">0644</span><span class="op" id="7320993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320997">}</span><span class="op" id="7320998">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7321002">//&nbsp;hard&nbsp;link.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321023">h</span><span class="op" id="7321024">:</span>&nbsp;<span class="op" id="7321026">&amp;</span><span class="ident" id="7321027"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7321033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321039">Name</span><span class="op" id="7321043">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7321049">&#34;hard.txt&#34;</span><span class="op" id="7321059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321065">Mode</span><span class="op" id="7321069">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321075">0644</span>&nbsp;<span class="op" id="7321080">|</span>&nbsp;<span class="ident" id="7321082"><a href="/archive/tar/common.go.html#5200057">c_ISLNK</a></span><span class="op" id="7321089">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321095">Size</span><span class="op" id="7321099">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321105">0</span><span class="op" id="7321106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321112">ModTime</span><span class="op" id="7321119">:</span>&nbsp;&nbsp;<span class="ident" id="7321122"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7321126">.</span><span class="ident" id="7321127">Unix</span><span class="op" id="7321131">(</span><span class="num" id="7321132">1360600916</span><span class="op" id="7321142">,</span>&nbsp;<span class="num" id="7321144">0</span><span class="op" id="7321145">)</span><span class="op" id="7321146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321152">Typeflag</span><span class="op" id="7321160">:</span>&nbsp;<span class="ident" id="7321162"><a href="/archive/tar/common.go.html#5196055">TypeLink</a></span><span class="op" id="7321170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321175">}</span><span class="op" id="7321176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321181">fm</span><span class="op" id="7321183">:</span>&nbsp;<span class="num" id="7321185">0644</span>&nbsp;<span class="op" id="7321190">|</span>&nbsp;<span class="ident" id="7321192"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7321194">.</span><span class="ident" id="7321195">ModeSymlink</span><span class="op" id="7321206">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321210">}</span><span class="op" id="7321211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7321215">//&nbsp;symbolic&nbsp;link.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321240">h</span><span class="op" id="7321241">:</span>&nbsp;<span class="op" id="7321243">&amp;</span><span class="ident" id="7321244"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7321250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321256">Name</span><span class="op" id="7321260">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7321266">&#34;link.txt&#34;</span><span class="op" id="7321276">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321282">Mode</span><span class="op" id="7321286">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321292">0777</span>&nbsp;<span class="op" id="7321297">|</span>&nbsp;<span class="ident" id="7321299"><a href="/archive/tar/common.go.html#5200057">c_ISLNK</a></span><span class="op" id="7321306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321312">Size</span><span class="op" id="7321316">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321322">0</span><span class="op" id="7321323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321329">ModTime</span><span class="op" id="7321336">:</span>&nbsp;&nbsp;<span class="ident" id="7321339"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7321343">.</span><span class="ident" id="7321344">Unix</span><span class="op" id="7321348">(</span><span class="num" id="7321349">1360600852</span><span class="op" id="7321359">,</span>&nbsp;<span class="num" id="7321361">0</span><span class="op" id="7321362">)</span><span class="op" id="7321363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321369">Typeflag</span><span class="op" id="7321377">:</span>&nbsp;<span class="ident" id="7321379"><a href="/archive/tar/common.go.html#5196096">TypeSymlink</a></span><span class="op" id="7321390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321395">}</span><span class="op" id="7321396">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321401">fm</span><span class="op" id="7321403">:</span>&nbsp;<span class="num" id="7321405">0777</span>&nbsp;<span class="op" id="7321410">|</span>&nbsp;<span class="ident" id="7321412"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7321414">.</span><span class="ident" id="7321415">ModeSymlink</span><span class="op" id="7321426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321430">}</span><span class="op" id="7321431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7321435">//&nbsp;character&nbsp;device&nbsp;node.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321468">h</span><span class="op" id="7321469">:</span>&nbsp;<span class="op" id="7321471">&amp;</span><span class="ident" id="7321472"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7321478">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321484">Name</span><span class="op" id="7321488">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7321494">&#34;dev/null&#34;</span><span class="op" id="7321504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321510">Mode</span><span class="op" id="7321514">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321520">0666</span>&nbsp;<span class="op" id="7321525">|</span>&nbsp;<span class="ident" id="7321527"><a href="/archive/tar/common.go.html#5200136">c_ISCHR</a></span><span class="op" id="7321534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321540">Size</span><span class="op" id="7321544">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321550">0</span><span class="op" id="7321551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321557">ModTime</span><span class="op" id="7321564">:</span>&nbsp;&nbsp;<span class="ident" id="7321567"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7321571">.</span><span class="ident" id="7321572">Unix</span><span class="op" id="7321576">(</span><span class="num" id="7321577">1360578951</span><span class="op" id="7321587">,</span>&nbsp;<span class="num" id="7321589">0</span><span class="op" id="7321590">)</span><span class="op" id="7321591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321597">Typeflag</span><span class="op" id="7321605">:</span>&nbsp;<span class="ident" id="7321607"><a href="/archive/tar/common.go.html#5196141">TypeChar</a></span><span class="op" id="7321615">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321620">}</span><span class="op" id="7321621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321626">fm</span><span class="op" id="7321628">:</span>&nbsp;<span class="num" id="7321630">0666</span>&nbsp;<span class="op" id="7321635">|</span>&nbsp;<span class="ident" id="7321637"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7321639">.</span><span class="ident" id="7321640">ModeDevice</span>&nbsp;<span class="op" id="7321651">|</span>&nbsp;<span class="ident" id="7321653"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7321655">.</span><span class="ident" id="7321656">ModeCharDevice</span><span class="op" id="7321670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321674">}</span><span class="op" id="7321675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7321679">//&nbsp;block&nbsp;device&nbsp;node.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321703">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321708">h</span><span class="op" id="7321709">:</span>&nbsp;<span class="op" id="7321711">&amp;</span><span class="ident" id="7321712"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7321718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321724">Name</span><span class="op" id="7321728">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7321734">&#34;dev/sda&#34;</span><span class="op" id="7321743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321749">Mode</span><span class="op" id="7321753">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321759">0660</span>&nbsp;<span class="op" id="7321764">|</span>&nbsp;<span class="ident" id="7321766"><a href="/archive/tar/common.go.html#5200094">c_ISBLK</a></span><span class="op" id="7321773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321779">Size</span><span class="op" id="7321783">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321789">0</span><span class="op" id="7321790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321796">ModTime</span><span class="op" id="7321803">:</span>&nbsp;&nbsp;<span class="ident" id="7321806"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7321810">.</span><span class="ident" id="7321811">Unix</span><span class="op" id="7321815">(</span><span class="num" id="7321816">1360578954</span><span class="op" id="7321826">,</span>&nbsp;<span class="num" id="7321828">0</span><span class="op" id="7321829">)</span><span class="op" id="7321830">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321836">Typeflag</span><span class="op" id="7321844">:</span>&nbsp;<span class="ident" id="7321846"><a href="/archive/tar/common.go.html#5196194">TypeBlock</a></span><span class="op" id="7321855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321860">}</span><span class="op" id="7321861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321866">fm</span><span class="op" id="7321868">:</span>&nbsp;<span class="num" id="7321870">0660</span>&nbsp;<span class="op" id="7321875">|</span>&nbsp;<span class="ident" id="7321877"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7321879">.</span><span class="ident" id="7321880">ModeDevice</span><span class="op" id="7321890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321894">}</span><span class="op" id="7321895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7321899">//&nbsp;directory.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321920">h</span><span class="op" id="7321921">:</span>&nbsp;<span class="op" id="7321923">&amp;</span><span class="ident" id="7321924"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7321930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321936">Name</span><span class="op" id="7321940">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7321946">&#34;dir/&#34;</span><span class="op" id="7321952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321958">Mode</span><span class="op" id="7321962">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321968">0755</span>&nbsp;<span class="op" id="7321973">|</span>&nbsp;<span class="ident" id="7321975"><a href="/archive/tar/common.go.html#5199960">c_ISDIR</a></span><span class="op" id="7321982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321988">Size</span><span class="op" id="7321992">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7321998">0</span><span class="op" id="7321999">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322005">ModTime</span><span class="op" id="7322012">:</span>&nbsp;&nbsp;<span class="ident" id="7322015"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7322019">.</span><span class="ident" id="7322020">Unix</span><span class="op" id="7322024">(</span><span class="num" id="7322025">1360601116</span><span class="op" id="7322035">,</span>&nbsp;<span class="num" id="7322037">0</span><span class="op" id="7322038">)</span><span class="op" id="7322039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322045">Typeflag</span><span class="op" id="7322053">:</span>&nbsp;<span class="ident" id="7322055"><a href="/archive/tar/common.go.html#5196243">TypeDir</a></span><span class="op" id="7322062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322067">}</span><span class="op" id="7322068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322073">fm</span><span class="op" id="7322075">:</span>&nbsp;<span class="num" id="7322077">0755</span>&nbsp;<span class="op" id="7322082">|</span>&nbsp;<span class="ident" id="7322084"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7322086">.</span><span class="ident" id="7322087">ModeDir</span><span class="op" id="7322094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322098">}</span><span class="op" id="7322099">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7322103">//&nbsp;fifo&nbsp;node.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322124">h</span><span class="op" id="7322125">:</span>&nbsp;<span class="op" id="7322127">&amp;</span><span class="ident" id="7322128"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7322134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322140">Name</span><span class="op" id="7322144">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7322150">&#34;dev/initctl&#34;</span><span class="op" id="7322163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322169">Mode</span><span class="op" id="7322173">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7322179">0600</span>&nbsp;<span class="op" id="7322184">|</span>&nbsp;<span class="ident" id="7322186"><a href="/archive/tar/common.go.html#5199993">c_ISFIFO</a></span><span class="op" id="7322194">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322200">Size</span><span class="op" id="7322204">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7322210">0</span><span class="op" id="7322211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322217">ModTime</span><span class="op" id="7322224">:</span>&nbsp;&nbsp;<span class="ident" id="7322227"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7322231">.</span><span class="ident" id="7322232">Unix</span><span class="op" id="7322236">(</span><span class="num" id="7322237">1360578949</span><span class="op" id="7322247">,</span>&nbsp;<span class="num" id="7322249">0</span><span class="op" id="7322250">)</span><span class="op" id="7322251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322257">Typeflag</span><span class="op" id="7322265">:</span>&nbsp;<span class="ident" id="7322267"><a href="/archive/tar/common.go.html#5196284">TypeFifo</a></span><span class="op" id="7322275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322280">}</span><span class="op" id="7322281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322286">fm</span><span class="op" id="7322288">:</span>&nbsp;<span class="num" id="7322290">0600</span>&nbsp;<span class="op" id="7322295">|</span>&nbsp;<span class="ident" id="7322297"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7322299">.</span><span class="ident" id="7322300">ModeNamedPipe</span><span class="op" id="7322313">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322317">}</span><span class="op" id="7322318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7322322">//&nbsp;setuid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322340">h</span><span class="op" id="7322341">:</span>&nbsp;<span class="op" id="7322343">&amp;</span><span class="ident" id="7322344"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7322350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322356">Name</span><span class="op" id="7322360">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7322366">&#34;bin/su&#34;</span><span class="op" id="7322374">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322380">Mode</span><span class="op" id="7322384">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7322390">0755</span>&nbsp;<span class="op" id="7322395">|</span>&nbsp;<span class="ident" id="7322397"><a href="/archive/tar/common.go.html#5200021">c_ISREG</a></span>&nbsp;<span class="op" id="7322405">|</span>&nbsp;<span class="ident" id="7322407"><a href="/archive/tar/common.go.html#5199852">c_ISUID</a></span><span class="op" id="7322414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322420">Size</span><span class="op" id="7322424">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7322430">23232</span><span class="op" id="7322435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322441">ModTime</span><span class="op" id="7322448">:</span>&nbsp;&nbsp;<span class="ident" id="7322451"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7322455">.</span><span class="ident" id="7322456">Unix</span><span class="op" id="7322460">(</span><span class="num" id="7322461">1355405093</span><span class="op" id="7322471">,</span>&nbsp;<span class="num" id="7322473">0</span><span class="op" id="7322474">)</span><span class="op" id="7322475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322481">Typeflag</span><span class="op" id="7322489">:</span>&nbsp;<span class="ident" id="7322491"><a href="/archive/tar/common.go.html#5195967">TypeReg</a></span><span class="op" id="7322498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322503">}</span><span class="op" id="7322504">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322509">fm</span><span class="op" id="7322511">:</span>&nbsp;<span class="num" id="7322513">0755</span>&nbsp;<span class="op" id="7322518">|</span>&nbsp;<span class="ident" id="7322520"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7322522">.</span><span class="ident" id="7322523">ModeSetuid</span><span class="op" id="7322533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322537">}</span><span class="op" id="7322538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7322542">//&nbsp;setguid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322561">h</span><span class="op" id="7322562">:</span>&nbsp;<span class="op" id="7322564">&amp;</span><span class="ident" id="7322565"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7322571">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322577">Name</span><span class="op" id="7322581">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7322587">&#34;group.txt&#34;</span><span class="op" id="7322598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322604">Mode</span><span class="op" id="7322608">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7322614">0750</span>&nbsp;<span class="op" id="7322619">|</span>&nbsp;<span class="ident" id="7322621"><a href="/archive/tar/common.go.html#5200021">c_ISREG</a></span>&nbsp;<span class="op" id="7322629">|</span>&nbsp;<span class="ident" id="7322631"><a href="/archive/tar/common.go.html#5199883">c_ISGID</a></span><span class="op" id="7322638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322644">Size</span><span class="op" id="7322648">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7322654">0</span><span class="op" id="7322655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322661">ModTime</span><span class="op" id="7322668">:</span>&nbsp;&nbsp;<span class="ident" id="7322671"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7322675">.</span><span class="ident" id="7322676">Unix</span><span class="op" id="7322680">(</span><span class="num" id="7322681">1360602346</span><span class="op" id="7322691">,</span>&nbsp;<span class="num" id="7322693">0</span><span class="op" id="7322694">)</span><span class="op" id="7322695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322701">Typeflag</span><span class="op" id="7322709">:</span>&nbsp;<span class="ident" id="7322711"><a href="/archive/tar/common.go.html#5195967">TypeReg</a></span><span class="op" id="7322718">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322723">}</span><span class="op" id="7322724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322729">fm</span><span class="op" id="7322731">:</span>&nbsp;<span class="num" id="7322733">0750</span>&nbsp;<span class="op" id="7322738">|</span>&nbsp;<span class="ident" id="7322740"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7322742">.</span><span class="ident" id="7322743">ModeSetgid</span><span class="op" id="7322753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322757">}</span><span class="op" id="7322758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7322762">//&nbsp;sticky.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322775">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322780">h</span><span class="op" id="7322781">:</span>&nbsp;<span class="op" id="7322783">&amp;</span><span class="ident" id="7322784"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7322790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322796">Name</span><span class="op" id="7322800">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7322806">&#34;sticky.txt&#34;</span><span class="op" id="7322818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322824">Mode</span><span class="op" id="7322828">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7322834">0600</span>&nbsp;<span class="op" id="7322839">|</span>&nbsp;<span class="ident" id="7322841"><a href="/archive/tar/common.go.html#5200021">c_ISREG</a></span>&nbsp;<span class="op" id="7322849">|</span>&nbsp;<span class="ident" id="7322851"><a href="/archive/tar/common.go.html#5199914">c_ISVTX</a></span><span class="op" id="7322858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322864">Size</span><span class="op" id="7322868">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7322874">7</span><span class="op" id="7322875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322881">ModTime</span><span class="op" id="7322888">:</span>&nbsp;&nbsp;<span class="ident" id="7322891"><a href="/archive/tar/tar_test.go.html#7317573">time</a></span><span class="op" id="7322895">.</span><span class="ident" id="7322896">Unix</span><span class="op" id="7322900">(</span><span class="num" id="7322901">1360602540</span><span class="op" id="7322911">,</span>&nbsp;<span class="num" id="7322913">0</span><span class="op" id="7322914">)</span><span class="op" id="7322915">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322921">Typeflag</span><span class="op" id="7322929">:</span>&nbsp;<span class="ident" id="7322931"><a href="/archive/tar/common.go.html#5195967">TypeReg</a></span><span class="op" id="7322938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322943">}</span><span class="op" id="7322944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322949">fm</span><span class="op" id="7322951">:</span>&nbsp;<span class="num" id="7322953">0600</span>&nbsp;<span class="op" id="7322958">|</span>&nbsp;<span class="ident" id="7322960"><a href="/archive/tar/tar_test.go.html#7317526">os</a></span><span class="op" id="7322962">.</span><span class="ident" id="7322963">ModeSticky</span><span class="op" id="7322973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322977">}</span><span class="op" id="7322978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322981">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7322985">for</span>&nbsp;<span class="ident" id="7322989">i</span><span class="op" id="7322990">,</span>&nbsp;<span class="ident" id="7322992">g</span>&nbsp;<span class="op" id="7322994">:=</span>&nbsp;<span class="keyword" id="7322997">range</span>&nbsp;<span class="ident" id="7323003"><a href="/archive/tar/tar_test.go.html#7320768">golden</a></span>&nbsp;<span class="op" id="7323010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323014">fi</span>&nbsp;<span class="op" id="7323017">:=</span>&nbsp;<span class="ident" id="7323020"><a href="/archive/tar/tar_test.go.html#7322992">g</a></span><span class="op" id="7323021">.</span><span class="ident" id="7323022">h</span><span class="op" id="7323023">.</span><span class="ident" id="7323024">FileInfo</span><span class="op" id="7323032">(</span><span class="op" id="7323033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323037">h2</span><span class="op" id="7323039">,</span>&nbsp;<span class="ident" id="7323041">err</span>&nbsp;<span class="op" id="7323045">:=</span>&nbsp;<span class="ident" id="7323048"><a href="/archive/tar/common.go.html#5201063">FileInfoHeader</a></span><span class="op" id="7323062">(</span><span class="ident" id="7323063"><a href="/archive/tar/tar_test.go.html#7323014">fi</a></span><span class="op" id="7323065">,</span>&nbsp;<span class="string" id="7323067">&#34;&#34;</span><span class="op" id="7323069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323073">if</span>&nbsp;<span class="ident" id="7323076"><a href="/archive/tar/tar_test.go.html#7323041">err</a></span>&nbsp;<span class="op" id="7323080">!=</span>&nbsp;<span class="ident" id="7323083">nil</span>&nbsp;<span class="op" id="7323087">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323092"><a href="/archive/tar/tar_test.go.html#7320751">t</a></span><span class="op" id="7323093">.</span><span class="ident" id="7323094">Error</span><span class="op" id="7323099">(</span><span class="ident" id="7323100"><a href="/archive/tar/tar_test.go.html#7323041">err</a></span><span class="op" id="7323103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323108">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323123">if</span>&nbsp;<span class="ident" id="7323126"><a href="/archive/tar/tar_test.go.html#7317551">strings</a></span><span class="op" id="7323133">.</span><span class="ident" id="7323134">Contains</span><span class="op" id="7323142">(</span><span class="ident" id="7323143"><a href="/archive/tar/tar_test.go.html#7323014">fi</a></span><span class="op" id="7323145">.</span><span class="ident" id="7323146">Name</span><span class="op" id="7323150">(</span><span class="op" id="7323151">)</span><span class="op" id="7323152">,</span>&nbsp;<span class="string" id="7323154">&#34;/&#34;</span><span class="op" id="7323157">)</span>&nbsp;<span class="op" id="7323159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323164"><a href="/archive/tar/tar_test.go.html#7320751">t</a></span><span class="op" id="7323165">.</span><span class="ident" id="7323166">Errorf</span><span class="op" id="7323172">(</span><span class="string" id="7323173">&#34;FileInfo&nbsp;of&nbsp;%q&nbsp;contains&nbsp;slash:&nbsp;%q&#34;</span><span class="op" id="7323208">,</span>&nbsp;<span class="ident" id="7323210"><a href="/archive/tar/tar_test.go.html#7322992">g</a></span><span class="op" id="7323211">.</span><span class="ident" id="7323212">h</span><span class="op" id="7323213">.</span><span class="ident" id="7323214">Name</span><span class="op" id="7323218">,</span>&nbsp;<span class="ident" id="7323220"><a href="/archive/tar/tar_test.go.html#7323014">fi</a></span><span class="op" id="7323222">.</span><span class="ident" id="7323223">Name</span><span class="op" id="7323227">(</span><span class="op" id="7323228">)</span><span class="op" id="7323229">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323237">name</span>&nbsp;<span class="op" id="7323242">:=</span>&nbsp;<span class="ident" id="7323245"><a href="/archive/tar/tar_test.go.html#7317532">path</a></span><span class="op" id="7323249">.</span><span class="ident" id="7323250">Base</span><span class="op" id="7323254">(</span><span class="ident" id="7323255"><a href="/archive/tar/tar_test.go.html#7322992">g</a></span><span class="op" id="7323256">.</span><span class="ident" id="7323257">h</span><span class="op" id="7323258">.</span><span class="ident" id="7323259">Name</span><span class="op" id="7323263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323267">if</span>&nbsp;<span class="ident" id="7323270"><a href="/archive/tar/tar_test.go.html#7323014">fi</a></span><span class="op" id="7323272">.</span><span class="ident" id="7323273">IsDir</span><span class="op" id="7323278">(</span><span class="op" id="7323279">)</span>&nbsp;<span class="op" id="7323281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323286"><a href="/archive/tar/tar_test.go.html#7323237">name</a></span>&nbsp;<span class="op" id="7323291">+=</span>&nbsp;<span class="string" id="7323294">&#34;/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323300">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323304">if</span>&nbsp;<span class="ident" id="7323307">got</span><span class="op" id="7323310">,</span>&nbsp;<span class="ident" id="7323312">want</span>&nbsp;<span class="op" id="7323317">:=</span>&nbsp;<span class="ident" id="7323320"><a href="/archive/tar/tar_test.go.html#7323037">h2</a></span><span class="op" id="7323322">.</span><span class="ident" id="7323323">Name</span><span class="op" id="7323327">,</span>&nbsp;<span class="ident" id="7323329"><a href="/archive/tar/tar_test.go.html#7323237">name</a></span><span class="op" id="7323333">;</span>&nbsp;<span class="ident" id="7323335"><a href="/archive/tar/tar_test.go.html#7323307">got</a></span>&nbsp;<span class="op" id="7323339">!=</span>&nbsp;<span class="ident" id="7323342"><a href="/archive/tar/tar_test.go.html#7323312">want</a></span>&nbsp;<span class="op" id="7323347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323352"><a href="/archive/tar/tar_test.go.html#7320751">t</a></span><span class="op" id="7323353">.</span><span class="ident" id="7323354">Errorf</span><span class="op" id="7323360">(</span><span class="string" id="7323361">&#34;i=%d:&nbsp;Name:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7323390">,</span>&nbsp;<span class="ident" id="7323392"><a href="/archive/tar/tar_test.go.html#7322989">i</a></span><span class="op" id="7323393">,</span>&nbsp;<span class="ident" id="7323395"><a href="/archive/tar/tar_test.go.html#7323307">got</a></span><span class="op" id="7323398">,</span>&nbsp;<span class="ident" id="7323400"><a href="/archive/tar/tar_test.go.html#7323312">want</a></span><span class="op" id="7323404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323412">if</span>&nbsp;<span class="ident" id="7323415">got</span><span class="op" id="7323418">,</span>&nbsp;<span class="ident" id="7323420">want</span>&nbsp;<span class="op" id="7323425">:=</span>&nbsp;<span class="ident" id="7323428"><a href="/archive/tar/tar_test.go.html#7323037">h2</a></span><span class="op" id="7323430">.</span><span class="ident" id="7323431">Size</span><span class="op" id="7323435">,</span>&nbsp;<span class="ident" id="7323437"><a href="/archive/tar/tar_test.go.html#7322992">g</a></span><span class="op" id="7323438">.</span><span class="ident" id="7323439">h</span><span class="op" id="7323440">.</span><span class="ident" id="7323441">Size</span><span class="op" id="7323445">;</span>&nbsp;<span class="ident" id="7323447"><a href="/archive/tar/tar_test.go.html#7323415">got</a></span>&nbsp;<span class="op" id="7323451">!=</span>&nbsp;<span class="ident" id="7323454"><a href="/archive/tar/tar_test.go.html#7323420">want</a></span>&nbsp;<span class="op" id="7323459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323464"><a href="/archive/tar/tar_test.go.html#7320751">t</a></span><span class="op" id="7323465">.</span><span class="ident" id="7323466">Errorf</span><span class="op" id="7323472">(</span><span class="string" id="7323473">&#34;i=%d:&nbsp;Size:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7323502">,</span>&nbsp;<span class="ident" id="7323504"><a href="/archive/tar/tar_test.go.html#7322989">i</a></span><span class="op" id="7323505">,</span>&nbsp;<span class="ident" id="7323507"><a href="/archive/tar/tar_test.go.html#7323415">got</a></span><span class="op" id="7323510">,</span>&nbsp;<span class="ident" id="7323512"><a href="/archive/tar/tar_test.go.html#7323420">want</a></span><span class="op" id="7323516">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323524">if</span>&nbsp;<span class="ident" id="7323527">got</span><span class="op" id="7323530">,</span>&nbsp;<span class="ident" id="7323532">want</span>&nbsp;<span class="op" id="7323537">:=</span>&nbsp;<span class="ident" id="7323540"><a href="/archive/tar/tar_test.go.html#7323037">h2</a></span><span class="op" id="7323542">.</span><span class="ident" id="7323543">Mode</span><span class="op" id="7323547">,</span>&nbsp;<span class="ident" id="7323549"><a href="/archive/tar/tar_test.go.html#7322992">g</a></span><span class="op" id="7323550">.</span><span class="ident" id="7323551">h</span><span class="op" id="7323552">.</span><span class="ident" id="7323553">Mode</span><span class="op" id="7323557">;</span>&nbsp;<span class="ident" id="7323559"><a href="/archive/tar/tar_test.go.html#7323527">got</a></span>&nbsp;<span class="op" id="7323563">!=</span>&nbsp;<span class="ident" id="7323566"><a href="/archive/tar/tar_test.go.html#7323532">want</a></span>&nbsp;<span class="op" id="7323571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323576"><a href="/archive/tar/tar_test.go.html#7320751">t</a></span><span class="op" id="7323577">.</span><span class="ident" id="7323578">Errorf</span><span class="op" id="7323584">(</span><span class="string" id="7323585">&#34;i=%d:&nbsp;Mode:&nbsp;got&nbsp;%o,&nbsp;want&nbsp;%o&#34;</span><span class="op" id="7323614">,</span>&nbsp;<span class="ident" id="7323616"><a href="/archive/tar/tar_test.go.html#7322989">i</a></span><span class="op" id="7323617">,</span>&nbsp;<span class="ident" id="7323619"><a href="/archive/tar/tar_test.go.html#7323527">got</a></span><span class="op" id="7323622">,</span>&nbsp;<span class="ident" id="7323624"><a href="/archive/tar/tar_test.go.html#7323532">want</a></span><span class="op" id="7323628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323636">if</span>&nbsp;<span class="ident" id="7323639">got</span><span class="op" id="7323642">,</span>&nbsp;<span class="ident" id="7323644">want</span>&nbsp;<span class="op" id="7323649">:=</span>&nbsp;<span class="ident" id="7323652"><a href="/archive/tar/tar_test.go.html#7323014">fi</a></span><span class="op" id="7323654">.</span><span class="ident" id="7323655">Mode</span><span class="op" id="7323659">(</span><span class="op" id="7323660">)</span><span class="op" id="7323661">,</span>&nbsp;<span class="ident" id="7323663"><a href="/archive/tar/tar_test.go.html#7322992">g</a></span><span class="op" id="7323664">.</span><span class="ident" id="7323665">fm</span><span class="op" id="7323667">;</span>&nbsp;<span class="ident" id="7323669"><a href="/archive/tar/tar_test.go.html#7323639">got</a></span>&nbsp;<span class="op" id="7323673">!=</span>&nbsp;<span class="ident" id="7323676"><a href="/archive/tar/tar_test.go.html#7323644">want</a></span>&nbsp;<span class="op" id="7323681">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323686"><a href="/archive/tar/tar_test.go.html#7320751">t</a></span><span class="op" id="7323687">.</span><span class="ident" id="7323688">Errorf</span><span class="op" id="7323694">(</span><span class="string" id="7323695">&#34;i=%d:&nbsp;fi.Mode:&nbsp;got&nbsp;%o,&nbsp;want&nbsp;%o&#34;</span><span class="op" id="7323727">,</span>&nbsp;<span class="ident" id="7323729"><a href="/archive/tar/tar_test.go.html#7322989">i</a></span><span class="op" id="7323730">,</span>&nbsp;<span class="ident" id="7323732"><a href="/archive/tar/tar_test.go.html#7323639">got</a></span><span class="op" id="7323735">,</span>&nbsp;<span class="ident" id="7323737"><a href="/archive/tar/tar_test.go.html#7323644">want</a></span><span class="op" id="7323741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323749">if</span>&nbsp;<span class="ident" id="7323752">got</span><span class="op" id="7323755">,</span>&nbsp;<span class="ident" id="7323757">want</span>&nbsp;<span class="op" id="7323762">:=</span>&nbsp;<span class="ident" id="7323765"><a href="/archive/tar/tar_test.go.html#7323037">h2</a></span><span class="op" id="7323767">.</span><span class="ident" id="7323768">ModTime</span><span class="op" id="7323775">,</span>&nbsp;<span class="ident" id="7323777"><a href="/archive/tar/tar_test.go.html#7322992">g</a></span><span class="op" id="7323778">.</span><span class="ident" id="7323779">h</span><span class="op" id="7323780">.</span><span class="ident" id="7323781">ModTime</span><span class="op" id="7323788">;</span>&nbsp;<span class="ident" id="7323790"><a href="/archive/tar/tar_test.go.html#7323752">got</a></span>&nbsp;<span class="op" id="7323794">!=</span>&nbsp;<span class="ident" id="7323797"><a href="/archive/tar/tar_test.go.html#7323757">want</a></span>&nbsp;<span class="op" id="7323802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323807"><a href="/archive/tar/tar_test.go.html#7320751">t</a></span><span class="op" id="7323808">.</span><span class="ident" id="7323809">Errorf</span><span class="op" id="7323815">(</span><span class="string" id="7323816">&#34;i=%d:&nbsp;ModTime:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7323848">,</span>&nbsp;<span class="ident" id="7323850"><a href="/archive/tar/tar_test.go.html#7322989">i</a></span><span class="op" id="7323851">,</span>&nbsp;<span class="ident" id="7323853"><a href="/archive/tar/tar_test.go.html#7323752">got</a></span><span class="op" id="7323856">,</span>&nbsp;<span class="ident" id="7323858"><a href="/archive/tar/tar_test.go.html#7323757">want</a></span><span class="op" id="7323862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323866">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323870">if</span>&nbsp;<span class="ident" id="7323873">sysh</span><span class="op" id="7323877">,</span>&nbsp;<span class="ident" id="7323879">ok</span>&nbsp;<span class="op" id="7323882">:=</span>&nbsp;<span class="ident" id="7323885"><a href="/archive/tar/tar_test.go.html#7323014">fi</a></span><span class="op" id="7323887">.</span><span class="ident" id="7323888">Sys</span><span class="op" id="7323891">(</span><span class="op" id="7323892">)</span><span class="op" id="7323893">.</span><span class="op" id="7323894">(</span><span class="op" id="7323895">*</span><span class="ident" id="7323896"><a href="/archive/tar/common.go.html#5196742">Header</a></span><span class="op" id="7323902">)</span><span class="op" id="7323903">;</span>&nbsp;<span class="op" id="7323905">!</span><span class="ident" id="7323906"><a href="/archive/tar/tar_test.go.html#7323879">ok</a></span>&nbsp;<span class="op" id="7323909">||</span>&nbsp;<span class="ident" id="7323912"><a href="/archive/tar/tar_test.go.html#7323873">sysh</a></span>&nbsp;<span class="op" id="7323917">!=</span>&nbsp;<span class="ident" id="7323920"><a href="/archive/tar/tar_test.go.html#7322992">g</a></span><span class="op" id="7323921">.</span><span class="ident" id="7323922">h</span>&nbsp;<span class="op" id="7323924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323929"><a href="/archive/tar/tar_test.go.html#7320751">t</a></span><span class="op" id="7323930">.</span><span class="ident" id="7323931">Errorf</span><span class="op" id="7323937">(</span><span class="string" id="7323938">&#34;i=%d:&nbsp;Sys&nbsp;didn&#39;t&nbsp;return&nbsp;original&nbsp;*Header&#34;</span><span class="op" id="7323980">,</span>&nbsp;<span class="ident" id="7323982"><a href="/archive/tar/tar_test.go.html#7322989">i</a></span><span class="op" id="7323983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323990">}</span><br>
<span class="lineno"></span><span class="op" id="7323992">}</span>
</div>
</body>
</html>
