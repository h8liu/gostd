<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8285925">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8285980">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8286034">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8286085">package</span>&nbsp;<span class="ident" id="8286093">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286098">import</span>&nbsp;<span class="op" id="8286105">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286108">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8286119">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8286129">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286132">type</span>&nbsp;<span class="ident" id="8286137">portTest</span>&nbsp;<span class="keyword" id="8286146">struct</span>&nbsp;<span class="op" id="8286153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286156">netw</span>&nbsp;<span class="builtintype" id="8286161">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286169">name</span>&nbsp;<span class="builtintype" id="8286174">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286182">port</span>&nbsp;<span class="builtintype" id="8286187">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286192">ok</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8286197">bool</span><br>
<span class="lineno"></span><span class="op" id="8286202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286205">var</span>&nbsp;<span class="ident" id="8286209">porttests</span>&nbsp;<span class="op" id="8286219">=</span>&nbsp;<span class="op" id="8286221">[</span><span class="op" id="8286222">]</span><span class="ident" id="8286223">portTest</span><span class="op" id="8286231">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286234">{</span><span class="string" id="8286235">&#34;tcp&#34;</span><span class="op" id="8286240">,</span>&nbsp;<span class="string" id="8286242">&#34;echo&#34;</span><span class="op" id="8286248">,</span>&nbsp;<span class="num" id="8286250">7</span><span class="op" id="8286251">,</span>&nbsp;<span class="builtintype" id="8286253">true</span><span class="op" id="8286257">}</span><span class="op" id="8286258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286261">{</span><span class="string" id="8286262">&#34;tcp&#34;</span><span class="op" id="8286267">,</span>&nbsp;<span class="string" id="8286269">&#34;discard&#34;</span><span class="op" id="8286278">,</span>&nbsp;<span class="num" id="8286280">9</span><span class="op" id="8286281">,</span>&nbsp;<span class="builtintype" id="8286283">true</span><span class="op" id="8286287">}</span><span class="op" id="8286288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286291">{</span><span class="string" id="8286292">&#34;tcp&#34;</span><span class="op" id="8286297">,</span>&nbsp;<span class="string" id="8286299">&#34;systat&#34;</span><span class="op" id="8286307">,</span>&nbsp;<span class="num" id="8286309">11</span><span class="op" id="8286311">,</span>&nbsp;<span class="builtintype" id="8286313">true</span><span class="op" id="8286317">}</span><span class="op" id="8286318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286321">{</span><span class="string" id="8286322">&#34;tcp&#34;</span><span class="op" id="8286327">,</span>&nbsp;<span class="string" id="8286329">&#34;daytime&#34;</span><span class="op" id="8286338">,</span>&nbsp;<span class="num" id="8286340">13</span><span class="op" id="8286342">,</span>&nbsp;<span class="builtintype" id="8286344">true</span><span class="op" id="8286348">}</span><span class="op" id="8286349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286352">{</span><span class="string" id="8286353">&#34;tcp&#34;</span><span class="op" id="8286358">,</span>&nbsp;<span class="string" id="8286360">&#34;chargen&#34;</span><span class="op" id="8286369">,</span>&nbsp;<span class="num" id="8286371">19</span><span class="op" id="8286373">,</span>&nbsp;<span class="builtintype" id="8286375">true</span><span class="op" id="8286379">}</span><span class="op" id="8286380">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286383">{</span><span class="string" id="8286384">&#34;tcp&#34;</span><span class="op" id="8286389">,</span>&nbsp;<span class="string" id="8286391">&#34;ftp-data&#34;</span><span class="op" id="8286401">,</span>&nbsp;<span class="num" id="8286403">20</span><span class="op" id="8286405">,</span>&nbsp;<span class="builtintype" id="8286407">true</span><span class="op" id="8286411">}</span><span class="op" id="8286412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286415">{</span><span class="string" id="8286416">&#34;tcp&#34;</span><span class="op" id="8286421">,</span>&nbsp;<span class="string" id="8286423">&#34;ftp&#34;</span><span class="op" id="8286428">,</span>&nbsp;<span class="num" id="8286430">21</span><span class="op" id="8286432">,</span>&nbsp;<span class="builtintype" id="8286434">true</span><span class="op" id="8286438">}</span><span class="op" id="8286439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286442">{</span><span class="string" id="8286443">&#34;tcp&#34;</span><span class="op" id="8286448">,</span>&nbsp;<span class="string" id="8286450">&#34;telnet&#34;</span><span class="op" id="8286458">,</span>&nbsp;<span class="num" id="8286460">23</span><span class="op" id="8286462">,</span>&nbsp;<span class="builtintype" id="8286464">true</span><span class="op" id="8286468">}</span><span class="op" id="8286469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286472">{</span><span class="string" id="8286473">&#34;tcp&#34;</span><span class="op" id="8286478">,</span>&nbsp;<span class="string" id="8286480">&#34;smtp&#34;</span><span class="op" id="8286486">,</span>&nbsp;<span class="num" id="8286488">25</span><span class="op" id="8286490">,</span>&nbsp;<span class="builtintype" id="8286492">true</span><span class="op" id="8286496">}</span><span class="op" id="8286497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286500">{</span><span class="string" id="8286501">&#34;tcp&#34;</span><span class="op" id="8286506">,</span>&nbsp;<span class="string" id="8286508">&#34;time&#34;</span><span class="op" id="8286514">,</span>&nbsp;<span class="num" id="8286516">37</span><span class="op" id="8286518">,</span>&nbsp;<span class="builtintype" id="8286520">true</span><span class="op" id="8286524">}</span><span class="op" id="8286525">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286528">{</span><span class="string" id="8286529">&#34;tcp&#34;</span><span class="op" id="8286534">,</span>&nbsp;<span class="string" id="8286536">&#34;domain&#34;</span><span class="op" id="8286544">,</span>&nbsp;<span class="num" id="8286546">53</span><span class="op" id="8286548">,</span>&nbsp;<span class="builtintype" id="8286550">true</span><span class="op" id="8286554">}</span><span class="op" id="8286555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286558">{</span><span class="string" id="8286559">&#34;tcp&#34;</span><span class="op" id="8286564">,</span>&nbsp;<span class="string" id="8286566">&#34;finger&#34;</span><span class="op" id="8286574">,</span>&nbsp;<span class="num" id="8286576">79</span><span class="op" id="8286578">,</span>&nbsp;<span class="builtintype" id="8286580">true</span><span class="op" id="8286584">}</span><span class="op" id="8286585">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286589">{</span><span class="string" id="8286590">&#34;udp&#34;</span><span class="op" id="8286595">,</span>&nbsp;<span class="string" id="8286597">&#34;echo&#34;</span><span class="op" id="8286603">,</span>&nbsp;<span class="num" id="8286605">7</span><span class="op" id="8286606">,</span>&nbsp;<span class="builtintype" id="8286608">true</span><span class="op" id="8286612">}</span><span class="op" id="8286613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286616">{</span><span class="string" id="8286617">&#34;udp&#34;</span><span class="op" id="8286622">,</span>&nbsp;<span class="string" id="8286624">&#34;tftp&#34;</span><span class="op" id="8286630">,</span>&nbsp;<span class="num" id="8286632">69</span><span class="op" id="8286634">,</span>&nbsp;<span class="builtintype" id="8286636">true</span><span class="op" id="8286640">}</span><span class="op" id="8286641">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286644">{</span><span class="string" id="8286645">&#34;udp&#34;</span><span class="op" id="8286650">,</span>&nbsp;<span class="string" id="8286652">&#34;bootpc&#34;</span><span class="op" id="8286660">,</span>&nbsp;<span class="num" id="8286662">68</span><span class="op" id="8286664">,</span>&nbsp;<span class="builtintype" id="8286666">true</span><span class="op" id="8286670">}</span><span class="op" id="8286671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286674">{</span><span class="string" id="8286675">&#34;udp&#34;</span><span class="op" id="8286680">,</span>&nbsp;<span class="string" id="8286682">&#34;bootps&#34;</span><span class="op" id="8286690">,</span>&nbsp;<span class="num" id="8286692">67</span><span class="op" id="8286694">,</span>&nbsp;<span class="builtintype" id="8286696">true</span><span class="op" id="8286700">}</span><span class="op" id="8286701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286704">{</span><span class="string" id="8286705">&#34;udp&#34;</span><span class="op" id="8286710">,</span>&nbsp;<span class="string" id="8286712">&#34;domain&#34;</span><span class="op" id="8286720">,</span>&nbsp;<span class="num" id="8286722">53</span><span class="op" id="8286724">,</span>&nbsp;<span class="builtintype" id="8286726">true</span><span class="op" id="8286730">}</span><span class="op" id="8286731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286734">{</span><span class="string" id="8286735">&#34;udp&#34;</span><span class="op" id="8286740">,</span>&nbsp;<span class="string" id="8286742">&#34;ntp&#34;</span><span class="op" id="8286747">,</span>&nbsp;<span class="num" id="8286749">123</span><span class="op" id="8286752">,</span>&nbsp;<span class="builtintype" id="8286754">true</span><span class="op" id="8286758">}</span><span class="op" id="8286759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286762">{</span><span class="string" id="8286763">&#34;udp&#34;</span><span class="op" id="8286768">,</span>&nbsp;<span class="string" id="8286770">&#34;snmp&#34;</span><span class="op" id="8286776">,</span>&nbsp;<span class="num" id="8286778">161</span><span class="op" id="8286781">,</span>&nbsp;<span class="builtintype" id="8286783">true</span><span class="op" id="8286787">}</span><span class="op" id="8286788">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286791">{</span><span class="string" id="8286792">&#34;udp&#34;</span><span class="op" id="8286797">,</span>&nbsp;<span class="string" id="8286799">&#34;syslog&#34;</span><span class="op" id="8286807">,</span>&nbsp;<span class="num" id="8286809">514</span><span class="op" id="8286812">,</span>&nbsp;<span class="builtintype" id="8286814">true</span><span class="op" id="8286818">}</span><span class="op" id="8286819">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286823">{</span><span class="string" id="8286824">&#34;--badnet--&#34;</span><span class="op" id="8286836">,</span>&nbsp;<span class="string" id="8286838">&#34;zzz&#34;</span><span class="op" id="8286843">,</span>&nbsp;<span class="num" id="8286845">0</span><span class="op" id="8286846">,</span>&nbsp;<span class="builtintype" id="8286848">false</span><span class="op" id="8286853">}</span><span class="op" id="8286854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286857">{</span><span class="string" id="8286858">&#34;tcp&#34;</span><span class="op" id="8286863">,</span>&nbsp;<span class="string" id="8286865">&#34;--badport--&#34;</span><span class="op" id="8286878">,</span>&nbsp;<span class="num" id="8286880">0</span><span class="op" id="8286881">,</span>&nbsp;<span class="builtintype" id="8286883">false</span><span class="op" id="8286888">}</span><span class="op" id="8286889">,</span><br>
<span class="lineno"></span><span class="op" id="8286891">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="8286894">func</span>&nbsp;<span class="ident" id="8286899">TestLookupPort</span><span class="op" id="8286913">(</span><span class="ident" id="8286914">t</span>&nbsp;<span class="op" id="8286916">*</span><span class="ident" id="8286917">testing</span><span class="op" id="8286924">.</span><span class="ident" id="8286925">T</span><span class="op" id="8286926">)</span>&nbsp;<span class="op" id="8286928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286931">switch</span>&nbsp;<span class="ident" id="8286938">runtime</span><span class="op" id="8286945">.</span><span class="ident" id="8286946">GOOS</span>&nbsp;<span class="op" id="8286951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286954">case</span>&nbsp;<span class="string" id="8286959">&#34;nacl&#34;</span><span class="op" id="8286965">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286969">t</span><span class="op" id="8286970">.</span><span class="ident" id="8286971">Skipf</span><span class="op" id="8286976">(</span><span class="string" id="8286977">&#34;skipping&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="8286998">,</span>&nbsp;<span class="ident" id="8287000">runtime</span><span class="op" id="8287007">.</span><span class="ident" id="8287008">GOOS</span><span class="op" id="8287012">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287019">for</span>&nbsp;<span class="ident" id="8287023">i</span>&nbsp;<span class="op" id="8287025">:=</span>&nbsp;<span class="num" id="8287028">0</span><span class="op" id="8287029">;</span>&nbsp;<span class="ident" id="8287031">i</span>&nbsp;<span class="op" id="8287033">&lt;</span>&nbsp;<span class="builtinfunc" id="8287035">len</span><span class="op" id="8287038">(</span><span class="ident" id="8287039">porttests</span><span class="op" id="8287048">)</span><span class="op" id="8287049">;</span>&nbsp;<span class="ident" id="8287051">i</span><span class="op" id="8287052">++</span>&nbsp;<span class="op" id="8287055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287059">tt</span>&nbsp;<span class="op" id="8287062">:=</span>&nbsp;<span class="ident" id="8287065">porttests</span><span class="op" id="8287074">[</span><span class="ident" id="8287075">i</span><span class="op" id="8287076">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287080">if</span>&nbsp;<span class="ident" id="8287083">port</span><span class="op" id="8287087">,</span>&nbsp;<span class="ident" id="8287089">err</span>&nbsp;<span class="op" id="8287093">:=</span>&nbsp;<span class="ident" id="8287096">LookupPort</span><span class="op" id="8287106">(</span><span class="ident" id="8287107">tt</span><span class="op" id="8287109">.</span><span class="ident" id="8287110">netw</span><span class="op" id="8287114">,</span>&nbsp;<span class="ident" id="8287116">tt</span><span class="op" id="8287118">.</span><span class="ident" id="8287119">name</span><span class="op" id="8287123">)</span><span class="op" id="8287124">;</span>&nbsp;<span class="ident" id="8287126">port</span>&nbsp;<span class="op" id="8287131">!=</span>&nbsp;<span class="ident" id="8287134">tt</span><span class="op" id="8287136">.</span><span class="ident" id="8287137">port</span>&nbsp;<span class="op" id="8287142">||</span>&nbsp;<span class="op" id="8287145">(</span><span class="ident" id="8287146">err</span>&nbsp;<span class="op" id="8287150">==</span>&nbsp;<span class="ident" id="8287153">nil</span><span class="op" id="8287156">)</span>&nbsp;<span class="op" id="8287158">!=</span>&nbsp;<span class="ident" id="8287161">tt</span><span class="op" id="8287163">.</span><span class="ident" id="8287164">ok</span>&nbsp;<span class="op" id="8287167">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287172">t</span><span class="op" id="8287173">.</span><span class="ident" id="8287174">Errorf</span><span class="op" id="8287180">(</span><span class="string" id="8287181">&#34;LookupPort(%q,&nbsp;%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8287219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287225">tt</span><span class="op" id="8287227">.</span><span class="ident" id="8287228">netw</span><span class="op" id="8287232">,</span>&nbsp;<span class="ident" id="8287234">tt</span><span class="op" id="8287236">.</span><span class="ident" id="8287237">name</span><span class="op" id="8287241">,</span>&nbsp;<span class="ident" id="8287243">port</span><span class="op" id="8287247">,</span>&nbsp;<span class="ident" id="8287249">err</span><span class="op" id="8287252">,</span>&nbsp;<span class="ident" id="8287254">tt</span><span class="op" id="8287256">.</span><span class="ident" id="8287257">port</span><span class="op" id="8287261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287268">}</span><br>
<span class="lineno"></span><span class="op" id="8287270">}</span>
</div>
</body>
</html>
