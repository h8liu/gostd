<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1341803">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1341858">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1341912">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1341963">package</span>&nbsp;<span class="ident" id="1341971">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1341976">import</span>&nbsp;<span class="op" id="1341983">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1341986">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1341994">&#34;strconv&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1342005">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="1342020">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1342023">const</span>&nbsp;<span class="op" id="1342029">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1342032">//&nbsp;%b&nbsp;of&nbsp;an&nbsp;int64,&nbsp;plus&nbsp;a&nbsp;sign.</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1342065">//&nbsp;Hex&nbsp;can&nbsp;add&nbsp;0x&nbsp;and&nbsp;we&nbsp;handle&nbsp;it&nbsp;specially.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342112">nByte</span>&nbsp;<span class="op" id="1342118">=</span>&nbsp;<span class="num" id="1342120">65</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342125">ldigits</span>&nbsp;<span class="op" id="1342133">=</span>&nbsp;<span class="string" id="1342135">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342155">udigits</span>&nbsp;<span class="op" id="1342163">=</span>&nbsp;<span class="string" id="1342165">&#34;0123456789ABCDEF&#34;</span><br>
<span class="lineno">20</span><span class="op" id="1342184">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1342187">const</span>&nbsp;<span class="op" id="1342193">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342196">signed</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1342205">=</span>&nbsp;<span class="ident" id="1342207">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342213">unsigned</span>&nbsp;<span class="op" id="1342222">=</span>&nbsp;<span class="ident" id="1342224">false</span><br>
<span class="lineno">25</span><span class="op" id="1342230">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1342233">var</span>&nbsp;<span class="ident" id="1342237">padZeroBytes</span>&nbsp;<span class="op" id="1342250">=</span>&nbsp;<span class="builtinfunc" id="1342252">make</span><span class="op" id="1342256">(</span><span class="op" id="1342257">[</span><span class="op" id="1342258">]</span><span class="builtintype" id="1342259">byte</span><span class="op" id="1342263">,</span>&nbsp;<span class="ident" id="1342265"><a href="/fmt/format.go.html#1342112">nByte</a></span><span class="op" id="1342270">)</span><br>
<span class="lineno"></span><span class="keyword" id="1342272">var</span>&nbsp;<span class="ident" id="1342276">padSpaceBytes</span>&nbsp;<span class="op" id="1342290">=</span>&nbsp;<span class="builtinfunc" id="1342292">make</span><span class="op" id="1342296">(</span><span class="op" id="1342297">[</span><span class="op" id="1342298">]</span><span class="builtintype" id="1342299">byte</span><span class="op" id="1342303">,</span>&nbsp;<span class="ident" id="1342305"><a href="/fmt/format.go.html#1342112">nByte</a></span><span class="op" id="1342310">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1342313">func</span>&nbsp;<span class="ident" id="1342318">init</span><span class="op" id="1342322">(</span><span class="op" id="1342323">)</span>&nbsp;<span class="op" id="1342325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1342328">for</span>&nbsp;<span class="ident" id="1342332">i</span>&nbsp;<span class="op" id="1342334">:=</span>&nbsp;<span class="num" id="1342337">0</span><span class="op" id="1342338">;</span>&nbsp;<span class="ident" id="1342340"><a href="/fmt/format.go.html#1342332">i</a></span>&nbsp;<span class="op" id="1342342">&lt;</span>&nbsp;<span class="ident" id="1342344"><a href="/fmt/format.go.html#1342112">nByte</a></span><span class="op" id="1342349">;</span>&nbsp;<span class="ident" id="1342351"><a href="/fmt/format.go.html#1342332">i</a></span><span class="op" id="1342352">++</span>&nbsp;<span class="op" id="1342355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342359"><a href="/fmt/format.go.html#1342237">padZeroBytes</a></span><span class="op" id="1342371">[</span><span class="ident" id="1342372"><a href="/fmt/format.go.html#1342332">i</a></span><span class="op" id="1342373">]</span>&nbsp;<span class="op" id="1342375">=</span>&nbsp;<span class="string" id="1342377">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342383"><a href="/fmt/format.go.html#1342276">padSpaceBytes</a></span><span class="op" id="1342396">[</span><span class="ident" id="1342397"><a href="/fmt/format.go.html#1342332">i</a></span><span class="op" id="1342398">]</span>&nbsp;<span class="op" id="1342400">=</span>&nbsp;<span class="string" id="1342402">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1342407">}</span><br>
<span class="lineno">35</span><span class="op" id="1342409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1342412">//&nbsp;flags&nbsp;placed&nbsp;in&nbsp;a&nbsp;separate&nbsp;struct&nbsp;for&nbsp;easy&nbsp;clearing.</span><br>
<span class="lineno"></span><span class="keyword" id="1342468">type</span>&nbsp;<span class="ident" id="1342473">fmtFlags</span>&nbsp;<span class="keyword" id="1342482">struct</span>&nbsp;<span class="op" id="1342489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342492">widPresent</span>&nbsp;&nbsp;<span class="builtintype" id="1342504">bool</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342510">precPresent</span>&nbsp;<span class="builtintype" id="1342522">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342528">minus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1342540">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342546">plus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1342558">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342564">sharp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1342576">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342582">space</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1342594">bool</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342600">unicode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1342612">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342618">uniQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1342630">bool</span>&nbsp;<span class="comment" id="1342635">//&nbsp;Use&nbsp;&#39;x&#39;=&nbsp;prefix&nbsp;for&nbsp;%U&nbsp;if&nbsp;printable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342676">zero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1342688">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1342695">//&nbsp;For&nbsp;the&nbsp;formats&nbsp;%+v&nbsp;%#v,&nbsp;we&nbsp;set&nbsp;the&nbsp;plusV/sharpV&nbsp;flags</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1342754">//&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus/sharp&nbsp;flags&nbsp;since&nbsp;%+v&nbsp;and&nbsp;%#v&nbsp;are&nbsp;in&nbsp;effect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1342821">//&nbsp;different,&nbsp;flagless&nbsp;formats&nbsp;set&nbsp;at&nbsp;the&nbsp;top&nbsp;level.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342875">plusV</span>&nbsp;&nbsp;<span class="builtintype" id="1342882">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1342888">sharpV</span>&nbsp;<span class="builtintype" id="1342895">bool</span><br>
<span class="lineno"></span><span class="op" id="1342900">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="1342903">//&nbsp;A&nbsp;fmt&nbsp;is&nbsp;the&nbsp;raw&nbsp;formatter&nbsp;used&nbsp;by&nbsp;Printf&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="1342953">//&nbsp;It&nbsp;prints&nbsp;into&nbsp;a&nbsp;buffer&nbsp;that&nbsp;must&nbsp;be&nbsp;set&nbsp;up&nbsp;separately.</span><br>
<span class="lineno"></span><span class="keyword" id="1343012">type</span>&nbsp;<span class="ident" id="1343017">fmt</span>&nbsp;<span class="keyword" id="1343021">struct</span>&nbsp;<span class="op" id="1343028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343031">intbuf</span>&nbsp;<span class="op" id="1343038">[</span><span class="ident" id="1343039"><a href="/fmt/format.go.html#1342112">nByte</a></span><span class="op" id="1343044">]</span><span class="builtintype" id="1343045">byte</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343051">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1343058">*</span><span class="ident" id="1343059"><a href="/fmt/print.go.html#1356619">buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1343067">//&nbsp;width,&nbsp;precision</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343088">wid</span>&nbsp;&nbsp;<span class="builtintype" id="1343093">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343098">prec</span>&nbsp;<span class="builtintype" id="1343103">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343108"><a href="/fmt/format.go.html#1342473">fmtFlags</a></span><br>
<span class="lineno">65</span><span class="op" id="1343117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1343120">func</span>&nbsp;<span class="op" id="1343125">(</span><span class="ident" id="1343126">f</span>&nbsp;<span class="op" id="1343128">*</span><span class="ident" id="1343129"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1343132">)</span>&nbsp;<span class="ident" id="1343134">clearflags</span><span class="op" id="1343144">(</span><span class="op" id="1343145">)</span>&nbsp;<span class="op" id="1343147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343150"><a href="/fmt/format.go.html#1343126">f</a></span><span class="op" id="1343151">.</span><span class="ident" id="1343152">fmtFlags</span>&nbsp;<span class="op" id="1343161">=</span>&nbsp;<span class="ident" id="1343163"><a href="/fmt/format.go.html#1342473">fmtFlags</a></span><span class="op" id="1343171">{</span><span class="op" id="1343172">}</span><br>
<span class="lineno"></span><span class="op" id="1343174">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="1343177">func</span>&nbsp;<span class="op" id="1343182">(</span><span class="ident" id="1343183">f</span>&nbsp;<span class="op" id="1343185">*</span><span class="ident" id="1343186"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1343189">)</span>&nbsp;<span class="ident" id="1343191">init</span><span class="op" id="1343195">(</span><span class="ident" id="1343196">buf</span>&nbsp;<span class="op" id="1343200">*</span><span class="ident" id="1343201"><a href="/fmt/print.go.html#1356619">buffer</a></span><span class="op" id="1343207">)</span>&nbsp;<span class="op" id="1343209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343212"><a href="/fmt/format.go.html#1343183">f</a></span><span class="op" id="1343213">.</span><span class="ident" id="1343214">buf</span>&nbsp;<span class="op" id="1343218">=</span>&nbsp;<span class="ident" id="1343220"><a href="/fmt/format.go.html#1343196">buf</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343225"><a href="/fmt/format.go.html#1343183">f</a></span><span class="op" id="1343226">.</span><span class="ident" id="1343227">clearflags</span><span class="op" id="1343237">(</span><span class="op" id="1343238">)</span><br>
<span class="lineno"></span><span class="op" id="1343240">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="1343243">//&nbsp;computePadding&nbsp;computes&nbsp;left&nbsp;and&nbsp;right&nbsp;padding&nbsp;widths&nbsp;(only&nbsp;one&nbsp;will&nbsp;be&nbsp;non-zero).</span><br>
<span class="lineno"></span><span class="keyword" id="1343329">func</span>&nbsp;<span class="op" id="1343334">(</span><span class="ident" id="1343335">f</span>&nbsp;<span class="op" id="1343337">*</span><span class="ident" id="1343338"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1343341">)</span>&nbsp;<span class="ident" id="1343343">computePadding</span><span class="op" id="1343357">(</span><span class="ident" id="1343358">width</span>&nbsp;<span class="builtintype" id="1343364">int</span><span class="op" id="1343367">)</span>&nbsp;<span class="op" id="1343369">(</span><span class="ident" id="1343370">padding</span>&nbsp;<span class="op" id="1343378">[</span><span class="op" id="1343379">]</span><span class="builtintype" id="1343380">byte</span><span class="op" id="1343384">,</span>&nbsp;<span class="ident" id="1343386">leftWidth</span><span class="op" id="1343395">,</span>&nbsp;<span class="ident" id="1343397">rightWidth</span>&nbsp;<span class="builtintype" id="1343408">int</span><span class="op" id="1343411">)</span>&nbsp;<span class="op" id="1343413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343416">left</span>&nbsp;<span class="op" id="1343421">:=</span>&nbsp;<span class="op" id="1343424">!</span><span class="ident" id="1343425"><a href="/fmt/format.go.html#1343335">f</a></span><span class="op" id="1343426">.</span><span class="ident" id="1343427">minus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343434">w</span>&nbsp;<span class="op" id="1343436">:=</span>&nbsp;<span class="ident" id="1343439"><a href="/fmt/format.go.html#1343335">f</a></span><span class="op" id="1343440">.</span><span class="ident" id="1343441">wid</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343446">if</span>&nbsp;<span class="ident" id="1343449"><a href="/fmt/format.go.html#1343434">w</a></span>&nbsp;<span class="op" id="1343451">&lt;</span>&nbsp;<span class="num" id="1343453">0</span>&nbsp;<span class="op" id="1343455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343459"><a href="/fmt/format.go.html#1343416">left</a></span>&nbsp;<span class="op" id="1343464">=</span>&nbsp;<span class="ident" id="1343466">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343474"><a href="/fmt/format.go.html#1343434">w</a></span>&nbsp;<span class="op" id="1343476">=</span>&nbsp;<span class="op" id="1343478">-</span><span class="ident" id="1343479"><a href="/fmt/format.go.html#1343434">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1343482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343485"><a href="/fmt/format.go.html#1343434">w</a></span>&nbsp;<span class="op" id="1343487">-=</span>&nbsp;<span class="ident" id="1343490"><a href="/fmt/format.go.html#1343358">width</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343497">if</span>&nbsp;<span class="ident" id="1343500"><a href="/fmt/format.go.html#1343434">w</a></span>&nbsp;<span class="op" id="1343502">&gt;</span>&nbsp;<span class="num" id="1343504">0</span>&nbsp;<span class="op" id="1343506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343510">if</span>&nbsp;<span class="ident" id="1343513"><a href="/fmt/format.go.html#1343416">left</a></span>&nbsp;<span class="op" id="1343518">&amp;&amp;</span>&nbsp;<span class="ident" id="1343521"><a href="/fmt/format.go.html#1343335">f</a></span><span class="op" id="1343522">.</span><span class="ident" id="1343523">zero</span>&nbsp;<span class="op" id="1343528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343533">return</span>&nbsp;<span class="ident" id="1343540"><a href="/fmt/format.go.html#1342237">padZeroBytes</a></span><span class="op" id="1343552">,</span>&nbsp;<span class="ident" id="1343554"><a href="/fmt/format.go.html#1343434">w</a></span><span class="op" id="1343555">,</span>&nbsp;<span class="num" id="1343557">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1343561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343565">if</span>&nbsp;<span class="ident" id="1343568"><a href="/fmt/format.go.html#1343416">left</a></span>&nbsp;<span class="op" id="1343573">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343578">return</span>&nbsp;<span class="ident" id="1343585"><a href="/fmt/format.go.html#1342276">padSpaceBytes</a></span><span class="op" id="1343598">,</span>&nbsp;<span class="ident" id="1343600"><a href="/fmt/format.go.html#1343434">w</a></span><span class="op" id="1343601">,</span>&nbsp;<span class="num" id="1343603">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1343607">}</span>&nbsp;<span class="keyword" id="1343609">else</span>&nbsp;<span class="op" id="1343614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1343619">//&nbsp;can&#39;t&nbsp;be&nbsp;zero&nbsp;padding&nbsp;on&nbsp;the&nbsp;right</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343660">return</span>&nbsp;<span class="ident" id="1343667"><a href="/fmt/format.go.html#1342276">padSpaceBytes</a></span><span class="op" id="1343680">,</span>&nbsp;<span class="num" id="1343682">0</span><span class="op" id="1343683">,</span>&nbsp;<span class="ident" id="1343685"><a href="/fmt/format.go.html#1343434">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1343689">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1343692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343695">return</span><br>
<span class="lineno"></span><span class="op" id="1343702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1343705">//&nbsp;writePadding&nbsp;generates&nbsp;n&nbsp;bytes&nbsp;of&nbsp;padding.</span><br>
<span class="lineno">100</span><span class="keyword" id="1343751">func</span>&nbsp;<span class="op" id="1343756">(</span><span class="ident" id="1343757">f</span>&nbsp;<span class="op" id="1343759">*</span><span class="ident" id="1343760"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1343763">)</span>&nbsp;<span class="ident" id="1343765">writePadding</span><span class="op" id="1343777">(</span><span class="ident" id="1343778">n</span>&nbsp;<span class="builtintype" id="1343780">int</span><span class="op" id="1343783">,</span>&nbsp;<span class="ident" id="1343785">padding</span>&nbsp;<span class="op" id="1343793">[</span><span class="op" id="1343794">]</span><span class="builtintype" id="1343795">byte</span><span class="op" id="1343799">)</span>&nbsp;<span class="op" id="1343801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343804">for</span>&nbsp;<span class="ident" id="1343808"><a href="/fmt/format.go.html#1343778">n</a></span>&nbsp;<span class="op" id="1343810">&gt;</span>&nbsp;<span class="num" id="1343812">0</span>&nbsp;<span class="op" id="1343814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343818">m</span>&nbsp;<span class="op" id="1343820">:=</span>&nbsp;<span class="ident" id="1343823"><a href="/fmt/format.go.html#1343778">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1343827">if</span>&nbsp;<span class="ident" id="1343830"><a href="/fmt/format.go.html#1343818">m</a></span>&nbsp;<span class="op" id="1343832">&gt;</span>&nbsp;<span class="ident" id="1343834"><a href="/fmt/format.go.html#1342112">nByte</a></span>&nbsp;<span class="op" id="1343840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343845"><a href="/fmt/format.go.html#1343818">m</a></span>&nbsp;<span class="op" id="1343847">=</span>&nbsp;<span class="ident" id="1343849"><a href="/fmt/format.go.html#1342112">nByte</a></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1343857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343861"><a href="/fmt/format.go.html#1343757">f</a></span><span class="op" id="1343862">.</span><span class="ident" id="1343863">buf</span><span class="op" id="1343866">.</span><span class="ident" id="1343867">Write</span><span class="op" id="1343872">(</span><span class="ident" id="1343873"><a href="/fmt/format.go.html#1343785">padding</a></span><span class="op" id="1343880">[</span><span class="num" id="1343881">0</span><span class="op" id="1343882">:</span><span class="ident" id="1343883"><a href="/fmt/format.go.html#1343818">m</a></span><span class="op" id="1343884">]</span><span class="op" id="1343885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1343889"><a href="/fmt/format.go.html#1343778">n</a></span>&nbsp;<span class="op" id="1343891">-=</span>&nbsp;<span class="ident" id="1343894"><a href="/fmt/format.go.html#1343818">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1343897">}</span><br>
<span class="lineno"></span><span class="op" id="1343899">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="1343902">//&nbsp;pad&nbsp;appends&nbsp;b&nbsp;to&nbsp;f.buf,&nbsp;padded&nbsp;on&nbsp;left&nbsp;(w&nbsp;&gt;&nbsp;0)&nbsp;or&nbsp;right&nbsp;(w&nbsp;&lt;&nbsp;0&nbsp;or&nbsp;f.minus).</span><br>
<span class="lineno"></span><span class="keyword" id="1343981">func</span>&nbsp;<span class="op" id="1343986">(</span><span class="ident" id="1343987">f</span>&nbsp;<span class="op" id="1343989">*</span><span class="ident" id="1343990"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1343993">)</span>&nbsp;<span class="ident" id="1343995">pad</span><span class="op" id="1343998">(</span><span class="ident" id="1343999">b</span>&nbsp;<span class="op" id="1344001">[</span><span class="op" id="1344002">]</span><span class="builtintype" id="1344003">byte</span><span class="op" id="1344007">)</span>&nbsp;<span class="op" id="1344009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1344012">if</span>&nbsp;<span class="op" id="1344015">!</span><span class="ident" id="1344016"><a href="/fmt/format.go.html#1343987">f</a></span><span class="op" id="1344017">.</span><span class="ident" id="1344018">widPresent</span>&nbsp;<span class="op" id="1344029">||</span>&nbsp;<span class="ident" id="1344032"><a href="/fmt/format.go.html#1343987">f</a></span><span class="op" id="1344033">.</span><span class="ident" id="1344034">wid</span>&nbsp;<span class="op" id="1344038">==</span>&nbsp;<span class="num" id="1344041">0</span>&nbsp;<span class="op" id="1344043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344047"><a href="/fmt/format.go.html#1343987">f</a></span><span class="op" id="1344048">.</span><span class="ident" id="1344049">buf</span><span class="op" id="1344052">.</span><span class="ident" id="1344053">Write</span><span class="op" id="1344058">(</span><span class="ident" id="1344059"><a href="/fmt/format.go.html#1343999">b</a></span><span class="op" id="1344060">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1344064">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1344072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344075">padding</span><span class="op" id="1344082">,</span>&nbsp;<span class="ident" id="1344084">left</span><span class="op" id="1344088">,</span>&nbsp;<span class="ident" id="1344090">right</span>&nbsp;<span class="op" id="1344096">:=</span>&nbsp;<span class="ident" id="1344099"><a href="/fmt/format.go.html#1343987">f</a></span><span class="op" id="1344100">.</span><span class="ident" id="1344101">computePadding</span><span class="op" id="1344115">(</span><span class="ident" id="1344116"><a href="/fmt/format.go.html#1342005">utf8</a></span><span class="op" id="1344120">.</span><span class="ident" id="1344121">RuneCount</span><span class="op" id="1344130">(</span><span class="ident" id="1344131"><a href="/fmt/format.go.html#1343999">b</a></span><span class="op" id="1344132">)</span><span class="op" id="1344133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1344136">if</span>&nbsp;<span class="ident" id="1344139"><a href="/fmt/format.go.html#1344084">left</a></span>&nbsp;<span class="op" id="1344144">&gt;</span>&nbsp;<span class="num" id="1344146">0</span>&nbsp;<span class="op" id="1344148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344152"><a href="/fmt/format.go.html#1343987">f</a></span><span class="op" id="1344153">.</span><span class="ident" id="1344154">writePadding</span><span class="op" id="1344166">(</span><span class="ident" id="1344167"><a href="/fmt/format.go.html#1344084">left</a></span><span class="op" id="1344171">,</span>&nbsp;<span class="ident" id="1344173"><a href="/fmt/format.go.html#1344075">padding</a></span><span class="op" id="1344180">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1344183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344186"><a href="/fmt/format.go.html#1343987">f</a></span><span class="op" id="1344187">.</span><span class="ident" id="1344188">buf</span><span class="op" id="1344191">.</span><span class="ident" id="1344192">Write</span><span class="op" id="1344197">(</span><span class="ident" id="1344198"><a href="/fmt/format.go.html#1343999">b</a></span><span class="op" id="1344199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1344202">if</span>&nbsp;<span class="ident" id="1344205"><a href="/fmt/format.go.html#1344090">right</a></span>&nbsp;<span class="op" id="1344211">&gt;</span>&nbsp;<span class="num" id="1344213">0</span>&nbsp;<span class="op" id="1344215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344219"><a href="/fmt/format.go.html#1343987">f</a></span><span class="op" id="1344220">.</span><span class="ident" id="1344221">writePadding</span><span class="op" id="1344233">(</span><span class="ident" id="1344234"><a href="/fmt/format.go.html#1344090">right</a></span><span class="op" id="1344239">,</span>&nbsp;<span class="ident" id="1344241"><a href="/fmt/format.go.html#1344075">padding</a></span><span class="op" id="1344248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1344251">}</span><br>
<span class="lineno">125</span><span class="op" id="1344253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1344256">//&nbsp;padString&nbsp;appends&nbsp;s&nbsp;to&nbsp;buf,&nbsp;padded&nbsp;on&nbsp;left&nbsp;(w&nbsp;&gt;&nbsp;0)&nbsp;or&nbsp;right&nbsp;(w&nbsp;&lt;&nbsp;0&nbsp;or&nbsp;f.minus).</span><br>
<span class="lineno"></span><span class="keyword" id="1344339">func</span>&nbsp;<span class="op" id="1344344">(</span><span class="ident" id="1344345">f</span>&nbsp;<span class="op" id="1344347">*</span><span class="ident" id="1344348"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1344351">)</span>&nbsp;<span class="ident" id="1344353">padString</span><span class="op" id="1344362">(</span><span class="ident" id="1344363">s</span>&nbsp;<span class="builtintype" id="1344365">string</span><span class="op" id="1344371">)</span>&nbsp;<span class="op" id="1344373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1344376">if</span>&nbsp;<span class="op" id="1344379">!</span><span class="ident" id="1344380"><a href="/fmt/format.go.html#1344345">f</a></span><span class="op" id="1344381">.</span><span class="ident" id="1344382">widPresent</span>&nbsp;<span class="op" id="1344393">||</span>&nbsp;<span class="ident" id="1344396"><a href="/fmt/format.go.html#1344345">f</a></span><span class="op" id="1344397">.</span><span class="ident" id="1344398">wid</span>&nbsp;<span class="op" id="1344402">==</span>&nbsp;<span class="num" id="1344405">0</span>&nbsp;<span class="op" id="1344407">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344411"><a href="/fmt/format.go.html#1344345">f</a></span><span class="op" id="1344412">.</span><span class="ident" id="1344413">buf</span><span class="op" id="1344416">.</span><span class="ident" id="1344417">WriteString</span><span class="op" id="1344428">(</span><span class="ident" id="1344429"><a href="/fmt/format.go.html#1344363">s</a></span><span class="op" id="1344430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1344434">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1344442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344445">padding</span><span class="op" id="1344452">,</span>&nbsp;<span class="ident" id="1344454">left</span><span class="op" id="1344458">,</span>&nbsp;<span class="ident" id="1344460">right</span>&nbsp;<span class="op" id="1344466">:=</span>&nbsp;<span class="ident" id="1344469"><a href="/fmt/format.go.html#1344345">f</a></span><span class="op" id="1344470">.</span><span class="ident" id="1344471">computePadding</span><span class="op" id="1344485">(</span><span class="ident" id="1344486"><a href="/fmt/format.go.html#1342005">utf8</a></span><span class="op" id="1344490">.</span><span class="ident" id="1344491">RuneCountInString</span><span class="op" id="1344508">(</span><span class="ident" id="1344509"><a href="/fmt/format.go.html#1344363">s</a></span><span class="op" id="1344510">)</span><span class="op" id="1344511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1344514">if</span>&nbsp;<span class="ident" id="1344517"><a href="/fmt/format.go.html#1344454">left</a></span>&nbsp;<span class="op" id="1344522">&gt;</span>&nbsp;<span class="num" id="1344524">0</span>&nbsp;<span class="op" id="1344526">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344530"><a href="/fmt/format.go.html#1344345">f</a></span><span class="op" id="1344531">.</span><span class="ident" id="1344532">writePadding</span><span class="op" id="1344544">(</span><span class="ident" id="1344545"><a href="/fmt/format.go.html#1344454">left</a></span><span class="op" id="1344549">,</span>&nbsp;<span class="ident" id="1344551"><a href="/fmt/format.go.html#1344445">padding</a></span><span class="op" id="1344558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1344561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344564"><a href="/fmt/format.go.html#1344345">f</a></span><span class="op" id="1344565">.</span><span class="ident" id="1344566">buf</span><span class="op" id="1344569">.</span><span class="ident" id="1344570">WriteString</span><span class="op" id="1344581">(</span><span class="ident" id="1344582"><a href="/fmt/format.go.html#1344363">s</a></span><span class="op" id="1344583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1344586">if</span>&nbsp;<span class="ident" id="1344589"><a href="/fmt/format.go.html#1344460">right</a></span>&nbsp;<span class="op" id="1344595">&gt;</span>&nbsp;<span class="num" id="1344597">0</span>&nbsp;<span class="op" id="1344599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344603"><a href="/fmt/format.go.html#1344345">f</a></span><span class="op" id="1344604">.</span><span class="ident" id="1344605">writePadding</span><span class="op" id="1344617">(</span><span class="ident" id="1344618"><a href="/fmt/format.go.html#1344460">right</a></span><span class="op" id="1344623">,</span>&nbsp;<span class="ident" id="1344625"><a href="/fmt/format.go.html#1344445">padding</a></span><span class="op" id="1344632">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1344635">}</span><br>
<span class="lineno"></span><span class="op" id="1344637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1344640">var</span>&nbsp;<span class="op" id="1344644">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344647">trueBytes</span>&nbsp;&nbsp;<span class="op" id="1344658">=</span>&nbsp;<span class="op" id="1344660">[</span><span class="op" id="1344661">]</span><span class="builtintype" id="1344662">byte</span><span class="op" id="1344666">(</span><span class="string" id="1344667">&#34;true&#34;</span><span class="op" id="1344673">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344676">falseBytes</span>&nbsp;<span class="op" id="1344687">=</span>&nbsp;<span class="op" id="1344689">[</span><span class="op" id="1344690">]</span><span class="builtintype" id="1344691">byte</span><span class="op" id="1344695">(</span><span class="string" id="1344696">&#34;false&#34;</span><span class="op" id="1344703">)</span><br>
<span class="lineno"></span><span class="op" id="1344705">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1344708">//&nbsp;fmt_boolean&nbsp;formats&nbsp;a&nbsp;boolean.</span><br>
<span class="lineno"></span><span class="keyword" id="1344742">func</span>&nbsp;<span class="op" id="1344747">(</span><span class="ident" id="1344748">f</span>&nbsp;<span class="op" id="1344750">*</span><span class="ident" id="1344751"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1344754">)</span>&nbsp;<span class="ident" id="1344756">fmt_boolean</span><span class="op" id="1344767">(</span><span class="ident" id="1344768">v</span>&nbsp;<span class="builtintype" id="1344770">bool</span><span class="op" id="1344774">)</span>&nbsp;<span class="op" id="1344776">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1344779">if</span>&nbsp;<span class="ident" id="1344782"><a href="/fmt/format.go.html#1344768">v</a></span>&nbsp;<span class="op" id="1344784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344788"><a href="/fmt/format.go.html#1344748">f</a></span><span class="op" id="1344789">.</span><span class="ident" id="1344790">pad</span><span class="op" id="1344793">(</span><span class="ident" id="1344794"><a href="/fmt/format.go.html#1344647">trueBytes</a></span><span class="op" id="1344803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1344806">}</span>&nbsp;<span class="keyword" id="1344808">else</span>&nbsp;<span class="op" id="1344813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1344817"><a href="/fmt/format.go.html#1344748">f</a></span><span class="op" id="1344818">.</span><span class="ident" id="1344819">pad</span><span class="op" id="1344822">(</span><span class="ident" id="1344823"><a href="/fmt/format.go.html#1344676">falseBytes</a></span><span class="op" id="1344833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1344836">}</span><br>
<span class="lineno">155</span><span class="op" id="1344838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1344841">//&nbsp;integer;&nbsp;interprets&nbsp;prec&nbsp;but&nbsp;not&nbsp;wid.&nbsp;&nbsp;Once&nbsp;formatted,&nbsp;result&nbsp;is&nbsp;sent&nbsp;to&nbsp;pad()</span><br>
<span class="lineno"></span><span class="comment" id="1344923">//&nbsp;and&nbsp;then&nbsp;flags&nbsp;are&nbsp;cleared.</span><br>
<span class="lineno"></span><span class="keyword" id="1344954">func</span>&nbsp;<span class="op" id="1344959">(</span><span class="ident" id="1344960">f</span>&nbsp;<span class="op" id="1344962">*</span><span class="ident" id="1344963"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1344966">)</span>&nbsp;<span class="ident" id="1344968">integer</span><span class="op" id="1344975">(</span><span class="ident" id="1344976">a</span>&nbsp;<span class="ident" id="1344978">int64</span><span class="op" id="1344983">,</span>&nbsp;<span class="ident" id="1344985">base</span>&nbsp;<span class="ident" id="1344990">uint64</span><span class="op" id="1344996">,</span>&nbsp;<span class="ident" id="1344998">signedness</span>&nbsp;<span class="builtintype" id="1345009">bool</span><span class="op" id="1345013">,</span>&nbsp;<span class="ident" id="1345015">digits</span>&nbsp;<span class="builtintype" id="1345022">string</span><span class="op" id="1345028">)</span>&nbsp;<span class="op" id="1345030">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1345033">//&nbsp;precision&nbsp;of&nbsp;0&nbsp;and&nbsp;value&nbsp;of&nbsp;0&nbsp;means&nbsp;&#34;print&nbsp;nothing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1345089">if</span>&nbsp;<span class="ident" id="1345092"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345093">.</span><span class="ident" id="1345094">precPresent</span>&nbsp;<span class="op" id="1345106">&amp;&amp;</span>&nbsp;<span class="ident" id="1345109"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345110">.</span><span class="ident" id="1345111">prec</span>&nbsp;<span class="op" id="1345116">==</span>&nbsp;<span class="num" id="1345119">0</span>&nbsp;<span class="op" id="1345121">&amp;&amp;</span>&nbsp;<span class="ident" id="1345124"><a href="/fmt/format.go.html#1344976">a</a></span>&nbsp;<span class="op" id="1345126">==</span>&nbsp;<span class="num" id="1345129">0</span>&nbsp;<span class="op" id="1345131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1345135">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1345143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1345147">var</span>&nbsp;<span class="ident" id="1345151">buf</span>&nbsp;<span class="op" id="1345155">[</span><span class="op" id="1345156">]</span><span class="builtintype" id="1345157">byte</span>&nbsp;<span class="op" id="1345162">=</span>&nbsp;<span class="ident" id="1345164"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345165">.</span><span class="ident" id="1345166">intbuf</span><span class="op" id="1345172">[</span><span class="num" id="1345173">0</span><span class="op" id="1345174">:</span><span class="op" id="1345175">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1345178">if</span>&nbsp;<span class="ident" id="1345181"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345182">.</span><span class="ident" id="1345183">widPresent</span>&nbsp;<span class="op" id="1345194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345198">width</span>&nbsp;<span class="op" id="1345204">:=</span>&nbsp;<span class="ident" id="1345207"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345208">.</span><span class="ident" id="1345209">wid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1345215">if</span>&nbsp;<span class="ident" id="1345218"><a href="/fmt/format.go.html#1344985">base</a></span>&nbsp;<span class="op" id="1345223">==</span>&nbsp;<span class="num" id="1345226">16</span>&nbsp;<span class="op" id="1345229">&amp;&amp;</span>&nbsp;<span class="ident" id="1345232"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345233">.</span><span class="ident" id="1345234">sharp</span>&nbsp;<span class="op" id="1345240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1345245">//&nbsp;Also&nbsp;adds&nbsp;&#34;0x&#34;.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345267"><a href="/fmt/format.go.html#1345198">width</a></span>&nbsp;<span class="op" id="1345273">+=</span>&nbsp;<span class="num" id="1345276">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1345280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1345284">if</span>&nbsp;<span class="ident" id="1345287"><a href="/fmt/format.go.html#1345198">width</a></span>&nbsp;<span class="op" id="1345293">&gt;</span>&nbsp;<span class="ident" id="1345295"><a href="/fmt/format.go.html#1342112">nByte</a></span>&nbsp;<span class="op" id="1345301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1345306">//&nbsp;We&#39;re&nbsp;going&nbsp;to&nbsp;need&nbsp;a&nbsp;bigger&nbsp;boat.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345347"><a href="/fmt/format.go.html#1345151">buf</a></span>&nbsp;<span class="op" id="1345351">=</span>&nbsp;<span class="builtinfunc" id="1345353">make</span><span class="op" id="1345357">(</span><span class="op" id="1345358">[</span><span class="op" id="1345359">]</span><span class="builtintype" id="1345360">byte</span><span class="op" id="1345364">,</span>&nbsp;<span class="ident" id="1345366"><a href="/fmt/format.go.html#1345198">width</a></span><span class="op" id="1345371">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1345375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1345378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345382">negative</span>&nbsp;<span class="op" id="1345391">:=</span>&nbsp;<span class="ident" id="1345394"><a href="/fmt/format.go.html#1344998">signedness</a></span>&nbsp;<span class="op" id="1345405">==</span>&nbsp;<span class="ident" id="1345408"><a href="/fmt/format.go.html#1342196">signed</a></span>&nbsp;<span class="op" id="1345415">&amp;&amp;</span>&nbsp;<span class="ident" id="1345418"><a href="/fmt/format.go.html#1344976">a</a></span>&nbsp;<span class="op" id="1345420">&lt;</span>&nbsp;<span class="num" id="1345422">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1345425">if</span>&nbsp;<span class="ident" id="1345428"><a href="/fmt/format.go.html#1345382">negative</a></span>&nbsp;<span class="op" id="1345437">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345441"><a href="/fmt/format.go.html#1344976">a</a></span>&nbsp;<span class="op" id="1345443">=</span>&nbsp;<span class="op" id="1345445">-</span><span class="ident" id="1345446"><a href="/fmt/format.go.html#1344976">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1345449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1345453">//&nbsp;two&nbsp;ways&nbsp;to&nbsp;ask&nbsp;for&nbsp;extra&nbsp;leading&nbsp;zero&nbsp;digits:&nbsp;%.3d&nbsp;or&nbsp;%03d.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1345518">//&nbsp;apparently&nbsp;the&nbsp;first&nbsp;cancels&nbsp;the&nbsp;second.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345563">prec</span>&nbsp;<span class="op" id="1345568">:=</span>&nbsp;<span class="num" id="1345571">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1345574">if</span>&nbsp;<span class="ident" id="1345577"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345578">.</span><span class="ident" id="1345579">precPresent</span>&nbsp;<span class="op" id="1345591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345595"><a href="/fmt/format.go.html#1345563">prec</a></span>&nbsp;<span class="op" id="1345600">=</span>&nbsp;<span class="ident" id="1345602"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345603">.</span><span class="ident" id="1345604">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345611"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345612">.</span><span class="ident" id="1345613">zero</span>&nbsp;<span class="op" id="1345618">=</span>&nbsp;<span class="ident" id="1345620">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1345627">}</span>&nbsp;<span class="keyword" id="1345629">else</span>&nbsp;<span class="keyword" id="1345634">if</span>&nbsp;<span class="ident" id="1345637"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345638">.</span><span class="ident" id="1345639">zero</span>&nbsp;<span class="op" id="1345644">&amp;&amp;</span>&nbsp;<span class="ident" id="1345647"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345648">.</span><span class="ident" id="1345649">widPresent</span>&nbsp;<span class="op" id="1345660">&amp;&amp;</span>&nbsp;<span class="op" id="1345663">!</span><span class="ident" id="1345664"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345665">.</span><span class="ident" id="1345666">minus</span>&nbsp;<span class="op" id="1345672">&amp;&amp;</span>&nbsp;<span class="ident" id="1345675"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345676">.</span><span class="ident" id="1345677">wid</span>&nbsp;<span class="op" id="1345681">&gt;</span>&nbsp;<span class="num" id="1345683">0</span>&nbsp;<span class="op" id="1345685">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345689"><a href="/fmt/format.go.html#1345563">prec</a></span>&nbsp;<span class="op" id="1345694">=</span>&nbsp;<span class="ident" id="1345696"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345697">.</span><span class="ident" id="1345698">wid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1345704">if</span>&nbsp;<span class="ident" id="1345707"><a href="/fmt/format.go.html#1345382">negative</a></span>&nbsp;<span class="op" id="1345716">||</span>&nbsp;<span class="ident" id="1345719"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345720">.</span><span class="ident" id="1345721">plus</span>&nbsp;<span class="op" id="1345726">||</span>&nbsp;<span class="ident" id="1345729"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1345730">.</span><span class="ident" id="1345731">space</span>&nbsp;<span class="op" id="1345737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1345742"><a href="/fmt/format.go.html#1345563">prec</a></span><span class="op" id="1345746">--</span>&nbsp;<span class="comment" id="1345749">//&nbsp;leave&nbsp;room&nbsp;for&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1345774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1345777">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1345781">//&nbsp;format&nbsp;a&nbsp;into&nbsp;buf,&nbsp;ending&nbsp;at&nbsp;buf[i].&nbsp;&nbsp;(printing&nbsp;is&nbsp;easier&nbsp;right-to-left.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1345859">//&nbsp;a&nbsp;is&nbsp;made&nbsp;into&nbsp;unsigned&nbsp;ua.&nbsp;&nbsp;we&nbsp;could&nbsp;make&nbsp;things</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1345913">//&nbsp;marginally&nbsp;faster&nbsp;by&nbsp;splitting&nbsp;the&nbsp;32-bit&nbsp;case&nbsp;out&nbsp;into&nbsp;a&nbsp;separate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1345984">//&nbsp;block&nbsp;but&nbsp;it&#39;s&nbsp;not&nbsp;worth&nbsp;the&nbsp;duplication,&nbsp;so&nbsp;ua&nbsp;has&nbsp;64&nbsp;bits.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346049">i</span>&nbsp;<span class="op" id="1346051">:=</span>&nbsp;<span class="builtinfunc" id="1346054">len</span><span class="op" id="1346057">(</span><span class="ident" id="1346058"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346064">ua</span>&nbsp;<span class="op" id="1346067">:=</span>&nbsp;<span class="ident" id="1346070">uint64</span><span class="op" id="1346076">(</span><span class="ident" id="1346077"><a href="/fmt/format.go.html#1344976">a</a></span><span class="op" id="1346078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1346081">//&nbsp;use&nbsp;constants&nbsp;for&nbsp;the&nbsp;division&nbsp;and&nbsp;modulo&nbsp;for&nbsp;more&nbsp;efficient&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1346152">//&nbsp;switch&nbsp;cases&nbsp;ordered&nbsp;by&nbsp;popularity.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346192">switch</span>&nbsp;<span class="ident" id="1346199"><a href="/fmt/format.go.html#1344985">base</a></span>&nbsp;<span class="op" id="1346204">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346207">case</span>&nbsp;<span class="num" id="1346212">10</span><span class="op" id="1346214">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346218">for</span>&nbsp;<span class="ident" id="1346222"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346225">&gt;=</span>&nbsp;<span class="num" id="1346228">10</span>&nbsp;<span class="op" id="1346231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346236"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346237">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346243">next</span>&nbsp;<span class="op" id="1346248">:=</span>&nbsp;<span class="ident" id="1346251"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346254">/</span>&nbsp;<span class="num" id="1346256">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346262"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346265">[</span><span class="ident" id="1346266"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346267">]</span>&nbsp;<span class="op" id="1346269">=</span>&nbsp;<span class="builtintype" id="1346271">byte</span><span class="op" id="1346275">(</span><span class="string" id="1346276">&#39;0&#39;</span>&nbsp;<span class="op" id="1346280">+</span>&nbsp;<span class="ident" id="1346282"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346285">-</span>&nbsp;<span class="ident" id="1346287"><a href="/fmt/format.go.html#1346243">next</a></span><span class="op" id="1346291">*</span><span class="num" id="1346292">10</span><span class="op" id="1346294">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346299"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346302">=</span>&nbsp;<span class="ident" id="1346304"><a href="/fmt/format.go.html#1346243">next</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346314">case</span>&nbsp;<span class="num" id="1346319">16</span><span class="op" id="1346321">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346325">for</span>&nbsp;<span class="ident" id="1346329"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346332">&gt;=</span>&nbsp;<span class="num" id="1346335">16</span>&nbsp;<span class="op" id="1346338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346343"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346344">--</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346350"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346353">[</span><span class="ident" id="1346354"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346355">]</span>&nbsp;<span class="op" id="1346357">=</span>&nbsp;<span class="ident" id="1346359"><a href="/fmt/format.go.html#1345015">digits</a></span><span class="op" id="1346365">[</span><span class="ident" id="1346366"><a href="/fmt/format.go.html#1346064">ua</a></span><span class="op" id="1346368">&amp;</span><span class="num" id="1346369">0xF</span><span class="op" id="1346372">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346377"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346380">&gt;&gt;=</span>&nbsp;<span class="num" id="1346384">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346391">case</span>&nbsp;<span class="num" id="1346396">8</span><span class="op" id="1346397">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346401">for</span>&nbsp;<span class="ident" id="1346405"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346408">&gt;=</span>&nbsp;<span class="num" id="1346411">8</span>&nbsp;<span class="op" id="1346413">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346418"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346419">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346425"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346428">[</span><span class="ident" id="1346429"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346430">]</span>&nbsp;<span class="op" id="1346432">=</span>&nbsp;<span class="builtintype" id="1346434">byte</span><span class="op" id="1346438">(</span><span class="string" id="1346439">&#39;0&#39;</span>&nbsp;<span class="op" id="1346443">+</span>&nbsp;<span class="ident" id="1346445"><a href="/fmt/format.go.html#1346064">ua</a></span><span class="op" id="1346447">&amp;</span><span class="num" id="1346448">7</span><span class="op" id="1346449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346454"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346457">&gt;&gt;=</span>&nbsp;<span class="num" id="1346461">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346468">case</span>&nbsp;<span class="num" id="1346473">2</span><span class="op" id="1346474">:</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346478">for</span>&nbsp;<span class="ident" id="1346482"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346485">&gt;=</span>&nbsp;<span class="num" id="1346488">2</span>&nbsp;<span class="op" id="1346490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346495"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346496">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346502"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346505">[</span><span class="ident" id="1346506"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346507">]</span>&nbsp;<span class="op" id="1346509">=</span>&nbsp;<span class="builtintype" id="1346511">byte</span><span class="op" id="1346515">(</span><span class="string" id="1346516">&#39;0&#39;</span>&nbsp;<span class="op" id="1346520">+</span>&nbsp;<span class="ident" id="1346522"><a href="/fmt/format.go.html#1346064">ua</a></span><span class="op" id="1346524">&amp;</span><span class="num" id="1346525">1</span><span class="op" id="1346526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346531"><a href="/fmt/format.go.html#1346064">ua</a></span>&nbsp;<span class="op" id="1346534">&gt;&gt;=</span>&nbsp;<span class="num" id="1346538">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346542">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346545">default</span><span class="op" id="1346552">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1346556">panic</span><span class="op" id="1346561">(</span><span class="string" id="1346562">&#34;fmt:&nbsp;unknown&nbsp;base;&nbsp;can&#39;t&nbsp;happen&#34;</span><span class="op" id="1346595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346601"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346602">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346606"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346609">[</span><span class="ident" id="1346610"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346611">]</span>&nbsp;<span class="op" id="1346613">=</span>&nbsp;<span class="ident" id="1346615"><a href="/fmt/format.go.html#1345015">digits</a></span><span class="op" id="1346621">[</span><span class="ident" id="1346622"><a href="/fmt/format.go.html#1346064">ua</a></span><span class="op" id="1346624">]</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346627">for</span>&nbsp;<span class="ident" id="1346631"><a href="/fmt/format.go.html#1346049">i</a></span>&nbsp;<span class="op" id="1346633">&gt;</span>&nbsp;<span class="num" id="1346635">0</span>&nbsp;<span class="op" id="1346637">&amp;&amp;</span>&nbsp;<span class="ident" id="1346640"><a href="/fmt/format.go.html#1345563">prec</a></span>&nbsp;<span class="op" id="1346645">&gt;</span>&nbsp;<span class="builtinfunc" id="1346647">len</span><span class="op" id="1346650">(</span><span class="ident" id="1346651"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346654">)</span><span class="op" id="1346655">-</span><span class="ident" id="1346656"><a href="/fmt/format.go.html#1346049">i</a></span>&nbsp;<span class="op" id="1346658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346662"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346663">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346668"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346671">[</span><span class="ident" id="1346672"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346673">]</span>&nbsp;<span class="op" id="1346675">=</span>&nbsp;<span class="string" id="1346677">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1346686">//&nbsp;Various&nbsp;prefixes:&nbsp;0x,&nbsp;-,&nbsp;etc.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346720">if</span>&nbsp;<span class="ident" id="1346723"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1346724">.</span><span class="ident" id="1346725">sharp</span>&nbsp;<span class="op" id="1346731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346735">switch</span>&nbsp;<span class="ident" id="1346742"><a href="/fmt/format.go.html#1344985">base</a></span>&nbsp;<span class="op" id="1346747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346751">case</span>&nbsp;<span class="num" id="1346756">8</span><span class="op" id="1346757">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346762">if</span>&nbsp;<span class="ident" id="1346765"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346768">[</span><span class="ident" id="1346769"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346770">]</span>&nbsp;<span class="op" id="1346772">!=</span>&nbsp;<span class="string" id="1346775">&#39;0&#39;</span>&nbsp;<span class="op" id="1346779">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346785"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346786">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346793"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346796">[</span><span class="ident" id="1346797"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346798">]</span>&nbsp;<span class="op" id="1346800">=</span>&nbsp;<span class="string" id="1346802">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346813">case</span>&nbsp;<span class="num" id="1346818">16</span><span class="op" id="1346820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346825"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346826">--</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346832"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346835">[</span><span class="ident" id="1346836"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346837">]</span>&nbsp;<span class="op" id="1346839">=</span>&nbsp;<span class="string" id="1346841">&#39;x&#39;</span>&nbsp;<span class="op" id="1346845">+</span>&nbsp;<span class="ident" id="1346847"><a href="/fmt/format.go.html#1345015">digits</a></span><span class="op" id="1346853">[</span><span class="num" id="1346854">10</span><span class="op" id="1346856">]</span>&nbsp;<span class="op" id="1346858">-</span>&nbsp;<span class="string" id="1346860">&#39;a&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346867"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346868">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346874"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346877">[</span><span class="ident" id="1346878"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346879">]</span>&nbsp;<span class="op" id="1346881">=</span>&nbsp;<span class="string" id="1346883">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346892">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346895">if</span>&nbsp;<span class="ident" id="1346898"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1346899">.</span><span class="ident" id="1346900">unicode</span>&nbsp;<span class="op" id="1346908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346912"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346913">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346918"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346921">[</span><span class="ident" id="1346922"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346923">]</span>&nbsp;<span class="op" id="1346925">=</span>&nbsp;<span class="string" id="1346927">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346933"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346934">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346939"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346942">[</span><span class="ident" id="1346943"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346944">]</span>&nbsp;<span class="op" id="1346946">=</span>&nbsp;<span class="string" id="1346948">&#39;U&#39;</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346953">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1346957">if</span>&nbsp;<span class="ident" id="1346960"><a href="/fmt/format.go.html#1345382">negative</a></span>&nbsp;<span class="op" id="1346969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346973"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346974">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1346979"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1346982">[</span><span class="ident" id="1346983"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1346984">]</span>&nbsp;<span class="op" id="1346986">=</span>&nbsp;<span class="string" id="1346988">&#39;-&#39;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1346993">}</span>&nbsp;<span class="keyword" id="1346995">else</span>&nbsp;<span class="keyword" id="1347000">if</span>&nbsp;<span class="ident" id="1347003"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1347004">.</span><span class="ident" id="1347005">plus</span>&nbsp;<span class="op" id="1347010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347014"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1347015">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347020"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347023">[</span><span class="ident" id="1347024"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1347025">]</span>&nbsp;<span class="op" id="1347027">=</span>&nbsp;<span class="string" id="1347029">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1347034">}</span>&nbsp;<span class="keyword" id="1347036">else</span>&nbsp;<span class="keyword" id="1347041">if</span>&nbsp;<span class="ident" id="1347044"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1347045">.</span><span class="ident" id="1347046">space</span>&nbsp;<span class="op" id="1347052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347056"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1347057">--</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347062"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347065">[</span><span class="ident" id="1347066"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1347067">]</span>&nbsp;<span class="op" id="1347069">=</span>&nbsp;<span class="string" id="1347071">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1347076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1347080">//&nbsp;If&nbsp;we&nbsp;want&nbsp;a&nbsp;quoted&nbsp;char&nbsp;for&nbsp;%#U,&nbsp;move&nbsp;the&nbsp;data&nbsp;up&nbsp;to&nbsp;make&nbsp;room.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1347149">if</span>&nbsp;<span class="ident" id="1347152"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1347153">.</span><span class="ident" id="1347154">unicode</span>&nbsp;<span class="op" id="1347162">&amp;&amp;</span>&nbsp;<span class="ident" id="1347165"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1347166">.</span><span class="ident" id="1347167">uniQuote</span>&nbsp;<span class="op" id="1347176">&amp;&amp;</span>&nbsp;<span class="ident" id="1347179"><a href="/fmt/format.go.html#1344976">a</a></span>&nbsp;<span class="op" id="1347181">&gt;=</span>&nbsp;<span class="num" id="1347184">0</span>&nbsp;<span class="op" id="1347186">&amp;&amp;</span>&nbsp;<span class="ident" id="1347189"><a href="/fmt/format.go.html#1344976">a</a></span>&nbsp;<span class="op" id="1347191">&lt;=</span>&nbsp;<span class="ident" id="1347194"><a href="/fmt/format.go.html#1342005">utf8</a></span><span class="op" id="1347198">.</span><span class="ident" id="1347199">MaxRune</span>&nbsp;<span class="op" id="1347207">&amp;&amp;</span>&nbsp;<span class="ident" id="1347210"><a href="/fmt/format.go.html#1341994">strconv</a></span><span class="op" id="1347217">.</span><span class="ident" id="1347218">IsPrint</span><span class="op" id="1347225">(</span><span class="builtintype" id="1347226">rune</span><span class="op" id="1347230">(</span><span class="ident" id="1347231"><a href="/fmt/format.go.html#1344976">a</a></span><span class="op" id="1347232">)</span><span class="op" id="1347233">)</span>&nbsp;<span class="op" id="1347235">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347239">runeWidth</span>&nbsp;<span class="op" id="1347249">:=</span>&nbsp;<span class="ident" id="1347252"><a href="/fmt/format.go.html#1342005">utf8</a></span><span class="op" id="1347256">.</span><span class="ident" id="1347257">RuneLen</span><span class="op" id="1347264">(</span><span class="builtintype" id="1347265">rune</span><span class="op" id="1347269">(</span><span class="ident" id="1347270"><a href="/fmt/format.go.html#1344976">a</a></span><span class="op" id="1347271">)</span><span class="op" id="1347272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347276">width</span>&nbsp;<span class="op" id="1347282">:=</span>&nbsp;<span class="num" id="1347285">1</span>&nbsp;<span class="op" id="1347287">+</span>&nbsp;<span class="num" id="1347289">1</span>&nbsp;<span class="op" id="1347291">+</span>&nbsp;<span class="ident" id="1347293"><a href="/fmt/format.go.html#1347239">runeWidth</a></span>&nbsp;<span class="op" id="1347303">+</span>&nbsp;<span class="num" id="1347305">1</span>&nbsp;<span class="comment" id="1347307">//&nbsp;space,&nbsp;quote,&nbsp;rune,&nbsp;quote</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1347338">copy</span><span class="op" id="1347342">(</span><span class="ident" id="1347343"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347346">[</span><span class="ident" id="1347347"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1347348">-</span><span class="ident" id="1347349"><a href="/fmt/format.go.html#1347276">width</a></span><span class="op" id="1347354">:</span><span class="op" id="1347355">]</span><span class="op" id="1347356">,</span>&nbsp;<span class="ident" id="1347358"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347361">[</span><span class="ident" id="1347362"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1347363">:</span><span class="op" id="1347364">]</span><span class="op" id="1347365">)</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="1347369">//&nbsp;guaranteed&nbsp;to&nbsp;have&nbsp;enough&nbsp;room.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347406"><a href="/fmt/format.go.html#1346049">i</a></span>&nbsp;<span class="op" id="1347408">-=</span>&nbsp;<span class="ident" id="1347411"><a href="/fmt/format.go.html#1347276">width</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1347419">//&nbsp;Now&nbsp;put&nbsp;&#34;&nbsp;&#39;x&#39;&#34;&nbsp;at&nbsp;the&nbsp;end.</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347451">j</span>&nbsp;<span class="op" id="1347453">:=</span>&nbsp;<span class="builtinfunc" id="1347456">len</span><span class="op" id="1347459">(</span><span class="ident" id="1347460"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347463">)</span>&nbsp;<span class="op" id="1347465">-</span>&nbsp;<span class="ident" id="1347467"><a href="/fmt/format.go.html#1347276">width</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347475"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347478">[</span><span class="ident" id="1347479"><a href="/fmt/format.go.html#1347451">j</a></span><span class="op" id="1347480">]</span>&nbsp;<span class="op" id="1347482">=</span>&nbsp;<span class="string" id="1347484">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347490"><a href="/fmt/format.go.html#1347451">j</a></span><span class="op" id="1347491">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347496"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347499">[</span><span class="ident" id="1347500"><a href="/fmt/format.go.html#1347451">j</a></span><span class="op" id="1347501">]</span>&nbsp;<span class="op" id="1347503">=</span>&nbsp;<span class="string" id="1347505">&#39;\&#39;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347512"><a href="/fmt/format.go.html#1347451">j</a></span><span class="op" id="1347513">++</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347518"><a href="/fmt/format.go.html#1342005">utf8</a></span><span class="op" id="1347522">.</span><span class="ident" id="1347523">EncodeRune</span><span class="op" id="1347533">(</span><span class="ident" id="1347534"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347537">[</span><span class="ident" id="1347538"><a href="/fmt/format.go.html#1347451">j</a></span><span class="op" id="1347539">:</span><span class="op" id="1347540">]</span><span class="op" id="1347541">,</span>&nbsp;<span class="builtintype" id="1347543">rune</span><span class="op" id="1347547">(</span><span class="ident" id="1347548"><a href="/fmt/format.go.html#1344976">a</a></span><span class="op" id="1347549">)</span><span class="op" id="1347550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347554"><a href="/fmt/format.go.html#1347451">j</a></span>&nbsp;<span class="op" id="1347556">+=</span>&nbsp;<span class="ident" id="1347559"><a href="/fmt/format.go.html#1347239">runeWidth</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347571"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347574">[</span><span class="ident" id="1347575"><a href="/fmt/format.go.html#1347451">j</a></span><span class="op" id="1347576">]</span>&nbsp;<span class="op" id="1347578">=</span>&nbsp;<span class="string" id="1347580">&#39;\&#39;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1347586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347590"><a href="/fmt/format.go.html#1344960">f</a></span><span class="op" id="1347591">.</span><span class="ident" id="1347592">pad</span><span class="op" id="1347595">(</span><span class="ident" id="1347596"><a href="/fmt/format.go.html#1345151">buf</a></span><span class="op" id="1347599">[</span><span class="ident" id="1347600"><a href="/fmt/format.go.html#1346049">i</a></span><span class="op" id="1347601">:</span><span class="op" id="1347602">]</span><span class="op" id="1347603">)</span><br>
<span class="lineno"></span><span class="op" id="1347605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1347608">//&nbsp;truncate&nbsp;truncates&nbsp;the&nbsp;string&nbsp;to&nbsp;the&nbsp;specified&nbsp;precision,&nbsp;if&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="1347681">func</span>&nbsp;<span class="op" id="1347686">(</span><span class="ident" id="1347687">f</span>&nbsp;<span class="op" id="1347689">*</span><span class="ident" id="1347690"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1347693">)</span>&nbsp;<span class="ident" id="1347695">truncate</span><span class="op" id="1347703">(</span><span class="ident" id="1347704">s</span>&nbsp;<span class="builtintype" id="1347706">string</span><span class="op" id="1347712">)</span>&nbsp;<span class="builtintype" id="1347714">string</span>&nbsp;<span class="op" id="1347721">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1347724">if</span>&nbsp;<span class="ident" id="1347727"><a href="/fmt/format.go.html#1347687">f</a></span><span class="op" id="1347728">.</span><span class="ident" id="1347729">precPresent</span>&nbsp;<span class="op" id="1347741">&amp;&amp;</span>&nbsp;<span class="ident" id="1347744"><a href="/fmt/format.go.html#1347687">f</a></span><span class="op" id="1347745">.</span><span class="ident" id="1347746">prec</span>&nbsp;<span class="op" id="1347751">&lt;</span>&nbsp;<span class="ident" id="1347753"><a href="/fmt/format.go.html#1342005">utf8</a></span><span class="op" id="1347757">.</span><span class="ident" id="1347758">RuneCountInString</span><span class="op" id="1347775">(</span><span class="ident" id="1347776"><a href="/fmt/format.go.html#1347704">s</a></span><span class="op" id="1347777">)</span>&nbsp;<span class="op" id="1347779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347783">n</span>&nbsp;<span class="op" id="1347785">:=</span>&nbsp;<span class="ident" id="1347788"><a href="/fmt/format.go.html#1347687">f</a></span><span class="op" id="1347789">.</span><span class="ident" id="1347790">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1347797">for</span>&nbsp;<span class="ident" id="1347801">i</span>&nbsp;<span class="op" id="1347803">:=</span>&nbsp;<span class="keyword" id="1347806">range</span>&nbsp;<span class="ident" id="1347812"><a href="/fmt/format.go.html#1347704">s</a></span>&nbsp;<span class="op" id="1347814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1347819">if</span>&nbsp;<span class="ident" id="1347822"><a href="/fmt/format.go.html#1347783">n</a></span>&nbsp;<span class="op" id="1347824">==</span>&nbsp;<span class="num" id="1347827">0</span>&nbsp;<span class="op" id="1347829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347835"><a href="/fmt/format.go.html#1347704">s</a></span>&nbsp;<span class="op" id="1347837">=</span>&nbsp;<span class="ident" id="1347839"><a href="/fmt/format.go.html#1347704">s</a></span><span class="op" id="1347840">[</span><span class="op" id="1347841">:</span><span class="ident" id="1347842"><a href="/fmt/format.go.html#1347801">i</a></span><span class="op" id="1347843">]</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1347849">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1347858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347863"><a href="/fmt/format.go.html#1347783">n</a></span><span class="op" id="1347864">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1347869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1347872">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1347875">return</span>&nbsp;<span class="ident" id="1347882"><a href="/fmt/format.go.html#1347704">s</a></span><br>
<span class="lineno"></span><span class="op" id="1347884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1347887">//&nbsp;fmt_s&nbsp;formats&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1347914">func</span>&nbsp;<span class="op" id="1347919">(</span><span class="ident" id="1347920">f</span>&nbsp;<span class="op" id="1347922">*</span><span class="ident" id="1347923"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1347926">)</span>&nbsp;<span class="ident" id="1347928">fmt_s</span><span class="op" id="1347933">(</span><span class="ident" id="1347934">s</span>&nbsp;<span class="builtintype" id="1347936">string</span><span class="op" id="1347942">)</span>&nbsp;<span class="op" id="1347944">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347947"><a href="/fmt/format.go.html#1347934">s</a></span>&nbsp;<span class="op" id="1347949">=</span>&nbsp;<span class="ident" id="1347951"><a href="/fmt/format.go.html#1347920">f</a></span><span class="op" id="1347952">.</span><span class="ident" id="1347953">truncate</span><span class="op" id="1347961">(</span><span class="ident" id="1347962"><a href="/fmt/format.go.html#1347934">s</a></span><span class="op" id="1347963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1347966"><a href="/fmt/format.go.html#1347920">f</a></span><span class="op" id="1347967">.</span><span class="ident" id="1347968">padString</span><span class="op" id="1347977">(</span><span class="ident" id="1347978"><a href="/fmt/format.go.html#1347934">s</a></span><span class="op" id="1347979">)</span><br>
<span class="lineno"></span><span class="op" id="1347981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1347984">//&nbsp;fmt_sbx&nbsp;formats&nbsp;a&nbsp;string&nbsp;or&nbsp;byte&nbsp;slice&nbsp;as&nbsp;a&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;its&nbsp;bytes.</span><br>
<span class="lineno">315</span><span class="keyword" id="1348066">func</span>&nbsp;<span class="op" id="1348071">(</span><span class="ident" id="1348072">f</span>&nbsp;<span class="op" id="1348074">*</span><span class="ident" id="1348075"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1348078">)</span>&nbsp;<span class="ident" id="1348080">fmt_sbx</span><span class="op" id="1348087">(</span><span class="ident" id="1348088">s</span>&nbsp;<span class="builtintype" id="1348090">string</span><span class="op" id="1348096">,</span>&nbsp;<span class="ident" id="1348098">b</span>&nbsp;<span class="op" id="1348100">[</span><span class="op" id="1348101">]</span><span class="builtintype" id="1348102">byte</span><span class="op" id="1348106">,</span>&nbsp;<span class="ident" id="1348108">digits</span>&nbsp;<span class="builtintype" id="1348115">string</span><span class="op" id="1348121">)</span>&nbsp;<span class="op" id="1348123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348126">n</span>&nbsp;<span class="op" id="1348128">:=</span>&nbsp;<span class="builtinfunc" id="1348131">len</span><span class="op" id="1348134">(</span><span class="ident" id="1348135"><a href="/fmt/format.go.html#1348098">b</a></span><span class="op" id="1348136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1348139">if</span>&nbsp;<span class="ident" id="1348142"><a href="/fmt/format.go.html#1348098">b</a></span>&nbsp;<span class="op" id="1348144">==</span>&nbsp;<span class="ident" id="1348147">nil</span>&nbsp;<span class="op" id="1348151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348155"><a href="/fmt/format.go.html#1348126">n</a></span>&nbsp;<span class="op" id="1348157">=</span>&nbsp;<span class="builtinfunc" id="1348159">len</span><span class="op" id="1348162">(</span><span class="ident" id="1348163"><a href="/fmt/format.go.html#1348088">s</a></span><span class="op" id="1348164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1348167">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348170">x</span>&nbsp;<span class="op" id="1348172">:=</span>&nbsp;<span class="ident" id="1348175"><a href="/fmt/format.go.html#1348108">digits</a></span><span class="op" id="1348181">[</span><span class="num" id="1348182">10</span><span class="op" id="1348184">]</span>&nbsp;<span class="op" id="1348186">-</span>&nbsp;<span class="string" id="1348188">&#39;a&#39;</span>&nbsp;<span class="op" id="1348192">+</span>&nbsp;<span class="string" id="1348194">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1348199">//&nbsp;TODO:&nbsp;Avoid&nbsp;buffer&nbsp;by&nbsp;pre-padding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1348238">var</span>&nbsp;<span class="ident" id="1348242">buf</span>&nbsp;<span class="op" id="1348246">[</span><span class="op" id="1348247">]</span><span class="builtintype" id="1348248">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1348254">for</span>&nbsp;<span class="ident" id="1348258">i</span>&nbsp;<span class="op" id="1348260">:=</span>&nbsp;<span class="num" id="1348263">0</span><span class="op" id="1348264">;</span>&nbsp;<span class="ident" id="1348266"><a href="/fmt/format.go.html#1348258">i</a></span>&nbsp;<span class="op" id="1348268">&lt;</span>&nbsp;<span class="ident" id="1348270"><a href="/fmt/format.go.html#1348126">n</a></span><span class="op" id="1348271">;</span>&nbsp;<span class="ident" id="1348273"><a href="/fmt/format.go.html#1348258">i</a></span><span class="op" id="1348274">++</span>&nbsp;<span class="op" id="1348277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1348281">if</span>&nbsp;<span class="ident" id="1348284"><a href="/fmt/format.go.html#1348258">i</a></span>&nbsp;<span class="op" id="1348286">&gt;</span>&nbsp;<span class="num" id="1348288">0</span>&nbsp;<span class="op" id="1348290">&amp;&amp;</span>&nbsp;<span class="ident" id="1348293"><a href="/fmt/format.go.html#1348072">f</a></span><span class="op" id="1348294">.</span><span class="ident" id="1348295">space</span>&nbsp;<span class="op" id="1348301">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348306"><a href="/fmt/format.go.html#1348242">buf</a></span>&nbsp;<span class="op" id="1348310">=</span>&nbsp;<span class="builtinfunc" id="1348312">append</span><span class="op" id="1348318">(</span><span class="ident" id="1348319"><a href="/fmt/format.go.html#1348242">buf</a></span><span class="op" id="1348322">,</span>&nbsp;<span class="string" id="1348324">&#39;&nbsp;&#39;</span><span class="op" id="1348327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1348331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1348335">if</span>&nbsp;<span class="ident" id="1348338"><a href="/fmt/format.go.html#1348072">f</a></span><span class="op" id="1348339">.</span><span class="ident" id="1348340">sharp</span>&nbsp;<span class="op" id="1348346">&amp;&amp;</span>&nbsp;<span class="op" id="1348349">(</span><span class="ident" id="1348350"><a href="/fmt/format.go.html#1348072">f</a></span><span class="op" id="1348351">.</span><span class="ident" id="1348352">space</span>&nbsp;<span class="op" id="1348358">||</span>&nbsp;<span class="ident" id="1348361"><a href="/fmt/format.go.html#1348258">i</a></span>&nbsp;<span class="op" id="1348363">==</span>&nbsp;<span class="num" id="1348366">0</span><span class="op" id="1348367">)</span>&nbsp;<span class="op" id="1348369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348374"><a href="/fmt/format.go.html#1348242">buf</a></span>&nbsp;<span class="op" id="1348378">=</span>&nbsp;<span class="builtinfunc" id="1348380">append</span><span class="op" id="1348386">(</span><span class="ident" id="1348387"><a href="/fmt/format.go.html#1348242">buf</a></span><span class="op" id="1348390">,</span>&nbsp;<span class="string" id="1348392">&#39;0&#39;</span><span class="op" id="1348395">,</span>&nbsp;<span class="ident" id="1348397"><a href="/fmt/format.go.html#1348170">x</a></span><span class="op" id="1348398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1348402">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1348406">var</span>&nbsp;<span class="ident" id="1348410">c</span>&nbsp;<span class="builtintype" id="1348412">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1348419">if</span>&nbsp;<span class="ident" id="1348422"><a href="/fmt/format.go.html#1348098">b</a></span>&nbsp;<span class="op" id="1348424">==</span>&nbsp;<span class="ident" id="1348427">nil</span>&nbsp;<span class="op" id="1348431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348436"><a href="/fmt/format.go.html#1348410">c</a></span>&nbsp;<span class="op" id="1348438">=</span>&nbsp;<span class="ident" id="1348440"><a href="/fmt/format.go.html#1348088">s</a></span><span class="op" id="1348441">[</span><span class="ident" id="1348442"><a href="/fmt/format.go.html#1348258">i</a></span><span class="op" id="1348443">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1348447">}</span>&nbsp;<span class="keyword" id="1348449">else</span>&nbsp;<span class="op" id="1348454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348459"><a href="/fmt/format.go.html#1348410">c</a></span>&nbsp;<span class="op" id="1348461">=</span>&nbsp;<span class="ident" id="1348463"><a href="/fmt/format.go.html#1348098">b</a></span><span class="op" id="1348464">[</span><span class="ident" id="1348465"><a href="/fmt/format.go.html#1348258">i</a></span><span class="op" id="1348466">]</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1348470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348474"><a href="/fmt/format.go.html#1348242">buf</a></span>&nbsp;<span class="op" id="1348478">=</span>&nbsp;<span class="builtinfunc" id="1348480">append</span><span class="op" id="1348486">(</span><span class="ident" id="1348487"><a href="/fmt/format.go.html#1348242">buf</a></span><span class="op" id="1348490">,</span>&nbsp;<span class="ident" id="1348492"><a href="/fmt/format.go.html#1348108">digits</a></span><span class="op" id="1348498">[</span><span class="ident" id="1348499"><a href="/fmt/format.go.html#1348410">c</a></span><span class="op" id="1348500">&gt;&gt;</span><span class="num" id="1348502">4</span><span class="op" id="1348503">]</span><span class="op" id="1348504">,</span>&nbsp;<span class="ident" id="1348506"><a href="/fmt/format.go.html#1348108">digits</a></span><span class="op" id="1348512">[</span><span class="ident" id="1348513"><a href="/fmt/format.go.html#1348410">c</a></span><span class="op" id="1348514">&amp;</span><span class="num" id="1348515">0xF</span><span class="op" id="1348518">]</span><span class="op" id="1348519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1348522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348525"><a href="/fmt/format.go.html#1348072">f</a></span><span class="op" id="1348526">.</span><span class="ident" id="1348527">pad</span><span class="op" id="1348530">(</span><span class="ident" id="1348531"><a href="/fmt/format.go.html#1348242">buf</a></span><span class="op" id="1348534">)</span><br>
<span class="lineno"></span><span class="op" id="1348536">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="1348539">//&nbsp;fmt_sx&nbsp;formats&nbsp;a&nbsp;string&nbsp;as&nbsp;a&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;its&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="1348606">func</span>&nbsp;<span class="op" id="1348611">(</span><span class="ident" id="1348612">f</span>&nbsp;<span class="op" id="1348614">*</span><span class="ident" id="1348615"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1348618">)</span>&nbsp;<span class="ident" id="1348620">fmt_sx</span><span class="op" id="1348626">(</span><span class="ident" id="1348627">s</span><span class="op" id="1348628">,</span>&nbsp;<span class="ident" id="1348630">digits</span>&nbsp;<span class="builtintype" id="1348637">string</span><span class="op" id="1348643">)</span>&nbsp;<span class="op" id="1348645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1348648">if</span>&nbsp;<span class="ident" id="1348651"><a href="/fmt/format.go.html#1348612">f</a></span><span class="op" id="1348652">.</span><span class="ident" id="1348653">precPresent</span>&nbsp;<span class="op" id="1348665">&amp;&amp;</span>&nbsp;<span class="ident" id="1348668"><a href="/fmt/format.go.html#1348612">f</a></span><span class="op" id="1348669">.</span><span class="ident" id="1348670">prec</span>&nbsp;<span class="op" id="1348675">&lt;</span>&nbsp;<span class="builtinfunc" id="1348677">len</span><span class="op" id="1348680">(</span><span class="ident" id="1348681"><a href="/fmt/format.go.html#1348627">s</a></span><span class="op" id="1348682">)</span>&nbsp;<span class="op" id="1348684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348688"><a href="/fmt/format.go.html#1348627">s</a></span>&nbsp;<span class="op" id="1348690">=</span>&nbsp;<span class="ident" id="1348692"><a href="/fmt/format.go.html#1348627">s</a></span><span class="op" id="1348693">[</span><span class="op" id="1348694">:</span><span class="ident" id="1348695"><a href="/fmt/format.go.html#1348612">f</a></span><span class="op" id="1348696">.</span><span class="ident" id="1348697">prec</span><span class="op" id="1348701">]</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1348704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348707"><a href="/fmt/format.go.html#1348612">f</a></span><span class="op" id="1348708">.</span><span class="ident" id="1348709">fmt_sbx</span><span class="op" id="1348716">(</span><span class="ident" id="1348717"><a href="/fmt/format.go.html#1348627">s</a></span><span class="op" id="1348718">,</span>&nbsp;<span class="ident" id="1348720">nil</span><span class="op" id="1348723">,</span>&nbsp;<span class="ident" id="1348725"><a href="/fmt/format.go.html#1348630">digits</a></span><span class="op" id="1348731">)</span><br>
<span class="lineno"></span><span class="op" id="1348733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1348736">//&nbsp;fmt_bx&nbsp;formats&nbsp;a&nbsp;byte&nbsp;slice&nbsp;as&nbsp;a&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;its&nbsp;bytes.</span><br>
<span class="lineno">350</span><span class="keyword" id="1348807">func</span>&nbsp;<span class="op" id="1348812">(</span><span class="ident" id="1348813">f</span>&nbsp;<span class="op" id="1348815">*</span><span class="ident" id="1348816"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1348819">)</span>&nbsp;<span class="ident" id="1348821">fmt_bx</span><span class="op" id="1348827">(</span><span class="ident" id="1348828">b</span>&nbsp;<span class="op" id="1348830">[</span><span class="op" id="1348831">]</span><span class="builtintype" id="1348832">byte</span><span class="op" id="1348836">,</span>&nbsp;<span class="ident" id="1348838">digits</span>&nbsp;<span class="builtintype" id="1348845">string</span><span class="op" id="1348851">)</span>&nbsp;<span class="op" id="1348853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1348856">if</span>&nbsp;<span class="ident" id="1348859"><a href="/fmt/format.go.html#1348813">f</a></span><span class="op" id="1348860">.</span><span class="ident" id="1348861">precPresent</span>&nbsp;<span class="op" id="1348873">&amp;&amp;</span>&nbsp;<span class="ident" id="1348876"><a href="/fmt/format.go.html#1348813">f</a></span><span class="op" id="1348877">.</span><span class="ident" id="1348878">prec</span>&nbsp;<span class="op" id="1348883">&lt;</span>&nbsp;<span class="builtinfunc" id="1348885">len</span><span class="op" id="1348888">(</span><span class="ident" id="1348889"><a href="/fmt/format.go.html#1348828">b</a></span><span class="op" id="1348890">)</span>&nbsp;<span class="op" id="1348892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348896"><a href="/fmt/format.go.html#1348828">b</a></span>&nbsp;<span class="op" id="1348898">=</span>&nbsp;<span class="ident" id="1348900"><a href="/fmt/format.go.html#1348828">b</a></span><span class="op" id="1348901">[</span><span class="op" id="1348902">:</span><span class="ident" id="1348903"><a href="/fmt/format.go.html#1348813">f</a></span><span class="op" id="1348904">.</span><span class="ident" id="1348905">prec</span><span class="op" id="1348909">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1348912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1348915"><a href="/fmt/format.go.html#1348813">f</a></span><span class="op" id="1348916">.</span><span class="ident" id="1348917">fmt_sbx</span><span class="op" id="1348924">(</span><span class="string" id="1348925">&#34;&#34;</span><span class="op" id="1348927">,</span>&nbsp;<span class="ident" id="1348929"><a href="/fmt/format.go.html#1348828">b</a></span><span class="op" id="1348930">,</span>&nbsp;<span class="ident" id="1348932"><a href="/fmt/format.go.html#1348838">digits</a></span><span class="op" id="1348938">)</span><br>
<span class="lineno">355</span><span class="op" id="1348940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1348943">//&nbsp;fmt_q&nbsp;formats&nbsp;a&nbsp;string&nbsp;as&nbsp;a&nbsp;double-quoted,&nbsp;escaped&nbsp;Go&nbsp;string&nbsp;constant.</span><br>
<span class="lineno"></span><span class="keyword" id="1349017">func</span>&nbsp;<span class="op" id="1349022">(</span><span class="ident" id="1349023">f</span>&nbsp;<span class="op" id="1349025">*</span><span class="ident" id="1349026"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1349029">)</span>&nbsp;<span class="ident" id="1349031">fmt_q</span><span class="op" id="1349036">(</span><span class="ident" id="1349037">s</span>&nbsp;<span class="builtintype" id="1349039">string</span><span class="op" id="1349045">)</span>&nbsp;<span class="op" id="1349047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1349050"><a href="/fmt/format.go.html#1349037">s</a></span>&nbsp;<span class="op" id="1349052">=</span>&nbsp;<span class="ident" id="1349054"><a href="/fmt/format.go.html#1349023">f</a></span><span class="op" id="1349055">.</span><span class="ident" id="1349056">truncate</span><span class="op" id="1349064">(</span><span class="ident" id="1349065"><a href="/fmt/format.go.html#1349037">s</a></span><span class="op" id="1349066">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1349069">var</span>&nbsp;<span class="ident" id="1349073">quoted</span>&nbsp;<span class="builtintype" id="1349080">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1349088">if</span>&nbsp;<span class="ident" id="1349091"><a href="/fmt/format.go.html#1349023">f</a></span><span class="op" id="1349092">.</span><span class="ident" id="1349093">sharp</span>&nbsp;<span class="op" id="1349099">&amp;&amp;</span>&nbsp;<span class="ident" id="1349102"><a href="/fmt/format.go.html#1341994">strconv</a></span><span class="op" id="1349109">.</span><span class="ident" id="1349110">CanBackquote</span><span class="op" id="1349122">(</span><span class="ident" id="1349123"><a href="/fmt/format.go.html#1349037">s</a></span><span class="op" id="1349124">)</span>&nbsp;<span class="op" id="1349126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1349130"><a href="/fmt/format.go.html#1349073">quoted</a></span>&nbsp;<span class="op" id="1349137">=</span>&nbsp;<span class="string" id="1349139">&#34;`&#34;</span>&nbsp;<span class="op" id="1349143">+</span>&nbsp;<span class="ident" id="1349145"><a href="/fmt/format.go.html#1349037">s</a></span>&nbsp;<span class="op" id="1349147">+</span>&nbsp;<span class="string" id="1349149">&#34;`&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1349154">}</span>&nbsp;<span class="keyword" id="1349156">else</span>&nbsp;<span class="op" id="1349161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1349165">if</span>&nbsp;<span class="ident" id="1349168"><a href="/fmt/format.go.html#1349023">f</a></span><span class="op" id="1349169">.</span><span class="ident" id="1349170">plus</span>&nbsp;<span class="op" id="1349175">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1349180"><a href="/fmt/format.go.html#1349073">quoted</a></span>&nbsp;<span class="op" id="1349187">=</span>&nbsp;<span class="ident" id="1349189"><a href="/fmt/format.go.html#1341994">strconv</a></span><span class="op" id="1349196">.</span><span class="ident" id="1349197">QuoteToASCII</span><span class="op" id="1349209">(</span><span class="ident" id="1349210"><a href="/fmt/format.go.html#1349037">s</a></span><span class="op" id="1349211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1349215">}</span>&nbsp;<span class="keyword" id="1349217">else</span>&nbsp;<span class="op" id="1349222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1349227"><a href="/fmt/format.go.html#1349073">quoted</a></span>&nbsp;<span class="op" id="1349234">=</span>&nbsp;<span class="ident" id="1349236"><a href="/fmt/format.go.html#1341994">strconv</a></span><span class="op" id="1349243">.</span><span class="ident" id="1349244">Quote</span><span class="op" id="1349249">(</span><span class="ident" id="1349250"><a href="/fmt/format.go.html#1349037">s</a></span><span class="op" id="1349251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1349255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1349258">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1349261"><a href="/fmt/format.go.html#1349023">f</a></span><span class="op" id="1349262">.</span><span class="ident" id="1349263">padString</span><span class="op" id="1349272">(</span><span class="ident" id="1349273"><a href="/fmt/format.go.html#1349073">quoted</a></span><span class="op" id="1349279">)</span><br>
<span class="lineno"></span><span class="op" id="1349281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1349284">//&nbsp;fmt_qc&nbsp;formats&nbsp;the&nbsp;integer&nbsp;as&nbsp;a&nbsp;single-quoted,&nbsp;escaped&nbsp;Go&nbsp;character&nbsp;constant.</span><br>
<span class="lineno"></span><span class="comment" id="1349365">//&nbsp;If&nbsp;the&nbsp;character&nbsp;is&nbsp;not&nbsp;valid&nbsp;Unicode,&nbsp;it&nbsp;will&nbsp;print&nbsp;&#39;\ufffd&#39;.</span><br>
<span class="lineno">375</span><span class="keyword" id="1349431">func</span>&nbsp;<span class="op" id="1349436">(</span><span class="ident" id="1349437">f</span>&nbsp;<span class="op" id="1349439">*</span><span class="ident" id="1349440"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1349443">)</span>&nbsp;<span class="ident" id="1349445">fmt_qc</span><span class="op" id="1349451">(</span><span class="ident" id="1349452">c</span>&nbsp;<span class="ident" id="1349454">int64</span><span class="op" id="1349459">)</span>&nbsp;<span class="op" id="1349461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1349464">var</span>&nbsp;<span class="ident" id="1349468">quoted</span>&nbsp;<span class="op" id="1349475">[</span><span class="op" id="1349476">]</span><span class="builtintype" id="1349477">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1349483">if</span>&nbsp;<span class="ident" id="1349486"><a href="/fmt/format.go.html#1349437">f</a></span><span class="op" id="1349487">.</span><span class="ident" id="1349488">plus</span>&nbsp;<span class="op" id="1349493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1349497"><a href="/fmt/format.go.html#1349468">quoted</a></span>&nbsp;<span class="op" id="1349504">=</span>&nbsp;<span class="ident" id="1349506"><a href="/fmt/format.go.html#1341994">strconv</a></span><span class="op" id="1349513">.</span><span class="ident" id="1349514">AppendQuoteRuneToASCII</span><span class="op" id="1349536">(</span><span class="ident" id="1349537"><a href="/fmt/format.go.html#1349437">f</a></span><span class="op" id="1349538">.</span><span class="ident" id="1349539">intbuf</span><span class="op" id="1349545">[</span><span class="num" id="1349546">0</span><span class="op" id="1349547">:</span><span class="num" id="1349548">0</span><span class="op" id="1349549">]</span><span class="op" id="1349550">,</span>&nbsp;<span class="builtintype" id="1349552">rune</span><span class="op" id="1349556">(</span><span class="ident" id="1349557"><a href="/fmt/format.go.html#1349452">c</a></span><span class="op" id="1349558">)</span><span class="op" id="1349559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1349562">}</span>&nbsp;<span class="keyword" id="1349564">else</span>&nbsp;<span class="op" id="1349569">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1349573"><a href="/fmt/format.go.html#1349468">quoted</a></span>&nbsp;<span class="op" id="1349580">=</span>&nbsp;<span class="ident" id="1349582"><a href="/fmt/format.go.html#1341994">strconv</a></span><span class="op" id="1349589">.</span><span class="ident" id="1349590">AppendQuoteRune</span><span class="op" id="1349605">(</span><span class="ident" id="1349606"><a href="/fmt/format.go.html#1349437">f</a></span><span class="op" id="1349607">.</span><span class="ident" id="1349608">intbuf</span><span class="op" id="1349614">[</span><span class="num" id="1349615">0</span><span class="op" id="1349616">:</span><span class="num" id="1349617">0</span><span class="op" id="1349618">]</span><span class="op" id="1349619">,</span>&nbsp;<span class="builtintype" id="1349621">rune</span><span class="op" id="1349625">(</span><span class="ident" id="1349626"><a href="/fmt/format.go.html#1349452">c</a></span><span class="op" id="1349627">)</span><span class="op" id="1349628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1349631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1349634"><a href="/fmt/format.go.html#1349437">f</a></span><span class="op" id="1349635">.</span><span class="ident" id="1349636">pad</span><span class="op" id="1349639">(</span><span class="ident" id="1349640"><a href="/fmt/format.go.html#1349468">quoted</a></span><span class="op" id="1349646">)</span><br>
<span class="lineno"></span><span class="op" id="1349648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span><span class="comment" id="1349651">//&nbsp;floating-point</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1349670">func</span>&nbsp;<span class="ident" id="1349675">doPrec</span><span class="op" id="1349681">(</span><span class="ident" id="1349682">f</span>&nbsp;<span class="op" id="1349684">*</span><span class="ident" id="1349685"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1349688">,</span>&nbsp;<span class="ident" id="1349690">def</span>&nbsp;<span class="builtintype" id="1349694">int</span><span class="op" id="1349697">)</span>&nbsp;<span class="builtintype" id="1349699">int</span>&nbsp;<span class="op" id="1349703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1349706">if</span>&nbsp;<span class="ident" id="1349709"><a href="/fmt/format.go.html#1349682">f</a></span><span class="op" id="1349710">.</span><span class="ident" id="1349711">precPresent</span>&nbsp;<span class="op" id="1349723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1349727">return</span>&nbsp;<span class="ident" id="1349734"><a href="/fmt/format.go.html#1349682">f</a></span><span class="op" id="1349735">.</span><span class="ident" id="1349736">prec</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1349742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1349745">return</span>&nbsp;<span class="ident" id="1349752"><a href="/fmt/format.go.html#1349690">def</a></span><br>
<span class="lineno"></span><span class="op" id="1349756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1349759">//&nbsp;formatFloat&nbsp;formats&nbsp;a&nbsp;float64;&nbsp;it&nbsp;is&nbsp;an&nbsp;efficient&nbsp;equivalent&nbsp;to&nbsp;&nbsp;f.pad(strconv.FormatFloat()...).</span><br>
<span class="lineno">395</span><span class="keyword" id="1349860">func</span>&nbsp;<span class="op" id="1349865">(</span><span class="ident" id="1349866">f</span>&nbsp;<span class="op" id="1349868">*</span><span class="ident" id="1349869"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1349872">)</span>&nbsp;<span class="ident" id="1349874">formatFloat</span><span class="op" id="1349885">(</span><span class="ident" id="1349886">v</span>&nbsp;<span class="builtintype" id="1349888">float64</span><span class="op" id="1349895">,</span>&nbsp;<span class="ident" id="1349897">verb</span>&nbsp;<span class="builtintype" id="1349902">byte</span><span class="op" id="1349906">,</span>&nbsp;<span class="ident" id="1349908">prec</span><span class="op" id="1349912">,</span>&nbsp;<span class="ident" id="1349914">n</span>&nbsp;<span class="builtintype" id="1349916">int</span><span class="op" id="1349919">)</span>&nbsp;<span class="op" id="1349921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1349924">//&nbsp;Format&nbsp;number,&nbsp;reserving&nbsp;space&nbsp;for&nbsp;leading&nbsp;+&nbsp;sign&nbsp;if&nbsp;needed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1349989">num</span>&nbsp;<span class="op" id="1349993">:=</span>&nbsp;<span class="ident" id="1349996"><a href="/fmt/format.go.html#1341994">strconv</a></span><span class="op" id="1350003">.</span><span class="ident" id="1350004">AppendFloat</span><span class="op" id="1350015">(</span><span class="ident" id="1350016"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350017">.</span><span class="ident" id="1350018">intbuf</span><span class="op" id="1350024">[</span><span class="num" id="1350025">0</span><span class="op" id="1350026">:</span><span class="num" id="1350027">1</span><span class="op" id="1350028">]</span><span class="op" id="1350029">,</span>&nbsp;<span class="ident" id="1350031"><a href="/fmt/format.go.html#1349886">v</a></span><span class="op" id="1350032">,</span>&nbsp;<span class="ident" id="1350034"><a href="/fmt/format.go.html#1349897">verb</a></span><span class="op" id="1350038">,</span>&nbsp;<span class="ident" id="1350040"><a href="/fmt/format.go.html#1349908">prec</a></span><span class="op" id="1350044">,</span>&nbsp;<span class="ident" id="1350046"><a href="/fmt/format.go.html#1349914">n</a></span><span class="op" id="1350047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1350050">if</span>&nbsp;<span class="ident" id="1350053"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350056">[</span><span class="num" id="1350057">1</span><span class="op" id="1350058">]</span>&nbsp;<span class="op" id="1350060">==</span>&nbsp;<span class="string" id="1350063">&#39;-&#39;</span>&nbsp;<span class="op" id="1350067">||</span>&nbsp;<span class="ident" id="1350070"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350073">[</span><span class="num" id="1350074">1</span><span class="op" id="1350075">]</span>&nbsp;<span class="op" id="1350077">==</span>&nbsp;<span class="string" id="1350080">&#39;+&#39;</span>&nbsp;<span class="op" id="1350084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350088"><a href="/fmt/format.go.html#1349989">num</a></span>&nbsp;<span class="op" id="1350092">=</span>&nbsp;<span class="ident" id="1350094"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350097">[</span><span class="num" id="1350098">1</span><span class="op" id="1350099">:</span><span class="op" id="1350100">]</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1350103">}</span>&nbsp;<span class="keyword" id="1350105">else</span>&nbsp;<span class="op" id="1350110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350114"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350117">[</span><span class="num" id="1350118">0</span><span class="op" id="1350119">]</span>&nbsp;<span class="op" id="1350121">=</span>&nbsp;<span class="string" id="1350123">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1350128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1350131">//&nbsp;Special&nbsp;handling&nbsp;for&nbsp;infinity,&nbsp;which&nbsp;doesn&#39;t&nbsp;look&nbsp;like&nbsp;a&nbsp;number&nbsp;so&nbsp;shouldn&#39;t&nbsp;be&nbsp;padded&nbsp;with&nbsp;zeros.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1350234">if</span>&nbsp;<span class="ident" id="1350237"><a href="/fmt/format.go.html#1341986">math</a></span><span class="op" id="1350241">.</span><span class="ident" id="1350242">IsInf</span><span class="op" id="1350247">(</span><span class="ident" id="1350248"><a href="/fmt/format.go.html#1349886">v</a></span><span class="op" id="1350249">,</span>&nbsp;<span class="num" id="1350251">0</span><span class="op" id="1350252">)</span>&nbsp;<span class="op" id="1350254">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1350258">if</span>&nbsp;<span class="ident" id="1350261"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350262">.</span><span class="ident" id="1350263">zero</span>&nbsp;<span class="op" id="1350268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1350273">defer</span>&nbsp;<span class="keyword" id="1350279">func</span><span class="op" id="1350283">(</span><span class="op" id="1350284">)</span>&nbsp;<span class="op" id="1350286">{</span>&nbsp;<span class="ident" id="1350288"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350289">.</span><span class="ident" id="1350290">zero</span>&nbsp;<span class="op" id="1350295">=</span>&nbsp;<span class="ident" id="1350297">true</span>&nbsp;<span class="op" id="1350302">}</span><span class="op" id="1350303">(</span><span class="op" id="1350304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350309"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350310">.</span><span class="ident" id="1350311">zero</span>&nbsp;<span class="op" id="1350316">=</span>&nbsp;<span class="ident" id="1350318">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1350326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1350329">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1350332">//&nbsp;num&nbsp;is&nbsp;now&nbsp;a&nbsp;signed&nbsp;version&nbsp;of&nbsp;the&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1350379">//&nbsp;If&nbsp;we&#39;re&nbsp;zero&nbsp;padding,&nbsp;want&nbsp;the&nbsp;sign&nbsp;before&nbsp;the&nbsp;leading&nbsp;zeros.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1350446">//&nbsp;Achieve&nbsp;this&nbsp;by&nbsp;writing&nbsp;the&nbsp;sign&nbsp;out&nbsp;and&nbsp;then&nbsp;padding&nbsp;the&nbsp;unsigned&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1350525">if</span>&nbsp;<span class="ident" id="1350528"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350529">.</span><span class="ident" id="1350530">zero</span>&nbsp;<span class="op" id="1350535">&amp;&amp;</span>&nbsp;<span class="ident" id="1350538"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350539">.</span><span class="ident" id="1350540">widPresent</span>&nbsp;<span class="op" id="1350551">&amp;&amp;</span>&nbsp;<span class="ident" id="1350554"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350555">.</span><span class="ident" id="1350556">wid</span>&nbsp;<span class="op" id="1350560">&gt;</span>&nbsp;<span class="builtinfunc" id="1350562">len</span><span class="op" id="1350565">(</span><span class="ident" id="1350566"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350569">)</span>&nbsp;<span class="op" id="1350571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1350575">if</span>&nbsp;<span class="ident" id="1350578"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350579">.</span><span class="ident" id="1350580">space</span>&nbsp;<span class="op" id="1350586">&amp;&amp;</span>&nbsp;<span class="ident" id="1350589"><a href="/fmt/format.go.html#1349886">v</a></span>&nbsp;<span class="op" id="1350591">&gt;=</span>&nbsp;<span class="num" id="1350594">0</span>&nbsp;<span class="op" id="1350596">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350601"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350602">.</span><span class="ident" id="1350603">buf</span><span class="op" id="1350606">.</span><span class="ident" id="1350607">WriteByte</span><span class="op" id="1350616">(</span><span class="string" id="1350617">&#39;&nbsp;&#39;</span><span class="op" id="1350620">)</span>&nbsp;<span class="comment" id="1350622">//&nbsp;This&nbsp;is&nbsp;what&nbsp;C&nbsp;does:&nbsp;even&nbsp;with&nbsp;zero,&nbsp;f.space&nbsp;means&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350686"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350687">.</span><span class="ident" id="1350688">wid</span><span class="op" id="1350691">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1350696">}</span>&nbsp;<span class="keyword" id="1350698">else</span>&nbsp;<span class="keyword" id="1350703">if</span>&nbsp;<span class="ident" id="1350706"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350707">.</span><span class="ident" id="1350708">plus</span>&nbsp;<span class="op" id="1350713">||</span>&nbsp;<span class="ident" id="1350716"><a href="/fmt/format.go.html#1349886">v</a></span>&nbsp;<span class="op" id="1350718">&lt;</span>&nbsp;<span class="num" id="1350720">0</span>&nbsp;<span class="op" id="1350722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350727"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350728">.</span><span class="ident" id="1350729">buf</span><span class="op" id="1350732">.</span><span class="ident" id="1350733">WriteByte</span><span class="op" id="1350742">(</span><span class="ident" id="1350743"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350746">[</span><span class="num" id="1350747">0</span><span class="op" id="1350748">]</span><span class="op" id="1350749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350754"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350755">.</span><span class="ident" id="1350756">wid</span><span class="op" id="1350759">--</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1350764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350768"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350769">.</span><span class="ident" id="1350770">pad</span><span class="op" id="1350773">(</span><span class="ident" id="1350774"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350777">[</span><span class="num" id="1350778">1</span><span class="op" id="1350779">:</span><span class="op" id="1350780">]</span><span class="op" id="1350781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1350785">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1350793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1350796">//&nbsp;f.space&nbsp;says&nbsp;to&nbsp;replace&nbsp;a&nbsp;leading&nbsp;+&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1350850">if</span>&nbsp;<span class="ident" id="1350853"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350854">.</span><span class="ident" id="1350855">space</span>&nbsp;<span class="op" id="1350861">&amp;&amp;</span>&nbsp;<span class="ident" id="1350864"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350867">[</span><span class="num" id="1350868">0</span><span class="op" id="1350869">]</span>&nbsp;<span class="op" id="1350871">==</span>&nbsp;<span class="string" id="1350874">&#39;+&#39;</span>&nbsp;<span class="op" id="1350878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350882"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350885">[</span><span class="num" id="1350886">0</span><span class="op" id="1350887">]</span>&nbsp;<span class="op" id="1350889">=</span>&nbsp;<span class="string" id="1350891">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1350897"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1350898">.</span><span class="ident" id="1350899">pad</span><span class="op" id="1350902">(</span><span class="ident" id="1350903"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1350906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1350910">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1350918">}</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1350921">//&nbsp;Now&nbsp;we&nbsp;know&nbsp;the&nbsp;sign&nbsp;is&nbsp;attached&nbsp;directly&nbsp;to&nbsp;the&nbsp;number,&nbsp;if&nbsp;present&nbsp;at&nbsp;all.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1351001">//&nbsp;We&nbsp;want&nbsp;a&nbsp;sign&nbsp;if&nbsp;asked&nbsp;for,&nbsp;if&nbsp;it&#39;s&nbsp;negative,&nbsp;or&nbsp;if&nbsp;it&#39;s&nbsp;infinity&nbsp;(+Inf&nbsp;vs.&nbsp;-Inf).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1351089">if</span>&nbsp;<span class="ident" id="1351092"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1351093">.</span><span class="ident" id="1351094">plus</span>&nbsp;<span class="op" id="1351099">||</span>&nbsp;<span class="ident" id="1351102"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1351105">[</span><span class="num" id="1351106">0</span><span class="op" id="1351107">]</span>&nbsp;<span class="op" id="1351109">==</span>&nbsp;<span class="string" id="1351112">&#39;-&#39;</span>&nbsp;<span class="op" id="1351116">||</span>&nbsp;<span class="ident" id="1351119"><a href="/fmt/format.go.html#1341986">math</a></span><span class="op" id="1351123">.</span><span class="ident" id="1351124">IsInf</span><span class="op" id="1351129">(</span><span class="ident" id="1351130"><a href="/fmt/format.go.html#1349886">v</a></span><span class="op" id="1351131">,</span>&nbsp;<span class="num" id="1351133">0</span><span class="op" id="1351134">)</span>&nbsp;<span class="op" id="1351136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1351140"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1351141">.</span><span class="ident" id="1351142">pad</span><span class="op" id="1351145">(</span><span class="ident" id="1351146"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1351149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1351153">return</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1351161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1351164">//&nbsp;No&nbsp;sign&nbsp;to&nbsp;show&nbsp;and&nbsp;the&nbsp;number&nbsp;is&nbsp;positive;&nbsp;just&nbsp;print&nbsp;the&nbsp;unsigned&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1351244"><a href="/fmt/format.go.html#1349866">f</a></span><span class="op" id="1351245">.</span><span class="ident" id="1351246">pad</span><span class="op" id="1351249">(</span><span class="ident" id="1351250"><a href="/fmt/format.go.html#1349989">num</a></span><span class="op" id="1351253">[</span><span class="num" id="1351254">1</span><span class="op" id="1351255">:</span><span class="op" id="1351256">]</span><span class="op" id="1351257">)</span><br>
<span class="lineno"></span><span class="op" id="1351259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span><span class="comment" id="1351262">//&nbsp;fmt_e64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23e+12.</span><br>
<span class="lineno"></span><span class="keyword" id="1351314">func</span>&nbsp;<span class="op" id="1351319">(</span><span class="ident" id="1351320">f</span>&nbsp;<span class="op" id="1351322">*</span><span class="ident" id="1351323"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1351326">)</span>&nbsp;<span class="ident" id="1351328">fmt_e64</span><span class="op" id="1351335">(</span><span class="ident" id="1351336">v</span>&nbsp;<span class="builtintype" id="1351338">float64</span><span class="op" id="1351345">)</span>&nbsp;<span class="op" id="1351347">{</span>&nbsp;<span class="ident" id="1351349"><a href="/fmt/format.go.html#1351320">f</a></span><span class="op" id="1351350">.</span><span class="ident" id="1351351">formatFloat</span><span class="op" id="1351362">(</span><span class="ident" id="1351363"><a href="/fmt/format.go.html#1351336">v</a></span><span class="op" id="1351364">,</span>&nbsp;<span class="string" id="1351366">&#39;e&#39;</span><span class="op" id="1351369">,</span>&nbsp;<span class="ident" id="1351371"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1351377">(</span><span class="ident" id="1351378"><a href="/fmt/format.go.html#1351320">f</a></span><span class="op" id="1351379">,</span>&nbsp;<span class="num" id="1351381">6</span><span class="op" id="1351382">)</span><span class="op" id="1351383">,</span>&nbsp;<span class="num" id="1351385">64</span><span class="op" id="1351387">)</span>&nbsp;<span class="op" id="1351389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1351392">//&nbsp;fmt_E64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23E+12.</span><br>
<span class="lineno"></span><span class="keyword" id="1351444">func</span>&nbsp;<span class="op" id="1351449">(</span><span class="ident" id="1351450">f</span>&nbsp;<span class="op" id="1351452">*</span><span class="ident" id="1351453"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1351456">)</span>&nbsp;<span class="ident" id="1351458">fmt_E64</span><span class="op" id="1351465">(</span><span class="ident" id="1351466">v</span>&nbsp;<span class="builtintype" id="1351468">float64</span><span class="op" id="1351475">)</span>&nbsp;<span class="op" id="1351477">{</span>&nbsp;<span class="ident" id="1351479"><a href="/fmt/format.go.html#1351450">f</a></span><span class="op" id="1351480">.</span><span class="ident" id="1351481">formatFloat</span><span class="op" id="1351492">(</span><span class="ident" id="1351493"><a href="/fmt/format.go.html#1351466">v</a></span><span class="op" id="1351494">,</span>&nbsp;<span class="string" id="1351496">&#39;E&#39;</span><span class="op" id="1351499">,</span>&nbsp;<span class="ident" id="1351501"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1351507">(</span><span class="ident" id="1351508"><a href="/fmt/format.go.html#1351450">f</a></span><span class="op" id="1351509">,</span>&nbsp;<span class="num" id="1351511">6</span><span class="op" id="1351512">)</span><span class="op" id="1351513">,</span>&nbsp;<span class="num" id="1351515">64</span><span class="op" id="1351517">)</span>&nbsp;<span class="op" id="1351519">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span><span class="comment" id="1351522">//&nbsp;fmt_f64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23.</span><br>
<span class="lineno"></span><span class="keyword" id="1351570">func</span>&nbsp;<span class="op" id="1351575">(</span><span class="ident" id="1351576">f</span>&nbsp;<span class="op" id="1351578">*</span><span class="ident" id="1351579"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1351582">)</span>&nbsp;<span class="ident" id="1351584">fmt_f64</span><span class="op" id="1351591">(</span><span class="ident" id="1351592">v</span>&nbsp;<span class="builtintype" id="1351594">float64</span><span class="op" id="1351601">)</span>&nbsp;<span class="op" id="1351603">{</span>&nbsp;<span class="ident" id="1351605"><a href="/fmt/format.go.html#1351576">f</a></span><span class="op" id="1351606">.</span><span class="ident" id="1351607">formatFloat</span><span class="op" id="1351618">(</span><span class="ident" id="1351619"><a href="/fmt/format.go.html#1351592">v</a></span><span class="op" id="1351620">,</span>&nbsp;<span class="string" id="1351622">&#39;f&#39;</span><span class="op" id="1351625">,</span>&nbsp;<span class="ident" id="1351627"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1351633">(</span><span class="ident" id="1351634"><a href="/fmt/format.go.html#1351576">f</a></span><span class="op" id="1351635">,</span>&nbsp;<span class="num" id="1351637">6</span><span class="op" id="1351638">)</span><span class="op" id="1351639">,</span>&nbsp;<span class="num" id="1351641">64</span><span class="op" id="1351643">)</span>&nbsp;<span class="op" id="1351645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1351648">//&nbsp;fmt_g64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;&#39;f&#39;&nbsp;or&nbsp;&#39;e&#39;&nbsp;form&nbsp;according&nbsp;to&nbsp;size.</span><br>
<span class="lineno">450</span><span class="keyword" id="1351719">func</span>&nbsp;<span class="op" id="1351724">(</span><span class="ident" id="1351725">f</span>&nbsp;<span class="op" id="1351727">*</span><span class="ident" id="1351728"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1351731">)</span>&nbsp;<span class="ident" id="1351733">fmt_g64</span><span class="op" id="1351740">(</span><span class="ident" id="1351741">v</span>&nbsp;<span class="builtintype" id="1351743">float64</span><span class="op" id="1351750">)</span>&nbsp;<span class="op" id="1351752">{</span>&nbsp;<span class="ident" id="1351754"><a href="/fmt/format.go.html#1351725">f</a></span><span class="op" id="1351755">.</span><span class="ident" id="1351756">formatFloat</span><span class="op" id="1351767">(</span><span class="ident" id="1351768"><a href="/fmt/format.go.html#1351741">v</a></span><span class="op" id="1351769">,</span>&nbsp;<span class="string" id="1351771">&#39;g&#39;</span><span class="op" id="1351774">,</span>&nbsp;<span class="ident" id="1351776"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1351782">(</span><span class="ident" id="1351783"><a href="/fmt/format.go.html#1351725">f</a></span><span class="op" id="1351784">,</span>&nbsp;<span class="op" id="1351786">-</span><span class="num" id="1351787">1</span><span class="op" id="1351788">)</span><span class="op" id="1351789">,</span>&nbsp;<span class="num" id="1351791">64</span><span class="op" id="1351793">)</span>&nbsp;<span class="op" id="1351795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1351798">//&nbsp;fmt_G64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;&#39;f&#39;&nbsp;or&nbsp;&#39;E&#39;&nbsp;form&nbsp;according&nbsp;to&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="1351869">func</span>&nbsp;<span class="op" id="1351874">(</span><span class="ident" id="1351875">f</span>&nbsp;<span class="op" id="1351877">*</span><span class="ident" id="1351878"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1351881">)</span>&nbsp;<span class="ident" id="1351883">fmt_G64</span><span class="op" id="1351890">(</span><span class="ident" id="1351891">v</span>&nbsp;<span class="builtintype" id="1351893">float64</span><span class="op" id="1351900">)</span>&nbsp;<span class="op" id="1351902">{</span>&nbsp;<span class="ident" id="1351904"><a href="/fmt/format.go.html#1351875">f</a></span><span class="op" id="1351905">.</span><span class="ident" id="1351906">formatFloat</span><span class="op" id="1351917">(</span><span class="ident" id="1351918"><a href="/fmt/format.go.html#1351891">v</a></span><span class="op" id="1351919">,</span>&nbsp;<span class="string" id="1351921">&#39;G&#39;</span><span class="op" id="1351924">,</span>&nbsp;<span class="ident" id="1351926"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1351932">(</span><span class="ident" id="1351933"><a href="/fmt/format.go.html#1351875">f</a></span><span class="op" id="1351934">,</span>&nbsp;<span class="op" id="1351936">-</span><span class="num" id="1351937">1</span><span class="op" id="1351938">)</span><span class="op" id="1351939">,</span>&nbsp;<span class="num" id="1351941">64</span><span class="op" id="1351943">)</span>&nbsp;<span class="op" id="1351945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="comment" id="1351948">//&nbsp;fmt_fb64&nbsp;formats&nbsp;a&nbsp;float64&nbsp;in&nbsp;the&nbsp;form&nbsp;-123p3&nbsp;(exponent&nbsp;is&nbsp;power&nbsp;of&nbsp;2).</span><br>
<span class="lineno"></span><span class="keyword" id="1352023">func</span>&nbsp;<span class="op" id="1352028">(</span><span class="ident" id="1352029">f</span>&nbsp;<span class="op" id="1352031">*</span><span class="ident" id="1352032"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1352035">)</span>&nbsp;<span class="ident" id="1352037">fmt_fb64</span><span class="op" id="1352045">(</span><span class="ident" id="1352046">v</span>&nbsp;<span class="builtintype" id="1352048">float64</span><span class="op" id="1352055">)</span>&nbsp;<span class="op" id="1352057">{</span>&nbsp;<span class="ident" id="1352059"><a href="/fmt/format.go.html#1352029">f</a></span><span class="op" id="1352060">.</span><span class="ident" id="1352061">formatFloat</span><span class="op" id="1352072">(</span><span class="ident" id="1352073"><a href="/fmt/format.go.html#1352046">v</a></span><span class="op" id="1352074">,</span>&nbsp;<span class="string" id="1352076">&#39;b&#39;</span><span class="op" id="1352079">,</span>&nbsp;<span class="num" id="1352081">0</span><span class="op" id="1352082">,</span>&nbsp;<span class="num" id="1352084">64</span><span class="op" id="1352086">)</span>&nbsp;<span class="op" id="1352088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1352091">//&nbsp;float32</span><br>
<span class="lineno"></span><span class="comment" id="1352102">//&nbsp;cannot&nbsp;defer&nbsp;to&nbsp;float64&nbsp;versions</span><br>
<span class="lineno">460</span><span class="comment" id="1352138">//&nbsp;because&nbsp;it&nbsp;will&nbsp;get&nbsp;rounding&nbsp;wrong&nbsp;in&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1352194">//&nbsp;fmt_e32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23e+12.</span><br>
<span class="lineno"></span><span class="keyword" id="1352246">func</span>&nbsp;<span class="op" id="1352251">(</span><span class="ident" id="1352252">f</span>&nbsp;<span class="op" id="1352254">*</span><span class="ident" id="1352255"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1352258">)</span>&nbsp;<span class="ident" id="1352260">fmt_e32</span><span class="op" id="1352267">(</span><span class="ident" id="1352268">v</span>&nbsp;<span class="builtintype" id="1352270">float32</span><span class="op" id="1352277">)</span>&nbsp;<span class="op" id="1352279">{</span>&nbsp;<span class="ident" id="1352281"><a href="/fmt/format.go.html#1352252">f</a></span><span class="op" id="1352282">.</span><span class="ident" id="1352283">formatFloat</span><span class="op" id="1352294">(</span><span class="builtintype" id="1352295">float64</span><span class="op" id="1352302">(</span><span class="ident" id="1352303"><a href="/fmt/format.go.html#1352268">v</a></span><span class="op" id="1352304">)</span><span class="op" id="1352305">,</span>&nbsp;<span class="string" id="1352307">&#39;e&#39;</span><span class="op" id="1352310">,</span>&nbsp;<span class="ident" id="1352312"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1352318">(</span><span class="ident" id="1352319"><a href="/fmt/format.go.html#1352252">f</a></span><span class="op" id="1352320">,</span>&nbsp;<span class="num" id="1352322">6</span><span class="op" id="1352323">)</span><span class="op" id="1352324">,</span>&nbsp;<span class="num" id="1352326">32</span><span class="op" id="1352328">)</span>&nbsp;<span class="op" id="1352330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="comment" id="1352333">//&nbsp;fmt_E32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23E+12.</span><br>
<span class="lineno"></span><span class="keyword" id="1352385">func</span>&nbsp;<span class="op" id="1352390">(</span><span class="ident" id="1352391">f</span>&nbsp;<span class="op" id="1352393">*</span><span class="ident" id="1352394"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1352397">)</span>&nbsp;<span class="ident" id="1352399">fmt_E32</span><span class="op" id="1352406">(</span><span class="ident" id="1352407">v</span>&nbsp;<span class="builtintype" id="1352409">float32</span><span class="op" id="1352416">)</span>&nbsp;<span class="op" id="1352418">{</span>&nbsp;<span class="ident" id="1352420"><a href="/fmt/format.go.html#1352391">f</a></span><span class="op" id="1352421">.</span><span class="ident" id="1352422">formatFloat</span><span class="op" id="1352433">(</span><span class="builtintype" id="1352434">float64</span><span class="op" id="1352441">(</span><span class="ident" id="1352442"><a href="/fmt/format.go.html#1352407">v</a></span><span class="op" id="1352443">)</span><span class="op" id="1352444">,</span>&nbsp;<span class="string" id="1352446">&#39;E&#39;</span><span class="op" id="1352449">,</span>&nbsp;<span class="ident" id="1352451"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1352457">(</span><span class="ident" id="1352458"><a href="/fmt/format.go.html#1352391">f</a></span><span class="op" id="1352459">,</span>&nbsp;<span class="num" id="1352461">6</span><span class="op" id="1352462">)</span><span class="op" id="1352463">,</span>&nbsp;<span class="num" id="1352465">32</span><span class="op" id="1352467">)</span>&nbsp;<span class="op" id="1352469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1352472">//&nbsp;fmt_f32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;form&nbsp;-1.23.</span><br>
<span class="lineno"></span><span class="keyword" id="1352520">func</span>&nbsp;<span class="op" id="1352525">(</span><span class="ident" id="1352526">f</span>&nbsp;<span class="op" id="1352528">*</span><span class="ident" id="1352529"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1352532">)</span>&nbsp;<span class="ident" id="1352534">fmt_f32</span><span class="op" id="1352541">(</span><span class="ident" id="1352542">v</span>&nbsp;<span class="builtintype" id="1352544">float32</span><span class="op" id="1352551">)</span>&nbsp;<span class="op" id="1352553">{</span>&nbsp;<span class="ident" id="1352555"><a href="/fmt/format.go.html#1352526">f</a></span><span class="op" id="1352556">.</span><span class="ident" id="1352557">formatFloat</span><span class="op" id="1352568">(</span><span class="builtintype" id="1352569">float64</span><span class="op" id="1352576">(</span><span class="ident" id="1352577"><a href="/fmt/format.go.html#1352542">v</a></span><span class="op" id="1352578">)</span><span class="op" id="1352579">,</span>&nbsp;<span class="string" id="1352581">&#39;f&#39;</span><span class="op" id="1352584">,</span>&nbsp;<span class="ident" id="1352586"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1352592">(</span><span class="ident" id="1352593"><a href="/fmt/format.go.html#1352526">f</a></span><span class="op" id="1352594">,</span>&nbsp;<span class="num" id="1352596">6</span><span class="op" id="1352597">)</span><span class="op" id="1352598">,</span>&nbsp;<span class="num" id="1352600">32</span><span class="op" id="1352602">)</span>&nbsp;<span class="op" id="1352604">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="1352607">//&nbsp;fmt_g32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;&#39;f&#39;&nbsp;or&nbsp;&#39;e&#39;&nbsp;form&nbsp;according&nbsp;to&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="1352678">func</span>&nbsp;<span class="op" id="1352683">(</span><span class="ident" id="1352684">f</span>&nbsp;<span class="op" id="1352686">*</span><span class="ident" id="1352687"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1352690">)</span>&nbsp;<span class="ident" id="1352692">fmt_g32</span><span class="op" id="1352699">(</span><span class="ident" id="1352700">v</span>&nbsp;<span class="builtintype" id="1352702">float32</span><span class="op" id="1352709">)</span>&nbsp;<span class="op" id="1352711">{</span>&nbsp;<span class="ident" id="1352713"><a href="/fmt/format.go.html#1352684">f</a></span><span class="op" id="1352714">.</span><span class="ident" id="1352715">formatFloat</span><span class="op" id="1352726">(</span><span class="builtintype" id="1352727">float64</span><span class="op" id="1352734">(</span><span class="ident" id="1352735"><a href="/fmt/format.go.html#1352700">v</a></span><span class="op" id="1352736">)</span><span class="op" id="1352737">,</span>&nbsp;<span class="string" id="1352739">&#39;g&#39;</span><span class="op" id="1352742">,</span>&nbsp;<span class="ident" id="1352744"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1352750">(</span><span class="ident" id="1352751"><a href="/fmt/format.go.html#1352684">f</a></span><span class="op" id="1352752">,</span>&nbsp;<span class="op" id="1352754">-</span><span class="num" id="1352755">1</span><span class="op" id="1352756">)</span><span class="op" id="1352757">,</span>&nbsp;<span class="num" id="1352759">32</span><span class="op" id="1352761">)</span>&nbsp;<span class="op" id="1352763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1352766">//&nbsp;fmt_G32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;&#39;f&#39;&nbsp;or&nbsp;&#39;E&#39;&nbsp;form&nbsp;according&nbsp;to&nbsp;size.</span><br>
<span class="lineno">475</span><span class="keyword" id="1352837">func</span>&nbsp;<span class="op" id="1352842">(</span><span class="ident" id="1352843">f</span>&nbsp;<span class="op" id="1352845">*</span><span class="ident" id="1352846"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1352849">)</span>&nbsp;<span class="ident" id="1352851">fmt_G32</span><span class="op" id="1352858">(</span><span class="ident" id="1352859">v</span>&nbsp;<span class="builtintype" id="1352861">float32</span><span class="op" id="1352868">)</span>&nbsp;<span class="op" id="1352870">{</span>&nbsp;<span class="ident" id="1352872"><a href="/fmt/format.go.html#1352843">f</a></span><span class="op" id="1352873">.</span><span class="ident" id="1352874">formatFloat</span><span class="op" id="1352885">(</span><span class="builtintype" id="1352886">float64</span><span class="op" id="1352893">(</span><span class="ident" id="1352894"><a href="/fmt/format.go.html#1352859">v</a></span><span class="op" id="1352895">)</span><span class="op" id="1352896">,</span>&nbsp;<span class="string" id="1352898">&#39;G&#39;</span><span class="op" id="1352901">,</span>&nbsp;<span class="ident" id="1352903"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1352909">(</span><span class="ident" id="1352910"><a href="/fmt/format.go.html#1352843">f</a></span><span class="op" id="1352911">,</span>&nbsp;<span class="op" id="1352913">-</span><span class="num" id="1352914">1</span><span class="op" id="1352915">)</span><span class="op" id="1352916">,</span>&nbsp;<span class="num" id="1352918">32</span><span class="op" id="1352920">)</span>&nbsp;<span class="op" id="1352922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1352925">//&nbsp;fmt_fb32&nbsp;formats&nbsp;a&nbsp;float32&nbsp;in&nbsp;the&nbsp;form&nbsp;-123p3&nbsp;(exponent&nbsp;is&nbsp;power&nbsp;of&nbsp;2).</span><br>
<span class="lineno"></span><span class="keyword" id="1353000">func</span>&nbsp;<span class="op" id="1353005">(</span><span class="ident" id="1353006">f</span>&nbsp;<span class="op" id="1353008">*</span><span class="ident" id="1353009"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1353012">)</span>&nbsp;<span class="ident" id="1353014">fmt_fb32</span><span class="op" id="1353022">(</span><span class="ident" id="1353023">v</span>&nbsp;<span class="builtintype" id="1353025">float32</span><span class="op" id="1353032">)</span>&nbsp;<span class="op" id="1353034">{</span>&nbsp;<span class="ident" id="1353036"><a href="/fmt/format.go.html#1353006">f</a></span><span class="op" id="1353037">.</span><span class="ident" id="1353038">formatFloat</span><span class="op" id="1353049">(</span><span class="builtintype" id="1353050">float64</span><span class="op" id="1353057">(</span><span class="ident" id="1353058"><a href="/fmt/format.go.html#1353023">v</a></span><span class="op" id="1353059">)</span><span class="op" id="1353060">,</span>&nbsp;<span class="string" id="1353062">&#39;b&#39;</span><span class="op" id="1353065">,</span>&nbsp;<span class="num" id="1353067">0</span><span class="op" id="1353068">,</span>&nbsp;<span class="num" id="1353070">32</span><span class="op" id="1353072">)</span>&nbsp;<span class="op" id="1353074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="comment" id="1353077">//&nbsp;fmt_c64&nbsp;formats&nbsp;a&nbsp;complex64&nbsp;according&nbsp;to&nbsp;the&nbsp;verb.</span><br>
<span class="lineno"></span><span class="keyword" id="1353131">func</span>&nbsp;<span class="op" id="1353136">(</span><span class="ident" id="1353137">f</span>&nbsp;<span class="op" id="1353139">*</span><span class="ident" id="1353140"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1353143">)</span>&nbsp;<span class="ident" id="1353145">fmt_c64</span><span class="op" id="1353152">(</span><span class="ident" id="1353153">v</span>&nbsp;<span class="builtintype" id="1353155">complex64</span><span class="op" id="1353164">,</span>&nbsp;<span class="ident" id="1353166">verb</span>&nbsp;<span class="builtintype" id="1353171">rune</span><span class="op" id="1353175">)</span>&nbsp;<span class="op" id="1353177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353180"><a href="/fmt/format.go.html#1353137">f</a></span><span class="op" id="1353181">.</span><span class="ident" id="1353182">fmt_complex</span><span class="op" id="1353193">(</span><span class="builtintype" id="1353194">float64</span><span class="op" id="1353201">(</span><span class="builtinfunc" id="1353202">real</span><span class="op" id="1353206">(</span><span class="ident" id="1353207"><a href="/fmt/format.go.html#1353153">v</a></span><span class="op" id="1353208">)</span><span class="op" id="1353209">)</span><span class="op" id="1353210">,</span>&nbsp;<span class="builtintype" id="1353212">float64</span><span class="op" id="1353219">(</span><span class="builtinfunc" id="1353220">imag</span><span class="op" id="1353224">(</span><span class="ident" id="1353225"><a href="/fmt/format.go.html#1353153">v</a></span><span class="op" id="1353226">)</span><span class="op" id="1353227">)</span><span class="op" id="1353228">,</span>&nbsp;<span class="num" id="1353230">32</span><span class="op" id="1353232">,</span>&nbsp;<span class="ident" id="1353234"><a href="/fmt/format.go.html#1353166">verb</a></span><span class="op" id="1353238">)</span><br>
<span class="lineno"></span><span class="op" id="1353240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">485</span><span class="comment" id="1353243">//&nbsp;fmt_c128&nbsp;formats&nbsp;a&nbsp;complex128&nbsp;according&nbsp;to&nbsp;the&nbsp;verb.</span><br>
<span class="lineno"></span><span class="keyword" id="1353299">func</span>&nbsp;<span class="op" id="1353304">(</span><span class="ident" id="1353305">f</span>&nbsp;<span class="op" id="1353307">*</span><span class="ident" id="1353308"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1353311">)</span>&nbsp;<span class="ident" id="1353313">fmt_c128</span><span class="op" id="1353321">(</span><span class="ident" id="1353322">v</span>&nbsp;<span class="builtintype" id="1353324">complex128</span><span class="op" id="1353334">,</span>&nbsp;<span class="ident" id="1353336">verb</span>&nbsp;<span class="builtintype" id="1353341">rune</span><span class="op" id="1353345">)</span>&nbsp;<span class="op" id="1353347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353350"><a href="/fmt/format.go.html#1353305">f</a></span><span class="op" id="1353351">.</span><span class="ident" id="1353352">fmt_complex</span><span class="op" id="1353363">(</span><span class="builtinfunc" id="1353364">real</span><span class="op" id="1353368">(</span><span class="ident" id="1353369"><a href="/fmt/format.go.html#1353322">v</a></span><span class="op" id="1353370">)</span><span class="op" id="1353371">,</span>&nbsp;<span class="builtinfunc" id="1353373">imag</span><span class="op" id="1353377">(</span><span class="ident" id="1353378"><a href="/fmt/format.go.html#1353322">v</a></span><span class="op" id="1353379">)</span><span class="op" id="1353380">,</span>&nbsp;<span class="num" id="1353382">64</span><span class="op" id="1353384">,</span>&nbsp;<span class="ident" id="1353386"><a href="/fmt/format.go.html#1353336">verb</a></span><span class="op" id="1353390">)</span><br>
<span class="lineno"></span><span class="op" id="1353392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="1353395">//&nbsp;fmt_complex&nbsp;formats&nbsp;a&nbsp;complex&nbsp;number&nbsp;as&nbsp;(r+ji).</span><br>
<span class="lineno"></span><span class="keyword" id="1353446">func</span>&nbsp;<span class="op" id="1353451">(</span><span class="ident" id="1353452">f</span>&nbsp;<span class="op" id="1353454">*</span><span class="ident" id="1353455"><a href="/fmt/format.go.html#1343017">fmt</a></span><span class="op" id="1353458">)</span>&nbsp;<span class="ident" id="1353460">fmt_complex</span><span class="op" id="1353471">(</span><span class="ident" id="1353472">r</span><span class="op" id="1353473">,</span>&nbsp;<span class="ident" id="1353475">j</span>&nbsp;<span class="builtintype" id="1353477">float64</span><span class="op" id="1353484">,</span>&nbsp;<span class="ident" id="1353486">size</span>&nbsp;<span class="builtintype" id="1353491">int</span><span class="op" id="1353494">,</span>&nbsp;<span class="ident" id="1353496">verb</span>&nbsp;<span class="builtintype" id="1353501">rune</span><span class="op" id="1353505">)</span>&nbsp;<span class="op" id="1353507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353510"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353511">.</span><span class="ident" id="1353512">buf</span><span class="op" id="1353515">.</span><span class="ident" id="1353516">WriteByte</span><span class="op" id="1353525">(</span><span class="string" id="1353526">&#39;(&#39;</span><span class="op" id="1353529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353532">oldPlus</span>&nbsp;<span class="op" id="1353540">:=</span>&nbsp;<span class="ident" id="1353543"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353544">.</span><span class="ident" id="1353545">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353551">oldSpace</span>&nbsp;<span class="op" id="1353560">:=</span>&nbsp;<span class="ident" id="1353563"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353564">.</span><span class="ident" id="1353565">space</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353572">oldWid</span>&nbsp;<span class="op" id="1353579">:=</span>&nbsp;<span class="ident" id="1353582"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353583">.</span><span class="ident" id="1353584">wid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353589">for</span>&nbsp;<span class="ident" id="1353593">i</span>&nbsp;<span class="op" id="1353595">:=</span>&nbsp;<span class="num" id="1353598">0</span><span class="op" id="1353599">;</span>&nbsp;<span class="op" id="1353601">;</span>&nbsp;<span class="ident" id="1353603"><a href="/fmt/format.go.html#1353593">i</a></span><span class="op" id="1353604">++</span>&nbsp;<span class="op" id="1353607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353611">switch</span>&nbsp;<span class="ident" id="1353618"><a href="/fmt/format.go.html#1353496">verb</a></span>&nbsp;<span class="op" id="1353623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353627">case</span>&nbsp;<span class="string" id="1353632">&#39;b&#39;</span><span class="op" id="1353635">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353640"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353641">.</span><span class="ident" id="1353642">formatFloat</span><span class="op" id="1353653">(</span><span class="ident" id="1353654"><a href="/fmt/format.go.html#1353472">r</a></span><span class="op" id="1353655">,</span>&nbsp;<span class="string" id="1353657">&#39;b&#39;</span><span class="op" id="1353660">,</span>&nbsp;<span class="num" id="1353662">0</span><span class="op" id="1353663">,</span>&nbsp;<span class="ident" id="1353665"><a href="/fmt/format.go.html#1353486">size</a></span><span class="op" id="1353669">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353673">case</span>&nbsp;<span class="string" id="1353678">&#39;e&#39;</span><span class="op" id="1353681">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353686"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353687">.</span><span class="ident" id="1353688">formatFloat</span><span class="op" id="1353699">(</span><span class="ident" id="1353700"><a href="/fmt/format.go.html#1353472">r</a></span><span class="op" id="1353701">,</span>&nbsp;<span class="string" id="1353703">&#39;e&#39;</span><span class="op" id="1353706">,</span>&nbsp;<span class="ident" id="1353708"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1353714">(</span><span class="ident" id="1353715"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353716">,</span>&nbsp;<span class="num" id="1353718">6</span><span class="op" id="1353719">)</span><span class="op" id="1353720">,</span>&nbsp;<span class="ident" id="1353722"><a href="/fmt/format.go.html#1353486">size</a></span><span class="op" id="1353726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353730">case</span>&nbsp;<span class="string" id="1353735">&#39;E&#39;</span><span class="op" id="1353738">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353743"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353744">.</span><span class="ident" id="1353745">formatFloat</span><span class="op" id="1353756">(</span><span class="ident" id="1353757"><a href="/fmt/format.go.html#1353472">r</a></span><span class="op" id="1353758">,</span>&nbsp;<span class="string" id="1353760">&#39;E&#39;</span><span class="op" id="1353763">,</span>&nbsp;<span class="ident" id="1353765"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1353771">(</span><span class="ident" id="1353772"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353773">,</span>&nbsp;<span class="num" id="1353775">6</span><span class="op" id="1353776">)</span><span class="op" id="1353777">,</span>&nbsp;<span class="ident" id="1353779"><a href="/fmt/format.go.html#1353486">size</a></span><span class="op" id="1353783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353787">case</span>&nbsp;<span class="string" id="1353792">&#39;f&#39;</span><span class="op" id="1353795">,</span>&nbsp;<span class="string" id="1353797">&#39;F&#39;</span><span class="op" id="1353800">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353805"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353806">.</span><span class="ident" id="1353807">formatFloat</span><span class="op" id="1353818">(</span><span class="ident" id="1353819"><a href="/fmt/format.go.html#1353472">r</a></span><span class="op" id="1353820">,</span>&nbsp;<span class="string" id="1353822">&#39;f&#39;</span><span class="op" id="1353825">,</span>&nbsp;<span class="ident" id="1353827"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1353833">(</span><span class="ident" id="1353834"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353835">,</span>&nbsp;<span class="num" id="1353837">6</span><span class="op" id="1353838">)</span><span class="op" id="1353839">,</span>&nbsp;<span class="ident" id="1353841"><a href="/fmt/format.go.html#1353486">size</a></span><span class="op" id="1353845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353849">case</span>&nbsp;<span class="string" id="1353854">&#39;g&#39;</span><span class="op" id="1353857">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353862"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353863">.</span><span class="ident" id="1353864">formatFloat</span><span class="op" id="1353875">(</span><span class="ident" id="1353876"><a href="/fmt/format.go.html#1353472">r</a></span><span class="op" id="1353877">,</span>&nbsp;<span class="string" id="1353879">&#39;g&#39;</span><span class="op" id="1353882">,</span>&nbsp;<span class="ident" id="1353884"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1353890">(</span><span class="ident" id="1353891"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353892">,</span>&nbsp;<span class="op" id="1353894">-</span><span class="num" id="1353895">1</span><span class="op" id="1353896">)</span><span class="op" id="1353897">,</span>&nbsp;<span class="ident" id="1353899"><a href="/fmt/format.go.html#1353486">size</a></span><span class="op" id="1353903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353907">case</span>&nbsp;<span class="string" id="1353912">&#39;G&#39;</span><span class="op" id="1353915">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1353920"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353921">.</span><span class="ident" id="1353922">formatFloat</span><span class="op" id="1353933">(</span><span class="ident" id="1353934"><a href="/fmt/format.go.html#1353472">r</a></span><span class="op" id="1353935">,</span>&nbsp;<span class="string" id="1353937">&#39;G&#39;</span><span class="op" id="1353940">,</span>&nbsp;<span class="ident" id="1353942"><a href="/fmt/format.go.html#1349675">doPrec</a></span><span class="op" id="1353948">(</span><span class="ident" id="1353949"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1353950">,</span>&nbsp;<span class="op" id="1353952">-</span><span class="num" id="1353953">1</span><span class="op" id="1353954">)</span><span class="op" id="1353955">,</span>&nbsp;<span class="ident" id="1353957"><a href="/fmt/format.go.html#1353486">size</a></span><span class="op" id="1353961">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1353965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353969">if</span>&nbsp;<span class="ident" id="1353972"><a href="/fmt/format.go.html#1353593">i</a></span>&nbsp;<span class="op" id="1353974">!=</span>&nbsp;<span class="num" id="1353977">0</span>&nbsp;<span class="op" id="1353979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1353984">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1353992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1353996">//&nbsp;Imaginary&nbsp;part&nbsp;always&nbsp;has&nbsp;a&nbsp;sign.</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1354035"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1354036">.</span><span class="ident" id="1354037">plus</span>&nbsp;<span class="op" id="1354042">=</span>&nbsp;<span class="ident" id="1354044">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1354051"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1354052">.</span><span class="ident" id="1354053">space</span>&nbsp;<span class="op" id="1354059">=</span>&nbsp;<span class="ident" id="1354061">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1354069"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1354070">.</span><span class="ident" id="1354071">wid</span>&nbsp;<span class="op" id="1354075">=</span>&nbsp;<span class="ident" id="1354077"><a href="/fmt/format.go.html#1353572">oldWid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1354086"><a href="/fmt/format.go.html#1353472">r</a></span>&nbsp;<span class="op" id="1354088">=</span>&nbsp;<span class="ident" id="1354090"><a href="/fmt/format.go.html#1353475">j</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1354093">}</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1354096"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1354097">.</span><span class="ident" id="1354098">space</span>&nbsp;<span class="op" id="1354104">=</span>&nbsp;<span class="ident" id="1354106"><a href="/fmt/format.go.html#1353551">oldSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1354116"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1354117">.</span><span class="ident" id="1354118">plus</span>&nbsp;<span class="op" id="1354123">=</span>&nbsp;<span class="ident" id="1354125"><a href="/fmt/format.go.html#1353532">oldPlus</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1354134"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1354135">.</span><span class="ident" id="1354136">wid</span>&nbsp;<span class="op" id="1354140">=</span>&nbsp;<span class="ident" id="1354142"><a href="/fmt/format.go.html#1353572">oldWid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1354150"><a href="/fmt/format.go.html#1353452">f</a></span><span class="op" id="1354151">.</span><span class="ident" id="1354152">buf</span><span class="op" id="1354155">.</span><span class="ident" id="1354156">Write</span><span class="op" id="1354161">(</span><span class="ident" id="1354162"><a href="/fmt/print.go.html#1354897">irparenBytes</a></span><span class="op" id="1354174">)</span><br>
<span class="lineno"></span><span class="op" id="1354176">}</span>
</div>
</body>
</html>
