<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6176888">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6176943">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6176997">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6177048">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="6177123">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="6177197">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="6177213">package</span>&nbsp;<span class="ident" id="6177221">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="6177228">import</span>&nbsp;<span class="string" id="6177235">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6177243">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="6177286">const</span>&nbsp;<span class="ident" id="6177292">Size</span>&nbsp;<span class="op" id="6177297">=</span>&nbsp;<span class="num" id="6177299">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6177302">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="6177329">const</span>&nbsp;<span class="op" id="6177335">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6177338">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177400">ISO</span>&nbsp;<span class="op" id="6177404">=</span>&nbsp;<span class="num" id="6177406">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6177427">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177473">ECMA</span>&nbsp;<span class="op" id="6177478">=</span>&nbsp;<span class="num" id="6177480">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="6177499">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6177502">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="6177585">type</span>&nbsp;<span class="ident" id="6177590">Table</span>&nbsp;<span class="op" id="6177596">[</span><span class="num" id="6177597">256</span><span class="op" id="6177600">]</span><span class="ident" id="6177601">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6177609">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="6177683">func</span>&nbsp;<span class="ident" id="6177688">MakeTable</span><span class="op" id="6177697">(</span><span class="ident" id="6177698">poly</span>&nbsp;<span class="ident" id="6177703">uint64</span><span class="op" id="6177709">)</span>&nbsp;<span class="op" id="6177711">*</span><span class="ident" id="6177712">Table</span>&nbsp;<span class="op" id="6177718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177721">t</span>&nbsp;<span class="op" id="6177723">:=</span>&nbsp;<span class="builtinfunc" id="6177726">new</span><span class="op" id="6177729">(</span><span class="ident" id="6177730">Table</span><span class="op" id="6177735">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177738">for</span>&nbsp;<span class="ident" id="6177742">i</span>&nbsp;<span class="op" id="6177744">:=</span>&nbsp;<span class="num" id="6177747">0</span><span class="op" id="6177748">;</span>&nbsp;<span class="ident" id="6177750">i</span>&nbsp;<span class="op" id="6177752">&lt;</span>&nbsp;<span class="num" id="6177754">256</span><span class="op" id="6177757">;</span>&nbsp;<span class="ident" id="6177759">i</span><span class="op" id="6177760">++</span>&nbsp;<span class="op" id="6177763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177767">crc</span>&nbsp;<span class="op" id="6177771">:=</span>&nbsp;<span class="ident" id="6177774">uint64</span><span class="op" id="6177780">(</span><span class="ident" id="6177781">i</span><span class="op" id="6177782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177786">for</span>&nbsp;<span class="ident" id="6177790">j</span>&nbsp;<span class="op" id="6177792">:=</span>&nbsp;<span class="num" id="6177795">0</span><span class="op" id="6177796">;</span>&nbsp;<span class="ident" id="6177798">j</span>&nbsp;<span class="op" id="6177800">&lt;</span>&nbsp;<span class="num" id="6177802">8</span><span class="op" id="6177803">;</span>&nbsp;<span class="ident" id="6177805">j</span><span class="op" id="6177806">++</span>&nbsp;<span class="op" id="6177809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177814">if</span>&nbsp;<span class="ident" id="6177817">crc</span><span class="op" id="6177820">&amp;</span><span class="num" id="6177821">1</span>&nbsp;<span class="op" id="6177823">==</span>&nbsp;<span class="num" id="6177826">1</span>&nbsp;<span class="op" id="6177828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177834">crc</span>&nbsp;<span class="op" id="6177838">=</span>&nbsp;<span class="op" id="6177840">(</span><span class="ident" id="6177841">crc</span>&nbsp;<span class="op" id="6177845">&gt;&gt;</span>&nbsp;<span class="num" id="6177848">1</span><span class="op" id="6177849">)</span>&nbsp;<span class="op" id="6177851">^</span>&nbsp;<span class="ident" id="6177853">poly</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6177861">}</span>&nbsp;<span class="keyword" id="6177863">else</span>&nbsp;<span class="op" id="6177868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177874">crc</span>&nbsp;<span class="op" id="6177878">&gt;&gt;=</span>&nbsp;<span class="num" id="6177882">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6177887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6177891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6177895">t</span><span class="op" id="6177896">[</span><span class="ident" id="6177897">i</span><span class="op" id="6177898">]</span>&nbsp;<span class="op" id="6177900">=</span>&nbsp;<span class="ident" id="6177902">crc</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6177907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6177910">return</span>&nbsp;<span class="ident" id="6177917">t</span><br>
<span class="lineno"></span><span class="op" id="6177919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6177922">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="6177981">type</span>&nbsp;<span class="ident" id="6177986">digest</span>&nbsp;<span class="keyword" id="6177993">struct</span>&nbsp;<span class="op" id="6178000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178003">crc</span>&nbsp;<span class="ident" id="6178007">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178015">tab</span>&nbsp;<span class="op" id="6178019">*</span><span class="ident" id="6178020">Table</span><br>
<span class="lineno"></span><span class="op" id="6178026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="6178029">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="6178092">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="6178142">func</span>&nbsp;<span class="ident" id="6178147">New</span><span class="op" id="6178150">(</span><span class="ident" id="6178151">tab</span>&nbsp;<span class="op" id="6178155">*</span><span class="ident" id="6178156">Table</span><span class="op" id="6178161">)</span>&nbsp;<span class="ident" id="6178163">hash</span><span class="op" id="6178167">.</span><span class="ident" id="6178168">Hash64</span>&nbsp;<span class="op" id="6178175">{</span>&nbsp;<span class="keyword" id="6178177">return</span>&nbsp;<span class="op" id="6178184">&amp;</span><span class="ident" id="6178185">digest</span><span class="op" id="6178191">{</span><span class="num" id="6178192">0</span><span class="op" id="6178193">,</span>&nbsp;<span class="ident" id="6178195">tab</span><span class="op" id="6178198">}</span>&nbsp;<span class="op" id="6178200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6178203">func</span>&nbsp;<span class="op" id="6178208">(</span><span class="ident" id="6178209">d</span>&nbsp;<span class="op" id="6178211">*</span><span class="ident" id="6178212">digest</span><span class="op" id="6178218">)</span>&nbsp;<span class="ident" id="6178220">Size</span><span class="op" id="6178224">(</span><span class="op" id="6178225">)</span>&nbsp;<span class="builtintype" id="6178227">int</span>&nbsp;<span class="op" id="6178231">{</span>&nbsp;<span class="keyword" id="6178233">return</span>&nbsp;<span class="ident" id="6178240">Size</span>&nbsp;<span class="op" id="6178245">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="6178248">func</span>&nbsp;<span class="op" id="6178253">(</span><span class="ident" id="6178254">d</span>&nbsp;<span class="op" id="6178256">*</span><span class="ident" id="6178257">digest</span><span class="op" id="6178263">)</span>&nbsp;<span class="ident" id="6178265">BlockSize</span><span class="op" id="6178274">(</span><span class="op" id="6178275">)</span>&nbsp;<span class="builtintype" id="6178277">int</span>&nbsp;<span class="op" id="6178281">{</span>&nbsp;<span class="keyword" id="6178283">return</span>&nbsp;<span class="num" id="6178290">1</span>&nbsp;<span class="op" id="6178292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6178295">func</span>&nbsp;<span class="op" id="6178300">(</span><span class="ident" id="6178301">d</span>&nbsp;<span class="op" id="6178303">*</span><span class="ident" id="6178304">digest</span><span class="op" id="6178310">)</span>&nbsp;<span class="ident" id="6178312">Reset</span><span class="op" id="6178317">(</span><span class="op" id="6178318">)</span>&nbsp;<span class="op" id="6178320">{</span>&nbsp;<span class="ident" id="6178322">d</span><span class="op" id="6178323">.</span><span class="ident" id="6178324">crc</span>&nbsp;<span class="op" id="6178328">=</span>&nbsp;<span class="num" id="6178330">0</span>&nbsp;<span class="op" id="6178332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6178335">func</span>&nbsp;<span class="ident" id="6178340">update</span><span class="op" id="6178346">(</span><span class="ident" id="6178347">crc</span>&nbsp;<span class="ident" id="6178351">uint64</span><span class="op" id="6178357">,</span>&nbsp;<span class="ident" id="6178359">tab</span>&nbsp;<span class="op" id="6178363">*</span><span class="ident" id="6178364">Table</span><span class="op" id="6178369">,</span>&nbsp;<span class="ident" id="6178371">p</span>&nbsp;<span class="op" id="6178373">[</span><span class="op" id="6178374">]</span><span class="builtintype" id="6178375">byte</span><span class="op" id="6178379">)</span>&nbsp;<span class="ident" id="6178381">uint64</span>&nbsp;<span class="op" id="6178388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178391">crc</span>&nbsp;<span class="op" id="6178395">=</span>&nbsp;<span class="op" id="6178397">^</span><span class="ident" id="6178398">crc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6178403">for</span>&nbsp;<span class="ident" id="6178407">_</span><span class="op" id="6178408">,</span>&nbsp;<span class="ident" id="6178410">v</span>&nbsp;<span class="op" id="6178412">:=</span>&nbsp;<span class="keyword" id="6178415">range</span>&nbsp;<span class="ident" id="6178421">p</span>&nbsp;<span class="op" id="6178423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178427">crc</span>&nbsp;<span class="op" id="6178431">=</span>&nbsp;<span class="ident" id="6178433">tab</span><span class="op" id="6178436">[</span><span class="builtintype" id="6178437">byte</span><span class="op" id="6178441">(</span><span class="ident" id="6178442">crc</span><span class="op" id="6178445">)</span><span class="op" id="6178446">^</span><span class="ident" id="6178447">v</span><span class="op" id="6178448">]</span>&nbsp;<span class="op" id="6178450">^</span>&nbsp;<span class="op" id="6178452">(</span><span class="ident" id="6178453">crc</span>&nbsp;<span class="op" id="6178457">&gt;&gt;</span>&nbsp;<span class="num" id="6178460">8</span><span class="op" id="6178461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6178464">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6178467">return</span>&nbsp;<span class="op" id="6178474">^</span><span class="ident" id="6178475">crc</span><br>
<span class="lineno"></span><span class="op" id="6178479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6178482">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="6178548">func</span>&nbsp;<span class="ident" id="6178553">Update</span><span class="op" id="6178559">(</span><span class="ident" id="6178560">crc</span>&nbsp;<span class="ident" id="6178564">uint64</span><span class="op" id="6178570">,</span>&nbsp;<span class="ident" id="6178572">tab</span>&nbsp;<span class="op" id="6178576">*</span><span class="ident" id="6178577">Table</span><span class="op" id="6178582">,</span>&nbsp;<span class="ident" id="6178584">p</span>&nbsp;<span class="op" id="6178586">[</span><span class="op" id="6178587">]</span><span class="builtintype" id="6178588">byte</span><span class="op" id="6178592">)</span>&nbsp;<span class="ident" id="6178594">uint64</span>&nbsp;<span class="op" id="6178601">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6178604">return</span>&nbsp;<span class="ident" id="6178611">update</span><span class="op" id="6178617">(</span><span class="ident" id="6178618">crc</span><span class="op" id="6178621">,</span>&nbsp;<span class="ident" id="6178623">tab</span><span class="op" id="6178626">,</span>&nbsp;<span class="ident" id="6178628">p</span><span class="op" id="6178629">)</span><br>
<span class="lineno"></span><span class="op" id="6178631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6178634">func</span>&nbsp;<span class="op" id="6178639">(</span><span class="ident" id="6178640">d</span>&nbsp;<span class="op" id="6178642">*</span><span class="ident" id="6178643">digest</span><span class="op" id="6178649">)</span>&nbsp;<span class="ident" id="6178651">Write</span><span class="op" id="6178656">(</span><span class="ident" id="6178657">p</span>&nbsp;<span class="op" id="6178659">[</span><span class="op" id="6178660">]</span><span class="builtintype" id="6178661">byte</span><span class="op" id="6178665">)</span>&nbsp;<span class="op" id="6178667">(</span><span class="ident" id="6178668">n</span>&nbsp;<span class="builtintype" id="6178670">int</span><span class="op" id="6178673">,</span>&nbsp;<span class="ident" id="6178675">err</span>&nbsp;<span class="builtintype" id="6178679">error</span><span class="op" id="6178684">)</span>&nbsp;<span class="op" id="6178686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178689">d</span><span class="op" id="6178690">.</span><span class="ident" id="6178691">crc</span>&nbsp;<span class="op" id="6178695">=</span>&nbsp;<span class="ident" id="6178697">update</span><span class="op" id="6178703">(</span><span class="ident" id="6178704">d</span><span class="op" id="6178705">.</span><span class="ident" id="6178706">crc</span><span class="op" id="6178709">,</span>&nbsp;<span class="ident" id="6178711">d</span><span class="op" id="6178712">.</span><span class="ident" id="6178713">tab</span><span class="op" id="6178716">,</span>&nbsp;<span class="ident" id="6178718">p</span><span class="op" id="6178719">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6178722">return</span>&nbsp;<span class="builtinfunc" id="6178729">len</span><span class="op" id="6178732">(</span><span class="ident" id="6178733">p</span><span class="op" id="6178734">)</span><span class="op" id="6178735">,</span>&nbsp;<span class="ident" id="6178737">nil</span><br>
<span class="lineno"></span><span class="op" id="6178741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6178744">func</span>&nbsp;<span class="op" id="6178749">(</span><span class="ident" id="6178750">d</span>&nbsp;<span class="op" id="6178752">*</span><span class="ident" id="6178753">digest</span><span class="op" id="6178759">)</span>&nbsp;<span class="ident" id="6178761">Sum64</span><span class="op" id="6178766">(</span><span class="op" id="6178767">)</span>&nbsp;<span class="ident" id="6178769">uint64</span>&nbsp;<span class="op" id="6178776">{</span>&nbsp;<span class="keyword" id="6178778">return</span>&nbsp;<span class="ident" id="6178785">d</span><span class="op" id="6178786">.</span><span class="ident" id="6178787">crc</span>&nbsp;<span class="op" id="6178791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="6178794">func</span>&nbsp;<span class="op" id="6178799">(</span><span class="ident" id="6178800">d</span>&nbsp;<span class="op" id="6178802">*</span><span class="ident" id="6178803">digest</span><span class="op" id="6178809">)</span>&nbsp;<span class="ident" id="6178811">Sum</span><span class="op" id="6178814">(</span><span class="ident" id="6178815">in</span>&nbsp;<span class="op" id="6178818">[</span><span class="op" id="6178819">]</span><span class="builtintype" id="6178820">byte</span><span class="op" id="6178824">)</span>&nbsp;<span class="op" id="6178826">[</span><span class="op" id="6178827">]</span><span class="builtintype" id="6178828">byte</span>&nbsp;<span class="op" id="6178833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6178836">s</span>&nbsp;<span class="op" id="6178838">:=</span>&nbsp;<span class="ident" id="6178841">d</span><span class="op" id="6178842">.</span><span class="ident" id="6178843">Sum64</span><span class="op" id="6178848">(</span><span class="op" id="6178849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6178852">return</span>&nbsp;<span class="builtinfunc" id="6178859">append</span><span class="op" id="6178865">(</span><span class="ident" id="6178866">in</span><span class="op" id="6178868">,</span>&nbsp;<span class="builtintype" id="6178870">byte</span><span class="op" id="6178874">(</span><span class="ident" id="6178875">s</span><span class="op" id="6178876">&gt;&gt;</span><span class="num" id="6178878">56</span><span class="op" id="6178880">)</span><span class="op" id="6178881">,</span>&nbsp;<span class="builtintype" id="6178883">byte</span><span class="op" id="6178887">(</span><span class="ident" id="6178888">s</span><span class="op" id="6178889">&gt;&gt;</span><span class="num" id="6178891">48</span><span class="op" id="6178893">)</span><span class="op" id="6178894">,</span>&nbsp;<span class="builtintype" id="6178896">byte</span><span class="op" id="6178900">(</span><span class="ident" id="6178901">s</span><span class="op" id="6178902">&gt;&gt;</span><span class="num" id="6178904">40</span><span class="op" id="6178906">)</span><span class="op" id="6178907">,</span>&nbsp;<span class="builtintype" id="6178909">byte</span><span class="op" id="6178913">(</span><span class="ident" id="6178914">s</span><span class="op" id="6178915">&gt;&gt;</span><span class="num" id="6178917">32</span><span class="op" id="6178919">)</span><span class="op" id="6178920">,</span>&nbsp;<span class="builtintype" id="6178922">byte</span><span class="op" id="6178926">(</span><span class="ident" id="6178927">s</span><span class="op" id="6178928">&gt;&gt;</span><span class="num" id="6178930">24</span><span class="op" id="6178932">)</span><span class="op" id="6178933">,</span>&nbsp;<span class="builtintype" id="6178935">byte</span><span class="op" id="6178939">(</span><span class="ident" id="6178940">s</span><span class="op" id="6178941">&gt;&gt;</span><span class="num" id="6178943">16</span><span class="op" id="6178945">)</span><span class="op" id="6178946">,</span>&nbsp;<span class="builtintype" id="6178948">byte</span><span class="op" id="6178952">(</span><span class="ident" id="6178953">s</span><span class="op" id="6178954">&gt;&gt;</span><span class="num" id="6178956">8</span><span class="op" id="6178957">)</span><span class="op" id="6178958">,</span>&nbsp;<span class="builtintype" id="6178960">byte</span><span class="op" id="6178964">(</span><span class="ident" id="6178965">s</span><span class="op" id="6178966">)</span><span class="op" id="6178967">)</span><br>
<span class="lineno"></span><span class="op" id="6178969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="6178972">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="6179020">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="6179070">func</span>&nbsp;<span class="ident" id="6179075">Checksum</span><span class="op" id="6179083">(</span><span class="ident" id="6179084">data</span>&nbsp;<span class="op" id="6179089">[</span><span class="op" id="6179090">]</span><span class="builtintype" id="6179091">byte</span><span class="op" id="6179095">,</span>&nbsp;<span class="ident" id="6179097">tab</span>&nbsp;<span class="op" id="6179101">*</span><span class="ident" id="6179102">Table</span><span class="op" id="6179107">)</span>&nbsp;<span class="ident" id="6179109">uint64</span>&nbsp;<span class="op" id="6179116">{</span>&nbsp;<span class="keyword" id="6179118">return</span>&nbsp;<span class="ident" id="6179125">update</span><span class="op" id="6179131">(</span><span class="num" id="6179132">0</span><span class="op" id="6179133">,</span>&nbsp;<span class="ident" id="6179135">tab</span><span class="op" id="6179138">,</span>&nbsp;<span class="ident" id="6179140">data</span><span class="op" id="6179144">)</span>&nbsp;<span class="op" id="6179146">}</span>
</div>
</body>
</html>
