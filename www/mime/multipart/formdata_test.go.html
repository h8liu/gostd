<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6942182">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6942237">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6942291">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6942342">package</span>&nbsp;<span class="ident" id="6942350">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6942361">import</span>&nbsp;<span class="op" id="6942368">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942371">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942380">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942386">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942392">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942402">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942413">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6942423">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6942426">func</span>&nbsp;<span class="ident" id="6942431">TestReadForm</span><span class="op" id="6942443">(</span><span class="ident" id="6942444">t</span>&nbsp;<span class="op" id="6942446">*</span><span class="ident" id="6942447"><a href="/mime/multipart/formdata_test.go.html#6942413">testing</a></span><span class="op" id="6942454">.</span><span class="ident" id="6942455">T</span><span class="op" id="6942456">)</span>&nbsp;<span class="op" id="6942458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942461">testBody</span>&nbsp;<span class="op" id="6942470">:=</span>&nbsp;<span class="ident" id="6942473"><a href="/mime/multipart/formdata_test.go.html#6942392">regexp</a></span><span class="op" id="6942479">.</span><span class="ident" id="6942480">MustCompile</span><span class="op" id="6942491">(</span><span class="string" id="6942492">&#34;\n&#34;</span><span class="op" id="6942496">)</span><span class="op" id="6942497">.</span><span class="ident" id="6942498">ReplaceAllString</span><span class="op" id="6942514">(</span><span class="ident" id="6942515"><a href="/mime/multipart/formdata_test.go.html#6943838">message</a></span><span class="op" id="6942522">,</span>&nbsp;<span class="string" id="6942524">&#34;\r\n&#34;</span><span class="op" id="6942530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942533">b</span>&nbsp;<span class="op" id="6942535">:=</span>&nbsp;<span class="ident" id="6942538"><a href="/mime/multipart/formdata_test.go.html#6942402">strings</a></span><span class="op" id="6942545">.</span><span class="ident" id="6942546">NewReader</span><span class="op" id="6942555">(</span><span class="ident" id="6942556"><a href="/mime/multipart/formdata_test.go.html#6942461">testBody</a></span><span class="op" id="6942564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942567">r</span>&nbsp;<span class="op" id="6942569">:=</span>&nbsp;<span class="ident" id="6942572"><a href="/mime/multipart/multipart.go.html#3610677">NewReader</a></span><span class="op" id="6942581">(</span><span class="ident" id="6942582"><a href="/mime/multipart/formdata_test.go.html#6942533">b</a></span><span class="op" id="6942583">,</span>&nbsp;<span class="ident" id="6942585"><a href="/mime/multipart/formdata_test.go.html#6943800">boundary</a></span><span class="op" id="6942593">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942596">f</span><span class="op" id="6942597">,</span>&nbsp;<span class="ident" id="6942599">err</span>&nbsp;<span class="op" id="6942603">:=</span>&nbsp;<span class="ident" id="6942606"><a href="/mime/multipart/formdata_test.go.html#6942567">r</a></span><span class="op" id="6942607">.</span><span class="ident" id="6942608">ReadForm</span><span class="op" id="6942616">(</span><span class="num" id="6942617">25</span><span class="op" id="6942619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6942622">if</span>&nbsp;<span class="ident" id="6942625"><a href="/mime/multipart/formdata_test.go.html#6942599">err</a></span>&nbsp;<span class="op" id="6942629">!=</span>&nbsp;<span class="ident" id="6942632">nil</span>&nbsp;<span class="op" id="6942636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942640"><a href="/mime/multipart/formdata_test.go.html#6942444">t</a></span><span class="op" id="6942641">.</span><span class="ident" id="6942642">Fatal</span><span class="op" id="6942647">(</span><span class="string" id="6942648">&#34;ReadForm:&#34;</span><span class="op" id="6942659">,</span>&nbsp;<span class="ident" id="6942661"><a href="/mime/multipart/formdata_test.go.html#6942599">err</a></span><span class="op" id="6942664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6942670">defer</span>&nbsp;<span class="ident" id="6942676"><a href="/mime/multipart/formdata_test.go.html#6942596">f</a></span><span class="op" id="6942677">.</span><span class="ident" id="6942678">RemoveAll</span><span class="op" id="6942687">(</span><span class="op" id="6942688">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6942691">if</span>&nbsp;<span class="ident" id="6942694">g</span><span class="op" id="6942695">,</span>&nbsp;<span class="ident" id="6942697">e</span>&nbsp;<span class="op" id="6942699">:=</span>&nbsp;<span class="ident" id="6942702"><a href="/mime/multipart/formdata_test.go.html#6942596">f</a></span><span class="op" id="6942703">.</span><span class="ident" id="6942704">Value</span><span class="op" id="6942709">[</span><span class="string" id="6942710">&#34;texta&#34;</span><span class="op" id="6942717">]</span><span class="op" id="6942718">[</span><span class="num" id="6942719">0</span><span class="op" id="6942720">]</span><span class="op" id="6942721">,</span>&nbsp;<span class="ident" id="6942723"><a href="/mime/multipart/formdata_test.go.html#6943754">textaValue</a></span><span class="op" id="6942733">;</span>&nbsp;<span class="ident" id="6942735"><a href="/mime/multipart/formdata_test.go.html#6942694">g</a></span>&nbsp;<span class="op" id="6942737">!=</span>&nbsp;<span class="ident" id="6942740"><a href="/mime/multipart/formdata_test.go.html#6942697">e</a></span>&nbsp;<span class="op" id="6942742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942746"><a href="/mime/multipart/formdata_test.go.html#6942444">t</a></span><span class="op" id="6942747">.</span><span class="ident" id="6942748">Errorf</span><span class="op" id="6942754">(</span><span class="string" id="6942755">&#34;texta&nbsp;value&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6942782">,</span>&nbsp;<span class="ident" id="6942784"><a href="/mime/multipart/formdata_test.go.html#6942694">g</a></span><span class="op" id="6942785">,</span>&nbsp;<span class="ident" id="6942787"><a href="/mime/multipart/formdata_test.go.html#6942697">e</a></span><span class="op" id="6942788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6942794">if</span>&nbsp;<span class="ident" id="6942797">g</span><span class="op" id="6942798">,</span>&nbsp;<span class="ident" id="6942800">e</span>&nbsp;<span class="op" id="6942802">:=</span>&nbsp;<span class="ident" id="6942805"><a href="/mime/multipart/formdata_test.go.html#6942596">f</a></span><span class="op" id="6942806">.</span><span class="ident" id="6942807">Value</span><span class="op" id="6942812">[</span><span class="string" id="6942813">&#34;textb&#34;</span><span class="op" id="6942820">]</span><span class="op" id="6942821">[</span><span class="num" id="6942822">0</span><span class="op" id="6942823">]</span><span class="op" id="6942824">,</span>&nbsp;<span class="ident" id="6942826"><a href="/mime/multipart/formdata_test.go.html#6943777">textbValue</a></span><span class="op" id="6942836">;</span>&nbsp;<span class="ident" id="6942838"><a href="/mime/multipart/formdata_test.go.html#6942797">g</a></span>&nbsp;<span class="op" id="6942840">!=</span>&nbsp;<span class="ident" id="6942843"><a href="/mime/multipart/formdata_test.go.html#6942800">e</a></span>&nbsp;<span class="op" id="6942845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942849"><a href="/mime/multipart/formdata_test.go.html#6942444">t</a></span><span class="op" id="6942850">.</span><span class="ident" id="6942851">Errorf</span><span class="op" id="6942857">(</span><span class="string" id="6942858">&#34;texta&nbsp;value&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6942885">,</span>&nbsp;<span class="ident" id="6942887"><a href="/mime/multipart/formdata_test.go.html#6942797">g</a></span><span class="op" id="6942888">,</span>&nbsp;<span class="ident" id="6942890"><a href="/mime/multipart/formdata_test.go.html#6942800">e</a></span><span class="op" id="6942891">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942897">fd</span>&nbsp;<span class="op" id="6942900">:=</span>&nbsp;<span class="ident" id="6942903"><a href="/mime/multipart/formdata_test.go.html#6943236">testFile</a></span><span class="op" id="6942911">(</span><span class="ident" id="6942912"><a href="/mime/multipart/formdata_test.go.html#6942444">t</a></span><span class="op" id="6942913">,</span>&nbsp;<span class="ident" id="6942915"><a href="/mime/multipart/formdata_test.go.html#6942596">f</a></span><span class="op" id="6942916">.</span><span class="ident" id="6942917">File</span><span class="op" id="6942921">[</span><span class="string" id="6942922">&#34;filea&#34;</span><span class="op" id="6942929">]</span><span class="op" id="6942930">[</span><span class="num" id="6942931">0</span><span class="op" id="6942932">]</span><span class="op" id="6942933">,</span>&nbsp;<span class="string" id="6942935">&#34;filea.txt&#34;</span><span class="op" id="6942946">,</span>&nbsp;<span class="ident" id="6942948"><a href="/mime/multipart/formdata_test.go.html#6943676">fileaContents</a></span><span class="op" id="6942961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6942964">if</span>&nbsp;<span class="ident" id="6942967">_</span><span class="op" id="6942968">,</span>&nbsp;<span class="ident" id="6942970">ok</span>&nbsp;<span class="op" id="6942973">:=</span>&nbsp;<span class="ident" id="6942976"><a href="/mime/multipart/formdata_test.go.html#6942897">fd</a></span><span class="op" id="6942978">.</span><span class="op" id="6942979">(</span><span class="op" id="6942980">*</span><span class="ident" id="6942981"><a href="/mime/multipart/formdata_test.go.html#6942386">os</a></span><span class="op" id="6942983">.</span><span class="ident" id="6942984">File</span><span class="op" id="6942988">)</span><span class="op" id="6942989">;</span>&nbsp;<span class="ident" id="6942991"><a href="/mime/multipart/formdata_test.go.html#6942970">ok</a></span>&nbsp;<span class="op" id="6942994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942998"><a href="/mime/multipart/formdata_test.go.html#6942444">t</a></span><span class="op" id="6942999">.</span><span class="ident" id="6943000">Error</span><span class="op" id="6943005">(</span><span class="string" id="6943006">&#34;file&nbsp;is&nbsp;*os.File,&nbsp;should&nbsp;not&nbsp;be&#34;</span><span class="op" id="6943039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943042">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943045"><a href="/mime/multipart/formdata_test.go.html#6942897">fd</a></span><span class="op" id="6943047">.</span><span class="ident" id="6943048">Close</span><span class="op" id="6943053">(</span><span class="op" id="6943054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943057"><a href="/mime/multipart/formdata_test.go.html#6942897">fd</a></span>&nbsp;<span class="op" id="6943060">=</span>&nbsp;<span class="ident" id="6943062"><a href="/mime/multipart/formdata_test.go.html#6943236">testFile</a></span><span class="op" id="6943070">(</span><span class="ident" id="6943071"><a href="/mime/multipart/formdata_test.go.html#6942444">t</a></span><span class="op" id="6943072">,</span>&nbsp;<span class="ident" id="6943074"><a href="/mime/multipart/formdata_test.go.html#6942596">f</a></span><span class="op" id="6943075">.</span><span class="ident" id="6943076">File</span><span class="op" id="6943080">[</span><span class="string" id="6943081">&#34;fileb&#34;</span><span class="op" id="6943088">]</span><span class="op" id="6943089">[</span><span class="num" id="6943090">0</span><span class="op" id="6943091">]</span><span class="op" id="6943092">,</span>&nbsp;<span class="string" id="6943094">&#34;fileb.txt&#34;</span><span class="op" id="6943105">,</span>&nbsp;<span class="ident" id="6943107"><a href="/mime/multipart/formdata_test.go.html#6943716">filebContents</a></span><span class="op" id="6943120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943123">if</span>&nbsp;<span class="ident" id="6943126">_</span><span class="op" id="6943127">,</span>&nbsp;<span class="ident" id="6943129">ok</span>&nbsp;<span class="op" id="6943132">:=</span>&nbsp;<span class="ident" id="6943135"><a href="/mime/multipart/formdata_test.go.html#6942897">fd</a></span><span class="op" id="6943137">.</span><span class="op" id="6943138">(</span><span class="op" id="6943139">*</span><span class="ident" id="6943140"><a href="/mime/multipart/formdata_test.go.html#6942386">os</a></span><span class="op" id="6943142">.</span><span class="ident" id="6943143">File</span><span class="op" id="6943147">)</span><span class="op" id="6943148">;</span>&nbsp;<span class="op" id="6943150">!</span><span class="ident" id="6943151"><a href="/mime/multipart/formdata_test.go.html#6943129">ok</a></span>&nbsp;<span class="op" id="6943154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943158"><a href="/mime/multipart/formdata_test.go.html#6942444">t</a></span><span class="op" id="6943159">.</span><span class="ident" id="6943160">Errorf</span><span class="op" id="6943166">(</span><span class="string" id="6943167">&#34;file&nbsp;has&nbsp;unexpected&nbsp;underlying&nbsp;type&nbsp;%T&#34;</span><span class="op" id="6943207">,</span>&nbsp;<span class="ident" id="6943209"><a href="/mime/multipart/formdata_test.go.html#6942897">fd</a></span><span class="op" id="6943211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943214">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943217"><a href="/mime/multipart/formdata_test.go.html#6942897">fd</a></span><span class="op" id="6943219">.</span><span class="ident" id="6943220">Close</span><span class="op" id="6943225">(</span><span class="op" id="6943226">)</span><br>
<span class="lineno"></span><span class="op" id="6943228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6943231">func</span>&nbsp;<span class="ident" id="6943236">testFile</span><span class="op" id="6943244">(</span><span class="ident" id="6943245">t</span>&nbsp;<span class="op" id="6943247">*</span><span class="ident" id="6943248"><a href="/mime/multipart/formdata_test.go.html#6942413">testing</a></span><span class="op" id="6943255">.</span><span class="ident" id="6943256">T</span><span class="op" id="6943257">,</span>&nbsp;<span class="ident" id="6943259">fh</span>&nbsp;<span class="op" id="6943262">*</span><span class="ident" id="6943263"><a href="/mime/multipart/formdata.go.html#3607439">FileHeader</a></span><span class="op" id="6943273">,</span>&nbsp;<span class="ident" id="6943275">efn</span><span class="op" id="6943278">,</span>&nbsp;<span class="ident" id="6943280">econtent</span>&nbsp;<span class="builtintype" id="6943289">string</span><span class="op" id="6943295">)</span>&nbsp;<span class="ident" id="6943297"><a href="/mime/multipart/formdata.go.html#3608029">File</a></span>&nbsp;<span class="op" id="6943302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943305">if</span>&nbsp;<span class="ident" id="6943308"><a href="/mime/multipart/formdata_test.go.html#6943259">fh</a></span><span class="op" id="6943310">.</span><span class="ident" id="6943311">Filename</span>&nbsp;<span class="op" id="6943320">!=</span>&nbsp;<span class="ident" id="6943323"><a href="/mime/multipart/formdata_test.go.html#6943275">efn</a></span>&nbsp;<span class="op" id="6943327">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943331"><a href="/mime/multipart/formdata_test.go.html#6943245">t</a></span><span class="op" id="6943332">.</span><span class="ident" id="6943333">Errorf</span><span class="op" id="6943339">(</span><span class="string" id="6943340">&#34;filename&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6943364">,</span>&nbsp;<span class="ident" id="6943366"><a href="/mime/multipart/formdata_test.go.html#6943259">fh</a></span><span class="op" id="6943368">.</span><span class="ident" id="6943369">Filename</span><span class="op" id="6943377">,</span>&nbsp;<span class="ident" id="6943379"><a href="/mime/multipart/formdata_test.go.html#6943275">efn</a></span><span class="op" id="6943382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943388">f</span><span class="op" id="6943389">,</span>&nbsp;<span class="ident" id="6943391">err</span>&nbsp;<span class="op" id="6943395">:=</span>&nbsp;<span class="ident" id="6943398"><a href="/mime/multipart/formdata_test.go.html#6943259">fh</a></span><span class="op" id="6943400">.</span><span class="ident" id="6943401">Open</span><span class="op" id="6943405">(</span><span class="op" id="6943406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943409">if</span>&nbsp;<span class="ident" id="6943412"><a href="/mime/multipart/formdata_test.go.html#6943391">err</a></span>&nbsp;<span class="op" id="6943416">!=</span>&nbsp;<span class="ident" id="6943419">nil</span>&nbsp;<span class="op" id="6943423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943427"><a href="/mime/multipart/formdata_test.go.html#6943245">t</a></span><span class="op" id="6943428">.</span><span class="ident" id="6943429">Fatal</span><span class="op" id="6943434">(</span><span class="string" id="6943435">&#34;opening&nbsp;file:&#34;</span><span class="op" id="6943450">,</span>&nbsp;<span class="ident" id="6943452"><a href="/mime/multipart/formdata_test.go.html#6943391">err</a></span><span class="op" id="6943455">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943461">b</span>&nbsp;<span class="op" id="6943463">:=</span>&nbsp;<span class="builtinfunc" id="6943466">new</span><span class="op" id="6943469">(</span><span class="ident" id="6943470"><a href="/mime/multipart/formdata_test.go.html#6942371">bytes</a></span><span class="op" id="6943475">.</span><span class="ident" id="6943476">Buffer</span><span class="op" id="6943482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943485">_</span><span class="op" id="6943486">,</span>&nbsp;<span class="ident" id="6943488"><a href="/mime/multipart/formdata_test.go.html#6943391">err</a></span>&nbsp;<span class="op" id="6943492">=</span>&nbsp;<span class="ident" id="6943494"><a href="/mime/multipart/formdata_test.go.html#6942380">io</a></span><span class="op" id="6943496">.</span><span class="ident" id="6943497">Copy</span><span class="op" id="6943501">(</span><span class="ident" id="6943502"><a href="/mime/multipart/formdata_test.go.html#6943461">b</a></span><span class="op" id="6943503">,</span>&nbsp;<span class="ident" id="6943505"><a href="/mime/multipart/formdata_test.go.html#6943388">f</a></span><span class="op" id="6943506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943509">if</span>&nbsp;<span class="ident" id="6943512"><a href="/mime/multipart/formdata_test.go.html#6943391">err</a></span>&nbsp;<span class="op" id="6943516">!=</span>&nbsp;<span class="ident" id="6943519">nil</span>&nbsp;<span class="op" id="6943523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943527"><a href="/mime/multipart/formdata_test.go.html#6943245">t</a></span><span class="op" id="6943528">.</span><span class="ident" id="6943529">Fatal</span><span class="op" id="6943534">(</span><span class="string" id="6943535">&#34;copying&nbsp;contents:&#34;</span><span class="op" id="6943554">,</span>&nbsp;<span class="ident" id="6943556"><a href="/mime/multipart/formdata_test.go.html#6943391">err</a></span><span class="op" id="6943559">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943565">if</span>&nbsp;<span class="ident" id="6943568">g</span>&nbsp;<span class="op" id="6943570">:=</span>&nbsp;<span class="ident" id="6943573"><a href="/mime/multipart/formdata_test.go.html#6943461">b</a></span><span class="op" id="6943574">.</span><span class="ident" id="6943575">String</span><span class="op" id="6943581">(</span><span class="op" id="6943582">)</span><span class="op" id="6943583">;</span>&nbsp;<span class="ident" id="6943585"><a href="/mime/multipart/formdata_test.go.html#6943568">g</a></span>&nbsp;<span class="op" id="6943587">!=</span>&nbsp;<span class="ident" id="6943590"><a href="/mime/multipart/formdata_test.go.html#6943280">econtent</a></span>&nbsp;<span class="op" id="6943599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943603"><a href="/mime/multipart/formdata_test.go.html#6943245">t</a></span><span class="op" id="6943604">.</span><span class="ident" id="6943605">Errorf</span><span class="op" id="6943611">(</span><span class="string" id="6943612">&#34;contents&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6943636">,</span>&nbsp;<span class="ident" id="6943638"><a href="/mime/multipart/formdata_test.go.html#6943568">g</a></span><span class="op" id="6943639">,</span>&nbsp;<span class="ident" id="6943641"><a href="/mime/multipart/formdata_test.go.html#6943280">econtent</a></span><span class="op" id="6943649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6943652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6943655">return</span>&nbsp;<span class="ident" id="6943662"><a href="/mime/multipart/formdata_test.go.html#6943388">f</a></span><br>
<span class="lineno">60</span><span class="op" id="6943664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6943667">const</span>&nbsp;<span class="op" id="6943673">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943676">fileaContents</span>&nbsp;<span class="op" id="6943690">=</span>&nbsp;<span class="string" id="6943692">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;file.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943716">filebContents</span>&nbsp;<span class="op" id="6943730">=</span>&nbsp;<span class="string" id="6943732">&#34;Another&nbsp;test&nbsp;file.&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943754">textaValue</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6943768">=</span>&nbsp;<span class="string" id="6943770">&#34;foo&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943777">textbValue</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6943791">=</span>&nbsp;<span class="string" id="6943793">&#34;bar&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6943800">boundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6943814">=</span>&nbsp;<span class="string" id="6943816">`MyBoundary`</span><br>
<span class="lineno"></span><span class="op" id="6943829">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="6943832">const</span>&nbsp;<span class="ident" id="6943838">message</span>&nbsp;<span class="op" id="6943846">=</span>&nbsp;<span class="string" id="6943848">`<br>
<span class="lineno"></span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;filea&#34;;&nbsp;filename=&#34;filea.txt&#34;<br>
<span class="lineno"></span>Content-Type:&nbsp;text/plain<br>
<span class="lineno"></span><br>
<span class="lineno">75</span>`</span>&nbsp;<span class="op" id="6943958">+</span>&nbsp;<span class="ident" id="6943960"><a href="/mime/multipart/formdata_test.go.html#6943676">fileaContents</a></span>&nbsp;<span class="op" id="6943974">+</span>&nbsp;<span class="string" id="6943976">`<br>
<span class="lineno"></span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;fileb&#34;;&nbsp;filename=&#34;fileb.txt&#34;<br>
<span class="lineno"></span>Content-Type:&nbsp;text/plain<br>
<span class="lineno"></span><br>
<span class="lineno">80</span>`</span>&nbsp;<span class="op" id="6944086">+</span>&nbsp;<span class="ident" id="6944088"><a href="/mime/multipart/formdata_test.go.html#6943716">filebContents</a></span>&nbsp;<span class="op" id="6944102">+</span>&nbsp;<span class="string" id="6944104">`<br>
<span class="lineno"></span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;texta&#34;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span>&nbsp;<span class="op" id="6944167">+</span>&nbsp;<span class="ident" id="6944169"><a href="/mime/multipart/formdata_test.go.html#6943754">textaValue</a></span>&nbsp;<span class="op" id="6944180">+</span>&nbsp;<span class="string" id="6944182">`<br>
<span class="lineno">85</span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;textb&#34;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span>&nbsp;<span class="op" id="6944245">+</span>&nbsp;<span class="ident" id="6944247"><a href="/mime/multipart/formdata_test.go.html#6943777">textbValue</a></span>&nbsp;<span class="op" id="6944258">+</span>&nbsp;<span class="string" id="6944260">`<br>
<span class="lineno"></span>--MyBoundary--<br>
<span class="lineno">90</span>`</span>
</div>
</body>
</html>
