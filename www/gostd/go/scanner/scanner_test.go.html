<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8502380">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8502435">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8502489">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8502540">package</span>&nbsp;<span class="ident" id="8502548">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8502557">import</span>&nbsp;<span class="op" id="8502564">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8502567">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8502579">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8502592">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8502598">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8502615">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8502626">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8502636">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8502639">var</span>&nbsp;<span class="ident" id="8502643">fset</span>&nbsp;<span class="op" id="8502648">=</span>&nbsp;<span class="ident" id="8502650">token</span><span class="op" id="8502655">.</span><span class="ident" id="8502656">NewFileSet</span><span class="op" id="8502666">(</span><span class="op" id="8502667">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8502670">const</span>&nbsp;<span class="comment" id="8502676">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="8502688">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8502691">special</span>&nbsp;<span class="op" id="8502699">=</span>&nbsp;<span class="ident" id="8502701">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8502707">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8502716">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8502726">keyword</span><br>
<span class="lineno"></span><span class="op" id="8502734">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8502737">func</span>&nbsp;<span class="ident" id="8502742">tokenclass</span><span class="op" id="8502752">(</span><span class="ident" id="8502753">tok</span>&nbsp;<span class="ident" id="8502757">token</span><span class="op" id="8502762">.</span><span class="ident" id="8502763">Token</span><span class="op" id="8502768">)</span>&nbsp;<span class="builtintype" id="8502770">int</span>&nbsp;<span class="op" id="8502774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8502777">switch</span>&nbsp;<span class="op" id="8502784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8502787">case</span>&nbsp;<span class="ident" id="8502792">tok</span><span class="op" id="8502795">.</span><span class="ident" id="8502796">IsLiteral</span><span class="op" id="8502805">(</span><span class="op" id="8502806">)</span><span class="op" id="8502807">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8502811">return</span>&nbsp;<span class="ident" id="8502818">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8502827">case</span>&nbsp;<span class="ident" id="8502832">tok</span><span class="op" id="8502835">.</span><span class="ident" id="8502836">IsOperator</span><span class="op" id="8502846">(</span><span class="op" id="8502847">)</span><span class="op" id="8502848">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8502852">return</span>&nbsp;<span class="ident" id="8502859">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8502869">case</span>&nbsp;<span class="ident" id="8502874">tok</span><span class="op" id="8502877">.</span><span class="ident" id="8502878">IsKeyword</span><span class="op" id="8502887">(</span><span class="op" id="8502888">)</span><span class="op" id="8502889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8502893">return</span>&nbsp;<span class="ident" id="8502900">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8502909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8502912">return</span>&nbsp;<span class="ident" id="8502919">special</span><br>
<span class="lineno">35</span><span class="op" id="8502927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8502930">type</span>&nbsp;<span class="ident" id="8502935">elt</span>&nbsp;<span class="keyword" id="8502939">struct</span>&nbsp;<span class="op" id="8502946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8502949">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8502955">token</span><span class="op" id="8502960">.</span><span class="ident" id="8502961">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8502968">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8502974">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8502982">class</span>&nbsp;<span class="builtintype" id="8502988">int</span><br>
<span class="lineno"></span><span class="op" id="8502992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8502995">var</span>&nbsp;<span class="ident" id="8502999">tokens</span>&nbsp;<span class="op" id="8503006">=</span>&nbsp;<span class="op" id="8503008">[</span><span class="op" id="8503009">...</span><span class="op" id="8503012">]</span><span class="ident" id="8503013">elt</span><span class="op" id="8503016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8503019">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503038">{</span><span class="ident" id="8503039">token</span><span class="op" id="8503044">.</span><span class="ident" id="8503045">COMMENT</span><span class="op" id="8503052">,</span>&nbsp;<span class="string" id="8503054">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8503071">,</span>&nbsp;<span class="ident" id="8503073">special</span><span class="op" id="8503080">}</span><span class="op" id="8503081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503084">{</span><span class="ident" id="8503085">token</span><span class="op" id="8503090">.</span><span class="ident" id="8503091">COMMENT</span><span class="op" id="8503098">,</span>&nbsp;<span class="string" id="8503100">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="8503117">,</span>&nbsp;<span class="ident" id="8503119">special</span><span class="op" id="8503126">}</span><span class="op" id="8503127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503130">{</span><span class="ident" id="8503131">token</span><span class="op" id="8503136">.</span><span class="ident" id="8503137">COMMENT</span><span class="op" id="8503144">,</span>&nbsp;<span class="string" id="8503146">&#34;/*\r*/&#34;</span><span class="op" id="8503154">,</span>&nbsp;<span class="ident" id="8503156">special</span><span class="op" id="8503163">}</span><span class="op" id="8503164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503167">{</span><span class="ident" id="8503168">token</span><span class="op" id="8503173">.</span><span class="ident" id="8503174">COMMENT</span><span class="op" id="8503181">,</span>&nbsp;<span class="string" id="8503183">&#34;//\r\n&#34;</span><span class="op" id="8503191">,</span>&nbsp;<span class="ident" id="8503193">special</span><span class="op" id="8503200">}</span><span class="op" id="8503201">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8503205">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503245">{</span><span class="ident" id="8503246">token</span><span class="op" id="8503251">.</span><span class="ident" id="8503252">IDENT</span><span class="op" id="8503257">,</span>&nbsp;<span class="string" id="8503259">&#34;foobar&#34;</span><span class="op" id="8503267">,</span>&nbsp;<span class="ident" id="8503269">literal</span><span class="op" id="8503276">}</span><span class="op" id="8503277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503280">{</span><span class="ident" id="8503281">token</span><span class="op" id="8503286">.</span><span class="ident" id="8503287">IDENT</span><span class="op" id="8503292">,</span>&nbsp;<span class="string" id="8503294">&#34;a۰۱۸&#34;</span><span class="op" id="8503303">,</span>&nbsp;<span class="ident" id="8503305">literal</span><span class="op" id="8503312">}</span><span class="op" id="8503313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503316">{</span><span class="ident" id="8503317">token</span><span class="op" id="8503322">.</span><span class="ident" id="8503323">IDENT</span><span class="op" id="8503328">,</span>&nbsp;<span class="string" id="8503330">&#34;foo६४&#34;</span><span class="op" id="8503341">,</span>&nbsp;<span class="ident" id="8503343">literal</span><span class="op" id="8503350">}</span><span class="op" id="8503351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503354">{</span><span class="ident" id="8503355">token</span><span class="op" id="8503360">.</span><span class="ident" id="8503361">IDENT</span><span class="op" id="8503366">,</span>&nbsp;<span class="string" id="8503368">&#34;bar９８７６&#34;</span><span class="op" id="8503385">,</span>&nbsp;<span class="ident" id="8503387">literal</span><span class="op" id="8503394">}</span><span class="op" id="8503395">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503398">{</span><span class="ident" id="8503399">token</span><span class="op" id="8503404">.</span><span class="ident" id="8503405">IDENT</span><span class="op" id="8503410">,</span>&nbsp;<span class="string" id="8503412">&#34;ŝ&#34;</span><span class="op" id="8503416">,</span>&nbsp;<span class="ident" id="8503418">literal</span><span class="op" id="8503425">}</span><span class="op" id="8503426">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8503431">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503456">{</span><span class="ident" id="8503457">token</span><span class="op" id="8503462">.</span><span class="ident" id="8503463">IDENT</span><span class="op" id="8503468">,</span>&nbsp;<span class="string" id="8503470">&#34;ŝfoo&#34;</span><span class="op" id="8503477">,</span>&nbsp;<span class="ident" id="8503479">literal</span><span class="op" id="8503486">}</span><span class="op" id="8503487">,</span>&nbsp;<span class="comment" id="8503489">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503514">{</span><span class="ident" id="8503515">token</span><span class="op" id="8503520">.</span><span class="ident" id="8503521">INT</span><span class="op" id="8503524">,</span>&nbsp;<span class="string" id="8503526">&#34;0&#34;</span><span class="op" id="8503529">,</span>&nbsp;<span class="ident" id="8503531">literal</span><span class="op" id="8503538">}</span><span class="op" id="8503539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503542">{</span><span class="ident" id="8503543">token</span><span class="op" id="8503548">.</span><span class="ident" id="8503549">INT</span><span class="op" id="8503552">,</span>&nbsp;<span class="string" id="8503554">&#34;1&#34;</span><span class="op" id="8503557">,</span>&nbsp;<span class="ident" id="8503559">literal</span><span class="op" id="8503566">}</span><span class="op" id="8503567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503570">{</span><span class="ident" id="8503571">token</span><span class="op" id="8503576">.</span><span class="ident" id="8503577">INT</span><span class="op" id="8503580">,</span>&nbsp;<span class="string" id="8503582">&#34;123456789012345678890&#34;</span><span class="op" id="8503605">,</span>&nbsp;<span class="ident" id="8503607">literal</span><span class="op" id="8503614">}</span><span class="op" id="8503615">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503618">{</span><span class="ident" id="8503619">token</span><span class="op" id="8503624">.</span><span class="ident" id="8503625">INT</span><span class="op" id="8503628">,</span>&nbsp;<span class="string" id="8503630">&#34;01234567&#34;</span><span class="op" id="8503640">,</span>&nbsp;<span class="ident" id="8503642">literal</span><span class="op" id="8503649">}</span><span class="op" id="8503650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503653">{</span><span class="ident" id="8503654">token</span><span class="op" id="8503659">.</span><span class="ident" id="8503660">INT</span><span class="op" id="8503663">,</span>&nbsp;<span class="string" id="8503665">&#34;0xcafebabe&#34;</span><span class="op" id="8503677">,</span>&nbsp;<span class="ident" id="8503679">literal</span><span class="op" id="8503686">}</span><span class="op" id="8503687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503690">{</span><span class="ident" id="8503691">token</span><span class="op" id="8503696">.</span><span class="ident" id="8503697">FLOAT</span><span class="op" id="8503702">,</span>&nbsp;<span class="string" id="8503704">&#34;0.&#34;</span><span class="op" id="8503708">,</span>&nbsp;<span class="ident" id="8503710">literal</span><span class="op" id="8503717">}</span><span class="op" id="8503718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503721">{</span><span class="ident" id="8503722">token</span><span class="op" id="8503727">.</span><span class="ident" id="8503728">FLOAT</span><span class="op" id="8503733">,</span>&nbsp;<span class="string" id="8503735">&#34;.0&#34;</span><span class="op" id="8503739">,</span>&nbsp;<span class="ident" id="8503741">literal</span><span class="op" id="8503748">}</span><span class="op" id="8503749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503752">{</span><span class="ident" id="8503753">token</span><span class="op" id="8503758">.</span><span class="ident" id="8503759">FLOAT</span><span class="op" id="8503764">,</span>&nbsp;<span class="string" id="8503766">&#34;3.14159265&#34;</span><span class="op" id="8503778">,</span>&nbsp;<span class="ident" id="8503780">literal</span><span class="op" id="8503787">}</span><span class="op" id="8503788">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503791">{</span><span class="ident" id="8503792">token</span><span class="op" id="8503797">.</span><span class="ident" id="8503798">FLOAT</span><span class="op" id="8503803">,</span>&nbsp;<span class="string" id="8503805">&#34;1e0&#34;</span><span class="op" id="8503810">,</span>&nbsp;<span class="ident" id="8503812">literal</span><span class="op" id="8503819">}</span><span class="op" id="8503820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503823">{</span><span class="ident" id="8503824">token</span><span class="op" id="8503829">.</span><span class="ident" id="8503830">FLOAT</span><span class="op" id="8503835">,</span>&nbsp;<span class="string" id="8503837">&#34;1e+100&#34;</span><span class="op" id="8503845">,</span>&nbsp;<span class="ident" id="8503847">literal</span><span class="op" id="8503854">}</span><span class="op" id="8503855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503858">{</span><span class="ident" id="8503859">token</span><span class="op" id="8503864">.</span><span class="ident" id="8503865">FLOAT</span><span class="op" id="8503870">,</span>&nbsp;<span class="string" id="8503872">&#34;1e-100&#34;</span><span class="op" id="8503880">,</span>&nbsp;<span class="ident" id="8503882">literal</span><span class="op" id="8503889">}</span><span class="op" id="8503890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503893">{</span><span class="ident" id="8503894">token</span><span class="op" id="8503899">.</span><span class="ident" id="8503900">FLOAT</span><span class="op" id="8503905">,</span>&nbsp;<span class="string" id="8503907">&#34;2.71828e-1000&#34;</span><span class="op" id="8503922">,</span>&nbsp;<span class="ident" id="8503924">literal</span><span class="op" id="8503931">}</span><span class="op" id="8503932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503935">{</span><span class="ident" id="8503936">token</span><span class="op" id="8503941">.</span><span class="ident" id="8503942">IMAG</span><span class="op" id="8503946">,</span>&nbsp;<span class="string" id="8503948">&#34;0i&#34;</span><span class="op" id="8503952">,</span>&nbsp;<span class="ident" id="8503954">literal</span><span class="op" id="8503961">}</span><span class="op" id="8503962">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503965">{</span><span class="ident" id="8503966">token</span><span class="op" id="8503971">.</span><span class="ident" id="8503972">IMAG</span><span class="op" id="8503976">,</span>&nbsp;<span class="string" id="8503978">&#34;1i&#34;</span><span class="op" id="8503982">,</span>&nbsp;<span class="ident" id="8503984">literal</span><span class="op" id="8503991">}</span><span class="op" id="8503992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8503995">{</span><span class="ident" id="8503996">token</span><span class="op" id="8504001">.</span><span class="ident" id="8504002">IMAG</span><span class="op" id="8504006">,</span>&nbsp;<span class="string" id="8504008">&#34;012345678901234567889i&#34;</span><span class="op" id="8504032">,</span>&nbsp;<span class="ident" id="8504034">literal</span><span class="op" id="8504041">}</span><span class="op" id="8504042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504045">{</span><span class="ident" id="8504046">token</span><span class="op" id="8504051">.</span><span class="ident" id="8504052">IMAG</span><span class="op" id="8504056">,</span>&nbsp;<span class="string" id="8504058">&#34;123456789012345678890i&#34;</span><span class="op" id="8504082">,</span>&nbsp;<span class="ident" id="8504084">literal</span><span class="op" id="8504091">}</span><span class="op" id="8504092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504095">{</span><span class="ident" id="8504096">token</span><span class="op" id="8504101">.</span><span class="ident" id="8504102">IMAG</span><span class="op" id="8504106">,</span>&nbsp;<span class="string" id="8504108">&#34;0.i&#34;</span><span class="op" id="8504113">,</span>&nbsp;<span class="ident" id="8504115">literal</span><span class="op" id="8504122">}</span><span class="op" id="8504123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504126">{</span><span class="ident" id="8504127">token</span><span class="op" id="8504132">.</span><span class="ident" id="8504133">IMAG</span><span class="op" id="8504137">,</span>&nbsp;<span class="string" id="8504139">&#34;.0i&#34;</span><span class="op" id="8504144">,</span>&nbsp;<span class="ident" id="8504146">literal</span><span class="op" id="8504153">}</span><span class="op" id="8504154">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504157">{</span><span class="ident" id="8504158">token</span><span class="op" id="8504163">.</span><span class="ident" id="8504164">IMAG</span><span class="op" id="8504168">,</span>&nbsp;<span class="string" id="8504170">&#34;3.14159265i&#34;</span><span class="op" id="8504183">,</span>&nbsp;<span class="ident" id="8504185">literal</span><span class="op" id="8504192">}</span><span class="op" id="8504193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504196">{</span><span class="ident" id="8504197">token</span><span class="op" id="8504202">.</span><span class="ident" id="8504203">IMAG</span><span class="op" id="8504207">,</span>&nbsp;<span class="string" id="8504209">&#34;1e0i&#34;</span><span class="op" id="8504215">,</span>&nbsp;<span class="ident" id="8504217">literal</span><span class="op" id="8504224">}</span><span class="op" id="8504225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504228">{</span><span class="ident" id="8504229">token</span><span class="op" id="8504234">.</span><span class="ident" id="8504235">IMAG</span><span class="op" id="8504239">,</span>&nbsp;<span class="string" id="8504241">&#34;1e+100i&#34;</span><span class="op" id="8504250">,</span>&nbsp;<span class="ident" id="8504252">literal</span><span class="op" id="8504259">}</span><span class="op" id="8504260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504263">{</span><span class="ident" id="8504264">token</span><span class="op" id="8504269">.</span><span class="ident" id="8504270">IMAG</span><span class="op" id="8504274">,</span>&nbsp;<span class="string" id="8504276">&#34;1e-100i&#34;</span><span class="op" id="8504285">,</span>&nbsp;<span class="ident" id="8504287">literal</span><span class="op" id="8504294">}</span><span class="op" id="8504295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504298">{</span><span class="ident" id="8504299">token</span><span class="op" id="8504304">.</span><span class="ident" id="8504305">IMAG</span><span class="op" id="8504309">,</span>&nbsp;<span class="string" id="8504311">&#34;2.71828e-1000i&#34;</span><span class="op" id="8504327">,</span>&nbsp;<span class="ident" id="8504329">literal</span><span class="op" id="8504336">}</span><span class="op" id="8504337">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504340">{</span><span class="ident" id="8504341">token</span><span class="op" id="8504346">.</span><span class="ident" id="8504347">CHAR</span><span class="op" id="8504351">,</span>&nbsp;<span class="string" id="8504353">&#34;&#39;a&#39;&#34;</span><span class="op" id="8504358">,</span>&nbsp;<span class="ident" id="8504360">literal</span><span class="op" id="8504367">}</span><span class="op" id="8504368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504371">{</span><span class="ident" id="8504372">token</span><span class="op" id="8504377">.</span><span class="ident" id="8504378">CHAR</span><span class="op" id="8504382">,</span>&nbsp;<span class="string" id="8504384">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="8504393">,</span>&nbsp;<span class="ident" id="8504395">literal</span><span class="op" id="8504402">}</span><span class="op" id="8504403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504406">{</span><span class="ident" id="8504407">token</span><span class="op" id="8504412">.</span><span class="ident" id="8504413">CHAR</span><span class="op" id="8504417">,</span>&nbsp;<span class="string" id="8504419">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="8504428">,</span>&nbsp;<span class="ident" id="8504430">literal</span><span class="op" id="8504437">}</span><span class="op" id="8504438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504441">{</span><span class="ident" id="8504442">token</span><span class="op" id="8504447">.</span><span class="ident" id="8504448">CHAR</span><span class="op" id="8504452">,</span>&nbsp;<span class="string" id="8504454">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="8504465">,</span>&nbsp;<span class="ident" id="8504467">literal</span><span class="op" id="8504474">}</span><span class="op" id="8504475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504478">{</span><span class="ident" id="8504479">token</span><span class="op" id="8504484">.</span><span class="ident" id="8504485">CHAR</span><span class="op" id="8504489">,</span>&nbsp;<span class="string" id="8504491">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="8504506">,</span>&nbsp;<span class="ident" id="8504508">literal</span><span class="op" id="8504515">}</span><span class="op" id="8504516">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504519">{</span><span class="ident" id="8504520">token</span><span class="op" id="8504525">.</span><span class="ident" id="8504526">STRING</span><span class="op" id="8504532">,</span>&nbsp;<span class="string" id="8504534">&#34;`foobar`&#34;</span><span class="op" id="8504544">,</span>&nbsp;<span class="ident" id="8504546">literal</span><span class="op" id="8504553">}</span><span class="op" id="8504554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504557">{</span><span class="ident" id="8504558">token</span><span class="op" id="8504563">.</span><span class="ident" id="8504564">STRING</span><span class="op" id="8504570">,</span>&nbsp;<span class="string" id="8504572">&#34;`&#34;</span>&nbsp;<span class="op" id="8504576">+</span>&nbsp;<span class="string" id="8504578">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="8504613">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8504617">&#34;`&#34;</span><span class="op" id="8504620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8504624">literal</span><span class="op" id="8504631">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504634">}</span><span class="op" id="8504635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504638">{</span><span class="ident" id="8504639">token</span><span class="op" id="8504644">.</span><span class="ident" id="8504645">STRING</span><span class="op" id="8504651">,</span>&nbsp;<span class="string" id="8504653">&#34;`\r`&#34;</span><span class="op" id="8504659">,</span>&nbsp;<span class="ident" id="8504661">literal</span><span class="op" id="8504668">}</span><span class="op" id="8504669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504672">{</span><span class="ident" id="8504673">token</span><span class="op" id="8504678">.</span><span class="ident" id="8504679">STRING</span><span class="op" id="8504685">,</span>&nbsp;<span class="string" id="8504687">&#34;`foo\r\nbar`&#34;</span><span class="op" id="8504701">,</span>&nbsp;<span class="ident" id="8504703">literal</span><span class="op" id="8504710">}</span><span class="op" id="8504711">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8504715">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504744">{</span><span class="ident" id="8504745">token</span><span class="op" id="8504750">.</span><span class="ident" id="8504751">ADD</span><span class="op" id="8504754">,</span>&nbsp;<span class="string" id="8504756">&#34;+&#34;</span><span class="op" id="8504759">,</span>&nbsp;<span class="ident" id="8504761">operator</span><span class="op" id="8504769">}</span><span class="op" id="8504770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504773">{</span><span class="ident" id="8504774">token</span><span class="op" id="8504779">.</span><span class="ident" id="8504780">SUB</span><span class="op" id="8504783">,</span>&nbsp;<span class="string" id="8504785">&#34;-&#34;</span><span class="op" id="8504788">,</span>&nbsp;<span class="ident" id="8504790">operator</span><span class="op" id="8504798">}</span><span class="op" id="8504799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504802">{</span><span class="ident" id="8504803">token</span><span class="op" id="8504808">.</span><span class="ident" id="8504809">MUL</span><span class="op" id="8504812">,</span>&nbsp;<span class="string" id="8504814">&#34;*&#34;</span><span class="op" id="8504817">,</span>&nbsp;<span class="ident" id="8504819">operator</span><span class="op" id="8504827">}</span><span class="op" id="8504828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504831">{</span><span class="ident" id="8504832">token</span><span class="op" id="8504837">.</span><span class="ident" id="8504838">QUO</span><span class="op" id="8504841">,</span>&nbsp;<span class="string" id="8504843">&#34;/&#34;</span><span class="op" id="8504846">,</span>&nbsp;<span class="ident" id="8504848">operator</span><span class="op" id="8504856">}</span><span class="op" id="8504857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504860">{</span><span class="ident" id="8504861">token</span><span class="op" id="8504866">.</span><span class="ident" id="8504867">REM</span><span class="op" id="8504870">,</span>&nbsp;<span class="string" id="8504872">&#34;%&#34;</span><span class="op" id="8504875">,</span>&nbsp;<span class="ident" id="8504877">operator</span><span class="op" id="8504885">}</span><span class="op" id="8504886">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504890">{</span><span class="ident" id="8504891">token</span><span class="op" id="8504896">.</span><span class="ident" id="8504897">AND</span><span class="op" id="8504900">,</span>&nbsp;<span class="string" id="8504902">&#34;&amp;&#34;</span><span class="op" id="8504905">,</span>&nbsp;<span class="ident" id="8504907">operator</span><span class="op" id="8504915">}</span><span class="op" id="8504916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504919">{</span><span class="ident" id="8504920">token</span><span class="op" id="8504925">.</span><span class="ident" id="8504926">OR</span><span class="op" id="8504928">,</span>&nbsp;<span class="string" id="8504930">&#34;|&#34;</span><span class="op" id="8504933">,</span>&nbsp;<span class="ident" id="8504935">operator</span><span class="op" id="8504943">}</span><span class="op" id="8504944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504947">{</span><span class="ident" id="8504948">token</span><span class="op" id="8504953">.</span><span class="ident" id="8504954">XOR</span><span class="op" id="8504957">,</span>&nbsp;<span class="string" id="8504959">&#34;^&#34;</span><span class="op" id="8504962">,</span>&nbsp;<span class="ident" id="8504964">operator</span><span class="op" id="8504972">}</span><span class="op" id="8504973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8504976">{</span><span class="ident" id="8504977">token</span><span class="op" id="8504982">.</span><span class="ident" id="8504983">SHL</span><span class="op" id="8504986">,</span>&nbsp;<span class="string" id="8504988">&#34;&lt;&lt;&#34;</span><span class="op" id="8504992">,</span>&nbsp;<span class="ident" id="8504994">operator</span><span class="op" id="8505002">}</span><span class="op" id="8505003">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505006">{</span><span class="ident" id="8505007">token</span><span class="op" id="8505012">.</span><span class="ident" id="8505013">SHR</span><span class="op" id="8505016">,</span>&nbsp;<span class="string" id="8505018">&#34;&gt;&gt;&#34;</span><span class="op" id="8505022">,</span>&nbsp;<span class="ident" id="8505024">operator</span><span class="op" id="8505032">}</span><span class="op" id="8505033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505036">{</span><span class="ident" id="8505037">token</span><span class="op" id="8505042">.</span><span class="ident" id="8505043">AND_NOT</span><span class="op" id="8505050">,</span>&nbsp;<span class="string" id="8505052">&#34;&amp;^&#34;</span><span class="op" id="8505056">,</span>&nbsp;<span class="ident" id="8505058">operator</span><span class="op" id="8505066">}</span><span class="op" id="8505067">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505071">{</span><span class="ident" id="8505072">token</span><span class="op" id="8505077">.</span><span class="ident" id="8505078">ADD_ASSIGN</span><span class="op" id="8505088">,</span>&nbsp;<span class="string" id="8505090">&#34;+=&#34;</span><span class="op" id="8505094">,</span>&nbsp;<span class="ident" id="8505096">operator</span><span class="op" id="8505104">}</span><span class="op" id="8505105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505108">{</span><span class="ident" id="8505109">token</span><span class="op" id="8505114">.</span><span class="ident" id="8505115">SUB_ASSIGN</span><span class="op" id="8505125">,</span>&nbsp;<span class="string" id="8505127">&#34;-=&#34;</span><span class="op" id="8505131">,</span>&nbsp;<span class="ident" id="8505133">operator</span><span class="op" id="8505141">}</span><span class="op" id="8505142">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505145">{</span><span class="ident" id="8505146">token</span><span class="op" id="8505151">.</span><span class="ident" id="8505152">MUL_ASSIGN</span><span class="op" id="8505162">,</span>&nbsp;<span class="string" id="8505164">&#34;*=&#34;</span><span class="op" id="8505168">,</span>&nbsp;<span class="ident" id="8505170">operator</span><span class="op" id="8505178">}</span><span class="op" id="8505179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505182">{</span><span class="ident" id="8505183">token</span><span class="op" id="8505188">.</span><span class="ident" id="8505189">QUO_ASSIGN</span><span class="op" id="8505199">,</span>&nbsp;<span class="string" id="8505201">&#34;/=&#34;</span><span class="op" id="8505205">,</span>&nbsp;<span class="ident" id="8505207">operator</span><span class="op" id="8505215">}</span><span class="op" id="8505216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505219">{</span><span class="ident" id="8505220">token</span><span class="op" id="8505225">.</span><span class="ident" id="8505226">REM_ASSIGN</span><span class="op" id="8505236">,</span>&nbsp;<span class="string" id="8505238">&#34;%=&#34;</span><span class="op" id="8505242">,</span>&nbsp;<span class="ident" id="8505244">operator</span><span class="op" id="8505252">}</span><span class="op" id="8505253">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505257">{</span><span class="ident" id="8505258">token</span><span class="op" id="8505263">.</span><span class="ident" id="8505264">AND_ASSIGN</span><span class="op" id="8505274">,</span>&nbsp;<span class="string" id="8505276">&#34;&amp;=&#34;</span><span class="op" id="8505280">,</span>&nbsp;<span class="ident" id="8505282">operator</span><span class="op" id="8505290">}</span><span class="op" id="8505291">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505294">{</span><span class="ident" id="8505295">token</span><span class="op" id="8505300">.</span><span class="ident" id="8505301">OR_ASSIGN</span><span class="op" id="8505310">,</span>&nbsp;<span class="string" id="8505312">&#34;|=&#34;</span><span class="op" id="8505316">,</span>&nbsp;<span class="ident" id="8505318">operator</span><span class="op" id="8505326">}</span><span class="op" id="8505327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505330">{</span><span class="ident" id="8505331">token</span><span class="op" id="8505336">.</span><span class="ident" id="8505337">XOR_ASSIGN</span><span class="op" id="8505347">,</span>&nbsp;<span class="string" id="8505349">&#34;^=&#34;</span><span class="op" id="8505353">,</span>&nbsp;<span class="ident" id="8505355">operator</span><span class="op" id="8505363">}</span><span class="op" id="8505364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505367">{</span><span class="ident" id="8505368">token</span><span class="op" id="8505373">.</span><span class="ident" id="8505374">SHL_ASSIGN</span><span class="op" id="8505384">,</span>&nbsp;<span class="string" id="8505386">&#34;&lt;&lt;=&#34;</span><span class="op" id="8505391">,</span>&nbsp;<span class="ident" id="8505393">operator</span><span class="op" id="8505401">}</span><span class="op" id="8505402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505405">{</span><span class="ident" id="8505406">token</span><span class="op" id="8505411">.</span><span class="ident" id="8505412">SHR_ASSIGN</span><span class="op" id="8505422">,</span>&nbsp;<span class="string" id="8505424">&#34;&gt;&gt;=&#34;</span><span class="op" id="8505429">,</span>&nbsp;<span class="ident" id="8505431">operator</span><span class="op" id="8505439">}</span><span class="op" id="8505440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505443">{</span><span class="ident" id="8505444">token</span><span class="op" id="8505449">.</span><span class="ident" id="8505450">AND_NOT_ASSIGN</span><span class="op" id="8505464">,</span>&nbsp;<span class="string" id="8505466">&#34;&amp;^=&#34;</span><span class="op" id="8505471">,</span>&nbsp;<span class="ident" id="8505473">operator</span><span class="op" id="8505481">}</span><span class="op" id="8505482">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505486">{</span><span class="ident" id="8505487">token</span><span class="op" id="8505492">.</span><span class="ident" id="8505493">LAND</span><span class="op" id="8505497">,</span>&nbsp;<span class="string" id="8505499">&#34;&amp;&amp;&#34;</span><span class="op" id="8505503">,</span>&nbsp;<span class="ident" id="8505505">operator</span><span class="op" id="8505513">}</span><span class="op" id="8505514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505517">{</span><span class="ident" id="8505518">token</span><span class="op" id="8505523">.</span><span class="ident" id="8505524">LOR</span><span class="op" id="8505527">,</span>&nbsp;<span class="string" id="8505529">&#34;||&#34;</span><span class="op" id="8505533">,</span>&nbsp;<span class="ident" id="8505535">operator</span><span class="op" id="8505543">}</span><span class="op" id="8505544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505547">{</span><span class="ident" id="8505548">token</span><span class="op" id="8505553">.</span><span class="ident" id="8505554">ARROW</span><span class="op" id="8505559">,</span>&nbsp;<span class="string" id="8505561">&#34;&lt;-&#34;</span><span class="op" id="8505565">,</span>&nbsp;<span class="ident" id="8505567">operator</span><span class="op" id="8505575">}</span><span class="op" id="8505576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505579">{</span><span class="ident" id="8505580">token</span><span class="op" id="8505585">.</span><span class="ident" id="8505586">INC</span><span class="op" id="8505589">,</span>&nbsp;<span class="string" id="8505591">&#34;++&#34;</span><span class="op" id="8505595">,</span>&nbsp;<span class="ident" id="8505597">operator</span><span class="op" id="8505605">}</span><span class="op" id="8505606">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505609">{</span><span class="ident" id="8505610">token</span><span class="op" id="8505615">.</span><span class="ident" id="8505616">DEC</span><span class="op" id="8505619">,</span>&nbsp;<span class="string" id="8505621">&#34;--&#34;</span><span class="op" id="8505625">,</span>&nbsp;<span class="ident" id="8505627">operator</span><span class="op" id="8505635">}</span><span class="op" id="8505636">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505640">{</span><span class="ident" id="8505641">token</span><span class="op" id="8505646">.</span><span class="ident" id="8505647">EQL</span><span class="op" id="8505650">,</span>&nbsp;<span class="string" id="8505652">&#34;==&#34;</span><span class="op" id="8505656">,</span>&nbsp;<span class="ident" id="8505658">operator</span><span class="op" id="8505666">}</span><span class="op" id="8505667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505670">{</span><span class="ident" id="8505671">token</span><span class="op" id="8505676">.</span><span class="ident" id="8505677">LSS</span><span class="op" id="8505680">,</span>&nbsp;<span class="string" id="8505682">&#34;&lt;&#34;</span><span class="op" id="8505685">,</span>&nbsp;<span class="ident" id="8505687">operator</span><span class="op" id="8505695">}</span><span class="op" id="8505696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505699">{</span><span class="ident" id="8505700">token</span><span class="op" id="8505705">.</span><span class="ident" id="8505706">GTR</span><span class="op" id="8505709">,</span>&nbsp;<span class="string" id="8505711">&#34;&gt;&#34;</span><span class="op" id="8505714">,</span>&nbsp;<span class="ident" id="8505716">operator</span><span class="op" id="8505724">}</span><span class="op" id="8505725">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505728">{</span><span class="ident" id="8505729">token</span><span class="op" id="8505734">.</span><span class="ident" id="8505735">ASSIGN</span><span class="op" id="8505741">,</span>&nbsp;<span class="string" id="8505743">&#34;=&#34;</span><span class="op" id="8505746">,</span>&nbsp;<span class="ident" id="8505748">operator</span><span class="op" id="8505756">}</span><span class="op" id="8505757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505760">{</span><span class="ident" id="8505761">token</span><span class="op" id="8505766">.</span><span class="ident" id="8505767">NOT</span><span class="op" id="8505770">,</span>&nbsp;<span class="string" id="8505772">&#34;!&#34;</span><span class="op" id="8505775">,</span>&nbsp;<span class="ident" id="8505777">operator</span><span class="op" id="8505785">}</span><span class="op" id="8505786">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505790">{</span><span class="ident" id="8505791">token</span><span class="op" id="8505796">.</span><span class="ident" id="8505797">NEQ</span><span class="op" id="8505800">,</span>&nbsp;<span class="string" id="8505802">&#34;!=&#34;</span><span class="op" id="8505806">,</span>&nbsp;<span class="ident" id="8505808">operator</span><span class="op" id="8505816">}</span><span class="op" id="8505817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505820">{</span><span class="ident" id="8505821">token</span><span class="op" id="8505826">.</span><span class="ident" id="8505827">LEQ</span><span class="op" id="8505830">,</span>&nbsp;<span class="string" id="8505832">&#34;&lt;=&#34;</span><span class="op" id="8505836">,</span>&nbsp;<span class="ident" id="8505838">operator</span><span class="op" id="8505846">}</span><span class="op" id="8505847">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505850">{</span><span class="ident" id="8505851">token</span><span class="op" id="8505856">.</span><span class="ident" id="8505857">GEQ</span><span class="op" id="8505860">,</span>&nbsp;<span class="string" id="8505862">&#34;&gt;=&#34;</span><span class="op" id="8505866">,</span>&nbsp;<span class="ident" id="8505868">operator</span><span class="op" id="8505876">}</span><span class="op" id="8505877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505880">{</span><span class="ident" id="8505881">token</span><span class="op" id="8505886">.</span><span class="ident" id="8505887">DEFINE</span><span class="op" id="8505893">,</span>&nbsp;<span class="string" id="8505895">&#34;:=&#34;</span><span class="op" id="8505899">,</span>&nbsp;<span class="ident" id="8505901">operator</span><span class="op" id="8505909">}</span><span class="op" id="8505910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505913">{</span><span class="ident" id="8505914">token</span><span class="op" id="8505919">.</span><span class="ident" id="8505920">ELLIPSIS</span><span class="op" id="8505928">,</span>&nbsp;<span class="string" id="8505930">&#34;...&#34;</span><span class="op" id="8505935">,</span>&nbsp;<span class="ident" id="8505937">operator</span><span class="op" id="8505945">}</span><span class="op" id="8505946">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505950">{</span><span class="ident" id="8505951">token</span><span class="op" id="8505956">.</span><span class="ident" id="8505957">LPAREN</span><span class="op" id="8505963">,</span>&nbsp;<span class="string" id="8505965">&#34;(&#34;</span><span class="op" id="8505968">,</span>&nbsp;<span class="ident" id="8505970">operator</span><span class="op" id="8505978">}</span><span class="op" id="8505979">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8505982">{</span><span class="ident" id="8505983">token</span><span class="op" id="8505988">.</span><span class="ident" id="8505989">LBRACK</span><span class="op" id="8505995">,</span>&nbsp;<span class="string" id="8505997">&#34;[&#34;</span><span class="op" id="8506000">,</span>&nbsp;<span class="ident" id="8506002">operator</span><span class="op" id="8506010">}</span><span class="op" id="8506011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506014">{</span><span class="ident" id="8506015">token</span><span class="op" id="8506020">.</span><span class="ident" id="8506021">LBRACE</span><span class="op" id="8506027">,</span>&nbsp;<span class="string" id="8506029">&#34;{&#34;</span><span class="op" id="8506032">,</span>&nbsp;<span class="ident" id="8506034">operator</span><span class="op" id="8506042">}</span><span class="op" id="8506043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506046">{</span><span class="ident" id="8506047">token</span><span class="op" id="8506052">.</span><span class="ident" id="8506053">COMMA</span><span class="op" id="8506058">,</span>&nbsp;<span class="string" id="8506060">&#34;,&#34;</span><span class="op" id="8506063">,</span>&nbsp;<span class="ident" id="8506065">operator</span><span class="op" id="8506073">}</span><span class="op" id="8506074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506077">{</span><span class="ident" id="8506078">token</span><span class="op" id="8506083">.</span><span class="ident" id="8506084">PERIOD</span><span class="op" id="8506090">,</span>&nbsp;<span class="string" id="8506092">&#34;.&#34;</span><span class="op" id="8506095">,</span>&nbsp;<span class="ident" id="8506097">operator</span><span class="op" id="8506105">}</span><span class="op" id="8506106">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506110">{</span><span class="ident" id="8506111">token</span><span class="op" id="8506116">.</span><span class="ident" id="8506117">RPAREN</span><span class="op" id="8506123">,</span>&nbsp;<span class="string" id="8506125">&#34;)&#34;</span><span class="op" id="8506128">,</span>&nbsp;<span class="ident" id="8506130">operator</span><span class="op" id="8506138">}</span><span class="op" id="8506139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506142">{</span><span class="ident" id="8506143">token</span><span class="op" id="8506148">.</span><span class="ident" id="8506149">RBRACK</span><span class="op" id="8506155">,</span>&nbsp;<span class="string" id="8506157">&#34;]&#34;</span><span class="op" id="8506160">,</span>&nbsp;<span class="ident" id="8506162">operator</span><span class="op" id="8506170">}</span><span class="op" id="8506171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506174">{</span><span class="ident" id="8506175">token</span><span class="op" id="8506180">.</span><span class="ident" id="8506181">RBRACE</span><span class="op" id="8506187">,</span>&nbsp;<span class="string" id="8506189">&#34;}&#34;</span><span class="op" id="8506192">,</span>&nbsp;<span class="ident" id="8506194">operator</span><span class="op" id="8506202">}</span><span class="op" id="8506203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506206">{</span><span class="ident" id="8506207">token</span><span class="op" id="8506212">.</span><span class="ident" id="8506213">SEMICOLON</span><span class="op" id="8506222">,</span>&nbsp;<span class="string" id="8506224">&#34;;&#34;</span><span class="op" id="8506227">,</span>&nbsp;<span class="ident" id="8506229">operator</span><span class="op" id="8506237">}</span><span class="op" id="8506238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506241">{</span><span class="ident" id="8506242">token</span><span class="op" id="8506247">.</span><span class="ident" id="8506248">COLON</span><span class="op" id="8506253">,</span>&nbsp;<span class="string" id="8506255">&#34;:&#34;</span><span class="op" id="8506258">,</span>&nbsp;<span class="ident" id="8506260">operator</span><span class="op" id="8506268">}</span><span class="op" id="8506269">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8506273">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506286">{</span><span class="ident" id="8506287">token</span><span class="op" id="8506292">.</span><span class="ident" id="8506293">BREAK</span><span class="op" id="8506298">,</span>&nbsp;<span class="string" id="8506300">&#34;break&#34;</span><span class="op" id="8506307">,</span>&nbsp;<span class="ident" id="8506309">keyword</span><span class="op" id="8506316">}</span><span class="op" id="8506317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506320">{</span><span class="ident" id="8506321">token</span><span class="op" id="8506326">.</span><span class="ident" id="8506327">CASE</span><span class="op" id="8506331">,</span>&nbsp;<span class="string" id="8506333">&#34;case&#34;</span><span class="op" id="8506339">,</span>&nbsp;<span class="ident" id="8506341">keyword</span><span class="op" id="8506348">}</span><span class="op" id="8506349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506352">{</span><span class="ident" id="8506353">token</span><span class="op" id="8506358">.</span><span class="ident" id="8506359">CHAN</span><span class="op" id="8506363">,</span>&nbsp;<span class="string" id="8506365">&#34;chan&#34;</span><span class="op" id="8506371">,</span>&nbsp;<span class="ident" id="8506373">keyword</span><span class="op" id="8506380">}</span><span class="op" id="8506381">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506384">{</span><span class="ident" id="8506385">token</span><span class="op" id="8506390">.</span><span class="ident" id="8506391">CONST</span><span class="op" id="8506396">,</span>&nbsp;<span class="string" id="8506398">&#34;const&#34;</span><span class="op" id="8506405">,</span>&nbsp;<span class="ident" id="8506407">keyword</span><span class="op" id="8506414">}</span><span class="op" id="8506415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506418">{</span><span class="ident" id="8506419">token</span><span class="op" id="8506424">.</span><span class="ident" id="8506425">CONTINUE</span><span class="op" id="8506433">,</span>&nbsp;<span class="string" id="8506435">&#34;continue&#34;</span><span class="op" id="8506445">,</span>&nbsp;<span class="ident" id="8506447">keyword</span><span class="op" id="8506454">}</span><span class="op" id="8506455">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506459">{</span><span class="ident" id="8506460">token</span><span class="op" id="8506465">.</span><span class="ident" id="8506466">DEFAULT</span><span class="op" id="8506473">,</span>&nbsp;<span class="string" id="8506475">&#34;default&#34;</span><span class="op" id="8506484">,</span>&nbsp;<span class="ident" id="8506486">keyword</span><span class="op" id="8506493">}</span><span class="op" id="8506494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506497">{</span><span class="ident" id="8506498">token</span><span class="op" id="8506503">.</span><span class="ident" id="8506504">DEFER</span><span class="op" id="8506509">,</span>&nbsp;<span class="string" id="8506511">&#34;defer&#34;</span><span class="op" id="8506518">,</span>&nbsp;<span class="ident" id="8506520">keyword</span><span class="op" id="8506527">}</span><span class="op" id="8506528">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506531">{</span><span class="ident" id="8506532">token</span><span class="op" id="8506537">.</span><span class="ident" id="8506538">ELSE</span><span class="op" id="8506542">,</span>&nbsp;<span class="string" id="8506544">&#34;else&#34;</span><span class="op" id="8506550">,</span>&nbsp;<span class="ident" id="8506552">keyword</span><span class="op" id="8506559">}</span><span class="op" id="8506560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506563">{</span><span class="ident" id="8506564">token</span><span class="op" id="8506569">.</span><span class="ident" id="8506570">FALLTHROUGH</span><span class="op" id="8506581">,</span>&nbsp;<span class="string" id="8506583">&#34;fallthrough&#34;</span><span class="op" id="8506596">,</span>&nbsp;<span class="ident" id="8506598">keyword</span><span class="op" id="8506605">}</span><span class="op" id="8506606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506609">{</span><span class="ident" id="8506610">token</span><span class="op" id="8506615">.</span><span class="ident" id="8506616">FOR</span><span class="op" id="8506619">,</span>&nbsp;<span class="string" id="8506621">&#34;for&#34;</span><span class="op" id="8506626">,</span>&nbsp;<span class="ident" id="8506628">keyword</span><span class="op" id="8506635">}</span><span class="op" id="8506636">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506640">{</span><span class="ident" id="8506641">token</span><span class="op" id="8506646">.</span><span class="ident" id="8506647">FUNC</span><span class="op" id="8506651">,</span>&nbsp;<span class="string" id="8506653">&#34;func&#34;</span><span class="op" id="8506659">,</span>&nbsp;<span class="ident" id="8506661">keyword</span><span class="op" id="8506668">}</span><span class="op" id="8506669">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506672">{</span><span class="ident" id="8506673">token</span><span class="op" id="8506678">.</span><span class="ident" id="8506679">GO</span><span class="op" id="8506681">,</span>&nbsp;<span class="string" id="8506683">&#34;go&#34;</span><span class="op" id="8506687">,</span>&nbsp;<span class="ident" id="8506689">keyword</span><span class="op" id="8506696">}</span><span class="op" id="8506697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506700">{</span><span class="ident" id="8506701">token</span><span class="op" id="8506706">.</span><span class="ident" id="8506707">GOTO</span><span class="op" id="8506711">,</span>&nbsp;<span class="string" id="8506713">&#34;goto&#34;</span><span class="op" id="8506719">,</span>&nbsp;<span class="ident" id="8506721">keyword</span><span class="op" id="8506728">}</span><span class="op" id="8506729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506732">{</span><span class="ident" id="8506733">token</span><span class="op" id="8506738">.</span><span class="ident" id="8506739">IF</span><span class="op" id="8506741">,</span>&nbsp;<span class="string" id="8506743">&#34;if&#34;</span><span class="op" id="8506747">,</span>&nbsp;<span class="ident" id="8506749">keyword</span><span class="op" id="8506756">}</span><span class="op" id="8506757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506760">{</span><span class="ident" id="8506761">token</span><span class="op" id="8506766">.</span><span class="ident" id="8506767">IMPORT</span><span class="op" id="8506773">,</span>&nbsp;<span class="string" id="8506775">&#34;import&#34;</span><span class="op" id="8506783">,</span>&nbsp;<span class="ident" id="8506785">keyword</span><span class="op" id="8506792">}</span><span class="op" id="8506793">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506797">{</span><span class="ident" id="8506798">token</span><span class="op" id="8506803">.</span><span class="ident" id="8506804">INTERFACE</span><span class="op" id="8506813">,</span>&nbsp;<span class="string" id="8506815">&#34;interface&#34;</span><span class="op" id="8506826">,</span>&nbsp;<span class="ident" id="8506828">keyword</span><span class="op" id="8506835">}</span><span class="op" id="8506836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506839">{</span><span class="ident" id="8506840">token</span><span class="op" id="8506845">.</span><span class="ident" id="8506846">MAP</span><span class="op" id="8506849">,</span>&nbsp;<span class="string" id="8506851">&#34;map&#34;</span><span class="op" id="8506856">,</span>&nbsp;<span class="ident" id="8506858">keyword</span><span class="op" id="8506865">}</span><span class="op" id="8506866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506869">{</span><span class="ident" id="8506870">token</span><span class="op" id="8506875">.</span><span class="ident" id="8506876">PACKAGE</span><span class="op" id="8506883">,</span>&nbsp;<span class="string" id="8506885">&#34;package&#34;</span><span class="op" id="8506894">,</span>&nbsp;<span class="ident" id="8506896">keyword</span><span class="op" id="8506903">}</span><span class="op" id="8506904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506907">{</span><span class="ident" id="8506908">token</span><span class="op" id="8506913">.</span><span class="ident" id="8506914">RANGE</span><span class="op" id="8506919">,</span>&nbsp;<span class="string" id="8506921">&#34;range&#34;</span><span class="op" id="8506928">,</span>&nbsp;<span class="ident" id="8506930">keyword</span><span class="op" id="8506937">}</span><span class="op" id="8506938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506941">{</span><span class="ident" id="8506942">token</span><span class="op" id="8506947">.</span><span class="ident" id="8506948">RETURN</span><span class="op" id="8506954">,</span>&nbsp;<span class="string" id="8506956">&#34;return&#34;</span><span class="op" id="8506964">,</span>&nbsp;<span class="ident" id="8506966">keyword</span><span class="op" id="8506973">}</span><span class="op" id="8506974">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8506978">{</span><span class="ident" id="8506979">token</span><span class="op" id="8506984">.</span><span class="ident" id="8506985">SELECT</span><span class="op" id="8506991">,</span>&nbsp;<span class="string" id="8506993">&#34;select&#34;</span><span class="op" id="8507001">,</span>&nbsp;<span class="ident" id="8507003">keyword</span><span class="op" id="8507010">}</span><span class="op" id="8507011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507014">{</span><span class="ident" id="8507015">token</span><span class="op" id="8507020">.</span><span class="ident" id="8507021">STRUCT</span><span class="op" id="8507027">,</span>&nbsp;<span class="string" id="8507029">&#34;struct&#34;</span><span class="op" id="8507037">,</span>&nbsp;<span class="ident" id="8507039">keyword</span><span class="op" id="8507046">}</span><span class="op" id="8507047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507050">{</span><span class="ident" id="8507051">token</span><span class="op" id="8507056">.</span><span class="ident" id="8507057">SWITCH</span><span class="op" id="8507063">,</span>&nbsp;<span class="string" id="8507065">&#34;switch&#34;</span><span class="op" id="8507073">,</span>&nbsp;<span class="ident" id="8507075">keyword</span><span class="op" id="8507082">}</span><span class="op" id="8507083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507086">{</span><span class="ident" id="8507087">token</span><span class="op" id="8507092">.</span><span class="ident" id="8507093">TYPE</span><span class="op" id="8507097">,</span>&nbsp;<span class="string" id="8507099">&#34;type&#34;</span><span class="op" id="8507105">,</span>&nbsp;<span class="ident" id="8507107">keyword</span><span class="op" id="8507114">}</span><span class="op" id="8507115">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507118">{</span><span class="ident" id="8507119">token</span><span class="op" id="8507124">.</span><span class="ident" id="8507125">VAR</span><span class="op" id="8507128">,</span>&nbsp;<span class="string" id="8507130">&#34;var&#34;</span><span class="op" id="8507135">,</span>&nbsp;<span class="ident" id="8507137">keyword</span><span class="op" id="8507144">}</span><span class="op" id="8507145">,</span><br>
<span class="lineno"></span><span class="op" id="8507147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8507150">const</span>&nbsp;<span class="ident" id="8507156">whitespace</span>&nbsp;<span class="op" id="8507167">=</span>&nbsp;<span class="string" id="8507169">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="8507184">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="8507207">var</span>&nbsp;<span class="ident" id="8507211">source</span>&nbsp;<span class="op" id="8507218">=</span>&nbsp;<span class="keyword" id="8507220">func</span><span class="op" id="8507224">(</span><span class="op" id="8507225">)</span>&nbsp;<span class="op" id="8507227">[</span><span class="op" id="8507228">]</span><span class="builtintype" id="8507229">byte</span>&nbsp;<span class="op" id="8507234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507237">var</span>&nbsp;<span class="ident" id="8507241">src</span>&nbsp;<span class="op" id="8507245">[</span><span class="op" id="8507246">]</span><span class="builtintype" id="8507247">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507253">for</span>&nbsp;<span class="ident" id="8507257">_</span><span class="op" id="8507258">,</span>&nbsp;<span class="ident" id="8507260">t</span>&nbsp;<span class="op" id="8507262">:=</span>&nbsp;<span class="keyword" id="8507265">range</span>&nbsp;<span class="ident" id="8507271">tokens</span>&nbsp;<span class="op" id="8507278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507282">src</span>&nbsp;<span class="op" id="8507286">=</span>&nbsp;<span class="builtinfunc" id="8507288">append</span><span class="op" id="8507294">(</span><span class="ident" id="8507295">src</span><span class="op" id="8507298">,</span>&nbsp;<span class="ident" id="8507300">t</span><span class="op" id="8507301">.</span><span class="ident" id="8507302">lit</span><span class="op" id="8507305">...</span><span class="op" id="8507308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507312">src</span>&nbsp;<span class="op" id="8507316">=</span>&nbsp;<span class="builtinfunc" id="8507318">append</span><span class="op" id="8507324">(</span><span class="ident" id="8507325">src</span><span class="op" id="8507328">,</span>&nbsp;<span class="ident" id="8507330">whitespace</span><span class="op" id="8507340">...</span><span class="op" id="8507343">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507349">return</span>&nbsp;<span class="ident" id="8507356">src</span><br>
<span class="lineno"></span><span class="op" id="8507360">}</span><span class="op" id="8507361">(</span><span class="op" id="8507362">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8507365">func</span>&nbsp;<span class="ident" id="8507370">newlineCount</span><span class="op" id="8507382">(</span><span class="ident" id="8507383">s</span>&nbsp;<span class="builtintype" id="8507385">string</span><span class="op" id="8507391">)</span>&nbsp;<span class="builtintype" id="8507393">int</span>&nbsp;<span class="op" id="8507397">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507400">n</span>&nbsp;<span class="op" id="8507402">:=</span>&nbsp;<span class="num" id="8507405">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507408">for</span>&nbsp;<span class="ident" id="8507412">i</span>&nbsp;<span class="op" id="8507414">:=</span>&nbsp;<span class="num" id="8507417">0</span><span class="op" id="8507418">;</span>&nbsp;<span class="ident" id="8507420">i</span>&nbsp;<span class="op" id="8507422">&lt;</span>&nbsp;<span class="builtinfunc" id="8507424">len</span><span class="op" id="8507427">(</span><span class="ident" id="8507428">s</span><span class="op" id="8507429">)</span><span class="op" id="8507430">;</span>&nbsp;<span class="ident" id="8507432">i</span><span class="op" id="8507433">++</span>&nbsp;<span class="op" id="8507436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507440">if</span>&nbsp;<span class="ident" id="8507443">s</span><span class="op" id="8507444">[</span><span class="ident" id="8507445">i</span><span class="op" id="8507446">]</span>&nbsp;<span class="op" id="8507448">==</span>&nbsp;<span class="string" id="8507451">&#39;\n&#39;</span>&nbsp;<span class="op" id="8507456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507461">n</span><span class="op" id="8507462">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507467">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507473">return</span>&nbsp;<span class="ident" id="8507480">n</span><br>
<span class="lineno"></span><span class="op" id="8507482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8507485">func</span>&nbsp;<span class="ident" id="8507490">checkPos</span><span class="op" id="8507498">(</span><span class="ident" id="8507499">t</span>&nbsp;<span class="op" id="8507501">*</span><span class="ident" id="8507502">testing</span><span class="op" id="8507509">.</span><span class="ident" id="8507510">T</span><span class="op" id="8507511">,</span>&nbsp;<span class="ident" id="8507513">lit</span>&nbsp;<span class="builtintype" id="8507517">string</span><span class="op" id="8507523">,</span>&nbsp;<span class="ident" id="8507525">p</span>&nbsp;<span class="ident" id="8507527">token</span><span class="op" id="8507532">.</span><span class="ident" id="8507533">Pos</span><span class="op" id="8507536">,</span>&nbsp;<span class="ident" id="8507538">expected</span>&nbsp;<span class="ident" id="8507547">token</span><span class="op" id="8507552">.</span><span class="ident" id="8507553">Position</span><span class="op" id="8507561">)</span>&nbsp;<span class="op" id="8507563">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507566">pos</span>&nbsp;<span class="op" id="8507570">:=</span>&nbsp;<span class="ident" id="8507573">fset</span><span class="op" id="8507577">.</span><span class="ident" id="8507578">Position</span><span class="op" id="8507586">(</span><span class="ident" id="8507587">p</span><span class="op" id="8507588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507591">if</span>&nbsp;<span class="ident" id="8507594">pos</span><span class="op" id="8507597">.</span><span class="ident" id="8507598">Filename</span>&nbsp;<span class="op" id="8507607">!=</span>&nbsp;<span class="ident" id="8507610">expected</span><span class="op" id="8507618">.</span><span class="ident" id="8507619">Filename</span>&nbsp;<span class="op" id="8507628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507632">t</span><span class="op" id="8507633">.</span><span class="ident" id="8507634">Errorf</span><span class="op" id="8507640">(</span><span class="string" id="8507641">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8507683">,</span>&nbsp;<span class="ident" id="8507685">lit</span><span class="op" id="8507688">,</span>&nbsp;<span class="ident" id="8507690">pos</span><span class="op" id="8507693">.</span><span class="ident" id="8507694">Filename</span><span class="op" id="8507702">,</span>&nbsp;<span class="ident" id="8507704">expected</span><span class="op" id="8507712">.</span><span class="ident" id="8507713">Filename</span><span class="op" id="8507721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507727">if</span>&nbsp;<span class="ident" id="8507730">pos</span><span class="op" id="8507733">.</span><span class="ident" id="8507734">Offset</span>&nbsp;<span class="op" id="8507741">!=</span>&nbsp;<span class="ident" id="8507744">expected</span><span class="op" id="8507752">.</span><span class="ident" id="8507753">Offset</span>&nbsp;<span class="op" id="8507760">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507764">t</span><span class="op" id="8507765">.</span><span class="ident" id="8507766">Errorf</span><span class="op" id="8507772">(</span><span class="string" id="8507773">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8507815">,</span>&nbsp;<span class="ident" id="8507817">lit</span><span class="op" id="8507820">,</span>&nbsp;<span class="ident" id="8507822">pos</span><span class="op" id="8507825">.</span><span class="ident" id="8507826">Offset</span><span class="op" id="8507832">,</span>&nbsp;<span class="ident" id="8507834">expected</span><span class="op" id="8507842">.</span><span class="ident" id="8507843">Offset</span><span class="op" id="8507849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507855">if</span>&nbsp;<span class="ident" id="8507858">pos</span><span class="op" id="8507861">.</span><span class="ident" id="8507862">Line</span>&nbsp;<span class="op" id="8507867">!=</span>&nbsp;<span class="ident" id="8507870">expected</span><span class="op" id="8507878">.</span><span class="ident" id="8507879">Line</span>&nbsp;<span class="op" id="8507884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8507888">t</span><span class="op" id="8507889">.</span><span class="ident" id="8507890">Errorf</span><span class="op" id="8507896">(</span><span class="string" id="8507897">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8507935">,</span>&nbsp;<span class="ident" id="8507937">lit</span><span class="op" id="8507940">,</span>&nbsp;<span class="ident" id="8507942">pos</span><span class="op" id="8507945">.</span><span class="ident" id="8507946">Line</span><span class="op" id="8507950">,</span>&nbsp;<span class="ident" id="8507952">expected</span><span class="op" id="8507960">.</span><span class="ident" id="8507961">Line</span><span class="op" id="8507965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8507968">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8507971">if</span>&nbsp;<span class="ident" id="8507974">pos</span><span class="op" id="8507977">.</span><span class="ident" id="8507978">Column</span>&nbsp;<span class="op" id="8507985">!=</span>&nbsp;<span class="ident" id="8507988">expected</span><span class="op" id="8507996">.</span><span class="ident" id="8507997">Column</span>&nbsp;<span class="op" id="8508004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508008">t</span><span class="op" id="8508009">.</span><span class="ident" id="8508010">Errorf</span><span class="op" id="8508016">(</span><span class="string" id="8508017">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8508057">,</span>&nbsp;<span class="ident" id="8508059">lit</span><span class="op" id="8508062">,</span>&nbsp;<span class="ident" id="8508064">pos</span><span class="op" id="8508067">.</span><span class="ident" id="8508068">Column</span><span class="op" id="8508074">,</span>&nbsp;<span class="ident" id="8508076">expected</span><span class="op" id="8508084">.</span><span class="ident" id="8508085">Column</span><span class="op" id="8508091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508094">}</span><br>
<span class="lineno"></span><span class="op" id="8508096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="8508099">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="8508159">func</span>&nbsp;<span class="ident" id="8508164">TestScan</span><span class="op" id="8508172">(</span><span class="ident" id="8508173">t</span>&nbsp;<span class="op" id="8508175">*</span><span class="ident" id="8508176">testing</span><span class="op" id="8508183">.</span><span class="ident" id="8508184">T</span><span class="op" id="8508185">)</span>&nbsp;<span class="op" id="8508187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508190">whitespace_linecount</span>&nbsp;<span class="op" id="8508211">:=</span>&nbsp;<span class="ident" id="8508214">newlineCount</span><span class="op" id="8508226">(</span><span class="ident" id="8508227">whitespace</span><span class="op" id="8508237">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8508241">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508259">eh</span>&nbsp;<span class="op" id="8508262">:=</span>&nbsp;<span class="keyword" id="8508265">func</span><span class="op" id="8508269">(</span><span class="ident" id="8508270">_</span>&nbsp;<span class="ident" id="8508272">token</span><span class="op" id="8508277">.</span><span class="ident" id="8508278">Position</span><span class="op" id="8508286">,</span>&nbsp;<span class="ident" id="8508288">msg</span>&nbsp;<span class="builtintype" id="8508292">string</span><span class="op" id="8508298">)</span>&nbsp;<span class="op" id="8508300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508304">t</span><span class="op" id="8508305">.</span><span class="ident" id="8508306">Errorf</span><span class="op" id="8508312">(</span><span class="string" id="8508313">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="8508346">,</span>&nbsp;<span class="ident" id="8508348">msg</span><span class="op" id="8508351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8508358">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508374">var</span>&nbsp;<span class="ident" id="8508378">s</span>&nbsp;<span class="ident" id="8508380">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508389">s</span><span class="op" id="8508390">.</span><span class="ident" id="8508391">Init</span><span class="op" id="8508395">(</span><span class="ident" id="8508396">fset</span><span class="op" id="8508400">.</span><span class="ident" id="8508401">AddFile</span><span class="op" id="8508408">(</span><span class="string" id="8508409">&#34;&#34;</span><span class="op" id="8508411">,</span>&nbsp;<span class="ident" id="8508413">fset</span><span class="op" id="8508417">.</span><span class="ident" id="8508418">Base</span><span class="op" id="8508422">(</span><span class="op" id="8508423">)</span><span class="op" id="8508424">,</span>&nbsp;<span class="builtinfunc" id="8508426">len</span><span class="op" id="8508429">(</span><span class="ident" id="8508430">source</span><span class="op" id="8508436">)</span><span class="op" id="8508437">)</span><span class="op" id="8508438">,</span>&nbsp;<span class="ident" id="8508440">source</span><span class="op" id="8508446">,</span>&nbsp;<span class="ident" id="8508448">eh</span><span class="op" id="8508450">,</span>&nbsp;<span class="ident" id="8508452">ScanComments</span><span class="op" id="8508464">|</span><span class="ident" id="8508465">dontInsertSemis</span><span class="op" id="8508480">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8508484">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508513">epos</span>&nbsp;<span class="op" id="8508518">:=</span>&nbsp;<span class="ident" id="8508521">token</span><span class="op" id="8508526">.</span><span class="ident" id="8508527">Position</span><span class="op" id="8508535">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508539">Filename</span><span class="op" id="8508547">:</span>&nbsp;<span class="string" id="8508549">&#34;&#34;</span><span class="op" id="8508551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508555">Offset</span><span class="op" id="8508561">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8508565">0</span><span class="op" id="8508566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508570">Line</span><span class="op" id="8508574">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8508580">1</span><span class="op" id="8508581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508585">Column</span><span class="op" id="8508591">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8508595">1</span><span class="op" id="8508596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508599">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508603">index</span>&nbsp;<span class="op" id="8508609">:=</span>&nbsp;<span class="num" id="8508612">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508615">for</span>&nbsp;<span class="op" id="8508619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508623">pos</span><span class="op" id="8508626">,</span>&nbsp;<span class="ident" id="8508628">tok</span><span class="op" id="8508631">,</span>&nbsp;<span class="ident" id="8508633">lit</span>&nbsp;<span class="op" id="8508637">:=</span>&nbsp;<span class="ident" id="8508640">s</span><span class="op" id="8508641">.</span><span class="ident" id="8508642">Scan</span><span class="op" id="8508646">(</span><span class="op" id="8508647">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8508652">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508672">if</span>&nbsp;<span class="ident" id="8508675">tok</span>&nbsp;<span class="op" id="8508679">==</span>&nbsp;<span class="ident" id="8508682">token</span><span class="op" id="8508687">.</span><span class="ident" id="8508688">EOF</span>&nbsp;<span class="op" id="8508692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8508697">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508722">epos</span><span class="op" id="8508726">.</span><span class="ident" id="8508727">Line</span>&nbsp;<span class="op" id="8508732">=</span>&nbsp;<span class="ident" id="8508734">newlineCount</span><span class="op" id="8508746">(</span><span class="builtintype" id="8508747">string</span><span class="op" id="8508753">(</span><span class="ident" id="8508754">source</span><span class="op" id="8508760">)</span><span class="op" id="8508761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508766">epos</span><span class="op" id="8508770">.</span><span class="ident" id="8508771">Column</span>&nbsp;<span class="op" id="8508778">=</span>&nbsp;<span class="num" id="8508780">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508788">checkPos</span><span class="op" id="8508796">(</span><span class="ident" id="8508797">t</span><span class="op" id="8508798">,</span>&nbsp;<span class="ident" id="8508800">lit</span><span class="op" id="8508803">,</span>&nbsp;<span class="ident" id="8508805">pos</span><span class="op" id="8508808">,</span>&nbsp;<span class="ident" id="8508810">epos</span><span class="op" id="8508814">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8508819">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508836">e</span>&nbsp;<span class="op" id="8508838">:=</span>&nbsp;<span class="ident" id="8508841">elt</span><span class="op" id="8508844">{</span><span class="ident" id="8508845">token</span><span class="op" id="8508850">.</span><span class="ident" id="8508851">EOF</span><span class="op" id="8508854">,</span>&nbsp;<span class="string" id="8508856">&#34;&#34;</span><span class="op" id="8508858">,</span>&nbsp;<span class="ident" id="8508860">special</span><span class="op" id="8508867">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508871">if</span>&nbsp;<span class="ident" id="8508874">index</span>&nbsp;<span class="op" id="8508880">&lt;</span>&nbsp;<span class="builtinfunc" id="8508882">len</span><span class="op" id="8508885">(</span><span class="ident" id="8508886">tokens</span><span class="op" id="8508892">)</span>&nbsp;<span class="op" id="8508894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508899">e</span>&nbsp;<span class="op" id="8508901">=</span>&nbsp;<span class="ident" id="8508903">tokens</span><span class="op" id="8508909">[</span><span class="ident" id="8508910">index</span><span class="op" id="8508915">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508920">index</span><span class="op" id="8508925">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8508930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8508934">if</span>&nbsp;<span class="ident" id="8508937">tok</span>&nbsp;<span class="op" id="8508941">!=</span>&nbsp;<span class="ident" id="8508944">e</span><span class="op" id="8508945">.</span><span class="ident" id="8508946">tok</span>&nbsp;<span class="op" id="8508950">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8508955">t</span><span class="op" id="8508956">.</span><span class="ident" id="8508957">Errorf</span><span class="op" id="8508963">(</span><span class="string" id="8508964">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8509003">,</span>&nbsp;<span class="ident" id="8509005">lit</span><span class="op" id="8509008">,</span>&nbsp;<span class="ident" id="8509010">tok</span><span class="op" id="8509013">,</span>&nbsp;<span class="ident" id="8509015">e</span><span class="op" id="8509016">.</span><span class="ident" id="8509017">tok</span><span class="op" id="8509020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8509029">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509052">if</span>&nbsp;<span class="ident" id="8509055">tokenclass</span><span class="op" id="8509065">(</span><span class="ident" id="8509066">tok</span><span class="op" id="8509069">)</span>&nbsp;<span class="op" id="8509071">!=</span>&nbsp;<span class="ident" id="8509074">e</span><span class="op" id="8509075">.</span><span class="ident" id="8509076">class</span>&nbsp;<span class="op" id="8509082">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509087">t</span><span class="op" id="8509088">.</span><span class="ident" id="8509089">Errorf</span><span class="op" id="8509095">(</span><span class="string" id="8509096">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8509135">,</span>&nbsp;<span class="ident" id="8509137">lit</span><span class="op" id="8509140">,</span>&nbsp;<span class="ident" id="8509142">tokenclass</span><span class="op" id="8509152">(</span><span class="ident" id="8509153">tok</span><span class="op" id="8509156">)</span><span class="op" id="8509157">,</span>&nbsp;<span class="ident" id="8509159">e</span><span class="op" id="8509160">.</span><span class="ident" id="8509161">class</span><span class="op" id="8509166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8509175">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509194">elit</span>&nbsp;<span class="op" id="8509199">:=</span>&nbsp;<span class="string" id="8509202">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509207">switch</span>&nbsp;<span class="ident" id="8509214">e</span><span class="op" id="8509215">.</span><span class="ident" id="8509216">tok</span>&nbsp;<span class="op" id="8509220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509224">case</span>&nbsp;<span class="ident" id="8509229">token</span><span class="op" id="8509234">.</span><span class="ident" id="8509235">COMMENT</span><span class="op" id="8509242">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8509247">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509272">elit</span>&nbsp;<span class="op" id="8509277">=</span>&nbsp;<span class="builtintype" id="8509279">string</span><span class="op" id="8509285">(</span><span class="ident" id="8509286">stripCR</span><span class="op" id="8509293">(</span><span class="op" id="8509294">[</span><span class="op" id="8509295">]</span><span class="builtintype" id="8509296">byte</span><span class="op" id="8509300">(</span><span class="ident" id="8509301">e</span><span class="op" id="8509302">.</span><span class="ident" id="8509303">lit</span><span class="op" id="8509306">)</span><span class="op" id="8509307">)</span><span class="op" id="8509308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8509313">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509365">if</span>&nbsp;<span class="ident" id="8509368">elit</span><span class="op" id="8509372">[</span><span class="num" id="8509373">1</span><span class="op" id="8509374">]</span>&nbsp;<span class="op" id="8509376">==</span>&nbsp;<span class="string" id="8509379">&#39;/&#39;</span>&nbsp;<span class="op" id="8509383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509389">elit</span>&nbsp;<span class="op" id="8509394">=</span>&nbsp;<span class="ident" id="8509396">elit</span><span class="op" id="8509400">[</span><span class="num" id="8509401">0</span>&nbsp;<span class="op" id="8509403">:</span>&nbsp;<span class="builtinfunc" id="8509405">len</span><span class="op" id="8509408">(</span><span class="ident" id="8509409">elit</span><span class="op" id="8509413">)</span><span class="op" id="8509414">-</span><span class="num" id="8509415">1</span><span class="op" id="8509416">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509425">case</span>&nbsp;<span class="ident" id="8509430">token</span><span class="op" id="8509435">.</span><span class="ident" id="8509436">IDENT</span><span class="op" id="8509441">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509446">elit</span>&nbsp;<span class="op" id="8509451">=</span>&nbsp;<span class="ident" id="8509453">e</span><span class="op" id="8509454">.</span><span class="ident" id="8509455">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509461">case</span>&nbsp;<span class="ident" id="8509466">token</span><span class="op" id="8509471">.</span><span class="ident" id="8509472">SEMICOLON</span><span class="op" id="8509481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509486">elit</span>&nbsp;<span class="op" id="8509491">=</span>&nbsp;<span class="string" id="8509493">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509499">default</span><span class="op" id="8509506">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509511">if</span>&nbsp;<span class="ident" id="8509514">e</span><span class="op" id="8509515">.</span><span class="ident" id="8509516">tok</span><span class="op" id="8509519">.</span><span class="ident" id="8509520">IsLiteral</span><span class="op" id="8509529">(</span><span class="op" id="8509530">)</span>&nbsp;<span class="op" id="8509532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8509538">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509575">elit</span>&nbsp;<span class="op" id="8509580">=</span>&nbsp;<span class="ident" id="8509582">e</span><span class="op" id="8509583">.</span><span class="ident" id="8509584">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509592">if</span>&nbsp;<span class="ident" id="8509595">elit</span><span class="op" id="8509599">[</span><span class="num" id="8509600">0</span><span class="op" id="8509601">]</span>&nbsp;<span class="op" id="8509603">==</span>&nbsp;<span class="string" id="8509606">&#39;`&#39;</span>&nbsp;<span class="op" id="8509610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509617">elit</span>&nbsp;<span class="op" id="8509622">=</span>&nbsp;<span class="builtintype" id="8509624">string</span><span class="op" id="8509630">(</span><span class="ident" id="8509631">stripCR</span><span class="op" id="8509638">(</span><span class="op" id="8509639">[</span><span class="op" id="8509640">]</span><span class="builtintype" id="8509641">byte</span><span class="op" id="8509645">(</span><span class="ident" id="8509646">elit</span><span class="op" id="8509650">)</span><span class="op" id="8509651">)</span><span class="op" id="8509652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509663">}</span>&nbsp;<span class="keyword" id="8509665">else</span>&nbsp;<span class="keyword" id="8509670">if</span>&nbsp;<span class="ident" id="8509673">e</span><span class="op" id="8509674">.</span><span class="ident" id="8509675">tok</span><span class="op" id="8509678">.</span><span class="ident" id="8509679">IsKeyword</span><span class="op" id="8509688">(</span><span class="op" id="8509689">)</span>&nbsp;<span class="op" id="8509691">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509697">elit</span>&nbsp;<span class="op" id="8509702">=</span>&nbsp;<span class="ident" id="8509704">e</span><span class="op" id="8509705">.</span><span class="ident" id="8509706">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509721">if</span>&nbsp;<span class="ident" id="8509724">lit</span>&nbsp;<span class="op" id="8509728">!=</span>&nbsp;<span class="ident" id="8509731">elit</span>&nbsp;<span class="op" id="8509736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509741">t</span><span class="op" id="8509742">.</span><span class="ident" id="8509743">Errorf</span><span class="op" id="8509749">(</span><span class="string" id="8509750">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8509791">,</span>&nbsp;<span class="ident" id="8509793">lit</span><span class="op" id="8509796">,</span>&nbsp;<span class="ident" id="8509798">lit</span><span class="op" id="8509801">,</span>&nbsp;<span class="ident" id="8509803">elit</span><span class="op" id="8509807">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509816">if</span>&nbsp;<span class="ident" id="8509819">tok</span>&nbsp;<span class="op" id="8509823">==</span>&nbsp;<span class="ident" id="8509826">token</span><span class="op" id="8509831">.</span><span class="ident" id="8509832">EOF</span>&nbsp;<span class="op" id="8509836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509841">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509849">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8509854">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509875">epos</span><span class="op" id="8509879">.</span><span class="ident" id="8509880">Offset</span>&nbsp;<span class="op" id="8509887">+=</span>&nbsp;<span class="builtinfunc" id="8509890">len</span><span class="op" id="8509893">(</span><span class="ident" id="8509894">e</span><span class="op" id="8509895">.</span><span class="ident" id="8509896">lit</span><span class="op" id="8509899">)</span>&nbsp;<span class="op" id="8509901">+</span>&nbsp;<span class="builtinfunc" id="8509903">len</span><span class="op" id="8509906">(</span><span class="ident" id="8509907">whitespace</span><span class="op" id="8509917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8509921">epos</span><span class="op" id="8509925">.</span><span class="ident" id="8509926">Line</span>&nbsp;<span class="op" id="8509931">+=</span>&nbsp;<span class="ident" id="8509934">newlineCount</span><span class="op" id="8509946">(</span><span class="ident" id="8509947">e</span><span class="op" id="8509948">.</span><span class="ident" id="8509949">lit</span><span class="op" id="8509952">)</span>&nbsp;<span class="op" id="8509954">+</span>&nbsp;<span class="ident" id="8509956">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8509979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8509983">if</span>&nbsp;<span class="ident" id="8509986">s</span><span class="op" id="8509987">.</span><span class="ident" id="8509988">ErrorCount</span>&nbsp;<span class="op" id="8509999">!=</span>&nbsp;<span class="num" id="8510002">0</span>&nbsp;<span class="op" id="8510004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510008">t</span><span class="op" id="8510009">.</span><span class="ident" id="8510010">Errorf</span><span class="op" id="8510016">(</span><span class="string" id="8510017">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8510034">,</span>&nbsp;<span class="ident" id="8510036">s</span><span class="op" id="8510037">.</span><span class="ident" id="8510038">ErrorCount</span><span class="op" id="8510048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8510051">}</span><br>
<span class="lineno">310</span><span class="op" id="8510053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8510056">func</span>&nbsp;<span class="ident" id="8510061">checkSemi</span><span class="op" id="8510070">(</span><span class="ident" id="8510071">t</span>&nbsp;<span class="op" id="8510073">*</span><span class="ident" id="8510074">testing</span><span class="op" id="8510081">.</span><span class="ident" id="8510082">T</span><span class="op" id="8510083">,</span>&nbsp;<span class="ident" id="8510085">line</span>&nbsp;<span class="builtintype" id="8510090">string</span><span class="op" id="8510096">,</span>&nbsp;<span class="ident" id="8510098">mode</span>&nbsp;<span class="ident" id="8510103">Mode</span><span class="op" id="8510107">)</span>&nbsp;<span class="op" id="8510109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8510112">var</span>&nbsp;<span class="ident" id="8510116">S</span>&nbsp;<span class="ident" id="8510118">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510127">file</span>&nbsp;<span class="op" id="8510132">:=</span>&nbsp;<span class="ident" id="8510135">fset</span><span class="op" id="8510139">.</span><span class="ident" id="8510140">AddFile</span><span class="op" id="8510147">(</span><span class="string" id="8510148">&#34;TestSemis&#34;</span><span class="op" id="8510159">,</span>&nbsp;<span class="ident" id="8510161">fset</span><span class="op" id="8510165">.</span><span class="ident" id="8510166">Base</span><span class="op" id="8510170">(</span><span class="op" id="8510171">)</span><span class="op" id="8510172">,</span>&nbsp;<span class="builtinfunc" id="8510174">len</span><span class="op" id="8510177">(</span><span class="ident" id="8510178">line</span><span class="op" id="8510182">)</span><span class="op" id="8510183">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510186">S</span><span class="op" id="8510187">.</span><span class="ident" id="8510188">Init</span><span class="op" id="8510192">(</span><span class="ident" id="8510193">file</span><span class="op" id="8510197">,</span>&nbsp;<span class="op" id="8510199">[</span><span class="op" id="8510200">]</span><span class="builtintype" id="8510201">byte</span><span class="op" id="8510205">(</span><span class="ident" id="8510206">line</span><span class="op" id="8510210">)</span><span class="op" id="8510211">,</span>&nbsp;<span class="ident" id="8510213">nil</span><span class="op" id="8510216">,</span>&nbsp;<span class="ident" id="8510218">mode</span><span class="op" id="8510222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510225">pos</span><span class="op" id="8510228">,</span>&nbsp;<span class="ident" id="8510230">tok</span><span class="op" id="8510233">,</span>&nbsp;<span class="ident" id="8510235">lit</span>&nbsp;<span class="op" id="8510239">:=</span>&nbsp;<span class="ident" id="8510242">S</span><span class="op" id="8510243">.</span><span class="ident" id="8510244">Scan</span><span class="op" id="8510248">(</span><span class="op" id="8510249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8510252">for</span>&nbsp;<span class="ident" id="8510256">tok</span>&nbsp;<span class="op" id="8510260">!=</span>&nbsp;<span class="ident" id="8510263">token</span><span class="op" id="8510268">.</span><span class="ident" id="8510269">EOF</span>&nbsp;<span class="op" id="8510273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8510277">if</span>&nbsp;<span class="ident" id="8510280">tok</span>&nbsp;<span class="op" id="8510284">==</span>&nbsp;<span class="ident" id="8510287">token</span><span class="op" id="8510292">.</span><span class="ident" id="8510293">ILLEGAL</span>&nbsp;<span class="op" id="8510301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8510306">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8510353">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510395">semiLit</span>&nbsp;<span class="op" id="8510403">:=</span>&nbsp;<span class="string" id="8510406">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8510414">if</span>&nbsp;<span class="ident" id="8510417">lit</span><span class="op" id="8510420">[</span><span class="num" id="8510421">0</span><span class="op" id="8510422">]</span>&nbsp;<span class="op" id="8510424">==</span>&nbsp;<span class="string" id="8510427">&#39;#&#39;</span>&nbsp;<span class="op" id="8510431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510437">semiLit</span>&nbsp;<span class="op" id="8510445">=</span>&nbsp;<span class="string" id="8510447">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8510454">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8510459">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510496">semiPos</span>&nbsp;<span class="op" id="8510504">:=</span>&nbsp;<span class="ident" id="8510507">file</span><span class="op" id="8510511">.</span><span class="ident" id="8510512">Position</span><span class="op" id="8510520">(</span><span class="ident" id="8510521">pos</span><span class="op" id="8510524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510529">semiPos</span><span class="op" id="8510536">.</span><span class="ident" id="8510537">Offset</span><span class="op" id="8510543">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510549">semiPos</span><span class="op" id="8510556">.</span><span class="ident" id="8510557">Column</span><span class="op" id="8510563">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510569">pos</span><span class="op" id="8510572">,</span>&nbsp;<span class="ident" id="8510574">tok</span><span class="op" id="8510577">,</span>&nbsp;<span class="ident" id="8510579">lit</span>&nbsp;<span class="op" id="8510583">=</span>&nbsp;<span class="ident" id="8510585">S</span><span class="op" id="8510586">.</span><span class="ident" id="8510587">Scan</span><span class="op" id="8510591">(</span><span class="op" id="8510592">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8510597">if</span>&nbsp;<span class="ident" id="8510600">tok</span>&nbsp;<span class="op" id="8510604">==</span>&nbsp;<span class="ident" id="8510607">token</span><span class="op" id="8510612">.</span><span class="ident" id="8510613">SEMICOLON</span>&nbsp;<span class="op" id="8510623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8510629">if</span>&nbsp;<span class="ident" id="8510632">lit</span>&nbsp;<span class="op" id="8510636">!=</span>&nbsp;<span class="ident" id="8510639">semiLit</span>&nbsp;<span class="op" id="8510647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510654">t</span><span class="op" id="8510655">.</span><span class="ident" id="8510656">Errorf</span><span class="op" id="8510662">(</span><span class="string" id="8510663">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="8510704">,</span>&nbsp;<span class="ident" id="8510706">line</span><span class="op" id="8510710">,</span>&nbsp;<span class="ident" id="8510712">lit</span><span class="op" id="8510715">,</span>&nbsp;<span class="ident" id="8510717">semiLit</span><span class="op" id="8510724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8510730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510736">checkPos</span><span class="op" id="8510744">(</span><span class="ident" id="8510745">t</span><span class="op" id="8510746">,</span>&nbsp;<span class="ident" id="8510748">line</span><span class="op" id="8510752">,</span>&nbsp;<span class="ident" id="8510754">pos</span><span class="op" id="8510757">,</span>&nbsp;<span class="ident" id="8510759">semiPos</span><span class="op" id="8510766">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8510771">}</span>&nbsp;<span class="keyword" id="8510773">else</span>&nbsp;<span class="op" id="8510778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510784">t</span><span class="op" id="8510785">.</span><span class="ident" id="8510786">Errorf</span><span class="op" id="8510792">(</span><span class="string" id="8510793">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="8510831">,</span>&nbsp;<span class="ident" id="8510833">line</span><span class="op" id="8510837">,</span>&nbsp;<span class="ident" id="8510839">tok</span><span class="op" id="8510842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8510847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8510851">}</span>&nbsp;<span class="keyword" id="8510853">else</span>&nbsp;<span class="keyword" id="8510858">if</span>&nbsp;<span class="ident" id="8510861">tok</span>&nbsp;<span class="op" id="8510865">==</span>&nbsp;<span class="ident" id="8510868">token</span><span class="op" id="8510873">.</span><span class="ident" id="8510874">SEMICOLON</span>&nbsp;<span class="op" id="8510884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510889">t</span><span class="op" id="8510890">.</span><span class="ident" id="8510891">Errorf</span><span class="op" id="8510897">(</span><span class="string" id="8510898">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="8510938">,</span>&nbsp;<span class="ident" id="8510940">line</span><span class="op" id="8510944">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8510948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8510952">pos</span><span class="op" id="8510955">,</span>&nbsp;<span class="ident" id="8510957">tok</span><span class="op" id="8510960">,</span>&nbsp;<span class="ident" id="8510962">lit</span>&nbsp;<span class="op" id="8510966">=</span>&nbsp;<span class="ident" id="8510968">S</span><span class="op" id="8510969">.</span><span class="ident" id="8510970">Scan</span><span class="op" id="8510974">(</span><span class="op" id="8510975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8510978">}</span><br>
<span class="lineno"></span><span class="op" id="8510980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="8510983">var</span>&nbsp;<span class="ident" id="8510987">lines</span>&nbsp;<span class="op" id="8510993">=</span>&nbsp;<span class="op" id="8510995">[</span><span class="op" id="8510996">]</span><span class="builtintype" id="8510997">string</span><span class="op" id="8511003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8511006">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8511056">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511108">&#34;&#34;</span><span class="op" id="8511110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511113">&#34;\ufeff#;&#34;</span><span class="op" id="8511123">,</span>&nbsp;<span class="comment" id="8511125">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511150">&#34;#;&#34;</span><span class="op" id="8511154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511157">&#34;foo$\n&#34;</span><span class="op" id="8511165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511168">&#34;123$\n&#34;</span><span class="op" id="8511176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511179">&#34;1.2$\n&#34;</span><span class="op" id="8511187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511190">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="8511198">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511201">`&#34;x&#34;`</span>&nbsp;<span class="op" id="8511207">+</span>&nbsp;<span class="string" id="8511209">&#34;$\n&#34;</span><span class="op" id="8511214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511217">&#34;`x`$\n&#34;</span><span class="op" id="8511225">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511229">&#34;+\n&#34;</span><span class="op" id="8511234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511237">&#34;-\n&#34;</span><span class="op" id="8511242">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511245">&#34;*\n&#34;</span><span class="op" id="8511250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511253">&#34;/\n&#34;</span><span class="op" id="8511258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511261">&#34;%\n&#34;</span><span class="op" id="8511266">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511270">&#34;&amp;\n&#34;</span><span class="op" id="8511275">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511278">&#34;|\n&#34;</span><span class="op" id="8511283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511286">&#34;^\n&#34;</span><span class="op" id="8511291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511294">&#34;&lt;&lt;\n&#34;</span><span class="op" id="8511300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511303">&#34;&gt;&gt;\n&#34;</span><span class="op" id="8511309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511312">&#34;&amp;^\n&#34;</span><span class="op" id="8511318">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511322">&#34;+=\n&#34;</span><span class="op" id="8511328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511331">&#34;-=\n&#34;</span><span class="op" id="8511337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511340">&#34;*=\n&#34;</span><span class="op" id="8511346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511349">&#34;/=\n&#34;</span><span class="op" id="8511355">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511358">&#34;%=\n&#34;</span><span class="op" id="8511364">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511368">&#34;&amp;=\n&#34;</span><span class="op" id="8511374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511377">&#34;|=\n&#34;</span><span class="op" id="8511383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511386">&#34;^=\n&#34;</span><span class="op" id="8511392">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511395">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="8511402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511405">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="8511412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511415">&#34;&amp;^=\n&#34;</span><span class="op" id="8511422">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511426">&#34;&amp;&amp;\n&#34;</span><span class="op" id="8511432">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511435">&#34;||\n&#34;</span><span class="op" id="8511441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511444">&#34;&lt;-\n&#34;</span><span class="op" id="8511450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511453">&#34;++$\n&#34;</span><span class="op" id="8511460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511463">&#34;--$\n&#34;</span><span class="op" id="8511470">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511474">&#34;==\n&#34;</span><span class="op" id="8511480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511483">&#34;&lt;\n&#34;</span><span class="op" id="8511488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511491">&#34;&gt;\n&#34;</span><span class="op" id="8511496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511499">&#34;=\n&#34;</span><span class="op" id="8511504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511507">&#34;!\n&#34;</span><span class="op" id="8511512">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511516">&#34;!=\n&#34;</span><span class="op" id="8511522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511525">&#34;&lt;=\n&#34;</span><span class="op" id="8511531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511534">&#34;&gt;=\n&#34;</span><span class="op" id="8511540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511543">&#34;:=\n&#34;</span><span class="op" id="8511549">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511552">&#34;...\n&#34;</span><span class="op" id="8511559">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511563">&#34;(\n&#34;</span><span class="op" id="8511568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511571">&#34;[\n&#34;</span><span class="op" id="8511576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511579">&#34;{\n&#34;</span><span class="op" id="8511584">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511587">&#34;,\n&#34;</span><span class="op" id="8511592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511595">&#34;.\n&#34;</span><span class="op" id="8511600">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511604">&#34;)$\n&#34;</span><span class="op" id="8511610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511613">&#34;]$\n&#34;</span><span class="op" id="8511619">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511622">&#34;}$\n&#34;</span><span class="op" id="8511628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511631">&#34;#;\n&#34;</span><span class="op" id="8511637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511640">&#34;:\n&#34;</span><span class="op" id="8511645">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511649">&#34;break$\n&#34;</span><span class="op" id="8511659">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511662">&#34;case\n&#34;</span><span class="op" id="8511670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511673">&#34;chan\n&#34;</span><span class="op" id="8511681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511684">&#34;const\n&#34;</span><span class="op" id="8511693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511696">&#34;continue$\n&#34;</span><span class="op" id="8511709">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511713">&#34;default\n&#34;</span><span class="op" id="8511724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511727">&#34;defer\n&#34;</span><span class="op" id="8511736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511739">&#34;else\n&#34;</span><span class="op" id="8511747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511750">&#34;fallthrough$\n&#34;</span><span class="op" id="8511766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511769">&#34;for\n&#34;</span><span class="op" id="8511776">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511780">&#34;func\n&#34;</span><span class="op" id="8511788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511791">&#34;go\n&#34;</span><span class="op" id="8511797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511800">&#34;goto\n&#34;</span><span class="op" id="8511808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511811">&#34;if\n&#34;</span><span class="op" id="8511817">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511820">&#34;import\n&#34;</span><span class="op" id="8511830">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511834">&#34;interface\n&#34;</span><span class="op" id="8511847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511850">&#34;map\n&#34;</span><span class="op" id="8511857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511860">&#34;package\n&#34;</span><span class="op" id="8511871">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511874">&#34;range\n&#34;</span><span class="op" id="8511883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511886">&#34;return$\n&#34;</span><span class="op" id="8511897">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511901">&#34;select\n&#34;</span><span class="op" id="8511911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511914">&#34;struct\n&#34;</span><span class="op" id="8511924">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511927">&#34;switch\n&#34;</span><span class="op" id="8511937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511940">&#34;type\n&#34;</span><span class="op" id="8511948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511951">&#34;var\n&#34;</span><span class="op" id="8511958">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511962">&#34;foo$//comment\n&#34;</span><span class="op" id="8511979">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8511982">&#34;foo$//comment&#34;</span><span class="op" id="8511997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512000">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="8512019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512022">&#34;foo$/*\n*/&#34;</span><span class="op" id="8512034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512037">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8512060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512063">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8512079">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512083">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="8512105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512108">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="8512128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512131">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="8512154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512157">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="8512173">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512176">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="8512212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512215">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="8512244">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512248">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8512275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512278">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8512311">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512314">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="8512385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512388">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="8512428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512431">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="8512474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512477">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="8512520">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512524">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="8512591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8512594">&#34;package&nbsp;main$&#34;</span><span class="op" id="8512609">,</span><br>
<span class="lineno"></span><span class="op" id="8512611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8512614">func</span>&nbsp;<span class="ident" id="8512619">TestSemis</span><span class="op" id="8512628">(</span><span class="ident" id="8512629">t</span>&nbsp;<span class="op" id="8512631">*</span><span class="ident" id="8512632">testing</span><span class="op" id="8512639">.</span><span class="ident" id="8512640">T</span><span class="op" id="8512641">)</span>&nbsp;<span class="op" id="8512643">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8512646">for</span>&nbsp;<span class="ident" id="8512650">_</span><span class="op" id="8512651">,</span>&nbsp;<span class="ident" id="8512653">line</span>&nbsp;<span class="op" id="8512658">:=</span>&nbsp;<span class="keyword" id="8512661">range</span>&nbsp;<span class="ident" id="8512667">lines</span>&nbsp;<span class="op" id="8512673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8512677">checkSemi</span><span class="op" id="8512686">(</span><span class="ident" id="8512687">t</span><span class="op" id="8512688">,</span>&nbsp;<span class="ident" id="8512690">line</span><span class="op" id="8512694">,</span>&nbsp;<span class="num" id="8512696">0</span><span class="op" id="8512697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8512701">checkSemi</span><span class="op" id="8512710">(</span><span class="ident" id="8512711">t</span><span class="op" id="8512712">,</span>&nbsp;<span class="ident" id="8512714">line</span><span class="op" id="8512718">,</span>&nbsp;<span class="ident" id="8512720">ScanComments</span><span class="op" id="8512732">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8512737">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8512802">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8512843">for</span>&nbsp;<span class="ident" id="8512847">i</span>&nbsp;<span class="op" id="8512849">:=</span>&nbsp;<span class="builtinfunc" id="8512852">len</span><span class="op" id="8512855">(</span><span class="ident" id="8512856">line</span><span class="op" id="8512860">)</span>&nbsp;<span class="op" id="8512862">-</span>&nbsp;<span class="num" id="8512864">1</span><span class="op" id="8512865">;</span>&nbsp;<span class="ident" id="8512867">i</span>&nbsp;<span class="op" id="8512869">&gt;=</span>&nbsp;<span class="num" id="8512872">0</span>&nbsp;<span class="op" id="8512874">&amp;&amp;</span>&nbsp;<span class="ident" id="8512877">line</span><span class="op" id="8512881">[</span><span class="ident" id="8512882">i</span><span class="op" id="8512883">]</span>&nbsp;<span class="op" id="8512885">==</span>&nbsp;<span class="string" id="8512888">&#39;\n&#39;</span><span class="op" id="8512892">;</span>&nbsp;<span class="ident" id="8512894">i</span><span class="op" id="8512895">--</span>&nbsp;<span class="op" id="8512898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8512903">checkSemi</span><span class="op" id="8512912">(</span><span class="ident" id="8512913">t</span><span class="op" id="8512914">,</span>&nbsp;<span class="ident" id="8512916">line</span><span class="op" id="8512920">[</span><span class="num" id="8512921">0</span><span class="op" id="8512922">:</span><span class="ident" id="8512923">i</span><span class="op" id="8512924">]</span><span class="op" id="8512925">,</span>&nbsp;<span class="num" id="8512927">0</span><span class="op" id="8512928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8512933">checkSemi</span><span class="op" id="8512942">(</span><span class="ident" id="8512943">t</span><span class="op" id="8512944">,</span>&nbsp;<span class="ident" id="8512946">line</span><span class="op" id="8512950">[</span><span class="num" id="8512951">0</span><span class="op" id="8512952">:</span><span class="ident" id="8512953">i</span><span class="op" id="8512954">]</span><span class="op" id="8512955">,</span>&nbsp;<span class="ident" id="8512957">ScanComments</span><span class="op" id="8512969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8512973">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8512976">}</span><br>
<span class="lineno"></span><span class="op" id="8512978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8512981">type</span>&nbsp;<span class="ident" id="8512986">segment</span>&nbsp;<span class="keyword" id="8512994">struct</span>&nbsp;<span class="op" id="8513001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8513004">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="8513013">string</span>&nbsp;<span class="comment" id="8513020">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8513046">filename</span>&nbsp;<span class="builtintype" id="8513055">string</span>&nbsp;<span class="comment" id="8513062">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8513093">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8513102">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8513109">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="8513142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8513145">var</span>&nbsp;<span class="ident" id="8513149">segments</span>&nbsp;<span class="op" id="8513158">=</span>&nbsp;<span class="op" id="8513160">[</span><span class="op" id="8513161">]</span><span class="ident" id="8513162">segment</span><span class="op" id="8513169">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8513172">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513249">{</span><span class="string" id="8513250">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="8513259">,</span>&nbsp;<span class="ident" id="8513261">filepath</span><span class="op" id="8513269">.</span><span class="ident" id="8513270">Join</span><span class="op" id="8513274">(</span><span class="string" id="8513275">&#34;dir&#34;</span><span class="op" id="8513280">,</span>&nbsp;<span class="string" id="8513282">&#34;TestLineComments&#34;</span><span class="op" id="8513300">)</span><span class="op" id="8513301">,</span>&nbsp;<span class="num" id="8513303">1</span><span class="op" id="8513304">}</span><span class="op" id="8513305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513308">{</span><span class="string" id="8513309">&#34;\nline2&#34;</span><span class="op" id="8513318">,</span>&nbsp;<span class="ident" id="8513320">filepath</span><span class="op" id="8513328">.</span><span class="ident" id="8513329">Join</span><span class="op" id="8513333">(</span><span class="string" id="8513334">&#34;dir&#34;</span><span class="op" id="8513339">,</span>&nbsp;<span class="string" id="8513341">&#34;TestLineComments&#34;</span><span class="op" id="8513359">)</span><span class="op" id="8513360">,</span>&nbsp;<span class="num" id="8513362">2</span><span class="op" id="8513363">}</span><span class="op" id="8513364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513367">{</span><span class="string" id="8513368">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="8513398">,</span>&nbsp;<span class="ident" id="8513400">filepath</span><span class="op" id="8513408">.</span><span class="ident" id="8513409">Join</span><span class="op" id="8513413">(</span><span class="string" id="8513414">&#34;dir&#34;</span><span class="op" id="8513419">,</span>&nbsp;<span class="string" id="8513421">&#34;TestLineComments&#34;</span><span class="op" id="8513439">)</span><span class="op" id="8513440">,</span>&nbsp;<span class="num" id="8513442">3</span><span class="op" id="8513443">}</span><span class="op" id="8513444">,</span>&nbsp;<span class="comment" id="8513446">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513476">{</span><span class="string" id="8513477">&#34;\nline4&#34;</span><span class="op" id="8513486">,</span>&nbsp;<span class="ident" id="8513488">filepath</span><span class="op" id="8513496">.</span><span class="ident" id="8513497">Join</span><span class="op" id="8513501">(</span><span class="string" id="8513502">&#34;dir&#34;</span><span class="op" id="8513507">,</span>&nbsp;<span class="string" id="8513509">&#34;TestLineComments&#34;</span><span class="op" id="8513527">)</span><span class="op" id="8513528">,</span>&nbsp;<span class="num" id="8513530">4</span><span class="op" id="8513531">}</span><span class="op" id="8513532">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513535">{</span><span class="string" id="8513536">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8513570">,</span>&nbsp;<span class="ident" id="8513572">filepath</span><span class="op" id="8513580">.</span><span class="ident" id="8513581">Join</span><span class="op" id="8513585">(</span><span class="string" id="8513586">&#34;dir&#34;</span><span class="op" id="8513591">,</span>&nbsp;<span class="string" id="8513593">&#34;File1.go&#34;</span><span class="op" id="8513603">)</span><span class="op" id="8513604">,</span>&nbsp;<span class="num" id="8513606">100</span><span class="op" id="8513609">}</span><span class="op" id="8513610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513613">{</span><span class="string" id="8513614">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="8513641">,</span>&nbsp;<span class="string" id="8513643">&#34;&#34;</span><span class="op" id="8513645">,</span>&nbsp;<span class="num" id="8513647">42</span><span class="op" id="8513649">}</span><span class="op" id="8513650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513653">{</span><span class="string" id="8513654">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="8513688">,</span>&nbsp;<span class="ident" id="8513690">filepath</span><span class="op" id="8513698">.</span><span class="ident" id="8513699">Join</span><span class="op" id="8513703">(</span><span class="string" id="8513704">&#34;dir&#34;</span><span class="op" id="8513709">,</span>&nbsp;<span class="string" id="8513711">&#34;File2.go&#34;</span><span class="op" id="8513721">)</span><span class="op" id="8513722">,</span>&nbsp;<span class="num" id="8513724">200</span><span class="op" id="8513727">}</span><span class="op" id="8513728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513731">{</span><span class="string" id="8513732">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8513761">,</span>&nbsp;<span class="ident" id="8513763">filepath</span><span class="op" id="8513771">.</span><span class="ident" id="8513772">Join</span><span class="op" id="8513776">(</span><span class="string" id="8513777">&#34;dir&#34;</span><span class="op" id="8513782">,</span>&nbsp;<span class="string" id="8513784">&#34;foo&#34;</span><span class="op" id="8513789">)</span><span class="op" id="8513790">,</span>&nbsp;<span class="num" id="8513792">42</span><span class="op" id="8513794">}</span><span class="op" id="8513795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513798">{</span><span class="string" id="8513799">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="8513827">,</span>&nbsp;<span class="ident" id="8513829">filepath</span><span class="op" id="8513837">.</span><span class="ident" id="8513838">Join</span><span class="op" id="8513842">(</span><span class="string" id="8513843">&#34;dir&#34;</span><span class="op" id="8513848">,</span>&nbsp;<span class="string" id="8513850">&#34;foo&#34;</span><span class="op" id="8513855">)</span><span class="op" id="8513856">,</span>&nbsp;<span class="num" id="8513858">44</span><span class="op" id="8513860">}</span><span class="op" id="8513861">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8513873">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8513903">{</span><span class="string" id="8513904">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="8513931">,</span>&nbsp;<span class="ident" id="8513933">filepath</span><span class="op" id="8513941">.</span><span class="ident" id="8513942">Join</span><span class="op" id="8513946">(</span><span class="string" id="8513947">&#34;dir&#34;</span><span class="op" id="8513952">,</span>&nbsp;<span class="string" id="8513954">&#34;foo&#34;</span><span class="op" id="8513959">)</span><span class="op" id="8513960">,</span>&nbsp;<span class="num" id="8513962">46</span><span class="op" id="8513964">}</span><span class="op" id="8513965">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8513978">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8514008">{</span><span class="string" id="8514009">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="8514047">,</span>&nbsp;<span class="ident" id="8514049">filepath</span><span class="op" id="8514057">.</span><span class="ident" id="8514058">Join</span><span class="op" id="8514062">(</span><span class="string" id="8514063">&#34;dir&#34;</span><span class="op" id="8514068">,</span>&nbsp;<span class="string" id="8514070">&#34;foo&#34;</span><span class="op" id="8514075">)</span><span class="op" id="8514076">,</span>&nbsp;<span class="num" id="8514078">48</span><span class="op" id="8514080">}</span><span class="op" id="8514081">,</span>&nbsp;<span class="comment" id="8514083">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8514113">{</span><span class="string" id="8514114">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8514143">,</span>&nbsp;<span class="ident" id="8514145">filepath</span><span class="op" id="8514153">.</span><span class="ident" id="8514154">Join</span><span class="op" id="8514158">(</span><span class="string" id="8514159">&#34;dir&#34;</span><span class="op" id="8514164">,</span>&nbsp;<span class="string" id="8514166">&#34;foo&#34;</span><span class="op" id="8514171">)</span><span class="op" id="8514172">,</span>&nbsp;<span class="num" id="8514174">42</span><span class="op" id="8514176">}</span><span class="op" id="8514177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8514180">{</span><span class="string" id="8514181">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8514221">,</span>&nbsp;<span class="ident" id="8514223">filepath</span><span class="op" id="8514231">.</span><span class="ident" id="8514232">Join</span><span class="op" id="8514236">(</span><span class="string" id="8514237">&#34;dir&#34;</span><span class="op" id="8514242">,</span>&nbsp;<span class="string" id="8514244">&#34;a&#34;</span><span class="op" id="8514247">,</span>&nbsp;<span class="string" id="8514249">&#34;b&#34;</span><span class="op" id="8514252">,</span>&nbsp;<span class="string" id="8514254">&#34;c&#34;</span><span class="op" id="8514257">,</span>&nbsp;<span class="string" id="8514259">&#34;File1.go&#34;</span><span class="op" id="8514269">)</span><span class="op" id="8514270">,</span>&nbsp;<span class="num" id="8514272">100</span><span class="op" id="8514275">}</span><span class="op" id="8514276">,</span><br>
<span class="lineno"></span><span class="op" id="8514278">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="8514281">var</span>&nbsp;<span class="ident" id="8514285">unixsegments</span>&nbsp;<span class="op" id="8514298">=</span>&nbsp;<span class="op" id="8514300">[</span><span class="op" id="8514301">]</span><span class="ident" id="8514302">segment</span><span class="op" id="8514309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8514312">{</span><span class="string" id="8514313">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8514341">,</span>&nbsp;<span class="string" id="8514343">&#34;/bar&#34;</span><span class="op" id="8514349">,</span>&nbsp;<span class="num" id="8514351">42</span><span class="op" id="8514353">}</span><span class="op" id="8514354">,</span><br>
<span class="lineno"></span><span class="op" id="8514356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="8514359">var</span>&nbsp;<span class="ident" id="8514363">winsegments</span>&nbsp;<span class="op" id="8514375">=</span>&nbsp;<span class="op" id="8514377">[</span><span class="op" id="8514378">]</span><span class="ident" id="8514379">segment</span><span class="op" id="8514386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8514389">{</span><span class="string" id="8514390">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8514421">,</span>&nbsp;<span class="string" id="8514423">&#34;c:\\bar&#34;</span><span class="op" id="8514432">,</span>&nbsp;<span class="num" id="8514434">42</span><span class="op" id="8514436">}</span><span class="op" id="8514437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8514440">{</span><span class="string" id="8514441">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8514484">,</span>&nbsp;<span class="string" id="8514486">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="8514505">,</span>&nbsp;<span class="num" id="8514507">100</span><span class="op" id="8514510">}</span><span class="op" id="8514511">,</span><br>
<span class="lineno"></span><span class="op" id="8514513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="8514516">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8514602">func</span>&nbsp;<span class="ident" id="8514607">TestLineComments</span><span class="op" id="8514623">(</span><span class="ident" id="8514624">t</span>&nbsp;<span class="op" id="8514626">*</span><span class="ident" id="8514627">testing</span><span class="op" id="8514634">.</span><span class="ident" id="8514635">T</span><span class="op" id="8514636">)</span>&nbsp;<span class="op" id="8514638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8514641">segs</span>&nbsp;<span class="op" id="8514646">:=</span>&nbsp;<span class="ident" id="8514649">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8514659">if</span>&nbsp;<span class="ident" id="8514662">runtime</span><span class="op" id="8514669">.</span><span class="ident" id="8514670">GOOS</span>&nbsp;<span class="op" id="8514675">==</span>&nbsp;<span class="string" id="8514678">&#34;windows&#34;</span>&nbsp;<span class="op" id="8514688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8514692">segs</span>&nbsp;<span class="op" id="8514697">=</span>&nbsp;<span class="builtinfunc" id="8514699">append</span><span class="op" id="8514705">(</span><span class="ident" id="8514706">segs</span><span class="op" id="8514710">,</span>&nbsp;<span class="ident" id="8514712">winsegments</span><span class="op" id="8514723">...</span><span class="op" id="8514726">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8514729">}</span>&nbsp;<span class="keyword" id="8514731">else</span>&nbsp;<span class="op" id="8514736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8514740">segs</span>&nbsp;<span class="op" id="8514745">=</span>&nbsp;<span class="builtinfunc" id="8514747">append</span><span class="op" id="8514753">(</span><span class="ident" id="8514754">segs</span><span class="op" id="8514758">,</span>&nbsp;<span class="ident" id="8514760">unixsegments</span><span class="op" id="8514772">...</span><span class="op" id="8514775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8514778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8514782">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8514798">var</span>&nbsp;<span class="ident" id="8514802">src</span>&nbsp;<span class="builtintype" id="8514806">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8514814">for</span>&nbsp;<span class="ident" id="8514818">_</span><span class="op" id="8514819">,</span>&nbsp;<span class="ident" id="8514821">e</span>&nbsp;<span class="op" id="8514823">:=</span>&nbsp;<span class="keyword" id="8514826">range</span>&nbsp;<span class="ident" id="8514832">segs</span>&nbsp;<span class="op" id="8514837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8514841">src</span>&nbsp;<span class="op" id="8514845">+=</span>&nbsp;<span class="ident" id="8514848">e</span><span class="op" id="8514849">.</span><span class="ident" id="8514850">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8514859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8514863">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8514879">var</span>&nbsp;<span class="ident" id="8514883">S</span>&nbsp;<span class="ident" id="8514885">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8514894">file</span>&nbsp;<span class="op" id="8514899">:=</span>&nbsp;<span class="ident" id="8514902">fset</span><span class="op" id="8514906">.</span><span class="ident" id="8514907">AddFile</span><span class="op" id="8514914">(</span><span class="ident" id="8514915">filepath</span><span class="op" id="8514923">.</span><span class="ident" id="8514924">Join</span><span class="op" id="8514928">(</span><span class="string" id="8514929">&#34;dir&#34;</span><span class="op" id="8514934">,</span>&nbsp;<span class="string" id="8514936">&#34;TestLineComments&#34;</span><span class="op" id="8514954">)</span><span class="op" id="8514955">,</span>&nbsp;<span class="ident" id="8514957">fset</span><span class="op" id="8514961">.</span><span class="ident" id="8514962">Base</span><span class="op" id="8514966">(</span><span class="op" id="8514967">)</span><span class="op" id="8514968">,</span>&nbsp;<span class="builtinfunc" id="8514970">len</span><span class="op" id="8514973">(</span><span class="ident" id="8514974">src</span><span class="op" id="8514977">)</span><span class="op" id="8514978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8514981">S</span><span class="op" id="8514982">.</span><span class="ident" id="8514983">Init</span><span class="op" id="8514987">(</span><span class="ident" id="8514988">file</span><span class="op" id="8514992">,</span>&nbsp;<span class="op" id="8514994">[</span><span class="op" id="8514995">]</span><span class="builtintype" id="8514996">byte</span><span class="op" id="8515000">(</span><span class="ident" id="8515001">src</span><span class="op" id="8515004">)</span><span class="op" id="8515005">,</span>&nbsp;<span class="ident" id="8515007">nil</span><span class="op" id="8515010">,</span>&nbsp;<span class="ident" id="8515012">dontInsertSemis</span><span class="op" id="8515027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8515030">for</span>&nbsp;<span class="ident" id="8515034">_</span><span class="op" id="8515035">,</span>&nbsp;<span class="ident" id="8515037">s</span>&nbsp;<span class="op" id="8515039">:=</span>&nbsp;<span class="keyword" id="8515042">range</span>&nbsp;<span class="ident" id="8515048">segs</span>&nbsp;<span class="op" id="8515053">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515057">p</span><span class="op" id="8515058">,</span>&nbsp;<span class="ident" id="8515060">_</span><span class="op" id="8515061">,</span>&nbsp;<span class="ident" id="8515063">lit</span>&nbsp;<span class="op" id="8515067">:=</span>&nbsp;<span class="ident" id="8515070">S</span><span class="op" id="8515071">.</span><span class="ident" id="8515072">Scan</span><span class="op" id="8515076">(</span><span class="op" id="8515077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515081">pos</span>&nbsp;<span class="op" id="8515085">:=</span>&nbsp;<span class="ident" id="8515088">file</span><span class="op" id="8515092">.</span><span class="ident" id="8515093">Position</span><span class="op" id="8515101">(</span><span class="ident" id="8515102">p</span><span class="op" id="8515103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515107">checkPos</span><span class="op" id="8515115">(</span><span class="ident" id="8515116">t</span><span class="op" id="8515117">,</span>&nbsp;<span class="ident" id="8515119">lit</span><span class="op" id="8515122">,</span>&nbsp;<span class="ident" id="8515124">p</span><span class="op" id="8515125">,</span>&nbsp;<span class="ident" id="8515127">token</span><span class="op" id="8515132">.</span><span class="ident" id="8515133">Position</span><span class="op" id="8515141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515146">Filename</span><span class="op" id="8515154">:</span>&nbsp;<span class="ident" id="8515156">s</span><span class="op" id="8515157">.</span><span class="ident" id="8515158">filename</span><span class="op" id="8515166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515171">Offset</span><span class="op" id="8515177">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8515181">pos</span><span class="op" id="8515184">.</span><span class="ident" id="8515185">Offset</span><span class="op" id="8515191">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515196">Line</span><span class="op" id="8515200">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515206">s</span><span class="op" id="8515207">.</span><span class="ident" id="8515208">line</span><span class="op" id="8515212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515217">Column</span><span class="op" id="8515223">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8515227">pos</span><span class="op" id="8515230">.</span><span class="ident" id="8515231">Column</span><span class="op" id="8515237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8515241">}</span><span class="op" id="8515242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8515245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8515249">if</span>&nbsp;<span class="ident" id="8515252">S</span><span class="op" id="8515253">.</span><span class="ident" id="8515254">ErrorCount</span>&nbsp;<span class="op" id="8515265">!=</span>&nbsp;<span class="num" id="8515268">0</span>&nbsp;<span class="op" id="8515270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515274">t</span><span class="op" id="8515275">.</span><span class="ident" id="8515276">Errorf</span><span class="op" id="8515282">(</span><span class="string" id="8515283">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8515300">,</span>&nbsp;<span class="ident" id="8515302">S</span><span class="op" id="8515303">.</span><span class="ident" id="8515304">ErrorCount</span><span class="op" id="8515314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8515317">}</span><br>
<span class="lineno"></span><span class="op" id="8515319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="8515322">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8515399">func</span>&nbsp;<span class="ident" id="8515404">TestInit</span><span class="op" id="8515412">(</span><span class="ident" id="8515413">t</span>&nbsp;<span class="op" id="8515415">*</span><span class="ident" id="8515416">testing</span><span class="op" id="8515423">.</span><span class="ident" id="8515424">T</span><span class="op" id="8515425">)</span>&nbsp;<span class="op" id="8515427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8515430">var</span>&nbsp;<span class="ident" id="8515434">s</span>&nbsp;<span class="ident" id="8515436">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8515446">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515459">src1</span>&nbsp;<span class="op" id="8515464">:=</span>&nbsp;<span class="string" id="8515467">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515482">f1</span>&nbsp;<span class="op" id="8515485">:=</span>&nbsp;<span class="ident" id="8515488">fset</span><span class="op" id="8515492">.</span><span class="ident" id="8515493">AddFile</span><span class="op" id="8515500">(</span><span class="string" id="8515501">&#34;src1&#34;</span><span class="op" id="8515507">,</span>&nbsp;<span class="ident" id="8515509">fset</span><span class="op" id="8515513">.</span><span class="ident" id="8515514">Base</span><span class="op" id="8515518">(</span><span class="op" id="8515519">)</span><span class="op" id="8515520">,</span>&nbsp;<span class="builtinfunc" id="8515522">len</span><span class="op" id="8515525">(</span><span class="ident" id="8515526">src1</span><span class="op" id="8515530">)</span><span class="op" id="8515531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515534">s</span><span class="op" id="8515535">.</span><span class="ident" id="8515536">Init</span><span class="op" id="8515540">(</span><span class="ident" id="8515541">f1</span><span class="op" id="8515543">,</span>&nbsp;<span class="op" id="8515545">[</span><span class="op" id="8515546">]</span><span class="builtintype" id="8515547">byte</span><span class="op" id="8515551">(</span><span class="ident" id="8515552">src1</span><span class="op" id="8515556">)</span><span class="op" id="8515557">,</span>&nbsp;<span class="ident" id="8515559">nil</span><span class="op" id="8515562">,</span>&nbsp;<span class="ident" id="8515564">dontInsertSemis</span><span class="op" id="8515579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8515582">if</span>&nbsp;<span class="ident" id="8515585">f1</span><span class="op" id="8515587">.</span><span class="ident" id="8515588">Size</span><span class="op" id="8515592">(</span><span class="op" id="8515593">)</span>&nbsp;<span class="op" id="8515595">!=</span>&nbsp;<span class="builtinfunc" id="8515598">len</span><span class="op" id="8515601">(</span><span class="ident" id="8515602">src1</span><span class="op" id="8515606">)</span>&nbsp;<span class="op" id="8515608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515612">t</span><span class="op" id="8515613">.</span><span class="ident" id="8515614">Errorf</span><span class="op" id="8515620">(</span><span class="string" id="8515621">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8515657">,</span>&nbsp;<span class="ident" id="8515659">f1</span><span class="op" id="8515661">.</span><span class="ident" id="8515662">Size</span><span class="op" id="8515666">(</span><span class="op" id="8515667">)</span><span class="op" id="8515668">,</span>&nbsp;<span class="builtinfunc" id="8515670">len</span><span class="op" id="8515673">(</span><span class="ident" id="8515674">src1</span><span class="op" id="8515678">)</span><span class="op" id="8515679">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8515682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515685">s</span><span class="op" id="8515686">.</span><span class="ident" id="8515687">Scan</span><span class="op" id="8515691">(</span><span class="op" id="8515692">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8515707">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515714">s</span><span class="op" id="8515715">.</span><span class="ident" id="8515716">Scan</span><span class="op" id="8515720">(</span><span class="op" id="8515721">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8515736">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515745">_</span><span class="op" id="8515746">,</span>&nbsp;<span class="ident" id="8515748">tok</span><span class="op" id="8515751">,</span>&nbsp;<span class="ident" id="8515753">_</span>&nbsp;<span class="op" id="8515755">:=</span>&nbsp;<span class="ident" id="8515758">s</span><span class="op" id="8515759">.</span><span class="ident" id="8515760">Scan</span><span class="op" id="8515764">(</span><span class="op" id="8515765">)</span>&nbsp;<span class="comment" id="8515767">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8515773">if</span>&nbsp;<span class="ident" id="8515776">tok</span>&nbsp;<span class="op" id="8515780">!=</span>&nbsp;<span class="ident" id="8515783">token</span><span class="op" id="8515788">.</span><span class="ident" id="8515789">LBRACE</span>&nbsp;<span class="op" id="8515796">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515800">t</span><span class="op" id="8515801">.</span><span class="ident" id="8515802">Errorf</span><span class="op" id="8515808">(</span><span class="string" id="8515809">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8515841">,</span>&nbsp;<span class="ident" id="8515843">tok</span><span class="op" id="8515846">,</span>&nbsp;<span class="ident" id="8515848">token</span><span class="op" id="8515853">.</span><span class="ident" id="8515854">LBRACE</span><span class="op" id="8515860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8515863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8515867">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515880">src2</span>&nbsp;<span class="op" id="8515885">:=</span>&nbsp;<span class="string" id="8515888">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515903">f2</span>&nbsp;<span class="op" id="8515906">:=</span>&nbsp;<span class="ident" id="8515909">fset</span><span class="op" id="8515913">.</span><span class="ident" id="8515914">AddFile</span><span class="op" id="8515921">(</span><span class="string" id="8515922">&#34;src2&#34;</span><span class="op" id="8515928">,</span>&nbsp;<span class="ident" id="8515930">fset</span><span class="op" id="8515934">.</span><span class="ident" id="8515935">Base</span><span class="op" id="8515939">(</span><span class="op" id="8515940">)</span><span class="op" id="8515941">,</span>&nbsp;<span class="builtinfunc" id="8515943">len</span><span class="op" id="8515946">(</span><span class="ident" id="8515947">src2</span><span class="op" id="8515951">)</span><span class="op" id="8515952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8515955">s</span><span class="op" id="8515956">.</span><span class="ident" id="8515957">Init</span><span class="op" id="8515961">(</span><span class="ident" id="8515962">f2</span><span class="op" id="8515964">,</span>&nbsp;<span class="op" id="8515966">[</span><span class="op" id="8515967">]</span><span class="builtintype" id="8515968">byte</span><span class="op" id="8515972">(</span><span class="ident" id="8515973">src2</span><span class="op" id="8515977">)</span><span class="op" id="8515978">,</span>&nbsp;<span class="ident" id="8515980">nil</span><span class="op" id="8515983">,</span>&nbsp;<span class="ident" id="8515985">dontInsertSemis</span><span class="op" id="8516000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516003">if</span>&nbsp;<span class="ident" id="8516006">f2</span><span class="op" id="8516008">.</span><span class="ident" id="8516009">Size</span><span class="op" id="8516013">(</span><span class="op" id="8516014">)</span>&nbsp;<span class="op" id="8516016">!=</span>&nbsp;<span class="builtinfunc" id="8516019">len</span><span class="op" id="8516022">(</span><span class="ident" id="8516023">src2</span><span class="op" id="8516027">)</span>&nbsp;<span class="op" id="8516029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8516033">t</span><span class="op" id="8516034">.</span><span class="ident" id="8516035">Errorf</span><span class="op" id="8516041">(</span><span class="string" id="8516042">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8516078">,</span>&nbsp;<span class="ident" id="8516080">f2</span><span class="op" id="8516082">.</span><span class="ident" id="8516083">Size</span><span class="op" id="8516087">(</span><span class="op" id="8516088">)</span><span class="op" id="8516089">,</span>&nbsp;<span class="builtinfunc" id="8516091">len</span><span class="op" id="8516094">(</span><span class="ident" id="8516095">src2</span><span class="op" id="8516099">)</span><span class="op" id="8516100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8516103">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8516106">_</span><span class="op" id="8516107">,</span>&nbsp;<span class="ident" id="8516109">tok</span><span class="op" id="8516112">,</span>&nbsp;<span class="ident" id="8516114">_</span>&nbsp;<span class="op" id="8516116">=</span>&nbsp;<span class="ident" id="8516118">s</span><span class="op" id="8516119">.</span><span class="ident" id="8516120">Scan</span><span class="op" id="8516124">(</span><span class="op" id="8516125">)</span>&nbsp;<span class="comment" id="8516127">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516134">if</span>&nbsp;<span class="ident" id="8516137">tok</span>&nbsp;<span class="op" id="8516141">!=</span>&nbsp;<span class="ident" id="8516144">token</span><span class="op" id="8516149">.</span><span class="ident" id="8516150">GO</span>&nbsp;<span class="op" id="8516153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8516157">t</span><span class="op" id="8516158">.</span><span class="ident" id="8516159">Errorf</span><span class="op" id="8516165">(</span><span class="string" id="8516166">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8516198">,</span>&nbsp;<span class="ident" id="8516200">tok</span><span class="op" id="8516203">,</span>&nbsp;<span class="ident" id="8516205">token</span><span class="op" id="8516210">.</span><span class="ident" id="8516211">GO</span><span class="op" id="8516213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8516216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516220">if</span>&nbsp;<span class="ident" id="8516223">s</span><span class="op" id="8516224">.</span><span class="ident" id="8516225">ErrorCount</span>&nbsp;<span class="op" id="8516236">!=</span>&nbsp;<span class="num" id="8516239">0</span>&nbsp;<span class="op" id="8516241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8516245">t</span><span class="op" id="8516246">.</span><span class="ident" id="8516247">Errorf</span><span class="op" id="8516253">(</span><span class="string" id="8516254">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8516271">,</span>&nbsp;<span class="ident" id="8516273">s</span><span class="op" id="8516274">.</span><span class="ident" id="8516275">ErrorCount</span><span class="op" id="8516285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8516288">}</span><br>
<span class="lineno"></span><span class="op" id="8516290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="8516293">func</span>&nbsp;<span class="ident" id="8516298">TestStdErrorHander</span><span class="op" id="8516316">(</span><span class="ident" id="8516317">t</span>&nbsp;<span class="op" id="8516319">*</span><span class="ident" id="8516320">testing</span><span class="op" id="8516327">.</span><span class="ident" id="8516328">T</span><span class="op" id="8516329">)</span>&nbsp;<span class="op" id="8516331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516334">const</span>&nbsp;<span class="ident" id="8516340">src</span>&nbsp;<span class="op" id="8516344">=</span>&nbsp;<span class="string" id="8516346">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8516352">+</span>&nbsp;<span class="comment" id="8516354">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8516393">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8516401">+</span>&nbsp;<span class="comment" id="8516403">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8516436">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="8516456">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8516460">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8516466">+</span>&nbsp;<span class="comment" id="8516468">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8516503">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="8516522">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8516526">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8516534">+</span>&nbsp;<span class="comment" id="8516536">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8516575">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="8516594">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8516598">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="8516606">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516639">var</span>&nbsp;<span class="ident" id="8516643">list</span>&nbsp;<span class="ident" id="8516648">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8516659">eh</span>&nbsp;<span class="op" id="8516662">:=</span>&nbsp;<span class="keyword" id="8516665">func</span><span class="op" id="8516669">(</span><span class="ident" id="8516670">pos</span>&nbsp;<span class="ident" id="8516674">token</span><span class="op" id="8516679">.</span><span class="ident" id="8516680">Position</span><span class="op" id="8516688">,</span>&nbsp;<span class="ident" id="8516690">msg</span>&nbsp;<span class="builtintype" id="8516694">string</span><span class="op" id="8516700">)</span>&nbsp;<span class="op" id="8516702">{</span>&nbsp;<span class="ident" id="8516704">list</span><span class="op" id="8516708">.</span><span class="ident" id="8516709">Add</span><span class="op" id="8516712">(</span><span class="ident" id="8516713">pos</span><span class="op" id="8516716">,</span>&nbsp;<span class="ident" id="8516718">msg</span><span class="op" id="8516721">)</span>&nbsp;<span class="op" id="8516723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516727">var</span>&nbsp;<span class="ident" id="8516731">s</span>&nbsp;<span class="ident" id="8516733">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8516742">s</span><span class="op" id="8516743">.</span><span class="ident" id="8516744">Init</span><span class="op" id="8516748">(</span><span class="ident" id="8516749">fset</span><span class="op" id="8516753">.</span><span class="ident" id="8516754">AddFile</span><span class="op" id="8516761">(</span><span class="string" id="8516762">&#34;File1&#34;</span><span class="op" id="8516769">,</span>&nbsp;<span class="ident" id="8516771">fset</span><span class="op" id="8516775">.</span><span class="ident" id="8516776">Base</span><span class="op" id="8516780">(</span><span class="op" id="8516781">)</span><span class="op" id="8516782">,</span>&nbsp;<span class="builtinfunc" id="8516784">len</span><span class="op" id="8516787">(</span><span class="ident" id="8516788">src</span><span class="op" id="8516791">)</span><span class="op" id="8516792">)</span><span class="op" id="8516793">,</span>&nbsp;<span class="op" id="8516795">[</span><span class="op" id="8516796">]</span><span class="builtintype" id="8516797">byte</span><span class="op" id="8516801">(</span><span class="ident" id="8516802">src</span><span class="op" id="8516805">)</span><span class="op" id="8516806">,</span>&nbsp;<span class="ident" id="8516808">eh</span><span class="op" id="8516810">,</span>&nbsp;<span class="ident" id="8516812">dontInsertSemis</span><span class="op" id="8516827">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516830">for</span>&nbsp;<span class="op" id="8516834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516838">if</span>&nbsp;<span class="ident" id="8516841">_</span><span class="op" id="8516842">,</span>&nbsp;<span class="ident" id="8516844">tok</span><span class="op" id="8516847">,</span>&nbsp;<span class="ident" id="8516849">_</span>&nbsp;<span class="op" id="8516851">:=</span>&nbsp;<span class="ident" id="8516854">s</span><span class="op" id="8516855">.</span><span class="ident" id="8516856">Scan</span><span class="op" id="8516860">(</span><span class="op" id="8516861">)</span><span class="op" id="8516862">;</span>&nbsp;<span class="ident" id="8516864">tok</span>&nbsp;<span class="op" id="8516868">==</span>&nbsp;<span class="ident" id="8516871">token</span><span class="op" id="8516876">.</span><span class="ident" id="8516877">EOF</span>&nbsp;<span class="op" id="8516881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516886">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8516894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8516897">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8516901">if</span>&nbsp;<span class="builtinfunc" id="8516904">len</span><span class="op" id="8516907">(</span><span class="ident" id="8516908">list</span><span class="op" id="8516912">)</span>&nbsp;<span class="op" id="8516914">!=</span>&nbsp;<span class="ident" id="8516917">s</span><span class="op" id="8516918">.</span><span class="ident" id="8516919">ErrorCount</span>&nbsp;<span class="op" id="8516930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8516934">t</span><span class="op" id="8516935">.</span><span class="ident" id="8516936">Errorf</span><span class="op" id="8516942">(</span><span class="string" id="8516943">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8516973">,</span>&nbsp;<span class="builtinfunc" id="8516975">len</span><span class="op" id="8516978">(</span><span class="ident" id="8516979">list</span><span class="op" id="8516983">)</span><span class="op" id="8516984">,</span>&nbsp;<span class="ident" id="8516986">s</span><span class="op" id="8516987">.</span><span class="ident" id="8516988">ErrorCount</span><span class="op" id="8516998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8517001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8517005">if</span>&nbsp;<span class="builtinfunc" id="8517008">len</span><span class="op" id="8517011">(</span><span class="ident" id="8517012">list</span><span class="op" id="8517016">)</span>&nbsp;<span class="op" id="8517018">!=</span>&nbsp;<span class="num" id="8517021">9</span>&nbsp;<span class="op" id="8517023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517027">t</span><span class="op" id="8517028">.</span><span class="ident" id="8517029">Errorf</span><span class="op" id="8517035">(</span><span class="string" id="8517036">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8517069">,</span>&nbsp;<span class="builtinfunc" id="8517071">len</span><span class="op" id="8517074">(</span><span class="ident" id="8517075">list</span><span class="op" id="8517079">)</span><span class="op" id="8517080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517084">PrintError</span><span class="op" id="8517094">(</span><span class="ident" id="8517095">os</span><span class="op" id="8517097">.</span><span class="ident" id="8517098">Stderr</span><span class="op" id="8517104">,</span>&nbsp;<span class="ident" id="8517106">list</span><span class="op" id="8517110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8517113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517117">list</span><span class="op" id="8517121">.</span><span class="ident" id="8517122">Sort</span><span class="op" id="8517126">(</span><span class="op" id="8517127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8517130">if</span>&nbsp;<span class="builtinfunc" id="8517133">len</span><span class="op" id="8517136">(</span><span class="ident" id="8517137">list</span><span class="op" id="8517141">)</span>&nbsp;<span class="op" id="8517143">!=</span>&nbsp;<span class="num" id="8517146">9</span>&nbsp;<span class="op" id="8517148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517152">t</span><span class="op" id="8517153">.</span><span class="ident" id="8517154">Errorf</span><span class="op" id="8517160">(</span><span class="string" id="8517161">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8517197">,</span>&nbsp;<span class="builtinfunc" id="8517199">len</span><span class="op" id="8517202">(</span><span class="ident" id="8517203">list</span><span class="op" id="8517207">)</span><span class="op" id="8517208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517212">PrintError</span><span class="op" id="8517222">(</span><span class="ident" id="8517223">os</span><span class="op" id="8517225">.</span><span class="ident" id="8517226">Stderr</span><span class="op" id="8517232">,</span>&nbsp;<span class="ident" id="8517234">list</span><span class="op" id="8517238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8517241">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517245">list</span><span class="op" id="8517249">.</span><span class="ident" id="8517250">RemoveMultiples</span><span class="op" id="8517265">(</span><span class="op" id="8517266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8517269">if</span>&nbsp;<span class="builtinfunc" id="8517272">len</span><span class="op" id="8517275">(</span><span class="ident" id="8517276">list</span><span class="op" id="8517280">)</span>&nbsp;<span class="op" id="8517282">!=</span>&nbsp;<span class="num" id="8517285">4</span>&nbsp;<span class="op" id="8517287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517291">t</span><span class="op" id="8517292">.</span><span class="ident" id="8517293">Errorf</span><span class="op" id="8517299">(</span><span class="string" id="8517300">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="8517342">,</span>&nbsp;<span class="builtinfunc" id="8517344">len</span><span class="op" id="8517347">(</span><span class="ident" id="8517348">list</span><span class="op" id="8517352">)</span><span class="op" id="8517353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517357">PrintError</span><span class="op" id="8517367">(</span><span class="ident" id="8517368">os</span><span class="op" id="8517370">.</span><span class="ident" id="8517371">Stderr</span><span class="op" id="8517377">,</span>&nbsp;<span class="ident" id="8517379">list</span><span class="op" id="8517383">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8517386">}</span><br>
<span class="lineno"></span><span class="op" id="8517388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8517391">type</span>&nbsp;<span class="ident" id="8517396">errorCollector</span>&nbsp;<span class="keyword" id="8517411">struct</span>&nbsp;<span class="op" id="8517418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517421">cnt</span>&nbsp;<span class="builtintype" id="8517425">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8517440">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517473">msg</span>&nbsp;<span class="builtintype" id="8517477">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8517492">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517527">pos</span>&nbsp;<span class="ident" id="8517531">token</span><span class="op" id="8517536">.</span><span class="ident" id="8517537">Position</span>&nbsp;<span class="comment" id="8517546">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="8517581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8517584">func</span>&nbsp;<span class="ident" id="8517589">checkError</span><span class="op" id="8517599">(</span><span class="ident" id="8517600">t</span>&nbsp;<span class="op" id="8517602">*</span><span class="ident" id="8517603">testing</span><span class="op" id="8517610">.</span><span class="ident" id="8517611">T</span><span class="op" id="8517612">,</span>&nbsp;<span class="ident" id="8517614">src</span>&nbsp;<span class="builtintype" id="8517618">string</span><span class="op" id="8517624">,</span>&nbsp;<span class="ident" id="8517626">tok</span>&nbsp;<span class="ident" id="8517630">token</span><span class="op" id="8517635">.</span><span class="ident" id="8517636">Token</span><span class="op" id="8517641">,</span>&nbsp;<span class="ident" id="8517643">pos</span>&nbsp;<span class="builtintype" id="8517647">int</span><span class="op" id="8517650">,</span>&nbsp;<span class="ident" id="8517652">lit</span><span class="op" id="8517655">,</span>&nbsp;<span class="ident" id="8517657">err</span>&nbsp;<span class="builtintype" id="8517661">string</span><span class="op" id="8517667">)</span>&nbsp;<span class="op" id="8517669">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8517672">var</span>&nbsp;<span class="ident" id="8517676">s</span>&nbsp;<span class="ident" id="8517678">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8517687">var</span>&nbsp;<span class="ident" id="8517691">h</span>&nbsp;<span class="ident" id="8517693">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517709">eh</span>&nbsp;<span class="op" id="8517712">:=</span>&nbsp;<span class="keyword" id="8517715">func</span><span class="op" id="8517719">(</span><span class="ident" id="8517720">pos</span>&nbsp;<span class="ident" id="8517724">token</span><span class="op" id="8517729">.</span><span class="ident" id="8517730">Position</span><span class="op" id="8517738">,</span>&nbsp;<span class="ident" id="8517740">msg</span>&nbsp;<span class="builtintype" id="8517744">string</span><span class="op" id="8517750">)</span>&nbsp;<span class="op" id="8517752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517756">h</span><span class="op" id="8517757">.</span><span class="ident" id="8517758">cnt</span><span class="op" id="8517761">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517766">h</span><span class="op" id="8517767">.</span><span class="ident" id="8517768">msg</span>&nbsp;<span class="op" id="8517772">=</span>&nbsp;<span class="ident" id="8517774">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517780">h</span><span class="op" id="8517781">.</span><span class="ident" id="8517782">pos</span>&nbsp;<span class="op" id="8517786">=</span>&nbsp;<span class="ident" id="8517788">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8517793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517796">s</span><span class="op" id="8517797">.</span><span class="ident" id="8517798">Init</span><span class="op" id="8517802">(</span><span class="ident" id="8517803">fset</span><span class="op" id="8517807">.</span><span class="ident" id="8517808">AddFile</span><span class="op" id="8517815">(</span><span class="string" id="8517816">&#34;&#34;</span><span class="op" id="8517818">,</span>&nbsp;<span class="ident" id="8517820">fset</span><span class="op" id="8517824">.</span><span class="ident" id="8517825">Base</span><span class="op" id="8517829">(</span><span class="op" id="8517830">)</span><span class="op" id="8517831">,</span>&nbsp;<span class="builtinfunc" id="8517833">len</span><span class="op" id="8517836">(</span><span class="ident" id="8517837">src</span><span class="op" id="8517840">)</span><span class="op" id="8517841">)</span><span class="op" id="8517842">,</span>&nbsp;<span class="op" id="8517844">[</span><span class="op" id="8517845">]</span><span class="builtintype" id="8517846">byte</span><span class="op" id="8517850">(</span><span class="ident" id="8517851">src</span><span class="op" id="8517854">)</span><span class="op" id="8517855">,</span>&nbsp;<span class="ident" id="8517857">eh</span><span class="op" id="8517859">,</span>&nbsp;<span class="ident" id="8517861">ScanComments</span><span class="op" id="8517873">|</span><span class="ident" id="8517874">dontInsertSemis</span><span class="op" id="8517889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517892">_</span><span class="op" id="8517893">,</span>&nbsp;<span class="ident" id="8517895">tok0</span><span class="op" id="8517899">,</span>&nbsp;<span class="ident" id="8517901">lit0</span>&nbsp;<span class="op" id="8517906">:=</span>&nbsp;<span class="ident" id="8517909">s</span><span class="op" id="8517910">.</span><span class="ident" id="8517911">Scan</span><span class="op" id="8517915">(</span><span class="op" id="8517916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8517919">if</span>&nbsp;<span class="ident" id="8517922">tok0</span>&nbsp;<span class="op" id="8517927">!=</span>&nbsp;<span class="ident" id="8517930">tok</span>&nbsp;<span class="op" id="8517934">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8517938">t</span><span class="op" id="8517939">.</span><span class="ident" id="8517940">Errorf</span><span class="op" id="8517946">(</span><span class="string" id="8517947">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8517972">,</span>&nbsp;<span class="ident" id="8517974">src</span><span class="op" id="8517977">,</span>&nbsp;<span class="ident" id="8517979">tok0</span><span class="op" id="8517983">,</span>&nbsp;<span class="ident" id="8517985">tok</span><span class="op" id="8517988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8517991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8517994">if</span>&nbsp;<span class="ident" id="8517997">tok0</span>&nbsp;<span class="op" id="8518002">!=</span>&nbsp;<span class="ident" id="8518005">token</span><span class="op" id="8518010">.</span><span class="ident" id="8518011">ILLEGAL</span>&nbsp;<span class="op" id="8518019">&amp;&amp;</span>&nbsp;<span class="ident" id="8518022">lit0</span>&nbsp;<span class="op" id="8518027">!=</span>&nbsp;<span class="ident" id="8518030">lit</span>&nbsp;<span class="op" id="8518034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518038">t</span><span class="op" id="8518039">.</span><span class="ident" id="8518040">Errorf</span><span class="op" id="8518046">(</span><span class="string" id="8518047">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8518080">,</span>&nbsp;<span class="ident" id="8518082">src</span><span class="op" id="8518085">,</span>&nbsp;<span class="ident" id="8518087">lit0</span><span class="op" id="8518091">,</span>&nbsp;<span class="ident" id="8518093">lit</span><span class="op" id="8518096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518099">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518102">cnt</span>&nbsp;<span class="op" id="8518106">:=</span>&nbsp;<span class="num" id="8518109">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8518112">if</span>&nbsp;<span class="ident" id="8518115">err</span>&nbsp;<span class="op" id="8518119">!=</span>&nbsp;<span class="string" id="8518122">&#34;&#34;</span>&nbsp;<span class="op" id="8518125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518129">cnt</span>&nbsp;<span class="op" id="8518133">=</span>&nbsp;<span class="num" id="8518135">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8518141">if</span>&nbsp;<span class="ident" id="8518144">h</span><span class="op" id="8518145">.</span><span class="ident" id="8518146">cnt</span>&nbsp;<span class="op" id="8518150">!=</span>&nbsp;<span class="ident" id="8518153">cnt</span>&nbsp;<span class="op" id="8518157">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518161">t</span><span class="op" id="8518162">.</span><span class="ident" id="8518163">Errorf</span><span class="op" id="8518169">(</span><span class="string" id="8518170">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8518199">,</span>&nbsp;<span class="ident" id="8518201">src</span><span class="op" id="8518204">,</span>&nbsp;<span class="ident" id="8518206">h</span><span class="op" id="8518207">.</span><span class="ident" id="8518208">cnt</span><span class="op" id="8518211">,</span>&nbsp;<span class="ident" id="8518213">cnt</span><span class="op" id="8518216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8518222">if</span>&nbsp;<span class="ident" id="8518225">h</span><span class="op" id="8518226">.</span><span class="ident" id="8518227">msg</span>&nbsp;<span class="op" id="8518231">!=</span>&nbsp;<span class="ident" id="8518234">err</span>&nbsp;<span class="op" id="8518238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518242">t</span><span class="op" id="8518243">.</span><span class="ident" id="8518244">Errorf</span><span class="op" id="8518250">(</span><span class="string" id="8518251">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8518280">,</span>&nbsp;<span class="ident" id="8518282">src</span><span class="op" id="8518285">,</span>&nbsp;<span class="ident" id="8518287">h</span><span class="op" id="8518288">.</span><span class="ident" id="8518289">msg</span><span class="op" id="8518292">,</span>&nbsp;<span class="ident" id="8518294">err</span><span class="op" id="8518297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518300">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8518303">if</span>&nbsp;<span class="ident" id="8518306">h</span><span class="op" id="8518307">.</span><span class="ident" id="8518308">pos</span><span class="op" id="8518311">.</span><span class="ident" id="8518312">Offset</span>&nbsp;<span class="op" id="8518319">!=</span>&nbsp;<span class="ident" id="8518322">pos</span>&nbsp;<span class="op" id="8518326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518330">t</span><span class="op" id="8518331">.</span><span class="ident" id="8518332">Errorf</span><span class="op" id="8518338">(</span><span class="string" id="8518339">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8518371">,</span>&nbsp;<span class="ident" id="8518373">src</span><span class="op" id="8518376">,</span>&nbsp;<span class="ident" id="8518378">h</span><span class="op" id="8518379">.</span><span class="ident" id="8518380">pos</span><span class="op" id="8518383">.</span><span class="ident" id="8518384">Offset</span><span class="op" id="8518390">,</span>&nbsp;<span class="ident" id="8518392">pos</span><span class="op" id="8518395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518398">}</span><br>
<span class="lineno"></span><span class="op" id="8518400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="8518403">var</span>&nbsp;<span class="ident" id="8518407">errors</span>&nbsp;<span class="op" id="8518414">=</span>&nbsp;<span class="op" id="8518416">[</span><span class="op" id="8518417">]</span><span class="keyword" id="8518418">struct</span>&nbsp;<span class="op" id="8518425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518428">src</span>&nbsp;<span class="builtintype" id="8518432">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518440">tok</span>&nbsp;<span class="ident" id="8518444">token</span><span class="op" id="8518449">.</span><span class="ident" id="8518450">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518457">pos</span>&nbsp;<span class="builtintype" id="8518461">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518466">lit</span>&nbsp;<span class="builtintype" id="8518470">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8518478">err</span>&nbsp;<span class="builtintype" id="8518482">string</span><br>
<span class="lineno"></span><span class="op" id="8518489">}</span><span class="op" id="8518490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518493">{</span><span class="string" id="8518494">&#34;\a&#34;</span><span class="op" id="8518498">,</span>&nbsp;<span class="ident" id="8518500">token</span><span class="op" id="8518505">.</span><span class="ident" id="8518506">ILLEGAL</span><span class="op" id="8518513">,</span>&nbsp;<span class="num" id="8518515">0</span><span class="op" id="8518516">,</span>&nbsp;<span class="string" id="8518518">&#34;&#34;</span><span class="op" id="8518520">,</span>&nbsp;<span class="string" id="8518522">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="8518548">}</span><span class="op" id="8518549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518552">{</span><span class="string" id="8518553">`#`</span><span class="op" id="8518556">,</span>&nbsp;<span class="ident" id="8518558">token</span><span class="op" id="8518563">.</span><span class="ident" id="8518564">ILLEGAL</span><span class="op" id="8518571">,</span>&nbsp;<span class="num" id="8518573">0</span><span class="op" id="8518574">,</span>&nbsp;<span class="string" id="8518576">&#34;&#34;</span><span class="op" id="8518578">,</span>&nbsp;<span class="string" id="8518580">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="8518610">}</span><span class="op" id="8518611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518614">{</span><span class="string" id="8518615">`…`</span><span class="op" id="8518620">,</span>&nbsp;<span class="ident" id="8518622">token</span><span class="op" id="8518627">.</span><span class="ident" id="8518628">ILLEGAL</span><span class="op" id="8518635">,</span>&nbsp;<span class="num" id="8518637">0</span><span class="op" id="8518638">,</span>&nbsp;<span class="string" id="8518640">&#34;&#34;</span><span class="op" id="8518642">,</span>&nbsp;<span class="string" id="8518644">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="8518676">}</span><span class="op" id="8518677">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518680">{</span><span class="string" id="8518681">`&#39;&nbsp;&#39;`</span><span class="op" id="8518686">,</span>&nbsp;<span class="ident" id="8518688">token</span><span class="op" id="8518693">.</span><span class="ident" id="8518694">CHAR</span><span class="op" id="8518698">,</span>&nbsp;<span class="num" id="8518700">0</span><span class="op" id="8518701">,</span>&nbsp;<span class="string" id="8518703">`&#39;&nbsp;&#39;`</span><span class="op" id="8518708">,</span>&nbsp;<span class="string" id="8518710">&#34;&#34;</span><span class="op" id="8518712">}</span><span class="op" id="8518713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518716">{</span><span class="string" id="8518717">`&#39;&#39;`</span><span class="op" id="8518721">,</span>&nbsp;<span class="ident" id="8518723">token</span><span class="op" id="8518728">.</span><span class="ident" id="8518729">CHAR</span><span class="op" id="8518733">,</span>&nbsp;<span class="num" id="8518735">0</span><span class="op" id="8518736">,</span>&nbsp;<span class="string" id="8518738">`&#39;&#39;`</span><span class="op" id="8518742">,</span>&nbsp;<span class="string" id="8518744">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8518766">}</span><span class="op" id="8518767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518770">{</span><span class="string" id="8518771">`&#39;12&#39;`</span><span class="op" id="8518777">,</span>&nbsp;<span class="ident" id="8518779">token</span><span class="op" id="8518784">.</span><span class="ident" id="8518785">CHAR</span><span class="op" id="8518789">,</span>&nbsp;<span class="num" id="8518791">0</span><span class="op" id="8518792">,</span>&nbsp;<span class="string" id="8518794">`&#39;12&#39;`</span><span class="op" id="8518800">,</span>&nbsp;<span class="string" id="8518802">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8518824">}</span><span class="op" id="8518825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518828">{</span><span class="string" id="8518829">`&#39;123&#39;`</span><span class="op" id="8518836">,</span>&nbsp;<span class="ident" id="8518838">token</span><span class="op" id="8518843">.</span><span class="ident" id="8518844">CHAR</span><span class="op" id="8518848">,</span>&nbsp;<span class="num" id="8518850">0</span><span class="op" id="8518851">,</span>&nbsp;<span class="string" id="8518853">`&#39;123&#39;`</span><span class="op" id="8518860">,</span>&nbsp;<span class="string" id="8518862">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8518884">}</span><span class="op" id="8518885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518888">{</span><span class="string" id="8518889">`&#39;\0&#39;`</span><span class="op" id="8518895">,</span>&nbsp;<span class="ident" id="8518897">token</span><span class="op" id="8518902">.</span><span class="ident" id="8518903">CHAR</span><span class="op" id="8518907">,</span>&nbsp;<span class="num" id="8518909">3</span><span class="op" id="8518910">,</span>&nbsp;<span class="string" id="8518912">`&#39;\0&#39;`</span><span class="op" id="8518918">,</span>&nbsp;<span class="string" id="8518920">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8518969">}</span><span class="op" id="8518970">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8518973">{</span><span class="string" id="8518974">`&#39;\07&#39;`</span><span class="op" id="8518981">,</span>&nbsp;<span class="ident" id="8518983">token</span><span class="op" id="8518988">.</span><span class="ident" id="8518989">CHAR</span><span class="op" id="8518993">,</span>&nbsp;<span class="num" id="8518995">4</span><span class="op" id="8518996">,</span>&nbsp;<span class="string" id="8518998">`&#39;\07&#39;`</span><span class="op" id="8519005">,</span>&nbsp;<span class="string" id="8519007">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519056">}</span><span class="op" id="8519057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519060">{</span><span class="string" id="8519061">`&#39;\8&#39;`</span><span class="op" id="8519067">,</span>&nbsp;<span class="ident" id="8519069">token</span><span class="op" id="8519074">.</span><span class="ident" id="8519075">CHAR</span><span class="op" id="8519079">,</span>&nbsp;<span class="num" id="8519081">2</span><span class="op" id="8519082">,</span>&nbsp;<span class="string" id="8519084">`&#39;\8&#39;`</span><span class="op" id="8519090">,</span>&nbsp;<span class="string" id="8519092">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519117">}</span><span class="op" id="8519118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519121">{</span><span class="string" id="8519122">`&#39;\08&#39;`</span><span class="op" id="8519129">,</span>&nbsp;<span class="ident" id="8519131">token</span><span class="op" id="8519136">.</span><span class="ident" id="8519137">CHAR</span><span class="op" id="8519141">,</span>&nbsp;<span class="num" id="8519143">3</span><span class="op" id="8519144">,</span>&nbsp;<span class="string" id="8519146">`&#39;\08&#39;`</span><span class="op" id="8519153">,</span>&nbsp;<span class="string" id="8519155">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519204">}</span><span class="op" id="8519205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519208">{</span><span class="string" id="8519209">`&#39;\x&#39;`</span><span class="op" id="8519215">,</span>&nbsp;<span class="ident" id="8519217">token</span><span class="op" id="8519222">.</span><span class="ident" id="8519223">CHAR</span><span class="op" id="8519227">,</span>&nbsp;<span class="num" id="8519229">3</span><span class="op" id="8519230">,</span>&nbsp;<span class="string" id="8519232">`&#39;\x&#39;`</span><span class="op" id="8519238">,</span>&nbsp;<span class="string" id="8519240">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519289">}</span><span class="op" id="8519290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519293">{</span><span class="string" id="8519294">`&#39;\x0&#39;`</span><span class="op" id="8519301">,</span>&nbsp;<span class="ident" id="8519303">token</span><span class="op" id="8519308">.</span><span class="ident" id="8519309">CHAR</span><span class="op" id="8519313">,</span>&nbsp;<span class="num" id="8519315">4</span><span class="op" id="8519316">,</span>&nbsp;<span class="string" id="8519318">`&#39;\x0&#39;`</span><span class="op" id="8519325">,</span>&nbsp;<span class="string" id="8519327">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519376">}</span><span class="op" id="8519377">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519380">{</span><span class="string" id="8519381">`&#39;\x0g&#39;`</span><span class="op" id="8519389">,</span>&nbsp;<span class="ident" id="8519391">token</span><span class="op" id="8519396">.</span><span class="ident" id="8519397">CHAR</span><span class="op" id="8519401">,</span>&nbsp;<span class="num" id="8519403">4</span><span class="op" id="8519404">,</span>&nbsp;<span class="string" id="8519406">`&#39;\x0g&#39;`</span><span class="op" id="8519414">,</span>&nbsp;<span class="string" id="8519416">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519465">}</span><span class="op" id="8519466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519469">{</span><span class="string" id="8519470">`&#39;\u&#39;`</span><span class="op" id="8519476">,</span>&nbsp;<span class="ident" id="8519478">token</span><span class="op" id="8519483">.</span><span class="ident" id="8519484">CHAR</span><span class="op" id="8519488">,</span>&nbsp;<span class="num" id="8519490">3</span><span class="op" id="8519491">,</span>&nbsp;<span class="string" id="8519493">`&#39;\u&#39;`</span><span class="op" id="8519499">,</span>&nbsp;<span class="string" id="8519501">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519550">}</span><span class="op" id="8519551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519554">{</span><span class="string" id="8519555">`&#39;\u0&#39;`</span><span class="op" id="8519562">,</span>&nbsp;<span class="ident" id="8519564">token</span><span class="op" id="8519569">.</span><span class="ident" id="8519570">CHAR</span><span class="op" id="8519574">,</span>&nbsp;<span class="num" id="8519576">4</span><span class="op" id="8519577">,</span>&nbsp;<span class="string" id="8519579">`&#39;\u0&#39;`</span><span class="op" id="8519586">,</span>&nbsp;<span class="string" id="8519588">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519637">}</span><span class="op" id="8519638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519641">{</span><span class="string" id="8519642">`&#39;\u00&#39;`</span><span class="op" id="8519650">,</span>&nbsp;<span class="ident" id="8519652">token</span><span class="op" id="8519657">.</span><span class="ident" id="8519658">CHAR</span><span class="op" id="8519662">,</span>&nbsp;<span class="num" id="8519664">5</span><span class="op" id="8519665">,</span>&nbsp;<span class="string" id="8519667">`&#39;\u00&#39;`</span><span class="op" id="8519675">,</span>&nbsp;<span class="string" id="8519677">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519726">}</span><span class="op" id="8519727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519730">{</span><span class="string" id="8519731">`&#39;\u000&#39;`</span><span class="op" id="8519740">,</span>&nbsp;<span class="ident" id="8519742">token</span><span class="op" id="8519747">.</span><span class="ident" id="8519748">CHAR</span><span class="op" id="8519752">,</span>&nbsp;<span class="num" id="8519754">6</span><span class="op" id="8519755">,</span>&nbsp;<span class="string" id="8519757">`&#39;\u000&#39;`</span><span class="op" id="8519766">,</span>&nbsp;<span class="string" id="8519768">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8519817">}</span><span class="op" id="8519818">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519821">{</span><span class="string" id="8519822">`&#39;\u000`</span><span class="op" id="8519830">,</span>&nbsp;<span class="ident" id="8519832">token</span><span class="op" id="8519837">.</span><span class="ident" id="8519838">CHAR</span><span class="op" id="8519842">,</span>&nbsp;<span class="num" id="8519844">6</span><span class="op" id="8519845">,</span>&nbsp;<span class="string" id="8519847">`&#39;\u000`</span><span class="op" id="8519855">,</span>&nbsp;<span class="string" id="8519857">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8519889">}</span><span class="op" id="8519890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519893">{</span><span class="string" id="8519894">`&#39;\u0000&#39;`</span><span class="op" id="8519904">,</span>&nbsp;<span class="ident" id="8519906">token</span><span class="op" id="8519911">.</span><span class="ident" id="8519912">CHAR</span><span class="op" id="8519916">,</span>&nbsp;<span class="num" id="8519918">0</span><span class="op" id="8519919">,</span>&nbsp;<span class="string" id="8519921">`&#39;\u0000&#39;`</span><span class="op" id="8519931">,</span>&nbsp;<span class="string" id="8519933">&#34;&#34;</span><span class="op" id="8519935">}</span><span class="op" id="8519936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8519939">{</span><span class="string" id="8519940">`&#39;\U&#39;`</span><span class="op" id="8519946">,</span>&nbsp;<span class="ident" id="8519948">token</span><span class="op" id="8519953">.</span><span class="ident" id="8519954">CHAR</span><span class="op" id="8519958">,</span>&nbsp;<span class="num" id="8519960">3</span><span class="op" id="8519961">,</span>&nbsp;<span class="string" id="8519963">`&#39;\U&#39;`</span><span class="op" id="8519969">,</span>&nbsp;<span class="string" id="8519971">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8520020">}</span><span class="op" id="8520021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520024">{</span><span class="string" id="8520025">`&#39;\U0&#39;`</span><span class="op" id="8520032">,</span>&nbsp;<span class="ident" id="8520034">token</span><span class="op" id="8520039">.</span><span class="ident" id="8520040">CHAR</span><span class="op" id="8520044">,</span>&nbsp;<span class="num" id="8520046">4</span><span class="op" id="8520047">,</span>&nbsp;<span class="string" id="8520049">`&#39;\U0&#39;`</span><span class="op" id="8520056">,</span>&nbsp;<span class="string" id="8520058">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8520107">}</span><span class="op" id="8520108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520111">{</span><span class="string" id="8520112">`&#39;\U00&#39;`</span><span class="op" id="8520120">,</span>&nbsp;<span class="ident" id="8520122">token</span><span class="op" id="8520127">.</span><span class="ident" id="8520128">CHAR</span><span class="op" id="8520132">,</span>&nbsp;<span class="num" id="8520134">5</span><span class="op" id="8520135">,</span>&nbsp;<span class="string" id="8520137">`&#39;\U00&#39;`</span><span class="op" id="8520145">,</span>&nbsp;<span class="string" id="8520147">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8520196">}</span><span class="op" id="8520197">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520200">{</span><span class="string" id="8520201">`&#39;\U000&#39;`</span><span class="op" id="8520210">,</span>&nbsp;<span class="ident" id="8520212">token</span><span class="op" id="8520217">.</span><span class="ident" id="8520218">CHAR</span><span class="op" id="8520222">,</span>&nbsp;<span class="num" id="8520224">6</span><span class="op" id="8520225">,</span>&nbsp;<span class="string" id="8520227">`&#39;\U000&#39;`</span><span class="op" id="8520236">,</span>&nbsp;<span class="string" id="8520238">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8520287">}</span><span class="op" id="8520288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520291">{</span><span class="string" id="8520292">`&#39;\U0000&#39;`</span><span class="op" id="8520302">,</span>&nbsp;<span class="ident" id="8520304">token</span><span class="op" id="8520309">.</span><span class="ident" id="8520310">CHAR</span><span class="op" id="8520314">,</span>&nbsp;<span class="num" id="8520316">7</span><span class="op" id="8520317">,</span>&nbsp;<span class="string" id="8520319">`&#39;\U0000&#39;`</span><span class="op" id="8520329">,</span>&nbsp;<span class="string" id="8520331">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8520380">}</span><span class="op" id="8520381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520384">{</span><span class="string" id="8520385">`&#39;\U00000&#39;`</span><span class="op" id="8520396">,</span>&nbsp;<span class="ident" id="8520398">token</span><span class="op" id="8520403">.</span><span class="ident" id="8520404">CHAR</span><span class="op" id="8520408">,</span>&nbsp;<span class="num" id="8520410">8</span><span class="op" id="8520411">,</span>&nbsp;<span class="string" id="8520413">`&#39;\U00000&#39;`</span><span class="op" id="8520424">,</span>&nbsp;<span class="string" id="8520426">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8520475">}</span><span class="op" id="8520476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520479">{</span><span class="string" id="8520480">`&#39;\U000000&#39;`</span><span class="op" id="8520492">,</span>&nbsp;<span class="ident" id="8520494">token</span><span class="op" id="8520499">.</span><span class="ident" id="8520500">CHAR</span><span class="op" id="8520504">,</span>&nbsp;<span class="num" id="8520506">9</span><span class="op" id="8520507">,</span>&nbsp;<span class="string" id="8520509">`&#39;\U000000&#39;`</span><span class="op" id="8520521">,</span>&nbsp;<span class="string" id="8520523">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8520572">}</span><span class="op" id="8520573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520576">{</span><span class="string" id="8520577">`&#39;\U0000000&#39;`</span><span class="op" id="8520590">,</span>&nbsp;<span class="ident" id="8520592">token</span><span class="op" id="8520597">.</span><span class="ident" id="8520598">CHAR</span><span class="op" id="8520602">,</span>&nbsp;<span class="num" id="8520604">10</span><span class="op" id="8520606">,</span>&nbsp;<span class="string" id="8520608">`&#39;\U0000000&#39;`</span><span class="op" id="8520621">,</span>&nbsp;<span class="string" id="8520623">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8520672">}</span><span class="op" id="8520673">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520676">{</span><span class="string" id="8520677">`&#39;\U0000000`</span><span class="op" id="8520689">,</span>&nbsp;<span class="ident" id="8520691">token</span><span class="op" id="8520696">.</span><span class="ident" id="8520697">CHAR</span><span class="op" id="8520701">,</span>&nbsp;<span class="num" id="8520703">10</span><span class="op" id="8520705">,</span>&nbsp;<span class="string" id="8520707">`&#39;\U0000000`</span><span class="op" id="8520719">,</span>&nbsp;<span class="string" id="8520721">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8520753">}</span><span class="op" id="8520754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520757">{</span><span class="string" id="8520758">`&#39;\U00000000&#39;`</span><span class="op" id="8520772">,</span>&nbsp;<span class="ident" id="8520774">token</span><span class="op" id="8520779">.</span><span class="ident" id="8520780">CHAR</span><span class="op" id="8520784">,</span>&nbsp;<span class="num" id="8520786">0</span><span class="op" id="8520787">,</span>&nbsp;<span class="string" id="8520789">`&#39;\U00000000&#39;`</span><span class="op" id="8520803">,</span>&nbsp;<span class="string" id="8520805">&#34;&#34;</span><span class="op" id="8520807">}</span><span class="op" id="8520808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520811">{</span><span class="string" id="8520812">`&#39;\Uffffffff&#39;`</span><span class="op" id="8520826">,</span>&nbsp;<span class="ident" id="8520828">token</span><span class="op" id="8520833">.</span><span class="ident" id="8520834">CHAR</span><span class="op" id="8520838">,</span>&nbsp;<span class="num" id="8520840">2</span><span class="op" id="8520841">,</span>&nbsp;<span class="string" id="8520843">`&#39;\Uffffffff&#39;`</span><span class="op" id="8520857">,</span>&nbsp;<span class="string" id="8520859">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="8520906">}</span><span class="op" id="8520907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520910">{</span><span class="string" id="8520911">`&#39;`</span><span class="op" id="8520914">,</span>&nbsp;<span class="ident" id="8520916">token</span><span class="op" id="8520921">.</span><span class="ident" id="8520922">CHAR</span><span class="op" id="8520926">,</span>&nbsp;<span class="num" id="8520928">0</span><span class="op" id="8520929">,</span>&nbsp;<span class="string" id="8520931">`&#39;`</span><span class="op" id="8520934">,</span>&nbsp;<span class="string" id="8520936">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8520965">}</span><span class="op" id="8520966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8520969">{</span><span class="string" id="8520970">`&#39;\`</span><span class="op" id="8520974">,</span>&nbsp;<span class="ident" id="8520976">token</span><span class="op" id="8520981">.</span><span class="ident" id="8520982">CHAR</span><span class="op" id="8520986">,</span>&nbsp;<span class="num" id="8520988">2</span><span class="op" id="8520989">,</span>&nbsp;<span class="string" id="8520991">`&#39;\`</span><span class="op" id="8520995">,</span>&nbsp;<span class="string" id="8520997">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8521029">}</span><span class="op" id="8521030">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521033">{</span><span class="string" id="8521034">&#34;&#39;\n&#34;</span><span class="op" id="8521039">,</span>&nbsp;<span class="ident" id="8521041">token</span><span class="op" id="8521046">.</span><span class="ident" id="8521047">CHAR</span><span class="op" id="8521051">,</span>&nbsp;<span class="num" id="8521053">0</span><span class="op" id="8521054">,</span>&nbsp;<span class="string" id="8521056">&#34;&#39;&#34;</span><span class="op" id="8521059">,</span>&nbsp;<span class="string" id="8521061">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8521090">}</span><span class="op" id="8521091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521094">{</span><span class="string" id="8521095">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8521103">,</span>&nbsp;<span class="ident" id="8521105">token</span><span class="op" id="8521110">.</span><span class="ident" id="8521111">CHAR</span><span class="op" id="8521115">,</span>&nbsp;<span class="num" id="8521117">0</span><span class="op" id="8521118">,</span>&nbsp;<span class="string" id="8521120">&#34;&#39;&#34;</span><span class="op" id="8521123">,</span>&nbsp;<span class="string" id="8521125">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8521154">}</span><span class="op" id="8521155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521158">{</span><span class="string" id="8521159">`&#34;&#34;`</span><span class="op" id="8521163">,</span>&nbsp;<span class="ident" id="8521165">token</span><span class="op" id="8521170">.</span><span class="ident" id="8521171">STRING</span><span class="op" id="8521177">,</span>&nbsp;<span class="num" id="8521179">0</span><span class="op" id="8521180">,</span>&nbsp;<span class="string" id="8521182">`&#34;&#34;`</span><span class="op" id="8521186">,</span>&nbsp;<span class="string" id="8521188">&#34;&#34;</span><span class="op" id="8521190">}</span><span class="op" id="8521191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521194">{</span><span class="string" id="8521195">`&#34;abc`</span><span class="op" id="8521201">,</span>&nbsp;<span class="ident" id="8521203">token</span><span class="op" id="8521208">.</span><span class="ident" id="8521209">STRING</span><span class="op" id="8521215">,</span>&nbsp;<span class="num" id="8521217">0</span><span class="op" id="8521218">,</span>&nbsp;<span class="string" id="8521220">`&#34;abc`</span><span class="op" id="8521226">,</span>&nbsp;<span class="string" id="8521228">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8521259">}</span><span class="op" id="8521260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521263">{</span><span class="string" id="8521264">&#34;\&#34;abc\n&#34;</span><span class="op" id="8521273">,</span>&nbsp;<span class="ident" id="8521275">token</span><span class="op" id="8521280">.</span><span class="ident" id="8521281">STRING</span><span class="op" id="8521287">,</span>&nbsp;<span class="num" id="8521289">0</span><span class="op" id="8521290">,</span>&nbsp;<span class="string" id="8521292">`&#34;abc`</span><span class="op" id="8521298">,</span>&nbsp;<span class="string" id="8521300">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8521331">}</span><span class="op" id="8521332">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521335">{</span><span class="string" id="8521336">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8521348">,</span>&nbsp;<span class="ident" id="8521350">token</span><span class="op" id="8521355">.</span><span class="ident" id="8521356">STRING</span><span class="op" id="8521362">,</span>&nbsp;<span class="num" id="8521364">0</span><span class="op" id="8521365">,</span>&nbsp;<span class="string" id="8521367">`&#34;abc`</span><span class="op" id="8521373">,</span>&nbsp;<span class="string" id="8521375">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8521406">}</span><span class="op" id="8521407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521410">{</span><span class="string" id="8521411">&#34;``&#34;</span><span class="op" id="8521415">,</span>&nbsp;<span class="ident" id="8521417">token</span><span class="op" id="8521422">.</span><span class="ident" id="8521423">STRING</span><span class="op" id="8521429">,</span>&nbsp;<span class="num" id="8521431">0</span><span class="op" id="8521432">,</span>&nbsp;<span class="string" id="8521434">&#34;``&#34;</span><span class="op" id="8521438">,</span>&nbsp;<span class="string" id="8521440">&#34;&#34;</span><span class="op" id="8521442">}</span><span class="op" id="8521443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521446">{</span><span class="string" id="8521447">&#34;`&#34;</span><span class="op" id="8521450">,</span>&nbsp;<span class="ident" id="8521452">token</span><span class="op" id="8521457">.</span><span class="ident" id="8521458">STRING</span><span class="op" id="8521464">,</span>&nbsp;<span class="num" id="8521466">0</span><span class="op" id="8521467">,</span>&nbsp;<span class="string" id="8521469">&#34;`&#34;</span><span class="op" id="8521472">,</span>&nbsp;<span class="string" id="8521474">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8521509">}</span><span class="op" id="8521510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521513">{</span><span class="string" id="8521514">&#34;/**/&#34;</span><span class="op" id="8521520">,</span>&nbsp;<span class="ident" id="8521522">token</span><span class="op" id="8521527">.</span><span class="ident" id="8521528">COMMENT</span><span class="op" id="8521535">,</span>&nbsp;<span class="num" id="8521537">0</span><span class="op" id="8521538">,</span>&nbsp;<span class="string" id="8521540">&#34;/**/&#34;</span><span class="op" id="8521546">,</span>&nbsp;<span class="string" id="8521548">&#34;&#34;</span><span class="op" id="8521550">}</span><span class="op" id="8521551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521554">{</span><span class="string" id="8521555">&#34;/*&#34;</span><span class="op" id="8521559">,</span>&nbsp;<span class="ident" id="8521561">token</span><span class="op" id="8521566">.</span><span class="ident" id="8521567">COMMENT</span><span class="op" id="8521574">,</span>&nbsp;<span class="num" id="8521576">0</span><span class="op" id="8521577">,</span>&nbsp;<span class="string" id="8521579">&#34;/*&#34;</span><span class="op" id="8521583">,</span>&nbsp;<span class="string" id="8521585">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8521609">}</span><span class="op" id="8521610">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521613">{</span><span class="string" id="8521614">&#34;077&#34;</span><span class="op" id="8521619">,</span>&nbsp;<span class="ident" id="8521621">token</span><span class="op" id="8521626">.</span><span class="ident" id="8521627">INT</span><span class="op" id="8521630">,</span>&nbsp;<span class="num" id="8521632">0</span><span class="op" id="8521633">,</span>&nbsp;<span class="string" id="8521635">&#34;077&#34;</span><span class="op" id="8521640">,</span>&nbsp;<span class="string" id="8521642">&#34;&#34;</span><span class="op" id="8521644">}</span><span class="op" id="8521645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521648">{</span><span class="string" id="8521649">&#34;078.&#34;</span><span class="op" id="8521655">,</span>&nbsp;<span class="ident" id="8521657">token</span><span class="op" id="8521662">.</span><span class="ident" id="8521663">FLOAT</span><span class="op" id="8521668">,</span>&nbsp;<span class="num" id="8521670">0</span><span class="op" id="8521671">,</span>&nbsp;<span class="string" id="8521673">&#34;078.&#34;</span><span class="op" id="8521679">,</span>&nbsp;<span class="string" id="8521681">&#34;&#34;</span><span class="op" id="8521683">}</span><span class="op" id="8521684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521687">{</span><span class="string" id="8521688">&#34;07801234567.&#34;</span><span class="op" id="8521702">,</span>&nbsp;<span class="ident" id="8521704">token</span><span class="op" id="8521709">.</span><span class="ident" id="8521710">FLOAT</span><span class="op" id="8521715">,</span>&nbsp;<span class="num" id="8521717">0</span><span class="op" id="8521718">,</span>&nbsp;<span class="string" id="8521720">&#34;07801234567.&#34;</span><span class="op" id="8521734">,</span>&nbsp;<span class="string" id="8521736">&#34;&#34;</span><span class="op" id="8521738">}</span><span class="op" id="8521739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521742">{</span><span class="string" id="8521743">&#34;078e0&#34;</span><span class="op" id="8521750">,</span>&nbsp;<span class="ident" id="8521752">token</span><span class="op" id="8521757">.</span><span class="ident" id="8521758">FLOAT</span><span class="op" id="8521763">,</span>&nbsp;<span class="num" id="8521765">0</span><span class="op" id="8521766">,</span>&nbsp;<span class="string" id="8521768">&#34;078e0&#34;</span><span class="op" id="8521775">,</span>&nbsp;<span class="string" id="8521777">&#34;&#34;</span><span class="op" id="8521779">}</span><span class="op" id="8521780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521783">{</span><span class="string" id="8521784">&#34;078&#34;</span><span class="op" id="8521789">,</span>&nbsp;<span class="ident" id="8521791">token</span><span class="op" id="8521796">.</span><span class="ident" id="8521797">INT</span><span class="op" id="8521800">,</span>&nbsp;<span class="num" id="8521802">0</span><span class="op" id="8521803">,</span>&nbsp;<span class="string" id="8521805">&#34;078&#34;</span><span class="op" id="8521810">,</span>&nbsp;<span class="string" id="8521812">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8521834">}</span><span class="op" id="8521835">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521838">{</span><span class="string" id="8521839">&#34;07800000009&#34;</span><span class="op" id="8521852">,</span>&nbsp;<span class="ident" id="8521854">token</span><span class="op" id="8521859">.</span><span class="ident" id="8521860">INT</span><span class="op" id="8521863">,</span>&nbsp;<span class="num" id="8521865">0</span><span class="op" id="8521866">,</span>&nbsp;<span class="string" id="8521868">&#34;07800000009&#34;</span><span class="op" id="8521881">,</span>&nbsp;<span class="string" id="8521883">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8521905">}</span><span class="op" id="8521906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521909">{</span><span class="string" id="8521910">&#34;0x&#34;</span><span class="op" id="8521914">,</span>&nbsp;<span class="ident" id="8521916">token</span><span class="op" id="8521921">.</span><span class="ident" id="8521922">INT</span><span class="op" id="8521925">,</span>&nbsp;<span class="num" id="8521927">0</span><span class="op" id="8521928">,</span>&nbsp;<span class="string" id="8521930">&#34;0x&#34;</span><span class="op" id="8521934">,</span>&nbsp;<span class="string" id="8521936">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8521964">}</span><span class="op" id="8521965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8521968">{</span><span class="string" id="8521969">&#34;0X&#34;</span><span class="op" id="8521973">,</span>&nbsp;<span class="ident" id="8521975">token</span><span class="op" id="8521980">.</span><span class="ident" id="8521981">INT</span><span class="op" id="8521984">,</span>&nbsp;<span class="num" id="8521986">0</span><span class="op" id="8521987">,</span>&nbsp;<span class="string" id="8521989">&#34;0X&#34;</span><span class="op" id="8521993">,</span>&nbsp;<span class="string" id="8521995">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8522023">}</span><span class="op" id="8522024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8522027">{</span><span class="string" id="8522028">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8522044">,</span>&nbsp;<span class="ident" id="8522046">token</span><span class="op" id="8522051">.</span><span class="ident" id="8522052">STRING</span><span class="op" id="8522058">,</span>&nbsp;<span class="num" id="8522060">4</span><span class="op" id="8522061">,</span>&nbsp;<span class="string" id="8522063">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8522079">,</span>&nbsp;<span class="string" id="8522081">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8522104">}</span><span class="op" id="8522105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8522108">{</span><span class="string" id="8522109">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8522125">,</span>&nbsp;<span class="ident" id="8522127">token</span><span class="op" id="8522132">.</span><span class="ident" id="8522133">STRING</span><span class="op" id="8522139">,</span>&nbsp;<span class="num" id="8522141">4</span><span class="op" id="8522142">,</span>&nbsp;<span class="string" id="8522144">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8522160">,</span>&nbsp;<span class="string" id="8522162">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8522186">}</span><span class="op" id="8522187">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8522190">{</span><span class="string" id="8522191">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8522205">,</span>&nbsp;<span class="ident" id="8522207">token</span><span class="op" id="8522212">.</span><span class="ident" id="8522213">ILLEGAL</span><span class="op" id="8522220">,</span>&nbsp;<span class="num" id="8522222">3</span><span class="op" id="8522223">,</span>&nbsp;<span class="string" id="8522225">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8522239">,</span>&nbsp;<span class="string" id="8522241">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8522266">}</span><span class="op" id="8522267">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8522292">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8522322">{</span><span class="string" id="8522323">&#34;//\ufeff&#34;</span><span class="op" id="8522333">,</span>&nbsp;<span class="ident" id="8522335">token</span><span class="op" id="8522340">.</span><span class="ident" id="8522341">COMMENT</span><span class="op" id="8522348">,</span>&nbsp;<span class="num" id="8522350">2</span><span class="op" id="8522351">,</span>&nbsp;<span class="string" id="8522353">&#34;//\ufeff&#34;</span><span class="op" id="8522363">,</span>&nbsp;<span class="string" id="8522365">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8522390">}</span><span class="op" id="8522391">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8522424">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8522454">{</span><span class="string" id="8522455">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8522465">+</span>&nbsp;<span class="string" id="8522467">`&#39;`</span><span class="op" id="8522470">,</span>&nbsp;<span class="ident" id="8522472">token</span><span class="op" id="8522477">.</span><span class="ident" id="8522478">CHAR</span><span class="op" id="8522482">,</span>&nbsp;<span class="num" id="8522484">1</span><span class="op" id="8522485">,</span>&nbsp;<span class="string" id="8522487">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8522497">+</span>&nbsp;<span class="string" id="8522499">`&#39;`</span><span class="op" id="8522502">,</span>&nbsp;<span class="string" id="8522504">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8522529">}</span><span class="op" id="8522530">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8522556">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8522586">{</span><span class="string" id="8522587">`&#34;`</span>&nbsp;<span class="op" id="8522591">+</span>&nbsp;<span class="string" id="8522593">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8522608">+</span>&nbsp;<span class="string" id="8522610">`&#34;`</span><span class="op" id="8522613">,</span>&nbsp;<span class="ident" id="8522615">token</span><span class="op" id="8522620">.</span><span class="ident" id="8522621">STRING</span><span class="op" id="8522627">,</span>&nbsp;<span class="num" id="8522629">4</span><span class="op" id="8522630">,</span>&nbsp;<span class="string" id="8522632">`&#34;`</span>&nbsp;<span class="op" id="8522636">+</span>&nbsp;<span class="string" id="8522638">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8522653">+</span>&nbsp;<span class="string" id="8522655">`&#34;`</span><span class="op" id="8522658">,</span>&nbsp;<span class="string" id="8522660">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8522685">}</span><span class="op" id="8522686">,</span>&nbsp;<span class="comment" id="8522688">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="8522717">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="8522720">func</span>&nbsp;<span class="ident" id="8522725">TestScanErrors</span><span class="op" id="8522739">(</span><span class="ident" id="8522740">t</span>&nbsp;<span class="op" id="8522742">*</span><span class="ident" id="8522743">testing</span><span class="op" id="8522750">.</span><span class="ident" id="8522751">T</span><span class="op" id="8522752">)</span>&nbsp;<span class="op" id="8522754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8522757">for</span>&nbsp;<span class="ident" id="8522761">_</span><span class="op" id="8522762">,</span>&nbsp;<span class="ident" id="8522764">e</span>&nbsp;<span class="op" id="8522766">:=</span>&nbsp;<span class="keyword" id="8522769">range</span>&nbsp;<span class="ident" id="8522775">errors</span>&nbsp;<span class="op" id="8522782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8522786">checkError</span><span class="op" id="8522796">(</span><span class="ident" id="8522797">t</span><span class="op" id="8522798">,</span>&nbsp;<span class="ident" id="8522800">e</span><span class="op" id="8522801">.</span><span class="ident" id="8522802">src</span><span class="op" id="8522805">,</span>&nbsp;<span class="ident" id="8522807">e</span><span class="op" id="8522808">.</span><span class="ident" id="8522809">tok</span><span class="op" id="8522812">,</span>&nbsp;<span class="ident" id="8522814">e</span><span class="op" id="8522815">.</span><span class="ident" id="8522816">pos</span><span class="op" id="8522819">,</span>&nbsp;<span class="ident" id="8522821">e</span><span class="op" id="8522822">.</span><span class="ident" id="8522823">lit</span><span class="op" id="8522826">,</span>&nbsp;<span class="ident" id="8522828">e</span><span class="op" id="8522829">.</span><span class="ident" id="8522830">err</span><span class="op" id="8522833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8522836">}</span><br>
<span class="lineno">735</span><span class="op" id="8522838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8522841">func</span>&nbsp;<span class="ident" id="8522846">BenchmarkScan</span><span class="op" id="8522859">(</span><span class="ident" id="8522860">b</span>&nbsp;<span class="op" id="8522862">*</span><span class="ident" id="8522863">testing</span><span class="op" id="8522870">.</span><span class="ident" id="8522871">B</span><span class="op" id="8522872">)</span>&nbsp;<span class="op" id="8522874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8522877">b</span><span class="op" id="8522878">.</span><span class="ident" id="8522879">StopTimer</span><span class="op" id="8522888">(</span><span class="op" id="8522889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8522892">fset</span>&nbsp;<span class="op" id="8522897">:=</span>&nbsp;<span class="ident" id="8522900">token</span><span class="op" id="8522905">.</span><span class="ident" id="8522906">NewFileSet</span><span class="op" id="8522916">(</span><span class="op" id="8522917">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8522920">file</span>&nbsp;<span class="op" id="8522925">:=</span>&nbsp;<span class="ident" id="8522928">fset</span><span class="op" id="8522932">.</span><span class="ident" id="8522933">AddFile</span><span class="op" id="8522940">(</span><span class="string" id="8522941">&#34;&#34;</span><span class="op" id="8522943">,</span>&nbsp;<span class="ident" id="8522945">fset</span><span class="op" id="8522949">.</span><span class="ident" id="8522950">Base</span><span class="op" id="8522954">(</span><span class="op" id="8522955">)</span><span class="op" id="8522956">,</span>&nbsp;<span class="builtinfunc" id="8522958">len</span><span class="op" id="8522961">(</span><span class="ident" id="8522962">source</span><span class="op" id="8522968">)</span><span class="op" id="8522969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8522972">var</span>&nbsp;<span class="ident" id="8522976">s</span>&nbsp;<span class="ident" id="8522978">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8522987">b</span><span class="op" id="8522988">.</span><span class="ident" id="8522989">StartTimer</span><span class="op" id="8522999">(</span><span class="op" id="8523000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523003">for</span>&nbsp;<span class="ident" id="8523007">i</span>&nbsp;<span class="op" id="8523009">:=</span>&nbsp;<span class="num" id="8523012">0</span><span class="op" id="8523013">;</span>&nbsp;<span class="ident" id="8523015">i</span>&nbsp;<span class="op" id="8523017">&lt;</span>&nbsp;<span class="ident" id="8523019">b</span><span class="op" id="8523020">.</span><span class="ident" id="8523021">N</span><span class="op" id="8523022">;</span>&nbsp;<span class="ident" id="8523024">i</span><span class="op" id="8523025">++</span>&nbsp;<span class="op" id="8523028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523032">s</span><span class="op" id="8523033">.</span><span class="ident" id="8523034">Init</span><span class="op" id="8523038">(</span><span class="ident" id="8523039">file</span><span class="op" id="8523043">,</span>&nbsp;<span class="ident" id="8523045">source</span><span class="op" id="8523051">,</span>&nbsp;<span class="ident" id="8523053">nil</span><span class="op" id="8523056">,</span>&nbsp;<span class="ident" id="8523058">ScanComments</span><span class="op" id="8523070">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523074">for</span>&nbsp;<span class="op" id="8523078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523083">_</span><span class="op" id="8523084">,</span>&nbsp;<span class="ident" id="8523086">tok</span><span class="op" id="8523089">,</span>&nbsp;<span class="ident" id="8523091">_</span>&nbsp;<span class="op" id="8523093">:=</span>&nbsp;<span class="ident" id="8523096">s</span><span class="op" id="8523097">.</span><span class="ident" id="8523098">Scan</span><span class="op" id="8523102">(</span><span class="op" id="8523103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523108">if</span>&nbsp;<span class="ident" id="8523111">tok</span>&nbsp;<span class="op" id="8523115">==</span>&nbsp;<span class="ident" id="8523118">token</span><span class="op" id="8523123">.</span><span class="ident" id="8523124">EOF</span>&nbsp;<span class="op" id="8523128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523134">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8523143">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8523147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8523150">}</span><br>
<span class="lineno"></span><span class="op" id="8523152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8523155">func</span>&nbsp;<span class="ident" id="8523160">BenchmarkScanFile</span><span class="op" id="8523177">(</span><span class="ident" id="8523178">b</span>&nbsp;<span class="op" id="8523180">*</span><span class="ident" id="8523181">testing</span><span class="op" id="8523188">.</span><span class="ident" id="8523189">B</span><span class="op" id="8523190">)</span>&nbsp;<span class="op" id="8523192">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523195">b</span><span class="op" id="8523196">.</span><span class="ident" id="8523197">StopTimer</span><span class="op" id="8523206">(</span><span class="op" id="8523207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523210">const</span>&nbsp;<span class="ident" id="8523216">filename</span>&nbsp;<span class="op" id="8523225">=</span>&nbsp;<span class="string" id="8523227">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523241">src</span><span class="op" id="8523244">,</span>&nbsp;<span class="ident" id="8523246">err</span>&nbsp;<span class="op" id="8523250">:=</span>&nbsp;<span class="ident" id="8523253">ioutil</span><span class="op" id="8523259">.</span><span class="ident" id="8523260">ReadFile</span><span class="op" id="8523268">(</span><span class="ident" id="8523269">filename</span><span class="op" id="8523277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523280">if</span>&nbsp;<span class="ident" id="8523283">err</span>&nbsp;<span class="op" id="8523287">!=</span>&nbsp;<span class="ident" id="8523290">nil</span>&nbsp;<span class="op" id="8523294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8523298">panic</span><span class="op" id="8523303">(</span><span class="ident" id="8523304">err</span><span class="op" id="8523307">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8523310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523313">fset</span>&nbsp;<span class="op" id="8523318">:=</span>&nbsp;<span class="ident" id="8523321">token</span><span class="op" id="8523326">.</span><span class="ident" id="8523327">NewFileSet</span><span class="op" id="8523337">(</span><span class="op" id="8523338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523341">file</span>&nbsp;<span class="op" id="8523346">:=</span>&nbsp;<span class="ident" id="8523349">fset</span><span class="op" id="8523353">.</span><span class="ident" id="8523354">AddFile</span><span class="op" id="8523361">(</span><span class="ident" id="8523362">filename</span><span class="op" id="8523370">,</span>&nbsp;<span class="ident" id="8523372">fset</span><span class="op" id="8523376">.</span><span class="ident" id="8523377">Base</span><span class="op" id="8523381">(</span><span class="op" id="8523382">)</span><span class="op" id="8523383">,</span>&nbsp;<span class="builtinfunc" id="8523385">len</span><span class="op" id="8523388">(</span><span class="ident" id="8523389">src</span><span class="op" id="8523392">)</span><span class="op" id="8523393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523396">b</span><span class="op" id="8523397">.</span><span class="ident" id="8523398">SetBytes</span><span class="op" id="8523406">(</span><span class="ident" id="8523407">int64</span><span class="op" id="8523412">(</span><span class="builtinfunc" id="8523413">len</span><span class="op" id="8523416">(</span><span class="ident" id="8523417">src</span><span class="op" id="8523420">)</span><span class="op" id="8523421">)</span><span class="op" id="8523422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523425">var</span>&nbsp;<span class="ident" id="8523429">s</span>&nbsp;<span class="ident" id="8523431">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523440">b</span><span class="op" id="8523441">.</span><span class="ident" id="8523442">StartTimer</span><span class="op" id="8523452">(</span><span class="op" id="8523453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523456">for</span>&nbsp;<span class="ident" id="8523460">i</span>&nbsp;<span class="op" id="8523462">:=</span>&nbsp;<span class="num" id="8523465">0</span><span class="op" id="8523466">;</span>&nbsp;<span class="ident" id="8523468">i</span>&nbsp;<span class="op" id="8523470">&lt;</span>&nbsp;<span class="ident" id="8523472">b</span><span class="op" id="8523473">.</span><span class="ident" id="8523474">N</span><span class="op" id="8523475">;</span>&nbsp;<span class="ident" id="8523477">i</span><span class="op" id="8523478">++</span>&nbsp;<span class="op" id="8523481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523485">s</span><span class="op" id="8523486">.</span><span class="ident" id="8523487">Init</span><span class="op" id="8523491">(</span><span class="ident" id="8523492">file</span><span class="op" id="8523496">,</span>&nbsp;<span class="ident" id="8523498">src</span><span class="op" id="8523501">,</span>&nbsp;<span class="ident" id="8523503">nil</span><span class="op" id="8523506">,</span>&nbsp;<span class="ident" id="8523508">ScanComments</span><span class="op" id="8523520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523524">for</span>&nbsp;<span class="op" id="8523528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8523533">_</span><span class="op" id="8523534">,</span>&nbsp;<span class="ident" id="8523536">tok</span><span class="op" id="8523539">,</span>&nbsp;<span class="ident" id="8523541">_</span>&nbsp;<span class="op" id="8523543">:=</span>&nbsp;<span class="ident" id="8523546">s</span><span class="op" id="8523547">.</span><span class="ident" id="8523548">Scan</span><span class="op" id="8523552">(</span><span class="op" id="8523553">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523558">if</span>&nbsp;<span class="ident" id="8523561">tok</span>&nbsp;<span class="op" id="8523565">==</span>&nbsp;<span class="ident" id="8523568">token</span><span class="op" id="8523573">.</span><span class="ident" id="8523574">EOF</span>&nbsp;<span class="op" id="8523578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8523584">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8523593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8523597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8523600">}</span><br>
<span class="lineno">775</span><span class="op" id="8523602">}</span>
</div>
</body>
</html>
