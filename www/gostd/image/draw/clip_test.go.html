<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html" class="current">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8094576">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8094631">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8094685">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8094736">package</span>&nbsp;<span class="ident" id="8094744">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8094750">import</span>&nbsp;<span class="op" id="8094757">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8094760">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8094769">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8094779">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8094782">type</span>&nbsp;<span class="ident" id="8094787">clipTest</span>&nbsp;<span class="keyword" id="8094796">struct</span>&nbsp;<span class="op" id="8094803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094806">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8094820">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094828">r</span><span class="op" id="8094829">,</span>&nbsp;<span class="ident" id="8094831">dr</span><span class="op" id="8094833">,</span>&nbsp;<span class="ident" id="8094835">sr</span><span class="op" id="8094837">,</span>&nbsp;<span class="ident" id="8094839">mr</span>&nbsp;<span class="ident" id="8094842">image</span><span class="op" id="8094847">.</span><span class="ident" id="8094848">Rectangle</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094859">sp</span><span class="op" id="8094861">,</span>&nbsp;<span class="ident" id="8094863">mp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094873">image</span><span class="op" id="8094878">.</span><span class="ident" id="8094879">Point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094886">nilMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8094900">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094906">r0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094920">image</span><span class="op" id="8094925">.</span><span class="ident" id="8094926">Rectangle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094937">sp0</span><span class="op" id="8094940">,</span>&nbsp;<span class="ident" id="8094942">mp0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094951">image</span><span class="op" id="8094956">.</span><span class="ident" id="8094957">Point</span><br>
<span class="lineno"></span><span class="op" id="8094963">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8094966">var</span>&nbsp;<span class="ident" id="8094970">clipTests</span>&nbsp;<span class="op" id="8094980">=</span>&nbsp;<span class="op" id="8094982">[</span><span class="op" id="8094983">]</span><span class="ident" id="8094984">clipTest</span><span class="op" id="8094992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8094995">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8095044">&#34;basic&#34;</span><span class="op" id="8095051">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095055">image</span><span class="op" id="8095060">.</span><span class="ident" id="8095061">Rect</span><span class="op" id="8095065">(</span><span class="num" id="8095066">0</span><span class="op" id="8095067">,</span>&nbsp;<span class="num" id="8095069">0</span><span class="op" id="8095070">,</span>&nbsp;<span class="num" id="8095072">100</span><span class="op" id="8095075">,</span>&nbsp;<span class="num" id="8095077">100</span><span class="op" id="8095080">)</span><span class="op" id="8095081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095085">image</span><span class="op" id="8095090">.</span><span class="ident" id="8095091">Rect</span><span class="op" id="8095095">(</span><span class="num" id="8095096">0</span><span class="op" id="8095097">,</span>&nbsp;<span class="num" id="8095099">0</span><span class="op" id="8095100">,</span>&nbsp;<span class="num" id="8095102">100</span><span class="op" id="8095105">,</span>&nbsp;<span class="num" id="8095107">100</span><span class="op" id="8095110">)</span><span class="op" id="8095111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095115">image</span><span class="op" id="8095120">.</span><span class="ident" id="8095121">Rect</span><span class="op" id="8095125">(</span><span class="num" id="8095126">0</span><span class="op" id="8095127">,</span>&nbsp;<span class="num" id="8095129">0</span><span class="op" id="8095130">,</span>&nbsp;<span class="num" id="8095132">100</span><span class="op" id="8095135">,</span>&nbsp;<span class="num" id="8095137">100</span><span class="op" id="8095140">)</span><span class="op" id="8095141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095145">image</span><span class="op" id="8095150">.</span><span class="ident" id="8095151">ZR</span><span class="op" id="8095153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095157">image</span><span class="op" id="8095162">.</span><span class="ident" id="8095163">ZP</span><span class="op" id="8095165">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095169">image</span><span class="op" id="8095174">.</span><span class="ident" id="8095175">ZP</span><span class="op" id="8095177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8095181">true</span><span class="op" id="8095185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095189">image</span><span class="op" id="8095194">.</span><span class="ident" id="8095195">Rect</span><span class="op" id="8095199">(</span><span class="num" id="8095200">0</span><span class="op" id="8095201">,</span>&nbsp;<span class="num" id="8095203">0</span><span class="op" id="8095204">,</span>&nbsp;<span class="num" id="8095206">100</span><span class="op" id="8095209">,</span>&nbsp;<span class="num" id="8095211">100</span><span class="op" id="8095214">)</span><span class="op" id="8095215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095219">image</span><span class="op" id="8095224">.</span><span class="ident" id="8095225">ZP</span><span class="op" id="8095227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095231">image</span><span class="op" id="8095236">.</span><span class="ident" id="8095237">ZP</span><span class="op" id="8095239">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095242">}</span><span class="op" id="8095243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8095250">&#34;clip&nbsp;dr&#34;</span><span class="op" id="8095259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095263">image</span><span class="op" id="8095268">.</span><span class="ident" id="8095269">Rect</span><span class="op" id="8095273">(</span><span class="num" id="8095274">0</span><span class="op" id="8095275">,</span>&nbsp;<span class="num" id="8095277">0</span><span class="op" id="8095278">,</span>&nbsp;<span class="num" id="8095280">100</span><span class="op" id="8095283">,</span>&nbsp;<span class="num" id="8095285">100</span><span class="op" id="8095288">)</span><span class="op" id="8095289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095293">image</span><span class="op" id="8095298">.</span><span class="ident" id="8095299">Rect</span><span class="op" id="8095303">(</span><span class="num" id="8095304">40</span><span class="op" id="8095306">,</span>&nbsp;<span class="num" id="8095308">40</span><span class="op" id="8095310">,</span>&nbsp;<span class="num" id="8095312">60</span><span class="op" id="8095314">,</span>&nbsp;<span class="num" id="8095316">60</span><span class="op" id="8095318">)</span><span class="op" id="8095319">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095323">image</span><span class="op" id="8095328">.</span><span class="ident" id="8095329">Rect</span><span class="op" id="8095333">(</span><span class="num" id="8095334">0</span><span class="op" id="8095335">,</span>&nbsp;<span class="num" id="8095337">0</span><span class="op" id="8095338">,</span>&nbsp;<span class="num" id="8095340">100</span><span class="op" id="8095343">,</span>&nbsp;<span class="num" id="8095345">100</span><span class="op" id="8095348">)</span><span class="op" id="8095349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095353">image</span><span class="op" id="8095358">.</span><span class="ident" id="8095359">ZR</span><span class="op" id="8095361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095365">image</span><span class="op" id="8095370">.</span><span class="ident" id="8095371">ZP</span><span class="op" id="8095373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095377">image</span><span class="op" id="8095382">.</span><span class="ident" id="8095383">ZP</span><span class="op" id="8095385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8095389">true</span><span class="op" id="8095393">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095397">image</span><span class="op" id="8095402">.</span><span class="ident" id="8095403">Rect</span><span class="op" id="8095407">(</span><span class="num" id="8095408">40</span><span class="op" id="8095410">,</span>&nbsp;<span class="num" id="8095412">40</span><span class="op" id="8095414">,</span>&nbsp;<span class="num" id="8095416">60</span><span class="op" id="8095418">,</span>&nbsp;<span class="num" id="8095420">60</span><span class="op" id="8095422">)</span><span class="op" id="8095423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095427">image</span><span class="op" id="8095432">.</span><span class="ident" id="8095433">Pt</span><span class="op" id="8095435">(</span><span class="num" id="8095436">40</span><span class="op" id="8095438">,</span>&nbsp;<span class="num" id="8095440">40</span><span class="op" id="8095442">)</span><span class="op" id="8095443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095447">image</span><span class="op" id="8095452">.</span><span class="ident" id="8095453">ZP</span><span class="op" id="8095455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095458">}</span><span class="op" id="8095459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095462">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8095466">&#34;clip&nbsp;sr&#34;</span><span class="op" id="8095475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095479">image</span><span class="op" id="8095484">.</span><span class="ident" id="8095485">Rect</span><span class="op" id="8095489">(</span><span class="num" id="8095490">0</span><span class="op" id="8095491">,</span>&nbsp;<span class="num" id="8095493">0</span><span class="op" id="8095494">,</span>&nbsp;<span class="num" id="8095496">100</span><span class="op" id="8095499">,</span>&nbsp;<span class="num" id="8095501">100</span><span class="op" id="8095504">)</span><span class="op" id="8095505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095509">image</span><span class="op" id="8095514">.</span><span class="ident" id="8095515">Rect</span><span class="op" id="8095519">(</span><span class="num" id="8095520">0</span><span class="op" id="8095521">,</span>&nbsp;<span class="num" id="8095523">0</span><span class="op" id="8095524">,</span>&nbsp;<span class="num" id="8095526">100</span><span class="op" id="8095529">,</span>&nbsp;<span class="num" id="8095531">100</span><span class="op" id="8095534">)</span><span class="op" id="8095535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095539">image</span><span class="op" id="8095544">.</span><span class="ident" id="8095545">Rect</span><span class="op" id="8095549">(</span><span class="num" id="8095550">20</span><span class="op" id="8095552">,</span>&nbsp;<span class="num" id="8095554">20</span><span class="op" id="8095556">,</span>&nbsp;<span class="num" id="8095558">80</span><span class="op" id="8095560">,</span>&nbsp;<span class="num" id="8095562">80</span><span class="op" id="8095564">)</span><span class="op" id="8095565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095569">image</span><span class="op" id="8095574">.</span><span class="ident" id="8095575">ZR</span><span class="op" id="8095577">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095581">image</span><span class="op" id="8095586">.</span><span class="ident" id="8095587">ZP</span><span class="op" id="8095589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095593">image</span><span class="op" id="8095598">.</span><span class="ident" id="8095599">ZP</span><span class="op" id="8095601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8095605">true</span><span class="op" id="8095609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095613">image</span><span class="op" id="8095618">.</span><span class="ident" id="8095619">Rect</span><span class="op" id="8095623">(</span><span class="num" id="8095624">20</span><span class="op" id="8095626">,</span>&nbsp;<span class="num" id="8095628">20</span><span class="op" id="8095630">,</span>&nbsp;<span class="num" id="8095632">80</span><span class="op" id="8095634">,</span>&nbsp;<span class="num" id="8095636">80</span><span class="op" id="8095638">)</span><span class="op" id="8095639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095643">image</span><span class="op" id="8095648">.</span><span class="ident" id="8095649">Pt</span><span class="op" id="8095651">(</span><span class="num" id="8095652">20</span><span class="op" id="8095654">,</span>&nbsp;<span class="num" id="8095656">20</span><span class="op" id="8095658">)</span><span class="op" id="8095659">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095663">image</span><span class="op" id="8095668">.</span><span class="ident" id="8095669">ZP</span><span class="op" id="8095671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095674">}</span><span class="op" id="8095675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8095682">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr&#34;</span><span class="op" id="8095698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095702">image</span><span class="op" id="8095707">.</span><span class="ident" id="8095708">Rect</span><span class="op" id="8095712">(</span><span class="num" id="8095713">0</span><span class="op" id="8095714">,</span>&nbsp;<span class="num" id="8095716">0</span><span class="op" id="8095717">,</span>&nbsp;<span class="num" id="8095719">100</span><span class="op" id="8095722">,</span>&nbsp;<span class="num" id="8095724">100</span><span class="op" id="8095727">)</span><span class="op" id="8095728">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095732">image</span><span class="op" id="8095737">.</span><span class="ident" id="8095738">Rect</span><span class="op" id="8095742">(</span><span class="num" id="8095743">0</span><span class="op" id="8095744">,</span>&nbsp;<span class="num" id="8095746">0</span><span class="op" id="8095747">,</span>&nbsp;<span class="num" id="8095749">50</span><span class="op" id="8095751">,</span>&nbsp;<span class="num" id="8095753">100</span><span class="op" id="8095756">)</span><span class="op" id="8095757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095761">image</span><span class="op" id="8095766">.</span><span class="ident" id="8095767">Rect</span><span class="op" id="8095771">(</span><span class="num" id="8095772">20</span><span class="op" id="8095774">,</span>&nbsp;<span class="num" id="8095776">20</span><span class="op" id="8095778">,</span>&nbsp;<span class="num" id="8095780">80</span><span class="op" id="8095782">,</span>&nbsp;<span class="num" id="8095784">80</span><span class="op" id="8095786">)</span><span class="op" id="8095787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095791">image</span><span class="op" id="8095796">.</span><span class="ident" id="8095797">ZR</span><span class="op" id="8095799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095803">image</span><span class="op" id="8095808">.</span><span class="ident" id="8095809">ZP</span><span class="op" id="8095811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095815">image</span><span class="op" id="8095820">.</span><span class="ident" id="8095821">ZP</span><span class="op" id="8095823">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8095827">true</span><span class="op" id="8095831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095835">image</span><span class="op" id="8095840">.</span><span class="ident" id="8095841">Rect</span><span class="op" id="8095845">(</span><span class="num" id="8095846">20</span><span class="op" id="8095848">,</span>&nbsp;<span class="num" id="8095850">20</span><span class="op" id="8095852">,</span>&nbsp;<span class="num" id="8095854">50</span><span class="op" id="8095856">,</span>&nbsp;<span class="num" id="8095858">80</span><span class="op" id="8095860">)</span><span class="op" id="8095861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095865">image</span><span class="op" id="8095870">.</span><span class="ident" id="8095871">Pt</span><span class="op" id="8095873">(</span><span class="num" id="8095874">20</span><span class="op" id="8095876">,</span>&nbsp;<span class="num" id="8095878">20</span><span class="op" id="8095880">)</span><span class="op" id="8095881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095885">image</span><span class="op" id="8095890">.</span><span class="ident" id="8095891">ZP</span><span class="op" id="8095893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095896">}</span><span class="op" id="8095897">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8095904">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(top-left)&#34;</span><span class="op" id="8095946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095950">image</span><span class="op" id="8095955">.</span><span class="ident" id="8095956">Rect</span><span class="op" id="8095960">(</span><span class="num" id="8095961">0</span><span class="op" id="8095962">,</span>&nbsp;<span class="num" id="8095964">0</span><span class="op" id="8095965">,</span>&nbsp;<span class="num" id="8095967">100</span><span class="op" id="8095970">,</span>&nbsp;<span class="num" id="8095972">100</span><span class="op" id="8095975">)</span><span class="op" id="8095976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8095980">image</span><span class="op" id="8095985">.</span><span class="ident" id="8095986">Rect</span><span class="op" id="8095990">(</span><span class="num" id="8095991">0</span><span class="op" id="8095992">,</span>&nbsp;<span class="num" id="8095994">0</span><span class="op" id="8095995">,</span>&nbsp;<span class="num" id="8095997">50</span><span class="op" id="8095999">,</span>&nbsp;<span class="num" id="8096001">100</span><span class="op" id="8096004">)</span><span class="op" id="8096005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096009">image</span><span class="op" id="8096014">.</span><span class="ident" id="8096015">Rect</span><span class="op" id="8096019">(</span><span class="num" id="8096020">20</span><span class="op" id="8096022">,</span>&nbsp;<span class="num" id="8096024">20</span><span class="op" id="8096026">,</span>&nbsp;<span class="num" id="8096028">80</span><span class="op" id="8096030">,</span>&nbsp;<span class="num" id="8096032">80</span><span class="op" id="8096034">)</span><span class="op" id="8096035">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096039">image</span><span class="op" id="8096044">.</span><span class="ident" id="8096045">ZR</span><span class="op" id="8096047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096051">image</span><span class="op" id="8096056">.</span><span class="ident" id="8096057">Pt</span><span class="op" id="8096059">(</span><span class="num" id="8096060">15</span><span class="op" id="8096062">,</span>&nbsp;<span class="num" id="8096064">8</span><span class="op" id="8096065">)</span><span class="op" id="8096066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096070">image</span><span class="op" id="8096075">.</span><span class="ident" id="8096076">ZP</span><span class="op" id="8096078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8096082">true</span><span class="op" id="8096086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096090">image</span><span class="op" id="8096095">.</span><span class="ident" id="8096096">Rect</span><span class="op" id="8096100">(</span><span class="num" id="8096101">5</span><span class="op" id="8096102">,</span>&nbsp;<span class="num" id="8096104">12</span><span class="op" id="8096106">,</span>&nbsp;<span class="num" id="8096108">50</span><span class="op" id="8096110">,</span>&nbsp;<span class="num" id="8096112">72</span><span class="op" id="8096114">)</span><span class="op" id="8096115">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096119">image</span><span class="op" id="8096124">.</span><span class="ident" id="8096125">Pt</span><span class="op" id="8096127">(</span><span class="num" id="8096128">20</span><span class="op" id="8096130">,</span>&nbsp;<span class="num" id="8096132">20</span><span class="op" id="8096134">)</span><span class="op" id="8096135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096139">image</span><span class="op" id="8096144">.</span><span class="ident" id="8096145">ZP</span><span class="op" id="8096147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8096150">}</span><span class="op" id="8096151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8096154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8096158">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(middle-left)&#34;</span><span class="op" id="8096203">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096207">image</span><span class="op" id="8096212">.</span><span class="ident" id="8096213">Rect</span><span class="op" id="8096217">(</span><span class="num" id="8096218">0</span><span class="op" id="8096219">,</span>&nbsp;<span class="num" id="8096221">0</span><span class="op" id="8096222">,</span>&nbsp;<span class="num" id="8096224">100</span><span class="op" id="8096227">,</span>&nbsp;<span class="num" id="8096229">100</span><span class="op" id="8096232">)</span><span class="op" id="8096233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096237">image</span><span class="op" id="8096242">.</span><span class="ident" id="8096243">Rect</span><span class="op" id="8096247">(</span><span class="num" id="8096248">0</span><span class="op" id="8096249">,</span>&nbsp;<span class="num" id="8096251">0</span><span class="op" id="8096252">,</span>&nbsp;<span class="num" id="8096254">50</span><span class="op" id="8096256">,</span>&nbsp;<span class="num" id="8096258">100</span><span class="op" id="8096261">)</span><span class="op" id="8096262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096266">image</span><span class="op" id="8096271">.</span><span class="ident" id="8096272">Rect</span><span class="op" id="8096276">(</span><span class="num" id="8096277">20</span><span class="op" id="8096279">,</span>&nbsp;<span class="num" id="8096281">20</span><span class="op" id="8096283">,</span>&nbsp;<span class="num" id="8096285">80</span><span class="op" id="8096287">,</span>&nbsp;<span class="num" id="8096289">80</span><span class="op" id="8096291">)</span><span class="op" id="8096292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096296">image</span><span class="op" id="8096301">.</span><span class="ident" id="8096302">ZR</span><span class="op" id="8096304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096308">image</span><span class="op" id="8096313">.</span><span class="ident" id="8096314">Pt</span><span class="op" id="8096316">(</span><span class="num" id="8096317">15</span><span class="op" id="8096319">,</span>&nbsp;<span class="num" id="8096321">66</span><span class="op" id="8096323">)</span><span class="op" id="8096324">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096328">image</span><span class="op" id="8096333">.</span><span class="ident" id="8096334">ZP</span><span class="op" id="8096336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8096340">true</span><span class="op" id="8096344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096348">image</span><span class="op" id="8096353">.</span><span class="ident" id="8096354">Rect</span><span class="op" id="8096358">(</span><span class="num" id="8096359">5</span><span class="op" id="8096360">,</span>&nbsp;<span class="num" id="8096362">0</span><span class="op" id="8096363">,</span>&nbsp;<span class="num" id="8096365">50</span><span class="op" id="8096367">,</span>&nbsp;<span class="num" id="8096369">14</span><span class="op" id="8096371">)</span><span class="op" id="8096372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096376">image</span><span class="op" id="8096381">.</span><span class="ident" id="8096382">Pt</span><span class="op" id="8096384">(</span><span class="num" id="8096385">20</span><span class="op" id="8096387">,</span>&nbsp;<span class="num" id="8096389">66</span><span class="op" id="8096391">)</span><span class="op" id="8096392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096396">image</span><span class="op" id="8096401">.</span><span class="ident" id="8096402">ZP</span><span class="op" id="8096404">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8096407">}</span><span class="op" id="8096408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8096411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8096415">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(bottom-left)&#34;</span><span class="op" id="8096460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096464">image</span><span class="op" id="8096469">.</span><span class="ident" id="8096470">Rect</span><span class="op" id="8096474">(</span><span class="num" id="8096475">0</span><span class="op" id="8096476">,</span>&nbsp;<span class="num" id="8096478">0</span><span class="op" id="8096479">,</span>&nbsp;<span class="num" id="8096481">100</span><span class="op" id="8096484">,</span>&nbsp;<span class="num" id="8096486">100</span><span class="op" id="8096489">)</span><span class="op" id="8096490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096494">image</span><span class="op" id="8096499">.</span><span class="ident" id="8096500">Rect</span><span class="op" id="8096504">(</span><span class="num" id="8096505">0</span><span class="op" id="8096506">,</span>&nbsp;<span class="num" id="8096508">0</span><span class="op" id="8096509">,</span>&nbsp;<span class="num" id="8096511">50</span><span class="op" id="8096513">,</span>&nbsp;<span class="num" id="8096515">100</span><span class="op" id="8096518">)</span><span class="op" id="8096519">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096523">image</span><span class="op" id="8096528">.</span><span class="ident" id="8096529">Rect</span><span class="op" id="8096533">(</span><span class="num" id="8096534">20</span><span class="op" id="8096536">,</span>&nbsp;<span class="num" id="8096538">20</span><span class="op" id="8096540">,</span>&nbsp;<span class="num" id="8096542">80</span><span class="op" id="8096544">,</span>&nbsp;<span class="num" id="8096546">80</span><span class="op" id="8096548">)</span><span class="op" id="8096549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096553">image</span><span class="op" id="8096558">.</span><span class="ident" id="8096559">ZR</span><span class="op" id="8096561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096565">image</span><span class="op" id="8096570">.</span><span class="ident" id="8096571">Pt</span><span class="op" id="8096573">(</span><span class="num" id="8096574">15</span><span class="op" id="8096576">,</span>&nbsp;<span class="num" id="8096578">91</span><span class="op" id="8096580">)</span><span class="op" id="8096581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096585">image</span><span class="op" id="8096590">.</span><span class="ident" id="8096591">ZP</span><span class="op" id="8096593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8096597">true</span><span class="op" id="8096601">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096605">image</span><span class="op" id="8096610">.</span><span class="ident" id="8096611">ZR</span><span class="op" id="8096613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096617">image</span><span class="op" id="8096622">.</span><span class="ident" id="8096623">Pt</span><span class="op" id="8096625">(</span><span class="num" id="8096626">15</span><span class="op" id="8096628">,</span>&nbsp;<span class="num" id="8096630">91</span><span class="op" id="8096632">)</span><span class="op" id="8096633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096637">image</span><span class="op" id="8096642">.</span><span class="ident" id="8096643">ZP</span><span class="op" id="8096645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8096648">}</span><span class="op" id="8096649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8096652">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8096656">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;inside&nbsp;sr&#34;</span><span class="op" id="8096686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096690">image</span><span class="op" id="8096695">.</span><span class="ident" id="8096696">Rect</span><span class="op" id="8096700">(</span><span class="num" id="8096701">0</span><span class="op" id="8096702">,</span>&nbsp;<span class="num" id="8096704">0</span><span class="op" id="8096705">,</span>&nbsp;<span class="num" id="8096707">100</span><span class="op" id="8096710">,</span>&nbsp;<span class="num" id="8096712">100</span><span class="op" id="8096715">)</span><span class="op" id="8096716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096720">image</span><span class="op" id="8096725">.</span><span class="ident" id="8096726">Rect</span><span class="op" id="8096730">(</span><span class="num" id="8096731">0</span><span class="op" id="8096732">,</span>&nbsp;<span class="num" id="8096734">0</span><span class="op" id="8096735">,</span>&nbsp;<span class="num" id="8096737">50</span><span class="op" id="8096739">,</span>&nbsp;<span class="num" id="8096741">100</span><span class="op" id="8096744">)</span><span class="op" id="8096745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096749">image</span><span class="op" id="8096754">.</span><span class="ident" id="8096755">Rect</span><span class="op" id="8096759">(</span><span class="num" id="8096760">20</span><span class="op" id="8096762">,</span>&nbsp;<span class="num" id="8096764">20</span><span class="op" id="8096766">,</span>&nbsp;<span class="num" id="8096768">80</span><span class="op" id="8096770">,</span>&nbsp;<span class="num" id="8096772">80</span><span class="op" id="8096774">)</span><span class="op" id="8096775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096779">image</span><span class="op" id="8096784">.</span><span class="ident" id="8096785">ZR</span><span class="op" id="8096787">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096791">image</span><span class="op" id="8096796">.</span><span class="ident" id="8096797">Pt</span><span class="op" id="8096799">(</span><span class="num" id="8096800">44</span><span class="op" id="8096802">,</span>&nbsp;<span class="num" id="8096804">33</span><span class="op" id="8096806">)</span><span class="op" id="8096807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096811">image</span><span class="op" id="8096816">.</span><span class="ident" id="8096817">ZP</span><span class="op" id="8096819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8096823">true</span><span class="op" id="8096827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096831">image</span><span class="op" id="8096836">.</span><span class="ident" id="8096837">Rect</span><span class="op" id="8096841">(</span><span class="num" id="8096842">0</span><span class="op" id="8096843">,</span>&nbsp;<span class="num" id="8096845">0</span><span class="op" id="8096846">,</span>&nbsp;<span class="num" id="8096848">36</span><span class="op" id="8096850">,</span>&nbsp;<span class="num" id="8096852">47</span><span class="op" id="8096854">)</span><span class="op" id="8096855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096859">image</span><span class="op" id="8096864">.</span><span class="ident" id="8096865">Pt</span><span class="op" id="8096867">(</span><span class="num" id="8096868">44</span><span class="op" id="8096870">,</span>&nbsp;<span class="num" id="8096872">33</span><span class="op" id="8096874">)</span><span class="op" id="8096875">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096879">image</span><span class="op" id="8096884">.</span><span class="ident" id="8096885">ZP</span><span class="op" id="8096887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8096890">}</span><span class="op" id="8096891">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8096895">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;non-nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8096944">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8096948">&#34;basic&nbsp;mask&#34;</span><span class="op" id="8096960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096964">image</span><span class="op" id="8096969">.</span><span class="ident" id="8096970">Rect</span><span class="op" id="8096974">(</span><span class="num" id="8096975">0</span><span class="op" id="8096976">,</span>&nbsp;<span class="num" id="8096978">0</span><span class="op" id="8096979">,</span>&nbsp;<span class="num" id="8096981">80</span><span class="op" id="8096983">,</span>&nbsp;<span class="num" id="8096985">80</span><span class="op" id="8096987">)</span><span class="op" id="8096988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8096992">image</span><span class="op" id="8096997">.</span><span class="ident" id="8096998">Rect</span><span class="op" id="8097002">(</span><span class="num" id="8097003">20</span><span class="op" id="8097005">,</span>&nbsp;<span class="num" id="8097007">0</span><span class="op" id="8097008">,</span>&nbsp;<span class="num" id="8097010">100</span><span class="op" id="8097013">,</span>&nbsp;<span class="num" id="8097015">80</span><span class="op" id="8097017">)</span><span class="op" id="8097018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097022">image</span><span class="op" id="8097027">.</span><span class="ident" id="8097028">Rect</span><span class="op" id="8097032">(</span><span class="num" id="8097033">0</span><span class="op" id="8097034">,</span>&nbsp;<span class="num" id="8097036">0</span><span class="op" id="8097037">,</span>&nbsp;<span class="num" id="8097039">50</span><span class="op" id="8097041">,</span>&nbsp;<span class="num" id="8097043">49</span><span class="op" id="8097045">)</span><span class="op" id="8097046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097050">image</span><span class="op" id="8097055">.</span><span class="ident" id="8097056">Rect</span><span class="op" id="8097060">(</span><span class="num" id="8097061">0</span><span class="op" id="8097062">,</span>&nbsp;<span class="num" id="8097064">0</span><span class="op" id="8097065">,</span>&nbsp;<span class="num" id="8097067">46</span><span class="op" id="8097069">,</span>&nbsp;<span class="num" id="8097071">47</span><span class="op" id="8097073">)</span><span class="op" id="8097074">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097078">image</span><span class="op" id="8097083">.</span><span class="ident" id="8097084">ZP</span><span class="op" id="8097086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097090">image</span><span class="op" id="8097095">.</span><span class="ident" id="8097096">ZP</span><span class="op" id="8097098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8097102">false</span><span class="op" id="8097107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097111">image</span><span class="op" id="8097116">.</span><span class="ident" id="8097117">Rect</span><span class="op" id="8097121">(</span><span class="num" id="8097122">20</span><span class="op" id="8097124">,</span>&nbsp;<span class="num" id="8097126">0</span><span class="op" id="8097127">,</span>&nbsp;<span class="num" id="8097129">46</span><span class="op" id="8097131">,</span>&nbsp;<span class="num" id="8097133">47</span><span class="op" id="8097135">)</span><span class="op" id="8097136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097140">image</span><span class="op" id="8097145">.</span><span class="ident" id="8097146">Pt</span><span class="op" id="8097148">(</span><span class="num" id="8097149">20</span><span class="op" id="8097151">,</span>&nbsp;<span class="num" id="8097153">0</span><span class="op" id="8097154">)</span><span class="op" id="8097155">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097159">image</span><span class="op" id="8097164">.</span><span class="ident" id="8097165">Pt</span><span class="op" id="8097167">(</span><span class="num" id="8097168">20</span><span class="op" id="8097170">,</span>&nbsp;<span class="num" id="8097172">0</span><span class="op" id="8097173">)</span><span class="op" id="8097174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8097177">}</span><span class="op" id="8097178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8097181">//&nbsp;TODO(nigeltao):&nbsp;write&nbsp;more&nbsp;tests.</span><br>
<span class="lineno"></span><span class="op" id="8097218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="8097221">func</span>&nbsp;<span class="ident" id="8097226">TestClip</span><span class="op" id="8097234">(</span><span class="ident" id="8097235">t</span>&nbsp;<span class="op" id="8097237">*</span><span class="ident" id="8097238">testing</span><span class="op" id="8097245">.</span><span class="ident" id="8097246">T</span><span class="op" id="8097247">)</span>&nbsp;<span class="op" id="8097249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097252">dst0</span>&nbsp;<span class="op" id="8097257">:=</span>&nbsp;<span class="ident" id="8097260">image</span><span class="op" id="8097265">.</span><span class="ident" id="8097266">NewRGBA</span><span class="op" id="8097273">(</span><span class="ident" id="8097274">image</span><span class="op" id="8097279">.</span><span class="ident" id="8097280">Rect</span><span class="op" id="8097284">(</span><span class="num" id="8097285">0</span><span class="op" id="8097286">,</span>&nbsp;<span class="num" id="8097288">0</span><span class="op" id="8097289">,</span>&nbsp;<span class="num" id="8097291">100</span><span class="op" id="8097294">,</span>&nbsp;<span class="num" id="8097296">100</span><span class="op" id="8097299">)</span><span class="op" id="8097300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097303">src0</span>&nbsp;<span class="op" id="8097308">:=</span>&nbsp;<span class="ident" id="8097311">image</span><span class="op" id="8097316">.</span><span class="ident" id="8097317">NewRGBA</span><span class="op" id="8097324">(</span><span class="ident" id="8097325">image</span><span class="op" id="8097330">.</span><span class="ident" id="8097331">Rect</span><span class="op" id="8097335">(</span><span class="num" id="8097336">0</span><span class="op" id="8097337">,</span>&nbsp;<span class="num" id="8097339">0</span><span class="op" id="8097340">,</span>&nbsp;<span class="num" id="8097342">100</span><span class="op" id="8097345">,</span>&nbsp;<span class="num" id="8097347">100</span><span class="op" id="8097350">)</span><span class="op" id="8097351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097354">mask0</span>&nbsp;<span class="op" id="8097360">:=</span>&nbsp;<span class="ident" id="8097363">image</span><span class="op" id="8097368">.</span><span class="ident" id="8097369">NewRGBA</span><span class="op" id="8097376">(</span><span class="ident" id="8097377">image</span><span class="op" id="8097382">.</span><span class="ident" id="8097383">Rect</span><span class="op" id="8097387">(</span><span class="num" id="8097388">0</span><span class="op" id="8097389">,</span>&nbsp;<span class="num" id="8097391">0</span><span class="op" id="8097392">,</span>&nbsp;<span class="num" id="8097394">100</span><span class="op" id="8097397">,</span>&nbsp;<span class="num" id="8097399">100</span><span class="op" id="8097402">)</span><span class="op" id="8097403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8097406">for</span>&nbsp;<span class="ident" id="8097410">_</span><span class="op" id="8097411">,</span>&nbsp;<span class="ident" id="8097413">c</span>&nbsp;<span class="op" id="8097415">:=</span>&nbsp;<span class="keyword" id="8097418">range</span>&nbsp;<span class="ident" id="8097424">clipTests</span>&nbsp;<span class="op" id="8097434">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097438">dst</span>&nbsp;<span class="op" id="8097442">:=</span>&nbsp;<span class="ident" id="8097445">dst0</span><span class="op" id="8097449">.</span><span class="ident" id="8097450">SubImage</span><span class="op" id="8097458">(</span><span class="ident" id="8097459">c</span><span class="op" id="8097460">.</span><span class="ident" id="8097461">dr</span><span class="op" id="8097463">)</span><span class="op" id="8097464">.</span><span class="op" id="8097465">(</span><span class="op" id="8097466">*</span><span class="ident" id="8097467">image</span><span class="op" id="8097472">.</span><span class="ident" id="8097473">RGBA</span><span class="op" id="8097477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097481">src</span>&nbsp;<span class="op" id="8097485">:=</span>&nbsp;<span class="ident" id="8097488">src0</span><span class="op" id="8097492">.</span><span class="ident" id="8097493">SubImage</span><span class="op" id="8097501">(</span><span class="ident" id="8097502">c</span><span class="op" id="8097503">.</span><span class="ident" id="8097504">sr</span><span class="op" id="8097506">)</span><span class="op" id="8097507">.</span><span class="op" id="8097508">(</span><span class="op" id="8097509">*</span><span class="ident" id="8097510">image</span><span class="op" id="8097515">.</span><span class="ident" id="8097516">RGBA</span><span class="op" id="8097520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8097524">var</span>&nbsp;<span class="ident" id="8097528">mask</span>&nbsp;<span class="ident" id="8097533">image</span><span class="op" id="8097538">.</span><span class="ident" id="8097539">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8097547">if</span>&nbsp;<span class="op" id="8097550">!</span><span class="ident" id="8097551">c</span><span class="op" id="8097552">.</span><span class="ident" id="8097553">nilMask</span>&nbsp;<span class="op" id="8097561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097566">mask</span>&nbsp;<span class="op" id="8097571">=</span>&nbsp;<span class="ident" id="8097573">mask0</span><span class="op" id="8097578">.</span><span class="ident" id="8097579">SubImage</span><span class="op" id="8097587">(</span><span class="ident" id="8097588">c</span><span class="op" id="8097589">.</span><span class="ident" id="8097590">mr</span><span class="op" id="8097592">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8097596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097600">r</span><span class="op" id="8097601">,</span>&nbsp;<span class="ident" id="8097603">sp</span><span class="op" id="8097605">,</span>&nbsp;<span class="ident" id="8097607">mp</span>&nbsp;<span class="op" id="8097610">:=</span>&nbsp;<span class="ident" id="8097613">c</span><span class="op" id="8097614">.</span><span class="ident" id="8097615">r</span><span class="op" id="8097616">,</span>&nbsp;<span class="ident" id="8097618">c</span><span class="op" id="8097619">.</span><span class="ident" id="8097620">sp</span><span class="op" id="8097622">,</span>&nbsp;<span class="ident" id="8097624">c</span><span class="op" id="8097625">.</span><span class="ident" id="8097626">mp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097631">clip</span><span class="op" id="8097635">(</span><span class="ident" id="8097636">dst</span><span class="op" id="8097639">,</span>&nbsp;<span class="op" id="8097641">&amp;</span><span class="ident" id="8097642">r</span><span class="op" id="8097643">,</span>&nbsp;<span class="ident" id="8097645">src</span><span class="op" id="8097648">,</span>&nbsp;<span class="op" id="8097650">&amp;</span><span class="ident" id="8097651">sp</span><span class="op" id="8097653">,</span>&nbsp;<span class="ident" id="8097655">mask</span><span class="op" id="8097659">,</span>&nbsp;<span class="op" id="8097661">&amp;</span><span class="ident" id="8097662">mp</span><span class="op" id="8097664">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8097669">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;actual&nbsp;results&nbsp;equal&nbsp;the&nbsp;expected&nbsp;results.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8097732">if</span>&nbsp;<span class="op" id="8097735">!</span><span class="ident" id="8097736">c</span><span class="op" id="8097737">.</span><span class="ident" id="8097738">r0</span><span class="op" id="8097740">.</span><span class="ident" id="8097741">Eq</span><span class="op" id="8097743">(</span><span class="ident" id="8097744">r</span><span class="op" id="8097745">)</span>&nbsp;<span class="op" id="8097747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097752">t</span><span class="op" id="8097753">.</span><span class="ident" id="8097754">Errorf</span><span class="op" id="8097760">(</span><span class="string" id="8097761">&#34;%s:&nbsp;clip&nbsp;rectangle&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8097796">,</span>&nbsp;<span class="ident" id="8097798">c</span><span class="op" id="8097799">.</span><span class="ident" id="8097800">desc</span><span class="op" id="8097804">,</span>&nbsp;<span class="ident" id="8097806">c</span><span class="op" id="8097807">.</span><span class="ident" id="8097808">r0</span><span class="op" id="8097810">,</span>&nbsp;<span class="ident" id="8097812">r</span><span class="op" id="8097813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8097818">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8097829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8097833">if</span>&nbsp;<span class="op" id="8097836">!</span><span class="ident" id="8097837">c</span><span class="op" id="8097838">.</span><span class="ident" id="8097839">sp0</span><span class="op" id="8097842">.</span><span class="ident" id="8097843">Eq</span><span class="op" id="8097845">(</span><span class="ident" id="8097846">sp</span><span class="op" id="8097848">)</span>&nbsp;<span class="op" id="8097850">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097855">t</span><span class="op" id="8097856">.</span><span class="ident" id="8097857">Errorf</span><span class="op" id="8097863">(</span><span class="string" id="8097864">&#34;%s:&nbsp;sp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8097887">,</span>&nbsp;<span class="ident" id="8097889">c</span><span class="op" id="8097890">.</span><span class="ident" id="8097891">desc</span><span class="op" id="8097895">,</span>&nbsp;<span class="ident" id="8097897">c</span><span class="op" id="8097898">.</span><span class="ident" id="8097899">sp0</span><span class="op" id="8097902">,</span>&nbsp;<span class="ident" id="8097904">sp</span><span class="op" id="8097906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8097911">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8097922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8097926">if</span>&nbsp;<span class="op" id="8097929">!</span><span class="ident" id="8097930">c</span><span class="op" id="8097931">.</span><span class="ident" id="8097932">nilMask</span>&nbsp;<span class="op" id="8097940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8097945">if</span>&nbsp;<span class="op" id="8097948">!</span><span class="ident" id="8097949">c</span><span class="op" id="8097950">.</span><span class="ident" id="8097951">mp0</span><span class="op" id="8097954">.</span><span class="ident" id="8097955">Eq</span><span class="op" id="8097957">(</span><span class="ident" id="8097958">mp</span><span class="op" id="8097960">)</span>&nbsp;<span class="op" id="8097962">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097968">t</span><span class="op" id="8097969">.</span><span class="ident" id="8097970">Errorf</span><span class="op" id="8097976">(</span><span class="string" id="8097977">&#34;%s:&nbsp;mp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8098000">,</span>&nbsp;<span class="ident" id="8098002">c</span><span class="op" id="8098003">.</span><span class="ident" id="8098004">desc</span><span class="op" id="8098008">,</span>&nbsp;<span class="ident" id="8098010">c</span><span class="op" id="8098011">.</span><span class="ident" id="8098012">mp0</span><span class="op" id="8098015">,</span>&nbsp;<span class="ident" id="8098017">mp</span><span class="op" id="8098019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8098025">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8098046">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;clipped&nbsp;rectangle&nbsp;is&nbsp;contained&nbsp;by&nbsp;the&nbsp;dst&nbsp;/&nbsp;src&nbsp;/&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8098121">//&nbsp;rectangles,&nbsp;in&nbsp;their&nbsp;respective&nbsp;co-ordinate&nbsp;spaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8098178">if</span>&nbsp;<span class="op" id="8098181">!</span><span class="ident" id="8098182">r</span><span class="op" id="8098183">.</span><span class="ident" id="8098184">In</span><span class="op" id="8098186">(</span><span class="ident" id="8098187">c</span><span class="op" id="8098188">.</span><span class="ident" id="8098189">dr</span><span class="op" id="8098191">)</span>&nbsp;<span class="op" id="8098193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8098198">t</span><span class="op" id="8098199">.</span><span class="ident" id="8098200">Errorf</span><span class="op" id="8098206">(</span><span class="string" id="8098207">&#34;%s:&nbsp;c.dr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;r&nbsp;%v&#34;</span><span class="op" id="8098242">,</span>&nbsp;<span class="ident" id="8098244">c</span><span class="op" id="8098245">.</span><span class="ident" id="8098246">desc</span><span class="op" id="8098250">,</span>&nbsp;<span class="ident" id="8098252">c</span><span class="op" id="8098253">.</span><span class="ident" id="8098254">dr</span><span class="op" id="8098256">,</span>&nbsp;<span class="ident" id="8098258">r</span><span class="op" id="8098259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098263">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8098267">//&nbsp;sr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;src&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8098321">sr</span>&nbsp;<span class="op" id="8098324">:=</span>&nbsp;<span class="ident" id="8098327">r</span><span class="op" id="8098328">.</span><span class="ident" id="8098329">Add</span><span class="op" id="8098332">(</span><span class="ident" id="8098333">c</span><span class="op" id="8098334">.</span><span class="ident" id="8098335">sp</span><span class="op" id="8098337">.</span><span class="ident" id="8098338">Sub</span><span class="op" id="8098341">(</span><span class="ident" id="8098342">c</span><span class="op" id="8098343">.</span><span class="ident" id="8098344">dr</span><span class="op" id="8098346">.</span><span class="ident" id="8098347">Min</span><span class="op" id="8098350">)</span><span class="op" id="8098351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8098355">if</span>&nbsp;<span class="op" id="8098358">!</span><span class="ident" id="8098359">sr</span><span class="op" id="8098361">.</span><span class="ident" id="8098362">In</span><span class="op" id="8098364">(</span><span class="ident" id="8098365">c</span><span class="op" id="8098366">.</span><span class="ident" id="8098367">sr</span><span class="op" id="8098369">)</span>&nbsp;<span class="op" id="8098371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8098376">t</span><span class="op" id="8098377">.</span><span class="ident" id="8098378">Errorf</span><span class="op" id="8098384">(</span><span class="string" id="8098385">&#34;%s:&nbsp;c.sr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;sr&nbsp;%v&#34;</span><span class="op" id="8098421">,</span>&nbsp;<span class="ident" id="8098423">c</span><span class="op" id="8098424">.</span><span class="ident" id="8098425">desc</span><span class="op" id="8098429">,</span>&nbsp;<span class="ident" id="8098431">c</span><span class="op" id="8098432">.</span><span class="ident" id="8098433">sr</span><span class="op" id="8098435">,</span>&nbsp;<span class="ident" id="8098437">sr</span><span class="op" id="8098439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098443">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8098447">if</span>&nbsp;<span class="op" id="8098450">!</span><span class="ident" id="8098451">c</span><span class="op" id="8098452">.</span><span class="ident" id="8098453">nilMask</span>&nbsp;<span class="op" id="8098461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8098466">//&nbsp;mr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;mask&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8098522">mr</span>&nbsp;<span class="op" id="8098525">:=</span>&nbsp;<span class="ident" id="8098528">r</span><span class="op" id="8098529">.</span><span class="ident" id="8098530">Add</span><span class="op" id="8098533">(</span><span class="ident" id="8098534">c</span><span class="op" id="8098535">.</span><span class="ident" id="8098536">mp</span><span class="op" id="8098538">.</span><span class="ident" id="8098539">Sub</span><span class="op" id="8098542">(</span><span class="ident" id="8098543">c</span><span class="op" id="8098544">.</span><span class="ident" id="8098545">dr</span><span class="op" id="8098547">.</span><span class="ident" id="8098548">Min</span><span class="op" id="8098551">)</span><span class="op" id="8098552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8098557">if</span>&nbsp;<span class="op" id="8098560">!</span><span class="ident" id="8098561">mr</span><span class="op" id="8098563">.</span><span class="ident" id="8098564">In</span><span class="op" id="8098566">(</span><span class="ident" id="8098567">c</span><span class="op" id="8098568">.</span><span class="ident" id="8098569">mr</span><span class="op" id="8098571">)</span>&nbsp;<span class="op" id="8098573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8098579">t</span><span class="op" id="8098580">.</span><span class="ident" id="8098581">Errorf</span><span class="op" id="8098587">(</span><span class="string" id="8098588">&#34;%s:&nbsp;c.mr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;mr&nbsp;%v&#34;</span><span class="op" id="8098624">,</span>&nbsp;<span class="ident" id="8098626">c</span><span class="op" id="8098627">.</span><span class="ident" id="8098628">desc</span><span class="op" id="8098632">,</span>&nbsp;<span class="ident" id="8098634">c</span><span class="op" id="8098635">.</span><span class="ident" id="8098636">mr</span><span class="op" id="8098638">,</span>&nbsp;<span class="ident" id="8098640">mr</span><span class="op" id="8098642">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098654">}</span><br>
<span class="lineno"></span><span class="op" id="8098656">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
