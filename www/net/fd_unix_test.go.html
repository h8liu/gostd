<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7430297">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7430352">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7430406">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7430457">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7430522">package</span>&nbsp;<span class="ident" id="7430530">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7430535">import</span>&nbsp;<span class="op" id="7430542">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430545">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430551">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7430562">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7430572">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7430575">var</span>&nbsp;<span class="ident" id="7430579">chkReadErrTests</span>&nbsp;<span class="op" id="7430595">=</span>&nbsp;<span class="op" id="7430597">[</span><span class="op" id="7430598">]</span><span class="keyword" id="7430599">struct</span>&nbsp;<span class="op" id="7430606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430609">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7430618">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430623">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7430632">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430639">fd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7430648">*</span><span class="ident" id="7430649">netFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430656">expected</span>&nbsp;<span class="builtintype" id="7430665">error</span><br>
<span class="lineno">20</span><span class="op" id="7430671">}</span><span class="op" id="7430672">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430676">{</span><span class="num" id="7430677">100</span><span class="op" id="7430680">,</span>&nbsp;<span class="ident" id="7430682">nil</span><span class="op" id="7430685">,</span>&nbsp;<span class="op" id="7430687">&amp;</span><span class="ident" id="7430688">netFD</span><span class="op" id="7430693">{</span><span class="ident" id="7430694">sotype</span><span class="op" id="7430700">:</span>&nbsp;<span class="ident" id="7430702">syscall</span><span class="op" id="7430709">.</span><span class="ident" id="7430710">SOCK_STREAM</span><span class="op" id="7430721">}</span><span class="op" id="7430722">,</span>&nbsp;<span class="ident" id="7430724">nil</span><span class="op" id="7430727">}</span><span class="op" id="7430728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430731">{</span><span class="num" id="7430732">100</span><span class="op" id="7430735">,</span>&nbsp;<span class="ident" id="7430737">io</span><span class="op" id="7430739">.</span><span class="ident" id="7430740">EOF</span><span class="op" id="7430743">,</span>&nbsp;<span class="op" id="7430745">&amp;</span><span class="ident" id="7430746">netFD</span><span class="op" id="7430751">{</span><span class="ident" id="7430752">sotype</span><span class="op" id="7430758">:</span>&nbsp;<span class="ident" id="7430760">syscall</span><span class="op" id="7430767">.</span><span class="ident" id="7430768">SOCK_STREAM</span><span class="op" id="7430779">}</span><span class="op" id="7430780">,</span>&nbsp;<span class="ident" id="7430782">io</span><span class="op" id="7430784">.</span><span class="ident" id="7430785">EOF</span><span class="op" id="7430788">}</span><span class="op" id="7430789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430792">{</span><span class="num" id="7430793">100</span><span class="op" id="7430796">,</span>&nbsp;<span class="ident" id="7430798">errClosing</span><span class="op" id="7430808">,</span>&nbsp;<span class="op" id="7430810">&amp;</span><span class="ident" id="7430811">netFD</span><span class="op" id="7430816">{</span><span class="ident" id="7430817">sotype</span><span class="op" id="7430823">:</span>&nbsp;<span class="ident" id="7430825">syscall</span><span class="op" id="7430832">.</span><span class="ident" id="7430833">SOCK_STREAM</span><span class="op" id="7430844">}</span><span class="op" id="7430845">,</span>&nbsp;<span class="ident" id="7430847">errClosing</span><span class="op" id="7430857">}</span><span class="op" id="7430858">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430861">{</span><span class="num" id="7430862">0</span><span class="op" id="7430863">,</span>&nbsp;<span class="ident" id="7430865">nil</span><span class="op" id="7430868">,</span>&nbsp;<span class="op" id="7430870">&amp;</span><span class="ident" id="7430871">netFD</span><span class="op" id="7430876">{</span><span class="ident" id="7430877">sotype</span><span class="op" id="7430883">:</span>&nbsp;<span class="ident" id="7430885">syscall</span><span class="op" id="7430892">.</span><span class="ident" id="7430893">SOCK_STREAM</span><span class="op" id="7430904">}</span><span class="op" id="7430905">,</span>&nbsp;<span class="ident" id="7430907">io</span><span class="op" id="7430909">.</span><span class="ident" id="7430910">EOF</span><span class="op" id="7430913">}</span><span class="op" id="7430914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430917">{</span><span class="num" id="7430918">0</span><span class="op" id="7430919">,</span>&nbsp;<span class="ident" id="7430921">io</span><span class="op" id="7430923">.</span><span class="ident" id="7430924">EOF</span><span class="op" id="7430927">,</span>&nbsp;<span class="op" id="7430929">&amp;</span><span class="ident" id="7430930">netFD</span><span class="op" id="7430935">{</span><span class="ident" id="7430936">sotype</span><span class="op" id="7430942">:</span>&nbsp;<span class="ident" id="7430944">syscall</span><span class="op" id="7430951">.</span><span class="ident" id="7430952">SOCK_STREAM</span><span class="op" id="7430963">}</span><span class="op" id="7430964">,</span>&nbsp;<span class="ident" id="7430966">io</span><span class="op" id="7430968">.</span><span class="ident" id="7430969">EOF</span><span class="op" id="7430972">}</span><span class="op" id="7430973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430976">{</span><span class="num" id="7430977">0</span><span class="op" id="7430978">,</span>&nbsp;<span class="ident" id="7430980">errClosing</span><span class="op" id="7430990">,</span>&nbsp;<span class="op" id="7430992">&amp;</span><span class="ident" id="7430993">netFD</span><span class="op" id="7430998">{</span><span class="ident" id="7430999">sotype</span><span class="op" id="7431005">:</span>&nbsp;<span class="ident" id="7431007">syscall</span><span class="op" id="7431014">.</span><span class="ident" id="7431015">SOCK_STREAM</span><span class="op" id="7431026">}</span><span class="op" id="7431027">,</span>&nbsp;<span class="ident" id="7431029">errClosing</span><span class="op" id="7431039">}</span><span class="op" id="7431040">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431044">{</span><span class="num" id="7431045">100</span><span class="op" id="7431048">,</span>&nbsp;<span class="ident" id="7431050">nil</span><span class="op" id="7431053">,</span>&nbsp;<span class="op" id="7431055">&amp;</span><span class="ident" id="7431056">netFD</span><span class="op" id="7431061">{</span><span class="ident" id="7431062">sotype</span><span class="op" id="7431068">:</span>&nbsp;<span class="ident" id="7431070">syscall</span><span class="op" id="7431077">.</span><span class="ident" id="7431078">SOCK_DGRAM</span><span class="op" id="7431088">}</span><span class="op" id="7431089">,</span>&nbsp;<span class="ident" id="7431091">nil</span><span class="op" id="7431094">}</span><span class="op" id="7431095">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431098">{</span><span class="num" id="7431099">100</span><span class="op" id="7431102">,</span>&nbsp;<span class="ident" id="7431104">io</span><span class="op" id="7431106">.</span><span class="ident" id="7431107">EOF</span><span class="op" id="7431110">,</span>&nbsp;<span class="op" id="7431112">&amp;</span><span class="ident" id="7431113">netFD</span><span class="op" id="7431118">{</span><span class="ident" id="7431119">sotype</span><span class="op" id="7431125">:</span>&nbsp;<span class="ident" id="7431127">syscall</span><span class="op" id="7431134">.</span><span class="ident" id="7431135">SOCK_DGRAM</span><span class="op" id="7431145">}</span><span class="op" id="7431146">,</span>&nbsp;<span class="ident" id="7431148">io</span><span class="op" id="7431150">.</span><span class="ident" id="7431151">EOF</span><span class="op" id="7431154">}</span><span class="op" id="7431155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431158">{</span><span class="num" id="7431159">100</span><span class="op" id="7431162">,</span>&nbsp;<span class="ident" id="7431164">errClosing</span><span class="op" id="7431174">,</span>&nbsp;<span class="op" id="7431176">&amp;</span><span class="ident" id="7431177">netFD</span><span class="op" id="7431182">{</span><span class="ident" id="7431183">sotype</span><span class="op" id="7431189">:</span>&nbsp;<span class="ident" id="7431191">syscall</span><span class="op" id="7431198">.</span><span class="ident" id="7431199">SOCK_DGRAM</span><span class="op" id="7431209">}</span><span class="op" id="7431210">,</span>&nbsp;<span class="ident" id="7431212">errClosing</span><span class="op" id="7431222">}</span><span class="op" id="7431223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431226">{</span><span class="num" id="7431227">0</span><span class="op" id="7431228">,</span>&nbsp;<span class="ident" id="7431230">nil</span><span class="op" id="7431233">,</span>&nbsp;<span class="op" id="7431235">&amp;</span><span class="ident" id="7431236">netFD</span><span class="op" id="7431241">{</span><span class="ident" id="7431242">sotype</span><span class="op" id="7431248">:</span>&nbsp;<span class="ident" id="7431250">syscall</span><span class="op" id="7431257">.</span><span class="ident" id="7431258">SOCK_DGRAM</span><span class="op" id="7431268">}</span><span class="op" id="7431269">,</span>&nbsp;<span class="ident" id="7431271">nil</span><span class="op" id="7431274">}</span><span class="op" id="7431275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431278">{</span><span class="num" id="7431279">0</span><span class="op" id="7431280">,</span>&nbsp;<span class="ident" id="7431282">io</span><span class="op" id="7431284">.</span><span class="ident" id="7431285">EOF</span><span class="op" id="7431288">,</span>&nbsp;<span class="op" id="7431290">&amp;</span><span class="ident" id="7431291">netFD</span><span class="op" id="7431296">{</span><span class="ident" id="7431297">sotype</span><span class="op" id="7431303">:</span>&nbsp;<span class="ident" id="7431305">syscall</span><span class="op" id="7431312">.</span><span class="ident" id="7431313">SOCK_DGRAM</span><span class="op" id="7431323">}</span><span class="op" id="7431324">,</span>&nbsp;<span class="ident" id="7431326">io</span><span class="op" id="7431328">.</span><span class="ident" id="7431329">EOF</span><span class="op" id="7431332">}</span><span class="op" id="7431333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431336">{</span><span class="num" id="7431337">0</span><span class="op" id="7431338">,</span>&nbsp;<span class="ident" id="7431340">errClosing</span><span class="op" id="7431350">,</span>&nbsp;<span class="op" id="7431352">&amp;</span><span class="ident" id="7431353">netFD</span><span class="op" id="7431358">{</span><span class="ident" id="7431359">sotype</span><span class="op" id="7431365">:</span>&nbsp;<span class="ident" id="7431367">syscall</span><span class="op" id="7431374">.</span><span class="ident" id="7431375">SOCK_DGRAM</span><span class="op" id="7431385">}</span><span class="op" id="7431386">,</span>&nbsp;<span class="ident" id="7431388">errClosing</span><span class="op" id="7431398">}</span><span class="op" id="7431399">,</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431403">{</span><span class="num" id="7431404">100</span><span class="op" id="7431407">,</span>&nbsp;<span class="ident" id="7431409">nil</span><span class="op" id="7431412">,</span>&nbsp;<span class="op" id="7431414">&amp;</span><span class="ident" id="7431415">netFD</span><span class="op" id="7431420">{</span><span class="ident" id="7431421">sotype</span><span class="op" id="7431427">:</span>&nbsp;<span class="ident" id="7431429">syscall</span><span class="op" id="7431436">.</span><span class="ident" id="7431437">SOCK_SEQPACKET</span><span class="op" id="7431451">}</span><span class="op" id="7431452">,</span>&nbsp;<span class="ident" id="7431454">nil</span><span class="op" id="7431457">}</span><span class="op" id="7431458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431461">{</span><span class="num" id="7431462">100</span><span class="op" id="7431465">,</span>&nbsp;<span class="ident" id="7431467">io</span><span class="op" id="7431469">.</span><span class="ident" id="7431470">EOF</span><span class="op" id="7431473">,</span>&nbsp;<span class="op" id="7431475">&amp;</span><span class="ident" id="7431476">netFD</span><span class="op" id="7431481">{</span><span class="ident" id="7431482">sotype</span><span class="op" id="7431488">:</span>&nbsp;<span class="ident" id="7431490">syscall</span><span class="op" id="7431497">.</span><span class="ident" id="7431498">SOCK_SEQPACKET</span><span class="op" id="7431512">}</span><span class="op" id="7431513">,</span>&nbsp;<span class="ident" id="7431515">io</span><span class="op" id="7431517">.</span><span class="ident" id="7431518">EOF</span><span class="op" id="7431521">}</span><span class="op" id="7431522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431525">{</span><span class="num" id="7431526">100</span><span class="op" id="7431529">,</span>&nbsp;<span class="ident" id="7431531">errClosing</span><span class="op" id="7431541">,</span>&nbsp;<span class="op" id="7431543">&amp;</span><span class="ident" id="7431544">netFD</span><span class="op" id="7431549">{</span><span class="ident" id="7431550">sotype</span><span class="op" id="7431556">:</span>&nbsp;<span class="ident" id="7431558">syscall</span><span class="op" id="7431565">.</span><span class="ident" id="7431566">SOCK_SEQPACKET</span><span class="op" id="7431580">}</span><span class="op" id="7431581">,</span>&nbsp;<span class="ident" id="7431583">errClosing</span><span class="op" id="7431593">}</span><span class="op" id="7431594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431597">{</span><span class="num" id="7431598">0</span><span class="op" id="7431599">,</span>&nbsp;<span class="ident" id="7431601">nil</span><span class="op" id="7431604">,</span>&nbsp;<span class="op" id="7431606">&amp;</span><span class="ident" id="7431607">netFD</span><span class="op" id="7431612">{</span><span class="ident" id="7431613">sotype</span><span class="op" id="7431619">:</span>&nbsp;<span class="ident" id="7431621">syscall</span><span class="op" id="7431628">.</span><span class="ident" id="7431629">SOCK_SEQPACKET</span><span class="op" id="7431643">}</span><span class="op" id="7431644">,</span>&nbsp;<span class="ident" id="7431646">io</span><span class="op" id="7431648">.</span><span class="ident" id="7431649">EOF</span><span class="op" id="7431652">}</span><span class="op" id="7431653">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431656">{</span><span class="num" id="7431657">0</span><span class="op" id="7431658">,</span>&nbsp;<span class="ident" id="7431660">io</span><span class="op" id="7431662">.</span><span class="ident" id="7431663">EOF</span><span class="op" id="7431666">,</span>&nbsp;<span class="op" id="7431668">&amp;</span><span class="ident" id="7431669">netFD</span><span class="op" id="7431674">{</span><span class="ident" id="7431675">sotype</span><span class="op" id="7431681">:</span>&nbsp;<span class="ident" id="7431683">syscall</span><span class="op" id="7431690">.</span><span class="ident" id="7431691">SOCK_SEQPACKET</span><span class="op" id="7431705">}</span><span class="op" id="7431706">,</span>&nbsp;<span class="ident" id="7431708">io</span><span class="op" id="7431710">.</span><span class="ident" id="7431711">EOF</span><span class="op" id="7431714">}</span><span class="op" id="7431715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431718">{</span><span class="num" id="7431719">0</span><span class="op" id="7431720">,</span>&nbsp;<span class="ident" id="7431722">errClosing</span><span class="op" id="7431732">,</span>&nbsp;<span class="op" id="7431734">&amp;</span><span class="ident" id="7431735">netFD</span><span class="op" id="7431740">{</span><span class="ident" id="7431741">sotype</span><span class="op" id="7431747">:</span>&nbsp;<span class="ident" id="7431749">syscall</span><span class="op" id="7431756">.</span><span class="ident" id="7431757">SOCK_SEQPACKET</span><span class="op" id="7431771">}</span><span class="op" id="7431772">,</span>&nbsp;<span class="ident" id="7431774">errClosing</span><span class="op" id="7431784">}</span><span class="op" id="7431785">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431789">{</span><span class="num" id="7431790">100</span><span class="op" id="7431793">,</span>&nbsp;<span class="ident" id="7431795">nil</span><span class="op" id="7431798">,</span>&nbsp;<span class="op" id="7431800">&amp;</span><span class="ident" id="7431801">netFD</span><span class="op" id="7431806">{</span><span class="ident" id="7431807">sotype</span><span class="op" id="7431813">:</span>&nbsp;<span class="ident" id="7431815">syscall</span><span class="op" id="7431822">.</span><span class="ident" id="7431823">SOCK_RAW</span><span class="op" id="7431831">}</span><span class="op" id="7431832">,</span>&nbsp;<span class="ident" id="7431834">nil</span><span class="op" id="7431837">}</span><span class="op" id="7431838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431841">{</span><span class="num" id="7431842">100</span><span class="op" id="7431845">,</span>&nbsp;<span class="ident" id="7431847">io</span><span class="op" id="7431849">.</span><span class="ident" id="7431850">EOF</span><span class="op" id="7431853">,</span>&nbsp;<span class="op" id="7431855">&amp;</span><span class="ident" id="7431856">netFD</span><span class="op" id="7431861">{</span><span class="ident" id="7431862">sotype</span><span class="op" id="7431868">:</span>&nbsp;<span class="ident" id="7431870">syscall</span><span class="op" id="7431877">.</span><span class="ident" id="7431878">SOCK_RAW</span><span class="op" id="7431886">}</span><span class="op" id="7431887">,</span>&nbsp;<span class="ident" id="7431889">io</span><span class="op" id="7431891">.</span><span class="ident" id="7431892">EOF</span><span class="op" id="7431895">}</span><span class="op" id="7431896">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431899">{</span><span class="num" id="7431900">100</span><span class="op" id="7431903">,</span>&nbsp;<span class="ident" id="7431905">errClosing</span><span class="op" id="7431915">,</span>&nbsp;<span class="op" id="7431917">&amp;</span><span class="ident" id="7431918">netFD</span><span class="op" id="7431923">{</span><span class="ident" id="7431924">sotype</span><span class="op" id="7431930">:</span>&nbsp;<span class="ident" id="7431932">syscall</span><span class="op" id="7431939">.</span><span class="ident" id="7431940">SOCK_RAW</span><span class="op" id="7431948">}</span><span class="op" id="7431949">,</span>&nbsp;<span class="ident" id="7431951">errClosing</span><span class="op" id="7431961">}</span><span class="op" id="7431962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431965">{</span><span class="num" id="7431966">0</span><span class="op" id="7431967">,</span>&nbsp;<span class="ident" id="7431969">nil</span><span class="op" id="7431972">,</span>&nbsp;<span class="op" id="7431974">&amp;</span><span class="ident" id="7431975">netFD</span><span class="op" id="7431980">{</span><span class="ident" id="7431981">sotype</span><span class="op" id="7431987">:</span>&nbsp;<span class="ident" id="7431989">syscall</span><span class="op" id="7431996">.</span><span class="ident" id="7431997">SOCK_RAW</span><span class="op" id="7432005">}</span><span class="op" id="7432006">,</span>&nbsp;<span class="ident" id="7432008">nil</span><span class="op" id="7432011">}</span><span class="op" id="7432012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432015">{</span><span class="num" id="7432016">0</span><span class="op" id="7432017">,</span>&nbsp;<span class="ident" id="7432019">io</span><span class="op" id="7432021">.</span><span class="ident" id="7432022">EOF</span><span class="op" id="7432025">,</span>&nbsp;<span class="op" id="7432027">&amp;</span><span class="ident" id="7432028">netFD</span><span class="op" id="7432033">{</span><span class="ident" id="7432034">sotype</span><span class="op" id="7432040">:</span>&nbsp;<span class="ident" id="7432042">syscall</span><span class="op" id="7432049">.</span><span class="ident" id="7432050">SOCK_RAW</span><span class="op" id="7432058">}</span><span class="op" id="7432059">,</span>&nbsp;<span class="ident" id="7432061">io</span><span class="op" id="7432063">.</span><span class="ident" id="7432064">EOF</span><span class="op" id="7432067">}</span><span class="op" id="7432068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432071">{</span><span class="num" id="7432072">0</span><span class="op" id="7432073">,</span>&nbsp;<span class="ident" id="7432075">errClosing</span><span class="op" id="7432085">,</span>&nbsp;<span class="op" id="7432087">&amp;</span><span class="ident" id="7432088">netFD</span><span class="op" id="7432093">{</span><span class="ident" id="7432094">sotype</span><span class="op" id="7432100">:</span>&nbsp;<span class="ident" id="7432102">syscall</span><span class="op" id="7432109">.</span><span class="ident" id="7432110">SOCK_RAW</span><span class="op" id="7432118">}</span><span class="op" id="7432119">,</span>&nbsp;<span class="ident" id="7432121">errClosing</span><span class="op" id="7432131">}</span><span class="op" id="7432132">,</span><br>
<span class="lineno"></span><span class="op" id="7432134">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7432137">func</span>&nbsp;<span class="ident" id="7432142">TestChkReadErr</span><span class="op" id="7432156">(</span><span class="ident" id="7432157">t</span>&nbsp;<span class="op" id="7432159">*</span><span class="ident" id="7432160">testing</span><span class="op" id="7432167">.</span><span class="ident" id="7432168">T</span><span class="op" id="7432169">)</span>&nbsp;<span class="op" id="7432171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7432174">for</span>&nbsp;<span class="ident" id="7432178">_</span><span class="op" id="7432179">,</span>&nbsp;<span class="ident" id="7432181">tt</span>&nbsp;<span class="op" id="7432184">:=</span>&nbsp;<span class="keyword" id="7432187">range</span>&nbsp;<span class="ident" id="7432193">chkReadErrTests</span>&nbsp;<span class="op" id="7432209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432213">actual</span>&nbsp;<span class="op" id="7432220">:=</span>&nbsp;<span class="ident" id="7432223">chkReadErr</span><span class="op" id="7432233">(</span><span class="ident" id="7432234">tt</span><span class="op" id="7432236">.</span><span class="ident" id="7432237">n</span><span class="op" id="7432238">,</span>&nbsp;<span class="ident" id="7432240">tt</span><span class="op" id="7432242">.</span><span class="ident" id="7432243">err</span><span class="op" id="7432246">,</span>&nbsp;<span class="ident" id="7432248">tt</span><span class="op" id="7432250">.</span><span class="ident" id="7432251">fd</span><span class="op" id="7432253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7432257">if</span>&nbsp;<span class="ident" id="7432260">actual</span>&nbsp;<span class="op" id="7432267">!=</span>&nbsp;<span class="ident" id="7432270">tt</span><span class="op" id="7432272">.</span><span class="ident" id="7432273">expected</span>&nbsp;<span class="op" id="7432282">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432287">t</span><span class="op" id="7432288">.</span><span class="ident" id="7432289">Errorf</span><span class="op" id="7432295">(</span><span class="string" id="7432296">&#34;chkReadError(%v,&nbsp;%v,&nbsp;%v):&nbsp;expected&nbsp;%v,&nbsp;actual&nbsp;%v&#34;</span><span class="op" id="7432346">,</span>&nbsp;<span class="ident" id="7432348">tt</span><span class="op" id="7432350">.</span><span class="ident" id="7432351">n</span><span class="op" id="7432352">,</span>&nbsp;<span class="ident" id="7432354">tt</span><span class="op" id="7432356">.</span><span class="ident" id="7432357">err</span><span class="op" id="7432360">,</span>&nbsp;<span class="ident" id="7432362">tt</span><span class="op" id="7432364">.</span><span class="ident" id="7432365">fd</span><span class="op" id="7432367">.</span><span class="ident" id="7432368">sotype</span><span class="op" id="7432374">,</span>&nbsp;<span class="ident" id="7432376">tt</span><span class="op" id="7432378">.</span><span class="ident" id="7432379">expected</span><span class="op" id="7432387">,</span>&nbsp;<span class="ident" id="7432389">actual</span><span class="op" id="7432395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432402">}</span><br>
<span class="lineno"></span><span class="op" id="7432404">}</span>
</div>
</body>
</html>
