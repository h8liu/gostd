<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/ring</h2>
<ul>
<li><a href="/gostd/container/ring/ring.go.html">ring.go</a></li>
<li><a href="/gostd/container/ring/ring_test.go.html" class="current">ring_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7903040">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7903095">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7903149">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7903200">package</span>&nbsp;<span class="ident" id="7903208">ring</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7903214">import</span>&nbsp;<span class="op" id="7903221">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7903224">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7903231">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7903241">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7903244">//&nbsp;For&nbsp;debugging&nbsp;-&nbsp;keep&nbsp;around.</span><br>
<span class="lineno"></span><span class="keyword" id="7903276">func</span>&nbsp;<span class="ident" id="7903281">dump</span><span class="op" id="7903285">(</span><span class="ident" id="7903286">r</span>&nbsp;<span class="op" id="7903288">*</span><span class="ident" id="7903289">Ring</span><span class="op" id="7903293">)</span>&nbsp;<span class="op" id="7903295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903298">if</span>&nbsp;<span class="ident" id="7903301">r</span>&nbsp;<span class="op" id="7903303">==</span>&nbsp;<span class="ident" id="7903306">nil</span>&nbsp;<span class="op" id="7903310">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903314">fmt</span><span class="op" id="7903317">.</span><span class="ident" id="7903318">Println</span><span class="op" id="7903325">(</span><span class="string" id="7903326">&#34;empty&#34;</span><span class="op" id="7903333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903337">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903348">i</span><span class="op" id="7903349">,</span>&nbsp;<span class="ident" id="7903351">n</span>&nbsp;<span class="op" id="7903353">:=</span>&nbsp;<span class="num" id="7903356">0</span><span class="op" id="7903357">,</span>&nbsp;<span class="ident" id="7903359">r</span><span class="op" id="7903360">.</span><span class="ident" id="7903361">Len</span><span class="op" id="7903364">(</span><span class="op" id="7903365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903368">for</span>&nbsp;<span class="ident" id="7903372">p</span>&nbsp;<span class="op" id="7903374">:=</span>&nbsp;<span class="ident" id="7903377">r</span><span class="op" id="7903378">;</span>&nbsp;<span class="ident" id="7903380">i</span>&nbsp;<span class="op" id="7903382">&lt;</span>&nbsp;<span class="ident" id="7903384">n</span><span class="op" id="7903385">;</span>&nbsp;<span class="ident" id="7903387">p</span>&nbsp;<span class="op" id="7903389">=</span>&nbsp;<span class="ident" id="7903391">p</span><span class="op" id="7903392">.</span><span class="ident" id="7903393">next</span>&nbsp;<span class="op" id="7903398">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903402">fmt</span><span class="op" id="7903405">.</span><span class="ident" id="7903406">Printf</span><span class="op" id="7903412">(</span><span class="string" id="7903413">&#34;%4d:&nbsp;%p&nbsp;=&nbsp;{&lt;-&nbsp;%p&nbsp;|&nbsp;%p&nbsp;-&gt;}\n&#34;</span><span class="op" id="7903442">,</span>&nbsp;<span class="ident" id="7903444">i</span><span class="op" id="7903445">,</span>&nbsp;<span class="ident" id="7903447">p</span><span class="op" id="7903448">,</span>&nbsp;<span class="ident" id="7903450">p</span><span class="op" id="7903451">.</span><span class="ident" id="7903452">prev</span><span class="op" id="7903456">,</span>&nbsp;<span class="ident" id="7903458">p</span><span class="op" id="7903459">.</span><span class="ident" id="7903460">next</span><span class="op" id="7903464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903468">i</span><span class="op" id="7903469">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903476">fmt</span><span class="op" id="7903479">.</span><span class="ident" id="7903480">Println</span><span class="op" id="7903487">(</span><span class="op" id="7903488">)</span><br>
<span class="lineno"></span><span class="op" id="7903490">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7903493">func</span>&nbsp;<span class="ident" id="7903498">verify</span><span class="op" id="7903504">(</span><span class="ident" id="7903505">t</span>&nbsp;<span class="op" id="7903507">*</span><span class="ident" id="7903508">testing</span><span class="op" id="7903515">.</span><span class="ident" id="7903516">T</span><span class="op" id="7903517">,</span>&nbsp;<span class="ident" id="7903519">r</span>&nbsp;<span class="op" id="7903521">*</span><span class="ident" id="7903522">Ring</span><span class="op" id="7903526">,</span>&nbsp;<span class="ident" id="7903528">N</span>&nbsp;<span class="builtintype" id="7903530">int</span><span class="op" id="7903533">,</span>&nbsp;<span class="ident" id="7903535">sum</span>&nbsp;<span class="builtintype" id="7903539">int</span><span class="op" id="7903542">)</span>&nbsp;<span class="op" id="7903544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7903547">//&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903555">n</span>&nbsp;<span class="op" id="7903557">:=</span>&nbsp;<span class="ident" id="7903560">r</span><span class="op" id="7903561">.</span><span class="ident" id="7903562">Len</span><span class="op" id="7903565">(</span><span class="op" id="7903566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903569">if</span>&nbsp;<span class="ident" id="7903572">n</span>&nbsp;<span class="op" id="7903574">!=</span>&nbsp;<span class="ident" id="7903577">N</span>&nbsp;<span class="op" id="7903579">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903583">t</span><span class="op" id="7903584">.</span><span class="ident" id="7903585">Errorf</span><span class="op" id="7903591">(</span><span class="string" id="7903592">&#34;r.Len()&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7903620">,</span>&nbsp;<span class="ident" id="7903622">n</span><span class="op" id="7903623">,</span>&nbsp;<span class="ident" id="7903625">N</span><span class="op" id="7903626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7903633">//&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903647">n</span>&nbsp;<span class="op" id="7903649">=</span>&nbsp;<span class="num" id="7903651">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903654">s</span>&nbsp;<span class="op" id="7903656">:=</span>&nbsp;<span class="num" id="7903659">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903662">r</span><span class="op" id="7903663">.</span><span class="ident" id="7903664">Do</span><span class="op" id="7903666">(</span><span class="keyword" id="7903667">func</span><span class="op" id="7903671">(</span><span class="ident" id="7903672">p</span>&nbsp;<span class="keyword" id="7903674">interface</span><span class="op" id="7903683">{</span><span class="op" id="7903684">}</span><span class="op" id="7903685">)</span>&nbsp;<span class="op" id="7903687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903691">n</span><span class="op" id="7903692">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903697">if</span>&nbsp;<span class="ident" id="7903700">p</span>&nbsp;<span class="op" id="7903702">!=</span>&nbsp;<span class="ident" id="7903705">nil</span>&nbsp;<span class="op" id="7903709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903714">s</span>&nbsp;<span class="op" id="7903716">+=</span>&nbsp;<span class="ident" id="7903719">p</span><span class="op" id="7903720">.</span><span class="op" id="7903721">(</span><span class="builtintype" id="7903722">int</span><span class="op" id="7903725">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903732">}</span><span class="op" id="7903733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903736">if</span>&nbsp;<span class="ident" id="7903739">n</span>&nbsp;<span class="op" id="7903741">!=</span>&nbsp;<span class="ident" id="7903744">N</span>&nbsp;<span class="op" id="7903746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903750">t</span><span class="op" id="7903751">.</span><span class="ident" id="7903752">Errorf</span><span class="op" id="7903758">(</span><span class="string" id="7903759">&#34;number&nbsp;of&nbsp;forward&nbsp;iterations&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7903808">,</span>&nbsp;<span class="ident" id="7903810">n</span><span class="op" id="7903811">,</span>&nbsp;<span class="ident" id="7903813">N</span><span class="op" id="7903814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903817">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903820">if</span>&nbsp;<span class="ident" id="7903823">sum</span>&nbsp;<span class="op" id="7903827">&gt;=</span>&nbsp;<span class="num" id="7903830">0</span>&nbsp;<span class="op" id="7903832">&amp;&amp;</span>&nbsp;<span class="ident" id="7903835">s</span>&nbsp;<span class="op" id="7903837">!=</span>&nbsp;<span class="ident" id="7903840">sum</span>&nbsp;<span class="op" id="7903844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903848">t</span><span class="op" id="7903849">.</span><span class="ident" id="7903850">Errorf</span><span class="op" id="7903856">(</span><span class="string" id="7903857">&#34;forward&nbsp;ring&nbsp;sum&nbsp;=&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7903893">,</span>&nbsp;<span class="ident" id="7903895">s</span><span class="op" id="7903896">,</span>&nbsp;<span class="ident" id="7903898">sum</span><span class="op" id="7903901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903908">if</span>&nbsp;<span class="ident" id="7903911">r</span>&nbsp;<span class="op" id="7903913">==</span>&nbsp;<span class="ident" id="7903916">nil</span>&nbsp;<span class="op" id="7903920">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903924">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7903936">//&nbsp;connections</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903952">if</span>&nbsp;<span class="ident" id="7903955">r</span><span class="op" id="7903956">.</span><span class="ident" id="7903957">next</span>&nbsp;<span class="op" id="7903962">!=</span>&nbsp;<span class="ident" id="7903965">nil</span>&nbsp;<span class="op" id="7903969">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903973">var</span>&nbsp;<span class="ident" id="7903977">p</span>&nbsp;<span class="op" id="7903979">*</span><span class="ident" id="7903980">Ring</span>&nbsp;<span class="comment" id="7903985">//&nbsp;previous&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904007">for</span>&nbsp;<span class="ident" id="7904011">q</span>&nbsp;<span class="op" id="7904013">:=</span>&nbsp;<span class="ident" id="7904016">r</span><span class="op" id="7904017">;</span>&nbsp;<span class="ident" id="7904019">p</span>&nbsp;<span class="op" id="7904021">==</span>&nbsp;<span class="ident" id="7904024">nil</span>&nbsp;<span class="op" id="7904028">||</span>&nbsp;<span class="ident" id="7904031">q</span>&nbsp;<span class="op" id="7904033">!=</span>&nbsp;<span class="ident" id="7904036">r</span><span class="op" id="7904037">;</span>&nbsp;<span class="ident" id="7904039">q</span>&nbsp;<span class="op" id="7904041">=</span>&nbsp;<span class="ident" id="7904043">q</span><span class="op" id="7904044">.</span><span class="ident" id="7904045">next</span>&nbsp;<span class="op" id="7904050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904055">if</span>&nbsp;<span class="ident" id="7904058">p</span>&nbsp;<span class="op" id="7904060">!=</span>&nbsp;<span class="ident" id="7904063">nil</span>&nbsp;<span class="op" id="7904067">&amp;&amp;</span>&nbsp;<span class="ident" id="7904070">p</span>&nbsp;<span class="op" id="7904072">!=</span>&nbsp;<span class="ident" id="7904075">q</span><span class="op" id="7904076">.</span><span class="ident" id="7904077">prev</span>&nbsp;<span class="op" id="7904082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904088">t</span><span class="op" id="7904089">.</span><span class="ident" id="7904090">Errorf</span><span class="op" id="7904096">(</span><span class="string" id="7904097">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;q.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7904132">,</span>&nbsp;<span class="ident" id="7904134">p</span><span class="op" id="7904135">,</span>&nbsp;<span class="ident" id="7904137">q</span><span class="op" id="7904138">.</span><span class="ident" id="7904139">prev</span><span class="op" id="7904143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904148">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904153">p</span>&nbsp;<span class="op" id="7904155">=</span>&nbsp;<span class="ident" id="7904157">q</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904165">if</span>&nbsp;<span class="ident" id="7904168">p</span>&nbsp;<span class="op" id="7904170">!=</span>&nbsp;<span class="ident" id="7904173">r</span><span class="op" id="7904174">.</span><span class="ident" id="7904175">prev</span>&nbsp;<span class="op" id="7904180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904185">t</span><span class="op" id="7904186">.</span><span class="ident" id="7904187">Errorf</span><span class="op" id="7904193">(</span><span class="string" id="7904194">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;r.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7904229">,</span>&nbsp;<span class="ident" id="7904231">p</span><span class="op" id="7904232">,</span>&nbsp;<span class="ident" id="7904234">r</span><span class="op" id="7904235">.</span><span class="ident" id="7904236">prev</span><span class="op" id="7904240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904244">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7904251">//&nbsp;Next,&nbsp;Prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904266">if</span>&nbsp;<span class="ident" id="7904269">r</span><span class="op" id="7904270">.</span><span class="ident" id="7904271">Next</span><span class="op" id="7904275">(</span><span class="op" id="7904276">)</span>&nbsp;<span class="op" id="7904278">!=</span>&nbsp;<span class="ident" id="7904281">r</span><span class="op" id="7904282">.</span><span class="ident" id="7904283">next</span>&nbsp;<span class="op" id="7904288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904292">t</span><span class="op" id="7904293">.</span><span class="ident" id="7904294">Errorf</span><span class="op" id="7904300">(</span><span class="string" id="7904301">&#34;r.Next()&nbsp;!=&nbsp;r.next&#34;</span><span class="op" id="7904321">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904327">if</span>&nbsp;<span class="ident" id="7904330">r</span><span class="op" id="7904331">.</span><span class="ident" id="7904332">Prev</span><span class="op" id="7904336">(</span><span class="op" id="7904337">)</span>&nbsp;<span class="op" id="7904339">!=</span>&nbsp;<span class="ident" id="7904342">r</span><span class="op" id="7904343">.</span><span class="ident" id="7904344">prev</span>&nbsp;<span class="op" id="7904349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904353">t</span><span class="op" id="7904354">.</span><span class="ident" id="7904355">Errorf</span><span class="op" id="7904361">(</span><span class="string" id="7904362">&#34;r.Prev()&nbsp;!=&nbsp;r.prev&#34;</span><span class="op" id="7904382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7904389">//&nbsp;Move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904398">if</span>&nbsp;<span class="ident" id="7904401">r</span><span class="op" id="7904402">.</span><span class="ident" id="7904403">Move</span><span class="op" id="7904407">(</span><span class="num" id="7904408">0</span><span class="op" id="7904409">)</span>&nbsp;<span class="op" id="7904411">!=</span>&nbsp;<span class="ident" id="7904414">r</span>&nbsp;<span class="op" id="7904416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904420">t</span><span class="op" id="7904421">.</span><span class="ident" id="7904422">Errorf</span><span class="op" id="7904428">(</span><span class="string" id="7904429">&#34;r.Move(0)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7904445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904451">if</span>&nbsp;<span class="ident" id="7904454">r</span><span class="op" id="7904455">.</span><span class="ident" id="7904456">Move</span><span class="op" id="7904460">(</span><span class="ident" id="7904461">N</span><span class="op" id="7904462">)</span>&nbsp;<span class="op" id="7904464">!=</span>&nbsp;<span class="ident" id="7904467">r</span>&nbsp;<span class="op" id="7904469">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904473">t</span><span class="op" id="7904474">.</span><span class="ident" id="7904475">Errorf</span><span class="op" id="7904481">(</span><span class="string" id="7904482">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7904499">,</span>&nbsp;<span class="ident" id="7904501">N</span><span class="op" id="7904502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904508">if</span>&nbsp;<span class="ident" id="7904511">r</span><span class="op" id="7904512">.</span><span class="ident" id="7904513">Move</span><span class="op" id="7904517">(</span><span class="op" id="7904518">-</span><span class="ident" id="7904519">N</span><span class="op" id="7904520">)</span>&nbsp;<span class="op" id="7904522">!=</span>&nbsp;<span class="ident" id="7904525">r</span>&nbsp;<span class="op" id="7904527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904531">t</span><span class="op" id="7904532">.</span><span class="ident" id="7904533">Errorf</span><span class="op" id="7904539">(</span><span class="string" id="7904540">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7904557">,</span>&nbsp;<span class="op" id="7904559">-</span><span class="ident" id="7904560">N</span><span class="op" id="7904561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904564">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904567">for</span>&nbsp;<span class="ident" id="7904571">i</span>&nbsp;<span class="op" id="7904573">:=</span>&nbsp;<span class="num" id="7904576">0</span><span class="op" id="7904577">;</span>&nbsp;<span class="ident" id="7904579">i</span>&nbsp;<span class="op" id="7904581">&lt;</span>&nbsp;<span class="num" id="7904583">10</span><span class="op" id="7904585">;</span>&nbsp;<span class="ident" id="7904587">i</span><span class="op" id="7904588">++</span>&nbsp;<span class="op" id="7904591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904595">ni</span>&nbsp;<span class="op" id="7904598">:=</span>&nbsp;<span class="ident" id="7904601">N</span>&nbsp;<span class="op" id="7904603">+</span>&nbsp;<span class="ident" id="7904605">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904609">mi</span>&nbsp;<span class="op" id="7904612">:=</span>&nbsp;<span class="ident" id="7904615">ni</span>&nbsp;<span class="op" id="7904618">%</span>&nbsp;<span class="ident" id="7904620">N</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904624">if</span>&nbsp;<span class="ident" id="7904627">r</span><span class="op" id="7904628">.</span><span class="ident" id="7904629">Move</span><span class="op" id="7904633">(</span><span class="ident" id="7904634">ni</span><span class="op" id="7904636">)</span>&nbsp;<span class="op" id="7904638">!=</span>&nbsp;<span class="ident" id="7904641">r</span><span class="op" id="7904642">.</span><span class="ident" id="7904643">Move</span><span class="op" id="7904647">(</span><span class="ident" id="7904648">mi</span><span class="op" id="7904650">)</span>&nbsp;<span class="op" id="7904652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904657">t</span><span class="op" id="7904658">.</span><span class="ident" id="7904659">Errorf</span><span class="op" id="7904665">(</span><span class="string" id="7904666">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7904692">,</span>&nbsp;<span class="ident" id="7904694">ni</span><span class="op" id="7904696">,</span>&nbsp;<span class="ident" id="7904698">mi</span><span class="op" id="7904700">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904708">if</span>&nbsp;<span class="ident" id="7904711">r</span><span class="op" id="7904712">.</span><span class="ident" id="7904713">Move</span><span class="op" id="7904717">(</span><span class="op" id="7904718">-</span><span class="ident" id="7904719">ni</span><span class="op" id="7904721">)</span>&nbsp;<span class="op" id="7904723">!=</span>&nbsp;<span class="ident" id="7904726">r</span><span class="op" id="7904727">.</span><span class="ident" id="7904728">Move</span><span class="op" id="7904732">(</span><span class="op" id="7904733">-</span><span class="ident" id="7904734">mi</span><span class="op" id="7904736">)</span>&nbsp;<span class="op" id="7904738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904743">t</span><span class="op" id="7904744">.</span><span class="ident" id="7904745">Errorf</span><span class="op" id="7904751">(</span><span class="string" id="7904752">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7904778">,</span>&nbsp;<span class="op" id="7904780">-</span><span class="ident" id="7904781">ni</span><span class="op" id="7904783">,</span>&nbsp;<span class="op" id="7904785">-</span><span class="ident" id="7904786">mi</span><span class="op" id="7904788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904795">}</span><br>
<span class="lineno">95</span><span class="op" id="7904797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7904800">func</span>&nbsp;<span class="ident" id="7904805">TestCornerCases</span><span class="op" id="7904820">(</span><span class="ident" id="7904821">t</span>&nbsp;<span class="op" id="7904823">*</span><span class="ident" id="7904824">testing</span><span class="op" id="7904831">.</span><span class="ident" id="7904832">T</span><span class="op" id="7904833">)</span>&nbsp;<span class="op" id="7904835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7904838">var</span>&nbsp;<span class="op" id="7904842">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904846">r0</span>&nbsp;<span class="op" id="7904849">*</span><span class="ident" id="7904850">Ring</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904857">r1</span>&nbsp;<span class="ident" id="7904860">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7904869">//&nbsp;Basics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904880">verify</span><span class="op" id="7904886">(</span><span class="ident" id="7904887">t</span><span class="op" id="7904888">,</span>&nbsp;<span class="ident" id="7904890">r0</span><span class="op" id="7904892">,</span>&nbsp;<span class="num" id="7904894">0</span><span class="op" id="7904895">,</span>&nbsp;<span class="num" id="7904897">0</span><span class="op" id="7904898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904901">verify</span><span class="op" id="7904907">(</span><span class="ident" id="7904908">t</span><span class="op" id="7904909">,</span>&nbsp;<span class="op" id="7904911">&amp;</span><span class="ident" id="7904912">r1</span><span class="op" id="7904914">,</span>&nbsp;<span class="num" id="7904916">1</span><span class="op" id="7904917">,</span>&nbsp;<span class="num" id="7904919">0</span><span class="op" id="7904920">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7904923">//&nbsp;Insert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904934">r1</span><span class="op" id="7904936">.</span><span class="ident" id="7904937">Link</span><span class="op" id="7904941">(</span><span class="ident" id="7904942">r0</span><span class="op" id="7904944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904947">verify</span><span class="op" id="7904953">(</span><span class="ident" id="7904954">t</span><span class="op" id="7904955">,</span>&nbsp;<span class="ident" id="7904957">r0</span><span class="op" id="7904959">,</span>&nbsp;<span class="num" id="7904961">0</span><span class="op" id="7904962">,</span>&nbsp;<span class="num" id="7904964">0</span><span class="op" id="7904965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904968">verify</span><span class="op" id="7904974">(</span><span class="ident" id="7904975">t</span><span class="op" id="7904976">,</span>&nbsp;<span class="op" id="7904978">&amp;</span><span class="ident" id="7904979">r1</span><span class="op" id="7904981">,</span>&nbsp;<span class="num" id="7904983">1</span><span class="op" id="7904984">,</span>&nbsp;<span class="num" id="7904986">0</span><span class="op" id="7904987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7904990">//&nbsp;Insert</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905001">r1</span><span class="op" id="7905003">.</span><span class="ident" id="7905004">Link</span><span class="op" id="7905008">(</span><span class="ident" id="7905009">r0</span><span class="op" id="7905011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905014">verify</span><span class="op" id="7905020">(</span><span class="ident" id="7905021">t</span><span class="op" id="7905022">,</span>&nbsp;<span class="ident" id="7905024">r0</span><span class="op" id="7905026">,</span>&nbsp;<span class="num" id="7905028">0</span><span class="op" id="7905029">,</span>&nbsp;<span class="num" id="7905031">0</span><span class="op" id="7905032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905035">verify</span><span class="op" id="7905041">(</span><span class="ident" id="7905042">t</span><span class="op" id="7905043">,</span>&nbsp;<span class="op" id="7905045">&amp;</span><span class="ident" id="7905046">r1</span><span class="op" id="7905048">,</span>&nbsp;<span class="num" id="7905050">1</span><span class="op" id="7905051">,</span>&nbsp;<span class="num" id="7905053">0</span><span class="op" id="7905054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7905057">//&nbsp;Unlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905068">r1</span><span class="op" id="7905070">.</span><span class="ident" id="7905071">Unlink</span><span class="op" id="7905077">(</span><span class="num" id="7905078">0</span><span class="op" id="7905079">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905082">verify</span><span class="op" id="7905088">(</span><span class="ident" id="7905089">t</span><span class="op" id="7905090">,</span>&nbsp;<span class="op" id="7905092">&amp;</span><span class="ident" id="7905093">r1</span><span class="op" id="7905095">,</span>&nbsp;<span class="num" id="7905097">1</span><span class="op" id="7905098">,</span>&nbsp;<span class="num" id="7905100">0</span><span class="op" id="7905101">)</span><br>
<span class="lineno"></span><span class="op" id="7905103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7905106">func</span>&nbsp;<span class="ident" id="7905111">makeN</span><span class="op" id="7905116">(</span><span class="ident" id="7905117">n</span>&nbsp;<span class="builtintype" id="7905119">int</span><span class="op" id="7905122">)</span>&nbsp;<span class="op" id="7905124">*</span><span class="ident" id="7905125">Ring</span>&nbsp;<span class="op" id="7905130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905133">r</span>&nbsp;<span class="op" id="7905135">:=</span>&nbsp;<span class="ident" id="7905138">New</span><span class="op" id="7905141">(</span><span class="ident" id="7905142">n</span><span class="op" id="7905143">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7905146">for</span>&nbsp;<span class="ident" id="7905150">i</span>&nbsp;<span class="op" id="7905152">:=</span>&nbsp;<span class="num" id="7905155">1</span><span class="op" id="7905156">;</span>&nbsp;<span class="ident" id="7905158">i</span>&nbsp;<span class="op" id="7905160">&lt;=</span>&nbsp;<span class="ident" id="7905163">n</span><span class="op" id="7905164">;</span>&nbsp;<span class="ident" id="7905166">i</span><span class="op" id="7905167">++</span>&nbsp;<span class="op" id="7905170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905174">r</span><span class="op" id="7905175">.</span><span class="ident" id="7905176">Value</span>&nbsp;<span class="op" id="7905182">=</span>&nbsp;<span class="ident" id="7905184">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905188">r</span>&nbsp;<span class="op" id="7905190">=</span>&nbsp;<span class="ident" id="7905192">r</span><span class="op" id="7905193">.</span><span class="ident" id="7905194">Next</span><span class="op" id="7905198">(</span><span class="op" id="7905199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7905202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7905205">return</span>&nbsp;<span class="ident" id="7905212">r</span><br>
<span class="lineno">125</span><span class="op" id="7905214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7905217">func</span>&nbsp;<span class="ident" id="7905222">sumN</span><span class="op" id="7905226">(</span><span class="ident" id="7905227">n</span>&nbsp;<span class="builtintype" id="7905229">int</span><span class="op" id="7905232">)</span>&nbsp;<span class="builtintype" id="7905234">int</span>&nbsp;<span class="op" id="7905238">{</span>&nbsp;<span class="keyword" id="7905240">return</span>&nbsp;<span class="op" id="7905247">(</span><span class="ident" id="7905248">n</span><span class="op" id="7905249">*</span><span class="ident" id="7905250">n</span>&nbsp;<span class="op" id="7905252">+</span>&nbsp;<span class="ident" id="7905254">n</span><span class="op" id="7905255">)</span>&nbsp;<span class="op" id="7905257">/</span>&nbsp;<span class="num" id="7905259">2</span>&nbsp;<span class="op" id="7905261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7905264">func</span>&nbsp;<span class="ident" id="7905269">TestNew</span><span class="op" id="7905276">(</span><span class="ident" id="7905277">t</span>&nbsp;<span class="op" id="7905279">*</span><span class="ident" id="7905280">testing</span><span class="op" id="7905287">.</span><span class="ident" id="7905288">T</span><span class="op" id="7905289">)</span>&nbsp;<span class="op" id="7905291">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7905294">for</span>&nbsp;<span class="ident" id="7905298">i</span>&nbsp;<span class="op" id="7905300">:=</span>&nbsp;<span class="num" id="7905303">0</span><span class="op" id="7905304">;</span>&nbsp;<span class="ident" id="7905306">i</span>&nbsp;<span class="op" id="7905308">&lt;</span>&nbsp;<span class="num" id="7905310">10</span><span class="op" id="7905312">;</span>&nbsp;<span class="ident" id="7905314">i</span><span class="op" id="7905315">++</span>&nbsp;<span class="op" id="7905318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905322">r</span>&nbsp;<span class="op" id="7905324">:=</span>&nbsp;<span class="ident" id="7905327">New</span><span class="op" id="7905330">(</span><span class="ident" id="7905331">i</span><span class="op" id="7905332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905336">verify</span><span class="op" id="7905342">(</span><span class="ident" id="7905343">t</span><span class="op" id="7905344">,</span>&nbsp;<span class="ident" id="7905346">r</span><span class="op" id="7905347">,</span>&nbsp;<span class="ident" id="7905349">i</span><span class="op" id="7905350">,</span>&nbsp;<span class="op" id="7905352">-</span><span class="num" id="7905353">1</span><span class="op" id="7905354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7905357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7905360">for</span>&nbsp;<span class="ident" id="7905364">i</span>&nbsp;<span class="op" id="7905366">:=</span>&nbsp;<span class="num" id="7905369">0</span><span class="op" id="7905370">;</span>&nbsp;<span class="ident" id="7905372">i</span>&nbsp;<span class="op" id="7905374">&lt;</span>&nbsp;<span class="num" id="7905376">10</span><span class="op" id="7905378">;</span>&nbsp;<span class="ident" id="7905380">i</span><span class="op" id="7905381">++</span>&nbsp;<span class="op" id="7905384">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905388">r</span>&nbsp;<span class="op" id="7905390">:=</span>&nbsp;<span class="ident" id="7905393">makeN</span><span class="op" id="7905398">(</span><span class="ident" id="7905399">i</span><span class="op" id="7905400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905404">verify</span><span class="op" id="7905410">(</span><span class="ident" id="7905411">t</span><span class="op" id="7905412">,</span>&nbsp;<span class="ident" id="7905414">r</span><span class="op" id="7905415">,</span>&nbsp;<span class="ident" id="7905417">i</span><span class="op" id="7905418">,</span>&nbsp;<span class="ident" id="7905420">sumN</span><span class="op" id="7905424">(</span><span class="ident" id="7905425">i</span><span class="op" id="7905426">)</span><span class="op" id="7905427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7905430">}</span><br>
<span class="lineno"></span><span class="op" id="7905432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7905435">func</span>&nbsp;<span class="ident" id="7905440">TestLink1</span><span class="op" id="7905449">(</span><span class="ident" id="7905450">t</span>&nbsp;<span class="op" id="7905452">*</span><span class="ident" id="7905453">testing</span><span class="op" id="7905460">.</span><span class="ident" id="7905461">T</span><span class="op" id="7905462">)</span>&nbsp;<span class="op" id="7905464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905467">r1a</span>&nbsp;<span class="op" id="7905471">:=</span>&nbsp;<span class="ident" id="7905474">makeN</span><span class="op" id="7905479">(</span><span class="num" id="7905480">1</span><span class="op" id="7905481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7905484">var</span>&nbsp;<span class="ident" id="7905488">r1b</span>&nbsp;<span class="ident" id="7905492">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905498">r2a</span>&nbsp;<span class="op" id="7905502">:=</span>&nbsp;<span class="ident" id="7905505">r1a</span><span class="op" id="7905508">.</span><span class="ident" id="7905509">Link</span><span class="op" id="7905513">(</span><span class="op" id="7905514">&amp;</span><span class="ident" id="7905515">r1b</span><span class="op" id="7905518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905521">verify</span><span class="op" id="7905527">(</span><span class="ident" id="7905528">t</span><span class="op" id="7905529">,</span>&nbsp;<span class="ident" id="7905531">r2a</span><span class="op" id="7905534">,</span>&nbsp;<span class="num" id="7905536">2</span><span class="op" id="7905537">,</span>&nbsp;<span class="num" id="7905539">1</span><span class="op" id="7905540">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7905543">if</span>&nbsp;<span class="ident" id="7905546">r2a</span>&nbsp;<span class="op" id="7905550">!=</span>&nbsp;<span class="ident" id="7905553">r1a</span>&nbsp;<span class="op" id="7905557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905561">t</span><span class="op" id="7905562">.</span><span class="ident" id="7905563">Errorf</span><span class="op" id="7905569">(</span><span class="string" id="7905570">&#34;a)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7905596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7905599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905603">r2b</span>&nbsp;<span class="op" id="7905607">:=</span>&nbsp;<span class="ident" id="7905610">r2a</span><span class="op" id="7905613">.</span><span class="ident" id="7905614">Link</span><span class="op" id="7905618">(</span><span class="ident" id="7905619">r2a</span><span class="op" id="7905622">.</span><span class="ident" id="7905623">Next</span><span class="op" id="7905627">(</span><span class="op" id="7905628">)</span><span class="op" id="7905629">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905632">verify</span><span class="op" id="7905638">(</span><span class="ident" id="7905639">t</span><span class="op" id="7905640">,</span>&nbsp;<span class="ident" id="7905642">r2b</span><span class="op" id="7905645">,</span>&nbsp;<span class="num" id="7905647">2</span><span class="op" id="7905648">,</span>&nbsp;<span class="num" id="7905650">1</span><span class="op" id="7905651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7905654">if</span>&nbsp;<span class="ident" id="7905657">r2b</span>&nbsp;<span class="op" id="7905661">!=</span>&nbsp;<span class="ident" id="7905664">r2a</span><span class="op" id="7905667">.</span><span class="ident" id="7905668">Next</span><span class="op" id="7905672">(</span><span class="op" id="7905673">)</span>&nbsp;<span class="op" id="7905675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905679">t</span><span class="op" id="7905680">.</span><span class="ident" id="7905681">Errorf</span><span class="op" id="7905687">(</span><span class="string" id="7905688">&#34;b)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7905714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7905717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905721">r1c</span>&nbsp;<span class="op" id="7905725">:=</span>&nbsp;<span class="ident" id="7905728">r2b</span><span class="op" id="7905731">.</span><span class="ident" id="7905732">Link</span><span class="op" id="7905736">(</span><span class="ident" id="7905737">r2b</span><span class="op" id="7905740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905743">verify</span><span class="op" id="7905749">(</span><span class="ident" id="7905750">t</span><span class="op" id="7905751">,</span>&nbsp;<span class="ident" id="7905753">r1c</span><span class="op" id="7905756">,</span>&nbsp;<span class="num" id="7905758">1</span><span class="op" id="7905759">,</span>&nbsp;<span class="num" id="7905761">1</span><span class="op" id="7905762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905765">verify</span><span class="op" id="7905771">(</span><span class="ident" id="7905772">t</span><span class="op" id="7905773">,</span>&nbsp;<span class="ident" id="7905775">r2b</span><span class="op" id="7905778">,</span>&nbsp;<span class="num" id="7905780">1</span><span class="op" id="7905781">,</span>&nbsp;<span class="num" id="7905783">0</span><span class="op" id="7905784">)</span><br>
<span class="lineno"></span><span class="op" id="7905786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7905789">func</span>&nbsp;<span class="ident" id="7905794">TestLink2</span><span class="op" id="7905803">(</span><span class="ident" id="7905804">t</span>&nbsp;<span class="op" id="7905806">*</span><span class="ident" id="7905807">testing</span><span class="op" id="7905814">.</span><span class="ident" id="7905815">T</span><span class="op" id="7905816">)</span>&nbsp;<span class="op" id="7905818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7905821">var</span>&nbsp;<span class="ident" id="7905825">r0</span>&nbsp;<span class="op" id="7905828">*</span><span class="ident" id="7905829">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905835">r1a</span>&nbsp;<span class="op" id="7905839">:=</span>&nbsp;<span class="op" id="7905842">&amp;</span><span class="ident" id="7905843">Ring</span><span class="op" id="7905847">{</span><span class="ident" id="7905848">Value</span><span class="op" id="7905853">:</span>&nbsp;<span class="num" id="7905855">42</span><span class="op" id="7905857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905860">r1b</span>&nbsp;<span class="op" id="7905864">:=</span>&nbsp;<span class="op" id="7905867">&amp;</span><span class="ident" id="7905868">Ring</span><span class="op" id="7905872">{</span><span class="ident" id="7905873">Value</span><span class="op" id="7905878">:</span>&nbsp;<span class="num" id="7905880">77</span><span class="op" id="7905882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905885">r10</span>&nbsp;<span class="op" id="7905889">:=</span>&nbsp;<span class="ident" id="7905892">makeN</span><span class="op" id="7905897">(</span><span class="num" id="7905898">10</span><span class="op" id="7905900">)</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905904">r1a</span><span class="op" id="7905907">.</span><span class="ident" id="7905908">Link</span><span class="op" id="7905912">(</span><span class="ident" id="7905913">r0</span><span class="op" id="7905915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905918">verify</span><span class="op" id="7905924">(</span><span class="ident" id="7905925">t</span><span class="op" id="7905926">,</span>&nbsp;<span class="ident" id="7905928">r1a</span><span class="op" id="7905931">,</span>&nbsp;<span class="num" id="7905933">1</span><span class="op" id="7905934">,</span>&nbsp;<span class="num" id="7905936">42</span><span class="op" id="7905938">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905942">r1a</span><span class="op" id="7905945">.</span><span class="ident" id="7905946">Link</span><span class="op" id="7905950">(</span><span class="ident" id="7905951">r1b</span><span class="op" id="7905954">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905957">verify</span><span class="op" id="7905963">(</span><span class="ident" id="7905964">t</span><span class="op" id="7905965">,</span>&nbsp;<span class="ident" id="7905967">r1a</span><span class="op" id="7905970">,</span>&nbsp;<span class="num" id="7905972">2</span><span class="op" id="7905973">,</span>&nbsp;<span class="num" id="7905975">42</span><span class="op" id="7905977">+</span><span class="num" id="7905978">77</span><span class="op" id="7905980">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905984">r10</span><span class="op" id="7905987">.</span><span class="ident" id="7905988">Link</span><span class="op" id="7905992">(</span><span class="ident" id="7905993">r0</span><span class="op" id="7905995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7905998">verify</span><span class="op" id="7906004">(</span><span class="ident" id="7906005">t</span><span class="op" id="7906006">,</span>&nbsp;<span class="ident" id="7906008">r10</span><span class="op" id="7906011">,</span>&nbsp;<span class="num" id="7906013">10</span><span class="op" id="7906015">,</span>&nbsp;<span class="ident" id="7906017">sumN</span><span class="op" id="7906021">(</span><span class="num" id="7906022">10</span><span class="op" id="7906024">)</span><span class="op" id="7906025">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906029">r10</span><span class="op" id="7906032">.</span><span class="ident" id="7906033">Link</span><span class="op" id="7906037">(</span><span class="ident" id="7906038">r1a</span><span class="op" id="7906041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906044">verify</span><span class="op" id="7906050">(</span><span class="ident" id="7906051">t</span><span class="op" id="7906052">,</span>&nbsp;<span class="ident" id="7906054">r10</span><span class="op" id="7906057">,</span>&nbsp;<span class="num" id="7906059">12</span><span class="op" id="7906061">,</span>&nbsp;<span class="ident" id="7906063">sumN</span><span class="op" id="7906067">(</span><span class="num" id="7906068">10</span><span class="op" id="7906070">)</span><span class="op" id="7906071">+</span><span class="num" id="7906072">42</span><span class="op" id="7906074">+</span><span class="num" id="7906075">77</span><span class="op" id="7906077">)</span><br>
<span class="lineno"></span><span class="op" id="7906079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7906082">func</span>&nbsp;<span class="ident" id="7906087">TestLink3</span><span class="op" id="7906096">(</span><span class="ident" id="7906097">t</span>&nbsp;<span class="op" id="7906099">*</span><span class="ident" id="7906100">testing</span><span class="op" id="7906107">.</span><span class="ident" id="7906108">T</span><span class="op" id="7906109">)</span>&nbsp;<span class="op" id="7906111">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7906114">var</span>&nbsp;<span class="ident" id="7906118">r</span>&nbsp;<span class="ident" id="7906120">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906126">n</span>&nbsp;<span class="op" id="7906128">:=</span>&nbsp;<span class="num" id="7906131">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7906134">for</span>&nbsp;<span class="ident" id="7906138">i</span>&nbsp;<span class="op" id="7906140">:=</span>&nbsp;<span class="num" id="7906143">1</span><span class="op" id="7906144">;</span>&nbsp;<span class="ident" id="7906146">i</span>&nbsp;<span class="op" id="7906148">&lt;</span>&nbsp;<span class="num" id="7906150">100</span><span class="op" id="7906153">;</span>&nbsp;<span class="ident" id="7906155">i</span><span class="op" id="7906156">++</span>&nbsp;<span class="op" id="7906159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906163">n</span>&nbsp;<span class="op" id="7906165">+=</span>&nbsp;<span class="ident" id="7906168">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906172">verify</span><span class="op" id="7906178">(</span><span class="ident" id="7906179">t</span><span class="op" id="7906180">,</span>&nbsp;<span class="ident" id="7906182">r</span><span class="op" id="7906183">.</span><span class="ident" id="7906184">Link</span><span class="op" id="7906188">(</span><span class="ident" id="7906189">New</span><span class="op" id="7906192">(</span><span class="ident" id="7906193">i</span><span class="op" id="7906194">)</span><span class="op" id="7906195">)</span><span class="op" id="7906196">,</span>&nbsp;<span class="ident" id="7906198">n</span><span class="op" id="7906199">,</span>&nbsp;<span class="op" id="7906201">-</span><span class="num" id="7906202">1</span><span class="op" id="7906203">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7906206">}</span><br>
<span class="lineno"></span><span class="op" id="7906208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7906211">func</span>&nbsp;<span class="ident" id="7906216">TestUnlink</span><span class="op" id="7906226">(</span><span class="ident" id="7906227">t</span>&nbsp;<span class="op" id="7906229">*</span><span class="ident" id="7906230">testing</span><span class="op" id="7906237">.</span><span class="ident" id="7906238">T</span><span class="op" id="7906239">)</span>&nbsp;<span class="op" id="7906241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906244">r10</span>&nbsp;<span class="op" id="7906248">:=</span>&nbsp;<span class="ident" id="7906251">makeN</span><span class="op" id="7906256">(</span><span class="num" id="7906257">10</span><span class="op" id="7906259">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906262">s10</span>&nbsp;<span class="op" id="7906266">:=</span>&nbsp;<span class="ident" id="7906269">r10</span><span class="op" id="7906272">.</span><span class="ident" id="7906273">Move</span><span class="op" id="7906277">(</span><span class="num" id="7906278">6</span><span class="op" id="7906279">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906283">sum10</span>&nbsp;<span class="op" id="7906289">:=</span>&nbsp;<span class="ident" id="7906292">sumN</span><span class="op" id="7906296">(</span><span class="num" id="7906297">10</span><span class="op" id="7906299">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906303">verify</span><span class="op" id="7906309">(</span><span class="ident" id="7906310">t</span><span class="op" id="7906311">,</span>&nbsp;<span class="ident" id="7906313">r10</span><span class="op" id="7906316">,</span>&nbsp;<span class="num" id="7906318">10</span><span class="op" id="7906320">,</span>&nbsp;<span class="ident" id="7906322">sum10</span><span class="op" id="7906327">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906330">verify</span><span class="op" id="7906336">(</span><span class="ident" id="7906337">t</span><span class="op" id="7906338">,</span>&nbsp;<span class="ident" id="7906340">s10</span><span class="op" id="7906343">,</span>&nbsp;<span class="num" id="7906345">10</span><span class="op" id="7906347">,</span>&nbsp;<span class="ident" id="7906349">sum10</span><span class="op" id="7906354">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906358">r0</span>&nbsp;<span class="op" id="7906361">:=</span>&nbsp;<span class="ident" id="7906364">r10</span><span class="op" id="7906367">.</span><span class="ident" id="7906368">Unlink</span><span class="op" id="7906374">(</span><span class="num" id="7906375">0</span><span class="op" id="7906376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906379">verify</span><span class="op" id="7906385">(</span><span class="ident" id="7906386">t</span><span class="op" id="7906387">,</span>&nbsp;<span class="ident" id="7906389">r0</span><span class="op" id="7906391">,</span>&nbsp;<span class="num" id="7906393">0</span><span class="op" id="7906394">,</span>&nbsp;<span class="num" id="7906396">0</span><span class="op" id="7906397">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906401">r1</span>&nbsp;<span class="op" id="7906404">:=</span>&nbsp;<span class="ident" id="7906407">r10</span><span class="op" id="7906410">.</span><span class="ident" id="7906411">Unlink</span><span class="op" id="7906417">(</span><span class="num" id="7906418">1</span><span class="op" id="7906419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906422">verify</span><span class="op" id="7906428">(</span><span class="ident" id="7906429">t</span><span class="op" id="7906430">,</span>&nbsp;<span class="ident" id="7906432">r1</span><span class="op" id="7906434">,</span>&nbsp;<span class="num" id="7906436">1</span><span class="op" id="7906437">,</span>&nbsp;<span class="num" id="7906439">2</span><span class="op" id="7906440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906443">verify</span><span class="op" id="7906449">(</span><span class="ident" id="7906450">t</span><span class="op" id="7906451">,</span>&nbsp;<span class="ident" id="7906453">r10</span><span class="op" id="7906456">,</span>&nbsp;<span class="num" id="7906458">9</span><span class="op" id="7906459">,</span>&nbsp;<span class="ident" id="7906461">sum10</span><span class="op" id="7906466">-</span><span class="num" id="7906467">2</span><span class="op" id="7906468">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906472">r9</span>&nbsp;<span class="op" id="7906475">:=</span>&nbsp;<span class="ident" id="7906478">r10</span><span class="op" id="7906481">.</span><span class="ident" id="7906482">Unlink</span><span class="op" id="7906488">(</span><span class="num" id="7906489">9</span><span class="op" id="7906490">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906493">verify</span><span class="op" id="7906499">(</span><span class="ident" id="7906500">t</span><span class="op" id="7906501">,</span>&nbsp;<span class="ident" id="7906503">r9</span><span class="op" id="7906505">,</span>&nbsp;<span class="num" id="7906507">9</span><span class="op" id="7906508">,</span>&nbsp;<span class="ident" id="7906510">sum10</span><span class="op" id="7906515">-</span><span class="num" id="7906516">2</span><span class="op" id="7906517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906520">verify</span><span class="op" id="7906526">(</span><span class="ident" id="7906527">t</span><span class="op" id="7906528">,</span>&nbsp;<span class="ident" id="7906530">r10</span><span class="op" id="7906533">,</span>&nbsp;<span class="num" id="7906535">9</span><span class="op" id="7906536">,</span>&nbsp;<span class="ident" id="7906538">sum10</span><span class="op" id="7906543">-</span><span class="num" id="7906544">2</span><span class="op" id="7906545">)</span><br>
<span class="lineno"></span><span class="op" id="7906547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7906550">func</span>&nbsp;<span class="ident" id="7906555">TestLinkUnlink</span><span class="op" id="7906569">(</span><span class="ident" id="7906570">t</span>&nbsp;<span class="op" id="7906572">*</span><span class="ident" id="7906573">testing</span><span class="op" id="7906580">.</span><span class="ident" id="7906581">T</span><span class="op" id="7906582">)</span>&nbsp;<span class="op" id="7906584">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7906587">for</span>&nbsp;<span class="ident" id="7906591">i</span>&nbsp;<span class="op" id="7906593">:=</span>&nbsp;<span class="num" id="7906596">1</span><span class="op" id="7906597">;</span>&nbsp;<span class="ident" id="7906599">i</span>&nbsp;<span class="op" id="7906601">&lt;</span>&nbsp;<span class="num" id="7906603">4</span><span class="op" id="7906604">;</span>&nbsp;<span class="ident" id="7906606">i</span><span class="op" id="7906607">++</span>&nbsp;<span class="op" id="7906610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906614">ri</span>&nbsp;<span class="op" id="7906617">:=</span>&nbsp;<span class="ident" id="7906620">New</span><span class="op" id="7906623">(</span><span class="ident" id="7906624">i</span><span class="op" id="7906625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7906629">for</span>&nbsp;<span class="ident" id="7906633">j</span>&nbsp;<span class="op" id="7906635">:=</span>&nbsp;<span class="num" id="7906638">0</span><span class="op" id="7906639">;</span>&nbsp;<span class="ident" id="7906641">j</span>&nbsp;<span class="op" id="7906643">&lt;</span>&nbsp;<span class="ident" id="7906645">i</span><span class="op" id="7906646">;</span>&nbsp;<span class="ident" id="7906648">j</span><span class="op" id="7906649">++</span>&nbsp;<span class="op" id="7906652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906657">rj</span>&nbsp;<span class="op" id="7906660">:=</span>&nbsp;<span class="ident" id="7906663">ri</span><span class="op" id="7906665">.</span><span class="ident" id="7906666">Unlink</span><span class="op" id="7906672">(</span><span class="ident" id="7906673">j</span><span class="op" id="7906674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906679">verify</span><span class="op" id="7906685">(</span><span class="ident" id="7906686">t</span><span class="op" id="7906687">,</span>&nbsp;<span class="ident" id="7906689">rj</span><span class="op" id="7906691">,</span>&nbsp;<span class="ident" id="7906693">j</span><span class="op" id="7906694">,</span>&nbsp;<span class="op" id="7906696">-</span><span class="num" id="7906697">1</span><span class="op" id="7906698">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906703">verify</span><span class="op" id="7906709">(</span><span class="ident" id="7906710">t</span><span class="op" id="7906711">,</span>&nbsp;<span class="ident" id="7906713">ri</span><span class="op" id="7906715">,</span>&nbsp;<span class="ident" id="7906717">i</span><span class="op" id="7906718">-</span><span class="ident" id="7906719">j</span><span class="op" id="7906720">,</span>&nbsp;<span class="op" id="7906722">-</span><span class="num" id="7906723">1</span><span class="op" id="7906724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906729">ri</span><span class="op" id="7906731">.</span><span class="ident" id="7906732">Link</span><span class="op" id="7906736">(</span><span class="ident" id="7906737">rj</span><span class="op" id="7906739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906744">verify</span><span class="op" id="7906750">(</span><span class="ident" id="7906751">t</span><span class="op" id="7906752">,</span>&nbsp;<span class="ident" id="7906754">ri</span><span class="op" id="7906756">,</span>&nbsp;<span class="ident" id="7906758">i</span><span class="op" id="7906759">,</span>&nbsp;<span class="op" id="7906761">-</span><span class="num" id="7906762">1</span><span class="op" id="7906763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7906767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7906770">}</span><br>
<span class="lineno">220</span><span class="op" id="7906772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7906775">//&nbsp;Test&nbsp;that&nbsp;calling&nbsp;Move()&nbsp;on&nbsp;an&nbsp;empty&nbsp;Ring&nbsp;initializes&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="7906836">func</span>&nbsp;<span class="ident" id="7906841">TestMoveEmptyRing</span><span class="op" id="7906858">(</span><span class="ident" id="7906859">t</span>&nbsp;<span class="op" id="7906861">*</span><span class="ident" id="7906862">testing</span><span class="op" id="7906869">.</span><span class="ident" id="7906870">T</span><span class="op" id="7906871">)</span>&nbsp;<span class="op" id="7906873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7906876">var</span>&nbsp;<span class="ident" id="7906880">r</span>&nbsp;<span class="ident" id="7906882">Ring</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906889">r</span><span class="op" id="7906890">.</span><span class="ident" id="7906891">Move</span><span class="op" id="7906895">(</span><span class="num" id="7906896">1</span><span class="op" id="7906897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7906900">verify</span><span class="op" id="7906906">(</span><span class="ident" id="7906907">t</span><span class="op" id="7906908">,</span>&nbsp;<span class="op" id="7906910">&amp;</span><span class="ident" id="7906911">r</span><span class="op" id="7906912">,</span>&nbsp;<span class="num" id="7906914">1</span><span class="op" id="7906915">,</span>&nbsp;<span class="num" id="7906917">0</span><span class="op" id="7906918">)</span><br>
<span class="lineno"></span><span class="op" id="7906920">}</span>
</div>
</body>
</html>
