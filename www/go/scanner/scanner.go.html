<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5956487">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5956542">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5956596">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5956647">//&nbsp;Package&nbsp;scanner&nbsp;implements&nbsp;a&nbsp;scanner&nbsp;for&nbsp;Go&nbsp;source&nbsp;text.</span><br>
<span class="lineno"></span><span class="comment" id="5956707">//&nbsp;It&nbsp;takes&nbsp;a&nbsp;[]byte&nbsp;as&nbsp;source&nbsp;which&nbsp;can&nbsp;then&nbsp;be&nbsp;tokenized</span><br>
<span class="lineno"></span><span class="comment" id="5956766">//&nbsp;through&nbsp;repeated&nbsp;calls&nbsp;to&nbsp;the&nbsp;Scan&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="5956812">//</span><br>
<span class="lineno"></span><span class="keyword" id="5956815">package</span>&nbsp;<span class="ident" id="5956823">scanner</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5956832">import</span>&nbsp;<span class="op" id="5956839">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5956842">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5956851">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5956858">&#34;go/token&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5956870">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5956887">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5956898">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5956909">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="5956924">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="5956927">//&nbsp;An&nbsp;ErrorHandler&nbsp;may&nbsp;be&nbsp;provided&nbsp;to&nbsp;Scanner.Init.&nbsp;If&nbsp;a&nbsp;syntax&nbsp;error&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5957000">//&nbsp;encountered&nbsp;and&nbsp;a&nbsp;handler&nbsp;was&nbsp;installed,&nbsp;the&nbsp;handler&nbsp;is&nbsp;called&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5957073">//&nbsp;position&nbsp;and&nbsp;an&nbsp;error&nbsp;message.&nbsp;The&nbsp;position&nbsp;points&nbsp;to&nbsp;the&nbsp;beginning&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5957147">//&nbsp;the&nbsp;offending&nbsp;token.</span><br>
<span class="lineno">25</span><span class="comment" id="5957171">//</span><br>
<span class="lineno"></span><span class="keyword" id="5957174">type</span>&nbsp;<span class="ident" id="5957179">ErrorHandler</span>&nbsp;<span class="keyword" id="5957192">func</span><span class="op" id="5957196">(</span><span class="ident" id="5957197">pos</span>&nbsp;<span class="ident" id="5957201"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5957206">.</span><span class="ident" id="5957207">Position</span><span class="op" id="5957215">,</span>&nbsp;<span class="ident" id="5957217">msg</span>&nbsp;<span class="builtintype" id="5957221">string</span><span class="op" id="5957227">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5957230">//&nbsp;A&nbsp;Scanner&nbsp;holds&nbsp;the&nbsp;scanner&#39;s&nbsp;internal&nbsp;state&nbsp;while&nbsp;processing</span><br>
<span class="lineno"></span><span class="comment" id="5957295">//&nbsp;a&nbsp;given&nbsp;text.&nbsp;&nbsp;It&nbsp;can&nbsp;be&nbsp;allocated&nbsp;as&nbsp;part&nbsp;of&nbsp;another&nbsp;data</span><br>
<span class="lineno">30</span><span class="comment" id="5957357">//&nbsp;structure&nbsp;but&nbsp;must&nbsp;be&nbsp;initialized&nbsp;via&nbsp;Init&nbsp;before&nbsp;use.</span><br>
<span class="lineno"></span><span class="comment" id="5957415">//</span><br>
<span class="lineno"></span><span class="keyword" id="5957418">type</span>&nbsp;<span class="ident" id="5957423">Scanner</span>&nbsp;<span class="keyword" id="5957431">struct</span>&nbsp;<span class="op" id="5957438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5957441">//&nbsp;immutable&nbsp;state</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957461">file</span>&nbsp;<span class="op" id="5957466">*</span><span class="ident" id="5957467"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5957472">.</span><span class="ident" id="5957473">File</span>&nbsp;&nbsp;<span class="comment" id="5957479">//&nbsp;source&nbsp;file&nbsp;handle</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957502">dir</span>&nbsp;&nbsp;<span class="builtintype" id="5957507">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957520">//&nbsp;directory&nbsp;portion&nbsp;of&nbsp;file.Name()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957557">src</span>&nbsp;&nbsp;<span class="op" id="5957562">[</span><span class="op" id="5957563">]</span><span class="builtintype" id="5957564">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957575">//&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957586">err</span>&nbsp;&nbsp;<span class="ident" id="5957591"><a href="/go/scanner/scanner.go.html#5957179">ErrorHandler</a></span>&nbsp;<span class="comment" id="5957604">//&nbsp;error&nbsp;reporting;&nbsp;or&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957632">mode</span>&nbsp;<span class="ident" id="5957637"><a href="/go/scanner/scanner.go.html#5958953">Mode</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957650">//&nbsp;scanning&nbsp;mode</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5957669">//&nbsp;scanning&nbsp;state</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957688">ch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5957699">rune</span>&nbsp;<span class="comment" id="5957704">//&nbsp;current&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957726">offset</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5957737">int</span>&nbsp;&nbsp;<span class="comment" id="5957742">//&nbsp;character&nbsp;offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957763">rdOffset</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5957774">int</span>&nbsp;&nbsp;<span class="comment" id="5957779">//&nbsp;reading&nbsp;offset&nbsp;(position&nbsp;after&nbsp;current&nbsp;character)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957833">lineOffset</span>&nbsp;<span class="builtintype" id="5957844">int</span>&nbsp;&nbsp;<span class="comment" id="5957849">//&nbsp;current&nbsp;line&nbsp;offset</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957873">insertSemi</span>&nbsp;<span class="builtintype" id="5957884">bool</span>&nbsp;<span class="comment" id="5957889">//&nbsp;insert&nbsp;a&nbsp;semicolon&nbsp;before&nbsp;next&nbsp;newline</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5957933">//&nbsp;public&nbsp;state&nbsp;-&nbsp;ok&nbsp;to&nbsp;modify</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5957965">ErrorCount</span>&nbsp;<span class="builtintype" id="5957976">int</span>&nbsp;<span class="comment" id="5957980">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="5958012">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5958015">const</span>&nbsp;<span class="ident" id="5958021">bom</span>&nbsp;<span class="op" id="5958025">=</span>&nbsp;<span class="num" id="5958027">0xFEFF</span>&nbsp;<span class="comment" id="5958034">//&nbsp;byte&nbsp;order&nbsp;mark,&nbsp;only&nbsp;permitted&nbsp;as&nbsp;very&nbsp;first&nbsp;character</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5958094">//&nbsp;Read&nbsp;the&nbsp;next&nbsp;Unicode&nbsp;char&nbsp;into&nbsp;s.ch.</span><br>
<span class="lineno"></span><span class="comment" id="5958135">//&nbsp;s.ch&nbsp;&lt;&nbsp;0&nbsp;means&nbsp;end-of-file.</span><br>
<span class="lineno">55</span><span class="comment" id="5958166">//</span><br>
<span class="lineno"></span><span class="keyword" id="5958169">func</span>&nbsp;<span class="op" id="5958174">(</span><span class="ident" id="5958175">s</span>&nbsp;<span class="op" id="5958177">*</span><span class="ident" id="5958178"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5958185">)</span>&nbsp;<span class="ident" id="5958187">next</span><span class="op" id="5958191">(</span><span class="op" id="5958192">)</span>&nbsp;<span class="op" id="5958194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5958197">if</span>&nbsp;<span class="ident" id="5958200"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958201">.</span><span class="ident" id="5958202">rdOffset</span>&nbsp;<span class="op" id="5958211">&lt;</span>&nbsp;<span class="builtinfunc" id="5958213">len</span><span class="op" id="5958216">(</span><span class="ident" id="5958217"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958218">.</span><span class="ident" id="5958219">src</span><span class="op" id="5958222">)</span>&nbsp;<span class="op" id="5958224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958228"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958229">.</span><span class="ident" id="5958230">offset</span>&nbsp;<span class="op" id="5958237">=</span>&nbsp;<span class="ident" id="5958239"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958240">.</span><span class="ident" id="5958241">rdOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5958252">if</span>&nbsp;<span class="ident" id="5958255"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958256">.</span><span class="ident" id="5958257">ch</span>&nbsp;<span class="op" id="5958260">==</span>&nbsp;<span class="string" id="5958263">&#39;\n&#39;</span>&nbsp;<span class="op" id="5958268">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958273"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958274">.</span><span class="ident" id="5958275">lineOffset</span>&nbsp;<span class="op" id="5958286">=</span>&nbsp;<span class="ident" id="5958288"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958289">.</span><span class="ident" id="5958290">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958300"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958301">.</span><span class="ident" id="5958302">file</span><span class="op" id="5958306">.</span><span class="ident" id="5958307">AddLine</span><span class="op" id="5958314">(</span><span class="ident" id="5958315"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958316">.</span><span class="ident" id="5958317">offset</span><span class="op" id="5958323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5958327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958331">r</span><span class="op" id="5958332">,</span>&nbsp;<span class="ident" id="5958334">w</span>&nbsp;<span class="op" id="5958336">:=</span>&nbsp;<span class="builtintype" id="5958339">rune</span><span class="op" id="5958343">(</span><span class="ident" id="5958344"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958345">.</span><span class="ident" id="5958346">src</span><span class="op" id="5958349">[</span><span class="ident" id="5958350"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958351">.</span><span class="ident" id="5958352">rdOffset</span><span class="op" id="5958360">]</span><span class="op" id="5958361">)</span><span class="op" id="5958362">,</span>&nbsp;<span class="num" id="5958364">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5958368">switch</span>&nbsp;<span class="op" id="5958375">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5958379">case</span>&nbsp;<span class="ident" id="5958384"><a href="/go/scanner/scanner.go.html#5958331">r</a></span>&nbsp;<span class="op" id="5958386">==</span>&nbsp;<span class="num" id="5958389">0</span><span class="op" id="5958390">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958395"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958396">.</span><span class="builtintype" id="5958397">error</span><span class="op" id="5958402">(</span><span class="ident" id="5958403"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958404">.</span><span class="ident" id="5958405">offset</span><span class="op" id="5958411">,</span>&nbsp;<span class="string" id="5958413">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="5958436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5958440">case</span>&nbsp;<span class="ident" id="5958445"><a href="/go/scanner/scanner.go.html#5958331">r</a></span>&nbsp;<span class="op" id="5958447">&gt;=</span>&nbsp;<span class="num" id="5958450">0x80</span><span class="op" id="5958454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5958459">//&nbsp;not&nbsp;ASCII</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958475"><a href="/go/scanner/scanner.go.html#5958331">r</a></span><span class="op" id="5958476">,</span>&nbsp;<span class="ident" id="5958478"><a href="/go/scanner/scanner.go.html#5958334">w</a></span>&nbsp;<span class="op" id="5958480">=</span>&nbsp;<span class="ident" id="5958482"><a href="/go/scanner/scanner.go.html#5956909">utf8</a></span><span class="op" id="5958486">.</span><span class="ident" id="5958487">DecodeRune</span><span class="op" id="5958497">(</span><span class="ident" id="5958498"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958499">.</span><span class="ident" id="5958500">src</span><span class="op" id="5958503">[</span><span class="ident" id="5958504"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958505">.</span><span class="ident" id="5958506">rdOffset</span><span class="op" id="5958514">:</span><span class="op" id="5958515">]</span><span class="op" id="5958516">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5958521">if</span>&nbsp;<span class="ident" id="5958524"><a href="/go/scanner/scanner.go.html#5958331">r</a></span>&nbsp;<span class="op" id="5958526">==</span>&nbsp;<span class="ident" id="5958529"><a href="/go/scanner/scanner.go.html#5956909">utf8</a></span><span class="op" id="5958533">.</span><span class="ident" id="5958534">RuneError</span>&nbsp;<span class="op" id="5958544">&amp;&amp;</span>&nbsp;<span class="ident" id="5958547"><a href="/go/scanner/scanner.go.html#5958334">w</a></span>&nbsp;<span class="op" id="5958549">==</span>&nbsp;<span class="num" id="5958552">1</span>&nbsp;<span class="op" id="5958554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958560"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958561">.</span><span class="builtintype" id="5958562">error</span><span class="op" id="5958567">(</span><span class="ident" id="5958568"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958569">.</span><span class="ident" id="5958570">offset</span><span class="op" id="5958576">,</span>&nbsp;<span class="string" id="5958578">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="5958602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5958607">}</span>&nbsp;<span class="keyword" id="5958609">else</span>&nbsp;<span class="keyword" id="5958614">if</span>&nbsp;<span class="ident" id="5958617"><a href="/go/scanner/scanner.go.html#5958331">r</a></span>&nbsp;<span class="op" id="5958619">==</span>&nbsp;<span class="ident" id="5958622"><a href="/go/scanner/scanner.go.html#5958021">bom</a></span>&nbsp;<span class="op" id="5958626">&amp;&amp;</span>&nbsp;<span class="ident" id="5958629"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958630">.</span><span class="ident" id="5958631">offset</span>&nbsp;<span class="op" id="5958638">&gt;</span>&nbsp;<span class="num" id="5958640">0</span>&nbsp;<span class="op" id="5958642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958648"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958649">.</span><span class="builtintype" id="5958650">error</span><span class="op" id="5958655">(</span><span class="ident" id="5958656"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958657">.</span><span class="ident" id="5958658">offset</span><span class="op" id="5958664">,</span>&nbsp;<span class="string" id="5958666">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="5958691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5958696">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5958700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958704"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958705">.</span><span class="ident" id="5958706">rdOffset</span>&nbsp;<span class="op" id="5958715">+=</span>&nbsp;<span class="ident" id="5958718"><a href="/go/scanner/scanner.go.html#5958334">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958722"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958723">.</span><span class="ident" id="5958724">ch</span>&nbsp;<span class="op" id="5958727">=</span>&nbsp;<span class="ident" id="5958729"><a href="/go/scanner/scanner.go.html#5958331">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5958732">}</span>&nbsp;<span class="keyword" id="5958734">else</span>&nbsp;<span class="op" id="5958739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958743"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958744">.</span><span class="ident" id="5958745">offset</span>&nbsp;<span class="op" id="5958752">=</span>&nbsp;<span class="builtinfunc" id="5958754">len</span><span class="op" id="5958757">(</span><span class="ident" id="5958758"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958759">.</span><span class="ident" id="5958760">src</span><span class="op" id="5958763">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5958767">if</span>&nbsp;<span class="ident" id="5958770"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958771">.</span><span class="ident" id="5958772">ch</span>&nbsp;<span class="op" id="5958775">==</span>&nbsp;<span class="string" id="5958778">&#39;\n&#39;</span>&nbsp;<span class="op" id="5958783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958788"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958789">.</span><span class="ident" id="5958790">lineOffset</span>&nbsp;<span class="op" id="5958801">=</span>&nbsp;<span class="ident" id="5958803"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958804">.</span><span class="ident" id="5958805">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958815"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958816">.</span><span class="ident" id="5958817">file</span><span class="op" id="5958821">.</span><span class="ident" id="5958822">AddLine</span><span class="op" id="5958829">(</span><span class="ident" id="5958830"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958831">.</span><span class="ident" id="5958832">offset</span><span class="op" id="5958838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5958842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958846"><a href="/go/scanner/scanner.go.html#5958175">s</a></span><span class="op" id="5958847">.</span><span class="ident" id="5958848">ch</span>&nbsp;<span class="op" id="5958851">=</span>&nbsp;<span class="op" id="5958853">-</span><span class="num" id="5958854">1</span>&nbsp;<span class="comment" id="5958856">//&nbsp;eof</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5958864">}</span><br>
<span class="lineno"></span><span class="op" id="5958866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5958869">//&nbsp;A&nbsp;mode&nbsp;value&nbsp;is&nbsp;a&nbsp;set&nbsp;of&nbsp;flags&nbsp;(or&nbsp;0).</span><br>
<span class="lineno"></span><span class="comment" id="5958911">//&nbsp;They&nbsp;control&nbsp;scanner&nbsp;behavior.</span><br>
<span class="lineno">90</span><span class="comment" id="5958945">//</span><br>
<span class="lineno"></span><span class="keyword" id="5958948">type</span>&nbsp;<span class="ident" id="5958953">Mode</span>&nbsp;<span class="builtintype" id="5958958">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5958964">const</span>&nbsp;<span class="op" id="5958970">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5958973">ScanComments</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958989"><a href="/go/scanner/scanner.go.html#5958953">Mode</a></span>&nbsp;<span class="op" id="5958994">=</span>&nbsp;<span class="num" id="5958996">1</span>&nbsp;<span class="op" id="5958998">&lt;&lt;</span>&nbsp;<span class="ident" id="5959001">iota</span>&nbsp;<span class="comment" id="5959006">//&nbsp;return&nbsp;comments&nbsp;as&nbsp;COMMENT&nbsp;tokens</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5959044">dontInsertSemis</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5959077">//&nbsp;do&nbsp;not&nbsp;automatically&nbsp;insert&nbsp;semicolons&nbsp;-&nbsp;for&nbsp;testing&nbsp;only</span><br>
<span class="lineno"></span><span class="op" id="5959138">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5959141">//&nbsp;Init&nbsp;prepares&nbsp;the&nbsp;scanner&nbsp;s&nbsp;to&nbsp;tokenize&nbsp;the&nbsp;text&nbsp;src&nbsp;by&nbsp;setting&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5959212">//&nbsp;scanner&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;src.&nbsp;The&nbsp;scanner&nbsp;uses&nbsp;the&nbsp;file&nbsp;set&nbsp;file</span><br>
<span class="lineno">100</span><span class="comment" id="5959283">//&nbsp;for&nbsp;position&nbsp;information&nbsp;and&nbsp;it&nbsp;adds&nbsp;line&nbsp;information&nbsp;for&nbsp;each&nbsp;line.</span><br>
<span class="lineno"></span><span class="comment" id="5959355">//&nbsp;It&nbsp;is&nbsp;ok&nbsp;to&nbsp;re-use&nbsp;the&nbsp;same&nbsp;file&nbsp;when&nbsp;re-scanning&nbsp;the&nbsp;same&nbsp;file&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="5959425">//&nbsp;line&nbsp;information&nbsp;which&nbsp;is&nbsp;already&nbsp;present&nbsp;is&nbsp;ignored.&nbsp;Init&nbsp;causes&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5959496">//&nbsp;panic&nbsp;if&nbsp;the&nbsp;file&nbsp;size&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;src&nbsp;size.</span><br>
<span class="lineno"></span><span class="comment" id="5959551">//</span><br>
<span class="lineno">105</span><span class="comment" id="5959554">//&nbsp;Calls&nbsp;to&nbsp;Scan&nbsp;will&nbsp;invoke&nbsp;the&nbsp;error&nbsp;handler&nbsp;err&nbsp;if&nbsp;they&nbsp;encounter&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5959625">//&nbsp;syntax&nbsp;error&nbsp;and&nbsp;err&nbsp;is&nbsp;not&nbsp;nil.&nbsp;Also,&nbsp;for&nbsp;each&nbsp;error&nbsp;encountered,</span><br>
<span class="lineno"></span><span class="comment" id="5959695">//&nbsp;the&nbsp;Scanner&nbsp;field&nbsp;ErrorCount&nbsp;is&nbsp;incremented&nbsp;by&nbsp;one.&nbsp;The&nbsp;mode&nbsp;parameter</span><br>
<span class="lineno"></span><span class="comment" id="5959769">//&nbsp;determines&nbsp;how&nbsp;comments&nbsp;are&nbsp;handled.</span><br>
<span class="lineno"></span><span class="comment" id="5959809">//</span><br>
<span class="lineno">110</span><span class="comment" id="5959812">//&nbsp;Note&nbsp;that&nbsp;Init&nbsp;may&nbsp;call&nbsp;err&nbsp;if&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;in&nbsp;the&nbsp;first&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="5959887">//&nbsp;of&nbsp;the&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="5959903">//</span><br>
<span class="lineno"></span><span class="keyword" id="5959906">func</span>&nbsp;<span class="op" id="5959911">(</span><span class="ident" id="5959912">s</span>&nbsp;<span class="op" id="5959914">*</span><span class="ident" id="5959915"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5959922">)</span>&nbsp;<span class="ident" id="5959924">Init</span><span class="op" id="5959928">(</span><span class="ident" id="5959929">file</span>&nbsp;<span class="op" id="5959934">*</span><span class="ident" id="5959935"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5959940">.</span><span class="ident" id="5959941">File</span><span class="op" id="5959945">,</span>&nbsp;<span class="ident" id="5959947">src</span>&nbsp;<span class="op" id="5959951">[</span><span class="op" id="5959952">]</span><span class="builtintype" id="5959953">byte</span><span class="op" id="5959957">,</span>&nbsp;<span class="ident" id="5959959">err</span>&nbsp;<span class="ident" id="5959963"><a href="/go/scanner/scanner.go.html#5957179">ErrorHandler</a></span><span class="op" id="5959975">,</span>&nbsp;<span class="ident" id="5959977">mode</span>&nbsp;<span class="ident" id="5959982"><a href="/go/scanner/scanner.go.html#5958953">Mode</a></span><span class="op" id="5959986">)</span>&nbsp;<span class="op" id="5959988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5959991">//&nbsp;Explicitly&nbsp;initialize&nbsp;all&nbsp;fields&nbsp;since&nbsp;a&nbsp;scanner&nbsp;may&nbsp;be&nbsp;reused.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960059">if</span>&nbsp;<span class="ident" id="5960062"><a href="/go/scanner/scanner.go.html#5959929">file</a></span><span class="op" id="5960066">.</span><span class="ident" id="5960067">Size</span><span class="op" id="5960071">(</span><span class="op" id="5960072">)</span>&nbsp;<span class="op" id="5960074">!=</span>&nbsp;<span class="builtinfunc" id="5960077">len</span><span class="op" id="5960080">(</span><span class="ident" id="5960081"><a href="/go/scanner/scanner.go.html#5959947">src</a></span><span class="op" id="5960084">)</span>&nbsp;<span class="op" id="5960086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5960090">panic</span><span class="op" id="5960095">(</span><span class="ident" id="5960096"><a href="/go/scanner/scanner.go.html#5956851">fmt</a></span><span class="op" id="5960099">.</span><span class="ident" id="5960100">Sprintf</span><span class="op" id="5960107">(</span><span class="string" id="5960108">&#34;file&nbsp;size&nbsp;(%d)&nbsp;does&nbsp;not&nbsp;match&nbsp;src&nbsp;len&nbsp;(%d)&#34;</span><span class="op" id="5960152">,</span>&nbsp;<span class="ident" id="5960154"><a href="/go/scanner/scanner.go.html#5959929">file</a></span><span class="op" id="5960158">.</span><span class="ident" id="5960159">Size</span><span class="op" id="5960163">(</span><span class="op" id="5960164">)</span><span class="op" id="5960165">,</span>&nbsp;<span class="builtinfunc" id="5960167">len</span><span class="op" id="5960170">(</span><span class="ident" id="5960171"><a href="/go/scanner/scanner.go.html#5959947">src</a></span><span class="op" id="5960174">)</span><span class="op" id="5960175">)</span><span class="op" id="5960176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960182"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960183">.</span><span class="ident" id="5960184">file</span>&nbsp;<span class="op" id="5960189">=</span>&nbsp;<span class="ident" id="5960191"><a href="/go/scanner/scanner.go.html#5959929">file</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960197"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960198">.</span><span class="ident" id="5960199">dir</span><span class="op" id="5960202">,</span>&nbsp;<span class="ident" id="5960204">_</span>&nbsp;<span class="op" id="5960206">=</span>&nbsp;<span class="ident" id="5960208"><a href="/go/scanner/scanner.go.html#5956870">filepath</a></span><span class="op" id="5960216">.</span><span class="ident" id="5960217">Split</span><span class="op" id="5960222">(</span><span class="ident" id="5960223"><a href="/go/scanner/scanner.go.html#5959929">file</a></span><span class="op" id="5960227">.</span><span class="ident" id="5960228">Name</span><span class="op" id="5960232">(</span><span class="op" id="5960233">)</span><span class="op" id="5960234">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960237"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960238">.</span><span class="ident" id="5960239">src</span>&nbsp;<span class="op" id="5960243">=</span>&nbsp;<span class="ident" id="5960245"><a href="/go/scanner/scanner.go.html#5959947">src</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960250"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960251">.</span><span class="ident" id="5960252">err</span>&nbsp;<span class="op" id="5960256">=</span>&nbsp;<span class="ident" id="5960258"><a href="/go/scanner/scanner.go.html#5959959">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960263"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960264">.</span><span class="ident" id="5960265">mode</span>&nbsp;<span class="op" id="5960270">=</span>&nbsp;<span class="ident" id="5960272"><a href="/go/scanner/scanner.go.html#5959977">mode</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960279"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960280">.</span><span class="ident" id="5960281">ch</span>&nbsp;<span class="op" id="5960284">=</span>&nbsp;<span class="string" id="5960286">&#39;&nbsp;&#39;</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960291"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960292">.</span><span class="ident" id="5960293">offset</span>&nbsp;<span class="op" id="5960300">=</span>&nbsp;<span class="num" id="5960302">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960305"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960306">.</span><span class="ident" id="5960307">rdOffset</span>&nbsp;<span class="op" id="5960316">=</span>&nbsp;<span class="num" id="5960318">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960321"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960322">.</span><span class="ident" id="5960323">lineOffset</span>&nbsp;<span class="op" id="5960334">=</span>&nbsp;<span class="num" id="5960336">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960339"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960340">.</span><span class="ident" id="5960341">insertSemi</span>&nbsp;<span class="op" id="5960352">=</span>&nbsp;<span class="ident" id="5960354">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960361"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960362">.</span><span class="ident" id="5960363">ErrorCount</span>&nbsp;<span class="op" id="5960374">=</span>&nbsp;<span class="num" id="5960376">0</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960380"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960381">.</span><span class="ident" id="5960382">next</span><span class="op" id="5960386">(</span><span class="op" id="5960387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960390">if</span>&nbsp;<span class="ident" id="5960393"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960394">.</span><span class="ident" id="5960395">ch</span>&nbsp;<span class="op" id="5960398">==</span>&nbsp;<span class="ident" id="5960401"><a href="/go/scanner/scanner.go.html#5958021">bom</a></span>&nbsp;<span class="op" id="5960405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960409"><a href="/go/scanner/scanner.go.html#5959912">s</a></span><span class="op" id="5960410">.</span><span class="ident" id="5960411">next</span><span class="op" id="5960415">(</span><span class="op" id="5960416">)</span>&nbsp;<span class="comment" id="5960418">//&nbsp;ignore&nbsp;BOM&nbsp;at&nbsp;file&nbsp;beginning</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960451">}</span><br>
<span class="lineno">135</span><span class="op" id="5960453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5960456">func</span>&nbsp;<span class="op" id="5960461">(</span><span class="ident" id="5960462">s</span>&nbsp;<span class="op" id="5960464">*</span><span class="ident" id="5960465"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5960472">)</span>&nbsp;<span class="builtintype" id="5960474">error</span><span class="op" id="5960479">(</span><span class="ident" id="5960480">offs</span>&nbsp;<span class="builtintype" id="5960485">int</span><span class="op" id="5960488">,</span>&nbsp;<span class="ident" id="5960490">msg</span>&nbsp;<span class="builtintype" id="5960494">string</span><span class="op" id="5960500">)</span>&nbsp;<span class="op" id="5960502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960505">if</span>&nbsp;<span class="ident" id="5960508"><a href="/go/scanner/scanner.go.html#5960462">s</a></span><span class="op" id="5960509">.</span><span class="ident" id="5960510">err</span>&nbsp;<span class="op" id="5960514">!=</span>&nbsp;<span class="ident" id="5960517">nil</span>&nbsp;<span class="op" id="5960521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960525"><a href="/go/scanner/scanner.go.html#5960462">s</a></span><span class="op" id="5960526">.</span><span class="ident" id="5960527">err</span><span class="op" id="5960530">(</span><span class="ident" id="5960531"><a href="/go/scanner/scanner.go.html#5960462">s</a></span><span class="op" id="5960532">.</span><span class="ident" id="5960533">file</span><span class="op" id="5960537">.</span><span class="ident" id="5960538">Position</span><span class="op" id="5960546">(</span><span class="ident" id="5960547"><a href="/go/scanner/scanner.go.html#5960462">s</a></span><span class="op" id="5960548">.</span><span class="ident" id="5960549">file</span><span class="op" id="5960553">.</span><span class="ident" id="5960554">Pos</span><span class="op" id="5960557">(</span><span class="ident" id="5960558"><a href="/go/scanner/scanner.go.html#5960480">offs</a></span><span class="op" id="5960562">)</span><span class="op" id="5960563">)</span><span class="op" id="5960564">,</span>&nbsp;<span class="ident" id="5960566"><a href="/go/scanner/scanner.go.html#5960490">msg</a></span><span class="op" id="5960569">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960575"><a href="/go/scanner/scanner.go.html#5960462">s</a></span><span class="op" id="5960576">.</span><span class="ident" id="5960577">ErrorCount</span><span class="op" id="5960587">++</span><br>
<span class="lineno"></span><span class="op" id="5960590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5960593">var</span>&nbsp;<span class="ident" id="5960597">prefix</span>&nbsp;<span class="op" id="5960604">=</span>&nbsp;<span class="op" id="5960606">[</span><span class="op" id="5960607">]</span><span class="builtintype" id="5960608">byte</span><span class="op" id="5960612">(</span><span class="string" id="5960613">&#34;//line&nbsp;&#34;</span><span class="op" id="5960622">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="keyword" id="5960625">func</span>&nbsp;<span class="op" id="5960630">(</span><span class="ident" id="5960631">s</span>&nbsp;<span class="op" id="5960633">*</span><span class="ident" id="5960634"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5960641">)</span>&nbsp;<span class="ident" id="5960643">interpretLineComment</span><span class="op" id="5960663">(</span><span class="ident" id="5960664">text</span>&nbsp;<span class="op" id="5960669">[</span><span class="op" id="5960670">]</span><span class="builtintype" id="5960671">byte</span><span class="op" id="5960675">)</span>&nbsp;<span class="op" id="5960677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960680">if</span>&nbsp;<span class="ident" id="5960683"><a href="/go/scanner/scanner.go.html#5956842">bytes</a></span><span class="op" id="5960688">.</span><span class="ident" id="5960689">HasPrefix</span><span class="op" id="5960698">(</span><span class="ident" id="5960699"><a href="/go/scanner/scanner.go.html#5960664">text</a></span><span class="op" id="5960703">,</span>&nbsp;<span class="ident" id="5960705"><a href="/go/scanner/scanner.go.html#5960597">prefix</a></span><span class="op" id="5960711">)</span>&nbsp;<span class="op" id="5960713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5960717">//&nbsp;get&nbsp;filename&nbsp;and&nbsp;line&nbsp;number,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960759">if</span>&nbsp;<span class="ident" id="5960762">i</span>&nbsp;<span class="op" id="5960764">:=</span>&nbsp;<span class="ident" id="5960767"><a href="/go/scanner/scanner.go.html#5956842">bytes</a></span><span class="op" id="5960772">.</span><span class="ident" id="5960773">LastIndex</span><span class="op" id="5960782">(</span><span class="ident" id="5960783"><a href="/go/scanner/scanner.go.html#5960664">text</a></span><span class="op" id="5960787">,</span>&nbsp;<span class="op" id="5960789">[</span><span class="op" id="5960790">]</span><span class="builtintype" id="5960791">byte</span><span class="op" id="5960795">{</span><span class="string" id="5960796">&#39;:&#39;</span><span class="op" id="5960799">}</span><span class="op" id="5960800">)</span><span class="op" id="5960801">;</span>&nbsp;<span class="ident" id="5960803"><a href="/go/scanner/scanner.go.html#5960762">i</a></span>&nbsp;<span class="op" id="5960805">&gt;</span>&nbsp;<span class="num" id="5960807">0</span>&nbsp;<span class="op" id="5960809">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960814">if</span>&nbsp;<span class="ident" id="5960817">line</span><span class="op" id="5960821">,</span>&nbsp;<span class="ident" id="5960823">err</span>&nbsp;<span class="op" id="5960827">:=</span>&nbsp;<span class="ident" id="5960830"><a href="/go/scanner/scanner.go.html#5956887">strconv</a></span><span class="op" id="5960837">.</span><span class="ident" id="5960838">Atoi</span><span class="op" id="5960842">(</span><span class="builtintype" id="5960843">string</span><span class="op" id="5960849">(</span><span class="ident" id="5960850"><a href="/go/scanner/scanner.go.html#5960664">text</a></span><span class="op" id="5960854">[</span><span class="ident" id="5960855"><a href="/go/scanner/scanner.go.html#5960762">i</a></span><span class="op" id="5960856">+</span><span class="num" id="5960857">1</span><span class="op" id="5960858">:</span><span class="op" id="5960859">]</span><span class="op" id="5960860">)</span><span class="op" id="5960861">)</span><span class="op" id="5960862">;</span>&nbsp;<span class="ident" id="5960864"><a href="/go/scanner/scanner.go.html#5960823">err</a></span>&nbsp;<span class="op" id="5960868">==</span>&nbsp;<span class="ident" id="5960871">nil</span>&nbsp;<span class="op" id="5960875">&amp;&amp;</span>&nbsp;<span class="ident" id="5960878"><a href="/go/scanner/scanner.go.html#5960817">line</a></span>&nbsp;<span class="op" id="5960883">&gt;</span>&nbsp;<span class="num" id="5960885">0</span>&nbsp;<span class="op" id="5960887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5960893">//&nbsp;valid&nbsp;//line&nbsp;filename:line&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960935">filename</span>&nbsp;<span class="op" id="5960944">:=</span>&nbsp;<span class="builtintype" id="5960947">string</span><span class="op" id="5960953">(</span><span class="ident" id="5960954"><a href="/go/scanner/scanner.go.html#5956842">bytes</a></span><span class="op" id="5960959">.</span><span class="ident" id="5960960">TrimSpace</span><span class="op" id="5960969">(</span><span class="ident" id="5960970"><a href="/go/scanner/scanner.go.html#5960664">text</a></span><span class="op" id="5960974">[</span><span class="builtinfunc" id="5960975">len</span><span class="op" id="5960978">(</span><span class="ident" id="5960979"><a href="/go/scanner/scanner.go.html#5960597">prefix</a></span><span class="op" id="5960985">)</span><span class="op" id="5960986">:</span><span class="ident" id="5960987"><a href="/go/scanner/scanner.go.html#5960762">i</a></span><span class="op" id="5960988">]</span><span class="op" id="5960989">)</span><span class="op" id="5960990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960996">if</span>&nbsp;<span class="ident" id="5960999"><a href="/go/scanner/scanner.go.html#5960935">filename</a></span>&nbsp;<span class="op" id="5961008">!=</span>&nbsp;<span class="string" id="5961011">&#34;&#34;</span>&nbsp;<span class="op" id="5961014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961021"><a href="/go/scanner/scanner.go.html#5960935">filename</a></span>&nbsp;<span class="op" id="5961030">=</span>&nbsp;<span class="ident" id="5961032"><a href="/go/scanner/scanner.go.html#5956870">filepath</a></span><span class="op" id="5961040">.</span><span class="ident" id="5961041">Clean</span><span class="op" id="5961046">(</span><span class="ident" id="5961047"><a href="/go/scanner/scanner.go.html#5960935">filename</a></span><span class="op" id="5961055">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961062">if</span>&nbsp;<span class="op" id="5961065">!</span><span class="ident" id="5961066"><a href="/go/scanner/scanner.go.html#5956870">filepath</a></span><span class="op" id="5961074">.</span><span class="ident" id="5961075">IsAbs</span><span class="op" id="5961080">(</span><span class="ident" id="5961081"><a href="/go/scanner/scanner.go.html#5960935">filename</a></span><span class="op" id="5961089">)</span>&nbsp;<span class="op" id="5961091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961099">//&nbsp;make&nbsp;filename&nbsp;relative&nbsp;to&nbsp;current&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961152"><a href="/go/scanner/scanner.go.html#5960935">filename</a></span>&nbsp;<span class="op" id="5961161">=</span>&nbsp;<span class="ident" id="5961163"><a href="/go/scanner/scanner.go.html#5956870">filepath</a></span><span class="op" id="5961171">.</span><span class="ident" id="5961172">Join</span><span class="op" id="5961176">(</span><span class="ident" id="5961177"><a href="/go/scanner/scanner.go.html#5960631">s</a></span><span class="op" id="5961178">.</span><span class="ident" id="5961179">dir</span><span class="op" id="5961182">,</span>&nbsp;<span class="ident" id="5961184"><a href="/go/scanner/scanner.go.html#5960935">filename</a></span><span class="op" id="5961192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961205">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961211">//&nbsp;update&nbsp;scanner&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961242"><a href="/go/scanner/scanner.go.html#5960631">s</a></span><span class="op" id="5961243">.</span><span class="ident" id="5961244">file</span><span class="op" id="5961248">.</span><span class="ident" id="5961249">AddLineInfo</span><span class="op" id="5961260">(</span><span class="ident" id="5961261"><a href="/go/scanner/scanner.go.html#5960631">s</a></span><span class="op" id="5961262">.</span><span class="ident" id="5961263">lineOffset</span><span class="op" id="5961273">+</span><span class="builtinfunc" id="5961274">len</span><span class="op" id="5961277">(</span><span class="ident" id="5961278"><a href="/go/scanner/scanner.go.html#5960664">text</a></span><span class="op" id="5961282">)</span><span class="op" id="5961283">+</span><span class="num" id="5961284">1</span><span class="op" id="5961285">,</span>&nbsp;<span class="ident" id="5961287"><a href="/go/scanner/scanner.go.html#5960935">filename</a></span><span class="op" id="5961295">,</span>&nbsp;<span class="ident" id="5961297"><a href="/go/scanner/scanner.go.html#5960817">line</a></span><span class="op" id="5961301">)</span>&nbsp;<span class="comment" id="5961303">//&nbsp;+len(text)+1&nbsp;since&nbsp;comment&nbsp;applies&nbsp;to&nbsp;next&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961364">}</span><br>
<span class="lineno">165</span><span class="op" id="5961366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5961369">func</span>&nbsp;<span class="op" id="5961374">(</span><span class="ident" id="5961375">s</span>&nbsp;<span class="op" id="5961377">*</span><span class="ident" id="5961378"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5961385">)</span>&nbsp;<span class="ident" id="5961387">scanComment</span><span class="op" id="5961398">(</span><span class="op" id="5961399">)</span>&nbsp;<span class="builtintype" id="5961401">string</span>&nbsp;<span class="op" id="5961408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961411">//&nbsp;initial&nbsp;&#39;/&#39;&nbsp;already&nbsp;consumed;&nbsp;s.ch&nbsp;==&nbsp;&#39;/&#39;&nbsp;||&nbsp;s.ch&nbsp;==&nbsp;&#39;*&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961472">offs</span>&nbsp;<span class="op" id="5961477">:=</span>&nbsp;<span class="ident" id="5961480"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961481">.</span><span class="ident" id="5961482">offset</span>&nbsp;<span class="op" id="5961489">-</span>&nbsp;<span class="num" id="5961491">1</span>&nbsp;<span class="comment" id="5961493">//&nbsp;position&nbsp;of&nbsp;initial&nbsp;&#39;/&#39;</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961521">hasCR</span>&nbsp;<span class="op" id="5961527">:=</span>&nbsp;<span class="ident" id="5961530">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961538">if</span>&nbsp;<span class="ident" id="5961541"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961542">.</span><span class="ident" id="5961543">ch</span>&nbsp;<span class="op" id="5961546">==</span>&nbsp;<span class="string" id="5961549">&#39;/&#39;</span>&nbsp;<span class="op" id="5961553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961557">//-style&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961576"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961577">.</span><span class="ident" id="5961578">next</span><span class="op" id="5961582">(</span><span class="op" id="5961583">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961587">for</span>&nbsp;<span class="ident" id="5961591"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961592">.</span><span class="ident" id="5961593">ch</span>&nbsp;<span class="op" id="5961596">!=</span>&nbsp;<span class="string" id="5961599">&#39;\n&#39;</span>&nbsp;<span class="op" id="5961604">&amp;&amp;</span>&nbsp;<span class="ident" id="5961607"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961608">.</span><span class="ident" id="5961609">ch</span>&nbsp;<span class="op" id="5961612">&gt;=</span>&nbsp;<span class="num" id="5961615">0</span>&nbsp;<span class="op" id="5961617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961622">if</span>&nbsp;<span class="ident" id="5961625"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961626">.</span><span class="ident" id="5961627">ch</span>&nbsp;<span class="op" id="5961630">==</span>&nbsp;<span class="string" id="5961633">&#39;\r&#39;</span>&nbsp;<span class="op" id="5961638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961644"><a href="/go/scanner/scanner.go.html#5961521">hasCR</a></span>&nbsp;<span class="op" id="5961650">=</span>&nbsp;<span class="ident" id="5961652">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961665"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961666">.</span><span class="ident" id="5961667">next</span><span class="op" id="5961671">(</span><span class="op" id="5961672">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961680">if</span>&nbsp;<span class="ident" id="5961683"><a href="/go/scanner/scanner.go.html#5961472">offs</a></span>&nbsp;<span class="op" id="5961688">==</span>&nbsp;<span class="ident" id="5961691"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961692">.</span><span class="ident" id="5961693">lineOffset</span>&nbsp;<span class="op" id="5961704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961709">//&nbsp;comment&nbsp;starts&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961767"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961768">.</span><span class="ident" id="5961769">interpretLineComment</span><span class="op" id="5961789">(</span><span class="ident" id="5961790"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961791">.</span><span class="ident" id="5961792">src</span><span class="op" id="5961795">[</span><span class="ident" id="5961796"><a href="/go/scanner/scanner.go.html#5961472">offs</a></span><span class="op" id="5961800">:</span><span class="ident" id="5961801"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961802">.</span><span class="ident" id="5961803">offset</span><span class="op" id="5961809">]</span><span class="op" id="5961810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961814">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961818">goto</span>&nbsp;<span class="ident" id="5961823">exit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961833">/*-style&nbsp;comment&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961854"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961855">.</span><span class="ident" id="5961856">next</span><span class="op" id="5961860">(</span><span class="op" id="5961861">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961864">for</span>&nbsp;<span class="ident" id="5961868"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961869">.</span><span class="ident" id="5961870">ch</span>&nbsp;<span class="op" id="5961873">&gt;=</span>&nbsp;<span class="num" id="5961876">0</span>&nbsp;<span class="op" id="5961878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961882">ch</span>&nbsp;<span class="op" id="5961885">:=</span>&nbsp;<span class="ident" id="5961888"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961889">.</span><span class="ident" id="5961890">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961895">if</span>&nbsp;<span class="ident" id="5961898"><a href="/go/scanner/scanner.go.html#5961882">ch</a></span>&nbsp;<span class="op" id="5961901">==</span>&nbsp;<span class="string" id="5961904">&#39;\r&#39;</span>&nbsp;<span class="op" id="5961909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961914"><a href="/go/scanner/scanner.go.html#5961521">hasCR</a></span>&nbsp;<span class="op" id="5961920">=</span>&nbsp;<span class="ident" id="5961922">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961929">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961933"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961934">.</span><span class="ident" id="5961935">next</span><span class="op" id="5961939">(</span><span class="op" id="5961940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961944">if</span>&nbsp;<span class="ident" id="5961947"><a href="/go/scanner/scanner.go.html#5961882">ch</a></span>&nbsp;<span class="op" id="5961950">==</span>&nbsp;<span class="string" id="5961953">&#39;*&#39;</span>&nbsp;<span class="op" id="5961957">&amp;&amp;</span>&nbsp;<span class="ident" id="5961960"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961961">.</span><span class="ident" id="5961962">ch</span>&nbsp;<span class="op" id="5961965">==</span>&nbsp;<span class="string" id="5961968">&#39;/&#39;</span>&nbsp;<span class="op" id="5961972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961977"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5961978">.</span><span class="ident" id="5961979">next</span><span class="op" id="5961983">(</span><span class="op" id="5961984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961989">goto</span>&nbsp;<span class="ident" id="5961994">exit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962001">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962008"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5962009">.</span><span class="builtintype" id="5962010">error</span><span class="op" id="5962015">(</span><span class="ident" id="5962016"><a href="/go/scanner/scanner.go.html#5961472">offs</a></span><span class="op" id="5962020">,</span>&nbsp;<span class="string" id="5962022">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="5962046">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="5962049">exit</span><span class="op" id="5962053">:</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962056">lit</span>&nbsp;<span class="op" id="5962060">:=</span>&nbsp;<span class="ident" id="5962063"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5962064">.</span><span class="ident" id="5962065">src</span><span class="op" id="5962068">[</span><span class="ident" id="5962069"><a href="/go/scanner/scanner.go.html#5961472">offs</a></span><span class="op" id="5962073">:</span><span class="ident" id="5962074"><a href="/go/scanner/scanner.go.html#5961375">s</a></span><span class="op" id="5962075">.</span><span class="ident" id="5962076">offset</span><span class="op" id="5962082">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962085">if</span>&nbsp;<span class="ident" id="5962088"><a href="/go/scanner/scanner.go.html#5961521">hasCR</a></span>&nbsp;<span class="op" id="5962094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962098"><a href="/go/scanner/scanner.go.html#5962056">lit</a></span>&nbsp;<span class="op" id="5962102">=</span>&nbsp;<span class="ident" id="5962104"><a href="/go/scanner/scanner.go.html#5967221">stripCR</a></span><span class="op" id="5962111">(</span><span class="ident" id="5962112"><a href="/go/scanner/scanner.go.html#5962056">lit</a></span><span class="op" id="5962115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962122">return</span>&nbsp;<span class="builtintype" id="5962129">string</span><span class="op" id="5962135">(</span><span class="ident" id="5962136"><a href="/go/scanner/scanner.go.html#5962056">lit</a></span><span class="op" id="5962139">)</span><br>
<span class="lineno"></span><span class="op" id="5962141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5962144">func</span>&nbsp;<span class="op" id="5962149">(</span><span class="ident" id="5962150">s</span>&nbsp;<span class="op" id="5962152">*</span><span class="ident" id="5962153"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5962160">)</span>&nbsp;<span class="ident" id="5962162">findLineEnd</span><span class="op" id="5962173">(</span><span class="op" id="5962174">)</span>&nbsp;<span class="builtintype" id="5962176">bool</span>&nbsp;<span class="op" id="5962181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5962184">//&nbsp;initial&nbsp;&#39;/&#39;&nbsp;already&nbsp;consumed</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962218">defer</span>&nbsp;<span class="keyword" id="5962224">func</span><span class="op" id="5962228">(</span><span class="ident" id="5962229">offs</span>&nbsp;<span class="builtintype" id="5962234">int</span><span class="op" id="5962237">)</span>&nbsp;<span class="op" id="5962239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5962243">//&nbsp;reset&nbsp;scanner&nbsp;state&nbsp;to&nbsp;where&nbsp;it&nbsp;was&nbsp;upon&nbsp;calling&nbsp;findLineEnd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962309"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962310">.</span><span class="ident" id="5962311">ch</span>&nbsp;<span class="op" id="5962314">=</span>&nbsp;<span class="string" id="5962316">&#39;/&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962322"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962323">.</span><span class="ident" id="5962324">offset</span>&nbsp;<span class="op" id="5962331">=</span>&nbsp;<span class="ident" id="5962333"><a href="/go/scanner/scanner.go.html#5962229">offs</a></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962340"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962341">.</span><span class="ident" id="5962342">rdOffset</span>&nbsp;<span class="op" id="5962351">=</span>&nbsp;<span class="ident" id="5962353"><a href="/go/scanner/scanner.go.html#5962229">offs</a></span>&nbsp;<span class="op" id="5962358">+</span>&nbsp;<span class="num" id="5962360">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962364"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962365">.</span><span class="ident" id="5962366">next</span><span class="op" id="5962370">(</span><span class="op" id="5962371">)</span>&nbsp;<span class="comment" id="5962373">//&nbsp;consume&nbsp;initial&nbsp;&#39;/&#39;&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962403">}</span><span class="op" id="5962404">(</span><span class="ident" id="5962405"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962406">.</span><span class="ident" id="5962407">offset</span>&nbsp;<span class="op" id="5962414">-</span>&nbsp;<span class="num" id="5962416">1</span><span class="op" id="5962417">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5962421">//&nbsp;read&nbsp;ahead&nbsp;until&nbsp;a&nbsp;newline,&nbsp;EOF,&nbsp;or&nbsp;non-comment&nbsp;token&nbsp;is&nbsp;found</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962488">for</span>&nbsp;<span class="ident" id="5962492"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962493">.</span><span class="ident" id="5962494">ch</span>&nbsp;<span class="op" id="5962497">==</span>&nbsp;<span class="string" id="5962500">&#39;/&#39;</span>&nbsp;<span class="op" id="5962504">||</span>&nbsp;<span class="ident" id="5962507"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962508">.</span><span class="ident" id="5962509">ch</span>&nbsp;<span class="op" id="5962512">==</span>&nbsp;<span class="string" id="5962515">&#39;*&#39;</span>&nbsp;<span class="op" id="5962519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962523">if</span>&nbsp;<span class="ident" id="5962526"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962527">.</span><span class="ident" id="5962528">ch</span>&nbsp;<span class="op" id="5962531">==</span>&nbsp;<span class="string" id="5962534">&#39;/&#39;</span>&nbsp;<span class="op" id="5962538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5962543">//-style&nbsp;comment&nbsp;always&nbsp;contains&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962589">return</span>&nbsp;<span class="ident" id="5962596">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962603">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5962607">/*-style&nbsp;comment:&nbsp;look&nbsp;for&nbsp;newline&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962647"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962648">.</span><span class="ident" id="5962649">next</span><span class="op" id="5962653">(</span><span class="op" id="5962654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962658">for</span>&nbsp;<span class="ident" id="5962662"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962663">.</span><span class="ident" id="5962664">ch</span>&nbsp;<span class="op" id="5962667">&gt;=</span>&nbsp;<span class="num" id="5962670">0</span>&nbsp;<span class="op" id="5962672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962677">ch</span>&nbsp;<span class="op" id="5962680">:=</span>&nbsp;<span class="ident" id="5962683"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962684">.</span><span class="ident" id="5962685">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962691">if</span>&nbsp;<span class="ident" id="5962694"><a href="/go/scanner/scanner.go.html#5962677">ch</a></span>&nbsp;<span class="op" id="5962697">==</span>&nbsp;<span class="string" id="5962700">&#39;\n&#39;</span>&nbsp;<span class="op" id="5962705">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962711">return</span>&nbsp;<span class="ident" id="5962718">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962731"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962732">.</span><span class="ident" id="5962733">next</span><span class="op" id="5962737">(</span><span class="op" id="5962738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962743">if</span>&nbsp;<span class="ident" id="5962746"><a href="/go/scanner/scanner.go.html#5962677">ch</a></span>&nbsp;<span class="op" id="5962749">==</span>&nbsp;<span class="string" id="5962752">&#39;*&#39;</span>&nbsp;<span class="op" id="5962756">&amp;&amp;</span>&nbsp;<span class="ident" id="5962759"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962760">.</span><span class="ident" id="5962761">ch</span>&nbsp;<span class="op" id="5962764">==</span>&nbsp;<span class="string" id="5962767">&#39;/&#39;</span>&nbsp;<span class="op" id="5962771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962777"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962778">.</span><span class="ident" id="5962779">next</span><span class="op" id="5962783">(</span><span class="op" id="5962784">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962790">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962807"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962808">.</span><span class="ident" id="5962809">skipWhitespace</span><span class="op" id="5962823">(</span><span class="op" id="5962824">)</span>&nbsp;<span class="comment" id="5962826">//&nbsp;s.insertSemi&nbsp;is&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962851">if</span>&nbsp;<span class="ident" id="5962854"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962855">.</span><span class="ident" id="5962856">ch</span>&nbsp;<span class="op" id="5962859">&lt;</span>&nbsp;<span class="num" id="5962861">0</span>&nbsp;<span class="op" id="5962863">||</span>&nbsp;<span class="ident" id="5962866"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962867">.</span><span class="ident" id="5962868">ch</span>&nbsp;<span class="op" id="5962871">==</span>&nbsp;<span class="string" id="5962874">&#39;\n&#39;</span>&nbsp;<span class="op" id="5962879">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962884">return</span>&nbsp;<span class="ident" id="5962891">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962902">if</span>&nbsp;<span class="ident" id="5962905"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962906">.</span><span class="ident" id="5962907">ch</span>&nbsp;<span class="op" id="5962910">!=</span>&nbsp;<span class="string" id="5962913">&#39;/&#39;</span>&nbsp;<span class="op" id="5962917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5962922">//&nbsp;non-comment&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962946">return</span>&nbsp;<span class="ident" id="5962953">false</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5962965"><a href="/go/scanner/scanner.go.html#5962150">s</a></span><span class="op" id="5962966">.</span><span class="ident" id="5962967">next</span><span class="op" id="5962971">(</span><span class="op" id="5962972">)</span>&nbsp;<span class="comment" id="5962974">//&nbsp;consume&nbsp;&#39;/&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5962990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5962994">return</span>&nbsp;<span class="ident" id="5963001">false</span><br>
<span class="lineno">255</span><span class="op" id="5963007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5963010">func</span>&nbsp;<span class="ident" id="5963015">isLetter</span><span class="op" id="5963023">(</span><span class="ident" id="5963024">ch</span>&nbsp;<span class="builtintype" id="5963027">rune</span><span class="op" id="5963031">)</span>&nbsp;<span class="builtintype" id="5963033">bool</span>&nbsp;<span class="op" id="5963038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963041">return</span>&nbsp;<span class="string" id="5963048">&#39;a&#39;</span>&nbsp;<span class="op" id="5963052">&lt;=</span>&nbsp;<span class="ident" id="5963055"><a href="/go/scanner/scanner.go.html#5963024">ch</a></span>&nbsp;<span class="op" id="5963058">&amp;&amp;</span>&nbsp;<span class="ident" id="5963061"><a href="/go/scanner/scanner.go.html#5963024">ch</a></span>&nbsp;<span class="op" id="5963064">&lt;=</span>&nbsp;<span class="string" id="5963067">&#39;z&#39;</span>&nbsp;<span class="op" id="5963071">||</span>&nbsp;<span class="string" id="5963074">&#39;A&#39;</span>&nbsp;<span class="op" id="5963078">&lt;=</span>&nbsp;<span class="ident" id="5963081"><a href="/go/scanner/scanner.go.html#5963024">ch</a></span>&nbsp;<span class="op" id="5963084">&amp;&amp;</span>&nbsp;<span class="ident" id="5963087"><a href="/go/scanner/scanner.go.html#5963024">ch</a></span>&nbsp;<span class="op" id="5963090">&lt;=</span>&nbsp;<span class="string" id="5963093">&#39;Z&#39;</span>&nbsp;<span class="op" id="5963097">||</span>&nbsp;<span class="ident" id="5963100"><a href="/go/scanner/scanner.go.html#5963024">ch</a></span>&nbsp;<span class="op" id="5963103">==</span>&nbsp;<span class="string" id="5963106">&#39;_&#39;</span>&nbsp;<span class="op" id="5963110">||</span>&nbsp;<span class="ident" id="5963113"><a href="/go/scanner/scanner.go.html#5963024">ch</a></span>&nbsp;<span class="op" id="5963116">&gt;=</span>&nbsp;<span class="num" id="5963119">0x80</span>&nbsp;<span class="op" id="5963124">&amp;&amp;</span>&nbsp;<span class="ident" id="5963127"><a href="/go/scanner/scanner.go.html#5956898">unicode</a></span><span class="op" id="5963134">.</span><span class="ident" id="5963135">IsLetter</span><span class="op" id="5963143">(</span><span class="ident" id="5963144"><a href="/go/scanner/scanner.go.html#5963024">ch</a></span><span class="op" id="5963146">)</span><br>
<span class="lineno"></span><span class="op" id="5963148">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="5963151">func</span>&nbsp;<span class="ident" id="5963156">isDigit</span><span class="op" id="5963163">(</span><span class="ident" id="5963164">ch</span>&nbsp;<span class="builtintype" id="5963167">rune</span><span class="op" id="5963171">)</span>&nbsp;<span class="builtintype" id="5963173">bool</span>&nbsp;<span class="op" id="5963178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963181">return</span>&nbsp;<span class="string" id="5963188">&#39;0&#39;</span>&nbsp;<span class="op" id="5963192">&lt;=</span>&nbsp;<span class="ident" id="5963195"><a href="/go/scanner/scanner.go.html#5963164">ch</a></span>&nbsp;<span class="op" id="5963198">&amp;&amp;</span>&nbsp;<span class="ident" id="5963201"><a href="/go/scanner/scanner.go.html#5963164">ch</a></span>&nbsp;<span class="op" id="5963204">&lt;=</span>&nbsp;<span class="string" id="5963207">&#39;9&#39;</span>&nbsp;<span class="op" id="5963211">||</span>&nbsp;<span class="ident" id="5963214"><a href="/go/scanner/scanner.go.html#5963164">ch</a></span>&nbsp;<span class="op" id="5963217">&gt;=</span>&nbsp;<span class="num" id="5963220">0x80</span>&nbsp;<span class="op" id="5963225">&amp;&amp;</span>&nbsp;<span class="ident" id="5963228"><a href="/go/scanner/scanner.go.html#5956898">unicode</a></span><span class="op" id="5963235">.</span><span class="ident" id="5963236">IsDigit</span><span class="op" id="5963243">(</span><span class="ident" id="5963244"><a href="/go/scanner/scanner.go.html#5963164">ch</a></span><span class="op" id="5963246">)</span><br>
<span class="lineno"></span><span class="op" id="5963248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="5963251">func</span>&nbsp;<span class="op" id="5963256">(</span><span class="ident" id="5963257">s</span>&nbsp;<span class="op" id="5963259">*</span><span class="ident" id="5963260"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5963267">)</span>&nbsp;<span class="ident" id="5963269">scanIdentifier</span><span class="op" id="5963283">(</span><span class="op" id="5963284">)</span>&nbsp;<span class="builtintype" id="5963286">string</span>&nbsp;<span class="op" id="5963293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963296">offs</span>&nbsp;<span class="op" id="5963301">:=</span>&nbsp;<span class="ident" id="5963304"><a href="/go/scanner/scanner.go.html#5963257">s</a></span><span class="op" id="5963305">.</span><span class="ident" id="5963306">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963314">for</span>&nbsp;<span class="ident" id="5963318"><a href="/go/scanner/scanner.go.html#5963015">isLetter</a></span><span class="op" id="5963326">(</span><span class="ident" id="5963327"><a href="/go/scanner/scanner.go.html#5963257">s</a></span><span class="op" id="5963328">.</span><span class="ident" id="5963329">ch</span><span class="op" id="5963331">)</span>&nbsp;<span class="op" id="5963333">||</span>&nbsp;<span class="ident" id="5963336"><a href="/go/scanner/scanner.go.html#5963156">isDigit</a></span><span class="op" id="5963343">(</span><span class="ident" id="5963344"><a href="/go/scanner/scanner.go.html#5963257">s</a></span><span class="op" id="5963345">.</span><span class="ident" id="5963346">ch</span><span class="op" id="5963348">)</span>&nbsp;<span class="op" id="5963350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963354"><a href="/go/scanner/scanner.go.html#5963257">s</a></span><span class="op" id="5963355">.</span><span class="ident" id="5963356">next</span><span class="op" id="5963360">(</span><span class="op" id="5963361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963364">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963367">return</span>&nbsp;<span class="builtintype" id="5963374">string</span><span class="op" id="5963380">(</span><span class="ident" id="5963381"><a href="/go/scanner/scanner.go.html#5963257">s</a></span><span class="op" id="5963382">.</span><span class="ident" id="5963383">src</span><span class="op" id="5963386">[</span><span class="ident" id="5963387"><a href="/go/scanner/scanner.go.html#5963296">offs</a></span><span class="op" id="5963391">:</span><span class="ident" id="5963392"><a href="/go/scanner/scanner.go.html#5963257">s</a></span><span class="op" id="5963393">.</span><span class="ident" id="5963394">offset</span><span class="op" id="5963400">]</span><span class="op" id="5963401">)</span><br>
<span class="lineno"></span><span class="op" id="5963403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5963406">func</span>&nbsp;<span class="ident" id="5963411">digitVal</span><span class="op" id="5963419">(</span><span class="ident" id="5963420">ch</span>&nbsp;<span class="builtintype" id="5963423">rune</span><span class="op" id="5963427">)</span>&nbsp;<span class="builtintype" id="5963429">int</span>&nbsp;<span class="op" id="5963433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963436">switch</span>&nbsp;<span class="op" id="5963443">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963446">case</span>&nbsp;<span class="string" id="5963451">&#39;0&#39;</span>&nbsp;<span class="op" id="5963455">&lt;=</span>&nbsp;<span class="ident" id="5963458"><a href="/go/scanner/scanner.go.html#5963420">ch</a></span>&nbsp;<span class="op" id="5963461">&amp;&amp;</span>&nbsp;<span class="ident" id="5963464"><a href="/go/scanner/scanner.go.html#5963420">ch</a></span>&nbsp;<span class="op" id="5963467">&lt;=</span>&nbsp;<span class="string" id="5963470">&#39;9&#39;</span><span class="op" id="5963473">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963477">return</span>&nbsp;<span class="builtintype" id="5963484">int</span><span class="op" id="5963487">(</span><span class="ident" id="5963488"><a href="/go/scanner/scanner.go.html#5963420">ch</a></span>&nbsp;<span class="op" id="5963491">-</span>&nbsp;<span class="string" id="5963493">&#39;0&#39;</span><span class="op" id="5963496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963499">case</span>&nbsp;<span class="string" id="5963504">&#39;a&#39;</span>&nbsp;<span class="op" id="5963508">&lt;=</span>&nbsp;<span class="ident" id="5963511"><a href="/go/scanner/scanner.go.html#5963420">ch</a></span>&nbsp;<span class="op" id="5963514">&amp;&amp;</span>&nbsp;<span class="ident" id="5963517"><a href="/go/scanner/scanner.go.html#5963420">ch</a></span>&nbsp;<span class="op" id="5963520">&lt;=</span>&nbsp;<span class="string" id="5963523">&#39;f&#39;</span><span class="op" id="5963526">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963530">return</span>&nbsp;<span class="builtintype" id="5963537">int</span><span class="op" id="5963540">(</span><span class="ident" id="5963541"><a href="/go/scanner/scanner.go.html#5963420">ch</a></span>&nbsp;<span class="op" id="5963544">-</span>&nbsp;<span class="string" id="5963546">&#39;a&#39;</span>&nbsp;<span class="op" id="5963550">+</span>&nbsp;<span class="num" id="5963552">10</span><span class="op" id="5963554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963557">case</span>&nbsp;<span class="string" id="5963562">&#39;A&#39;</span>&nbsp;<span class="op" id="5963566">&lt;=</span>&nbsp;<span class="ident" id="5963569"><a href="/go/scanner/scanner.go.html#5963420">ch</a></span>&nbsp;<span class="op" id="5963572">&amp;&amp;</span>&nbsp;<span class="ident" id="5963575"><a href="/go/scanner/scanner.go.html#5963420">ch</a></span>&nbsp;<span class="op" id="5963578">&lt;=</span>&nbsp;<span class="string" id="5963581">&#39;F&#39;</span><span class="op" id="5963584">:</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963588">return</span>&nbsp;<span class="builtintype" id="5963595">int</span><span class="op" id="5963598">(</span><span class="ident" id="5963599"><a href="/go/scanner/scanner.go.html#5963420">ch</a></span>&nbsp;<span class="op" id="5963602">-</span>&nbsp;<span class="string" id="5963604">&#39;A&#39;</span>&nbsp;<span class="op" id="5963608">+</span>&nbsp;<span class="num" id="5963610">10</span><span class="op" id="5963612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963618">return</span>&nbsp;<span class="num" id="5963625">16</span>&nbsp;<span class="comment" id="5963628">//&nbsp;larger&nbsp;than&nbsp;any&nbsp;legal&nbsp;digit&nbsp;val</span><br>
<span class="lineno"></span><span class="op" id="5963663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="5963666">func</span>&nbsp;<span class="op" id="5963671">(</span><span class="ident" id="5963672">s</span>&nbsp;<span class="op" id="5963674">*</span><span class="ident" id="5963675"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5963682">)</span>&nbsp;<span class="ident" id="5963684">scanMantissa</span><span class="op" id="5963696">(</span><span class="ident" id="5963697">base</span>&nbsp;<span class="builtintype" id="5963702">int</span><span class="op" id="5963705">)</span>&nbsp;<span class="op" id="5963707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963710">for</span>&nbsp;<span class="ident" id="5963714"><a href="/go/scanner/scanner.go.html#5963411">digitVal</a></span><span class="op" id="5963722">(</span><span class="ident" id="5963723"><a href="/go/scanner/scanner.go.html#5963672">s</a></span><span class="op" id="5963724">.</span><span class="ident" id="5963725">ch</span><span class="op" id="5963727">)</span>&nbsp;<span class="op" id="5963729">&lt;</span>&nbsp;<span class="ident" id="5963731"><a href="/go/scanner/scanner.go.html#5963697">base</a></span>&nbsp;<span class="op" id="5963736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963740"><a href="/go/scanner/scanner.go.html#5963672">s</a></span><span class="op" id="5963741">.</span><span class="ident" id="5963742">next</span><span class="op" id="5963746">(</span><span class="op" id="5963747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963750">}</span><br>
<span class="lineno"></span><span class="op" id="5963752">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="5963755">func</span>&nbsp;<span class="op" id="5963760">(</span><span class="ident" id="5963761">s</span>&nbsp;<span class="op" id="5963763">*</span><span class="ident" id="5963764"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5963771">)</span>&nbsp;<span class="ident" id="5963773">scanNumber</span><span class="op" id="5963783">(</span><span class="ident" id="5963784">seenDecimalPoint</span>&nbsp;<span class="builtintype" id="5963801">bool</span><span class="op" id="5963805">)</span>&nbsp;<span class="op" id="5963807">(</span><span class="ident" id="5963808"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5963813">.</span><span class="ident" id="5963814">Token</span><span class="op" id="5963819">,</span>&nbsp;<span class="builtintype" id="5963821">string</span><span class="op" id="5963827">)</span>&nbsp;<span class="op" id="5963829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5963832">//&nbsp;digitVal(s.ch)&nbsp;&lt;&nbsp;10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963856">offs</span>&nbsp;<span class="op" id="5963861">:=</span>&nbsp;<span class="ident" id="5963864"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5963865">.</span><span class="ident" id="5963866">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963874">tok</span>&nbsp;<span class="op" id="5963878">:=</span>&nbsp;<span class="ident" id="5963881"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5963886">.</span><span class="ident" id="5963887">INT</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963893">if</span>&nbsp;<span class="ident" id="5963896"><a href="/go/scanner/scanner.go.html#5963784">seenDecimalPoint</a></span>&nbsp;<span class="op" id="5963913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963917"><a href="/go/scanner/scanner.go.html#5963856">offs</a></span><span class="op" id="5963921">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963926"><a href="/go/scanner/scanner.go.html#5963874">tok</a></span>&nbsp;<span class="op" id="5963930">=</span>&nbsp;<span class="ident" id="5963932"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5963937">.</span><span class="ident" id="5963938">FLOAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5963946"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5963947">.</span><span class="ident" id="5963948">scanMantissa</span><span class="op" id="5963960">(</span><span class="num" id="5963961">10</span><span class="op" id="5963963">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963967">goto</span>&nbsp;<span class="ident" id="5963972">exponent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5963982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5963986">if</span>&nbsp;<span class="ident" id="5963989"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5963990">.</span><span class="ident" id="5963991">ch</span>&nbsp;<span class="op" id="5963994">==</span>&nbsp;<span class="string" id="5963997">&#39;0&#39;</span>&nbsp;<span class="op" id="5964001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964005">//&nbsp;int&nbsp;or&nbsp;float</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964023">offs</span>&nbsp;<span class="op" id="5964028">:=</span>&nbsp;<span class="ident" id="5964031"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964032">.</span><span class="ident" id="5964033">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964042"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964043">.</span><span class="ident" id="5964044">next</span><span class="op" id="5964048">(</span><span class="op" id="5964049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964053">if</span>&nbsp;<span class="ident" id="5964056"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964057">.</span><span class="ident" id="5964058">ch</span>&nbsp;<span class="op" id="5964061">==</span>&nbsp;<span class="string" id="5964064">&#39;x&#39;</span>&nbsp;<span class="op" id="5964068">||</span>&nbsp;<span class="ident" id="5964071"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964072">.</span><span class="ident" id="5964073">ch</span>&nbsp;<span class="op" id="5964076">==</span>&nbsp;<span class="string" id="5964079">&#39;X&#39;</span>&nbsp;<span class="op" id="5964083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964088">//&nbsp;hexadecimal&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964110"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964111">.</span><span class="ident" id="5964112">next</span><span class="op" id="5964116">(</span><span class="op" id="5964117">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964122"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964123">.</span><span class="ident" id="5964124">scanMantissa</span><span class="op" id="5964136">(</span><span class="num" id="5964137">16</span><span class="op" id="5964139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964144">if</span>&nbsp;<span class="ident" id="5964147"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964148">.</span><span class="ident" id="5964149">offset</span><span class="op" id="5964155">-</span><span class="ident" id="5964156"><a href="/go/scanner/scanner.go.html#5964023">offs</a></span>&nbsp;<span class="op" id="5964161">&lt;=</span>&nbsp;<span class="num" id="5964164">2</span>&nbsp;<span class="op" id="5964166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964172">//&nbsp;only&nbsp;scanned&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964205"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964206">.</span><span class="builtintype" id="5964207">error</span><span class="op" id="5964212">(</span><span class="ident" id="5964213"><a href="/go/scanner/scanner.go.html#5964023">offs</a></span><span class="op" id="5964217">,</span>&nbsp;<span class="string" id="5964219">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="5964247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964252">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964256">}</span>&nbsp;<span class="keyword" id="5964258">else</span>&nbsp;<span class="op" id="5964263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964268">//&nbsp;octal&nbsp;int&nbsp;or&nbsp;float</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964293">seenDecimalDigit</span>&nbsp;<span class="op" id="5964310">:=</span>&nbsp;<span class="ident" id="5964313">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964322"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964323">.</span><span class="ident" id="5964324">scanMantissa</span><span class="op" id="5964336">(</span><span class="num" id="5964337">8</span><span class="op" id="5964338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964343">if</span>&nbsp;<span class="ident" id="5964346"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964347">.</span><span class="ident" id="5964348">ch</span>&nbsp;<span class="op" id="5964351">==</span>&nbsp;<span class="string" id="5964354">&#39;8&#39;</span>&nbsp;<span class="op" id="5964358">||</span>&nbsp;<span class="ident" id="5964361"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964362">.</span><span class="ident" id="5964363">ch</span>&nbsp;<span class="op" id="5964366">==</span>&nbsp;<span class="string" id="5964369">&#39;9&#39;</span>&nbsp;<span class="op" id="5964373">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964379">//&nbsp;illegal&nbsp;octal&nbsp;int&nbsp;or&nbsp;float</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964413"><a href="/go/scanner/scanner.go.html#5964293">seenDecimalDigit</a></span>&nbsp;<span class="op" id="5964430">=</span>&nbsp;<span class="ident" id="5964432">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964441"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964442">.</span><span class="ident" id="5964443">scanMantissa</span><span class="op" id="5964455">(</span><span class="num" id="5964456">10</span><span class="op" id="5964458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964468">if</span>&nbsp;<span class="ident" id="5964471"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964472">.</span><span class="ident" id="5964473">ch</span>&nbsp;<span class="op" id="5964476">==</span>&nbsp;<span class="string" id="5964479">&#39;.&#39;</span>&nbsp;<span class="op" id="5964483">||</span>&nbsp;<span class="ident" id="5964486"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964487">.</span><span class="ident" id="5964488">ch</span>&nbsp;<span class="op" id="5964491">==</span>&nbsp;<span class="string" id="5964494">&#39;e&#39;</span>&nbsp;<span class="op" id="5964498">||</span>&nbsp;<span class="ident" id="5964501"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964502">.</span><span class="ident" id="5964503">ch</span>&nbsp;<span class="op" id="5964506">==</span>&nbsp;<span class="string" id="5964509">&#39;E&#39;</span>&nbsp;<span class="op" id="5964513">||</span>&nbsp;<span class="ident" id="5964516"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964517">.</span><span class="ident" id="5964518">ch</span>&nbsp;<span class="op" id="5964521">==</span>&nbsp;<span class="string" id="5964524">&#39;i&#39;</span>&nbsp;<span class="op" id="5964528">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964534">goto</span>&nbsp;<span class="ident" id="5964539">fraction</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964556">//&nbsp;octal&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964572">if</span>&nbsp;<span class="ident" id="5964575"><a href="/go/scanner/scanner.go.html#5964293">seenDecimalDigit</a></span>&nbsp;<span class="op" id="5964592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964598"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964599">.</span><span class="builtintype" id="5964600">error</span><span class="op" id="5964605">(</span><span class="ident" id="5964606"><a href="/go/scanner/scanner.go.html#5964023">offs</a></span><span class="op" id="5964610">,</span>&nbsp;<span class="string" id="5964612">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="5964634">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964647">goto</span>&nbsp;<span class="ident" id="5964652">exit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5964662">//&nbsp;decimal&nbsp;int&nbsp;or&nbsp;float</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964687"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964688">.</span><span class="ident" id="5964689">scanMantissa</span><span class="op" id="5964701">(</span><span class="num" id="5964702">10</span><span class="op" id="5964704">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="5964707">fraction</span><span class="op" id="5964715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964718">if</span>&nbsp;<span class="ident" id="5964721"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964722">.</span><span class="ident" id="5964723">ch</span>&nbsp;<span class="op" id="5964726">==</span>&nbsp;<span class="string" id="5964729">&#39;.&#39;</span>&nbsp;<span class="op" id="5964733">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964737"><a href="/go/scanner/scanner.go.html#5963874">tok</a></span>&nbsp;<span class="op" id="5964741">=</span>&nbsp;<span class="ident" id="5964743"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5964748">.</span><span class="ident" id="5964749">FLOAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964757"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964758">.</span><span class="ident" id="5964759">next</span><span class="op" id="5964763">(</span><span class="op" id="5964764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964768"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964769">.</span><span class="ident" id="5964770">scanMantissa</span><span class="op" id="5964782">(</span><span class="num" id="5964783">10</span><span class="op" id="5964785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="ident" id="5964791">exponent</span><span class="op" id="5964799">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964802">if</span>&nbsp;<span class="ident" id="5964805"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964806">.</span><span class="ident" id="5964807">ch</span>&nbsp;<span class="op" id="5964810">==</span>&nbsp;<span class="string" id="5964813">&#39;e&#39;</span>&nbsp;<span class="op" id="5964817">||</span>&nbsp;<span class="ident" id="5964820"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964821">.</span><span class="ident" id="5964822">ch</span>&nbsp;<span class="op" id="5964825">==</span>&nbsp;<span class="string" id="5964828">&#39;E&#39;</span>&nbsp;<span class="op" id="5964832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964836"><a href="/go/scanner/scanner.go.html#5963874">tok</a></span>&nbsp;<span class="op" id="5964840">=</span>&nbsp;<span class="ident" id="5964842"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5964847">.</span><span class="ident" id="5964848">FLOAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964856"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964857">.</span><span class="ident" id="5964858">next</span><span class="op" id="5964862">(</span><span class="op" id="5964863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964867">if</span>&nbsp;<span class="ident" id="5964870"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964871">.</span><span class="ident" id="5964872">ch</span>&nbsp;<span class="op" id="5964875">==</span>&nbsp;<span class="string" id="5964878">&#39;-&#39;</span>&nbsp;<span class="op" id="5964882">||</span>&nbsp;<span class="ident" id="5964885"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964886">.</span><span class="ident" id="5964887">ch</span>&nbsp;<span class="op" id="5964890">==</span>&nbsp;<span class="string" id="5964893">&#39;+&#39;</span>&nbsp;<span class="op" id="5964897">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964902"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964903">.</span><span class="ident" id="5964904">next</span><span class="op" id="5964908">(</span><span class="op" id="5964909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964917"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964918">.</span><span class="ident" id="5964919">scanMantissa</span><span class="op" id="5964931">(</span><span class="num" id="5964932">10</span><span class="op" id="5964934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964941">if</span>&nbsp;<span class="ident" id="5964944"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964945">.</span><span class="ident" id="5964946">ch</span>&nbsp;<span class="op" id="5964949">==</span>&nbsp;<span class="string" id="5964952">&#39;i&#39;</span>&nbsp;<span class="op" id="5964956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964960"><a href="/go/scanner/scanner.go.html#5963874">tok</a></span>&nbsp;<span class="op" id="5964964">=</span>&nbsp;<span class="ident" id="5964966"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5964971">.</span><span class="ident" id="5964972">IMAG</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5964979"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5964980">.</span><span class="ident" id="5964981">next</span><span class="op" id="5964985">(</span><span class="op" id="5964986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5964989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="ident" id="5964992">exit</span><span class="op" id="5964996">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5964999">return</span>&nbsp;<span class="ident" id="5965006"><a href="/go/scanner/scanner.go.html#5963874">tok</a></span><span class="op" id="5965009">,</span>&nbsp;<span class="builtintype" id="5965011">string</span><span class="op" id="5965017">(</span><span class="ident" id="5965018"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5965019">.</span><span class="ident" id="5965020">src</span><span class="op" id="5965023">[</span><span class="ident" id="5965024"><a href="/go/scanner/scanner.go.html#5963856">offs</a></span><span class="op" id="5965028">:</span><span class="ident" id="5965029"><a href="/go/scanner/scanner.go.html#5963761">s</a></span><span class="op" id="5965030">.</span><span class="ident" id="5965031">offset</span><span class="op" id="5965037">]</span><span class="op" id="5965038">)</span><br>
<span class="lineno"></span><span class="op" id="5965040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5965043">//&nbsp;scanEscape&nbsp;parses&nbsp;an&nbsp;escape&nbsp;sequence&nbsp;where&nbsp;rune&nbsp;is&nbsp;the&nbsp;accepted</span><br>
<span class="lineno">365</span><span class="comment" id="5965110">//&nbsp;escaped&nbsp;quote.&nbsp;In&nbsp;case&nbsp;of&nbsp;a&nbsp;syntax&nbsp;error,&nbsp;it&nbsp;stops&nbsp;at&nbsp;the&nbsp;offending</span><br>
<span class="lineno"></span><span class="comment" id="5965181">//&nbsp;character&nbsp;(without&nbsp;consuming&nbsp;it)&nbsp;and&nbsp;returns&nbsp;false.&nbsp;Otherwise</span><br>
<span class="lineno"></span><span class="comment" id="5965246">//&nbsp;it&nbsp;returns&nbsp;true.</span><br>
<span class="lineno"></span><span class="keyword" id="5965266">func</span>&nbsp;<span class="op" id="5965271">(</span><span class="ident" id="5965272">s</span>&nbsp;<span class="op" id="5965274">*</span><span class="ident" id="5965275"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5965282">)</span>&nbsp;<span class="ident" id="5965284">scanEscape</span><span class="op" id="5965294">(</span><span class="ident" id="5965295">quote</span>&nbsp;<span class="builtintype" id="5965301">rune</span><span class="op" id="5965305">)</span>&nbsp;<span class="builtintype" id="5965307">bool</span>&nbsp;<span class="op" id="5965312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965315">offs</span>&nbsp;<span class="op" id="5965320">:=</span>&nbsp;<span class="ident" id="5965323"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965324">.</span><span class="ident" id="5965325">offset</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965334">var</span>&nbsp;<span class="ident" id="5965338">n</span>&nbsp;<span class="builtintype" id="5965340">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965345">var</span>&nbsp;<span class="ident" id="5965349">base</span><span class="op" id="5965353">,</span>&nbsp;<span class="ident" id="5965355">max</span>&nbsp;<span class="builtintype" id="5965359">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965367">switch</span>&nbsp;<span class="ident" id="5965374"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965375">.</span><span class="ident" id="5965376">ch</span>&nbsp;<span class="op" id="5965379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965382">case</span>&nbsp;<span class="string" id="5965387">&#39;a&#39;</span><span class="op" id="5965390">,</span>&nbsp;<span class="string" id="5965392">&#39;b&#39;</span><span class="op" id="5965395">,</span>&nbsp;<span class="string" id="5965397">&#39;f&#39;</span><span class="op" id="5965400">,</span>&nbsp;<span class="string" id="5965402">&#39;n&#39;</span><span class="op" id="5965405">,</span>&nbsp;<span class="string" id="5965407">&#39;r&#39;</span><span class="op" id="5965410">,</span>&nbsp;<span class="string" id="5965412">&#39;t&#39;</span><span class="op" id="5965415">,</span>&nbsp;<span class="string" id="5965417">&#39;v&#39;</span><span class="op" id="5965420">,</span>&nbsp;<span class="string" id="5965422">&#39;\\&#39;</span><span class="op" id="5965426">,</span>&nbsp;<span class="ident" id="5965428"><a href="/go/scanner/scanner.go.html#5965295">quote</a></span><span class="op" id="5965433">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965437"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965438">.</span><span class="ident" id="5965439">next</span><span class="op" id="5965443">(</span><span class="op" id="5965444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965448">return</span>&nbsp;<span class="ident" id="5965455">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965461">case</span>&nbsp;<span class="string" id="5965466">&#39;0&#39;</span><span class="op" id="5965469">,</span>&nbsp;<span class="string" id="5965471">&#39;1&#39;</span><span class="op" id="5965474">,</span>&nbsp;<span class="string" id="5965476">&#39;2&#39;</span><span class="op" id="5965479">,</span>&nbsp;<span class="string" id="5965481">&#39;3&#39;</span><span class="op" id="5965484">,</span>&nbsp;<span class="string" id="5965486">&#39;4&#39;</span><span class="op" id="5965489">,</span>&nbsp;<span class="string" id="5965491">&#39;5&#39;</span><span class="op" id="5965494">,</span>&nbsp;<span class="string" id="5965496">&#39;6&#39;</span><span class="op" id="5965499">,</span>&nbsp;<span class="string" id="5965501">&#39;7&#39;</span><span class="op" id="5965504">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965508"><a href="/go/scanner/scanner.go.html#5965338">n</a></span><span class="op" id="5965509">,</span>&nbsp;<span class="ident" id="5965511"><a href="/go/scanner/scanner.go.html#5965349">base</a></span><span class="op" id="5965515">,</span>&nbsp;<span class="ident" id="5965517"><a href="/go/scanner/scanner.go.html#5965355">max</a></span>&nbsp;<span class="op" id="5965521">=</span>&nbsp;<span class="num" id="5965523">3</span><span class="op" id="5965524">,</span>&nbsp;<span class="num" id="5965526">8</span><span class="op" id="5965527">,</span>&nbsp;<span class="num" id="5965529">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965534">case</span>&nbsp;<span class="string" id="5965539">&#39;x&#39;</span><span class="op" id="5965542">:</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965546"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965547">.</span><span class="ident" id="5965548">next</span><span class="op" id="5965552">(</span><span class="op" id="5965553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965557"><a href="/go/scanner/scanner.go.html#5965338">n</a></span><span class="op" id="5965558">,</span>&nbsp;<span class="ident" id="5965560"><a href="/go/scanner/scanner.go.html#5965349">base</a></span><span class="op" id="5965564">,</span>&nbsp;<span class="ident" id="5965566"><a href="/go/scanner/scanner.go.html#5965355">max</a></span>&nbsp;<span class="op" id="5965570">=</span>&nbsp;<span class="num" id="5965572">2</span><span class="op" id="5965573">,</span>&nbsp;<span class="num" id="5965575">16</span><span class="op" id="5965577">,</span>&nbsp;<span class="num" id="5965579">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965584">case</span>&nbsp;<span class="string" id="5965589">&#39;u&#39;</span><span class="op" id="5965592">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965596"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965597">.</span><span class="ident" id="5965598">next</span><span class="op" id="5965602">(</span><span class="op" id="5965603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965607"><a href="/go/scanner/scanner.go.html#5965338">n</a></span><span class="op" id="5965608">,</span>&nbsp;<span class="ident" id="5965610"><a href="/go/scanner/scanner.go.html#5965349">base</a></span><span class="op" id="5965614">,</span>&nbsp;<span class="ident" id="5965616"><a href="/go/scanner/scanner.go.html#5965355">max</a></span>&nbsp;<span class="op" id="5965620">=</span>&nbsp;<span class="num" id="5965622">4</span><span class="op" id="5965623">,</span>&nbsp;<span class="num" id="5965625">16</span><span class="op" id="5965627">,</span>&nbsp;<span class="ident" id="5965629"><a href="/go/scanner/scanner.go.html#5956898">unicode</a></span><span class="op" id="5965636">.</span><span class="ident" id="5965637">MaxRune</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965646">case</span>&nbsp;<span class="string" id="5965651">&#39;U&#39;</span><span class="op" id="5965654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965658"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965659">.</span><span class="ident" id="5965660">next</span><span class="op" id="5965664">(</span><span class="op" id="5965665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965669"><a href="/go/scanner/scanner.go.html#5965338">n</a></span><span class="op" id="5965670">,</span>&nbsp;<span class="ident" id="5965672"><a href="/go/scanner/scanner.go.html#5965349">base</a></span><span class="op" id="5965676">,</span>&nbsp;<span class="ident" id="5965678"><a href="/go/scanner/scanner.go.html#5965355">max</a></span>&nbsp;<span class="op" id="5965682">=</span>&nbsp;<span class="num" id="5965684">8</span><span class="op" id="5965685">,</span>&nbsp;<span class="num" id="5965687">16</span><span class="op" id="5965689">,</span>&nbsp;<span class="ident" id="5965691"><a href="/go/scanner/scanner.go.html#5956898">unicode</a></span><span class="op" id="5965698">.</span><span class="ident" id="5965699">MaxRune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965708">default</span><span class="op" id="5965715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965719">msg</span>&nbsp;<span class="op" id="5965723">:=</span>&nbsp;<span class="string" id="5965726">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965754">if</span>&nbsp;<span class="ident" id="5965757"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965758">.</span><span class="ident" id="5965759">ch</span>&nbsp;<span class="op" id="5965762">&lt;</span>&nbsp;<span class="num" id="5965764">0</span>&nbsp;<span class="op" id="5965766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965771"><a href="/go/scanner/scanner.go.html#5965719">msg</a></span>&nbsp;<span class="op" id="5965775">=</span>&nbsp;<span class="string" id="5965777">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965816"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965817">.</span><span class="builtintype" id="5965818">error</span><span class="op" id="5965823">(</span><span class="ident" id="5965824"><a href="/go/scanner/scanner.go.html#5965315">offs</a></span><span class="op" id="5965828">,</span>&nbsp;<span class="ident" id="5965830"><a href="/go/scanner/scanner.go.html#5965719">msg</a></span><span class="op" id="5965833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965837">return</span>&nbsp;<span class="ident" id="5965844">false</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5965851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965855">var</span>&nbsp;<span class="ident" id="5965859">x</span>&nbsp;<span class="builtintype" id="5965861">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965869">for</span>&nbsp;<span class="ident" id="5965873"><a href="/go/scanner/scanner.go.html#5965338">n</a></span>&nbsp;<span class="op" id="5965875">&gt;</span>&nbsp;<span class="num" id="5965877">0</span>&nbsp;<span class="op" id="5965879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965883">d</span>&nbsp;<span class="op" id="5965885">:=</span>&nbsp;<span class="builtintype" id="5965888">uint32</span><span class="op" id="5965894">(</span><span class="ident" id="5965895"><a href="/go/scanner/scanner.go.html#5963411">digitVal</a></span><span class="op" id="5965903">(</span><span class="ident" id="5965904"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965905">.</span><span class="ident" id="5965906">ch</span><span class="op" id="5965908">)</span><span class="op" id="5965909">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5965913">if</span>&nbsp;<span class="ident" id="5965916"><a href="/go/scanner/scanner.go.html#5965883">d</a></span>&nbsp;<span class="op" id="5965918">&gt;=</span>&nbsp;<span class="ident" id="5965921"><a href="/go/scanner/scanner.go.html#5965349">base</a></span>&nbsp;<span class="op" id="5965926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5965931">msg</span>&nbsp;<span class="op" id="5965935">:=</span>&nbsp;<span class="ident" id="5965938"><a href="/go/scanner/scanner.go.html#5956851">fmt</a></span><span class="op" id="5965941">.</span><span class="ident" id="5965942">Sprintf</span><span class="op" id="5965949">(</span><span class="string" id="5965950">&#34;illegal&nbsp;character&nbsp;%#U&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="5965992">,</span>&nbsp;<span class="ident" id="5965994"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5965995">.</span><span class="ident" id="5965996">ch</span><span class="op" id="5965998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966003">if</span>&nbsp;<span class="ident" id="5966006"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5966007">.</span><span class="ident" id="5966008">ch</span>&nbsp;<span class="op" id="5966011">&lt;</span>&nbsp;<span class="num" id="5966013">0</span>&nbsp;<span class="op" id="5966015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966021"><a href="/go/scanner/scanner.go.html#5965931">msg</a></span>&nbsp;<span class="op" id="5966025">=</span>&nbsp;<span class="string" id="5966027">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966063">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966068"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5966069">.</span><span class="builtintype" id="5966070">error</span><span class="op" id="5966075">(</span><span class="ident" id="5966076"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5966077">.</span><span class="ident" id="5966078">offset</span><span class="op" id="5966084">,</span>&nbsp;<span class="ident" id="5966086"><a href="/go/scanner/scanner.go.html#5965931">msg</a></span><span class="op" id="5966089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966094">return</span>&nbsp;<span class="ident" id="5966101">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966113"><a href="/go/scanner/scanner.go.html#5965859">x</a></span>&nbsp;<span class="op" id="5966115">=</span>&nbsp;<span class="ident" id="5966117"><a href="/go/scanner/scanner.go.html#5965859">x</a></span><span class="op" id="5966118">*</span><span class="ident" id="5966119"><a href="/go/scanner/scanner.go.html#5965349">base</a></span>&nbsp;<span class="op" id="5966124">+</span>&nbsp;<span class="ident" id="5966126"><a href="/go/scanner/scanner.go.html#5965883">d</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966130"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5966131">.</span><span class="ident" id="5966132">next</span><span class="op" id="5966136">(</span><span class="op" id="5966137">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966141"><a href="/go/scanner/scanner.go.html#5965338">n</a></span><span class="op" id="5966142">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966150">if</span>&nbsp;<span class="ident" id="5966153"><a href="/go/scanner/scanner.go.html#5965859">x</a></span>&nbsp;<span class="op" id="5966155">&gt;</span>&nbsp;<span class="ident" id="5966157"><a href="/go/scanner/scanner.go.html#5965355">max</a></span>&nbsp;<span class="op" id="5966161">||</span>&nbsp;<span class="num" id="5966164">0xD800</span>&nbsp;<span class="op" id="5966171">&lt;=</span>&nbsp;<span class="ident" id="5966174"><a href="/go/scanner/scanner.go.html#5965859">x</a></span>&nbsp;<span class="op" id="5966176">&amp;&amp;</span>&nbsp;<span class="ident" id="5966179"><a href="/go/scanner/scanner.go.html#5965859">x</a></span>&nbsp;<span class="op" id="5966181">&lt;</span>&nbsp;<span class="num" id="5966183">0xE000</span>&nbsp;<span class="op" id="5966190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966194"><a href="/go/scanner/scanner.go.html#5965272">s</a></span><span class="op" id="5966195">.</span><span class="builtintype" id="5966196">error</span><span class="op" id="5966201">(</span><span class="ident" id="5966202"><a href="/go/scanner/scanner.go.html#5965315">offs</a></span><span class="op" id="5966206">,</span>&nbsp;<span class="string" id="5966208">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="5966255">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966259">return</span>&nbsp;<span class="ident" id="5966266">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966277">return</span>&nbsp;<span class="ident" id="5966284">true</span><br>
<span class="lineno"></span><span class="op" id="5966289">}</span><br>
<span class="lineno">420</span><br>
<span class="lineno"></span><span class="keyword" id="5966292">func</span>&nbsp;<span class="op" id="5966297">(</span><span class="ident" id="5966298">s</span>&nbsp;<span class="op" id="5966300">*</span><span class="ident" id="5966301"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5966308">)</span>&nbsp;<span class="ident" id="5966310">scanRune</span><span class="op" id="5966318">(</span><span class="op" id="5966319">)</span>&nbsp;<span class="builtintype" id="5966321">string</span>&nbsp;<span class="op" id="5966328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5966331">//&nbsp;&#39;\&#39;&#39;&nbsp;opening&nbsp;already&nbsp;consumed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966365">offs</span>&nbsp;<span class="op" id="5966370">:=</span>&nbsp;<span class="ident" id="5966373"><a href="/go/scanner/scanner.go.html#5966298">s</a></span><span class="op" id="5966374">.</span><span class="ident" id="5966375">offset</span>&nbsp;<span class="op" id="5966382">-</span>&nbsp;<span class="num" id="5966384">1</span><br>
<span class="lineno"></span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966388">valid</span>&nbsp;<span class="op" id="5966394">:=</span>&nbsp;<span class="ident" id="5966397">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966403">n</span>&nbsp;<span class="op" id="5966405">:=</span>&nbsp;<span class="num" id="5966408">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966411">for</span>&nbsp;<span class="op" id="5966415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966419">ch</span>&nbsp;<span class="op" id="5966422">:=</span>&nbsp;<span class="ident" id="5966425"><a href="/go/scanner/scanner.go.html#5966298">s</a></span><span class="op" id="5966426">.</span><span class="ident" id="5966427">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966432">if</span>&nbsp;<span class="ident" id="5966435"><a href="/go/scanner/scanner.go.html#5966419">ch</a></span>&nbsp;<span class="op" id="5966438">==</span>&nbsp;<span class="string" id="5966441">&#39;\n&#39;</span>&nbsp;<span class="op" id="5966446">||</span>&nbsp;<span class="ident" id="5966449"><a href="/go/scanner/scanner.go.html#5966419">ch</a></span>&nbsp;<span class="op" id="5966452">&lt;</span>&nbsp;<span class="num" id="5966454">0</span>&nbsp;<span class="op" id="5966456">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5966461">//&nbsp;only&nbsp;report&nbsp;error&nbsp;if&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;one&nbsp;already</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966514">if</span>&nbsp;<span class="ident" id="5966517"><a href="/go/scanner/scanner.go.html#5966388">valid</a></span>&nbsp;<span class="op" id="5966523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966529"><a href="/go/scanner/scanner.go.html#5966298">s</a></span><span class="op" id="5966530">.</span><span class="builtintype" id="5966531">error</span><span class="op" id="5966536">(</span><span class="ident" id="5966537"><a href="/go/scanner/scanner.go.html#5966365">offs</a></span><span class="op" id="5966541">,</span>&nbsp;<span class="string" id="5966543">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="5966572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966578"><a href="/go/scanner/scanner.go.html#5966388">valid</a></span>&nbsp;<span class="op" id="5966584">=</span>&nbsp;<span class="ident" id="5966586">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966595">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966600">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966612"><a href="/go/scanner/scanner.go.html#5966298">s</a></span><span class="op" id="5966613">.</span><span class="ident" id="5966614">next</span><span class="op" id="5966618">(</span><span class="op" id="5966619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966623">if</span>&nbsp;<span class="ident" id="5966626"><a href="/go/scanner/scanner.go.html#5966419">ch</a></span>&nbsp;<span class="op" id="5966629">==</span>&nbsp;<span class="string" id="5966632">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="5966637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966642">break</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966654"><a href="/go/scanner/scanner.go.html#5966403">n</a></span><span class="op" id="5966655">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966660">if</span>&nbsp;<span class="ident" id="5966663"><a href="/go/scanner/scanner.go.html#5966419">ch</a></span>&nbsp;<span class="op" id="5966666">==</span>&nbsp;<span class="string" id="5966669">&#39;\\&#39;</span>&nbsp;<span class="op" id="5966674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966679">if</span>&nbsp;<span class="op" id="5966682">!</span><span class="ident" id="5966683"><a href="/go/scanner/scanner.go.html#5966298">s</a></span><span class="op" id="5966684">.</span><span class="ident" id="5966685">scanEscape</span><span class="op" id="5966695">(</span><span class="string" id="5966696">&#39;\&#39;&#39;</span><span class="op" id="5966700">)</span>&nbsp;<span class="op" id="5966702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966708"><a href="/go/scanner/scanner.go.html#5966388">valid</a></span>&nbsp;<span class="op" id="5966714">=</span>&nbsp;<span class="ident" id="5966716">false</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5966730">//&nbsp;continue&nbsp;to&nbsp;read&nbsp;to&nbsp;closing&nbsp;quote</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966776">if</span>&nbsp;<span class="ident" id="5966779"><a href="/go/scanner/scanner.go.html#5966388">valid</a></span>&nbsp;<span class="op" id="5966785">&amp;&amp;</span>&nbsp;<span class="ident" id="5966788"><a href="/go/scanner/scanner.go.html#5966403">n</a></span>&nbsp;<span class="op" id="5966790">!=</span>&nbsp;<span class="num" id="5966793">1</span>&nbsp;<span class="op" id="5966795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966799"><a href="/go/scanner/scanner.go.html#5966298">s</a></span><span class="op" id="5966800">.</span><span class="builtintype" id="5966801">error</span><span class="op" id="5966806">(</span><span class="ident" id="5966807"><a href="/go/scanner/scanner.go.html#5966365">offs</a></span><span class="op" id="5966811">,</span>&nbsp;<span class="string" id="5966813">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="5966835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5966838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966842">return</span>&nbsp;<span class="builtintype" id="5966849">string</span><span class="op" id="5966855">(</span><span class="ident" id="5966856"><a href="/go/scanner/scanner.go.html#5966298">s</a></span><span class="op" id="5966857">.</span><span class="ident" id="5966858">src</span><span class="op" id="5966861">[</span><span class="ident" id="5966862"><a href="/go/scanner/scanner.go.html#5966365">offs</a></span><span class="op" id="5966866">:</span><span class="ident" id="5966867"><a href="/go/scanner/scanner.go.html#5966298">s</a></span><span class="op" id="5966868">.</span><span class="ident" id="5966869">offset</span><span class="op" id="5966875">]</span><span class="op" id="5966876">)</span><br>
<span class="lineno">455</span><span class="op" id="5966878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5966881">func</span>&nbsp;<span class="op" id="5966886">(</span><span class="ident" id="5966887">s</span>&nbsp;<span class="op" id="5966889">*</span><span class="ident" id="5966890"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5966897">)</span>&nbsp;<span class="ident" id="5966899">scanString</span><span class="op" id="5966909">(</span><span class="op" id="5966910">)</span>&nbsp;<span class="builtintype" id="5966912">string</span>&nbsp;<span class="op" id="5966919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5966922">//&nbsp;&#39;&#34;&#39;&nbsp;opening&nbsp;already&nbsp;consumed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966955">offs</span>&nbsp;<span class="op" id="5966960">:=</span>&nbsp;<span class="ident" id="5966963"><a href="/go/scanner/scanner.go.html#5966887">s</a></span><span class="op" id="5966964">.</span><span class="ident" id="5966965">offset</span>&nbsp;<span class="op" id="5966972">-</span>&nbsp;<span class="num" id="5966974">1</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966978">for</span>&nbsp;<span class="op" id="5966982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966986">ch</span>&nbsp;<span class="op" id="5966989">:=</span>&nbsp;<span class="ident" id="5966992"><a href="/go/scanner/scanner.go.html#5966887">s</a></span><span class="op" id="5966993">.</span><span class="ident" id="5966994">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966999">if</span>&nbsp;<span class="ident" id="5967002"><a href="/go/scanner/scanner.go.html#5966986">ch</a></span>&nbsp;<span class="op" id="5967005">==</span>&nbsp;<span class="string" id="5967008">&#39;\n&#39;</span>&nbsp;<span class="op" id="5967013">||</span>&nbsp;<span class="ident" id="5967016"><a href="/go/scanner/scanner.go.html#5966986">ch</a></span>&nbsp;<span class="op" id="5967019">&lt;</span>&nbsp;<span class="num" id="5967021">0</span>&nbsp;<span class="op" id="5967023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967028"><a href="/go/scanner/scanner.go.html#5966887">s</a></span><span class="op" id="5967029">.</span><span class="builtintype" id="5967030">error</span><span class="op" id="5967035">(</span><span class="ident" id="5967036"><a href="/go/scanner/scanner.go.html#5966955">offs</a></span><span class="op" id="5967040">,</span>&nbsp;<span class="string" id="5967042">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="5967073">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967078">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967090"><a href="/go/scanner/scanner.go.html#5966887">s</a></span><span class="op" id="5967091">.</span><span class="ident" id="5967092">next</span><span class="op" id="5967096">(</span><span class="op" id="5967097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967101">if</span>&nbsp;<span class="ident" id="5967104"><a href="/go/scanner/scanner.go.html#5966986">ch</a></span>&nbsp;<span class="op" id="5967107">==</span>&nbsp;<span class="string" id="5967110">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="5967114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967119">break</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967131">if</span>&nbsp;<span class="ident" id="5967134"><a href="/go/scanner/scanner.go.html#5966986">ch</a></span>&nbsp;<span class="op" id="5967137">==</span>&nbsp;<span class="string" id="5967140">&#39;\\&#39;</span>&nbsp;<span class="op" id="5967145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967150"><a href="/go/scanner/scanner.go.html#5966887">s</a></span><span class="op" id="5967151">.</span><span class="ident" id="5967152">scanEscape</span><span class="op" id="5967162">(</span><span class="string" id="5967163">&#39;&#34;&#39;</span><span class="op" id="5967166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967173">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967177">return</span>&nbsp;<span class="builtintype" id="5967184">string</span><span class="op" id="5967190">(</span><span class="ident" id="5967191"><a href="/go/scanner/scanner.go.html#5966887">s</a></span><span class="op" id="5967192">.</span><span class="ident" id="5967193">src</span><span class="op" id="5967196">[</span><span class="ident" id="5967197"><a href="/go/scanner/scanner.go.html#5966955">offs</a></span><span class="op" id="5967201">:</span><span class="ident" id="5967202"><a href="/go/scanner/scanner.go.html#5966887">s</a></span><span class="op" id="5967203">.</span><span class="ident" id="5967204">offset</span><span class="op" id="5967210">]</span><span class="op" id="5967211">)</span><br>
<span class="lineno"></span><span class="op" id="5967213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5967216">func</span>&nbsp;<span class="ident" id="5967221">stripCR</span><span class="op" id="5967228">(</span><span class="ident" id="5967229">b</span>&nbsp;<span class="op" id="5967231">[</span><span class="op" id="5967232">]</span><span class="builtintype" id="5967233">byte</span><span class="op" id="5967237">)</span>&nbsp;<span class="op" id="5967239">[</span><span class="op" id="5967240">]</span><span class="builtintype" id="5967241">byte</span>&nbsp;<span class="op" id="5967246">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967249">c</span>&nbsp;<span class="op" id="5967251">:=</span>&nbsp;<span class="builtinfunc" id="5967254">make</span><span class="op" id="5967258">(</span><span class="op" id="5967259">[</span><span class="op" id="5967260">]</span><span class="builtintype" id="5967261">byte</span><span class="op" id="5967265">,</span>&nbsp;<span class="builtinfunc" id="5967267">len</span><span class="op" id="5967270">(</span><span class="ident" id="5967271"><a href="/go/scanner/scanner.go.html#5967229">b</a></span><span class="op" id="5967272">)</span><span class="op" id="5967273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967276">i</span>&nbsp;<span class="op" id="5967278">:=</span>&nbsp;<span class="num" id="5967281">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967284">for</span>&nbsp;<span class="ident" id="5967288">_</span><span class="op" id="5967289">,</span>&nbsp;<span class="ident" id="5967291">ch</span>&nbsp;<span class="op" id="5967294">:=</span>&nbsp;<span class="keyword" id="5967297">range</span>&nbsp;<span class="ident" id="5967303"><a href="/go/scanner/scanner.go.html#5967229">b</a></span>&nbsp;<span class="op" id="5967305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967309">if</span>&nbsp;<span class="ident" id="5967312"><a href="/go/scanner/scanner.go.html#5967291">ch</a></span>&nbsp;<span class="op" id="5967315">!=</span>&nbsp;<span class="string" id="5967318">&#39;\r&#39;</span>&nbsp;<span class="op" id="5967323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967328"><a href="/go/scanner/scanner.go.html#5967249">c</a></span><span class="op" id="5967329">[</span><span class="ident" id="5967330"><a href="/go/scanner/scanner.go.html#5967276">i</a></span><span class="op" id="5967331">]</span>&nbsp;<span class="op" id="5967333">=</span>&nbsp;<span class="ident" id="5967335"><a href="/go/scanner/scanner.go.html#5967291">ch</a></span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967341"><a href="/go/scanner/scanner.go.html#5967276">i</a></span><span class="op" id="5967342">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967353">return</span>&nbsp;<span class="ident" id="5967360"><a href="/go/scanner/scanner.go.html#5967249">c</a></span><span class="op" id="5967361">[</span><span class="op" id="5967362">:</span><span class="ident" id="5967363"><a href="/go/scanner/scanner.go.html#5967276">i</a></span><span class="op" id="5967364">]</span><br>
<span class="lineno"></span><span class="op" id="5967366">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="5967369">func</span>&nbsp;<span class="op" id="5967374">(</span><span class="ident" id="5967375">s</span>&nbsp;<span class="op" id="5967377">*</span><span class="ident" id="5967378"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5967385">)</span>&nbsp;<span class="ident" id="5967387">scanRawString</span><span class="op" id="5967400">(</span><span class="op" id="5967401">)</span>&nbsp;<span class="builtintype" id="5967403">string</span>&nbsp;<span class="op" id="5967410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5967413">//&nbsp;&#39;`&#39;&nbsp;opening&nbsp;already&nbsp;consumed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967446">offs</span>&nbsp;<span class="op" id="5967451">:=</span>&nbsp;<span class="ident" id="5967454"><a href="/go/scanner/scanner.go.html#5967375">s</a></span><span class="op" id="5967455">.</span><span class="ident" id="5967456">offset</span>&nbsp;<span class="op" id="5967463">-</span>&nbsp;<span class="num" id="5967465">1</span><br>
<span class="lineno"></span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967469">hasCR</span>&nbsp;<span class="op" id="5967475">:=</span>&nbsp;<span class="ident" id="5967478">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967485">for</span>&nbsp;<span class="op" id="5967489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967493">ch</span>&nbsp;<span class="op" id="5967496">:=</span>&nbsp;<span class="ident" id="5967499"><a href="/go/scanner/scanner.go.html#5967375">s</a></span><span class="op" id="5967500">.</span><span class="ident" id="5967501">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967506">if</span>&nbsp;<span class="ident" id="5967509"><a href="/go/scanner/scanner.go.html#5967493">ch</a></span>&nbsp;<span class="op" id="5967512">&lt;</span>&nbsp;<span class="num" id="5967514">0</span>&nbsp;<span class="op" id="5967516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967521"><a href="/go/scanner/scanner.go.html#5967375">s</a></span><span class="op" id="5967522">.</span><span class="builtintype" id="5967523">error</span><span class="op" id="5967528">(</span><span class="ident" id="5967529"><a href="/go/scanner/scanner.go.html#5967446">offs</a></span><span class="op" id="5967533">,</span>&nbsp;<span class="string" id="5967535">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="5967570">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967575">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967587"><a href="/go/scanner/scanner.go.html#5967375">s</a></span><span class="op" id="5967588">.</span><span class="ident" id="5967589">next</span><span class="op" id="5967593">(</span><span class="op" id="5967594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967598">if</span>&nbsp;<span class="ident" id="5967601"><a href="/go/scanner/scanner.go.html#5967493">ch</a></span>&nbsp;<span class="op" id="5967604">==</span>&nbsp;<span class="string" id="5967607">&#39;`&#39;</span>&nbsp;<span class="op" id="5967611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967616">break</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967628">if</span>&nbsp;<span class="ident" id="5967631"><a href="/go/scanner/scanner.go.html#5967493">ch</a></span>&nbsp;<span class="op" id="5967634">==</span>&nbsp;<span class="string" id="5967637">&#39;\r&#39;</span>&nbsp;<span class="op" id="5967642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967647"><a href="/go/scanner/scanner.go.html#5967469">hasCR</a></span>&nbsp;<span class="op" id="5967653">=</span>&nbsp;<span class="ident" id="5967655">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967665">}</span><br>
<span class="lineno">510</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967669">lit</span>&nbsp;<span class="op" id="5967673">:=</span>&nbsp;<span class="ident" id="5967676"><a href="/go/scanner/scanner.go.html#5967375">s</a></span><span class="op" id="5967677">.</span><span class="ident" id="5967678">src</span><span class="op" id="5967681">[</span><span class="ident" id="5967682"><a href="/go/scanner/scanner.go.html#5967446">offs</a></span><span class="op" id="5967686">:</span><span class="ident" id="5967687"><a href="/go/scanner/scanner.go.html#5967375">s</a></span><span class="op" id="5967688">.</span><span class="ident" id="5967689">offset</span><span class="op" id="5967695">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967698">if</span>&nbsp;<span class="ident" id="5967701"><a href="/go/scanner/scanner.go.html#5967469">hasCR</a></span>&nbsp;<span class="op" id="5967707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967711"><a href="/go/scanner/scanner.go.html#5967669">lit</a></span>&nbsp;<span class="op" id="5967715">=</span>&nbsp;<span class="ident" id="5967717"><a href="/go/scanner/scanner.go.html#5967221">stripCR</a></span><span class="op" id="5967724">(</span><span class="ident" id="5967725"><a href="/go/scanner/scanner.go.html#5967669">lit</a></span><span class="op" id="5967728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967731">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967735">return</span>&nbsp;<span class="builtintype" id="5967742">string</span><span class="op" id="5967748">(</span><span class="ident" id="5967749"><a href="/go/scanner/scanner.go.html#5967669">lit</a></span><span class="op" id="5967752">)</span><br>
<span class="lineno"></span><span class="op" id="5967754">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5967757">func</span>&nbsp;<span class="op" id="5967762">(</span><span class="ident" id="5967763">s</span>&nbsp;<span class="op" id="5967765">*</span><span class="ident" id="5967766"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5967773">)</span>&nbsp;<span class="ident" id="5967775">skipWhitespace</span><span class="op" id="5967789">(</span><span class="op" id="5967790">)</span>&nbsp;<span class="op" id="5967792">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967795">for</span>&nbsp;<span class="ident" id="5967799"><a href="/go/scanner/scanner.go.html#5967763">s</a></span><span class="op" id="5967800">.</span><span class="ident" id="5967801">ch</span>&nbsp;<span class="op" id="5967804">==</span>&nbsp;<span class="string" id="5967807">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="5967811">||</span>&nbsp;<span class="ident" id="5967814"><a href="/go/scanner/scanner.go.html#5967763">s</a></span><span class="op" id="5967815">.</span><span class="ident" id="5967816">ch</span>&nbsp;<span class="op" id="5967819">==</span>&nbsp;<span class="string" id="5967822">&#39;\t&#39;</span>&nbsp;<span class="op" id="5967827">||</span>&nbsp;<span class="ident" id="5967830"><a href="/go/scanner/scanner.go.html#5967763">s</a></span><span class="op" id="5967831">.</span><span class="ident" id="5967832">ch</span>&nbsp;<span class="op" id="5967835">==</span>&nbsp;<span class="string" id="5967838">&#39;\n&#39;</span>&nbsp;<span class="op" id="5967843">&amp;&amp;</span>&nbsp;<span class="op" id="5967846">!</span><span class="ident" id="5967847"><a href="/go/scanner/scanner.go.html#5967763">s</a></span><span class="op" id="5967848">.</span><span class="ident" id="5967849">insertSemi</span>&nbsp;<span class="op" id="5967860">||</span>&nbsp;<span class="ident" id="5967863"><a href="/go/scanner/scanner.go.html#5967763">s</a></span><span class="op" id="5967864">.</span><span class="ident" id="5967865">ch</span>&nbsp;<span class="op" id="5967868">==</span>&nbsp;<span class="string" id="5967871">&#39;\r&#39;</span>&nbsp;<span class="op" id="5967876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5967880"><a href="/go/scanner/scanner.go.html#5967763">s</a></span><span class="op" id="5967881">.</span><span class="ident" id="5967882">next</span><span class="op" id="5967886">(</span><span class="op" id="5967887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967890">}</span><br>
<span class="lineno"></span><span class="op" id="5967892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">525</span><span class="comment" id="5967895">//&nbsp;Helper&nbsp;functions&nbsp;for&nbsp;scanning&nbsp;multi-byte&nbsp;tokens&nbsp;such&nbsp;as&nbsp;&gt;&gt;&nbsp;+=&nbsp;&gt;&gt;=&nbsp;.</span><br>
<span class="lineno"></span><span class="comment" id="5967966">//&nbsp;Different&nbsp;routines&nbsp;recognize&nbsp;different&nbsp;length&nbsp;tok_i&nbsp;based&nbsp;on&nbsp;matches</span><br>
<span class="lineno"></span><span class="comment" id="5968038">//&nbsp;of&nbsp;ch_i.&nbsp;If&nbsp;a&nbsp;token&nbsp;ends&nbsp;in&nbsp;&#39;=&#39;,&nbsp;the&nbsp;result&nbsp;is&nbsp;tok1&nbsp;or&nbsp;tok3</span><br>
<span class="lineno"></span><span class="comment" id="5968101">//&nbsp;respectively.&nbsp;Otherwise,&nbsp;the&nbsp;result&nbsp;is&nbsp;tok0&nbsp;if&nbsp;there&nbsp;was&nbsp;no&nbsp;other</span><br>
<span class="lineno"></span><span class="comment" id="5968170">//&nbsp;matching&nbsp;character,&nbsp;or&nbsp;tok2&nbsp;if&nbsp;the&nbsp;matching&nbsp;character&nbsp;was&nbsp;ch2.</span><br>
<span class="lineno">530</span><br>
<span class="lineno"></span><span class="keyword" id="5968237">func</span>&nbsp;<span class="op" id="5968242">(</span><span class="ident" id="5968243">s</span>&nbsp;<span class="op" id="5968245">*</span><span class="ident" id="5968246"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5968253">)</span>&nbsp;<span class="ident" id="5968255">switch2</span><span class="op" id="5968262">(</span><span class="ident" id="5968263">tok0</span><span class="op" id="5968267">,</span>&nbsp;<span class="ident" id="5968269">tok1</span>&nbsp;<span class="ident" id="5968274"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5968279">.</span><span class="ident" id="5968280">Token</span><span class="op" id="5968285">)</span>&nbsp;<span class="ident" id="5968287"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5968292">.</span><span class="ident" id="5968293">Token</span>&nbsp;<span class="op" id="5968299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968302">if</span>&nbsp;<span class="ident" id="5968305"><a href="/go/scanner/scanner.go.html#5968243">s</a></span><span class="op" id="5968306">.</span><span class="ident" id="5968307">ch</span>&nbsp;<span class="op" id="5968310">==</span>&nbsp;<span class="string" id="5968313">&#39;=&#39;</span>&nbsp;<span class="op" id="5968317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968321"><a href="/go/scanner/scanner.go.html#5968243">s</a></span><span class="op" id="5968322">.</span><span class="ident" id="5968323">next</span><span class="op" id="5968327">(</span><span class="op" id="5968328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968332">return</span>&nbsp;<span class="ident" id="5968339"><a href="/go/scanner/scanner.go.html#5968269">tok1</a></span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968348">return</span>&nbsp;<span class="ident" id="5968355"><a href="/go/scanner/scanner.go.html#5968263">tok0</a></span><br>
<span class="lineno"></span><span class="op" id="5968360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5968363">func</span>&nbsp;<span class="op" id="5968368">(</span><span class="ident" id="5968369">s</span>&nbsp;<span class="op" id="5968371">*</span><span class="ident" id="5968372"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5968379">)</span>&nbsp;<span class="ident" id="5968381">switch3</span><span class="op" id="5968388">(</span><span class="ident" id="5968389">tok0</span><span class="op" id="5968393">,</span>&nbsp;<span class="ident" id="5968395">tok1</span>&nbsp;<span class="ident" id="5968400"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5968405">.</span><span class="ident" id="5968406">Token</span><span class="op" id="5968411">,</span>&nbsp;<span class="ident" id="5968413">ch2</span>&nbsp;<span class="builtintype" id="5968417">rune</span><span class="op" id="5968421">,</span>&nbsp;<span class="ident" id="5968423">tok2</span>&nbsp;<span class="ident" id="5968428"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5968433">.</span><span class="ident" id="5968434">Token</span><span class="op" id="5968439">)</span>&nbsp;<span class="ident" id="5968441"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5968446">.</span><span class="ident" id="5968447">Token</span>&nbsp;<span class="op" id="5968453">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968456">if</span>&nbsp;<span class="ident" id="5968459"><a href="/go/scanner/scanner.go.html#5968369">s</a></span><span class="op" id="5968460">.</span><span class="ident" id="5968461">ch</span>&nbsp;<span class="op" id="5968464">==</span>&nbsp;<span class="string" id="5968467">&#39;=&#39;</span>&nbsp;<span class="op" id="5968471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968475"><a href="/go/scanner/scanner.go.html#5968369">s</a></span><span class="op" id="5968476">.</span><span class="ident" id="5968477">next</span><span class="op" id="5968481">(</span><span class="op" id="5968482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968486">return</span>&nbsp;<span class="ident" id="5968493"><a href="/go/scanner/scanner.go.html#5968395">tok1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968502">if</span>&nbsp;<span class="ident" id="5968505"><a href="/go/scanner/scanner.go.html#5968369">s</a></span><span class="op" id="5968506">.</span><span class="ident" id="5968507">ch</span>&nbsp;<span class="op" id="5968510">==</span>&nbsp;<span class="ident" id="5968513"><a href="/go/scanner/scanner.go.html#5968413">ch2</a></span>&nbsp;<span class="op" id="5968517">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968521"><a href="/go/scanner/scanner.go.html#5968369">s</a></span><span class="op" id="5968522">.</span><span class="ident" id="5968523">next</span><span class="op" id="5968527">(</span><span class="op" id="5968528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968532">return</span>&nbsp;<span class="ident" id="5968539"><a href="/go/scanner/scanner.go.html#5968423">tok2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968548">return</span>&nbsp;<span class="ident" id="5968555"><a href="/go/scanner/scanner.go.html#5968389">tok0</a></span><br>
<span class="lineno"></span><span class="op" id="5968560">}</span><br>
<span class="lineno">550</span><br>
<span class="lineno"></span><span class="keyword" id="5968563">func</span>&nbsp;<span class="op" id="5968568">(</span><span class="ident" id="5968569">s</span>&nbsp;<span class="op" id="5968571">*</span><span class="ident" id="5968572"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5968579">)</span>&nbsp;<span class="ident" id="5968581">switch4</span><span class="op" id="5968588">(</span><span class="ident" id="5968589">tok0</span><span class="op" id="5968593">,</span>&nbsp;<span class="ident" id="5968595">tok1</span>&nbsp;<span class="ident" id="5968600"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5968605">.</span><span class="ident" id="5968606">Token</span><span class="op" id="5968611">,</span>&nbsp;<span class="ident" id="5968613">ch2</span>&nbsp;<span class="builtintype" id="5968617">rune</span><span class="op" id="5968621">,</span>&nbsp;<span class="ident" id="5968623">tok2</span><span class="op" id="5968627">,</span>&nbsp;<span class="ident" id="5968629">tok3</span>&nbsp;<span class="ident" id="5968634"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5968639">.</span><span class="ident" id="5968640">Token</span><span class="op" id="5968645">)</span>&nbsp;<span class="ident" id="5968647"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5968652">.</span><span class="ident" id="5968653">Token</span>&nbsp;<span class="op" id="5968659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968662">if</span>&nbsp;<span class="ident" id="5968665"><a href="/go/scanner/scanner.go.html#5968569">s</a></span><span class="op" id="5968666">.</span><span class="ident" id="5968667">ch</span>&nbsp;<span class="op" id="5968670">==</span>&nbsp;<span class="string" id="5968673">&#39;=&#39;</span>&nbsp;<span class="op" id="5968677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968681"><a href="/go/scanner/scanner.go.html#5968569">s</a></span><span class="op" id="5968682">.</span><span class="ident" id="5968683">next</span><span class="op" id="5968687">(</span><span class="op" id="5968688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968692">return</span>&nbsp;<span class="ident" id="5968699"><a href="/go/scanner/scanner.go.html#5968595">tok1</a></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968708">if</span>&nbsp;<span class="ident" id="5968711"><a href="/go/scanner/scanner.go.html#5968569">s</a></span><span class="op" id="5968712">.</span><span class="ident" id="5968713">ch</span>&nbsp;<span class="op" id="5968716">==</span>&nbsp;<span class="ident" id="5968719"><a href="/go/scanner/scanner.go.html#5968613">ch2</a></span>&nbsp;<span class="op" id="5968723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968727"><a href="/go/scanner/scanner.go.html#5968569">s</a></span><span class="op" id="5968728">.</span><span class="ident" id="5968729">next</span><span class="op" id="5968733">(</span><span class="op" id="5968734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968738">if</span>&nbsp;<span class="ident" id="5968741"><a href="/go/scanner/scanner.go.html#5968569">s</a></span><span class="op" id="5968742">.</span><span class="ident" id="5968743">ch</span>&nbsp;<span class="op" id="5968746">==</span>&nbsp;<span class="string" id="5968749">&#39;=&#39;</span>&nbsp;<span class="op" id="5968753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5968758"><a href="/go/scanner/scanner.go.html#5968569">s</a></span><span class="op" id="5968759">.</span><span class="ident" id="5968760">next</span><span class="op" id="5968764">(</span><span class="op" id="5968765">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968770">return</span>&nbsp;<span class="ident" id="5968777"><a href="/go/scanner/scanner.go.html#5968629">tok3</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968788">return</span>&nbsp;<span class="ident" id="5968795"><a href="/go/scanner/scanner.go.html#5968623">tok2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5968801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5968804">return</span>&nbsp;<span class="ident" id="5968811"><a href="/go/scanner/scanner.go.html#5968589">tok0</a></span><br>
<span class="lineno">565</span><span class="op" id="5968816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5968819">//&nbsp;Scan&nbsp;scans&nbsp;the&nbsp;next&nbsp;token&nbsp;and&nbsp;returns&nbsp;the&nbsp;token&nbsp;position,&nbsp;the&nbsp;token,</span><br>
<span class="lineno"></span><span class="comment" id="5968891">//&nbsp;and&nbsp;its&nbsp;literal&nbsp;string&nbsp;if&nbsp;applicable.&nbsp;The&nbsp;source&nbsp;end&nbsp;is&nbsp;indicated&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="5968963">//&nbsp;token.EOF.</span><br>
<span class="lineno">570</span><span class="comment" id="5968977">//</span><br>
<span class="lineno"></span><span class="comment" id="5968980">//&nbsp;If&nbsp;the&nbsp;returned&nbsp;token&nbsp;is&nbsp;a&nbsp;literal&nbsp;(token.IDENT,&nbsp;token.INT,&nbsp;token.FLOAT,</span><br>
<span class="lineno"></span><span class="comment" id="5969056">//&nbsp;token.IMAG,&nbsp;token.CHAR,&nbsp;token.STRING)&nbsp;or&nbsp;token.COMMENT,&nbsp;the&nbsp;literal&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="5969134">//&nbsp;has&nbsp;the&nbsp;corresponding&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5969166">//</span><br>
<span class="lineno">575</span><span class="comment" id="5969169">//&nbsp;If&nbsp;the&nbsp;returned&nbsp;token&nbsp;is&nbsp;a&nbsp;keyword,&nbsp;the&nbsp;literal&nbsp;string&nbsp;is&nbsp;the&nbsp;keyword.</span><br>
<span class="lineno"></span><span class="comment" id="5969243">//</span><br>
<span class="lineno"></span><span class="comment" id="5969246">//&nbsp;If&nbsp;the&nbsp;returned&nbsp;token&nbsp;is&nbsp;token.SEMICOLON,&nbsp;the&nbsp;corresponding</span><br>
<span class="lineno"></span><span class="comment" id="5969309">//&nbsp;literal&nbsp;string&nbsp;is&nbsp;&#34;;&#34;&nbsp;if&nbsp;the&nbsp;semicolon&nbsp;was&nbsp;present&nbsp;in&nbsp;the&nbsp;source,</span><br>
<span class="lineno"></span><span class="comment" id="5969378">//&nbsp;and&nbsp;&#34;\n&#34;&nbsp;if&nbsp;the&nbsp;semicolon&nbsp;was&nbsp;inserted&nbsp;because&nbsp;of&nbsp;a&nbsp;newline&nbsp;or</span><br>
<span class="lineno">580</span><span class="comment" id="5969444">//&nbsp;at&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="comment" id="5969455">//</span><br>
<span class="lineno"></span><span class="comment" id="5969458">//&nbsp;If&nbsp;the&nbsp;returned&nbsp;token&nbsp;is&nbsp;token.ILLEGAL,&nbsp;the&nbsp;literal&nbsp;string&nbsp;is&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5969527">//&nbsp;offending&nbsp;character.</span><br>
<span class="lineno"></span><span class="comment" id="5969551">//</span><br>
<span class="lineno">585</span><span class="comment" id="5969554">//&nbsp;In&nbsp;all&nbsp;other&nbsp;cases,&nbsp;Scan&nbsp;returns&nbsp;an&nbsp;empty&nbsp;literal&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="5969615">//</span><br>
<span class="lineno"></span><span class="comment" id="5969618">//&nbsp;For&nbsp;more&nbsp;tolerant&nbsp;parsing,&nbsp;Scan&nbsp;will&nbsp;return&nbsp;a&nbsp;valid&nbsp;token&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5969682">//&nbsp;possible&nbsp;even&nbsp;if&nbsp;a&nbsp;syntax&nbsp;error&nbsp;was&nbsp;encountered.&nbsp;Thus,&nbsp;even</span><br>
<span class="lineno"></span><span class="comment" id="5969745">//&nbsp;if&nbsp;the&nbsp;resulting&nbsp;token&nbsp;sequence&nbsp;contains&nbsp;no&nbsp;illegal&nbsp;tokens,</span><br>
<span class="lineno">590</span><span class="comment" id="5969808">//&nbsp;a&nbsp;client&nbsp;may&nbsp;not&nbsp;assume&nbsp;that&nbsp;no&nbsp;error&nbsp;occurred.&nbsp;Instead&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5969870">//&nbsp;must&nbsp;check&nbsp;the&nbsp;scanner&#39;s&nbsp;ErrorCount&nbsp;or&nbsp;the&nbsp;number&nbsp;of&nbsp;calls</span><br>
<span class="lineno"></span><span class="comment" id="5969932">//&nbsp;of&nbsp;the&nbsp;error&nbsp;handler,&nbsp;if&nbsp;there&nbsp;was&nbsp;one&nbsp;installed.</span><br>
<span class="lineno"></span><span class="comment" id="5969985">//</span><br>
<span class="lineno"></span><span class="comment" id="5969988">//&nbsp;Scan&nbsp;adds&nbsp;line&nbsp;information&nbsp;to&nbsp;the&nbsp;file&nbsp;added&nbsp;to&nbsp;the&nbsp;file</span><br>
<span class="lineno">595</span><span class="comment" id="5970048">//&nbsp;set&nbsp;with&nbsp;Init.&nbsp;Token&nbsp;positions&nbsp;are&nbsp;relative&nbsp;to&nbsp;that&nbsp;file</span><br>
<span class="lineno"></span><span class="comment" id="5970108">//&nbsp;and&nbsp;thus&nbsp;relative&nbsp;to&nbsp;the&nbsp;file&nbsp;set.</span><br>
<span class="lineno"></span><span class="comment" id="5970146">//</span><br>
<span class="lineno"></span><span class="keyword" id="5970149">func</span>&nbsp;<span class="op" id="5970154">(</span><span class="ident" id="5970155">s</span>&nbsp;<span class="op" id="5970157">*</span><span class="ident" id="5970158"><a href="/go/scanner/scanner.go.html#5957423">Scanner</a></span><span class="op" id="5970165">)</span>&nbsp;<span class="ident" id="5970167">Scan</span><span class="op" id="5970171">(</span><span class="op" id="5970172">)</span>&nbsp;<span class="op" id="5970174">(</span><span class="ident" id="5970175">pos</span>&nbsp;<span class="ident" id="5970179"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970184">.</span><span class="ident" id="5970185">Pos</span><span class="op" id="5970188">,</span>&nbsp;<span class="ident" id="5970190">tok</span>&nbsp;<span class="ident" id="5970194"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970199">.</span><span class="ident" id="5970200">Token</span><span class="op" id="5970205">,</span>&nbsp;<span class="ident" id="5970207">lit</span>&nbsp;<span class="builtintype" id="5970211">string</span><span class="op" id="5970217">)</span>&nbsp;<span class="op" id="5970219">{</span><br>
<span class="lineno"></span><span class="ident" id="5970221">scanAgain</span><span class="op" id="5970230">:</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970233"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5970234">.</span><span class="ident" id="5970235">skipWhitespace</span><span class="op" id="5970249">(</span><span class="op" id="5970250">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5970254">//&nbsp;current&nbsp;token&nbsp;start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970278"><a href="/go/scanner/scanner.go.html#5970175">pos</a></span>&nbsp;<span class="op" id="5970282">=</span>&nbsp;<span class="ident" id="5970284"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5970285">.</span><span class="ident" id="5970286">file</span><span class="op" id="5970290">.</span><span class="ident" id="5970291">Pos</span><span class="op" id="5970294">(</span><span class="ident" id="5970295"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5970296">.</span><span class="ident" id="5970297">offset</span><span class="op" id="5970303">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5970307">//&nbsp;determine&nbsp;token&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970333">insertSemi</span>&nbsp;<span class="op" id="5970344">:=</span>&nbsp;<span class="ident" id="5970347">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970354">switch</span>&nbsp;<span class="ident" id="5970361">ch</span>&nbsp;<span class="op" id="5970364">:=</span>&nbsp;<span class="ident" id="5970367"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5970368">.</span><span class="ident" id="5970369">ch</span><span class="op" id="5970371">;</span>&nbsp;<span class="op" id="5970373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970376">case</span>&nbsp;<span class="ident" id="5970381"><a href="/go/scanner/scanner.go.html#5963015">isLetter</a></span><span class="op" id="5970389">(</span><span class="ident" id="5970390"><a href="/go/scanner/scanner.go.html#5970361">ch</a></span><span class="op" id="5970392">)</span><span class="op" id="5970393">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970397"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span>&nbsp;<span class="op" id="5970401">=</span>&nbsp;<span class="ident" id="5970403"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5970404">.</span><span class="ident" id="5970405">scanIdentifier</span><span class="op" id="5970419">(</span><span class="op" id="5970420">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970424">if</span>&nbsp;<span class="builtinfunc" id="5970427">len</span><span class="op" id="5970430">(</span><span class="ident" id="5970431"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span><span class="op" id="5970434">)</span>&nbsp;<span class="op" id="5970436">&gt;</span>&nbsp;<span class="num" id="5970438">1</span>&nbsp;<span class="op" id="5970440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5970445">//&nbsp;keywords&nbsp;are&nbsp;longer&nbsp;than&nbsp;one&nbsp;letter&nbsp;-&nbsp;avoid&nbsp;lookup&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970512"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5970516">=</span>&nbsp;<span class="ident" id="5970518"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970523">.</span><span class="ident" id="5970524">Lookup</span><span class="op" id="5970530">(</span><span class="ident" id="5970531"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span><span class="op" id="5970534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970539">switch</span>&nbsp;<span class="ident" id="5970546"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5970550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970555">case</span>&nbsp;<span class="ident" id="5970560"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970565">.</span><span class="ident" id="5970566">IDENT</span><span class="op" id="5970571">,</span>&nbsp;<span class="ident" id="5970573"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970578">.</span><span class="ident" id="5970579">BREAK</span><span class="op" id="5970584">,</span>&nbsp;<span class="ident" id="5970586"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970591">.</span><span class="ident" id="5970592">CONTINUE</span><span class="op" id="5970600">,</span>&nbsp;<span class="ident" id="5970602"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970607">.</span><span class="ident" id="5970608">FALLTHROUGH</span><span class="op" id="5970619">,</span>&nbsp;<span class="ident" id="5970621"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970626">.</span><span class="ident" id="5970627">RETURN</span><span class="op" id="5970633">:</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970639"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5970650">=</span>&nbsp;<span class="ident" id="5970652">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5970660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5970664">}</span>&nbsp;<span class="keyword" id="5970666">else</span>&nbsp;<span class="op" id="5970671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970676"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5970687">=</span>&nbsp;<span class="ident" id="5970689">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970697"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5970701">=</span>&nbsp;<span class="ident" id="5970703"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970708">.</span><span class="ident" id="5970709">IDENT</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5970717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970720">case</span>&nbsp;<span class="string" id="5970725">&#39;0&#39;</span>&nbsp;<span class="op" id="5970729">&lt;=</span>&nbsp;<span class="ident" id="5970732"><a href="/go/scanner/scanner.go.html#5970361">ch</a></span>&nbsp;<span class="op" id="5970735">&amp;&amp;</span>&nbsp;<span class="ident" id="5970738"><a href="/go/scanner/scanner.go.html#5970361">ch</a></span>&nbsp;<span class="op" id="5970741">&lt;=</span>&nbsp;<span class="string" id="5970744">&#39;9&#39;</span><span class="op" id="5970747">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970751"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5970762">=</span>&nbsp;<span class="ident" id="5970764">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970771"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span><span class="op" id="5970774">,</span>&nbsp;<span class="ident" id="5970776"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span>&nbsp;<span class="op" id="5970780">=</span>&nbsp;<span class="ident" id="5970782"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5970783">.</span><span class="ident" id="5970784">scanNumber</span><span class="op" id="5970794">(</span><span class="ident" id="5970795">false</span><span class="op" id="5970800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970803">default</span><span class="op" id="5970810">:</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970814"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5970815">.</span><span class="ident" id="5970816">next</span><span class="op" id="5970820">(</span><span class="op" id="5970821">)</span>&nbsp;<span class="comment" id="5970823">//&nbsp;always&nbsp;make&nbsp;progress</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970849">switch</span>&nbsp;<span class="ident" id="5970856"><a href="/go/scanner/scanner.go.html#5970361">ch</a></span>&nbsp;<span class="op" id="5970859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970863">case</span>&nbsp;<span class="op" id="5970868">-</span><span class="num" id="5970869">1</span><span class="op" id="5970870">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970875">if</span>&nbsp;<span class="ident" id="5970878"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5970879">.</span><span class="ident" id="5970880">insertSemi</span>&nbsp;<span class="op" id="5970891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970897"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5970898">.</span><span class="ident" id="5970899">insertSemi</span>&nbsp;<span class="op" id="5970910">=</span>&nbsp;<span class="ident" id="5970912">false</span>&nbsp;<span class="comment" id="5970918">//&nbsp;EOF&nbsp;consumed</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970938">return</span>&nbsp;<span class="ident" id="5970945"><a href="/go/scanner/scanner.go.html#5970175">pos</a></span><span class="op" id="5970948">,</span>&nbsp;<span class="ident" id="5970950"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970955">.</span><span class="ident" id="5970956">SEMICOLON</span><span class="op" id="5970965">,</span>&nbsp;<span class="string" id="5970967">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5970975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5970980"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5970984">=</span>&nbsp;<span class="ident" id="5970986"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5970991">.</span><span class="ident" id="5970992">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5970998">case</span>&nbsp;<span class="string" id="5971003">&#39;\n&#39;</span><span class="op" id="5971007">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5971012">//&nbsp;we&nbsp;only&nbsp;reach&nbsp;here&nbsp;if&nbsp;s.insertSemi&nbsp;was</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5971057">//&nbsp;set&nbsp;in&nbsp;the&nbsp;first&nbsp;place&nbsp;and&nbsp;exited&nbsp;early</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5971103">//&nbsp;from&nbsp;s.skipWhitespace()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971133"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971134">.</span><span class="ident" id="5971135">insertSemi</span>&nbsp;<span class="op" id="5971146">=</span>&nbsp;<span class="ident" id="5971148">false</span>&nbsp;<span class="comment" id="5971154">//&nbsp;newline&nbsp;consumed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971177">return</span>&nbsp;<span class="ident" id="5971184"><a href="/go/scanner/scanner.go.html#5970175">pos</a></span><span class="op" id="5971187">,</span>&nbsp;<span class="ident" id="5971189"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971194">.</span><span class="ident" id="5971195">SEMICOLON</span><span class="op" id="5971204">,</span>&nbsp;<span class="string" id="5971206">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971213">case</span>&nbsp;<span class="string" id="5971218">&#39;&#34;&#39;</span><span class="op" id="5971221">:</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971226"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5971237">=</span>&nbsp;<span class="ident" id="5971239">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971247"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971251">=</span>&nbsp;<span class="ident" id="5971253"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971258">.</span><span class="ident" id="5971259">STRING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971269"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span>&nbsp;<span class="op" id="5971273">=</span>&nbsp;<span class="ident" id="5971275"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971276">.</span><span class="ident" id="5971277">scanString</span><span class="op" id="5971287">(</span><span class="op" id="5971288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971292">case</span>&nbsp;<span class="string" id="5971297">&#39;\&#39;&#39;</span><span class="op" id="5971301">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971306"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5971317">=</span>&nbsp;<span class="ident" id="5971319">true</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971327"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971331">=</span>&nbsp;<span class="ident" id="5971333"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971338">.</span><span class="ident" id="5971339">CHAR</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971347"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span>&nbsp;<span class="op" id="5971351">=</span>&nbsp;<span class="ident" id="5971353"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971354">.</span><span class="ident" id="5971355">scanRune</span><span class="op" id="5971363">(</span><span class="op" id="5971364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971368">case</span>&nbsp;<span class="string" id="5971373">&#39;`&#39;</span><span class="op" id="5971376">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971381"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5971392">=</span>&nbsp;<span class="ident" id="5971394">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971402"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971406">=</span>&nbsp;<span class="ident" id="5971408"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971413">.</span><span class="ident" id="5971414">STRING</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971424"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span>&nbsp;<span class="op" id="5971428">=</span>&nbsp;<span class="ident" id="5971430"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971431">.</span><span class="ident" id="5971432">scanRawString</span><span class="op" id="5971445">(</span><span class="op" id="5971446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971450">case</span>&nbsp;<span class="string" id="5971455">&#39;:&#39;</span><span class="op" id="5971458">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971463"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971467">=</span>&nbsp;<span class="ident" id="5971469"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971470">.</span><span class="ident" id="5971471">switch2</span><span class="op" id="5971478">(</span><span class="ident" id="5971479"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971484">.</span><span class="ident" id="5971485">COLON</span><span class="op" id="5971490">,</span>&nbsp;<span class="ident" id="5971492"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971497">.</span><span class="ident" id="5971498">DEFINE</span><span class="op" id="5971504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971508">case</span>&nbsp;<span class="string" id="5971513">&#39;.&#39;</span><span class="op" id="5971516">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971521">if</span>&nbsp;<span class="string" id="5971524">&#39;0&#39;</span>&nbsp;<span class="op" id="5971528">&lt;=</span>&nbsp;<span class="ident" id="5971531"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971532">.</span><span class="ident" id="5971533">ch</span>&nbsp;<span class="op" id="5971536">&amp;&amp;</span>&nbsp;<span class="ident" id="5971539"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971540">.</span><span class="ident" id="5971541">ch</span>&nbsp;<span class="op" id="5971544">&lt;=</span>&nbsp;<span class="string" id="5971547">&#39;9&#39;</span>&nbsp;<span class="op" id="5971551">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971557"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5971568">=</span>&nbsp;<span class="ident" id="5971570">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971579"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span><span class="op" id="5971582">,</span>&nbsp;<span class="ident" id="5971584"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span>&nbsp;<span class="op" id="5971588">=</span>&nbsp;<span class="ident" id="5971590"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971591">.</span><span class="ident" id="5971592">scanNumber</span><span class="op" id="5971602">(</span><span class="ident" id="5971603">true</span><span class="op" id="5971607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5971612">}</span>&nbsp;<span class="keyword" id="5971614">else</span>&nbsp;<span class="keyword" id="5971619">if</span>&nbsp;<span class="ident" id="5971622"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971623">.</span><span class="ident" id="5971624">ch</span>&nbsp;<span class="op" id="5971627">==</span>&nbsp;<span class="string" id="5971630">&#39;.&#39;</span>&nbsp;<span class="op" id="5971634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971640"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971641">.</span><span class="ident" id="5971642">next</span><span class="op" id="5971646">(</span><span class="op" id="5971647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971653">if</span>&nbsp;<span class="ident" id="5971656"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971657">.</span><span class="ident" id="5971658">ch</span>&nbsp;<span class="op" id="5971661">==</span>&nbsp;<span class="string" id="5971664">&#39;.&#39;</span>&nbsp;<span class="op" id="5971668">{</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971675"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5971676">.</span><span class="ident" id="5971677">next</span><span class="op" id="5971681">(</span><span class="op" id="5971682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971689"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971693">=</span>&nbsp;<span class="ident" id="5971695"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971700">.</span><span class="ident" id="5971701">ELLIPSIS</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5971714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5971719">}</span>&nbsp;<span class="keyword" id="5971721">else</span>&nbsp;<span class="op" id="5971726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971732"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971736">=</span>&nbsp;<span class="ident" id="5971738"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971743">.</span><span class="ident" id="5971744">PERIOD</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5971754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971758">case</span>&nbsp;<span class="string" id="5971763">&#39;,&#39;</span><span class="op" id="5971766">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971771"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971775">=</span>&nbsp;<span class="ident" id="5971777"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971782">.</span><span class="ident" id="5971783">COMMA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971791">case</span>&nbsp;<span class="string" id="5971796">&#39;;&#39;</span><span class="op" id="5971799">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971804"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971808">=</span>&nbsp;<span class="ident" id="5971810"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971815">.</span><span class="ident" id="5971816">SEMICOLON</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971829"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span>&nbsp;<span class="op" id="5971833">=</span>&nbsp;<span class="string" id="5971835">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971841">case</span>&nbsp;<span class="string" id="5971846">&#39;(&#39;</span><span class="op" id="5971849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971854"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971858">=</span>&nbsp;<span class="ident" id="5971860"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971865">.</span><span class="ident" id="5971866">LPAREN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971875">case</span>&nbsp;<span class="string" id="5971880">&#39;)&#39;</span><span class="op" id="5971883">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971888"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5971899">=</span>&nbsp;<span class="ident" id="5971901">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971909"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971913">=</span>&nbsp;<span class="ident" id="5971915"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971920">.</span><span class="ident" id="5971921">RPAREN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971930">case</span>&nbsp;<span class="string" id="5971935">&#39;[&#39;</span><span class="op" id="5971938">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971943"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5971947">=</span>&nbsp;<span class="ident" id="5971949"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5971954">.</span><span class="ident" id="5971955">LBRACK</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5971964">case</span>&nbsp;<span class="string" id="5971969">&#39;]&#39;</span><span class="op" id="5971972">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971977"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5971988">=</span>&nbsp;<span class="ident" id="5971990">true</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5971998"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972002">=</span>&nbsp;<span class="ident" id="5972004"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972009">.</span><span class="ident" id="5972010">RBRACK</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972019">case</span>&nbsp;<span class="string" id="5972024">&#39;{&#39;</span><span class="op" id="5972027">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972032"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972036">=</span>&nbsp;<span class="ident" id="5972038"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972043">.</span><span class="ident" id="5972044">LBRACE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972053">case</span>&nbsp;<span class="string" id="5972058">&#39;}&#39;</span><span class="op" id="5972061">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972066"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5972077">=</span>&nbsp;<span class="ident" id="5972079">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972087"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972091">=</span>&nbsp;<span class="ident" id="5972093"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972098">.</span><span class="ident" id="5972099">RBRACE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972108">case</span>&nbsp;<span class="string" id="5972113">&#39;+&#39;</span><span class="op" id="5972116">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972121"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972125">=</span>&nbsp;<span class="ident" id="5972127"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972128">.</span><span class="ident" id="5972129">switch3</span><span class="op" id="5972136">(</span><span class="ident" id="5972137"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972142">.</span><span class="ident" id="5972143">ADD</span><span class="op" id="5972146">,</span>&nbsp;<span class="ident" id="5972148"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972153">.</span><span class="ident" id="5972154">ADD_ASSIGN</span><span class="op" id="5972164">,</span>&nbsp;<span class="string" id="5972166">&#39;+&#39;</span><span class="op" id="5972169">,</span>&nbsp;<span class="ident" id="5972171"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972176">.</span><span class="ident" id="5972177">INC</span><span class="op" id="5972180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972185">if</span>&nbsp;<span class="ident" id="5972188"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972192">==</span>&nbsp;<span class="ident" id="5972195"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972200">.</span><span class="ident" id="5972201">INC</span>&nbsp;<span class="op" id="5972205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972211"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5972222">=</span>&nbsp;<span class="ident" id="5972224">true</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5972232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972236">case</span>&nbsp;<span class="string" id="5972241">&#39;-&#39;</span><span class="op" id="5972244">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972249"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972253">=</span>&nbsp;<span class="ident" id="5972255"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972256">.</span><span class="ident" id="5972257">switch3</span><span class="op" id="5972264">(</span><span class="ident" id="5972265"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972270">.</span><span class="ident" id="5972271">SUB</span><span class="op" id="5972274">,</span>&nbsp;<span class="ident" id="5972276"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972281">.</span><span class="ident" id="5972282">SUB_ASSIGN</span><span class="op" id="5972292">,</span>&nbsp;<span class="string" id="5972294">&#39;-&#39;</span><span class="op" id="5972297">,</span>&nbsp;<span class="ident" id="5972299"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972304">.</span><span class="ident" id="5972305">DEC</span><span class="op" id="5972308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972313">if</span>&nbsp;<span class="ident" id="5972316"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972320">==</span>&nbsp;<span class="ident" id="5972323"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972328">.</span><span class="ident" id="5972329">DEC</span>&nbsp;<span class="op" id="5972333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972339"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5972350">=</span>&nbsp;<span class="ident" id="5972352">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5972360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972364">case</span>&nbsp;<span class="string" id="5972369">&#39;*&#39;</span><span class="op" id="5972372">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972377"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972381">=</span>&nbsp;<span class="ident" id="5972383"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972384">.</span><span class="ident" id="5972385">switch2</span><span class="op" id="5972392">(</span><span class="ident" id="5972393"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972398">.</span><span class="ident" id="5972399">MUL</span><span class="op" id="5972402">,</span>&nbsp;<span class="ident" id="5972404"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972409">.</span><span class="ident" id="5972410">MUL_ASSIGN</span><span class="op" id="5972420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972424">case</span>&nbsp;<span class="string" id="5972429">&#39;/&#39;</span><span class="op" id="5972432">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972437">if</span>&nbsp;<span class="ident" id="5972440"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972441">.</span><span class="ident" id="5972442">ch</span>&nbsp;<span class="op" id="5972445">==</span>&nbsp;<span class="string" id="5972448">&#39;/&#39;</span>&nbsp;<span class="op" id="5972452">||</span>&nbsp;<span class="ident" id="5972455"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972456">.</span><span class="ident" id="5972457">ch</span>&nbsp;<span class="op" id="5972460">==</span>&nbsp;<span class="string" id="5972463">&#39;*&#39;</span>&nbsp;<span class="op" id="5972467">{</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5972473">//&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972488">if</span>&nbsp;<span class="ident" id="5972491"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972492">.</span><span class="ident" id="5972493">insertSemi</span>&nbsp;<span class="op" id="5972504">&amp;&amp;</span>&nbsp;<span class="ident" id="5972507"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972508">.</span><span class="ident" id="5972509">findLineEnd</span><span class="op" id="5972520">(</span><span class="op" id="5972521">)</span>&nbsp;<span class="op" id="5972523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5972530">//&nbsp;reset&nbsp;position&nbsp;to&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972585"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972586">.</span><span class="ident" id="5972587">ch</span>&nbsp;<span class="op" id="5972590">=</span>&nbsp;<span class="string" id="5972592">&#39;/&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972601"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972602">.</span><span class="ident" id="5972603">offset</span>&nbsp;<span class="op" id="5972610">=</span>&nbsp;<span class="ident" id="5972612"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972613">.</span><span class="ident" id="5972614">file</span><span class="op" id="5972618">.</span><span class="ident" id="5972619">Offset</span><span class="op" id="5972625">(</span><span class="ident" id="5972626"><a href="/go/scanner/scanner.go.html#5970175">pos</a></span><span class="op" id="5972629">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972636"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972637">.</span><span class="ident" id="5972638">rdOffset</span>&nbsp;<span class="op" id="5972647">=</span>&nbsp;<span class="ident" id="5972649"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972650">.</span><span class="ident" id="5972651">offset</span>&nbsp;<span class="op" id="5972658">+</span>&nbsp;<span class="num" id="5972660">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972667"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972668">.</span><span class="ident" id="5972669">insertSemi</span>&nbsp;<span class="op" id="5972680">=</span>&nbsp;<span class="ident" id="5972682">false</span>&nbsp;<span class="comment" id="5972688">//&nbsp;newline&nbsp;consumed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972713">return</span>&nbsp;<span class="ident" id="5972720"><a href="/go/scanner/scanner.go.html#5970175">pos</a></span><span class="op" id="5972723">,</span>&nbsp;<span class="ident" id="5972725"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972730">.</span><span class="ident" id="5972731">SEMICOLON</span><span class="op" id="5972740">,</span>&nbsp;<span class="string" id="5972742">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5972751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972757"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span>&nbsp;<span class="op" id="5972761">=</span>&nbsp;<span class="ident" id="5972763"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972764">.</span><span class="ident" id="5972765">scanComment</span><span class="op" id="5972776">(</span><span class="op" id="5972777">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972783">if</span>&nbsp;<span class="ident" id="5972786"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972787">.</span><span class="ident" id="5972788">mode</span><span class="op" id="5972792">&amp;</span><span class="ident" id="5972793"><a href="/go/scanner/scanner.go.html#5958973">ScanComments</a></span>&nbsp;<span class="op" id="5972806">==</span>&nbsp;<span class="num" id="5972809">0</span>&nbsp;<span class="op" id="5972811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5972818">//&nbsp;skip&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972839"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972840">.</span><span class="ident" id="5972841">insertSemi</span>&nbsp;<span class="op" id="5972852">=</span>&nbsp;<span class="ident" id="5972854">false</span>&nbsp;<span class="comment" id="5972860">//&nbsp;newline&nbsp;consumed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972885">goto</span>&nbsp;<span class="ident" id="5972890">scanAgain</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5972904">}</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972910"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972914">=</span>&nbsp;<span class="ident" id="5972916"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972921">.</span><span class="ident" id="5972922">COMMENT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5972933">}</span>&nbsp;<span class="keyword" id="5972935">else</span>&nbsp;<span class="op" id="5972940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5972946"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5972950">=</span>&nbsp;<span class="ident" id="5972952"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5972953">.</span><span class="ident" id="5972954">switch2</span><span class="op" id="5972961">(</span><span class="ident" id="5972962"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972967">.</span><span class="ident" id="5972968">QUO</span><span class="op" id="5972971">,</span>&nbsp;<span class="ident" id="5972973"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5972978">.</span><span class="ident" id="5972979">QUO_ASSIGN</span><span class="op" id="5972989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5972994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5972998">case</span>&nbsp;<span class="string" id="5973003">&#39;%&#39;</span><span class="op" id="5973006">:</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973011"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973015">=</span>&nbsp;<span class="ident" id="5973017"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973018">.</span><span class="ident" id="5973019">switch2</span><span class="op" id="5973026">(</span><span class="ident" id="5973027"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973032">.</span><span class="ident" id="5973033">REM</span><span class="op" id="5973036">,</span>&nbsp;<span class="ident" id="5973038"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973043">.</span><span class="ident" id="5973044">REM_ASSIGN</span><span class="op" id="5973054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973058">case</span>&nbsp;<span class="string" id="5973063">&#39;^&#39;</span><span class="op" id="5973066">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973071"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973075">=</span>&nbsp;<span class="ident" id="5973077"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973078">.</span><span class="ident" id="5973079">switch2</span><span class="op" id="5973086">(</span><span class="ident" id="5973087"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973092">.</span><span class="ident" id="5973093">XOR</span><span class="op" id="5973096">,</span>&nbsp;<span class="ident" id="5973098"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973103">.</span><span class="ident" id="5973104">XOR_ASSIGN</span><span class="op" id="5973114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973118">case</span>&nbsp;<span class="string" id="5973123">&#39;&lt;&#39;</span><span class="op" id="5973126">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973131">if</span>&nbsp;<span class="ident" id="5973134"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973135">.</span><span class="ident" id="5973136">ch</span>&nbsp;<span class="op" id="5973139">==</span>&nbsp;<span class="string" id="5973142">&#39;-&#39;</span>&nbsp;<span class="op" id="5973146">{</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973152"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973153">.</span><span class="ident" id="5973154">next</span><span class="op" id="5973158">(</span><span class="op" id="5973159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973165"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973169">=</span>&nbsp;<span class="ident" id="5973171"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973176">.</span><span class="ident" id="5973177">ARROW</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5973186">}</span>&nbsp;<span class="keyword" id="5973188">else</span>&nbsp;<span class="op" id="5973193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973199"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973203">=</span>&nbsp;<span class="ident" id="5973205"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973206">.</span><span class="ident" id="5973207">switch4</span><span class="op" id="5973214">(</span><span class="ident" id="5973215"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973220">.</span><span class="ident" id="5973221">LSS</span><span class="op" id="5973224">,</span>&nbsp;<span class="ident" id="5973226"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973231">.</span><span class="ident" id="5973232">LEQ</span><span class="op" id="5973235">,</span>&nbsp;<span class="string" id="5973237">&#39;&lt;&#39;</span><span class="op" id="5973240">,</span>&nbsp;<span class="ident" id="5973242"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973247">.</span><span class="ident" id="5973248">SHL</span><span class="op" id="5973251">,</span>&nbsp;<span class="ident" id="5973253"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973258">.</span><span class="ident" id="5973259">SHL_ASSIGN</span><span class="op" id="5973269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5973274">}</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973278">case</span>&nbsp;<span class="string" id="5973283">&#39;&gt;&#39;</span><span class="op" id="5973286">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973291"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973295">=</span>&nbsp;<span class="ident" id="5973297"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973298">.</span><span class="ident" id="5973299">switch4</span><span class="op" id="5973306">(</span><span class="ident" id="5973307"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973312">.</span><span class="ident" id="5973313">GTR</span><span class="op" id="5973316">,</span>&nbsp;<span class="ident" id="5973318"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973323">.</span><span class="ident" id="5973324">GEQ</span><span class="op" id="5973327">,</span>&nbsp;<span class="string" id="5973329">&#39;&gt;&#39;</span><span class="op" id="5973332">,</span>&nbsp;<span class="ident" id="5973334"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973339">.</span><span class="ident" id="5973340">SHR</span><span class="op" id="5973343">,</span>&nbsp;<span class="ident" id="5973345"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973350">.</span><span class="ident" id="5973351">SHR_ASSIGN</span><span class="op" id="5973361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973365">case</span>&nbsp;<span class="string" id="5973370">&#39;=&#39;</span><span class="op" id="5973373">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973378"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973382">=</span>&nbsp;<span class="ident" id="5973384"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973385">.</span><span class="ident" id="5973386">switch2</span><span class="op" id="5973393">(</span><span class="ident" id="5973394"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973399">.</span><span class="ident" id="5973400">ASSIGN</span><span class="op" id="5973406">,</span>&nbsp;<span class="ident" id="5973408"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973413">.</span><span class="ident" id="5973414">EQL</span><span class="op" id="5973417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973421">case</span>&nbsp;<span class="string" id="5973426">&#39;!&#39;</span><span class="op" id="5973429">:</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973434"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973438">=</span>&nbsp;<span class="ident" id="5973440"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973441">.</span><span class="ident" id="5973442">switch2</span><span class="op" id="5973449">(</span><span class="ident" id="5973450"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973455">.</span><span class="ident" id="5973456">NOT</span><span class="op" id="5973459">,</span>&nbsp;<span class="ident" id="5973461"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973466">.</span><span class="ident" id="5973467">NEQ</span><span class="op" id="5973470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973474">case</span>&nbsp;<span class="string" id="5973479">&#39;&amp;&#39;</span><span class="op" id="5973482">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973487">if</span>&nbsp;<span class="ident" id="5973490"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973491">.</span><span class="ident" id="5973492">ch</span>&nbsp;<span class="op" id="5973495">==</span>&nbsp;<span class="string" id="5973498">&#39;^&#39;</span>&nbsp;<span class="op" id="5973502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973508"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973509">.</span><span class="ident" id="5973510">next</span><span class="op" id="5973514">(</span><span class="op" id="5973515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973521"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973525">=</span>&nbsp;<span class="ident" id="5973527"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973528">.</span><span class="ident" id="5973529">switch2</span><span class="op" id="5973536">(</span><span class="ident" id="5973537"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973542">.</span><span class="ident" id="5973543">AND_NOT</span><span class="op" id="5973550">,</span>&nbsp;<span class="ident" id="5973552"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973557">.</span><span class="ident" id="5973558">AND_NOT_ASSIGN</span><span class="op" id="5973572">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5973577">}</span>&nbsp;<span class="keyword" id="5973579">else</span>&nbsp;<span class="op" id="5973584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973590"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973594">=</span>&nbsp;<span class="ident" id="5973596"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973597">.</span><span class="ident" id="5973598">switch3</span><span class="op" id="5973605">(</span><span class="ident" id="5973606"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973611">.</span><span class="ident" id="5973612">AND</span><span class="op" id="5973615">,</span>&nbsp;<span class="ident" id="5973617"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973622">.</span><span class="ident" id="5973623">AND_ASSIGN</span><span class="op" id="5973633">,</span>&nbsp;<span class="string" id="5973635">&#39;&amp;&#39;</span><span class="op" id="5973638">,</span>&nbsp;<span class="ident" id="5973640"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973645">.</span><span class="ident" id="5973646">LAND</span><span class="op" id="5973650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5973655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973659">case</span>&nbsp;<span class="string" id="5973664">&#39;|&#39;</span><span class="op" id="5973667">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973672"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973676">=</span>&nbsp;<span class="ident" id="5973678"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973679">.</span><span class="ident" id="5973680">switch3</span><span class="op" id="5973687">(</span><span class="ident" id="5973688"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973693">.</span><span class="ident" id="5973694">OR</span><span class="op" id="5973696">,</span>&nbsp;<span class="ident" id="5973698"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973703">.</span><span class="ident" id="5973704">OR_ASSIGN</span><span class="op" id="5973713">,</span>&nbsp;<span class="string" id="5973715">&#39;|&#39;</span><span class="op" id="5973718">,</span>&nbsp;<span class="ident" id="5973720"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973725">.</span><span class="ident" id="5973726">LOR</span><span class="op" id="5973729">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973733">default</span><span class="op" id="5973740">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5973745">//&nbsp;next&nbsp;reports&nbsp;unexpected&nbsp;BOMs&nbsp;-&nbsp;don&#39;t&nbsp;repeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973795">if</span>&nbsp;<span class="ident" id="5973798"><a href="/go/scanner/scanner.go.html#5970361">ch</a></span>&nbsp;<span class="op" id="5973801">!=</span>&nbsp;<span class="ident" id="5973804"><a href="/go/scanner/scanner.go.html#5958021">bom</a></span>&nbsp;<span class="op" id="5973808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973814"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973815">.</span><span class="builtintype" id="5973816">error</span><span class="op" id="5973821">(</span><span class="ident" id="5973822"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973823">.</span><span class="ident" id="5973824">file</span><span class="op" id="5973828">.</span><span class="ident" id="5973829">Offset</span><span class="op" id="5973835">(</span><span class="ident" id="5973836"><a href="/go/scanner/scanner.go.html#5970175">pos</a></span><span class="op" id="5973839">)</span><span class="op" id="5973840">,</span>&nbsp;<span class="ident" id="5973842"><a href="/go/scanner/scanner.go.html#5956851">fmt</a></span><span class="op" id="5973845">.</span><span class="ident" id="5973846">Sprintf</span><span class="op" id="5973853">(</span><span class="string" id="5973854">&#34;illegal&nbsp;character&nbsp;%#U&#34;</span><span class="op" id="5973877">,</span>&nbsp;<span class="ident" id="5973879"><a href="/go/scanner/scanner.go.html#5970361">ch</a></span><span class="op" id="5973881">)</span><span class="op" id="5973882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5973887">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973892"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span>&nbsp;<span class="op" id="5973903">=</span>&nbsp;<span class="ident" id="5973905"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5973906">.</span><span class="ident" id="5973907">insertSemi</span>&nbsp;<span class="comment" id="5973918">//&nbsp;preserve&nbsp;insertSemi&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973949"><a href="/go/scanner/scanner.go.html#5970190">tok</a></span>&nbsp;<span class="op" id="5973953">=</span>&nbsp;<span class="ident" id="5973955"><a href="/go/scanner/scanner.go.html#5956858">token</a></span><span class="op" id="5973960">.</span><span class="ident" id="5973961">ILLEGAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5973972"><a href="/go/scanner/scanner.go.html#5970207">lit</a></span>&nbsp;<span class="op" id="5973976">=</span>&nbsp;<span class="builtintype" id="5973978">string</span><span class="op" id="5973984">(</span><span class="ident" id="5973985"><a href="/go/scanner/scanner.go.html#5970361">ch</a></span><span class="op" id="5973987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5973991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5973994">}</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5973997">if</span>&nbsp;<span class="ident" id="5974000"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5974001">.</span><span class="ident" id="5974002">mode</span><span class="op" id="5974006">&amp;</span><span class="ident" id="5974007"><a href="/go/scanner/scanner.go.html#5959044">dontInsertSemis</a></span>&nbsp;<span class="op" id="5974023">==</span>&nbsp;<span class="num" id="5974026">0</span>&nbsp;<span class="op" id="5974028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5974032"><a href="/go/scanner/scanner.go.html#5970155">s</a></span><span class="op" id="5974033">.</span><span class="ident" id="5974034">insertSemi</span>&nbsp;<span class="op" id="5974045">=</span>&nbsp;<span class="ident" id="5974047"><a href="/go/scanner/scanner.go.html#5970333">insertSemi</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5974059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5974063">return</span><br>
<span class="lineno">760</span><span class="op" id="5974070">}</span>
</div>
</body>
</html>
