<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8459921">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8459976">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8460030">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8460081">package</span>&nbsp;<span class="ident" id="8460089">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8460098">import</span>&nbsp;<span class="op" id="8460105">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8460108">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8460120">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8460133">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8460139">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8460156">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8460167">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8460177">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8460180">var</span>&nbsp;<span class="ident" id="8460184">fset</span>&nbsp;<span class="op" id="8460189">=</span>&nbsp;<span class="ident" id="8460191">token</span><span class="op" id="8460196">.</span><span class="ident" id="8460197">NewFileSet</span><span class="op" id="8460207">(</span><span class="op" id="8460208">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8460211">const</span>&nbsp;<span class="comment" id="8460217">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="8460229">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8460232">special</span>&nbsp;<span class="op" id="8460240">=</span>&nbsp;<span class="ident" id="8460242">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8460248">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8460257">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8460267">keyword</span><br>
<span class="lineno"></span><span class="op" id="8460275">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8460278">func</span>&nbsp;<span class="ident" id="8460283">tokenclass</span><span class="op" id="8460293">(</span><span class="ident" id="8460294">tok</span>&nbsp;<span class="ident" id="8460298">token</span><span class="op" id="8460303">.</span><span class="ident" id="8460304">Token</span><span class="op" id="8460309">)</span>&nbsp;<span class="builtintype" id="8460311">int</span>&nbsp;<span class="op" id="8460315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8460318">switch</span>&nbsp;<span class="op" id="8460325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8460328">case</span>&nbsp;<span class="ident" id="8460333">tok</span><span class="op" id="8460336">.</span><span class="ident" id="8460337">IsLiteral</span><span class="op" id="8460346">(</span><span class="op" id="8460347">)</span><span class="op" id="8460348">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8460352">return</span>&nbsp;<span class="ident" id="8460359">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8460368">case</span>&nbsp;<span class="ident" id="8460373">tok</span><span class="op" id="8460376">.</span><span class="ident" id="8460377">IsOperator</span><span class="op" id="8460387">(</span><span class="op" id="8460388">)</span><span class="op" id="8460389">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8460393">return</span>&nbsp;<span class="ident" id="8460400">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8460410">case</span>&nbsp;<span class="ident" id="8460415">tok</span><span class="op" id="8460418">.</span><span class="ident" id="8460419">IsKeyword</span><span class="op" id="8460428">(</span><span class="op" id="8460429">)</span><span class="op" id="8460430">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8460434">return</span>&nbsp;<span class="ident" id="8460441">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8460453">return</span>&nbsp;<span class="ident" id="8460460">special</span><br>
<span class="lineno">35</span><span class="op" id="8460468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8460471">type</span>&nbsp;<span class="ident" id="8460476">elt</span>&nbsp;<span class="keyword" id="8460480">struct</span>&nbsp;<span class="op" id="8460487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8460490">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8460496">token</span><span class="op" id="8460501">.</span><span class="ident" id="8460502">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8460509">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8460515">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8460523">class</span>&nbsp;<span class="builtintype" id="8460529">int</span><br>
<span class="lineno"></span><span class="op" id="8460533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8460536">var</span>&nbsp;<span class="ident" id="8460540">tokens</span>&nbsp;<span class="op" id="8460547">=</span>&nbsp;<span class="op" id="8460549">[</span><span class="op" id="8460550">...</span><span class="op" id="8460553">]</span><span class="ident" id="8460554">elt</span><span class="op" id="8460557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8460560">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460579">{</span><span class="ident" id="8460580">token</span><span class="op" id="8460585">.</span><span class="ident" id="8460586">COMMENT</span><span class="op" id="8460593">,</span>&nbsp;<span class="string" id="8460595">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8460612">,</span>&nbsp;<span class="ident" id="8460614">special</span><span class="op" id="8460621">}</span><span class="op" id="8460622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460625">{</span><span class="ident" id="8460626">token</span><span class="op" id="8460631">.</span><span class="ident" id="8460632">COMMENT</span><span class="op" id="8460639">,</span>&nbsp;<span class="string" id="8460641">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="8460658">,</span>&nbsp;<span class="ident" id="8460660">special</span><span class="op" id="8460667">}</span><span class="op" id="8460668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460671">{</span><span class="ident" id="8460672">token</span><span class="op" id="8460677">.</span><span class="ident" id="8460678">COMMENT</span><span class="op" id="8460685">,</span>&nbsp;<span class="string" id="8460687">&#34;/*\r*/&#34;</span><span class="op" id="8460695">,</span>&nbsp;<span class="ident" id="8460697">special</span><span class="op" id="8460704">}</span><span class="op" id="8460705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460708">{</span><span class="ident" id="8460709">token</span><span class="op" id="8460714">.</span><span class="ident" id="8460715">COMMENT</span><span class="op" id="8460722">,</span>&nbsp;<span class="string" id="8460724">&#34;//\r\n&#34;</span><span class="op" id="8460732">,</span>&nbsp;<span class="ident" id="8460734">special</span><span class="op" id="8460741">}</span><span class="op" id="8460742">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8460746">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460786">{</span><span class="ident" id="8460787">token</span><span class="op" id="8460792">.</span><span class="ident" id="8460793">IDENT</span><span class="op" id="8460798">,</span>&nbsp;<span class="string" id="8460800">&#34;foobar&#34;</span><span class="op" id="8460808">,</span>&nbsp;<span class="ident" id="8460810">literal</span><span class="op" id="8460817">}</span><span class="op" id="8460818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460821">{</span><span class="ident" id="8460822">token</span><span class="op" id="8460827">.</span><span class="ident" id="8460828">IDENT</span><span class="op" id="8460833">,</span>&nbsp;<span class="string" id="8460835">&#34;a۰۱۸&#34;</span><span class="op" id="8460844">,</span>&nbsp;<span class="ident" id="8460846">literal</span><span class="op" id="8460853">}</span><span class="op" id="8460854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460857">{</span><span class="ident" id="8460858">token</span><span class="op" id="8460863">.</span><span class="ident" id="8460864">IDENT</span><span class="op" id="8460869">,</span>&nbsp;<span class="string" id="8460871">&#34;foo६४&#34;</span><span class="op" id="8460882">,</span>&nbsp;<span class="ident" id="8460884">literal</span><span class="op" id="8460891">}</span><span class="op" id="8460892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460895">{</span><span class="ident" id="8460896">token</span><span class="op" id="8460901">.</span><span class="ident" id="8460902">IDENT</span><span class="op" id="8460907">,</span>&nbsp;<span class="string" id="8460909">&#34;bar９８７６&#34;</span><span class="op" id="8460926">,</span>&nbsp;<span class="ident" id="8460928">literal</span><span class="op" id="8460935">}</span><span class="op" id="8460936">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460939">{</span><span class="ident" id="8460940">token</span><span class="op" id="8460945">.</span><span class="ident" id="8460946">IDENT</span><span class="op" id="8460951">,</span>&nbsp;<span class="string" id="8460953">&#34;ŝ&#34;</span><span class="op" id="8460957">,</span>&nbsp;<span class="ident" id="8460959">literal</span><span class="op" id="8460966">}</span><span class="op" id="8460967">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8460972">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8460997">{</span><span class="ident" id="8460998">token</span><span class="op" id="8461003">.</span><span class="ident" id="8461004">IDENT</span><span class="op" id="8461009">,</span>&nbsp;<span class="string" id="8461011">&#34;ŝfoo&#34;</span><span class="op" id="8461018">,</span>&nbsp;<span class="ident" id="8461020">literal</span><span class="op" id="8461027">}</span><span class="op" id="8461028">,</span>&nbsp;<span class="comment" id="8461030">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461055">{</span><span class="ident" id="8461056">token</span><span class="op" id="8461061">.</span><span class="ident" id="8461062">INT</span><span class="op" id="8461065">,</span>&nbsp;<span class="string" id="8461067">&#34;0&#34;</span><span class="op" id="8461070">,</span>&nbsp;<span class="ident" id="8461072">literal</span><span class="op" id="8461079">}</span><span class="op" id="8461080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461083">{</span><span class="ident" id="8461084">token</span><span class="op" id="8461089">.</span><span class="ident" id="8461090">INT</span><span class="op" id="8461093">,</span>&nbsp;<span class="string" id="8461095">&#34;1&#34;</span><span class="op" id="8461098">,</span>&nbsp;<span class="ident" id="8461100">literal</span><span class="op" id="8461107">}</span><span class="op" id="8461108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461111">{</span><span class="ident" id="8461112">token</span><span class="op" id="8461117">.</span><span class="ident" id="8461118">INT</span><span class="op" id="8461121">,</span>&nbsp;<span class="string" id="8461123">&#34;123456789012345678890&#34;</span><span class="op" id="8461146">,</span>&nbsp;<span class="ident" id="8461148">literal</span><span class="op" id="8461155">}</span><span class="op" id="8461156">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461159">{</span><span class="ident" id="8461160">token</span><span class="op" id="8461165">.</span><span class="ident" id="8461166">INT</span><span class="op" id="8461169">,</span>&nbsp;<span class="string" id="8461171">&#34;01234567&#34;</span><span class="op" id="8461181">,</span>&nbsp;<span class="ident" id="8461183">literal</span><span class="op" id="8461190">}</span><span class="op" id="8461191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461194">{</span><span class="ident" id="8461195">token</span><span class="op" id="8461200">.</span><span class="ident" id="8461201">INT</span><span class="op" id="8461204">,</span>&nbsp;<span class="string" id="8461206">&#34;0xcafebabe&#34;</span><span class="op" id="8461218">,</span>&nbsp;<span class="ident" id="8461220">literal</span><span class="op" id="8461227">}</span><span class="op" id="8461228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461231">{</span><span class="ident" id="8461232">token</span><span class="op" id="8461237">.</span><span class="ident" id="8461238">FLOAT</span><span class="op" id="8461243">,</span>&nbsp;<span class="string" id="8461245">&#34;0.&#34;</span><span class="op" id="8461249">,</span>&nbsp;<span class="ident" id="8461251">literal</span><span class="op" id="8461258">}</span><span class="op" id="8461259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461262">{</span><span class="ident" id="8461263">token</span><span class="op" id="8461268">.</span><span class="ident" id="8461269">FLOAT</span><span class="op" id="8461274">,</span>&nbsp;<span class="string" id="8461276">&#34;.0&#34;</span><span class="op" id="8461280">,</span>&nbsp;<span class="ident" id="8461282">literal</span><span class="op" id="8461289">}</span><span class="op" id="8461290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461293">{</span><span class="ident" id="8461294">token</span><span class="op" id="8461299">.</span><span class="ident" id="8461300">FLOAT</span><span class="op" id="8461305">,</span>&nbsp;<span class="string" id="8461307">&#34;3.14159265&#34;</span><span class="op" id="8461319">,</span>&nbsp;<span class="ident" id="8461321">literal</span><span class="op" id="8461328">}</span><span class="op" id="8461329">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461332">{</span><span class="ident" id="8461333">token</span><span class="op" id="8461338">.</span><span class="ident" id="8461339">FLOAT</span><span class="op" id="8461344">,</span>&nbsp;<span class="string" id="8461346">&#34;1e0&#34;</span><span class="op" id="8461351">,</span>&nbsp;<span class="ident" id="8461353">literal</span><span class="op" id="8461360">}</span><span class="op" id="8461361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461364">{</span><span class="ident" id="8461365">token</span><span class="op" id="8461370">.</span><span class="ident" id="8461371">FLOAT</span><span class="op" id="8461376">,</span>&nbsp;<span class="string" id="8461378">&#34;1e+100&#34;</span><span class="op" id="8461386">,</span>&nbsp;<span class="ident" id="8461388">literal</span><span class="op" id="8461395">}</span><span class="op" id="8461396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461399">{</span><span class="ident" id="8461400">token</span><span class="op" id="8461405">.</span><span class="ident" id="8461406">FLOAT</span><span class="op" id="8461411">,</span>&nbsp;<span class="string" id="8461413">&#34;1e-100&#34;</span><span class="op" id="8461421">,</span>&nbsp;<span class="ident" id="8461423">literal</span><span class="op" id="8461430">}</span><span class="op" id="8461431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461434">{</span><span class="ident" id="8461435">token</span><span class="op" id="8461440">.</span><span class="ident" id="8461441">FLOAT</span><span class="op" id="8461446">,</span>&nbsp;<span class="string" id="8461448">&#34;2.71828e-1000&#34;</span><span class="op" id="8461463">,</span>&nbsp;<span class="ident" id="8461465">literal</span><span class="op" id="8461472">}</span><span class="op" id="8461473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461476">{</span><span class="ident" id="8461477">token</span><span class="op" id="8461482">.</span><span class="ident" id="8461483">IMAG</span><span class="op" id="8461487">,</span>&nbsp;<span class="string" id="8461489">&#34;0i&#34;</span><span class="op" id="8461493">,</span>&nbsp;<span class="ident" id="8461495">literal</span><span class="op" id="8461502">}</span><span class="op" id="8461503">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461506">{</span><span class="ident" id="8461507">token</span><span class="op" id="8461512">.</span><span class="ident" id="8461513">IMAG</span><span class="op" id="8461517">,</span>&nbsp;<span class="string" id="8461519">&#34;1i&#34;</span><span class="op" id="8461523">,</span>&nbsp;<span class="ident" id="8461525">literal</span><span class="op" id="8461532">}</span><span class="op" id="8461533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461536">{</span><span class="ident" id="8461537">token</span><span class="op" id="8461542">.</span><span class="ident" id="8461543">IMAG</span><span class="op" id="8461547">,</span>&nbsp;<span class="string" id="8461549">&#34;012345678901234567889i&#34;</span><span class="op" id="8461573">,</span>&nbsp;<span class="ident" id="8461575">literal</span><span class="op" id="8461582">}</span><span class="op" id="8461583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461586">{</span><span class="ident" id="8461587">token</span><span class="op" id="8461592">.</span><span class="ident" id="8461593">IMAG</span><span class="op" id="8461597">,</span>&nbsp;<span class="string" id="8461599">&#34;123456789012345678890i&#34;</span><span class="op" id="8461623">,</span>&nbsp;<span class="ident" id="8461625">literal</span><span class="op" id="8461632">}</span><span class="op" id="8461633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461636">{</span><span class="ident" id="8461637">token</span><span class="op" id="8461642">.</span><span class="ident" id="8461643">IMAG</span><span class="op" id="8461647">,</span>&nbsp;<span class="string" id="8461649">&#34;0.i&#34;</span><span class="op" id="8461654">,</span>&nbsp;<span class="ident" id="8461656">literal</span><span class="op" id="8461663">}</span><span class="op" id="8461664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461667">{</span><span class="ident" id="8461668">token</span><span class="op" id="8461673">.</span><span class="ident" id="8461674">IMAG</span><span class="op" id="8461678">,</span>&nbsp;<span class="string" id="8461680">&#34;.0i&#34;</span><span class="op" id="8461685">,</span>&nbsp;<span class="ident" id="8461687">literal</span><span class="op" id="8461694">}</span><span class="op" id="8461695">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461698">{</span><span class="ident" id="8461699">token</span><span class="op" id="8461704">.</span><span class="ident" id="8461705">IMAG</span><span class="op" id="8461709">,</span>&nbsp;<span class="string" id="8461711">&#34;3.14159265i&#34;</span><span class="op" id="8461724">,</span>&nbsp;<span class="ident" id="8461726">literal</span><span class="op" id="8461733">}</span><span class="op" id="8461734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461737">{</span><span class="ident" id="8461738">token</span><span class="op" id="8461743">.</span><span class="ident" id="8461744">IMAG</span><span class="op" id="8461748">,</span>&nbsp;<span class="string" id="8461750">&#34;1e0i&#34;</span><span class="op" id="8461756">,</span>&nbsp;<span class="ident" id="8461758">literal</span><span class="op" id="8461765">}</span><span class="op" id="8461766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461769">{</span><span class="ident" id="8461770">token</span><span class="op" id="8461775">.</span><span class="ident" id="8461776">IMAG</span><span class="op" id="8461780">,</span>&nbsp;<span class="string" id="8461782">&#34;1e+100i&#34;</span><span class="op" id="8461791">,</span>&nbsp;<span class="ident" id="8461793">literal</span><span class="op" id="8461800">}</span><span class="op" id="8461801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461804">{</span><span class="ident" id="8461805">token</span><span class="op" id="8461810">.</span><span class="ident" id="8461811">IMAG</span><span class="op" id="8461815">,</span>&nbsp;<span class="string" id="8461817">&#34;1e-100i&#34;</span><span class="op" id="8461826">,</span>&nbsp;<span class="ident" id="8461828">literal</span><span class="op" id="8461835">}</span><span class="op" id="8461836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461839">{</span><span class="ident" id="8461840">token</span><span class="op" id="8461845">.</span><span class="ident" id="8461846">IMAG</span><span class="op" id="8461850">,</span>&nbsp;<span class="string" id="8461852">&#34;2.71828e-1000i&#34;</span><span class="op" id="8461868">,</span>&nbsp;<span class="ident" id="8461870">literal</span><span class="op" id="8461877">}</span><span class="op" id="8461878">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461881">{</span><span class="ident" id="8461882">token</span><span class="op" id="8461887">.</span><span class="ident" id="8461888">CHAR</span><span class="op" id="8461892">,</span>&nbsp;<span class="string" id="8461894">&#34;&#39;a&#39;&#34;</span><span class="op" id="8461899">,</span>&nbsp;<span class="ident" id="8461901">literal</span><span class="op" id="8461908">}</span><span class="op" id="8461909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461912">{</span><span class="ident" id="8461913">token</span><span class="op" id="8461918">.</span><span class="ident" id="8461919">CHAR</span><span class="op" id="8461923">,</span>&nbsp;<span class="string" id="8461925">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="8461934">,</span>&nbsp;<span class="ident" id="8461936">literal</span><span class="op" id="8461943">}</span><span class="op" id="8461944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461947">{</span><span class="ident" id="8461948">token</span><span class="op" id="8461953">.</span><span class="ident" id="8461954">CHAR</span><span class="op" id="8461958">,</span>&nbsp;<span class="string" id="8461960">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="8461969">,</span>&nbsp;<span class="ident" id="8461971">literal</span><span class="op" id="8461978">}</span><span class="op" id="8461979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8461982">{</span><span class="ident" id="8461983">token</span><span class="op" id="8461988">.</span><span class="ident" id="8461989">CHAR</span><span class="op" id="8461993">,</span>&nbsp;<span class="string" id="8461995">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="8462006">,</span>&nbsp;<span class="ident" id="8462008">literal</span><span class="op" id="8462015">}</span><span class="op" id="8462016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462019">{</span><span class="ident" id="8462020">token</span><span class="op" id="8462025">.</span><span class="ident" id="8462026">CHAR</span><span class="op" id="8462030">,</span>&nbsp;<span class="string" id="8462032">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="8462047">,</span>&nbsp;<span class="ident" id="8462049">literal</span><span class="op" id="8462056">}</span><span class="op" id="8462057">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462060">{</span><span class="ident" id="8462061">token</span><span class="op" id="8462066">.</span><span class="ident" id="8462067">STRING</span><span class="op" id="8462073">,</span>&nbsp;<span class="string" id="8462075">&#34;`foobar`&#34;</span><span class="op" id="8462085">,</span>&nbsp;<span class="ident" id="8462087">literal</span><span class="op" id="8462094">}</span><span class="op" id="8462095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462098">{</span><span class="ident" id="8462099">token</span><span class="op" id="8462104">.</span><span class="ident" id="8462105">STRING</span><span class="op" id="8462111">,</span>&nbsp;<span class="string" id="8462113">&#34;`&#34;</span>&nbsp;<span class="op" id="8462117">+</span>&nbsp;<span class="string" id="8462119">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="8462154">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8462158">&#34;`&#34;</span><span class="op" id="8462161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8462165">literal</span><span class="op" id="8462172">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462175">}</span><span class="op" id="8462176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462179">{</span><span class="ident" id="8462180">token</span><span class="op" id="8462185">.</span><span class="ident" id="8462186">STRING</span><span class="op" id="8462192">,</span>&nbsp;<span class="string" id="8462194">&#34;`\r`&#34;</span><span class="op" id="8462200">,</span>&nbsp;<span class="ident" id="8462202">literal</span><span class="op" id="8462209">}</span><span class="op" id="8462210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462213">{</span><span class="ident" id="8462214">token</span><span class="op" id="8462219">.</span><span class="ident" id="8462220">STRING</span><span class="op" id="8462226">,</span>&nbsp;<span class="string" id="8462228">&#34;`foo\r\nbar`&#34;</span><span class="op" id="8462242">,</span>&nbsp;<span class="ident" id="8462244">literal</span><span class="op" id="8462251">}</span><span class="op" id="8462252">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8462256">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462285">{</span><span class="ident" id="8462286">token</span><span class="op" id="8462291">.</span><span class="ident" id="8462292">ADD</span><span class="op" id="8462295">,</span>&nbsp;<span class="string" id="8462297">&#34;+&#34;</span><span class="op" id="8462300">,</span>&nbsp;<span class="ident" id="8462302">operator</span><span class="op" id="8462310">}</span><span class="op" id="8462311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462314">{</span><span class="ident" id="8462315">token</span><span class="op" id="8462320">.</span><span class="ident" id="8462321">SUB</span><span class="op" id="8462324">,</span>&nbsp;<span class="string" id="8462326">&#34;-&#34;</span><span class="op" id="8462329">,</span>&nbsp;<span class="ident" id="8462331">operator</span><span class="op" id="8462339">}</span><span class="op" id="8462340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462343">{</span><span class="ident" id="8462344">token</span><span class="op" id="8462349">.</span><span class="ident" id="8462350">MUL</span><span class="op" id="8462353">,</span>&nbsp;<span class="string" id="8462355">&#34;*&#34;</span><span class="op" id="8462358">,</span>&nbsp;<span class="ident" id="8462360">operator</span><span class="op" id="8462368">}</span><span class="op" id="8462369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462372">{</span><span class="ident" id="8462373">token</span><span class="op" id="8462378">.</span><span class="ident" id="8462379">QUO</span><span class="op" id="8462382">,</span>&nbsp;<span class="string" id="8462384">&#34;/&#34;</span><span class="op" id="8462387">,</span>&nbsp;<span class="ident" id="8462389">operator</span><span class="op" id="8462397">}</span><span class="op" id="8462398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462401">{</span><span class="ident" id="8462402">token</span><span class="op" id="8462407">.</span><span class="ident" id="8462408">REM</span><span class="op" id="8462411">,</span>&nbsp;<span class="string" id="8462413">&#34;%&#34;</span><span class="op" id="8462416">,</span>&nbsp;<span class="ident" id="8462418">operator</span><span class="op" id="8462426">}</span><span class="op" id="8462427">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462431">{</span><span class="ident" id="8462432">token</span><span class="op" id="8462437">.</span><span class="ident" id="8462438">AND</span><span class="op" id="8462441">,</span>&nbsp;<span class="string" id="8462443">&#34;&amp;&#34;</span><span class="op" id="8462446">,</span>&nbsp;<span class="ident" id="8462448">operator</span><span class="op" id="8462456">}</span><span class="op" id="8462457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462460">{</span><span class="ident" id="8462461">token</span><span class="op" id="8462466">.</span><span class="ident" id="8462467">OR</span><span class="op" id="8462469">,</span>&nbsp;<span class="string" id="8462471">&#34;|&#34;</span><span class="op" id="8462474">,</span>&nbsp;<span class="ident" id="8462476">operator</span><span class="op" id="8462484">}</span><span class="op" id="8462485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462488">{</span><span class="ident" id="8462489">token</span><span class="op" id="8462494">.</span><span class="ident" id="8462495">XOR</span><span class="op" id="8462498">,</span>&nbsp;<span class="string" id="8462500">&#34;^&#34;</span><span class="op" id="8462503">,</span>&nbsp;<span class="ident" id="8462505">operator</span><span class="op" id="8462513">}</span><span class="op" id="8462514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462517">{</span><span class="ident" id="8462518">token</span><span class="op" id="8462523">.</span><span class="ident" id="8462524">SHL</span><span class="op" id="8462527">,</span>&nbsp;<span class="string" id="8462529">&#34;&lt;&lt;&#34;</span><span class="op" id="8462533">,</span>&nbsp;<span class="ident" id="8462535">operator</span><span class="op" id="8462543">}</span><span class="op" id="8462544">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462547">{</span><span class="ident" id="8462548">token</span><span class="op" id="8462553">.</span><span class="ident" id="8462554">SHR</span><span class="op" id="8462557">,</span>&nbsp;<span class="string" id="8462559">&#34;&gt;&gt;&#34;</span><span class="op" id="8462563">,</span>&nbsp;<span class="ident" id="8462565">operator</span><span class="op" id="8462573">}</span><span class="op" id="8462574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462577">{</span><span class="ident" id="8462578">token</span><span class="op" id="8462583">.</span><span class="ident" id="8462584">AND_NOT</span><span class="op" id="8462591">,</span>&nbsp;<span class="string" id="8462593">&#34;&amp;^&#34;</span><span class="op" id="8462597">,</span>&nbsp;<span class="ident" id="8462599">operator</span><span class="op" id="8462607">}</span><span class="op" id="8462608">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462612">{</span><span class="ident" id="8462613">token</span><span class="op" id="8462618">.</span><span class="ident" id="8462619">ADD_ASSIGN</span><span class="op" id="8462629">,</span>&nbsp;<span class="string" id="8462631">&#34;+=&#34;</span><span class="op" id="8462635">,</span>&nbsp;<span class="ident" id="8462637">operator</span><span class="op" id="8462645">}</span><span class="op" id="8462646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462649">{</span><span class="ident" id="8462650">token</span><span class="op" id="8462655">.</span><span class="ident" id="8462656">SUB_ASSIGN</span><span class="op" id="8462666">,</span>&nbsp;<span class="string" id="8462668">&#34;-=&#34;</span><span class="op" id="8462672">,</span>&nbsp;<span class="ident" id="8462674">operator</span><span class="op" id="8462682">}</span><span class="op" id="8462683">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462686">{</span><span class="ident" id="8462687">token</span><span class="op" id="8462692">.</span><span class="ident" id="8462693">MUL_ASSIGN</span><span class="op" id="8462703">,</span>&nbsp;<span class="string" id="8462705">&#34;*=&#34;</span><span class="op" id="8462709">,</span>&nbsp;<span class="ident" id="8462711">operator</span><span class="op" id="8462719">}</span><span class="op" id="8462720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462723">{</span><span class="ident" id="8462724">token</span><span class="op" id="8462729">.</span><span class="ident" id="8462730">QUO_ASSIGN</span><span class="op" id="8462740">,</span>&nbsp;<span class="string" id="8462742">&#34;/=&#34;</span><span class="op" id="8462746">,</span>&nbsp;<span class="ident" id="8462748">operator</span><span class="op" id="8462756">}</span><span class="op" id="8462757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462760">{</span><span class="ident" id="8462761">token</span><span class="op" id="8462766">.</span><span class="ident" id="8462767">REM_ASSIGN</span><span class="op" id="8462777">,</span>&nbsp;<span class="string" id="8462779">&#34;%=&#34;</span><span class="op" id="8462783">,</span>&nbsp;<span class="ident" id="8462785">operator</span><span class="op" id="8462793">}</span><span class="op" id="8462794">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462798">{</span><span class="ident" id="8462799">token</span><span class="op" id="8462804">.</span><span class="ident" id="8462805">AND_ASSIGN</span><span class="op" id="8462815">,</span>&nbsp;<span class="string" id="8462817">&#34;&amp;=&#34;</span><span class="op" id="8462821">,</span>&nbsp;<span class="ident" id="8462823">operator</span><span class="op" id="8462831">}</span><span class="op" id="8462832">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462835">{</span><span class="ident" id="8462836">token</span><span class="op" id="8462841">.</span><span class="ident" id="8462842">OR_ASSIGN</span><span class="op" id="8462851">,</span>&nbsp;<span class="string" id="8462853">&#34;|=&#34;</span><span class="op" id="8462857">,</span>&nbsp;<span class="ident" id="8462859">operator</span><span class="op" id="8462867">}</span><span class="op" id="8462868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462871">{</span><span class="ident" id="8462872">token</span><span class="op" id="8462877">.</span><span class="ident" id="8462878">XOR_ASSIGN</span><span class="op" id="8462888">,</span>&nbsp;<span class="string" id="8462890">&#34;^=&#34;</span><span class="op" id="8462894">,</span>&nbsp;<span class="ident" id="8462896">operator</span><span class="op" id="8462904">}</span><span class="op" id="8462905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462908">{</span><span class="ident" id="8462909">token</span><span class="op" id="8462914">.</span><span class="ident" id="8462915">SHL_ASSIGN</span><span class="op" id="8462925">,</span>&nbsp;<span class="string" id="8462927">&#34;&lt;&lt;=&#34;</span><span class="op" id="8462932">,</span>&nbsp;<span class="ident" id="8462934">operator</span><span class="op" id="8462942">}</span><span class="op" id="8462943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462946">{</span><span class="ident" id="8462947">token</span><span class="op" id="8462952">.</span><span class="ident" id="8462953">SHR_ASSIGN</span><span class="op" id="8462963">,</span>&nbsp;<span class="string" id="8462965">&#34;&gt;&gt;=&#34;</span><span class="op" id="8462970">,</span>&nbsp;<span class="ident" id="8462972">operator</span><span class="op" id="8462980">}</span><span class="op" id="8462981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8462984">{</span><span class="ident" id="8462985">token</span><span class="op" id="8462990">.</span><span class="ident" id="8462991">AND_NOT_ASSIGN</span><span class="op" id="8463005">,</span>&nbsp;<span class="string" id="8463007">&#34;&amp;^=&#34;</span><span class="op" id="8463012">,</span>&nbsp;<span class="ident" id="8463014">operator</span><span class="op" id="8463022">}</span><span class="op" id="8463023">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463027">{</span><span class="ident" id="8463028">token</span><span class="op" id="8463033">.</span><span class="ident" id="8463034">LAND</span><span class="op" id="8463038">,</span>&nbsp;<span class="string" id="8463040">&#34;&amp;&amp;&#34;</span><span class="op" id="8463044">,</span>&nbsp;<span class="ident" id="8463046">operator</span><span class="op" id="8463054">}</span><span class="op" id="8463055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463058">{</span><span class="ident" id="8463059">token</span><span class="op" id="8463064">.</span><span class="ident" id="8463065">LOR</span><span class="op" id="8463068">,</span>&nbsp;<span class="string" id="8463070">&#34;||&#34;</span><span class="op" id="8463074">,</span>&nbsp;<span class="ident" id="8463076">operator</span><span class="op" id="8463084">}</span><span class="op" id="8463085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463088">{</span><span class="ident" id="8463089">token</span><span class="op" id="8463094">.</span><span class="ident" id="8463095">ARROW</span><span class="op" id="8463100">,</span>&nbsp;<span class="string" id="8463102">&#34;&lt;-&#34;</span><span class="op" id="8463106">,</span>&nbsp;<span class="ident" id="8463108">operator</span><span class="op" id="8463116">}</span><span class="op" id="8463117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463120">{</span><span class="ident" id="8463121">token</span><span class="op" id="8463126">.</span><span class="ident" id="8463127">INC</span><span class="op" id="8463130">,</span>&nbsp;<span class="string" id="8463132">&#34;++&#34;</span><span class="op" id="8463136">,</span>&nbsp;<span class="ident" id="8463138">operator</span><span class="op" id="8463146">}</span><span class="op" id="8463147">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463150">{</span><span class="ident" id="8463151">token</span><span class="op" id="8463156">.</span><span class="ident" id="8463157">DEC</span><span class="op" id="8463160">,</span>&nbsp;<span class="string" id="8463162">&#34;--&#34;</span><span class="op" id="8463166">,</span>&nbsp;<span class="ident" id="8463168">operator</span><span class="op" id="8463176">}</span><span class="op" id="8463177">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463181">{</span><span class="ident" id="8463182">token</span><span class="op" id="8463187">.</span><span class="ident" id="8463188">EQL</span><span class="op" id="8463191">,</span>&nbsp;<span class="string" id="8463193">&#34;==&#34;</span><span class="op" id="8463197">,</span>&nbsp;<span class="ident" id="8463199">operator</span><span class="op" id="8463207">}</span><span class="op" id="8463208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463211">{</span><span class="ident" id="8463212">token</span><span class="op" id="8463217">.</span><span class="ident" id="8463218">LSS</span><span class="op" id="8463221">,</span>&nbsp;<span class="string" id="8463223">&#34;&lt;&#34;</span><span class="op" id="8463226">,</span>&nbsp;<span class="ident" id="8463228">operator</span><span class="op" id="8463236">}</span><span class="op" id="8463237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463240">{</span><span class="ident" id="8463241">token</span><span class="op" id="8463246">.</span><span class="ident" id="8463247">GTR</span><span class="op" id="8463250">,</span>&nbsp;<span class="string" id="8463252">&#34;&gt;&#34;</span><span class="op" id="8463255">,</span>&nbsp;<span class="ident" id="8463257">operator</span><span class="op" id="8463265">}</span><span class="op" id="8463266">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463269">{</span><span class="ident" id="8463270">token</span><span class="op" id="8463275">.</span><span class="ident" id="8463276">ASSIGN</span><span class="op" id="8463282">,</span>&nbsp;<span class="string" id="8463284">&#34;=&#34;</span><span class="op" id="8463287">,</span>&nbsp;<span class="ident" id="8463289">operator</span><span class="op" id="8463297">}</span><span class="op" id="8463298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463301">{</span><span class="ident" id="8463302">token</span><span class="op" id="8463307">.</span><span class="ident" id="8463308">NOT</span><span class="op" id="8463311">,</span>&nbsp;<span class="string" id="8463313">&#34;!&#34;</span><span class="op" id="8463316">,</span>&nbsp;<span class="ident" id="8463318">operator</span><span class="op" id="8463326">}</span><span class="op" id="8463327">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463331">{</span><span class="ident" id="8463332">token</span><span class="op" id="8463337">.</span><span class="ident" id="8463338">NEQ</span><span class="op" id="8463341">,</span>&nbsp;<span class="string" id="8463343">&#34;!=&#34;</span><span class="op" id="8463347">,</span>&nbsp;<span class="ident" id="8463349">operator</span><span class="op" id="8463357">}</span><span class="op" id="8463358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463361">{</span><span class="ident" id="8463362">token</span><span class="op" id="8463367">.</span><span class="ident" id="8463368">LEQ</span><span class="op" id="8463371">,</span>&nbsp;<span class="string" id="8463373">&#34;&lt;=&#34;</span><span class="op" id="8463377">,</span>&nbsp;<span class="ident" id="8463379">operator</span><span class="op" id="8463387">}</span><span class="op" id="8463388">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463391">{</span><span class="ident" id="8463392">token</span><span class="op" id="8463397">.</span><span class="ident" id="8463398">GEQ</span><span class="op" id="8463401">,</span>&nbsp;<span class="string" id="8463403">&#34;&gt;=&#34;</span><span class="op" id="8463407">,</span>&nbsp;<span class="ident" id="8463409">operator</span><span class="op" id="8463417">}</span><span class="op" id="8463418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463421">{</span><span class="ident" id="8463422">token</span><span class="op" id="8463427">.</span><span class="ident" id="8463428">DEFINE</span><span class="op" id="8463434">,</span>&nbsp;<span class="string" id="8463436">&#34;:=&#34;</span><span class="op" id="8463440">,</span>&nbsp;<span class="ident" id="8463442">operator</span><span class="op" id="8463450">}</span><span class="op" id="8463451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463454">{</span><span class="ident" id="8463455">token</span><span class="op" id="8463460">.</span><span class="ident" id="8463461">ELLIPSIS</span><span class="op" id="8463469">,</span>&nbsp;<span class="string" id="8463471">&#34;...&#34;</span><span class="op" id="8463476">,</span>&nbsp;<span class="ident" id="8463478">operator</span><span class="op" id="8463486">}</span><span class="op" id="8463487">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463491">{</span><span class="ident" id="8463492">token</span><span class="op" id="8463497">.</span><span class="ident" id="8463498">LPAREN</span><span class="op" id="8463504">,</span>&nbsp;<span class="string" id="8463506">&#34;(&#34;</span><span class="op" id="8463509">,</span>&nbsp;<span class="ident" id="8463511">operator</span><span class="op" id="8463519">}</span><span class="op" id="8463520">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463523">{</span><span class="ident" id="8463524">token</span><span class="op" id="8463529">.</span><span class="ident" id="8463530">LBRACK</span><span class="op" id="8463536">,</span>&nbsp;<span class="string" id="8463538">&#34;[&#34;</span><span class="op" id="8463541">,</span>&nbsp;<span class="ident" id="8463543">operator</span><span class="op" id="8463551">}</span><span class="op" id="8463552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463555">{</span><span class="ident" id="8463556">token</span><span class="op" id="8463561">.</span><span class="ident" id="8463562">LBRACE</span><span class="op" id="8463568">,</span>&nbsp;<span class="string" id="8463570">&#34;{&#34;</span><span class="op" id="8463573">,</span>&nbsp;<span class="ident" id="8463575">operator</span><span class="op" id="8463583">}</span><span class="op" id="8463584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463587">{</span><span class="ident" id="8463588">token</span><span class="op" id="8463593">.</span><span class="ident" id="8463594">COMMA</span><span class="op" id="8463599">,</span>&nbsp;<span class="string" id="8463601">&#34;,&#34;</span><span class="op" id="8463604">,</span>&nbsp;<span class="ident" id="8463606">operator</span><span class="op" id="8463614">}</span><span class="op" id="8463615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463618">{</span><span class="ident" id="8463619">token</span><span class="op" id="8463624">.</span><span class="ident" id="8463625">PERIOD</span><span class="op" id="8463631">,</span>&nbsp;<span class="string" id="8463633">&#34;.&#34;</span><span class="op" id="8463636">,</span>&nbsp;<span class="ident" id="8463638">operator</span><span class="op" id="8463646">}</span><span class="op" id="8463647">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463651">{</span><span class="ident" id="8463652">token</span><span class="op" id="8463657">.</span><span class="ident" id="8463658">RPAREN</span><span class="op" id="8463664">,</span>&nbsp;<span class="string" id="8463666">&#34;)&#34;</span><span class="op" id="8463669">,</span>&nbsp;<span class="ident" id="8463671">operator</span><span class="op" id="8463679">}</span><span class="op" id="8463680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463683">{</span><span class="ident" id="8463684">token</span><span class="op" id="8463689">.</span><span class="ident" id="8463690">RBRACK</span><span class="op" id="8463696">,</span>&nbsp;<span class="string" id="8463698">&#34;]&#34;</span><span class="op" id="8463701">,</span>&nbsp;<span class="ident" id="8463703">operator</span><span class="op" id="8463711">}</span><span class="op" id="8463712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463715">{</span><span class="ident" id="8463716">token</span><span class="op" id="8463721">.</span><span class="ident" id="8463722">RBRACE</span><span class="op" id="8463728">,</span>&nbsp;<span class="string" id="8463730">&#34;}&#34;</span><span class="op" id="8463733">,</span>&nbsp;<span class="ident" id="8463735">operator</span><span class="op" id="8463743">}</span><span class="op" id="8463744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463747">{</span><span class="ident" id="8463748">token</span><span class="op" id="8463753">.</span><span class="ident" id="8463754">SEMICOLON</span><span class="op" id="8463763">,</span>&nbsp;<span class="string" id="8463765">&#34;;&#34;</span><span class="op" id="8463768">,</span>&nbsp;<span class="ident" id="8463770">operator</span><span class="op" id="8463778">}</span><span class="op" id="8463779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463782">{</span><span class="ident" id="8463783">token</span><span class="op" id="8463788">.</span><span class="ident" id="8463789">COLON</span><span class="op" id="8463794">,</span>&nbsp;<span class="string" id="8463796">&#34;:&#34;</span><span class="op" id="8463799">,</span>&nbsp;<span class="ident" id="8463801">operator</span><span class="op" id="8463809">}</span><span class="op" id="8463810">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8463814">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463827">{</span><span class="ident" id="8463828">token</span><span class="op" id="8463833">.</span><span class="ident" id="8463834">BREAK</span><span class="op" id="8463839">,</span>&nbsp;<span class="string" id="8463841">&#34;break&#34;</span><span class="op" id="8463848">,</span>&nbsp;<span class="ident" id="8463850">keyword</span><span class="op" id="8463857">}</span><span class="op" id="8463858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463861">{</span><span class="ident" id="8463862">token</span><span class="op" id="8463867">.</span><span class="ident" id="8463868">CASE</span><span class="op" id="8463872">,</span>&nbsp;<span class="string" id="8463874">&#34;case&#34;</span><span class="op" id="8463880">,</span>&nbsp;<span class="ident" id="8463882">keyword</span><span class="op" id="8463889">}</span><span class="op" id="8463890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463893">{</span><span class="ident" id="8463894">token</span><span class="op" id="8463899">.</span><span class="ident" id="8463900">CHAN</span><span class="op" id="8463904">,</span>&nbsp;<span class="string" id="8463906">&#34;chan&#34;</span><span class="op" id="8463912">,</span>&nbsp;<span class="ident" id="8463914">keyword</span><span class="op" id="8463921">}</span><span class="op" id="8463922">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463925">{</span><span class="ident" id="8463926">token</span><span class="op" id="8463931">.</span><span class="ident" id="8463932">CONST</span><span class="op" id="8463937">,</span>&nbsp;<span class="string" id="8463939">&#34;const&#34;</span><span class="op" id="8463946">,</span>&nbsp;<span class="ident" id="8463948">keyword</span><span class="op" id="8463955">}</span><span class="op" id="8463956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8463959">{</span><span class="ident" id="8463960">token</span><span class="op" id="8463965">.</span><span class="ident" id="8463966">CONTINUE</span><span class="op" id="8463974">,</span>&nbsp;<span class="string" id="8463976">&#34;continue&#34;</span><span class="op" id="8463986">,</span>&nbsp;<span class="ident" id="8463988">keyword</span><span class="op" id="8463995">}</span><span class="op" id="8463996">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464000">{</span><span class="ident" id="8464001">token</span><span class="op" id="8464006">.</span><span class="ident" id="8464007">DEFAULT</span><span class="op" id="8464014">,</span>&nbsp;<span class="string" id="8464016">&#34;default&#34;</span><span class="op" id="8464025">,</span>&nbsp;<span class="ident" id="8464027">keyword</span><span class="op" id="8464034">}</span><span class="op" id="8464035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464038">{</span><span class="ident" id="8464039">token</span><span class="op" id="8464044">.</span><span class="ident" id="8464045">DEFER</span><span class="op" id="8464050">,</span>&nbsp;<span class="string" id="8464052">&#34;defer&#34;</span><span class="op" id="8464059">,</span>&nbsp;<span class="ident" id="8464061">keyword</span><span class="op" id="8464068">}</span><span class="op" id="8464069">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464072">{</span><span class="ident" id="8464073">token</span><span class="op" id="8464078">.</span><span class="ident" id="8464079">ELSE</span><span class="op" id="8464083">,</span>&nbsp;<span class="string" id="8464085">&#34;else&#34;</span><span class="op" id="8464091">,</span>&nbsp;<span class="ident" id="8464093">keyword</span><span class="op" id="8464100">}</span><span class="op" id="8464101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464104">{</span><span class="ident" id="8464105">token</span><span class="op" id="8464110">.</span><span class="ident" id="8464111">FALLTHROUGH</span><span class="op" id="8464122">,</span>&nbsp;<span class="string" id="8464124">&#34;fallthrough&#34;</span><span class="op" id="8464137">,</span>&nbsp;<span class="ident" id="8464139">keyword</span><span class="op" id="8464146">}</span><span class="op" id="8464147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464150">{</span><span class="ident" id="8464151">token</span><span class="op" id="8464156">.</span><span class="ident" id="8464157">FOR</span><span class="op" id="8464160">,</span>&nbsp;<span class="string" id="8464162">&#34;for&#34;</span><span class="op" id="8464167">,</span>&nbsp;<span class="ident" id="8464169">keyword</span><span class="op" id="8464176">}</span><span class="op" id="8464177">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464181">{</span><span class="ident" id="8464182">token</span><span class="op" id="8464187">.</span><span class="ident" id="8464188">FUNC</span><span class="op" id="8464192">,</span>&nbsp;<span class="string" id="8464194">&#34;func&#34;</span><span class="op" id="8464200">,</span>&nbsp;<span class="ident" id="8464202">keyword</span><span class="op" id="8464209">}</span><span class="op" id="8464210">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464213">{</span><span class="ident" id="8464214">token</span><span class="op" id="8464219">.</span><span class="ident" id="8464220">GO</span><span class="op" id="8464222">,</span>&nbsp;<span class="string" id="8464224">&#34;go&#34;</span><span class="op" id="8464228">,</span>&nbsp;<span class="ident" id="8464230">keyword</span><span class="op" id="8464237">}</span><span class="op" id="8464238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464241">{</span><span class="ident" id="8464242">token</span><span class="op" id="8464247">.</span><span class="ident" id="8464248">GOTO</span><span class="op" id="8464252">,</span>&nbsp;<span class="string" id="8464254">&#34;goto&#34;</span><span class="op" id="8464260">,</span>&nbsp;<span class="ident" id="8464262">keyword</span><span class="op" id="8464269">}</span><span class="op" id="8464270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464273">{</span><span class="ident" id="8464274">token</span><span class="op" id="8464279">.</span><span class="ident" id="8464280">IF</span><span class="op" id="8464282">,</span>&nbsp;<span class="string" id="8464284">&#34;if&#34;</span><span class="op" id="8464288">,</span>&nbsp;<span class="ident" id="8464290">keyword</span><span class="op" id="8464297">}</span><span class="op" id="8464298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464301">{</span><span class="ident" id="8464302">token</span><span class="op" id="8464307">.</span><span class="ident" id="8464308">IMPORT</span><span class="op" id="8464314">,</span>&nbsp;<span class="string" id="8464316">&#34;import&#34;</span><span class="op" id="8464324">,</span>&nbsp;<span class="ident" id="8464326">keyword</span><span class="op" id="8464333">}</span><span class="op" id="8464334">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464338">{</span><span class="ident" id="8464339">token</span><span class="op" id="8464344">.</span><span class="ident" id="8464345">INTERFACE</span><span class="op" id="8464354">,</span>&nbsp;<span class="string" id="8464356">&#34;interface&#34;</span><span class="op" id="8464367">,</span>&nbsp;<span class="ident" id="8464369">keyword</span><span class="op" id="8464376">}</span><span class="op" id="8464377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464380">{</span><span class="ident" id="8464381">token</span><span class="op" id="8464386">.</span><span class="ident" id="8464387">MAP</span><span class="op" id="8464390">,</span>&nbsp;<span class="string" id="8464392">&#34;map&#34;</span><span class="op" id="8464397">,</span>&nbsp;<span class="ident" id="8464399">keyword</span><span class="op" id="8464406">}</span><span class="op" id="8464407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464410">{</span><span class="ident" id="8464411">token</span><span class="op" id="8464416">.</span><span class="ident" id="8464417">PACKAGE</span><span class="op" id="8464424">,</span>&nbsp;<span class="string" id="8464426">&#34;package&#34;</span><span class="op" id="8464435">,</span>&nbsp;<span class="ident" id="8464437">keyword</span><span class="op" id="8464444">}</span><span class="op" id="8464445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464448">{</span><span class="ident" id="8464449">token</span><span class="op" id="8464454">.</span><span class="ident" id="8464455">RANGE</span><span class="op" id="8464460">,</span>&nbsp;<span class="string" id="8464462">&#34;range&#34;</span><span class="op" id="8464469">,</span>&nbsp;<span class="ident" id="8464471">keyword</span><span class="op" id="8464478">}</span><span class="op" id="8464479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464482">{</span><span class="ident" id="8464483">token</span><span class="op" id="8464488">.</span><span class="ident" id="8464489">RETURN</span><span class="op" id="8464495">,</span>&nbsp;<span class="string" id="8464497">&#34;return&#34;</span><span class="op" id="8464505">,</span>&nbsp;<span class="ident" id="8464507">keyword</span><span class="op" id="8464514">}</span><span class="op" id="8464515">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464519">{</span><span class="ident" id="8464520">token</span><span class="op" id="8464525">.</span><span class="ident" id="8464526">SELECT</span><span class="op" id="8464532">,</span>&nbsp;<span class="string" id="8464534">&#34;select&#34;</span><span class="op" id="8464542">,</span>&nbsp;<span class="ident" id="8464544">keyword</span><span class="op" id="8464551">}</span><span class="op" id="8464552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464555">{</span><span class="ident" id="8464556">token</span><span class="op" id="8464561">.</span><span class="ident" id="8464562">STRUCT</span><span class="op" id="8464568">,</span>&nbsp;<span class="string" id="8464570">&#34;struct&#34;</span><span class="op" id="8464578">,</span>&nbsp;<span class="ident" id="8464580">keyword</span><span class="op" id="8464587">}</span><span class="op" id="8464588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464591">{</span><span class="ident" id="8464592">token</span><span class="op" id="8464597">.</span><span class="ident" id="8464598">SWITCH</span><span class="op" id="8464604">,</span>&nbsp;<span class="string" id="8464606">&#34;switch&#34;</span><span class="op" id="8464614">,</span>&nbsp;<span class="ident" id="8464616">keyword</span><span class="op" id="8464623">}</span><span class="op" id="8464624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464627">{</span><span class="ident" id="8464628">token</span><span class="op" id="8464633">.</span><span class="ident" id="8464634">TYPE</span><span class="op" id="8464638">,</span>&nbsp;<span class="string" id="8464640">&#34;type&#34;</span><span class="op" id="8464646">,</span>&nbsp;<span class="ident" id="8464648">keyword</span><span class="op" id="8464655">}</span><span class="op" id="8464656">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464659">{</span><span class="ident" id="8464660">token</span><span class="op" id="8464665">.</span><span class="ident" id="8464666">VAR</span><span class="op" id="8464669">,</span>&nbsp;<span class="string" id="8464671">&#34;var&#34;</span><span class="op" id="8464676">,</span>&nbsp;<span class="ident" id="8464678">keyword</span><span class="op" id="8464685">}</span><span class="op" id="8464686">,</span><br>
<span class="lineno"></span><span class="op" id="8464688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8464691">const</span>&nbsp;<span class="ident" id="8464697">whitespace</span>&nbsp;<span class="op" id="8464708">=</span>&nbsp;<span class="string" id="8464710">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="8464725">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="8464748">var</span>&nbsp;<span class="ident" id="8464752">source</span>&nbsp;<span class="op" id="8464759">=</span>&nbsp;<span class="keyword" id="8464761">func</span><span class="op" id="8464765">(</span><span class="op" id="8464766">)</span>&nbsp;<span class="op" id="8464768">[</span><span class="op" id="8464769">]</span><span class="builtintype" id="8464770">byte</span>&nbsp;<span class="op" id="8464775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8464778">var</span>&nbsp;<span class="ident" id="8464782">src</span>&nbsp;<span class="op" id="8464786">[</span><span class="op" id="8464787">]</span><span class="builtintype" id="8464788">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8464794">for</span>&nbsp;<span class="ident" id="8464798">_</span><span class="op" id="8464799">,</span>&nbsp;<span class="ident" id="8464801">t</span>&nbsp;<span class="op" id="8464803">:=</span>&nbsp;<span class="keyword" id="8464806">range</span>&nbsp;<span class="ident" id="8464812">tokens</span>&nbsp;<span class="op" id="8464819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8464823">src</span>&nbsp;<span class="op" id="8464827">=</span>&nbsp;<span class="builtinfunc" id="8464829">append</span><span class="op" id="8464835">(</span><span class="ident" id="8464836">src</span><span class="op" id="8464839">,</span>&nbsp;<span class="ident" id="8464841">t</span><span class="op" id="8464842">.</span><span class="ident" id="8464843">lit</span><span class="op" id="8464846">...</span><span class="op" id="8464849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8464853">src</span>&nbsp;<span class="op" id="8464857">=</span>&nbsp;<span class="builtinfunc" id="8464859">append</span><span class="op" id="8464865">(</span><span class="ident" id="8464866">src</span><span class="op" id="8464869">,</span>&nbsp;<span class="ident" id="8464871">whitespace</span><span class="op" id="8464881">...</span><span class="op" id="8464884">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8464887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8464890">return</span>&nbsp;<span class="ident" id="8464897">src</span><br>
<span class="lineno"></span><span class="op" id="8464901">}</span><span class="op" id="8464902">(</span><span class="op" id="8464903">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8464906">func</span>&nbsp;<span class="ident" id="8464911">newlineCount</span><span class="op" id="8464923">(</span><span class="ident" id="8464924">s</span>&nbsp;<span class="builtintype" id="8464926">string</span><span class="op" id="8464932">)</span>&nbsp;<span class="builtintype" id="8464934">int</span>&nbsp;<span class="op" id="8464938">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8464941">n</span>&nbsp;<span class="op" id="8464943">:=</span>&nbsp;<span class="num" id="8464946">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8464949">for</span>&nbsp;<span class="ident" id="8464953">i</span>&nbsp;<span class="op" id="8464955">:=</span>&nbsp;<span class="num" id="8464958">0</span><span class="op" id="8464959">;</span>&nbsp;<span class="ident" id="8464961">i</span>&nbsp;<span class="op" id="8464963">&lt;</span>&nbsp;<span class="builtinfunc" id="8464965">len</span><span class="op" id="8464968">(</span><span class="ident" id="8464969">s</span><span class="op" id="8464970">)</span><span class="op" id="8464971">;</span>&nbsp;<span class="ident" id="8464973">i</span><span class="op" id="8464974">++</span>&nbsp;<span class="op" id="8464977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8464981">if</span>&nbsp;<span class="ident" id="8464984">s</span><span class="op" id="8464985">[</span><span class="ident" id="8464986">i</span><span class="op" id="8464987">]</span>&nbsp;<span class="op" id="8464989">==</span>&nbsp;<span class="string" id="8464992">&#39;\n&#39;</span>&nbsp;<span class="op" id="8464997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465002">n</span><span class="op" id="8465003">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8465008">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8465011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8465014">return</span>&nbsp;<span class="ident" id="8465021">n</span><br>
<span class="lineno"></span><span class="op" id="8465023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8465026">func</span>&nbsp;<span class="ident" id="8465031">checkPos</span><span class="op" id="8465039">(</span><span class="ident" id="8465040">t</span>&nbsp;<span class="op" id="8465042">*</span><span class="ident" id="8465043">testing</span><span class="op" id="8465050">.</span><span class="ident" id="8465051">T</span><span class="op" id="8465052">,</span>&nbsp;<span class="ident" id="8465054">lit</span>&nbsp;<span class="builtintype" id="8465058">string</span><span class="op" id="8465064">,</span>&nbsp;<span class="ident" id="8465066">p</span>&nbsp;<span class="ident" id="8465068">token</span><span class="op" id="8465073">.</span><span class="ident" id="8465074">Pos</span><span class="op" id="8465077">,</span>&nbsp;<span class="ident" id="8465079">expected</span>&nbsp;<span class="ident" id="8465088">token</span><span class="op" id="8465093">.</span><span class="ident" id="8465094">Position</span><span class="op" id="8465102">)</span>&nbsp;<span class="op" id="8465104">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465107">pos</span>&nbsp;<span class="op" id="8465111">:=</span>&nbsp;<span class="ident" id="8465114">fset</span><span class="op" id="8465118">.</span><span class="ident" id="8465119">Position</span><span class="op" id="8465127">(</span><span class="ident" id="8465128">p</span><span class="op" id="8465129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8465132">if</span>&nbsp;<span class="ident" id="8465135">pos</span><span class="op" id="8465138">.</span><span class="ident" id="8465139">Filename</span>&nbsp;<span class="op" id="8465148">!=</span>&nbsp;<span class="ident" id="8465151">expected</span><span class="op" id="8465159">.</span><span class="ident" id="8465160">Filename</span>&nbsp;<span class="op" id="8465169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465173">t</span><span class="op" id="8465174">.</span><span class="ident" id="8465175">Errorf</span><span class="op" id="8465181">(</span><span class="string" id="8465182">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8465224">,</span>&nbsp;<span class="ident" id="8465226">lit</span><span class="op" id="8465229">,</span>&nbsp;<span class="ident" id="8465231">pos</span><span class="op" id="8465234">.</span><span class="ident" id="8465235">Filename</span><span class="op" id="8465243">,</span>&nbsp;<span class="ident" id="8465245">expected</span><span class="op" id="8465253">.</span><span class="ident" id="8465254">Filename</span><span class="op" id="8465262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8465265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8465268">if</span>&nbsp;<span class="ident" id="8465271">pos</span><span class="op" id="8465274">.</span><span class="ident" id="8465275">Offset</span>&nbsp;<span class="op" id="8465282">!=</span>&nbsp;<span class="ident" id="8465285">expected</span><span class="op" id="8465293">.</span><span class="ident" id="8465294">Offset</span>&nbsp;<span class="op" id="8465301">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465305">t</span><span class="op" id="8465306">.</span><span class="ident" id="8465307">Errorf</span><span class="op" id="8465313">(</span><span class="string" id="8465314">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8465356">,</span>&nbsp;<span class="ident" id="8465358">lit</span><span class="op" id="8465361">,</span>&nbsp;<span class="ident" id="8465363">pos</span><span class="op" id="8465366">.</span><span class="ident" id="8465367">Offset</span><span class="op" id="8465373">,</span>&nbsp;<span class="ident" id="8465375">expected</span><span class="op" id="8465383">.</span><span class="ident" id="8465384">Offset</span><span class="op" id="8465390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8465393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8465396">if</span>&nbsp;<span class="ident" id="8465399">pos</span><span class="op" id="8465402">.</span><span class="ident" id="8465403">Line</span>&nbsp;<span class="op" id="8465408">!=</span>&nbsp;<span class="ident" id="8465411">expected</span><span class="op" id="8465419">.</span><span class="ident" id="8465420">Line</span>&nbsp;<span class="op" id="8465425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465429">t</span><span class="op" id="8465430">.</span><span class="ident" id="8465431">Errorf</span><span class="op" id="8465437">(</span><span class="string" id="8465438">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8465476">,</span>&nbsp;<span class="ident" id="8465478">lit</span><span class="op" id="8465481">,</span>&nbsp;<span class="ident" id="8465483">pos</span><span class="op" id="8465486">.</span><span class="ident" id="8465487">Line</span><span class="op" id="8465491">,</span>&nbsp;<span class="ident" id="8465493">expected</span><span class="op" id="8465501">.</span><span class="ident" id="8465502">Line</span><span class="op" id="8465506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8465509">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8465512">if</span>&nbsp;<span class="ident" id="8465515">pos</span><span class="op" id="8465518">.</span><span class="ident" id="8465519">Column</span>&nbsp;<span class="op" id="8465526">!=</span>&nbsp;<span class="ident" id="8465529">expected</span><span class="op" id="8465537">.</span><span class="ident" id="8465538">Column</span>&nbsp;<span class="op" id="8465545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465549">t</span><span class="op" id="8465550">.</span><span class="ident" id="8465551">Errorf</span><span class="op" id="8465557">(</span><span class="string" id="8465558">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8465598">,</span>&nbsp;<span class="ident" id="8465600">lit</span><span class="op" id="8465603">,</span>&nbsp;<span class="ident" id="8465605">pos</span><span class="op" id="8465608">.</span><span class="ident" id="8465609">Column</span><span class="op" id="8465615">,</span>&nbsp;<span class="ident" id="8465617">expected</span><span class="op" id="8465625">.</span><span class="ident" id="8465626">Column</span><span class="op" id="8465632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8465635">}</span><br>
<span class="lineno"></span><span class="op" id="8465637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="8465640">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="8465700">func</span>&nbsp;<span class="ident" id="8465705">TestScan</span><span class="op" id="8465713">(</span><span class="ident" id="8465714">t</span>&nbsp;<span class="op" id="8465716">*</span><span class="ident" id="8465717">testing</span><span class="op" id="8465724">.</span><span class="ident" id="8465725">T</span><span class="op" id="8465726">)</span>&nbsp;<span class="op" id="8465728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465731">whitespace_linecount</span>&nbsp;<span class="op" id="8465752">:=</span>&nbsp;<span class="ident" id="8465755">newlineCount</span><span class="op" id="8465767">(</span><span class="ident" id="8465768">whitespace</span><span class="op" id="8465778">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8465782">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465800">eh</span>&nbsp;<span class="op" id="8465803">:=</span>&nbsp;<span class="keyword" id="8465806">func</span><span class="op" id="8465810">(</span><span class="ident" id="8465811">_</span>&nbsp;<span class="ident" id="8465813">token</span><span class="op" id="8465818">.</span><span class="ident" id="8465819">Position</span><span class="op" id="8465827">,</span>&nbsp;<span class="ident" id="8465829">msg</span>&nbsp;<span class="builtintype" id="8465833">string</span><span class="op" id="8465839">)</span>&nbsp;<span class="op" id="8465841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465845">t</span><span class="op" id="8465846">.</span><span class="ident" id="8465847">Errorf</span><span class="op" id="8465853">(</span><span class="string" id="8465854">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="8465887">,</span>&nbsp;<span class="ident" id="8465889">msg</span><span class="op" id="8465892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8465895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8465899">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8465915">var</span>&nbsp;<span class="ident" id="8465919">s</span>&nbsp;<span class="ident" id="8465921">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8465930">s</span><span class="op" id="8465931">.</span><span class="ident" id="8465932">Init</span><span class="op" id="8465936">(</span><span class="ident" id="8465937">fset</span><span class="op" id="8465941">.</span><span class="ident" id="8465942">AddFile</span><span class="op" id="8465949">(</span><span class="string" id="8465950">&#34;&#34;</span><span class="op" id="8465952">,</span>&nbsp;<span class="ident" id="8465954">fset</span><span class="op" id="8465958">.</span><span class="ident" id="8465959">Base</span><span class="op" id="8465963">(</span><span class="op" id="8465964">)</span><span class="op" id="8465965">,</span>&nbsp;<span class="builtinfunc" id="8465967">len</span><span class="op" id="8465970">(</span><span class="ident" id="8465971">source</span><span class="op" id="8465977">)</span><span class="op" id="8465978">)</span><span class="op" id="8465979">,</span>&nbsp;<span class="ident" id="8465981">source</span><span class="op" id="8465987">,</span>&nbsp;<span class="ident" id="8465989">eh</span><span class="op" id="8465991">,</span>&nbsp;<span class="ident" id="8465993">ScanComments</span><span class="op" id="8466005">|</span><span class="ident" id="8466006">dontInsertSemis</span><span class="op" id="8466021">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8466025">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466054">epos</span>&nbsp;<span class="op" id="8466059">:=</span>&nbsp;<span class="ident" id="8466062">token</span><span class="op" id="8466067">.</span><span class="ident" id="8466068">Position</span><span class="op" id="8466076">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466080">Filename</span><span class="op" id="8466088">:</span>&nbsp;<span class="string" id="8466090">&#34;&#34;</span><span class="op" id="8466092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466096">Offset</span><span class="op" id="8466102">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8466106">0</span><span class="op" id="8466107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466111">Line</span><span class="op" id="8466115">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8466121">1</span><span class="op" id="8466122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466126">Column</span><span class="op" id="8466132">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8466136">1</span><span class="op" id="8466137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8466140">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466144">index</span>&nbsp;<span class="op" id="8466150">:=</span>&nbsp;<span class="num" id="8466153">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8466156">for</span>&nbsp;<span class="op" id="8466160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466164">pos</span><span class="op" id="8466167">,</span>&nbsp;<span class="ident" id="8466169">tok</span><span class="op" id="8466172">,</span>&nbsp;<span class="ident" id="8466174">lit</span>&nbsp;<span class="op" id="8466178">:=</span>&nbsp;<span class="ident" id="8466181">s</span><span class="op" id="8466182">.</span><span class="ident" id="8466183">Scan</span><span class="op" id="8466187">(</span><span class="op" id="8466188">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8466193">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8466213">if</span>&nbsp;<span class="ident" id="8466216">tok</span>&nbsp;<span class="op" id="8466220">==</span>&nbsp;<span class="ident" id="8466223">token</span><span class="op" id="8466228">.</span><span class="ident" id="8466229">EOF</span>&nbsp;<span class="op" id="8466233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8466238">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466263">epos</span><span class="op" id="8466267">.</span><span class="ident" id="8466268">Line</span>&nbsp;<span class="op" id="8466273">=</span>&nbsp;<span class="ident" id="8466275">newlineCount</span><span class="op" id="8466287">(</span><span class="builtintype" id="8466288">string</span><span class="op" id="8466294">(</span><span class="ident" id="8466295">source</span><span class="op" id="8466301">)</span><span class="op" id="8466302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466307">epos</span><span class="op" id="8466311">.</span><span class="ident" id="8466312">Column</span>&nbsp;<span class="op" id="8466319">=</span>&nbsp;<span class="num" id="8466321">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8466325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466329">checkPos</span><span class="op" id="8466337">(</span><span class="ident" id="8466338">t</span><span class="op" id="8466339">,</span>&nbsp;<span class="ident" id="8466341">lit</span><span class="op" id="8466344">,</span>&nbsp;<span class="ident" id="8466346">pos</span><span class="op" id="8466349">,</span>&nbsp;<span class="ident" id="8466351">epos</span><span class="op" id="8466355">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8466360">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466377">e</span>&nbsp;<span class="op" id="8466379">:=</span>&nbsp;<span class="ident" id="8466382">elt</span><span class="op" id="8466385">{</span><span class="ident" id="8466386">token</span><span class="op" id="8466391">.</span><span class="ident" id="8466392">EOF</span><span class="op" id="8466395">,</span>&nbsp;<span class="string" id="8466397">&#34;&#34;</span><span class="op" id="8466399">,</span>&nbsp;<span class="ident" id="8466401">special</span><span class="op" id="8466408">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8466412">if</span>&nbsp;<span class="ident" id="8466415">index</span>&nbsp;<span class="op" id="8466421">&lt;</span>&nbsp;<span class="builtinfunc" id="8466423">len</span><span class="op" id="8466426">(</span><span class="ident" id="8466427">tokens</span><span class="op" id="8466433">)</span>&nbsp;<span class="op" id="8466435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466440">e</span>&nbsp;<span class="op" id="8466442">=</span>&nbsp;<span class="ident" id="8466444">tokens</span><span class="op" id="8466450">[</span><span class="ident" id="8466451">index</span><span class="op" id="8466456">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466461">index</span><span class="op" id="8466466">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8466471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8466475">if</span>&nbsp;<span class="ident" id="8466478">tok</span>&nbsp;<span class="op" id="8466482">!=</span>&nbsp;<span class="ident" id="8466485">e</span><span class="op" id="8466486">.</span><span class="ident" id="8466487">tok</span>&nbsp;<span class="op" id="8466491">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466496">t</span><span class="op" id="8466497">.</span><span class="ident" id="8466498">Errorf</span><span class="op" id="8466504">(</span><span class="string" id="8466505">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8466544">,</span>&nbsp;<span class="ident" id="8466546">lit</span><span class="op" id="8466549">,</span>&nbsp;<span class="ident" id="8466551">tok</span><span class="op" id="8466554">,</span>&nbsp;<span class="ident" id="8466556">e</span><span class="op" id="8466557">.</span><span class="ident" id="8466558">tok</span><span class="op" id="8466561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8466565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8466570">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8466593">if</span>&nbsp;<span class="ident" id="8466596">tokenclass</span><span class="op" id="8466606">(</span><span class="ident" id="8466607">tok</span><span class="op" id="8466610">)</span>&nbsp;<span class="op" id="8466612">!=</span>&nbsp;<span class="ident" id="8466615">e</span><span class="op" id="8466616">.</span><span class="ident" id="8466617">class</span>&nbsp;<span class="op" id="8466623">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466628">t</span><span class="op" id="8466629">.</span><span class="ident" id="8466630">Errorf</span><span class="op" id="8466636">(</span><span class="string" id="8466637">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8466676">,</span>&nbsp;<span class="ident" id="8466678">lit</span><span class="op" id="8466681">,</span>&nbsp;<span class="ident" id="8466683">tokenclass</span><span class="op" id="8466693">(</span><span class="ident" id="8466694">tok</span><span class="op" id="8466697">)</span><span class="op" id="8466698">,</span>&nbsp;<span class="ident" id="8466700">e</span><span class="op" id="8466701">.</span><span class="ident" id="8466702">class</span><span class="op" id="8466707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8466711">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8466716">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466735">elit</span>&nbsp;<span class="op" id="8466740">:=</span>&nbsp;<span class="string" id="8466743">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8466748">switch</span>&nbsp;<span class="ident" id="8466755">e</span><span class="op" id="8466756">.</span><span class="ident" id="8466757">tok</span>&nbsp;<span class="op" id="8466761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8466765">case</span>&nbsp;<span class="ident" id="8466770">token</span><span class="op" id="8466775">.</span><span class="ident" id="8466776">COMMENT</span><span class="op" id="8466783">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8466788">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466813">elit</span>&nbsp;<span class="op" id="8466818">=</span>&nbsp;<span class="builtintype" id="8466820">string</span><span class="op" id="8466826">(</span><span class="ident" id="8466827">stripCR</span><span class="op" id="8466834">(</span><span class="op" id="8466835">[</span><span class="op" id="8466836">]</span><span class="builtintype" id="8466837">byte</span><span class="op" id="8466841">(</span><span class="ident" id="8466842">e</span><span class="op" id="8466843">.</span><span class="ident" id="8466844">lit</span><span class="op" id="8466847">)</span><span class="op" id="8466848">)</span><span class="op" id="8466849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8466854">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8466906">if</span>&nbsp;<span class="ident" id="8466909">elit</span><span class="op" id="8466913">[</span><span class="num" id="8466914">1</span><span class="op" id="8466915">]</span>&nbsp;<span class="op" id="8466917">==</span>&nbsp;<span class="string" id="8466920">&#39;/&#39;</span>&nbsp;<span class="op" id="8466924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466930">elit</span>&nbsp;<span class="op" id="8466935">=</span>&nbsp;<span class="ident" id="8466937">elit</span><span class="op" id="8466941">[</span><span class="num" id="8466942">0</span>&nbsp;<span class="op" id="8466944">:</span>&nbsp;<span class="builtinfunc" id="8466946">len</span><span class="op" id="8466949">(</span><span class="ident" id="8466950">elit</span><span class="op" id="8466954">)</span><span class="op" id="8466955">-</span><span class="num" id="8466956">1</span><span class="op" id="8466957">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8466962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8466966">case</span>&nbsp;<span class="ident" id="8466971">token</span><span class="op" id="8466976">.</span><span class="ident" id="8466977">IDENT</span><span class="op" id="8466982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8466987">elit</span>&nbsp;<span class="op" id="8466992">=</span>&nbsp;<span class="ident" id="8466994">e</span><span class="op" id="8466995">.</span><span class="ident" id="8466996">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467002">case</span>&nbsp;<span class="ident" id="8467007">token</span><span class="op" id="8467012">.</span><span class="ident" id="8467013">SEMICOLON</span><span class="op" id="8467022">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467027">elit</span>&nbsp;<span class="op" id="8467032">=</span>&nbsp;<span class="string" id="8467034">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467040">default</span><span class="op" id="8467047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467052">if</span>&nbsp;<span class="ident" id="8467055">e</span><span class="op" id="8467056">.</span><span class="ident" id="8467057">tok</span><span class="op" id="8467060">.</span><span class="ident" id="8467061">IsLiteral</span><span class="op" id="8467070">(</span><span class="op" id="8467071">)</span>&nbsp;<span class="op" id="8467073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8467079">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467116">elit</span>&nbsp;<span class="op" id="8467121">=</span>&nbsp;<span class="ident" id="8467123">e</span><span class="op" id="8467124">.</span><span class="ident" id="8467125">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467133">if</span>&nbsp;<span class="ident" id="8467136">elit</span><span class="op" id="8467140">[</span><span class="num" id="8467141">0</span><span class="op" id="8467142">]</span>&nbsp;<span class="op" id="8467144">==</span>&nbsp;<span class="string" id="8467147">&#39;`&#39;</span>&nbsp;<span class="op" id="8467151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467158">elit</span>&nbsp;<span class="op" id="8467163">=</span>&nbsp;<span class="builtintype" id="8467165">string</span><span class="op" id="8467171">(</span><span class="ident" id="8467172">stripCR</span><span class="op" id="8467179">(</span><span class="op" id="8467180">[</span><span class="op" id="8467181">]</span><span class="builtintype" id="8467182">byte</span><span class="op" id="8467186">(</span><span class="ident" id="8467187">elit</span><span class="op" id="8467191">)</span><span class="op" id="8467192">)</span><span class="op" id="8467193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8467199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8467204">}</span>&nbsp;<span class="keyword" id="8467206">else</span>&nbsp;<span class="keyword" id="8467211">if</span>&nbsp;<span class="ident" id="8467214">e</span><span class="op" id="8467215">.</span><span class="ident" id="8467216">tok</span><span class="op" id="8467219">.</span><span class="ident" id="8467220">IsKeyword</span><span class="op" id="8467229">(</span><span class="op" id="8467230">)</span>&nbsp;<span class="op" id="8467232">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467238">elit</span>&nbsp;<span class="op" id="8467243">=</span>&nbsp;<span class="ident" id="8467245">e</span><span class="op" id="8467246">.</span><span class="ident" id="8467247">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8467254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8467258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467262">if</span>&nbsp;<span class="ident" id="8467265">lit</span>&nbsp;<span class="op" id="8467269">!=</span>&nbsp;<span class="ident" id="8467272">elit</span>&nbsp;<span class="op" id="8467277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467282">t</span><span class="op" id="8467283">.</span><span class="ident" id="8467284">Errorf</span><span class="op" id="8467290">(</span><span class="string" id="8467291">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8467332">,</span>&nbsp;<span class="ident" id="8467334">lit</span><span class="op" id="8467337">,</span>&nbsp;<span class="ident" id="8467339">lit</span><span class="op" id="8467342">,</span>&nbsp;<span class="ident" id="8467344">elit</span><span class="op" id="8467348">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8467352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467357">if</span>&nbsp;<span class="ident" id="8467360">tok</span>&nbsp;<span class="op" id="8467364">==</span>&nbsp;<span class="ident" id="8467367">token</span><span class="op" id="8467372">.</span><span class="ident" id="8467373">EOF</span>&nbsp;<span class="op" id="8467377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467382">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8467390">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8467395">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467416">epos</span><span class="op" id="8467420">.</span><span class="ident" id="8467421">Offset</span>&nbsp;<span class="op" id="8467428">+=</span>&nbsp;<span class="builtinfunc" id="8467431">len</span><span class="op" id="8467434">(</span><span class="ident" id="8467435">e</span><span class="op" id="8467436">.</span><span class="ident" id="8467437">lit</span><span class="op" id="8467440">)</span>&nbsp;<span class="op" id="8467442">+</span>&nbsp;<span class="builtinfunc" id="8467444">len</span><span class="op" id="8467447">(</span><span class="ident" id="8467448">whitespace</span><span class="op" id="8467458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467462">epos</span><span class="op" id="8467466">.</span><span class="ident" id="8467467">Line</span>&nbsp;<span class="op" id="8467472">+=</span>&nbsp;<span class="ident" id="8467475">newlineCount</span><span class="op" id="8467487">(</span><span class="ident" id="8467488">e</span><span class="op" id="8467489">.</span><span class="ident" id="8467490">lit</span><span class="op" id="8467493">)</span>&nbsp;<span class="op" id="8467495">+</span>&nbsp;<span class="ident" id="8467497">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8467520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467524">if</span>&nbsp;<span class="ident" id="8467527">s</span><span class="op" id="8467528">.</span><span class="ident" id="8467529">ErrorCount</span>&nbsp;<span class="op" id="8467540">!=</span>&nbsp;<span class="num" id="8467543">0</span>&nbsp;<span class="op" id="8467545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467549">t</span><span class="op" id="8467550">.</span><span class="ident" id="8467551">Errorf</span><span class="op" id="8467557">(</span><span class="string" id="8467558">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8467575">,</span>&nbsp;<span class="ident" id="8467577">s</span><span class="op" id="8467578">.</span><span class="ident" id="8467579">ErrorCount</span><span class="op" id="8467589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8467592">}</span><br>
<span class="lineno">310</span><span class="op" id="8467594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8467597">func</span>&nbsp;<span class="ident" id="8467602">checkSemi</span><span class="op" id="8467611">(</span><span class="ident" id="8467612">t</span>&nbsp;<span class="op" id="8467614">*</span><span class="ident" id="8467615">testing</span><span class="op" id="8467622">.</span><span class="ident" id="8467623">T</span><span class="op" id="8467624">,</span>&nbsp;<span class="ident" id="8467626">line</span>&nbsp;<span class="builtintype" id="8467631">string</span><span class="op" id="8467637">,</span>&nbsp;<span class="ident" id="8467639">mode</span>&nbsp;<span class="ident" id="8467644">Mode</span><span class="op" id="8467648">)</span>&nbsp;<span class="op" id="8467650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467653">var</span>&nbsp;<span class="ident" id="8467657">S</span>&nbsp;<span class="ident" id="8467659">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467668">file</span>&nbsp;<span class="op" id="8467673">:=</span>&nbsp;<span class="ident" id="8467676">fset</span><span class="op" id="8467680">.</span><span class="ident" id="8467681">AddFile</span><span class="op" id="8467688">(</span><span class="string" id="8467689">&#34;TestSemis&#34;</span><span class="op" id="8467700">,</span>&nbsp;<span class="ident" id="8467702">fset</span><span class="op" id="8467706">.</span><span class="ident" id="8467707">Base</span><span class="op" id="8467711">(</span><span class="op" id="8467712">)</span><span class="op" id="8467713">,</span>&nbsp;<span class="builtinfunc" id="8467715">len</span><span class="op" id="8467718">(</span><span class="ident" id="8467719">line</span><span class="op" id="8467723">)</span><span class="op" id="8467724">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467727">S</span><span class="op" id="8467728">.</span><span class="ident" id="8467729">Init</span><span class="op" id="8467733">(</span><span class="ident" id="8467734">file</span><span class="op" id="8467738">,</span>&nbsp;<span class="op" id="8467740">[</span><span class="op" id="8467741">]</span><span class="builtintype" id="8467742">byte</span><span class="op" id="8467746">(</span><span class="ident" id="8467747">line</span><span class="op" id="8467751">)</span><span class="op" id="8467752">,</span>&nbsp;<span class="builtintype" id="8467754">nil</span><span class="op" id="8467757">,</span>&nbsp;<span class="ident" id="8467759">mode</span><span class="op" id="8467763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467766">pos</span><span class="op" id="8467769">,</span>&nbsp;<span class="ident" id="8467771">tok</span><span class="op" id="8467774">,</span>&nbsp;<span class="ident" id="8467776">lit</span>&nbsp;<span class="op" id="8467780">:=</span>&nbsp;<span class="ident" id="8467783">S</span><span class="op" id="8467784">.</span><span class="ident" id="8467785">Scan</span><span class="op" id="8467789">(</span><span class="op" id="8467790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467793">for</span>&nbsp;<span class="ident" id="8467797">tok</span>&nbsp;<span class="op" id="8467801">!=</span>&nbsp;<span class="ident" id="8467804">token</span><span class="op" id="8467809">.</span><span class="ident" id="8467810">EOF</span>&nbsp;<span class="op" id="8467814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467818">if</span>&nbsp;<span class="ident" id="8467821">tok</span>&nbsp;<span class="op" id="8467825">==</span>&nbsp;<span class="ident" id="8467828">token</span><span class="op" id="8467833">.</span><span class="ident" id="8467834">ILLEGAL</span>&nbsp;<span class="op" id="8467842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8467847">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8467894">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467936">semiLit</span>&nbsp;<span class="op" id="8467944">:=</span>&nbsp;<span class="string" id="8467947">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8467955">if</span>&nbsp;<span class="ident" id="8467958">lit</span><span class="op" id="8467961">[</span><span class="num" id="8467962">0</span><span class="op" id="8467963">]</span>&nbsp;<span class="op" id="8467965">==</span>&nbsp;<span class="string" id="8467968">&#39;#&#39;</span>&nbsp;<span class="op" id="8467972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8467978">semiLit</span>&nbsp;<span class="op" id="8467986">=</span>&nbsp;<span class="string" id="8467988">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8467995">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8468000">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8468037">semiPos</span>&nbsp;<span class="op" id="8468045">:=</span>&nbsp;<span class="ident" id="8468048">file</span><span class="op" id="8468052">.</span><span class="ident" id="8468053">Position</span><span class="op" id="8468061">(</span><span class="ident" id="8468062">pos</span><span class="op" id="8468065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8468070">semiPos</span><span class="op" id="8468077">.</span><span class="ident" id="8468078">Offset</span><span class="op" id="8468084">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8468090">semiPos</span><span class="op" id="8468097">.</span><span class="ident" id="8468098">Column</span><span class="op" id="8468104">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8468110">pos</span><span class="op" id="8468113">,</span>&nbsp;<span class="ident" id="8468115">tok</span><span class="op" id="8468118">,</span>&nbsp;<span class="ident" id="8468120">lit</span>&nbsp;<span class="op" id="8468124">=</span>&nbsp;<span class="ident" id="8468126">S</span><span class="op" id="8468127">.</span><span class="ident" id="8468128">Scan</span><span class="op" id="8468132">(</span><span class="op" id="8468133">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8468138">if</span>&nbsp;<span class="ident" id="8468141">tok</span>&nbsp;<span class="op" id="8468145">==</span>&nbsp;<span class="ident" id="8468148">token</span><span class="op" id="8468153">.</span><span class="ident" id="8468154">SEMICOLON</span>&nbsp;<span class="op" id="8468164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8468170">if</span>&nbsp;<span class="ident" id="8468173">lit</span>&nbsp;<span class="op" id="8468177">!=</span>&nbsp;<span class="ident" id="8468180">semiLit</span>&nbsp;<span class="op" id="8468188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8468195">t</span><span class="op" id="8468196">.</span><span class="ident" id="8468197">Errorf</span><span class="op" id="8468203">(</span><span class="string" id="8468204">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="8468245">,</span>&nbsp;<span class="ident" id="8468247">line</span><span class="op" id="8468251">,</span>&nbsp;<span class="ident" id="8468253">lit</span><span class="op" id="8468256">,</span>&nbsp;<span class="ident" id="8468258">semiLit</span><span class="op" id="8468265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8468271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8468277">checkPos</span><span class="op" id="8468285">(</span><span class="ident" id="8468286">t</span><span class="op" id="8468287">,</span>&nbsp;<span class="ident" id="8468289">line</span><span class="op" id="8468293">,</span>&nbsp;<span class="ident" id="8468295">pos</span><span class="op" id="8468298">,</span>&nbsp;<span class="ident" id="8468300">semiPos</span><span class="op" id="8468307">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8468312">}</span>&nbsp;<span class="keyword" id="8468314">else</span>&nbsp;<span class="op" id="8468319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8468325">t</span><span class="op" id="8468326">.</span><span class="ident" id="8468327">Errorf</span><span class="op" id="8468333">(</span><span class="string" id="8468334">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="8468372">,</span>&nbsp;<span class="ident" id="8468374">line</span><span class="op" id="8468378">,</span>&nbsp;<span class="ident" id="8468380">tok</span><span class="op" id="8468383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8468388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8468392">}</span>&nbsp;<span class="keyword" id="8468394">else</span>&nbsp;<span class="keyword" id="8468399">if</span>&nbsp;<span class="ident" id="8468402">tok</span>&nbsp;<span class="op" id="8468406">==</span>&nbsp;<span class="ident" id="8468409">token</span><span class="op" id="8468414">.</span><span class="ident" id="8468415">SEMICOLON</span>&nbsp;<span class="op" id="8468425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8468430">t</span><span class="op" id="8468431">.</span><span class="ident" id="8468432">Errorf</span><span class="op" id="8468438">(</span><span class="string" id="8468439">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="8468479">,</span>&nbsp;<span class="ident" id="8468481">line</span><span class="op" id="8468485">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8468489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8468493">pos</span><span class="op" id="8468496">,</span>&nbsp;<span class="ident" id="8468498">tok</span><span class="op" id="8468501">,</span>&nbsp;<span class="ident" id="8468503">lit</span>&nbsp;<span class="op" id="8468507">=</span>&nbsp;<span class="ident" id="8468509">S</span><span class="op" id="8468510">.</span><span class="ident" id="8468511">Scan</span><span class="op" id="8468515">(</span><span class="op" id="8468516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8468519">}</span><br>
<span class="lineno"></span><span class="op" id="8468521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="8468524">var</span>&nbsp;<span class="ident" id="8468528">lines</span>&nbsp;<span class="op" id="8468534">=</span>&nbsp;<span class="op" id="8468536">[</span><span class="op" id="8468537">]</span><span class="builtintype" id="8468538">string</span><span class="op" id="8468544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8468547">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8468597">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468649">&#34;&#34;</span><span class="op" id="8468651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468654">&#34;\ufeff#;&#34;</span><span class="op" id="8468664">,</span>&nbsp;<span class="comment" id="8468666">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468691">&#34;#;&#34;</span><span class="op" id="8468695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468698">&#34;foo$\n&#34;</span><span class="op" id="8468706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468709">&#34;123$\n&#34;</span><span class="op" id="8468717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468720">&#34;1.2$\n&#34;</span><span class="op" id="8468728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468731">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="8468739">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468742">`&#34;x&#34;`</span>&nbsp;<span class="op" id="8468748">+</span>&nbsp;<span class="string" id="8468750">&#34;$\n&#34;</span><span class="op" id="8468755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468758">&#34;`x`$\n&#34;</span><span class="op" id="8468766">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468770">&#34;+\n&#34;</span><span class="op" id="8468775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468778">&#34;-\n&#34;</span><span class="op" id="8468783">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468786">&#34;*\n&#34;</span><span class="op" id="8468791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468794">&#34;/\n&#34;</span><span class="op" id="8468799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468802">&#34;%\n&#34;</span><span class="op" id="8468807">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468811">&#34;&amp;\n&#34;</span><span class="op" id="8468816">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468819">&#34;|\n&#34;</span><span class="op" id="8468824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468827">&#34;^\n&#34;</span><span class="op" id="8468832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468835">&#34;&lt;&lt;\n&#34;</span><span class="op" id="8468841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468844">&#34;&gt;&gt;\n&#34;</span><span class="op" id="8468850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468853">&#34;&amp;^\n&#34;</span><span class="op" id="8468859">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468863">&#34;+=\n&#34;</span><span class="op" id="8468869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468872">&#34;-=\n&#34;</span><span class="op" id="8468878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468881">&#34;*=\n&#34;</span><span class="op" id="8468887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468890">&#34;/=\n&#34;</span><span class="op" id="8468896">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468899">&#34;%=\n&#34;</span><span class="op" id="8468905">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468909">&#34;&amp;=\n&#34;</span><span class="op" id="8468915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468918">&#34;|=\n&#34;</span><span class="op" id="8468924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468927">&#34;^=\n&#34;</span><span class="op" id="8468933">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468936">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="8468943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468946">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="8468953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468956">&#34;&amp;^=\n&#34;</span><span class="op" id="8468963">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468967">&#34;&amp;&amp;\n&#34;</span><span class="op" id="8468973">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468976">&#34;||\n&#34;</span><span class="op" id="8468982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468985">&#34;&lt;-\n&#34;</span><span class="op" id="8468991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8468994">&#34;++$\n&#34;</span><span class="op" id="8469001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469004">&#34;--$\n&#34;</span><span class="op" id="8469011">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469015">&#34;==\n&#34;</span><span class="op" id="8469021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469024">&#34;&lt;\n&#34;</span><span class="op" id="8469029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469032">&#34;&gt;\n&#34;</span><span class="op" id="8469037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469040">&#34;=\n&#34;</span><span class="op" id="8469045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469048">&#34;!\n&#34;</span><span class="op" id="8469053">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469057">&#34;!=\n&#34;</span><span class="op" id="8469063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469066">&#34;&lt;=\n&#34;</span><span class="op" id="8469072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469075">&#34;&gt;=\n&#34;</span><span class="op" id="8469081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469084">&#34;:=\n&#34;</span><span class="op" id="8469090">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469093">&#34;...\n&#34;</span><span class="op" id="8469100">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469104">&#34;(\n&#34;</span><span class="op" id="8469109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469112">&#34;[\n&#34;</span><span class="op" id="8469117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469120">&#34;{\n&#34;</span><span class="op" id="8469125">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469128">&#34;,\n&#34;</span><span class="op" id="8469133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469136">&#34;.\n&#34;</span><span class="op" id="8469141">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469145">&#34;)$\n&#34;</span><span class="op" id="8469151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469154">&#34;]$\n&#34;</span><span class="op" id="8469160">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469163">&#34;}$\n&#34;</span><span class="op" id="8469169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469172">&#34;#;\n&#34;</span><span class="op" id="8469178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469181">&#34;:\n&#34;</span><span class="op" id="8469186">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469190">&#34;break$\n&#34;</span><span class="op" id="8469200">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469203">&#34;case\n&#34;</span><span class="op" id="8469211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469214">&#34;chan\n&#34;</span><span class="op" id="8469222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469225">&#34;const\n&#34;</span><span class="op" id="8469234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469237">&#34;continue$\n&#34;</span><span class="op" id="8469250">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469254">&#34;default\n&#34;</span><span class="op" id="8469265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469268">&#34;defer\n&#34;</span><span class="op" id="8469277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469280">&#34;else\n&#34;</span><span class="op" id="8469288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469291">&#34;fallthrough$\n&#34;</span><span class="op" id="8469307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469310">&#34;for\n&#34;</span><span class="op" id="8469317">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469321">&#34;func\n&#34;</span><span class="op" id="8469329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469332">&#34;go\n&#34;</span><span class="op" id="8469338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469341">&#34;goto\n&#34;</span><span class="op" id="8469349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469352">&#34;if\n&#34;</span><span class="op" id="8469358">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469361">&#34;import\n&#34;</span><span class="op" id="8469371">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469375">&#34;interface\n&#34;</span><span class="op" id="8469388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469391">&#34;map\n&#34;</span><span class="op" id="8469398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469401">&#34;package\n&#34;</span><span class="op" id="8469412">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469415">&#34;range\n&#34;</span><span class="op" id="8469424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469427">&#34;return$\n&#34;</span><span class="op" id="8469438">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469442">&#34;select\n&#34;</span><span class="op" id="8469452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469455">&#34;struct\n&#34;</span><span class="op" id="8469465">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469468">&#34;switch\n&#34;</span><span class="op" id="8469478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469481">&#34;type\n&#34;</span><span class="op" id="8469489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469492">&#34;var\n&#34;</span><span class="op" id="8469499">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469503">&#34;foo$//comment\n&#34;</span><span class="op" id="8469520">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469523">&#34;foo$//comment&#34;</span><span class="op" id="8469538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469541">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="8469560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469563">&#34;foo$/*\n*/&#34;</span><span class="op" id="8469575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469578">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8469601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469604">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8469620">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469624">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="8469646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469649">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="8469669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469672">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="8469695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469698">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="8469714">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469717">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="8469753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469756">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="8469785">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469789">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8469816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469819">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8469852">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469855">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="8469926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469929">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="8469969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8469972">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="8470015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8470018">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="8470061">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8470065">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="8470132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8470135">&#34;package&nbsp;main$&#34;</span><span class="op" id="8470150">,</span><br>
<span class="lineno"></span><span class="op" id="8470152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8470155">func</span>&nbsp;<span class="ident" id="8470160">TestSemis</span><span class="op" id="8470169">(</span><span class="ident" id="8470170">t</span>&nbsp;<span class="op" id="8470172">*</span><span class="ident" id="8470173">testing</span><span class="op" id="8470180">.</span><span class="ident" id="8470181">T</span><span class="op" id="8470182">)</span>&nbsp;<span class="op" id="8470184">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8470187">for</span>&nbsp;<span class="ident" id="8470191">_</span><span class="op" id="8470192">,</span>&nbsp;<span class="ident" id="8470194">line</span>&nbsp;<span class="op" id="8470199">:=</span>&nbsp;<span class="keyword" id="8470202">range</span>&nbsp;<span class="ident" id="8470208">lines</span>&nbsp;<span class="op" id="8470214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8470218">checkSemi</span><span class="op" id="8470227">(</span><span class="ident" id="8470228">t</span><span class="op" id="8470229">,</span>&nbsp;<span class="ident" id="8470231">line</span><span class="op" id="8470235">,</span>&nbsp;<span class="num" id="8470237">0</span><span class="op" id="8470238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8470242">checkSemi</span><span class="op" id="8470251">(</span><span class="ident" id="8470252">t</span><span class="op" id="8470253">,</span>&nbsp;<span class="ident" id="8470255">line</span><span class="op" id="8470259">,</span>&nbsp;<span class="ident" id="8470261">ScanComments</span><span class="op" id="8470273">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8470278">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8470343">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8470384">for</span>&nbsp;<span class="ident" id="8470388">i</span>&nbsp;<span class="op" id="8470390">:=</span>&nbsp;<span class="builtinfunc" id="8470393">len</span><span class="op" id="8470396">(</span><span class="ident" id="8470397">line</span><span class="op" id="8470401">)</span>&nbsp;<span class="op" id="8470403">-</span>&nbsp;<span class="num" id="8470405">1</span><span class="op" id="8470406">;</span>&nbsp;<span class="ident" id="8470408">i</span>&nbsp;<span class="op" id="8470410">&gt;=</span>&nbsp;<span class="num" id="8470413">0</span>&nbsp;<span class="op" id="8470415">&amp;&amp;</span>&nbsp;<span class="ident" id="8470418">line</span><span class="op" id="8470422">[</span><span class="ident" id="8470423">i</span><span class="op" id="8470424">]</span>&nbsp;<span class="op" id="8470426">==</span>&nbsp;<span class="string" id="8470429">&#39;\n&#39;</span><span class="op" id="8470433">;</span>&nbsp;<span class="ident" id="8470435">i</span><span class="op" id="8470436">--</span>&nbsp;<span class="op" id="8470439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8470444">checkSemi</span><span class="op" id="8470453">(</span><span class="ident" id="8470454">t</span><span class="op" id="8470455">,</span>&nbsp;<span class="ident" id="8470457">line</span><span class="op" id="8470461">[</span><span class="num" id="8470462">0</span><span class="op" id="8470463">:</span><span class="ident" id="8470464">i</span><span class="op" id="8470465">]</span><span class="op" id="8470466">,</span>&nbsp;<span class="num" id="8470468">0</span><span class="op" id="8470469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8470474">checkSemi</span><span class="op" id="8470483">(</span><span class="ident" id="8470484">t</span><span class="op" id="8470485">,</span>&nbsp;<span class="ident" id="8470487">line</span><span class="op" id="8470491">[</span><span class="num" id="8470492">0</span><span class="op" id="8470493">:</span><span class="ident" id="8470494">i</span><span class="op" id="8470495">]</span><span class="op" id="8470496">,</span>&nbsp;<span class="ident" id="8470498">ScanComments</span><span class="op" id="8470510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8470514">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8470517">}</span><br>
<span class="lineno"></span><span class="op" id="8470519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8470522">type</span>&nbsp;<span class="ident" id="8470527">segment</span>&nbsp;<span class="keyword" id="8470535">struct</span>&nbsp;<span class="op" id="8470542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8470545">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="8470554">string</span>&nbsp;<span class="comment" id="8470561">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8470587">filename</span>&nbsp;<span class="builtintype" id="8470596">string</span>&nbsp;<span class="comment" id="8470603">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8470634">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8470643">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8470650">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="8470683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8470686">var</span>&nbsp;<span class="ident" id="8470690">segments</span>&nbsp;<span class="op" id="8470699">=</span>&nbsp;<span class="op" id="8470701">[</span><span class="op" id="8470702">]</span><span class="ident" id="8470703">segment</span><span class="op" id="8470710">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8470713">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8470790">{</span><span class="string" id="8470791">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="8470800">,</span>&nbsp;<span class="ident" id="8470802">filepath</span><span class="op" id="8470810">.</span><span class="ident" id="8470811">Join</span><span class="op" id="8470815">(</span><span class="string" id="8470816">&#34;dir&#34;</span><span class="op" id="8470821">,</span>&nbsp;<span class="string" id="8470823">&#34;TestLineComments&#34;</span><span class="op" id="8470841">)</span><span class="op" id="8470842">,</span>&nbsp;<span class="num" id="8470844">1</span><span class="op" id="8470845">}</span><span class="op" id="8470846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8470849">{</span><span class="string" id="8470850">&#34;\nline2&#34;</span><span class="op" id="8470859">,</span>&nbsp;<span class="ident" id="8470861">filepath</span><span class="op" id="8470869">.</span><span class="ident" id="8470870">Join</span><span class="op" id="8470874">(</span><span class="string" id="8470875">&#34;dir&#34;</span><span class="op" id="8470880">,</span>&nbsp;<span class="string" id="8470882">&#34;TestLineComments&#34;</span><span class="op" id="8470900">)</span><span class="op" id="8470901">,</span>&nbsp;<span class="num" id="8470903">2</span><span class="op" id="8470904">}</span><span class="op" id="8470905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8470908">{</span><span class="string" id="8470909">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="8470939">,</span>&nbsp;<span class="ident" id="8470941">filepath</span><span class="op" id="8470949">.</span><span class="ident" id="8470950">Join</span><span class="op" id="8470954">(</span><span class="string" id="8470955">&#34;dir&#34;</span><span class="op" id="8470960">,</span>&nbsp;<span class="string" id="8470962">&#34;TestLineComments&#34;</span><span class="op" id="8470980">)</span><span class="op" id="8470981">,</span>&nbsp;<span class="num" id="8470983">3</span><span class="op" id="8470984">}</span><span class="op" id="8470985">,</span>&nbsp;<span class="comment" id="8470987">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471017">{</span><span class="string" id="8471018">&#34;\nline4&#34;</span><span class="op" id="8471027">,</span>&nbsp;<span class="ident" id="8471029">filepath</span><span class="op" id="8471037">.</span><span class="ident" id="8471038">Join</span><span class="op" id="8471042">(</span><span class="string" id="8471043">&#34;dir&#34;</span><span class="op" id="8471048">,</span>&nbsp;<span class="string" id="8471050">&#34;TestLineComments&#34;</span><span class="op" id="8471068">)</span><span class="op" id="8471069">,</span>&nbsp;<span class="num" id="8471071">4</span><span class="op" id="8471072">}</span><span class="op" id="8471073">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471076">{</span><span class="string" id="8471077">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8471111">,</span>&nbsp;<span class="ident" id="8471113">filepath</span><span class="op" id="8471121">.</span><span class="ident" id="8471122">Join</span><span class="op" id="8471126">(</span><span class="string" id="8471127">&#34;dir&#34;</span><span class="op" id="8471132">,</span>&nbsp;<span class="string" id="8471134">&#34;File1.go&#34;</span><span class="op" id="8471144">)</span><span class="op" id="8471145">,</span>&nbsp;<span class="num" id="8471147">100</span><span class="op" id="8471150">}</span><span class="op" id="8471151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471154">{</span><span class="string" id="8471155">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="8471182">,</span>&nbsp;<span class="string" id="8471184">&#34;&#34;</span><span class="op" id="8471186">,</span>&nbsp;<span class="num" id="8471188">42</span><span class="op" id="8471190">}</span><span class="op" id="8471191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471194">{</span><span class="string" id="8471195">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="8471229">,</span>&nbsp;<span class="ident" id="8471231">filepath</span><span class="op" id="8471239">.</span><span class="ident" id="8471240">Join</span><span class="op" id="8471244">(</span><span class="string" id="8471245">&#34;dir&#34;</span><span class="op" id="8471250">,</span>&nbsp;<span class="string" id="8471252">&#34;File2.go&#34;</span><span class="op" id="8471262">)</span><span class="op" id="8471263">,</span>&nbsp;<span class="num" id="8471265">200</span><span class="op" id="8471268">}</span><span class="op" id="8471269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471272">{</span><span class="string" id="8471273">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8471302">,</span>&nbsp;<span class="ident" id="8471304">filepath</span><span class="op" id="8471312">.</span><span class="ident" id="8471313">Join</span><span class="op" id="8471317">(</span><span class="string" id="8471318">&#34;dir&#34;</span><span class="op" id="8471323">,</span>&nbsp;<span class="string" id="8471325">&#34;foo&#34;</span><span class="op" id="8471330">)</span><span class="op" id="8471331">,</span>&nbsp;<span class="num" id="8471333">42</span><span class="op" id="8471335">}</span><span class="op" id="8471336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471339">{</span><span class="string" id="8471340">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="8471368">,</span>&nbsp;<span class="ident" id="8471370">filepath</span><span class="op" id="8471378">.</span><span class="ident" id="8471379">Join</span><span class="op" id="8471383">(</span><span class="string" id="8471384">&#34;dir&#34;</span><span class="op" id="8471389">,</span>&nbsp;<span class="string" id="8471391">&#34;foo&#34;</span><span class="op" id="8471396">)</span><span class="op" id="8471397">,</span>&nbsp;<span class="num" id="8471399">44</span><span class="op" id="8471401">}</span><span class="op" id="8471402">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8471414">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471444">{</span><span class="string" id="8471445">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="8471472">,</span>&nbsp;<span class="ident" id="8471474">filepath</span><span class="op" id="8471482">.</span><span class="ident" id="8471483">Join</span><span class="op" id="8471487">(</span><span class="string" id="8471488">&#34;dir&#34;</span><span class="op" id="8471493">,</span>&nbsp;<span class="string" id="8471495">&#34;foo&#34;</span><span class="op" id="8471500">)</span><span class="op" id="8471501">,</span>&nbsp;<span class="num" id="8471503">46</span><span class="op" id="8471505">}</span><span class="op" id="8471506">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8471519">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471549">{</span><span class="string" id="8471550">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="8471588">,</span>&nbsp;<span class="ident" id="8471590">filepath</span><span class="op" id="8471598">.</span><span class="ident" id="8471599">Join</span><span class="op" id="8471603">(</span><span class="string" id="8471604">&#34;dir&#34;</span><span class="op" id="8471609">,</span>&nbsp;<span class="string" id="8471611">&#34;foo&#34;</span><span class="op" id="8471616">)</span><span class="op" id="8471617">,</span>&nbsp;<span class="num" id="8471619">48</span><span class="op" id="8471621">}</span><span class="op" id="8471622">,</span>&nbsp;<span class="comment" id="8471624">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471654">{</span><span class="string" id="8471655">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8471684">,</span>&nbsp;<span class="ident" id="8471686">filepath</span><span class="op" id="8471694">.</span><span class="ident" id="8471695">Join</span><span class="op" id="8471699">(</span><span class="string" id="8471700">&#34;dir&#34;</span><span class="op" id="8471705">,</span>&nbsp;<span class="string" id="8471707">&#34;foo&#34;</span><span class="op" id="8471712">)</span><span class="op" id="8471713">,</span>&nbsp;<span class="num" id="8471715">42</span><span class="op" id="8471717">}</span><span class="op" id="8471718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471721">{</span><span class="string" id="8471722">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8471762">,</span>&nbsp;<span class="ident" id="8471764">filepath</span><span class="op" id="8471772">.</span><span class="ident" id="8471773">Join</span><span class="op" id="8471777">(</span><span class="string" id="8471778">&#34;dir&#34;</span><span class="op" id="8471783">,</span>&nbsp;<span class="string" id="8471785">&#34;a&#34;</span><span class="op" id="8471788">,</span>&nbsp;<span class="string" id="8471790">&#34;b&#34;</span><span class="op" id="8471793">,</span>&nbsp;<span class="string" id="8471795">&#34;c&#34;</span><span class="op" id="8471798">,</span>&nbsp;<span class="string" id="8471800">&#34;File1.go&#34;</span><span class="op" id="8471810">)</span><span class="op" id="8471811">,</span>&nbsp;<span class="num" id="8471813">100</span><span class="op" id="8471816">}</span><span class="op" id="8471817">,</span><br>
<span class="lineno"></span><span class="op" id="8471819">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="8471822">var</span>&nbsp;<span class="ident" id="8471826">unixsegments</span>&nbsp;<span class="op" id="8471839">=</span>&nbsp;<span class="op" id="8471841">[</span><span class="op" id="8471842">]</span><span class="ident" id="8471843">segment</span><span class="op" id="8471850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471853">{</span><span class="string" id="8471854">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8471882">,</span>&nbsp;<span class="string" id="8471884">&#34;/bar&#34;</span><span class="op" id="8471890">,</span>&nbsp;<span class="num" id="8471892">42</span><span class="op" id="8471894">}</span><span class="op" id="8471895">,</span><br>
<span class="lineno"></span><span class="op" id="8471897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="8471900">var</span>&nbsp;<span class="ident" id="8471904">winsegments</span>&nbsp;<span class="op" id="8471916">=</span>&nbsp;<span class="op" id="8471918">[</span><span class="op" id="8471919">]</span><span class="ident" id="8471920">segment</span><span class="op" id="8471927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471930">{</span><span class="string" id="8471931">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8471962">,</span>&nbsp;<span class="string" id="8471964">&#34;c:\\bar&#34;</span><span class="op" id="8471973">,</span>&nbsp;<span class="num" id="8471975">42</span><span class="op" id="8471977">}</span><span class="op" id="8471978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8471981">{</span><span class="string" id="8471982">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8472025">,</span>&nbsp;<span class="string" id="8472027">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="8472046">,</span>&nbsp;<span class="num" id="8472048">100</span><span class="op" id="8472051">}</span><span class="op" id="8472052">,</span><br>
<span class="lineno"></span><span class="op" id="8472054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="8472057">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8472143">func</span>&nbsp;<span class="ident" id="8472148">TestLineComments</span><span class="op" id="8472164">(</span><span class="ident" id="8472165">t</span>&nbsp;<span class="op" id="8472167">*</span><span class="ident" id="8472168">testing</span><span class="op" id="8472175">.</span><span class="ident" id="8472176">T</span><span class="op" id="8472177">)</span>&nbsp;<span class="op" id="8472179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472182">segs</span>&nbsp;<span class="op" id="8472187">:=</span>&nbsp;<span class="ident" id="8472190">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8472200">if</span>&nbsp;<span class="ident" id="8472203">runtime</span><span class="op" id="8472210">.</span><span class="ident" id="8472211">GOOS</span>&nbsp;<span class="op" id="8472216">==</span>&nbsp;<span class="string" id="8472219">&#34;windows&#34;</span>&nbsp;<span class="op" id="8472229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472233">segs</span>&nbsp;<span class="op" id="8472238">=</span>&nbsp;<span class="builtinfunc" id="8472240">append</span><span class="op" id="8472246">(</span><span class="ident" id="8472247">segs</span><span class="op" id="8472251">,</span>&nbsp;<span class="ident" id="8472253">winsegments</span><span class="op" id="8472264">...</span><span class="op" id="8472267">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8472270">}</span>&nbsp;<span class="keyword" id="8472272">else</span>&nbsp;<span class="op" id="8472277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472281">segs</span>&nbsp;<span class="op" id="8472286">=</span>&nbsp;<span class="builtinfunc" id="8472288">append</span><span class="op" id="8472294">(</span><span class="ident" id="8472295">segs</span><span class="op" id="8472299">,</span>&nbsp;<span class="ident" id="8472301">unixsegments</span><span class="op" id="8472313">...</span><span class="op" id="8472316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8472319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8472323">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8472339">var</span>&nbsp;<span class="ident" id="8472343">src</span>&nbsp;<span class="builtintype" id="8472347">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8472355">for</span>&nbsp;<span class="ident" id="8472359">_</span><span class="op" id="8472360">,</span>&nbsp;<span class="ident" id="8472362">e</span>&nbsp;<span class="op" id="8472364">:=</span>&nbsp;<span class="keyword" id="8472367">range</span>&nbsp;<span class="ident" id="8472373">segs</span>&nbsp;<span class="op" id="8472378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472382">src</span>&nbsp;<span class="op" id="8472386">+=</span>&nbsp;<span class="ident" id="8472389">e</span><span class="op" id="8472390">.</span><span class="ident" id="8472391">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8472400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8472404">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8472420">var</span>&nbsp;<span class="ident" id="8472424">S</span>&nbsp;<span class="ident" id="8472426">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472435">file</span>&nbsp;<span class="op" id="8472440">:=</span>&nbsp;<span class="ident" id="8472443">fset</span><span class="op" id="8472447">.</span><span class="ident" id="8472448">AddFile</span><span class="op" id="8472455">(</span><span class="ident" id="8472456">filepath</span><span class="op" id="8472464">.</span><span class="ident" id="8472465">Join</span><span class="op" id="8472469">(</span><span class="string" id="8472470">&#34;dir&#34;</span><span class="op" id="8472475">,</span>&nbsp;<span class="string" id="8472477">&#34;TestLineComments&#34;</span><span class="op" id="8472495">)</span><span class="op" id="8472496">,</span>&nbsp;<span class="ident" id="8472498">fset</span><span class="op" id="8472502">.</span><span class="ident" id="8472503">Base</span><span class="op" id="8472507">(</span><span class="op" id="8472508">)</span><span class="op" id="8472509">,</span>&nbsp;<span class="builtinfunc" id="8472511">len</span><span class="op" id="8472514">(</span><span class="ident" id="8472515">src</span><span class="op" id="8472518">)</span><span class="op" id="8472519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472522">S</span><span class="op" id="8472523">.</span><span class="ident" id="8472524">Init</span><span class="op" id="8472528">(</span><span class="ident" id="8472529">file</span><span class="op" id="8472533">,</span>&nbsp;<span class="op" id="8472535">[</span><span class="op" id="8472536">]</span><span class="builtintype" id="8472537">byte</span><span class="op" id="8472541">(</span><span class="ident" id="8472542">src</span><span class="op" id="8472545">)</span><span class="op" id="8472546">,</span>&nbsp;<span class="builtintype" id="8472548">nil</span><span class="op" id="8472551">,</span>&nbsp;<span class="ident" id="8472553">dontInsertSemis</span><span class="op" id="8472568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8472571">for</span>&nbsp;<span class="ident" id="8472575">_</span><span class="op" id="8472576">,</span>&nbsp;<span class="ident" id="8472578">s</span>&nbsp;<span class="op" id="8472580">:=</span>&nbsp;<span class="keyword" id="8472583">range</span>&nbsp;<span class="ident" id="8472589">segs</span>&nbsp;<span class="op" id="8472594">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472598">p</span><span class="op" id="8472599">,</span>&nbsp;<span class="ident" id="8472601">_</span><span class="op" id="8472602">,</span>&nbsp;<span class="ident" id="8472604">lit</span>&nbsp;<span class="op" id="8472608">:=</span>&nbsp;<span class="ident" id="8472611">S</span><span class="op" id="8472612">.</span><span class="ident" id="8472613">Scan</span><span class="op" id="8472617">(</span><span class="op" id="8472618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472622">pos</span>&nbsp;<span class="op" id="8472626">:=</span>&nbsp;<span class="ident" id="8472629">file</span><span class="op" id="8472633">.</span><span class="ident" id="8472634">Position</span><span class="op" id="8472642">(</span><span class="ident" id="8472643">p</span><span class="op" id="8472644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472648">checkPos</span><span class="op" id="8472656">(</span><span class="ident" id="8472657">t</span><span class="op" id="8472658">,</span>&nbsp;<span class="ident" id="8472660">lit</span><span class="op" id="8472663">,</span>&nbsp;<span class="ident" id="8472665">p</span><span class="op" id="8472666">,</span>&nbsp;<span class="ident" id="8472668">token</span><span class="op" id="8472673">.</span><span class="ident" id="8472674">Position</span><span class="op" id="8472682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472687">Filename</span><span class="op" id="8472695">:</span>&nbsp;<span class="ident" id="8472697">s</span><span class="op" id="8472698">.</span><span class="ident" id="8472699">filename</span><span class="op" id="8472707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472712">Offset</span><span class="op" id="8472718">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8472722">pos</span><span class="op" id="8472725">.</span><span class="ident" id="8472726">Offset</span><span class="op" id="8472732">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472737">Line</span><span class="op" id="8472741">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472747">s</span><span class="op" id="8472748">.</span><span class="ident" id="8472749">line</span><span class="op" id="8472753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472758">Column</span><span class="op" id="8472764">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8472768">pos</span><span class="op" id="8472771">.</span><span class="ident" id="8472772">Column</span><span class="op" id="8472778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8472782">}</span><span class="op" id="8472783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8472786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8472790">if</span>&nbsp;<span class="ident" id="8472793">S</span><span class="op" id="8472794">.</span><span class="ident" id="8472795">ErrorCount</span>&nbsp;<span class="op" id="8472806">!=</span>&nbsp;<span class="num" id="8472809">0</span>&nbsp;<span class="op" id="8472811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8472815">t</span><span class="op" id="8472816">.</span><span class="ident" id="8472817">Errorf</span><span class="op" id="8472823">(</span><span class="string" id="8472824">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8472841">,</span>&nbsp;<span class="ident" id="8472843">S</span><span class="op" id="8472844">.</span><span class="ident" id="8472845">ErrorCount</span><span class="op" id="8472855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8472858">}</span><br>
<span class="lineno"></span><span class="op" id="8472860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="8472863">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8472940">func</span>&nbsp;<span class="ident" id="8472945">TestInit</span><span class="op" id="8472953">(</span><span class="ident" id="8472954">t</span>&nbsp;<span class="op" id="8472956">*</span><span class="ident" id="8472957">testing</span><span class="op" id="8472964">.</span><span class="ident" id="8472965">T</span><span class="op" id="8472966">)</span>&nbsp;<span class="op" id="8472968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8472971">var</span>&nbsp;<span class="ident" id="8472975">s</span>&nbsp;<span class="ident" id="8472977">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8472987">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473000">src1</span>&nbsp;<span class="op" id="8473005">:=</span>&nbsp;<span class="string" id="8473008">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473023">f1</span>&nbsp;<span class="op" id="8473026">:=</span>&nbsp;<span class="ident" id="8473029">fset</span><span class="op" id="8473033">.</span><span class="ident" id="8473034">AddFile</span><span class="op" id="8473041">(</span><span class="string" id="8473042">&#34;src1&#34;</span><span class="op" id="8473048">,</span>&nbsp;<span class="ident" id="8473050">fset</span><span class="op" id="8473054">.</span><span class="ident" id="8473055">Base</span><span class="op" id="8473059">(</span><span class="op" id="8473060">)</span><span class="op" id="8473061">,</span>&nbsp;<span class="builtinfunc" id="8473063">len</span><span class="op" id="8473066">(</span><span class="ident" id="8473067">src1</span><span class="op" id="8473071">)</span><span class="op" id="8473072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473075">s</span><span class="op" id="8473076">.</span><span class="ident" id="8473077">Init</span><span class="op" id="8473081">(</span><span class="ident" id="8473082">f1</span><span class="op" id="8473084">,</span>&nbsp;<span class="op" id="8473086">[</span><span class="op" id="8473087">]</span><span class="builtintype" id="8473088">byte</span><span class="op" id="8473092">(</span><span class="ident" id="8473093">src1</span><span class="op" id="8473097">)</span><span class="op" id="8473098">,</span>&nbsp;<span class="builtintype" id="8473100">nil</span><span class="op" id="8473103">,</span>&nbsp;<span class="ident" id="8473105">dontInsertSemis</span><span class="op" id="8473120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8473123">if</span>&nbsp;<span class="ident" id="8473126">f1</span><span class="op" id="8473128">.</span><span class="ident" id="8473129">Size</span><span class="op" id="8473133">(</span><span class="op" id="8473134">)</span>&nbsp;<span class="op" id="8473136">!=</span>&nbsp;<span class="builtinfunc" id="8473139">len</span><span class="op" id="8473142">(</span><span class="ident" id="8473143">src1</span><span class="op" id="8473147">)</span>&nbsp;<span class="op" id="8473149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473153">t</span><span class="op" id="8473154">.</span><span class="ident" id="8473155">Errorf</span><span class="op" id="8473161">(</span><span class="string" id="8473162">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8473198">,</span>&nbsp;<span class="ident" id="8473200">f1</span><span class="op" id="8473202">.</span><span class="ident" id="8473203">Size</span><span class="op" id="8473207">(</span><span class="op" id="8473208">)</span><span class="op" id="8473209">,</span>&nbsp;<span class="builtinfunc" id="8473211">len</span><span class="op" id="8473214">(</span><span class="ident" id="8473215">src1</span><span class="op" id="8473219">)</span><span class="op" id="8473220">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8473223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473226">s</span><span class="op" id="8473227">.</span><span class="ident" id="8473228">Scan</span><span class="op" id="8473232">(</span><span class="op" id="8473233">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8473248">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473255">s</span><span class="op" id="8473256">.</span><span class="ident" id="8473257">Scan</span><span class="op" id="8473261">(</span><span class="op" id="8473262">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8473277">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473286">_</span><span class="op" id="8473287">,</span>&nbsp;<span class="ident" id="8473289">tok</span><span class="op" id="8473292">,</span>&nbsp;<span class="ident" id="8473294">_</span>&nbsp;<span class="op" id="8473296">:=</span>&nbsp;<span class="ident" id="8473299">s</span><span class="op" id="8473300">.</span><span class="ident" id="8473301">Scan</span><span class="op" id="8473305">(</span><span class="op" id="8473306">)</span>&nbsp;<span class="comment" id="8473308">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8473314">if</span>&nbsp;<span class="ident" id="8473317">tok</span>&nbsp;<span class="op" id="8473321">!=</span>&nbsp;<span class="ident" id="8473324">token</span><span class="op" id="8473329">.</span><span class="ident" id="8473330">LBRACE</span>&nbsp;<span class="op" id="8473337">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473341">t</span><span class="op" id="8473342">.</span><span class="ident" id="8473343">Errorf</span><span class="op" id="8473349">(</span><span class="string" id="8473350">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8473382">,</span>&nbsp;<span class="ident" id="8473384">tok</span><span class="op" id="8473387">,</span>&nbsp;<span class="ident" id="8473389">token</span><span class="op" id="8473394">.</span><span class="ident" id="8473395">LBRACE</span><span class="op" id="8473401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8473404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8473408">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473421">src2</span>&nbsp;<span class="op" id="8473426">:=</span>&nbsp;<span class="string" id="8473429">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473444">f2</span>&nbsp;<span class="op" id="8473447">:=</span>&nbsp;<span class="ident" id="8473450">fset</span><span class="op" id="8473454">.</span><span class="ident" id="8473455">AddFile</span><span class="op" id="8473462">(</span><span class="string" id="8473463">&#34;src2&#34;</span><span class="op" id="8473469">,</span>&nbsp;<span class="ident" id="8473471">fset</span><span class="op" id="8473475">.</span><span class="ident" id="8473476">Base</span><span class="op" id="8473480">(</span><span class="op" id="8473481">)</span><span class="op" id="8473482">,</span>&nbsp;<span class="builtinfunc" id="8473484">len</span><span class="op" id="8473487">(</span><span class="ident" id="8473488">src2</span><span class="op" id="8473492">)</span><span class="op" id="8473493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473496">s</span><span class="op" id="8473497">.</span><span class="ident" id="8473498">Init</span><span class="op" id="8473502">(</span><span class="ident" id="8473503">f2</span><span class="op" id="8473505">,</span>&nbsp;<span class="op" id="8473507">[</span><span class="op" id="8473508">]</span><span class="builtintype" id="8473509">byte</span><span class="op" id="8473513">(</span><span class="ident" id="8473514">src2</span><span class="op" id="8473518">)</span><span class="op" id="8473519">,</span>&nbsp;<span class="builtintype" id="8473521">nil</span><span class="op" id="8473524">,</span>&nbsp;<span class="ident" id="8473526">dontInsertSemis</span><span class="op" id="8473541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8473544">if</span>&nbsp;<span class="ident" id="8473547">f2</span><span class="op" id="8473549">.</span><span class="ident" id="8473550">Size</span><span class="op" id="8473554">(</span><span class="op" id="8473555">)</span>&nbsp;<span class="op" id="8473557">!=</span>&nbsp;<span class="builtinfunc" id="8473560">len</span><span class="op" id="8473563">(</span><span class="ident" id="8473564">src2</span><span class="op" id="8473568">)</span>&nbsp;<span class="op" id="8473570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473574">t</span><span class="op" id="8473575">.</span><span class="ident" id="8473576">Errorf</span><span class="op" id="8473582">(</span><span class="string" id="8473583">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8473619">,</span>&nbsp;<span class="ident" id="8473621">f2</span><span class="op" id="8473623">.</span><span class="ident" id="8473624">Size</span><span class="op" id="8473628">(</span><span class="op" id="8473629">)</span><span class="op" id="8473630">,</span>&nbsp;<span class="builtinfunc" id="8473632">len</span><span class="op" id="8473635">(</span><span class="ident" id="8473636">src2</span><span class="op" id="8473640">)</span><span class="op" id="8473641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8473644">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473647">_</span><span class="op" id="8473648">,</span>&nbsp;<span class="ident" id="8473650">tok</span><span class="op" id="8473653">,</span>&nbsp;<span class="ident" id="8473655">_</span>&nbsp;<span class="op" id="8473657">=</span>&nbsp;<span class="ident" id="8473659">s</span><span class="op" id="8473660">.</span><span class="ident" id="8473661">Scan</span><span class="op" id="8473665">(</span><span class="op" id="8473666">)</span>&nbsp;<span class="comment" id="8473668">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8473675">if</span>&nbsp;<span class="ident" id="8473678">tok</span>&nbsp;<span class="op" id="8473682">!=</span>&nbsp;<span class="ident" id="8473685">token</span><span class="op" id="8473690">.</span><span class="ident" id="8473691">GO</span>&nbsp;<span class="op" id="8473694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473698">t</span><span class="op" id="8473699">.</span><span class="ident" id="8473700">Errorf</span><span class="op" id="8473706">(</span><span class="string" id="8473707">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8473739">,</span>&nbsp;<span class="ident" id="8473741">tok</span><span class="op" id="8473744">,</span>&nbsp;<span class="ident" id="8473746">token</span><span class="op" id="8473751">.</span><span class="ident" id="8473752">GO</span><span class="op" id="8473754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8473757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8473761">if</span>&nbsp;<span class="ident" id="8473764">s</span><span class="op" id="8473765">.</span><span class="ident" id="8473766">ErrorCount</span>&nbsp;<span class="op" id="8473777">!=</span>&nbsp;<span class="num" id="8473780">0</span>&nbsp;<span class="op" id="8473782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8473786">t</span><span class="op" id="8473787">.</span><span class="ident" id="8473788">Errorf</span><span class="op" id="8473794">(</span><span class="string" id="8473795">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8473812">,</span>&nbsp;<span class="ident" id="8473814">s</span><span class="op" id="8473815">.</span><span class="ident" id="8473816">ErrorCount</span><span class="op" id="8473826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8473829">}</span><br>
<span class="lineno"></span><span class="op" id="8473831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="8473834">func</span>&nbsp;<span class="ident" id="8473839">TestStdErrorHander</span><span class="op" id="8473857">(</span><span class="ident" id="8473858">t</span>&nbsp;<span class="op" id="8473860">*</span><span class="ident" id="8473861">testing</span><span class="op" id="8473868">.</span><span class="ident" id="8473869">T</span><span class="op" id="8473870">)</span>&nbsp;<span class="op" id="8473872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8473875">const</span>&nbsp;<span class="ident" id="8473881">src</span>&nbsp;<span class="op" id="8473885">=</span>&nbsp;<span class="string" id="8473887">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8473893">+</span>&nbsp;<span class="comment" id="8473895">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8473934">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8473942">+</span>&nbsp;<span class="comment" id="8473944">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8473977">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="8473997">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8474001">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8474007">+</span>&nbsp;<span class="comment" id="8474009">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8474044">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="8474063">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8474067">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8474075">+</span>&nbsp;<span class="comment" id="8474077">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8474116">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="8474135">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8474139">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="8474147">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8474180">var</span>&nbsp;<span class="ident" id="8474184">list</span>&nbsp;<span class="ident" id="8474189">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474200">eh</span>&nbsp;<span class="op" id="8474203">:=</span>&nbsp;<span class="keyword" id="8474206">func</span><span class="op" id="8474210">(</span><span class="ident" id="8474211">pos</span>&nbsp;<span class="ident" id="8474215">token</span><span class="op" id="8474220">.</span><span class="ident" id="8474221">Position</span><span class="op" id="8474229">,</span>&nbsp;<span class="ident" id="8474231">msg</span>&nbsp;<span class="builtintype" id="8474235">string</span><span class="op" id="8474241">)</span>&nbsp;<span class="op" id="8474243">{</span>&nbsp;<span class="ident" id="8474245">list</span><span class="op" id="8474249">.</span><span class="ident" id="8474250">Add</span><span class="op" id="8474253">(</span><span class="ident" id="8474254">pos</span><span class="op" id="8474257">,</span>&nbsp;<span class="ident" id="8474259">msg</span><span class="op" id="8474262">)</span>&nbsp;<span class="op" id="8474264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8474268">var</span>&nbsp;<span class="ident" id="8474272">s</span>&nbsp;<span class="ident" id="8474274">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474283">s</span><span class="op" id="8474284">.</span><span class="ident" id="8474285">Init</span><span class="op" id="8474289">(</span><span class="ident" id="8474290">fset</span><span class="op" id="8474294">.</span><span class="ident" id="8474295">AddFile</span><span class="op" id="8474302">(</span><span class="string" id="8474303">&#34;File1&#34;</span><span class="op" id="8474310">,</span>&nbsp;<span class="ident" id="8474312">fset</span><span class="op" id="8474316">.</span><span class="ident" id="8474317">Base</span><span class="op" id="8474321">(</span><span class="op" id="8474322">)</span><span class="op" id="8474323">,</span>&nbsp;<span class="builtinfunc" id="8474325">len</span><span class="op" id="8474328">(</span><span class="ident" id="8474329">src</span><span class="op" id="8474332">)</span><span class="op" id="8474333">)</span><span class="op" id="8474334">,</span>&nbsp;<span class="op" id="8474336">[</span><span class="op" id="8474337">]</span><span class="builtintype" id="8474338">byte</span><span class="op" id="8474342">(</span><span class="ident" id="8474343">src</span><span class="op" id="8474346">)</span><span class="op" id="8474347">,</span>&nbsp;<span class="ident" id="8474349">eh</span><span class="op" id="8474351">,</span>&nbsp;<span class="ident" id="8474353">dontInsertSemis</span><span class="op" id="8474368">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8474371">for</span>&nbsp;<span class="op" id="8474375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8474379">if</span>&nbsp;<span class="ident" id="8474382">_</span><span class="op" id="8474383">,</span>&nbsp;<span class="ident" id="8474385">tok</span><span class="op" id="8474388">,</span>&nbsp;<span class="ident" id="8474390">_</span>&nbsp;<span class="op" id="8474392">:=</span>&nbsp;<span class="ident" id="8474395">s</span><span class="op" id="8474396">.</span><span class="ident" id="8474397">Scan</span><span class="op" id="8474401">(</span><span class="op" id="8474402">)</span><span class="op" id="8474403">;</span>&nbsp;<span class="ident" id="8474405">tok</span>&nbsp;<span class="op" id="8474409">==</span>&nbsp;<span class="ident" id="8474412">token</span><span class="op" id="8474417">.</span><span class="ident" id="8474418">EOF</span>&nbsp;<span class="op" id="8474422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8474427">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8474435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8474438">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8474442">if</span>&nbsp;<span class="builtinfunc" id="8474445">len</span><span class="op" id="8474448">(</span><span class="ident" id="8474449">list</span><span class="op" id="8474453">)</span>&nbsp;<span class="op" id="8474455">!=</span>&nbsp;<span class="ident" id="8474458">s</span><span class="op" id="8474459">.</span><span class="ident" id="8474460">ErrorCount</span>&nbsp;<span class="op" id="8474471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474475">t</span><span class="op" id="8474476">.</span><span class="ident" id="8474477">Errorf</span><span class="op" id="8474483">(</span><span class="string" id="8474484">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8474514">,</span>&nbsp;<span class="builtinfunc" id="8474516">len</span><span class="op" id="8474519">(</span><span class="ident" id="8474520">list</span><span class="op" id="8474524">)</span><span class="op" id="8474525">,</span>&nbsp;<span class="ident" id="8474527">s</span><span class="op" id="8474528">.</span><span class="ident" id="8474529">ErrorCount</span><span class="op" id="8474539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8474542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8474546">if</span>&nbsp;<span class="builtinfunc" id="8474549">len</span><span class="op" id="8474552">(</span><span class="ident" id="8474553">list</span><span class="op" id="8474557">)</span>&nbsp;<span class="op" id="8474559">!=</span>&nbsp;<span class="num" id="8474562">9</span>&nbsp;<span class="op" id="8474564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474568">t</span><span class="op" id="8474569">.</span><span class="ident" id="8474570">Errorf</span><span class="op" id="8474576">(</span><span class="string" id="8474577">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8474610">,</span>&nbsp;<span class="builtinfunc" id="8474612">len</span><span class="op" id="8474615">(</span><span class="ident" id="8474616">list</span><span class="op" id="8474620">)</span><span class="op" id="8474621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474625">PrintError</span><span class="op" id="8474635">(</span><span class="ident" id="8474636">os</span><span class="op" id="8474638">.</span><span class="ident" id="8474639">Stderr</span><span class="op" id="8474645">,</span>&nbsp;<span class="ident" id="8474647">list</span><span class="op" id="8474651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8474654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474658">list</span><span class="op" id="8474662">.</span><span class="ident" id="8474663">Sort</span><span class="op" id="8474667">(</span><span class="op" id="8474668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8474671">if</span>&nbsp;<span class="builtinfunc" id="8474674">len</span><span class="op" id="8474677">(</span><span class="ident" id="8474678">list</span><span class="op" id="8474682">)</span>&nbsp;<span class="op" id="8474684">!=</span>&nbsp;<span class="num" id="8474687">9</span>&nbsp;<span class="op" id="8474689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474693">t</span><span class="op" id="8474694">.</span><span class="ident" id="8474695">Errorf</span><span class="op" id="8474701">(</span><span class="string" id="8474702">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8474738">,</span>&nbsp;<span class="builtinfunc" id="8474740">len</span><span class="op" id="8474743">(</span><span class="ident" id="8474744">list</span><span class="op" id="8474748">)</span><span class="op" id="8474749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474753">PrintError</span><span class="op" id="8474763">(</span><span class="ident" id="8474764">os</span><span class="op" id="8474766">.</span><span class="ident" id="8474767">Stderr</span><span class="op" id="8474773">,</span>&nbsp;<span class="ident" id="8474775">list</span><span class="op" id="8474779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8474782">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474786">list</span><span class="op" id="8474790">.</span><span class="ident" id="8474791">RemoveMultiples</span><span class="op" id="8474806">(</span><span class="op" id="8474807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8474810">if</span>&nbsp;<span class="builtinfunc" id="8474813">len</span><span class="op" id="8474816">(</span><span class="ident" id="8474817">list</span><span class="op" id="8474821">)</span>&nbsp;<span class="op" id="8474823">!=</span>&nbsp;<span class="num" id="8474826">4</span>&nbsp;<span class="op" id="8474828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474832">t</span><span class="op" id="8474833">.</span><span class="ident" id="8474834">Errorf</span><span class="op" id="8474840">(</span><span class="string" id="8474841">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="8474883">,</span>&nbsp;<span class="builtinfunc" id="8474885">len</span><span class="op" id="8474888">(</span><span class="ident" id="8474889">list</span><span class="op" id="8474893">)</span><span class="op" id="8474894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474898">PrintError</span><span class="op" id="8474908">(</span><span class="ident" id="8474909">os</span><span class="op" id="8474911">.</span><span class="ident" id="8474912">Stderr</span><span class="op" id="8474918">,</span>&nbsp;<span class="ident" id="8474920">list</span><span class="op" id="8474924">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8474927">}</span><br>
<span class="lineno"></span><span class="op" id="8474929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8474932">type</span>&nbsp;<span class="ident" id="8474937">errorCollector</span>&nbsp;<span class="keyword" id="8474952">struct</span>&nbsp;<span class="op" id="8474959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8474962">cnt</span>&nbsp;<span class="builtintype" id="8474966">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8474981">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475014">msg</span>&nbsp;<span class="builtintype" id="8475018">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8475033">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475068">pos</span>&nbsp;<span class="ident" id="8475072">token</span><span class="op" id="8475077">.</span><span class="ident" id="8475078">Position</span>&nbsp;<span class="comment" id="8475087">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="8475122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8475125">func</span>&nbsp;<span class="ident" id="8475130">checkError</span><span class="op" id="8475140">(</span><span class="ident" id="8475141">t</span>&nbsp;<span class="op" id="8475143">*</span><span class="ident" id="8475144">testing</span><span class="op" id="8475151">.</span><span class="ident" id="8475152">T</span><span class="op" id="8475153">,</span>&nbsp;<span class="ident" id="8475155">src</span>&nbsp;<span class="builtintype" id="8475159">string</span><span class="op" id="8475165">,</span>&nbsp;<span class="ident" id="8475167">tok</span>&nbsp;<span class="ident" id="8475171">token</span><span class="op" id="8475176">.</span><span class="ident" id="8475177">Token</span><span class="op" id="8475182">,</span>&nbsp;<span class="ident" id="8475184">pos</span>&nbsp;<span class="builtintype" id="8475188">int</span><span class="op" id="8475191">,</span>&nbsp;<span class="ident" id="8475193">lit</span><span class="op" id="8475196">,</span>&nbsp;<span class="ident" id="8475198">err</span>&nbsp;<span class="builtintype" id="8475202">string</span><span class="op" id="8475208">)</span>&nbsp;<span class="op" id="8475210">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8475213">var</span>&nbsp;<span class="ident" id="8475217">s</span>&nbsp;<span class="ident" id="8475219">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8475228">var</span>&nbsp;<span class="ident" id="8475232">h</span>&nbsp;<span class="ident" id="8475234">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475250">eh</span>&nbsp;<span class="op" id="8475253">:=</span>&nbsp;<span class="keyword" id="8475256">func</span><span class="op" id="8475260">(</span><span class="ident" id="8475261">pos</span>&nbsp;<span class="ident" id="8475265">token</span><span class="op" id="8475270">.</span><span class="ident" id="8475271">Position</span><span class="op" id="8475279">,</span>&nbsp;<span class="ident" id="8475281">msg</span>&nbsp;<span class="builtintype" id="8475285">string</span><span class="op" id="8475291">)</span>&nbsp;<span class="op" id="8475293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475297">h</span><span class="op" id="8475298">.</span><span class="ident" id="8475299">cnt</span><span class="op" id="8475302">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475307">h</span><span class="op" id="8475308">.</span><span class="ident" id="8475309">msg</span>&nbsp;<span class="op" id="8475313">=</span>&nbsp;<span class="ident" id="8475315">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475321">h</span><span class="op" id="8475322">.</span><span class="ident" id="8475323">pos</span>&nbsp;<span class="op" id="8475327">=</span>&nbsp;<span class="ident" id="8475329">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8475334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475337">s</span><span class="op" id="8475338">.</span><span class="ident" id="8475339">Init</span><span class="op" id="8475343">(</span><span class="ident" id="8475344">fset</span><span class="op" id="8475348">.</span><span class="ident" id="8475349">AddFile</span><span class="op" id="8475356">(</span><span class="string" id="8475357">&#34;&#34;</span><span class="op" id="8475359">,</span>&nbsp;<span class="ident" id="8475361">fset</span><span class="op" id="8475365">.</span><span class="ident" id="8475366">Base</span><span class="op" id="8475370">(</span><span class="op" id="8475371">)</span><span class="op" id="8475372">,</span>&nbsp;<span class="builtinfunc" id="8475374">len</span><span class="op" id="8475377">(</span><span class="ident" id="8475378">src</span><span class="op" id="8475381">)</span><span class="op" id="8475382">)</span><span class="op" id="8475383">,</span>&nbsp;<span class="op" id="8475385">[</span><span class="op" id="8475386">]</span><span class="builtintype" id="8475387">byte</span><span class="op" id="8475391">(</span><span class="ident" id="8475392">src</span><span class="op" id="8475395">)</span><span class="op" id="8475396">,</span>&nbsp;<span class="ident" id="8475398">eh</span><span class="op" id="8475400">,</span>&nbsp;<span class="ident" id="8475402">ScanComments</span><span class="op" id="8475414">|</span><span class="ident" id="8475415">dontInsertSemis</span><span class="op" id="8475430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475433">_</span><span class="op" id="8475434">,</span>&nbsp;<span class="ident" id="8475436">tok0</span><span class="op" id="8475440">,</span>&nbsp;<span class="ident" id="8475442">lit0</span>&nbsp;<span class="op" id="8475447">:=</span>&nbsp;<span class="ident" id="8475450">s</span><span class="op" id="8475451">.</span><span class="ident" id="8475452">Scan</span><span class="op" id="8475456">(</span><span class="op" id="8475457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8475460">if</span>&nbsp;<span class="ident" id="8475463">tok0</span>&nbsp;<span class="op" id="8475468">!=</span>&nbsp;<span class="ident" id="8475471">tok</span>&nbsp;<span class="op" id="8475475">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475479">t</span><span class="op" id="8475480">.</span><span class="ident" id="8475481">Errorf</span><span class="op" id="8475487">(</span><span class="string" id="8475488">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8475513">,</span>&nbsp;<span class="ident" id="8475515">src</span><span class="op" id="8475518">,</span>&nbsp;<span class="ident" id="8475520">tok0</span><span class="op" id="8475524">,</span>&nbsp;<span class="ident" id="8475526">tok</span><span class="op" id="8475529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8475532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8475535">if</span>&nbsp;<span class="ident" id="8475538">tok0</span>&nbsp;<span class="op" id="8475543">!=</span>&nbsp;<span class="ident" id="8475546">token</span><span class="op" id="8475551">.</span><span class="ident" id="8475552">ILLEGAL</span>&nbsp;<span class="op" id="8475560">&amp;&amp;</span>&nbsp;<span class="ident" id="8475563">lit0</span>&nbsp;<span class="op" id="8475568">!=</span>&nbsp;<span class="ident" id="8475571">lit</span>&nbsp;<span class="op" id="8475575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475579">t</span><span class="op" id="8475580">.</span><span class="ident" id="8475581">Errorf</span><span class="op" id="8475587">(</span><span class="string" id="8475588">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8475621">,</span>&nbsp;<span class="ident" id="8475623">src</span><span class="op" id="8475626">,</span>&nbsp;<span class="ident" id="8475628">lit0</span><span class="op" id="8475632">,</span>&nbsp;<span class="ident" id="8475634">lit</span><span class="op" id="8475637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8475640">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475643">cnt</span>&nbsp;<span class="op" id="8475647">:=</span>&nbsp;<span class="num" id="8475650">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8475653">if</span>&nbsp;<span class="ident" id="8475656">err</span>&nbsp;<span class="op" id="8475660">!=</span>&nbsp;<span class="string" id="8475663">&#34;&#34;</span>&nbsp;<span class="op" id="8475666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475670">cnt</span>&nbsp;<span class="op" id="8475674">=</span>&nbsp;<span class="num" id="8475676">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8475679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8475682">if</span>&nbsp;<span class="ident" id="8475685">h</span><span class="op" id="8475686">.</span><span class="ident" id="8475687">cnt</span>&nbsp;<span class="op" id="8475691">!=</span>&nbsp;<span class="ident" id="8475694">cnt</span>&nbsp;<span class="op" id="8475698">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475702">t</span><span class="op" id="8475703">.</span><span class="ident" id="8475704">Errorf</span><span class="op" id="8475710">(</span><span class="string" id="8475711">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8475740">,</span>&nbsp;<span class="ident" id="8475742">src</span><span class="op" id="8475745">,</span>&nbsp;<span class="ident" id="8475747">h</span><span class="op" id="8475748">.</span><span class="ident" id="8475749">cnt</span><span class="op" id="8475752">,</span>&nbsp;<span class="ident" id="8475754">cnt</span><span class="op" id="8475757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8475760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8475763">if</span>&nbsp;<span class="ident" id="8475766">h</span><span class="op" id="8475767">.</span><span class="ident" id="8475768">msg</span>&nbsp;<span class="op" id="8475772">!=</span>&nbsp;<span class="ident" id="8475775">err</span>&nbsp;<span class="op" id="8475779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475783">t</span><span class="op" id="8475784">.</span><span class="ident" id="8475785">Errorf</span><span class="op" id="8475791">(</span><span class="string" id="8475792">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8475821">,</span>&nbsp;<span class="ident" id="8475823">src</span><span class="op" id="8475826">,</span>&nbsp;<span class="ident" id="8475828">h</span><span class="op" id="8475829">.</span><span class="ident" id="8475830">msg</span><span class="op" id="8475833">,</span>&nbsp;<span class="ident" id="8475835">err</span><span class="op" id="8475838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8475841">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8475844">if</span>&nbsp;<span class="ident" id="8475847">h</span><span class="op" id="8475848">.</span><span class="ident" id="8475849">pos</span><span class="op" id="8475852">.</span><span class="ident" id="8475853">Offset</span>&nbsp;<span class="op" id="8475860">!=</span>&nbsp;<span class="ident" id="8475863">pos</span>&nbsp;<span class="op" id="8475867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475871">t</span><span class="op" id="8475872">.</span><span class="ident" id="8475873">Errorf</span><span class="op" id="8475879">(</span><span class="string" id="8475880">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8475912">,</span>&nbsp;<span class="ident" id="8475914">src</span><span class="op" id="8475917">,</span>&nbsp;<span class="ident" id="8475919">h</span><span class="op" id="8475920">.</span><span class="ident" id="8475921">pos</span><span class="op" id="8475924">.</span><span class="ident" id="8475925">Offset</span><span class="op" id="8475931">,</span>&nbsp;<span class="ident" id="8475933">pos</span><span class="op" id="8475936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8475939">}</span><br>
<span class="lineno"></span><span class="op" id="8475941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="8475944">var</span>&nbsp;<span class="ident" id="8475948">errors</span>&nbsp;<span class="op" id="8475955">=</span>&nbsp;<span class="op" id="8475957">[</span><span class="op" id="8475958">]</span><span class="keyword" id="8475959">struct</span>&nbsp;<span class="op" id="8475966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475969">src</span>&nbsp;<span class="builtintype" id="8475973">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475981">tok</span>&nbsp;<span class="ident" id="8475985">token</span><span class="op" id="8475990">.</span><span class="ident" id="8475991">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8475998">pos</span>&nbsp;<span class="builtintype" id="8476002">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8476007">lit</span>&nbsp;<span class="builtintype" id="8476011">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8476019">err</span>&nbsp;<span class="builtintype" id="8476023">string</span><br>
<span class="lineno"></span><span class="op" id="8476030">}</span><span class="op" id="8476031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476034">{</span><span class="string" id="8476035">&#34;\a&#34;</span><span class="op" id="8476039">,</span>&nbsp;<span class="ident" id="8476041">token</span><span class="op" id="8476046">.</span><span class="ident" id="8476047">ILLEGAL</span><span class="op" id="8476054">,</span>&nbsp;<span class="num" id="8476056">0</span><span class="op" id="8476057">,</span>&nbsp;<span class="string" id="8476059">&#34;&#34;</span><span class="op" id="8476061">,</span>&nbsp;<span class="string" id="8476063">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="8476089">}</span><span class="op" id="8476090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476093">{</span><span class="string" id="8476094">`#`</span><span class="op" id="8476097">,</span>&nbsp;<span class="ident" id="8476099">token</span><span class="op" id="8476104">.</span><span class="ident" id="8476105">ILLEGAL</span><span class="op" id="8476112">,</span>&nbsp;<span class="num" id="8476114">0</span><span class="op" id="8476115">,</span>&nbsp;<span class="string" id="8476117">&#34;&#34;</span><span class="op" id="8476119">,</span>&nbsp;<span class="string" id="8476121">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="8476151">}</span><span class="op" id="8476152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476155">{</span><span class="string" id="8476156">`…`</span><span class="op" id="8476161">,</span>&nbsp;<span class="ident" id="8476163">token</span><span class="op" id="8476168">.</span><span class="ident" id="8476169">ILLEGAL</span><span class="op" id="8476176">,</span>&nbsp;<span class="num" id="8476178">0</span><span class="op" id="8476179">,</span>&nbsp;<span class="string" id="8476181">&#34;&#34;</span><span class="op" id="8476183">,</span>&nbsp;<span class="string" id="8476185">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="8476217">}</span><span class="op" id="8476218">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476221">{</span><span class="string" id="8476222">`&#39;&nbsp;&#39;`</span><span class="op" id="8476227">,</span>&nbsp;<span class="ident" id="8476229">token</span><span class="op" id="8476234">.</span><span class="ident" id="8476235">CHAR</span><span class="op" id="8476239">,</span>&nbsp;<span class="num" id="8476241">0</span><span class="op" id="8476242">,</span>&nbsp;<span class="string" id="8476244">`&#39;&nbsp;&#39;`</span><span class="op" id="8476249">,</span>&nbsp;<span class="string" id="8476251">&#34;&#34;</span><span class="op" id="8476253">}</span><span class="op" id="8476254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476257">{</span><span class="string" id="8476258">`&#39;&#39;`</span><span class="op" id="8476262">,</span>&nbsp;<span class="ident" id="8476264">token</span><span class="op" id="8476269">.</span><span class="ident" id="8476270">CHAR</span><span class="op" id="8476274">,</span>&nbsp;<span class="num" id="8476276">0</span><span class="op" id="8476277">,</span>&nbsp;<span class="string" id="8476279">`&#39;&#39;`</span><span class="op" id="8476283">,</span>&nbsp;<span class="string" id="8476285">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8476307">}</span><span class="op" id="8476308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476311">{</span><span class="string" id="8476312">`&#39;12&#39;`</span><span class="op" id="8476318">,</span>&nbsp;<span class="ident" id="8476320">token</span><span class="op" id="8476325">.</span><span class="ident" id="8476326">CHAR</span><span class="op" id="8476330">,</span>&nbsp;<span class="num" id="8476332">0</span><span class="op" id="8476333">,</span>&nbsp;<span class="string" id="8476335">`&#39;12&#39;`</span><span class="op" id="8476341">,</span>&nbsp;<span class="string" id="8476343">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8476365">}</span><span class="op" id="8476366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476369">{</span><span class="string" id="8476370">`&#39;123&#39;`</span><span class="op" id="8476377">,</span>&nbsp;<span class="ident" id="8476379">token</span><span class="op" id="8476384">.</span><span class="ident" id="8476385">CHAR</span><span class="op" id="8476389">,</span>&nbsp;<span class="num" id="8476391">0</span><span class="op" id="8476392">,</span>&nbsp;<span class="string" id="8476394">`&#39;123&#39;`</span><span class="op" id="8476401">,</span>&nbsp;<span class="string" id="8476403">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8476425">}</span><span class="op" id="8476426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476429">{</span><span class="string" id="8476430">`&#39;\0&#39;`</span><span class="op" id="8476436">,</span>&nbsp;<span class="ident" id="8476438">token</span><span class="op" id="8476443">.</span><span class="ident" id="8476444">CHAR</span><span class="op" id="8476448">,</span>&nbsp;<span class="num" id="8476450">3</span><span class="op" id="8476451">,</span>&nbsp;<span class="string" id="8476453">`&#39;\0&#39;`</span><span class="op" id="8476459">,</span>&nbsp;<span class="string" id="8476461">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476510">}</span><span class="op" id="8476511">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476514">{</span><span class="string" id="8476515">`&#39;\07&#39;`</span><span class="op" id="8476522">,</span>&nbsp;<span class="ident" id="8476524">token</span><span class="op" id="8476529">.</span><span class="ident" id="8476530">CHAR</span><span class="op" id="8476534">,</span>&nbsp;<span class="num" id="8476536">4</span><span class="op" id="8476537">,</span>&nbsp;<span class="string" id="8476539">`&#39;\07&#39;`</span><span class="op" id="8476546">,</span>&nbsp;<span class="string" id="8476548">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476597">}</span><span class="op" id="8476598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476601">{</span><span class="string" id="8476602">`&#39;\8&#39;`</span><span class="op" id="8476608">,</span>&nbsp;<span class="ident" id="8476610">token</span><span class="op" id="8476615">.</span><span class="ident" id="8476616">CHAR</span><span class="op" id="8476620">,</span>&nbsp;<span class="num" id="8476622">2</span><span class="op" id="8476623">,</span>&nbsp;<span class="string" id="8476625">`&#39;\8&#39;`</span><span class="op" id="8476631">,</span>&nbsp;<span class="string" id="8476633">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476658">}</span><span class="op" id="8476659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476662">{</span><span class="string" id="8476663">`&#39;\08&#39;`</span><span class="op" id="8476670">,</span>&nbsp;<span class="ident" id="8476672">token</span><span class="op" id="8476677">.</span><span class="ident" id="8476678">CHAR</span><span class="op" id="8476682">,</span>&nbsp;<span class="num" id="8476684">3</span><span class="op" id="8476685">,</span>&nbsp;<span class="string" id="8476687">`&#39;\08&#39;`</span><span class="op" id="8476694">,</span>&nbsp;<span class="string" id="8476696">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476745">}</span><span class="op" id="8476746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476749">{</span><span class="string" id="8476750">`&#39;\x&#39;`</span><span class="op" id="8476756">,</span>&nbsp;<span class="ident" id="8476758">token</span><span class="op" id="8476763">.</span><span class="ident" id="8476764">CHAR</span><span class="op" id="8476768">,</span>&nbsp;<span class="num" id="8476770">3</span><span class="op" id="8476771">,</span>&nbsp;<span class="string" id="8476773">`&#39;\x&#39;`</span><span class="op" id="8476779">,</span>&nbsp;<span class="string" id="8476781">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476830">}</span><span class="op" id="8476831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476834">{</span><span class="string" id="8476835">`&#39;\x0&#39;`</span><span class="op" id="8476842">,</span>&nbsp;<span class="ident" id="8476844">token</span><span class="op" id="8476849">.</span><span class="ident" id="8476850">CHAR</span><span class="op" id="8476854">,</span>&nbsp;<span class="num" id="8476856">4</span><span class="op" id="8476857">,</span>&nbsp;<span class="string" id="8476859">`&#39;\x0&#39;`</span><span class="op" id="8476866">,</span>&nbsp;<span class="string" id="8476868">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8476917">}</span><span class="op" id="8476918">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8476921">{</span><span class="string" id="8476922">`&#39;\x0g&#39;`</span><span class="op" id="8476930">,</span>&nbsp;<span class="ident" id="8476932">token</span><span class="op" id="8476937">.</span><span class="ident" id="8476938">CHAR</span><span class="op" id="8476942">,</span>&nbsp;<span class="num" id="8476944">4</span><span class="op" id="8476945">,</span>&nbsp;<span class="string" id="8476947">`&#39;\x0g&#39;`</span><span class="op" id="8476955">,</span>&nbsp;<span class="string" id="8476957">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477006">}</span><span class="op" id="8477007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477010">{</span><span class="string" id="8477011">`&#39;\u&#39;`</span><span class="op" id="8477017">,</span>&nbsp;<span class="ident" id="8477019">token</span><span class="op" id="8477024">.</span><span class="ident" id="8477025">CHAR</span><span class="op" id="8477029">,</span>&nbsp;<span class="num" id="8477031">3</span><span class="op" id="8477032">,</span>&nbsp;<span class="string" id="8477034">`&#39;\u&#39;`</span><span class="op" id="8477040">,</span>&nbsp;<span class="string" id="8477042">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477091">}</span><span class="op" id="8477092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477095">{</span><span class="string" id="8477096">`&#39;\u0&#39;`</span><span class="op" id="8477103">,</span>&nbsp;<span class="ident" id="8477105">token</span><span class="op" id="8477110">.</span><span class="ident" id="8477111">CHAR</span><span class="op" id="8477115">,</span>&nbsp;<span class="num" id="8477117">4</span><span class="op" id="8477118">,</span>&nbsp;<span class="string" id="8477120">`&#39;\u0&#39;`</span><span class="op" id="8477127">,</span>&nbsp;<span class="string" id="8477129">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477178">}</span><span class="op" id="8477179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477182">{</span><span class="string" id="8477183">`&#39;\u00&#39;`</span><span class="op" id="8477191">,</span>&nbsp;<span class="ident" id="8477193">token</span><span class="op" id="8477198">.</span><span class="ident" id="8477199">CHAR</span><span class="op" id="8477203">,</span>&nbsp;<span class="num" id="8477205">5</span><span class="op" id="8477206">,</span>&nbsp;<span class="string" id="8477208">`&#39;\u00&#39;`</span><span class="op" id="8477216">,</span>&nbsp;<span class="string" id="8477218">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477267">}</span><span class="op" id="8477268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477271">{</span><span class="string" id="8477272">`&#39;\u000&#39;`</span><span class="op" id="8477281">,</span>&nbsp;<span class="ident" id="8477283">token</span><span class="op" id="8477288">.</span><span class="ident" id="8477289">CHAR</span><span class="op" id="8477293">,</span>&nbsp;<span class="num" id="8477295">6</span><span class="op" id="8477296">,</span>&nbsp;<span class="string" id="8477298">`&#39;\u000&#39;`</span><span class="op" id="8477307">,</span>&nbsp;<span class="string" id="8477309">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477358">}</span><span class="op" id="8477359">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477362">{</span><span class="string" id="8477363">`&#39;\u000`</span><span class="op" id="8477371">,</span>&nbsp;<span class="ident" id="8477373">token</span><span class="op" id="8477378">.</span><span class="ident" id="8477379">CHAR</span><span class="op" id="8477383">,</span>&nbsp;<span class="num" id="8477385">6</span><span class="op" id="8477386">,</span>&nbsp;<span class="string" id="8477388">`&#39;\u000`</span><span class="op" id="8477396">,</span>&nbsp;<span class="string" id="8477398">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8477430">}</span><span class="op" id="8477431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477434">{</span><span class="string" id="8477435">`&#39;\u0000&#39;`</span><span class="op" id="8477445">,</span>&nbsp;<span class="ident" id="8477447">token</span><span class="op" id="8477452">.</span><span class="ident" id="8477453">CHAR</span><span class="op" id="8477457">,</span>&nbsp;<span class="num" id="8477459">0</span><span class="op" id="8477460">,</span>&nbsp;<span class="string" id="8477462">`&#39;\u0000&#39;`</span><span class="op" id="8477472">,</span>&nbsp;<span class="string" id="8477474">&#34;&#34;</span><span class="op" id="8477476">}</span><span class="op" id="8477477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477480">{</span><span class="string" id="8477481">`&#39;\U&#39;`</span><span class="op" id="8477487">,</span>&nbsp;<span class="ident" id="8477489">token</span><span class="op" id="8477494">.</span><span class="ident" id="8477495">CHAR</span><span class="op" id="8477499">,</span>&nbsp;<span class="num" id="8477501">3</span><span class="op" id="8477502">,</span>&nbsp;<span class="string" id="8477504">`&#39;\U&#39;`</span><span class="op" id="8477510">,</span>&nbsp;<span class="string" id="8477512">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477561">}</span><span class="op" id="8477562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477565">{</span><span class="string" id="8477566">`&#39;\U0&#39;`</span><span class="op" id="8477573">,</span>&nbsp;<span class="ident" id="8477575">token</span><span class="op" id="8477580">.</span><span class="ident" id="8477581">CHAR</span><span class="op" id="8477585">,</span>&nbsp;<span class="num" id="8477587">4</span><span class="op" id="8477588">,</span>&nbsp;<span class="string" id="8477590">`&#39;\U0&#39;`</span><span class="op" id="8477597">,</span>&nbsp;<span class="string" id="8477599">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477648">}</span><span class="op" id="8477649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477652">{</span><span class="string" id="8477653">`&#39;\U00&#39;`</span><span class="op" id="8477661">,</span>&nbsp;<span class="ident" id="8477663">token</span><span class="op" id="8477668">.</span><span class="ident" id="8477669">CHAR</span><span class="op" id="8477673">,</span>&nbsp;<span class="num" id="8477675">5</span><span class="op" id="8477676">,</span>&nbsp;<span class="string" id="8477678">`&#39;\U00&#39;`</span><span class="op" id="8477686">,</span>&nbsp;<span class="string" id="8477688">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477737">}</span><span class="op" id="8477738">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477741">{</span><span class="string" id="8477742">`&#39;\U000&#39;`</span><span class="op" id="8477751">,</span>&nbsp;<span class="ident" id="8477753">token</span><span class="op" id="8477758">.</span><span class="ident" id="8477759">CHAR</span><span class="op" id="8477763">,</span>&nbsp;<span class="num" id="8477765">6</span><span class="op" id="8477766">,</span>&nbsp;<span class="string" id="8477768">`&#39;\U000&#39;`</span><span class="op" id="8477777">,</span>&nbsp;<span class="string" id="8477779">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477828">}</span><span class="op" id="8477829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477832">{</span><span class="string" id="8477833">`&#39;\U0000&#39;`</span><span class="op" id="8477843">,</span>&nbsp;<span class="ident" id="8477845">token</span><span class="op" id="8477850">.</span><span class="ident" id="8477851">CHAR</span><span class="op" id="8477855">,</span>&nbsp;<span class="num" id="8477857">7</span><span class="op" id="8477858">,</span>&nbsp;<span class="string" id="8477860">`&#39;\U0000&#39;`</span><span class="op" id="8477870">,</span>&nbsp;<span class="string" id="8477872">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8477921">}</span><span class="op" id="8477922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8477925">{</span><span class="string" id="8477926">`&#39;\U00000&#39;`</span><span class="op" id="8477937">,</span>&nbsp;<span class="ident" id="8477939">token</span><span class="op" id="8477944">.</span><span class="ident" id="8477945">CHAR</span><span class="op" id="8477949">,</span>&nbsp;<span class="num" id="8477951">8</span><span class="op" id="8477952">,</span>&nbsp;<span class="string" id="8477954">`&#39;\U00000&#39;`</span><span class="op" id="8477965">,</span>&nbsp;<span class="string" id="8477967">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8478016">}</span><span class="op" id="8478017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478020">{</span><span class="string" id="8478021">`&#39;\U000000&#39;`</span><span class="op" id="8478033">,</span>&nbsp;<span class="ident" id="8478035">token</span><span class="op" id="8478040">.</span><span class="ident" id="8478041">CHAR</span><span class="op" id="8478045">,</span>&nbsp;<span class="num" id="8478047">9</span><span class="op" id="8478048">,</span>&nbsp;<span class="string" id="8478050">`&#39;\U000000&#39;`</span><span class="op" id="8478062">,</span>&nbsp;<span class="string" id="8478064">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8478113">}</span><span class="op" id="8478114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478117">{</span><span class="string" id="8478118">`&#39;\U0000000&#39;`</span><span class="op" id="8478131">,</span>&nbsp;<span class="ident" id="8478133">token</span><span class="op" id="8478138">.</span><span class="ident" id="8478139">CHAR</span><span class="op" id="8478143">,</span>&nbsp;<span class="num" id="8478145">10</span><span class="op" id="8478147">,</span>&nbsp;<span class="string" id="8478149">`&#39;\U0000000&#39;`</span><span class="op" id="8478162">,</span>&nbsp;<span class="string" id="8478164">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8478213">}</span><span class="op" id="8478214">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478217">{</span><span class="string" id="8478218">`&#39;\U0000000`</span><span class="op" id="8478230">,</span>&nbsp;<span class="ident" id="8478232">token</span><span class="op" id="8478237">.</span><span class="ident" id="8478238">CHAR</span><span class="op" id="8478242">,</span>&nbsp;<span class="num" id="8478244">10</span><span class="op" id="8478246">,</span>&nbsp;<span class="string" id="8478248">`&#39;\U0000000`</span><span class="op" id="8478260">,</span>&nbsp;<span class="string" id="8478262">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8478294">}</span><span class="op" id="8478295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478298">{</span><span class="string" id="8478299">`&#39;\U00000000&#39;`</span><span class="op" id="8478313">,</span>&nbsp;<span class="ident" id="8478315">token</span><span class="op" id="8478320">.</span><span class="ident" id="8478321">CHAR</span><span class="op" id="8478325">,</span>&nbsp;<span class="num" id="8478327">0</span><span class="op" id="8478328">,</span>&nbsp;<span class="string" id="8478330">`&#39;\U00000000&#39;`</span><span class="op" id="8478344">,</span>&nbsp;<span class="string" id="8478346">&#34;&#34;</span><span class="op" id="8478348">}</span><span class="op" id="8478349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478352">{</span><span class="string" id="8478353">`&#39;\Uffffffff&#39;`</span><span class="op" id="8478367">,</span>&nbsp;<span class="ident" id="8478369">token</span><span class="op" id="8478374">.</span><span class="ident" id="8478375">CHAR</span><span class="op" id="8478379">,</span>&nbsp;<span class="num" id="8478381">2</span><span class="op" id="8478382">,</span>&nbsp;<span class="string" id="8478384">`&#39;\Uffffffff&#39;`</span><span class="op" id="8478398">,</span>&nbsp;<span class="string" id="8478400">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="8478447">}</span><span class="op" id="8478448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478451">{</span><span class="string" id="8478452">`&#39;`</span><span class="op" id="8478455">,</span>&nbsp;<span class="ident" id="8478457">token</span><span class="op" id="8478462">.</span><span class="ident" id="8478463">CHAR</span><span class="op" id="8478467">,</span>&nbsp;<span class="num" id="8478469">0</span><span class="op" id="8478470">,</span>&nbsp;<span class="string" id="8478472">`&#39;`</span><span class="op" id="8478475">,</span>&nbsp;<span class="string" id="8478477">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8478506">}</span><span class="op" id="8478507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478510">{</span><span class="string" id="8478511">`&#39;\`</span><span class="op" id="8478515">,</span>&nbsp;<span class="ident" id="8478517">token</span><span class="op" id="8478522">.</span><span class="ident" id="8478523">CHAR</span><span class="op" id="8478527">,</span>&nbsp;<span class="num" id="8478529">2</span><span class="op" id="8478530">,</span>&nbsp;<span class="string" id="8478532">`&#39;\`</span><span class="op" id="8478536">,</span>&nbsp;<span class="string" id="8478538">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8478570">}</span><span class="op" id="8478571">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478574">{</span><span class="string" id="8478575">&#34;&#39;\n&#34;</span><span class="op" id="8478580">,</span>&nbsp;<span class="ident" id="8478582">token</span><span class="op" id="8478587">.</span><span class="ident" id="8478588">CHAR</span><span class="op" id="8478592">,</span>&nbsp;<span class="num" id="8478594">0</span><span class="op" id="8478595">,</span>&nbsp;<span class="string" id="8478597">&#34;&#39;&#34;</span><span class="op" id="8478600">,</span>&nbsp;<span class="string" id="8478602">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8478631">}</span><span class="op" id="8478632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478635">{</span><span class="string" id="8478636">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8478644">,</span>&nbsp;<span class="ident" id="8478646">token</span><span class="op" id="8478651">.</span><span class="ident" id="8478652">CHAR</span><span class="op" id="8478656">,</span>&nbsp;<span class="num" id="8478658">0</span><span class="op" id="8478659">,</span>&nbsp;<span class="string" id="8478661">&#34;&#39;&#34;</span><span class="op" id="8478664">,</span>&nbsp;<span class="string" id="8478666">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8478695">}</span><span class="op" id="8478696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478699">{</span><span class="string" id="8478700">`&#34;&#34;`</span><span class="op" id="8478704">,</span>&nbsp;<span class="ident" id="8478706">token</span><span class="op" id="8478711">.</span><span class="ident" id="8478712">STRING</span><span class="op" id="8478718">,</span>&nbsp;<span class="num" id="8478720">0</span><span class="op" id="8478721">,</span>&nbsp;<span class="string" id="8478723">`&#34;&#34;`</span><span class="op" id="8478727">,</span>&nbsp;<span class="string" id="8478729">&#34;&#34;</span><span class="op" id="8478731">}</span><span class="op" id="8478732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478735">{</span><span class="string" id="8478736">`&#34;abc`</span><span class="op" id="8478742">,</span>&nbsp;<span class="ident" id="8478744">token</span><span class="op" id="8478749">.</span><span class="ident" id="8478750">STRING</span><span class="op" id="8478756">,</span>&nbsp;<span class="num" id="8478758">0</span><span class="op" id="8478759">,</span>&nbsp;<span class="string" id="8478761">`&#34;abc`</span><span class="op" id="8478767">,</span>&nbsp;<span class="string" id="8478769">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8478800">}</span><span class="op" id="8478801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478804">{</span><span class="string" id="8478805">&#34;\&#34;abc\n&#34;</span><span class="op" id="8478814">,</span>&nbsp;<span class="ident" id="8478816">token</span><span class="op" id="8478821">.</span><span class="ident" id="8478822">STRING</span><span class="op" id="8478828">,</span>&nbsp;<span class="num" id="8478830">0</span><span class="op" id="8478831">,</span>&nbsp;<span class="string" id="8478833">`&#34;abc`</span><span class="op" id="8478839">,</span>&nbsp;<span class="string" id="8478841">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8478872">}</span><span class="op" id="8478873">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478876">{</span><span class="string" id="8478877">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8478889">,</span>&nbsp;<span class="ident" id="8478891">token</span><span class="op" id="8478896">.</span><span class="ident" id="8478897">STRING</span><span class="op" id="8478903">,</span>&nbsp;<span class="num" id="8478905">0</span><span class="op" id="8478906">,</span>&nbsp;<span class="string" id="8478908">`&#34;abc`</span><span class="op" id="8478914">,</span>&nbsp;<span class="string" id="8478916">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8478947">}</span><span class="op" id="8478948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478951">{</span><span class="string" id="8478952">&#34;``&#34;</span><span class="op" id="8478956">,</span>&nbsp;<span class="ident" id="8478958">token</span><span class="op" id="8478963">.</span><span class="ident" id="8478964">STRING</span><span class="op" id="8478970">,</span>&nbsp;<span class="num" id="8478972">0</span><span class="op" id="8478973">,</span>&nbsp;<span class="string" id="8478975">&#34;``&#34;</span><span class="op" id="8478979">,</span>&nbsp;<span class="string" id="8478981">&#34;&#34;</span><span class="op" id="8478983">}</span><span class="op" id="8478984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8478987">{</span><span class="string" id="8478988">&#34;`&#34;</span><span class="op" id="8478991">,</span>&nbsp;<span class="ident" id="8478993">token</span><span class="op" id="8478998">.</span><span class="ident" id="8478999">STRING</span><span class="op" id="8479005">,</span>&nbsp;<span class="num" id="8479007">0</span><span class="op" id="8479008">,</span>&nbsp;<span class="string" id="8479010">&#34;`&#34;</span><span class="op" id="8479013">,</span>&nbsp;<span class="string" id="8479015">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8479050">}</span><span class="op" id="8479051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479054">{</span><span class="string" id="8479055">&#34;/**/&#34;</span><span class="op" id="8479061">,</span>&nbsp;<span class="ident" id="8479063">token</span><span class="op" id="8479068">.</span><span class="ident" id="8479069">COMMENT</span><span class="op" id="8479076">,</span>&nbsp;<span class="num" id="8479078">0</span><span class="op" id="8479079">,</span>&nbsp;<span class="string" id="8479081">&#34;/**/&#34;</span><span class="op" id="8479087">,</span>&nbsp;<span class="string" id="8479089">&#34;&#34;</span><span class="op" id="8479091">}</span><span class="op" id="8479092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479095">{</span><span class="string" id="8479096">&#34;/*&#34;</span><span class="op" id="8479100">,</span>&nbsp;<span class="ident" id="8479102">token</span><span class="op" id="8479107">.</span><span class="ident" id="8479108">COMMENT</span><span class="op" id="8479115">,</span>&nbsp;<span class="num" id="8479117">0</span><span class="op" id="8479118">,</span>&nbsp;<span class="string" id="8479120">&#34;/*&#34;</span><span class="op" id="8479124">,</span>&nbsp;<span class="string" id="8479126">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8479150">}</span><span class="op" id="8479151">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479154">{</span><span class="string" id="8479155">&#34;077&#34;</span><span class="op" id="8479160">,</span>&nbsp;<span class="ident" id="8479162">token</span><span class="op" id="8479167">.</span><span class="ident" id="8479168">INT</span><span class="op" id="8479171">,</span>&nbsp;<span class="num" id="8479173">0</span><span class="op" id="8479174">,</span>&nbsp;<span class="string" id="8479176">&#34;077&#34;</span><span class="op" id="8479181">,</span>&nbsp;<span class="string" id="8479183">&#34;&#34;</span><span class="op" id="8479185">}</span><span class="op" id="8479186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479189">{</span><span class="string" id="8479190">&#34;078.&#34;</span><span class="op" id="8479196">,</span>&nbsp;<span class="ident" id="8479198">token</span><span class="op" id="8479203">.</span><span class="ident" id="8479204">FLOAT</span><span class="op" id="8479209">,</span>&nbsp;<span class="num" id="8479211">0</span><span class="op" id="8479212">,</span>&nbsp;<span class="string" id="8479214">&#34;078.&#34;</span><span class="op" id="8479220">,</span>&nbsp;<span class="string" id="8479222">&#34;&#34;</span><span class="op" id="8479224">}</span><span class="op" id="8479225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479228">{</span><span class="string" id="8479229">&#34;07801234567.&#34;</span><span class="op" id="8479243">,</span>&nbsp;<span class="ident" id="8479245">token</span><span class="op" id="8479250">.</span><span class="ident" id="8479251">FLOAT</span><span class="op" id="8479256">,</span>&nbsp;<span class="num" id="8479258">0</span><span class="op" id="8479259">,</span>&nbsp;<span class="string" id="8479261">&#34;07801234567.&#34;</span><span class="op" id="8479275">,</span>&nbsp;<span class="string" id="8479277">&#34;&#34;</span><span class="op" id="8479279">}</span><span class="op" id="8479280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479283">{</span><span class="string" id="8479284">&#34;078e0&#34;</span><span class="op" id="8479291">,</span>&nbsp;<span class="ident" id="8479293">token</span><span class="op" id="8479298">.</span><span class="ident" id="8479299">FLOAT</span><span class="op" id="8479304">,</span>&nbsp;<span class="num" id="8479306">0</span><span class="op" id="8479307">,</span>&nbsp;<span class="string" id="8479309">&#34;078e0&#34;</span><span class="op" id="8479316">,</span>&nbsp;<span class="string" id="8479318">&#34;&#34;</span><span class="op" id="8479320">}</span><span class="op" id="8479321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479324">{</span><span class="string" id="8479325">&#34;078&#34;</span><span class="op" id="8479330">,</span>&nbsp;<span class="ident" id="8479332">token</span><span class="op" id="8479337">.</span><span class="ident" id="8479338">INT</span><span class="op" id="8479341">,</span>&nbsp;<span class="num" id="8479343">0</span><span class="op" id="8479344">,</span>&nbsp;<span class="string" id="8479346">&#34;078&#34;</span><span class="op" id="8479351">,</span>&nbsp;<span class="string" id="8479353">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8479375">}</span><span class="op" id="8479376">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479379">{</span><span class="string" id="8479380">&#34;07800000009&#34;</span><span class="op" id="8479393">,</span>&nbsp;<span class="ident" id="8479395">token</span><span class="op" id="8479400">.</span><span class="ident" id="8479401">INT</span><span class="op" id="8479404">,</span>&nbsp;<span class="num" id="8479406">0</span><span class="op" id="8479407">,</span>&nbsp;<span class="string" id="8479409">&#34;07800000009&#34;</span><span class="op" id="8479422">,</span>&nbsp;<span class="string" id="8479424">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8479446">}</span><span class="op" id="8479447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479450">{</span><span class="string" id="8479451">&#34;0x&#34;</span><span class="op" id="8479455">,</span>&nbsp;<span class="ident" id="8479457">token</span><span class="op" id="8479462">.</span><span class="ident" id="8479463">INT</span><span class="op" id="8479466">,</span>&nbsp;<span class="num" id="8479468">0</span><span class="op" id="8479469">,</span>&nbsp;<span class="string" id="8479471">&#34;0x&#34;</span><span class="op" id="8479475">,</span>&nbsp;<span class="string" id="8479477">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8479505">}</span><span class="op" id="8479506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479509">{</span><span class="string" id="8479510">&#34;0X&#34;</span><span class="op" id="8479514">,</span>&nbsp;<span class="ident" id="8479516">token</span><span class="op" id="8479521">.</span><span class="ident" id="8479522">INT</span><span class="op" id="8479525">,</span>&nbsp;<span class="num" id="8479527">0</span><span class="op" id="8479528">,</span>&nbsp;<span class="string" id="8479530">&#34;0X&#34;</span><span class="op" id="8479534">,</span>&nbsp;<span class="string" id="8479536">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8479564">}</span><span class="op" id="8479565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479568">{</span><span class="string" id="8479569">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8479585">,</span>&nbsp;<span class="ident" id="8479587">token</span><span class="op" id="8479592">.</span><span class="ident" id="8479593">STRING</span><span class="op" id="8479599">,</span>&nbsp;<span class="num" id="8479601">4</span><span class="op" id="8479602">,</span>&nbsp;<span class="string" id="8479604">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8479620">,</span>&nbsp;<span class="string" id="8479622">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8479645">}</span><span class="op" id="8479646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479649">{</span><span class="string" id="8479650">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8479666">,</span>&nbsp;<span class="ident" id="8479668">token</span><span class="op" id="8479673">.</span><span class="ident" id="8479674">STRING</span><span class="op" id="8479680">,</span>&nbsp;<span class="num" id="8479682">4</span><span class="op" id="8479683">,</span>&nbsp;<span class="string" id="8479685">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8479701">,</span>&nbsp;<span class="string" id="8479703">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8479727">}</span><span class="op" id="8479728">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479731">{</span><span class="string" id="8479732">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8479746">,</span>&nbsp;<span class="ident" id="8479748">token</span><span class="op" id="8479753">.</span><span class="ident" id="8479754">ILLEGAL</span><span class="op" id="8479761">,</span>&nbsp;<span class="num" id="8479763">3</span><span class="op" id="8479764">,</span>&nbsp;<span class="string" id="8479766">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8479780">,</span>&nbsp;<span class="string" id="8479782">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8479807">}</span><span class="op" id="8479808">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8479833">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479863">{</span><span class="string" id="8479864">&#34;//\ufeff&#34;</span><span class="op" id="8479874">,</span>&nbsp;<span class="ident" id="8479876">token</span><span class="op" id="8479881">.</span><span class="ident" id="8479882">COMMENT</span><span class="op" id="8479889">,</span>&nbsp;<span class="num" id="8479891">2</span><span class="op" id="8479892">,</span>&nbsp;<span class="string" id="8479894">&#34;//\ufeff&#34;</span><span class="op" id="8479904">,</span>&nbsp;<span class="string" id="8479906">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8479931">}</span><span class="op" id="8479932">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8479965">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8479995">{</span><span class="string" id="8479996">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8480006">+</span>&nbsp;<span class="string" id="8480008">`&#39;`</span><span class="op" id="8480011">,</span>&nbsp;<span class="ident" id="8480013">token</span><span class="op" id="8480018">.</span><span class="ident" id="8480019">CHAR</span><span class="op" id="8480023">,</span>&nbsp;<span class="num" id="8480025">1</span><span class="op" id="8480026">,</span>&nbsp;<span class="string" id="8480028">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8480038">+</span>&nbsp;<span class="string" id="8480040">`&#39;`</span><span class="op" id="8480043">,</span>&nbsp;<span class="string" id="8480045">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8480070">}</span><span class="op" id="8480071">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8480097">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8480127">{</span><span class="string" id="8480128">`&#34;`</span>&nbsp;<span class="op" id="8480132">+</span>&nbsp;<span class="string" id="8480134">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8480149">+</span>&nbsp;<span class="string" id="8480151">`&#34;`</span><span class="op" id="8480154">,</span>&nbsp;<span class="ident" id="8480156">token</span><span class="op" id="8480161">.</span><span class="ident" id="8480162">STRING</span><span class="op" id="8480168">,</span>&nbsp;<span class="num" id="8480170">4</span><span class="op" id="8480171">,</span>&nbsp;<span class="string" id="8480173">`&#34;`</span>&nbsp;<span class="op" id="8480177">+</span>&nbsp;<span class="string" id="8480179">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8480194">+</span>&nbsp;<span class="string" id="8480196">`&#34;`</span><span class="op" id="8480199">,</span>&nbsp;<span class="string" id="8480201">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8480226">}</span><span class="op" id="8480227">,</span>&nbsp;<span class="comment" id="8480229">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="8480258">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="8480261">func</span>&nbsp;<span class="ident" id="8480266">TestScanErrors</span><span class="op" id="8480280">(</span><span class="ident" id="8480281">t</span>&nbsp;<span class="op" id="8480283">*</span><span class="ident" id="8480284">testing</span><span class="op" id="8480291">.</span><span class="ident" id="8480292">T</span><span class="op" id="8480293">)</span>&nbsp;<span class="op" id="8480295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480298">for</span>&nbsp;<span class="ident" id="8480302">_</span><span class="op" id="8480303">,</span>&nbsp;<span class="ident" id="8480305">e</span>&nbsp;<span class="op" id="8480307">:=</span>&nbsp;<span class="keyword" id="8480310">range</span>&nbsp;<span class="ident" id="8480316">errors</span>&nbsp;<span class="op" id="8480323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480327">checkError</span><span class="op" id="8480337">(</span><span class="ident" id="8480338">t</span><span class="op" id="8480339">,</span>&nbsp;<span class="ident" id="8480341">e</span><span class="op" id="8480342">.</span><span class="ident" id="8480343">src</span><span class="op" id="8480346">,</span>&nbsp;<span class="ident" id="8480348">e</span><span class="op" id="8480349">.</span><span class="ident" id="8480350">tok</span><span class="op" id="8480353">,</span>&nbsp;<span class="ident" id="8480355">e</span><span class="op" id="8480356">.</span><span class="ident" id="8480357">pos</span><span class="op" id="8480360">,</span>&nbsp;<span class="ident" id="8480362">e</span><span class="op" id="8480363">.</span><span class="ident" id="8480364">lit</span><span class="op" id="8480367">,</span>&nbsp;<span class="ident" id="8480369">e</span><span class="op" id="8480370">.</span><span class="ident" id="8480371">err</span><span class="op" id="8480374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8480377">}</span><br>
<span class="lineno">735</span><span class="op" id="8480379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8480382">func</span>&nbsp;<span class="ident" id="8480387">BenchmarkScan</span><span class="op" id="8480400">(</span><span class="ident" id="8480401">b</span>&nbsp;<span class="op" id="8480403">*</span><span class="ident" id="8480404">testing</span><span class="op" id="8480411">.</span><span class="ident" id="8480412">B</span><span class="op" id="8480413">)</span>&nbsp;<span class="op" id="8480415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480418">b</span><span class="op" id="8480419">.</span><span class="ident" id="8480420">StopTimer</span><span class="op" id="8480429">(</span><span class="op" id="8480430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480433">fset</span>&nbsp;<span class="op" id="8480438">:=</span>&nbsp;<span class="ident" id="8480441">token</span><span class="op" id="8480446">.</span><span class="ident" id="8480447">NewFileSet</span><span class="op" id="8480457">(</span><span class="op" id="8480458">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480461">file</span>&nbsp;<span class="op" id="8480466">:=</span>&nbsp;<span class="ident" id="8480469">fset</span><span class="op" id="8480473">.</span><span class="ident" id="8480474">AddFile</span><span class="op" id="8480481">(</span><span class="string" id="8480482">&#34;&#34;</span><span class="op" id="8480484">,</span>&nbsp;<span class="ident" id="8480486">fset</span><span class="op" id="8480490">.</span><span class="ident" id="8480491">Base</span><span class="op" id="8480495">(</span><span class="op" id="8480496">)</span><span class="op" id="8480497">,</span>&nbsp;<span class="builtinfunc" id="8480499">len</span><span class="op" id="8480502">(</span><span class="ident" id="8480503">source</span><span class="op" id="8480509">)</span><span class="op" id="8480510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480513">var</span>&nbsp;<span class="ident" id="8480517">s</span>&nbsp;<span class="ident" id="8480519">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480528">b</span><span class="op" id="8480529">.</span><span class="ident" id="8480530">StartTimer</span><span class="op" id="8480540">(</span><span class="op" id="8480541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480544">for</span>&nbsp;<span class="ident" id="8480548">i</span>&nbsp;<span class="op" id="8480550">:=</span>&nbsp;<span class="num" id="8480553">0</span><span class="op" id="8480554">;</span>&nbsp;<span class="ident" id="8480556">i</span>&nbsp;<span class="op" id="8480558">&lt;</span>&nbsp;<span class="ident" id="8480560">b</span><span class="op" id="8480561">.</span><span class="ident" id="8480562">N</span><span class="op" id="8480563">;</span>&nbsp;<span class="ident" id="8480565">i</span><span class="op" id="8480566">++</span>&nbsp;<span class="op" id="8480569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480573">s</span><span class="op" id="8480574">.</span><span class="ident" id="8480575">Init</span><span class="op" id="8480579">(</span><span class="ident" id="8480580">file</span><span class="op" id="8480584">,</span>&nbsp;<span class="ident" id="8480586">source</span><span class="op" id="8480592">,</span>&nbsp;<span class="builtintype" id="8480594">nil</span><span class="op" id="8480597">,</span>&nbsp;<span class="ident" id="8480599">ScanComments</span><span class="op" id="8480611">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480615">for</span>&nbsp;<span class="op" id="8480619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480624">_</span><span class="op" id="8480625">,</span>&nbsp;<span class="ident" id="8480627">tok</span><span class="op" id="8480630">,</span>&nbsp;<span class="ident" id="8480632">_</span>&nbsp;<span class="op" id="8480634">:=</span>&nbsp;<span class="ident" id="8480637">s</span><span class="op" id="8480638">.</span><span class="ident" id="8480639">Scan</span><span class="op" id="8480643">(</span><span class="op" id="8480644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480649">if</span>&nbsp;<span class="ident" id="8480652">tok</span>&nbsp;<span class="op" id="8480656">==</span>&nbsp;<span class="ident" id="8480659">token</span><span class="op" id="8480664">.</span><span class="ident" id="8480665">EOF</span>&nbsp;<span class="op" id="8480669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480675">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8480684">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8480688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8480691">}</span><br>
<span class="lineno"></span><span class="op" id="8480693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8480696">func</span>&nbsp;<span class="ident" id="8480701">BenchmarkScanFile</span><span class="op" id="8480718">(</span><span class="ident" id="8480719">b</span>&nbsp;<span class="op" id="8480721">*</span><span class="ident" id="8480722">testing</span><span class="op" id="8480729">.</span><span class="ident" id="8480730">B</span><span class="op" id="8480731">)</span>&nbsp;<span class="op" id="8480733">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480736">b</span><span class="op" id="8480737">.</span><span class="ident" id="8480738">StopTimer</span><span class="op" id="8480747">(</span><span class="op" id="8480748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480751">const</span>&nbsp;<span class="ident" id="8480757">filename</span>&nbsp;<span class="op" id="8480766">=</span>&nbsp;<span class="string" id="8480768">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480782">src</span><span class="op" id="8480785">,</span>&nbsp;<span class="ident" id="8480787">err</span>&nbsp;<span class="op" id="8480791">:=</span>&nbsp;<span class="ident" id="8480794">ioutil</span><span class="op" id="8480800">.</span><span class="ident" id="8480801">ReadFile</span><span class="op" id="8480809">(</span><span class="ident" id="8480810">filename</span><span class="op" id="8480818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480821">if</span>&nbsp;<span class="ident" id="8480824">err</span>&nbsp;<span class="op" id="8480828">!=</span>&nbsp;<span class="builtintype" id="8480831">nil</span>&nbsp;<span class="op" id="8480835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8480839">panic</span><span class="op" id="8480844">(</span><span class="ident" id="8480845">err</span><span class="op" id="8480848">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8480851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480854">fset</span>&nbsp;<span class="op" id="8480859">:=</span>&nbsp;<span class="ident" id="8480862">token</span><span class="op" id="8480867">.</span><span class="ident" id="8480868">NewFileSet</span><span class="op" id="8480878">(</span><span class="op" id="8480879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480882">file</span>&nbsp;<span class="op" id="8480887">:=</span>&nbsp;<span class="ident" id="8480890">fset</span><span class="op" id="8480894">.</span><span class="ident" id="8480895">AddFile</span><span class="op" id="8480902">(</span><span class="ident" id="8480903">filename</span><span class="op" id="8480911">,</span>&nbsp;<span class="ident" id="8480913">fset</span><span class="op" id="8480917">.</span><span class="ident" id="8480918">Base</span><span class="op" id="8480922">(</span><span class="op" id="8480923">)</span><span class="op" id="8480924">,</span>&nbsp;<span class="builtinfunc" id="8480926">len</span><span class="op" id="8480929">(</span><span class="ident" id="8480930">src</span><span class="op" id="8480933">)</span><span class="op" id="8480934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480937">b</span><span class="op" id="8480938">.</span><span class="ident" id="8480939">SetBytes</span><span class="op" id="8480947">(</span><span class="builtintype" id="8480948">int64</span><span class="op" id="8480953">(</span><span class="builtinfunc" id="8480954">len</span><span class="op" id="8480957">(</span><span class="ident" id="8480958">src</span><span class="op" id="8480961">)</span><span class="op" id="8480962">)</span><span class="op" id="8480963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480966">var</span>&nbsp;<span class="ident" id="8480970">s</span>&nbsp;<span class="ident" id="8480972">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8480981">b</span><span class="op" id="8480982">.</span><span class="ident" id="8480983">StartTimer</span><span class="op" id="8480993">(</span><span class="op" id="8480994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8480997">for</span>&nbsp;<span class="ident" id="8481001">i</span>&nbsp;<span class="op" id="8481003">:=</span>&nbsp;<span class="num" id="8481006">0</span><span class="op" id="8481007">;</span>&nbsp;<span class="ident" id="8481009">i</span>&nbsp;<span class="op" id="8481011">&lt;</span>&nbsp;<span class="ident" id="8481013">b</span><span class="op" id="8481014">.</span><span class="ident" id="8481015">N</span><span class="op" id="8481016">;</span>&nbsp;<span class="ident" id="8481018">i</span><span class="op" id="8481019">++</span>&nbsp;<span class="op" id="8481022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481026">s</span><span class="op" id="8481027">.</span><span class="ident" id="8481028">Init</span><span class="op" id="8481032">(</span><span class="ident" id="8481033">file</span><span class="op" id="8481037">,</span>&nbsp;<span class="ident" id="8481039">src</span><span class="op" id="8481042">,</span>&nbsp;<span class="builtintype" id="8481044">nil</span><span class="op" id="8481047">,</span>&nbsp;<span class="ident" id="8481049">ScanComments</span><span class="op" id="8481061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8481065">for</span>&nbsp;<span class="op" id="8481069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8481074">_</span><span class="op" id="8481075">,</span>&nbsp;<span class="ident" id="8481077">tok</span><span class="op" id="8481080">,</span>&nbsp;<span class="ident" id="8481082">_</span>&nbsp;<span class="op" id="8481084">:=</span>&nbsp;<span class="ident" id="8481087">s</span><span class="op" id="8481088">.</span><span class="ident" id="8481089">Scan</span><span class="op" id="8481093">(</span><span class="op" id="8481094">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8481099">if</span>&nbsp;<span class="ident" id="8481102">tok</span>&nbsp;<span class="op" id="8481106">==</span>&nbsp;<span class="ident" id="8481109">token</span><span class="op" id="8481114">.</span><span class="ident" id="8481115">EOF</span>&nbsp;<span class="op" id="8481119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8481125">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8481134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8481138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8481141">}</span><br>
<span class="lineno">775</span><span class="op" id="8481143">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
