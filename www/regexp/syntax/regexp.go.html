<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5504886">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5504942">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5504996">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5505047">package</span>&nbsp;<span class="ident" id="5505055">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5505063">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="5505088">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5505156">import</span>&nbsp;<span class="op" id="5505163">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5505166">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5505175">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5505186">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5505197">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5505207">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5505210">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="5505269">type</span>&nbsp;<span class="ident" id="5505274">Regexp</span>&nbsp;<span class="keyword" id="5505281">struct</span>&nbsp;<span class="op" id="5505288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505291">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5505300"><a href="/regexp/syntax/regexp.go.html#5505750">Op</a></span>&nbsp;<span class="comment" id="5505303">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505316">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5505325"><a href="/regexp/syntax/parse.go.html#5449552">Flags</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505332">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5505341">[</span><span class="op" id="5505342">]</span><span class="op" id="5505343">*</span><span class="ident" id="5505344"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span>&nbsp;&nbsp;<span class="comment" id="5505352">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505379">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5505388">[</span><span class="num" id="5505389">1</span><span class="op" id="5505390">]</span><span class="op" id="5505391">*</span><span class="ident" id="5505392"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span>&nbsp;<span class="comment" id="5505399">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505425">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5505434">[</span><span class="op" id="5505435">]</span><span class="builtintype" id="5505436">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5505445">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505491">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5505500">[</span><span class="num" id="5505501">2</span><span class="op" id="5505502">]</span><span class="builtintype" id="5505503">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5505511">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505538">Min</span><span class="op" id="5505541">,</span>&nbsp;<span class="ident" id="5505543">Max</span>&nbsp;<span class="builtintype" id="5505547">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5505558">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505584">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5505593">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5505604">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505639">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5505648">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5505659">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="5505692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5505695">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="5505745">type</span>&nbsp;<span class="ident" id="5505750">Op</span>&nbsp;<span class="builtintype" id="5505753">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5505760">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="5505834">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="5505899">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5505956">const</span>&nbsp;<span class="op" id="5505962">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505965">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5505982"><a href="/regexp/syntax/regexp.go.html#5505750">Op</a></span>&nbsp;<span class="op" id="5505985">=</span>&nbsp;<span class="num" id="5505987">1</span>&nbsp;<span class="op" id="5505989">+</span>&nbsp;<span class="ident" id="5505991">iota</span>&nbsp;<span class="comment" id="5505996">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506019">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506050">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506075">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506106">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506133">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506164">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506213">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506244">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506285">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506316">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506342">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506373">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506419">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506450">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506490">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506521">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506567">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506598">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506638">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506669">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506700">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506731">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506766">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506797">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506860">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506891">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506929">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5506960">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506997">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5507028">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507065">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5507096">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507171">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5507202">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507236">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5507267">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="5507298">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5507301">const</span>&nbsp;<span class="ident" id="5507307">opPseudo</span>&nbsp;<span class="ident" id="5507316"><a href="/regexp/syntax/regexp.go.html#5505750">Op</a></span>&nbsp;<span class="op" id="5507319">=</span>&nbsp;<span class="num" id="5507321">128</span>&nbsp;<span class="comment" id="5507325">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5507352">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="5507411">func</span>&nbsp;<span class="op" id="5507416">(</span><span class="ident" id="5507417">x</span>&nbsp;<span class="op" id="5507419">*</span><span class="ident" id="5507420"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="5507426">)</span>&nbsp;<span class="ident" id="5507428">Equal</span><span class="op" id="5507433">(</span><span class="ident" id="5507434">y</span>&nbsp;<span class="op" id="5507436">*</span><span class="ident" id="5507437"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="5507443">)</span>&nbsp;<span class="builtintype" id="5507445">bool</span>&nbsp;<span class="op" id="5507450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507453">if</span>&nbsp;<span class="ident" id="5507456"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span>&nbsp;<span class="op" id="5507458">==</span>&nbsp;<span class="ident" id="5507461">nil</span>&nbsp;<span class="op" id="5507465">||</span>&nbsp;<span class="ident" id="5507468"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span>&nbsp;<span class="op" id="5507470">==</span>&nbsp;<span class="ident" id="5507473">nil</span>&nbsp;<span class="op" id="5507477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507481">return</span>&nbsp;<span class="ident" id="5507488"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span>&nbsp;<span class="op" id="5507490">==</span>&nbsp;<span class="ident" id="5507493"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507499">if</span>&nbsp;<span class="ident" id="5507502"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5507503">.</span><span class="ident" id="5507504">Op</span>&nbsp;<span class="op" id="5507507">!=</span>&nbsp;<span class="ident" id="5507510"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5507511">.</span><span class="ident" id="5507512">Op</span>&nbsp;<span class="op" id="5507515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507519">return</span>&nbsp;<span class="builtintype" id="5507526">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507536">switch</span>&nbsp;<span class="ident" id="5507543"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5507544">.</span><span class="ident" id="5507545">Op</span>&nbsp;<span class="op" id="5507548">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507551">case</span>&nbsp;<span class="ident" id="5507556"><a href="/regexp/syntax/regexp.go.html#5506567">OpEndText</a></span><span class="op" id="5507565">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5507569">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507625">if</span>&nbsp;<span class="ident" id="5507628"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5507629">.</span><span class="ident" id="5507630">Flags</span><span class="op" id="5507635">&amp;</span><span class="ident" id="5507636"><a href="/regexp/syntax/parse.go.html#5450196">WasDollar</a></span>&nbsp;<span class="op" id="5507646">!=</span>&nbsp;<span class="ident" id="5507649"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5507650">.</span><span class="ident" id="5507651">Flags</span><span class="op" id="5507656">&amp;</span><span class="ident" id="5507657"><a href="/regexp/syntax/parse.go.html#5450196">WasDollar</a></span>&nbsp;<span class="op" id="5507667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507672">return</span>&nbsp;<span class="builtintype" id="5507679">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507687">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507691">case</span>&nbsp;<span class="ident" id="5507696"><a href="/regexp/syntax/regexp.go.html#5506075">OpLiteral</a></span><span class="op" id="5507705">,</span>&nbsp;<span class="ident" id="5507707"><a href="/regexp/syntax/regexp.go.html#5506133">OpCharClass</a></span><span class="op" id="5507718">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507722">if</span>&nbsp;<span class="builtinfunc" id="5507725">len</span><span class="op" id="5507728">(</span><span class="ident" id="5507729"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5507730">.</span><span class="ident" id="5507731">Rune</span><span class="op" id="5507735">)</span>&nbsp;<span class="op" id="5507737">!=</span>&nbsp;<span class="builtinfunc" id="5507740">len</span><span class="op" id="5507743">(</span><span class="ident" id="5507744"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5507745">.</span><span class="ident" id="5507746">Rune</span><span class="op" id="5507750">)</span>&nbsp;<span class="op" id="5507752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507757">return</span>&nbsp;<span class="builtintype" id="5507764">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507772">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507776">for</span>&nbsp;<span class="ident" id="5507780">i</span><span class="op" id="5507781">,</span>&nbsp;<span class="ident" id="5507783">r</span>&nbsp;<span class="op" id="5507785">:=</span>&nbsp;<span class="keyword" id="5507788">range</span>&nbsp;<span class="ident" id="5507794"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5507795">.</span><span class="ident" id="5507796">Rune</span>&nbsp;<span class="op" id="5507801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507806">if</span>&nbsp;<span class="ident" id="5507809"><a href="/regexp/syntax/regexp.go.html#5507783">r</a></span>&nbsp;<span class="op" id="5507811">!=</span>&nbsp;<span class="ident" id="5507814"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5507815">.</span><span class="ident" id="5507816">Rune</span><span class="op" id="5507820">[</span><span class="ident" id="5507821"><a href="/regexp/syntax/regexp.go.html#5507780">i</a></span><span class="op" id="5507822">]</span>&nbsp;<span class="op" id="5507824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507830">return</span>&nbsp;<span class="builtintype" id="5507837">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507850">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507854">case</span>&nbsp;<span class="ident" id="5507859"><a href="/regexp/syntax/regexp.go.html#5507236">OpAlternate</a></span><span class="op" id="5507870">,</span>&nbsp;<span class="ident" id="5507872"><a href="/regexp/syntax/regexp.go.html#5507171">OpConcat</a></span><span class="op" id="5507880">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507884">if</span>&nbsp;<span class="builtinfunc" id="5507887">len</span><span class="op" id="5507890">(</span><span class="ident" id="5507891"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5507892">.</span><span class="ident" id="5507893">Sub</span><span class="op" id="5507896">)</span>&nbsp;<span class="op" id="5507898">!=</span>&nbsp;<span class="builtinfunc" id="5507901">len</span><span class="op" id="5507904">(</span><span class="ident" id="5507905"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5507906">.</span><span class="ident" id="5507907">Sub</span><span class="op" id="5507910">)</span>&nbsp;<span class="op" id="5507912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507917">return</span>&nbsp;<span class="builtintype" id="5507924">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507932">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507936">for</span>&nbsp;<span class="ident" id="5507940">i</span><span class="op" id="5507941">,</span>&nbsp;<span class="ident" id="5507943">sub</span>&nbsp;<span class="op" id="5507947">:=</span>&nbsp;<span class="keyword" id="5507950">range</span>&nbsp;<span class="ident" id="5507956"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5507957">.</span><span class="ident" id="5507958">Sub</span>&nbsp;<span class="op" id="5507962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507967">if</span>&nbsp;<span class="op" id="5507970">!</span><span class="ident" id="5507971"><a href="/regexp/syntax/regexp.go.html#5507943">sub</a></span><span class="op" id="5507974">.</span><span class="ident" id="5507975">Equal</span><span class="op" id="5507980">(</span><span class="ident" id="5507981"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5507982">.</span><span class="ident" id="5507983">Sub</span><span class="op" id="5507986">[</span><span class="ident" id="5507987"><a href="/regexp/syntax/regexp.go.html#5507940">i</a></span><span class="op" id="5507988">]</span><span class="op" id="5507989">)</span>&nbsp;<span class="op" id="5507991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507997">return</span>&nbsp;<span class="builtintype" id="5508004">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508017">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508021">case</span>&nbsp;<span class="ident" id="5508026"><a href="/regexp/syntax/regexp.go.html#5506860">OpStar</a></span><span class="op" id="5508032">,</span>&nbsp;<span class="ident" id="5508034"><a href="/regexp/syntax/regexp.go.html#5506929">OpPlus</a></span><span class="op" id="5508040">,</span>&nbsp;<span class="ident" id="5508042"><a href="/regexp/syntax/regexp.go.html#5506997">OpQuest</a></span><span class="op" id="5508049">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508053">if</span>&nbsp;<span class="ident" id="5508056"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5508057">.</span><span class="ident" id="5508058">Flags</span><span class="op" id="5508063">&amp;</span><span class="ident" id="5508064"><a href="/regexp/syntax/parse.go.html#5449964">NonGreedy</a></span>&nbsp;<span class="op" id="5508074">!=</span>&nbsp;<span class="ident" id="5508077"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5508078">.</span><span class="ident" id="5508079">Flags</span><span class="op" id="5508084">&amp;</span><span class="ident" id="5508085"><a href="/regexp/syntax/parse.go.html#5449964">NonGreedy</a></span>&nbsp;<span class="op" id="5508095">||</span>&nbsp;<span class="op" id="5508098">!</span><span class="ident" id="5508099"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5508100">.</span><span class="ident" id="5508101">Sub</span><span class="op" id="5508104">[</span><span class="num" id="5508105">0</span><span class="op" id="5508106">]</span><span class="op" id="5508107">.</span><span class="ident" id="5508108">Equal</span><span class="op" id="5508113">(</span><span class="ident" id="5508114"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5508115">.</span><span class="ident" id="5508116">Sub</span><span class="op" id="5508119">[</span><span class="num" id="5508120">0</span><span class="op" id="5508121">]</span><span class="op" id="5508122">)</span>&nbsp;<span class="op" id="5508124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508129">return</span>&nbsp;<span class="builtintype" id="5508136">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508144">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508148">case</span>&nbsp;<span class="ident" id="5508153"><a href="/regexp/syntax/regexp.go.html#5507065">OpRepeat</a></span><span class="op" id="5508161">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508165">if</span>&nbsp;<span class="ident" id="5508168"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5508169">.</span><span class="ident" id="5508170">Flags</span><span class="op" id="5508175">&amp;</span><span class="ident" id="5508176"><a href="/regexp/syntax/parse.go.html#5449964">NonGreedy</a></span>&nbsp;<span class="op" id="5508186">!=</span>&nbsp;<span class="ident" id="5508189"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5508190">.</span><span class="ident" id="5508191">Flags</span><span class="op" id="5508196">&amp;</span><span class="ident" id="5508197"><a href="/regexp/syntax/parse.go.html#5449964">NonGreedy</a></span>&nbsp;<span class="op" id="5508207">||</span>&nbsp;<span class="ident" id="5508210"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5508211">.</span><span class="ident" id="5508212">Min</span>&nbsp;<span class="op" id="5508216">!=</span>&nbsp;<span class="ident" id="5508219"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5508220">.</span><span class="ident" id="5508221">Min</span>&nbsp;<span class="op" id="5508225">||</span>&nbsp;<span class="ident" id="5508228"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5508229">.</span><span class="ident" id="5508230">Max</span>&nbsp;<span class="op" id="5508234">!=</span>&nbsp;<span class="ident" id="5508237"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5508238">.</span><span class="ident" id="5508239">Max</span>&nbsp;<span class="op" id="5508243">||</span>&nbsp;<span class="op" id="5508246">!</span><span class="ident" id="5508247"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5508248">.</span><span class="ident" id="5508249">Sub</span><span class="op" id="5508252">[</span><span class="num" id="5508253">0</span><span class="op" id="5508254">]</span><span class="op" id="5508255">.</span><span class="ident" id="5508256">Equal</span><span class="op" id="5508261">(</span><span class="ident" id="5508262"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5508263">.</span><span class="ident" id="5508264">Sub</span><span class="op" id="5508267">[</span><span class="num" id="5508268">0</span><span class="op" id="5508269">]</span><span class="op" id="5508270">)</span>&nbsp;<span class="op" id="5508272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508277">return</span>&nbsp;<span class="builtintype" id="5508284">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508292">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508296">case</span>&nbsp;<span class="ident" id="5508301"><a href="/regexp/syntax/regexp.go.html#5506766">OpCapture</a></span><span class="op" id="5508310">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508314">if</span>&nbsp;<span class="ident" id="5508317"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5508318">.</span><span class="ident" id="5508319">Cap</span>&nbsp;<span class="op" id="5508323">!=</span>&nbsp;<span class="ident" id="5508326"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5508327">.</span><span class="ident" id="5508328">Cap</span>&nbsp;<span class="op" id="5508332">||</span>&nbsp;<span class="ident" id="5508335"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5508336">.</span><span class="ident" id="5508337">Name</span>&nbsp;<span class="op" id="5508342">!=</span>&nbsp;<span class="ident" id="5508345"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5508346">.</span><span class="ident" id="5508347">Name</span>&nbsp;<span class="op" id="5508352">||</span>&nbsp;<span class="op" id="5508355">!</span><span class="ident" id="5508356"><a href="/regexp/syntax/regexp.go.html#5507417">x</a></span><span class="op" id="5508357">.</span><span class="ident" id="5508358">Sub</span><span class="op" id="5508361">[</span><span class="num" id="5508362">0</span><span class="op" id="5508363">]</span><span class="op" id="5508364">.</span><span class="ident" id="5508365">Equal</span><span class="op" id="5508370">(</span><span class="ident" id="5508371"><a href="/regexp/syntax/regexp.go.html#5507434">y</a></span><span class="op" id="5508372">.</span><span class="ident" id="5508373">Sub</span><span class="op" id="5508376">[</span><span class="num" id="5508377">0</span><span class="op" id="5508378">]</span><span class="op" id="5508379">)</span>&nbsp;<span class="op" id="5508381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508386">return</span>&nbsp;<span class="builtintype" id="5508393">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508401">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508407">return</span>&nbsp;<span class="builtintype" id="5508414">true</span><br>
<span class="lineno"></span><span class="op" id="5508419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5508422">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="5508496">func</span>&nbsp;<span class="ident" id="5508501">writeRegexp</span><span class="op" id="5508512">(</span><span class="ident" id="5508513">b</span>&nbsp;<span class="op" id="5508515">*</span><span class="ident" id="5508516"><a href="/regexp/syntax/regexp.go.html#5505166">bytes</a></span><span class="op" id="5508521">.</span><span class="ident" id="5508522">Buffer</span><span class="op" id="5508528">,</span>&nbsp;<span class="ident" id="5508530">re</span>&nbsp;<span class="op" id="5508533">*</span><span class="ident" id="5508534"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="5508540">)</span>&nbsp;<span class="op" id="5508542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508545">switch</span>&nbsp;<span class="ident" id="5508552"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5508554">.</span><span class="ident" id="5508555">Op</span>&nbsp;<span class="op" id="5508558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508561">default</span><span class="op" id="5508568">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5508572"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5508573">.</span><span class="ident" id="5508574">WriteString</span><span class="op" id="5508585">(</span><span class="string" id="5508586">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="5508600">+</span>&nbsp;<span class="ident" id="5508602"><a href="/regexp/syntax/regexp.go.html#5505175">strconv</a></span><span class="op" id="5508609">.</span><span class="ident" id="5508610">Itoa</span><span class="op" id="5508614">(</span><span class="builtintype" id="5508615">int</span><span class="op" id="5508618">(</span><span class="ident" id="5508619"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5508621">.</span><span class="ident" id="5508622">Op</span><span class="op" id="5508624">)</span><span class="op" id="5508625">)</span>&nbsp;<span class="op" id="5508627">+</span>&nbsp;<span class="string" id="5508629">&#34;&gt;&#34;</span><span class="op" id="5508632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508635">case</span>&nbsp;<span class="ident" id="5508640"><a href="/regexp/syntax/regexp.go.html#5505965">OpNoMatch</a></span><span class="op" id="5508649">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5508653"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5508654">.</span><span class="ident" id="5508655">WriteString</span><span class="op" id="5508666">(</span><span class="string" id="5508667">`[^\x00-\x{10FFFF}]`</span><span class="op" id="5508687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508690">case</span>&nbsp;<span class="ident" id="5508695"><a href="/regexp/syntax/regexp.go.html#5506019">OpEmptyMatch</a></span><span class="op" id="5508707">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5508711"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5508712">.</span><span class="ident" id="5508713">WriteString</span><span class="op" id="5508724">(</span><span class="string" id="5508725">`(?:)`</span><span class="op" id="5508731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508734">case</span>&nbsp;<span class="ident" id="5508739"><a href="/regexp/syntax/regexp.go.html#5506075">OpLiteral</a></span><span class="op" id="5508748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508752">if</span>&nbsp;<span class="ident" id="5508755"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5508757">.</span><span class="ident" id="5508758">Flags</span><span class="op" id="5508763">&amp;</span><span class="ident" id="5508764"><a href="/regexp/syntax/parse.go.html#5449575">FoldCase</a></span>&nbsp;<span class="op" id="5508773">!=</span>&nbsp;<span class="num" id="5508776">0</span>&nbsp;<span class="op" id="5508778">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5508783"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5508784">.</span><span class="ident" id="5508785">WriteString</span><span class="op" id="5508796">(</span><span class="string" id="5508797">`(?i:`</span><span class="op" id="5508803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508811">for</span>&nbsp;<span class="ident" id="5508815">_</span><span class="op" id="5508816">,</span>&nbsp;<span class="ident" id="5508818">r</span>&nbsp;<span class="op" id="5508820">:=</span>&nbsp;<span class="keyword" id="5508823">range</span>&nbsp;<span class="ident" id="5508829"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5508831">.</span><span class="ident" id="5508832">Rune</span>&nbsp;<span class="op" id="5508837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5508842"><a href="/regexp/syntax/regexp.go.html#5511428">escape</a></span><span class="op" id="5508848">(</span><span class="ident" id="5508849"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5508850">,</span>&nbsp;<span class="ident" id="5508852"><a href="/regexp/syntax/regexp.go.html#5508818">r</a></span><span class="op" id="5508853">,</span>&nbsp;<span class="builtintype" id="5508855">false</span><span class="op" id="5508860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508864">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508868">if</span>&nbsp;<span class="ident" id="5508871"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5508873">.</span><span class="ident" id="5508874">Flags</span><span class="op" id="5508879">&amp;</span><span class="ident" id="5508880"><a href="/regexp/syntax/parse.go.html#5449575">FoldCase</a></span>&nbsp;<span class="op" id="5508889">!=</span>&nbsp;<span class="num" id="5508892">0</span>&nbsp;<span class="op" id="5508894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5508899"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5508900">.</span><span class="ident" id="5508901">WriteString</span><span class="op" id="5508912">(</span><span class="string" id="5508913">`)`</span><span class="op" id="5508916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508923">case</span>&nbsp;<span class="ident" id="5508928"><a href="/regexp/syntax/regexp.go.html#5506133">OpCharClass</a></span><span class="op" id="5508939">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508943">if</span>&nbsp;<span class="builtinfunc" id="5508946">len</span><span class="op" id="5508949">(</span><span class="ident" id="5508950"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5508952">.</span><span class="ident" id="5508953">Rune</span><span class="op" id="5508957">)</span><span class="op" id="5508958">%</span><span class="num" id="5508959">2</span>&nbsp;<span class="op" id="5508961">!=</span>&nbsp;<span class="num" id="5508964">0</span>&nbsp;<span class="op" id="5508966">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5508971"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5508972">.</span><span class="ident" id="5508973">WriteString</span><span class="op" id="5508984">(</span><span class="string" id="5508985">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="5509007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509012">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509024"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509025">.</span><span class="ident" id="5509026">WriteRune</span><span class="op" id="5509035">(</span><span class="string" id="5509036">&#39;[&#39;</span><span class="op" id="5509039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509043">if</span>&nbsp;<span class="builtinfunc" id="5509046">len</span><span class="op" id="5509049">(</span><span class="ident" id="5509050"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509052">.</span><span class="ident" id="5509053">Rune</span><span class="op" id="5509057">)</span>&nbsp;<span class="op" id="5509059">==</span>&nbsp;<span class="num" id="5509062">0</span>&nbsp;<span class="op" id="5509064">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509069"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509070">.</span><span class="ident" id="5509071">WriteString</span><span class="op" id="5509082">(</span><span class="string" id="5509083">`^\x00-\x{10FFFF}`</span><span class="op" id="5509101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509105">}</span>&nbsp;<span class="keyword" id="5509107">else</span>&nbsp;<span class="keyword" id="5509112">if</span>&nbsp;<span class="ident" id="5509115"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509117">.</span><span class="ident" id="5509118">Rune</span><span class="op" id="5509122">[</span><span class="num" id="5509123">0</span><span class="op" id="5509124">]</span>&nbsp;<span class="op" id="5509126">==</span>&nbsp;<span class="num" id="5509129">0</span>&nbsp;<span class="op" id="5509131">&amp;&amp;</span>&nbsp;<span class="ident" id="5509134"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509136">.</span><span class="ident" id="5509137">Rune</span><span class="op" id="5509141">[</span><span class="builtinfunc" id="5509142">len</span><span class="op" id="5509145">(</span><span class="ident" id="5509146"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509148">.</span><span class="ident" id="5509149">Rune</span><span class="op" id="5509153">)</span><span class="op" id="5509154">-</span><span class="num" id="5509155">1</span><span class="op" id="5509156">]</span>&nbsp;<span class="op" id="5509158">==</span>&nbsp;<span class="ident" id="5509161"><a href="/regexp/syntax/regexp.go.html#5505197">unicode</a></span><span class="op" id="5509168">.</span><span class="ident" id="5509169">MaxRune</span>&nbsp;<span class="op" id="5509177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5509182">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5509239">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509261"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509262">.</span><span class="ident" id="5509263">WriteRune</span><span class="op" id="5509272">(</span><span class="string" id="5509273">&#39;^&#39;</span><span class="op" id="5509276">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509281">for</span>&nbsp;<span class="ident" id="5509285">i</span>&nbsp;<span class="op" id="5509287">:=</span>&nbsp;<span class="num" id="5509290">1</span><span class="op" id="5509291">;</span>&nbsp;<span class="ident" id="5509293"><a href="/regexp/syntax/regexp.go.html#5509285">i</a></span>&nbsp;<span class="op" id="5509295">&lt;</span>&nbsp;<span class="builtinfunc" id="5509297">len</span><span class="op" id="5509300">(</span><span class="ident" id="5509301"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509303">.</span><span class="ident" id="5509304">Rune</span><span class="op" id="5509308">)</span><span class="op" id="5509309">-</span><span class="num" id="5509310">1</span><span class="op" id="5509311">;</span>&nbsp;<span class="ident" id="5509313"><a href="/regexp/syntax/regexp.go.html#5509285">i</a></span>&nbsp;<span class="op" id="5509315">+=</span>&nbsp;<span class="num" id="5509318">2</span>&nbsp;<span class="op" id="5509320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509326">lo</span><span class="op" id="5509328">,</span>&nbsp;<span class="ident" id="5509330">hi</span>&nbsp;<span class="op" id="5509333">:=</span>&nbsp;<span class="ident" id="5509336"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509338">.</span><span class="ident" id="5509339">Rune</span><span class="op" id="5509343">[</span><span class="ident" id="5509344"><a href="/regexp/syntax/regexp.go.html#5509285">i</a></span><span class="op" id="5509345">]</span><span class="op" id="5509346">+</span><span class="num" id="5509347">1</span><span class="op" id="5509348">,</span>&nbsp;<span class="ident" id="5509350"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509352">.</span><span class="ident" id="5509353">Rune</span><span class="op" id="5509357">[</span><span class="ident" id="5509358"><a href="/regexp/syntax/regexp.go.html#5509285">i</a></span><span class="op" id="5509359">+</span><span class="num" id="5509360">1</span><span class="op" id="5509361">]</span><span class="op" id="5509362">-</span><span class="num" id="5509363">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509369"><a href="/regexp/syntax/regexp.go.html#5511428">escape</a></span><span class="op" id="5509375">(</span><span class="ident" id="5509376"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509377">,</span>&nbsp;<span class="ident" id="5509379"><a href="/regexp/syntax/regexp.go.html#5509326">lo</a></span><span class="op" id="5509381">,</span>&nbsp;<span class="ident" id="5509383"><a href="/regexp/syntax/regexp.go.html#5509326">lo</a></span>&nbsp;<span class="op" id="5509386">==</span>&nbsp;<span class="string" id="5509389">&#39;-&#39;</span><span class="op" id="5509392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509398">if</span>&nbsp;<span class="ident" id="5509401"><a href="/regexp/syntax/regexp.go.html#5509326">lo</a></span>&nbsp;<span class="op" id="5509404">!=</span>&nbsp;<span class="ident" id="5509407"><a href="/regexp/syntax/regexp.go.html#5509330">hi</a></span>&nbsp;<span class="op" id="5509410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509417"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509418">.</span><span class="ident" id="5509419">WriteRune</span><span class="op" id="5509428">(</span><span class="string" id="5509429">&#39;-&#39;</span><span class="op" id="5509432">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509439"><a href="/regexp/syntax/regexp.go.html#5511428">escape</a></span><span class="op" id="5509445">(</span><span class="ident" id="5509446"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509447">,</span>&nbsp;<span class="ident" id="5509449"><a href="/regexp/syntax/regexp.go.html#5509330">hi</a></span><span class="op" id="5509451">,</span>&nbsp;<span class="ident" id="5509453"><a href="/regexp/syntax/regexp.go.html#5509330">hi</a></span>&nbsp;<span class="op" id="5509456">==</span>&nbsp;<span class="string" id="5509459">&#39;-&#39;</span><span class="op" id="5509462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509477">}</span>&nbsp;<span class="keyword" id="5509479">else</span>&nbsp;<span class="op" id="5509484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509489">for</span>&nbsp;<span class="ident" id="5509493">i</span>&nbsp;<span class="op" id="5509495">:=</span>&nbsp;<span class="num" id="5509498">0</span><span class="op" id="5509499">;</span>&nbsp;<span class="ident" id="5509501"><a href="/regexp/syntax/regexp.go.html#5509493">i</a></span>&nbsp;<span class="op" id="5509503">&lt;</span>&nbsp;<span class="builtinfunc" id="5509505">len</span><span class="op" id="5509508">(</span><span class="ident" id="5509509"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509511">.</span><span class="ident" id="5509512">Rune</span><span class="op" id="5509516">)</span><span class="op" id="5509517">;</span>&nbsp;<span class="ident" id="5509519"><a href="/regexp/syntax/regexp.go.html#5509493">i</a></span>&nbsp;<span class="op" id="5509521">+=</span>&nbsp;<span class="num" id="5509524">2</span>&nbsp;<span class="op" id="5509526">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509532">lo</span><span class="op" id="5509534">,</span>&nbsp;<span class="ident" id="5509536">hi</span>&nbsp;<span class="op" id="5509539">:=</span>&nbsp;<span class="ident" id="5509542"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509544">.</span><span class="ident" id="5509545">Rune</span><span class="op" id="5509549">[</span><span class="ident" id="5509550"><a href="/regexp/syntax/regexp.go.html#5509493">i</a></span><span class="op" id="5509551">]</span><span class="op" id="5509552">,</span>&nbsp;<span class="ident" id="5509554"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509556">.</span><span class="ident" id="5509557">Rune</span><span class="op" id="5509561">[</span><span class="ident" id="5509562"><a href="/regexp/syntax/regexp.go.html#5509493">i</a></span><span class="op" id="5509563">+</span><span class="num" id="5509564">1</span><span class="op" id="5509565">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509571"><a href="/regexp/syntax/regexp.go.html#5511428">escape</a></span><span class="op" id="5509577">(</span><span class="ident" id="5509578"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509579">,</span>&nbsp;<span class="ident" id="5509581"><a href="/regexp/syntax/regexp.go.html#5509532">lo</a></span><span class="op" id="5509583">,</span>&nbsp;<span class="ident" id="5509585"><a href="/regexp/syntax/regexp.go.html#5509532">lo</a></span>&nbsp;<span class="op" id="5509588">==</span>&nbsp;<span class="string" id="5509591">&#39;-&#39;</span><span class="op" id="5509594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509600">if</span>&nbsp;<span class="ident" id="5509603"><a href="/regexp/syntax/regexp.go.html#5509532">lo</a></span>&nbsp;<span class="op" id="5509606">!=</span>&nbsp;<span class="ident" id="5509609"><a href="/regexp/syntax/regexp.go.html#5509536">hi</a></span>&nbsp;<span class="op" id="5509612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509619"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509620">.</span><span class="ident" id="5509621">WriteRune</span><span class="op" id="5509630">(</span><span class="string" id="5509631">&#39;-&#39;</span><span class="op" id="5509634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509641"><a href="/regexp/syntax/regexp.go.html#5511428">escape</a></span><span class="op" id="5509647">(</span><span class="ident" id="5509648"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509649">,</span>&nbsp;<span class="ident" id="5509651"><a href="/regexp/syntax/regexp.go.html#5509536">hi</a></span><span class="op" id="5509653">,</span>&nbsp;<span class="ident" id="5509655"><a href="/regexp/syntax/regexp.go.html#5509536">hi</a></span>&nbsp;<span class="op" id="5509658">==</span>&nbsp;<span class="string" id="5509661">&#39;-&#39;</span><span class="op" id="5509664">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509683"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509684">.</span><span class="ident" id="5509685">WriteRune</span><span class="op" id="5509694">(</span><span class="string" id="5509695">&#39;]&#39;</span><span class="op" id="5509698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509701">case</span>&nbsp;<span class="ident" id="5509706"><a href="/regexp/syntax/regexp.go.html#5506213">OpAnyCharNotNL</a></span><span class="op" id="5509720">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509724"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509725">.</span><span class="ident" id="5509726">WriteString</span><span class="op" id="5509737">(</span><span class="string" id="5509738">`(?-s:.)`</span><span class="op" id="5509747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509750">case</span>&nbsp;<span class="ident" id="5509755"><a href="/regexp/syntax/regexp.go.html#5506285">OpAnyChar</a></span><span class="op" id="5509764">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509768"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509769">.</span><span class="ident" id="5509770">WriteString</span><span class="op" id="5509781">(</span><span class="string" id="5509782">`(?s:.)`</span><span class="op" id="5509790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509793">case</span>&nbsp;<span class="ident" id="5509798"><a href="/regexp/syntax/regexp.go.html#5506342">OpBeginLine</a></span><span class="op" id="5509809">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509813"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509814">.</span><span class="ident" id="5509815">WriteRune</span><span class="op" id="5509824">(</span><span class="string" id="5509825">&#39;^&#39;</span><span class="op" id="5509828">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509831">case</span>&nbsp;<span class="ident" id="5509836"><a href="/regexp/syntax/regexp.go.html#5506419">OpEndLine</a></span><span class="op" id="5509845">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509849"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509850">.</span><span class="ident" id="5509851">WriteRune</span><span class="op" id="5509860">(</span><span class="string" id="5509861">&#39;$&#39;</span><span class="op" id="5509864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509867">case</span>&nbsp;<span class="ident" id="5509872"><a href="/regexp/syntax/regexp.go.html#5506490">OpBeginText</a></span><span class="op" id="5509883">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509887"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509888">.</span><span class="ident" id="5509889">WriteString</span><span class="op" id="5509900">(</span><span class="string" id="5509901">`\A`</span><span class="op" id="5509905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509908">case</span>&nbsp;<span class="ident" id="5509913"><a href="/regexp/syntax/regexp.go.html#5506567">OpEndText</a></span><span class="op" id="5509922">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509926">if</span>&nbsp;<span class="ident" id="5509929"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5509931">.</span><span class="ident" id="5509932">Flags</span><span class="op" id="5509937">&amp;</span><span class="ident" id="5509938"><a href="/regexp/syntax/parse.go.html#5450196">WasDollar</a></span>&nbsp;<span class="op" id="5509948">!=</span>&nbsp;<span class="num" id="5509951">0</span>&nbsp;<span class="op" id="5509953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509958"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509959">.</span><span class="ident" id="5509960">WriteString</span><span class="op" id="5509971">(</span><span class="string" id="5509972">`(?-m:$)`</span><span class="op" id="5509981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509985">}</span>&nbsp;<span class="keyword" id="5509987">else</span>&nbsp;<span class="op" id="5509992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509997"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5509998">.</span><span class="ident" id="5509999">WriteString</span><span class="op" id="5510010">(</span><span class="string" id="5510011">`\z`</span><span class="op" id="5510015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510019">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510022">case</span>&nbsp;<span class="ident" id="5510027"><a href="/regexp/syntax/regexp.go.html#5506638">OpWordBoundary</a></span><span class="op" id="5510041">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510045"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510046">.</span><span class="ident" id="5510047">WriteString</span><span class="op" id="5510058">(</span><span class="string" id="5510059">`\b`</span><span class="op" id="5510063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510066">case</span>&nbsp;<span class="ident" id="5510071"><a href="/regexp/syntax/regexp.go.html#5506700">OpNoWordBoundary</a></span><span class="op" id="5510087">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510091"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510092">.</span><span class="ident" id="5510093">WriteString</span><span class="op" id="5510104">(</span><span class="string" id="5510105">`\B`</span><span class="op" id="5510109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510112">case</span>&nbsp;<span class="ident" id="5510117"><a href="/regexp/syntax/regexp.go.html#5506766">OpCapture</a></span><span class="op" id="5510126">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510130">if</span>&nbsp;<span class="ident" id="5510133"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510135">.</span><span class="ident" id="5510136">Name</span>&nbsp;<span class="op" id="5510141">!=</span>&nbsp;<span class="string" id="5510144">&#34;&#34;</span>&nbsp;<span class="op" id="5510147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510152"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510153">.</span><span class="ident" id="5510154">WriteString</span><span class="op" id="5510165">(</span><span class="string" id="5510166">`(?P&lt;`</span><span class="op" id="5510172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510177"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510178">.</span><span class="ident" id="5510179">WriteString</span><span class="op" id="5510190">(</span><span class="ident" id="5510191"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510193">.</span><span class="ident" id="5510194">Name</span><span class="op" id="5510198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510203"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510204">.</span><span class="ident" id="5510205">WriteRune</span><span class="op" id="5510214">(</span><span class="string" id="5510215">&#39;&gt;&#39;</span><span class="op" id="5510218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510222">}</span>&nbsp;<span class="keyword" id="5510224">else</span>&nbsp;<span class="op" id="5510229">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510234"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510235">.</span><span class="ident" id="5510236">WriteRune</span><span class="op" id="5510245">(</span><span class="string" id="5510246">&#39;(&#39;</span><span class="op" id="5510249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510257">if</span>&nbsp;<span class="ident" id="5510260"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510262">.</span><span class="ident" id="5510263">Sub</span><span class="op" id="5510266">[</span><span class="num" id="5510267">0</span><span class="op" id="5510268">]</span><span class="op" id="5510269">.</span><span class="ident" id="5510270">Op</span>&nbsp;<span class="op" id="5510273">!=</span>&nbsp;<span class="ident" id="5510276"><a href="/regexp/syntax/regexp.go.html#5506019">OpEmptyMatch</a></span>&nbsp;<span class="op" id="5510289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510294"><a href="/regexp/syntax/regexp.go.html#5508501">writeRegexp</a></span><span class="op" id="5510305">(</span><span class="ident" id="5510306"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510307">,</span>&nbsp;<span class="ident" id="5510309"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510311">.</span><span class="ident" id="5510312">Sub</span><span class="op" id="5510315">[</span><span class="num" id="5510316">0</span><span class="op" id="5510317">]</span><span class="op" id="5510318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510322">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510326"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510327">.</span><span class="ident" id="5510328">WriteRune</span><span class="op" id="5510337">(</span><span class="string" id="5510338">&#39;)&#39;</span><span class="op" id="5510341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510344">case</span>&nbsp;<span class="ident" id="5510349"><a href="/regexp/syntax/regexp.go.html#5506860">OpStar</a></span><span class="op" id="5510355">,</span>&nbsp;<span class="ident" id="5510357"><a href="/regexp/syntax/regexp.go.html#5506929">OpPlus</a></span><span class="op" id="5510363">,</span>&nbsp;<span class="ident" id="5510365"><a href="/regexp/syntax/regexp.go.html#5506997">OpQuest</a></span><span class="op" id="5510372">,</span>&nbsp;<span class="ident" id="5510374"><a href="/regexp/syntax/regexp.go.html#5507065">OpRepeat</a></span><span class="op" id="5510382">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510386">if</span>&nbsp;<span class="ident" id="5510389">sub</span>&nbsp;<span class="op" id="5510393">:=</span>&nbsp;<span class="ident" id="5510396"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510398">.</span><span class="ident" id="5510399">Sub</span><span class="op" id="5510402">[</span><span class="num" id="5510403">0</span><span class="op" id="5510404">]</span><span class="op" id="5510405">;</span>&nbsp;<span class="ident" id="5510407"><a href="/regexp/syntax/regexp.go.html#5510389">sub</a></span><span class="op" id="5510410">.</span><span class="ident" id="5510411">Op</span>&nbsp;<span class="op" id="5510414">&gt;</span>&nbsp;<span class="ident" id="5510416"><a href="/regexp/syntax/regexp.go.html#5506766">OpCapture</a></span>&nbsp;<span class="op" id="5510426">||</span>&nbsp;<span class="ident" id="5510429"><a href="/regexp/syntax/regexp.go.html#5510389">sub</a></span><span class="op" id="5510432">.</span><span class="ident" id="5510433">Op</span>&nbsp;<span class="op" id="5510436">==</span>&nbsp;<span class="ident" id="5510439"><a href="/regexp/syntax/regexp.go.html#5506075">OpLiteral</a></span>&nbsp;<span class="op" id="5510449">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5510452">len</span><span class="op" id="5510455">(</span><span class="ident" id="5510456"><a href="/regexp/syntax/regexp.go.html#5510389">sub</a></span><span class="op" id="5510459">.</span><span class="ident" id="5510460">Rune</span><span class="op" id="5510464">)</span>&nbsp;<span class="op" id="5510466">&gt;</span>&nbsp;<span class="num" id="5510468">1</span>&nbsp;<span class="op" id="5510470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510475"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510476">.</span><span class="ident" id="5510477">WriteString</span><span class="op" id="5510488">(</span><span class="string" id="5510489">`(?:`</span><span class="op" id="5510494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510499"><a href="/regexp/syntax/regexp.go.html#5508501">writeRegexp</a></span><span class="op" id="5510510">(</span><span class="ident" id="5510511"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510512">,</span>&nbsp;<span class="ident" id="5510514"><a href="/regexp/syntax/regexp.go.html#5510389">sub</a></span><span class="op" id="5510517">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510522"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510523">.</span><span class="ident" id="5510524">WriteString</span><span class="op" id="5510535">(</span><span class="string" id="5510536">`)`</span><span class="op" id="5510539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510543">}</span>&nbsp;<span class="keyword" id="5510545">else</span>&nbsp;<span class="op" id="5510550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510555"><a href="/regexp/syntax/regexp.go.html#5508501">writeRegexp</a></span><span class="op" id="5510566">(</span><span class="ident" id="5510567"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510568">,</span>&nbsp;<span class="ident" id="5510570"><a href="/regexp/syntax/regexp.go.html#5510389">sub</a></span><span class="op" id="5510573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510581">switch</span>&nbsp;<span class="ident" id="5510588"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510590">.</span><span class="ident" id="5510591">Op</span>&nbsp;<span class="op" id="5510594">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510598">case</span>&nbsp;<span class="ident" id="5510603"><a href="/regexp/syntax/regexp.go.html#5506860">OpStar</a></span><span class="op" id="5510609">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510614"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510615">.</span><span class="ident" id="5510616">WriteRune</span><span class="op" id="5510625">(</span><span class="string" id="5510626">&#39;*&#39;</span><span class="op" id="5510629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510633">case</span>&nbsp;<span class="ident" id="5510638"><a href="/regexp/syntax/regexp.go.html#5506929">OpPlus</a></span><span class="op" id="5510644">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510649"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510650">.</span><span class="ident" id="5510651">WriteRune</span><span class="op" id="5510660">(</span><span class="string" id="5510661">&#39;+&#39;</span><span class="op" id="5510664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510668">case</span>&nbsp;<span class="ident" id="5510673"><a href="/regexp/syntax/regexp.go.html#5506997">OpQuest</a></span><span class="op" id="5510680">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510685"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510686">.</span><span class="ident" id="5510687">WriteRune</span><span class="op" id="5510696">(</span><span class="string" id="5510697">&#39;?&#39;</span><span class="op" id="5510700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510704">case</span>&nbsp;<span class="ident" id="5510709"><a href="/regexp/syntax/regexp.go.html#5507065">OpRepeat</a></span><span class="op" id="5510717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510722"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510723">.</span><span class="ident" id="5510724">WriteRune</span><span class="op" id="5510733">(</span><span class="string" id="5510734">&#39;{&#39;</span><span class="op" id="5510737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510742"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510743">.</span><span class="ident" id="5510744">WriteString</span><span class="op" id="5510755">(</span><span class="ident" id="5510756"><a href="/regexp/syntax/regexp.go.html#5505175">strconv</a></span><span class="op" id="5510763">.</span><span class="ident" id="5510764">Itoa</span><span class="op" id="5510768">(</span><span class="ident" id="5510769"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510771">.</span><span class="ident" id="5510772">Min</span><span class="op" id="5510775">)</span><span class="op" id="5510776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510781">if</span>&nbsp;<span class="ident" id="5510784"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510786">.</span><span class="ident" id="5510787">Max</span>&nbsp;<span class="op" id="5510791">!=</span>&nbsp;<span class="ident" id="5510794"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510796">.</span><span class="ident" id="5510797">Min</span>&nbsp;<span class="op" id="5510801">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510807"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510808">.</span><span class="ident" id="5510809">WriteRune</span><span class="op" id="5510818">(</span><span class="string" id="5510819">&#39;,&#39;</span><span class="op" id="5510822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510828">if</span>&nbsp;<span class="ident" id="5510831"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510833">.</span><span class="ident" id="5510834">Max</span>&nbsp;<span class="op" id="5510838">&gt;=</span>&nbsp;<span class="num" id="5510841">0</span>&nbsp;<span class="op" id="5510843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510850"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510851">.</span><span class="ident" id="5510852">WriteString</span><span class="op" id="5510863">(</span><span class="ident" id="5510864"><a href="/regexp/syntax/regexp.go.html#5505175">strconv</a></span><span class="op" id="5510871">.</span><span class="ident" id="5510872">Itoa</span><span class="op" id="5510876">(</span><span class="ident" id="5510877"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510879">.</span><span class="ident" id="5510880">Max</span><span class="op" id="5510883">)</span><span class="op" id="5510884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510895">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510900"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510901">.</span><span class="ident" id="5510902">WriteRune</span><span class="op" id="5510911">(</span><span class="string" id="5510912">&#39;}&#39;</span><span class="op" id="5510915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510923">if</span>&nbsp;<span class="ident" id="5510926"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5510928">.</span><span class="ident" id="5510929">Flags</span><span class="op" id="5510934">&amp;</span><span class="ident" id="5510935"><a href="/regexp/syntax/parse.go.html#5449964">NonGreedy</a></span>&nbsp;<span class="op" id="5510945">!=</span>&nbsp;<span class="num" id="5510948">0</span>&nbsp;<span class="op" id="5510950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510955"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5510956">.</span><span class="ident" id="5510957">WriteRune</span><span class="op" id="5510966">(</span><span class="string" id="5510967">&#39;?&#39;</span><span class="op" id="5510970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510974">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510977">case</span>&nbsp;<span class="ident" id="5510982"><a href="/regexp/syntax/regexp.go.html#5507171">OpConcat</a></span><span class="op" id="5510990">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510994">for</span>&nbsp;<span class="ident" id="5510998">_</span><span class="op" id="5510999">,</span>&nbsp;<span class="ident" id="5511001">sub</span>&nbsp;<span class="op" id="5511005">:=</span>&nbsp;<span class="keyword" id="5511008">range</span>&nbsp;<span class="ident" id="5511014"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5511016">.</span><span class="ident" id="5511017">Sub</span>&nbsp;<span class="op" id="5511021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511026">if</span>&nbsp;<span class="ident" id="5511029"><a href="/regexp/syntax/regexp.go.html#5511001">sub</a></span><span class="op" id="5511032">.</span><span class="ident" id="5511033">Op</span>&nbsp;<span class="op" id="5511036">==</span>&nbsp;<span class="ident" id="5511039"><a href="/regexp/syntax/regexp.go.html#5507236">OpAlternate</a></span>&nbsp;<span class="op" id="5511051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511057"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5511058">.</span><span class="ident" id="5511059">WriteString</span><span class="op" id="5511070">(</span><span class="string" id="5511071">`(?:`</span><span class="op" id="5511076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511082"><a href="/regexp/syntax/regexp.go.html#5508501">writeRegexp</a></span><span class="op" id="5511093">(</span><span class="ident" id="5511094"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5511095">,</span>&nbsp;<span class="ident" id="5511097"><a href="/regexp/syntax/regexp.go.html#5511001">sub</a></span><span class="op" id="5511100">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511106"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5511107">.</span><span class="ident" id="5511108">WriteString</span><span class="op" id="5511119">(</span><span class="string" id="5511120">`)`</span><span class="op" id="5511123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511128">}</span>&nbsp;<span class="keyword" id="5511130">else</span>&nbsp;<span class="op" id="5511135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511141"><a href="/regexp/syntax/regexp.go.html#5508501">writeRegexp</a></span><span class="op" id="5511152">(</span><span class="ident" id="5511153"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5511154">,</span>&nbsp;<span class="ident" id="5511156"><a href="/regexp/syntax/regexp.go.html#5511001">sub</a></span><span class="op" id="5511159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511168">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511171">case</span>&nbsp;<span class="ident" id="5511176"><a href="/regexp/syntax/regexp.go.html#5507236">OpAlternate</a></span><span class="op" id="5511187">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511191">for</span>&nbsp;<span class="ident" id="5511195">i</span><span class="op" id="5511196">,</span>&nbsp;<span class="ident" id="5511198">sub</span>&nbsp;<span class="op" id="5511202">:=</span>&nbsp;<span class="keyword" id="5511205">range</span>&nbsp;<span class="ident" id="5511211"><a href="/regexp/syntax/regexp.go.html#5508530">re</a></span><span class="op" id="5511213">.</span><span class="ident" id="5511214">Sub</span>&nbsp;<span class="op" id="5511218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511223">if</span>&nbsp;<span class="ident" id="5511226"><a href="/regexp/syntax/regexp.go.html#5511195">i</a></span>&nbsp;<span class="op" id="5511228">&gt;</span>&nbsp;<span class="num" id="5511230">0</span>&nbsp;<span class="op" id="5511232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511238"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5511239">.</span><span class="ident" id="5511240">WriteRune</span><span class="op" id="5511249">(</span><span class="string" id="5511250">&#39;|&#39;</span><span class="op" id="5511253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511258">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511263"><a href="/regexp/syntax/regexp.go.html#5508501">writeRegexp</a></span><span class="op" id="5511274">(</span><span class="ident" id="5511275"><a href="/regexp/syntax/regexp.go.html#5508513">b</a></span><span class="op" id="5511276">,</span>&nbsp;<span class="ident" id="5511278"><a href="/regexp/syntax/regexp.go.html#5511198">sub</a></span><span class="op" id="5511281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511288">}</span><br>
<span class="lineno"></span><span class="op" id="5511290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="5511293">func</span>&nbsp;<span class="op" id="5511298">(</span><span class="ident" id="5511299">re</span>&nbsp;<span class="op" id="5511302">*</span><span class="ident" id="5511303"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="5511309">)</span>&nbsp;<span class="ident" id="5511311">String</span><span class="op" id="5511317">(</span><span class="op" id="5511318">)</span>&nbsp;<span class="builtintype" id="5511320">string</span>&nbsp;<span class="op" id="5511327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511330">var</span>&nbsp;<span class="ident" id="5511334">b</span>&nbsp;<span class="ident" id="5511336"><a href="/regexp/syntax/regexp.go.html#5505166">bytes</a></span><span class="op" id="5511341">.</span><span class="ident" id="5511342">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511350"><a href="/regexp/syntax/regexp.go.html#5508501">writeRegexp</a></span><span class="op" id="5511361">(</span><span class="op" id="5511362">&amp;</span><span class="ident" id="5511363"><a href="/regexp/syntax/regexp.go.html#5511334">b</a></span><span class="op" id="5511364">,</span>&nbsp;<span class="ident" id="5511366"><a href="/regexp/syntax/regexp.go.html#5511299">re</a></span><span class="op" id="5511368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511371">return</span>&nbsp;<span class="ident" id="5511378"><a href="/regexp/syntax/regexp.go.html#5511334">b</a></span><span class="op" id="5511379">.</span><span class="ident" id="5511380">String</span><span class="op" id="5511386">(</span><span class="op" id="5511387">)</span><br>
<span class="lineno"></span><span class="op" id="5511389">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="5511392">const</span>&nbsp;<span class="ident" id="5511398">meta</span>&nbsp;<span class="op" id="5511403">=</span>&nbsp;<span class="string" id="5511405">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5511423">func</span>&nbsp;<span class="ident" id="5511428">escape</span><span class="op" id="5511434">(</span><span class="ident" id="5511435">b</span>&nbsp;<span class="op" id="5511437">*</span><span class="ident" id="5511438"><a href="/regexp/syntax/regexp.go.html#5505166">bytes</a></span><span class="op" id="5511443">.</span><span class="ident" id="5511444">Buffer</span><span class="op" id="5511450">,</span>&nbsp;<span class="ident" id="5511452">r</span>&nbsp;<span class="builtintype" id="5511454">rune</span><span class="op" id="5511458">,</span>&nbsp;<span class="ident" id="5511460">force</span>&nbsp;<span class="builtintype" id="5511466">bool</span><span class="op" id="5511470">)</span>&nbsp;<span class="op" id="5511472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511475">if</span>&nbsp;<span class="ident" id="5511478"><a href="/regexp/syntax/regexp.go.html#5505197">unicode</a></span><span class="op" id="5511485">.</span><span class="ident" id="5511486">IsPrint</span><span class="op" id="5511493">(</span><span class="ident" id="5511494"><a href="/regexp/syntax/regexp.go.html#5511452">r</a></span><span class="op" id="5511495">)</span>&nbsp;<span class="op" id="5511497">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511501">if</span>&nbsp;<span class="ident" id="5511504"><a href="/regexp/syntax/regexp.go.html#5505186">strings</a></span><span class="op" id="5511511">.</span><span class="ident" id="5511512">IndexRune</span><span class="op" id="5511521">(</span><span class="ident" id="5511522"><a href="/regexp/syntax/regexp.go.html#5511398">meta</a></span><span class="op" id="5511526">,</span>&nbsp;<span class="ident" id="5511528"><a href="/regexp/syntax/regexp.go.html#5511452">r</a></span><span class="op" id="5511529">)</span>&nbsp;<span class="op" id="5511531">&gt;=</span>&nbsp;<span class="num" id="5511534">0</span>&nbsp;<span class="op" id="5511536">||</span>&nbsp;<span class="ident" id="5511539"><a href="/regexp/syntax/regexp.go.html#5511460">force</a></span>&nbsp;<span class="op" id="5511545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511550"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511551">.</span><span class="ident" id="5511552">WriteRune</span><span class="op" id="5511561">(</span><span class="string" id="5511562">&#39;\\&#39;</span><span class="op" id="5511566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511574"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511575">.</span><span class="ident" id="5511576">WriteRune</span><span class="op" id="5511585">(</span><span class="ident" id="5511586"><a href="/regexp/syntax/regexp.go.html#5511452">r</a></span><span class="op" id="5511587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511591">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511603">switch</span>&nbsp;<span class="ident" id="5511610"><a href="/regexp/syntax/regexp.go.html#5511452">r</a></span>&nbsp;<span class="op" id="5511612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511615">case</span>&nbsp;<span class="string" id="5511620">&#39;\a&#39;</span><span class="op" id="5511624">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511628"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511629">.</span><span class="ident" id="5511630">WriteString</span><span class="op" id="5511641">(</span><span class="string" id="5511642">`\a`</span><span class="op" id="5511646">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511649">case</span>&nbsp;<span class="string" id="5511654">&#39;\f&#39;</span><span class="op" id="5511658">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511662"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511663">.</span><span class="ident" id="5511664">WriteString</span><span class="op" id="5511675">(</span><span class="string" id="5511676">`\f`</span><span class="op" id="5511680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511683">case</span>&nbsp;<span class="string" id="5511688">&#39;\n&#39;</span><span class="op" id="5511692">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511696"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511697">.</span><span class="ident" id="5511698">WriteString</span><span class="op" id="5511709">(</span><span class="string" id="5511710">`\n`</span><span class="op" id="5511714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511717">case</span>&nbsp;<span class="string" id="5511722">&#39;\r&#39;</span><span class="op" id="5511726">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511730"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511731">.</span><span class="ident" id="5511732">WriteString</span><span class="op" id="5511743">(</span><span class="string" id="5511744">`\r`</span><span class="op" id="5511748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511751">case</span>&nbsp;<span class="string" id="5511756">&#39;\t&#39;</span><span class="op" id="5511760">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511764"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511765">.</span><span class="ident" id="5511766">WriteString</span><span class="op" id="5511777">(</span><span class="string" id="5511778">`\t`</span><span class="op" id="5511782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511785">case</span>&nbsp;<span class="string" id="5511790">&#39;\v&#39;</span><span class="op" id="5511794">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511798"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511799">.</span><span class="ident" id="5511800">WriteString</span><span class="op" id="5511811">(</span><span class="string" id="5511812">`\v`</span><span class="op" id="5511816">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511819">default</span><span class="op" id="5511826">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511830">if</span>&nbsp;<span class="ident" id="5511833"><a href="/regexp/syntax/regexp.go.html#5511452">r</a></span>&nbsp;<span class="op" id="5511835">&lt;</span>&nbsp;<span class="num" id="5511837">0x100</span>&nbsp;<span class="op" id="5511843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511848"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511849">.</span><span class="ident" id="5511850">WriteString</span><span class="op" id="5511861">(</span><span class="string" id="5511862">`\x`</span><span class="op" id="5511866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511871">s</span>&nbsp;<span class="op" id="5511873">:=</span>&nbsp;<span class="ident" id="5511876"><a href="/regexp/syntax/regexp.go.html#5505175">strconv</a></span><span class="op" id="5511883">.</span><span class="ident" id="5511884">FormatInt</span><span class="op" id="5511893">(</span><span class="ident" id="5511894">int64</span><span class="op" id="5511899">(</span><span class="ident" id="5511900"><a href="/regexp/syntax/regexp.go.html#5511452">r</a></span><span class="op" id="5511901">)</span><span class="op" id="5511902">,</span>&nbsp;<span class="num" id="5511904">16</span><span class="op" id="5511906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511911">if</span>&nbsp;<span class="builtinfunc" id="5511914">len</span><span class="op" id="5511917">(</span><span class="ident" id="5511918"><a href="/regexp/syntax/regexp.go.html#5511871">s</a></span><span class="op" id="5511919">)</span>&nbsp;<span class="op" id="5511921">==</span>&nbsp;<span class="num" id="5511924">1</span>&nbsp;<span class="op" id="5511926">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511932"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511933">.</span><span class="ident" id="5511934">WriteRune</span><span class="op" id="5511943">(</span><span class="string" id="5511944">&#39;0&#39;</span><span class="op" id="5511947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511957"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511958">.</span><span class="ident" id="5511959">WriteString</span><span class="op" id="5511970">(</span><span class="ident" id="5511971"><a href="/regexp/syntax/regexp.go.html#5511871">s</a></span><span class="op" id="5511972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511977">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511985">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511989"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5511990">.</span><span class="ident" id="5511991">WriteString</span><span class="op" id="5512002">(</span><span class="string" id="5512003">`\x{`</span><span class="op" id="5512008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512012"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5512013">.</span><span class="ident" id="5512014">WriteString</span><span class="op" id="5512025">(</span><span class="ident" id="5512026"><a href="/regexp/syntax/regexp.go.html#5505175">strconv</a></span><span class="op" id="5512033">.</span><span class="ident" id="5512034">FormatInt</span><span class="op" id="5512043">(</span><span class="ident" id="5512044">int64</span><span class="op" id="5512049">(</span><span class="ident" id="5512050"><a href="/regexp/syntax/regexp.go.html#5511452">r</a></span><span class="op" id="5512051">)</span><span class="op" id="5512052">,</span>&nbsp;<span class="num" id="5512054">16</span><span class="op" id="5512056">)</span><span class="op" id="5512057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512061"><a href="/regexp/syntax/regexp.go.html#5511435">b</a></span><span class="op" id="5512062">.</span><span class="ident" id="5512063">WriteString</span><span class="op" id="5512074">(</span><span class="string" id="5512075">`}`</span><span class="op" id="5512078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5512081">}</span><br>
<span class="lineno"></span><span class="op" id="5512083">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5512086">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="5512148">func</span>&nbsp;<span class="op" id="5512153">(</span><span class="ident" id="5512154">re</span>&nbsp;<span class="op" id="5512157">*</span><span class="ident" id="5512158"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="5512164">)</span>&nbsp;<span class="ident" id="5512166">MaxCap</span><span class="op" id="5512172">(</span><span class="op" id="5512173">)</span>&nbsp;<span class="builtintype" id="5512175">int</span>&nbsp;<span class="op" id="5512179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512182">m</span>&nbsp;<span class="op" id="5512184">:=</span>&nbsp;<span class="num" id="5512187">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512190">if</span>&nbsp;<span class="ident" id="5512193"><a href="/regexp/syntax/regexp.go.html#5512154">re</a></span><span class="op" id="5512195">.</span><span class="ident" id="5512196">Op</span>&nbsp;<span class="op" id="5512199">==</span>&nbsp;<span class="ident" id="5512202"><a href="/regexp/syntax/regexp.go.html#5506766">OpCapture</a></span>&nbsp;<span class="op" id="5512212">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512216"><a href="/regexp/syntax/regexp.go.html#5512182">m</a></span>&nbsp;<span class="op" id="5512218">=</span>&nbsp;<span class="ident" id="5512220"><a href="/regexp/syntax/regexp.go.html#5512154">re</a></span><span class="op" id="5512222">.</span><span class="ident" id="5512223">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5512228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512231">for</span>&nbsp;<span class="ident" id="5512235">_</span><span class="op" id="5512236">,</span>&nbsp;<span class="ident" id="5512238">sub</span>&nbsp;<span class="op" id="5512242">:=</span>&nbsp;<span class="keyword" id="5512245">range</span>&nbsp;<span class="ident" id="5512251"><a href="/regexp/syntax/regexp.go.html#5512154">re</a></span><span class="op" id="5512253">.</span><span class="ident" id="5512254">Sub</span>&nbsp;<span class="op" id="5512258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512262">if</span>&nbsp;<span class="ident" id="5512265">n</span>&nbsp;<span class="op" id="5512267">:=</span>&nbsp;<span class="ident" id="5512270"><a href="/regexp/syntax/regexp.go.html#5512238">sub</a></span><span class="op" id="5512273">.</span><span class="ident" id="5512274">MaxCap</span><span class="op" id="5512280">(</span><span class="op" id="5512281">)</span><span class="op" id="5512282">;</span>&nbsp;<span class="ident" id="5512284"><a href="/regexp/syntax/regexp.go.html#5512182">m</a></span>&nbsp;<span class="op" id="5512286">&lt;</span>&nbsp;<span class="ident" id="5512288"><a href="/regexp/syntax/regexp.go.html#5512265">n</a></span>&nbsp;<span class="op" id="5512290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512295"><a href="/regexp/syntax/regexp.go.html#5512182">m</a></span>&nbsp;<span class="op" id="5512297">=</span>&nbsp;<span class="ident" id="5512299"><a href="/regexp/syntax/regexp.go.html#5512265">n</a></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5512303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5512306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512309">return</span>&nbsp;<span class="ident" id="5512316"><a href="/regexp/syntax/regexp.go.html#5512182">m</a></span><br>
<span class="lineno"></span><span class="op" id="5512318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="5512321">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="5512389">func</span>&nbsp;<span class="op" id="5512394">(</span><span class="ident" id="5512395">re</span>&nbsp;<span class="op" id="5512398">*</span><span class="ident" id="5512399"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="5512405">)</span>&nbsp;<span class="ident" id="5512407">CapNames</span><span class="op" id="5512415">(</span><span class="op" id="5512416">)</span>&nbsp;<span class="op" id="5512418">[</span><span class="op" id="5512419">]</span><span class="builtintype" id="5512420">string</span>&nbsp;<span class="op" id="5512427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512430">names</span>&nbsp;<span class="op" id="5512436">:=</span>&nbsp;<span class="builtinfunc" id="5512439">make</span><span class="op" id="5512443">(</span><span class="op" id="5512444">[</span><span class="op" id="5512445">]</span><span class="builtintype" id="5512446">string</span><span class="op" id="5512452">,</span>&nbsp;<span class="ident" id="5512454"><a href="/regexp/syntax/regexp.go.html#5512395">re</a></span><span class="op" id="5512456">.</span><span class="ident" id="5512457">MaxCap</span><span class="op" id="5512463">(</span><span class="op" id="5512464">)</span><span class="op" id="5512465">+</span><span class="num" id="5512466">1</span><span class="op" id="5512467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512470"><a href="/regexp/syntax/regexp.go.html#5512395">re</a></span><span class="op" id="5512472">.</span><span class="ident" id="5512473">capNames</span><span class="op" id="5512481">(</span><span class="ident" id="5512482"><a href="/regexp/syntax/regexp.go.html#5512430">names</a></span><span class="op" id="5512487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512490">return</span>&nbsp;<span class="ident" id="5512497"><a href="/regexp/syntax/regexp.go.html#5512430">names</a></span><br>
<span class="lineno">310</span><span class="op" id="5512503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5512506">func</span>&nbsp;<span class="op" id="5512511">(</span><span class="ident" id="5512512">re</span>&nbsp;<span class="op" id="5512515">*</span><span class="ident" id="5512516"><a href="/regexp/syntax/regexp.go.html#5505274">Regexp</a></span><span class="op" id="5512522">)</span>&nbsp;<span class="ident" id="5512524">capNames</span><span class="op" id="5512532">(</span><span class="ident" id="5512533">names</span>&nbsp;<span class="op" id="5512539">[</span><span class="op" id="5512540">]</span><span class="builtintype" id="5512541">string</span><span class="op" id="5512547">)</span>&nbsp;<span class="op" id="5512549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512552">if</span>&nbsp;<span class="ident" id="5512555"><a href="/regexp/syntax/regexp.go.html#5512512">re</a></span><span class="op" id="5512557">.</span><span class="ident" id="5512558">Op</span>&nbsp;<span class="op" id="5512561">==</span>&nbsp;<span class="ident" id="5512564"><a href="/regexp/syntax/regexp.go.html#5506766">OpCapture</a></span>&nbsp;<span class="op" id="5512574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512578"><a href="/regexp/syntax/regexp.go.html#5512533">names</a></span><span class="op" id="5512583">[</span><span class="ident" id="5512584"><a href="/regexp/syntax/regexp.go.html#5512512">re</a></span><span class="op" id="5512586">.</span><span class="ident" id="5512587">Cap</span><span class="op" id="5512590">]</span>&nbsp;<span class="op" id="5512592">=</span>&nbsp;<span class="ident" id="5512594"><a href="/regexp/syntax/regexp.go.html#5512512">re</a></span><span class="op" id="5512596">.</span><span class="ident" id="5512597">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5512603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512606">for</span>&nbsp;<span class="ident" id="5512610">_</span><span class="op" id="5512611">,</span>&nbsp;<span class="ident" id="5512613">sub</span>&nbsp;<span class="op" id="5512617">:=</span>&nbsp;<span class="keyword" id="5512620">range</span>&nbsp;<span class="ident" id="5512626"><a href="/regexp/syntax/regexp.go.html#5512512">re</a></span><span class="op" id="5512628">.</span><span class="ident" id="5512629">Sub</span>&nbsp;<span class="op" id="5512633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512637"><a href="/regexp/syntax/regexp.go.html#5512613">sub</a></span><span class="op" id="5512640">.</span><span class="ident" id="5512641">capNames</span><span class="op" id="5512649">(</span><span class="ident" id="5512650"><a href="/regexp/syntax/regexp.go.html#5512533">names</a></span><span class="op" id="5512655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5512658">}</span><br>
<span class="lineno"></span><span class="op" id="5512660">}</span>
</div>
</body>
</html>
