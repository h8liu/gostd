<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6228784">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6228839">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6228893">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6228944">package</span>&nbsp;<span class="ident" id="6228952">bzip2</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6228959">import</span>&nbsp;<span class="op" id="6228966">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6228969">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6228978">&#34;io&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6228983">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6228986">//&nbsp;bitReader&nbsp;wraps&nbsp;an&nbsp;io.Reader&nbsp;and&nbsp;provides&nbsp;the&nbsp;ability&nbsp;to&nbsp;read&nbsp;values,</span><br>
<span class="lineno"></span><span class="comment" id="6229059">//&nbsp;bit-by-bit,&nbsp;from&nbsp;it.&nbsp;Its&nbsp;Read*&nbsp;methods&nbsp;don&#39;t&nbsp;return&nbsp;the&nbsp;usual&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="6229130">//&nbsp;because&nbsp;the&nbsp;error&nbsp;handling&nbsp;was&nbsp;verbose.&nbsp;Instead,&nbsp;any&nbsp;error&nbsp;is&nbsp;kept&nbsp;and&nbsp;can</span><br>
<span class="lineno">15</span><span class="comment" id="6229208">//&nbsp;be&nbsp;checked&nbsp;afterwards.</span><br>
<span class="lineno"></span><span class="keyword" id="6229234">type</span>&nbsp;<span class="ident" id="6229239">bitReader</span>&nbsp;<span class="keyword" id="6229249">struct</span>&nbsp;<span class="op" id="6229256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6229259">r</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6229264"><a href="/compress/bzip2/bit_reader.go.html#6228978">io</a></span><span class="op" id="6229266">.</span><span class="ident" id="6229267">ByteReader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6229279">n</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6229284">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6229292">bits</span>&nbsp;<span class="builtintype" id="6229297">uint</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6229303">err</span>&nbsp;&nbsp;<span class="builtintype" id="6229308">error</span><br>
<span class="lineno"></span><span class="op" id="6229314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6229317">//&nbsp;newBitReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;bitReader&nbsp;reading&nbsp;from&nbsp;r.&nbsp;If&nbsp;r&nbsp;is&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="6229385">//&nbsp;already&nbsp;an&nbsp;io.ByteReader,&nbsp;it&nbsp;will&nbsp;be&nbsp;converted&nbsp;via&nbsp;a&nbsp;bufio.Reader.</span><br>
<span class="lineno">25</span><span class="keyword" id="6229455">func</span>&nbsp;<span class="ident" id="6229460">newBitReader</span><span class="op" id="6229472">(</span><span class="ident" id="6229473">r</span>&nbsp;<span class="ident" id="6229475"><a href="/compress/bzip2/bit_reader.go.html#6228978">io</a></span><span class="op" id="6229477">.</span><span class="ident" id="6229478">Reader</span><span class="op" id="6229484">)</span>&nbsp;<span class="ident" id="6229486"><a href="/compress/bzip2/bit_reader.go.html#6229239">bitReader</a></span>&nbsp;<span class="op" id="6229496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6229499">byter</span><span class="op" id="6229504">,</span>&nbsp;<span class="ident" id="6229506">ok</span>&nbsp;<span class="op" id="6229509">:=</span>&nbsp;<span class="ident" id="6229512"><a href="/compress/bzip2/bit_reader.go.html#6229473">r</a></span><span class="op" id="6229513">.</span><span class="op" id="6229514">(</span><span class="ident" id="6229515"><a href="/compress/bzip2/bit_reader.go.html#6228978">io</a></span><span class="op" id="6229517">.</span><span class="ident" id="6229518">ByteReader</span><span class="op" id="6229528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6229531">if</span>&nbsp;<span class="op" id="6229534">!</span><span class="ident" id="6229535"><a href="/compress/bzip2/bit_reader.go.html#6229506">ok</a></span>&nbsp;<span class="op" id="6229538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6229542"><a href="/compress/bzip2/bit_reader.go.html#6229499">byter</a></span>&nbsp;<span class="op" id="6229548">=</span>&nbsp;<span class="ident" id="6229550"><a href="/compress/bzip2/bit_reader.go.html#6228969">bufio</a></span><span class="op" id="6229555">.</span><span class="ident" id="6229556">NewReader</span><span class="op" id="6229565">(</span><span class="ident" id="6229566"><a href="/compress/bzip2/bit_reader.go.html#6229473">r</a></span><span class="op" id="6229567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6229570">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6229573">return</span>&nbsp;<span class="ident" id="6229580"><a href="/compress/bzip2/bit_reader.go.html#6229239">bitReader</a></span><span class="op" id="6229589">{</span><span class="ident" id="6229590">r</span><span class="op" id="6229591">:</span>&nbsp;<span class="ident" id="6229593"><a href="/compress/bzip2/bit_reader.go.html#6229499">byter</a></span><span class="op" id="6229598">}</span><br>
<span class="lineno"></span><span class="op" id="6229600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6229603">//&nbsp;ReadBits64&nbsp;reads&nbsp;the&nbsp;given&nbsp;number&nbsp;of&nbsp;bits&nbsp;and&nbsp;returns&nbsp;them&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6229672">//&nbsp;least-significant&nbsp;part&nbsp;of&nbsp;a&nbsp;uint64.&nbsp;In&nbsp;the&nbsp;event&nbsp;of&nbsp;an&nbsp;error,&nbsp;it&nbsp;returns&nbsp;0</span><br>
<span class="lineno">35</span><span class="comment" id="6229750">//&nbsp;and&nbsp;the&nbsp;error&nbsp;can&nbsp;be&nbsp;obtained&nbsp;by&nbsp;calling&nbsp;Err().</span><br>
<span class="lineno"></span><span class="keyword" id="6229801">func</span>&nbsp;<span class="op" id="6229806">(</span><span class="ident" id="6229807">br</span>&nbsp;<span class="op" id="6229810">*</span><span class="ident" id="6229811"><a href="/compress/bzip2/bit_reader.go.html#6229239">bitReader</a></span><span class="op" id="6229820">)</span>&nbsp;<span class="ident" id="6229822">ReadBits64</span><span class="op" id="6229832">(</span><span class="ident" id="6229833">bits</span>&nbsp;<span class="builtintype" id="6229838">uint</span><span class="op" id="6229842">)</span>&nbsp;<span class="op" id="6229844">(</span><span class="ident" id="6229845">n</span>&nbsp;<span class="ident" id="6229847">uint64</span><span class="op" id="6229853">)</span>&nbsp;<span class="op" id="6229855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6229858">for</span>&nbsp;<span class="ident" id="6229862"><a href="/compress/bzip2/bit_reader.go.html#6229833">bits</a></span>&nbsp;<span class="op" id="6229867">&gt;</span>&nbsp;<span class="ident" id="6229869"><a href="/compress/bzip2/bit_reader.go.html#6229807">br</a></span><span class="op" id="6229871">.</span><span class="ident" id="6229872">bits</span>&nbsp;<span class="op" id="6229877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6229881">b</span><span class="op" id="6229882">,</span>&nbsp;<span class="ident" id="6229884">err</span>&nbsp;<span class="op" id="6229888">:=</span>&nbsp;<span class="ident" id="6229891"><a href="/compress/bzip2/bit_reader.go.html#6229807">br</a></span><span class="op" id="6229893">.</span><span class="ident" id="6229894">r</span><span class="op" id="6229895">.</span><span class="ident" id="6229896">ReadByte</span><span class="op" id="6229904">(</span><span class="op" id="6229905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6229909">if</span>&nbsp;<span class="ident" id="6229912"><a href="/compress/bzip2/bit_reader.go.html#6229884">err</a></span>&nbsp;<span class="op" id="6229916">==</span>&nbsp;<span class="ident" id="6229919"><a href="/compress/bzip2/bit_reader.go.html#6228978">io</a></span><span class="op" id="6229921">.</span><span class="ident" id="6229922">EOF</span>&nbsp;<span class="op" id="6229926">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6229931"><a href="/compress/bzip2/bit_reader.go.html#6229884">err</a></span>&nbsp;<span class="op" id="6229935">=</span>&nbsp;<span class="ident" id="6229937"><a href="/compress/bzip2/bit_reader.go.html#6228978">io</a></span><span class="op" id="6229939">.</span><span class="ident" id="6229940">ErrUnexpectedEOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6229959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6229963">if</span>&nbsp;<span class="ident" id="6229966"><a href="/compress/bzip2/bit_reader.go.html#6229884">err</a></span>&nbsp;<span class="op" id="6229970">!=</span>&nbsp;<span class="ident" id="6229973">nil</span>&nbsp;<span class="op" id="6229977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6229982"><a href="/compress/bzip2/bit_reader.go.html#6229807">br</a></span><span class="op" id="6229984">.</span><span class="ident" id="6229985">err</span>&nbsp;<span class="op" id="6229989">=</span>&nbsp;<span class="ident" id="6229991"><a href="/compress/bzip2/bit_reader.go.html#6229884">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6229998">return</span>&nbsp;<span class="num" id="6230005">0</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6230009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6230013"><a href="/compress/bzip2/bit_reader.go.html#6229807">br</a></span><span class="op" id="6230015">.</span><span class="ident" id="6230016">n</span>&nbsp;<span class="op" id="6230018">&lt;&lt;=</span>&nbsp;<span class="num" id="6230022">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6230026"><a href="/compress/bzip2/bit_reader.go.html#6229807">br</a></span><span class="op" id="6230028">.</span><span class="ident" id="6230029">n</span>&nbsp;<span class="op" id="6230031">|=</span>&nbsp;<span class="ident" id="6230034">uint64</span><span class="op" id="6230040">(</span><span class="ident" id="6230041"><a href="/compress/bzip2/bit_reader.go.html#6229881">b</a></span><span class="op" id="6230042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6230046"><a href="/compress/bzip2/bit_reader.go.html#6229807">br</a></span><span class="op" id="6230048">.</span><span class="ident" id="6230049">bits</span>&nbsp;<span class="op" id="6230054">+=</span>&nbsp;<span class="num" id="6230057">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6230060">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230064">//&nbsp;br.n&nbsp;looks&nbsp;like&nbsp;this&nbsp;(assuming&nbsp;that&nbsp;br.bits&nbsp;=&nbsp;14&nbsp;and&nbsp;bits&nbsp;=&nbsp;6):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230132">//&nbsp;Bit:&nbsp;111111</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230148">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5432109876543210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230174">//</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230178">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(6&nbsp;bits,&nbsp;the&nbsp;desired&nbsp;output)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230219">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-----|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230238">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230257">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0101101101001110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230283">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230309">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|------------|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230335">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;br.bits&nbsp;(num&nbsp;valid&nbsp;bits)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230374">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230378">//&nbsp;This&nbsp;the&nbsp;next&nbsp;line&nbsp;right&nbsp;shifts&nbsp;the&nbsp;desired&nbsp;bits&nbsp;into&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6230440">//&nbsp;least-significant&nbsp;places&nbsp;and&nbsp;masks&nbsp;off&nbsp;anything&nbsp;above.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6230499"><a href="/compress/bzip2/bit_reader.go.html#6229845">n</a></span>&nbsp;<span class="op" id="6230501">=</span>&nbsp;<span class="op" id="6230503">(</span><span class="ident" id="6230504"><a href="/compress/bzip2/bit_reader.go.html#6229807">br</a></span><span class="op" id="6230506">.</span><span class="ident" id="6230507">n</span>&nbsp;<span class="op" id="6230509">&gt;&gt;</span>&nbsp;<span class="op" id="6230512">(</span><span class="ident" id="6230513"><a href="/compress/bzip2/bit_reader.go.html#6229807">br</a></span><span class="op" id="6230515">.</span><span class="ident" id="6230516">bits</span>&nbsp;<span class="op" id="6230521">-</span>&nbsp;<span class="ident" id="6230523"><a href="/compress/bzip2/bit_reader.go.html#6229833">bits</a></span><span class="op" id="6230527">)</span><span class="op" id="6230528">)</span>&nbsp;<span class="op" id="6230530">&amp;</span>&nbsp;<span class="op" id="6230532">(</span><span class="op" id="6230533">(</span><span class="num" id="6230534">1</span>&nbsp;<span class="op" id="6230536">&lt;&lt;</span>&nbsp;<span class="ident" id="6230539"><a href="/compress/bzip2/bit_reader.go.html#6229833">bits</a></span><span class="op" id="6230543">)</span>&nbsp;<span class="op" id="6230545">-</span>&nbsp;<span class="num" id="6230547">1</span><span class="op" id="6230548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6230551"><a href="/compress/bzip2/bit_reader.go.html#6229807">br</a></span><span class="op" id="6230553">.</span><span class="ident" id="6230554">bits</span>&nbsp;<span class="op" id="6230559">-=</span>&nbsp;<span class="ident" id="6230562"><a href="/compress/bzip2/bit_reader.go.html#6229833">bits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6230568">return</span><br>
<span class="lineno"></span><span class="op" id="6230575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="6230578">func</span>&nbsp;<span class="op" id="6230583">(</span><span class="ident" id="6230584">br</span>&nbsp;<span class="op" id="6230587">*</span><span class="ident" id="6230588"><a href="/compress/bzip2/bit_reader.go.html#6229239">bitReader</a></span><span class="op" id="6230597">)</span>&nbsp;<span class="ident" id="6230599">ReadBits</span><span class="op" id="6230607">(</span><span class="ident" id="6230608">bits</span>&nbsp;<span class="builtintype" id="6230613">uint</span><span class="op" id="6230617">)</span>&nbsp;<span class="op" id="6230619">(</span><span class="ident" id="6230620">n</span>&nbsp;<span class="builtintype" id="6230622">int</span><span class="op" id="6230625">)</span>&nbsp;<span class="op" id="6230627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6230630">n64</span>&nbsp;<span class="op" id="6230634">:=</span>&nbsp;<span class="ident" id="6230637"><a href="/compress/bzip2/bit_reader.go.html#6230584">br</a></span><span class="op" id="6230639">.</span><span class="ident" id="6230640">ReadBits64</span><span class="op" id="6230650">(</span><span class="ident" id="6230651"><a href="/compress/bzip2/bit_reader.go.html#6230608">bits</a></span><span class="op" id="6230655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6230658">return</span>&nbsp;<span class="builtintype" id="6230665">int</span><span class="op" id="6230668">(</span><span class="ident" id="6230669"><a href="/compress/bzip2/bit_reader.go.html#6230630">n64</a></span><span class="op" id="6230672">)</span><br>
<span class="lineno"></span><span class="op" id="6230674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="6230677">func</span>&nbsp;<span class="op" id="6230682">(</span><span class="ident" id="6230683">br</span>&nbsp;<span class="op" id="6230686">*</span><span class="ident" id="6230687"><a href="/compress/bzip2/bit_reader.go.html#6229239">bitReader</a></span><span class="op" id="6230696">)</span>&nbsp;<span class="ident" id="6230698">ReadBit</span><span class="op" id="6230705">(</span><span class="op" id="6230706">)</span>&nbsp;<span class="builtintype" id="6230708">bool</span>&nbsp;<span class="op" id="6230713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6230716">n</span>&nbsp;<span class="op" id="6230718">:=</span>&nbsp;<span class="ident" id="6230721"><a href="/compress/bzip2/bit_reader.go.html#6230683">br</a></span><span class="op" id="6230723">.</span><span class="ident" id="6230724">ReadBits</span><span class="op" id="6230732">(</span><span class="num" id="6230733">1</span><span class="op" id="6230734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6230737">return</span>&nbsp;<span class="ident" id="6230744"><a href="/compress/bzip2/bit_reader.go.html#6230716">n</a></span>&nbsp;<span class="op" id="6230746">!=</span>&nbsp;<span class="num" id="6230749">0</span><br>
<span class="lineno"></span><span class="op" id="6230751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="6230754">func</span>&nbsp;<span class="op" id="6230759">(</span><span class="ident" id="6230760">br</span>&nbsp;<span class="op" id="6230763">*</span><span class="ident" id="6230764"><a href="/compress/bzip2/bit_reader.go.html#6229239">bitReader</a></span><span class="op" id="6230773">)</span>&nbsp;<span class="ident" id="6230775">TryReadBit</span><span class="op" id="6230785">(</span><span class="op" id="6230786">)</span>&nbsp;<span class="op" id="6230788">(</span><span class="ident" id="6230789">bit</span>&nbsp;<span class="builtintype" id="6230793">byte</span><span class="op" id="6230797">,</span>&nbsp;<span class="ident" id="6230799">ok</span>&nbsp;<span class="builtintype" id="6230802">bool</span><span class="op" id="6230806">)</span>&nbsp;<span class="op" id="6230808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6230811">if</span>&nbsp;<span class="ident" id="6230814"><a href="/compress/bzip2/bit_reader.go.html#6230760">br</a></span><span class="op" id="6230816">.</span><span class="ident" id="6230817">bits</span>&nbsp;<span class="op" id="6230822">&gt;</span>&nbsp;<span class="num" id="6230824">0</span>&nbsp;<span class="op" id="6230826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6230830"><a href="/compress/bzip2/bit_reader.go.html#6230760">br</a></span><span class="op" id="6230832">.</span><span class="ident" id="6230833">bits</span><span class="op" id="6230837">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6230842">return</span>&nbsp;<span class="builtintype" id="6230849">byte</span><span class="op" id="6230853">(</span><span class="ident" id="6230854"><a href="/compress/bzip2/bit_reader.go.html#6230760">br</a></span><span class="op" id="6230856">.</span><span class="ident" id="6230857">n</span><span class="op" id="6230858">&gt;&gt;</span><span class="ident" id="6230860"><a href="/compress/bzip2/bit_reader.go.html#6230760">br</a></span><span class="op" id="6230862">.</span><span class="ident" id="6230863">bits</span><span class="op" id="6230867">)</span>&nbsp;<span class="op" id="6230869">&amp;</span>&nbsp;<span class="num" id="6230871">1</span><span class="op" id="6230872">,</span>&nbsp;<span class="builtintype" id="6230874">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6230880">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6230883">return</span>&nbsp;<span class="num" id="6230890">0</span><span class="op" id="6230891">,</span>&nbsp;<span class="builtintype" id="6230893">false</span><br>
<span class="lineno"></span><span class="op" id="6230899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6230902">func</span>&nbsp;<span class="op" id="6230907">(</span><span class="ident" id="6230908">br</span>&nbsp;<span class="op" id="6230911">*</span><span class="ident" id="6230912"><a href="/compress/bzip2/bit_reader.go.html#6229239">bitReader</a></span><span class="op" id="6230921">)</span>&nbsp;<span class="ident" id="6230923">Err</span><span class="op" id="6230926">(</span><span class="op" id="6230927">)</span>&nbsp;<span class="builtintype" id="6230929">error</span>&nbsp;<span class="op" id="6230935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6230938">return</span>&nbsp;<span class="ident" id="6230945"><a href="/compress/bzip2/bit_reader.go.html#6230908">br</a></span><span class="op" id="6230947">.</span><span class="ident" id="6230948">err</span><br>
<span class="lineno">90</span><span class="op" id="6230952">}</span>
</div>
</body>
</html>
