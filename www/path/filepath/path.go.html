<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3618899">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3618954">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3619008">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3619059">//&nbsp;Package&nbsp;filepath&nbsp;implements&nbsp;utility&nbsp;routines&nbsp;for&nbsp;manipulating&nbsp;filename&nbsp;paths</span><br>
<span class="lineno"></span><span class="comment" id="3619139">//&nbsp;in&nbsp;a&nbsp;way&nbsp;compatible&nbsp;with&nbsp;the&nbsp;target&nbsp;operating&nbsp;system-defined&nbsp;file&nbsp;paths.</span><br>
<span class="lineno"></span><span class="keyword" id="3619215">package</span>&nbsp;<span class="ident" id="3619223">filepath</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3619233">import</span>&nbsp;<span class="op" id="3619240">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3619243">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3619253">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3619259">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3619267">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="3619277">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3619280">//&nbsp;A&nbsp;lazybuf&nbsp;is&nbsp;a&nbsp;lazily&nbsp;constructed&nbsp;path&nbsp;buffer.</span><br>
<span class="lineno"></span><span class="comment" id="3619330">//&nbsp;It&nbsp;supports&nbsp;append,&nbsp;reading&nbsp;previously&nbsp;appended&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="3619388">//&nbsp;and&nbsp;retrieving&nbsp;the&nbsp;final&nbsp;string.&nbsp;It&nbsp;does&nbsp;not&nbsp;allocate&nbsp;a&nbsp;buffer</span><br>
<span class="lineno"></span><span class="comment" id="3619454">//&nbsp;to&nbsp;hold&nbsp;the&nbsp;output&nbsp;until&nbsp;that&nbsp;output&nbsp;diverges&nbsp;from&nbsp;s.</span><br>
<span class="lineno">20</span><span class="keyword" id="3619511">type</span>&nbsp;<span class="ident" id="3619516">lazybuf</span>&nbsp;<span class="keyword" id="3619524">struct</span>&nbsp;<span class="op" id="3619531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3619534">path</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3619545">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3619553">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3619564">[</span><span class="op" id="3619565">]</span><span class="builtintype" id="3619566">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3619572">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3619583">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3619588">volAndPath</span>&nbsp;<span class="builtintype" id="3619599">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3619607">volLen</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3619618">int</span><br>
<span class="lineno"></span><span class="op" id="3619622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3619625">func</span>&nbsp;<span class="op" id="3619630">(</span><span class="ident" id="3619631">b</span>&nbsp;<span class="op" id="3619633">*</span><span class="ident" id="3619634"><a href="/path/filepath/path.go.html#3619516">lazybuf</a></span><span class="op" id="3619641">)</span>&nbsp;<span class="ident" id="3619643">index</span><span class="op" id="3619648">(</span><span class="ident" id="3619649">i</span>&nbsp;<span class="builtintype" id="3619651">int</span><span class="op" id="3619654">)</span>&nbsp;<span class="builtintype" id="3619656">byte</span>&nbsp;<span class="op" id="3619661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3619664">if</span>&nbsp;<span class="ident" id="3619667"><a href="/path/filepath/path.go.html#3619631">b</a></span><span class="op" id="3619668">.</span><span class="ident" id="3619669">buf</span>&nbsp;<span class="op" id="3619673">!=</span>&nbsp;<span class="ident" id="3619676">nil</span>&nbsp;<span class="op" id="3619680">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3619684">return</span>&nbsp;<span class="ident" id="3619691"><a href="/path/filepath/path.go.html#3619631">b</a></span><span class="op" id="3619692">.</span><span class="ident" id="3619693">buf</span><span class="op" id="3619696">[</span><span class="ident" id="3619697"><a href="/path/filepath/path.go.html#3619649">i</a></span><span class="op" id="3619698">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3619701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3619704">return</span>&nbsp;<span class="ident" id="3619711"><a href="/path/filepath/path.go.html#3619631">b</a></span><span class="op" id="3619712">.</span><span class="ident" id="3619713">path</span><span class="op" id="3619717">[</span><span class="ident" id="3619718"><a href="/path/filepath/path.go.html#3619649">i</a></span><span class="op" id="3619719">]</span><br>
<span class="lineno"></span><span class="op" id="3619721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="3619724">func</span>&nbsp;<span class="op" id="3619729">(</span><span class="ident" id="3619730">b</span>&nbsp;<span class="op" id="3619732">*</span><span class="ident" id="3619733"><a href="/path/filepath/path.go.html#3619516">lazybuf</a></span><span class="op" id="3619740">)</span>&nbsp;<span class="builtinfunc" id="3619742">append</span><span class="op" id="3619748">(</span><span class="ident" id="3619749">c</span>&nbsp;<span class="builtintype" id="3619751">byte</span><span class="op" id="3619755">)</span>&nbsp;<span class="op" id="3619757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3619760">if</span>&nbsp;<span class="ident" id="3619763"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619764">.</span><span class="ident" id="3619765">buf</span>&nbsp;<span class="op" id="3619769">==</span>&nbsp;<span class="ident" id="3619772">nil</span>&nbsp;<span class="op" id="3619776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3619780">if</span>&nbsp;<span class="ident" id="3619783"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619784">.</span><span class="ident" id="3619785">w</span>&nbsp;<span class="op" id="3619787">&lt;</span>&nbsp;<span class="builtinfunc" id="3619789">len</span><span class="op" id="3619792">(</span><span class="ident" id="3619793"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619794">.</span><span class="ident" id="3619795">path</span><span class="op" id="3619799">)</span>&nbsp;<span class="op" id="3619801">&amp;&amp;</span>&nbsp;<span class="ident" id="3619804"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619805">.</span><span class="ident" id="3619806">path</span><span class="op" id="3619810">[</span><span class="ident" id="3619811"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619812">.</span><span class="ident" id="3619813">w</span><span class="op" id="3619814">]</span>&nbsp;<span class="op" id="3619816">==</span>&nbsp;<span class="ident" id="3619819"><a href="/path/filepath/path.go.html#3619749">c</a></span>&nbsp;<span class="op" id="3619821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3619826"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619827">.</span><span class="ident" id="3619828">w</span><span class="op" id="3619829">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3619835">return</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3619844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3619848"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619849">.</span><span class="ident" id="3619850">buf</span>&nbsp;<span class="op" id="3619854">=</span>&nbsp;<span class="builtinfunc" id="3619856">make</span><span class="op" id="3619860">(</span><span class="op" id="3619861">[</span><span class="op" id="3619862">]</span><span class="builtintype" id="3619863">byte</span><span class="op" id="3619867">,</span>&nbsp;<span class="builtinfunc" id="3619869">len</span><span class="op" id="3619872">(</span><span class="ident" id="3619873"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619874">.</span><span class="ident" id="3619875">path</span><span class="op" id="3619879">)</span><span class="op" id="3619880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3619884">copy</span><span class="op" id="3619888">(</span><span class="ident" id="3619889"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619890">.</span><span class="ident" id="3619891">buf</span><span class="op" id="3619894">,</span>&nbsp;<span class="ident" id="3619896"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619897">.</span><span class="ident" id="3619898">path</span><span class="op" id="3619902">[</span><span class="op" id="3619903">:</span><span class="ident" id="3619904"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619905">.</span><span class="ident" id="3619906">w</span><span class="op" id="3619907">]</span><span class="op" id="3619908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3619911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3619914"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619915">.</span><span class="ident" id="3619916">buf</span><span class="op" id="3619919">[</span><span class="ident" id="3619920"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619921">.</span><span class="ident" id="3619922">w</span><span class="op" id="3619923">]</span>&nbsp;<span class="op" id="3619925">=</span>&nbsp;<span class="ident" id="3619927"><a href="/path/filepath/path.go.html#3619749">c</a></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3619930"><a href="/path/filepath/path.go.html#3619730">b</a></span><span class="op" id="3619931">.</span><span class="ident" id="3619932">w</span><span class="op" id="3619933">++</span><br>
<span class="lineno"></span><span class="op" id="3619936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3619939">func</span>&nbsp;<span class="op" id="3619944">(</span><span class="ident" id="3619945">b</span>&nbsp;<span class="op" id="3619947">*</span><span class="ident" id="3619948"><a href="/path/filepath/path.go.html#3619516">lazybuf</a></span><span class="op" id="3619955">)</span>&nbsp;<span class="builtintype" id="3619957">string</span><span class="op" id="3619963">(</span><span class="op" id="3619964">)</span>&nbsp;<span class="builtintype" id="3619966">string</span>&nbsp;<span class="op" id="3619973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3619976">if</span>&nbsp;<span class="ident" id="3619979"><a href="/path/filepath/path.go.html#3619945">b</a></span><span class="op" id="3619980">.</span><span class="ident" id="3619981">buf</span>&nbsp;<span class="op" id="3619985">==</span>&nbsp;<span class="ident" id="3619988">nil</span>&nbsp;<span class="op" id="3619992">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3619996">return</span>&nbsp;<span class="ident" id="3620003"><a href="/path/filepath/path.go.html#3619945">b</a></span><span class="op" id="3620004">.</span><span class="ident" id="3620005">volAndPath</span><span class="op" id="3620015">[</span><span class="op" id="3620016">:</span><span class="ident" id="3620017"><a href="/path/filepath/path.go.html#3619945">b</a></span><span class="op" id="3620018">.</span><span class="ident" id="3620019">volLen</span><span class="op" id="3620025">+</span><span class="ident" id="3620026"><a href="/path/filepath/path.go.html#3619945">b</a></span><span class="op" id="3620027">.</span><span class="ident" id="3620028">w</span><span class="op" id="3620029">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3620032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3620035">return</span>&nbsp;<span class="ident" id="3620042"><a href="/path/filepath/path.go.html#3619945">b</a></span><span class="op" id="3620043">.</span><span class="ident" id="3620044">volAndPath</span><span class="op" id="3620054">[</span><span class="op" id="3620055">:</span><span class="ident" id="3620056"><a href="/path/filepath/path.go.html#3619945">b</a></span><span class="op" id="3620057">.</span><span class="ident" id="3620058">volLen</span><span class="op" id="3620064">]</span>&nbsp;<span class="op" id="3620066">+</span>&nbsp;<span class="builtintype" id="3620068">string</span><span class="op" id="3620074">(</span><span class="ident" id="3620075"><a href="/path/filepath/path.go.html#3619945">b</a></span><span class="op" id="3620076">.</span><span class="ident" id="3620077">buf</span><span class="op" id="3620080">[</span><span class="op" id="3620081">:</span><span class="ident" id="3620082"><a href="/path/filepath/path.go.html#3619945">b</a></span><span class="op" id="3620083">.</span><span class="ident" id="3620084">w</span><span class="op" id="3620085">]</span><span class="op" id="3620086">)</span><br>
<span class="lineno"></span><span class="op" id="3620088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="3620091">const</span>&nbsp;<span class="op" id="3620097">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3620100">Separator</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3620114">=</span>&nbsp;<span class="ident" id="3620116"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3620118">.</span><span class="ident" id="3620119">PathSeparator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3620134">ListSeparator</span>&nbsp;<span class="op" id="3620148">=</span>&nbsp;<span class="ident" id="3620150"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3620152">.</span><span class="ident" id="3620153">PathListSeparator</span><br>
<span class="lineno"></span><span class="op" id="3620171">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="3620174">//&nbsp;Clean&nbsp;returns&nbsp;the&nbsp;shortest&nbsp;path&nbsp;name&nbsp;equivalent&nbsp;to&nbsp;path</span><br>
<span class="lineno"></span><span class="comment" id="3620233">//&nbsp;by&nbsp;purely&nbsp;lexical&nbsp;processing.&nbsp;&nbsp;It&nbsp;applies&nbsp;the&nbsp;following&nbsp;rules</span><br>
<span class="lineno"></span><span class="comment" id="3620298">//&nbsp;iteratively&nbsp;until&nbsp;no&nbsp;further&nbsp;processing&nbsp;can&nbsp;be&nbsp;done:</span><br>
<span class="lineno"></span><span class="comment" id="3620354">//</span><br>
<span class="lineno"></span><span class="comment" id="3620357">//&nbsp;&nbsp;&nbsp;&nbsp1.&nbsp;Replace&nbsp;multiple&nbsp;Separator&nbsp;elements&nbsp;with&nbsp;a&nbsp;single&nbsp;one.</span><br>
<span class="lineno">65</span><span class="comment" id="3620418">//&nbsp;&nbsp;&nbsp;&nbsp2.&nbsp;Eliminate&nbsp;each&nbsp;.&nbsp;path&nbsp;name&nbsp;element&nbsp;(the&nbsp;current&nbsp;directory).</span><br>
<span class="lineno"></span><span class="comment" id="3620484">//&nbsp;&nbsp;&nbsp;&nbsp3.&nbsp;Eliminate&nbsp;each&nbsp;inner&nbsp;..&nbsp;path&nbsp;name&nbsp;element&nbsp;(the&nbsp;parent&nbsp;directory)</span><br>
<span class="lineno"></span><span class="comment" id="3620555">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;along&nbsp;with&nbsp;the&nbsp;non-..&nbsp;element&nbsp;that&nbsp;precedes&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="3620609">//&nbsp;&nbsp;&nbsp;&nbsp4.&nbsp;Eliminate&nbsp;..&nbsp;elements&nbsp;that&nbsp;begin&nbsp;a&nbsp;rooted&nbsp;path:</span><br>
<span class="lineno"></span><span class="comment" id="3620663">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;that&nbsp;is,&nbsp;replace&nbsp;&#34;/..&#34;&nbsp;by&nbsp;&#34;/&#34;&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;path,</span><br>
<span class="lineno">70</span><span class="comment" id="3620727">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;assuming&nbsp;Separator&nbsp;is&nbsp;&#39;/&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="3620760">//</span><br>
<span class="lineno"></span><span class="comment" id="3620763">//&nbsp;The&nbsp;returned&nbsp;path&nbsp;ends&nbsp;in&nbsp;a&nbsp;slash&nbsp;only&nbsp;if&nbsp;it&nbsp;represents&nbsp;a&nbsp;root&nbsp;directory,</span><br>
<span class="lineno"></span><span class="comment" id="3620840">//&nbsp;such&nbsp;as&nbsp;&#34;/&#34;&nbsp;on&nbsp;Unix&nbsp;or&nbsp;`C:\`&nbsp;on&nbsp;Windows.</span><br>
<span class="lineno"></span><span class="comment" id="3620884">//</span><br>
<span class="lineno">75</span><span class="comment" id="3620887">//&nbsp;If&nbsp;the&nbsp;result&nbsp;of&nbsp;this&nbsp;process&nbsp;is&nbsp;an&nbsp;empty&nbsp;string,&nbsp;Clean</span><br>
<span class="lineno"></span><span class="comment" id="3620946">//&nbsp;returns&nbsp;the&nbsp;string&nbsp;&#34;.&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3620973">//</span><br>
<span class="lineno"></span><span class="comment" id="3620976">//&nbsp;See&nbsp;also&nbsp;Rob&nbsp;Pike,&nbsp;``Lexical&nbsp;File&nbsp;Names&nbsp;in&nbsp;Plan&nbsp;9&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3621032">//&nbsp;Getting&nbsp;Dot-Dot&nbsp;Right,&#39;&#39;</span><br>
<span class="lineno">80</span><span class="comment" id="3621060">//&nbsp;http://plan9.bell-labs.com/sys/doc/lexnames.html</span><br>
<span class="lineno"></span><span class="keyword" id="3621112">func</span>&nbsp;<span class="ident" id="3621117">Clean</span><span class="op" id="3621122">(</span><span class="ident" id="3621123">path</span>&nbsp;<span class="builtintype" id="3621128">string</span><span class="op" id="3621134">)</span>&nbsp;<span class="builtintype" id="3621136">string</span>&nbsp;<span class="op" id="3621143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621146">originalPath</span>&nbsp;<span class="op" id="3621159">:=</span>&nbsp;<span class="ident" id="3621162"><a href="/path/filepath/path.go.html#3621123">path</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621168">volLen</span>&nbsp;<span class="op" id="3621175">:=</span>&nbsp;<span class="ident" id="3621178"><a href="/path/filepath/path_unix.go.html#3632590">volumeNameLen</a></span><span class="op" id="3621191">(</span><span class="ident" id="3621192"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3621196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621199"><a href="/path/filepath/path.go.html#3621123">path</a></span>&nbsp;<span class="op" id="3621204">=</span>&nbsp;<span class="ident" id="3621206"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3621210">[</span><span class="ident" id="3621211"><a href="/path/filepath/path.go.html#3621168">volLen</a></span><span class="op" id="3621217">:</span><span class="op" id="3621218">]</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3621221">if</span>&nbsp;<span class="ident" id="3621224"><a href="/path/filepath/path.go.html#3621123">path</a></span>&nbsp;<span class="op" id="3621229">==</span>&nbsp;<span class="string" id="3621232">&#34;&#34;</span>&nbsp;<span class="op" id="3621235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3621239">if</span>&nbsp;<span class="ident" id="3621242"><a href="/path/filepath/path.go.html#3621168">volLen</a></span>&nbsp;<span class="op" id="3621249">&gt;</span>&nbsp;<span class="num" id="3621251">1</span>&nbsp;<span class="op" id="3621253">&amp;&amp;</span>&nbsp;<span class="ident" id="3621256"><a href="/path/filepath/path.go.html#3621146">originalPath</a></span><span class="op" id="3621268">[</span><span class="num" id="3621269">1</span><span class="op" id="3621270">]</span>&nbsp;<span class="op" id="3621272">!=</span>&nbsp;<span class="string" id="3621275">&#39;:&#39;</span>&nbsp;<span class="op" id="3621279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3621284">//&nbsp;should&nbsp;be&nbsp;UNC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3621304">return</span>&nbsp;<span class="ident" id="3621311"><a href="/path/filepath/path.go.html#3623346">FromSlash</a></span><span class="op" id="3621320">(</span><span class="ident" id="3621321"><a href="/path/filepath/path.go.html#3621146">originalPath</a></span><span class="op" id="3621333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3621337">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3621341">return</span>&nbsp;<span class="ident" id="3621348"><a href="/path/filepath/path.go.html#3621146">originalPath</a></span>&nbsp;<span class="op" id="3621361">+</span>&nbsp;<span class="string" id="3621363">&#34;.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3621368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621371">rooted</span>&nbsp;<span class="op" id="3621378">:=</span>&nbsp;<span class="ident" id="3621381"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3621383">.</span><span class="ident" id="3621384">IsPathSeparator</span><span class="op" id="3621399">(</span><span class="ident" id="3621400"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3621404">[</span><span class="num" id="3621405">0</span><span class="op" id="3621406">]</span><span class="op" id="3621407">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3621411">//&nbsp;Invariants:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3621427">//&nbsp;&nbsp;&nbsp;&nbspreading&nbsp;from&nbsp;path;&nbsp;r&nbsp;is&nbsp;index&nbsp;of&nbsp;next&nbsp;byte&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3621486">//&nbsp;&nbsp;&nbsp;&nbspwriting&nbsp;to&nbsp;buf;&nbsp;w&nbsp;is&nbsp;index&nbsp;of&nbsp;next&nbsp;byte&nbsp;to&nbsp;write.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3621540">//&nbsp;&nbsp;&nbsp;&nbspdotdot&nbsp;is&nbsp;index&nbsp;in&nbsp;buf&nbsp;where&nbsp;..&nbsp;must&nbsp;stop,&nbsp;either&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3621602">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspit&nbsp;is&nbsp;the&nbsp;leading&nbsp;slash&nbsp;or&nbsp;it&nbsp;is&nbsp;a&nbsp;leading&nbsp;../../..&nbsp;prefix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621667">n</span>&nbsp;<span class="op" id="3621669">:=</span>&nbsp;<span class="builtinfunc" id="3621672">len</span><span class="op" id="3621675">(</span><span class="ident" id="3621676"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3621680">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621683">out</span>&nbsp;<span class="op" id="3621687">:=</span>&nbsp;<span class="ident" id="3621690"><a href="/path/filepath/path.go.html#3619516">lazybuf</a></span><span class="op" id="3621697">{</span><span class="ident" id="3621698">path</span><span class="op" id="3621702">:</span>&nbsp;<span class="ident" id="3621704"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3621708">,</span>&nbsp;<span class="ident" id="3621710">volAndPath</span><span class="op" id="3621720">:</span>&nbsp;<span class="ident" id="3621722"><a href="/path/filepath/path.go.html#3621146">originalPath</a></span><span class="op" id="3621734">,</span>&nbsp;<span class="ident" id="3621736">volLen</span><span class="op" id="3621742">:</span>&nbsp;<span class="ident" id="3621744"><a href="/path/filepath/path.go.html#3621168">volLen</a></span><span class="op" id="3621750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621753">r</span><span class="op" id="3621754">,</span>&nbsp;<span class="ident" id="3621756">dotdot</span>&nbsp;<span class="op" id="3621763">:=</span>&nbsp;<span class="num" id="3621766">0</span><span class="op" id="3621767">,</span>&nbsp;<span class="num" id="3621769">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3621772">if</span>&nbsp;<span class="ident" id="3621775"><a href="/path/filepath/path.go.html#3621371">rooted</a></span>&nbsp;<span class="op" id="3621782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621786"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3621789">.</span><span class="builtinfunc" id="3621790">append</span><span class="op" id="3621796">(</span><span class="ident" id="3621797"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><span class="op" id="3621806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621810"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3621811">,</span>&nbsp;<span class="ident" id="3621813"><a href="/path/filepath/path.go.html#3621756">dotdot</a></span>&nbsp;<span class="op" id="3621820">=</span>&nbsp;<span class="num" id="3621822">1</span><span class="op" id="3621823">,</span>&nbsp;<span class="num" id="3621825">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3621828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3621832">for</span>&nbsp;<span class="ident" id="3621836"><a href="/path/filepath/path.go.html#3621753">r</a></span>&nbsp;<span class="op" id="3621838">&lt;</span>&nbsp;<span class="ident" id="3621840"><a href="/path/filepath/path.go.html#3621667">n</a></span>&nbsp;<span class="op" id="3621842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3621846">switch</span>&nbsp;<span class="op" id="3621853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3621857">case</span>&nbsp;<span class="ident" id="3621862"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3621864">.</span><span class="ident" id="3621865">IsPathSeparator</span><span class="op" id="3621880">(</span><span class="ident" id="3621881"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3621885">[</span><span class="ident" id="3621886"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3621887">]</span><span class="op" id="3621888">)</span><span class="op" id="3621889">:</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3621894">//&nbsp;empty&nbsp;path&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3621919"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3621920">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3621925">case</span>&nbsp;<span class="ident" id="3621930"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3621934">[</span><span class="ident" id="3621935"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3621936">]</span>&nbsp;<span class="op" id="3621938">==</span>&nbsp;<span class="string" id="3621941">&#39;.&#39;</span>&nbsp;<span class="op" id="3621945">&amp;&amp;</span>&nbsp;<span class="op" id="3621948">(</span><span class="ident" id="3621949"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3621950">+</span><span class="num" id="3621951">1</span>&nbsp;<span class="op" id="3621953">==</span>&nbsp;<span class="ident" id="3621956"><a href="/path/filepath/path.go.html#3621667">n</a></span>&nbsp;<span class="op" id="3621958">||</span>&nbsp;<span class="ident" id="3621961"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3621963">.</span><span class="ident" id="3621964">IsPathSeparator</span><span class="op" id="3621979">(</span><span class="ident" id="3621980"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3621984">[</span><span class="ident" id="3621985"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3621986">+</span><span class="num" id="3621987">1</span><span class="op" id="3621988">]</span><span class="op" id="3621989">)</span><span class="op" id="3621990">)</span><span class="op" id="3621991">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3621996">//&nbsp;.&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622012"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3622013">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622018">case</span>&nbsp;<span class="ident" id="3622023"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3622027">[</span><span class="ident" id="3622028"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3622029">]</span>&nbsp;<span class="op" id="3622031">==</span>&nbsp;<span class="string" id="3622034">&#39;.&#39;</span>&nbsp;<span class="op" id="3622038">&amp;&amp;</span>&nbsp;<span class="ident" id="3622041"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3622045">[</span><span class="ident" id="3622046"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3622047">+</span><span class="num" id="3622048">1</span><span class="op" id="3622049">]</span>&nbsp;<span class="op" id="3622051">==</span>&nbsp;<span class="string" id="3622054">&#39;.&#39;</span>&nbsp;<span class="op" id="3622058">&amp;&amp;</span>&nbsp;<span class="op" id="3622061">(</span><span class="ident" id="3622062"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3622063">+</span><span class="num" id="3622064">2</span>&nbsp;<span class="op" id="3622066">==</span>&nbsp;<span class="ident" id="3622069"><a href="/path/filepath/path.go.html#3621667">n</a></span>&nbsp;<span class="op" id="3622071">||</span>&nbsp;<span class="ident" id="3622074"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3622076">.</span><span class="ident" id="3622077">IsPathSeparator</span><span class="op" id="3622092">(</span><span class="ident" id="3622093"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3622097">[</span><span class="ident" id="3622098"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3622099">+</span><span class="num" id="3622100">2</span><span class="op" id="3622101">]</span><span class="op" id="3622102">)</span><span class="op" id="3622103">)</span><span class="op" id="3622104">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3622109">//&nbsp;..&nbsp;element:&nbsp;remove&nbsp;to&nbsp;last&nbsp;separator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622152"><a href="/path/filepath/path.go.html#3621753">r</a></span>&nbsp;<span class="op" id="3622154">+=</span>&nbsp;<span class="num" id="3622157">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622162">switch</span>&nbsp;<span class="op" id="3622169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622174">case</span>&nbsp;<span class="ident" id="3622179"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622182">.</span><span class="ident" id="3622183">w</span>&nbsp;<span class="op" id="3622185">&gt;</span>&nbsp;<span class="ident" id="3622187"><a href="/path/filepath/path.go.html#3621756">dotdot</a></span><span class="op" id="3622193">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3622199">//&nbsp;can&nbsp;backtrack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622220"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622223">.</span><span class="ident" id="3622224">w</span><span class="op" id="3622225">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622232">for</span>&nbsp;<span class="ident" id="3622236"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622239">.</span><span class="ident" id="3622240">w</span>&nbsp;<span class="op" id="3622242">&gt;</span>&nbsp;<span class="ident" id="3622244"><a href="/path/filepath/path.go.html#3621756">dotdot</a></span>&nbsp;<span class="op" id="3622251">&amp;&amp;</span>&nbsp;<span class="op" id="3622254">!</span><span class="ident" id="3622255"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3622257">.</span><span class="ident" id="3622258">IsPathSeparator</span><span class="op" id="3622273">(</span><span class="ident" id="3622274"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622277">.</span><span class="ident" id="3622278">index</span><span class="op" id="3622283">(</span><span class="ident" id="3622284"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622287">.</span><span class="ident" id="3622288">w</span><span class="op" id="3622289">)</span><span class="op" id="3622290">)</span>&nbsp;<span class="op" id="3622292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622299"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622302">.</span><span class="ident" id="3622303">w</span><span class="op" id="3622304">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3622311">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622316">case</span>&nbsp;<span class="op" id="3622321">!</span><span class="ident" id="3622322"><a href="/path/filepath/path.go.html#3621371">rooted</a></span><span class="op" id="3622328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3622334">//&nbsp;cannot&nbsp;backtrack,&nbsp;but&nbsp;not&nbsp;rooted,&nbsp;so&nbsp;append&nbsp;..&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622397">if</span>&nbsp;<span class="ident" id="3622400"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622403">.</span><span class="ident" id="3622404">w</span>&nbsp;<span class="op" id="3622406">&gt;</span>&nbsp;<span class="num" id="3622408">0</span>&nbsp;<span class="op" id="3622410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622417"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622420">.</span><span class="builtinfunc" id="3622421">append</span><span class="op" id="3622427">(</span><span class="ident" id="3622428"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><span class="op" id="3622437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3622443">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622449"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622452">.</span><span class="builtinfunc" id="3622453">append</span><span class="op" id="3622459">(</span><span class="string" id="3622460">&#39;.&#39;</span><span class="op" id="3622463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622469"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622472">.</span><span class="builtinfunc" id="3622473">append</span><span class="op" id="3622479">(</span><span class="string" id="3622480">&#39;.&#39;</span><span class="op" id="3622483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622489"><a href="/path/filepath/path.go.html#3621756">dotdot</a></span>&nbsp;<span class="op" id="3622496">=</span>&nbsp;<span class="ident" id="3622498"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622501">.</span><span class="ident" id="3622502">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3622507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622511">default</span><span class="op" id="3622518">:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3622523">//&nbsp;real&nbsp;path&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3622548">//&nbsp;add&nbsp;slash&nbsp;if&nbsp;needed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622574">if</span>&nbsp;<span class="ident" id="3622577"><a href="/path/filepath/path.go.html#3621371">rooted</a></span>&nbsp;<span class="op" id="3622584">&amp;&amp;</span>&nbsp;<span class="ident" id="3622587"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622590">.</span><span class="ident" id="3622591">w</span>&nbsp;<span class="op" id="3622593">!=</span>&nbsp;<span class="num" id="3622596">1</span>&nbsp;<span class="op" id="3622598">||</span>&nbsp;<span class="op" id="3622601">!</span><span class="ident" id="3622602"><a href="/path/filepath/path.go.html#3621371">rooted</a></span>&nbsp;<span class="op" id="3622609">&amp;&amp;</span>&nbsp;<span class="ident" id="3622612"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622615">.</span><span class="ident" id="3622616">w</span>&nbsp;<span class="op" id="3622618">!=</span>&nbsp;<span class="num" id="3622621">0</span>&nbsp;<span class="op" id="3622623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622629"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622632">.</span><span class="builtinfunc" id="3622633">append</span><span class="op" id="3622639">(</span><span class="ident" id="3622640"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><span class="op" id="3622649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3622654">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3622659">//&nbsp;copy&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622678">for</span>&nbsp;<span class="op" id="3622682">;</span>&nbsp;<span class="ident" id="3622684"><a href="/path/filepath/path.go.html#3621753">r</a></span>&nbsp;<span class="op" id="3622686">&lt;</span>&nbsp;<span class="ident" id="3622688"><a href="/path/filepath/path.go.html#3621667">n</a></span>&nbsp;<span class="op" id="3622690">&amp;&amp;</span>&nbsp;<span class="op" id="3622693">!</span><span class="ident" id="3622694"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3622696">.</span><span class="ident" id="3622697">IsPathSeparator</span><span class="op" id="3622712">(</span><span class="ident" id="3622713"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3622717">[</span><span class="ident" id="3622718"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3622719">]</span><span class="op" id="3622720">)</span><span class="op" id="3622721">;</span>&nbsp;<span class="ident" id="3622723"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3622724">++</span>&nbsp;<span class="op" id="3622727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622733"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622736">.</span><span class="builtinfunc" id="3622737">append</span><span class="op" id="3622743">(</span><span class="ident" id="3622744"><a href="/path/filepath/path.go.html#3621123">path</a></span><span class="op" id="3622748">[</span><span class="ident" id="3622749"><a href="/path/filepath/path.go.html#3621753">r</a></span><span class="op" id="3622750">]</span><span class="op" id="3622751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3622756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3622760">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3622763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3622767">//&nbsp;Turn&nbsp;empty&nbsp;string&nbsp;into&nbsp;&#34;.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622798">if</span>&nbsp;<span class="ident" id="3622801"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622804">.</span><span class="ident" id="3622805">w</span>&nbsp;<span class="op" id="3622807">==</span>&nbsp;<span class="num" id="3622810">0</span>&nbsp;<span class="op" id="3622812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3622816"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622819">.</span><span class="builtinfunc" id="3622820">append</span><span class="op" id="3622826">(</span><span class="string" id="3622827">&#39;.&#39;</span><span class="op" id="3622830">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3622833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3622837">return</span>&nbsp;<span class="ident" id="3622844"><a href="/path/filepath/path.go.html#3623346">FromSlash</a></span><span class="op" id="3622853">(</span><span class="ident" id="3622854"><a href="/path/filepath/path.go.html#3621683">out</a></span><span class="op" id="3622857">.</span><span class="builtintype" id="3622858">string</span><span class="op" id="3622864">(</span><span class="op" id="3622865">)</span><span class="op" id="3622866">)</span><br>
<span class="lineno"></span><span class="op" id="3622868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="3622871">//&nbsp;ToSlash&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;replacing&nbsp;each&nbsp;separator&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="3622939">//&nbsp;in&nbsp;path&nbsp;with&nbsp;a&nbsp;slash&nbsp;(&#39;/&#39;)&nbsp;character.&nbsp;Multiple&nbsp;separators&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="3623004">//&nbsp;replaced&nbsp;by&nbsp;multiple&nbsp;slashes.</span><br>
<span class="lineno"></span><span class="keyword" id="3623037">func</span>&nbsp;<span class="ident" id="3623042">ToSlash</span><span class="op" id="3623049">(</span><span class="ident" id="3623050">path</span>&nbsp;<span class="builtintype" id="3623055">string</span><span class="op" id="3623061">)</span>&nbsp;<span class="builtintype" id="3623063">string</span>&nbsp;<span class="op" id="3623070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3623073">if</span>&nbsp;<span class="ident" id="3623076"><a href="/path/filepath/path.go.html#3620100">Separator</a></span>&nbsp;<span class="op" id="3623086">==</span>&nbsp;<span class="string" id="3623089">&#39;/&#39;</span>&nbsp;<span class="op" id="3623093">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3623097">return</span>&nbsp;<span class="ident" id="3623104"><a href="/path/filepath/path.go.html#3623050">path</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3623110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3623113">return</span>&nbsp;<span class="ident" id="3623120"><a href="/path/filepath/path.go.html#3619267">strings</a></span><span class="op" id="3623127">.</span><span class="ident" id="3623128">Replace</span><span class="op" id="3623135">(</span><span class="ident" id="3623136"><a href="/path/filepath/path.go.html#3623050">path</a></span><span class="op" id="3623140">,</span>&nbsp;<span class="builtintype" id="3623142">string</span><span class="op" id="3623148">(</span><span class="ident" id="3623149"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><span class="op" id="3623158">)</span><span class="op" id="3623159">,</span>&nbsp;<span class="string" id="3623161">&#34;/&#34;</span><span class="op" id="3623164">,</span>&nbsp;<span class="op" id="3623166">-</span><span class="num" id="3623167">1</span><span class="op" id="3623168">)</span><br>
<span class="lineno"></span><span class="op" id="3623170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="3623173">//&nbsp;FromSlash&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;replacing&nbsp;each&nbsp;slash&nbsp;(&#39;/&#39;)&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="3623245">//&nbsp;in&nbsp;path&nbsp;with&nbsp;a&nbsp;separator&nbsp;character.&nbsp;Multiple&nbsp;slashes&nbsp;are&nbsp;replaced</span><br>
<span class="lineno"></span><span class="comment" id="3623314">//&nbsp;by&nbsp;multiple&nbsp;separators.</span><br>
<span class="lineno"></span><span class="keyword" id="3623341">func</span>&nbsp;<span class="ident" id="3623346">FromSlash</span><span class="op" id="3623355">(</span><span class="ident" id="3623356">path</span>&nbsp;<span class="builtintype" id="3623361">string</span><span class="op" id="3623367">)</span>&nbsp;<span class="builtintype" id="3623369">string</span>&nbsp;<span class="op" id="3623376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3623379">if</span>&nbsp;<span class="ident" id="3623382"><a href="/path/filepath/path.go.html#3620100">Separator</a></span>&nbsp;<span class="op" id="3623392">==</span>&nbsp;<span class="string" id="3623395">&#39;/&#39;</span>&nbsp;<span class="op" id="3623399">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3623403">return</span>&nbsp;<span class="ident" id="3623410"><a href="/path/filepath/path.go.html#3623356">path</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3623416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3623419">return</span>&nbsp;<span class="ident" id="3623426"><a href="/path/filepath/path.go.html#3619267">strings</a></span><span class="op" id="3623433">.</span><span class="ident" id="3623434">Replace</span><span class="op" id="3623441">(</span><span class="ident" id="3623442"><a href="/path/filepath/path.go.html#3623356">path</a></span><span class="op" id="3623446">,</span>&nbsp;<span class="string" id="3623448">&#34;/&#34;</span><span class="op" id="3623451">,</span>&nbsp;<span class="builtintype" id="3623453">string</span><span class="op" id="3623459">(</span><span class="ident" id="3623460"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><span class="op" id="3623469">)</span><span class="op" id="3623470">,</span>&nbsp;<span class="op" id="3623472">-</span><span class="num" id="3623473">1</span><span class="op" id="3623474">)</span><br>
<span class="lineno"></span><span class="op" id="3623476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="3623479">//&nbsp;SplitList&nbsp;splits&nbsp;a&nbsp;list&nbsp;of&nbsp;paths&nbsp;joined&nbsp;by&nbsp;the&nbsp;OS-specific&nbsp;ListSeparator,</span><br>
<span class="lineno"></span><span class="comment" id="3623556">//&nbsp;usually&nbsp;found&nbsp;in&nbsp;PATH&nbsp;or&nbsp;GOPATH&nbsp;environment&nbsp;variables.</span><br>
<span class="lineno"></span><span class="comment" id="3623614">//&nbsp;Unlike&nbsp;strings.Split,&nbsp;SplitList&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice&nbsp;when&nbsp;passed&nbsp;an&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3623701">func</span>&nbsp;<span class="ident" id="3623706">SplitList</span><span class="op" id="3623715">(</span><span class="ident" id="3623716">path</span>&nbsp;<span class="builtintype" id="3623721">string</span><span class="op" id="3623727">)</span>&nbsp;<span class="op" id="3623729">[</span><span class="op" id="3623730">]</span><span class="builtintype" id="3623731">string</span>&nbsp;<span class="op" id="3623738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3623741">return</span>&nbsp;<span class="ident" id="3623748"><a href="/path/filepath/path_unix.go.html#3632794">splitList</a></span><span class="op" id="3623757">(</span><span class="ident" id="3623758"><a href="/path/filepath/path.go.html#3623716">path</a></span><span class="op" id="3623762">)</span><br>
<span class="lineno">180</span><span class="op" id="3623764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3623767">//&nbsp;Split&nbsp;splits&nbsp;path&nbsp;immediately&nbsp;following&nbsp;the&nbsp;final&nbsp;Separator,</span><br>
<span class="lineno"></span><span class="comment" id="3623831">//&nbsp;separating&nbsp;it&nbsp;into&nbsp;a&nbsp;directory&nbsp;and&nbsp;file&nbsp;name&nbsp;component.</span><br>
<span class="lineno"></span><span class="comment" id="3623890">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;Separator&nbsp;in&nbsp;path,&nbsp;Split&nbsp;returns&nbsp;an&nbsp;empty&nbsp;dir</span><br>
<span class="lineno">185</span><span class="comment" id="3623954">//&nbsp;and&nbsp;file&nbsp;set&nbsp;to&nbsp;path.</span><br>
<span class="lineno"></span><span class="comment" id="3623979">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;have&nbsp;the&nbsp;property&nbsp;that&nbsp;path&nbsp;=&nbsp;dir+file.</span><br>
<span class="lineno"></span><span class="keyword" id="3624042">func</span>&nbsp;<span class="ident" id="3624047">Split</span><span class="op" id="3624052">(</span><span class="ident" id="3624053">path</span>&nbsp;<span class="builtintype" id="3624058">string</span><span class="op" id="3624064">)</span>&nbsp;<span class="op" id="3624066">(</span><span class="ident" id="3624067">dir</span><span class="op" id="3624070">,</span>&nbsp;<span class="ident" id="3624072">file</span>&nbsp;<span class="builtintype" id="3624077">string</span><span class="op" id="3624083">)</span>&nbsp;<span class="op" id="3624085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3624088">vol</span>&nbsp;<span class="op" id="3624092">:=</span>&nbsp;<span class="ident" id="3624095"><a href="/path/filepath/path.go.html#3632028">VolumeName</a></span><span class="op" id="3624105">(</span><span class="ident" id="3624106"><a href="/path/filepath/path.go.html#3624053">path</a></span><span class="op" id="3624110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3624113">i</span>&nbsp;<span class="op" id="3624115">:=</span>&nbsp;<span class="builtinfunc" id="3624118">len</span><span class="op" id="3624121">(</span><span class="ident" id="3624122"><a href="/path/filepath/path.go.html#3624053">path</a></span><span class="op" id="3624126">)</span>&nbsp;<span class="op" id="3624128">-</span>&nbsp;<span class="num" id="3624130">1</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624133">for</span>&nbsp;<span class="ident" id="3624137"><a href="/path/filepath/path.go.html#3624113">i</a></span>&nbsp;<span class="op" id="3624139">&gt;=</span>&nbsp;<span class="builtinfunc" id="3624142">len</span><span class="op" id="3624145">(</span><span class="ident" id="3624146"><a href="/path/filepath/path.go.html#3624088">vol</a></span><span class="op" id="3624149">)</span>&nbsp;<span class="op" id="3624151">&amp;&amp;</span>&nbsp;<span class="op" id="3624154">!</span><span class="ident" id="3624155"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3624157">.</span><span class="ident" id="3624158">IsPathSeparator</span><span class="op" id="3624173">(</span><span class="ident" id="3624174"><a href="/path/filepath/path.go.html#3624053">path</a></span><span class="op" id="3624178">[</span><span class="ident" id="3624179"><a href="/path/filepath/path.go.html#3624113">i</a></span><span class="op" id="3624180">]</span><span class="op" id="3624181">)</span>&nbsp;<span class="op" id="3624183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3624187"><a href="/path/filepath/path.go.html#3624113">i</a></span><span class="op" id="3624188">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3624192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624195">return</span>&nbsp;<span class="ident" id="3624202"><a href="/path/filepath/path.go.html#3624053">path</a></span><span class="op" id="3624206">[</span><span class="op" id="3624207">:</span><span class="ident" id="3624208"><a href="/path/filepath/path.go.html#3624113">i</a></span><span class="op" id="3624209">+</span><span class="num" id="3624210">1</span><span class="op" id="3624211">]</span><span class="op" id="3624212">,</span>&nbsp;<span class="ident" id="3624214"><a href="/path/filepath/path.go.html#3624053">path</a></span><span class="op" id="3624218">[</span><span class="ident" id="3624219"><a href="/path/filepath/path.go.html#3624113">i</a></span><span class="op" id="3624220">+</span><span class="num" id="3624221">1</span><span class="op" id="3624222">:</span><span class="op" id="3624223">]</span><br>
<span class="lineno"></span><span class="op" id="3624225">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="3624228">//&nbsp;Join&nbsp;joins&nbsp;any&nbsp;number&nbsp;of&nbsp;path&nbsp;elements&nbsp;into&nbsp;a&nbsp;single&nbsp;path,&nbsp;adding</span><br>
<span class="lineno"></span><span class="comment" id="3624297">//&nbsp;a&nbsp;Separator&nbsp;if&nbsp;necessary.&nbsp;The&nbsp;result&nbsp;is&nbsp;Cleaned,&nbsp;in&nbsp;particular</span><br>
<span class="lineno"></span><span class="comment" id="3624363">//&nbsp;all&nbsp;empty&nbsp;strings&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="keyword" id="3624397">func</span>&nbsp;<span class="ident" id="3624402">Join</span><span class="op" id="3624406">(</span><span class="ident" id="3624407">elem</span>&nbsp;<span class="op" id="3624412">...</span><span class="builtintype" id="3624415">string</span><span class="op" id="3624421">)</span>&nbsp;<span class="builtintype" id="3624423">string</span>&nbsp;<span class="op" id="3624430">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624433">for</span>&nbsp;<span class="ident" id="3624437">i</span><span class="op" id="3624438">,</span>&nbsp;<span class="ident" id="3624440">e</span>&nbsp;<span class="op" id="3624442">:=</span>&nbsp;<span class="keyword" id="3624445">range</span>&nbsp;<span class="ident" id="3624451"><a href="/path/filepath/path.go.html#3624407">elem</a></span>&nbsp;<span class="op" id="3624456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624460">if</span>&nbsp;<span class="ident" id="3624463"><a href="/path/filepath/path.go.html#3624440">e</a></span>&nbsp;<span class="op" id="3624465">!=</span>&nbsp;<span class="string" id="3624468">&#34;&#34;</span>&nbsp;<span class="op" id="3624471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624476">return</span>&nbsp;<span class="ident" id="3624483"><a href="/path/filepath/path.go.html#3621117">Clean</a></span><span class="op" id="3624488">(</span><span class="ident" id="3624489"><a href="/path/filepath/path.go.html#3619267">strings</a></span><span class="op" id="3624496">.</span><span class="ident" id="3624497">Join</span><span class="op" id="3624501">(</span><span class="ident" id="3624502"><a href="/path/filepath/path.go.html#3624407">elem</a></span><span class="op" id="3624506">[</span><span class="ident" id="3624507"><a href="/path/filepath/path.go.html#3624437">i</a></span><span class="op" id="3624508">:</span><span class="op" id="3624509">]</span><span class="op" id="3624510">,</span>&nbsp;<span class="builtintype" id="3624512">string</span><span class="op" id="3624518">(</span><span class="ident" id="3624519"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><span class="op" id="3624528">)</span><span class="op" id="3624529">)</span><span class="op" id="3624530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3624534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3624537">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624540">return</span>&nbsp;<span class="string" id="3624547">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3624550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3624553">//&nbsp;Ext&nbsp;returns&nbsp;the&nbsp;file&nbsp;name&nbsp;extension&nbsp;used&nbsp;by&nbsp;path.</span><br>
<span class="lineno"></span><span class="comment" id="3624606">//&nbsp;The&nbsp;extension&nbsp;is&nbsp;the&nbsp;suffix&nbsp;beginning&nbsp;at&nbsp;the&nbsp;final&nbsp;dot</span><br>
<span class="lineno">210</span><span class="comment" id="3624664">//&nbsp;in&nbsp;the&nbsp;final&nbsp;element&nbsp;of&nbsp;path;&nbsp;it&nbsp;is&nbsp;empty&nbsp;if&nbsp;there&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3624721">//&nbsp;no&nbsp;dot.</span><br>
<span class="lineno"></span><span class="keyword" id="3624732">func</span>&nbsp;<span class="ident" id="3624737">Ext</span><span class="op" id="3624740">(</span><span class="ident" id="3624741">path</span>&nbsp;<span class="builtintype" id="3624746">string</span><span class="op" id="3624752">)</span>&nbsp;<span class="builtintype" id="3624754">string</span>&nbsp;<span class="op" id="3624761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624764">for</span>&nbsp;<span class="ident" id="3624768">i</span>&nbsp;<span class="op" id="3624770">:=</span>&nbsp;<span class="builtinfunc" id="3624773">len</span><span class="op" id="3624776">(</span><span class="ident" id="3624777"><a href="/path/filepath/path.go.html#3624741">path</a></span><span class="op" id="3624781">)</span>&nbsp;<span class="op" id="3624783">-</span>&nbsp;<span class="num" id="3624785">1</span><span class="op" id="3624786">;</span>&nbsp;<span class="ident" id="3624788"><a href="/path/filepath/path.go.html#3624768">i</a></span>&nbsp;<span class="op" id="3624790">&gt;=</span>&nbsp;<span class="num" id="3624793">0</span>&nbsp;<span class="op" id="3624795">&amp;&amp;</span>&nbsp;<span class="op" id="3624798">!</span><span class="ident" id="3624799"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3624801">.</span><span class="ident" id="3624802">IsPathSeparator</span><span class="op" id="3624817">(</span><span class="ident" id="3624818"><a href="/path/filepath/path.go.html#3624741">path</a></span><span class="op" id="3624822">[</span><span class="ident" id="3624823"><a href="/path/filepath/path.go.html#3624768">i</a></span><span class="op" id="3624824">]</span><span class="op" id="3624825">)</span><span class="op" id="3624826">;</span>&nbsp;<span class="ident" id="3624828"><a href="/path/filepath/path.go.html#3624768">i</a></span><span class="op" id="3624829">--</span>&nbsp;<span class="op" id="3624832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624836">if</span>&nbsp;<span class="ident" id="3624839"><a href="/path/filepath/path.go.html#3624741">path</a></span><span class="op" id="3624843">[</span><span class="ident" id="3624844"><a href="/path/filepath/path.go.html#3624768">i</a></span><span class="op" id="3624845">]</span>&nbsp;<span class="op" id="3624847">==</span>&nbsp;<span class="string" id="3624850">&#39;.&#39;</span>&nbsp;<span class="op" id="3624854">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624859">return</span>&nbsp;<span class="ident" id="3624866"><a href="/path/filepath/path.go.html#3624741">path</a></span><span class="op" id="3624870">[</span><span class="ident" id="3624871"><a href="/path/filepath/path.go.html#3624768">i</a></span><span class="op" id="3624872">:</span><span class="op" id="3624873">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3624877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3624880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3624883">return</span>&nbsp;<span class="string" id="3624890">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3624893">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="comment" id="3624896">//&nbsp;EvalSymlinks&nbsp;returns&nbsp;the&nbsp;path&nbsp;name&nbsp;after&nbsp;the&nbsp;evaluation&nbsp;of&nbsp;any&nbsp;symbolic</span><br>
<span class="lineno"></span><span class="comment" id="3624971">//&nbsp;links.</span><br>
<span class="lineno"></span><span class="comment" id="3624981">//&nbsp;If&nbsp;path&nbsp;is&nbsp;relative&nbsp;the&nbsp;result&nbsp;will&nbsp;be&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;directory,</span><br>
<span class="lineno"></span><span class="comment" id="3625058">//&nbsp;unless&nbsp;one&nbsp;of&nbsp;the&nbsp;components&nbsp;is&nbsp;an&nbsp;absolute&nbsp;symbolic&nbsp;link.</span><br>
<span class="lineno">225</span><span class="keyword" id="3625120">func</span>&nbsp;<span class="ident" id="3625125">EvalSymlinks</span><span class="op" id="3625137">(</span><span class="ident" id="3625138">path</span>&nbsp;<span class="builtintype" id="3625143">string</span><span class="op" id="3625149">)</span>&nbsp;<span class="op" id="3625151">(</span><span class="builtintype" id="3625152">string</span><span class="op" id="3625158">,</span>&nbsp;<span class="builtintype" id="3625160">error</span><span class="op" id="3625165">)</span>&nbsp;<span class="op" id="3625167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3625170">return</span>&nbsp;<span class="ident" id="3625177"><a href="/path/filepath/symlink_unix.go.html#3634532">evalSymlinks</a></span><span class="op" id="3625189">(</span><span class="ident" id="3625190"><a href="/path/filepath/path.go.html#3625138">path</a></span><span class="op" id="3625194">)</span><br>
<span class="lineno"></span><span class="op" id="3625196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3625199">//&nbsp;Abs&nbsp;returns&nbsp;an&nbsp;absolute&nbsp;representation&nbsp;of&nbsp;path.</span><br>
<span class="lineno">230</span><span class="comment" id="3625250">//&nbsp;If&nbsp;the&nbsp;path&nbsp;is&nbsp;not&nbsp;absolute&nbsp;it&nbsp;will&nbsp;be&nbsp;joined&nbsp;with&nbsp;the&nbsp;current</span><br>
<span class="lineno"></span><span class="comment" id="3625316">//&nbsp;working&nbsp;directory&nbsp;to&nbsp;turn&nbsp;it&nbsp;into&nbsp;an&nbsp;absolute&nbsp;path.&nbsp;&nbsp;The&nbsp;absolute</span><br>
<span class="lineno"></span><span class="comment" id="3625385">//&nbsp;path&nbsp;name&nbsp;for&nbsp;a&nbsp;given&nbsp;file&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;unique.</span><br>
<span class="lineno"></span><span class="keyword" id="3625447">func</span>&nbsp;<span class="ident" id="3625452">Abs</span><span class="op" id="3625455">(</span><span class="ident" id="3625456">path</span>&nbsp;<span class="builtintype" id="3625461">string</span><span class="op" id="3625467">)</span>&nbsp;<span class="op" id="3625469">(</span><span class="builtintype" id="3625470">string</span><span class="op" id="3625476">,</span>&nbsp;<span class="builtintype" id="3625478">error</span><span class="op" id="3625483">)</span>&nbsp;<span class="op" id="3625485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3625488">return</span>&nbsp;<span class="ident" id="3625495"><a href="/path/filepath/path_unix.go.html#3632927">abs</a></span><span class="op" id="3625498">(</span><span class="ident" id="3625499"><a href="/path/filepath/path.go.html#3625456">path</a></span><span class="op" id="3625503">)</span><br>
<span class="lineno">235</span><span class="op" id="3625505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3625508">func</span>&nbsp;<span class="ident" id="3625513">unixAbs</span><span class="op" id="3625520">(</span><span class="ident" id="3625521">path</span>&nbsp;<span class="builtintype" id="3625526">string</span><span class="op" id="3625532">)</span>&nbsp;<span class="op" id="3625534">(</span><span class="builtintype" id="3625535">string</span><span class="op" id="3625541">,</span>&nbsp;<span class="builtintype" id="3625543">error</span><span class="op" id="3625548">)</span>&nbsp;<span class="op" id="3625550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3625553">if</span>&nbsp;<span class="ident" id="3625556"><a href="/path/filepath/path_unix.go.html#3632421">IsAbs</a></span><span class="op" id="3625561">(</span><span class="ident" id="3625562"><a href="/path/filepath/path.go.html#3625521">path</a></span><span class="op" id="3625566">)</span>&nbsp;<span class="op" id="3625568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3625572">return</span>&nbsp;<span class="ident" id="3625579"><a href="/path/filepath/path.go.html#3621117">Clean</a></span><span class="op" id="3625584">(</span><span class="ident" id="3625585"><a href="/path/filepath/path.go.html#3625521">path</a></span><span class="op" id="3625589">)</span><span class="op" id="3625590">,</span>&nbsp;<span class="ident" id="3625592">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3625597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3625600">wd</span><span class="op" id="3625602">,</span>&nbsp;<span class="ident" id="3625604">err</span>&nbsp;<span class="op" id="3625608">:=</span>&nbsp;<span class="ident" id="3625611"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3625613">.</span><span class="ident" id="3625614">Getwd</span><span class="op" id="3625619">(</span><span class="op" id="3625620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3625623">if</span>&nbsp;<span class="ident" id="3625626"><a href="/path/filepath/path.go.html#3625604">err</a></span>&nbsp;<span class="op" id="3625630">!=</span>&nbsp;<span class="ident" id="3625633">nil</span>&nbsp;<span class="op" id="3625637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3625641">return</span>&nbsp;<span class="string" id="3625648">&#34;&#34;</span><span class="op" id="3625650">,</span>&nbsp;<span class="ident" id="3625652"><a href="/path/filepath/path.go.html#3625604">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3625657">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3625660">return</span>&nbsp;<span class="ident" id="3625667"><a href="/path/filepath/path.go.html#3624402">Join</a></span><span class="op" id="3625671">(</span><span class="ident" id="3625672"><a href="/path/filepath/path.go.html#3625600">wd</a></span><span class="op" id="3625674">,</span>&nbsp;<span class="ident" id="3625676"><a href="/path/filepath/path.go.html#3625521">path</a></span><span class="op" id="3625680">)</span><span class="op" id="3625681">,</span>&nbsp;<span class="ident" id="3625683">nil</span><br>
<span class="lineno"></span><span class="op" id="3625687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3625690">//&nbsp;Rel&nbsp;returns&nbsp;a&nbsp;relative&nbsp;path&nbsp;that&nbsp;is&nbsp;lexically&nbsp;equivalent&nbsp;to&nbsp;targpath&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="3625767">//&nbsp;joined&nbsp;to&nbsp;basepath&nbsp;with&nbsp;an&nbsp;intervening&nbsp;separator.&nbsp;That&nbsp;is,</span><br>
<span class="lineno">250</span><span class="comment" id="3625829">//&nbsp;Join(basepath,&nbsp;Rel(basepath,&nbsp;targpath))&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;targpath&nbsp;itself.</span><br>
<span class="lineno"></span><span class="comment" id="3625906">//&nbsp;On&nbsp;success,&nbsp;the&nbsp;returned&nbsp;path&nbsp;will&nbsp;always&nbsp;be&nbsp;relative&nbsp;to&nbsp;basepath,</span><br>
<span class="lineno"></span><span class="comment" id="3625976">//&nbsp;even&nbsp;if&nbsp;basepath&nbsp;and&nbsp;targpath&nbsp;share&nbsp;no&nbsp;elements.</span><br>
<span class="lineno"></span><span class="comment" id="3626028">//&nbsp;An&nbsp;error&nbsp;is&nbsp;returned&nbsp;if&nbsp;targpath&nbsp;can&#39;t&nbsp;be&nbsp;made&nbsp;relative&nbsp;to&nbsp;basepath&nbsp;or&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="3626105">//&nbsp;knowing&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;would&nbsp;be&nbsp;necessary&nbsp;to&nbsp;compute&nbsp;it.</span><br>
<span class="lineno">255</span><span class="keyword" id="3626180">func</span>&nbsp;<span class="ident" id="3626185">Rel</span><span class="op" id="3626188">(</span><span class="ident" id="3626189">basepath</span><span class="op" id="3626197">,</span>&nbsp;<span class="ident" id="3626199">targpath</span>&nbsp;<span class="builtintype" id="3626208">string</span><span class="op" id="3626214">)</span>&nbsp;<span class="op" id="3626216">(</span><span class="builtintype" id="3626217">string</span><span class="op" id="3626223">,</span>&nbsp;<span class="builtintype" id="3626225">error</span><span class="op" id="3626230">)</span>&nbsp;<span class="op" id="3626232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626235">baseVol</span>&nbsp;<span class="op" id="3626243">:=</span>&nbsp;<span class="ident" id="3626246"><a href="/path/filepath/path.go.html#3632028">VolumeName</a></span><span class="op" id="3626256">(</span><span class="ident" id="3626257"><a href="/path/filepath/path.go.html#3626189">basepath</a></span><span class="op" id="3626265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626268">targVol</span>&nbsp;<span class="op" id="3626276">:=</span>&nbsp;<span class="ident" id="3626279"><a href="/path/filepath/path.go.html#3632028">VolumeName</a></span><span class="op" id="3626289">(</span><span class="ident" id="3626290"><a href="/path/filepath/path.go.html#3626199">targpath</a></span><span class="op" id="3626298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626301">base</span>&nbsp;<span class="op" id="3626306">:=</span>&nbsp;<span class="ident" id="3626309"><a href="/path/filepath/path.go.html#3621117">Clean</a></span><span class="op" id="3626314">(</span><span class="ident" id="3626315"><a href="/path/filepath/path.go.html#3626189">basepath</a></span><span class="op" id="3626323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626326">targ</span>&nbsp;<span class="op" id="3626331">:=</span>&nbsp;<span class="ident" id="3626334"><a href="/path/filepath/path.go.html#3621117">Clean</a></span><span class="op" id="3626339">(</span><span class="ident" id="3626340"><a href="/path/filepath/path.go.html#3626199">targpath</a></span><span class="op" id="3626348">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3626351">if</span>&nbsp;<span class="ident" id="3626354"><a href="/path/filepath/path.go.html#3626326">targ</a></span>&nbsp;<span class="op" id="3626359">==</span>&nbsp;<span class="ident" id="3626362"><a href="/path/filepath/path.go.html#3626301">base</a></span>&nbsp;<span class="op" id="3626367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3626371">return</span>&nbsp;<span class="string" id="3626378">&#34;.&#34;</span><span class="op" id="3626381">,</span>&nbsp;<span class="ident" id="3626383">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3626388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626391"><a href="/path/filepath/path.go.html#3626301">base</a></span>&nbsp;<span class="op" id="3626396">=</span>&nbsp;<span class="ident" id="3626398"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3626402">[</span><span class="builtinfunc" id="3626403">len</span><span class="op" id="3626406">(</span><span class="ident" id="3626407"><a href="/path/filepath/path.go.html#3626235">baseVol</a></span><span class="op" id="3626414">)</span><span class="op" id="3626415">:</span><span class="op" id="3626416">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626419"><a href="/path/filepath/path.go.html#3626326">targ</a></span>&nbsp;<span class="op" id="3626424">=</span>&nbsp;<span class="ident" id="3626426"><a href="/path/filepath/path.go.html#3626326">targ</a></span><span class="op" id="3626430">[</span><span class="builtinfunc" id="3626431">len</span><span class="op" id="3626434">(</span><span class="ident" id="3626435"><a href="/path/filepath/path.go.html#3626268">targVol</a></span><span class="op" id="3626442">)</span><span class="op" id="3626443">:</span><span class="op" id="3626444">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3626447">if</span>&nbsp;<span class="ident" id="3626450"><a href="/path/filepath/path.go.html#3626301">base</a></span>&nbsp;<span class="op" id="3626455">==</span>&nbsp;<span class="string" id="3626458">&#34;.&#34;</span>&nbsp;<span class="op" id="3626462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626466"><a href="/path/filepath/path.go.html#3626301">base</a></span>&nbsp;<span class="op" id="3626471">=</span>&nbsp;<span class="string" id="3626473">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3626477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3626480">//&nbsp;Can&#39;t&nbsp;use&nbsp;IsAbs&nbsp;-&nbsp;`\a`&nbsp;and&nbsp;`a`&nbsp;are&nbsp;both&nbsp;relative&nbsp;in&nbsp;Windows.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626545">baseSlashed</span>&nbsp;<span class="op" id="3626557">:=</span>&nbsp;<span class="builtinfunc" id="3626560">len</span><span class="op" id="3626563">(</span><span class="ident" id="3626564"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3626568">)</span>&nbsp;<span class="op" id="3626570">&gt;</span>&nbsp;<span class="num" id="3626572">0</span>&nbsp;<span class="op" id="3626574">&amp;&amp;</span>&nbsp;<span class="ident" id="3626577"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3626581">[</span><span class="num" id="3626582">0</span><span class="op" id="3626583">]</span>&nbsp;<span class="op" id="3626585">==</span>&nbsp;<span class="ident" id="3626588"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626599">targSlashed</span>&nbsp;<span class="op" id="3626611">:=</span>&nbsp;<span class="builtinfunc" id="3626614">len</span><span class="op" id="3626617">(</span><span class="ident" id="3626618"><a href="/path/filepath/path.go.html#3626326">targ</a></span><span class="op" id="3626622">)</span>&nbsp;<span class="op" id="3626624">&gt;</span>&nbsp;<span class="num" id="3626626">0</span>&nbsp;<span class="op" id="3626628">&amp;&amp;</span>&nbsp;<span class="ident" id="3626631"><a href="/path/filepath/path.go.html#3626326">targ</a></span><span class="op" id="3626635">[</span><span class="num" id="3626636">0</span><span class="op" id="3626637">]</span>&nbsp;<span class="op" id="3626639">==</span>&nbsp;<span class="ident" id="3626642"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3626653">if</span>&nbsp;<span class="ident" id="3626656"><a href="/path/filepath/path.go.html#3626545">baseSlashed</a></span>&nbsp;<span class="op" id="3626668">!=</span>&nbsp;<span class="ident" id="3626671"><a href="/path/filepath/path.go.html#3626599">targSlashed</a></span>&nbsp;<span class="op" id="3626683">||</span>&nbsp;<span class="ident" id="3626686"><a href="/path/filepath/path.go.html#3626235">baseVol</a></span>&nbsp;<span class="op" id="3626694">!=</span>&nbsp;<span class="ident" id="3626697"><a href="/path/filepath/path.go.html#3626268">targVol</a></span>&nbsp;<span class="op" id="3626705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3626709">return</span>&nbsp;<span class="string" id="3626716">&#34;&#34;</span><span class="op" id="3626718">,</span>&nbsp;<span class="ident" id="3626720"><a href="/path/filepath/path.go.html#3619243">errors</a></span><span class="op" id="3626726">.</span><span class="ident" id="3626727">New</span><span class="op" id="3626730">(</span><span class="string" id="3626731">&#34;Rel:&nbsp;can&#39;t&nbsp;make&nbsp;&#34;</span>&nbsp;<span class="op" id="3626750">+</span>&nbsp;<span class="ident" id="3626752"><a href="/path/filepath/path.go.html#3626326">targ</a></span>&nbsp;<span class="op" id="3626757">+</span>&nbsp;<span class="string" id="3626759">&#34;&nbsp;relative&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="3626775">+</span>&nbsp;<span class="ident" id="3626777"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3626781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3626784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3626787">//&nbsp;Position&nbsp;base[b0:bi]&nbsp;and&nbsp;targ[t0:ti]&nbsp;at&nbsp;the&nbsp;first&nbsp;differing&nbsp;elements.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626861">bl</span>&nbsp;<span class="op" id="3626864">:=</span>&nbsp;<span class="builtinfunc" id="3626867">len</span><span class="op" id="3626870">(</span><span class="ident" id="3626871"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3626875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626878">tl</span>&nbsp;<span class="op" id="3626881">:=</span>&nbsp;<span class="builtinfunc" id="3626884">len</span><span class="op" id="3626887">(</span><span class="ident" id="3626888"><a href="/path/filepath/path.go.html#3626326">targ</a></span><span class="op" id="3626892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3626895">var</span>&nbsp;<span class="ident" id="3626899">b0</span><span class="op" id="3626901">,</span>&nbsp;<span class="ident" id="3626903">bi</span><span class="op" id="3626905">,</span>&nbsp;<span class="ident" id="3626907">t0</span><span class="op" id="3626909">,</span>&nbsp;<span class="ident" id="3626911">ti</span>&nbsp;<span class="builtintype" id="3626914">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3626919">for</span>&nbsp;<span class="op" id="3626923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3626927">for</span>&nbsp;<span class="ident" id="3626931"><a href="/path/filepath/path.go.html#3626903">bi</a></span>&nbsp;<span class="op" id="3626934">&lt;</span>&nbsp;<span class="ident" id="3626936"><a href="/path/filepath/path.go.html#3626861">bl</a></span>&nbsp;<span class="op" id="3626939">&amp;&amp;</span>&nbsp;<span class="ident" id="3626942"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3626946">[</span><span class="ident" id="3626947"><a href="/path/filepath/path.go.html#3626903">bi</a></span><span class="op" id="3626949">]</span>&nbsp;<span class="op" id="3626951">!=</span>&nbsp;<span class="ident" id="3626954"><a href="/path/filepath/path.go.html#3620100">Separator</a></span>&nbsp;<span class="op" id="3626964">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3626969"><a href="/path/filepath/path.go.html#3626903">bi</a></span><span class="op" id="3626971">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3626976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3626980">for</span>&nbsp;<span class="ident" id="3626984"><a href="/path/filepath/path.go.html#3626911">ti</a></span>&nbsp;<span class="op" id="3626987">&lt;</span>&nbsp;<span class="ident" id="3626989"><a href="/path/filepath/path.go.html#3626878">tl</a></span>&nbsp;<span class="op" id="3626992">&amp;&amp;</span>&nbsp;<span class="ident" id="3626995"><a href="/path/filepath/path.go.html#3626326">targ</a></span><span class="op" id="3626999">[</span><span class="ident" id="3627000"><a href="/path/filepath/path.go.html#3626911">ti</a></span><span class="op" id="3627002">]</span>&nbsp;<span class="op" id="3627004">!=</span>&nbsp;<span class="ident" id="3627007"><a href="/path/filepath/path.go.html#3620100">Separator</a></span>&nbsp;<span class="op" id="3627017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627022"><a href="/path/filepath/path.go.html#3626911">ti</a></span><span class="op" id="3627024">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627029">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627033">if</span>&nbsp;<span class="ident" id="3627036"><a href="/path/filepath/path.go.html#3626326">targ</a></span><span class="op" id="3627040">[</span><span class="ident" id="3627041"><a href="/path/filepath/path.go.html#3626907">t0</a></span><span class="op" id="3627043">:</span><span class="ident" id="3627044"><a href="/path/filepath/path.go.html#3626911">ti</a></span><span class="op" id="3627046">]</span>&nbsp;<span class="op" id="3627048">!=</span>&nbsp;<span class="ident" id="3627051"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3627055">[</span><span class="ident" id="3627056"><a href="/path/filepath/path.go.html#3626899">b0</a></span><span class="op" id="3627058">:</span><span class="ident" id="3627059"><a href="/path/filepath/path.go.html#3626903">bi</a></span><span class="op" id="3627061">]</span>&nbsp;<span class="op" id="3627063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627068">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627080">if</span>&nbsp;<span class="ident" id="3627083"><a href="/path/filepath/path.go.html#3626903">bi</a></span>&nbsp;<span class="op" id="3627086">&lt;</span>&nbsp;<span class="ident" id="3627088"><a href="/path/filepath/path.go.html#3626861">bl</a></span>&nbsp;<span class="op" id="3627091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627096"><a href="/path/filepath/path.go.html#3626903">bi</a></span><span class="op" id="3627098">++</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627107">if</span>&nbsp;<span class="ident" id="3627110"><a href="/path/filepath/path.go.html#3626911">ti</a></span>&nbsp;<span class="op" id="3627113">&lt;</span>&nbsp;<span class="ident" id="3627115"><a href="/path/filepath/path.go.html#3626878">tl</a></span>&nbsp;<span class="op" id="3627118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627123"><a href="/path/filepath/path.go.html#3626911">ti</a></span><span class="op" id="3627125">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627134"><a href="/path/filepath/path.go.html#3626899">b0</a></span>&nbsp;<span class="op" id="3627137">=</span>&nbsp;<span class="ident" id="3627139"><a href="/path/filepath/path.go.html#3626903">bi</a></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627144"><a href="/path/filepath/path.go.html#3626907">t0</a></span>&nbsp;<span class="op" id="3627147">=</span>&nbsp;<span class="ident" id="3627149"><a href="/path/filepath/path.go.html#3626911">ti</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627156">if</span>&nbsp;<span class="ident" id="3627159"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3627163">[</span><span class="ident" id="3627164"><a href="/path/filepath/path.go.html#3626899">b0</a></span><span class="op" id="3627166">:</span><span class="ident" id="3627167"><a href="/path/filepath/path.go.html#3626903">bi</a></span><span class="op" id="3627169">]</span>&nbsp;<span class="op" id="3627171">==</span>&nbsp;<span class="string" id="3627174">&#34;..&#34;</span>&nbsp;<span class="op" id="3627179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627183">return</span>&nbsp;<span class="string" id="3627190">&#34;&#34;</span><span class="op" id="3627192">,</span>&nbsp;<span class="ident" id="3627194"><a href="/path/filepath/path.go.html#3619243">errors</a></span><span class="op" id="3627200">.</span><span class="ident" id="3627201">New</span><span class="op" id="3627204">(</span><span class="string" id="3627205">&#34;Rel:&nbsp;can&#39;t&nbsp;make&nbsp;&#34;</span>&nbsp;<span class="op" id="3627224">+</span>&nbsp;<span class="ident" id="3627226"><a href="/path/filepath/path.go.html#3626326">targ</a></span>&nbsp;<span class="op" id="3627231">+</span>&nbsp;<span class="string" id="3627233">&#34;&nbsp;relative&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="3627249">+</span>&nbsp;<span class="ident" id="3627251"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3627255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627258">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627261">if</span>&nbsp;<span class="ident" id="3627264"><a href="/path/filepath/path.go.html#3626899">b0</a></span>&nbsp;<span class="op" id="3627267">!=</span>&nbsp;<span class="ident" id="3627270"><a href="/path/filepath/path.go.html#3626861">bl</a></span>&nbsp;<span class="op" id="3627273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3627277">//&nbsp;Base&nbsp;elements&nbsp;left.&nbsp;Must&nbsp;go&nbsp;up&nbsp;before&nbsp;going&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627332">seps</span>&nbsp;<span class="op" id="3627337">:=</span>&nbsp;<span class="ident" id="3627340"><a href="/path/filepath/path.go.html#3619267">strings</a></span><span class="op" id="3627347">.</span><span class="ident" id="3627348">Count</span><span class="op" id="3627353">(</span><span class="ident" id="3627354"><a href="/path/filepath/path.go.html#3626301">base</a></span><span class="op" id="3627358">[</span><span class="ident" id="3627359"><a href="/path/filepath/path.go.html#3626899">b0</a></span><span class="op" id="3627361">:</span><span class="ident" id="3627362"><a href="/path/filepath/path.go.html#3626861">bl</a></span><span class="op" id="3627364">]</span><span class="op" id="3627365">,</span>&nbsp;<span class="builtintype" id="3627367">string</span><span class="op" id="3627373">(</span><span class="ident" id="3627374"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><span class="op" id="3627383">)</span><span class="op" id="3627384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627388">size</span>&nbsp;<span class="op" id="3627393">:=</span>&nbsp;<span class="num" id="3627396">2</span>&nbsp;<span class="op" id="3627398">+</span>&nbsp;<span class="ident" id="3627400"><a href="/path/filepath/path.go.html#3627332">seps</a></span><span class="op" id="3627404">*</span><span class="num" id="3627405">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627409">if</span>&nbsp;<span class="ident" id="3627412"><a href="/path/filepath/path.go.html#3626878">tl</a></span>&nbsp;<span class="op" id="3627415">!=</span>&nbsp;<span class="ident" id="3627418"><a href="/path/filepath/path.go.html#3626907">t0</a></span>&nbsp;<span class="op" id="3627421">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627426"><a href="/path/filepath/path.go.html#3627388">size</a></span>&nbsp;<span class="op" id="3627431">+=</span>&nbsp;<span class="num" id="3627434">1</span>&nbsp;<span class="op" id="3627436">+</span>&nbsp;<span class="ident" id="3627438"><a href="/path/filepath/path.go.html#3626878">tl</a></span>&nbsp;<span class="op" id="3627441">-</span>&nbsp;<span class="ident" id="3627443"><a href="/path/filepath/path.go.html#3626907">t0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627452">buf</span>&nbsp;<span class="op" id="3627456">:=</span>&nbsp;<span class="builtinfunc" id="3627459">make</span><span class="op" id="3627463">(</span><span class="op" id="3627464">[</span><span class="op" id="3627465">]</span><span class="builtintype" id="3627466">byte</span><span class="op" id="3627470">,</span>&nbsp;<span class="ident" id="3627472"><a href="/path/filepath/path.go.html#3627388">size</a></span><span class="op" id="3627476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627480">n</span>&nbsp;<span class="op" id="3627482">:=</span>&nbsp;<span class="builtinfunc" id="3627485">copy</span><span class="op" id="3627489">(</span><span class="ident" id="3627490"><a href="/path/filepath/path.go.html#3627452">buf</a></span><span class="op" id="3627493">,</span>&nbsp;<span class="string" id="3627495">&#34;..&#34;</span><span class="op" id="3627499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627503">for</span>&nbsp;<span class="ident" id="3627507">i</span>&nbsp;<span class="op" id="3627509">:=</span>&nbsp;<span class="num" id="3627512">0</span><span class="op" id="3627513">;</span>&nbsp;<span class="ident" id="3627515"><a href="/path/filepath/path.go.html#3627507">i</a></span>&nbsp;<span class="op" id="3627517">&lt;</span>&nbsp;<span class="ident" id="3627519"><a href="/path/filepath/path.go.html#3627332">seps</a></span><span class="op" id="3627523">;</span>&nbsp;<span class="ident" id="3627525"><a href="/path/filepath/path.go.html#3627507">i</a></span><span class="op" id="3627526">++</span>&nbsp;<span class="op" id="3627529">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627534"><a href="/path/filepath/path.go.html#3627452">buf</a></span><span class="op" id="3627537">[</span><span class="ident" id="3627538"><a href="/path/filepath/path.go.html#3627480">n</a></span><span class="op" id="3627539">]</span>&nbsp;<span class="op" id="3627541">=</span>&nbsp;<span class="ident" id="3627543"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3627556">copy</span><span class="op" id="3627560">(</span><span class="ident" id="3627561"><a href="/path/filepath/path.go.html#3627452">buf</a></span><span class="op" id="3627564">[</span><span class="ident" id="3627565"><a href="/path/filepath/path.go.html#3627480">n</a></span><span class="op" id="3627566">+</span><span class="num" id="3627567">1</span><span class="op" id="3627568">:</span><span class="op" id="3627569">]</span><span class="op" id="3627570">,</span>&nbsp;<span class="string" id="3627572">&#34;..&#34;</span><span class="op" id="3627576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627581"><a href="/path/filepath/path.go.html#3627480">n</a></span>&nbsp;<span class="op" id="3627583">+=</span>&nbsp;<span class="num" id="3627586">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627594">if</span>&nbsp;<span class="ident" id="3627597"><a href="/path/filepath/path.go.html#3626907">t0</a></span>&nbsp;<span class="op" id="3627600">!=</span>&nbsp;<span class="ident" id="3627603"><a href="/path/filepath/path.go.html#3626878">tl</a></span>&nbsp;<span class="op" id="3627606">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3627611"><a href="/path/filepath/path.go.html#3627452">buf</a></span><span class="op" id="3627614">[</span><span class="ident" id="3627615"><a href="/path/filepath/path.go.html#3627480">n</a></span><span class="op" id="3627616">]</span>&nbsp;<span class="op" id="3627618">=</span>&nbsp;<span class="ident" id="3627620"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3627633">copy</span><span class="op" id="3627637">(</span><span class="ident" id="3627638"><a href="/path/filepath/path.go.html#3627452">buf</a></span><span class="op" id="3627641">[</span><span class="ident" id="3627642"><a href="/path/filepath/path.go.html#3627480">n</a></span><span class="op" id="3627643">+</span><span class="num" id="3627644">1</span><span class="op" id="3627645">:</span><span class="op" id="3627646">]</span><span class="op" id="3627647">,</span>&nbsp;<span class="ident" id="3627649"><a href="/path/filepath/path.go.html#3626326">targ</a></span><span class="op" id="3627653">[</span><span class="ident" id="3627654"><a href="/path/filepath/path.go.html#3626907">t0</a></span><span class="op" id="3627656">:</span><span class="op" id="3627657">]</span><span class="op" id="3627658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627666">return</span>&nbsp;<span class="builtintype" id="3627673">string</span><span class="op" id="3627679">(</span><span class="ident" id="3627680"><a href="/path/filepath/path.go.html#3627452">buf</a></span><span class="op" id="3627683">)</span><span class="op" id="3627684">,</span>&nbsp;<span class="ident" id="3627686">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3627691">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3627694">return</span>&nbsp;<span class="ident" id="3627701"><a href="/path/filepath/path.go.html#3626326">targ</a></span><span class="op" id="3627705">[</span><span class="ident" id="3627706"><a href="/path/filepath/path.go.html#3626907">t0</a></span><span class="op" id="3627708">:</span><span class="op" id="3627709">]</span><span class="op" id="3627710">,</span>&nbsp;<span class="ident" id="3627712">nil</span><br>
<span class="lineno"></span><span class="op" id="3627716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3627719">//&nbsp;SkipDir&nbsp;is&nbsp;used&nbsp;as&nbsp;a&nbsp;return&nbsp;value&nbsp;from&nbsp;WalkFuncs&nbsp;to&nbsp;indicate&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3627788">//&nbsp;the&nbsp;directory&nbsp;named&nbsp;in&nbsp;the&nbsp;call&nbsp;is&nbsp;to&nbsp;be&nbsp;skipped.&nbsp;It&nbsp;is&nbsp;not&nbsp;returned</span><br>
<span class="lineno">325</span><span class="comment" id="3627860">//&nbsp;as&nbsp;an&nbsp;error&nbsp;by&nbsp;any&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="3627892">var</span>&nbsp;<span class="ident" id="3627896">SkipDir</span>&nbsp;<span class="op" id="3627904">=</span>&nbsp;<span class="ident" id="3627906"><a href="/path/filepath/path.go.html#3619243">errors</a></span><span class="op" id="3627912">.</span><span class="ident" id="3627913">New</span><span class="op" id="3627916">(</span><span class="string" id="3627917">&#34;skip&nbsp;this&nbsp;directory&#34;</span><span class="op" id="3627938">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3627941">//&nbsp;WalkFunc&nbsp;is&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;function&nbsp;called&nbsp;for&nbsp;each&nbsp;file&nbsp;or&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3628015">//&nbsp;visited&nbsp;by&nbsp;Walk.&nbsp;The&nbsp;path&nbsp;argument&nbsp;contains&nbsp;the&nbsp;argument&nbsp;to&nbsp;Walk&nbsp;as&nbsp;a</span><br>
<span class="lineno">330</span><span class="comment" id="3628088">//&nbsp;prefix;&nbsp;that&nbsp;is,&nbsp;if&nbsp;Walk&nbsp;is&nbsp;called&nbsp;with&nbsp;&#34;dir&#34;,&nbsp;which&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3628159">//&nbsp;containing&nbsp;the&nbsp;file&nbsp;&#34;a&#34;,&nbsp;the&nbsp;walk&nbsp;function&nbsp;will&nbsp;be&nbsp;called&nbsp;with&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="3628234">//&nbsp;&#34;dir/a&#34;.&nbsp;The&nbsp;info&nbsp;argument&nbsp;is&nbsp;the&nbsp;os.FileInfo&nbsp;for&nbsp;the&nbsp;named&nbsp;path.</span><br>
<span class="lineno"></span><span class="comment" id="3628303">//</span><br>
<span class="lineno"></span><span class="comment" id="3628306">//&nbsp;If&nbsp;there&nbsp;was&nbsp;a&nbsp;problem&nbsp;walking&nbsp;to&nbsp;the&nbsp;file&nbsp;or&nbsp;directory&nbsp;named&nbsp;by&nbsp;path,&nbsp;the</span><br>
<span class="lineno">335</span><span class="comment" id="3628384">//&nbsp;incoming&nbsp;error&nbsp;will&nbsp;describe&nbsp;the&nbsp;problem&nbsp;and&nbsp;the&nbsp;function&nbsp;can&nbsp;decide&nbsp;how</span><br>
<span class="lineno"></span><span class="comment" id="3628460">//&nbsp;to&nbsp;handle&nbsp;that&nbsp;error&nbsp;(and&nbsp;Walk&nbsp;will&nbsp;not&nbsp;descend&nbsp;into&nbsp;that&nbsp;directory).&nbsp;If</span><br>
<span class="lineno"></span><span class="comment" id="3628536">//&nbsp;an&nbsp;error&nbsp;is&nbsp;returned,&nbsp;processing&nbsp;stops.&nbsp;The&nbsp;sole&nbsp;exception&nbsp;is&nbsp;that&nbsp;if&nbsp;path</span><br>
<span class="lineno"></span><span class="comment" id="3628614">//&nbsp;is&nbsp;a&nbsp;directory&nbsp;and&nbsp;the&nbsp;function&nbsp;returns&nbsp;the&nbsp;special&nbsp;value&nbsp;SkipDir,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3628688">//&nbsp;contents&nbsp;of&nbsp;the&nbsp;directory&nbsp;are&nbsp;skipped&nbsp;and&nbsp;processing&nbsp;continues&nbsp;as&nbsp;usual&nbsp;on</span><br>
<span class="lineno">340</span><span class="comment" id="3628766">//&nbsp;the&nbsp;next&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="3628784">type</span>&nbsp;<span class="ident" id="3628789">WalkFunc</span>&nbsp;<span class="keyword" id="3628798">func</span><span class="op" id="3628802">(</span><span class="ident" id="3628803">path</span>&nbsp;<span class="builtintype" id="3628808">string</span><span class="op" id="3628814">,</span>&nbsp;<span class="ident" id="3628816">info</span>&nbsp;<span class="ident" id="3628821"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3628823">.</span><span class="ident" id="3628824">FileInfo</span><span class="op" id="3628832">,</span>&nbsp;<span class="ident" id="3628834">err</span>&nbsp;<span class="builtintype" id="3628838">error</span><span class="op" id="3628843">)</span>&nbsp;<span class="builtintype" id="3628845">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3628852">var</span>&nbsp;<span class="ident" id="3628856">lstat</span>&nbsp;<span class="op" id="3628862">=</span>&nbsp;<span class="ident" id="3628864"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3628866">.</span><span class="ident" id="3628867">Lstat</span>&nbsp;<span class="comment" id="3628873">//&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="comment" id="3628889">//&nbsp;walk&nbsp;recursively&nbsp;descends&nbsp;path,&nbsp;calling&nbsp;w.</span><br>
<span class="lineno"></span><span class="keyword" id="3628935">func</span>&nbsp;<span class="ident" id="3628940">walk</span><span class="op" id="3628944">(</span><span class="ident" id="3628945">path</span>&nbsp;<span class="builtintype" id="3628950">string</span><span class="op" id="3628956">,</span>&nbsp;<span class="ident" id="3628958">info</span>&nbsp;<span class="ident" id="3628963"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3628965">.</span><span class="ident" id="3628966">FileInfo</span><span class="op" id="3628974">,</span>&nbsp;<span class="ident" id="3628976">walkFn</span>&nbsp;<span class="ident" id="3628983"><a href="/path/filepath/path.go.html#3628789">WalkFunc</a></span><span class="op" id="3628991">)</span>&nbsp;<span class="builtintype" id="3628993">error</span>&nbsp;<span class="op" id="3628999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3629002">err</span>&nbsp;<span class="op" id="3629006">:=</span>&nbsp;<span class="ident" id="3629009"><a href="/path/filepath/path.go.html#3628976">walkFn</a></span><span class="op" id="3629015">(</span><span class="ident" id="3629016"><a href="/path/filepath/path.go.html#3628945">path</a></span><span class="op" id="3629020">,</span>&nbsp;<span class="ident" id="3629022"><a href="/path/filepath/path.go.html#3628958">info</a></span><span class="op" id="3629026">,</span>&nbsp;<span class="ident" id="3629028">nil</span><span class="op" id="3629031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629034">if</span>&nbsp;<span class="ident" id="3629037"><a href="/path/filepath/path.go.html#3629002">err</a></span>&nbsp;<span class="op" id="3629041">!=</span>&nbsp;<span class="ident" id="3629044">nil</span>&nbsp;<span class="op" id="3629048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629052">if</span>&nbsp;<span class="ident" id="3629055"><a href="/path/filepath/path.go.html#3628958">info</a></span><span class="op" id="3629059">.</span><span class="ident" id="3629060">IsDir</span><span class="op" id="3629065">(</span><span class="op" id="3629066">)</span>&nbsp;<span class="op" id="3629068">&amp;&amp;</span>&nbsp;<span class="ident" id="3629071"><a href="/path/filepath/path.go.html#3629002">err</a></span>&nbsp;<span class="op" id="3629075">==</span>&nbsp;<span class="ident" id="3629078"><a href="/path/filepath/path.go.html#3627896">SkipDir</a></span>&nbsp;<span class="op" id="3629086">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629091">return</span>&nbsp;<span class="ident" id="3629098">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629108">return</span>&nbsp;<span class="ident" id="3629115"><a href="/path/filepath/path.go.html#3629002">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629120">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629124">if</span>&nbsp;<span class="op" id="3629127">!</span><span class="ident" id="3629128"><a href="/path/filepath/path.go.html#3628958">info</a></span><span class="op" id="3629132">.</span><span class="ident" id="3629133">IsDir</span><span class="op" id="3629138">(</span><span class="op" id="3629139">)</span>&nbsp;<span class="op" id="3629141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629145">return</span>&nbsp;<span class="ident" id="3629152">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3629161">names</span><span class="op" id="3629166">,</span>&nbsp;<span class="ident" id="3629168"><a href="/path/filepath/path.go.html#3629002">err</a></span>&nbsp;<span class="op" id="3629172">:=</span>&nbsp;<span class="ident" id="3629175"><a href="/path/filepath/path.go.html#3630286">readDirNames</a></span><span class="op" id="3629187">(</span><span class="ident" id="3629188"><a href="/path/filepath/path.go.html#3628945">path</a></span><span class="op" id="3629192">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629195">if</span>&nbsp;<span class="ident" id="3629198"><a href="/path/filepath/path.go.html#3629002">err</a></span>&nbsp;<span class="op" id="3629202">!=</span>&nbsp;<span class="ident" id="3629205">nil</span>&nbsp;<span class="op" id="3629209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629213">return</span>&nbsp;<span class="ident" id="3629220"><a href="/path/filepath/path.go.html#3628976">walkFn</a></span><span class="op" id="3629226">(</span><span class="ident" id="3629227"><a href="/path/filepath/path.go.html#3628945">path</a></span><span class="op" id="3629231">,</span>&nbsp;<span class="ident" id="3629233"><a href="/path/filepath/path.go.html#3628958">info</a></span><span class="op" id="3629237">,</span>&nbsp;<span class="ident" id="3629239"><a href="/path/filepath/path.go.html#3629002">err</a></span><span class="op" id="3629242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629249">for</span>&nbsp;<span class="ident" id="3629253">_</span><span class="op" id="3629254">,</span>&nbsp;<span class="ident" id="3629256">name</span>&nbsp;<span class="op" id="3629261">:=</span>&nbsp;<span class="keyword" id="3629264">range</span>&nbsp;<span class="ident" id="3629270"><a href="/path/filepath/path.go.html#3629161">names</a></span>&nbsp;<span class="op" id="3629276">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3629280">filename</span>&nbsp;<span class="op" id="3629289">:=</span>&nbsp;<span class="ident" id="3629292"><a href="/path/filepath/path.go.html#3624402">Join</a></span><span class="op" id="3629296">(</span><span class="ident" id="3629297"><a href="/path/filepath/path.go.html#3628945">path</a></span><span class="op" id="3629301">,</span>&nbsp;<span class="ident" id="3629303"><a href="/path/filepath/path.go.html#3629256">name</a></span><span class="op" id="3629307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3629311">fileInfo</span><span class="op" id="3629319">,</span>&nbsp;<span class="ident" id="3629321">err</span>&nbsp;<span class="op" id="3629325">:=</span>&nbsp;<span class="ident" id="3629328"><a href="/path/filepath/path.go.html#3628856">lstat</a></span><span class="op" id="3629333">(</span><span class="ident" id="3629334"><a href="/path/filepath/path.go.html#3629280">filename</a></span><span class="op" id="3629342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629346">if</span>&nbsp;<span class="ident" id="3629349"><a href="/path/filepath/path.go.html#3629321">err</a></span>&nbsp;<span class="op" id="3629353">!=</span>&nbsp;<span class="ident" id="3629356">nil</span>&nbsp;<span class="op" id="3629360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629365">if</span>&nbsp;<span class="ident" id="3629368">err</span>&nbsp;<span class="op" id="3629372">:=</span>&nbsp;<span class="ident" id="3629375"><a href="/path/filepath/path.go.html#3628976">walkFn</a></span><span class="op" id="3629381">(</span><span class="ident" id="3629382"><a href="/path/filepath/path.go.html#3629280">filename</a></span><span class="op" id="3629390">,</span>&nbsp;<span class="ident" id="3629392"><a href="/path/filepath/path.go.html#3629311">fileInfo</a></span><span class="op" id="3629400">,</span>&nbsp;<span class="ident" id="3629402"><a href="/path/filepath/path.go.html#3629321">err</a></span><span class="op" id="3629405">)</span><span class="op" id="3629406">;</span>&nbsp;<span class="ident" id="3629408"><a href="/path/filepath/path.go.html#3629368">err</a></span>&nbsp;<span class="op" id="3629412">!=</span>&nbsp;<span class="ident" id="3629415">nil</span>&nbsp;<span class="op" id="3629419">&amp;&amp;</span>&nbsp;<span class="ident" id="3629422"><a href="/path/filepath/path.go.html#3629368">err</a></span>&nbsp;<span class="op" id="3629426">!=</span>&nbsp;<span class="ident" id="3629429"><a href="/path/filepath/path.go.html#3627896">SkipDir</a></span>&nbsp;<span class="op" id="3629437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629443">return</span>&nbsp;<span class="ident" id="3629450"><a href="/path/filepath/path.go.html#3629368">err</a></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629461">}</span>&nbsp;<span class="keyword" id="3629463">else</span>&nbsp;<span class="op" id="3629468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3629473"><a href="/path/filepath/path.go.html#3629321">err</a></span>&nbsp;<span class="op" id="3629477">=</span>&nbsp;<span class="ident" id="3629479"><a href="/path/filepath/path.go.html#3628940">walk</a></span><span class="op" id="3629483">(</span><span class="ident" id="3629484"><a href="/path/filepath/path.go.html#3629280">filename</a></span><span class="op" id="3629492">,</span>&nbsp;<span class="ident" id="3629494"><a href="/path/filepath/path.go.html#3629311">fileInfo</a></span><span class="op" id="3629502">,</span>&nbsp;<span class="ident" id="3629504"><a href="/path/filepath/path.go.html#3628976">walkFn</a></span><span class="op" id="3629510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629515">if</span>&nbsp;<span class="ident" id="3629518"><a href="/path/filepath/path.go.html#3629321">err</a></span>&nbsp;<span class="op" id="3629522">!=</span>&nbsp;<span class="ident" id="3629525">nil</span>&nbsp;<span class="op" id="3629529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629535">if</span>&nbsp;<span class="op" id="3629538">!</span><span class="ident" id="3629539"><a href="/path/filepath/path.go.html#3629311">fileInfo</a></span><span class="op" id="3629547">.</span><span class="ident" id="3629548">IsDir</span><span class="op" id="3629553">(</span><span class="op" id="3629554">)</span>&nbsp;<span class="op" id="3629556">||</span>&nbsp;<span class="ident" id="3629559"><a href="/path/filepath/path.go.html#3629321">err</a></span>&nbsp;<span class="op" id="3629563">!=</span>&nbsp;<span class="ident" id="3629566"><a href="/path/filepath/path.go.html#3627896">SkipDir</a></span>&nbsp;<span class="op" id="3629574">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629581">return</span>&nbsp;<span class="ident" id="3629588"><a href="/path/filepath/path.go.html#3629321">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3629608">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3629611">return</span>&nbsp;<span class="ident" id="3629618">nil</span><br>
<span class="lineno"></span><span class="op" id="3629622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3629625">//&nbsp;Walk&nbsp;walks&nbsp;the&nbsp;file&nbsp;tree&nbsp;rooted&nbsp;at&nbsp;root,&nbsp;calling&nbsp;walkFn&nbsp;for&nbsp;each&nbsp;file&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3629701">//&nbsp;directory&nbsp;in&nbsp;the&nbsp;tree,&nbsp;including&nbsp;root.&nbsp;All&nbsp;errors&nbsp;that&nbsp;arise&nbsp;visiting&nbsp;files</span><br>
<span class="lineno">385</span><span class="comment" id="3629780">//&nbsp;and&nbsp;directories&nbsp;are&nbsp;filtered&nbsp;by&nbsp;walkFn.&nbsp;The&nbsp;files&nbsp;are&nbsp;walked&nbsp;in&nbsp;lexical</span><br>
<span class="lineno"></span><span class="comment" id="3629855">//&nbsp;order,&nbsp;which&nbsp;makes&nbsp;the&nbsp;output&nbsp;deterministic&nbsp;but&nbsp;means&nbsp;that&nbsp;for&nbsp;very</span><br>
<span class="lineno"></span><span class="comment" id="3629926">//&nbsp;large&nbsp;directories&nbsp;Walk&nbsp;can&nbsp;be&nbsp;inefficient.</span><br>
<span class="lineno"></span><span class="comment" id="3629972">//&nbsp;Walk&nbsp;does&nbsp;not&nbsp;follow&nbsp;symbolic&nbsp;links.</span><br>
<span class="lineno"></span><span class="keyword" id="3630012">func</span>&nbsp;<span class="ident" id="3630017">Walk</span><span class="op" id="3630021">(</span><span class="ident" id="3630022">root</span>&nbsp;<span class="builtintype" id="3630027">string</span><span class="op" id="3630033">,</span>&nbsp;<span class="ident" id="3630035">walkFn</span>&nbsp;<span class="ident" id="3630042"><a href="/path/filepath/path.go.html#3628789">WalkFunc</a></span><span class="op" id="3630050">)</span>&nbsp;<span class="builtintype" id="3630052">error</span>&nbsp;<span class="op" id="3630058">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3630061">info</span><span class="op" id="3630065">,</span>&nbsp;<span class="ident" id="3630067">err</span>&nbsp;<span class="op" id="3630071">:=</span>&nbsp;<span class="ident" id="3630074"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3630076">.</span><span class="ident" id="3630077">Lstat</span><span class="op" id="3630082">(</span><span class="ident" id="3630083"><a href="/path/filepath/path.go.html#3630022">root</a></span><span class="op" id="3630087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630090">if</span>&nbsp;<span class="ident" id="3630093"><a href="/path/filepath/path.go.html#3630067">err</a></span>&nbsp;<span class="op" id="3630097">!=</span>&nbsp;<span class="ident" id="3630100">nil</span>&nbsp;<span class="op" id="3630104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630108">return</span>&nbsp;<span class="ident" id="3630115"><a href="/path/filepath/path.go.html#3630035">walkFn</a></span><span class="op" id="3630121">(</span><span class="ident" id="3630122"><a href="/path/filepath/path.go.html#3630022">root</a></span><span class="op" id="3630126">,</span>&nbsp;<span class="ident" id="3630128">nil</span><span class="op" id="3630131">,</span>&nbsp;<span class="ident" id="3630133"><a href="/path/filepath/path.go.html#3630067">err</a></span><span class="op" id="3630136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3630139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630142">return</span>&nbsp;<span class="ident" id="3630149"><a href="/path/filepath/path.go.html#3628940">walk</a></span><span class="op" id="3630153">(</span><span class="ident" id="3630154"><a href="/path/filepath/path.go.html#3630022">root</a></span><span class="op" id="3630158">,</span>&nbsp;<span class="ident" id="3630160"><a href="/path/filepath/path.go.html#3630061">info</a></span><span class="op" id="3630164">,</span>&nbsp;<span class="ident" id="3630166"><a href="/path/filepath/path.go.html#3630035">walkFn</a></span><span class="op" id="3630172">)</span><br>
<span class="lineno">395</span><span class="op" id="3630174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3630177">//&nbsp;readDirNames&nbsp;reads&nbsp;the&nbsp;directory&nbsp;named&nbsp;by&nbsp;dirname&nbsp;and&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3630242">//&nbsp;a&nbsp;sorted&nbsp;list&nbsp;of&nbsp;directory&nbsp;entries.</span><br>
<span class="lineno"></span><span class="keyword" id="3630281">func</span>&nbsp;<span class="ident" id="3630286">readDirNames</span><span class="op" id="3630298">(</span><span class="ident" id="3630299">dirname</span>&nbsp;<span class="builtintype" id="3630307">string</span><span class="op" id="3630313">)</span>&nbsp;<span class="op" id="3630315">(</span><span class="op" id="3630316">[</span><span class="op" id="3630317">]</span><span class="builtintype" id="3630318">string</span><span class="op" id="3630324">,</span>&nbsp;<span class="builtintype" id="3630326">error</span><span class="op" id="3630331">)</span>&nbsp;<span class="op" id="3630333">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3630336">f</span><span class="op" id="3630337">,</span>&nbsp;<span class="ident" id="3630339">err</span>&nbsp;<span class="op" id="3630343">:=</span>&nbsp;<span class="ident" id="3630346"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3630348">.</span><span class="ident" id="3630349">Open</span><span class="op" id="3630353">(</span><span class="ident" id="3630354"><a href="/path/filepath/path.go.html#3630299">dirname</a></span><span class="op" id="3630361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630364">if</span>&nbsp;<span class="ident" id="3630367"><a href="/path/filepath/path.go.html#3630339">err</a></span>&nbsp;<span class="op" id="3630371">!=</span>&nbsp;<span class="ident" id="3630374">nil</span>&nbsp;<span class="op" id="3630378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630382">return</span>&nbsp;<span class="ident" id="3630389">nil</span><span class="op" id="3630392">,</span>&nbsp;<span class="ident" id="3630394"><a href="/path/filepath/path.go.html#3630339">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3630399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3630402">names</span><span class="op" id="3630407">,</span>&nbsp;<span class="ident" id="3630409"><a href="/path/filepath/path.go.html#3630339">err</a></span>&nbsp;<span class="op" id="3630413">:=</span>&nbsp;<span class="ident" id="3630416"><a href="/path/filepath/path.go.html#3630336">f</a></span><span class="op" id="3630417">.</span><span class="ident" id="3630418">Readdirnames</span><span class="op" id="3630430">(</span><span class="op" id="3630431">-</span><span class="num" id="3630432">1</span><span class="op" id="3630433">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3630436"><a href="/path/filepath/path.go.html#3630336">f</a></span><span class="op" id="3630437">.</span><span class="ident" id="3630438">Close</span><span class="op" id="3630443">(</span><span class="op" id="3630444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630447">if</span>&nbsp;<span class="ident" id="3630450"><a href="/path/filepath/path.go.html#3630339">err</a></span>&nbsp;<span class="op" id="3630454">!=</span>&nbsp;<span class="ident" id="3630457">nil</span>&nbsp;<span class="op" id="3630461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630465">return</span>&nbsp;<span class="ident" id="3630472">nil</span><span class="op" id="3630475">,</span>&nbsp;<span class="ident" id="3630477"><a href="/path/filepath/path.go.html#3630339">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3630482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3630485"><a href="/path/filepath/path.go.html#3619259">sort</a></span><span class="op" id="3630489">.</span><span class="ident" id="3630490">Strings</span><span class="op" id="3630497">(</span><span class="ident" id="3630498"><a href="/path/filepath/path.go.html#3630402">names</a></span><span class="op" id="3630503">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630506">return</span>&nbsp;<span class="ident" id="3630513"><a href="/path/filepath/path.go.html#3630402">names</a></span><span class="op" id="3630518">,</span>&nbsp;<span class="ident" id="3630520">nil</span><br>
<span class="lineno"></span><span class="op" id="3630524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3630527">//&nbsp;Base&nbsp;returns&nbsp;the&nbsp;last&nbsp;element&nbsp;of&nbsp;path.</span><br>
<span class="lineno"></span><span class="comment" id="3630569">//&nbsp;Trailing&nbsp;path&nbsp;separators&nbsp;are&nbsp;removed&nbsp;before&nbsp;extracting&nbsp;the&nbsp;last&nbsp;element.</span><br>
<span class="lineno">415</span><span class="comment" id="3630645">//&nbsp;If&nbsp;the&nbsp;path&nbsp;is&nbsp;empty,&nbsp;Base&nbsp;returns&nbsp;&#34;.&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3630688">//&nbsp;If&nbsp;the&nbsp;path&nbsp;consists&nbsp;entirely&nbsp;of&nbsp;separators,&nbsp;Base&nbsp;returns&nbsp;a&nbsp;single&nbsp;separator.</span><br>
<span class="lineno"></span><span class="keyword" id="3630769">func</span>&nbsp;<span class="ident" id="3630774">Base</span><span class="op" id="3630778">(</span><span class="ident" id="3630779">path</span>&nbsp;<span class="builtintype" id="3630784">string</span><span class="op" id="3630790">)</span>&nbsp;<span class="builtintype" id="3630792">string</span>&nbsp;<span class="op" id="3630799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630802">if</span>&nbsp;<span class="ident" id="3630805"><a href="/path/filepath/path.go.html#3630779">path</a></span>&nbsp;<span class="op" id="3630810">==</span>&nbsp;<span class="string" id="3630813">&#34;&#34;</span>&nbsp;<span class="op" id="3630816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630820">return</span>&nbsp;<span class="string" id="3630827">&#34;.&#34;</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3630832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3630835">//&nbsp;Strip&nbsp;trailing&nbsp;slashes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3630863">for</span>&nbsp;<span class="builtinfunc" id="3630867">len</span><span class="op" id="3630870">(</span><span class="ident" id="3630871"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3630875">)</span>&nbsp;<span class="op" id="3630877">&gt;</span>&nbsp;<span class="num" id="3630879">0</span>&nbsp;<span class="op" id="3630881">&amp;&amp;</span>&nbsp;<span class="ident" id="3630884"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3630886">.</span><span class="ident" id="3630887">IsPathSeparator</span><span class="op" id="3630902">(</span><span class="ident" id="3630903"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3630907">[</span><span class="builtinfunc" id="3630908">len</span><span class="op" id="3630911">(</span><span class="ident" id="3630912"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3630916">)</span><span class="op" id="3630917">-</span><span class="num" id="3630918">1</span><span class="op" id="3630919">]</span><span class="op" id="3630920">)</span>&nbsp;<span class="op" id="3630922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3630926"><a href="/path/filepath/path.go.html#3630779">path</a></span>&nbsp;<span class="op" id="3630931">=</span>&nbsp;<span class="ident" id="3630933"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3630937">[</span><span class="num" id="3630938">0</span>&nbsp;<span class="op" id="3630940">:</span>&nbsp;<span class="builtinfunc" id="3630942">len</span><span class="op" id="3630945">(</span><span class="ident" id="3630946"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3630950">)</span><span class="op" id="3630951">-</span><span class="num" id="3630952">1</span><span class="op" id="3630953">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3630956">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3630959">//&nbsp;Throw&nbsp;away&nbsp;volume&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3630986"><a href="/path/filepath/path.go.html#3630779">path</a></span>&nbsp;<span class="op" id="3630991">=</span>&nbsp;<span class="ident" id="3630993"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3630997">[</span><span class="builtinfunc" id="3630998">len</span><span class="op" id="3631001">(</span><span class="ident" id="3631002"><a href="/path/filepath/path.go.html#3632028">VolumeName</a></span><span class="op" id="3631012">(</span><span class="ident" id="3631013"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3631017">)</span><span class="op" id="3631018">)</span><span class="op" id="3631019">:</span><span class="op" id="3631020">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3631023">//&nbsp;Find&nbsp;the&nbsp;last&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3631049">i</span>&nbsp;<span class="op" id="3631051">:=</span>&nbsp;<span class="builtinfunc" id="3631054">len</span><span class="op" id="3631057">(</span><span class="ident" id="3631058"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3631062">)</span>&nbsp;<span class="op" id="3631064">-</span>&nbsp;<span class="num" id="3631066">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3631069">for</span>&nbsp;<span class="ident" id="3631073"><a href="/path/filepath/path.go.html#3631049">i</a></span>&nbsp;<span class="op" id="3631075">&gt;=</span>&nbsp;<span class="num" id="3631078">0</span>&nbsp;<span class="op" id="3631080">&amp;&amp;</span>&nbsp;<span class="op" id="3631083">!</span><span class="ident" id="3631084"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3631086">.</span><span class="ident" id="3631087">IsPathSeparator</span><span class="op" id="3631102">(</span><span class="ident" id="3631103"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3631107">[</span><span class="ident" id="3631108"><a href="/path/filepath/path.go.html#3631049">i</a></span><span class="op" id="3631109">]</span><span class="op" id="3631110">)</span>&nbsp;<span class="op" id="3631112">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3631116"><a href="/path/filepath/path.go.html#3631049">i</a></span><span class="op" id="3631117">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3631121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3631124">if</span>&nbsp;<span class="ident" id="3631127"><a href="/path/filepath/path.go.html#3631049">i</a></span>&nbsp;<span class="op" id="3631129">&gt;=</span>&nbsp;<span class="num" id="3631132">0</span>&nbsp;<span class="op" id="3631134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3631138"><a href="/path/filepath/path.go.html#3630779">path</a></span>&nbsp;<span class="op" id="3631143">=</span>&nbsp;<span class="ident" id="3631145"><a href="/path/filepath/path.go.html#3630779">path</a></span><span class="op" id="3631149">[</span><span class="ident" id="3631150"><a href="/path/filepath/path.go.html#3631049">i</a></span><span class="op" id="3631151">+</span><span class="num" id="3631152">1</span><span class="op" id="3631153">:</span><span class="op" id="3631154">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3631157">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3631160">//&nbsp;If&nbsp;empty&nbsp;now,&nbsp;it&nbsp;had&nbsp;only&nbsp;slashes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3631199">if</span>&nbsp;<span class="ident" id="3631202"><a href="/path/filepath/path.go.html#3630779">path</a></span>&nbsp;<span class="op" id="3631207">==</span>&nbsp;<span class="string" id="3631210">&#34;&#34;</span>&nbsp;<span class="op" id="3631213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3631217">return</span>&nbsp;<span class="builtintype" id="3631224">string</span><span class="op" id="3631230">(</span><span class="ident" id="3631231"><a href="/path/filepath/path.go.html#3620100">Separator</a></span><span class="op" id="3631240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3631243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3631246">return</span>&nbsp;<span class="ident" id="3631253"><a href="/path/filepath/path.go.html#3630779">path</a></span><br>
<span class="lineno">440</span><span class="op" id="3631258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3631261">//&nbsp;Dir&nbsp;returns&nbsp;all&nbsp;but&nbsp;the&nbsp;last&nbsp;element&nbsp;of&nbsp;path,&nbsp;typically&nbsp;the&nbsp;path&#39;s&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="3631342">//&nbsp;After&nbsp;dropping&nbsp;the&nbsp;final&nbsp;element,&nbsp;the&nbsp;path&nbsp;is&nbsp;Cleaned&nbsp;and&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="3631412">//&nbsp;slashes&nbsp;are&nbsp;removed.</span><br>
<span class="lineno">445</span><span class="comment" id="3631436">//&nbsp;If&nbsp;the&nbsp;path&nbsp;is&nbsp;empty,&nbsp;Dir&nbsp;returns&nbsp;&#34;.&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3631478">//&nbsp;If&nbsp;the&nbsp;path&nbsp;consists&nbsp;entirely&nbsp;of&nbsp;separators,&nbsp;Dir&nbsp;returns&nbsp;a&nbsp;single&nbsp;separator.</span><br>
<span class="lineno"></span><span class="comment" id="3631558">//&nbsp;The&nbsp;returned&nbsp;path&nbsp;does&nbsp;not&nbsp;end&nbsp;in&nbsp;a&nbsp;separator&nbsp;unless&nbsp;it&nbsp;is&nbsp;the&nbsp;root&nbsp;directory.</span><br>
<span class="lineno"></span><span class="keyword" id="3631640">func</span>&nbsp;<span class="ident" id="3631645">Dir</span><span class="op" id="3631648">(</span><span class="ident" id="3631649">path</span>&nbsp;<span class="builtintype" id="3631654">string</span><span class="op" id="3631660">)</span>&nbsp;<span class="builtintype" id="3631662">string</span>&nbsp;<span class="op" id="3631669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3631672">vol</span>&nbsp;<span class="op" id="3631676">:=</span>&nbsp;<span class="ident" id="3631679"><a href="/path/filepath/path.go.html#3632028">VolumeName</a></span><span class="op" id="3631689">(</span><span class="ident" id="3631690"><a href="/path/filepath/path.go.html#3631649">path</a></span><span class="op" id="3631694">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3631697">i</span>&nbsp;<span class="op" id="3631699">:=</span>&nbsp;<span class="builtinfunc" id="3631702">len</span><span class="op" id="3631705">(</span><span class="ident" id="3631706"><a href="/path/filepath/path.go.html#3631649">path</a></span><span class="op" id="3631710">)</span>&nbsp;<span class="op" id="3631712">-</span>&nbsp;<span class="num" id="3631714">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3631717">for</span>&nbsp;<span class="ident" id="3631721"><a href="/path/filepath/path.go.html#3631697">i</a></span>&nbsp;<span class="op" id="3631723">&gt;=</span>&nbsp;<span class="builtinfunc" id="3631726">len</span><span class="op" id="3631729">(</span><span class="ident" id="3631730"><a href="/path/filepath/path.go.html#3631672">vol</a></span><span class="op" id="3631733">)</span>&nbsp;<span class="op" id="3631735">&amp;&amp;</span>&nbsp;<span class="op" id="3631738">!</span><span class="ident" id="3631739"><a href="/path/filepath/path.go.html#3619253">os</a></span><span class="op" id="3631741">.</span><span class="ident" id="3631742">IsPathSeparator</span><span class="op" id="3631757">(</span><span class="ident" id="3631758"><a href="/path/filepath/path.go.html#3631649">path</a></span><span class="op" id="3631762">[</span><span class="ident" id="3631763"><a href="/path/filepath/path.go.html#3631697">i</a></span><span class="op" id="3631764">]</span><span class="op" id="3631765">)</span>&nbsp;<span class="op" id="3631767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3631771"><a href="/path/filepath/path.go.html#3631697">i</a></span><span class="op" id="3631772">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3631776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3631779">dir</span>&nbsp;<span class="op" id="3631783">:=</span>&nbsp;<span class="ident" id="3631786"><a href="/path/filepath/path.go.html#3621117">Clean</a></span><span class="op" id="3631791">(</span><span class="ident" id="3631792"><a href="/path/filepath/path.go.html#3631649">path</a></span><span class="op" id="3631796">[</span><span class="builtinfunc" id="3631797">len</span><span class="op" id="3631800">(</span><span class="ident" id="3631801"><a href="/path/filepath/path.go.html#3631672">vol</a></span><span class="op" id="3631804">)</span>&nbsp;<span class="op" id="3631806">:</span>&nbsp;<span class="ident" id="3631808"><a href="/path/filepath/path.go.html#3631697">i</a></span><span class="op" id="3631809">+</span><span class="num" id="3631810">1</span><span class="op" id="3631811">]</span><span class="op" id="3631812">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3631815">return</span>&nbsp;<span class="ident" id="3631822"><a href="/path/filepath/path.go.html#3631672">vol</a></span>&nbsp;<span class="op" id="3631826">+</span>&nbsp;<span class="ident" id="3631828"><a href="/path/filepath/path.go.html#3631779">dir</a></span><br>
<span class="lineno"></span><span class="op" id="3631832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3631835">//&nbsp;VolumeName&nbsp;returns&nbsp;leading&nbsp;volume&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3631878">//&nbsp;Given&nbsp;&#34;C:\foo\bar&#34;&nbsp;it&nbsp;returns&nbsp;&#34;C:&#34;&nbsp;under&nbsp;windows.</span><br>
<span class="lineno">460</span><span class="comment" id="3631931">//&nbsp;Given&nbsp;&#34;\\host\share\foo&#34;&nbsp;it&nbsp;returns&nbsp;&#34;\\host\share&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3631986">//&nbsp;On&nbsp;other&nbsp;platforms&nbsp;it&nbsp;returns&nbsp;&#34;&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3632023">func</span>&nbsp;<span class="ident" id="3632028">VolumeName</span><span class="op" id="3632038">(</span><span class="ident" id="3632039">path</span>&nbsp;<span class="builtintype" id="3632044">string</span><span class="op" id="3632050">)</span>&nbsp;<span class="op" id="3632052">(</span><span class="ident" id="3632053">v</span>&nbsp;<span class="builtintype" id="3632055">string</span><span class="op" id="3632061">)</span>&nbsp;<span class="op" id="3632063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3632066">return</span>&nbsp;<span class="ident" id="3632073"><a href="/path/filepath/path.go.html#3632039">path</a></span><span class="op" id="3632077">[</span><span class="op" id="3632078">:</span><span class="ident" id="3632079"><a href="/path/filepath/path_unix.go.html#3632590">volumeNameLen</a></span><span class="op" id="3632092">(</span><span class="ident" id="3632093"><a href="/path/filepath/path.go.html#3632039">path</a></span><span class="op" id="3632097">)</span><span class="op" id="3632098">]</span><br>
<span class="lineno"></span><span class="op" id="3632100">}</span>
</div>
</body>
</html>
