<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7385992">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7386047">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7386101">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7386152">package</span>&nbsp;<span class="ident" id="7386160">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7386165">import</span>&nbsp;<span class="op" id="7386172">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386175">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386184">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386203">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386211">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7386221">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7386224">type</span>&nbsp;<span class="ident" id="7386229">golden</span>&nbsp;<span class="keyword" id="7386236">struct</span>&nbsp;<span class="op" id="7386243">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386246">sum</span>&nbsp;&nbsp;<span class="op" id="7386251">[</span><span class="op" id="7386252">]</span><span class="builtintype" id="7386253">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386259">text</span>&nbsp;<span class="builtintype" id="7386264">string</span><br>
<span class="lineno"></span><span class="op" id="7386271">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7386274">var</span>&nbsp;<span class="ident" id="7386278">golden32</span>&nbsp;<span class="op" id="7386287">=</span>&nbsp;<span class="op" id="7386289">[</span><span class="op" id="7386290">]</span><span class="ident" id="7386291">golden</span><span class="op" id="7386297">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386300">{</span><span class="op" id="7386301">[</span><span class="op" id="7386302">]</span><span class="builtintype" id="7386303">byte</span><span class="op" id="7386307">{</span><span class="num" id="7386308">0x81</span><span class="op" id="7386312">,</span>&nbsp;<span class="num" id="7386314">0x1c</span><span class="op" id="7386318">,</span>&nbsp;<span class="num" id="7386320">0x9d</span><span class="op" id="7386324">,</span>&nbsp;<span class="num" id="7386326">0xc5</span><span class="op" id="7386330">}</span><span class="op" id="7386331">,</span>&nbsp;<span class="string" id="7386333">&#34;&#34;</span><span class="op" id="7386335">}</span><span class="op" id="7386336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386339">{</span><span class="op" id="7386340">[</span><span class="op" id="7386341">]</span><span class="builtintype" id="7386342">byte</span><span class="op" id="7386346">{</span><span class="num" id="7386347">0x05</span><span class="op" id="7386351">,</span>&nbsp;<span class="num" id="7386353">0x0c</span><span class="op" id="7386357">,</span>&nbsp;<span class="num" id="7386359">0x5d</span><span class="op" id="7386363">,</span>&nbsp;<span class="num" id="7386365">0x7e</span><span class="op" id="7386369">}</span><span class="op" id="7386370">,</span>&nbsp;<span class="string" id="7386372">&#34;a&#34;</span><span class="op" id="7386375">}</span><span class="op" id="7386376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386379">{</span><span class="op" id="7386380">[</span><span class="op" id="7386381">]</span><span class="builtintype" id="7386382">byte</span><span class="op" id="7386386">{</span><span class="num" id="7386387">0x70</span><span class="op" id="7386391">,</span>&nbsp;<span class="num" id="7386393">0x77</span><span class="op" id="7386397">,</span>&nbsp;<span class="num" id="7386399">0x2d</span><span class="op" id="7386403">,</span>&nbsp;<span class="num" id="7386405">0x38</span><span class="op" id="7386409">}</span><span class="op" id="7386410">,</span>&nbsp;<span class="string" id="7386412">&#34;ab&#34;</span><span class="op" id="7386416">}</span><span class="op" id="7386417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386420">{</span><span class="op" id="7386421">[</span><span class="op" id="7386422">]</span><span class="builtintype" id="7386423">byte</span><span class="op" id="7386427">{</span><span class="num" id="7386428">0x43</span><span class="op" id="7386432">,</span>&nbsp;<span class="num" id="7386434">0x9c</span><span class="op" id="7386438">,</span>&nbsp;<span class="num" id="7386440">0x2f</span><span class="op" id="7386444">,</span>&nbsp;<span class="num" id="7386446">0x4b</span><span class="op" id="7386450">}</span><span class="op" id="7386451">,</span>&nbsp;<span class="string" id="7386453">&#34;abc&#34;</span><span class="op" id="7386458">}</span><span class="op" id="7386459">,</span><br>
<span class="lineno"></span><span class="op" id="7386461">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7386464">var</span>&nbsp;<span class="ident" id="7386468">golden32a</span>&nbsp;<span class="op" id="7386478">=</span>&nbsp;<span class="op" id="7386480">[</span><span class="op" id="7386481">]</span><span class="ident" id="7386482">golden</span><span class="op" id="7386488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386491">{</span><span class="op" id="7386492">[</span><span class="op" id="7386493">]</span><span class="builtintype" id="7386494">byte</span><span class="op" id="7386498">{</span><span class="num" id="7386499">0x81</span><span class="op" id="7386503">,</span>&nbsp;<span class="num" id="7386505">0x1c</span><span class="op" id="7386509">,</span>&nbsp;<span class="num" id="7386511">0x9d</span><span class="op" id="7386515">,</span>&nbsp;<span class="num" id="7386517">0xc5</span><span class="op" id="7386521">}</span><span class="op" id="7386522">,</span>&nbsp;<span class="string" id="7386524">&#34;&#34;</span><span class="op" id="7386526">}</span><span class="op" id="7386527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386530">{</span><span class="op" id="7386531">[</span><span class="op" id="7386532">]</span><span class="builtintype" id="7386533">byte</span><span class="op" id="7386537">{</span><span class="num" id="7386538">0xe4</span><span class="op" id="7386542">,</span>&nbsp;<span class="num" id="7386544">0x0c</span><span class="op" id="7386548">,</span>&nbsp;<span class="num" id="7386550">0x29</span><span class="op" id="7386554">,</span>&nbsp;<span class="num" id="7386556">0x2c</span><span class="op" id="7386560">}</span><span class="op" id="7386561">,</span>&nbsp;<span class="string" id="7386563">&#34;a&#34;</span><span class="op" id="7386566">}</span><span class="op" id="7386567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386570">{</span><span class="op" id="7386571">[</span><span class="op" id="7386572">]</span><span class="builtintype" id="7386573">byte</span><span class="op" id="7386577">{</span><span class="num" id="7386578">0x4d</span><span class="op" id="7386582">,</span>&nbsp;<span class="num" id="7386584">0x25</span><span class="op" id="7386588">,</span>&nbsp;<span class="num" id="7386590">0x05</span><span class="op" id="7386594">,</span>&nbsp;<span class="num" id="7386596">0xca</span><span class="op" id="7386600">}</span><span class="op" id="7386601">,</span>&nbsp;<span class="string" id="7386603">&#34;ab&#34;</span><span class="op" id="7386607">}</span><span class="op" id="7386608">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386611">{</span><span class="op" id="7386612">[</span><span class="op" id="7386613">]</span><span class="builtintype" id="7386614">byte</span><span class="op" id="7386618">{</span><span class="num" id="7386619">0x1a</span><span class="op" id="7386623">,</span>&nbsp;<span class="num" id="7386625">0x47</span><span class="op" id="7386629">,</span>&nbsp;<span class="num" id="7386631">0xe9</span><span class="op" id="7386635">,</span>&nbsp;<span class="num" id="7386637">0x0b</span><span class="op" id="7386641">}</span><span class="op" id="7386642">,</span>&nbsp;<span class="string" id="7386644">&#34;abc&#34;</span><span class="op" id="7386649">}</span><span class="op" id="7386650">,</span><br>
<span class="lineno"></span><span class="op" id="7386652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7386655">var</span>&nbsp;<span class="ident" id="7386659">golden64</span>&nbsp;<span class="op" id="7386668">=</span>&nbsp;<span class="op" id="7386670">[</span><span class="op" id="7386671">]</span><span class="ident" id="7386672">golden</span><span class="op" id="7386678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386681">{</span><span class="op" id="7386682">[</span><span class="op" id="7386683">]</span><span class="builtintype" id="7386684">byte</span><span class="op" id="7386688">{</span><span class="num" id="7386689">0xcb</span><span class="op" id="7386693">,</span>&nbsp;<span class="num" id="7386695">0xf2</span><span class="op" id="7386699">,</span>&nbsp;<span class="num" id="7386701">0x9c</span><span class="op" id="7386705">,</span>&nbsp;<span class="num" id="7386707">0xe4</span><span class="op" id="7386711">,</span>&nbsp;<span class="num" id="7386713">0x84</span><span class="op" id="7386717">,</span>&nbsp;<span class="num" id="7386719">0x22</span><span class="op" id="7386723">,</span>&nbsp;<span class="num" id="7386725">0x23</span><span class="op" id="7386729">,</span>&nbsp;<span class="num" id="7386731">0x25</span><span class="op" id="7386735">}</span><span class="op" id="7386736">,</span>&nbsp;<span class="string" id="7386738">&#34;&#34;</span><span class="op" id="7386740">}</span><span class="op" id="7386741">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386744">{</span><span class="op" id="7386745">[</span><span class="op" id="7386746">]</span><span class="builtintype" id="7386747">byte</span><span class="op" id="7386751">{</span><span class="num" id="7386752">0xaf</span><span class="op" id="7386756">,</span>&nbsp;<span class="num" id="7386758">0x63</span><span class="op" id="7386762">,</span>&nbsp;<span class="num" id="7386764">0xbd</span><span class="op" id="7386768">,</span>&nbsp;<span class="num" id="7386770">0x4c</span><span class="op" id="7386774">,</span>&nbsp;<span class="num" id="7386776">0x86</span><span class="op" id="7386780">,</span>&nbsp;<span class="num" id="7386782">0x01</span><span class="op" id="7386786">,</span>&nbsp;<span class="num" id="7386788">0xb7</span><span class="op" id="7386792">,</span>&nbsp;<span class="num" id="7386794">0xbe</span><span class="op" id="7386798">}</span><span class="op" id="7386799">,</span>&nbsp;<span class="string" id="7386801">&#34;a&#34;</span><span class="op" id="7386804">}</span><span class="op" id="7386805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386808">{</span><span class="op" id="7386809">[</span><span class="op" id="7386810">]</span><span class="builtintype" id="7386811">byte</span><span class="op" id="7386815">{</span><span class="num" id="7386816">0x08</span><span class="op" id="7386820">,</span>&nbsp;<span class="num" id="7386822">0x32</span><span class="op" id="7386826">,</span>&nbsp;<span class="num" id="7386828">0x67</span><span class="op" id="7386832">,</span>&nbsp;<span class="num" id="7386834">0x07</span><span class="op" id="7386838">,</span>&nbsp;<span class="num" id="7386840">0xb4</span><span class="op" id="7386844">,</span>&nbsp;<span class="num" id="7386846">0xeb</span><span class="op" id="7386850">,</span>&nbsp;<span class="num" id="7386852">0x37</span><span class="op" id="7386856">,</span>&nbsp;<span class="num" id="7386858">0xb8</span><span class="op" id="7386862">}</span><span class="op" id="7386863">,</span>&nbsp;<span class="string" id="7386865">&#34;ab&#34;</span><span class="op" id="7386869">}</span><span class="op" id="7386870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386873">{</span><span class="op" id="7386874">[</span><span class="op" id="7386875">]</span><span class="builtintype" id="7386876">byte</span><span class="op" id="7386880">{</span><span class="num" id="7386881">0xd8</span><span class="op" id="7386885">,</span>&nbsp;<span class="num" id="7386887">0xdc</span><span class="op" id="7386891">,</span>&nbsp;<span class="num" id="7386893">0xca</span><span class="op" id="7386897">,</span>&nbsp;<span class="num" id="7386899">0x18</span><span class="op" id="7386903">,</span>&nbsp;<span class="num" id="7386905">0x6b</span><span class="op" id="7386909">,</span>&nbsp;<span class="num" id="7386911">0xaf</span><span class="op" id="7386915">,</span>&nbsp;<span class="num" id="7386917">0xad</span><span class="op" id="7386921">,</span>&nbsp;<span class="num" id="7386923">0xcb</span><span class="op" id="7386927">}</span><span class="op" id="7386928">,</span>&nbsp;<span class="string" id="7386930">&#34;abc&#34;</span><span class="op" id="7386935">}</span><span class="op" id="7386936">,</span><br>
<span class="lineno"></span><span class="op" id="7386938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7386941">var</span>&nbsp;<span class="ident" id="7386945">golden64a</span>&nbsp;<span class="op" id="7386955">=</span>&nbsp;<span class="op" id="7386957">[</span><span class="op" id="7386958">]</span><span class="ident" id="7386959">golden</span><span class="op" id="7386965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386968">{</span><span class="op" id="7386969">[</span><span class="op" id="7386970">]</span><span class="builtintype" id="7386971">byte</span><span class="op" id="7386975">{</span><span class="num" id="7386976">0xcb</span><span class="op" id="7386980">,</span>&nbsp;<span class="num" id="7386982">0xf2</span><span class="op" id="7386986">,</span>&nbsp;<span class="num" id="7386988">0x9c</span><span class="op" id="7386992">,</span>&nbsp;<span class="num" id="7386994">0xe4</span><span class="op" id="7386998">,</span>&nbsp;<span class="num" id="7387000">0x84</span><span class="op" id="7387004">,</span>&nbsp;<span class="num" id="7387006">0x22</span><span class="op" id="7387010">,</span>&nbsp;<span class="num" id="7387012">0x23</span><span class="op" id="7387016">,</span>&nbsp;<span class="num" id="7387018">0x25</span><span class="op" id="7387022">}</span><span class="op" id="7387023">,</span>&nbsp;<span class="string" id="7387025">&#34;&#34;</span><span class="op" id="7387027">}</span><span class="op" id="7387028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387031">{</span><span class="op" id="7387032">[</span><span class="op" id="7387033">]</span><span class="builtintype" id="7387034">byte</span><span class="op" id="7387038">{</span><span class="num" id="7387039">0xaf</span><span class="op" id="7387043">,</span>&nbsp;<span class="num" id="7387045">0x63</span><span class="op" id="7387049">,</span>&nbsp;<span class="num" id="7387051">0xdc</span><span class="op" id="7387055">,</span>&nbsp;<span class="num" id="7387057">0x4c</span><span class="op" id="7387061">,</span>&nbsp;<span class="num" id="7387063">0x86</span><span class="op" id="7387067">,</span>&nbsp;<span class="num" id="7387069">0x01</span><span class="op" id="7387073">,</span>&nbsp;<span class="num" id="7387075">0xec</span><span class="op" id="7387079">,</span>&nbsp;<span class="num" id="7387081">0x8c</span><span class="op" id="7387085">}</span><span class="op" id="7387086">,</span>&nbsp;<span class="string" id="7387088">&#34;a&#34;</span><span class="op" id="7387091">}</span><span class="op" id="7387092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387095">{</span><span class="op" id="7387096">[</span><span class="op" id="7387097">]</span><span class="builtintype" id="7387098">byte</span><span class="op" id="7387102">{</span><span class="num" id="7387103">0x08</span><span class="op" id="7387107">,</span>&nbsp;<span class="num" id="7387109">0x9c</span><span class="op" id="7387113">,</span>&nbsp;<span class="num" id="7387115">0x44</span><span class="op" id="7387119">,</span>&nbsp;<span class="num" id="7387121">0x07</span><span class="op" id="7387125">,</span>&nbsp;<span class="num" id="7387127">0xb5</span><span class="op" id="7387131">,</span>&nbsp;<span class="num" id="7387133">0x45</span><span class="op" id="7387137">,</span>&nbsp;<span class="num" id="7387139">0x98</span><span class="op" id="7387143">,</span>&nbsp;<span class="num" id="7387145">0x6a</span><span class="op" id="7387149">}</span><span class="op" id="7387150">,</span>&nbsp;<span class="string" id="7387152">&#34;ab&#34;</span><span class="op" id="7387156">}</span><span class="op" id="7387157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387160">{</span><span class="op" id="7387161">[</span><span class="op" id="7387162">]</span><span class="builtintype" id="7387163">byte</span><span class="op" id="7387167">{</span><span class="num" id="7387168">0xe7</span><span class="op" id="7387172">,</span>&nbsp;<span class="num" id="7387174">0x1f</span><span class="op" id="7387178">,</span>&nbsp;<span class="num" id="7387180">0xa2</span><span class="op" id="7387184">,</span>&nbsp;<span class="num" id="7387186">0x19</span><span class="op" id="7387190">,</span>&nbsp;<span class="num" id="7387192">0x05</span><span class="op" id="7387196">,</span>&nbsp;<span class="num" id="7387198">0x41</span><span class="op" id="7387202">,</span>&nbsp;<span class="num" id="7387204">0x57</span><span class="op" id="7387208">,</span>&nbsp;<span class="num" id="7387210">0x4b</span><span class="op" id="7387214">}</span><span class="op" id="7387215">,</span>&nbsp;<span class="string" id="7387217">&#34;abc&#34;</span><span class="op" id="7387222">}</span><span class="op" id="7387223">,</span><br>
<span class="lineno">45</span><span class="op" id="7387225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7387228">func</span>&nbsp;<span class="ident" id="7387233">TestGolden32</span><span class="op" id="7387245">(</span><span class="ident" id="7387246">t</span>&nbsp;<span class="op" id="7387248">*</span><span class="ident" id="7387249">testing</span><span class="op" id="7387256">.</span><span class="ident" id="7387257">T</span><span class="op" id="7387258">)</span>&nbsp;<span class="op" id="7387260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387263">testGolden</span><span class="op" id="7387273">(</span><span class="ident" id="7387274">t</span><span class="op" id="7387275">,</span>&nbsp;<span class="ident" id="7387277">New32</span><span class="op" id="7387282">(</span><span class="op" id="7387283">)</span><span class="op" id="7387284">,</span>&nbsp;<span class="ident" id="7387286">golden32</span><span class="op" id="7387294">)</span><br>
<span class="lineno"></span><span class="op" id="7387296">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7387299">func</span>&nbsp;<span class="ident" id="7387304">TestGolden32a</span><span class="op" id="7387317">(</span><span class="ident" id="7387318">t</span>&nbsp;<span class="op" id="7387320">*</span><span class="ident" id="7387321">testing</span><span class="op" id="7387328">.</span><span class="ident" id="7387329">T</span><span class="op" id="7387330">)</span>&nbsp;<span class="op" id="7387332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387335">testGolden</span><span class="op" id="7387345">(</span><span class="ident" id="7387346">t</span><span class="op" id="7387347">,</span>&nbsp;<span class="ident" id="7387349">New32a</span><span class="op" id="7387355">(</span><span class="op" id="7387356">)</span><span class="op" id="7387357">,</span>&nbsp;<span class="ident" id="7387359">golden32a</span><span class="op" id="7387368">)</span><br>
<span class="lineno"></span><span class="op" id="7387370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7387373">func</span>&nbsp;<span class="ident" id="7387378">TestGolden64</span><span class="op" id="7387390">(</span><span class="ident" id="7387391">t</span>&nbsp;<span class="op" id="7387393">*</span><span class="ident" id="7387394">testing</span><span class="op" id="7387401">.</span><span class="ident" id="7387402">T</span><span class="op" id="7387403">)</span>&nbsp;<span class="op" id="7387405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387408">testGolden</span><span class="op" id="7387418">(</span><span class="ident" id="7387419">t</span><span class="op" id="7387420">,</span>&nbsp;<span class="ident" id="7387422">New64</span><span class="op" id="7387427">(</span><span class="op" id="7387428">)</span><span class="op" id="7387429">,</span>&nbsp;<span class="ident" id="7387431">golden64</span><span class="op" id="7387439">)</span><br>
<span class="lineno"></span><span class="op" id="7387441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7387444">func</span>&nbsp;<span class="ident" id="7387449">TestGolden64a</span><span class="op" id="7387462">(</span><span class="ident" id="7387463">t</span>&nbsp;<span class="op" id="7387465">*</span><span class="ident" id="7387466">testing</span><span class="op" id="7387473">.</span><span class="ident" id="7387474">T</span><span class="op" id="7387475">)</span>&nbsp;<span class="op" id="7387477">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387480">testGolden</span><span class="op" id="7387490">(</span><span class="ident" id="7387491">t</span><span class="op" id="7387492">,</span>&nbsp;<span class="ident" id="7387494">New64a</span><span class="op" id="7387500">(</span><span class="op" id="7387501">)</span><span class="op" id="7387502">,</span>&nbsp;<span class="ident" id="7387504">golden64a</span><span class="op" id="7387513">)</span><br>
<span class="lineno"></span><span class="op" id="7387515">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7387518">func</span>&nbsp;<span class="ident" id="7387523">testGolden</span><span class="op" id="7387533">(</span><span class="ident" id="7387534">t</span>&nbsp;<span class="op" id="7387536">*</span><span class="ident" id="7387537">testing</span><span class="op" id="7387544">.</span><span class="ident" id="7387545">T</span><span class="op" id="7387546">,</span>&nbsp;<span class="ident" id="7387548">hash</span>&nbsp;<span class="ident" id="7387553">hash</span><span class="op" id="7387557">.</span><span class="ident" id="7387558">Hash</span><span class="op" id="7387562">,</span>&nbsp;<span class="ident" id="7387564">gold</span>&nbsp;<span class="op" id="7387569">[</span><span class="op" id="7387570">]</span><span class="ident" id="7387571">golden</span><span class="op" id="7387577">)</span>&nbsp;<span class="op" id="7387579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387582">for</span>&nbsp;<span class="ident" id="7387586">_</span><span class="op" id="7387587">,</span>&nbsp;<span class="ident" id="7387589">g</span>&nbsp;<span class="op" id="7387591">:=</span>&nbsp;<span class="keyword" id="7387594">range</span>&nbsp;<span class="ident" id="7387600">gold</span>&nbsp;<span class="op" id="7387605">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387609">hash</span><span class="op" id="7387613">.</span><span class="ident" id="7387614">Reset</span><span class="op" id="7387619">(</span><span class="op" id="7387620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387624">done</span><span class="op" id="7387628">,</span>&nbsp;<span class="builtintype" id="7387630">error</span>&nbsp;<span class="op" id="7387636">:=</span>&nbsp;<span class="ident" id="7387639">hash</span><span class="op" id="7387643">.</span><span class="ident" id="7387644">Write</span><span class="op" id="7387649">(</span><span class="op" id="7387650">[</span><span class="op" id="7387651">]</span><span class="builtintype" id="7387652">byte</span><span class="op" id="7387656">(</span><span class="ident" id="7387657">g</span><span class="op" id="7387658">.</span><span class="ident" id="7387659">text</span><span class="op" id="7387663">)</span><span class="op" id="7387664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387668">if</span>&nbsp;<span class="builtintype" id="7387671">error</span>&nbsp;<span class="op" id="7387677">!=</span>&nbsp;<span class="ident" id="7387680">nil</span>&nbsp;<span class="op" id="7387684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387689">t</span><span class="op" id="7387690">.</span><span class="ident" id="7387691">Fatalf</span><span class="op" id="7387697">(</span><span class="string" id="7387698">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7387715">,</span>&nbsp;<span class="builtintype" id="7387717">error</span><span class="op" id="7387722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387726">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387730">if</span>&nbsp;<span class="ident" id="7387733">done</span>&nbsp;<span class="op" id="7387738">!=</span>&nbsp;<span class="builtinfunc" id="7387741">len</span><span class="op" id="7387744">(</span><span class="ident" id="7387745">g</span><span class="op" id="7387746">.</span><span class="ident" id="7387747">text</span><span class="op" id="7387751">)</span>&nbsp;<span class="op" id="7387753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387758">t</span><span class="op" id="7387759">.</span><span class="ident" id="7387760">Fatalf</span><span class="op" id="7387766">(</span><span class="string" id="7387767">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7387798">,</span>&nbsp;<span class="ident" id="7387800">done</span><span class="op" id="7387804">,</span>&nbsp;<span class="builtinfunc" id="7387806">len</span><span class="op" id="7387809">(</span><span class="ident" id="7387810">g</span><span class="op" id="7387811">.</span><span class="ident" id="7387812">text</span><span class="op" id="7387816">)</span><span class="op" id="7387817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387825">if</span>&nbsp;<span class="ident" id="7387828">actual</span>&nbsp;<span class="op" id="7387835">:=</span>&nbsp;<span class="ident" id="7387838">hash</span><span class="op" id="7387842">.</span><span class="ident" id="7387843">Sum</span><span class="op" id="7387846">(</span><span class="ident" id="7387847">nil</span><span class="op" id="7387850">)</span><span class="op" id="7387851">;</span>&nbsp;<span class="op" id="7387853">!</span><span class="ident" id="7387854">bytes</span><span class="op" id="7387859">.</span><span class="ident" id="7387860">Equal</span><span class="op" id="7387865">(</span><span class="ident" id="7387866">g</span><span class="op" id="7387867">.</span><span class="ident" id="7387868">sum</span><span class="op" id="7387871">,</span>&nbsp;<span class="ident" id="7387873">actual</span><span class="op" id="7387879">)</span>&nbsp;<span class="op" id="7387881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387886">t</span><span class="op" id="7387887">.</span><span class="ident" id="7387888">Errorf</span><span class="op" id="7387894">(</span><span class="string" id="7387895">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7387922">,</span>&nbsp;<span class="ident" id="7387924">g</span><span class="op" id="7387925">.</span><span class="ident" id="7387926">text</span><span class="op" id="7387930">,</span>&nbsp;<span class="ident" id="7387932">actual</span><span class="op" id="7387938">,</span>&nbsp;<span class="ident" id="7387940">g</span><span class="op" id="7387941">.</span><span class="ident" id="7387942">sum</span><span class="op" id="7387945">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387952">}</span><br>
<span class="lineno"></span><span class="op" id="7387954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7387957">func</span>&nbsp;<span class="ident" id="7387962">TestIntegrity32</span><span class="op" id="7387977">(</span><span class="ident" id="7387978">t</span>&nbsp;<span class="op" id="7387980">*</span><span class="ident" id="7387981">testing</span><span class="op" id="7387988">.</span><span class="ident" id="7387989">T</span><span class="op" id="7387990">)</span>&nbsp;<span class="op" id="7387992">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387995">testIntegrity</span><span class="op" id="7388008">(</span><span class="ident" id="7388009">t</span><span class="op" id="7388010">,</span>&nbsp;<span class="ident" id="7388012">New32</span><span class="op" id="7388017">(</span><span class="op" id="7388018">)</span><span class="op" id="7388019">)</span><br>
<span class="lineno"></span><span class="op" id="7388021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7388024">func</span>&nbsp;<span class="ident" id="7388029">TestIntegrity32a</span><span class="op" id="7388045">(</span><span class="ident" id="7388046">t</span>&nbsp;<span class="op" id="7388048">*</span><span class="ident" id="7388049">testing</span><span class="op" id="7388056">.</span><span class="ident" id="7388057">T</span><span class="op" id="7388058">)</span>&nbsp;<span class="op" id="7388060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388063">testIntegrity</span><span class="op" id="7388076">(</span><span class="ident" id="7388077">t</span><span class="op" id="7388078">,</span>&nbsp;<span class="ident" id="7388080">New32a</span><span class="op" id="7388086">(</span><span class="op" id="7388087">)</span><span class="op" id="7388088">)</span><br>
<span class="lineno">85</span><span class="op" id="7388090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7388093">func</span>&nbsp;<span class="ident" id="7388098">TestIntegrity64</span><span class="op" id="7388113">(</span><span class="ident" id="7388114">t</span>&nbsp;<span class="op" id="7388116">*</span><span class="ident" id="7388117">testing</span><span class="op" id="7388124">.</span><span class="ident" id="7388125">T</span><span class="op" id="7388126">)</span>&nbsp;<span class="op" id="7388128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388131">testIntegrity</span><span class="op" id="7388144">(</span><span class="ident" id="7388145">t</span><span class="op" id="7388146">,</span>&nbsp;<span class="ident" id="7388148">New64</span><span class="op" id="7388153">(</span><span class="op" id="7388154">)</span><span class="op" id="7388155">)</span><br>
<span class="lineno"></span><span class="op" id="7388157">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7388160">func</span>&nbsp;<span class="ident" id="7388165">TestIntegrity64a</span><span class="op" id="7388181">(</span><span class="ident" id="7388182">t</span>&nbsp;<span class="op" id="7388184">*</span><span class="ident" id="7388185">testing</span><span class="op" id="7388192">.</span><span class="ident" id="7388193">T</span><span class="op" id="7388194">)</span>&nbsp;<span class="op" id="7388196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388199">testIntegrity</span><span class="op" id="7388212">(</span><span class="ident" id="7388213">t</span><span class="op" id="7388214">,</span>&nbsp;<span class="ident" id="7388216">New64a</span><span class="op" id="7388222">(</span><span class="op" id="7388223">)</span><span class="op" id="7388224">)</span><br>
<span class="lineno"></span><span class="op" id="7388226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7388229">func</span>&nbsp;<span class="ident" id="7388234">testIntegrity</span><span class="op" id="7388247">(</span><span class="ident" id="7388248">t</span>&nbsp;<span class="op" id="7388250">*</span><span class="ident" id="7388251">testing</span><span class="op" id="7388258">.</span><span class="ident" id="7388259">T</span><span class="op" id="7388260">,</span>&nbsp;<span class="ident" id="7388262">h</span>&nbsp;<span class="ident" id="7388264">hash</span><span class="op" id="7388268">.</span><span class="ident" id="7388269">Hash</span><span class="op" id="7388273">)</span>&nbsp;<span class="op" id="7388275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388278">data</span>&nbsp;<span class="op" id="7388283">:=</span>&nbsp;<span class="op" id="7388286">[</span><span class="op" id="7388287">]</span><span class="builtintype" id="7388288">byte</span><span class="op" id="7388292">{</span><span class="string" id="7388293">&#39;1&#39;</span><span class="op" id="7388296">,</span>&nbsp;<span class="string" id="7388298">&#39;2&#39;</span><span class="op" id="7388301">,</span>&nbsp;<span class="num" id="7388303">3</span><span class="op" id="7388304">,</span>&nbsp;<span class="num" id="7388306">4</span><span class="op" id="7388307">,</span>&nbsp;<span class="num" id="7388309">5</span><span class="op" id="7388310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388313">h</span><span class="op" id="7388314">.</span><span class="ident" id="7388315">Write</span><span class="op" id="7388320">(</span><span class="ident" id="7388321">data</span><span class="op" id="7388325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388328">sum</span>&nbsp;<span class="op" id="7388332">:=</span>&nbsp;<span class="ident" id="7388335">h</span><span class="op" id="7388336">.</span><span class="ident" id="7388337">Sum</span><span class="op" id="7388340">(</span><span class="ident" id="7388341">nil</span><span class="op" id="7388344">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388348">if</span>&nbsp;<span class="ident" id="7388351">size</span>&nbsp;<span class="op" id="7388356">:=</span>&nbsp;<span class="ident" id="7388359">h</span><span class="op" id="7388360">.</span><span class="ident" id="7388361">Size</span><span class="op" id="7388365">(</span><span class="op" id="7388366">)</span><span class="op" id="7388367">;</span>&nbsp;<span class="ident" id="7388369">size</span>&nbsp;<span class="op" id="7388374">!=</span>&nbsp;<span class="builtinfunc" id="7388377">len</span><span class="op" id="7388380">(</span><span class="ident" id="7388381">sum</span><span class="op" id="7388384">)</span>&nbsp;<span class="op" id="7388386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388390">t</span><span class="op" id="7388391">.</span><span class="ident" id="7388392">Fatalf</span><span class="op" id="7388398">(</span><span class="string" id="7388399">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="7388428">,</span>&nbsp;<span class="ident" id="7388430">size</span><span class="op" id="7388434">,</span>&nbsp;<span class="builtinfunc" id="7388436">len</span><span class="op" id="7388439">(</span><span class="ident" id="7388440">sum</span><span class="op" id="7388443">)</span><span class="op" id="7388444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388451">if</span>&nbsp;<span class="ident" id="7388454">a</span>&nbsp;<span class="op" id="7388456">:=</span>&nbsp;<span class="ident" id="7388459">h</span><span class="op" id="7388460">.</span><span class="ident" id="7388461">Sum</span><span class="op" id="7388464">(</span><span class="ident" id="7388465">nil</span><span class="op" id="7388468">)</span><span class="op" id="7388469">;</span>&nbsp;<span class="op" id="7388471">!</span><span class="ident" id="7388472">bytes</span><span class="op" id="7388477">.</span><span class="ident" id="7388478">Equal</span><span class="op" id="7388483">(</span><span class="ident" id="7388484">sum</span><span class="op" id="7388487">,</span>&nbsp;<span class="ident" id="7388489">a</span><span class="op" id="7388490">)</span>&nbsp;<span class="op" id="7388492">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388496">t</span><span class="op" id="7388497">.</span><span class="ident" id="7388498">Fatalf</span><span class="op" id="7388504">(</span><span class="string" id="7388505">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7388542">,</span>&nbsp;<span class="ident" id="7388544">sum</span><span class="op" id="7388547">,</span>&nbsp;<span class="ident" id="7388549">a</span><span class="op" id="7388550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388557">h</span><span class="op" id="7388558">.</span><span class="ident" id="7388559">Reset</span><span class="op" id="7388564">(</span><span class="op" id="7388565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388568">h</span><span class="op" id="7388569">.</span><span class="ident" id="7388570">Write</span><span class="op" id="7388575">(</span><span class="ident" id="7388576">data</span><span class="op" id="7388580">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388583">if</span>&nbsp;<span class="ident" id="7388586">a</span>&nbsp;<span class="op" id="7388588">:=</span>&nbsp;<span class="ident" id="7388591">h</span><span class="op" id="7388592">.</span><span class="ident" id="7388593">Sum</span><span class="op" id="7388596">(</span><span class="ident" id="7388597">nil</span><span class="op" id="7388600">)</span><span class="op" id="7388601">;</span>&nbsp;<span class="op" id="7388603">!</span><span class="ident" id="7388604">bytes</span><span class="op" id="7388609">.</span><span class="ident" id="7388610">Equal</span><span class="op" id="7388615">(</span><span class="ident" id="7388616">sum</span><span class="op" id="7388619">,</span>&nbsp;<span class="ident" id="7388621">a</span><span class="op" id="7388622">)</span>&nbsp;<span class="op" id="7388624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388628">t</span><span class="op" id="7388629">.</span><span class="ident" id="7388630">Fatalf</span><span class="op" id="7388636">(</span><span class="string" id="7388637">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7388679">,</span>&nbsp;<span class="ident" id="7388681">sum</span><span class="op" id="7388684">,</span>&nbsp;<span class="ident" id="7388686">a</span><span class="op" id="7388687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388694">h</span><span class="op" id="7388695">.</span><span class="ident" id="7388696">Reset</span><span class="op" id="7388701">(</span><span class="op" id="7388702">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388705">h</span><span class="op" id="7388706">.</span><span class="ident" id="7388707">Write</span><span class="op" id="7388712">(</span><span class="ident" id="7388713">data</span><span class="op" id="7388717">[</span><span class="op" id="7388718">:</span><span class="num" id="7388719">2</span><span class="op" id="7388720">]</span><span class="op" id="7388721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388724">h</span><span class="op" id="7388725">.</span><span class="ident" id="7388726">Write</span><span class="op" id="7388731">(</span><span class="ident" id="7388732">data</span><span class="op" id="7388736">[</span><span class="num" id="7388737">2</span><span class="op" id="7388738">:</span><span class="op" id="7388739">]</span><span class="op" id="7388740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388743">if</span>&nbsp;<span class="ident" id="7388746">a</span>&nbsp;<span class="op" id="7388748">:=</span>&nbsp;<span class="ident" id="7388751">h</span><span class="op" id="7388752">.</span><span class="ident" id="7388753">Sum</span><span class="op" id="7388756">(</span><span class="ident" id="7388757">nil</span><span class="op" id="7388760">)</span><span class="op" id="7388761">;</span>&nbsp;<span class="op" id="7388763">!</span><span class="ident" id="7388764">bytes</span><span class="op" id="7388769">.</span><span class="ident" id="7388770">Equal</span><span class="op" id="7388775">(</span><span class="ident" id="7388776">sum</span><span class="op" id="7388779">,</span>&nbsp;<span class="ident" id="7388781">a</span><span class="op" id="7388782">)</span>&nbsp;<span class="op" id="7388784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388788">t</span><span class="op" id="7388789">.</span><span class="ident" id="7388790">Fatalf</span><span class="op" id="7388796">(</span><span class="string" id="7388797">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7388846">,</span>&nbsp;<span class="ident" id="7388848">sum</span><span class="op" id="7388851">,</span>&nbsp;<span class="ident" id="7388853">a</span><span class="op" id="7388854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388857">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388861">switch</span>&nbsp;<span class="ident" id="7388868">h</span><span class="op" id="7388869">.</span><span class="ident" id="7388870">Size</span><span class="op" id="7388874">(</span><span class="op" id="7388875">)</span>&nbsp;<span class="op" id="7388877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388880">case</span>&nbsp;<span class="num" id="7388885">4</span><span class="op" id="7388886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388890">sum32</span>&nbsp;<span class="op" id="7388896">:=</span>&nbsp;<span class="ident" id="7388899">h</span><span class="op" id="7388900">.</span><span class="op" id="7388901">(</span><span class="ident" id="7388902">hash</span><span class="op" id="7388906">.</span><span class="ident" id="7388907">Hash32</span><span class="op" id="7388913">)</span><span class="op" id="7388914">.</span><span class="ident" id="7388915">Sum32</span><span class="op" id="7388920">(</span><span class="op" id="7388921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388925">if</span>&nbsp;<span class="ident" id="7388928">sum32</span>&nbsp;<span class="op" id="7388934">!=</span>&nbsp;<span class="ident" id="7388937">binary</span><span class="op" id="7388943">.</span><span class="ident" id="7388944">BigEndian</span><span class="op" id="7388953">.</span><span class="ident" id="7388954">Uint32</span><span class="op" id="7388960">(</span><span class="ident" id="7388961">sum</span><span class="op" id="7388964">)</span>&nbsp;<span class="op" id="7388966">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388971">t</span><span class="op" id="7388972">.</span><span class="ident" id="7388973">Fatalf</span><span class="op" id="7388979">(</span><span class="string" id="7388980">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="7389010">,</span>&nbsp;<span class="ident" id="7389012">sum</span><span class="op" id="7389015">,</span>&nbsp;<span class="ident" id="7389017">sum32</span><span class="op" id="7389022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389029">case</span>&nbsp;<span class="num" id="7389034">8</span><span class="op" id="7389035">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389039">sum64</span>&nbsp;<span class="op" id="7389045">:=</span>&nbsp;<span class="ident" id="7389048">h</span><span class="op" id="7389049">.</span><span class="op" id="7389050">(</span><span class="ident" id="7389051">hash</span><span class="op" id="7389055">.</span><span class="ident" id="7389056">Hash64</span><span class="op" id="7389062">)</span><span class="op" id="7389063">.</span><span class="ident" id="7389064">Sum64</span><span class="op" id="7389069">(</span><span class="op" id="7389070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389074">if</span>&nbsp;<span class="ident" id="7389077">sum64</span>&nbsp;<span class="op" id="7389083">!=</span>&nbsp;<span class="ident" id="7389086">binary</span><span class="op" id="7389092">.</span><span class="ident" id="7389093">BigEndian</span><span class="op" id="7389102">.</span><span class="ident" id="7389103">Uint64</span><span class="op" id="7389109">(</span><span class="ident" id="7389110">sum</span><span class="op" id="7389113">)</span>&nbsp;<span class="op" id="7389115">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389120">t</span><span class="op" id="7389121">.</span><span class="ident" id="7389122">Fatalf</span><span class="op" id="7389128">(</span><span class="string" id="7389129">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="7389159">,</span>&nbsp;<span class="ident" id="7389161">sum</span><span class="op" id="7389164">,</span>&nbsp;<span class="ident" id="7389166">sum64</span><span class="op" id="7389171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389178">}</span><br>
<span class="lineno"></span><span class="op" id="7389180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7389183">func</span>&nbsp;<span class="ident" id="7389188">BenchmarkFnv32KB</span><span class="op" id="7389204">(</span><span class="ident" id="7389205">b</span>&nbsp;<span class="op" id="7389207">*</span><span class="ident" id="7389208">testing</span><span class="op" id="7389215">.</span><span class="ident" id="7389216">B</span><span class="op" id="7389217">)</span>&nbsp;<span class="op" id="7389219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389222">benchmarkKB</span><span class="op" id="7389233">(</span><span class="ident" id="7389234">b</span><span class="op" id="7389235">,</span>&nbsp;<span class="ident" id="7389237">New32</span><span class="op" id="7389242">(</span><span class="op" id="7389243">)</span><span class="op" id="7389244">)</span><br>
<span class="lineno"></span><span class="op" id="7389246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7389249">func</span>&nbsp;<span class="ident" id="7389254">BenchmarkFnv32aKB</span><span class="op" id="7389271">(</span><span class="ident" id="7389272">b</span>&nbsp;<span class="op" id="7389274">*</span><span class="ident" id="7389275">testing</span><span class="op" id="7389282">.</span><span class="ident" id="7389283">B</span><span class="op" id="7389284">)</span>&nbsp;<span class="op" id="7389286">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389289">benchmarkKB</span><span class="op" id="7389300">(</span><span class="ident" id="7389301">b</span><span class="op" id="7389302">,</span>&nbsp;<span class="ident" id="7389304">New32a</span><span class="op" id="7389310">(</span><span class="op" id="7389311">)</span><span class="op" id="7389312">)</span><br>
<span class="lineno"></span><span class="op" id="7389314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7389317">func</span>&nbsp;<span class="ident" id="7389322">BenchmarkFnv64KB</span><span class="op" id="7389338">(</span><span class="ident" id="7389339">b</span>&nbsp;<span class="op" id="7389341">*</span><span class="ident" id="7389342">testing</span><span class="op" id="7389349">.</span><span class="ident" id="7389350">B</span><span class="op" id="7389351">)</span>&nbsp;<span class="op" id="7389353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389356">benchmarkKB</span><span class="op" id="7389367">(</span><span class="ident" id="7389368">b</span><span class="op" id="7389369">,</span>&nbsp;<span class="ident" id="7389371">New64</span><span class="op" id="7389376">(</span><span class="op" id="7389377">)</span><span class="op" id="7389378">)</span><br>
<span class="lineno">145</span><span class="op" id="7389380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7389383">func</span>&nbsp;<span class="ident" id="7389388">BenchmarkFnv64aKB</span><span class="op" id="7389405">(</span><span class="ident" id="7389406">b</span>&nbsp;<span class="op" id="7389408">*</span><span class="ident" id="7389409">testing</span><span class="op" id="7389416">.</span><span class="ident" id="7389417">B</span><span class="op" id="7389418">)</span>&nbsp;<span class="op" id="7389420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389423">benchmarkKB</span><span class="op" id="7389434">(</span><span class="ident" id="7389435">b</span><span class="op" id="7389436">,</span>&nbsp;<span class="ident" id="7389438">New64a</span><span class="op" id="7389444">(</span><span class="op" id="7389445">)</span><span class="op" id="7389446">)</span><br>
<span class="lineno"></span><span class="op" id="7389448">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="7389451">func</span>&nbsp;<span class="ident" id="7389456">benchmarkKB</span><span class="op" id="7389467">(</span><span class="ident" id="7389468">b</span>&nbsp;<span class="op" id="7389470">*</span><span class="ident" id="7389471">testing</span><span class="op" id="7389478">.</span><span class="ident" id="7389479">B</span><span class="op" id="7389480">,</span>&nbsp;<span class="ident" id="7389482">h</span>&nbsp;<span class="ident" id="7389484">hash</span><span class="op" id="7389488">.</span><span class="ident" id="7389489">Hash</span><span class="op" id="7389493">)</span>&nbsp;<span class="op" id="7389495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389498">b</span><span class="op" id="7389499">.</span><span class="ident" id="7389500">SetBytes</span><span class="op" id="7389508">(</span><span class="num" id="7389509">1024</span><span class="op" id="7389513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389516">data</span>&nbsp;<span class="op" id="7389521">:=</span>&nbsp;<span class="builtinfunc" id="7389524">make</span><span class="op" id="7389528">(</span><span class="op" id="7389529">[</span><span class="op" id="7389530">]</span><span class="builtintype" id="7389531">byte</span><span class="op" id="7389535">,</span>&nbsp;<span class="num" id="7389537">1024</span><span class="op" id="7389541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389544">for</span>&nbsp;<span class="ident" id="7389548">i</span>&nbsp;<span class="op" id="7389550">:=</span>&nbsp;<span class="keyword" id="7389553">range</span>&nbsp;<span class="ident" id="7389559">data</span>&nbsp;<span class="op" id="7389564">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389568">data</span><span class="op" id="7389572">[</span><span class="ident" id="7389573">i</span><span class="op" id="7389574">]</span>&nbsp;<span class="op" id="7389576">=</span>&nbsp;<span class="builtintype" id="7389578">byte</span><span class="op" id="7389582">(</span><span class="ident" id="7389583">i</span><span class="op" id="7389584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389590">in</span>&nbsp;<span class="op" id="7389593">:=</span>&nbsp;<span class="builtinfunc" id="7389596">make</span><span class="op" id="7389600">(</span><span class="op" id="7389601">[</span><span class="op" id="7389602">]</span><span class="builtintype" id="7389603">byte</span><span class="op" id="7389607">,</span>&nbsp;<span class="num" id="7389609">0</span><span class="op" id="7389610">,</span>&nbsp;<span class="ident" id="7389612">h</span><span class="op" id="7389613">.</span><span class="ident" id="7389614">Size</span><span class="op" id="7389618">(</span><span class="op" id="7389619">)</span><span class="op" id="7389620">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389624">b</span><span class="op" id="7389625">.</span><span class="ident" id="7389626">ResetTimer</span><span class="op" id="7389636">(</span><span class="op" id="7389637">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389640">for</span>&nbsp;<span class="ident" id="7389644">i</span>&nbsp;<span class="op" id="7389646">:=</span>&nbsp;<span class="num" id="7389649">0</span><span class="op" id="7389650">;</span>&nbsp;<span class="ident" id="7389652">i</span>&nbsp;<span class="op" id="7389654">&lt;</span>&nbsp;<span class="ident" id="7389656">b</span><span class="op" id="7389657">.</span><span class="ident" id="7389658">N</span><span class="op" id="7389659">;</span>&nbsp;<span class="ident" id="7389661">i</span><span class="op" id="7389662">++</span>&nbsp;<span class="op" id="7389665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389669">h</span><span class="op" id="7389670">.</span><span class="ident" id="7389671">Reset</span><span class="op" id="7389676">(</span><span class="op" id="7389677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389681">h</span><span class="op" id="7389682">.</span><span class="ident" id="7389683">Write</span><span class="op" id="7389688">(</span><span class="ident" id="7389689">data</span><span class="op" id="7389693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389697">h</span><span class="op" id="7389698">.</span><span class="ident" id="7389699">Sum</span><span class="op" id="7389702">(</span><span class="ident" id="7389703">in</span><span class="op" id="7389705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389708">}</span><br>
<span class="lineno">165</span><span class="op" id="7389710">}</span>
</div>
</body>
</html>
