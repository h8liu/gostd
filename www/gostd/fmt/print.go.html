<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2463862">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2463917">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2463971">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2464022">package</span>&nbsp;<span class="ident" id="2464030">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2464035">import</span>&nbsp;<span class="op" id="2464042">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2464045">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2464055">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2464061">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2464067">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2464078">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2464086">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2464101">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2464104">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2464170">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2464207">var</span>&nbsp;<span class="op" id="2464211">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464214">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2464231">=</span>&nbsp;<span class="op" id="2464233">[</span><span class="op" id="2464234">]</span><span class="builtintype" id="2464235">byte</span><span class="op" id="2464239">(</span><span class="string" id="2464240">&#34;,&nbsp;&#34;</span><span class="op" id="2464244">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464247">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464264">=</span>&nbsp;<span class="op" id="2464266">[</span><span class="op" id="2464267">]</span><span class="builtintype" id="2464268">byte</span><span class="op" id="2464272">(</span><span class="string" id="2464273">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2464280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464283">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464300">=</span>&nbsp;<span class="op" id="2464302">[</span><span class="op" id="2464303">]</span><span class="builtintype" id="2464304">byte</span><span class="op" id="2464308">(</span><span class="string" id="2464309">&#34;(nil)&#34;</span><span class="op" id="2464316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464319">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464336">=</span>&nbsp;<span class="op" id="2464338">[</span><span class="op" id="2464339">]</span><span class="builtintype" id="2464340">byte</span><span class="op" id="2464344">(</span><span class="string" id="2464345">&#34;nil&#34;</span><span class="op" id="2464350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464353">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464370">=</span>&nbsp;<span class="op" id="2464372">[</span><span class="op" id="2464373">]</span><span class="builtintype" id="2464374">byte</span><span class="op" id="2464378">(</span><span class="string" id="2464379">&#34;map[&#34;</span><span class="op" id="2464385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464388">percentBangBytes</span>&nbsp;<span class="op" id="2464405">=</span>&nbsp;<span class="op" id="2464407">[</span><span class="op" id="2464408">]</span><span class="builtintype" id="2464409">byte</span><span class="op" id="2464413">(</span><span class="string" id="2464414">&#34;%!&#34;</span><span class="op" id="2464418">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464421">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464438">=</span>&nbsp;<span class="op" id="2464440">[</span><span class="op" id="2464441">]</span><span class="builtintype" id="2464442">byte</span><span class="op" id="2464446">(</span><span class="string" id="2464447">&#34;(MISSING)&#34;</span><span class="op" id="2464458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464461">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464478">=</span>&nbsp;<span class="op" id="2464480">[</span><span class="op" id="2464481">]</span><span class="builtintype" id="2464482">byte</span><span class="op" id="2464486">(</span><span class="string" id="2464487">&#34;(BADINDEX)&#34;</span><span class="op" id="2464499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464502">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464519">=</span>&nbsp;<span class="op" id="2464521">[</span><span class="op" id="2464522">]</span><span class="builtintype" id="2464523">byte</span><span class="op" id="2464527">(</span><span class="string" id="2464528">&#34;(PANIC=&#34;</span><span class="op" id="2464537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464540">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464557">=</span>&nbsp;<span class="op" id="2464559">[</span><span class="op" id="2464560">]</span><span class="builtintype" id="2464561">byte</span><span class="op" id="2464565">(</span><span class="string" id="2464566">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2464577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464580">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464597">=</span>&nbsp;<span class="op" id="2464599">[</span><span class="op" id="2464600">]</span><span class="builtintype" id="2464601">byte</span><span class="op" id="2464605">(</span><span class="string" id="2464606">&#34;i)&#34;</span><span class="op" id="2464610">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464613">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464630">=</span>&nbsp;<span class="op" id="2464632">[</span><span class="op" id="2464633">]</span><span class="builtintype" id="2464634">byte</span><span class="op" id="2464638">(</span><span class="string" id="2464639">&#34;[]byte{&#34;</span><span class="op" id="2464648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464651">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464668">=</span>&nbsp;<span class="op" id="2464670">[</span><span class="op" id="2464671">]</span><span class="builtintype" id="2464672">byte</span><span class="op" id="2464676">(</span><span class="string" id="2464677">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2464691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464694">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464711">=</span>&nbsp;<span class="op" id="2464713">[</span><span class="op" id="2464714">]</span><span class="builtintype" id="2464715">byte</span><span class="op" id="2464719">(</span><span class="string" id="2464720">&#34;%!(BADPREC)&#34;</span><span class="op" id="2464733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464736">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2464753">=</span>&nbsp;<span class="op" id="2464755">[</span><span class="op" id="2464756">]</span><span class="builtintype" id="2464757">byte</span><span class="op" id="2464761">(</span><span class="string" id="2464762">&#34;%!(NOVERB)&#34;</span><span class="op" id="2464774">)</span><br>
<span class="lineno"></span><span class="op" id="2464776">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2464779">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2464846">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2464918">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2464979">type</span>&nbsp;<span class="ident" id="2464984">State</span>&nbsp;<span class="keyword" id="2464990">interface</span>&nbsp;<span class="op" id="2465000">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465003">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465077">Write</span><span class="op" id="2465082">(</span><span class="ident" id="2465083">b</span>&nbsp;<span class="op" id="2465085">[</span><span class="op" id="2465086">]</span><span class="builtintype" id="2465087">byte</span><span class="op" id="2465091">)</span>&nbsp;<span class="op" id="2465093">(</span><span class="ident" id="2465094">ret</span>&nbsp;<span class="builtintype" id="2465098">int</span><span class="op" id="2465101">,</span>&nbsp;<span class="ident" id="2465103">err</span>&nbsp;<span class="builtintype" id="2465107">error</span><span class="op" id="2465112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465115">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465192">Width</span><span class="op" id="2465197">(</span><span class="op" id="2465198">)</span>&nbsp;<span class="op" id="2465200">(</span><span class="ident" id="2465201">wid</span>&nbsp;<span class="builtintype" id="2465205">int</span><span class="op" id="2465208">,</span>&nbsp;<span class="ident" id="2465210">ok</span>&nbsp;<span class="builtintype" id="2465213">bool</span><span class="op" id="2465217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465220">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465305">Precision</span><span class="op" id="2465314">(</span><span class="op" id="2465315">)</span>&nbsp;<span class="op" id="2465317">(</span><span class="ident" id="2465318">prec</span>&nbsp;<span class="builtintype" id="2465323">int</span><span class="op" id="2465326">,</span>&nbsp;<span class="ident" id="2465328">ok</span>&nbsp;<span class="builtintype" id="2465331">bool</span><span class="op" id="2465335">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465339">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465403">Flag</span><span class="op" id="2465407">(</span><span class="ident" id="2465408">c</span>&nbsp;<span class="builtintype" id="2465410">int</span><span class="op" id="2465413">)</span>&nbsp;<span class="builtintype" id="2465415">bool</span><br>
<span class="lineno"></span><span class="op" id="2465420">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2465423">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2465500">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2465569">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2465596">type</span>&nbsp;<span class="ident" id="2465601">Formatter</span>&nbsp;<span class="keyword" id="2465611">interface</span>&nbsp;<span class="op" id="2465621">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465624">Format</span><span class="op" id="2465630">(</span><span class="ident" id="2465631">f</span>&nbsp;<span class="ident" id="2465633">State</span><span class="op" id="2465638">,</span>&nbsp;<span class="ident" id="2465640">c</span>&nbsp;<span class="builtintype" id="2465642">rune</span><span class="op" id="2465646">)</span><br>
<span class="lineno"></span><span class="op" id="2465648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2465651">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2465717">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2465772">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2465838">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2465906">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2465924">type</span>&nbsp;<span class="ident" id="2465929">Stringer</span>&nbsp;<span class="keyword" id="2465938">interface</span>&nbsp;<span class="op" id="2465948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465951">String</span><span class="op" id="2465957">(</span><span class="op" id="2465958">)</span>&nbsp;<span class="builtintype" id="2465960">string</span><br>
<span class="lineno">65</span><span class="op" id="2465967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2465970">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2466040">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2466087">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2466155">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2466175">type</span>&nbsp;<span class="ident" id="2466180">GoStringer</span>&nbsp;<span class="keyword" id="2466191">interface</span>&nbsp;<span class="op" id="2466201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466204">GoString</span><span class="op" id="2466212">(</span><span class="op" id="2466213">)</span>&nbsp;<span class="builtintype" id="2466215">string</span><br>
<span class="lineno"></span><span class="op" id="2466222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2466225">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2466297">type</span>&nbsp;<span class="ident" id="2466302">buffer</span>&nbsp;<span class="op" id="2466309">[</span><span class="op" id="2466310">]</span><span class="builtintype" id="2466311">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2466317">func</span>&nbsp;<span class="op" id="2466322">(</span><span class="ident" id="2466323">b</span>&nbsp;<span class="op" id="2466325">*</span><span class="ident" id="2466326">buffer</span><span class="op" id="2466332">)</span>&nbsp;<span class="ident" id="2466334">Write</span><span class="op" id="2466339">(</span><span class="ident" id="2466340">p</span>&nbsp;<span class="op" id="2466342">[</span><span class="op" id="2466343">]</span><span class="builtintype" id="2466344">byte</span><span class="op" id="2466348">)</span>&nbsp;<span class="op" id="2466350">(</span><span class="ident" id="2466351">n</span>&nbsp;<span class="builtintype" id="2466353">int</span><span class="op" id="2466356">,</span>&nbsp;<span class="ident" id="2466358">err</span>&nbsp;<span class="builtintype" id="2466362">error</span><span class="op" id="2466367">)</span>&nbsp;<span class="op" id="2466369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466372">*</span><span class="ident" id="2466373">b</span>&nbsp;<span class="op" id="2466375">=</span>&nbsp;<span class="builtinfunc" id="2466377">append</span><span class="op" id="2466383">(</span><span class="op" id="2466384">*</span><span class="ident" id="2466385">b</span><span class="op" id="2466386">,</span>&nbsp;<span class="ident" id="2466388">p</span><span class="op" id="2466389">...</span><span class="op" id="2466392">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466395">return</span>&nbsp;<span class="builtinfunc" id="2466402">len</span><span class="op" id="2466405">(</span><span class="ident" id="2466406">p</span><span class="op" id="2466407">)</span><span class="op" id="2466408">,</span>&nbsp;<span class="ident" id="2466410">nil</span><br>
<span class="lineno"></span><span class="op" id="2466414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2466417">func</span>&nbsp;<span class="op" id="2466422">(</span><span class="ident" id="2466423">b</span>&nbsp;<span class="op" id="2466425">*</span><span class="ident" id="2466426">buffer</span><span class="op" id="2466432">)</span>&nbsp;<span class="ident" id="2466434">WriteString</span><span class="op" id="2466445">(</span><span class="ident" id="2466446">s</span>&nbsp;<span class="builtintype" id="2466448">string</span><span class="op" id="2466454">)</span>&nbsp;<span class="op" id="2466456">(</span><span class="ident" id="2466457">n</span>&nbsp;<span class="builtintype" id="2466459">int</span><span class="op" id="2466462">,</span>&nbsp;<span class="ident" id="2466464">err</span>&nbsp;<span class="builtintype" id="2466468">error</span><span class="op" id="2466473">)</span>&nbsp;<span class="op" id="2466475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466478">*</span><span class="ident" id="2466479">b</span>&nbsp;<span class="op" id="2466481">=</span>&nbsp;<span class="builtinfunc" id="2466483">append</span><span class="op" id="2466489">(</span><span class="op" id="2466490">*</span><span class="ident" id="2466491">b</span><span class="op" id="2466492">,</span>&nbsp;<span class="ident" id="2466494">s</span><span class="op" id="2466495">...</span><span class="op" id="2466498">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466501">return</span>&nbsp;<span class="builtinfunc" id="2466508">len</span><span class="op" id="2466511">(</span><span class="ident" id="2466512">s</span><span class="op" id="2466513">)</span><span class="op" id="2466514">,</span>&nbsp;<span class="ident" id="2466516">nil</span><br>
<span class="lineno"></span><span class="op" id="2466520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2466523">func</span>&nbsp;<span class="op" id="2466528">(</span><span class="ident" id="2466529">b</span>&nbsp;<span class="op" id="2466531">*</span><span class="ident" id="2466532">buffer</span><span class="op" id="2466538">)</span>&nbsp;<span class="ident" id="2466540">WriteByte</span><span class="op" id="2466549">(</span><span class="ident" id="2466550">c</span>&nbsp;<span class="builtintype" id="2466552">byte</span><span class="op" id="2466556">)</span>&nbsp;<span class="builtintype" id="2466558">error</span>&nbsp;<span class="op" id="2466564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466567">*</span><span class="ident" id="2466568">b</span>&nbsp;<span class="op" id="2466570">=</span>&nbsp;<span class="builtinfunc" id="2466572">append</span><span class="op" id="2466578">(</span><span class="op" id="2466579">*</span><span class="ident" id="2466580">b</span><span class="op" id="2466581">,</span>&nbsp;<span class="ident" id="2466583">c</span><span class="op" id="2466584">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466587">return</span>&nbsp;<span class="ident" id="2466594">nil</span><br>
<span class="lineno"></span><span class="op" id="2466598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2466601">func</span>&nbsp;<span class="op" id="2466606">(</span><span class="ident" id="2466607">bp</span>&nbsp;<span class="op" id="2466610">*</span><span class="ident" id="2466611">buffer</span><span class="op" id="2466617">)</span>&nbsp;<span class="ident" id="2466619">WriteRune</span><span class="op" id="2466628">(</span><span class="ident" id="2466629">r</span>&nbsp;<span class="builtintype" id="2466631">rune</span><span class="op" id="2466635">)</span>&nbsp;<span class="builtintype" id="2466637">error</span>&nbsp;<span class="op" id="2466643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466646">if</span>&nbsp;<span class="ident" id="2466649">r</span>&nbsp;<span class="op" id="2466651">&lt;</span>&nbsp;<span class="ident" id="2466653">utf8</span><span class="op" id="2466657">.</span><span class="ident" id="2466658">RuneSelf</span>&nbsp;<span class="op" id="2466667">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466671">*</span><span class="ident" id="2466672">bp</span>&nbsp;<span class="op" id="2466675">=</span>&nbsp;<span class="builtinfunc" id="2466677">append</span><span class="op" id="2466683">(</span><span class="op" id="2466684">*</span><span class="ident" id="2466685">bp</span><span class="op" id="2466687">,</span>&nbsp;<span class="builtintype" id="2466689">byte</span><span class="op" id="2466693">(</span><span class="ident" id="2466694">r</span><span class="op" id="2466695">)</span><span class="op" id="2466696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466700">return</span>&nbsp;<span class="ident" id="2466707">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466716">b</span>&nbsp;<span class="op" id="2466718">:=</span>&nbsp;<span class="op" id="2466721">*</span><span class="ident" id="2466722">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466726">n</span>&nbsp;<span class="op" id="2466728">:=</span>&nbsp;<span class="builtinfunc" id="2466731">len</span><span class="op" id="2466734">(</span><span class="ident" id="2466735">b</span><span class="op" id="2466736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466739">for</span>&nbsp;<span class="ident" id="2466743">n</span><span class="op" id="2466744">+</span><span class="ident" id="2466745">utf8</span><span class="op" id="2466749">.</span><span class="ident" id="2466750">UTFMax</span>&nbsp;<span class="op" id="2466757">&gt;</span>&nbsp;<span class="builtinfunc" id="2466759">cap</span><span class="op" id="2466762">(</span><span class="ident" id="2466763">b</span><span class="op" id="2466764">)</span>&nbsp;<span class="op" id="2466766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466770">b</span>&nbsp;<span class="op" id="2466772">=</span>&nbsp;<span class="builtinfunc" id="2466774">append</span><span class="op" id="2466780">(</span><span class="ident" id="2466781">b</span><span class="op" id="2466782">,</span>&nbsp;<span class="num" id="2466784">0</span><span class="op" id="2466785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466791">w</span>&nbsp;<span class="op" id="2466793">:=</span>&nbsp;<span class="ident" id="2466796">utf8</span><span class="op" id="2466800">.</span><span class="ident" id="2466801">EncodeRune</span><span class="op" id="2466811">(</span><span class="ident" id="2466812">b</span><span class="op" id="2466813">[</span><span class="ident" id="2466814">n</span><span class="op" id="2466815">:</span><span class="ident" id="2466816">n</span><span class="op" id="2466817">+</span><span class="ident" id="2466818">utf8</span><span class="op" id="2466822">.</span><span class="ident" id="2466823">UTFMax</span><span class="op" id="2466829">]</span><span class="op" id="2466830">,</span>&nbsp;<span class="ident" id="2466832">r</span><span class="op" id="2466833">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466836">*</span><span class="ident" id="2466837">bp</span>&nbsp;<span class="op" id="2466840">=</span>&nbsp;<span class="ident" id="2466842">b</span><span class="op" id="2466843">[</span><span class="op" id="2466844">:</span><span class="ident" id="2466845">n</span><span class="op" id="2466846">+</span><span class="ident" id="2466847">w</span><span class="op" id="2466848">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466851">return</span>&nbsp;<span class="ident" id="2466858">nil</span><br>
<span class="lineno"></span><span class="op" id="2466862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2466865">type</span>&nbsp;<span class="ident" id="2466870">pp</span>&nbsp;<span class="keyword" id="2466873">struct</span>&nbsp;<span class="op" id="2466880">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466883">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2466893">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466898">panicking</span>&nbsp;<span class="builtintype" id="2466908">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466914">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2466924">bool</span>&nbsp;<span class="comment" id="2466929">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466961">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2466971">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2466979">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467030">arg</span>&nbsp;<span class="keyword" id="2467034">interface</span><span class="op" id="2467043">{</span><span class="op" id="2467044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467047">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467113">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467168">value</span>&nbsp;<span class="ident" id="2467174">reflect</span><span class="op" id="2467181">.</span><span class="ident" id="2467182">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467189">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467263">reordered</span>&nbsp;<span class="builtintype" id="2467273">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467279">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467358">goodArgNum</span>&nbsp;<span class="builtintype" id="2467369">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467375">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2467386">[</span><span class="ident" id="2467387">utf8</span><span class="op" id="2467391">.</span><span class="ident" id="2467392">UTFMax</span><span class="op" id="2467398">]</span><span class="builtintype" id="2467399">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467405">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2467416">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2467420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2467423">var</span>&nbsp;<span class="ident" id="2467427">ppFree</span>&nbsp;<span class="op" id="2467434">=</span>&nbsp;<span class="ident" id="2467436">sync</span><span class="op" id="2467440">.</span><span class="ident" id="2467441">Pool</span><span class="op" id="2467445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467448">New</span><span class="op" id="2467451">:</span>&nbsp;<span class="keyword" id="2467453">func</span><span class="op" id="2467457">(</span><span class="op" id="2467458">)</span>&nbsp;<span class="keyword" id="2467460">interface</span><span class="op" id="2467469">{</span><span class="op" id="2467470">}</span>&nbsp;<span class="op" id="2467472">{</span>&nbsp;<span class="keyword" id="2467474">return</span>&nbsp;<span class="builtinfunc" id="2467481">new</span><span class="op" id="2467484">(</span><span class="ident" id="2467485">pp</span><span class="op" id="2467487">)</span>&nbsp;<span class="op" id="2467489">}</span><span class="op" id="2467490">,</span><br>
<span class="lineno"></span><span class="op" id="2467492">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2467495">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2467558">func</span>&nbsp;<span class="ident" id="2467563">newPrinter</span><span class="op" id="2467573">(</span><span class="op" id="2467574">)</span>&nbsp;<span class="op" id="2467576">*</span><span class="ident" id="2467577">pp</span>&nbsp;<span class="op" id="2467580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467583">p</span>&nbsp;<span class="op" id="2467585">:=</span>&nbsp;<span class="ident" id="2467588">ppFree</span><span class="op" id="2467594">.</span><span class="ident" id="2467595">Get</span><span class="op" id="2467598">(</span><span class="op" id="2467599">)</span><span class="op" id="2467600">.</span><span class="op" id="2467601">(</span><span class="op" id="2467602">*</span><span class="ident" id="2467603">pp</span><span class="op" id="2467605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467608">p</span><span class="op" id="2467609">.</span><span class="ident" id="2467610">panicking</span>&nbsp;<span class="op" id="2467620">=</span>&nbsp;<span class="builtintype" id="2467622">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467629">p</span><span class="op" id="2467630">.</span><span class="ident" id="2467631">erroring</span>&nbsp;<span class="op" id="2467640">=</span>&nbsp;<span class="builtintype" id="2467642">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467649">p</span><span class="op" id="2467650">.</span><span class="ident" id="2467651">fmt</span><span class="op" id="2467654">.</span><span class="ident" id="2467655">init</span><span class="op" id="2467659">(</span><span class="op" id="2467660">&amp;</span><span class="ident" id="2467661">p</span><span class="op" id="2467662">.</span><span class="ident" id="2467663">buf</span><span class="op" id="2467666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2467669">return</span>&nbsp;<span class="ident" id="2467676">p</span><br>
<span class="lineno"></span><span class="op" id="2467678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2467681">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2467759">func</span>&nbsp;<span class="op" id="2467764">(</span><span class="ident" id="2467765">p</span>&nbsp;<span class="op" id="2467767">*</span><span class="ident" id="2467768">pp</span><span class="op" id="2467770">)</span>&nbsp;<span class="ident" id="2467772">free</span><span class="op" id="2467776">(</span><span class="op" id="2467777">)</span>&nbsp;<span class="op" id="2467779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467782">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2467834">if</span>&nbsp;<span class="builtinfunc" id="2467837">cap</span><span class="op" id="2467840">(</span><span class="ident" id="2467841">p</span><span class="op" id="2467842">.</span><span class="ident" id="2467843">buf</span><span class="op" id="2467846">)</span>&nbsp;<span class="op" id="2467848">&gt;</span>&nbsp;<span class="num" id="2467850">1024</span>&nbsp;<span class="op" id="2467855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2467859">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2467867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467870">p</span><span class="op" id="2467871">.</span><span class="ident" id="2467872">buf</span>&nbsp;<span class="op" id="2467876">=</span>&nbsp;<span class="ident" id="2467878">p</span><span class="op" id="2467879">.</span><span class="ident" id="2467880">buf</span><span class="op" id="2467883">[</span><span class="op" id="2467884">:</span><span class="num" id="2467885">0</span><span class="op" id="2467886">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467889">p</span><span class="op" id="2467890">.</span><span class="ident" id="2467891">arg</span>&nbsp;<span class="op" id="2467895">=</span>&nbsp;<span class="ident" id="2467897">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467902">p</span><span class="op" id="2467903">.</span><span class="ident" id="2467904">value</span>&nbsp;<span class="op" id="2467910">=</span>&nbsp;<span class="ident" id="2467912">reflect</span><span class="op" id="2467919">.</span><span class="ident" id="2467920">Value</span><span class="op" id="2467925">{</span><span class="op" id="2467926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467929">ppFree</span><span class="op" id="2467935">.</span><span class="ident" id="2467936">Put</span><span class="op" id="2467939">(</span><span class="ident" id="2467940">p</span><span class="op" id="2467941">)</span><br>
<span class="lineno">150</span><span class="op" id="2467943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2467946">func</span>&nbsp;<span class="op" id="2467951">(</span><span class="ident" id="2467952">p</span>&nbsp;<span class="op" id="2467954">*</span><span class="ident" id="2467955">pp</span><span class="op" id="2467957">)</span>&nbsp;<span class="ident" id="2467959">Width</span><span class="op" id="2467964">(</span><span class="op" id="2467965">)</span>&nbsp;<span class="op" id="2467967">(</span><span class="ident" id="2467968">wid</span>&nbsp;<span class="builtintype" id="2467972">int</span><span class="op" id="2467975">,</span>&nbsp;<span class="ident" id="2467977">ok</span>&nbsp;<span class="builtintype" id="2467980">bool</span><span class="op" id="2467984">)</span>&nbsp;<span class="op" id="2467986">{</span>&nbsp;<span class="keyword" id="2467988">return</span>&nbsp;<span class="ident" id="2467995">p</span><span class="op" id="2467996">.</span><span class="ident" id="2467997">fmt</span><span class="op" id="2468000">.</span><span class="ident" id="2468001">wid</span><span class="op" id="2468004">,</span>&nbsp;<span class="ident" id="2468006">p</span><span class="op" id="2468007">.</span><span class="ident" id="2468008">fmt</span><span class="op" id="2468011">.</span><span class="ident" id="2468012">widPresent</span>&nbsp;<span class="op" id="2468023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2468026">func</span>&nbsp;<span class="op" id="2468031">(</span><span class="ident" id="2468032">p</span>&nbsp;<span class="op" id="2468034">*</span><span class="ident" id="2468035">pp</span><span class="op" id="2468037">)</span>&nbsp;<span class="ident" id="2468039">Precision</span><span class="op" id="2468048">(</span><span class="op" id="2468049">)</span>&nbsp;<span class="op" id="2468051">(</span><span class="ident" id="2468052">prec</span>&nbsp;<span class="builtintype" id="2468057">int</span><span class="op" id="2468060">,</span>&nbsp;<span class="ident" id="2468062">ok</span>&nbsp;<span class="builtintype" id="2468065">bool</span><span class="op" id="2468069">)</span>&nbsp;<span class="op" id="2468071">{</span>&nbsp;<span class="keyword" id="2468073">return</span>&nbsp;<span class="ident" id="2468080">p</span><span class="op" id="2468081">.</span><span class="ident" id="2468082">fmt</span><span class="op" id="2468085">.</span><span class="ident" id="2468086">prec</span><span class="op" id="2468090">,</span>&nbsp;<span class="ident" id="2468092">p</span><span class="op" id="2468093">.</span><span class="ident" id="2468094">fmt</span><span class="op" id="2468097">.</span><span class="ident" id="2468098">precPresent</span>&nbsp;<span class="op" id="2468110">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2468113">func</span>&nbsp;<span class="op" id="2468118">(</span><span class="ident" id="2468119">p</span>&nbsp;<span class="op" id="2468121">*</span><span class="ident" id="2468122">pp</span><span class="op" id="2468124">)</span>&nbsp;<span class="ident" id="2468126">Flag</span><span class="op" id="2468130">(</span><span class="ident" id="2468131">b</span>&nbsp;<span class="builtintype" id="2468133">int</span><span class="op" id="2468136">)</span>&nbsp;<span class="builtintype" id="2468138">bool</span>&nbsp;<span class="op" id="2468143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468146">switch</span>&nbsp;<span class="ident" id="2468153">b</span>&nbsp;<span class="op" id="2468155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468158">case</span>&nbsp;<span class="string" id="2468163">&#39;-&#39;</span><span class="op" id="2468166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468170">return</span>&nbsp;<span class="ident" id="2468177">p</span><span class="op" id="2468178">.</span><span class="ident" id="2468179">fmt</span><span class="op" id="2468182">.</span><span class="ident" id="2468183">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468190">case</span>&nbsp;<span class="string" id="2468195">&#39;+&#39;</span><span class="op" id="2468198">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468202">return</span>&nbsp;<span class="ident" id="2468209">p</span><span class="op" id="2468210">.</span><span class="ident" id="2468211">fmt</span><span class="op" id="2468214">.</span><span class="ident" id="2468215">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468221">case</span>&nbsp;<span class="string" id="2468226">&#39;#&#39;</span><span class="op" id="2468229">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468233">return</span>&nbsp;<span class="ident" id="2468240">p</span><span class="op" id="2468241">.</span><span class="ident" id="2468242">fmt</span><span class="op" id="2468245">.</span><span class="ident" id="2468246">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468253">case</span>&nbsp;<span class="string" id="2468258">&#39;&nbsp;&#39;</span><span class="op" id="2468261">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468265">return</span>&nbsp;<span class="ident" id="2468272">p</span><span class="op" id="2468273">.</span><span class="ident" id="2468274">fmt</span><span class="op" id="2468277">.</span><span class="ident" id="2468278">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468285">case</span>&nbsp;<span class="string" id="2468290">&#39;0&#39;</span><span class="op" id="2468293">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468297">return</span>&nbsp;<span class="ident" id="2468304">p</span><span class="op" id="2468305">.</span><span class="ident" id="2468306">fmt</span><span class="op" id="2468309">.</span><span class="ident" id="2468310">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2468316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468319">return</span>&nbsp;<span class="builtintype" id="2468326">false</span><br>
<span class="lineno">170</span><span class="op" id="2468332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2468335">func</span>&nbsp;<span class="op" id="2468340">(</span><span class="ident" id="2468341">p</span>&nbsp;<span class="op" id="2468343">*</span><span class="ident" id="2468344">pp</span><span class="op" id="2468346">)</span>&nbsp;<span class="ident" id="2468348">add</span><span class="op" id="2468351">(</span><span class="ident" id="2468352">c</span>&nbsp;<span class="builtintype" id="2468354">rune</span><span class="op" id="2468358">)</span>&nbsp;<span class="op" id="2468360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2468363">p</span><span class="op" id="2468364">.</span><span class="ident" id="2468365">buf</span><span class="op" id="2468368">.</span><span class="ident" id="2468369">WriteRune</span><span class="op" id="2468378">(</span><span class="ident" id="2468379">c</span><span class="op" id="2468380">)</span><br>
<span class="lineno"></span><span class="op" id="2468382">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2468385">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2468456">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2468490">func</span>&nbsp;<span class="op" id="2468495">(</span><span class="ident" id="2468496">p</span>&nbsp;<span class="op" id="2468498">*</span><span class="ident" id="2468499">pp</span><span class="op" id="2468501">)</span>&nbsp;<span class="ident" id="2468503">Write</span><span class="op" id="2468508">(</span><span class="ident" id="2468509">b</span>&nbsp;<span class="op" id="2468511">[</span><span class="op" id="2468512">]</span><span class="builtintype" id="2468513">byte</span><span class="op" id="2468517">)</span>&nbsp;<span class="op" id="2468519">(</span><span class="ident" id="2468520">ret</span>&nbsp;<span class="builtintype" id="2468524">int</span><span class="op" id="2468527">,</span>&nbsp;<span class="ident" id="2468529">err</span>&nbsp;<span class="builtintype" id="2468533">error</span><span class="op" id="2468538">)</span>&nbsp;<span class="op" id="2468540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468543">return</span>&nbsp;<span class="ident" id="2468550">p</span><span class="op" id="2468551">.</span><span class="ident" id="2468552">buf</span><span class="op" id="2468555">.</span><span class="ident" id="2468556">Write</span><span class="op" id="2468561">(</span><span class="ident" id="2468562">b</span><span class="op" id="2468563">)</span><br>
<span class="lineno">180</span><span class="op" id="2468565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2468568">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2468624">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2468692">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2468767">func</span>&nbsp;<span class="ident" id="2468772">Fprintf</span><span class="op" id="2468779">(</span><span class="ident" id="2468780">w</span>&nbsp;<span class="ident" id="2468782">io</span><span class="op" id="2468784">.</span><span class="ident" id="2468785">Writer</span><span class="op" id="2468791">,</span>&nbsp;<span class="ident" id="2468793">format</span>&nbsp;<span class="builtintype" id="2468800">string</span><span class="op" id="2468806">,</span>&nbsp;<span class="ident" id="2468808">a</span>&nbsp;<span class="op" id="2468810">...</span><span class="keyword" id="2468813">interface</span><span class="op" id="2468822">{</span><span class="op" id="2468823">}</span><span class="op" id="2468824">)</span>&nbsp;<span class="op" id="2468826">(</span><span class="ident" id="2468827">n</span>&nbsp;<span class="builtintype" id="2468829">int</span><span class="op" id="2468832">,</span>&nbsp;<span class="ident" id="2468834">err</span>&nbsp;<span class="builtintype" id="2468838">error</span><span class="op" id="2468843">)</span>&nbsp;<span class="op" id="2468845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2468848">p</span>&nbsp;<span class="op" id="2468850">:=</span>&nbsp;<span class="ident" id="2468853">newPrinter</span><span class="op" id="2468863">(</span><span class="op" id="2468864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2468867">p</span><span class="op" id="2468868">.</span><span class="ident" id="2468869">doPrintf</span><span class="op" id="2468877">(</span><span class="ident" id="2468878">format</span><span class="op" id="2468884">,</span>&nbsp;<span class="ident" id="2468886">a</span><span class="op" id="2468887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2468890">n</span><span class="op" id="2468891">,</span>&nbsp;<span class="ident" id="2468893">err</span>&nbsp;<span class="op" id="2468897">=</span>&nbsp;<span class="ident" id="2468899">w</span><span class="op" id="2468900">.</span><span class="ident" id="2468901">Write</span><span class="op" id="2468906">(</span><span class="ident" id="2468907">p</span><span class="op" id="2468908">.</span><span class="ident" id="2468909">buf</span><span class="op" id="2468912">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2468915">p</span><span class="op" id="2468916">.</span><span class="ident" id="2468917">free</span><span class="op" id="2468921">(</span><span class="op" id="2468922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468925">return</span><br>
<span class="lineno"></span><span class="op" id="2468932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2468935">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2469016">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2469091">func</span>&nbsp;<span class="ident" id="2469096">Printf</span><span class="op" id="2469102">(</span><span class="ident" id="2469103">format</span>&nbsp;<span class="builtintype" id="2469110">string</span><span class="op" id="2469116">,</span>&nbsp;<span class="ident" id="2469118">a</span>&nbsp;<span class="op" id="2469120">...</span><span class="keyword" id="2469123">interface</span><span class="op" id="2469132">{</span><span class="op" id="2469133">}</span><span class="op" id="2469134">)</span>&nbsp;<span class="op" id="2469136">(</span><span class="ident" id="2469137">n</span>&nbsp;<span class="builtintype" id="2469139">int</span><span class="op" id="2469142">,</span>&nbsp;<span class="ident" id="2469144">err</span>&nbsp;<span class="builtintype" id="2469148">error</span><span class="op" id="2469153">)</span>&nbsp;<span class="op" id="2469155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469158">return</span>&nbsp;<span class="ident" id="2469165">Fprintf</span><span class="op" id="2469172">(</span><span class="ident" id="2469173">os</span><span class="op" id="2469175">.</span><span class="ident" id="2469176">Stdout</span><span class="op" id="2469182">,</span>&nbsp;<span class="ident" id="2469184">format</span><span class="op" id="2469190">,</span>&nbsp;<span class="ident" id="2469192">a</span><span class="op" id="2469193">...</span><span class="op" id="2469196">)</span><br>
<span class="lineno"></span><span class="op" id="2469198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2469201">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2469286">func</span>&nbsp;<span class="ident" id="2469291">Sprintf</span><span class="op" id="2469298">(</span><span class="ident" id="2469299">format</span>&nbsp;<span class="builtintype" id="2469306">string</span><span class="op" id="2469312">,</span>&nbsp;<span class="ident" id="2469314">a</span>&nbsp;<span class="op" id="2469316">...</span><span class="keyword" id="2469319">interface</span><span class="op" id="2469328">{</span><span class="op" id="2469329">}</span><span class="op" id="2469330">)</span>&nbsp;<span class="builtintype" id="2469332">string</span>&nbsp;<span class="op" id="2469339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469342">p</span>&nbsp;<span class="op" id="2469344">:=</span>&nbsp;<span class="ident" id="2469347">newPrinter</span><span class="op" id="2469357">(</span><span class="op" id="2469358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469361">p</span><span class="op" id="2469362">.</span><span class="ident" id="2469363">doPrintf</span><span class="op" id="2469371">(</span><span class="ident" id="2469372">format</span><span class="op" id="2469378">,</span>&nbsp;<span class="ident" id="2469380">a</span><span class="op" id="2469381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469384">s</span>&nbsp;<span class="op" id="2469386">:=</span>&nbsp;<span class="builtintype" id="2469389">string</span><span class="op" id="2469395">(</span><span class="ident" id="2469396">p</span><span class="op" id="2469397">.</span><span class="ident" id="2469398">buf</span><span class="op" id="2469401">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469404">p</span><span class="op" id="2469405">.</span><span class="ident" id="2469406">free</span><span class="op" id="2469410">(</span><span class="op" id="2469411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469414">return</span>&nbsp;<span class="ident" id="2469421">s</span><br>
<span class="lineno"></span><span class="op" id="2469423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2469426">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2469499">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2469535">func</span>&nbsp;<span class="ident" id="2469540">Errorf</span><span class="op" id="2469546">(</span><span class="ident" id="2469547">format</span>&nbsp;<span class="builtintype" id="2469554">string</span><span class="op" id="2469560">,</span>&nbsp;<span class="ident" id="2469562">a</span>&nbsp;<span class="op" id="2469564">...</span><span class="keyword" id="2469567">interface</span><span class="op" id="2469576">{</span><span class="op" id="2469577">}</span><span class="op" id="2469578">)</span>&nbsp;<span class="builtintype" id="2469580">error</span>&nbsp;<span class="op" id="2469586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469589">return</span>&nbsp;<span class="ident" id="2469596">errors</span><span class="op" id="2469602">.</span><span class="ident" id="2469603">New</span><span class="op" id="2469606">(</span><span class="ident" id="2469607">Sprintf</span><span class="op" id="2469614">(</span><span class="ident" id="2469615">format</span><span class="op" id="2469621">,</span>&nbsp;<span class="ident" id="2469623">a</span><span class="op" id="2469624">...</span><span class="op" id="2469627">)</span><span class="op" id="2469628">)</span><br>
<span class="lineno"></span><span class="op" id="2469630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2469633">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2469680">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2469758">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2469821">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2469896">func</span>&nbsp;<span class="ident" id="2469901">Fprint</span><span class="op" id="2469907">(</span><span class="ident" id="2469908">w</span>&nbsp;<span class="ident" id="2469910">io</span><span class="op" id="2469912">.</span><span class="ident" id="2469913">Writer</span><span class="op" id="2469919">,</span>&nbsp;<span class="ident" id="2469921">a</span>&nbsp;<span class="op" id="2469923">...</span><span class="keyword" id="2469926">interface</span><span class="op" id="2469935">{</span><span class="op" id="2469936">}</span><span class="op" id="2469937">)</span>&nbsp;<span class="op" id="2469939">(</span><span class="ident" id="2469940">n</span>&nbsp;<span class="builtintype" id="2469942">int</span><span class="op" id="2469945">,</span>&nbsp;<span class="ident" id="2469947">err</span>&nbsp;<span class="builtintype" id="2469951">error</span><span class="op" id="2469956">)</span>&nbsp;<span class="op" id="2469958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469961">p</span>&nbsp;<span class="op" id="2469963">:=</span>&nbsp;<span class="ident" id="2469966">newPrinter</span><span class="op" id="2469976">(</span><span class="op" id="2469977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469980">p</span><span class="op" id="2469981">.</span><span class="ident" id="2469982">doPrint</span><span class="op" id="2469989">(</span><span class="ident" id="2469990">a</span><span class="op" id="2469991">,</span>&nbsp;<span class="builtintype" id="2469993">false</span><span class="op" id="2469998">,</span>&nbsp;<span class="builtintype" id="2470000">false</span><span class="op" id="2470005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470008">n</span><span class="op" id="2470009">,</span>&nbsp;<span class="ident" id="2470011">err</span>&nbsp;<span class="op" id="2470015">=</span>&nbsp;<span class="ident" id="2470017">w</span><span class="op" id="2470018">.</span><span class="ident" id="2470019">Write</span><span class="op" id="2470024">(</span><span class="ident" id="2470025">p</span><span class="op" id="2470026">.</span><span class="ident" id="2470027">buf</span><span class="op" id="2470030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470033">p</span><span class="op" id="2470034">.</span><span class="ident" id="2470035">free</span><span class="op" id="2470039">(</span><span class="op" id="2470040">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470043">return</span><br>
<span class="lineno"></span><span class="op" id="2470050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2470053">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2470144">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2470207">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2470282">func</span>&nbsp;<span class="ident" id="2470287">Print</span><span class="op" id="2470292">(</span><span class="ident" id="2470293">a</span>&nbsp;<span class="op" id="2470295">...</span><span class="keyword" id="2470298">interface</span><span class="op" id="2470307">{</span><span class="op" id="2470308">}</span><span class="op" id="2470309">)</span>&nbsp;<span class="op" id="2470311">(</span><span class="ident" id="2470312">n</span>&nbsp;<span class="builtintype" id="2470314">int</span><span class="op" id="2470317">,</span>&nbsp;<span class="ident" id="2470319">err</span>&nbsp;<span class="builtintype" id="2470323">error</span><span class="op" id="2470328">)</span>&nbsp;<span class="op" id="2470330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470333">return</span>&nbsp;<span class="ident" id="2470340">Fprint</span><span class="op" id="2470346">(</span><span class="ident" id="2470347">os</span><span class="op" id="2470349">.</span><span class="ident" id="2470350">Stdout</span><span class="op" id="2470356">,</span>&nbsp;<span class="ident" id="2470358">a</span><span class="op" id="2470359">...</span><span class="op" id="2470362">)</span><br>
<span class="lineno"></span><span class="op" id="2470364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2470367">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2470462">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2470525">func</span>&nbsp;<span class="ident" id="2470530">Sprint</span><span class="op" id="2470536">(</span><span class="ident" id="2470537">a</span>&nbsp;<span class="op" id="2470539">...</span><span class="keyword" id="2470542">interface</span><span class="op" id="2470551">{</span><span class="op" id="2470552">}</span><span class="op" id="2470553">)</span>&nbsp;<span class="builtintype" id="2470555">string</span>&nbsp;<span class="op" id="2470562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470565">p</span>&nbsp;<span class="op" id="2470567">:=</span>&nbsp;<span class="ident" id="2470570">newPrinter</span><span class="op" id="2470580">(</span><span class="op" id="2470581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470584">p</span><span class="op" id="2470585">.</span><span class="ident" id="2470586">doPrint</span><span class="op" id="2470593">(</span><span class="ident" id="2470594">a</span><span class="op" id="2470595">,</span>&nbsp;<span class="builtintype" id="2470597">false</span><span class="op" id="2470602">,</span>&nbsp;<span class="builtintype" id="2470604">false</span><span class="op" id="2470609">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470612">s</span>&nbsp;<span class="op" id="2470614">:=</span>&nbsp;<span class="builtintype" id="2470617">string</span><span class="op" id="2470623">(</span><span class="ident" id="2470624">p</span><span class="op" id="2470625">.</span><span class="ident" id="2470626">buf</span><span class="op" id="2470629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470632">p</span><span class="op" id="2470633">.</span><span class="ident" id="2470634">free</span><span class="op" id="2470638">(</span><span class="op" id="2470639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470642">return</span>&nbsp;<span class="ident" id="2470649">s</span><br>
<span class="lineno"></span><span class="op" id="2470651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2470654">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2470714">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2470771">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2470799">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2470879">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2470950">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2471025">func</span>&nbsp;<span class="ident" id="2471030">Fprintln</span><span class="op" id="2471038">(</span><span class="ident" id="2471039">w</span>&nbsp;<span class="ident" id="2471041">io</span><span class="op" id="2471043">.</span><span class="ident" id="2471044">Writer</span><span class="op" id="2471050">,</span>&nbsp;<span class="ident" id="2471052">a</span>&nbsp;<span class="op" id="2471054">...</span><span class="keyword" id="2471057">interface</span><span class="op" id="2471066">{</span><span class="op" id="2471067">}</span><span class="op" id="2471068">)</span>&nbsp;<span class="op" id="2471070">(</span><span class="ident" id="2471071">n</span>&nbsp;<span class="builtintype" id="2471073">int</span><span class="op" id="2471076">,</span>&nbsp;<span class="ident" id="2471078">err</span>&nbsp;<span class="builtintype" id="2471082">error</span><span class="op" id="2471087">)</span>&nbsp;<span class="op" id="2471089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471092">p</span>&nbsp;<span class="op" id="2471094">:=</span>&nbsp;<span class="ident" id="2471097">newPrinter</span><span class="op" id="2471107">(</span><span class="op" id="2471108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471111">p</span><span class="op" id="2471112">.</span><span class="ident" id="2471113">doPrint</span><span class="op" id="2471120">(</span><span class="ident" id="2471121">a</span><span class="op" id="2471122">,</span>&nbsp;<span class="builtintype" id="2471124">true</span><span class="op" id="2471128">,</span>&nbsp;<span class="builtintype" id="2471130">true</span><span class="op" id="2471134">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471137">n</span><span class="op" id="2471138">,</span>&nbsp;<span class="ident" id="2471140">err</span>&nbsp;<span class="op" id="2471144">=</span>&nbsp;<span class="ident" id="2471146">w</span><span class="op" id="2471147">.</span><span class="ident" id="2471148">Write</span><span class="op" id="2471153">(</span><span class="ident" id="2471154">p</span><span class="op" id="2471155">.</span><span class="ident" id="2471156">buf</span><span class="op" id="2471159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471162">p</span><span class="op" id="2471163">.</span><span class="ident" id="2471164">free</span><span class="op" id="2471168">(</span><span class="op" id="2471169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471172">return</span><br>
<span class="lineno"></span><span class="op" id="2471179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2471182">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2471275">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2471346">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2471421">func</span>&nbsp;<span class="ident" id="2471426">Println</span><span class="op" id="2471433">(</span><span class="ident" id="2471434">a</span>&nbsp;<span class="op" id="2471436">...</span><span class="keyword" id="2471439">interface</span><span class="op" id="2471448">{</span><span class="op" id="2471449">}</span><span class="op" id="2471450">)</span>&nbsp;<span class="op" id="2471452">(</span><span class="ident" id="2471453">n</span>&nbsp;<span class="builtintype" id="2471455">int</span><span class="op" id="2471458">,</span>&nbsp;<span class="ident" id="2471460">err</span>&nbsp;<span class="builtintype" id="2471464">error</span><span class="op" id="2471469">)</span>&nbsp;<span class="op" id="2471471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471474">return</span>&nbsp;<span class="ident" id="2471481">Fprintln</span><span class="op" id="2471489">(</span><span class="ident" id="2471490">os</span><span class="op" id="2471492">.</span><span class="ident" id="2471493">Stdout</span><span class="op" id="2471499">,</span>&nbsp;<span class="ident" id="2471501">a</span><span class="op" id="2471502">...</span><span class="op" id="2471505">)</span><br>
<span class="lineno">265</span><span class="op" id="2471507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2471510">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2471607">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2471678">func</span>&nbsp;<span class="ident" id="2471683">Sprintln</span><span class="op" id="2471691">(</span><span class="ident" id="2471692">a</span>&nbsp;<span class="op" id="2471694">...</span><span class="keyword" id="2471697">interface</span><span class="op" id="2471706">{</span><span class="op" id="2471707">}</span><span class="op" id="2471708">)</span>&nbsp;<span class="builtintype" id="2471710">string</span>&nbsp;<span class="op" id="2471717">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471720">p</span>&nbsp;<span class="op" id="2471722">:=</span>&nbsp;<span class="ident" id="2471725">newPrinter</span><span class="op" id="2471735">(</span><span class="op" id="2471736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471739">p</span><span class="op" id="2471740">.</span><span class="ident" id="2471741">doPrint</span><span class="op" id="2471748">(</span><span class="ident" id="2471749">a</span><span class="op" id="2471750">,</span>&nbsp;<span class="builtintype" id="2471752">true</span><span class="op" id="2471756">,</span>&nbsp;<span class="builtintype" id="2471758">true</span><span class="op" id="2471762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471765">s</span>&nbsp;<span class="op" id="2471767">:=</span>&nbsp;<span class="builtintype" id="2471770">string</span><span class="op" id="2471776">(</span><span class="ident" id="2471777">p</span><span class="op" id="2471778">.</span><span class="ident" id="2471779">buf</span><span class="op" id="2471782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471785">p</span><span class="op" id="2471786">.</span><span class="ident" id="2471787">free</span><span class="op" id="2471791">(</span><span class="op" id="2471792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471795">return</span>&nbsp;<span class="ident" id="2471802">s</span><br>
<span class="lineno">275</span><span class="op" id="2471804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2471807">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2471860">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2471922">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2471983">func</span>&nbsp;<span class="ident" id="2471988">getField</span><span class="op" id="2471996">(</span><span class="ident" id="2471997">v</span>&nbsp;<span class="ident" id="2471999">reflect</span><span class="op" id="2472006">.</span><span class="ident" id="2472007">Value</span><span class="op" id="2472012">,</span>&nbsp;<span class="ident" id="2472014">i</span>&nbsp;<span class="builtintype" id="2472016">int</span><span class="op" id="2472019">)</span>&nbsp;<span class="ident" id="2472021">reflect</span><span class="op" id="2472028">.</span><span class="ident" id="2472029">Value</span>&nbsp;<span class="op" id="2472035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472038">val</span>&nbsp;<span class="op" id="2472042">:=</span>&nbsp;<span class="ident" id="2472045">v</span><span class="op" id="2472046">.</span><span class="ident" id="2472047">Field</span><span class="op" id="2472052">(</span><span class="ident" id="2472053">i</span><span class="op" id="2472054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472057">if</span>&nbsp;<span class="ident" id="2472060">val</span><span class="op" id="2472063">.</span><span class="ident" id="2472064">Kind</span><span class="op" id="2472068">(</span><span class="op" id="2472069">)</span>&nbsp;<span class="op" id="2472071">==</span>&nbsp;<span class="ident" id="2472074">reflect</span><span class="op" id="2472081">.</span><span class="ident" id="2472082">Interface</span>&nbsp;<span class="op" id="2472092">&amp;&amp;</span>&nbsp;<span class="op" id="2472095">!</span><span class="ident" id="2472096">val</span><span class="op" id="2472099">.</span><span class="ident" id="2472100">IsNil</span><span class="op" id="2472105">(</span><span class="op" id="2472106">)</span>&nbsp;<span class="op" id="2472108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472112">val</span>&nbsp;<span class="op" id="2472116">=</span>&nbsp;<span class="ident" id="2472118">val</span><span class="op" id="2472121">.</span><span class="ident" id="2472122">Elem</span><span class="op" id="2472126">(</span><span class="op" id="2472127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472130">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472133">return</span>&nbsp;<span class="ident" id="2472140">val</span><br>
<span class="lineno"></span><span class="op" id="2472144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2472147">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2472239">func</span>&nbsp;<span class="ident" id="2472244">parsenum</span><span class="op" id="2472252">(</span><span class="ident" id="2472253">s</span>&nbsp;<span class="builtintype" id="2472255">string</span><span class="op" id="2472261">,</span>&nbsp;<span class="ident" id="2472263">start</span><span class="op" id="2472268">,</span>&nbsp;<span class="ident" id="2472270">end</span>&nbsp;<span class="builtintype" id="2472274">int</span><span class="op" id="2472277">)</span>&nbsp;<span class="op" id="2472279">(</span><span class="ident" id="2472280">num</span>&nbsp;<span class="builtintype" id="2472284">int</span><span class="op" id="2472287">,</span>&nbsp;<span class="ident" id="2472289">isnum</span>&nbsp;<span class="builtintype" id="2472295">bool</span><span class="op" id="2472299">,</span>&nbsp;<span class="ident" id="2472301">newi</span>&nbsp;<span class="builtintype" id="2472306">int</span><span class="op" id="2472309">)</span>&nbsp;<span class="op" id="2472311">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472314">if</span>&nbsp;<span class="ident" id="2472317">start</span>&nbsp;<span class="op" id="2472323">&gt;=</span>&nbsp;<span class="ident" id="2472326">end</span>&nbsp;<span class="op" id="2472330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472334">return</span>&nbsp;<span class="num" id="2472341">0</span><span class="op" id="2472342">,</span>&nbsp;<span class="builtintype" id="2472344">false</span><span class="op" id="2472349">,</span>&nbsp;<span class="ident" id="2472351">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472359">for</span>&nbsp;<span class="ident" id="2472363">newi</span>&nbsp;<span class="op" id="2472368">=</span>&nbsp;<span class="ident" id="2472370">start</span><span class="op" id="2472375">;</span>&nbsp;<span class="ident" id="2472377">newi</span>&nbsp;<span class="op" id="2472382">&lt;</span>&nbsp;<span class="ident" id="2472384">end</span>&nbsp;<span class="op" id="2472388">&amp;&amp;</span>&nbsp;<span class="string" id="2472391">&#39;0&#39;</span>&nbsp;<span class="op" id="2472395">&lt;=</span>&nbsp;<span class="ident" id="2472398">s</span><span class="op" id="2472399">[</span><span class="ident" id="2472400">newi</span><span class="op" id="2472404">]</span>&nbsp;<span class="op" id="2472406">&amp;&amp;</span>&nbsp;<span class="ident" id="2472409">s</span><span class="op" id="2472410">[</span><span class="ident" id="2472411">newi</span><span class="op" id="2472415">]</span>&nbsp;<span class="op" id="2472417">&lt;=</span>&nbsp;<span class="string" id="2472420">&#39;9&#39;</span><span class="op" id="2472423">;</span>&nbsp;<span class="ident" id="2472425">newi</span><span class="op" id="2472429">++</span>&nbsp;<span class="op" id="2472432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472436">num</span>&nbsp;<span class="op" id="2472440">=</span>&nbsp;<span class="ident" id="2472442">num</span><span class="op" id="2472445">*</span><span class="num" id="2472446">10</span>&nbsp;<span class="op" id="2472449">+</span>&nbsp;<span class="builtintype" id="2472451">int</span><span class="op" id="2472454">(</span><span class="ident" id="2472455">s</span><span class="op" id="2472456">[</span><span class="ident" id="2472457">newi</span><span class="op" id="2472461">]</span><span class="op" id="2472462">-</span><span class="string" id="2472463">&#39;0&#39;</span><span class="op" id="2472466">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472470">isnum</span>&nbsp;<span class="op" id="2472476">=</span>&nbsp;<span class="builtintype" id="2472478">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472487">return</span><br>
<span class="lineno"></span><span class="op" id="2472494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2472497">func</span>&nbsp;<span class="op" id="2472502">(</span><span class="ident" id="2472503">p</span>&nbsp;<span class="op" id="2472505">*</span><span class="ident" id="2472506">pp</span><span class="op" id="2472508">)</span>&nbsp;<span class="ident" id="2472510">unknownType</span><span class="op" id="2472521">(</span><span class="ident" id="2472522">v</span>&nbsp;<span class="ident" id="2472524">reflect</span><span class="op" id="2472531">.</span><span class="ident" id="2472532">Value</span><span class="op" id="2472537">)</span>&nbsp;<span class="op" id="2472539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472542">if</span>&nbsp;<span class="op" id="2472545">!</span><span class="ident" id="2472546">v</span><span class="op" id="2472547">.</span><span class="ident" id="2472548">IsValid</span><span class="op" id="2472555">(</span><span class="op" id="2472556">)</span>&nbsp;<span class="op" id="2472558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472562">p</span><span class="op" id="2472563">.</span><span class="ident" id="2472564">buf</span><span class="op" id="2472567">.</span><span class="ident" id="2472568">Write</span><span class="op" id="2472573">(</span><span class="ident" id="2472574">nilAngleBytes</span><span class="op" id="2472587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472591">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472599">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472602">p</span><span class="op" id="2472603">.</span><span class="ident" id="2472604">buf</span><span class="op" id="2472607">.</span><span class="ident" id="2472608">WriteByte</span><span class="op" id="2472617">(</span><span class="string" id="2472618">&#39;?&#39;</span><span class="op" id="2472621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472624">p</span><span class="op" id="2472625">.</span><span class="ident" id="2472626">buf</span><span class="op" id="2472629">.</span><span class="ident" id="2472630">WriteString</span><span class="op" id="2472641">(</span><span class="ident" id="2472642">v</span><span class="op" id="2472643">.</span><span class="ident" id="2472644">Type</span><span class="op" id="2472648">(</span><span class="op" id="2472649">)</span><span class="op" id="2472650">.</span><span class="ident" id="2472651">String</span><span class="op" id="2472657">(</span><span class="op" id="2472658">)</span><span class="op" id="2472659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472662">p</span><span class="op" id="2472663">.</span><span class="ident" id="2472664">buf</span><span class="op" id="2472667">.</span><span class="ident" id="2472668">WriteByte</span><span class="op" id="2472677">(</span><span class="string" id="2472678">&#39;?&#39;</span><span class="op" id="2472681">)</span><br>
<span class="lineno"></span><span class="op" id="2472683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2472686">func</span>&nbsp;<span class="op" id="2472691">(</span><span class="ident" id="2472692">p</span>&nbsp;<span class="op" id="2472694">*</span><span class="ident" id="2472695">pp</span><span class="op" id="2472697">)</span>&nbsp;<span class="ident" id="2472699">badVerb</span><span class="op" id="2472706">(</span><span class="ident" id="2472707">verb</span>&nbsp;<span class="builtintype" id="2472712">rune</span><span class="op" id="2472716">)</span>&nbsp;<span class="op" id="2472718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472721">p</span><span class="op" id="2472722">.</span><span class="ident" id="2472723">erroring</span>&nbsp;<span class="op" id="2472732">=</span>&nbsp;<span class="builtintype" id="2472734">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472740">p</span><span class="op" id="2472741">.</span><span class="ident" id="2472742">add</span><span class="op" id="2472745">(</span><span class="string" id="2472746">&#39;%&#39;</span><span class="op" id="2472749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472752">p</span><span class="op" id="2472753">.</span><span class="ident" id="2472754">add</span><span class="op" id="2472757">(</span><span class="string" id="2472758">&#39;!&#39;</span><span class="op" id="2472761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472764">p</span><span class="op" id="2472765">.</span><span class="ident" id="2472766">add</span><span class="op" id="2472769">(</span><span class="ident" id="2472770">verb</span><span class="op" id="2472774">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472777">p</span><span class="op" id="2472778">.</span><span class="ident" id="2472779">add</span><span class="op" id="2472782">(</span><span class="string" id="2472783">&#39;(&#39;</span><span class="op" id="2472786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472789">switch</span>&nbsp;<span class="op" id="2472796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472799">case</span>&nbsp;<span class="ident" id="2472804">p</span><span class="op" id="2472805">.</span><span class="ident" id="2472806">arg</span>&nbsp;<span class="op" id="2472810">!=</span>&nbsp;<span class="ident" id="2472813">nil</span><span class="op" id="2472816">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472820">p</span><span class="op" id="2472821">.</span><span class="ident" id="2472822">buf</span><span class="op" id="2472825">.</span><span class="ident" id="2472826">WriteString</span><span class="op" id="2472837">(</span><span class="ident" id="2472838">reflect</span><span class="op" id="2472845">.</span><span class="ident" id="2472846">TypeOf</span><span class="op" id="2472852">(</span><span class="ident" id="2472853">p</span><span class="op" id="2472854">.</span><span class="ident" id="2472855">arg</span><span class="op" id="2472858">)</span><span class="op" id="2472859">.</span><span class="ident" id="2472860">String</span><span class="op" id="2472866">(</span><span class="op" id="2472867">)</span><span class="op" id="2472868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472872">p</span><span class="op" id="2472873">.</span><span class="ident" id="2472874">add</span><span class="op" id="2472877">(</span><span class="string" id="2472878">&#39;=&#39;</span><span class="op" id="2472881">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472885">p</span><span class="op" id="2472886">.</span><span class="ident" id="2472887">printArg</span><span class="op" id="2472895">(</span><span class="ident" id="2472896">p</span><span class="op" id="2472897">.</span><span class="ident" id="2472898">arg</span><span class="op" id="2472901">,</span>&nbsp;<span class="string" id="2472903">&#39;v&#39;</span><span class="op" id="2472906">,</span>&nbsp;<span class="num" id="2472908">0</span><span class="op" id="2472909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472912">case</span>&nbsp;<span class="ident" id="2472917">p</span><span class="op" id="2472918">.</span><span class="ident" id="2472919">value</span><span class="op" id="2472924">.</span><span class="ident" id="2472925">IsValid</span><span class="op" id="2472932">(</span><span class="op" id="2472933">)</span><span class="op" id="2472934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472938">p</span><span class="op" id="2472939">.</span><span class="ident" id="2472940">buf</span><span class="op" id="2472943">.</span><span class="ident" id="2472944">WriteString</span><span class="op" id="2472955">(</span><span class="ident" id="2472956">p</span><span class="op" id="2472957">.</span><span class="ident" id="2472958">value</span><span class="op" id="2472963">.</span><span class="ident" id="2472964">Type</span><span class="op" id="2472968">(</span><span class="op" id="2472969">)</span><span class="op" id="2472970">.</span><span class="ident" id="2472971">String</span><span class="op" id="2472977">(</span><span class="op" id="2472978">)</span><span class="op" id="2472979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472983">p</span><span class="op" id="2472984">.</span><span class="ident" id="2472985">add</span><span class="op" id="2472988">(</span><span class="string" id="2472989">&#39;=&#39;</span><span class="op" id="2472992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472996">p</span><span class="op" id="2472997">.</span><span class="ident" id="2472998">printValue</span><span class="op" id="2473008">(</span><span class="ident" id="2473009">p</span><span class="op" id="2473010">.</span><span class="ident" id="2473011">value</span><span class="op" id="2473016">,</span>&nbsp;<span class="string" id="2473018">&#39;v&#39;</span><span class="op" id="2473021">,</span>&nbsp;<span class="num" id="2473023">0</span><span class="op" id="2473024">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473027">default</span><span class="op" id="2473034">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473038">p</span><span class="op" id="2473039">.</span><span class="ident" id="2473040">buf</span><span class="op" id="2473043">.</span><span class="ident" id="2473044">Write</span><span class="op" id="2473049">(</span><span class="ident" id="2473050">nilAngleBytes</span><span class="op" id="2473063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2473066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473069">p</span><span class="op" id="2473070">.</span><span class="ident" id="2473071">add</span><span class="op" id="2473074">(</span><span class="string" id="2473075">&#39;)&#39;</span><span class="op" id="2473078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473081">p</span><span class="op" id="2473082">.</span><span class="ident" id="2473083">erroring</span>&nbsp;<span class="op" id="2473092">=</span>&nbsp;<span class="builtintype" id="2473094">false</span><br>
<span class="lineno">330</span><span class="op" id="2473100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2473103">func</span>&nbsp;<span class="op" id="2473108">(</span><span class="ident" id="2473109">p</span>&nbsp;<span class="op" id="2473111">*</span><span class="ident" id="2473112">pp</span><span class="op" id="2473114">)</span>&nbsp;<span class="ident" id="2473116">fmtBool</span><span class="op" id="2473123">(</span><span class="ident" id="2473124">v</span>&nbsp;<span class="builtintype" id="2473126">bool</span><span class="op" id="2473130">,</span>&nbsp;<span class="ident" id="2473132">verb</span>&nbsp;<span class="builtintype" id="2473137">rune</span><span class="op" id="2473141">)</span>&nbsp;<span class="op" id="2473143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473146">switch</span>&nbsp;<span class="ident" id="2473153">verb</span>&nbsp;<span class="op" id="2473158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473161">case</span>&nbsp;<span class="string" id="2473166">&#39;t&#39;</span><span class="op" id="2473169">,</span>&nbsp;<span class="string" id="2473171">&#39;v&#39;</span><span class="op" id="2473174">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473178">p</span><span class="op" id="2473179">.</span><span class="ident" id="2473180">fmt</span><span class="op" id="2473183">.</span><span class="ident" id="2473184">fmt_boolean</span><span class="op" id="2473195">(</span><span class="ident" id="2473196">v</span><span class="op" id="2473197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473200">default</span><span class="op" id="2473207">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473211">p</span><span class="op" id="2473212">.</span><span class="ident" id="2473213">badVerb</span><span class="op" id="2473220">(</span><span class="ident" id="2473221">verb</span><span class="op" id="2473225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2473228">}</span><br>
<span class="lineno"></span><span class="op" id="2473230">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2473233">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2473276">func</span>&nbsp;<span class="op" id="2473281">(</span><span class="ident" id="2473282">p</span>&nbsp;<span class="op" id="2473284">*</span><span class="ident" id="2473285">pp</span><span class="op" id="2473287">)</span>&nbsp;<span class="ident" id="2473289">fmtC</span><span class="op" id="2473293">(</span><span class="ident" id="2473294">c</span>&nbsp;<span class="ident" id="2473296">int64</span><span class="op" id="2473301">)</span>&nbsp;<span class="op" id="2473303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473306">r</span>&nbsp;<span class="op" id="2473308">:=</span>&nbsp;<span class="builtintype" id="2473311">rune</span><span class="op" id="2473315">(</span><span class="ident" id="2473316">c</span><span class="op" id="2473317">)</span>&nbsp;<span class="comment" id="2473319">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473343">if</span>&nbsp;<span class="ident" id="2473346">int64</span><span class="op" id="2473351">(</span><span class="ident" id="2473352">r</span><span class="op" id="2473353">)</span>&nbsp;<span class="op" id="2473355">!=</span>&nbsp;<span class="ident" id="2473358">c</span>&nbsp;<span class="op" id="2473360">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473364">r</span>&nbsp;<span class="op" id="2473366">=</span>&nbsp;<span class="ident" id="2473368">utf8</span><span class="op" id="2473372">.</span><span class="ident" id="2473373">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2473384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473387">w</span>&nbsp;<span class="op" id="2473389">:=</span>&nbsp;<span class="ident" id="2473392">utf8</span><span class="op" id="2473396">.</span><span class="ident" id="2473397">EncodeRune</span><span class="op" id="2473407">(</span><span class="ident" id="2473408">p</span><span class="op" id="2473409">.</span><span class="ident" id="2473410">runeBuf</span><span class="op" id="2473417">[</span><span class="num" id="2473418">0</span><span class="op" id="2473419">:</span><span class="ident" id="2473420">utf8</span><span class="op" id="2473424">.</span><span class="ident" id="2473425">UTFMax</span><span class="op" id="2473431">]</span><span class="op" id="2473432">,</span>&nbsp;<span class="ident" id="2473434">r</span><span class="op" id="2473435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473438">p</span><span class="op" id="2473439">.</span><span class="ident" id="2473440">fmt</span><span class="op" id="2473443">.</span><span class="ident" id="2473444">pad</span><span class="op" id="2473447">(</span><span class="ident" id="2473448">p</span><span class="op" id="2473449">.</span><span class="ident" id="2473450">runeBuf</span><span class="op" id="2473457">[</span><span class="num" id="2473458">0</span><span class="op" id="2473459">:</span><span class="ident" id="2473460">w</span><span class="op" id="2473461">]</span><span class="op" id="2473462">)</span><br>
<span class="lineno"></span><span class="op" id="2473464">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2473467">func</span>&nbsp;<span class="op" id="2473472">(</span><span class="ident" id="2473473">p</span>&nbsp;<span class="op" id="2473475">*</span><span class="ident" id="2473476">pp</span><span class="op" id="2473478">)</span>&nbsp;<span class="ident" id="2473480">fmtInt64</span><span class="op" id="2473488">(</span><span class="ident" id="2473489">v</span>&nbsp;<span class="ident" id="2473491">int64</span><span class="op" id="2473496">,</span>&nbsp;<span class="ident" id="2473498">verb</span>&nbsp;<span class="builtintype" id="2473503">rune</span><span class="op" id="2473507">)</span>&nbsp;<span class="op" id="2473509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473512">switch</span>&nbsp;<span class="ident" id="2473519">verb</span>&nbsp;<span class="op" id="2473524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473527">case</span>&nbsp;<span class="string" id="2473532">&#39;b&#39;</span><span class="op" id="2473535">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473539">p</span><span class="op" id="2473540">.</span><span class="ident" id="2473541">fmt</span><span class="op" id="2473544">.</span><span class="ident" id="2473545">integer</span><span class="op" id="2473552">(</span><span class="ident" id="2473553">v</span><span class="op" id="2473554">,</span>&nbsp;<span class="num" id="2473556">2</span><span class="op" id="2473557">,</span>&nbsp;<span class="ident" id="2473559">signed</span><span class="op" id="2473565">,</span>&nbsp;<span class="ident" id="2473567">ldigits</span><span class="op" id="2473574">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473577">case</span>&nbsp;<span class="string" id="2473582">&#39;c&#39;</span><span class="op" id="2473585">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473589">p</span><span class="op" id="2473590">.</span><span class="ident" id="2473591">fmtC</span><span class="op" id="2473595">(</span><span class="ident" id="2473596">v</span><span class="op" id="2473597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473600">case</span>&nbsp;<span class="string" id="2473605">&#39;d&#39;</span><span class="op" id="2473608">,</span>&nbsp;<span class="string" id="2473610">&#39;v&#39;</span><span class="op" id="2473613">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473617">p</span><span class="op" id="2473618">.</span><span class="ident" id="2473619">fmt</span><span class="op" id="2473622">.</span><span class="ident" id="2473623">integer</span><span class="op" id="2473630">(</span><span class="ident" id="2473631">v</span><span class="op" id="2473632">,</span>&nbsp;<span class="num" id="2473634">10</span><span class="op" id="2473636">,</span>&nbsp;<span class="ident" id="2473638">signed</span><span class="op" id="2473644">,</span>&nbsp;<span class="ident" id="2473646">ldigits</span><span class="op" id="2473653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473656">case</span>&nbsp;<span class="string" id="2473661">&#39;o&#39;</span><span class="op" id="2473664">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473668">p</span><span class="op" id="2473669">.</span><span class="ident" id="2473670">fmt</span><span class="op" id="2473673">.</span><span class="ident" id="2473674">integer</span><span class="op" id="2473681">(</span><span class="ident" id="2473682">v</span><span class="op" id="2473683">,</span>&nbsp;<span class="num" id="2473685">8</span><span class="op" id="2473686">,</span>&nbsp;<span class="ident" id="2473688">signed</span><span class="op" id="2473694">,</span>&nbsp;<span class="ident" id="2473696">ldigits</span><span class="op" id="2473703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473706">case</span>&nbsp;<span class="string" id="2473711">&#39;q&#39;</span><span class="op" id="2473714">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473718">if</span>&nbsp;<span class="num" id="2473721">0</span>&nbsp;<span class="op" id="2473723">&lt;=</span>&nbsp;<span class="ident" id="2473726">v</span>&nbsp;<span class="op" id="2473728">&amp;&amp;</span>&nbsp;<span class="ident" id="2473731">v</span>&nbsp;<span class="op" id="2473733">&lt;=</span>&nbsp;<span class="ident" id="2473736">utf8</span><span class="op" id="2473740">.</span><span class="ident" id="2473741">MaxRune</span>&nbsp;<span class="op" id="2473749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473754">p</span><span class="op" id="2473755">.</span><span class="ident" id="2473756">fmt</span><span class="op" id="2473759">.</span><span class="ident" id="2473760">fmt_qc</span><span class="op" id="2473766">(</span><span class="ident" id="2473767">v</span><span class="op" id="2473768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2473772">}</span>&nbsp;<span class="keyword" id="2473774">else</span>&nbsp;<span class="op" id="2473779">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473784">p</span><span class="op" id="2473785">.</span><span class="ident" id="2473786">badVerb</span><span class="op" id="2473793">(</span><span class="ident" id="2473794">verb</span><span class="op" id="2473798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2473802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473805">case</span>&nbsp;<span class="string" id="2473810">&#39;x&#39;</span><span class="op" id="2473813">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473817">p</span><span class="op" id="2473818">.</span><span class="ident" id="2473819">fmt</span><span class="op" id="2473822">.</span><span class="ident" id="2473823">integer</span><span class="op" id="2473830">(</span><span class="ident" id="2473831">v</span><span class="op" id="2473832">,</span>&nbsp;<span class="num" id="2473834">16</span><span class="op" id="2473836">,</span>&nbsp;<span class="ident" id="2473838">signed</span><span class="op" id="2473844">,</span>&nbsp;<span class="ident" id="2473846">ldigits</span><span class="op" id="2473853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473856">case</span>&nbsp;<span class="string" id="2473861">&#39;U&#39;</span><span class="op" id="2473864">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473868">p</span><span class="op" id="2473869">.</span><span class="ident" id="2473870">fmtUnicode</span><span class="op" id="2473880">(</span><span class="ident" id="2473881">v</span><span class="op" id="2473882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473885">case</span>&nbsp;<span class="string" id="2473890">&#39;X&#39;</span><span class="op" id="2473893">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473897">p</span><span class="op" id="2473898">.</span><span class="ident" id="2473899">fmt</span><span class="op" id="2473902">.</span><span class="ident" id="2473903">integer</span><span class="op" id="2473910">(</span><span class="ident" id="2473911">v</span><span class="op" id="2473912">,</span>&nbsp;<span class="num" id="2473914">16</span><span class="op" id="2473916">,</span>&nbsp;<span class="ident" id="2473918">signed</span><span class="op" id="2473924">,</span>&nbsp;<span class="ident" id="2473926">udigits</span><span class="op" id="2473933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473936">default</span><span class="op" id="2473943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473947">p</span><span class="op" id="2473948">.</span><span class="ident" id="2473949">badVerb</span><span class="op" id="2473956">(</span><span class="ident" id="2473957">verb</span><span class="op" id="2473961">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2473964">}</span><br>
<span class="lineno"></span><span class="op" id="2473966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2473969">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2474039">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2474100">func</span>&nbsp;<span class="op" id="2474105">(</span><span class="ident" id="2474106">p</span>&nbsp;<span class="op" id="2474108">*</span><span class="ident" id="2474109">pp</span><span class="op" id="2474111">)</span>&nbsp;<span class="ident" id="2474113">fmt0x64</span><span class="op" id="2474120">(</span><span class="ident" id="2474121">v</span>&nbsp;<span class="ident" id="2474123">uint64</span><span class="op" id="2474129">,</span>&nbsp;<span class="ident" id="2474131">leading0x</span>&nbsp;<span class="builtintype" id="2474141">bool</span><span class="op" id="2474145">)</span>&nbsp;<span class="op" id="2474147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474150">sharp</span>&nbsp;<span class="op" id="2474156">:=</span>&nbsp;<span class="ident" id="2474159">p</span><span class="op" id="2474160">.</span><span class="ident" id="2474161">fmt</span><span class="op" id="2474164">.</span><span class="ident" id="2474165">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474172">p</span><span class="op" id="2474173">.</span><span class="ident" id="2474174">fmt</span><span class="op" id="2474177">.</span><span class="ident" id="2474178">sharp</span>&nbsp;<span class="op" id="2474184">=</span>&nbsp;<span class="ident" id="2474186">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474197">p</span><span class="op" id="2474198">.</span><span class="ident" id="2474199">fmt</span><span class="op" id="2474202">.</span><span class="ident" id="2474203">integer</span><span class="op" id="2474210">(</span><span class="ident" id="2474211">int64</span><span class="op" id="2474216">(</span><span class="ident" id="2474217">v</span><span class="op" id="2474218">)</span><span class="op" id="2474219">,</span>&nbsp;<span class="num" id="2474221">16</span><span class="op" id="2474223">,</span>&nbsp;<span class="ident" id="2474225">unsigned</span><span class="op" id="2474233">,</span>&nbsp;<span class="ident" id="2474235">ldigits</span><span class="op" id="2474242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474245">p</span><span class="op" id="2474246">.</span><span class="ident" id="2474247">fmt</span><span class="op" id="2474250">.</span><span class="ident" id="2474251">sharp</span>&nbsp;<span class="op" id="2474257">=</span>&nbsp;<span class="ident" id="2474259">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2474265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2474268">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2474317">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2474388">func</span>&nbsp;<span class="op" id="2474393">(</span><span class="ident" id="2474394">p</span>&nbsp;<span class="op" id="2474396">*</span><span class="ident" id="2474397">pp</span><span class="op" id="2474399">)</span>&nbsp;<span class="ident" id="2474401">fmtUnicode</span><span class="op" id="2474411">(</span><span class="ident" id="2474412">v</span>&nbsp;<span class="ident" id="2474414">int64</span><span class="op" id="2474419">)</span>&nbsp;<span class="op" id="2474421">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474424">precPresent</span>&nbsp;<span class="op" id="2474436">:=</span>&nbsp;<span class="ident" id="2474439">p</span><span class="op" id="2474440">.</span><span class="ident" id="2474441">fmt</span><span class="op" id="2474444">.</span><span class="ident" id="2474445">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474458">sharp</span>&nbsp;<span class="op" id="2474464">:=</span>&nbsp;<span class="ident" id="2474467">p</span><span class="op" id="2474468">.</span><span class="ident" id="2474469">fmt</span><span class="op" id="2474472">.</span><span class="ident" id="2474473">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474480">p</span><span class="op" id="2474481">.</span><span class="ident" id="2474482">fmt</span><span class="op" id="2474485">.</span><span class="ident" id="2474486">sharp</span>&nbsp;<span class="op" id="2474492">=</span>&nbsp;<span class="builtintype" id="2474494">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474501">prec</span>&nbsp;<span class="op" id="2474506">:=</span>&nbsp;<span class="ident" id="2474509">p</span><span class="op" id="2474510">.</span><span class="ident" id="2474511">fmt</span><span class="op" id="2474514">.</span><span class="ident" id="2474515">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474521">if</span>&nbsp;<span class="op" id="2474524">!</span><span class="ident" id="2474525">precPresent</span>&nbsp;<span class="op" id="2474537">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2474541">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474610">p</span><span class="op" id="2474611">.</span><span class="ident" id="2474612">fmt</span><span class="op" id="2474615">.</span><span class="ident" id="2474616">prec</span>&nbsp;<span class="op" id="2474621">=</span>&nbsp;<span class="num" id="2474623">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474627">p</span><span class="op" id="2474628">.</span><span class="ident" id="2474629">fmt</span><span class="op" id="2474632">.</span><span class="ident" id="2474633">precPresent</span>&nbsp;<span class="op" id="2474645">=</span>&nbsp;<span class="builtintype" id="2474647">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2474653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474656">p</span><span class="op" id="2474657">.</span><span class="ident" id="2474658">fmt</span><span class="op" id="2474661">.</span><span class="ident" id="2474662">unicode</span>&nbsp;<span class="op" id="2474670">=</span>&nbsp;<span class="builtintype" id="2474672">true</span>&nbsp;<span class="comment" id="2474677">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474692">p</span><span class="op" id="2474693">.</span><span class="ident" id="2474694">fmt</span><span class="op" id="2474697">.</span><span class="ident" id="2474698">uniQuote</span>&nbsp;<span class="op" id="2474707">=</span>&nbsp;<span class="ident" id="2474709">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474716">p</span><span class="op" id="2474717">.</span><span class="ident" id="2474718">fmt</span><span class="op" id="2474721">.</span><span class="ident" id="2474722">integer</span><span class="op" id="2474729">(</span><span class="ident" id="2474730">int64</span><span class="op" id="2474735">(</span><span class="ident" id="2474736">v</span><span class="op" id="2474737">)</span><span class="op" id="2474738">,</span>&nbsp;<span class="num" id="2474740">16</span><span class="op" id="2474742">,</span>&nbsp;<span class="ident" id="2474744">unsigned</span><span class="op" id="2474752">,</span>&nbsp;<span class="ident" id="2474754">udigits</span><span class="op" id="2474761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474764">p</span><span class="op" id="2474765">.</span><span class="ident" id="2474766">fmt</span><span class="op" id="2474769">.</span><span class="ident" id="2474770">unicode</span>&nbsp;<span class="op" id="2474778">=</span>&nbsp;<span class="builtintype" id="2474780">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474787">p</span><span class="op" id="2474788">.</span><span class="ident" id="2474789">fmt</span><span class="op" id="2474792">.</span><span class="ident" id="2474793">uniQuote</span>&nbsp;<span class="op" id="2474802">=</span>&nbsp;<span class="builtintype" id="2474804">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474811">p</span><span class="op" id="2474812">.</span><span class="ident" id="2474813">fmt</span><span class="op" id="2474816">.</span><span class="ident" id="2474817">prec</span>&nbsp;<span class="op" id="2474822">=</span>&nbsp;<span class="ident" id="2474824">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474830">p</span><span class="op" id="2474831">.</span><span class="ident" id="2474832">fmt</span><span class="op" id="2474835">.</span><span class="ident" id="2474836">precPresent</span>&nbsp;<span class="op" id="2474848">=</span>&nbsp;<span class="ident" id="2474850">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474863">p</span><span class="op" id="2474864">.</span><span class="ident" id="2474865">fmt</span><span class="op" id="2474868">.</span><span class="ident" id="2474869">sharp</span>&nbsp;<span class="op" id="2474875">=</span>&nbsp;<span class="ident" id="2474877">sharp</span><br>
<span class="lineno"></span><span class="op" id="2474883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2474886">func</span>&nbsp;<span class="op" id="2474891">(</span><span class="ident" id="2474892">p</span>&nbsp;<span class="op" id="2474894">*</span><span class="ident" id="2474895">pp</span><span class="op" id="2474897">)</span>&nbsp;<span class="ident" id="2474899">fmtUint64</span><span class="op" id="2474908">(</span><span class="ident" id="2474909">v</span>&nbsp;<span class="ident" id="2474911">uint64</span><span class="op" id="2474917">,</span>&nbsp;<span class="ident" id="2474919">verb</span>&nbsp;<span class="builtintype" id="2474924">rune</span><span class="op" id="2474928">)</span>&nbsp;<span class="op" id="2474930">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474933">switch</span>&nbsp;<span class="ident" id="2474940">verb</span>&nbsp;<span class="op" id="2474945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474948">case</span>&nbsp;<span class="string" id="2474953">&#39;b&#39;</span><span class="op" id="2474956">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474960">p</span><span class="op" id="2474961">.</span><span class="ident" id="2474962">fmt</span><span class="op" id="2474965">.</span><span class="ident" id="2474966">integer</span><span class="op" id="2474973">(</span><span class="ident" id="2474974">int64</span><span class="op" id="2474979">(</span><span class="ident" id="2474980">v</span><span class="op" id="2474981">)</span><span class="op" id="2474982">,</span>&nbsp;<span class="num" id="2474984">2</span><span class="op" id="2474985">,</span>&nbsp;<span class="ident" id="2474987">unsigned</span><span class="op" id="2474995">,</span>&nbsp;<span class="ident" id="2474997">ldigits</span><span class="op" id="2475004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475007">case</span>&nbsp;<span class="string" id="2475012">&#39;c&#39;</span><span class="op" id="2475015">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475019">p</span><span class="op" id="2475020">.</span><span class="ident" id="2475021">fmtC</span><span class="op" id="2475025">(</span><span class="ident" id="2475026">int64</span><span class="op" id="2475031">(</span><span class="ident" id="2475032">v</span><span class="op" id="2475033">)</span><span class="op" id="2475034">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475037">case</span>&nbsp;<span class="string" id="2475042">&#39;d&#39;</span><span class="op" id="2475045">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475049">p</span><span class="op" id="2475050">.</span><span class="ident" id="2475051">fmt</span><span class="op" id="2475054">.</span><span class="ident" id="2475055">integer</span><span class="op" id="2475062">(</span><span class="ident" id="2475063">int64</span><span class="op" id="2475068">(</span><span class="ident" id="2475069">v</span><span class="op" id="2475070">)</span><span class="op" id="2475071">,</span>&nbsp;<span class="num" id="2475073">10</span><span class="op" id="2475075">,</span>&nbsp;<span class="ident" id="2475077">unsigned</span><span class="op" id="2475085">,</span>&nbsp;<span class="ident" id="2475087">ldigits</span><span class="op" id="2475094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475097">case</span>&nbsp;<span class="string" id="2475102">&#39;v&#39;</span><span class="op" id="2475105">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475109">if</span>&nbsp;<span class="ident" id="2475112">p</span><span class="op" id="2475113">.</span><span class="ident" id="2475114">fmt</span><span class="op" id="2475117">.</span><span class="ident" id="2475118">sharpV</span>&nbsp;<span class="op" id="2475125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475130">p</span><span class="op" id="2475131">.</span><span class="ident" id="2475132">fmt0x64</span><span class="op" id="2475139">(</span><span class="ident" id="2475140">v</span><span class="op" id="2475141">,</span>&nbsp;<span class="builtintype" id="2475143">true</span><span class="op" id="2475147">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2475151">}</span>&nbsp;<span class="keyword" id="2475153">else</span>&nbsp;<span class="op" id="2475158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475163">p</span><span class="op" id="2475164">.</span><span class="ident" id="2475165">fmt</span><span class="op" id="2475168">.</span><span class="ident" id="2475169">integer</span><span class="op" id="2475176">(</span><span class="ident" id="2475177">int64</span><span class="op" id="2475182">(</span><span class="ident" id="2475183">v</span><span class="op" id="2475184">)</span><span class="op" id="2475185">,</span>&nbsp;<span class="num" id="2475187">10</span><span class="op" id="2475189">,</span>&nbsp;<span class="ident" id="2475191">unsigned</span><span class="op" id="2475199">,</span>&nbsp;<span class="ident" id="2475201">ldigits</span><span class="op" id="2475208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2475212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475215">case</span>&nbsp;<span class="string" id="2475220">&#39;o&#39;</span><span class="op" id="2475223">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475227">p</span><span class="op" id="2475228">.</span><span class="ident" id="2475229">fmt</span><span class="op" id="2475232">.</span><span class="ident" id="2475233">integer</span><span class="op" id="2475240">(</span><span class="ident" id="2475241">int64</span><span class="op" id="2475246">(</span><span class="ident" id="2475247">v</span><span class="op" id="2475248">)</span><span class="op" id="2475249">,</span>&nbsp;<span class="num" id="2475251">8</span><span class="op" id="2475252">,</span>&nbsp;<span class="ident" id="2475254">unsigned</span><span class="op" id="2475262">,</span>&nbsp;<span class="ident" id="2475264">ldigits</span><span class="op" id="2475271">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475274">case</span>&nbsp;<span class="string" id="2475279">&#39;q&#39;</span><span class="op" id="2475282">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475286">if</span>&nbsp;<span class="num" id="2475289">0</span>&nbsp;<span class="op" id="2475291">&lt;=</span>&nbsp;<span class="ident" id="2475294">v</span>&nbsp;<span class="op" id="2475296">&amp;&amp;</span>&nbsp;<span class="ident" id="2475299">v</span>&nbsp;<span class="op" id="2475301">&lt;=</span>&nbsp;<span class="ident" id="2475304">utf8</span><span class="op" id="2475308">.</span><span class="ident" id="2475309">MaxRune</span>&nbsp;<span class="op" id="2475317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475322">p</span><span class="op" id="2475323">.</span><span class="ident" id="2475324">fmt</span><span class="op" id="2475327">.</span><span class="ident" id="2475328">fmt_qc</span><span class="op" id="2475334">(</span><span class="ident" id="2475335">int64</span><span class="op" id="2475340">(</span><span class="ident" id="2475341">v</span><span class="op" id="2475342">)</span><span class="op" id="2475343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2475347">}</span>&nbsp;<span class="keyword" id="2475349">else</span>&nbsp;<span class="op" id="2475354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475359">p</span><span class="op" id="2475360">.</span><span class="ident" id="2475361">badVerb</span><span class="op" id="2475368">(</span><span class="ident" id="2475369">verb</span><span class="op" id="2475373">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2475377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475380">case</span>&nbsp;<span class="string" id="2475385">&#39;x&#39;</span><span class="op" id="2475388">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475392">p</span><span class="op" id="2475393">.</span><span class="ident" id="2475394">fmt</span><span class="op" id="2475397">.</span><span class="ident" id="2475398">integer</span><span class="op" id="2475405">(</span><span class="ident" id="2475406">int64</span><span class="op" id="2475411">(</span><span class="ident" id="2475412">v</span><span class="op" id="2475413">)</span><span class="op" id="2475414">,</span>&nbsp;<span class="num" id="2475416">16</span><span class="op" id="2475418">,</span>&nbsp;<span class="ident" id="2475420">unsigned</span><span class="op" id="2475428">,</span>&nbsp;<span class="ident" id="2475430">ldigits</span><span class="op" id="2475437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475440">case</span>&nbsp;<span class="string" id="2475445">&#39;X&#39;</span><span class="op" id="2475448">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475452">p</span><span class="op" id="2475453">.</span><span class="ident" id="2475454">fmt</span><span class="op" id="2475457">.</span><span class="ident" id="2475458">integer</span><span class="op" id="2475465">(</span><span class="ident" id="2475466">int64</span><span class="op" id="2475471">(</span><span class="ident" id="2475472">v</span><span class="op" id="2475473">)</span><span class="op" id="2475474">,</span>&nbsp;<span class="num" id="2475476">16</span><span class="op" id="2475478">,</span>&nbsp;<span class="ident" id="2475480">unsigned</span><span class="op" id="2475488">,</span>&nbsp;<span class="ident" id="2475490">udigits</span><span class="op" id="2475497">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475500">case</span>&nbsp;<span class="string" id="2475505">&#39;U&#39;</span><span class="op" id="2475508">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475512">p</span><span class="op" id="2475513">.</span><span class="ident" id="2475514">fmtUnicode</span><span class="op" id="2475524">(</span><span class="ident" id="2475525">int64</span><span class="op" id="2475530">(</span><span class="ident" id="2475531">v</span><span class="op" id="2475532">)</span><span class="op" id="2475533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475536">default</span><span class="op" id="2475543">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475547">p</span><span class="op" id="2475548">.</span><span class="ident" id="2475549">badVerb</span><span class="op" id="2475556">(</span><span class="ident" id="2475557">verb</span><span class="op" id="2475561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2475564">}</span><br>
<span class="lineno">440</span><span class="op" id="2475566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2475569">func</span>&nbsp;<span class="op" id="2475574">(</span><span class="ident" id="2475575">p</span>&nbsp;<span class="op" id="2475577">*</span><span class="ident" id="2475578">pp</span><span class="op" id="2475580">)</span>&nbsp;<span class="ident" id="2475582">fmtFloat32</span><span class="op" id="2475592">(</span><span class="ident" id="2475593">v</span>&nbsp;<span class="builtintype" id="2475595">float32</span><span class="op" id="2475602">,</span>&nbsp;<span class="ident" id="2475604">verb</span>&nbsp;<span class="builtintype" id="2475609">rune</span><span class="op" id="2475613">)</span>&nbsp;<span class="op" id="2475615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475618">switch</span>&nbsp;<span class="ident" id="2475625">verb</span>&nbsp;<span class="op" id="2475630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475633">case</span>&nbsp;<span class="string" id="2475638">&#39;b&#39;</span><span class="op" id="2475641">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475645">p</span><span class="op" id="2475646">.</span><span class="ident" id="2475647">fmt</span><span class="op" id="2475650">.</span><span class="ident" id="2475651">fmt_fb32</span><span class="op" id="2475659">(</span><span class="ident" id="2475660">v</span><span class="op" id="2475661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475664">case</span>&nbsp;<span class="string" id="2475669">&#39;e&#39;</span><span class="op" id="2475672">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475676">p</span><span class="op" id="2475677">.</span><span class="ident" id="2475678">fmt</span><span class="op" id="2475681">.</span><span class="ident" id="2475682">fmt_e32</span><span class="op" id="2475689">(</span><span class="ident" id="2475690">v</span><span class="op" id="2475691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475694">case</span>&nbsp;<span class="string" id="2475699">&#39;E&#39;</span><span class="op" id="2475702">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475706">p</span><span class="op" id="2475707">.</span><span class="ident" id="2475708">fmt</span><span class="op" id="2475711">.</span><span class="ident" id="2475712">fmt_E32</span><span class="op" id="2475719">(</span><span class="ident" id="2475720">v</span><span class="op" id="2475721">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475724">case</span>&nbsp;<span class="string" id="2475729">&#39;f&#39;</span><span class="op" id="2475732">,</span>&nbsp;<span class="string" id="2475734">&#39;F&#39;</span><span class="op" id="2475737">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475741">p</span><span class="op" id="2475742">.</span><span class="ident" id="2475743">fmt</span><span class="op" id="2475746">.</span><span class="ident" id="2475747">fmt_f32</span><span class="op" id="2475754">(</span><span class="ident" id="2475755">v</span><span class="op" id="2475756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475759">case</span>&nbsp;<span class="string" id="2475764">&#39;g&#39;</span><span class="op" id="2475767">,</span>&nbsp;<span class="string" id="2475769">&#39;v&#39;</span><span class="op" id="2475772">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475776">p</span><span class="op" id="2475777">.</span><span class="ident" id="2475778">fmt</span><span class="op" id="2475781">.</span><span class="ident" id="2475782">fmt_g32</span><span class="op" id="2475789">(</span><span class="ident" id="2475790">v</span><span class="op" id="2475791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475794">case</span>&nbsp;<span class="string" id="2475799">&#39;G&#39;</span><span class="op" id="2475802">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475806">p</span><span class="op" id="2475807">.</span><span class="ident" id="2475808">fmt</span><span class="op" id="2475811">.</span><span class="ident" id="2475812">fmt_G32</span><span class="op" id="2475819">(</span><span class="ident" id="2475820">v</span><span class="op" id="2475821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475824">default</span><span class="op" id="2475831">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475835">p</span><span class="op" id="2475836">.</span><span class="ident" id="2475837">badVerb</span><span class="op" id="2475844">(</span><span class="ident" id="2475845">verb</span><span class="op" id="2475849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2475852">}</span><br>
<span class="lineno"></span><span class="op" id="2475854">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2475857">func</span>&nbsp;<span class="op" id="2475862">(</span><span class="ident" id="2475863">p</span>&nbsp;<span class="op" id="2475865">*</span><span class="ident" id="2475866">pp</span><span class="op" id="2475868">)</span>&nbsp;<span class="ident" id="2475870">fmtFloat64</span><span class="op" id="2475880">(</span><span class="ident" id="2475881">v</span>&nbsp;<span class="builtintype" id="2475883">float64</span><span class="op" id="2475890">,</span>&nbsp;<span class="ident" id="2475892">verb</span>&nbsp;<span class="builtintype" id="2475897">rune</span><span class="op" id="2475901">)</span>&nbsp;<span class="op" id="2475903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475906">switch</span>&nbsp;<span class="ident" id="2475913">verb</span>&nbsp;<span class="op" id="2475918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475921">case</span>&nbsp;<span class="string" id="2475926">&#39;b&#39;</span><span class="op" id="2475929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475933">p</span><span class="op" id="2475934">.</span><span class="ident" id="2475935">fmt</span><span class="op" id="2475938">.</span><span class="ident" id="2475939">fmt_fb64</span><span class="op" id="2475947">(</span><span class="ident" id="2475948">v</span><span class="op" id="2475949">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475952">case</span>&nbsp;<span class="string" id="2475957">&#39;e&#39;</span><span class="op" id="2475960">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475964">p</span><span class="op" id="2475965">.</span><span class="ident" id="2475966">fmt</span><span class="op" id="2475969">.</span><span class="ident" id="2475970">fmt_e64</span><span class="op" id="2475977">(</span><span class="ident" id="2475978">v</span><span class="op" id="2475979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475982">case</span>&nbsp;<span class="string" id="2475987">&#39;E&#39;</span><span class="op" id="2475990">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475994">p</span><span class="op" id="2475995">.</span><span class="ident" id="2475996">fmt</span><span class="op" id="2475999">.</span><span class="ident" id="2476000">fmt_E64</span><span class="op" id="2476007">(</span><span class="ident" id="2476008">v</span><span class="op" id="2476009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476012">case</span>&nbsp;<span class="string" id="2476017">&#39;f&#39;</span><span class="op" id="2476020">,</span>&nbsp;<span class="string" id="2476022">&#39;F&#39;</span><span class="op" id="2476025">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476029">p</span><span class="op" id="2476030">.</span><span class="ident" id="2476031">fmt</span><span class="op" id="2476034">.</span><span class="ident" id="2476035">fmt_f64</span><span class="op" id="2476042">(</span><span class="ident" id="2476043">v</span><span class="op" id="2476044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476047">case</span>&nbsp;<span class="string" id="2476052">&#39;g&#39;</span><span class="op" id="2476055">,</span>&nbsp;<span class="string" id="2476057">&#39;v&#39;</span><span class="op" id="2476060">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476064">p</span><span class="op" id="2476065">.</span><span class="ident" id="2476066">fmt</span><span class="op" id="2476069">.</span><span class="ident" id="2476070">fmt_g64</span><span class="op" id="2476077">(</span><span class="ident" id="2476078">v</span><span class="op" id="2476079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476082">case</span>&nbsp;<span class="string" id="2476087">&#39;G&#39;</span><span class="op" id="2476090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476094">p</span><span class="op" id="2476095">.</span><span class="ident" id="2476096">fmt</span><span class="op" id="2476099">.</span><span class="ident" id="2476100">fmt_G64</span><span class="op" id="2476107">(</span><span class="ident" id="2476108">v</span><span class="op" id="2476109">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476112">default</span><span class="op" id="2476119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476123">p</span><span class="op" id="2476124">.</span><span class="ident" id="2476125">badVerb</span><span class="op" id="2476132">(</span><span class="ident" id="2476133">verb</span><span class="op" id="2476137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476140">}</span><br>
<span class="lineno"></span><span class="op" id="2476142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2476145">func</span>&nbsp;<span class="op" id="2476150">(</span><span class="ident" id="2476151">p</span>&nbsp;<span class="op" id="2476153">*</span><span class="ident" id="2476154">pp</span><span class="op" id="2476156">)</span>&nbsp;<span class="ident" id="2476158">fmtComplex64</span><span class="op" id="2476170">(</span><span class="ident" id="2476171">v</span>&nbsp;<span class="builtintype" id="2476173">complex64</span><span class="op" id="2476182">,</span>&nbsp;<span class="ident" id="2476184">verb</span>&nbsp;<span class="builtintype" id="2476189">rune</span><span class="op" id="2476193">)</span>&nbsp;<span class="op" id="2476195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476198">switch</span>&nbsp;<span class="ident" id="2476205">verb</span>&nbsp;<span class="op" id="2476210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476213">case</span>&nbsp;<span class="string" id="2476218">&#39;b&#39;</span><span class="op" id="2476221">,</span>&nbsp;<span class="string" id="2476223">&#39;e&#39;</span><span class="op" id="2476226">,</span>&nbsp;<span class="string" id="2476228">&#39;E&#39;</span><span class="op" id="2476231">,</span>&nbsp;<span class="string" id="2476233">&#39;f&#39;</span><span class="op" id="2476236">,</span>&nbsp;<span class="string" id="2476238">&#39;F&#39;</span><span class="op" id="2476241">,</span>&nbsp;<span class="string" id="2476243">&#39;g&#39;</span><span class="op" id="2476246">,</span>&nbsp;<span class="string" id="2476248">&#39;G&#39;</span><span class="op" id="2476251">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476255">p</span><span class="op" id="2476256">.</span><span class="ident" id="2476257">fmt</span><span class="op" id="2476260">.</span><span class="ident" id="2476261">fmt_c64</span><span class="op" id="2476268">(</span><span class="ident" id="2476269">v</span><span class="op" id="2476270">,</span>&nbsp;<span class="ident" id="2476272">verb</span><span class="op" id="2476276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476279">case</span>&nbsp;<span class="string" id="2476284">&#39;v&#39;</span><span class="op" id="2476287">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476291">p</span><span class="op" id="2476292">.</span><span class="ident" id="2476293">fmt</span><span class="op" id="2476296">.</span><span class="ident" id="2476297">fmt_c64</span><span class="op" id="2476304">(</span><span class="ident" id="2476305">v</span><span class="op" id="2476306">,</span>&nbsp;<span class="string" id="2476308">&#39;g&#39;</span><span class="op" id="2476311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476314">default</span><span class="op" id="2476321">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476325">p</span><span class="op" id="2476326">.</span><span class="ident" id="2476327">badVerb</span><span class="op" id="2476334">(</span><span class="ident" id="2476335">verb</span><span class="op" id="2476339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476342">}</span><br>
<span class="lineno"></span><span class="op" id="2476344">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2476347">func</span>&nbsp;<span class="op" id="2476352">(</span><span class="ident" id="2476353">p</span>&nbsp;<span class="op" id="2476355">*</span><span class="ident" id="2476356">pp</span><span class="op" id="2476358">)</span>&nbsp;<span class="ident" id="2476360">fmtComplex128</span><span class="op" id="2476373">(</span><span class="ident" id="2476374">v</span>&nbsp;<span class="builtintype" id="2476376">complex128</span><span class="op" id="2476386">,</span>&nbsp;<span class="ident" id="2476388">verb</span>&nbsp;<span class="builtintype" id="2476393">rune</span><span class="op" id="2476397">)</span>&nbsp;<span class="op" id="2476399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476402">switch</span>&nbsp;<span class="ident" id="2476409">verb</span>&nbsp;<span class="op" id="2476414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476417">case</span>&nbsp;<span class="string" id="2476422">&#39;b&#39;</span><span class="op" id="2476425">,</span>&nbsp;<span class="string" id="2476427">&#39;e&#39;</span><span class="op" id="2476430">,</span>&nbsp;<span class="string" id="2476432">&#39;E&#39;</span><span class="op" id="2476435">,</span>&nbsp;<span class="string" id="2476437">&#39;f&#39;</span><span class="op" id="2476440">,</span>&nbsp;<span class="string" id="2476442">&#39;F&#39;</span><span class="op" id="2476445">,</span>&nbsp;<span class="string" id="2476447">&#39;g&#39;</span><span class="op" id="2476450">,</span>&nbsp;<span class="string" id="2476452">&#39;G&#39;</span><span class="op" id="2476455">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476459">p</span><span class="op" id="2476460">.</span><span class="ident" id="2476461">fmt</span><span class="op" id="2476464">.</span><span class="ident" id="2476465">fmt_c128</span><span class="op" id="2476473">(</span><span class="ident" id="2476474">v</span><span class="op" id="2476475">,</span>&nbsp;<span class="ident" id="2476477">verb</span><span class="op" id="2476481">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476484">case</span>&nbsp;<span class="string" id="2476489">&#39;v&#39;</span><span class="op" id="2476492">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476496">p</span><span class="op" id="2476497">.</span><span class="ident" id="2476498">fmt</span><span class="op" id="2476501">.</span><span class="ident" id="2476502">fmt_c128</span><span class="op" id="2476510">(</span><span class="ident" id="2476511">v</span><span class="op" id="2476512">,</span>&nbsp;<span class="string" id="2476514">&#39;g&#39;</span><span class="op" id="2476517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476520">default</span><span class="op" id="2476527">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476531">p</span><span class="op" id="2476532">.</span><span class="ident" id="2476533">badVerb</span><span class="op" id="2476540">(</span><span class="ident" id="2476541">verb</span><span class="op" id="2476545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476548">}</span><br>
<span class="lineno">500</span><span class="op" id="2476550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2476553">func</span>&nbsp;<span class="op" id="2476558">(</span><span class="ident" id="2476559">p</span>&nbsp;<span class="op" id="2476561">*</span><span class="ident" id="2476562">pp</span><span class="op" id="2476564">)</span>&nbsp;<span class="ident" id="2476566">fmtString</span><span class="op" id="2476575">(</span><span class="ident" id="2476576">v</span>&nbsp;<span class="builtintype" id="2476578">string</span><span class="op" id="2476584">,</span>&nbsp;<span class="ident" id="2476586">verb</span>&nbsp;<span class="builtintype" id="2476591">rune</span><span class="op" id="2476595">)</span>&nbsp;<span class="op" id="2476597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476600">switch</span>&nbsp;<span class="ident" id="2476607">verb</span>&nbsp;<span class="op" id="2476612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476615">case</span>&nbsp;<span class="string" id="2476620">&#39;v&#39;</span><span class="op" id="2476623">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476627">if</span>&nbsp;<span class="ident" id="2476630">p</span><span class="op" id="2476631">.</span><span class="ident" id="2476632">fmt</span><span class="op" id="2476635">.</span><span class="ident" id="2476636">sharpV</span>&nbsp;<span class="op" id="2476643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476648">p</span><span class="op" id="2476649">.</span><span class="ident" id="2476650">fmt</span><span class="op" id="2476653">.</span><span class="ident" id="2476654">fmt_q</span><span class="op" id="2476659">(</span><span class="ident" id="2476660">v</span><span class="op" id="2476661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476665">}</span>&nbsp;<span class="keyword" id="2476667">else</span>&nbsp;<span class="op" id="2476672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476677">p</span><span class="op" id="2476678">.</span><span class="ident" id="2476679">fmt</span><span class="op" id="2476682">.</span><span class="ident" id="2476683">fmt_s</span><span class="op" id="2476688">(</span><span class="ident" id="2476689">v</span><span class="op" id="2476690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476694">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476697">case</span>&nbsp;<span class="string" id="2476702">&#39;s&#39;</span><span class="op" id="2476705">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476709">p</span><span class="op" id="2476710">.</span><span class="ident" id="2476711">fmt</span><span class="op" id="2476714">.</span><span class="ident" id="2476715">fmt_s</span><span class="op" id="2476720">(</span><span class="ident" id="2476721">v</span><span class="op" id="2476722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476725">case</span>&nbsp;<span class="string" id="2476730">&#39;x&#39;</span><span class="op" id="2476733">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476737">p</span><span class="op" id="2476738">.</span><span class="ident" id="2476739">fmt</span><span class="op" id="2476742">.</span><span class="ident" id="2476743">fmt_sx</span><span class="op" id="2476749">(</span><span class="ident" id="2476750">v</span><span class="op" id="2476751">,</span>&nbsp;<span class="ident" id="2476753">ldigits</span><span class="op" id="2476760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476763">case</span>&nbsp;<span class="string" id="2476768">&#39;X&#39;</span><span class="op" id="2476771">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476775">p</span><span class="op" id="2476776">.</span><span class="ident" id="2476777">fmt</span><span class="op" id="2476780">.</span><span class="ident" id="2476781">fmt_sx</span><span class="op" id="2476787">(</span><span class="ident" id="2476788">v</span><span class="op" id="2476789">,</span>&nbsp;<span class="ident" id="2476791">udigits</span><span class="op" id="2476798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476801">case</span>&nbsp;<span class="string" id="2476806">&#39;q&#39;</span><span class="op" id="2476809">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476813">p</span><span class="op" id="2476814">.</span><span class="ident" id="2476815">fmt</span><span class="op" id="2476818">.</span><span class="ident" id="2476819">fmt_q</span><span class="op" id="2476824">(</span><span class="ident" id="2476825">v</span><span class="op" id="2476826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476829">default</span><span class="op" id="2476836">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476840">p</span><span class="op" id="2476841">.</span><span class="ident" id="2476842">badVerb</span><span class="op" id="2476849">(</span><span class="ident" id="2476850">verb</span><span class="op" id="2476854">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476857">}</span><br>
<span class="lineno"></span><span class="op" id="2476859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2476862">func</span>&nbsp;<span class="op" id="2476867">(</span><span class="ident" id="2476868">p</span>&nbsp;<span class="op" id="2476870">*</span><span class="ident" id="2476871">pp</span><span class="op" id="2476873">)</span>&nbsp;<span class="ident" id="2476875">fmtBytes</span><span class="op" id="2476883">(</span><span class="ident" id="2476884">v</span>&nbsp;<span class="op" id="2476886">[</span><span class="op" id="2476887">]</span><span class="builtintype" id="2476888">byte</span><span class="op" id="2476892">,</span>&nbsp;<span class="ident" id="2476894">verb</span>&nbsp;<span class="builtintype" id="2476899">rune</span><span class="op" id="2476903">,</span>&nbsp;<span class="ident" id="2476905">typ</span>&nbsp;<span class="ident" id="2476909">reflect</span><span class="op" id="2476916">.</span><span class="ident" id="2476917">Type</span><span class="op" id="2476921">,</span>&nbsp;<span class="ident" id="2476923">depth</span>&nbsp;<span class="builtintype" id="2476929">int</span><span class="op" id="2476932">)</span>&nbsp;<span class="op" id="2476934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476937">if</span>&nbsp;<span class="ident" id="2476940">verb</span>&nbsp;<span class="op" id="2476945">==</span>&nbsp;<span class="string" id="2476948">&#39;v&#39;</span>&nbsp;<span class="op" id="2476952">||</span>&nbsp;<span class="ident" id="2476955">verb</span>&nbsp;<span class="op" id="2476960">==</span>&nbsp;<span class="string" id="2476963">&#39;d&#39;</span>&nbsp;<span class="op" id="2476967">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476971">if</span>&nbsp;<span class="ident" id="2476974">p</span><span class="op" id="2476975">.</span><span class="ident" id="2476976">fmt</span><span class="op" id="2476979">.</span><span class="ident" id="2476980">sharpV</span>&nbsp;<span class="op" id="2476987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476992">if</span>&nbsp;<span class="ident" id="2476995">v</span>&nbsp;<span class="op" id="2476997">==</span>&nbsp;<span class="ident" id="2477000">nil</span>&nbsp;<span class="op" id="2477004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477010">if</span>&nbsp;<span class="ident" id="2477013">typ</span>&nbsp;<span class="op" id="2477017">==</span>&nbsp;<span class="ident" id="2477020">nil</span>&nbsp;<span class="op" id="2477024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477031">p</span><span class="op" id="2477032">.</span><span class="ident" id="2477033">buf</span><span class="op" id="2477036">.</span><span class="ident" id="2477037">WriteString</span><span class="op" id="2477048">(</span><span class="string" id="2477049">&#34;[]byte(nil)&#34;</span><span class="op" id="2477062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477068">}</span>&nbsp;<span class="keyword" id="2477070">else</span>&nbsp;<span class="op" id="2477075">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477082">p</span><span class="op" id="2477083">.</span><span class="ident" id="2477084">buf</span><span class="op" id="2477087">.</span><span class="ident" id="2477088">WriteString</span><span class="op" id="2477099">(</span><span class="ident" id="2477100">typ</span><span class="op" id="2477103">.</span><span class="ident" id="2477104">String</span><span class="op" id="2477110">(</span><span class="op" id="2477111">)</span><span class="op" id="2477112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477119">p</span><span class="op" id="2477120">.</span><span class="ident" id="2477121">buf</span><span class="op" id="2477124">.</span><span class="ident" id="2477125">Write</span><span class="op" id="2477130">(</span><span class="ident" id="2477131">nilParenBytes</span><span class="op" id="2477144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477156">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477166">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477171">if</span>&nbsp;<span class="ident" id="2477174">typ</span>&nbsp;<span class="op" id="2477178">==</span>&nbsp;<span class="ident" id="2477181">nil</span>&nbsp;<span class="op" id="2477185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477191">p</span><span class="op" id="2477192">.</span><span class="ident" id="2477193">buf</span><span class="op" id="2477196">.</span><span class="ident" id="2477197">Write</span><span class="op" id="2477202">(</span><span class="ident" id="2477203">bytesBytes</span><span class="op" id="2477213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477218">}</span>&nbsp;<span class="keyword" id="2477220">else</span>&nbsp;<span class="op" id="2477225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477231">p</span><span class="op" id="2477232">.</span><span class="ident" id="2477233">buf</span><span class="op" id="2477236">.</span><span class="ident" id="2477237">WriteString</span><span class="op" id="2477248">(</span><span class="ident" id="2477249">typ</span><span class="op" id="2477252">.</span><span class="ident" id="2477253">String</span><span class="op" id="2477259">(</span><span class="op" id="2477260">)</span><span class="op" id="2477261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477267">p</span><span class="op" id="2477268">.</span><span class="ident" id="2477269">buf</span><span class="op" id="2477272">.</span><span class="ident" id="2477273">WriteByte</span><span class="op" id="2477282">(</span><span class="string" id="2477283">&#39;{&#39;</span><span class="op" id="2477286">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477295">}</span>&nbsp;<span class="keyword" id="2477297">else</span>&nbsp;<span class="op" id="2477302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477307">p</span><span class="op" id="2477308">.</span><span class="ident" id="2477309">buf</span><span class="op" id="2477312">.</span><span class="ident" id="2477313">WriteByte</span><span class="op" id="2477322">(</span><span class="string" id="2477323">&#39;[&#39;</span><span class="op" id="2477326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477334">for</span>&nbsp;<span class="ident" id="2477338">i</span><span class="op" id="2477339">,</span>&nbsp;<span class="ident" id="2477341">c</span>&nbsp;<span class="op" id="2477343">:=</span>&nbsp;<span class="keyword" id="2477346">range</span>&nbsp;<span class="ident" id="2477352">v</span>&nbsp;<span class="op" id="2477354">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477359">if</span>&nbsp;<span class="ident" id="2477362">i</span>&nbsp;<span class="op" id="2477364">&gt;</span>&nbsp;<span class="num" id="2477366">0</span>&nbsp;<span class="op" id="2477368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477374">if</span>&nbsp;<span class="ident" id="2477377">p</span><span class="op" id="2477378">.</span><span class="ident" id="2477379">fmt</span><span class="op" id="2477382">.</span><span class="ident" id="2477383">sharpV</span>&nbsp;<span class="op" id="2477390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477397">p</span><span class="op" id="2477398">.</span><span class="ident" id="2477399">buf</span><span class="op" id="2477402">.</span><span class="ident" id="2477403">Write</span><span class="op" id="2477408">(</span><span class="ident" id="2477409">commaSpaceBytes</span><span class="op" id="2477424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477430">}</span>&nbsp;<span class="keyword" id="2477432">else</span>&nbsp;<span class="op" id="2477437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477444">p</span><span class="op" id="2477445">.</span><span class="ident" id="2477446">buf</span><span class="op" id="2477449">.</span><span class="ident" id="2477450">WriteByte</span><span class="op" id="2477459">(</span><span class="string" id="2477460">&#39;&nbsp;&#39;</span><span class="op" id="2477463">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477479">p</span><span class="op" id="2477480">.</span><span class="ident" id="2477481">printArg</span><span class="op" id="2477489">(</span><span class="ident" id="2477490">c</span><span class="op" id="2477491">,</span>&nbsp;<span class="string" id="2477493">&#39;v&#39;</span><span class="op" id="2477496">,</span>&nbsp;<span class="ident" id="2477498">depth</span><span class="op" id="2477503">+</span><span class="num" id="2477504">1</span><span class="op" id="2477505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477513">if</span>&nbsp;<span class="ident" id="2477516">p</span><span class="op" id="2477517">.</span><span class="ident" id="2477518">fmt</span><span class="op" id="2477521">.</span><span class="ident" id="2477522">sharpV</span>&nbsp;<span class="op" id="2477529">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477534">p</span><span class="op" id="2477535">.</span><span class="ident" id="2477536">buf</span><span class="op" id="2477539">.</span><span class="ident" id="2477540">WriteByte</span><span class="op" id="2477549">(</span><span class="string" id="2477550">&#39;}&#39;</span><span class="op" id="2477553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477557">}</span>&nbsp;<span class="keyword" id="2477559">else</span>&nbsp;<span class="op" id="2477564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477569">p</span><span class="op" id="2477570">.</span><span class="ident" id="2477571">buf</span><span class="op" id="2477574">.</span><span class="ident" id="2477575">WriteByte</span><span class="op" id="2477584">(</span><span class="string" id="2477585">&#39;]&#39;</span><span class="op" id="2477588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477596">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477607">switch</span>&nbsp;<span class="ident" id="2477614">verb</span>&nbsp;<span class="op" id="2477619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477622">case</span>&nbsp;<span class="string" id="2477627">&#39;s&#39;</span><span class="op" id="2477630">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477634">p</span><span class="op" id="2477635">.</span><span class="ident" id="2477636">fmt</span><span class="op" id="2477639">.</span><span class="ident" id="2477640">fmt_s</span><span class="op" id="2477645">(</span><span class="builtintype" id="2477646">string</span><span class="op" id="2477652">(</span><span class="ident" id="2477653">v</span><span class="op" id="2477654">)</span><span class="op" id="2477655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477658">case</span>&nbsp;<span class="string" id="2477663">&#39;x&#39;</span><span class="op" id="2477666">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477670">p</span><span class="op" id="2477671">.</span><span class="ident" id="2477672">fmt</span><span class="op" id="2477675">.</span><span class="ident" id="2477676">fmt_bx</span><span class="op" id="2477682">(</span><span class="ident" id="2477683">v</span><span class="op" id="2477684">,</span>&nbsp;<span class="ident" id="2477686">ldigits</span><span class="op" id="2477693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477696">case</span>&nbsp;<span class="string" id="2477701">&#39;X&#39;</span><span class="op" id="2477704">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477708">p</span><span class="op" id="2477709">.</span><span class="ident" id="2477710">fmt</span><span class="op" id="2477713">.</span><span class="ident" id="2477714">fmt_bx</span><span class="op" id="2477720">(</span><span class="ident" id="2477721">v</span><span class="op" id="2477722">,</span>&nbsp;<span class="ident" id="2477724">udigits</span><span class="op" id="2477731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477734">case</span>&nbsp;<span class="string" id="2477739">&#39;q&#39;</span><span class="op" id="2477742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477746">p</span><span class="op" id="2477747">.</span><span class="ident" id="2477748">fmt</span><span class="op" id="2477751">.</span><span class="ident" id="2477752">fmt_q</span><span class="op" id="2477757">(</span><span class="builtintype" id="2477758">string</span><span class="op" id="2477764">(</span><span class="ident" id="2477765">v</span><span class="op" id="2477766">)</span><span class="op" id="2477767">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477770">default</span><span class="op" id="2477777">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477781">p</span><span class="op" id="2477782">.</span><span class="ident" id="2477783">badVerb</span><span class="op" id="2477790">(</span><span class="ident" id="2477791">verb</span><span class="op" id="2477795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477798">}</span><br>
<span class="lineno"></span><span class="op" id="2477800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2477803">func</span>&nbsp;<span class="op" id="2477808">(</span><span class="ident" id="2477809">p</span>&nbsp;<span class="op" id="2477811">*</span><span class="ident" id="2477812">pp</span><span class="op" id="2477814">)</span>&nbsp;<span class="ident" id="2477816">fmtPointer</span><span class="op" id="2477826">(</span><span class="ident" id="2477827">value</span>&nbsp;<span class="ident" id="2477833">reflect</span><span class="op" id="2477840">.</span><span class="ident" id="2477841">Value</span><span class="op" id="2477846">,</span>&nbsp;<span class="ident" id="2477848">verb</span>&nbsp;<span class="builtintype" id="2477853">rune</span><span class="op" id="2477857">)</span>&nbsp;<span class="op" id="2477859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477862">use0x64</span>&nbsp;<span class="op" id="2477870">:=</span>&nbsp;<span class="builtintype" id="2477873">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477879">switch</span>&nbsp;<span class="ident" id="2477886">verb</span>&nbsp;<span class="op" id="2477891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477894">case</span>&nbsp;<span class="string" id="2477899">&#39;p&#39;</span><span class="op" id="2477902">,</span>&nbsp;<span class="string" id="2477904">&#39;v&#39;</span><span class="op" id="2477907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477911">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477918">case</span>&nbsp;<span class="string" id="2477923">&#39;b&#39;</span><span class="op" id="2477926">,</span>&nbsp;<span class="string" id="2477928">&#39;d&#39;</span><span class="op" id="2477931">,</span>&nbsp;<span class="string" id="2477933">&#39;o&#39;</span><span class="op" id="2477936">,</span>&nbsp;<span class="string" id="2477938">&#39;x&#39;</span><span class="op" id="2477941">,</span>&nbsp;<span class="string" id="2477943">&#39;X&#39;</span><span class="op" id="2477946">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477950">use0x64</span>&nbsp;<span class="op" id="2477958">=</span>&nbsp;<span class="builtintype" id="2477960">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477968">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477975">default</span><span class="op" id="2477982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477986">p</span><span class="op" id="2477987">.</span><span class="ident" id="2477988">badVerb</span><span class="op" id="2477995">(</span><span class="ident" id="2477996">verb</span><span class="op" id="2478000">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478004">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478016">var</span>&nbsp;<span class="ident" id="2478020">u</span>&nbsp;<span class="builtintype" id="2478022">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478031">switch</span>&nbsp;<span class="ident" id="2478038">value</span><span class="op" id="2478043">.</span><span class="ident" id="2478044">Kind</span><span class="op" id="2478048">(</span><span class="op" id="2478049">)</span>&nbsp;<span class="op" id="2478051">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478054">case</span>&nbsp;<span class="ident" id="2478059">reflect</span><span class="op" id="2478066">.</span><span class="ident" id="2478067">Chan</span><span class="op" id="2478071">,</span>&nbsp;<span class="ident" id="2478073">reflect</span><span class="op" id="2478080">.</span><span class="ident" id="2478081">Func</span><span class="op" id="2478085">,</span>&nbsp;<span class="ident" id="2478087">reflect</span><span class="op" id="2478094">.</span><span class="ident" id="2478095">Map</span><span class="op" id="2478098">,</span>&nbsp;<span class="ident" id="2478100">reflect</span><span class="op" id="2478107">.</span><span class="ident" id="2478108">Ptr</span><span class="op" id="2478111">,</span>&nbsp;<span class="ident" id="2478113">reflect</span><span class="op" id="2478120">.</span><span class="ident" id="2478121">Slice</span><span class="op" id="2478126">,</span>&nbsp;<span class="ident" id="2478128">reflect</span><span class="op" id="2478135">.</span><span class="ident" id="2478136">UnsafePointer</span><span class="op" id="2478149">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478153">u</span>&nbsp;<span class="op" id="2478155">=</span>&nbsp;<span class="ident" id="2478157">value</span><span class="op" id="2478162">.</span><span class="ident" id="2478163">Pointer</span><span class="op" id="2478170">(</span><span class="op" id="2478171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478174">default</span><span class="op" id="2478181">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478185">p</span><span class="op" id="2478186">.</span><span class="ident" id="2478187">badVerb</span><span class="op" id="2478194">(</span><span class="ident" id="2478195">verb</span><span class="op" id="2478199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478203">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478215">if</span>&nbsp;<span class="ident" id="2478218">p</span><span class="op" id="2478219">.</span><span class="ident" id="2478220">fmt</span><span class="op" id="2478223">.</span><span class="ident" id="2478224">sharpV</span>&nbsp;<span class="op" id="2478231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478235">p</span><span class="op" id="2478236">.</span><span class="ident" id="2478237">add</span><span class="op" id="2478240">(</span><span class="string" id="2478241">&#39;(&#39;</span><span class="op" id="2478244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478248">p</span><span class="op" id="2478249">.</span><span class="ident" id="2478250">buf</span><span class="op" id="2478253">.</span><span class="ident" id="2478254">WriteString</span><span class="op" id="2478265">(</span><span class="ident" id="2478266">value</span><span class="op" id="2478271">.</span><span class="ident" id="2478272">Type</span><span class="op" id="2478276">(</span><span class="op" id="2478277">)</span><span class="op" id="2478278">.</span><span class="ident" id="2478279">String</span><span class="op" id="2478285">(</span><span class="op" id="2478286">)</span><span class="op" id="2478287">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478291">p</span><span class="op" id="2478292">.</span><span class="ident" id="2478293">add</span><span class="op" id="2478296">(</span><span class="string" id="2478297">&#39;)&#39;</span><span class="op" id="2478300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478304">p</span><span class="op" id="2478305">.</span><span class="ident" id="2478306">add</span><span class="op" id="2478309">(</span><span class="string" id="2478310">&#39;(&#39;</span><span class="op" id="2478313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478317">if</span>&nbsp;<span class="ident" id="2478320">u</span>&nbsp;<span class="op" id="2478322">==</span>&nbsp;<span class="num" id="2478325">0</span>&nbsp;<span class="op" id="2478327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478332">p</span><span class="op" id="2478333">.</span><span class="ident" id="2478334">buf</span><span class="op" id="2478337">.</span><span class="ident" id="2478338">Write</span><span class="op" id="2478343">(</span><span class="ident" id="2478344">nilBytes</span><span class="op" id="2478352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478356">}</span>&nbsp;<span class="keyword" id="2478358">else</span>&nbsp;<span class="op" id="2478363">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478368">p</span><span class="op" id="2478369">.</span><span class="ident" id="2478370">fmt0x64</span><span class="op" id="2478377">(</span><span class="ident" id="2478378">uint64</span><span class="op" id="2478384">(</span><span class="ident" id="2478385">u</span><span class="op" id="2478386">)</span><span class="op" id="2478387">,</span>&nbsp;<span class="builtintype" id="2478389">true</span><span class="op" id="2478393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478401">p</span><span class="op" id="2478402">.</span><span class="ident" id="2478403">add</span><span class="op" id="2478406">(</span><span class="string" id="2478407">&#39;)&#39;</span><span class="op" id="2478410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478413">}</span>&nbsp;<span class="keyword" id="2478415">else</span>&nbsp;<span class="keyword" id="2478420">if</span>&nbsp;<span class="ident" id="2478423">verb</span>&nbsp;<span class="op" id="2478428">==</span>&nbsp;<span class="string" id="2478431">&#39;v&#39;</span>&nbsp;<span class="op" id="2478435">&amp;&amp;</span>&nbsp;<span class="ident" id="2478438">u</span>&nbsp;<span class="op" id="2478440">==</span>&nbsp;<span class="num" id="2478443">0</span>&nbsp;<span class="op" id="2478445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478449">p</span><span class="op" id="2478450">.</span><span class="ident" id="2478451">buf</span><span class="op" id="2478454">.</span><span class="ident" id="2478455">Write</span><span class="op" id="2478460">(</span><span class="ident" id="2478461">nilAngleBytes</span><span class="op" id="2478474">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478477">}</span>&nbsp;<span class="keyword" id="2478479">else</span>&nbsp;<span class="op" id="2478484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478488">if</span>&nbsp;<span class="ident" id="2478491">use0x64</span>&nbsp;<span class="op" id="2478499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478504">p</span><span class="op" id="2478505">.</span><span class="ident" id="2478506">fmt0x64</span><span class="op" id="2478513">(</span><span class="ident" id="2478514">uint64</span><span class="op" id="2478520">(</span><span class="ident" id="2478521">u</span><span class="op" id="2478522">)</span><span class="op" id="2478523">,</span>&nbsp;<span class="op" id="2478525">!</span><span class="ident" id="2478526">p</span><span class="op" id="2478527">.</span><span class="ident" id="2478528">fmt</span><span class="op" id="2478531">.</span><span class="ident" id="2478532">sharp</span><span class="op" id="2478537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478541">}</span>&nbsp;<span class="keyword" id="2478543">else</span>&nbsp;<span class="op" id="2478548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478553">p</span><span class="op" id="2478554">.</span><span class="ident" id="2478555">fmtUint64</span><span class="op" id="2478564">(</span><span class="ident" id="2478565">uint64</span><span class="op" id="2478571">(</span><span class="ident" id="2478572">u</span><span class="op" id="2478573">)</span><span class="op" id="2478574">,</span>&nbsp;<span class="ident" id="2478576">verb</span><span class="op" id="2478580">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478587">}</span><br>
<span class="lineno"></span><span class="op" id="2478589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2478592">var</span>&nbsp;<span class="op" id="2478596">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478599">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2478611">=</span>&nbsp;<span class="ident" id="2478613">reflect</span><span class="op" id="2478620">.</span><span class="ident" id="2478621">TypeOf</span><span class="op" id="2478627">(</span><span class="num" id="2478628">0</span><span class="op" id="2478629">)</span><span class="op" id="2478630">.</span><span class="ident" id="2478631">Bits</span><span class="op" id="2478635">(</span><span class="op" id="2478636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478639">uintptrBits</span>&nbsp;<span class="op" id="2478651">=</span>&nbsp;<span class="ident" id="2478653">reflect</span><span class="op" id="2478660">.</span><span class="ident" id="2478661">TypeOf</span><span class="op" id="2478667">(</span><span class="builtintype" id="2478668">uintptr</span><span class="op" id="2478675">(</span><span class="num" id="2478676">0</span><span class="op" id="2478677">)</span><span class="op" id="2478678">)</span><span class="op" id="2478679">.</span><span class="ident" id="2478680">Bits</span><span class="op" id="2478684">(</span><span class="op" id="2478685">)</span><br>
<span class="lineno"></span><span class="op" id="2478687">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2478690">func</span>&nbsp;<span class="op" id="2478695">(</span><span class="ident" id="2478696">p</span>&nbsp;<span class="op" id="2478698">*</span><span class="ident" id="2478699">pp</span><span class="op" id="2478701">)</span>&nbsp;<span class="ident" id="2478703">catchPanic</span><span class="op" id="2478713">(</span><span class="ident" id="2478714">arg</span>&nbsp;<span class="keyword" id="2478718">interface</span><span class="op" id="2478727">{</span><span class="op" id="2478728">}</span><span class="op" id="2478729">,</span>&nbsp;<span class="ident" id="2478731">verb</span>&nbsp;<span class="builtintype" id="2478736">rune</span><span class="op" id="2478740">)</span>&nbsp;<span class="op" id="2478742">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478745">if</span>&nbsp;<span class="ident" id="2478748">err</span>&nbsp;<span class="op" id="2478752">:=</span>&nbsp;<span class="builtinfunc" id="2478755">recover</span><span class="op" id="2478762">(</span><span class="op" id="2478763">)</span><span class="op" id="2478764">;</span>&nbsp;<span class="ident" id="2478766">err</span>&nbsp;<span class="op" id="2478770">!=</span>&nbsp;<span class="ident" id="2478773">nil</span>&nbsp;<span class="op" id="2478777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2478781">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2478854">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2478923">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478990">if</span>&nbsp;<span class="ident" id="2478993">v</span>&nbsp;<span class="op" id="2478995">:=</span>&nbsp;<span class="ident" id="2478998">reflect</span><span class="op" id="2479005">.</span><span class="ident" id="2479006">ValueOf</span><span class="op" id="2479013">(</span><span class="ident" id="2479014">arg</span><span class="op" id="2479017">)</span><span class="op" id="2479018">;</span>&nbsp;<span class="ident" id="2479020">v</span><span class="op" id="2479021">.</span><span class="ident" id="2479022">Kind</span><span class="op" id="2479026">(</span><span class="op" id="2479027">)</span>&nbsp;<span class="op" id="2479029">==</span>&nbsp;<span class="ident" id="2479032">reflect</span><span class="op" id="2479039">.</span><span class="ident" id="2479040">Ptr</span>&nbsp;<span class="op" id="2479044">&amp;&amp;</span>&nbsp;<span class="ident" id="2479047">v</span><span class="op" id="2479048">.</span><span class="ident" id="2479049">IsNil</span><span class="op" id="2479054">(</span><span class="op" id="2479055">)</span>&nbsp;<span class="op" id="2479057">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479062">p</span><span class="op" id="2479063">.</span><span class="ident" id="2479064">buf</span><span class="op" id="2479067">.</span><span class="ident" id="2479068">Write</span><span class="op" id="2479073">(</span><span class="ident" id="2479074">nilAngleBytes</span><span class="op" id="2479087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479092">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2479105">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2479178">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479215">if</span>&nbsp;<span class="ident" id="2479218">p</span><span class="op" id="2479219">.</span><span class="ident" id="2479220">panicking</span>&nbsp;<span class="op" id="2479230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2479235">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2479298">panic</span><span class="op" id="2479303">(</span><span class="ident" id="2479304">err</span><span class="op" id="2479307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479315">p</span><span class="op" id="2479316">.</span><span class="ident" id="2479317">fmt</span><span class="op" id="2479320">.</span><span class="ident" id="2479321">clearflags</span><span class="op" id="2479331">(</span><span class="op" id="2479332">)</span>&nbsp;<span class="comment" id="2479334">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479398">p</span><span class="op" id="2479399">.</span><span class="ident" id="2479400">buf</span><span class="op" id="2479403">.</span><span class="ident" id="2479404">Write</span><span class="op" id="2479409">(</span><span class="ident" id="2479410">percentBangBytes</span><span class="op" id="2479426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479430">p</span><span class="op" id="2479431">.</span><span class="ident" id="2479432">add</span><span class="op" id="2479435">(</span><span class="ident" id="2479436">verb</span><span class="op" id="2479440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479444">p</span><span class="op" id="2479445">.</span><span class="ident" id="2479446">buf</span><span class="op" id="2479449">.</span><span class="ident" id="2479450">Write</span><span class="op" id="2479455">(</span><span class="ident" id="2479456">panicBytes</span><span class="op" id="2479466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479470">p</span><span class="op" id="2479471">.</span><span class="ident" id="2479472">panicking</span>&nbsp;<span class="op" id="2479482">=</span>&nbsp;<span class="builtintype" id="2479484">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479491">p</span><span class="op" id="2479492">.</span><span class="ident" id="2479493">printArg</span><span class="op" id="2479501">(</span><span class="ident" id="2479502">err</span><span class="op" id="2479505">,</span>&nbsp;<span class="string" id="2479507">&#39;v&#39;</span><span class="op" id="2479510">,</span>&nbsp;<span class="num" id="2479512">0</span><span class="op" id="2479513">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479517">p</span><span class="op" id="2479518">.</span><span class="ident" id="2479519">panicking</span>&nbsp;<span class="op" id="2479529">=</span>&nbsp;<span class="builtintype" id="2479531">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479539">p</span><span class="op" id="2479540">.</span><span class="ident" id="2479541">buf</span><span class="op" id="2479544">.</span><span class="ident" id="2479545">WriteByte</span><span class="op" id="2479554">(</span><span class="string" id="2479555">&#39;)&#39;</span><span class="op" id="2479558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479561">}</span><br>
<span class="lineno"></span><span class="op" id="2479563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2479566">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2479655">func</span>&nbsp;<span class="op" id="2479660">(</span><span class="ident" id="2479661">p</span>&nbsp;<span class="op" id="2479663">*</span><span class="ident" id="2479664">pp</span><span class="op" id="2479666">)</span>&nbsp;<span class="ident" id="2479668">clearSpecialFlags</span><span class="op" id="2479685">(</span><span class="op" id="2479686">)</span>&nbsp;<span class="op" id="2479688">(</span><span class="ident" id="2479689">plusV</span><span class="op" id="2479694">,</span>&nbsp;<span class="ident" id="2479696">sharpV</span>&nbsp;<span class="builtintype" id="2479703">bool</span><span class="op" id="2479707">)</span>&nbsp;<span class="op" id="2479709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479712">plusV</span>&nbsp;<span class="op" id="2479718">=</span>&nbsp;<span class="ident" id="2479720">p</span><span class="op" id="2479721">.</span><span class="ident" id="2479722">fmt</span><span class="op" id="2479725">.</span><span class="ident" id="2479726">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479733">if</span>&nbsp;<span class="ident" id="2479736">plusV</span>&nbsp;<span class="op" id="2479742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479746">p</span><span class="op" id="2479747">.</span><span class="ident" id="2479748">fmt</span><span class="op" id="2479751">.</span><span class="ident" id="2479752">plus</span>&nbsp;<span class="op" id="2479757">=</span>&nbsp;<span class="builtintype" id="2479759">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479766">p</span><span class="op" id="2479767">.</span><span class="ident" id="2479768">fmt</span><span class="op" id="2479771">.</span><span class="ident" id="2479772">plusV</span>&nbsp;<span class="op" id="2479778">=</span>&nbsp;<span class="builtintype" id="2479780">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479790">sharpV</span>&nbsp;<span class="op" id="2479797">=</span>&nbsp;<span class="ident" id="2479799">p</span><span class="op" id="2479800">.</span><span class="ident" id="2479801">fmt</span><span class="op" id="2479804">.</span><span class="ident" id="2479805">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479813">if</span>&nbsp;<span class="ident" id="2479816">sharpV</span>&nbsp;<span class="op" id="2479823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479827">p</span><span class="op" id="2479828">.</span><span class="ident" id="2479829">fmt</span><span class="op" id="2479832">.</span><span class="ident" id="2479833">sharp</span>&nbsp;<span class="op" id="2479839">=</span>&nbsp;<span class="builtintype" id="2479841">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479848">p</span><span class="op" id="2479849">.</span><span class="ident" id="2479850">fmt</span><span class="op" id="2479853">.</span><span class="ident" id="2479854">sharpV</span>&nbsp;<span class="op" id="2479861">=</span>&nbsp;<span class="builtintype" id="2479863">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479873">return</span><br>
<span class="lineno"></span><span class="op" id="2479880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2479883">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2479961">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2480016">func</span>&nbsp;<span class="op" id="2480021">(</span><span class="ident" id="2480022">p</span>&nbsp;<span class="op" id="2480024">*</span><span class="ident" id="2480025">pp</span><span class="op" id="2480027">)</span>&nbsp;<span class="ident" id="2480029">restoreSpecialFlags</span><span class="op" id="2480048">(</span><span class="ident" id="2480049">plusV</span><span class="op" id="2480054">,</span>&nbsp;<span class="ident" id="2480056">sharpV</span>&nbsp;<span class="builtintype" id="2480063">bool</span><span class="op" id="2480067">)</span>&nbsp;<span class="op" id="2480069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480072">if</span>&nbsp;<span class="ident" id="2480075">plusV</span>&nbsp;<span class="op" id="2480081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480085">p</span><span class="op" id="2480086">.</span><span class="ident" id="2480087">fmt</span><span class="op" id="2480090">.</span><span class="ident" id="2480091">plus</span>&nbsp;<span class="op" id="2480096">=</span>&nbsp;<span class="builtintype" id="2480098">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480106">p</span><span class="op" id="2480107">.</span><span class="ident" id="2480108">fmt</span><span class="op" id="2480111">.</span><span class="ident" id="2480112">plusV</span>&nbsp;<span class="op" id="2480118">=</span>&nbsp;<span class="builtintype" id="2480120">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480129">if</span>&nbsp;<span class="ident" id="2480132">sharpV</span>&nbsp;<span class="op" id="2480139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480143">p</span><span class="op" id="2480144">.</span><span class="ident" id="2480145">fmt</span><span class="op" id="2480148">.</span><span class="ident" id="2480149">sharp</span>&nbsp;<span class="op" id="2480155">=</span>&nbsp;<span class="builtintype" id="2480157">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480165">p</span><span class="op" id="2480166">.</span><span class="ident" id="2480167">fmt</span><span class="op" id="2480170">.</span><span class="ident" id="2480171">sharpV</span>&nbsp;<span class="op" id="2480178">=</span>&nbsp;<span class="builtintype" id="2480180">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480186">}</span><br>
<span class="lineno"></span><span class="op" id="2480188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2480191">func</span>&nbsp;<span class="op" id="2480196">(</span><span class="ident" id="2480197">p</span>&nbsp;<span class="op" id="2480199">*</span><span class="ident" id="2480200">pp</span><span class="op" id="2480202">)</span>&nbsp;<span class="ident" id="2480204">handleMethods</span><span class="op" id="2480217">(</span><span class="ident" id="2480218">verb</span>&nbsp;<span class="builtintype" id="2480223">rune</span><span class="op" id="2480227">,</span>&nbsp;<span class="ident" id="2480229">depth</span>&nbsp;<span class="builtintype" id="2480235">int</span><span class="op" id="2480238">)</span>&nbsp;<span class="op" id="2480240">(</span><span class="ident" id="2480241">handled</span>&nbsp;<span class="builtintype" id="2480249">bool</span><span class="op" id="2480253">)</span>&nbsp;<span class="op" id="2480255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480258">if</span>&nbsp;<span class="ident" id="2480261">p</span><span class="op" id="2480262">.</span><span class="ident" id="2480263">erroring</span>&nbsp;<span class="op" id="2480272">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480276">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2480287">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480310">if</span>&nbsp;<span class="ident" id="2480313">formatter</span><span class="op" id="2480322">,</span>&nbsp;<span class="ident" id="2480324">ok</span>&nbsp;<span class="op" id="2480327">:=</span>&nbsp;<span class="ident" id="2480330">p</span><span class="op" id="2480331">.</span><span class="ident" id="2480332">arg</span><span class="op" id="2480335">.</span><span class="op" id="2480336">(</span><span class="ident" id="2480337">Formatter</span><span class="op" id="2480346">)</span><span class="op" id="2480347">;</span>&nbsp;<span class="ident" id="2480349">ok</span>&nbsp;<span class="op" id="2480352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480356">handled</span>&nbsp;<span class="op" id="2480364">=</span>&nbsp;<span class="builtintype" id="2480366">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480373">defer</span>&nbsp;<span class="ident" id="2480379">p</span><span class="op" id="2480380">.</span><span class="ident" id="2480381">restoreSpecialFlags</span><span class="op" id="2480400">(</span><span class="ident" id="2480401">p</span><span class="op" id="2480402">.</span><span class="ident" id="2480403">clearSpecialFlags</span><span class="op" id="2480420">(</span><span class="op" id="2480421">)</span><span class="op" id="2480422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480426">defer</span>&nbsp;<span class="ident" id="2480432">p</span><span class="op" id="2480433">.</span><span class="ident" id="2480434">catchPanic</span><span class="op" id="2480444">(</span><span class="ident" id="2480445">p</span><span class="op" id="2480446">.</span><span class="ident" id="2480447">arg</span><span class="op" id="2480450">,</span>&nbsp;<span class="ident" id="2480452">verb</span><span class="op" id="2480456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480460">formatter</span><span class="op" id="2480469">.</span><span class="ident" id="2480470">Format</span><span class="op" id="2480476">(</span><span class="ident" id="2480477">p</span><span class="op" id="2480478">,</span>&nbsp;<span class="ident" id="2480480">verb</span><span class="op" id="2480484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480488">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480496">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2480500">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480591">if</span>&nbsp;<span class="ident" id="2480594">p</span><span class="op" id="2480595">.</span><span class="ident" id="2480596">fmt</span><span class="op" id="2480599">.</span><span class="ident" id="2480600">sharpV</span>&nbsp;<span class="op" id="2480607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480611">if</span>&nbsp;<span class="ident" id="2480614">stringer</span><span class="op" id="2480622">,</span>&nbsp;<span class="ident" id="2480624">ok</span>&nbsp;<span class="op" id="2480627">:=</span>&nbsp;<span class="ident" id="2480630">p</span><span class="op" id="2480631">.</span><span class="ident" id="2480632">arg</span><span class="op" id="2480635">.</span><span class="op" id="2480636">(</span><span class="ident" id="2480637">GoStringer</span><span class="op" id="2480647">)</span><span class="op" id="2480648">;</span>&nbsp;<span class="ident" id="2480650">ok</span>&nbsp;<span class="op" id="2480653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480658">handled</span>&nbsp;<span class="op" id="2480666">=</span>&nbsp;<span class="builtintype" id="2480668">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480676">defer</span>&nbsp;<span class="ident" id="2480682">p</span><span class="op" id="2480683">.</span><span class="ident" id="2480684">catchPanic</span><span class="op" id="2480694">(</span><span class="ident" id="2480695">p</span><span class="op" id="2480696">.</span><span class="ident" id="2480697">arg</span><span class="op" id="2480700">,</span>&nbsp;<span class="ident" id="2480702">verb</span><span class="op" id="2480706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2480711">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480757">p</span><span class="op" id="2480758">.</span><span class="ident" id="2480759">fmt</span><span class="op" id="2480762">.</span><span class="ident" id="2480763">fmt_s</span><span class="op" id="2480768">(</span><span class="ident" id="2480769">stringer</span><span class="op" id="2480777">.</span><span class="ident" id="2480778">GoString</span><span class="op" id="2480786">(</span><span class="op" id="2480787">)</span><span class="op" id="2480788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480793">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480802">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480805">}</span>&nbsp;<span class="keyword" id="2480807">else</span>&nbsp;<span class="op" id="2480812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2480816">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2480879">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2480941">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480998">switch</span>&nbsp;<span class="ident" id="2481005">verb</span>&nbsp;<span class="op" id="2481010">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481014">case</span>&nbsp;<span class="string" id="2481019">&#39;v&#39;</span><span class="op" id="2481022">,</span>&nbsp;<span class="string" id="2481024">&#39;s&#39;</span><span class="op" id="2481027">,</span>&nbsp;<span class="string" id="2481029">&#39;x&#39;</span><span class="op" id="2481032">,</span>&nbsp;<span class="string" id="2481034">&#39;X&#39;</span><span class="op" id="2481037">,</span>&nbsp;<span class="string" id="2481039">&#39;q&#39;</span><span class="op" id="2481042">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2481047">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2481081">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2481131">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2481178">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481223">switch</span>&nbsp;<span class="ident" id="2481230">v</span>&nbsp;<span class="op" id="2481232">:=</span>&nbsp;<span class="ident" id="2481235">p</span><span class="op" id="2481236">.</span><span class="ident" id="2481237">arg</span><span class="op" id="2481240">.</span><span class="op" id="2481241">(</span><span class="keyword" id="2481242">type</span><span class="op" id="2481246">)</span>&nbsp;<span class="op" id="2481248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481253">case</span>&nbsp;<span class="builtintype" id="2481258">error</span><span class="op" id="2481263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481269">handled</span>&nbsp;<span class="op" id="2481277">=</span>&nbsp;<span class="builtintype" id="2481279">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481288">defer</span>&nbsp;<span class="ident" id="2481294">p</span><span class="op" id="2481295">.</span><span class="ident" id="2481296">catchPanic</span><span class="op" id="2481306">(</span><span class="ident" id="2481307">p</span><span class="op" id="2481308">.</span><span class="ident" id="2481309">arg</span><span class="op" id="2481312">,</span>&nbsp;<span class="ident" id="2481314">verb</span><span class="op" id="2481318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481324">p</span><span class="op" id="2481325">.</span><span class="ident" id="2481326">printArg</span><span class="op" id="2481334">(</span><span class="ident" id="2481335">v</span><span class="op" id="2481336">.</span><span class="ident" id="2481337">Error</span><span class="op" id="2481342">(</span><span class="op" id="2481343">)</span><span class="op" id="2481344">,</span>&nbsp;<span class="ident" id="2481346">verb</span><span class="op" id="2481350">,</span>&nbsp;<span class="ident" id="2481352">depth</span><span class="op" id="2481357">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481363">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481374">case</span>&nbsp;<span class="ident" id="2481379">Stringer</span><span class="op" id="2481387">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481393">handled</span>&nbsp;<span class="op" id="2481401">=</span>&nbsp;<span class="builtintype" id="2481403">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481412">defer</span>&nbsp;<span class="ident" id="2481418">p</span><span class="op" id="2481419">.</span><span class="ident" id="2481420">catchPanic</span><span class="op" id="2481430">(</span><span class="ident" id="2481431">p</span><span class="op" id="2481432">.</span><span class="ident" id="2481433">arg</span><span class="op" id="2481436">,</span>&nbsp;<span class="ident" id="2481438">verb</span><span class="op" id="2481442">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481448">p</span><span class="op" id="2481449">.</span><span class="ident" id="2481450">printArg</span><span class="op" id="2481458">(</span><span class="ident" id="2481459">v</span><span class="op" id="2481460">.</span><span class="ident" id="2481461">String</span><span class="op" id="2481467">(</span><span class="op" id="2481468">)</span><span class="op" id="2481469">,</span>&nbsp;<span class="ident" id="2481471">verb</span><span class="op" id="2481475">,</span>&nbsp;<span class="ident" id="2481477">depth</span><span class="op" id="2481482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481488">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2481498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2481502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2481505">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481508">return</span>&nbsp;<span class="builtintype" id="2481515">false</span><br>
<span class="lineno"></span><span class="op" id="2481521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2481524">func</span>&nbsp;<span class="op" id="2481529">(</span><span class="ident" id="2481530">p</span>&nbsp;<span class="op" id="2481532">*</span><span class="ident" id="2481533">pp</span><span class="op" id="2481535">)</span>&nbsp;<span class="ident" id="2481537">printArg</span><span class="op" id="2481545">(</span><span class="ident" id="2481546">arg</span>&nbsp;<span class="keyword" id="2481550">interface</span><span class="op" id="2481559">{</span><span class="op" id="2481560">}</span><span class="op" id="2481561">,</span>&nbsp;<span class="ident" id="2481563">verb</span>&nbsp;<span class="builtintype" id="2481568">rune</span><span class="op" id="2481572">,</span>&nbsp;<span class="ident" id="2481574">depth</span>&nbsp;<span class="builtintype" id="2481580">int</span><span class="op" id="2481583">)</span>&nbsp;<span class="op" id="2481585">(</span><span class="ident" id="2481586">wasString</span>&nbsp;<span class="builtintype" id="2481596">bool</span><span class="op" id="2481600">)</span>&nbsp;<span class="op" id="2481602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481605">p</span><span class="op" id="2481606">.</span><span class="ident" id="2481607">arg</span>&nbsp;<span class="op" id="2481611">=</span>&nbsp;<span class="ident" id="2481613">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481618">p</span><span class="op" id="2481619">.</span><span class="ident" id="2481620">value</span>&nbsp;<span class="op" id="2481626">=</span>&nbsp;<span class="ident" id="2481628">reflect</span><span class="op" id="2481635">.</span><span class="ident" id="2481636">Value</span><span class="op" id="2481641">{</span><span class="op" id="2481642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481646">if</span>&nbsp;<span class="ident" id="2481649">arg</span>&nbsp;<span class="op" id="2481653">==</span>&nbsp;<span class="ident" id="2481656">nil</span>&nbsp;<span class="op" id="2481660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481664">if</span>&nbsp;<span class="ident" id="2481667">verb</span>&nbsp;<span class="op" id="2481672">==</span>&nbsp;<span class="string" id="2481675">&#39;T&#39;</span>&nbsp;<span class="op" id="2481679">||</span>&nbsp;<span class="ident" id="2481682">verb</span>&nbsp;<span class="op" id="2481687">==</span>&nbsp;<span class="string" id="2481690">&#39;v&#39;</span>&nbsp;<span class="op" id="2481694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481699">p</span><span class="op" id="2481700">.</span><span class="ident" id="2481701">fmt</span><span class="op" id="2481704">.</span><span class="ident" id="2481705">pad</span><span class="op" id="2481708">(</span><span class="ident" id="2481709">nilAngleBytes</span><span class="op" id="2481722">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2481726">}</span>&nbsp;<span class="keyword" id="2481728">else</span>&nbsp;<span class="op" id="2481733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481738">p</span><span class="op" id="2481739">.</span><span class="ident" id="2481740">badVerb</span><span class="op" id="2481747">(</span><span class="ident" id="2481748">verb</span><span class="op" id="2481752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2481756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481760">return</span>&nbsp;<span class="builtintype" id="2481767">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2481774">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2481778">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2481817">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481902">switch</span>&nbsp;<span class="ident" id="2481909">verb</span>&nbsp;<span class="op" id="2481914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481917">case</span>&nbsp;<span class="string" id="2481922">&#39;T&#39;</span><span class="op" id="2481925">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481929">p</span><span class="op" id="2481930">.</span><span class="ident" id="2481931">printArg</span><span class="op" id="2481939">(</span><span class="ident" id="2481940">reflect</span><span class="op" id="2481947">.</span><span class="ident" id="2481948">TypeOf</span><span class="op" id="2481954">(</span><span class="ident" id="2481955">arg</span><span class="op" id="2481958">)</span><span class="op" id="2481959">.</span><span class="ident" id="2481960">String</span><span class="op" id="2481966">(</span><span class="op" id="2481967">)</span><span class="op" id="2481968">,</span>&nbsp;<span class="string" id="2481970">&#39;s&#39;</span><span class="op" id="2481973">,</span>&nbsp;<span class="num" id="2481975">0</span><span class="op" id="2481976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481980">return</span>&nbsp;<span class="builtintype" id="2481987">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481994">case</span>&nbsp;<span class="string" id="2481999">&#39;p&#39;</span><span class="op" id="2482002">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482006">p</span><span class="op" id="2482007">.</span><span class="ident" id="2482008">fmtPointer</span><span class="op" id="2482018">(</span><span class="ident" id="2482019">reflect</span><span class="op" id="2482026">.</span><span class="ident" id="2482027">ValueOf</span><span class="op" id="2482034">(</span><span class="ident" id="2482035">arg</span><span class="op" id="2482038">)</span><span class="op" id="2482039">,</span>&nbsp;<span class="ident" id="2482041">verb</span><span class="op" id="2482045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482049">return</span>&nbsp;<span class="builtintype" id="2482056">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2482063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482067">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482114">switch</span>&nbsp;<span class="ident" id="2482121">f</span>&nbsp;<span class="op" id="2482123">:=</span>&nbsp;<span class="ident" id="2482126">arg</span><span class="op" id="2482129">.</span><span class="op" id="2482130">(</span><span class="keyword" id="2482131">type</span><span class="op" id="2482135">)</span>&nbsp;<span class="op" id="2482137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482140">case</span>&nbsp;<span class="builtintype" id="2482145">bool</span><span class="op" id="2482149">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482153">p</span><span class="op" id="2482154">.</span><span class="ident" id="2482155">fmtBool</span><span class="op" id="2482162">(</span><span class="ident" id="2482163">f</span><span class="op" id="2482164">,</span>&nbsp;<span class="ident" id="2482166">verb</span><span class="op" id="2482170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482173">case</span>&nbsp;<span class="builtintype" id="2482178">float32</span><span class="op" id="2482185">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482189">p</span><span class="op" id="2482190">.</span><span class="ident" id="2482191">fmtFloat32</span><span class="op" id="2482201">(</span><span class="ident" id="2482202">f</span><span class="op" id="2482203">,</span>&nbsp;<span class="ident" id="2482205">verb</span><span class="op" id="2482209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482212">case</span>&nbsp;<span class="builtintype" id="2482217">float64</span><span class="op" id="2482224">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482228">p</span><span class="op" id="2482229">.</span><span class="ident" id="2482230">fmtFloat64</span><span class="op" id="2482240">(</span><span class="ident" id="2482241">f</span><span class="op" id="2482242">,</span>&nbsp;<span class="ident" id="2482244">verb</span><span class="op" id="2482248">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482251">case</span>&nbsp;<span class="builtintype" id="2482256">complex64</span><span class="op" id="2482265">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482269">p</span><span class="op" id="2482270">.</span><span class="ident" id="2482271">fmtComplex64</span><span class="op" id="2482283">(</span><span class="ident" id="2482284">f</span><span class="op" id="2482285">,</span>&nbsp;<span class="ident" id="2482287">verb</span><span class="op" id="2482291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482294">case</span>&nbsp;<span class="builtintype" id="2482299">complex128</span><span class="op" id="2482309">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482313">p</span><span class="op" id="2482314">.</span><span class="ident" id="2482315">fmtComplex128</span><span class="op" id="2482328">(</span><span class="ident" id="2482329">f</span><span class="op" id="2482330">,</span>&nbsp;<span class="ident" id="2482332">verb</span><span class="op" id="2482336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482339">case</span>&nbsp;<span class="builtintype" id="2482344">int</span><span class="op" id="2482347">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482351">p</span><span class="op" id="2482352">.</span><span class="ident" id="2482353">fmtInt64</span><span class="op" id="2482361">(</span><span class="ident" id="2482362">int64</span><span class="op" id="2482367">(</span><span class="ident" id="2482368">f</span><span class="op" id="2482369">)</span><span class="op" id="2482370">,</span>&nbsp;<span class="ident" id="2482372">verb</span><span class="op" id="2482376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482379">case</span>&nbsp;<span class="builtintype" id="2482384">int8</span><span class="op" id="2482388">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482392">p</span><span class="op" id="2482393">.</span><span class="ident" id="2482394">fmtInt64</span><span class="op" id="2482402">(</span><span class="ident" id="2482403">int64</span><span class="op" id="2482408">(</span><span class="ident" id="2482409">f</span><span class="op" id="2482410">)</span><span class="op" id="2482411">,</span>&nbsp;<span class="ident" id="2482413">verb</span><span class="op" id="2482417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482420">case</span>&nbsp;<span class="builtintype" id="2482425">int16</span><span class="op" id="2482430">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482434">p</span><span class="op" id="2482435">.</span><span class="ident" id="2482436">fmtInt64</span><span class="op" id="2482444">(</span><span class="ident" id="2482445">int64</span><span class="op" id="2482450">(</span><span class="ident" id="2482451">f</span><span class="op" id="2482452">)</span><span class="op" id="2482453">,</span>&nbsp;<span class="ident" id="2482455">verb</span><span class="op" id="2482459">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482462">case</span>&nbsp;<span class="builtintype" id="2482467">int32</span><span class="op" id="2482472">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482476">p</span><span class="op" id="2482477">.</span><span class="ident" id="2482478">fmtInt64</span><span class="op" id="2482486">(</span><span class="ident" id="2482487">int64</span><span class="op" id="2482492">(</span><span class="ident" id="2482493">f</span><span class="op" id="2482494">)</span><span class="op" id="2482495">,</span>&nbsp;<span class="ident" id="2482497">verb</span><span class="op" id="2482501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482504">case</span>&nbsp;<span class="ident" id="2482509">int64</span><span class="op" id="2482514">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482518">p</span><span class="op" id="2482519">.</span><span class="ident" id="2482520">fmtInt64</span><span class="op" id="2482528">(</span><span class="ident" id="2482529">f</span><span class="op" id="2482530">,</span>&nbsp;<span class="ident" id="2482532">verb</span><span class="op" id="2482536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482539">case</span>&nbsp;<span class="builtintype" id="2482544">uint</span><span class="op" id="2482548">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482552">p</span><span class="op" id="2482553">.</span><span class="ident" id="2482554">fmtUint64</span><span class="op" id="2482563">(</span><span class="ident" id="2482564">uint64</span><span class="op" id="2482570">(</span><span class="ident" id="2482571">f</span><span class="op" id="2482572">)</span><span class="op" id="2482573">,</span>&nbsp;<span class="ident" id="2482575">verb</span><span class="op" id="2482579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482582">case</span>&nbsp;<span class="builtintype" id="2482587">uint8</span><span class="op" id="2482592">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482596">p</span><span class="op" id="2482597">.</span><span class="ident" id="2482598">fmtUint64</span><span class="op" id="2482607">(</span><span class="ident" id="2482608">uint64</span><span class="op" id="2482614">(</span><span class="ident" id="2482615">f</span><span class="op" id="2482616">)</span><span class="op" id="2482617">,</span>&nbsp;<span class="ident" id="2482619">verb</span><span class="op" id="2482623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482626">case</span>&nbsp;<span class="builtintype" id="2482631">uint16</span><span class="op" id="2482637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482641">p</span><span class="op" id="2482642">.</span><span class="ident" id="2482643">fmtUint64</span><span class="op" id="2482652">(</span><span class="ident" id="2482653">uint64</span><span class="op" id="2482659">(</span><span class="ident" id="2482660">f</span><span class="op" id="2482661">)</span><span class="op" id="2482662">,</span>&nbsp;<span class="ident" id="2482664">verb</span><span class="op" id="2482668">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482671">case</span>&nbsp;<span class="builtintype" id="2482676">uint32</span><span class="op" id="2482682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482686">p</span><span class="op" id="2482687">.</span><span class="ident" id="2482688">fmtUint64</span><span class="op" id="2482697">(</span><span class="ident" id="2482698">uint64</span><span class="op" id="2482704">(</span><span class="ident" id="2482705">f</span><span class="op" id="2482706">)</span><span class="op" id="2482707">,</span>&nbsp;<span class="ident" id="2482709">verb</span><span class="op" id="2482713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482716">case</span>&nbsp;<span class="ident" id="2482721">uint64</span><span class="op" id="2482727">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482731">p</span><span class="op" id="2482732">.</span><span class="ident" id="2482733">fmtUint64</span><span class="op" id="2482742">(</span><span class="ident" id="2482743">f</span><span class="op" id="2482744">,</span>&nbsp;<span class="ident" id="2482746">verb</span><span class="op" id="2482750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482753">case</span>&nbsp;<span class="builtintype" id="2482758">uintptr</span><span class="op" id="2482765">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482769">p</span><span class="op" id="2482770">.</span><span class="ident" id="2482771">fmtUint64</span><span class="op" id="2482780">(</span><span class="ident" id="2482781">uint64</span><span class="op" id="2482787">(</span><span class="ident" id="2482788">f</span><span class="op" id="2482789">)</span><span class="op" id="2482790">,</span>&nbsp;<span class="ident" id="2482792">verb</span><span class="op" id="2482796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482799">case</span>&nbsp;<span class="builtintype" id="2482804">string</span><span class="op" id="2482810">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482814">p</span><span class="op" id="2482815">.</span><span class="ident" id="2482816">fmtString</span><span class="op" id="2482825">(</span><span class="ident" id="2482826">f</span><span class="op" id="2482827">,</span>&nbsp;<span class="ident" id="2482829">verb</span><span class="op" id="2482833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482837">wasString</span>&nbsp;<span class="op" id="2482847">=</span>&nbsp;<span class="ident" id="2482849">verb</span>&nbsp;<span class="op" id="2482854">==</span>&nbsp;<span class="string" id="2482857">&#39;s&#39;</span>&nbsp;<span class="op" id="2482861">||</span>&nbsp;<span class="ident" id="2482864">verb</span>&nbsp;<span class="op" id="2482869">==</span>&nbsp;<span class="string" id="2482872">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482877">case</span>&nbsp;<span class="op" id="2482882">[</span><span class="op" id="2482883">]</span><span class="builtintype" id="2482884">byte</span><span class="op" id="2482888">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482892">p</span><span class="op" id="2482893">.</span><span class="ident" id="2482894">fmtBytes</span><span class="op" id="2482902">(</span><span class="ident" id="2482903">f</span><span class="op" id="2482904">,</span>&nbsp;<span class="ident" id="2482906">verb</span><span class="op" id="2482910">,</span>&nbsp;<span class="ident" id="2482912">nil</span><span class="op" id="2482915">,</span>&nbsp;<span class="ident" id="2482917">depth</span><span class="op" id="2482922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482926">wasString</span>&nbsp;<span class="op" id="2482936">=</span>&nbsp;<span class="ident" id="2482938">verb</span>&nbsp;<span class="op" id="2482943">==</span>&nbsp;<span class="string" id="2482946">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482951">default</span><span class="op" id="2482958">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482962">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483017">if</span>&nbsp;<span class="ident" id="2483020">handled</span>&nbsp;<span class="op" id="2483028">:=</span>&nbsp;<span class="ident" id="2483031">p</span><span class="op" id="2483032">.</span><span class="ident" id="2483033">handleMethods</span><span class="op" id="2483046">(</span><span class="ident" id="2483047">verb</span><span class="op" id="2483051">,</span>&nbsp;<span class="ident" id="2483053">depth</span><span class="op" id="2483058">)</span><span class="op" id="2483059">;</span>&nbsp;<span class="ident" id="2483061">handled</span>&nbsp;<span class="op" id="2483069">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483074">return</span>&nbsp;<span class="builtintype" id="2483081">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2483093">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483121">return</span>&nbsp;<span class="ident" id="2483128">p</span><span class="op" id="2483129">.</span><span class="ident" id="2483130">printReflectValue</span><span class="op" id="2483147">(</span><span class="ident" id="2483148">reflect</span><span class="op" id="2483155">.</span><span class="ident" id="2483156">ValueOf</span><span class="op" id="2483163">(</span><span class="ident" id="2483164">arg</span><span class="op" id="2483167">)</span><span class="op" id="2483168">,</span>&nbsp;<span class="ident" id="2483170">verb</span><span class="op" id="2483174">,</span>&nbsp;<span class="ident" id="2483176">depth</span><span class="op" id="2483181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483184">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483187">p</span><span class="op" id="2483188">.</span><span class="ident" id="2483189">arg</span>&nbsp;<span class="op" id="2483193">=</span>&nbsp;<span class="ident" id="2483195">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483200">return</span><br>
<span class="lineno"></span><span class="op" id="2483207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2483210">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2483300">func</span>&nbsp;<span class="op" id="2483305">(</span><span class="ident" id="2483306">p</span>&nbsp;<span class="op" id="2483308">*</span><span class="ident" id="2483309">pp</span><span class="op" id="2483311">)</span>&nbsp;<span class="ident" id="2483313">printValue</span><span class="op" id="2483323">(</span><span class="ident" id="2483324">value</span>&nbsp;<span class="ident" id="2483330">reflect</span><span class="op" id="2483337">.</span><span class="ident" id="2483338">Value</span><span class="op" id="2483343">,</span>&nbsp;<span class="ident" id="2483345">verb</span>&nbsp;<span class="builtintype" id="2483350">rune</span><span class="op" id="2483354">,</span>&nbsp;<span class="ident" id="2483356">depth</span>&nbsp;<span class="builtintype" id="2483362">int</span><span class="op" id="2483365">)</span>&nbsp;<span class="op" id="2483367">(</span><span class="ident" id="2483368">wasString</span>&nbsp;<span class="builtintype" id="2483378">bool</span><span class="op" id="2483382">)</span>&nbsp;<span class="op" id="2483384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483387">if</span>&nbsp;<span class="op" id="2483390">!</span><span class="ident" id="2483391">value</span><span class="op" id="2483396">.</span><span class="ident" id="2483397">IsValid</span><span class="op" id="2483404">(</span><span class="op" id="2483405">)</span>&nbsp;<span class="op" id="2483407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483411">if</span>&nbsp;<span class="ident" id="2483414">verb</span>&nbsp;<span class="op" id="2483419">==</span>&nbsp;<span class="string" id="2483422">&#39;T&#39;</span>&nbsp;<span class="op" id="2483426">||</span>&nbsp;<span class="ident" id="2483429">verb</span>&nbsp;<span class="op" id="2483434">==</span>&nbsp;<span class="string" id="2483437">&#39;v&#39;</span>&nbsp;<span class="op" id="2483441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483446">p</span><span class="op" id="2483447">.</span><span class="ident" id="2483448">buf</span><span class="op" id="2483451">.</span><span class="ident" id="2483452">Write</span><span class="op" id="2483457">(</span><span class="ident" id="2483458">nilAngleBytes</span><span class="op" id="2483471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483475">}</span>&nbsp;<span class="keyword" id="2483477">else</span>&nbsp;<span class="op" id="2483482">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483487">p</span><span class="op" id="2483488">.</span><span class="ident" id="2483489">badVerb</span><span class="op" id="2483496">(</span><span class="ident" id="2483497">verb</span><span class="op" id="2483501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483509">return</span>&nbsp;<span class="builtintype" id="2483516">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2483527">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2483566">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483651">switch</span>&nbsp;<span class="ident" id="2483658">verb</span>&nbsp;<span class="op" id="2483663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483666">case</span>&nbsp;<span class="string" id="2483671">&#39;T&#39;</span><span class="op" id="2483674">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483678">p</span><span class="op" id="2483679">.</span><span class="ident" id="2483680">printArg</span><span class="op" id="2483688">(</span><span class="ident" id="2483689">value</span><span class="op" id="2483694">.</span><span class="ident" id="2483695">Type</span><span class="op" id="2483699">(</span><span class="op" id="2483700">)</span><span class="op" id="2483701">.</span><span class="ident" id="2483702">String</span><span class="op" id="2483708">(</span><span class="op" id="2483709">)</span><span class="op" id="2483710">,</span>&nbsp;<span class="string" id="2483712">&#39;s&#39;</span><span class="op" id="2483715">,</span>&nbsp;<span class="num" id="2483717">0</span><span class="op" id="2483718">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483722">return</span>&nbsp;<span class="builtintype" id="2483729">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483736">case</span>&nbsp;<span class="string" id="2483741">&#39;p&#39;</span><span class="op" id="2483744">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483748">p</span><span class="op" id="2483749">.</span><span class="ident" id="2483750">fmtPointer</span><span class="op" id="2483760">(</span><span class="ident" id="2483761">value</span><span class="op" id="2483766">,</span>&nbsp;<span class="ident" id="2483768">verb</span><span class="op" id="2483772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483776">return</span>&nbsp;<span class="builtintype" id="2483783">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483790">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2483794">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2483834">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483921">p</span><span class="op" id="2483922">.</span><span class="ident" id="2483923">arg</span>&nbsp;<span class="op" id="2483927">=</span>&nbsp;<span class="ident" id="2483929">nil</span>&nbsp;<span class="comment" id="2483933">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483973">if</span>&nbsp;<span class="ident" id="2483976">value</span><span class="op" id="2483981">.</span><span class="ident" id="2483982">CanInterface</span><span class="op" id="2483994">(</span><span class="op" id="2483995">)</span>&nbsp;<span class="op" id="2483997">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484001">p</span><span class="op" id="2484002">.</span><span class="ident" id="2484003">arg</span>&nbsp;<span class="op" id="2484007">=</span>&nbsp;<span class="ident" id="2484009">value</span><span class="op" id="2484014">.</span><span class="ident" id="2484015">Interface</span><span class="op" id="2484024">(</span><span class="op" id="2484025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2484028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484031">if</span>&nbsp;<span class="ident" id="2484034">handled</span>&nbsp;<span class="op" id="2484042">:=</span>&nbsp;<span class="ident" id="2484045">p</span><span class="op" id="2484046">.</span><span class="ident" id="2484047">handleMethods</span><span class="op" id="2484060">(</span><span class="ident" id="2484061">verb</span><span class="op" id="2484065">,</span>&nbsp;<span class="ident" id="2484067">depth</span><span class="op" id="2484072">)</span><span class="op" id="2484073">;</span>&nbsp;<span class="ident" id="2484075">handled</span>&nbsp;<span class="op" id="2484083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484087">return</span>&nbsp;<span class="builtintype" id="2484094">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2484101">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484105">return</span>&nbsp;<span class="ident" id="2484112">p</span><span class="op" id="2484113">.</span><span class="ident" id="2484114">printReflectValue</span><span class="op" id="2484131">(</span><span class="ident" id="2484132">value</span><span class="op" id="2484137">,</span>&nbsp;<span class="ident" id="2484139">verb</span><span class="op" id="2484143">,</span>&nbsp;<span class="ident" id="2484145">depth</span><span class="op" id="2484150">)</span><br>
<span class="lineno"></span><span class="op" id="2484152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2484155">var</span>&nbsp;<span class="ident" id="2484159">byteType</span>&nbsp;<span class="op" id="2484168">=</span>&nbsp;<span class="ident" id="2484170">reflect</span><span class="op" id="2484177">.</span><span class="ident" id="2484178">TypeOf</span><span class="op" id="2484184">(</span><span class="builtintype" id="2484185">byte</span><span class="op" id="2484189">(</span><span class="num" id="2484190">0</span><span class="op" id="2484191">)</span><span class="op" id="2484192">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2484195">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2484266">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2484305">func</span>&nbsp;<span class="op" id="2484310">(</span><span class="ident" id="2484311">p</span>&nbsp;<span class="op" id="2484313">*</span><span class="ident" id="2484314">pp</span><span class="op" id="2484316">)</span>&nbsp;<span class="ident" id="2484318">printReflectValue</span><span class="op" id="2484335">(</span><span class="ident" id="2484336">value</span>&nbsp;<span class="ident" id="2484342">reflect</span><span class="op" id="2484349">.</span><span class="ident" id="2484350">Value</span><span class="op" id="2484355">,</span>&nbsp;<span class="ident" id="2484357">verb</span>&nbsp;<span class="builtintype" id="2484362">rune</span><span class="op" id="2484366">,</span>&nbsp;<span class="ident" id="2484368">depth</span>&nbsp;<span class="builtintype" id="2484374">int</span><span class="op" id="2484377">)</span>&nbsp;<span class="op" id="2484379">(</span><span class="ident" id="2484380">wasString</span>&nbsp;<span class="builtintype" id="2484390">bool</span><span class="op" id="2484394">)</span>&nbsp;<span class="op" id="2484396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484399">oldValue</span>&nbsp;<span class="op" id="2484408">:=</span>&nbsp;<span class="ident" id="2484411">p</span><span class="op" id="2484412">.</span><span class="ident" id="2484413">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484420">p</span><span class="op" id="2484421">.</span><span class="ident" id="2484422">value</span>&nbsp;<span class="op" id="2484428">=</span>&nbsp;<span class="ident" id="2484430">value</span><br>
<span class="lineno"></span><span class="ident" id="2484436">BigSwitch</span><span class="op" id="2484445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484448">switch</span>&nbsp;<span class="ident" id="2484455">f</span>&nbsp;<span class="op" id="2484457">:=</span>&nbsp;<span class="ident" id="2484460">value</span><span class="op" id="2484465">;</span>&nbsp;<span class="ident" id="2484467">f</span><span class="op" id="2484468">.</span><span class="ident" id="2484469">Kind</span><span class="op" id="2484473">(</span><span class="op" id="2484474">)</span>&nbsp;<span class="op" id="2484476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484479">case</span>&nbsp;<span class="ident" id="2484484">reflect</span><span class="op" id="2484491">.</span><span class="ident" id="2484492">Bool</span><span class="op" id="2484496">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484500">p</span><span class="op" id="2484501">.</span><span class="ident" id="2484502">fmtBool</span><span class="op" id="2484509">(</span><span class="ident" id="2484510">f</span><span class="op" id="2484511">.</span><span class="ident" id="2484512">Bool</span><span class="op" id="2484516">(</span><span class="op" id="2484517">)</span><span class="op" id="2484518">,</span>&nbsp;<span class="ident" id="2484520">verb</span><span class="op" id="2484524">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484527">case</span>&nbsp;<span class="ident" id="2484532">reflect</span><span class="op" id="2484539">.</span><span class="ident" id="2484540">Int</span><span class="op" id="2484543">,</span>&nbsp;<span class="ident" id="2484545">reflect</span><span class="op" id="2484552">.</span><span class="ident" id="2484553">Int8</span><span class="op" id="2484557">,</span>&nbsp;<span class="ident" id="2484559">reflect</span><span class="op" id="2484566">.</span><span class="ident" id="2484567">Int16</span><span class="op" id="2484572">,</span>&nbsp;<span class="ident" id="2484574">reflect</span><span class="op" id="2484581">.</span><span class="ident" id="2484582">Int32</span><span class="op" id="2484587">,</span>&nbsp;<span class="ident" id="2484589">reflect</span><span class="op" id="2484596">.</span><span class="ident" id="2484597">Int64</span><span class="op" id="2484602">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484606">p</span><span class="op" id="2484607">.</span><span class="ident" id="2484608">fmtInt64</span><span class="op" id="2484616">(</span><span class="ident" id="2484617">f</span><span class="op" id="2484618">.</span><span class="ident" id="2484619">Int</span><span class="op" id="2484622">(</span><span class="op" id="2484623">)</span><span class="op" id="2484624">,</span>&nbsp;<span class="ident" id="2484626">verb</span><span class="op" id="2484630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484633">case</span>&nbsp;<span class="ident" id="2484638">reflect</span><span class="op" id="2484645">.</span><span class="ident" id="2484646">Uint</span><span class="op" id="2484650">,</span>&nbsp;<span class="ident" id="2484652">reflect</span><span class="op" id="2484659">.</span><span class="ident" id="2484660">Uint8</span><span class="op" id="2484665">,</span>&nbsp;<span class="ident" id="2484667">reflect</span><span class="op" id="2484674">.</span><span class="ident" id="2484675">Uint16</span><span class="op" id="2484681">,</span>&nbsp;<span class="ident" id="2484683">reflect</span><span class="op" id="2484690">.</span><span class="ident" id="2484691">Uint32</span><span class="op" id="2484697">,</span>&nbsp;<span class="ident" id="2484699">reflect</span><span class="op" id="2484706">.</span><span class="ident" id="2484707">Uint64</span><span class="op" id="2484713">,</span>&nbsp;<span class="ident" id="2484715">reflect</span><span class="op" id="2484722">.</span><span class="ident" id="2484723">Uintptr</span><span class="op" id="2484730">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484734">p</span><span class="op" id="2484735">.</span><span class="ident" id="2484736">fmtUint64</span><span class="op" id="2484745">(</span><span class="ident" id="2484746">f</span><span class="op" id="2484747">.</span><span class="ident" id="2484748">Uint</span><span class="op" id="2484752">(</span><span class="op" id="2484753">)</span><span class="op" id="2484754">,</span>&nbsp;<span class="ident" id="2484756">verb</span><span class="op" id="2484760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484763">case</span>&nbsp;<span class="ident" id="2484768">reflect</span><span class="op" id="2484775">.</span><span class="ident" id="2484776">Float32</span><span class="op" id="2484783">,</span>&nbsp;<span class="ident" id="2484785">reflect</span><span class="op" id="2484792">.</span><span class="ident" id="2484793">Float64</span><span class="op" id="2484800">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484804">if</span>&nbsp;<span class="ident" id="2484807">f</span><span class="op" id="2484808">.</span><span class="ident" id="2484809">Type</span><span class="op" id="2484813">(</span><span class="op" id="2484814">)</span><span class="op" id="2484815">.</span><span class="ident" id="2484816">Size</span><span class="op" id="2484820">(</span><span class="op" id="2484821">)</span>&nbsp;<span class="op" id="2484823">==</span>&nbsp;<span class="num" id="2484826">4</span>&nbsp;<span class="op" id="2484828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484833">p</span><span class="op" id="2484834">.</span><span class="ident" id="2484835">fmtFloat32</span><span class="op" id="2484845">(</span><span class="builtintype" id="2484846">float32</span><span class="op" id="2484853">(</span><span class="ident" id="2484854">f</span><span class="op" id="2484855">.</span><span class="ident" id="2484856">Float</span><span class="op" id="2484861">(</span><span class="op" id="2484862">)</span><span class="op" id="2484863">)</span><span class="op" id="2484864">,</span>&nbsp;<span class="ident" id="2484866">verb</span><span class="op" id="2484870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2484874">}</span>&nbsp;<span class="keyword" id="2484876">else</span>&nbsp;<span class="op" id="2484881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484886">p</span><span class="op" id="2484887">.</span><span class="ident" id="2484888">fmtFloat64</span><span class="op" id="2484898">(</span><span class="ident" id="2484899">f</span><span class="op" id="2484900">.</span><span class="ident" id="2484901">Float</span><span class="op" id="2484906">(</span><span class="op" id="2484907">)</span><span class="op" id="2484908">,</span>&nbsp;<span class="ident" id="2484910">verb</span><span class="op" id="2484914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2484918">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484921">case</span>&nbsp;<span class="ident" id="2484926">reflect</span><span class="op" id="2484933">.</span><span class="ident" id="2484934">Complex64</span><span class="op" id="2484943">,</span>&nbsp;<span class="ident" id="2484945">reflect</span><span class="op" id="2484952">.</span><span class="ident" id="2484953">Complex128</span><span class="op" id="2484963">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484967">if</span>&nbsp;<span class="ident" id="2484970">f</span><span class="op" id="2484971">.</span><span class="ident" id="2484972">Type</span><span class="op" id="2484976">(</span><span class="op" id="2484977">)</span><span class="op" id="2484978">.</span><span class="ident" id="2484979">Size</span><span class="op" id="2484983">(</span><span class="op" id="2484984">)</span>&nbsp;<span class="op" id="2484986">==</span>&nbsp;<span class="num" id="2484989">8</span>&nbsp;<span class="op" id="2484991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484996">p</span><span class="op" id="2484997">.</span><span class="ident" id="2484998">fmtComplex64</span><span class="op" id="2485010">(</span><span class="builtintype" id="2485011">complex64</span><span class="op" id="2485020">(</span><span class="ident" id="2485021">f</span><span class="op" id="2485022">.</span><span class="ident" id="2485023">Complex</span><span class="op" id="2485030">(</span><span class="op" id="2485031">)</span><span class="op" id="2485032">)</span><span class="op" id="2485033">,</span>&nbsp;<span class="ident" id="2485035">verb</span><span class="op" id="2485039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485043">}</span>&nbsp;<span class="keyword" id="2485045">else</span>&nbsp;<span class="op" id="2485050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485055">p</span><span class="op" id="2485056">.</span><span class="ident" id="2485057">fmtComplex128</span><span class="op" id="2485070">(</span><span class="ident" id="2485071">f</span><span class="op" id="2485072">.</span><span class="ident" id="2485073">Complex</span><span class="op" id="2485080">(</span><span class="op" id="2485081">)</span><span class="op" id="2485082">,</span>&nbsp;<span class="ident" id="2485084">verb</span><span class="op" id="2485088">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485095">case</span>&nbsp;<span class="ident" id="2485100">reflect</span><span class="op" id="2485107">.</span><span class="ident" id="2485108">String</span><span class="op" id="2485114">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485118">p</span><span class="op" id="2485119">.</span><span class="ident" id="2485120">fmtString</span><span class="op" id="2485129">(</span><span class="ident" id="2485130">f</span><span class="op" id="2485131">.</span><span class="ident" id="2485132">String</span><span class="op" id="2485138">(</span><span class="op" id="2485139">)</span><span class="op" id="2485140">,</span>&nbsp;<span class="ident" id="2485142">verb</span><span class="op" id="2485146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485149">case</span>&nbsp;<span class="ident" id="2485154">reflect</span><span class="op" id="2485161">.</span><span class="ident" id="2485162">Map</span><span class="op" id="2485165">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485169">if</span>&nbsp;<span class="ident" id="2485172">p</span><span class="op" id="2485173">.</span><span class="ident" id="2485174">fmt</span><span class="op" id="2485177">.</span><span class="ident" id="2485178">sharpV</span>&nbsp;<span class="op" id="2485185">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485190">p</span><span class="op" id="2485191">.</span><span class="ident" id="2485192">buf</span><span class="op" id="2485195">.</span><span class="ident" id="2485196">WriteString</span><span class="op" id="2485207">(</span><span class="ident" id="2485208">f</span><span class="op" id="2485209">.</span><span class="ident" id="2485210">Type</span><span class="op" id="2485214">(</span><span class="op" id="2485215">)</span><span class="op" id="2485216">.</span><span class="ident" id="2485217">String</span><span class="op" id="2485223">(</span><span class="op" id="2485224">)</span><span class="op" id="2485225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485230">if</span>&nbsp;<span class="ident" id="2485233">f</span><span class="op" id="2485234">.</span><span class="ident" id="2485235">IsNil</span><span class="op" id="2485240">(</span><span class="op" id="2485241">)</span>&nbsp;<span class="op" id="2485243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485249">p</span><span class="op" id="2485250">.</span><span class="ident" id="2485251">buf</span><span class="op" id="2485254">.</span><span class="ident" id="2485255">WriteString</span><span class="op" id="2485266">(</span><span class="string" id="2485267">&#34;(nil)&#34;</span><span class="op" id="2485274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485280">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485289">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485294">p</span><span class="op" id="2485295">.</span><span class="ident" id="2485296">buf</span><span class="op" id="2485299">.</span><span class="ident" id="2485300">WriteByte</span><span class="op" id="2485309">(</span><span class="string" id="2485310">&#39;{&#39;</span><span class="op" id="2485313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485317">}</span>&nbsp;<span class="keyword" id="2485319">else</span>&nbsp;<span class="op" id="2485324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485329">p</span><span class="op" id="2485330">.</span><span class="ident" id="2485331">buf</span><span class="op" id="2485334">.</span><span class="ident" id="2485335">Write</span><span class="op" id="2485340">(</span><span class="ident" id="2485341">mapBytes</span><span class="op" id="2485349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485357">keys</span>&nbsp;<span class="op" id="2485362">:=</span>&nbsp;<span class="ident" id="2485365">f</span><span class="op" id="2485366">.</span><span class="ident" id="2485367">MapKeys</span><span class="op" id="2485374">(</span><span class="op" id="2485375">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485379">for</span>&nbsp;<span class="ident" id="2485383">i</span><span class="op" id="2485384">,</span>&nbsp;<span class="ident" id="2485386">key</span>&nbsp;<span class="op" id="2485390">:=</span>&nbsp;<span class="keyword" id="2485393">range</span>&nbsp;<span class="ident" id="2485399">keys</span>&nbsp;<span class="op" id="2485404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485409">if</span>&nbsp;<span class="ident" id="2485412">i</span>&nbsp;<span class="op" id="2485414">&gt;</span>&nbsp;<span class="num" id="2485416">0</span>&nbsp;<span class="op" id="2485418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485424">if</span>&nbsp;<span class="ident" id="2485427">p</span><span class="op" id="2485428">.</span><span class="ident" id="2485429">fmt</span><span class="op" id="2485432">.</span><span class="ident" id="2485433">sharpV</span>&nbsp;<span class="op" id="2485440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485447">p</span><span class="op" id="2485448">.</span><span class="ident" id="2485449">buf</span><span class="op" id="2485452">.</span><span class="ident" id="2485453">Write</span><span class="op" id="2485458">(</span><span class="ident" id="2485459">commaSpaceBytes</span><span class="op" id="2485474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485480">}</span>&nbsp;<span class="keyword" id="2485482">else</span>&nbsp;<span class="op" id="2485487">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485494">p</span><span class="op" id="2485495">.</span><span class="ident" id="2485496">buf</span><span class="op" id="2485499">.</span><span class="ident" id="2485500">WriteByte</span><span class="op" id="2485509">(</span><span class="string" id="2485510">&#39;&nbsp;&#39;</span><span class="op" id="2485513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485529">p</span><span class="op" id="2485530">.</span><span class="ident" id="2485531">printValue</span><span class="op" id="2485541">(</span><span class="ident" id="2485542">key</span><span class="op" id="2485545">,</span>&nbsp;<span class="ident" id="2485547">verb</span><span class="op" id="2485551">,</span>&nbsp;<span class="ident" id="2485553">depth</span><span class="op" id="2485558">+</span><span class="num" id="2485559">1</span><span class="op" id="2485560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485565">p</span><span class="op" id="2485566">.</span><span class="ident" id="2485567">buf</span><span class="op" id="2485570">.</span><span class="ident" id="2485571">WriteByte</span><span class="op" id="2485580">(</span><span class="string" id="2485581">&#39;:&#39;</span><span class="op" id="2485584">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485589">p</span><span class="op" id="2485590">.</span><span class="ident" id="2485591">printValue</span><span class="op" id="2485601">(</span><span class="ident" id="2485602">f</span><span class="op" id="2485603">.</span><span class="ident" id="2485604">MapIndex</span><span class="op" id="2485612">(</span><span class="ident" id="2485613">key</span><span class="op" id="2485616">)</span><span class="op" id="2485617">,</span>&nbsp;<span class="ident" id="2485619">verb</span><span class="op" id="2485623">,</span>&nbsp;<span class="ident" id="2485625">depth</span><span class="op" id="2485630">+</span><span class="num" id="2485631">1</span><span class="op" id="2485632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485640">if</span>&nbsp;<span class="ident" id="2485643">p</span><span class="op" id="2485644">.</span><span class="ident" id="2485645">fmt</span><span class="op" id="2485648">.</span><span class="ident" id="2485649">sharpV</span>&nbsp;<span class="op" id="2485656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485661">p</span><span class="op" id="2485662">.</span><span class="ident" id="2485663">buf</span><span class="op" id="2485666">.</span><span class="ident" id="2485667">WriteByte</span><span class="op" id="2485676">(</span><span class="string" id="2485677">&#39;}&#39;</span><span class="op" id="2485680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485684">}</span>&nbsp;<span class="keyword" id="2485686">else</span>&nbsp;<span class="op" id="2485691">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485696">p</span><span class="op" id="2485697">.</span><span class="ident" id="2485698">buf</span><span class="op" id="2485701">.</span><span class="ident" id="2485702">WriteByte</span><span class="op" id="2485711">(</span><span class="string" id="2485712">&#39;]&#39;</span><span class="op" id="2485715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485722">case</span>&nbsp;<span class="ident" id="2485727">reflect</span><span class="op" id="2485734">.</span><span class="ident" id="2485735">Struct</span><span class="op" id="2485741">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485745">if</span>&nbsp;<span class="ident" id="2485748">p</span><span class="op" id="2485749">.</span><span class="ident" id="2485750">fmt</span><span class="op" id="2485753">.</span><span class="ident" id="2485754">sharpV</span>&nbsp;<span class="op" id="2485761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485766">p</span><span class="op" id="2485767">.</span><span class="ident" id="2485768">buf</span><span class="op" id="2485771">.</span><span class="ident" id="2485772">WriteString</span><span class="op" id="2485783">(</span><span class="ident" id="2485784">value</span><span class="op" id="2485789">.</span><span class="ident" id="2485790">Type</span><span class="op" id="2485794">(</span><span class="op" id="2485795">)</span><span class="op" id="2485796">.</span><span class="ident" id="2485797">String</span><span class="op" id="2485803">(</span><span class="op" id="2485804">)</span><span class="op" id="2485805">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485813">p</span><span class="op" id="2485814">.</span><span class="ident" id="2485815">add</span><span class="op" id="2485818">(</span><span class="string" id="2485819">&#39;{&#39;</span><span class="op" id="2485822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485826">v</span>&nbsp;<span class="op" id="2485828">:=</span>&nbsp;<span class="ident" id="2485831">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485835">t</span>&nbsp;<span class="op" id="2485837">:=</span>&nbsp;<span class="ident" id="2485840">v</span><span class="op" id="2485841">.</span><span class="ident" id="2485842">Type</span><span class="op" id="2485846">(</span><span class="op" id="2485847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485851">for</span>&nbsp;<span class="ident" id="2485855">i</span>&nbsp;<span class="op" id="2485857">:=</span>&nbsp;<span class="num" id="2485860">0</span><span class="op" id="2485861">;</span>&nbsp;<span class="ident" id="2485863">i</span>&nbsp;<span class="op" id="2485865">&lt;</span>&nbsp;<span class="ident" id="2485867">v</span><span class="op" id="2485868">.</span><span class="ident" id="2485869">NumField</span><span class="op" id="2485877">(</span><span class="op" id="2485878">)</span><span class="op" id="2485879">;</span>&nbsp;<span class="ident" id="2485881">i</span><span class="op" id="2485882">++</span>&nbsp;<span class="op" id="2485885">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485890">if</span>&nbsp;<span class="ident" id="2485893">i</span>&nbsp;<span class="op" id="2485895">&gt;</span>&nbsp;<span class="num" id="2485897">0</span>&nbsp;<span class="op" id="2485899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485905">if</span>&nbsp;<span class="ident" id="2485908">p</span><span class="op" id="2485909">.</span><span class="ident" id="2485910">fmt</span><span class="op" id="2485913">.</span><span class="ident" id="2485914">sharpV</span>&nbsp;<span class="op" id="2485921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485928">p</span><span class="op" id="2485929">.</span><span class="ident" id="2485930">buf</span><span class="op" id="2485933">.</span><span class="ident" id="2485934">Write</span><span class="op" id="2485939">(</span><span class="ident" id="2485940">commaSpaceBytes</span><span class="op" id="2485955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485961">}</span>&nbsp;<span class="keyword" id="2485963">else</span>&nbsp;<span class="op" id="2485968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485975">p</span><span class="op" id="2485976">.</span><span class="ident" id="2485977">buf</span><span class="op" id="2485980">.</span><span class="ident" id="2485981">WriteByte</span><span class="op" id="2485990">(</span><span class="string" id="2485991">&#39;&nbsp;&#39;</span><span class="op" id="2485994">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486010">if</span>&nbsp;<span class="ident" id="2486013">p</span><span class="op" id="2486014">.</span><span class="ident" id="2486015">fmt</span><span class="op" id="2486018">.</span><span class="ident" id="2486019">plusV</span>&nbsp;<span class="op" id="2486025">||</span>&nbsp;<span class="ident" id="2486028">p</span><span class="op" id="2486029">.</span><span class="ident" id="2486030">fmt</span><span class="op" id="2486033">.</span><span class="ident" id="2486034">sharpV</span>&nbsp;<span class="op" id="2486041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486047">if</span>&nbsp;<span class="ident" id="2486050">f</span>&nbsp;<span class="op" id="2486052">:=</span>&nbsp;<span class="ident" id="2486055">t</span><span class="op" id="2486056">.</span><span class="ident" id="2486057">Field</span><span class="op" id="2486062">(</span><span class="ident" id="2486063">i</span><span class="op" id="2486064">)</span><span class="op" id="2486065">;</span>&nbsp;<span class="ident" id="2486067">f</span><span class="op" id="2486068">.</span><span class="ident" id="2486069">Name</span>&nbsp;<span class="op" id="2486074">!=</span>&nbsp;<span class="string" id="2486077">&#34;&#34;</span>&nbsp;<span class="op" id="2486080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486087">p</span><span class="op" id="2486088">.</span><span class="ident" id="2486089">buf</span><span class="op" id="2486092">.</span><span class="ident" id="2486093">WriteString</span><span class="op" id="2486104">(</span><span class="ident" id="2486105">f</span><span class="op" id="2486106">.</span><span class="ident" id="2486107">Name</span><span class="op" id="2486111">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486118">p</span><span class="op" id="2486119">.</span><span class="ident" id="2486120">buf</span><span class="op" id="2486123">.</span><span class="ident" id="2486124">WriteByte</span><span class="op" id="2486133">(</span><span class="string" id="2486134">&#39;:&#39;</span><span class="op" id="2486137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486153">p</span><span class="op" id="2486154">.</span><span class="ident" id="2486155">printValue</span><span class="op" id="2486165">(</span><span class="ident" id="2486166">getField</span><span class="op" id="2486174">(</span><span class="ident" id="2486175">v</span><span class="op" id="2486176">,</span>&nbsp;<span class="ident" id="2486178">i</span><span class="op" id="2486179">)</span><span class="op" id="2486180">,</span>&nbsp;<span class="ident" id="2486182">verb</span><span class="op" id="2486186">,</span>&nbsp;<span class="ident" id="2486188">depth</span><span class="op" id="2486193">+</span><span class="num" id="2486194">1</span><span class="op" id="2486195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486199">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486203">p</span><span class="op" id="2486204">.</span><span class="ident" id="2486205">buf</span><span class="op" id="2486208">.</span><span class="ident" id="2486209">WriteByte</span><span class="op" id="2486218">(</span><span class="string" id="2486219">&#39;}&#39;</span><span class="op" id="2486222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486225">case</span>&nbsp;<span class="ident" id="2486230">reflect</span><span class="op" id="2486237">.</span><span class="ident" id="2486238">Interface</span><span class="op" id="2486247">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486251">value</span>&nbsp;<span class="op" id="2486257">:=</span>&nbsp;<span class="ident" id="2486260">f</span><span class="op" id="2486261">.</span><span class="ident" id="2486262">Elem</span><span class="op" id="2486266">(</span><span class="op" id="2486267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486271">if</span>&nbsp;<span class="op" id="2486274">!</span><span class="ident" id="2486275">value</span><span class="op" id="2486280">.</span><span class="ident" id="2486281">IsValid</span><span class="op" id="2486288">(</span><span class="op" id="2486289">)</span>&nbsp;<span class="op" id="2486291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486296">if</span>&nbsp;<span class="ident" id="2486299">p</span><span class="op" id="2486300">.</span><span class="ident" id="2486301">fmt</span><span class="op" id="2486304">.</span><span class="ident" id="2486305">sharpV</span>&nbsp;<span class="op" id="2486312">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486318">p</span><span class="op" id="2486319">.</span><span class="ident" id="2486320">buf</span><span class="op" id="2486323">.</span><span class="ident" id="2486324">WriteString</span><span class="op" id="2486335">(</span><span class="ident" id="2486336">f</span><span class="op" id="2486337">.</span><span class="ident" id="2486338">Type</span><span class="op" id="2486342">(</span><span class="op" id="2486343">)</span><span class="op" id="2486344">.</span><span class="ident" id="2486345">String</span><span class="op" id="2486351">(</span><span class="op" id="2486352">)</span><span class="op" id="2486353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486359">p</span><span class="op" id="2486360">.</span><span class="ident" id="2486361">buf</span><span class="op" id="2486364">.</span><span class="ident" id="2486365">Write</span><span class="op" id="2486370">(</span><span class="ident" id="2486371">nilParenBytes</span><span class="op" id="2486384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486389">}</span>&nbsp;<span class="keyword" id="2486391">else</span>&nbsp;<span class="op" id="2486396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486402">p</span><span class="op" id="2486403">.</span><span class="ident" id="2486404">buf</span><span class="op" id="2486407">.</span><span class="ident" id="2486408">Write</span><span class="op" id="2486413">(</span><span class="ident" id="2486414">nilAngleBytes</span><span class="op" id="2486427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486432">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486436">}</span>&nbsp;<span class="keyword" id="2486438">else</span>&nbsp;<span class="op" id="2486443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486448">wasString</span>&nbsp;<span class="op" id="2486458">=</span>&nbsp;<span class="ident" id="2486460">p</span><span class="op" id="2486461">.</span><span class="ident" id="2486462">printValue</span><span class="op" id="2486472">(</span><span class="ident" id="2486473">value</span><span class="op" id="2486478">,</span>&nbsp;<span class="ident" id="2486480">verb</span><span class="op" id="2486484">,</span>&nbsp;<span class="ident" id="2486486">depth</span><span class="op" id="2486491">+</span><span class="num" id="2486492">1</span><span class="op" id="2486493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486500">case</span>&nbsp;<span class="ident" id="2486505">reflect</span><span class="op" id="2486512">.</span><span class="ident" id="2486513">Array</span><span class="op" id="2486518">,</span>&nbsp;<span class="ident" id="2486520">reflect</span><span class="op" id="2486527">.</span><span class="ident" id="2486528">Slice</span><span class="op" id="2486533">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2486537">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2486567">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2486616">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2486684">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2486747">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486808">if</span>&nbsp;<span class="ident" id="2486811">typ</span>&nbsp;<span class="op" id="2486815">:=</span>&nbsp;<span class="ident" id="2486818">f</span><span class="op" id="2486819">.</span><span class="ident" id="2486820">Type</span><span class="op" id="2486824">(</span><span class="op" id="2486825">)</span><span class="op" id="2486826">;</span>&nbsp;<span class="ident" id="2486828">typ</span><span class="op" id="2486831">.</span><span class="ident" id="2486832">Elem</span><span class="op" id="2486836">(</span><span class="op" id="2486837">)</span><span class="op" id="2486838">.</span><span class="ident" id="2486839">Kind</span><span class="op" id="2486843">(</span><span class="op" id="2486844">)</span>&nbsp;<span class="op" id="2486846">==</span>&nbsp;<span class="ident" id="2486849">reflect</span><span class="op" id="2486856">.</span><span class="ident" id="2486857">Uint8</span>&nbsp;<span class="op" id="2486863">&amp;&amp;</span>&nbsp;<span class="op" id="2486866">(</span><span class="ident" id="2486867">typ</span><span class="op" id="2486870">.</span><span class="ident" id="2486871">Elem</span><span class="op" id="2486875">(</span><span class="op" id="2486876">)</span>&nbsp;<span class="op" id="2486878">==</span>&nbsp;<span class="ident" id="2486881">byteType</span>&nbsp;<span class="op" id="2486890">||</span>&nbsp;<span class="ident" id="2486893">verb</span>&nbsp;<span class="op" id="2486898">==</span>&nbsp;<span class="string" id="2486901">&#39;s&#39;</span>&nbsp;<span class="op" id="2486905">||</span>&nbsp;<span class="ident" id="2486908">verb</span>&nbsp;<span class="op" id="2486913">==</span>&nbsp;<span class="string" id="2486916">&#39;q&#39;</span>&nbsp;<span class="op" id="2486920">||</span>&nbsp;<span class="ident" id="2486923">verb</span>&nbsp;<span class="op" id="2486928">==</span>&nbsp;<span class="string" id="2486931">&#39;x&#39;</span><span class="op" id="2486934">)</span>&nbsp;<span class="op" id="2486936">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486941">var</span>&nbsp;<span class="ident" id="2486945">bytes</span>&nbsp;<span class="op" id="2486951">[</span><span class="op" id="2486952">]</span><span class="builtintype" id="2486953">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486961">if</span>&nbsp;<span class="ident" id="2486964">f</span><span class="op" id="2486965">.</span><span class="ident" id="2486966">Kind</span><span class="op" id="2486970">(</span><span class="op" id="2486971">)</span>&nbsp;<span class="op" id="2486973">==</span>&nbsp;<span class="ident" id="2486976">reflect</span><span class="op" id="2486983">.</span><span class="ident" id="2486984">Slice</span>&nbsp;<span class="op" id="2486990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486996">bytes</span>&nbsp;<span class="op" id="2487002">=</span>&nbsp;<span class="ident" id="2487004">f</span><span class="op" id="2487005">.</span><span class="ident" id="2487006">Bytes</span><span class="op" id="2487011">(</span><span class="op" id="2487012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487017">}</span>&nbsp;<span class="keyword" id="2487019">else</span>&nbsp;<span class="keyword" id="2487024">if</span>&nbsp;<span class="ident" id="2487027">f</span><span class="op" id="2487028">.</span><span class="ident" id="2487029">CanAddr</span><span class="op" id="2487036">(</span><span class="op" id="2487037">)</span>&nbsp;<span class="op" id="2487039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487045">bytes</span>&nbsp;<span class="op" id="2487051">=</span>&nbsp;<span class="ident" id="2487053">f</span><span class="op" id="2487054">.</span><span class="ident" id="2487055">Slice</span><span class="op" id="2487060">(</span><span class="num" id="2487061">0</span><span class="op" id="2487062">,</span>&nbsp;<span class="ident" id="2487064">f</span><span class="op" id="2487065">.</span><span class="ident" id="2487066">Len</span><span class="op" id="2487069">(</span><span class="op" id="2487070">)</span><span class="op" id="2487071">)</span><span class="op" id="2487072">.</span><span class="ident" id="2487073">Bytes</span><span class="op" id="2487078">(</span><span class="op" id="2487079">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487084">}</span>&nbsp;<span class="keyword" id="2487086">else</span>&nbsp;<span class="op" id="2487091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2487097">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2487169">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2487246">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487293">bytes</span>&nbsp;<span class="op" id="2487299">=</span>&nbsp;<span class="builtinfunc" id="2487301">make</span><span class="op" id="2487305">(</span><span class="op" id="2487306">[</span><span class="op" id="2487307">]</span><span class="builtintype" id="2487308">byte</span><span class="op" id="2487312">,</span>&nbsp;<span class="ident" id="2487314">f</span><span class="op" id="2487315">.</span><span class="ident" id="2487316">Len</span><span class="op" id="2487319">(</span><span class="op" id="2487320">)</span><span class="op" id="2487321">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487327">for</span>&nbsp;<span class="ident" id="2487331">i</span>&nbsp;<span class="op" id="2487333">:=</span>&nbsp;<span class="keyword" id="2487336">range</span>&nbsp;<span class="ident" id="2487342">bytes</span>&nbsp;<span class="op" id="2487348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487355">bytes</span><span class="op" id="2487360">[</span><span class="ident" id="2487361">i</span><span class="op" id="2487362">]</span>&nbsp;<span class="op" id="2487364">=</span>&nbsp;<span class="builtintype" id="2487366">byte</span><span class="op" id="2487370">(</span><span class="ident" id="2487371">f</span><span class="op" id="2487372">.</span><span class="ident" id="2487373">Index</span><span class="op" id="2487378">(</span><span class="ident" id="2487379">i</span><span class="op" id="2487380">)</span><span class="op" id="2487381">.</span><span class="ident" id="2487382">Uint</span><span class="op" id="2487386">(</span><span class="op" id="2487387">)</span><span class="op" id="2487388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487404">p</span><span class="op" id="2487405">.</span><span class="ident" id="2487406">fmtBytes</span><span class="op" id="2487414">(</span><span class="ident" id="2487415">bytes</span><span class="op" id="2487420">,</span>&nbsp;<span class="ident" id="2487422">verb</span><span class="op" id="2487426">,</span>&nbsp;<span class="ident" id="2487428">typ</span><span class="op" id="2487431">,</span>&nbsp;<span class="ident" id="2487433">depth</span><span class="op" id="2487438">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487443">wasString</span>&nbsp;<span class="op" id="2487453">=</span>&nbsp;<span class="ident" id="2487455">verb</span>&nbsp;<span class="op" id="2487460">==</span>&nbsp;<span class="string" id="2487463">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487470">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487482">if</span>&nbsp;<span class="ident" id="2487485">p</span><span class="op" id="2487486">.</span><span class="ident" id="2487487">fmt</span><span class="op" id="2487490">.</span><span class="ident" id="2487491">sharpV</span>&nbsp;<span class="op" id="2487498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487503">p</span><span class="op" id="2487504">.</span><span class="ident" id="2487505">buf</span><span class="op" id="2487508">.</span><span class="ident" id="2487509">WriteString</span><span class="op" id="2487520">(</span><span class="ident" id="2487521">value</span><span class="op" id="2487526">.</span><span class="ident" id="2487527">Type</span><span class="op" id="2487531">(</span><span class="op" id="2487532">)</span><span class="op" id="2487533">.</span><span class="ident" id="2487534">String</span><span class="op" id="2487540">(</span><span class="op" id="2487541">)</span><span class="op" id="2487542">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487547">if</span>&nbsp;<span class="ident" id="2487550">f</span><span class="op" id="2487551">.</span><span class="ident" id="2487552">Kind</span><span class="op" id="2487556">(</span><span class="op" id="2487557">)</span>&nbsp;<span class="op" id="2487559">==</span>&nbsp;<span class="ident" id="2487562">reflect</span><span class="op" id="2487569">.</span><span class="ident" id="2487570">Slice</span>&nbsp;<span class="op" id="2487576">&amp;&amp;</span>&nbsp;<span class="ident" id="2487579">f</span><span class="op" id="2487580">.</span><span class="ident" id="2487581">IsNil</span><span class="op" id="2487586">(</span><span class="op" id="2487587">)</span>&nbsp;<span class="op" id="2487589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487595">p</span><span class="op" id="2487596">.</span><span class="ident" id="2487597">buf</span><span class="op" id="2487600">.</span><span class="ident" id="2487601">WriteString</span><span class="op" id="2487612">(</span><span class="string" id="2487613">&#34;(nil)&#34;</span><span class="op" id="2487620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487626">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487640">p</span><span class="op" id="2487641">.</span><span class="ident" id="2487642">buf</span><span class="op" id="2487645">.</span><span class="ident" id="2487646">WriteByte</span><span class="op" id="2487655">(</span><span class="string" id="2487656">&#39;{&#39;</span><span class="op" id="2487659">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487663">}</span>&nbsp;<span class="keyword" id="2487665">else</span>&nbsp;<span class="op" id="2487670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487675">p</span><span class="op" id="2487676">.</span><span class="ident" id="2487677">buf</span><span class="op" id="2487680">.</span><span class="ident" id="2487681">WriteByte</span><span class="op" id="2487690">(</span><span class="string" id="2487691">&#39;[&#39;</span><span class="op" id="2487694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487702">for</span>&nbsp;<span class="ident" id="2487706">i</span>&nbsp;<span class="op" id="2487708">:=</span>&nbsp;<span class="num" id="2487711">0</span><span class="op" id="2487712">;</span>&nbsp;<span class="ident" id="2487714">i</span>&nbsp;<span class="op" id="2487716">&lt;</span>&nbsp;<span class="ident" id="2487718">f</span><span class="op" id="2487719">.</span><span class="ident" id="2487720">Len</span><span class="op" id="2487723">(</span><span class="op" id="2487724">)</span><span class="op" id="2487725">;</span>&nbsp;<span class="ident" id="2487727">i</span><span class="op" id="2487728">++</span>&nbsp;<span class="op" id="2487731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487736">if</span>&nbsp;<span class="ident" id="2487739">i</span>&nbsp;<span class="op" id="2487741">&gt;</span>&nbsp;<span class="num" id="2487743">0</span>&nbsp;<span class="op" id="2487745">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487751">if</span>&nbsp;<span class="ident" id="2487754">p</span><span class="op" id="2487755">.</span><span class="ident" id="2487756">fmt</span><span class="op" id="2487759">.</span><span class="ident" id="2487760">sharpV</span>&nbsp;<span class="op" id="2487767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487774">p</span><span class="op" id="2487775">.</span><span class="ident" id="2487776">buf</span><span class="op" id="2487779">.</span><span class="ident" id="2487780">Write</span><span class="op" id="2487785">(</span><span class="ident" id="2487786">commaSpaceBytes</span><span class="op" id="2487801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487807">}</span>&nbsp;<span class="keyword" id="2487809">else</span>&nbsp;<span class="op" id="2487814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487821">p</span><span class="op" id="2487822">.</span><span class="ident" id="2487823">buf</span><span class="op" id="2487826">.</span><span class="ident" id="2487827">WriteByte</span><span class="op" id="2487836">(</span><span class="string" id="2487837">&#39;&nbsp;&#39;</span><span class="op" id="2487840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487846">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487856">p</span><span class="op" id="2487857">.</span><span class="ident" id="2487858">printValue</span><span class="op" id="2487868">(</span><span class="ident" id="2487869">f</span><span class="op" id="2487870">.</span><span class="ident" id="2487871">Index</span><span class="op" id="2487876">(</span><span class="ident" id="2487877">i</span><span class="op" id="2487878">)</span><span class="op" id="2487879">,</span>&nbsp;<span class="ident" id="2487881">verb</span><span class="op" id="2487885">,</span>&nbsp;<span class="ident" id="2487887">depth</span><span class="op" id="2487892">+</span><span class="num" id="2487893">1</span><span class="op" id="2487894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487902">if</span>&nbsp;<span class="ident" id="2487905">p</span><span class="op" id="2487906">.</span><span class="ident" id="2487907">fmt</span><span class="op" id="2487910">.</span><span class="ident" id="2487911">sharpV</span>&nbsp;<span class="op" id="2487918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487923">p</span><span class="op" id="2487924">.</span><span class="ident" id="2487925">buf</span><span class="op" id="2487928">.</span><span class="ident" id="2487929">WriteByte</span><span class="op" id="2487938">(</span><span class="string" id="2487939">&#39;}&#39;</span><span class="op" id="2487942">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487946">}</span>&nbsp;<span class="keyword" id="2487948">else</span>&nbsp;<span class="op" id="2487953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487958">p</span><span class="op" id="2487959">.</span><span class="ident" id="2487960">buf</span><span class="op" id="2487963">.</span><span class="ident" id="2487964">WriteByte</span><span class="op" id="2487973">(</span><span class="string" id="2487974">&#39;]&#39;</span><span class="op" id="2487977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487984">case</span>&nbsp;<span class="ident" id="2487989">reflect</span><span class="op" id="2487996">.</span><span class="ident" id="2487997">Ptr</span><span class="op" id="2488000">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488004">v</span>&nbsp;<span class="op" id="2488006">:=</span>&nbsp;<span class="ident" id="2488009">f</span><span class="op" id="2488010">.</span><span class="ident" id="2488011">Pointer</span><span class="op" id="2488018">(</span><span class="op" id="2488019">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2488023">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2488082">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488118">if</span>&nbsp;<span class="ident" id="2488121">v</span>&nbsp;<span class="op" id="2488123">!=</span>&nbsp;<span class="num" id="2488126">0</span>&nbsp;<span class="op" id="2488128">&amp;&amp;</span>&nbsp;<span class="ident" id="2488131">depth</span>&nbsp;<span class="op" id="2488137">==</span>&nbsp;<span class="num" id="2488140">0</span>&nbsp;<span class="op" id="2488142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488147">switch</span>&nbsp;<span class="ident" id="2488154">a</span>&nbsp;<span class="op" id="2488156">:=</span>&nbsp;<span class="ident" id="2488159">f</span><span class="op" id="2488160">.</span><span class="ident" id="2488161">Elem</span><span class="op" id="2488165">(</span><span class="op" id="2488166">)</span><span class="op" id="2488167">;</span>&nbsp;<span class="ident" id="2488169">a</span><span class="op" id="2488170">.</span><span class="ident" id="2488171">Kind</span><span class="op" id="2488175">(</span><span class="op" id="2488176">)</span>&nbsp;<span class="op" id="2488178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488183">case</span>&nbsp;<span class="ident" id="2488188">reflect</span><span class="op" id="2488195">.</span><span class="ident" id="2488196">Array</span><span class="op" id="2488201">,</span>&nbsp;<span class="ident" id="2488203">reflect</span><span class="op" id="2488210">.</span><span class="ident" id="2488211">Slice</span><span class="op" id="2488216">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488222">p</span><span class="op" id="2488223">.</span><span class="ident" id="2488224">buf</span><span class="op" id="2488227">.</span><span class="ident" id="2488228">WriteByte</span><span class="op" id="2488237">(</span><span class="string" id="2488238">&#39;&amp;&#39;</span><span class="op" id="2488241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488247">p</span><span class="op" id="2488248">.</span><span class="ident" id="2488249">printValue</span><span class="op" id="2488259">(</span><span class="ident" id="2488260">a</span><span class="op" id="2488261">,</span>&nbsp;<span class="ident" id="2488263">verb</span><span class="op" id="2488267">,</span>&nbsp;<span class="ident" id="2488269">depth</span><span class="op" id="2488274">+</span><span class="num" id="2488275">1</span><span class="op" id="2488276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488282">break</span>&nbsp;<span class="ident" id="2488288">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488301">case</span>&nbsp;<span class="ident" id="2488306">reflect</span><span class="op" id="2488313">.</span><span class="ident" id="2488314">Struct</span><span class="op" id="2488320">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488326">p</span><span class="op" id="2488327">.</span><span class="ident" id="2488328">buf</span><span class="op" id="2488331">.</span><span class="ident" id="2488332">WriteByte</span><span class="op" id="2488341">(</span><span class="string" id="2488342">&#39;&amp;&#39;</span><span class="op" id="2488345">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488351">p</span><span class="op" id="2488352">.</span><span class="ident" id="2488353">printValue</span><span class="op" id="2488363">(</span><span class="ident" id="2488364">a</span><span class="op" id="2488365">,</span>&nbsp;<span class="ident" id="2488367">verb</span><span class="op" id="2488371">,</span>&nbsp;<span class="ident" id="2488373">depth</span><span class="op" id="2488378">+</span><span class="num" id="2488379">1</span><span class="op" id="2488380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488386">break</span>&nbsp;<span class="ident" id="2488392">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488405">case</span>&nbsp;<span class="ident" id="2488410">reflect</span><span class="op" id="2488417">.</span><span class="ident" id="2488418">Map</span><span class="op" id="2488421">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488427">p</span><span class="op" id="2488428">.</span><span class="ident" id="2488429">buf</span><span class="op" id="2488432">.</span><span class="ident" id="2488433">WriteByte</span><span class="op" id="2488442">(</span><span class="string" id="2488443">&#39;&amp;&#39;</span><span class="op" id="2488446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488452">p</span><span class="op" id="2488453">.</span><span class="ident" id="2488454">printValue</span><span class="op" id="2488464">(</span><span class="ident" id="2488465">a</span><span class="op" id="2488466">,</span>&nbsp;<span class="ident" id="2488468">verb</span><span class="op" id="2488472">,</span>&nbsp;<span class="ident" id="2488474">depth</span><span class="op" id="2488479">+</span><span class="num" id="2488480">1</span><span class="op" id="2488481">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488487">break</span>&nbsp;<span class="ident" id="2488493">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488514">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488527">case</span>&nbsp;<span class="ident" id="2488532">reflect</span><span class="op" id="2488539">.</span><span class="ident" id="2488540">Chan</span><span class="op" id="2488544">,</span>&nbsp;<span class="ident" id="2488546">reflect</span><span class="op" id="2488553">.</span><span class="ident" id="2488554">Func</span><span class="op" id="2488558">,</span>&nbsp;<span class="ident" id="2488560">reflect</span><span class="op" id="2488567">.</span><span class="ident" id="2488568">UnsafePointer</span><span class="op" id="2488581">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488585">p</span><span class="op" id="2488586">.</span><span class="ident" id="2488587">fmtPointer</span><span class="op" id="2488597">(</span><span class="ident" id="2488598">value</span><span class="op" id="2488603">,</span>&nbsp;<span class="ident" id="2488605">verb</span><span class="op" id="2488609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488612">default</span><span class="op" id="2488619">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488623">p</span><span class="op" id="2488624">.</span><span class="ident" id="2488625">unknownType</span><span class="op" id="2488636">(</span><span class="ident" id="2488637">f</span><span class="op" id="2488638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488644">p</span><span class="op" id="2488645">.</span><span class="ident" id="2488646">value</span>&nbsp;<span class="op" id="2488652">=</span>&nbsp;<span class="ident" id="2488654">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488664">return</span>&nbsp;<span class="ident" id="2488671">wasString</span><br>
<span class="lineno"></span><span class="op" id="2488681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2488684">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2488790">func</span>&nbsp;<span class="ident" id="2488795">intFromArg</span><span class="op" id="2488805">(</span><span class="ident" id="2488806">a</span>&nbsp;<span class="op" id="2488808">[</span><span class="op" id="2488809">]</span><span class="keyword" id="2488810">interface</span><span class="op" id="2488819">{</span><span class="op" id="2488820">}</span><span class="op" id="2488821">,</span>&nbsp;<span class="ident" id="2488823">argNum</span>&nbsp;<span class="builtintype" id="2488830">int</span><span class="op" id="2488833">)</span>&nbsp;<span class="op" id="2488835">(</span><span class="ident" id="2488836">num</span>&nbsp;<span class="builtintype" id="2488840">int</span><span class="op" id="2488843">,</span>&nbsp;<span class="ident" id="2488845">isInt</span>&nbsp;<span class="builtintype" id="2488851">bool</span><span class="op" id="2488855">,</span>&nbsp;<span class="ident" id="2488857">newArgNum</span>&nbsp;<span class="builtintype" id="2488867">int</span><span class="op" id="2488870">)</span>&nbsp;<span class="op" id="2488872">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488875">newArgNum</span>&nbsp;<span class="op" id="2488885">=</span>&nbsp;<span class="ident" id="2488887">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488895">if</span>&nbsp;<span class="ident" id="2488898">argNum</span>&nbsp;<span class="op" id="2488905">&lt;</span>&nbsp;<span class="builtinfunc" id="2488907">len</span><span class="op" id="2488910">(</span><span class="ident" id="2488911">a</span><span class="op" id="2488912">)</span>&nbsp;<span class="op" id="2488914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488918">num</span><span class="op" id="2488921">,</span>&nbsp;<span class="ident" id="2488923">isInt</span>&nbsp;<span class="op" id="2488929">=</span>&nbsp;<span class="ident" id="2488931">a</span><span class="op" id="2488932">[</span><span class="ident" id="2488933">argNum</span><span class="op" id="2488939">]</span><span class="op" id="2488940">.</span><span class="op" id="2488941">(</span><span class="builtintype" id="2488942">int</span><span class="op" id="2488945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488949">newArgNum</span>&nbsp;<span class="op" id="2488959">=</span>&nbsp;<span class="ident" id="2488961">argNum</span>&nbsp;<span class="op" id="2488968">+</span>&nbsp;<span class="num" id="2488970">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488973">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488976">return</span><br>
<span class="lineno"></span><span class="op" id="2488983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2488986">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2489055">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2489128">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2489188">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2489257">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2489327">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2489397">func</span>&nbsp;<span class="ident" id="2489402">parseArgNumber</span><span class="op" id="2489416">(</span><span class="ident" id="2489417">format</span>&nbsp;<span class="builtintype" id="2489424">string</span><span class="op" id="2489430">)</span>&nbsp;<span class="op" id="2489432">(</span><span class="ident" id="2489433">index</span>&nbsp;<span class="builtintype" id="2489439">int</span><span class="op" id="2489442">,</span>&nbsp;<span class="ident" id="2489444">wid</span>&nbsp;<span class="builtintype" id="2489448">int</span><span class="op" id="2489451">,</span>&nbsp;<span class="ident" id="2489453">ok</span>&nbsp;<span class="builtintype" id="2489456">bool</span><span class="op" id="2489460">)</span>&nbsp;<span class="op" id="2489462">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2489465">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489491">for</span>&nbsp;<span class="ident" id="2489495">i</span>&nbsp;<span class="op" id="2489497">:=</span>&nbsp;<span class="num" id="2489500">1</span><span class="op" id="2489501">;</span>&nbsp;<span class="ident" id="2489503">i</span>&nbsp;<span class="op" id="2489505">&lt;</span>&nbsp;<span class="builtinfunc" id="2489507">len</span><span class="op" id="2489510">(</span><span class="ident" id="2489511">format</span><span class="op" id="2489517">)</span><span class="op" id="2489518">;</span>&nbsp;<span class="ident" id="2489520">i</span><span class="op" id="2489521">++</span>&nbsp;<span class="op" id="2489524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489528">if</span>&nbsp;<span class="ident" id="2489531">format</span><span class="op" id="2489537">[</span><span class="ident" id="2489538">i</span><span class="op" id="2489539">]</span>&nbsp;<span class="op" id="2489541">==</span>&nbsp;<span class="string" id="2489544">&#39;]&#39;</span>&nbsp;<span class="op" id="2489548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489553">width</span><span class="op" id="2489558">,</span>&nbsp;<span class="ident" id="2489560">ok</span><span class="op" id="2489562">,</span>&nbsp;<span class="ident" id="2489564">newi</span>&nbsp;<span class="op" id="2489569">:=</span>&nbsp;<span class="ident" id="2489572">parsenum</span><span class="op" id="2489580">(</span><span class="ident" id="2489581">format</span><span class="op" id="2489587">,</span>&nbsp;<span class="num" id="2489589">1</span><span class="op" id="2489590">,</span>&nbsp;<span class="ident" id="2489592">i</span><span class="op" id="2489593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489598">if</span>&nbsp;<span class="op" id="2489601">!</span><span class="ident" id="2489602">ok</span>&nbsp;<span class="op" id="2489605">||</span>&nbsp;<span class="ident" id="2489608">newi</span>&nbsp;<span class="op" id="2489613">!=</span>&nbsp;<span class="ident" id="2489616">i</span>&nbsp;<span class="op" id="2489618">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489624">return</span>&nbsp;<span class="num" id="2489631">0</span><span class="op" id="2489632">,</span>&nbsp;<span class="ident" id="2489634">i</span>&nbsp;<span class="op" id="2489636">+</span>&nbsp;<span class="num" id="2489638">1</span><span class="op" id="2489639">,</span>&nbsp;<span class="builtintype" id="2489641">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489655">return</span>&nbsp;<span class="ident" id="2489662">width</span>&nbsp;<span class="op" id="2489668">-</span>&nbsp;<span class="num" id="2489670">1</span><span class="op" id="2489671">,</span>&nbsp;<span class="ident" id="2489673">i</span>&nbsp;<span class="op" id="2489675">+</span>&nbsp;<span class="num" id="2489677">1</span><span class="op" id="2489678">,</span>&nbsp;<span class="builtintype" id="2489680">true</span>&nbsp;<span class="comment" id="2489685">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489737">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489740">return</span>&nbsp;<span class="num" id="2489747">0</span><span class="op" id="2489748">,</span>&nbsp;<span class="num" id="2489750">1</span><span class="op" id="2489751">,</span>&nbsp;<span class="builtintype" id="2489753">false</span><br>
<span class="lineno"></span><span class="op" id="2489759">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2489762">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2489857">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2489945">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2490030">func</span>&nbsp;<span class="op" id="2490035">(</span><span class="ident" id="2490036">p</span>&nbsp;<span class="op" id="2490038">*</span><span class="ident" id="2490039">pp</span><span class="op" id="2490041">)</span>&nbsp;<span class="ident" id="2490043">argNumber</span><span class="op" id="2490052">(</span><span class="ident" id="2490053">argNum</span>&nbsp;<span class="builtintype" id="2490060">int</span><span class="op" id="2490063">,</span>&nbsp;<span class="ident" id="2490065">format</span>&nbsp;<span class="builtintype" id="2490072">string</span><span class="op" id="2490078">,</span>&nbsp;<span class="ident" id="2490080">i</span>&nbsp;<span class="builtintype" id="2490082">int</span><span class="op" id="2490085">,</span>&nbsp;<span class="ident" id="2490087">numArgs</span>&nbsp;<span class="builtintype" id="2490095">int</span><span class="op" id="2490098">)</span>&nbsp;<span class="op" id="2490100">(</span><span class="ident" id="2490101">newArgNum</span><span class="op" id="2490110">,</span>&nbsp;<span class="ident" id="2490112">newi</span>&nbsp;<span class="builtintype" id="2490117">int</span><span class="op" id="2490120">,</span>&nbsp;<span class="ident" id="2490122">found</span>&nbsp;<span class="builtintype" id="2490128">bool</span><span class="op" id="2490132">)</span>&nbsp;<span class="op" id="2490134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490137">if</span>&nbsp;<span class="builtinfunc" id="2490140">len</span><span class="op" id="2490143">(</span><span class="ident" id="2490144">format</span><span class="op" id="2490150">)</span>&nbsp;<span class="op" id="2490152">&lt;=</span>&nbsp;<span class="ident" id="2490155">i</span>&nbsp;<span class="op" id="2490157">||</span>&nbsp;<span class="ident" id="2490160">format</span><span class="op" id="2490166">[</span><span class="ident" id="2490167">i</span><span class="op" id="2490168">]</span>&nbsp;<span class="op" id="2490170">!=</span>&nbsp;<span class="string" id="2490173">&#39;[&#39;</span>&nbsp;<span class="op" id="2490177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490181">return</span>&nbsp;<span class="ident" id="2490188">argNum</span><span class="op" id="2490194">,</span>&nbsp;<span class="ident" id="2490196">i</span><span class="op" id="2490197">,</span>&nbsp;<span class="builtintype" id="2490199">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490206">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490209">p</span><span class="op" id="2490210">.</span><span class="ident" id="2490211">reordered</span>&nbsp;<span class="op" id="2490221">=</span>&nbsp;<span class="builtintype" id="2490223">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490229">index</span><span class="op" id="2490234">,</span>&nbsp;<span class="ident" id="2490236">wid</span><span class="op" id="2490239">,</span>&nbsp;<span class="ident" id="2490241">ok</span>&nbsp;<span class="op" id="2490244">:=</span>&nbsp;<span class="ident" id="2490247">parseArgNumber</span><span class="op" id="2490261">(</span><span class="ident" id="2490262">format</span><span class="op" id="2490268">[</span><span class="ident" id="2490269">i</span><span class="op" id="2490270">:</span><span class="op" id="2490271">]</span><span class="op" id="2490272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490275">if</span>&nbsp;<span class="ident" id="2490278">ok</span>&nbsp;<span class="op" id="2490281">&amp;&amp;</span>&nbsp;<span class="num" id="2490284">0</span>&nbsp;<span class="op" id="2490286">&lt;=</span>&nbsp;<span class="ident" id="2490289">index</span>&nbsp;<span class="op" id="2490295">&amp;&amp;</span>&nbsp;<span class="ident" id="2490298">index</span>&nbsp;<span class="op" id="2490304">&lt;</span>&nbsp;<span class="ident" id="2490306">numArgs</span>&nbsp;<span class="op" id="2490314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490318">return</span>&nbsp;<span class="ident" id="2490325">index</span><span class="op" id="2490330">,</span>&nbsp;<span class="ident" id="2490332">i</span>&nbsp;<span class="op" id="2490334">+</span>&nbsp;<span class="ident" id="2490336">wid</span><span class="op" id="2490339">,</span>&nbsp;<span class="builtintype" id="2490341">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490347">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490350">p</span><span class="op" id="2490351">.</span><span class="ident" id="2490352">goodArgNum</span>&nbsp;<span class="op" id="2490363">=</span>&nbsp;<span class="builtintype" id="2490365">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490372">return</span>&nbsp;<span class="ident" id="2490379">argNum</span><span class="op" id="2490385">,</span>&nbsp;<span class="ident" id="2490387">i</span>&nbsp;<span class="op" id="2490389">+</span>&nbsp;<span class="ident" id="2490391">wid</span><span class="op" id="2490394">,</span>&nbsp;<span class="builtintype" id="2490396">true</span><br>
<span class="lineno"></span><span class="op" id="2490401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2490404">func</span>&nbsp;<span class="op" id="2490409">(</span><span class="ident" id="2490410">p</span>&nbsp;<span class="op" id="2490412">*</span><span class="ident" id="2490413">pp</span><span class="op" id="2490415">)</span>&nbsp;<span class="ident" id="2490417">doPrintf</span><span class="op" id="2490425">(</span><span class="ident" id="2490426">format</span>&nbsp;<span class="builtintype" id="2490433">string</span><span class="op" id="2490439">,</span>&nbsp;<span class="ident" id="2490441">a</span>&nbsp;<span class="op" id="2490443">[</span><span class="op" id="2490444">]</span><span class="keyword" id="2490445">interface</span><span class="op" id="2490454">{</span><span class="op" id="2490455">}</span><span class="op" id="2490456">)</span>&nbsp;<span class="op" id="2490458">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490461">end</span>&nbsp;<span class="op" id="2490465">:=</span>&nbsp;<span class="builtinfunc" id="2490468">len</span><span class="op" id="2490471">(</span><span class="ident" id="2490472">format</span><span class="op" id="2490478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490481">argNum</span>&nbsp;<span class="op" id="2490488">:=</span>&nbsp;<span class="num" id="2490491">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2490501">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490552">afterIndex</span>&nbsp;<span class="op" id="2490563">:=</span>&nbsp;<span class="builtintype" id="2490566">false</span>&nbsp;<span class="comment" id="2490572">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490623">p</span><span class="op" id="2490624">.</span><span class="ident" id="2490625">reordered</span>&nbsp;<span class="op" id="2490635">=</span>&nbsp;<span class="builtintype" id="2490637">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490644">for</span>&nbsp;<span class="ident" id="2490648">i</span>&nbsp;<span class="op" id="2490650">:=</span>&nbsp;<span class="num" id="2490653">0</span><span class="op" id="2490654">;</span>&nbsp;<span class="ident" id="2490656">i</span>&nbsp;<span class="op" id="2490658">&lt;</span>&nbsp;<span class="ident" id="2490660">end</span><span class="op" id="2490663">;</span>&nbsp;<span class="op" id="2490665">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490669">p</span><span class="op" id="2490670">.</span><span class="ident" id="2490671">goodArgNum</span>&nbsp;<span class="op" id="2490682">=</span>&nbsp;<span class="builtintype" id="2490684">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490691">lasti</span>&nbsp;<span class="op" id="2490697">:=</span>&nbsp;<span class="ident" id="2490700">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490704">for</span>&nbsp;<span class="ident" id="2490708">i</span>&nbsp;<span class="op" id="2490710">&lt;</span>&nbsp;<span class="ident" id="2490712">end</span>&nbsp;<span class="op" id="2490716">&amp;&amp;</span>&nbsp;<span class="ident" id="2490719">format</span><span class="op" id="2490725">[</span><span class="ident" id="2490726">i</span><span class="op" id="2490727">]</span>&nbsp;<span class="op" id="2490729">!=</span>&nbsp;<span class="string" id="2490732">&#39;%&#39;</span>&nbsp;<span class="op" id="2490736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490741">i</span><span class="op" id="2490742">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490747">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490751">if</span>&nbsp;<span class="ident" id="2490754">i</span>&nbsp;<span class="op" id="2490756">&gt;</span>&nbsp;<span class="ident" id="2490758">lasti</span>&nbsp;<span class="op" id="2490764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490769">p</span><span class="op" id="2490770">.</span><span class="ident" id="2490771">buf</span><span class="op" id="2490774">.</span><span class="ident" id="2490775">WriteString</span><span class="op" id="2490786">(</span><span class="ident" id="2490787">format</span><span class="op" id="2490793">[</span><span class="ident" id="2490794">lasti</span><span class="op" id="2490799">:</span><span class="ident" id="2490800">i</span><span class="op" id="2490801">]</span><span class="op" id="2490802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490810">if</span>&nbsp;<span class="ident" id="2490813">i</span>&nbsp;<span class="op" id="2490815">&gt;=</span>&nbsp;<span class="ident" id="2490818">end</span>&nbsp;<span class="op" id="2490822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2490827">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490863">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490871">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2490876">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490898">i</span><span class="op" id="2490899">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2490905">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490928">p</span><span class="op" id="2490929">.</span><span class="ident" id="2490930">fmt</span><span class="op" id="2490933">.</span><span class="ident" id="2490934">clearflags</span><span class="op" id="2490944">(</span><span class="op" id="2490945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490948">F</span><span class="op" id="2490949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490953">for</span>&nbsp;<span class="op" id="2490957">;</span>&nbsp;<span class="ident" id="2490959">i</span>&nbsp;<span class="op" id="2490961">&lt;</span>&nbsp;<span class="ident" id="2490963">end</span><span class="op" id="2490966">;</span>&nbsp;<span class="ident" id="2490968">i</span><span class="op" id="2490969">++</span>&nbsp;<span class="op" id="2490972">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490977">switch</span>&nbsp;<span class="ident" id="2490984">format</span><span class="op" id="2490990">[</span><span class="ident" id="2490991">i</span><span class="op" id="2490992">]</span>&nbsp;<span class="op" id="2490994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490999">case</span>&nbsp;<span class="string" id="2491004">&#39;#&#39;</span><span class="op" id="2491007">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491013">p</span><span class="op" id="2491014">.</span><span class="ident" id="2491015">fmt</span><span class="op" id="2491018">.</span><span class="ident" id="2491019">sharp</span>&nbsp;<span class="op" id="2491025">=</span>&nbsp;<span class="builtintype" id="2491027">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491035">case</span>&nbsp;<span class="string" id="2491040">&#39;0&#39;</span><span class="op" id="2491043">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491049">p</span><span class="op" id="2491050">.</span><span class="ident" id="2491051">fmt</span><span class="op" id="2491054">.</span><span class="ident" id="2491055">zero</span>&nbsp;<span class="op" id="2491060">=</span>&nbsp;<span class="builtintype" id="2491062">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491070">case</span>&nbsp;<span class="string" id="2491075">&#39;+&#39;</span><span class="op" id="2491078">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491084">p</span><span class="op" id="2491085">.</span><span class="ident" id="2491086">fmt</span><span class="op" id="2491089">.</span><span class="ident" id="2491090">plus</span>&nbsp;<span class="op" id="2491095">=</span>&nbsp;<span class="builtintype" id="2491097">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491105">case</span>&nbsp;<span class="string" id="2491110">&#39;-&#39;</span><span class="op" id="2491113">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491119">p</span><span class="op" id="2491120">.</span><span class="ident" id="2491121">fmt</span><span class="op" id="2491124">.</span><span class="ident" id="2491125">minus</span>&nbsp;<span class="op" id="2491131">=</span>&nbsp;<span class="builtintype" id="2491133">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491141">case</span>&nbsp;<span class="string" id="2491146">&#39;&nbsp;&#39;</span><span class="op" id="2491149">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491155">p</span><span class="op" id="2491156">.</span><span class="ident" id="2491157">fmt</span><span class="op" id="2491160">.</span><span class="ident" id="2491161">space</span>&nbsp;<span class="op" id="2491167">=</span>&nbsp;<span class="builtintype" id="2491169">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491177">default</span><span class="op" id="2491184">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491190">break</span>&nbsp;<span class="ident" id="2491196">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491205">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2491210">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491254">argNum</span><span class="op" id="2491260">,</span>&nbsp;<span class="ident" id="2491262">i</span><span class="op" id="2491263">,</span>&nbsp;<span class="ident" id="2491265">afterIndex</span>&nbsp;<span class="op" id="2491276">=</span>&nbsp;<span class="ident" id="2491278">p</span><span class="op" id="2491279">.</span><span class="ident" id="2491280">argNumber</span><span class="op" id="2491289">(</span><span class="ident" id="2491290">argNum</span><span class="op" id="2491296">,</span>&nbsp;<span class="ident" id="2491298">format</span><span class="op" id="2491304">,</span>&nbsp;<span class="ident" id="2491306">i</span><span class="op" id="2491307">,</span>&nbsp;<span class="builtinfunc" id="2491309">len</span><span class="op" id="2491312">(</span><span class="ident" id="2491313">a</span><span class="op" id="2491314">)</span><span class="op" id="2491315">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2491320">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491343">if</span>&nbsp;<span class="ident" id="2491346">i</span>&nbsp;<span class="op" id="2491348">&lt;</span>&nbsp;<span class="ident" id="2491350">end</span>&nbsp;<span class="op" id="2491354">&amp;&amp;</span>&nbsp;<span class="ident" id="2491357">format</span><span class="op" id="2491363">[</span><span class="ident" id="2491364">i</span><span class="op" id="2491365">]</span>&nbsp;<span class="op" id="2491367">==</span>&nbsp;<span class="string" id="2491370">&#39;*&#39;</span>&nbsp;<span class="op" id="2491374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491379">i</span><span class="op" id="2491380">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491386">p</span><span class="op" id="2491387">.</span><span class="ident" id="2491388">fmt</span><span class="op" id="2491391">.</span><span class="ident" id="2491392">wid</span><span class="op" id="2491395">,</span>&nbsp;<span class="ident" id="2491397">p</span><span class="op" id="2491398">.</span><span class="ident" id="2491399">fmt</span><span class="op" id="2491402">.</span><span class="ident" id="2491403">widPresent</span><span class="op" id="2491413">,</span>&nbsp;<span class="ident" id="2491415">argNum</span>&nbsp;<span class="op" id="2491422">=</span>&nbsp;<span class="ident" id="2491424">intFromArg</span><span class="op" id="2491434">(</span><span class="ident" id="2491435">a</span><span class="op" id="2491436">,</span>&nbsp;<span class="ident" id="2491438">argNum</span><span class="op" id="2491444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491449">if</span>&nbsp;<span class="op" id="2491452">!</span><span class="ident" id="2491453">p</span><span class="op" id="2491454">.</span><span class="ident" id="2491455">fmt</span><span class="op" id="2491458">.</span><span class="ident" id="2491459">widPresent</span>&nbsp;<span class="op" id="2491470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491476">p</span><span class="op" id="2491477">.</span><span class="ident" id="2491478">buf</span><span class="op" id="2491481">.</span><span class="ident" id="2491482">Write</span><span class="op" id="2491487">(</span><span class="ident" id="2491488">badWidthBytes</span><span class="op" id="2491501">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491511">afterIndex</span>&nbsp;<span class="op" id="2491522">=</span>&nbsp;<span class="builtintype" id="2491524">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491532">}</span>&nbsp;<span class="keyword" id="2491534">else</span>&nbsp;<span class="op" id="2491539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491544">p</span><span class="op" id="2491545">.</span><span class="ident" id="2491546">fmt</span><span class="op" id="2491549">.</span><span class="ident" id="2491550">wid</span><span class="op" id="2491553">,</span>&nbsp;<span class="ident" id="2491555">p</span><span class="op" id="2491556">.</span><span class="ident" id="2491557">fmt</span><span class="op" id="2491560">.</span><span class="ident" id="2491561">widPresent</span><span class="op" id="2491571">,</span>&nbsp;<span class="ident" id="2491573">i</span>&nbsp;<span class="op" id="2491575">=</span>&nbsp;<span class="ident" id="2491577">parsenum</span><span class="op" id="2491585">(</span><span class="ident" id="2491586">format</span><span class="op" id="2491592">,</span>&nbsp;<span class="ident" id="2491594">i</span><span class="op" id="2491595">,</span>&nbsp;<span class="ident" id="2491597">end</span><span class="op" id="2491600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491605">if</span>&nbsp;<span class="ident" id="2491608">afterIndex</span>&nbsp;<span class="op" id="2491619">&amp;&amp;</span>&nbsp;<span class="ident" id="2491622">p</span><span class="op" id="2491623">.</span><span class="ident" id="2491624">fmt</span><span class="op" id="2491627">.</span><span class="ident" id="2491628">widPresent</span>&nbsp;<span class="op" id="2491639">{</span>&nbsp;<span class="comment" id="2491641">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491657">p</span><span class="op" id="2491658">.</span><span class="ident" id="2491659">goodArgNum</span>&nbsp;<span class="op" id="2491670">=</span>&nbsp;<span class="builtintype" id="2491672">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2491690">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491717">if</span>&nbsp;<span class="ident" id="2491720">i</span><span class="op" id="2491721">+</span><span class="num" id="2491722">1</span>&nbsp;<span class="op" id="2491724">&lt;</span>&nbsp;<span class="ident" id="2491726">end</span>&nbsp;<span class="op" id="2491730">&amp;&amp;</span>&nbsp;<span class="ident" id="2491733">format</span><span class="op" id="2491739">[</span><span class="ident" id="2491740">i</span><span class="op" id="2491741">]</span>&nbsp;<span class="op" id="2491743">==</span>&nbsp;<span class="string" id="2491746">&#39;.&#39;</span>&nbsp;<span class="op" id="2491750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491755">i</span><span class="op" id="2491756">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491762">if</span>&nbsp;<span class="ident" id="2491765">afterIndex</span>&nbsp;<span class="op" id="2491776">{</span>&nbsp;<span class="comment" id="2491778">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491795">p</span><span class="op" id="2491796">.</span><span class="ident" id="2491797">goodArgNum</span>&nbsp;<span class="op" id="2491808">=</span>&nbsp;<span class="builtintype" id="2491810">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491819">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491824">argNum</span><span class="op" id="2491830">,</span>&nbsp;<span class="ident" id="2491832">i</span><span class="op" id="2491833">,</span>&nbsp;<span class="ident" id="2491835">afterIndex</span>&nbsp;<span class="op" id="2491846">=</span>&nbsp;<span class="ident" id="2491848">p</span><span class="op" id="2491849">.</span><span class="ident" id="2491850">argNumber</span><span class="op" id="2491859">(</span><span class="ident" id="2491860">argNum</span><span class="op" id="2491866">,</span>&nbsp;<span class="ident" id="2491868">format</span><span class="op" id="2491874">,</span>&nbsp;<span class="ident" id="2491876">i</span><span class="op" id="2491877">,</span>&nbsp;<span class="builtinfunc" id="2491879">len</span><span class="op" id="2491882">(</span><span class="ident" id="2491883">a</span><span class="op" id="2491884">)</span><span class="op" id="2491885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491890">if</span>&nbsp;<span class="ident" id="2491893">format</span><span class="op" id="2491899">[</span><span class="ident" id="2491900">i</span><span class="op" id="2491901">]</span>&nbsp;<span class="op" id="2491903">==</span>&nbsp;<span class="string" id="2491906">&#39;*&#39;</span>&nbsp;<span class="op" id="2491910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491916">i</span><span class="op" id="2491917">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491924">p</span><span class="op" id="2491925">.</span><span class="ident" id="2491926">fmt</span><span class="op" id="2491929">.</span><span class="ident" id="2491930">prec</span><span class="op" id="2491934">,</span>&nbsp;<span class="ident" id="2491936">p</span><span class="op" id="2491937">.</span><span class="ident" id="2491938">fmt</span><span class="op" id="2491941">.</span><span class="ident" id="2491942">precPresent</span><span class="op" id="2491953">,</span>&nbsp;<span class="ident" id="2491955">argNum</span>&nbsp;<span class="op" id="2491962">=</span>&nbsp;<span class="ident" id="2491964">intFromArg</span><span class="op" id="2491974">(</span><span class="ident" id="2491975">a</span><span class="op" id="2491976">,</span>&nbsp;<span class="ident" id="2491978">argNum</span><span class="op" id="2491984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491990">if</span>&nbsp;<span class="op" id="2491993">!</span><span class="ident" id="2491994">p</span><span class="op" id="2491995">.</span><span class="ident" id="2491996">fmt</span><span class="op" id="2491999">.</span><span class="ident" id="2492000">precPresent</span>&nbsp;<span class="op" id="2492012">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492019">p</span><span class="op" id="2492020">.</span><span class="ident" id="2492021">buf</span><span class="op" id="2492024">.</span><span class="ident" id="2492025">Write</span><span class="op" id="2492030">(</span><span class="ident" id="2492031">badPrecBytes</span><span class="op" id="2492043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492055">afterIndex</span>&nbsp;<span class="op" id="2492066">=</span>&nbsp;<span class="builtintype" id="2492068">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492077">}</span>&nbsp;<span class="keyword" id="2492079">else</span>&nbsp;<span class="op" id="2492084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492090">p</span><span class="op" id="2492091">.</span><span class="ident" id="2492092">fmt</span><span class="op" id="2492095">.</span><span class="ident" id="2492096">prec</span><span class="op" id="2492100">,</span>&nbsp;<span class="ident" id="2492102">p</span><span class="op" id="2492103">.</span><span class="ident" id="2492104">fmt</span><span class="op" id="2492107">.</span><span class="ident" id="2492108">precPresent</span><span class="op" id="2492119">,</span>&nbsp;<span class="ident" id="2492121">i</span>&nbsp;<span class="op" id="2492123">=</span>&nbsp;<span class="ident" id="2492125">parsenum</span><span class="op" id="2492133">(</span><span class="ident" id="2492134">format</span><span class="op" id="2492140">,</span>&nbsp;<span class="ident" id="2492142">i</span><span class="op" id="2492143">,</span>&nbsp;<span class="ident" id="2492145">end</span><span class="op" id="2492148">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492154">if</span>&nbsp;<span class="op" id="2492157">!</span><span class="ident" id="2492158">p</span><span class="op" id="2492159">.</span><span class="ident" id="2492160">fmt</span><span class="op" id="2492163">.</span><span class="ident" id="2492164">precPresent</span>&nbsp;<span class="op" id="2492176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492183">p</span><span class="op" id="2492184">.</span><span class="ident" id="2492185">fmt</span><span class="op" id="2492188">.</span><span class="ident" id="2492189">prec</span>&nbsp;<span class="op" id="2492194">=</span>&nbsp;<span class="num" id="2492196">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492203">p</span><span class="op" id="2492204">.</span><span class="ident" id="2492205">fmt</span><span class="op" id="2492208">.</span><span class="ident" id="2492209">precPresent</span>&nbsp;<span class="op" id="2492221">=</span>&nbsp;<span class="builtintype" id="2492223">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492237">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492246">if</span>&nbsp;<span class="op" id="2492249">!</span><span class="ident" id="2492250">afterIndex</span>&nbsp;<span class="op" id="2492261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492266">argNum</span><span class="op" id="2492272">,</span>&nbsp;<span class="ident" id="2492274">i</span><span class="op" id="2492275">,</span>&nbsp;<span class="ident" id="2492277">afterIndex</span>&nbsp;<span class="op" id="2492288">=</span>&nbsp;<span class="ident" id="2492290">p</span><span class="op" id="2492291">.</span><span class="ident" id="2492292">argNumber</span><span class="op" id="2492301">(</span><span class="ident" id="2492302">argNum</span><span class="op" id="2492308">,</span>&nbsp;<span class="ident" id="2492310">format</span><span class="op" id="2492316">,</span>&nbsp;<span class="ident" id="2492318">i</span><span class="op" id="2492319">,</span>&nbsp;<span class="builtinfunc" id="2492321">len</span><span class="op" id="2492324">(</span><span class="ident" id="2492325">a</span><span class="op" id="2492326">)</span><span class="op" id="2492327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492331">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492336">if</span>&nbsp;<span class="ident" id="2492339">i</span>&nbsp;<span class="op" id="2492341">&gt;=</span>&nbsp;<span class="ident" id="2492344">end</span>&nbsp;<span class="op" id="2492348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492353">p</span><span class="op" id="2492354">.</span><span class="ident" id="2492355">buf</span><span class="op" id="2492358">.</span><span class="ident" id="2492359">Write</span><span class="op" id="2492364">(</span><span class="ident" id="2492365">noVerbBytes</span><span class="op" id="2492376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492381">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492392">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492396">c</span><span class="op" id="2492397">,</span>&nbsp;<span class="ident" id="2492399">w</span>&nbsp;<span class="op" id="2492401">:=</span>&nbsp;<span class="ident" id="2492404">utf8</span><span class="op" id="2492408">.</span><span class="ident" id="2492409">DecodeRuneInString</span><span class="op" id="2492427">(</span><span class="ident" id="2492428">format</span><span class="op" id="2492434">[</span><span class="ident" id="2492435">i</span><span class="op" id="2492436">:</span><span class="op" id="2492437">]</span><span class="op" id="2492438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492442">i</span>&nbsp;<span class="op" id="2492444">+=</span>&nbsp;<span class="ident" id="2492447">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2492451">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492496">if</span>&nbsp;<span class="ident" id="2492499">c</span>&nbsp;<span class="op" id="2492501">==</span>&nbsp;<span class="string" id="2492504">&#39;%&#39;</span>&nbsp;<span class="op" id="2492508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492513">p</span><span class="op" id="2492514">.</span><span class="ident" id="2492515">buf</span><span class="op" id="2492518">.</span><span class="ident" id="2492519">WriteByte</span><span class="op" id="2492528">(</span><span class="string" id="2492529">&#39;%&#39;</span><span class="op" id="2492532">)</span>&nbsp;<span class="comment" id="2492534">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492566">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492581">if</span>&nbsp;<span class="op" id="2492584">!</span><span class="ident" id="2492585">p</span><span class="op" id="2492586">.</span><span class="ident" id="2492587">goodArgNum</span>&nbsp;<span class="op" id="2492598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492603">p</span><span class="op" id="2492604">.</span><span class="ident" id="2492605">buf</span><span class="op" id="2492608">.</span><span class="ident" id="2492609">Write</span><span class="op" id="2492614">(</span><span class="ident" id="2492615">percentBangBytes</span><span class="op" id="2492631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492636">p</span><span class="op" id="2492637">.</span><span class="ident" id="2492638">add</span><span class="op" id="2492641">(</span><span class="ident" id="2492642">c</span><span class="op" id="2492643">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492648">p</span><span class="op" id="2492649">.</span><span class="ident" id="2492650">buf</span><span class="op" id="2492653">.</span><span class="ident" id="2492654">Write</span><span class="op" id="2492659">(</span><span class="ident" id="2492660">badIndexBytes</span><span class="op" id="2492673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492678">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492689">}</span>&nbsp;<span class="keyword" id="2492691">else</span>&nbsp;<span class="keyword" id="2492696">if</span>&nbsp;<span class="ident" id="2492699">argNum</span>&nbsp;<span class="op" id="2492706">&gt;=</span>&nbsp;<span class="builtinfunc" id="2492709">len</span><span class="op" id="2492712">(</span><span class="ident" id="2492713">a</span><span class="op" id="2492714">)</span>&nbsp;<span class="op" id="2492716">{</span>&nbsp;<span class="comment" id="2492718">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492740">p</span><span class="op" id="2492741">.</span><span class="ident" id="2492742">buf</span><span class="op" id="2492745">.</span><span class="ident" id="2492746">Write</span><span class="op" id="2492751">(</span><span class="ident" id="2492752">percentBangBytes</span><span class="op" id="2492768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492773">p</span><span class="op" id="2492774">.</span><span class="ident" id="2492775">add</span><span class="op" id="2492778">(</span><span class="ident" id="2492779">c</span><span class="op" id="2492780">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492785">p</span><span class="op" id="2492786">.</span><span class="ident" id="2492787">buf</span><span class="op" id="2492790">.</span><span class="ident" id="2492791">Write</span><span class="op" id="2492796">(</span><span class="ident" id="2492797">missingBytes</span><span class="op" id="2492809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492814">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492829">arg</span>&nbsp;<span class="op" id="2492833">:=</span>&nbsp;<span class="ident" id="2492836">a</span><span class="op" id="2492837">[</span><span class="ident" id="2492838">argNum</span><span class="op" id="2492844">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492848">argNum</span><span class="op" id="2492854">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492860">if</span>&nbsp;<span class="ident" id="2492863">c</span>&nbsp;<span class="op" id="2492865">==</span>&nbsp;<span class="string" id="2492868">&#39;v&#39;</span>&nbsp;<span class="op" id="2492872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492877">if</span>&nbsp;<span class="ident" id="2492880">p</span><span class="op" id="2492881">.</span><span class="ident" id="2492882">fmt</span><span class="op" id="2492885">.</span><span class="ident" id="2492886">sharp</span>&nbsp;<span class="op" id="2492892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2492898">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492966">p</span><span class="op" id="2492967">.</span><span class="ident" id="2492968">fmt</span><span class="op" id="2492971">.</span><span class="ident" id="2492972">sharp</span>&nbsp;<span class="op" id="2492978">=</span>&nbsp;<span class="builtintype" id="2492980">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492990">p</span><span class="op" id="2492991">.</span><span class="ident" id="2492992">fmt</span><span class="op" id="2492995">.</span><span class="ident" id="2492996">sharpV</span>&nbsp;<span class="op" id="2493003">=</span>&nbsp;<span class="builtintype" id="2493005">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2493013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493018">if</span>&nbsp;<span class="ident" id="2493021">p</span><span class="op" id="2493022">.</span><span class="ident" id="2493023">fmt</span><span class="op" id="2493026">.</span><span class="ident" id="2493027">plus</span>&nbsp;<span class="op" id="2493032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2493038">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493115">p</span><span class="op" id="2493116">.</span><span class="ident" id="2493117">fmt</span><span class="op" id="2493120">.</span><span class="ident" id="2493121">plus</span>&nbsp;<span class="op" id="2493126">=</span>&nbsp;<span class="builtintype" id="2493128">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493138">p</span><span class="op" id="2493139">.</span><span class="ident" id="2493140">fmt</span><span class="op" id="2493143">.</span><span class="ident" id="2493144">plusV</span>&nbsp;<span class="op" id="2493150">=</span>&nbsp;<span class="builtintype" id="2493152">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2493160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2493164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493168">p</span><span class="op" id="2493169">.</span><span class="ident" id="2493170">printArg</span><span class="op" id="2493178">(</span><span class="ident" id="2493179">arg</span><span class="op" id="2493182">,</span>&nbsp;<span class="ident" id="2493184">c</span><span class="op" id="2493185">,</span>&nbsp;<span class="num" id="2493187">0</span><span class="op" id="2493188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2493191">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2493195">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2493264">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2493340">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493386">if</span>&nbsp;<span class="op" id="2493389">!</span><span class="ident" id="2493390">p</span><span class="op" id="2493391">.</span><span class="ident" id="2493392">reordered</span>&nbsp;<span class="op" id="2493402">&amp;&amp;</span>&nbsp;<span class="ident" id="2493405">argNum</span>&nbsp;<span class="op" id="2493412">&lt;</span>&nbsp;<span class="builtinfunc" id="2493414">len</span><span class="op" id="2493417">(</span><span class="ident" id="2493418">a</span><span class="op" id="2493419">)</span>&nbsp;<span class="op" id="2493421">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493425">p</span><span class="op" id="2493426">.</span><span class="ident" id="2493427">buf</span><span class="op" id="2493430">.</span><span class="ident" id="2493431">Write</span><span class="op" id="2493436">(</span><span class="ident" id="2493437">extraBytes</span><span class="op" id="2493447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493451">for</span>&nbsp;<span class="op" id="2493455">;</span>&nbsp;<span class="ident" id="2493457">argNum</span>&nbsp;<span class="op" id="2493464">&lt;</span>&nbsp;<span class="builtinfunc" id="2493466">len</span><span class="op" id="2493469">(</span><span class="ident" id="2493470">a</span><span class="op" id="2493471">)</span><span class="op" id="2493472">;</span>&nbsp;<span class="ident" id="2493474">argNum</span><span class="op" id="2493480">++</span>&nbsp;<span class="op" id="2493483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493488">arg</span>&nbsp;<span class="op" id="2493492">:=</span>&nbsp;<span class="ident" id="2493495">a</span><span class="op" id="2493496">[</span><span class="ident" id="2493497">argNum</span><span class="op" id="2493503">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493508">if</span>&nbsp;<span class="ident" id="2493511">arg</span>&nbsp;<span class="op" id="2493515">!=</span>&nbsp;<span class="ident" id="2493518">nil</span>&nbsp;<span class="op" id="2493522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493528">p</span><span class="op" id="2493529">.</span><span class="ident" id="2493530">buf</span><span class="op" id="2493533">.</span><span class="ident" id="2493534">WriteString</span><span class="op" id="2493545">(</span><span class="ident" id="2493546">reflect</span><span class="op" id="2493553">.</span><span class="ident" id="2493554">TypeOf</span><span class="op" id="2493560">(</span><span class="ident" id="2493561">arg</span><span class="op" id="2493564">)</span><span class="op" id="2493565">.</span><span class="ident" id="2493566">String</span><span class="op" id="2493572">(</span><span class="op" id="2493573">)</span><span class="op" id="2493574">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493580">p</span><span class="op" id="2493581">.</span><span class="ident" id="2493582">buf</span><span class="op" id="2493585">.</span><span class="ident" id="2493586">WriteByte</span><span class="op" id="2493595">(</span><span class="string" id="2493596">&#39;=&#39;</span><span class="op" id="2493599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2493604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493609">p</span><span class="op" id="2493610">.</span><span class="ident" id="2493611">printArg</span><span class="op" id="2493619">(</span><span class="ident" id="2493620">arg</span><span class="op" id="2493623">,</span>&nbsp;<span class="string" id="2493625">&#39;v&#39;</span><span class="op" id="2493628">,</span>&nbsp;<span class="num" id="2493630">0</span><span class="op" id="2493631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493636">if</span>&nbsp;<span class="ident" id="2493639">argNum</span><span class="op" id="2493645">+</span><span class="num" id="2493646">1</span>&nbsp;<span class="op" id="2493648">&lt;</span>&nbsp;<span class="builtinfunc" id="2493650">len</span><span class="op" id="2493653">(</span><span class="ident" id="2493654">a</span><span class="op" id="2493655">)</span>&nbsp;<span class="op" id="2493657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493663">p</span><span class="op" id="2493664">.</span><span class="ident" id="2493665">buf</span><span class="op" id="2493668">.</span><span class="ident" id="2493669">Write</span><span class="op" id="2493674">(</span><span class="ident" id="2493675">commaSpaceBytes</span><span class="op" id="2493690">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2493695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2493699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493703">p</span><span class="op" id="2493704">.</span><span class="ident" id="2493705">buf</span><span class="op" id="2493708">.</span><span class="ident" id="2493709">WriteByte</span><span class="op" id="2493718">(</span><span class="string" id="2493719">&#39;)&#39;</span><span class="op" id="2493722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2493725">}</span><br>
<span class="lineno"></span><span class="op" id="2493727">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2493730">func</span>&nbsp;<span class="op" id="2493735">(</span><span class="ident" id="2493736">p</span>&nbsp;<span class="op" id="2493738">*</span><span class="ident" id="2493739">pp</span><span class="op" id="2493741">)</span>&nbsp;<span class="ident" id="2493743">doPrint</span><span class="op" id="2493750">(</span><span class="ident" id="2493751">a</span>&nbsp;<span class="op" id="2493753">[</span><span class="op" id="2493754">]</span><span class="keyword" id="2493755">interface</span><span class="op" id="2493764">{</span><span class="op" id="2493765">}</span><span class="op" id="2493766">,</span>&nbsp;<span class="ident" id="2493768">addspace</span><span class="op" id="2493776">,</span>&nbsp;<span class="ident" id="2493778">addnewline</span>&nbsp;<span class="builtintype" id="2493789">bool</span><span class="op" id="2493793">)</span>&nbsp;<span class="op" id="2493795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493798">prevString</span>&nbsp;<span class="op" id="2493809">:=</span>&nbsp;<span class="builtintype" id="2493812">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493819">for</span>&nbsp;<span class="ident" id="2493823">argNum</span>&nbsp;<span class="op" id="2493830">:=</span>&nbsp;<span class="num" id="2493833">0</span><span class="op" id="2493834">;</span>&nbsp;<span class="ident" id="2493836">argNum</span>&nbsp;<span class="op" id="2493843">&lt;</span>&nbsp;<span class="builtinfunc" id="2493845">len</span><span class="op" id="2493848">(</span><span class="ident" id="2493849">a</span><span class="op" id="2493850">)</span><span class="op" id="2493851">;</span>&nbsp;<span class="ident" id="2493853">argNum</span><span class="op" id="2493859">++</span>&nbsp;<span class="op" id="2493862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493866">p</span><span class="op" id="2493867">.</span><span class="ident" id="2493868">fmt</span><span class="op" id="2493871">.</span><span class="ident" id="2493872">clearflags</span><span class="op" id="2493882">(</span><span class="op" id="2493883">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2493887">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493933">arg</span>&nbsp;<span class="op" id="2493937">:=</span>&nbsp;<span class="ident" id="2493940">a</span><span class="op" id="2493941">[</span><span class="ident" id="2493942">argNum</span><span class="op" id="2493948">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493952">if</span>&nbsp;<span class="ident" id="2493955">argNum</span>&nbsp;<span class="op" id="2493962">&gt;</span>&nbsp;<span class="num" id="2493964">0</span>&nbsp;<span class="op" id="2493966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493971">isString</span>&nbsp;<span class="op" id="2493980">:=</span>&nbsp;<span class="ident" id="2493983">arg</span>&nbsp;<span class="op" id="2493987">!=</span>&nbsp;<span class="ident" id="2493990">nil</span>&nbsp;<span class="op" id="2493994">&amp;&amp;</span>&nbsp;<span class="ident" id="2493997">reflect</span><span class="op" id="2494004">.</span><span class="ident" id="2494005">TypeOf</span><span class="op" id="2494011">(</span><span class="ident" id="2494012">arg</span><span class="op" id="2494015">)</span><span class="op" id="2494016">.</span><span class="ident" id="2494017">Kind</span><span class="op" id="2494021">(</span><span class="op" id="2494022">)</span>&nbsp;<span class="op" id="2494024">==</span>&nbsp;<span class="ident" id="2494027">reflect</span><span class="op" id="2494034">.</span><span class="ident" id="2494035">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494045">if</span>&nbsp;<span class="ident" id="2494048">addspace</span>&nbsp;<span class="op" id="2494057">||</span>&nbsp;<span class="op" id="2494060">!</span><span class="ident" id="2494061">isString</span>&nbsp;<span class="op" id="2494070">&amp;&amp;</span>&nbsp;<span class="op" id="2494073">!</span><span class="ident" id="2494074">prevString</span>&nbsp;<span class="op" id="2494085">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494091">p</span><span class="op" id="2494092">.</span><span class="ident" id="2494093">buf</span><span class="op" id="2494096">.</span><span class="ident" id="2494097">WriteByte</span><span class="op" id="2494106">(</span><span class="string" id="2494107">&#39;&nbsp;&#39;</span><span class="op" id="2494110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2494115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2494119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494123">prevString</span>&nbsp;<span class="op" id="2494134">=</span>&nbsp;<span class="ident" id="2494136">p</span><span class="op" id="2494137">.</span><span class="ident" id="2494138">printArg</span><span class="op" id="2494146">(</span><span class="ident" id="2494147">arg</span><span class="op" id="2494150">,</span>&nbsp;<span class="string" id="2494152">&#39;v&#39;</span><span class="op" id="2494155">,</span>&nbsp;<span class="num" id="2494157">0</span><span class="op" id="2494158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2494161">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494164">if</span>&nbsp;<span class="ident" id="2494167">addnewline</span>&nbsp;<span class="op" id="2494178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494182">p</span><span class="op" id="2494183">.</span><span class="ident" id="2494184">buf</span><span class="op" id="2494187">.</span><span class="ident" id="2494188">WriteByte</span><span class="op" id="2494197">(</span><span class="string" id="2494198">&#39;\n&#39;</span><span class="op" id="2494202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2494205">}</span><br>
<span class="lineno"></span><span class="op" id="2494207">}</span>
</div>
</body>
</html>
