<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7080981">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7081036">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7081090">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7081141">package</span>&nbsp;<span class="ident" id="7081149">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7081157">import</span>&nbsp;<span class="op" id="7081164">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7081167">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7081174">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7081185">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7081195">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7081198">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="7081275">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="7081355">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="7081438">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="7081516">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="7081563">type</span>&nbsp;<span class="ident" id="7081568">FindTest</span>&nbsp;<span class="keyword" id="7081577">struct</span>&nbsp;<span class="op" id="7081584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081587">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081595">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081603">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7081611">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7081619">matches</span>&nbsp;<span class="op" id="7081627">[</span><span class="op" id="7081628">]</span><span class="op" id="7081629">[</span><span class="op" id="7081630">]</span><span class="builtintype" id="7081631">int</span><br>
<span class="lineno"></span><span class="op" id="7081635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7081638">func</span>&nbsp;<span class="op" id="7081643">(</span><span class="ident" id="7081644">t</span>&nbsp;<span class="ident" id="7081646">FindTest</span><span class="op" id="7081654">)</span>&nbsp;<span class="ident" id="7081656">String</span><span class="op" id="7081662">(</span><span class="op" id="7081663">)</span>&nbsp;<span class="builtintype" id="7081665">string</span>&nbsp;<span class="op" id="7081672">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7081675">return</span>&nbsp;<span class="ident" id="7081682">fmt</span><span class="op" id="7081685">.</span><span class="ident" id="7081686">Sprintf</span><span class="op" id="7081693">(</span><span class="string" id="7081694">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="7081714">,</span>&nbsp;<span class="ident" id="7081716">t</span><span class="op" id="7081717">.</span><span class="ident" id="7081718">pat</span><span class="op" id="7081721">,</span>&nbsp;<span class="ident" id="7081723">t</span><span class="op" id="7081724">.</span><span class="ident" id="7081725">text</span><span class="op" id="7081729">)</span><br>
<span class="lineno"></span><span class="op" id="7081731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7081734">var</span>&nbsp;<span class="ident" id="7081738">findTests</span>&nbsp;<span class="op" id="7081748">=</span>&nbsp;<span class="op" id="7081750">[</span><span class="op" id="7081751">]</span><span class="ident" id="7081752">FindTest</span><span class="op" id="7081760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7081763">{</span><span class="string" id="7081764">``</span><span class="op" id="7081766">,</span>&nbsp;<span class="string" id="7081768">``</span><span class="op" id="7081770">,</span>&nbsp;<span class="ident" id="7081772">build</span><span class="op" id="7081777">(</span><span class="num" id="7081778">1</span><span class="op" id="7081779">,</span>&nbsp;<span class="num" id="7081781">0</span><span class="op" id="7081782">,</span>&nbsp;<span class="num" id="7081784">0</span><span class="op" id="7081785">)</span><span class="op" id="7081786">}</span><span class="op" id="7081787">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7081790">{</span><span class="string" id="7081791">`^abcdefg`</span><span class="op" id="7081801">,</span>&nbsp;<span class="string" id="7081803">&#34;abcdefg&#34;</span><span class="op" id="7081812">,</span>&nbsp;<span class="ident" id="7081814">build</span><span class="op" id="7081819">(</span><span class="num" id="7081820">1</span><span class="op" id="7081821">,</span>&nbsp;<span class="num" id="7081823">0</span><span class="op" id="7081824">,</span>&nbsp;<span class="num" id="7081826">7</span><span class="op" id="7081827">)</span><span class="op" id="7081828">}</span><span class="op" id="7081829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7081832">{</span><span class="string" id="7081833">`a+`</span><span class="op" id="7081837">,</span>&nbsp;<span class="string" id="7081839">&#34;baaab&#34;</span><span class="op" id="7081846">,</span>&nbsp;<span class="ident" id="7081848">build</span><span class="op" id="7081853">(</span><span class="num" id="7081854">1</span><span class="op" id="7081855">,</span>&nbsp;<span class="num" id="7081857">1</span><span class="op" id="7081858">,</span>&nbsp;<span class="num" id="7081860">4</span><span class="op" id="7081861">)</span><span class="op" id="7081862">}</span><span class="op" id="7081863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7081866">{</span><span class="string" id="7081867">&#34;abcd..&#34;</span><span class="op" id="7081875">,</span>&nbsp;<span class="string" id="7081877">&#34;abcdef&#34;</span><span class="op" id="7081885">,</span>&nbsp;<span class="ident" id="7081887">build</span><span class="op" id="7081892">(</span><span class="num" id="7081893">1</span><span class="op" id="7081894">,</span>&nbsp;<span class="num" id="7081896">0</span><span class="op" id="7081897">,</span>&nbsp;<span class="num" id="7081899">6</span><span class="op" id="7081900">)</span><span class="op" id="7081901">}</span><span class="op" id="7081902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7081905">{</span><span class="string" id="7081906">`a`</span><span class="op" id="7081909">,</span>&nbsp;<span class="string" id="7081911">&#34;a&#34;</span><span class="op" id="7081914">,</span>&nbsp;<span class="ident" id="7081916">build</span><span class="op" id="7081921">(</span><span class="num" id="7081922">1</span><span class="op" id="7081923">,</span>&nbsp;<span class="num" id="7081925">0</span><span class="op" id="7081926">,</span>&nbsp;<span class="num" id="7081928">1</span><span class="op" id="7081929">)</span><span class="op" id="7081930">}</span><span class="op" id="7081931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7081934">{</span><span class="string" id="7081935">`x`</span><span class="op" id="7081938">,</span>&nbsp;<span class="string" id="7081940">&#34;y&#34;</span><span class="op" id="7081943">,</span>&nbsp;<span class="ident" id="7081945">nil</span><span class="op" id="7081948">}</span><span class="op" id="7081949">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7081952">{</span><span class="string" id="7081953">`b`</span><span class="op" id="7081956">,</span>&nbsp;<span class="string" id="7081958">&#34;abc&#34;</span><span class="op" id="7081963">,</span>&nbsp;<span class="ident" id="7081965">build</span><span class="op" id="7081970">(</span><span class="num" id="7081971">1</span><span class="op" id="7081972">,</span>&nbsp;<span class="num" id="7081974">1</span><span class="op" id="7081975">,</span>&nbsp;<span class="num" id="7081977">2</span><span class="op" id="7081978">)</span><span class="op" id="7081979">}</span><span class="op" id="7081980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7081983">{</span><span class="string" id="7081984">`.`</span><span class="op" id="7081987">,</span>&nbsp;<span class="string" id="7081989">&#34;a&#34;</span><span class="op" id="7081992">,</span>&nbsp;<span class="ident" id="7081994">build</span><span class="op" id="7081999">(</span><span class="num" id="7082000">1</span><span class="op" id="7082001">,</span>&nbsp;<span class="num" id="7082003">0</span><span class="op" id="7082004">,</span>&nbsp;<span class="num" id="7082006">1</span><span class="op" id="7082007">)</span><span class="op" id="7082008">}</span><span class="op" id="7082009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082012">{</span><span class="string" id="7082013">`.*`</span><span class="op" id="7082017">,</span>&nbsp;<span class="string" id="7082019">&#34;abcdef&#34;</span><span class="op" id="7082027">,</span>&nbsp;<span class="ident" id="7082029">build</span><span class="op" id="7082034">(</span><span class="num" id="7082035">1</span><span class="op" id="7082036">,</span>&nbsp;<span class="num" id="7082038">0</span><span class="op" id="7082039">,</span>&nbsp;<span class="num" id="7082041">6</span><span class="op" id="7082042">)</span><span class="op" id="7082043">}</span><span class="op" id="7082044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082047">{</span><span class="string" id="7082048">`^`</span><span class="op" id="7082051">,</span>&nbsp;<span class="string" id="7082053">&#34;abcde&#34;</span><span class="op" id="7082060">,</span>&nbsp;<span class="ident" id="7082062">build</span><span class="op" id="7082067">(</span><span class="num" id="7082068">1</span><span class="op" id="7082069">,</span>&nbsp;<span class="num" id="7082071">0</span><span class="op" id="7082072">,</span>&nbsp;<span class="num" id="7082074">0</span><span class="op" id="7082075">)</span><span class="op" id="7082076">}</span><span class="op" id="7082077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082080">{</span><span class="string" id="7082081">`$`</span><span class="op" id="7082084">,</span>&nbsp;<span class="string" id="7082086">&#34;abcde&#34;</span><span class="op" id="7082093">,</span>&nbsp;<span class="ident" id="7082095">build</span><span class="op" id="7082100">(</span><span class="num" id="7082101">1</span><span class="op" id="7082102">,</span>&nbsp;<span class="num" id="7082104">5</span><span class="op" id="7082105">,</span>&nbsp;<span class="num" id="7082107">5</span><span class="op" id="7082108">)</span><span class="op" id="7082109">}</span><span class="op" id="7082110">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082113">{</span><span class="string" id="7082114">`^abcd$`</span><span class="op" id="7082122">,</span>&nbsp;<span class="string" id="7082124">&#34;abcd&#34;</span><span class="op" id="7082130">,</span>&nbsp;<span class="ident" id="7082132">build</span><span class="op" id="7082137">(</span><span class="num" id="7082138">1</span><span class="op" id="7082139">,</span>&nbsp;<span class="num" id="7082141">0</span><span class="op" id="7082142">,</span>&nbsp;<span class="num" id="7082144">4</span><span class="op" id="7082145">)</span><span class="op" id="7082146">}</span><span class="op" id="7082147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082150">{</span><span class="string" id="7082151">`^bcd&#39;`</span><span class="op" id="7082158">,</span>&nbsp;<span class="string" id="7082160">&#34;abcdef&#34;</span><span class="op" id="7082168">,</span>&nbsp;<span class="ident" id="7082170">nil</span><span class="op" id="7082173">}</span><span class="op" id="7082174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082177">{</span><span class="string" id="7082178">`^abcd$`</span><span class="op" id="7082186">,</span>&nbsp;<span class="string" id="7082188">&#34;abcde&#34;</span><span class="op" id="7082195">,</span>&nbsp;<span class="ident" id="7082197">nil</span><span class="op" id="7082200">}</span><span class="op" id="7082201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082204">{</span><span class="string" id="7082205">`a+`</span><span class="op" id="7082209">,</span>&nbsp;<span class="string" id="7082211">&#34;baaab&#34;</span><span class="op" id="7082218">,</span>&nbsp;<span class="ident" id="7082220">build</span><span class="op" id="7082225">(</span><span class="num" id="7082226">1</span><span class="op" id="7082227">,</span>&nbsp;<span class="num" id="7082229">1</span><span class="op" id="7082230">,</span>&nbsp;<span class="num" id="7082232">4</span><span class="op" id="7082233">)</span><span class="op" id="7082234">}</span><span class="op" id="7082235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082238">{</span><span class="string" id="7082239">`a*`</span><span class="op" id="7082243">,</span>&nbsp;<span class="string" id="7082245">&#34;baaab&#34;</span><span class="op" id="7082252">,</span>&nbsp;<span class="ident" id="7082254">build</span><span class="op" id="7082259">(</span><span class="num" id="7082260">3</span><span class="op" id="7082261">,</span>&nbsp;<span class="num" id="7082263">0</span><span class="op" id="7082264">,</span>&nbsp;<span class="num" id="7082266">0</span><span class="op" id="7082267">,</span>&nbsp;<span class="num" id="7082269">1</span><span class="op" id="7082270">,</span>&nbsp;<span class="num" id="7082272">4</span><span class="op" id="7082273">,</span>&nbsp;<span class="num" id="7082275">5</span><span class="op" id="7082276">,</span>&nbsp;<span class="num" id="7082278">5</span><span class="op" id="7082279">)</span><span class="op" id="7082280">}</span><span class="op" id="7082281">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082284">{</span><span class="string" id="7082285">`[a-z]+`</span><span class="op" id="7082293">,</span>&nbsp;<span class="string" id="7082295">&#34;abcd&#34;</span><span class="op" id="7082301">,</span>&nbsp;<span class="ident" id="7082303">build</span><span class="op" id="7082308">(</span><span class="num" id="7082309">1</span><span class="op" id="7082310">,</span>&nbsp;<span class="num" id="7082312">0</span><span class="op" id="7082313">,</span>&nbsp;<span class="num" id="7082315">4</span><span class="op" id="7082316">)</span><span class="op" id="7082317">}</span><span class="op" id="7082318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082321">{</span><span class="string" id="7082322">`[^a-z]+`</span><span class="op" id="7082331">,</span>&nbsp;<span class="string" id="7082333">&#34;ab1234cd&#34;</span><span class="op" id="7082343">,</span>&nbsp;<span class="ident" id="7082345">build</span><span class="op" id="7082350">(</span><span class="num" id="7082351">1</span><span class="op" id="7082352">,</span>&nbsp;<span class="num" id="7082354">2</span><span class="op" id="7082355">,</span>&nbsp;<span class="num" id="7082357">6</span><span class="op" id="7082358">)</span><span class="op" id="7082359">}</span><span class="op" id="7082360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082363">{</span><span class="string" id="7082364">`[a\-\]z]+`</span><span class="op" id="7082375">,</span>&nbsp;<span class="string" id="7082377">&#34;az]-bcz&#34;</span><span class="op" id="7082386">,</span>&nbsp;<span class="ident" id="7082388">build</span><span class="op" id="7082393">(</span><span class="num" id="7082394">2</span><span class="op" id="7082395">,</span>&nbsp;<span class="num" id="7082397">0</span><span class="op" id="7082398">,</span>&nbsp;<span class="num" id="7082400">4</span><span class="op" id="7082401">,</span>&nbsp;<span class="num" id="7082403">6</span><span class="op" id="7082404">,</span>&nbsp;<span class="num" id="7082406">7</span><span class="op" id="7082407">)</span><span class="op" id="7082408">}</span><span class="op" id="7082409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082412">{</span><span class="string" id="7082413">`[^\n]+`</span><span class="op" id="7082421">,</span>&nbsp;<span class="string" id="7082423">&#34;abcd\n&#34;</span><span class="op" id="7082431">,</span>&nbsp;<span class="ident" id="7082433">build</span><span class="op" id="7082438">(</span><span class="num" id="7082439">1</span><span class="op" id="7082440">,</span>&nbsp;<span class="num" id="7082442">0</span><span class="op" id="7082443">,</span>&nbsp;<span class="num" id="7082445">4</span><span class="op" id="7082446">)</span><span class="op" id="7082447">}</span><span class="op" id="7082448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082451">{</span><span class="string" id="7082452">`[日本語]+`</span><span class="op" id="7082466">,</span>&nbsp;<span class="string" id="7082468">&#34;日本語日本語&#34;</span><span class="op" id="7082488">,</span>&nbsp;<span class="ident" id="7082490">build</span><span class="op" id="7082495">(</span><span class="num" id="7082496">1</span><span class="op" id="7082497">,</span>&nbsp;<span class="num" id="7082499">0</span><span class="op" id="7082500">,</span>&nbsp;<span class="num" id="7082502">18</span><span class="op" id="7082504">)</span><span class="op" id="7082505">}</span><span class="op" id="7082506">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082509">{</span><span class="string" id="7082510">`日本語+`</span><span class="op" id="7082522">,</span>&nbsp;<span class="string" id="7082524">&#34;日本語&#34;</span><span class="op" id="7082535">,</span>&nbsp;<span class="ident" id="7082537">build</span><span class="op" id="7082542">(</span><span class="num" id="7082543">1</span><span class="op" id="7082544">,</span>&nbsp;<span class="num" id="7082546">0</span><span class="op" id="7082547">,</span>&nbsp;<span class="num" id="7082549">9</span><span class="op" id="7082550">)</span><span class="op" id="7082551">}</span><span class="op" id="7082552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082555">{</span><span class="string" id="7082556">`日本語+`</span><span class="op" id="7082568">,</span>&nbsp;<span class="string" id="7082570">&#34;日本語語語語&#34;</span><span class="op" id="7082590">,</span>&nbsp;<span class="ident" id="7082592">build</span><span class="op" id="7082597">(</span><span class="num" id="7082598">1</span><span class="op" id="7082599">,</span>&nbsp;<span class="num" id="7082601">0</span><span class="op" id="7082602">,</span>&nbsp;<span class="num" id="7082604">18</span><span class="op" id="7082606">)</span><span class="op" id="7082607">}</span><span class="op" id="7082608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082611">{</span><span class="string" id="7082612">`()`</span><span class="op" id="7082616">,</span>&nbsp;<span class="string" id="7082618">&#34;&#34;</span><span class="op" id="7082620">,</span>&nbsp;<span class="ident" id="7082622">build</span><span class="op" id="7082627">(</span><span class="num" id="7082628">1</span><span class="op" id="7082629">,</span>&nbsp;<span class="num" id="7082631">0</span><span class="op" id="7082632">,</span>&nbsp;<span class="num" id="7082634">0</span><span class="op" id="7082635">,</span>&nbsp;<span class="num" id="7082637">0</span><span class="op" id="7082638">,</span>&nbsp;<span class="num" id="7082640">0</span><span class="op" id="7082641">)</span><span class="op" id="7082642">}</span><span class="op" id="7082643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082646">{</span><span class="string" id="7082647">`(a)`</span><span class="op" id="7082652">,</span>&nbsp;<span class="string" id="7082654">&#34;a&#34;</span><span class="op" id="7082657">,</span>&nbsp;<span class="ident" id="7082659">build</span><span class="op" id="7082664">(</span><span class="num" id="7082665">1</span><span class="op" id="7082666">,</span>&nbsp;<span class="num" id="7082668">0</span><span class="op" id="7082669">,</span>&nbsp;<span class="num" id="7082671">1</span><span class="op" id="7082672">,</span>&nbsp;<span class="num" id="7082674">0</span><span class="op" id="7082675">,</span>&nbsp;<span class="num" id="7082677">1</span><span class="op" id="7082678">)</span><span class="op" id="7082679">}</span><span class="op" id="7082680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082683">{</span><span class="string" id="7082684">`(.)(.)`</span><span class="op" id="7082692">,</span>&nbsp;<span class="string" id="7082694">&#34;日a&#34;</span><span class="op" id="7082700">,</span>&nbsp;<span class="ident" id="7082702">build</span><span class="op" id="7082707">(</span><span class="num" id="7082708">1</span><span class="op" id="7082709">,</span>&nbsp;<span class="num" id="7082711">0</span><span class="op" id="7082712">,</span>&nbsp;<span class="num" id="7082714">4</span><span class="op" id="7082715">,</span>&nbsp;<span class="num" id="7082717">0</span><span class="op" id="7082718">,</span>&nbsp;<span class="num" id="7082720">3</span><span class="op" id="7082721">,</span>&nbsp;<span class="num" id="7082723">3</span><span class="op" id="7082724">,</span>&nbsp;<span class="num" id="7082726">4</span><span class="op" id="7082727">)</span><span class="op" id="7082728">}</span><span class="op" id="7082729">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082732">{</span><span class="string" id="7082733">`(.*)`</span><span class="op" id="7082739">,</span>&nbsp;<span class="string" id="7082741">&#34;&#34;</span><span class="op" id="7082743">,</span>&nbsp;<span class="ident" id="7082745">build</span><span class="op" id="7082750">(</span><span class="num" id="7082751">1</span><span class="op" id="7082752">,</span>&nbsp;<span class="num" id="7082754">0</span><span class="op" id="7082755">,</span>&nbsp;<span class="num" id="7082757">0</span><span class="op" id="7082758">,</span>&nbsp;<span class="num" id="7082760">0</span><span class="op" id="7082761">,</span>&nbsp;<span class="num" id="7082763">0</span><span class="op" id="7082764">)</span><span class="op" id="7082765">}</span><span class="op" id="7082766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082769">{</span><span class="string" id="7082770">`(.*)`</span><span class="op" id="7082776">,</span>&nbsp;<span class="string" id="7082778">&#34;abcd&#34;</span><span class="op" id="7082784">,</span>&nbsp;<span class="ident" id="7082786">build</span><span class="op" id="7082791">(</span><span class="num" id="7082792">1</span><span class="op" id="7082793">,</span>&nbsp;<span class="num" id="7082795">0</span><span class="op" id="7082796">,</span>&nbsp;<span class="num" id="7082798">4</span><span class="op" id="7082799">,</span>&nbsp;<span class="num" id="7082801">0</span><span class="op" id="7082802">,</span>&nbsp;<span class="num" id="7082804">4</span><span class="op" id="7082805">)</span><span class="op" id="7082806">}</span><span class="op" id="7082807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082810">{</span><span class="string" id="7082811">`(..)(..)`</span><span class="op" id="7082821">,</span>&nbsp;<span class="string" id="7082823">&#34;abcd&#34;</span><span class="op" id="7082829">,</span>&nbsp;<span class="ident" id="7082831">build</span><span class="op" id="7082836">(</span><span class="num" id="7082837">1</span><span class="op" id="7082838">,</span>&nbsp;<span class="num" id="7082840">0</span><span class="op" id="7082841">,</span>&nbsp;<span class="num" id="7082843">4</span><span class="op" id="7082844">,</span>&nbsp;<span class="num" id="7082846">0</span><span class="op" id="7082847">,</span>&nbsp;<span class="num" id="7082849">2</span><span class="op" id="7082850">,</span>&nbsp;<span class="num" id="7082852">2</span><span class="op" id="7082853">,</span>&nbsp;<span class="num" id="7082855">4</span><span class="op" id="7082856">)</span><span class="op" id="7082857">}</span><span class="op" id="7082858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082861">{</span><span class="string" id="7082862">`(([^xyz]*)(d))`</span><span class="op" id="7082878">,</span>&nbsp;<span class="string" id="7082880">&#34;abcd&#34;</span><span class="op" id="7082886">,</span>&nbsp;<span class="ident" id="7082888">build</span><span class="op" id="7082893">(</span><span class="num" id="7082894">1</span><span class="op" id="7082895">,</span>&nbsp;<span class="num" id="7082897">0</span><span class="op" id="7082898">,</span>&nbsp;<span class="num" id="7082900">4</span><span class="op" id="7082901">,</span>&nbsp;<span class="num" id="7082903">0</span><span class="op" id="7082904">,</span>&nbsp;<span class="num" id="7082906">4</span><span class="op" id="7082907">,</span>&nbsp;<span class="num" id="7082909">0</span><span class="op" id="7082910">,</span>&nbsp;<span class="num" id="7082912">3</span><span class="op" id="7082913">,</span>&nbsp;<span class="num" id="7082915">3</span><span class="op" id="7082916">,</span>&nbsp;<span class="num" id="7082918">4</span><span class="op" id="7082919">)</span><span class="op" id="7082920">}</span><span class="op" id="7082921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082924">{</span><span class="string" id="7082925">`((a|b|c)*(d))`</span><span class="op" id="7082940">,</span>&nbsp;<span class="string" id="7082942">&#34;abcd&#34;</span><span class="op" id="7082948">,</span>&nbsp;<span class="ident" id="7082950">build</span><span class="op" id="7082955">(</span><span class="num" id="7082956">1</span><span class="op" id="7082957">,</span>&nbsp;<span class="num" id="7082959">0</span><span class="op" id="7082960">,</span>&nbsp;<span class="num" id="7082962">4</span><span class="op" id="7082963">,</span>&nbsp;<span class="num" id="7082965">0</span><span class="op" id="7082966">,</span>&nbsp;<span class="num" id="7082968">4</span><span class="op" id="7082969">,</span>&nbsp;<span class="num" id="7082971">2</span><span class="op" id="7082972">,</span>&nbsp;<span class="num" id="7082974">3</span><span class="op" id="7082975">,</span>&nbsp;<span class="num" id="7082977">3</span><span class="op" id="7082978">,</span>&nbsp;<span class="num" id="7082980">4</span><span class="op" id="7082981">)</span><span class="op" id="7082982">}</span><span class="op" id="7082983">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7082986">{</span><span class="string" id="7082987">`(((a|b|c)*)(d))`</span><span class="op" id="7083004">,</span>&nbsp;<span class="string" id="7083006">&#34;abcd&#34;</span><span class="op" id="7083012">,</span>&nbsp;<span class="ident" id="7083014">build</span><span class="op" id="7083019">(</span><span class="num" id="7083020">1</span><span class="op" id="7083021">,</span>&nbsp;<span class="num" id="7083023">0</span><span class="op" id="7083024">,</span>&nbsp;<span class="num" id="7083026">4</span><span class="op" id="7083027">,</span>&nbsp;<span class="num" id="7083029">0</span><span class="op" id="7083030">,</span>&nbsp;<span class="num" id="7083032">4</span><span class="op" id="7083033">,</span>&nbsp;<span class="num" id="7083035">0</span><span class="op" id="7083036">,</span>&nbsp;<span class="num" id="7083038">3</span><span class="op" id="7083039">,</span>&nbsp;<span class="num" id="7083041">2</span><span class="op" id="7083042">,</span>&nbsp;<span class="num" id="7083044">3</span><span class="op" id="7083045">,</span>&nbsp;<span class="num" id="7083047">3</span><span class="op" id="7083048">,</span>&nbsp;<span class="num" id="7083050">4</span><span class="op" id="7083051">)</span><span class="op" id="7083052">}</span><span class="op" id="7083053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083056">{</span><span class="string" id="7083057">`\a\f\n\r\t\v`</span><span class="op" id="7083071">,</span>&nbsp;<span class="string" id="7083073">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7083087">,</span>&nbsp;<span class="ident" id="7083089">build</span><span class="op" id="7083094">(</span><span class="num" id="7083095">1</span><span class="op" id="7083096">,</span>&nbsp;<span class="num" id="7083098">0</span><span class="op" id="7083099">,</span>&nbsp;<span class="num" id="7083101">6</span><span class="op" id="7083102">)</span><span class="op" id="7083103">}</span><span class="op" id="7083104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083107">{</span><span class="string" id="7083108">`[\a\f\n\r\t\v]+`</span><span class="op" id="7083125">,</span>&nbsp;<span class="string" id="7083127">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7083141">,</span>&nbsp;<span class="ident" id="7083143">build</span><span class="op" id="7083148">(</span><span class="num" id="7083149">1</span><span class="op" id="7083150">,</span>&nbsp;<span class="num" id="7083152">0</span><span class="op" id="7083153">,</span>&nbsp;<span class="num" id="7083155">6</span><span class="op" id="7083156">)</span><span class="op" id="7083157">}</span><span class="op" id="7083158">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083162">{</span><span class="string" id="7083163">`a*(|(b))c*`</span><span class="op" id="7083175">,</span>&nbsp;<span class="string" id="7083177">&#34;aacc&#34;</span><span class="op" id="7083183">,</span>&nbsp;<span class="ident" id="7083185">build</span><span class="op" id="7083190">(</span><span class="num" id="7083191">1</span><span class="op" id="7083192">,</span>&nbsp;<span class="num" id="7083194">0</span><span class="op" id="7083195">,</span>&nbsp;<span class="num" id="7083197">4</span><span class="op" id="7083198">,</span>&nbsp;<span class="num" id="7083200">2</span><span class="op" id="7083201">,</span>&nbsp;<span class="num" id="7083203">2</span><span class="op" id="7083204">,</span>&nbsp;<span class="op" id="7083206">-</span><span class="num" id="7083207">1</span><span class="op" id="7083208">,</span>&nbsp;<span class="op" id="7083210">-</span><span class="num" id="7083211">1</span><span class="op" id="7083212">)</span><span class="op" id="7083213">}</span><span class="op" id="7083214">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083217">{</span><span class="string" id="7083218">`(.*).*`</span><span class="op" id="7083226">,</span>&nbsp;<span class="string" id="7083228">&#34;ab&#34;</span><span class="op" id="7083232">,</span>&nbsp;<span class="ident" id="7083234">build</span><span class="op" id="7083239">(</span><span class="num" id="7083240">1</span><span class="op" id="7083241">,</span>&nbsp;<span class="num" id="7083243">0</span><span class="op" id="7083244">,</span>&nbsp;<span class="num" id="7083246">2</span><span class="op" id="7083247">,</span>&nbsp;<span class="num" id="7083249">0</span><span class="op" id="7083250">,</span>&nbsp;<span class="num" id="7083252">2</span><span class="op" id="7083253">)</span><span class="op" id="7083254">}</span><span class="op" id="7083255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083258">{</span><span class="string" id="7083259">`[.]`</span><span class="op" id="7083264">,</span>&nbsp;<span class="string" id="7083266">&#34;.&#34;</span><span class="op" id="7083269">,</span>&nbsp;<span class="ident" id="7083271">build</span><span class="op" id="7083276">(</span><span class="num" id="7083277">1</span><span class="op" id="7083278">,</span>&nbsp;<span class="num" id="7083280">0</span><span class="op" id="7083281">,</span>&nbsp;<span class="num" id="7083283">1</span><span class="op" id="7083284">)</span><span class="op" id="7083285">}</span><span class="op" id="7083286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083289">{</span><span class="string" id="7083290">`/$`</span><span class="op" id="7083294">,</span>&nbsp;<span class="string" id="7083296">&#34;/abc/&#34;</span><span class="op" id="7083303">,</span>&nbsp;<span class="ident" id="7083305">build</span><span class="op" id="7083310">(</span><span class="num" id="7083311">1</span><span class="op" id="7083312">,</span>&nbsp;<span class="num" id="7083314">4</span><span class="op" id="7083315">,</span>&nbsp;<span class="num" id="7083317">5</span><span class="op" id="7083318">)</span><span class="op" id="7083319">}</span><span class="op" id="7083320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083323">{</span><span class="string" id="7083324">`/$`</span><span class="op" id="7083328">,</span>&nbsp;<span class="string" id="7083330">&#34;/abc&#34;</span><span class="op" id="7083336">,</span>&nbsp;<span class="ident" id="7083338">nil</span><span class="op" id="7083341">}</span><span class="op" id="7083342">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7083346">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083367">{</span><span class="string" id="7083368">`.`</span><span class="op" id="7083371">,</span>&nbsp;<span class="string" id="7083373">&#34;abc&#34;</span><span class="op" id="7083378">,</span>&nbsp;<span class="ident" id="7083380">build</span><span class="op" id="7083385">(</span><span class="num" id="7083386">3</span><span class="op" id="7083387">,</span>&nbsp;<span class="num" id="7083389">0</span><span class="op" id="7083390">,</span>&nbsp;<span class="num" id="7083392">1</span><span class="op" id="7083393">,</span>&nbsp;<span class="num" id="7083395">1</span><span class="op" id="7083396">,</span>&nbsp;<span class="num" id="7083398">2</span><span class="op" id="7083399">,</span>&nbsp;<span class="num" id="7083401">2</span><span class="op" id="7083402">,</span>&nbsp;<span class="num" id="7083404">3</span><span class="op" id="7083405">)</span><span class="op" id="7083406">}</span><span class="op" id="7083407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083410">{</span><span class="string" id="7083411">`(.)`</span><span class="op" id="7083416">,</span>&nbsp;<span class="string" id="7083418">&#34;abc&#34;</span><span class="op" id="7083423">,</span>&nbsp;<span class="ident" id="7083425">build</span><span class="op" id="7083430">(</span><span class="num" id="7083431">3</span><span class="op" id="7083432">,</span>&nbsp;<span class="num" id="7083434">0</span><span class="op" id="7083435">,</span>&nbsp;<span class="num" id="7083437">1</span><span class="op" id="7083438">,</span>&nbsp;<span class="num" id="7083440">0</span><span class="op" id="7083441">,</span>&nbsp;<span class="num" id="7083443">1</span><span class="op" id="7083444">,</span>&nbsp;<span class="num" id="7083446">1</span><span class="op" id="7083447">,</span>&nbsp;<span class="num" id="7083449">2</span><span class="op" id="7083450">,</span>&nbsp;<span class="num" id="7083452">1</span><span class="op" id="7083453">,</span>&nbsp;<span class="num" id="7083455">2</span><span class="op" id="7083456">,</span>&nbsp;<span class="num" id="7083458">2</span><span class="op" id="7083459">,</span>&nbsp;<span class="num" id="7083461">3</span><span class="op" id="7083462">,</span>&nbsp;<span class="num" id="7083464">2</span><span class="op" id="7083465">,</span>&nbsp;<span class="num" id="7083467">3</span><span class="op" id="7083468">)</span><span class="op" id="7083469">}</span><span class="op" id="7083470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083473">{</span><span class="string" id="7083474">`.(.)`</span><span class="op" id="7083480">,</span>&nbsp;<span class="string" id="7083482">&#34;abcd&#34;</span><span class="op" id="7083488">,</span>&nbsp;<span class="ident" id="7083490">build</span><span class="op" id="7083495">(</span><span class="num" id="7083496">2</span><span class="op" id="7083497">,</span>&nbsp;<span class="num" id="7083499">0</span><span class="op" id="7083500">,</span>&nbsp;<span class="num" id="7083502">2</span><span class="op" id="7083503">,</span>&nbsp;<span class="num" id="7083505">1</span><span class="op" id="7083506">,</span>&nbsp;<span class="num" id="7083508">2</span><span class="op" id="7083509">,</span>&nbsp;<span class="num" id="7083511">2</span><span class="op" id="7083512">,</span>&nbsp;<span class="num" id="7083514">4</span><span class="op" id="7083515">,</span>&nbsp;<span class="num" id="7083517">3</span><span class="op" id="7083518">,</span>&nbsp;<span class="num" id="7083520">4</span><span class="op" id="7083521">)</span><span class="op" id="7083522">}</span><span class="op" id="7083523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083526">{</span><span class="string" id="7083527">`ab*`</span><span class="op" id="7083532">,</span>&nbsp;<span class="string" id="7083534">&#34;abbaab&#34;</span><span class="op" id="7083542">,</span>&nbsp;<span class="ident" id="7083544">build</span><span class="op" id="7083549">(</span><span class="num" id="7083550">3</span><span class="op" id="7083551">,</span>&nbsp;<span class="num" id="7083553">0</span><span class="op" id="7083554">,</span>&nbsp;<span class="num" id="7083556">3</span><span class="op" id="7083557">,</span>&nbsp;<span class="num" id="7083559">3</span><span class="op" id="7083560">,</span>&nbsp;<span class="num" id="7083562">4</span><span class="op" id="7083563">,</span>&nbsp;<span class="num" id="7083565">4</span><span class="op" id="7083566">,</span>&nbsp;<span class="num" id="7083568">6</span><span class="op" id="7083569">)</span><span class="op" id="7083570">}</span><span class="op" id="7083571">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083574">{</span><span class="string" id="7083575">`a(b*)`</span><span class="op" id="7083582">,</span>&nbsp;<span class="string" id="7083584">&#34;abbaab&#34;</span><span class="op" id="7083592">,</span>&nbsp;<span class="ident" id="7083594">build</span><span class="op" id="7083599">(</span><span class="num" id="7083600">3</span><span class="op" id="7083601">,</span>&nbsp;<span class="num" id="7083603">0</span><span class="op" id="7083604">,</span>&nbsp;<span class="num" id="7083606">3</span><span class="op" id="7083607">,</span>&nbsp;<span class="num" id="7083609">1</span><span class="op" id="7083610">,</span>&nbsp;<span class="num" id="7083612">3</span><span class="op" id="7083613">,</span>&nbsp;<span class="num" id="7083615">3</span><span class="op" id="7083616">,</span>&nbsp;<span class="num" id="7083618">4</span><span class="op" id="7083619">,</span>&nbsp;<span class="num" id="7083621">4</span><span class="op" id="7083622">,</span>&nbsp;<span class="num" id="7083624">4</span><span class="op" id="7083625">,</span>&nbsp;<span class="num" id="7083627">4</span><span class="op" id="7083628">,</span>&nbsp;<span class="num" id="7083630">6</span><span class="op" id="7083631">,</span>&nbsp;<span class="num" id="7083633">5</span><span class="op" id="7083634">,</span>&nbsp;<span class="num" id="7083636">6</span><span class="op" id="7083637">)</span><span class="op" id="7083638">}</span><span class="op" id="7083639">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7083643">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083658">{</span><span class="string" id="7083659">`ab$`</span><span class="op" id="7083664">,</span>&nbsp;<span class="string" id="7083666">&#34;cab&#34;</span><span class="op" id="7083671">,</span>&nbsp;<span class="ident" id="7083673">build</span><span class="op" id="7083678">(</span><span class="num" id="7083679">1</span><span class="op" id="7083680">,</span>&nbsp;<span class="num" id="7083682">1</span><span class="op" id="7083683">,</span>&nbsp;<span class="num" id="7083685">3</span><span class="op" id="7083686">)</span><span class="op" id="7083687">}</span><span class="op" id="7083688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083691">{</span><span class="string" id="7083692">`axxb$`</span><span class="op" id="7083699">,</span>&nbsp;<span class="string" id="7083701">&#34;axxcb&#34;</span><span class="op" id="7083708">,</span>&nbsp;<span class="ident" id="7083710">nil</span><span class="op" id="7083713">}</span><span class="op" id="7083714">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083717">{</span><span class="string" id="7083718">`data`</span><span class="op" id="7083724">,</span>&nbsp;<span class="string" id="7083726">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7083737">,</span>&nbsp;<span class="ident" id="7083739">build</span><span class="op" id="7083744">(</span><span class="num" id="7083745">1</span><span class="op" id="7083746">,</span>&nbsp;<span class="num" id="7083748">5</span><span class="op" id="7083749">,</span>&nbsp;<span class="num" id="7083751">9</span><span class="op" id="7083752">)</span><span class="op" id="7083753">}</span><span class="op" id="7083754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083757">{</span><span class="string" id="7083758">`da(.)a$`</span><span class="op" id="7083767">,</span>&nbsp;<span class="string" id="7083769">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7083780">,</span>&nbsp;<span class="ident" id="7083782">build</span><span class="op" id="7083787">(</span><span class="num" id="7083788">1</span><span class="op" id="7083789">,</span>&nbsp;<span class="num" id="7083791">5</span><span class="op" id="7083792">,</span>&nbsp;<span class="num" id="7083794">9</span><span class="op" id="7083795">,</span>&nbsp;<span class="num" id="7083797">7</span><span class="op" id="7083798">,</span>&nbsp;<span class="num" id="7083800">8</span><span class="op" id="7083801">)</span><span class="op" id="7083802">}</span><span class="op" id="7083803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083806">{</span><span class="string" id="7083807">`zx+`</span><span class="op" id="7083812">,</span>&nbsp;<span class="string" id="7083814">&#34;zzx&#34;</span><span class="op" id="7083819">,</span>&nbsp;<span class="ident" id="7083821">build</span><span class="op" id="7083826">(</span><span class="num" id="7083827">1</span><span class="op" id="7083828">,</span>&nbsp;<span class="num" id="7083830">1</span><span class="op" id="7083831">,</span>&nbsp;<span class="num" id="7083833">3</span><span class="op" id="7083834">)</span><span class="op" id="7083835">}</span><span class="op" id="7083836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083839">{</span><span class="string" id="7083840">`ab$`</span><span class="op" id="7083845">,</span>&nbsp;<span class="string" id="7083847">&#34;abcab&#34;</span><span class="op" id="7083854">,</span>&nbsp;<span class="ident" id="7083856">build</span><span class="op" id="7083861">(</span><span class="num" id="7083862">1</span><span class="op" id="7083863">,</span>&nbsp;<span class="num" id="7083865">3</span><span class="op" id="7083866">,</span>&nbsp;<span class="num" id="7083868">5</span><span class="op" id="7083869">)</span><span class="op" id="7083870">}</span><span class="op" id="7083871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083874">{</span><span class="string" id="7083875">`(aa)*$`</span><span class="op" id="7083883">,</span>&nbsp;<span class="string" id="7083885">&#34;a&#34;</span><span class="op" id="7083888">,</span>&nbsp;<span class="ident" id="7083890">build</span><span class="op" id="7083895">(</span><span class="num" id="7083896">1</span><span class="op" id="7083897">,</span>&nbsp;<span class="num" id="7083899">1</span><span class="op" id="7083900">,</span>&nbsp;<span class="num" id="7083902">1</span><span class="op" id="7083903">,</span>&nbsp;<span class="op" id="7083905">-</span><span class="num" id="7083906">1</span><span class="op" id="7083907">,</span>&nbsp;<span class="op" id="7083909">-</span><span class="num" id="7083910">1</span><span class="op" id="7083911">)</span><span class="op" id="7083912">}</span><span class="op" id="7083913">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083916">{</span><span class="string" id="7083917">`(?:.|(?:.a))`</span><span class="op" id="7083931">,</span>&nbsp;<span class="string" id="7083933">&#34;&#34;</span><span class="op" id="7083935">,</span>&nbsp;<span class="ident" id="7083937">nil</span><span class="op" id="7083940">}</span><span class="op" id="7083941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083944">{</span><span class="string" id="7083945">`(?:A(?:A|a))`</span><span class="op" id="7083959">,</span>&nbsp;<span class="string" id="7083961">&#34;Aa&#34;</span><span class="op" id="7083965">,</span>&nbsp;<span class="ident" id="7083967">build</span><span class="op" id="7083972">(</span><span class="num" id="7083973">1</span><span class="op" id="7083974">,</span>&nbsp;<span class="num" id="7083976">0</span><span class="op" id="7083977">,</span>&nbsp;<span class="num" id="7083979">2</span><span class="op" id="7083980">)</span><span class="op" id="7083981">}</span><span class="op" id="7083982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7083985">{</span><span class="string" id="7083986">`(?:A|(?:A|a))`</span><span class="op" id="7084001">,</span>&nbsp;<span class="string" id="7084003">&#34;a&#34;</span><span class="op" id="7084006">,</span>&nbsp;<span class="ident" id="7084008">build</span><span class="op" id="7084013">(</span><span class="num" id="7084014">1</span><span class="op" id="7084015">,</span>&nbsp;<span class="num" id="7084017">0</span><span class="op" id="7084018">,</span>&nbsp;<span class="num" id="7084020">1</span><span class="op" id="7084021">)</span><span class="op" id="7084022">}</span><span class="op" id="7084023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084026">{</span><span class="string" id="7084027">`(a){0}`</span><span class="op" id="7084035">,</span>&nbsp;<span class="string" id="7084037">&#34;&#34;</span><span class="op" id="7084039">,</span>&nbsp;<span class="ident" id="7084041">build</span><span class="op" id="7084046">(</span><span class="num" id="7084047">1</span><span class="op" id="7084048">,</span>&nbsp;<span class="num" id="7084050">0</span><span class="op" id="7084051">,</span>&nbsp;<span class="num" id="7084053">0</span><span class="op" id="7084054">,</span>&nbsp;<span class="op" id="7084056">-</span><span class="num" id="7084057">1</span><span class="op" id="7084058">,</span>&nbsp;<span class="op" id="7084060">-</span><span class="num" id="7084061">1</span><span class="op" id="7084062">)</span><span class="op" id="7084063">}</span><span class="op" id="7084064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084067">{</span><span class="string" id="7084068">`(?-s)(?:(?:^).)`</span><span class="op" id="7084085">,</span>&nbsp;<span class="string" id="7084087">&#34;\n&#34;</span><span class="op" id="7084091">,</span>&nbsp;<span class="ident" id="7084093">nil</span><span class="op" id="7084096">}</span><span class="op" id="7084097">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084100">{</span><span class="string" id="7084101">`(?s)(?:(?:^).)`</span><span class="op" id="7084117">,</span>&nbsp;<span class="string" id="7084119">&#34;\n&#34;</span><span class="op" id="7084123">,</span>&nbsp;<span class="ident" id="7084125">build</span><span class="op" id="7084130">(</span><span class="num" id="7084131">1</span><span class="op" id="7084132">,</span>&nbsp;<span class="num" id="7084134">0</span><span class="op" id="7084135">,</span>&nbsp;<span class="num" id="7084137">1</span><span class="op" id="7084138">)</span><span class="op" id="7084139">}</span><span class="op" id="7084140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084143">{</span><span class="string" id="7084144">`(?:(?:^).)`</span><span class="op" id="7084156">,</span>&nbsp;<span class="string" id="7084158">&#34;\n&#34;</span><span class="op" id="7084162">,</span>&nbsp;<span class="ident" id="7084164">nil</span><span class="op" id="7084167">}</span><span class="op" id="7084168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084171">{</span><span class="string" id="7084172">`\b`</span><span class="op" id="7084176">,</span>&nbsp;<span class="string" id="7084178">&#34;x&#34;</span><span class="op" id="7084181">,</span>&nbsp;<span class="ident" id="7084183">build</span><span class="op" id="7084188">(</span><span class="num" id="7084189">2</span><span class="op" id="7084190">,</span>&nbsp;<span class="num" id="7084192">0</span><span class="op" id="7084193">,</span>&nbsp;<span class="num" id="7084195">0</span><span class="op" id="7084196">,</span>&nbsp;<span class="num" id="7084198">1</span><span class="op" id="7084199">,</span>&nbsp;<span class="num" id="7084201">1</span><span class="op" id="7084202">)</span><span class="op" id="7084203">}</span><span class="op" id="7084204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084207">{</span><span class="string" id="7084208">`\b`</span><span class="op" id="7084212">,</span>&nbsp;<span class="string" id="7084214">&#34;xx&#34;</span><span class="op" id="7084218">,</span>&nbsp;<span class="ident" id="7084220">build</span><span class="op" id="7084225">(</span><span class="num" id="7084226">2</span><span class="op" id="7084227">,</span>&nbsp;<span class="num" id="7084229">0</span><span class="op" id="7084230">,</span>&nbsp;<span class="num" id="7084232">0</span><span class="op" id="7084233">,</span>&nbsp;<span class="num" id="7084235">2</span><span class="op" id="7084236">,</span>&nbsp;<span class="num" id="7084238">2</span><span class="op" id="7084239">)</span><span class="op" id="7084240">}</span><span class="op" id="7084241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084244">{</span><span class="string" id="7084245">`\b`</span><span class="op" id="7084249">,</span>&nbsp;<span class="string" id="7084251">&#34;x&nbsp;y&#34;</span><span class="op" id="7084256">,</span>&nbsp;<span class="ident" id="7084258">build</span><span class="op" id="7084263">(</span><span class="num" id="7084264">4</span><span class="op" id="7084265">,</span>&nbsp;<span class="num" id="7084267">0</span><span class="op" id="7084268">,</span>&nbsp;<span class="num" id="7084270">0</span><span class="op" id="7084271">,</span>&nbsp;<span class="num" id="7084273">1</span><span class="op" id="7084274">,</span>&nbsp;<span class="num" id="7084276">1</span><span class="op" id="7084277">,</span>&nbsp;<span class="num" id="7084279">2</span><span class="op" id="7084280">,</span>&nbsp;<span class="num" id="7084282">2</span><span class="op" id="7084283">,</span>&nbsp;<span class="num" id="7084285">3</span><span class="op" id="7084286">,</span>&nbsp;<span class="num" id="7084288">3</span><span class="op" id="7084289">)</span><span class="op" id="7084290">}</span><span class="op" id="7084291">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084294">{</span><span class="string" id="7084295">`\b`</span><span class="op" id="7084299">,</span>&nbsp;<span class="string" id="7084301">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7084308">,</span>&nbsp;<span class="ident" id="7084310">build</span><span class="op" id="7084315">(</span><span class="num" id="7084316">4</span><span class="op" id="7084317">,</span>&nbsp;<span class="num" id="7084319">0</span><span class="op" id="7084320">,</span>&nbsp;<span class="num" id="7084322">0</span><span class="op" id="7084323">,</span>&nbsp;<span class="num" id="7084325">2</span><span class="op" id="7084326">,</span>&nbsp;<span class="num" id="7084328">2</span><span class="op" id="7084329">,</span>&nbsp;<span class="num" id="7084331">3</span><span class="op" id="7084332">,</span>&nbsp;<span class="num" id="7084334">3</span><span class="op" id="7084335">,</span>&nbsp;<span class="num" id="7084337">5</span><span class="op" id="7084338">,</span>&nbsp;<span class="num" id="7084340">5</span><span class="op" id="7084341">)</span><span class="op" id="7084342">}</span><span class="op" id="7084343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084346">{</span><span class="string" id="7084347">`\B`</span><span class="op" id="7084351">,</span>&nbsp;<span class="string" id="7084353">&#34;x&#34;</span><span class="op" id="7084356">,</span>&nbsp;<span class="ident" id="7084358">nil</span><span class="op" id="7084361">}</span><span class="op" id="7084362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084365">{</span><span class="string" id="7084366">`\B`</span><span class="op" id="7084370">,</span>&nbsp;<span class="string" id="7084372">&#34;xx&#34;</span><span class="op" id="7084376">,</span>&nbsp;<span class="ident" id="7084378">build</span><span class="op" id="7084383">(</span><span class="num" id="7084384">1</span><span class="op" id="7084385">,</span>&nbsp;<span class="num" id="7084387">1</span><span class="op" id="7084388">,</span>&nbsp;<span class="num" id="7084390">1</span><span class="op" id="7084391">)</span><span class="op" id="7084392">}</span><span class="op" id="7084393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084396">{</span><span class="string" id="7084397">`\B`</span><span class="op" id="7084401">,</span>&nbsp;<span class="string" id="7084403">&#34;x&nbsp;y&#34;</span><span class="op" id="7084408">,</span>&nbsp;<span class="ident" id="7084410">nil</span><span class="op" id="7084413">}</span><span class="op" id="7084414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084417">{</span><span class="string" id="7084418">`\B`</span><span class="op" id="7084422">,</span>&nbsp;<span class="string" id="7084424">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7084431">,</span>&nbsp;<span class="ident" id="7084433">build</span><span class="op" id="7084438">(</span><span class="num" id="7084439">2</span><span class="op" id="7084440">,</span>&nbsp;<span class="num" id="7084442">1</span><span class="op" id="7084443">,</span>&nbsp;<span class="num" id="7084445">1</span><span class="op" id="7084446">,</span>&nbsp;<span class="num" id="7084448">4</span><span class="op" id="7084449">,</span>&nbsp;<span class="num" id="7084451">4</span><span class="op" id="7084452">)</span><span class="op" id="7084453">}</span><span class="op" id="7084454">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7084458">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084472">{</span><span class="string" id="7084473">`[^\S\s]`</span><span class="op" id="7084482">,</span>&nbsp;<span class="string" id="7084484">&#34;abcd&#34;</span><span class="op" id="7084490">,</span>&nbsp;<span class="ident" id="7084492">nil</span><span class="op" id="7084495">}</span><span class="op" id="7084496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084499">{</span><span class="string" id="7084500">`[^\S[:space:]]`</span><span class="op" id="7084516">,</span>&nbsp;<span class="string" id="7084518">&#34;abcd&#34;</span><span class="op" id="7084524">,</span>&nbsp;<span class="ident" id="7084526">nil</span><span class="op" id="7084529">}</span><span class="op" id="7084530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084533">{</span><span class="string" id="7084534">`[^\D\d]`</span><span class="op" id="7084543">,</span>&nbsp;<span class="string" id="7084545">&#34;abcd&#34;</span><span class="op" id="7084551">,</span>&nbsp;<span class="ident" id="7084553">nil</span><span class="op" id="7084556">}</span><span class="op" id="7084557">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084560">{</span><span class="string" id="7084561">`[^\D[:digit:]]`</span><span class="op" id="7084577">,</span>&nbsp;<span class="string" id="7084579">&#34;abcd&#34;</span><span class="op" id="7084585">,</span>&nbsp;<span class="ident" id="7084587">nil</span><span class="op" id="7084590">}</span><span class="op" id="7084591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084594">{</span><span class="string" id="7084595">`(?i)\W`</span><span class="op" id="7084603">,</span>&nbsp;<span class="string" id="7084605">&#34;x&#34;</span><span class="op" id="7084608">,</span>&nbsp;<span class="ident" id="7084610">nil</span><span class="op" id="7084613">}</span><span class="op" id="7084614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084617">{</span><span class="string" id="7084618">`(?i)\W`</span><span class="op" id="7084626">,</span>&nbsp;<span class="string" id="7084628">&#34;k&#34;</span><span class="op" id="7084631">,</span>&nbsp;<span class="ident" id="7084633">nil</span><span class="op" id="7084636">}</span><span class="op" id="7084637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084640">{</span><span class="string" id="7084641">`(?i)\W`</span><span class="op" id="7084649">,</span>&nbsp;<span class="string" id="7084651">&#34;s&#34;</span><span class="op" id="7084654">,</span>&nbsp;<span class="ident" id="7084656">nil</span><span class="op" id="7084659">}</span><span class="op" id="7084660">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7084664">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084705">{</span><span class="string" id="7084706">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="7084770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7084774">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7084807">,</span>&nbsp;<span class="ident" id="7084809">build</span><span class="op" id="7084814">(</span><span class="num" id="7084815">1</span><span class="op" id="7084816">,</span>&nbsp;<span class="num" id="7084818">0</span><span class="op" id="7084819">,</span>&nbsp;<span class="num" id="7084821">31</span><span class="op" id="7084823">)</span><span class="op" id="7084824">}</span><span class="op" id="7084825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084828">{</span><span class="string" id="7084829">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="7084896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7084900">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7084933">,</span>&nbsp;<span class="ident" id="7084935">build</span><span class="op" id="7084940">(</span><span class="num" id="7084941">1</span><span class="op" id="7084942">,</span>&nbsp;<span class="num" id="7084944">0</span><span class="op" id="7084945">,</span>&nbsp;<span class="num" id="7084947">31</span><span class="op" id="7084949">)</span><span class="op" id="7084950">}</span><span class="op" id="7084951">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084954">{</span><span class="string" id="7084955">&#34;\\`&#34;</span><span class="op" id="7084960">,</span>&nbsp;<span class="string" id="7084962">&#34;`&#34;</span><span class="op" id="7084965">,</span>&nbsp;<span class="ident" id="7084967">build</span><span class="op" id="7084972">(</span><span class="num" id="7084973">1</span><span class="op" id="7084974">,</span>&nbsp;<span class="num" id="7084976">0</span><span class="op" id="7084977">,</span>&nbsp;<span class="num" id="7084979">1</span><span class="op" id="7084980">)</span><span class="op" id="7084981">}</span><span class="op" id="7084982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7084985">{</span><span class="string" id="7084986">&#34;[\\`]+&#34;</span><span class="op" id="7084994">,</span>&nbsp;<span class="string" id="7084996">&#34;`&#34;</span><span class="op" id="7084999">,</span>&nbsp;<span class="ident" id="7085001">build</span><span class="op" id="7085006">(</span><span class="num" id="7085007">1</span><span class="op" id="7085008">,</span>&nbsp;<span class="num" id="7085010">0</span><span class="op" id="7085011">,</span>&nbsp;<span class="num" id="7085013">1</span><span class="op" id="7085014">)</span><span class="op" id="7085015">}</span><span class="op" id="7085016">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7085020">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085068">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7085072">&#34;.&#34;</span><span class="op" id="7085075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7085079">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="7085117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085121">build</span><span class="op" id="7085126">(</span><span class="num" id="7085127">36</span><span class="op" id="7085129">,</span>&nbsp;<span class="num" id="7085131">0</span><span class="op" id="7085132">,</span>&nbsp;<span class="num" id="7085134">1</span><span class="op" id="7085135">,</span>&nbsp;<span class="num" id="7085137">1</span><span class="op" id="7085138">,</span>&nbsp;<span class="num" id="7085140">2</span><span class="op" id="7085141">,</span>&nbsp;<span class="num" id="7085143">2</span><span class="op" id="7085144">,</span>&nbsp;<span class="num" id="7085146">3</span><span class="op" id="7085147">,</span>&nbsp;<span class="num" id="7085149">3</span><span class="op" id="7085150">,</span>&nbsp;<span class="num" id="7085152">4</span><span class="op" id="7085153">,</span>&nbsp;<span class="num" id="7085155">4</span><span class="op" id="7085156">,</span>&nbsp;<span class="num" id="7085158">5</span><span class="op" id="7085159">,</span>&nbsp;<span class="num" id="7085161">5</span><span class="op" id="7085162">,</span>&nbsp;<span class="num" id="7085164">6</span><span class="op" id="7085165">,</span>&nbsp;<span class="num" id="7085167">6</span><span class="op" id="7085168">,</span>&nbsp;<span class="num" id="7085170">7</span><span class="op" id="7085171">,</span>&nbsp;<span class="num" id="7085173">7</span><span class="op" id="7085174">,</span>&nbsp;<span class="num" id="7085176">8</span><span class="op" id="7085177">,</span>&nbsp;<span class="num" id="7085179">8</span><span class="op" id="7085180">,</span>&nbsp;<span class="num" id="7085182">9</span><span class="op" id="7085183">,</span>&nbsp;<span class="num" id="7085185">9</span><span class="op" id="7085186">,</span>&nbsp;<span class="num" id="7085188">10</span><span class="op" id="7085190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7085195">10</span><span class="op" id="7085197">,</span>&nbsp;<span class="num" id="7085199">11</span><span class="op" id="7085201">,</span>&nbsp;<span class="num" id="7085203">11</span><span class="op" id="7085205">,</span>&nbsp;<span class="num" id="7085207">12</span><span class="op" id="7085209">,</span>&nbsp;<span class="num" id="7085211">12</span><span class="op" id="7085213">,</span>&nbsp;<span class="num" id="7085215">13</span><span class="op" id="7085217">,</span>&nbsp;<span class="num" id="7085219">13</span><span class="op" id="7085221">,</span>&nbsp;<span class="num" id="7085223">14</span><span class="op" id="7085225">,</span>&nbsp;<span class="num" id="7085227">14</span><span class="op" id="7085229">,</span>&nbsp;<span class="num" id="7085231">15</span><span class="op" id="7085233">,</span>&nbsp;<span class="num" id="7085235">15</span><span class="op" id="7085237">,</span>&nbsp;<span class="num" id="7085239">16</span><span class="op" id="7085241">,</span>&nbsp;<span class="num" id="7085243">16</span><span class="op" id="7085245">,</span>&nbsp;<span class="num" id="7085247">17</span><span class="op" id="7085249">,</span>&nbsp;<span class="num" id="7085251">17</span><span class="op" id="7085253">,</span>&nbsp;<span class="num" id="7085255">18</span><span class="op" id="7085257">,</span>&nbsp;<span class="num" id="7085259">18</span><span class="op" id="7085261">,</span>&nbsp;<span class="num" id="7085263">19</span><span class="op" id="7085265">,</span>&nbsp;<span class="num" id="7085267">19</span><span class="op" id="7085269">,</span>&nbsp;<span class="num" id="7085271">20</span><span class="op" id="7085273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7085278">20</span><span class="op" id="7085280">,</span>&nbsp;<span class="num" id="7085282">21</span><span class="op" id="7085284">,</span>&nbsp;<span class="num" id="7085286">21</span><span class="op" id="7085288">,</span>&nbsp;<span class="num" id="7085290">22</span><span class="op" id="7085292">,</span>&nbsp;<span class="num" id="7085294">22</span><span class="op" id="7085296">,</span>&nbsp;<span class="num" id="7085298">23</span><span class="op" id="7085300">,</span>&nbsp;<span class="num" id="7085302">23</span><span class="op" id="7085304">,</span>&nbsp;<span class="num" id="7085306">24</span><span class="op" id="7085308">,</span>&nbsp;<span class="num" id="7085310">24</span><span class="op" id="7085312">,</span>&nbsp;<span class="num" id="7085314">25</span><span class="op" id="7085316">,</span>&nbsp;<span class="num" id="7085318">25</span><span class="op" id="7085320">,</span>&nbsp;<span class="num" id="7085322">26</span><span class="op" id="7085324">,</span>&nbsp;<span class="num" id="7085326">26</span><span class="op" id="7085328">,</span>&nbsp;<span class="num" id="7085330">27</span><span class="op" id="7085332">,</span>&nbsp;<span class="num" id="7085334">27</span><span class="op" id="7085336">,</span>&nbsp;<span class="num" id="7085338">28</span><span class="op" id="7085340">,</span>&nbsp;<span class="num" id="7085342">28</span><span class="op" id="7085344">,</span>&nbsp;<span class="num" id="7085346">29</span><span class="op" id="7085348">,</span>&nbsp;<span class="num" id="7085350">29</span><span class="op" id="7085352">,</span>&nbsp;<span class="num" id="7085354">30</span><span class="op" id="7085356">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7085361">30</span><span class="op" id="7085363">,</span>&nbsp;<span class="num" id="7085365">31</span><span class="op" id="7085367">,</span>&nbsp;<span class="num" id="7085369">31</span><span class="op" id="7085371">,</span>&nbsp;<span class="num" id="7085373">32</span><span class="op" id="7085375">,</span>&nbsp;<span class="num" id="7085377">32</span><span class="op" id="7085379">,</span>&nbsp;<span class="num" id="7085381">33</span><span class="op" id="7085383">,</span>&nbsp;<span class="num" id="7085385">33</span><span class="op" id="7085387">,</span>&nbsp;<span class="num" id="7085389">34</span><span class="op" id="7085391">,</span>&nbsp;<span class="num" id="7085393">34</span><span class="op" id="7085395">,</span>&nbsp;<span class="num" id="7085397">35</span><span class="op" id="7085399">,</span>&nbsp;<span class="num" id="7085401">35</span><span class="op" id="7085403">,</span>&nbsp;<span class="num" id="7085405">36</span><span class="op" id="7085407">)</span><span class="op" id="7085408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085411">}</span><span class="op" id="7085412">,</span><br>
<span class="lineno"></span><span class="op" id="7085414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7085417">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="7085495">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="7085555">func</span>&nbsp;<span class="ident" id="7085560">build</span><span class="op" id="7085565">(</span><span class="ident" id="7085566">n</span>&nbsp;<span class="builtintype" id="7085568">int</span><span class="op" id="7085571">,</span>&nbsp;<span class="ident" id="7085573">x</span>&nbsp;<span class="op" id="7085575">...</span><span class="builtintype" id="7085578">int</span><span class="op" id="7085581">)</span>&nbsp;<span class="op" id="7085583">[</span><span class="op" id="7085584">]</span><span class="op" id="7085585">[</span><span class="op" id="7085586">]</span><span class="builtintype" id="7085587">int</span>&nbsp;<span class="op" id="7085591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085594">ret</span>&nbsp;<span class="op" id="7085598">:=</span>&nbsp;<span class="builtinfunc" id="7085601">make</span><span class="op" id="7085605">(</span><span class="op" id="7085606">[</span><span class="op" id="7085607">]</span><span class="op" id="7085608">[</span><span class="op" id="7085609">]</span><span class="builtintype" id="7085610">int</span><span class="op" id="7085613">,</span>&nbsp;<span class="ident" id="7085615">n</span><span class="op" id="7085616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085619">runLength</span>&nbsp;<span class="op" id="7085629">:=</span>&nbsp;<span class="builtinfunc" id="7085632">len</span><span class="op" id="7085635">(</span><span class="ident" id="7085636">x</span><span class="op" id="7085637">)</span>&nbsp;<span class="op" id="7085639">/</span>&nbsp;<span class="ident" id="7085641">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085644">j</span>&nbsp;<span class="op" id="7085646">:=</span>&nbsp;<span class="num" id="7085649">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085652">for</span>&nbsp;<span class="ident" id="7085656">i</span>&nbsp;<span class="op" id="7085658">:=</span>&nbsp;<span class="keyword" id="7085661">range</span>&nbsp;<span class="ident" id="7085667">ret</span>&nbsp;<span class="op" id="7085671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085675">ret</span><span class="op" id="7085678">[</span><span class="ident" id="7085679">i</span><span class="op" id="7085680">]</span>&nbsp;<span class="op" id="7085682">=</span>&nbsp;<span class="builtinfunc" id="7085684">make</span><span class="op" id="7085688">(</span><span class="op" id="7085689">[</span><span class="op" id="7085690">]</span><span class="builtintype" id="7085691">int</span><span class="op" id="7085694">,</span>&nbsp;<span class="ident" id="7085696">runLength</span><span class="op" id="7085705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7085709">copy</span><span class="op" id="7085713">(</span><span class="ident" id="7085714">ret</span><span class="op" id="7085717">[</span><span class="ident" id="7085718">i</span><span class="op" id="7085719">]</span><span class="op" id="7085720">,</span>&nbsp;<span class="ident" id="7085722">x</span><span class="op" id="7085723">[</span><span class="ident" id="7085724">j</span><span class="op" id="7085725">:</span><span class="op" id="7085726">]</span><span class="op" id="7085727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085731">j</span>&nbsp;<span class="op" id="7085733">+=</span>&nbsp;<span class="ident" id="7085736">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085748">if</span>&nbsp;<span class="ident" id="7085751">j</span>&nbsp;<span class="op" id="7085753">&gt;</span>&nbsp;<span class="builtinfunc" id="7085755">len</span><span class="op" id="7085758">(</span><span class="ident" id="7085759">x</span><span class="op" id="7085760">)</span>&nbsp;<span class="op" id="7085762">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7085767">panic</span><span class="op" id="7085772">(</span><span class="string" id="7085773">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="7085794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7085801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085804">return</span>&nbsp;<span class="ident" id="7085811">ret</span><br>
<span class="lineno"></span><span class="op" id="7085815">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="7085818">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7085846">func</span>&nbsp;<span class="ident" id="7085851">TestFind</span><span class="op" id="7085859">(</span><span class="ident" id="7085860">t</span>&nbsp;<span class="op" id="7085862">*</span><span class="ident" id="7085863">testing</span><span class="op" id="7085870">.</span><span class="ident" id="7085871">T</span><span class="op" id="7085872">)</span>&nbsp;<span class="op" id="7085874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085877">for</span>&nbsp;<span class="ident" id="7085881">_</span><span class="op" id="7085882">,</span>&nbsp;<span class="ident" id="7085884">test</span>&nbsp;<span class="op" id="7085889">:=</span>&nbsp;<span class="keyword" id="7085892">range</span>&nbsp;<span class="ident" id="7085898">findTests</span>&nbsp;<span class="op" id="7085908">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085912">re</span>&nbsp;<span class="op" id="7085915">:=</span>&nbsp;<span class="ident" id="7085918">MustCompile</span><span class="op" id="7085929">(</span><span class="ident" id="7085930">test</span><span class="op" id="7085934">.</span><span class="ident" id="7085935">pat</span><span class="op" id="7085938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7085942">if</span>&nbsp;<span class="ident" id="7085945">re</span><span class="op" id="7085947">.</span><span class="ident" id="7085948">String</span><span class="op" id="7085954">(</span><span class="op" id="7085955">)</span>&nbsp;<span class="op" id="7085957">!=</span>&nbsp;<span class="ident" id="7085960">test</span><span class="op" id="7085964">.</span><span class="ident" id="7085965">pat</span>&nbsp;<span class="op" id="7085969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7085974">t</span><span class="op" id="7085975">.</span><span class="ident" id="7085976">Errorf</span><span class="op" id="7085982">(</span><span class="string" id="7085983">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="7086016">,</span>&nbsp;<span class="ident" id="7086018">re</span><span class="op" id="7086020">.</span><span class="ident" id="7086021">String</span><span class="op" id="7086027">(</span><span class="op" id="7086028">)</span><span class="op" id="7086029">,</span>&nbsp;<span class="ident" id="7086031">test</span><span class="op" id="7086035">.</span><span class="ident" id="7086036">pat</span><span class="op" id="7086039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086047">result</span>&nbsp;<span class="op" id="7086054">:=</span>&nbsp;<span class="ident" id="7086057">re</span><span class="op" id="7086059">.</span><span class="ident" id="7086060">Find</span><span class="op" id="7086064">(</span><span class="op" id="7086065">[</span><span class="op" id="7086066">]</span><span class="builtintype" id="7086067">byte</span><span class="op" id="7086071">(</span><span class="ident" id="7086072">test</span><span class="op" id="7086076">.</span><span class="ident" id="7086077">text</span><span class="op" id="7086081">)</span><span class="op" id="7086082">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086086">switch</span>&nbsp;<span class="op" id="7086093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086097">case</span>&nbsp;<span class="builtinfunc" id="7086102">len</span><span class="op" id="7086105">(</span><span class="ident" id="7086106">test</span><span class="op" id="7086110">.</span><span class="ident" id="7086111">matches</span><span class="op" id="7086118">)</span>&nbsp;<span class="op" id="7086120">==</span>&nbsp;<span class="num" id="7086123">0</span>&nbsp;<span class="op" id="7086125">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7086128">len</span><span class="op" id="7086131">(</span><span class="ident" id="7086132">result</span><span class="op" id="7086138">)</span>&nbsp;<span class="op" id="7086140">==</span>&nbsp;<span class="num" id="7086143">0</span><span class="op" id="7086144">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7086149">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086157">case</span>&nbsp;<span class="ident" id="7086162">test</span><span class="op" id="7086166">.</span><span class="ident" id="7086167">matches</span>&nbsp;<span class="op" id="7086175">==</span>&nbsp;<span class="ident" id="7086178">nil</span>&nbsp;<span class="op" id="7086182">&amp;&amp;</span>&nbsp;<span class="ident" id="7086185">result</span>&nbsp;<span class="op" id="7086192">!=</span>&nbsp;<span class="ident" id="7086195">nil</span><span class="op" id="7086198">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086203">t</span><span class="op" id="7086204">.</span><span class="ident" id="7086205">Errorf</span><span class="op" id="7086211">(</span><span class="string" id="7086212">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7086244">,</span>&nbsp;<span class="ident" id="7086246">test</span><span class="op" id="7086250">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086254">case</span>&nbsp;<span class="ident" id="7086259">test</span><span class="op" id="7086263">.</span><span class="ident" id="7086264">matches</span>&nbsp;<span class="op" id="7086272">!=</span>&nbsp;<span class="ident" id="7086275">nil</span>&nbsp;<span class="op" id="7086279">&amp;&amp;</span>&nbsp;<span class="ident" id="7086282">result</span>&nbsp;<span class="op" id="7086289">==</span>&nbsp;<span class="ident" id="7086292">nil</span><span class="op" id="7086295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086300">t</span><span class="op" id="7086301">.</span><span class="ident" id="7086302">Errorf</span><span class="op" id="7086308">(</span><span class="string" id="7086309">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7086339">,</span>&nbsp;<span class="ident" id="7086341">test</span><span class="op" id="7086345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086349">case</span>&nbsp;<span class="ident" id="7086354">test</span><span class="op" id="7086358">.</span><span class="ident" id="7086359">matches</span>&nbsp;<span class="op" id="7086367">!=</span>&nbsp;<span class="ident" id="7086370">nil</span>&nbsp;<span class="op" id="7086374">&amp;&amp;</span>&nbsp;<span class="ident" id="7086377">result</span>&nbsp;<span class="op" id="7086384">!=</span>&nbsp;<span class="ident" id="7086387">nil</span><span class="op" id="7086390">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086395">expect</span>&nbsp;<span class="op" id="7086402">:=</span>&nbsp;<span class="ident" id="7086405">test</span><span class="op" id="7086409">.</span><span class="ident" id="7086410">text</span><span class="op" id="7086414">[</span><span class="ident" id="7086415">test</span><span class="op" id="7086419">.</span><span class="ident" id="7086420">matches</span><span class="op" id="7086427">[</span><span class="num" id="7086428">0</span><span class="op" id="7086429">]</span><span class="op" id="7086430">[</span><span class="num" id="7086431">0</span><span class="op" id="7086432">]</span><span class="op" id="7086433">:</span><span class="ident" id="7086434">test</span><span class="op" id="7086438">.</span><span class="ident" id="7086439">matches</span><span class="op" id="7086446">[</span><span class="num" id="7086447">0</span><span class="op" id="7086448">]</span><span class="op" id="7086449">[</span><span class="num" id="7086450">1</span><span class="op" id="7086451">]</span><span class="op" id="7086452">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086457">if</span>&nbsp;<span class="ident" id="7086460">expect</span>&nbsp;<span class="op" id="7086467">!=</span>&nbsp;<span class="builtintype" id="7086470">string</span><span class="op" id="7086476">(</span><span class="ident" id="7086477">result</span><span class="op" id="7086483">)</span>&nbsp;<span class="op" id="7086485">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086491">t</span><span class="op" id="7086492">.</span><span class="ident" id="7086493">Errorf</span><span class="op" id="7086499">(</span><span class="string" id="7086500">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7086524">,</span>&nbsp;<span class="ident" id="7086526">expect</span><span class="op" id="7086532">,</span>&nbsp;<span class="ident" id="7086534">result</span><span class="op" id="7086540">,</span>&nbsp;<span class="ident" id="7086542">test</span><span class="op" id="7086546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7086558">}</span><br>
<span class="lineno"></span><span class="op" id="7086560">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="7086563">func</span>&nbsp;<span class="ident" id="7086568">TestFindString</span><span class="op" id="7086582">(</span><span class="ident" id="7086583">t</span>&nbsp;<span class="op" id="7086585">*</span><span class="ident" id="7086586">testing</span><span class="op" id="7086593">.</span><span class="ident" id="7086594">T</span><span class="op" id="7086595">)</span>&nbsp;<span class="op" id="7086597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086600">for</span>&nbsp;<span class="ident" id="7086604">_</span><span class="op" id="7086605">,</span>&nbsp;<span class="ident" id="7086607">test</span>&nbsp;<span class="op" id="7086612">:=</span>&nbsp;<span class="keyword" id="7086615">range</span>&nbsp;<span class="ident" id="7086621">findTests</span>&nbsp;<span class="op" id="7086631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086635">result</span>&nbsp;<span class="op" id="7086642">:=</span>&nbsp;<span class="ident" id="7086645">MustCompile</span><span class="op" id="7086656">(</span><span class="ident" id="7086657">test</span><span class="op" id="7086661">.</span><span class="ident" id="7086662">pat</span><span class="op" id="7086665">)</span><span class="op" id="7086666">.</span><span class="ident" id="7086667">FindString</span><span class="op" id="7086677">(</span><span class="ident" id="7086678">test</span><span class="op" id="7086682">.</span><span class="ident" id="7086683">text</span><span class="op" id="7086687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086691">switch</span>&nbsp;<span class="op" id="7086698">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086702">case</span>&nbsp;<span class="builtinfunc" id="7086707">len</span><span class="op" id="7086710">(</span><span class="ident" id="7086711">test</span><span class="op" id="7086715">.</span><span class="ident" id="7086716">matches</span><span class="op" id="7086723">)</span>&nbsp;<span class="op" id="7086725">==</span>&nbsp;<span class="num" id="7086728">0</span>&nbsp;<span class="op" id="7086730">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7086733">len</span><span class="op" id="7086736">(</span><span class="ident" id="7086737">result</span><span class="op" id="7086743">)</span>&nbsp;<span class="op" id="7086745">==</span>&nbsp;<span class="num" id="7086748">0</span><span class="op" id="7086749">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7086754">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086762">case</span>&nbsp;<span class="ident" id="7086767">test</span><span class="op" id="7086771">.</span><span class="ident" id="7086772">matches</span>&nbsp;<span class="op" id="7086780">==</span>&nbsp;<span class="ident" id="7086783">nil</span>&nbsp;<span class="op" id="7086787">&amp;&amp;</span>&nbsp;<span class="ident" id="7086790">result</span>&nbsp;<span class="op" id="7086797">!=</span>&nbsp;<span class="string" id="7086800">&#34;&#34;</span><span class="op" id="7086802">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7086807">t</span><span class="op" id="7086808">.</span><span class="ident" id="7086809">Errorf</span><span class="op" id="7086815">(</span><span class="string" id="7086816">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7086848">,</span>&nbsp;<span class="ident" id="7086850">test</span><span class="op" id="7086854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086858">case</span>&nbsp;<span class="ident" id="7086863">test</span><span class="op" id="7086867">.</span><span class="ident" id="7086868">matches</span>&nbsp;<span class="op" id="7086876">!=</span>&nbsp;<span class="ident" id="7086879">nil</span>&nbsp;<span class="op" id="7086883">&amp;&amp;</span>&nbsp;<span class="ident" id="7086886">result</span>&nbsp;<span class="op" id="7086893">==</span>&nbsp;<span class="string" id="7086896">&#34;&#34;</span><span class="op" id="7086898">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7086903">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7086983">if</span>&nbsp;<span class="ident" id="7086986">test</span><span class="op" id="7086990">.</span><span class="ident" id="7086991">matches</span><span class="op" id="7086998">[</span><span class="num" id="7086999">0</span><span class="op" id="7087000">]</span><span class="op" id="7087001">[</span><span class="num" id="7087002">0</span><span class="op" id="7087003">]</span>&nbsp;<span class="op" id="7087005">!=</span>&nbsp;<span class="ident" id="7087008">test</span><span class="op" id="7087012">.</span><span class="ident" id="7087013">matches</span><span class="op" id="7087020">[</span><span class="num" id="7087021">0</span><span class="op" id="7087022">]</span><span class="op" id="7087023">[</span><span class="num" id="7087024">1</span><span class="op" id="7087025">]</span>&nbsp;<span class="op" id="7087027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087033">t</span><span class="op" id="7087034">.</span><span class="ident" id="7087035">Errorf</span><span class="op" id="7087041">(</span><span class="string" id="7087042">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7087072">,</span>&nbsp;<span class="ident" id="7087074">test</span><span class="op" id="7087078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087087">case</span>&nbsp;<span class="ident" id="7087092">test</span><span class="op" id="7087096">.</span><span class="ident" id="7087097">matches</span>&nbsp;<span class="op" id="7087105">!=</span>&nbsp;<span class="ident" id="7087108">nil</span>&nbsp;<span class="op" id="7087112">&amp;&amp;</span>&nbsp;<span class="ident" id="7087115">result</span>&nbsp;<span class="op" id="7087122">!=</span>&nbsp;<span class="string" id="7087125">&#34;&#34;</span><span class="op" id="7087127">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087132">expect</span>&nbsp;<span class="op" id="7087139">:=</span>&nbsp;<span class="ident" id="7087142">test</span><span class="op" id="7087146">.</span><span class="ident" id="7087147">text</span><span class="op" id="7087151">[</span><span class="ident" id="7087152">test</span><span class="op" id="7087156">.</span><span class="ident" id="7087157">matches</span><span class="op" id="7087164">[</span><span class="num" id="7087165">0</span><span class="op" id="7087166">]</span><span class="op" id="7087167">[</span><span class="num" id="7087168">0</span><span class="op" id="7087169">]</span><span class="op" id="7087170">:</span><span class="ident" id="7087171">test</span><span class="op" id="7087175">.</span><span class="ident" id="7087176">matches</span><span class="op" id="7087183">[</span><span class="num" id="7087184">0</span><span class="op" id="7087185">]</span><span class="op" id="7087186">[</span><span class="num" id="7087187">1</span><span class="op" id="7087188">]</span><span class="op" id="7087189">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087194">if</span>&nbsp;<span class="ident" id="7087197">expect</span>&nbsp;<span class="op" id="7087204">!=</span>&nbsp;<span class="ident" id="7087207">result</span>&nbsp;<span class="op" id="7087214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087220">t</span><span class="op" id="7087221">.</span><span class="ident" id="7087222">Errorf</span><span class="op" id="7087228">(</span><span class="string" id="7087229">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7087253">,</span>&nbsp;<span class="ident" id="7087255">expect</span><span class="op" id="7087261">,</span>&nbsp;<span class="ident" id="7087263">result</span><span class="op" id="7087269">,</span>&nbsp;<span class="ident" id="7087271">test</span><span class="op" id="7087275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087284">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087287">}</span><br>
<span class="lineno"></span><span class="op" id="7087289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7087292">func</span>&nbsp;<span class="ident" id="7087297">testFindIndex</span><span class="op" id="7087310">(</span><span class="ident" id="7087311">test</span>&nbsp;<span class="op" id="7087316">*</span><span class="ident" id="7087317">FindTest</span><span class="op" id="7087325">,</span>&nbsp;<span class="ident" id="7087327">result</span>&nbsp;<span class="op" id="7087334">[</span><span class="op" id="7087335">]</span><span class="builtintype" id="7087336">int</span><span class="op" id="7087339">,</span>&nbsp;<span class="ident" id="7087341">t</span>&nbsp;<span class="op" id="7087343">*</span><span class="ident" id="7087344">testing</span><span class="op" id="7087351">.</span><span class="ident" id="7087352">T</span><span class="op" id="7087353">)</span>&nbsp;<span class="op" id="7087355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087358">switch</span>&nbsp;<span class="op" id="7087365">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087368">case</span>&nbsp;<span class="builtinfunc" id="7087373">len</span><span class="op" id="7087376">(</span><span class="ident" id="7087377">test</span><span class="op" id="7087381">.</span><span class="ident" id="7087382">matches</span><span class="op" id="7087389">)</span>&nbsp;<span class="op" id="7087391">==</span>&nbsp;<span class="num" id="7087394">0</span>&nbsp;<span class="op" id="7087396">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7087399">len</span><span class="op" id="7087402">(</span><span class="ident" id="7087403">result</span><span class="op" id="7087409">)</span>&nbsp;<span class="op" id="7087411">==</span>&nbsp;<span class="num" id="7087414">0</span><span class="op" id="7087415">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7087419">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087426">case</span>&nbsp;<span class="ident" id="7087431">test</span><span class="op" id="7087435">.</span><span class="ident" id="7087436">matches</span>&nbsp;<span class="op" id="7087444">==</span>&nbsp;<span class="ident" id="7087447">nil</span>&nbsp;<span class="op" id="7087451">&amp;&amp;</span>&nbsp;<span class="ident" id="7087454">result</span>&nbsp;<span class="op" id="7087461">!=</span>&nbsp;<span class="ident" id="7087464">nil</span><span class="op" id="7087467">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087471">t</span><span class="op" id="7087472">.</span><span class="ident" id="7087473">Errorf</span><span class="op" id="7087479">(</span><span class="string" id="7087480">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7087512">,</span>&nbsp;<span class="ident" id="7087514">test</span><span class="op" id="7087518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087521">case</span>&nbsp;<span class="ident" id="7087526">test</span><span class="op" id="7087530">.</span><span class="ident" id="7087531">matches</span>&nbsp;<span class="op" id="7087539">!=</span>&nbsp;<span class="ident" id="7087542">nil</span>&nbsp;<span class="op" id="7087546">&amp;&amp;</span>&nbsp;<span class="ident" id="7087549">result</span>&nbsp;<span class="op" id="7087556">==</span>&nbsp;<span class="ident" id="7087559">nil</span><span class="op" id="7087562">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087566">t</span><span class="op" id="7087567">.</span><span class="ident" id="7087568">Errorf</span><span class="op" id="7087574">(</span><span class="string" id="7087575">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7087605">,</span>&nbsp;<span class="ident" id="7087607">test</span><span class="op" id="7087611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087614">case</span>&nbsp;<span class="ident" id="7087619">test</span><span class="op" id="7087623">.</span><span class="ident" id="7087624">matches</span>&nbsp;<span class="op" id="7087632">!=</span>&nbsp;<span class="ident" id="7087635">nil</span>&nbsp;<span class="op" id="7087639">&amp;&amp;</span>&nbsp;<span class="ident" id="7087642">result</span>&nbsp;<span class="op" id="7087649">!=</span>&nbsp;<span class="ident" id="7087652">nil</span><span class="op" id="7087655">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087659">expect</span>&nbsp;<span class="op" id="7087666">:=</span>&nbsp;<span class="ident" id="7087669">test</span><span class="op" id="7087673">.</span><span class="ident" id="7087674">matches</span><span class="op" id="7087681">[</span><span class="num" id="7087682">0</span><span class="op" id="7087683">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087687">if</span>&nbsp;<span class="ident" id="7087690">expect</span><span class="op" id="7087696">[</span><span class="num" id="7087697">0</span><span class="op" id="7087698">]</span>&nbsp;<span class="op" id="7087700">!=</span>&nbsp;<span class="ident" id="7087703">result</span><span class="op" id="7087709">[</span><span class="num" id="7087710">0</span><span class="op" id="7087711">]</span>&nbsp;<span class="op" id="7087713">||</span>&nbsp;<span class="ident" id="7087716">expect</span><span class="op" id="7087722">[</span><span class="num" id="7087723">1</span><span class="op" id="7087724">]</span>&nbsp;<span class="op" id="7087726">!=</span>&nbsp;<span class="ident" id="7087729">result</span><span class="op" id="7087735">[</span><span class="num" id="7087736">1</span><span class="op" id="7087737">]</span>&nbsp;<span class="op" id="7087739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087744">t</span><span class="op" id="7087745">.</span><span class="ident" id="7087746">Errorf</span><span class="op" id="7087752">(</span><span class="string" id="7087753">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7087777">,</span>&nbsp;<span class="ident" id="7087779">expect</span><span class="op" id="7087785">,</span>&nbsp;<span class="ident" id="7087787">result</span><span class="op" id="7087793">,</span>&nbsp;<span class="ident" id="7087795">test</span><span class="op" id="7087799">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087806">}</span><br>
<span class="lineno"></span><span class="op" id="7087808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7087811">func</span>&nbsp;<span class="ident" id="7087816">TestFindIndex</span><span class="op" id="7087829">(</span><span class="ident" id="7087830">t</span>&nbsp;<span class="op" id="7087832">*</span><span class="ident" id="7087833">testing</span><span class="op" id="7087840">.</span><span class="ident" id="7087841">T</span><span class="op" id="7087842">)</span>&nbsp;<span class="op" id="7087844">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7087847">for</span>&nbsp;<span class="ident" id="7087851">_</span><span class="op" id="7087852">,</span>&nbsp;<span class="ident" id="7087854">test</span>&nbsp;<span class="op" id="7087859">:=</span>&nbsp;<span class="keyword" id="7087862">range</span>&nbsp;<span class="ident" id="7087868">findTests</span>&nbsp;<span class="op" id="7087878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7087882">testFindIndex</span><span class="op" id="7087895">(</span><span class="op" id="7087896">&amp;</span><span class="ident" id="7087897">test</span><span class="op" id="7087901">,</span>&nbsp;<span class="ident" id="7087903">MustCompile</span><span class="op" id="7087914">(</span><span class="ident" id="7087915">test</span><span class="op" id="7087919">.</span><span class="ident" id="7087920">pat</span><span class="op" id="7087923">)</span><span class="op" id="7087924">.</span><span class="ident" id="7087925">FindIndex</span><span class="op" id="7087934">(</span><span class="op" id="7087935">[</span><span class="op" id="7087936">]</span><span class="builtintype" id="7087937">byte</span><span class="op" id="7087941">(</span><span class="ident" id="7087942">test</span><span class="op" id="7087946">.</span><span class="ident" id="7087947">text</span><span class="op" id="7087951">)</span><span class="op" id="7087952">)</span><span class="op" id="7087953">,</span>&nbsp;<span class="ident" id="7087955">t</span><span class="op" id="7087956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7087959">}</span><br>
<span class="lineno"></span><span class="op" id="7087961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7087964">func</span>&nbsp;<span class="ident" id="7087969">TestFindStringIndex</span><span class="op" id="7087988">(</span><span class="ident" id="7087989">t</span>&nbsp;<span class="op" id="7087991">*</span><span class="ident" id="7087992">testing</span><span class="op" id="7087999">.</span><span class="ident" id="7088000">T</span><span class="op" id="7088001">)</span>&nbsp;<span class="op" id="7088003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088006">for</span>&nbsp;<span class="ident" id="7088010">_</span><span class="op" id="7088011">,</span>&nbsp;<span class="ident" id="7088013">test</span>&nbsp;<span class="op" id="7088018">:=</span>&nbsp;<span class="keyword" id="7088021">range</span>&nbsp;<span class="ident" id="7088027">findTests</span>&nbsp;<span class="op" id="7088037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088041">testFindIndex</span><span class="op" id="7088054">(</span><span class="op" id="7088055">&amp;</span><span class="ident" id="7088056">test</span><span class="op" id="7088060">,</span>&nbsp;<span class="ident" id="7088062">MustCompile</span><span class="op" id="7088073">(</span><span class="ident" id="7088074">test</span><span class="op" id="7088078">.</span><span class="ident" id="7088079">pat</span><span class="op" id="7088082">)</span><span class="op" id="7088083">.</span><span class="ident" id="7088084">FindStringIndex</span><span class="op" id="7088099">(</span><span class="ident" id="7088100">test</span><span class="op" id="7088104">.</span><span class="ident" id="7088105">text</span><span class="op" id="7088109">)</span><span class="op" id="7088110">,</span>&nbsp;<span class="ident" id="7088112">t</span><span class="op" id="7088113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7088116">}</span><br>
<span class="lineno"></span><span class="op" id="7088118">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="7088121">func</span>&nbsp;<span class="ident" id="7088126">TestFindReaderIndex</span><span class="op" id="7088145">(</span><span class="ident" id="7088146">t</span>&nbsp;<span class="op" id="7088148">*</span><span class="ident" id="7088149">testing</span><span class="op" id="7088156">.</span><span class="ident" id="7088157">T</span><span class="op" id="7088158">)</span>&nbsp;<span class="op" id="7088160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088163">for</span>&nbsp;<span class="ident" id="7088167">_</span><span class="op" id="7088168">,</span>&nbsp;<span class="ident" id="7088170">test</span>&nbsp;<span class="op" id="7088175">:=</span>&nbsp;<span class="keyword" id="7088178">range</span>&nbsp;<span class="ident" id="7088184">findTests</span>&nbsp;<span class="op" id="7088194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088198">testFindIndex</span><span class="op" id="7088211">(</span><span class="op" id="7088212">&amp;</span><span class="ident" id="7088213">test</span><span class="op" id="7088217">,</span>&nbsp;<span class="ident" id="7088219">MustCompile</span><span class="op" id="7088230">(</span><span class="ident" id="7088231">test</span><span class="op" id="7088235">.</span><span class="ident" id="7088236">pat</span><span class="op" id="7088239">)</span><span class="op" id="7088240">.</span><span class="ident" id="7088241">FindReaderIndex</span><span class="op" id="7088256">(</span><span class="ident" id="7088257">strings</span><span class="op" id="7088264">.</span><span class="ident" id="7088265">NewReader</span><span class="op" id="7088274">(</span><span class="ident" id="7088275">test</span><span class="op" id="7088279">.</span><span class="ident" id="7088280">text</span><span class="op" id="7088284">)</span><span class="op" id="7088285">)</span><span class="op" id="7088286">,</span>&nbsp;<span class="ident" id="7088288">t</span><span class="op" id="7088289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7088292">}</span><br>
<span class="lineno">225</span><span class="op" id="7088294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7088297">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7088332">func</span>&nbsp;<span class="ident" id="7088337">TestFindAll</span><span class="op" id="7088348">(</span><span class="ident" id="7088349">t</span>&nbsp;<span class="op" id="7088351">*</span><span class="ident" id="7088352">testing</span><span class="op" id="7088359">.</span><span class="ident" id="7088360">T</span><span class="op" id="7088361">)</span>&nbsp;<span class="op" id="7088363">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088366">for</span>&nbsp;<span class="ident" id="7088370">_</span><span class="op" id="7088371">,</span>&nbsp;<span class="ident" id="7088373">test</span>&nbsp;<span class="op" id="7088378">:=</span>&nbsp;<span class="keyword" id="7088381">range</span>&nbsp;<span class="ident" id="7088387">findTests</span>&nbsp;<span class="op" id="7088397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088401">result</span>&nbsp;<span class="op" id="7088408">:=</span>&nbsp;<span class="ident" id="7088411">MustCompile</span><span class="op" id="7088422">(</span><span class="ident" id="7088423">test</span><span class="op" id="7088427">.</span><span class="ident" id="7088428">pat</span><span class="op" id="7088431">)</span><span class="op" id="7088432">.</span><span class="ident" id="7088433">FindAll</span><span class="op" id="7088440">(</span><span class="op" id="7088441">[</span><span class="op" id="7088442">]</span><span class="builtintype" id="7088443">byte</span><span class="op" id="7088447">(</span><span class="ident" id="7088448">test</span><span class="op" id="7088452">.</span><span class="ident" id="7088453">text</span><span class="op" id="7088457">)</span><span class="op" id="7088458">,</span>&nbsp;<span class="op" id="7088460">-</span><span class="num" id="7088461">1</span><span class="op" id="7088462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088466">switch</span>&nbsp;<span class="op" id="7088473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088477">case</span>&nbsp;<span class="ident" id="7088482">test</span><span class="op" id="7088486">.</span><span class="ident" id="7088487">matches</span>&nbsp;<span class="op" id="7088495">==</span>&nbsp;<span class="ident" id="7088498">nil</span>&nbsp;<span class="op" id="7088502">&amp;&amp;</span>&nbsp;<span class="ident" id="7088505">result</span>&nbsp;<span class="op" id="7088512">==</span>&nbsp;<span class="ident" id="7088515">nil</span><span class="op" id="7088518">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7088523">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088531">case</span>&nbsp;<span class="ident" id="7088536">test</span><span class="op" id="7088540">.</span><span class="ident" id="7088541">matches</span>&nbsp;<span class="op" id="7088549">==</span>&nbsp;<span class="ident" id="7088552">nil</span>&nbsp;<span class="op" id="7088556">&amp;&amp;</span>&nbsp;<span class="ident" id="7088559">result</span>&nbsp;<span class="op" id="7088566">!=</span>&nbsp;<span class="ident" id="7088569">nil</span><span class="op" id="7088572">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088577">t</span><span class="op" id="7088578">.</span><span class="ident" id="7088579">Errorf</span><span class="op" id="7088585">(</span><span class="string" id="7088586">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7088618">,</span>&nbsp;<span class="ident" id="7088620">test</span><span class="op" id="7088624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088628">case</span>&nbsp;<span class="ident" id="7088633">test</span><span class="op" id="7088637">.</span><span class="ident" id="7088638">matches</span>&nbsp;<span class="op" id="7088646">!=</span>&nbsp;<span class="ident" id="7088649">nil</span>&nbsp;<span class="op" id="7088653">&amp;&amp;</span>&nbsp;<span class="ident" id="7088656">result</span>&nbsp;<span class="op" id="7088663">==</span>&nbsp;<span class="ident" id="7088666">nil</span><span class="op" id="7088669">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088674">t</span><span class="op" id="7088675">.</span><span class="ident" id="7088676">Fatalf</span><span class="op" id="7088682">(</span><span class="string" id="7088683">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7088713">,</span>&nbsp;<span class="ident" id="7088715">test</span><span class="op" id="7088719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088723">case</span>&nbsp;<span class="ident" id="7088728">test</span><span class="op" id="7088732">.</span><span class="ident" id="7088733">matches</span>&nbsp;<span class="op" id="7088741">!=</span>&nbsp;<span class="ident" id="7088744">nil</span>&nbsp;<span class="op" id="7088748">&amp;&amp;</span>&nbsp;<span class="ident" id="7088751">result</span>&nbsp;<span class="op" id="7088758">!=</span>&nbsp;<span class="ident" id="7088761">nil</span><span class="op" id="7088764">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088769">if</span>&nbsp;<span class="builtinfunc" id="7088772">len</span><span class="op" id="7088775">(</span><span class="ident" id="7088776">test</span><span class="op" id="7088780">.</span><span class="ident" id="7088781">matches</span><span class="op" id="7088788">)</span>&nbsp;<span class="op" id="7088790">!=</span>&nbsp;<span class="builtinfunc" id="7088793">len</span><span class="op" id="7088796">(</span><span class="ident" id="7088797">result</span><span class="op" id="7088803">)</span>&nbsp;<span class="op" id="7088805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088811">t</span><span class="op" id="7088812">.</span><span class="ident" id="7088813">Errorf</span><span class="op" id="7088819">(</span><span class="string" id="7088820">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7088853">,</span>&nbsp;<span class="builtinfunc" id="7088855">len</span><span class="op" id="7088858">(</span><span class="ident" id="7088859">test</span><span class="op" id="7088863">.</span><span class="ident" id="7088864">matches</span><span class="op" id="7088871">)</span><span class="op" id="7088872">,</span>&nbsp;<span class="builtinfunc" id="7088874">len</span><span class="op" id="7088877">(</span><span class="ident" id="7088878">result</span><span class="op" id="7088884">)</span><span class="op" id="7088885">,</span>&nbsp;<span class="ident" id="7088887">test</span><span class="op" id="7088891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088897">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7088909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088914">for</span>&nbsp;<span class="ident" id="7088918">k</span><span class="op" id="7088919">,</span>&nbsp;<span class="ident" id="7088921">e</span>&nbsp;<span class="op" id="7088923">:=</span>&nbsp;<span class="keyword" id="7088926">range</span>&nbsp;<span class="ident" id="7088932">test</span><span class="op" id="7088936">.</span><span class="ident" id="7088937">matches</span>&nbsp;<span class="op" id="7088945">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7088951">expect</span>&nbsp;<span class="op" id="7088958">:=</span>&nbsp;<span class="ident" id="7088961">test</span><span class="op" id="7088965">.</span><span class="ident" id="7088966">text</span><span class="op" id="7088970">[</span><span class="ident" id="7088971">e</span><span class="op" id="7088972">[</span><span class="num" id="7088973">0</span><span class="op" id="7088974">]</span><span class="op" id="7088975">:</span><span class="ident" id="7088976">e</span><span class="op" id="7088977">[</span><span class="num" id="7088978">1</span><span class="op" id="7088979">]</span><span class="op" id="7088980">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7088986">if</span>&nbsp;<span class="ident" id="7088989">expect</span>&nbsp;<span class="op" id="7088996">!=</span>&nbsp;<span class="builtintype" id="7088999">string</span><span class="op" id="7089005">(</span><span class="ident" id="7089006">result</span><span class="op" id="7089012">[</span><span class="ident" id="7089013">k</span><span class="op" id="7089014">]</span><span class="op" id="7089015">)</span>&nbsp;<span class="op" id="7089017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089024">t</span><span class="op" id="7089025">.</span><span class="ident" id="7089026">Errorf</span><span class="op" id="7089032">(</span><span class="string" id="7089033">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7089067">,</span>&nbsp;<span class="ident" id="7089069">k</span><span class="op" id="7089070">,</span>&nbsp;<span class="ident" id="7089072">expect</span><span class="op" id="7089078">,</span>&nbsp;<span class="ident" id="7089080">result</span><span class="op" id="7089086">[</span><span class="ident" id="7089087">k</span><span class="op" id="7089088">]</span><span class="op" id="7089089">,</span>&nbsp;<span class="ident" id="7089091">test</span><span class="op" id="7089095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089106">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089113">}</span><br>
<span class="lineno"></span><span class="op" id="7089115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7089118">func</span>&nbsp;<span class="ident" id="7089123">TestFindAllString</span><span class="op" id="7089140">(</span><span class="ident" id="7089141">t</span>&nbsp;<span class="op" id="7089143">*</span><span class="ident" id="7089144">testing</span><span class="op" id="7089151">.</span><span class="ident" id="7089152">T</span><span class="op" id="7089153">)</span>&nbsp;<span class="op" id="7089155">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089158">for</span>&nbsp;<span class="ident" id="7089162">_</span><span class="op" id="7089163">,</span>&nbsp;<span class="ident" id="7089165">test</span>&nbsp;<span class="op" id="7089170">:=</span>&nbsp;<span class="keyword" id="7089173">range</span>&nbsp;<span class="ident" id="7089179">findTests</span>&nbsp;<span class="op" id="7089189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089193">result</span>&nbsp;<span class="op" id="7089200">:=</span>&nbsp;<span class="ident" id="7089203">MustCompile</span><span class="op" id="7089214">(</span><span class="ident" id="7089215">test</span><span class="op" id="7089219">.</span><span class="ident" id="7089220">pat</span><span class="op" id="7089223">)</span><span class="op" id="7089224">.</span><span class="ident" id="7089225">FindAllString</span><span class="op" id="7089238">(</span><span class="ident" id="7089239">test</span><span class="op" id="7089243">.</span><span class="ident" id="7089244">text</span><span class="op" id="7089248">,</span>&nbsp;<span class="op" id="7089250">-</span><span class="num" id="7089251">1</span><span class="op" id="7089252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089256">switch</span>&nbsp;<span class="op" id="7089263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089267">case</span>&nbsp;<span class="ident" id="7089272">test</span><span class="op" id="7089276">.</span><span class="ident" id="7089277">matches</span>&nbsp;<span class="op" id="7089285">==</span>&nbsp;<span class="ident" id="7089288">nil</span>&nbsp;<span class="op" id="7089292">&amp;&amp;</span>&nbsp;<span class="ident" id="7089295">result</span>&nbsp;<span class="op" id="7089302">==</span>&nbsp;<span class="ident" id="7089305">nil</span><span class="op" id="7089308">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7089313">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089321">case</span>&nbsp;<span class="ident" id="7089326">test</span><span class="op" id="7089330">.</span><span class="ident" id="7089331">matches</span>&nbsp;<span class="op" id="7089339">==</span>&nbsp;<span class="ident" id="7089342">nil</span>&nbsp;<span class="op" id="7089346">&amp;&amp;</span>&nbsp;<span class="ident" id="7089349">result</span>&nbsp;<span class="op" id="7089356">!=</span>&nbsp;<span class="ident" id="7089359">nil</span><span class="op" id="7089362">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089367">t</span><span class="op" id="7089368">.</span><span class="ident" id="7089369">Errorf</span><span class="op" id="7089375">(</span><span class="string" id="7089376">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7089408">,</span>&nbsp;<span class="ident" id="7089410">test</span><span class="op" id="7089414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089418">case</span>&nbsp;<span class="ident" id="7089423">test</span><span class="op" id="7089427">.</span><span class="ident" id="7089428">matches</span>&nbsp;<span class="op" id="7089436">!=</span>&nbsp;<span class="ident" id="7089439">nil</span>&nbsp;<span class="op" id="7089443">&amp;&amp;</span>&nbsp;<span class="ident" id="7089446">result</span>&nbsp;<span class="op" id="7089453">==</span>&nbsp;<span class="ident" id="7089456">nil</span><span class="op" id="7089459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089464">t</span><span class="op" id="7089465">.</span><span class="ident" id="7089466">Errorf</span><span class="op" id="7089472">(</span><span class="string" id="7089473">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7089503">,</span>&nbsp;<span class="ident" id="7089505">test</span><span class="op" id="7089509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089513">case</span>&nbsp;<span class="ident" id="7089518">test</span><span class="op" id="7089522">.</span><span class="ident" id="7089523">matches</span>&nbsp;<span class="op" id="7089531">!=</span>&nbsp;<span class="ident" id="7089534">nil</span>&nbsp;<span class="op" id="7089538">&amp;&amp;</span>&nbsp;<span class="ident" id="7089541">result</span>&nbsp;<span class="op" id="7089548">!=</span>&nbsp;<span class="ident" id="7089551">nil</span><span class="op" id="7089554">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089559">if</span>&nbsp;<span class="builtinfunc" id="7089562">len</span><span class="op" id="7089565">(</span><span class="ident" id="7089566">test</span><span class="op" id="7089570">.</span><span class="ident" id="7089571">matches</span><span class="op" id="7089578">)</span>&nbsp;<span class="op" id="7089580">!=</span>&nbsp;<span class="builtinfunc" id="7089583">len</span><span class="op" id="7089586">(</span><span class="ident" id="7089587">result</span><span class="op" id="7089593">)</span>&nbsp;<span class="op" id="7089595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089601">t</span><span class="op" id="7089602">.</span><span class="ident" id="7089603">Errorf</span><span class="op" id="7089609">(</span><span class="string" id="7089610">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7089643">,</span>&nbsp;<span class="builtinfunc" id="7089645">len</span><span class="op" id="7089648">(</span><span class="ident" id="7089649">test</span><span class="op" id="7089653">.</span><span class="ident" id="7089654">matches</span><span class="op" id="7089661">)</span><span class="op" id="7089662">,</span>&nbsp;<span class="builtinfunc" id="7089664">len</span><span class="op" id="7089667">(</span><span class="ident" id="7089668">result</span><span class="op" id="7089674">)</span><span class="op" id="7089675">,</span>&nbsp;<span class="ident" id="7089677">test</span><span class="op" id="7089681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089687">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089704">for</span>&nbsp;<span class="ident" id="7089708">k</span><span class="op" id="7089709">,</span>&nbsp;<span class="ident" id="7089711">e</span>&nbsp;<span class="op" id="7089713">:=</span>&nbsp;<span class="keyword" id="7089716">range</span>&nbsp;<span class="ident" id="7089722">test</span><span class="op" id="7089726">.</span><span class="ident" id="7089727">matches</span>&nbsp;<span class="op" id="7089735">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089741">expect</span>&nbsp;<span class="op" id="7089748">:=</span>&nbsp;<span class="ident" id="7089751">test</span><span class="op" id="7089755">.</span><span class="ident" id="7089756">text</span><span class="op" id="7089760">[</span><span class="ident" id="7089761">e</span><span class="op" id="7089762">[</span><span class="num" id="7089763">0</span><span class="op" id="7089764">]</span><span class="op" id="7089765">:</span><span class="ident" id="7089766">e</span><span class="op" id="7089767">[</span><span class="num" id="7089768">1</span><span class="op" id="7089769">]</span><span class="op" id="7089770">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089776">if</span>&nbsp;<span class="ident" id="7089779">expect</span>&nbsp;<span class="op" id="7089786">!=</span>&nbsp;<span class="ident" id="7089789">result</span><span class="op" id="7089795">[</span><span class="ident" id="7089796">k</span><span class="op" id="7089797">]</span>&nbsp;<span class="op" id="7089799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7089806">t</span><span class="op" id="7089807">.</span><span class="ident" id="7089808">Errorf</span><span class="op" id="7089814">(</span><span class="string" id="7089815">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7089839">,</span>&nbsp;<span class="ident" id="7089841">expect</span><span class="op" id="7089847">,</span>&nbsp;<span class="ident" id="7089849">result</span><span class="op" id="7089855">,</span>&nbsp;<span class="ident" id="7089857">test</span><span class="op" id="7089861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089872">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7089879">}</span><br>
<span class="lineno"></span><span class="op" id="7089881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7089884">func</span>&nbsp;<span class="ident" id="7089889">testFindAllIndex</span><span class="op" id="7089905">(</span><span class="ident" id="7089906">test</span>&nbsp;<span class="op" id="7089911">*</span><span class="ident" id="7089912">FindTest</span><span class="op" id="7089920">,</span>&nbsp;<span class="ident" id="7089922">result</span>&nbsp;<span class="op" id="7089929">[</span><span class="op" id="7089930">]</span><span class="op" id="7089931">[</span><span class="op" id="7089932">]</span><span class="builtintype" id="7089933">int</span><span class="op" id="7089936">,</span>&nbsp;<span class="ident" id="7089938">t</span>&nbsp;<span class="op" id="7089940">*</span><span class="ident" id="7089941">testing</span><span class="op" id="7089948">.</span><span class="ident" id="7089949">T</span><span class="op" id="7089950">)</span>&nbsp;<span class="op" id="7089952">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089955">switch</span>&nbsp;<span class="op" id="7089962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7089965">case</span>&nbsp;<span class="ident" id="7089970">test</span><span class="op" id="7089974">.</span><span class="ident" id="7089975">matches</span>&nbsp;<span class="op" id="7089983">==</span>&nbsp;<span class="ident" id="7089986">nil</span>&nbsp;<span class="op" id="7089990">&amp;&amp;</span>&nbsp;<span class="ident" id="7089993">result</span>&nbsp;<span class="op" id="7090000">==</span>&nbsp;<span class="ident" id="7090003">nil</span><span class="op" id="7090006">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7090010">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090017">case</span>&nbsp;<span class="ident" id="7090022">test</span><span class="op" id="7090026">.</span><span class="ident" id="7090027">matches</span>&nbsp;<span class="op" id="7090035">==</span>&nbsp;<span class="ident" id="7090038">nil</span>&nbsp;<span class="op" id="7090042">&amp;&amp;</span>&nbsp;<span class="ident" id="7090045">result</span>&nbsp;<span class="op" id="7090052">!=</span>&nbsp;<span class="ident" id="7090055">nil</span><span class="op" id="7090058">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090062">t</span><span class="op" id="7090063">.</span><span class="ident" id="7090064">Errorf</span><span class="op" id="7090070">(</span><span class="string" id="7090071">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7090103">,</span>&nbsp;<span class="ident" id="7090105">test</span><span class="op" id="7090109">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090112">case</span>&nbsp;<span class="ident" id="7090117">test</span><span class="op" id="7090121">.</span><span class="ident" id="7090122">matches</span>&nbsp;<span class="op" id="7090130">!=</span>&nbsp;<span class="ident" id="7090133">nil</span>&nbsp;<span class="op" id="7090137">&amp;&amp;</span>&nbsp;<span class="ident" id="7090140">result</span>&nbsp;<span class="op" id="7090147">==</span>&nbsp;<span class="ident" id="7090150">nil</span><span class="op" id="7090153">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090157">t</span><span class="op" id="7090158">.</span><span class="ident" id="7090159">Errorf</span><span class="op" id="7090165">(</span><span class="string" id="7090166">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7090196">,</span>&nbsp;<span class="ident" id="7090198">test</span><span class="op" id="7090202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090205">case</span>&nbsp;<span class="ident" id="7090210">test</span><span class="op" id="7090214">.</span><span class="ident" id="7090215">matches</span>&nbsp;<span class="op" id="7090223">!=</span>&nbsp;<span class="ident" id="7090226">nil</span>&nbsp;<span class="op" id="7090230">&amp;&amp;</span>&nbsp;<span class="ident" id="7090233">result</span>&nbsp;<span class="op" id="7090240">!=</span>&nbsp;<span class="ident" id="7090243">nil</span><span class="op" id="7090246">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090250">if</span>&nbsp;<span class="builtinfunc" id="7090253">len</span><span class="op" id="7090256">(</span><span class="ident" id="7090257">test</span><span class="op" id="7090261">.</span><span class="ident" id="7090262">matches</span><span class="op" id="7090269">)</span>&nbsp;<span class="op" id="7090271">!=</span>&nbsp;<span class="builtinfunc" id="7090274">len</span><span class="op" id="7090277">(</span><span class="ident" id="7090278">result</span><span class="op" id="7090284">)</span>&nbsp;<span class="op" id="7090286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090291">t</span><span class="op" id="7090292">.</span><span class="ident" id="7090293">Errorf</span><span class="op" id="7090299">(</span><span class="string" id="7090300">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7090333">,</span>&nbsp;<span class="builtinfunc" id="7090335">len</span><span class="op" id="7090338">(</span><span class="ident" id="7090339">test</span><span class="op" id="7090343">.</span><span class="ident" id="7090344">matches</span><span class="op" id="7090351">)</span><span class="op" id="7090352">,</span>&nbsp;<span class="builtinfunc" id="7090354">len</span><span class="op" id="7090357">(</span><span class="ident" id="7090358">result</span><span class="op" id="7090364">)</span><span class="op" id="7090365">,</span>&nbsp;<span class="ident" id="7090367">test</span><span class="op" id="7090371">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090376">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7090385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090389">for</span>&nbsp;<span class="ident" id="7090393">k</span><span class="op" id="7090394">,</span>&nbsp;<span class="ident" id="7090396">e</span>&nbsp;<span class="op" id="7090398">:=</span>&nbsp;<span class="keyword" id="7090401">range</span>&nbsp;<span class="ident" id="7090407">test</span><span class="op" id="7090411">.</span><span class="ident" id="7090412">matches</span>&nbsp;<span class="op" id="7090420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090425">if</span>&nbsp;<span class="ident" id="7090428">e</span><span class="op" id="7090429">[</span><span class="num" id="7090430">0</span><span class="op" id="7090431">]</span>&nbsp;<span class="op" id="7090433">!=</span>&nbsp;<span class="ident" id="7090436">result</span><span class="op" id="7090442">[</span><span class="ident" id="7090443">k</span><span class="op" id="7090444">]</span><span class="op" id="7090445">[</span><span class="num" id="7090446">0</span><span class="op" id="7090447">]</span>&nbsp;<span class="op" id="7090449">||</span>&nbsp;<span class="ident" id="7090452">e</span><span class="op" id="7090453">[</span><span class="num" id="7090454">1</span><span class="op" id="7090455">]</span>&nbsp;<span class="op" id="7090457">!=</span>&nbsp;<span class="ident" id="7090460">result</span><span class="op" id="7090466">[</span><span class="ident" id="7090467">k</span><span class="op" id="7090468">]</span><span class="op" id="7090469">[</span><span class="num" id="7090470">1</span><span class="op" id="7090471">]</span>&nbsp;<span class="op" id="7090473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090479">t</span><span class="op" id="7090480">.</span><span class="ident" id="7090481">Errorf</span><span class="op" id="7090487">(</span><span class="string" id="7090488">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7090522">,</span>&nbsp;<span class="ident" id="7090524">k</span><span class="op" id="7090525">,</span>&nbsp;<span class="ident" id="7090527">e</span><span class="op" id="7090528">,</span>&nbsp;<span class="ident" id="7090530">result</span><span class="op" id="7090536">[</span><span class="ident" id="7090537">k</span><span class="op" id="7090538">]</span><span class="op" id="7090539">,</span>&nbsp;<span class="ident" id="7090541">test</span><span class="op" id="7090545">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7090550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7090554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7090557">}</span><br>
<span class="lineno"></span><span class="op" id="7090559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="7090562">func</span>&nbsp;<span class="ident" id="7090567">TestFindAllIndex</span><span class="op" id="7090583">(</span><span class="ident" id="7090584">t</span>&nbsp;<span class="op" id="7090586">*</span><span class="ident" id="7090587">testing</span><span class="op" id="7090594">.</span><span class="ident" id="7090595">T</span><span class="op" id="7090596">)</span>&nbsp;<span class="op" id="7090598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090601">for</span>&nbsp;<span class="ident" id="7090605">_</span><span class="op" id="7090606">,</span>&nbsp;<span class="ident" id="7090608">test</span>&nbsp;<span class="op" id="7090613">:=</span>&nbsp;<span class="keyword" id="7090616">range</span>&nbsp;<span class="ident" id="7090622">findTests</span>&nbsp;<span class="op" id="7090632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090636">testFindAllIndex</span><span class="op" id="7090652">(</span><span class="op" id="7090653">&amp;</span><span class="ident" id="7090654">test</span><span class="op" id="7090658">,</span>&nbsp;<span class="ident" id="7090660">MustCompile</span><span class="op" id="7090671">(</span><span class="ident" id="7090672">test</span><span class="op" id="7090676">.</span><span class="ident" id="7090677">pat</span><span class="op" id="7090680">)</span><span class="op" id="7090681">.</span><span class="ident" id="7090682">FindAllIndex</span><span class="op" id="7090694">(</span><span class="op" id="7090695">[</span><span class="op" id="7090696">]</span><span class="builtintype" id="7090697">byte</span><span class="op" id="7090701">(</span><span class="ident" id="7090702">test</span><span class="op" id="7090706">.</span><span class="ident" id="7090707">text</span><span class="op" id="7090711">)</span><span class="op" id="7090712">,</span>&nbsp;<span class="op" id="7090714">-</span><span class="num" id="7090715">1</span><span class="op" id="7090716">)</span><span class="op" id="7090717">,</span>&nbsp;<span class="ident" id="7090719">t</span><span class="op" id="7090720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7090723">}</span><br>
<span class="lineno"></span><span class="op" id="7090725">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7090728">func</span>&nbsp;<span class="ident" id="7090733">TestFindAllStringIndex</span><span class="op" id="7090755">(</span><span class="ident" id="7090756">t</span>&nbsp;<span class="op" id="7090758">*</span><span class="ident" id="7090759">testing</span><span class="op" id="7090766">.</span><span class="ident" id="7090767">T</span><span class="op" id="7090768">)</span>&nbsp;<span class="op" id="7090770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7090773">for</span>&nbsp;<span class="ident" id="7090777">_</span><span class="op" id="7090778">,</span>&nbsp;<span class="ident" id="7090780">test</span>&nbsp;<span class="op" id="7090785">:=</span>&nbsp;<span class="keyword" id="7090788">range</span>&nbsp;<span class="ident" id="7090794">findTests</span>&nbsp;<span class="op" id="7090804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7090808">testFindAllIndex</span><span class="op" id="7090824">(</span><span class="op" id="7090825">&amp;</span><span class="ident" id="7090826">test</span><span class="op" id="7090830">,</span>&nbsp;<span class="ident" id="7090832">MustCompile</span><span class="op" id="7090843">(</span><span class="ident" id="7090844">test</span><span class="op" id="7090848">.</span><span class="ident" id="7090849">pat</span><span class="op" id="7090852">)</span><span class="op" id="7090853">.</span><span class="ident" id="7090854">FindAllStringIndex</span><span class="op" id="7090872">(</span><span class="ident" id="7090873">test</span><span class="op" id="7090877">.</span><span class="ident" id="7090878">text</span><span class="op" id="7090882">,</span>&nbsp;<span class="op" id="7090884">-</span><span class="num" id="7090885">1</span><span class="op" id="7090886">)</span><span class="op" id="7090887">,</span>&nbsp;<span class="ident" id="7090889">t</span><span class="op" id="7090890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7090893">}</span><br>
<span class="lineno">310</span><span class="op" id="7090895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7090898">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7090931">func</span>&nbsp;<span class="ident" id="7090936">testSubmatchBytes</span><span class="op" id="7090953">(</span><span class="ident" id="7090954">test</span>&nbsp;<span class="op" id="7090959">*</span><span class="ident" id="7090960">FindTest</span><span class="op" id="7090968">,</span>&nbsp;<span class="ident" id="7090970">n</span>&nbsp;<span class="builtintype" id="7090972">int</span><span class="op" id="7090975">,</span>&nbsp;<span class="ident" id="7090977">submatches</span>&nbsp;<span class="op" id="7090988">[</span><span class="op" id="7090989">]</span><span class="builtintype" id="7090990">int</span><span class="op" id="7090993">,</span>&nbsp;<span class="ident" id="7090995">result</span>&nbsp;<span class="op" id="7091002">[</span><span class="op" id="7091003">]</span><span class="op" id="7091004">[</span><span class="op" id="7091005">]</span><span class="builtintype" id="7091006">byte</span><span class="op" id="7091010">,</span>&nbsp;<span class="ident" id="7091012">t</span>&nbsp;<span class="op" id="7091014">*</span><span class="ident" id="7091015">testing</span><span class="op" id="7091022">.</span><span class="ident" id="7091023">T</span><span class="op" id="7091024">)</span>&nbsp;<span class="op" id="7091026">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091029">if</span>&nbsp;<span class="builtinfunc" id="7091032">len</span><span class="op" id="7091035">(</span><span class="ident" id="7091036">submatches</span><span class="op" id="7091046">)</span>&nbsp;<span class="op" id="7091048">!=</span>&nbsp;<span class="builtinfunc" id="7091051">len</span><span class="op" id="7091054">(</span><span class="ident" id="7091055">result</span><span class="op" id="7091061">)</span><span class="op" id="7091062">*</span><span class="num" id="7091063">2</span>&nbsp;<span class="op" id="7091065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091069">t</span><span class="op" id="7091070">.</span><span class="ident" id="7091071">Errorf</span><span class="op" id="7091077">(</span><span class="string" id="7091078">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7091124">,</span>&nbsp;<span class="ident" id="7091126">n</span><span class="op" id="7091127">,</span>&nbsp;<span class="builtinfunc" id="7091129">len</span><span class="op" id="7091132">(</span><span class="ident" id="7091133">submatches</span><span class="op" id="7091143">)</span><span class="op" id="7091144">/</span><span class="num" id="7091145">2</span><span class="op" id="7091146">,</span>&nbsp;<span class="builtinfunc" id="7091148">len</span><span class="op" id="7091151">(</span><span class="ident" id="7091152">result</span><span class="op" id="7091158">)</span><span class="op" id="7091159">,</span>&nbsp;<span class="ident" id="7091161">test</span><span class="op" id="7091165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091169">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7091177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091180">for</span>&nbsp;<span class="ident" id="7091184">k</span>&nbsp;<span class="op" id="7091186">:=</span>&nbsp;<span class="num" id="7091189">0</span><span class="op" id="7091190">;</span>&nbsp;<span class="ident" id="7091192">k</span>&nbsp;<span class="op" id="7091194">&lt;</span>&nbsp;<span class="builtinfunc" id="7091196">len</span><span class="op" id="7091199">(</span><span class="ident" id="7091200">submatches</span><span class="op" id="7091210">)</span><span class="op" id="7091211">;</span>&nbsp;<span class="ident" id="7091213">k</span>&nbsp;<span class="op" id="7091215">+=</span>&nbsp;<span class="num" id="7091218">2</span>&nbsp;<span class="op" id="7091220">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091224">if</span>&nbsp;<span class="ident" id="7091227">submatches</span><span class="op" id="7091237">[</span><span class="ident" id="7091238">k</span><span class="op" id="7091239">]</span>&nbsp;<span class="op" id="7091241">==</span>&nbsp;<span class="op" id="7091244">-</span><span class="num" id="7091245">1</span>&nbsp;<span class="op" id="7091247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091252">if</span>&nbsp;<span class="ident" id="7091255">result</span><span class="op" id="7091261">[</span><span class="ident" id="7091262">k</span><span class="op" id="7091263">/</span><span class="num" id="7091264">2</span><span class="op" id="7091265">]</span>&nbsp;<span class="op" id="7091267">!=</span>&nbsp;<span class="ident" id="7091270">nil</span>&nbsp;<span class="op" id="7091274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091280">t</span><span class="op" id="7091281">.</span><span class="ident" id="7091282">Errorf</span><span class="op" id="7091288">(</span><span class="string" id="7091289">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7091324">,</span>&nbsp;<span class="ident" id="7091326">n</span><span class="op" id="7091327">,</span>&nbsp;<span class="ident" id="7091329">result</span><span class="op" id="7091335">,</span>&nbsp;<span class="ident" id="7091337">test</span><span class="op" id="7091341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7091346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091351">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7091362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091366">expect</span>&nbsp;<span class="op" id="7091373">:=</span>&nbsp;<span class="ident" id="7091376">test</span><span class="op" id="7091380">.</span><span class="ident" id="7091381">text</span><span class="op" id="7091385">[</span><span class="ident" id="7091386">submatches</span><span class="op" id="7091396">[</span><span class="ident" id="7091397">k</span><span class="op" id="7091398">]</span><span class="op" id="7091399">:</span><span class="ident" id="7091400">submatches</span><span class="op" id="7091410">[</span><span class="ident" id="7091411">k</span><span class="op" id="7091412">+</span><span class="num" id="7091413">1</span><span class="op" id="7091414">]</span><span class="op" id="7091415">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091419">if</span>&nbsp;<span class="ident" id="7091422">expect</span>&nbsp;<span class="op" id="7091429">!=</span>&nbsp;<span class="builtintype" id="7091432">string</span><span class="op" id="7091438">(</span><span class="ident" id="7091439">result</span><span class="op" id="7091445">[</span><span class="ident" id="7091446">k</span><span class="op" id="7091447">/</span><span class="num" id="7091448">2</span><span class="op" id="7091449">]</span><span class="op" id="7091450">)</span>&nbsp;<span class="op" id="7091452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091457">t</span><span class="op" id="7091458">.</span><span class="ident" id="7091459">Errorf</span><span class="op" id="7091465">(</span><span class="string" id="7091466">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7091500">,</span>&nbsp;<span class="ident" id="7091502">n</span><span class="op" id="7091503">,</span>&nbsp;<span class="ident" id="7091505">expect</span><span class="op" id="7091511">,</span>&nbsp;<span class="ident" id="7091513">result</span><span class="op" id="7091519">,</span>&nbsp;<span class="ident" id="7091521">test</span><span class="op" id="7091525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091530">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7091539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7091542">}</span><br>
<span class="lineno"></span><span class="op" id="7091544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7091547">func</span>&nbsp;<span class="ident" id="7091552">TestFindSubmatch</span><span class="op" id="7091568">(</span><span class="ident" id="7091569">t</span>&nbsp;<span class="op" id="7091571">*</span><span class="ident" id="7091572">testing</span><span class="op" id="7091579">.</span><span class="ident" id="7091580">T</span><span class="op" id="7091581">)</span>&nbsp;<span class="op" id="7091583">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091586">for</span>&nbsp;<span class="ident" id="7091590">_</span><span class="op" id="7091591">,</span>&nbsp;<span class="ident" id="7091593">test</span>&nbsp;<span class="op" id="7091598">:=</span>&nbsp;<span class="keyword" id="7091601">range</span>&nbsp;<span class="ident" id="7091607">findTests</span>&nbsp;<span class="op" id="7091617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091621">result</span>&nbsp;<span class="op" id="7091628">:=</span>&nbsp;<span class="ident" id="7091631">MustCompile</span><span class="op" id="7091642">(</span><span class="ident" id="7091643">test</span><span class="op" id="7091647">.</span><span class="ident" id="7091648">pat</span><span class="op" id="7091651">)</span><span class="op" id="7091652">.</span><span class="ident" id="7091653">FindSubmatch</span><span class="op" id="7091665">(</span><span class="op" id="7091666">[</span><span class="op" id="7091667">]</span><span class="builtintype" id="7091668">byte</span><span class="op" id="7091672">(</span><span class="ident" id="7091673">test</span><span class="op" id="7091677">.</span><span class="ident" id="7091678">text</span><span class="op" id="7091682">)</span><span class="op" id="7091683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091687">switch</span>&nbsp;<span class="op" id="7091694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091698">case</span>&nbsp;<span class="ident" id="7091703">test</span><span class="op" id="7091707">.</span><span class="ident" id="7091708">matches</span>&nbsp;<span class="op" id="7091716">==</span>&nbsp;<span class="ident" id="7091719">nil</span>&nbsp;<span class="op" id="7091723">&amp;&amp;</span>&nbsp;<span class="ident" id="7091726">result</span>&nbsp;<span class="op" id="7091733">==</span>&nbsp;<span class="ident" id="7091736">nil</span><span class="op" id="7091739">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7091744">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091752">case</span>&nbsp;<span class="ident" id="7091757">test</span><span class="op" id="7091761">.</span><span class="ident" id="7091762">matches</span>&nbsp;<span class="op" id="7091770">==</span>&nbsp;<span class="ident" id="7091773">nil</span>&nbsp;<span class="op" id="7091777">&amp;&amp;</span>&nbsp;<span class="ident" id="7091780">result</span>&nbsp;<span class="op" id="7091787">!=</span>&nbsp;<span class="ident" id="7091790">nil</span><span class="op" id="7091793">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091798">t</span><span class="op" id="7091799">.</span><span class="ident" id="7091800">Errorf</span><span class="op" id="7091806">(</span><span class="string" id="7091807">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7091839">,</span>&nbsp;<span class="ident" id="7091841">test</span><span class="op" id="7091845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091849">case</span>&nbsp;<span class="ident" id="7091854">test</span><span class="op" id="7091858">.</span><span class="ident" id="7091859">matches</span>&nbsp;<span class="op" id="7091867">!=</span>&nbsp;<span class="ident" id="7091870">nil</span>&nbsp;<span class="op" id="7091874">&amp;&amp;</span>&nbsp;<span class="ident" id="7091877">result</span>&nbsp;<span class="op" id="7091884">==</span>&nbsp;<span class="ident" id="7091887">nil</span><span class="op" id="7091890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091895">t</span><span class="op" id="7091896">.</span><span class="ident" id="7091897">Errorf</span><span class="op" id="7091903">(</span><span class="string" id="7091904">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7091934">,</span>&nbsp;<span class="ident" id="7091936">test</span><span class="op" id="7091940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7091944">case</span>&nbsp;<span class="ident" id="7091949">test</span><span class="op" id="7091953">.</span><span class="ident" id="7091954">matches</span>&nbsp;<span class="op" id="7091962">!=</span>&nbsp;<span class="ident" id="7091965">nil</span>&nbsp;<span class="op" id="7091969">&amp;&amp;</span>&nbsp;<span class="ident" id="7091972">result</span>&nbsp;<span class="op" id="7091979">!=</span>&nbsp;<span class="ident" id="7091982">nil</span><span class="op" id="7091985">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7091990">testSubmatchBytes</span><span class="op" id="7092007">(</span><span class="op" id="7092008">&amp;</span><span class="ident" id="7092009">test</span><span class="op" id="7092013">,</span>&nbsp;<span class="num" id="7092015">0</span><span class="op" id="7092016">,</span>&nbsp;<span class="ident" id="7092018">test</span><span class="op" id="7092022">.</span><span class="ident" id="7092023">matches</span><span class="op" id="7092030">[</span><span class="num" id="7092031">0</span><span class="op" id="7092032">]</span><span class="op" id="7092033">,</span>&nbsp;<span class="ident" id="7092035">result</span><span class="op" id="7092041">,</span>&nbsp;<span class="ident" id="7092043">t</span><span class="op" id="7092044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092051">}</span><br>
<span class="lineno"></span><span class="op" id="7092053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="7092056">func</span>&nbsp;<span class="ident" id="7092061">testSubmatchString</span><span class="op" id="7092079">(</span><span class="ident" id="7092080">test</span>&nbsp;<span class="op" id="7092085">*</span><span class="ident" id="7092086">FindTest</span><span class="op" id="7092094">,</span>&nbsp;<span class="ident" id="7092096">n</span>&nbsp;<span class="builtintype" id="7092098">int</span><span class="op" id="7092101">,</span>&nbsp;<span class="ident" id="7092103">submatches</span>&nbsp;<span class="op" id="7092114">[</span><span class="op" id="7092115">]</span><span class="builtintype" id="7092116">int</span><span class="op" id="7092119">,</span>&nbsp;<span class="ident" id="7092121">result</span>&nbsp;<span class="op" id="7092128">[</span><span class="op" id="7092129">]</span><span class="builtintype" id="7092130">string</span><span class="op" id="7092136">,</span>&nbsp;<span class="ident" id="7092138">t</span>&nbsp;<span class="op" id="7092140">*</span><span class="ident" id="7092141">testing</span><span class="op" id="7092148">.</span><span class="ident" id="7092149">T</span><span class="op" id="7092150">)</span>&nbsp;<span class="op" id="7092152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092155">if</span>&nbsp;<span class="builtinfunc" id="7092158">len</span><span class="op" id="7092161">(</span><span class="ident" id="7092162">submatches</span><span class="op" id="7092172">)</span>&nbsp;<span class="op" id="7092174">!=</span>&nbsp;<span class="builtinfunc" id="7092177">len</span><span class="op" id="7092180">(</span><span class="ident" id="7092181">result</span><span class="op" id="7092187">)</span><span class="op" id="7092188">*</span><span class="num" id="7092189">2</span>&nbsp;<span class="op" id="7092191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092195">t</span><span class="op" id="7092196">.</span><span class="ident" id="7092197">Errorf</span><span class="op" id="7092203">(</span><span class="string" id="7092204">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7092250">,</span>&nbsp;<span class="ident" id="7092252">n</span><span class="op" id="7092253">,</span>&nbsp;<span class="builtinfunc" id="7092255">len</span><span class="op" id="7092258">(</span><span class="ident" id="7092259">submatches</span><span class="op" id="7092269">)</span><span class="op" id="7092270">/</span><span class="num" id="7092271">2</span><span class="op" id="7092272">,</span>&nbsp;<span class="builtinfunc" id="7092274">len</span><span class="op" id="7092277">(</span><span class="ident" id="7092278">result</span><span class="op" id="7092284">)</span><span class="op" id="7092285">,</span>&nbsp;<span class="ident" id="7092287">test</span><span class="op" id="7092291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092295">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092303">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092306">for</span>&nbsp;<span class="ident" id="7092310">k</span>&nbsp;<span class="op" id="7092312">:=</span>&nbsp;<span class="num" id="7092315">0</span><span class="op" id="7092316">;</span>&nbsp;<span class="ident" id="7092318">k</span>&nbsp;<span class="op" id="7092320">&lt;</span>&nbsp;<span class="builtinfunc" id="7092322">len</span><span class="op" id="7092325">(</span><span class="ident" id="7092326">submatches</span><span class="op" id="7092336">)</span><span class="op" id="7092337">;</span>&nbsp;<span class="ident" id="7092339">k</span>&nbsp;<span class="op" id="7092341">+=</span>&nbsp;<span class="num" id="7092344">2</span>&nbsp;<span class="op" id="7092346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092350">if</span>&nbsp;<span class="ident" id="7092353">submatches</span><span class="op" id="7092363">[</span><span class="ident" id="7092364">k</span><span class="op" id="7092365">]</span>&nbsp;<span class="op" id="7092367">==</span>&nbsp;<span class="op" id="7092370">-</span><span class="num" id="7092371">1</span>&nbsp;<span class="op" id="7092373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092378">if</span>&nbsp;<span class="ident" id="7092381">result</span><span class="op" id="7092387">[</span><span class="ident" id="7092388">k</span><span class="op" id="7092389">/</span><span class="num" id="7092390">2</span><span class="op" id="7092391">]</span>&nbsp;<span class="op" id="7092393">!=</span>&nbsp;<span class="string" id="7092396">&#34;&#34;</span>&nbsp;<span class="op" id="7092399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092405">t</span><span class="op" id="7092406">.</span><span class="ident" id="7092407">Errorf</span><span class="op" id="7092413">(</span><span class="string" id="7092414">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7092449">,</span>&nbsp;<span class="ident" id="7092451">n</span><span class="op" id="7092452">,</span>&nbsp;<span class="ident" id="7092454">result</span><span class="op" id="7092460">,</span>&nbsp;<span class="ident" id="7092462">test</span><span class="op" id="7092466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092471">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092476">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092491">expect</span>&nbsp;<span class="op" id="7092498">:=</span>&nbsp;<span class="ident" id="7092501">test</span><span class="op" id="7092505">.</span><span class="ident" id="7092506">text</span><span class="op" id="7092510">[</span><span class="ident" id="7092511">submatches</span><span class="op" id="7092521">[</span><span class="ident" id="7092522">k</span><span class="op" id="7092523">]</span><span class="op" id="7092524">:</span><span class="ident" id="7092525">submatches</span><span class="op" id="7092535">[</span><span class="ident" id="7092536">k</span><span class="op" id="7092537">+</span><span class="num" id="7092538">1</span><span class="op" id="7092539">]</span><span class="op" id="7092540">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092544">if</span>&nbsp;<span class="ident" id="7092547">expect</span>&nbsp;<span class="op" id="7092554">!=</span>&nbsp;<span class="ident" id="7092557">result</span><span class="op" id="7092563">[</span><span class="ident" id="7092564">k</span><span class="op" id="7092565">/</span><span class="num" id="7092566">2</span><span class="op" id="7092567">]</span>&nbsp;<span class="op" id="7092569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092574">t</span><span class="op" id="7092575">.</span><span class="ident" id="7092576">Errorf</span><span class="op" id="7092582">(</span><span class="string" id="7092583">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7092617">,</span>&nbsp;<span class="ident" id="7092619">n</span><span class="op" id="7092620">,</span>&nbsp;<span class="ident" id="7092622">expect</span><span class="op" id="7092628">,</span>&nbsp;<span class="ident" id="7092630">result</span><span class="op" id="7092636">,</span>&nbsp;<span class="ident" id="7092638">test</span><span class="op" id="7092642">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092647">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7092659">}</span><br>
<span class="lineno"></span><span class="op" id="7092661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="7092664">func</span>&nbsp;<span class="ident" id="7092669">TestFindStringSubmatch</span><span class="op" id="7092691">(</span><span class="ident" id="7092692">t</span>&nbsp;<span class="op" id="7092694">*</span><span class="ident" id="7092695">testing</span><span class="op" id="7092702">.</span><span class="ident" id="7092703">T</span><span class="op" id="7092704">)</span>&nbsp;<span class="op" id="7092706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092709">for</span>&nbsp;<span class="ident" id="7092713">_</span><span class="op" id="7092714">,</span>&nbsp;<span class="ident" id="7092716">test</span>&nbsp;<span class="op" id="7092721">:=</span>&nbsp;<span class="keyword" id="7092724">range</span>&nbsp;<span class="ident" id="7092730">findTests</span>&nbsp;<span class="op" id="7092740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092744">result</span>&nbsp;<span class="op" id="7092751">:=</span>&nbsp;<span class="ident" id="7092754">MustCompile</span><span class="op" id="7092765">(</span><span class="ident" id="7092766">test</span><span class="op" id="7092770">.</span><span class="ident" id="7092771">pat</span><span class="op" id="7092774">)</span><span class="op" id="7092775">.</span><span class="ident" id="7092776">FindStringSubmatch</span><span class="op" id="7092794">(</span><span class="ident" id="7092795">test</span><span class="op" id="7092799">.</span><span class="ident" id="7092800">text</span><span class="op" id="7092804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092808">switch</span>&nbsp;<span class="op" id="7092815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092819">case</span>&nbsp;<span class="ident" id="7092824">test</span><span class="op" id="7092828">.</span><span class="ident" id="7092829">matches</span>&nbsp;<span class="op" id="7092837">==</span>&nbsp;<span class="ident" id="7092840">nil</span>&nbsp;<span class="op" id="7092844">&amp;&amp;</span>&nbsp;<span class="ident" id="7092847">result</span>&nbsp;<span class="op" id="7092854">==</span>&nbsp;<span class="ident" id="7092857">nil</span><span class="op" id="7092860">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7092865">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092873">case</span>&nbsp;<span class="ident" id="7092878">test</span><span class="op" id="7092882">.</span><span class="ident" id="7092883">matches</span>&nbsp;<span class="op" id="7092891">==</span>&nbsp;<span class="ident" id="7092894">nil</span>&nbsp;<span class="op" id="7092898">&amp;&amp;</span>&nbsp;<span class="ident" id="7092901">result</span>&nbsp;<span class="op" id="7092908">!=</span>&nbsp;<span class="ident" id="7092911">nil</span><span class="op" id="7092914">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7092919">t</span><span class="op" id="7092920">.</span><span class="ident" id="7092921">Errorf</span><span class="op" id="7092927">(</span><span class="string" id="7092928">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7092960">,</span>&nbsp;<span class="ident" id="7092962">test</span><span class="op" id="7092966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7092970">case</span>&nbsp;<span class="ident" id="7092975">test</span><span class="op" id="7092979">.</span><span class="ident" id="7092980">matches</span>&nbsp;<span class="op" id="7092988">!=</span>&nbsp;<span class="ident" id="7092991">nil</span>&nbsp;<span class="op" id="7092995">&amp;&amp;</span>&nbsp;<span class="ident" id="7092998">result</span>&nbsp;<span class="op" id="7093005">==</span>&nbsp;<span class="ident" id="7093008">nil</span><span class="op" id="7093011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7093016">t</span><span class="op" id="7093017">.</span><span class="ident" id="7093018">Errorf</span><span class="op" id="7093024">(</span><span class="string" id="7093025">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7093055">,</span>&nbsp;<span class="ident" id="7093057">test</span><span class="op" id="7093061">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093065">case</span>&nbsp;<span class="ident" id="7093070">test</span><span class="op" id="7093074">.</span><span class="ident" id="7093075">matches</span>&nbsp;<span class="op" id="7093083">!=</span>&nbsp;<span class="ident" id="7093086">nil</span>&nbsp;<span class="op" id="7093090">&amp;&amp;</span>&nbsp;<span class="ident" id="7093093">result</span>&nbsp;<span class="op" id="7093100">!=</span>&nbsp;<span class="ident" id="7093103">nil</span><span class="op" id="7093106">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7093111">testSubmatchString</span><span class="op" id="7093129">(</span><span class="op" id="7093130">&amp;</span><span class="ident" id="7093131">test</span><span class="op" id="7093135">,</span>&nbsp;<span class="num" id="7093137">0</span><span class="op" id="7093138">,</span>&nbsp;<span class="ident" id="7093140">test</span><span class="op" id="7093144">.</span><span class="ident" id="7093145">matches</span><span class="op" id="7093152">[</span><span class="num" id="7093153">0</span><span class="op" id="7093154">]</span><span class="op" id="7093155">,</span>&nbsp;<span class="ident" id="7093157">result</span><span class="op" id="7093163">,</span>&nbsp;<span class="ident" id="7093165">t</span><span class="op" id="7093166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093173">}</span><br>
<span class="lineno"></span><span class="op" id="7093175">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7093178">func</span>&nbsp;<span class="ident" id="7093183">testSubmatchIndices</span><span class="op" id="7093202">(</span><span class="ident" id="7093203">test</span>&nbsp;<span class="op" id="7093208">*</span><span class="ident" id="7093209">FindTest</span><span class="op" id="7093217">,</span>&nbsp;<span class="ident" id="7093219">n</span>&nbsp;<span class="builtintype" id="7093221">int</span><span class="op" id="7093224">,</span>&nbsp;<span class="ident" id="7093226">expect</span><span class="op" id="7093232">,</span>&nbsp;<span class="ident" id="7093234">result</span>&nbsp;<span class="op" id="7093241">[</span><span class="op" id="7093242">]</span><span class="builtintype" id="7093243">int</span><span class="op" id="7093246">,</span>&nbsp;<span class="ident" id="7093248">t</span>&nbsp;<span class="op" id="7093250">*</span><span class="ident" id="7093251">testing</span><span class="op" id="7093258">.</span><span class="ident" id="7093259">T</span><span class="op" id="7093260">)</span>&nbsp;<span class="op" id="7093262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093265">if</span>&nbsp;<span class="builtinfunc" id="7093268">len</span><span class="op" id="7093271">(</span><span class="ident" id="7093272">expect</span><span class="op" id="7093278">)</span>&nbsp;<span class="op" id="7093280">!=</span>&nbsp;<span class="builtinfunc" id="7093283">len</span><span class="op" id="7093286">(</span><span class="ident" id="7093287">result</span><span class="op" id="7093293">)</span>&nbsp;<span class="op" id="7093295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7093299">t</span><span class="op" id="7093300">.</span><span class="ident" id="7093301">Errorf</span><span class="op" id="7093307">(</span><span class="string" id="7093308">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7093351">,</span>&nbsp;<span class="ident" id="7093353">n</span><span class="op" id="7093354">,</span>&nbsp;<span class="builtinfunc" id="7093356">len</span><span class="op" id="7093359">(</span><span class="ident" id="7093360">expect</span><span class="op" id="7093366">)</span><span class="op" id="7093367">/</span><span class="num" id="7093368">2</span><span class="op" id="7093369">,</span>&nbsp;<span class="builtinfunc" id="7093371">len</span><span class="op" id="7093374">(</span><span class="ident" id="7093375">result</span><span class="op" id="7093381">)</span><span class="op" id="7093382">/</span><span class="num" id="7093383">2</span><span class="op" id="7093384">,</span>&nbsp;<span class="ident" id="7093386">test</span><span class="op" id="7093390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093394">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093405">for</span>&nbsp;<span class="ident" id="7093409">k</span><span class="op" id="7093410">,</span>&nbsp;<span class="ident" id="7093412">e</span>&nbsp;<span class="op" id="7093414">:=</span>&nbsp;<span class="keyword" id="7093417">range</span>&nbsp;<span class="ident" id="7093423">expect</span>&nbsp;<span class="op" id="7093430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093434">if</span>&nbsp;<span class="ident" id="7093437">e</span>&nbsp;<span class="op" id="7093439">!=</span>&nbsp;<span class="ident" id="7093442">result</span><span class="op" id="7093448">[</span><span class="ident" id="7093449">k</span><span class="op" id="7093450">]</span>&nbsp;<span class="op" id="7093452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7093457">t</span><span class="op" id="7093458">.</span><span class="ident" id="7093459">Errorf</span><span class="op" id="7093465">(</span><span class="string" id="7093466">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7093516">,</span>&nbsp;<span class="ident" id="7093518">n</span><span class="op" id="7093519">,</span>&nbsp;<span class="ident" id="7093521">expect</span><span class="op" id="7093527">,</span>&nbsp;<span class="ident" id="7093529">result</span><span class="op" id="7093535">,</span>&nbsp;<span class="ident" id="7093537">test</span><span class="op" id="7093541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093545">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093548">}</span><br>
<span class="lineno"></span><span class="op" id="7093550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7093553">func</span>&nbsp;<span class="ident" id="7093558">testFindSubmatchIndex</span><span class="op" id="7093579">(</span><span class="ident" id="7093580">test</span>&nbsp;<span class="op" id="7093585">*</span><span class="ident" id="7093586">FindTest</span><span class="op" id="7093594">,</span>&nbsp;<span class="ident" id="7093596">result</span>&nbsp;<span class="op" id="7093603">[</span><span class="op" id="7093604">]</span><span class="builtintype" id="7093605">int</span><span class="op" id="7093608">,</span>&nbsp;<span class="ident" id="7093610">t</span>&nbsp;<span class="op" id="7093612">*</span><span class="ident" id="7093613">testing</span><span class="op" id="7093620">.</span><span class="ident" id="7093621">T</span><span class="op" id="7093622">)</span>&nbsp;<span class="op" id="7093624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093627">switch</span>&nbsp;<span class="op" id="7093634">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093637">case</span>&nbsp;<span class="ident" id="7093642">test</span><span class="op" id="7093646">.</span><span class="ident" id="7093647">matches</span>&nbsp;<span class="op" id="7093655">==</span>&nbsp;<span class="ident" id="7093658">nil</span>&nbsp;<span class="op" id="7093662">&amp;&amp;</span>&nbsp;<span class="ident" id="7093665">result</span>&nbsp;<span class="op" id="7093672">==</span>&nbsp;<span class="ident" id="7093675">nil</span><span class="op" id="7093678">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7093682">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093689">case</span>&nbsp;<span class="ident" id="7093694">test</span><span class="op" id="7093698">.</span><span class="ident" id="7093699">matches</span>&nbsp;<span class="op" id="7093707">==</span>&nbsp;<span class="ident" id="7093710">nil</span>&nbsp;<span class="op" id="7093714">&amp;&amp;</span>&nbsp;<span class="ident" id="7093717">result</span>&nbsp;<span class="op" id="7093724">!=</span>&nbsp;<span class="ident" id="7093727">nil</span><span class="op" id="7093730">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7093734">t</span><span class="op" id="7093735">.</span><span class="ident" id="7093736">Errorf</span><span class="op" id="7093742">(</span><span class="string" id="7093743">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7093775">,</span>&nbsp;<span class="ident" id="7093777">test</span><span class="op" id="7093781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093784">case</span>&nbsp;<span class="ident" id="7093789">test</span><span class="op" id="7093793">.</span><span class="ident" id="7093794">matches</span>&nbsp;<span class="op" id="7093802">!=</span>&nbsp;<span class="ident" id="7093805">nil</span>&nbsp;<span class="op" id="7093809">&amp;&amp;</span>&nbsp;<span class="ident" id="7093812">result</span>&nbsp;<span class="op" id="7093819">==</span>&nbsp;<span class="ident" id="7093822">nil</span><span class="op" id="7093825">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7093829">t</span><span class="op" id="7093830">.</span><span class="ident" id="7093831">Errorf</span><span class="op" id="7093837">(</span><span class="string" id="7093838">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7093868">,</span>&nbsp;<span class="ident" id="7093870">test</span><span class="op" id="7093874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7093877">case</span>&nbsp;<span class="ident" id="7093882">test</span><span class="op" id="7093886">.</span><span class="ident" id="7093887">matches</span>&nbsp;<span class="op" id="7093895">!=</span>&nbsp;<span class="ident" id="7093898">nil</span>&nbsp;<span class="op" id="7093902">&amp;&amp;</span>&nbsp;<span class="ident" id="7093905">result</span>&nbsp;<span class="op" id="7093912">!=</span>&nbsp;<span class="ident" id="7093915">nil</span><span class="op" id="7093918">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7093922">testSubmatchIndices</span><span class="op" id="7093941">(</span><span class="ident" id="7093942">test</span><span class="op" id="7093946">,</span>&nbsp;<span class="num" id="7093948">0</span><span class="op" id="7093949">,</span>&nbsp;<span class="ident" id="7093951">test</span><span class="op" id="7093955">.</span><span class="ident" id="7093956">matches</span><span class="op" id="7093963">[</span><span class="num" id="7093964">0</span><span class="op" id="7093965">]</span><span class="op" id="7093966">,</span>&nbsp;<span class="ident" id="7093968">result</span><span class="op" id="7093974">,</span>&nbsp;<span class="ident" id="7093976">t</span><span class="op" id="7093977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7093980">}</span><br>
<span class="lineno"></span><span class="op" id="7093982">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="7093985">func</span>&nbsp;<span class="ident" id="7093990">TestFindSubmatchIndex</span><span class="op" id="7094011">(</span><span class="ident" id="7094012">t</span>&nbsp;<span class="op" id="7094014">*</span><span class="ident" id="7094015">testing</span><span class="op" id="7094022">.</span><span class="ident" id="7094023">T</span><span class="op" id="7094024">)</span>&nbsp;<span class="op" id="7094026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094029">for</span>&nbsp;<span class="ident" id="7094033">_</span><span class="op" id="7094034">,</span>&nbsp;<span class="ident" id="7094036">test</span>&nbsp;<span class="op" id="7094041">:=</span>&nbsp;<span class="keyword" id="7094044">range</span>&nbsp;<span class="ident" id="7094050">findTests</span>&nbsp;<span class="op" id="7094060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094064">testFindSubmatchIndex</span><span class="op" id="7094085">(</span><span class="op" id="7094086">&amp;</span><span class="ident" id="7094087">test</span><span class="op" id="7094091">,</span>&nbsp;<span class="ident" id="7094093">MustCompile</span><span class="op" id="7094104">(</span><span class="ident" id="7094105">test</span><span class="op" id="7094109">.</span><span class="ident" id="7094110">pat</span><span class="op" id="7094113">)</span><span class="op" id="7094114">.</span><span class="ident" id="7094115">FindSubmatchIndex</span><span class="op" id="7094132">(</span><span class="op" id="7094133">[</span><span class="op" id="7094134">]</span><span class="builtintype" id="7094135">byte</span><span class="op" id="7094139">(</span><span class="ident" id="7094140">test</span><span class="op" id="7094144">.</span><span class="ident" id="7094145">text</span><span class="op" id="7094149">)</span><span class="op" id="7094150">)</span><span class="op" id="7094151">,</span>&nbsp;<span class="ident" id="7094153">t</span><span class="op" id="7094154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094157">}</span><br>
<span class="lineno">415</span><span class="op" id="7094159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7094162">func</span>&nbsp;<span class="ident" id="7094167">TestFindStringSubmatchIndex</span><span class="op" id="7094194">(</span><span class="ident" id="7094195">t</span>&nbsp;<span class="op" id="7094197">*</span><span class="ident" id="7094198">testing</span><span class="op" id="7094205">.</span><span class="ident" id="7094206">T</span><span class="op" id="7094207">)</span>&nbsp;<span class="op" id="7094209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094212">for</span>&nbsp;<span class="ident" id="7094216">_</span><span class="op" id="7094217">,</span>&nbsp;<span class="ident" id="7094219">test</span>&nbsp;<span class="op" id="7094224">:=</span>&nbsp;<span class="keyword" id="7094227">range</span>&nbsp;<span class="ident" id="7094233">findTests</span>&nbsp;<span class="op" id="7094243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094247">testFindSubmatchIndex</span><span class="op" id="7094268">(</span><span class="op" id="7094269">&amp;</span><span class="ident" id="7094270">test</span><span class="op" id="7094274">,</span>&nbsp;<span class="ident" id="7094276">MustCompile</span><span class="op" id="7094287">(</span><span class="ident" id="7094288">test</span><span class="op" id="7094292">.</span><span class="ident" id="7094293">pat</span><span class="op" id="7094296">)</span><span class="op" id="7094297">.</span><span class="ident" id="7094298">FindStringSubmatchIndex</span><span class="op" id="7094321">(</span><span class="ident" id="7094322">test</span><span class="op" id="7094326">.</span><span class="ident" id="7094327">text</span><span class="op" id="7094331">)</span><span class="op" id="7094332">,</span>&nbsp;<span class="ident" id="7094334">t</span><span class="op" id="7094335">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094338">}</span><br>
<span class="lineno"></span><span class="op" id="7094340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7094343">func</span>&nbsp;<span class="ident" id="7094348">TestFindReaderSubmatchIndex</span><span class="op" id="7094375">(</span><span class="ident" id="7094376">t</span>&nbsp;<span class="op" id="7094378">*</span><span class="ident" id="7094379">testing</span><span class="op" id="7094386">.</span><span class="ident" id="7094387">T</span><span class="op" id="7094388">)</span>&nbsp;<span class="op" id="7094390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094393">for</span>&nbsp;<span class="ident" id="7094397">_</span><span class="op" id="7094398">,</span>&nbsp;<span class="ident" id="7094400">test</span>&nbsp;<span class="op" id="7094405">:=</span>&nbsp;<span class="keyword" id="7094408">range</span>&nbsp;<span class="ident" id="7094414">findTests</span>&nbsp;<span class="op" id="7094424">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094428">testFindSubmatchIndex</span><span class="op" id="7094449">(</span><span class="op" id="7094450">&amp;</span><span class="ident" id="7094451">test</span><span class="op" id="7094455">,</span>&nbsp;<span class="ident" id="7094457">MustCompile</span><span class="op" id="7094468">(</span><span class="ident" id="7094469">test</span><span class="op" id="7094473">.</span><span class="ident" id="7094474">pat</span><span class="op" id="7094477">)</span><span class="op" id="7094478">.</span><span class="ident" id="7094479">FindReaderSubmatchIndex</span><span class="op" id="7094502">(</span><span class="ident" id="7094503">strings</span><span class="op" id="7094510">.</span><span class="ident" id="7094511">NewReader</span><span class="op" id="7094520">(</span><span class="ident" id="7094521">test</span><span class="op" id="7094525">.</span><span class="ident" id="7094526">text</span><span class="op" id="7094530">)</span><span class="op" id="7094531">)</span><span class="op" id="7094532">,</span>&nbsp;<span class="ident" id="7094534">t</span><span class="op" id="7094535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7094538">}</span><br>
<span class="lineno"></span><span class="op" id="7094540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7094543">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="7094587">func</span>&nbsp;<span class="ident" id="7094592">TestFindAllSubmatch</span><span class="op" id="7094611">(</span><span class="ident" id="7094612">t</span>&nbsp;<span class="op" id="7094614">*</span><span class="ident" id="7094615">testing</span><span class="op" id="7094622">.</span><span class="ident" id="7094623">T</span><span class="op" id="7094624">)</span>&nbsp;<span class="op" id="7094626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094629">for</span>&nbsp;<span class="ident" id="7094633">_</span><span class="op" id="7094634">,</span>&nbsp;<span class="ident" id="7094636">test</span>&nbsp;<span class="op" id="7094641">:=</span>&nbsp;<span class="keyword" id="7094644">range</span>&nbsp;<span class="ident" id="7094650">findTests</span>&nbsp;<span class="op" id="7094660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094664">result</span>&nbsp;<span class="op" id="7094671">:=</span>&nbsp;<span class="ident" id="7094674">MustCompile</span><span class="op" id="7094685">(</span><span class="ident" id="7094686">test</span><span class="op" id="7094690">.</span><span class="ident" id="7094691">pat</span><span class="op" id="7094694">)</span><span class="op" id="7094695">.</span><span class="ident" id="7094696">FindAllSubmatch</span><span class="op" id="7094711">(</span><span class="op" id="7094712">[</span><span class="op" id="7094713">]</span><span class="builtintype" id="7094714">byte</span><span class="op" id="7094718">(</span><span class="ident" id="7094719">test</span><span class="op" id="7094723">.</span><span class="ident" id="7094724">text</span><span class="op" id="7094728">)</span><span class="op" id="7094729">,</span>&nbsp;<span class="op" id="7094731">-</span><span class="num" id="7094732">1</span><span class="op" id="7094733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094737">switch</span>&nbsp;<span class="op" id="7094744">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094748">case</span>&nbsp;<span class="ident" id="7094753">test</span><span class="op" id="7094757">.</span><span class="ident" id="7094758">matches</span>&nbsp;<span class="op" id="7094766">==</span>&nbsp;<span class="ident" id="7094769">nil</span>&nbsp;<span class="op" id="7094773">&amp;&amp;</span>&nbsp;<span class="ident" id="7094776">result</span>&nbsp;<span class="op" id="7094783">==</span>&nbsp;<span class="ident" id="7094786">nil</span><span class="op" id="7094789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7094794">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094802">case</span>&nbsp;<span class="ident" id="7094807">test</span><span class="op" id="7094811">.</span><span class="ident" id="7094812">matches</span>&nbsp;<span class="op" id="7094820">==</span>&nbsp;<span class="ident" id="7094823">nil</span>&nbsp;<span class="op" id="7094827">&amp;&amp;</span>&nbsp;<span class="ident" id="7094830">result</span>&nbsp;<span class="op" id="7094837">!=</span>&nbsp;<span class="ident" id="7094840">nil</span><span class="op" id="7094843">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094848">t</span><span class="op" id="7094849">.</span><span class="ident" id="7094850">Errorf</span><span class="op" id="7094856">(</span><span class="string" id="7094857">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7094889">,</span>&nbsp;<span class="ident" id="7094891">test</span><span class="op" id="7094895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094899">case</span>&nbsp;<span class="ident" id="7094904">test</span><span class="op" id="7094908">.</span><span class="ident" id="7094909">matches</span>&nbsp;<span class="op" id="7094917">!=</span>&nbsp;<span class="ident" id="7094920">nil</span>&nbsp;<span class="op" id="7094924">&amp;&amp;</span>&nbsp;<span class="ident" id="7094927">result</span>&nbsp;<span class="op" id="7094934">==</span>&nbsp;<span class="ident" id="7094937">nil</span><span class="op" id="7094940">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7094945">t</span><span class="op" id="7094946">.</span><span class="ident" id="7094947">Errorf</span><span class="op" id="7094953">(</span><span class="string" id="7094954">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7094984">,</span>&nbsp;<span class="ident" id="7094986">test</span><span class="op" id="7094990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7094994">case</span>&nbsp;<span class="builtinfunc" id="7094999">len</span><span class="op" id="7095002">(</span><span class="ident" id="7095003">test</span><span class="op" id="7095007">.</span><span class="ident" id="7095008">matches</span><span class="op" id="7095015">)</span>&nbsp;<span class="op" id="7095017">!=</span>&nbsp;<span class="builtinfunc" id="7095020">len</span><span class="op" id="7095023">(</span><span class="ident" id="7095024">result</span><span class="op" id="7095030">)</span><span class="op" id="7095031">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095036">t</span><span class="op" id="7095037">.</span><span class="ident" id="7095038">Errorf</span><span class="op" id="7095044">(</span><span class="string" id="7095045">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7095078">,</span>&nbsp;<span class="builtinfunc" id="7095080">len</span><span class="op" id="7095083">(</span><span class="ident" id="7095084">test</span><span class="op" id="7095088">.</span><span class="ident" id="7095089">matches</span><span class="op" id="7095096">)</span><span class="op" id="7095097">,</span>&nbsp;<span class="builtinfunc" id="7095099">len</span><span class="op" id="7095102">(</span><span class="ident" id="7095103">result</span><span class="op" id="7095109">)</span><span class="op" id="7095110">,</span>&nbsp;<span class="ident" id="7095112">test</span><span class="op" id="7095116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095120">case</span>&nbsp;<span class="ident" id="7095125">test</span><span class="op" id="7095129">.</span><span class="ident" id="7095130">matches</span>&nbsp;<span class="op" id="7095138">!=</span>&nbsp;<span class="ident" id="7095141">nil</span>&nbsp;<span class="op" id="7095145">&amp;&amp;</span>&nbsp;<span class="ident" id="7095148">result</span>&nbsp;<span class="op" id="7095155">!=</span>&nbsp;<span class="ident" id="7095158">nil</span><span class="op" id="7095161">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095166">for</span>&nbsp;<span class="ident" id="7095170">k</span><span class="op" id="7095171">,</span>&nbsp;<span class="ident" id="7095173">match</span>&nbsp;<span class="op" id="7095179">:=</span>&nbsp;<span class="keyword" id="7095182">range</span>&nbsp;<span class="ident" id="7095188">test</span><span class="op" id="7095192">.</span><span class="ident" id="7095193">matches</span>&nbsp;<span class="op" id="7095201">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095207">testSubmatchBytes</span><span class="op" id="7095224">(</span><span class="op" id="7095225">&amp;</span><span class="ident" id="7095226">test</span><span class="op" id="7095230">,</span>&nbsp;<span class="ident" id="7095232">k</span><span class="op" id="7095233">,</span>&nbsp;<span class="ident" id="7095235">match</span><span class="op" id="7095240">,</span>&nbsp;<span class="ident" id="7095242">result</span><span class="op" id="7095248">[</span><span class="ident" id="7095249">k</span><span class="op" id="7095250">]</span><span class="op" id="7095251">,</span>&nbsp;<span class="ident" id="7095253">t</span><span class="op" id="7095254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095266">}</span><br>
<span class="lineno"></span><span class="op" id="7095268">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7095271">func</span>&nbsp;<span class="ident" id="7095276">TestFindAllStringSubmatch</span><span class="op" id="7095301">(</span><span class="ident" id="7095302">t</span>&nbsp;<span class="op" id="7095304">*</span><span class="ident" id="7095305">testing</span><span class="op" id="7095312">.</span><span class="ident" id="7095313">T</span><span class="op" id="7095314">)</span>&nbsp;<span class="op" id="7095316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095319">for</span>&nbsp;<span class="ident" id="7095323">_</span><span class="op" id="7095324">,</span>&nbsp;<span class="ident" id="7095326">test</span>&nbsp;<span class="op" id="7095331">:=</span>&nbsp;<span class="keyword" id="7095334">range</span>&nbsp;<span class="ident" id="7095340">findTests</span>&nbsp;<span class="op" id="7095350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095354">result</span>&nbsp;<span class="op" id="7095361">:=</span>&nbsp;<span class="ident" id="7095364">MustCompile</span><span class="op" id="7095375">(</span><span class="ident" id="7095376">test</span><span class="op" id="7095380">.</span><span class="ident" id="7095381">pat</span><span class="op" id="7095384">)</span><span class="op" id="7095385">.</span><span class="ident" id="7095386">FindAllStringSubmatch</span><span class="op" id="7095407">(</span><span class="ident" id="7095408">test</span><span class="op" id="7095412">.</span><span class="ident" id="7095413">text</span><span class="op" id="7095417">,</span>&nbsp;<span class="op" id="7095419">-</span><span class="num" id="7095420">1</span><span class="op" id="7095421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095425">switch</span>&nbsp;<span class="op" id="7095432">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095436">case</span>&nbsp;<span class="ident" id="7095441">test</span><span class="op" id="7095445">.</span><span class="ident" id="7095446">matches</span>&nbsp;<span class="op" id="7095454">==</span>&nbsp;<span class="ident" id="7095457">nil</span>&nbsp;<span class="op" id="7095461">&amp;&amp;</span>&nbsp;<span class="ident" id="7095464">result</span>&nbsp;<span class="op" id="7095471">==</span>&nbsp;<span class="ident" id="7095474">nil</span><span class="op" id="7095477">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7095482">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095490">case</span>&nbsp;<span class="ident" id="7095495">test</span><span class="op" id="7095499">.</span><span class="ident" id="7095500">matches</span>&nbsp;<span class="op" id="7095508">==</span>&nbsp;<span class="ident" id="7095511">nil</span>&nbsp;<span class="op" id="7095515">&amp;&amp;</span>&nbsp;<span class="ident" id="7095518">result</span>&nbsp;<span class="op" id="7095525">!=</span>&nbsp;<span class="ident" id="7095528">nil</span><span class="op" id="7095531">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095536">t</span><span class="op" id="7095537">.</span><span class="ident" id="7095538">Errorf</span><span class="op" id="7095544">(</span><span class="string" id="7095545">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7095577">,</span>&nbsp;<span class="ident" id="7095579">test</span><span class="op" id="7095583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095587">case</span>&nbsp;<span class="ident" id="7095592">test</span><span class="op" id="7095596">.</span><span class="ident" id="7095597">matches</span>&nbsp;<span class="op" id="7095605">!=</span>&nbsp;<span class="ident" id="7095608">nil</span>&nbsp;<span class="op" id="7095612">&amp;&amp;</span>&nbsp;<span class="ident" id="7095615">result</span>&nbsp;<span class="op" id="7095622">==</span>&nbsp;<span class="ident" id="7095625">nil</span><span class="op" id="7095628">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095633">t</span><span class="op" id="7095634">.</span><span class="ident" id="7095635">Errorf</span><span class="op" id="7095641">(</span><span class="string" id="7095642">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7095672">,</span>&nbsp;<span class="ident" id="7095674">test</span><span class="op" id="7095678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095682">case</span>&nbsp;<span class="builtinfunc" id="7095687">len</span><span class="op" id="7095690">(</span><span class="ident" id="7095691">test</span><span class="op" id="7095695">.</span><span class="ident" id="7095696">matches</span><span class="op" id="7095703">)</span>&nbsp;<span class="op" id="7095705">!=</span>&nbsp;<span class="builtinfunc" id="7095708">len</span><span class="op" id="7095711">(</span><span class="ident" id="7095712">result</span><span class="op" id="7095718">)</span><span class="op" id="7095719">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095724">t</span><span class="op" id="7095725">.</span><span class="ident" id="7095726">Errorf</span><span class="op" id="7095732">(</span><span class="string" id="7095733">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7095766">,</span>&nbsp;<span class="builtinfunc" id="7095768">len</span><span class="op" id="7095771">(</span><span class="ident" id="7095772">test</span><span class="op" id="7095776">.</span><span class="ident" id="7095777">matches</span><span class="op" id="7095784">)</span><span class="op" id="7095785">,</span>&nbsp;<span class="builtinfunc" id="7095787">len</span><span class="op" id="7095790">(</span><span class="ident" id="7095791">result</span><span class="op" id="7095797">)</span><span class="op" id="7095798">,</span>&nbsp;<span class="ident" id="7095800">test</span><span class="op" id="7095804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095808">case</span>&nbsp;<span class="ident" id="7095813">test</span><span class="op" id="7095817">.</span><span class="ident" id="7095818">matches</span>&nbsp;<span class="op" id="7095826">!=</span>&nbsp;<span class="ident" id="7095829">nil</span>&nbsp;<span class="op" id="7095833">&amp;&amp;</span>&nbsp;<span class="ident" id="7095836">result</span>&nbsp;<span class="op" id="7095843">!=</span>&nbsp;<span class="ident" id="7095846">nil</span><span class="op" id="7095849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7095854">for</span>&nbsp;<span class="ident" id="7095858">k</span><span class="op" id="7095859">,</span>&nbsp;<span class="ident" id="7095861">match</span>&nbsp;<span class="op" id="7095867">:=</span>&nbsp;<span class="keyword" id="7095870">range</span>&nbsp;<span class="ident" id="7095876">test</span><span class="op" id="7095880">.</span><span class="ident" id="7095881">matches</span>&nbsp;<span class="op" id="7095889">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7095895">testSubmatchString</span><span class="op" id="7095913">(</span><span class="op" id="7095914">&amp;</span><span class="ident" id="7095915">test</span><span class="op" id="7095919">,</span>&nbsp;<span class="ident" id="7095921">k</span><span class="op" id="7095922">,</span>&nbsp;<span class="ident" id="7095924">match</span><span class="op" id="7095929">,</span>&nbsp;<span class="ident" id="7095931">result</span><span class="op" id="7095937">[</span><span class="ident" id="7095938">k</span><span class="op" id="7095939">]</span><span class="op" id="7095940">,</span>&nbsp;<span class="ident" id="7095942">t</span><span class="op" id="7095943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7095955">}</span><br>
<span class="lineno"></span><span class="op" id="7095957">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="7095960">func</span>&nbsp;<span class="ident" id="7095965">testFindAllSubmatchIndex</span><span class="op" id="7095989">(</span><span class="ident" id="7095990">test</span>&nbsp;<span class="op" id="7095995">*</span><span class="ident" id="7095996">FindTest</span><span class="op" id="7096004">,</span>&nbsp;<span class="ident" id="7096006">result</span>&nbsp;<span class="op" id="7096013">[</span><span class="op" id="7096014">]</span><span class="op" id="7096015">[</span><span class="op" id="7096016">]</span><span class="builtintype" id="7096017">int</span><span class="op" id="7096020">,</span>&nbsp;<span class="ident" id="7096022">t</span>&nbsp;<span class="op" id="7096024">*</span><span class="ident" id="7096025">testing</span><span class="op" id="7096032">.</span><span class="ident" id="7096033">T</span><span class="op" id="7096034">)</span>&nbsp;<span class="op" id="7096036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096039">switch</span>&nbsp;<span class="op" id="7096046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096049">case</span>&nbsp;<span class="ident" id="7096054">test</span><span class="op" id="7096058">.</span><span class="ident" id="7096059">matches</span>&nbsp;<span class="op" id="7096067">==</span>&nbsp;<span class="ident" id="7096070">nil</span>&nbsp;<span class="op" id="7096074">&amp;&amp;</span>&nbsp;<span class="ident" id="7096077">result</span>&nbsp;<span class="op" id="7096084">==</span>&nbsp;<span class="ident" id="7096087">nil</span><span class="op" id="7096090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7096094">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096101">case</span>&nbsp;<span class="ident" id="7096106">test</span><span class="op" id="7096110">.</span><span class="ident" id="7096111">matches</span>&nbsp;<span class="op" id="7096119">==</span>&nbsp;<span class="ident" id="7096122">nil</span>&nbsp;<span class="op" id="7096126">&amp;&amp;</span>&nbsp;<span class="ident" id="7096129">result</span>&nbsp;<span class="op" id="7096136">!=</span>&nbsp;<span class="ident" id="7096139">nil</span><span class="op" id="7096142">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096146">t</span><span class="op" id="7096147">.</span><span class="ident" id="7096148">Errorf</span><span class="op" id="7096154">(</span><span class="string" id="7096155">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7096187">,</span>&nbsp;<span class="ident" id="7096189">test</span><span class="op" id="7096193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096196">case</span>&nbsp;<span class="ident" id="7096201">test</span><span class="op" id="7096205">.</span><span class="ident" id="7096206">matches</span>&nbsp;<span class="op" id="7096214">!=</span>&nbsp;<span class="ident" id="7096217">nil</span>&nbsp;<span class="op" id="7096221">&amp;&amp;</span>&nbsp;<span class="ident" id="7096224">result</span>&nbsp;<span class="op" id="7096231">==</span>&nbsp;<span class="ident" id="7096234">nil</span><span class="op" id="7096237">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096241">t</span><span class="op" id="7096242">.</span><span class="ident" id="7096243">Errorf</span><span class="op" id="7096249">(</span><span class="string" id="7096250">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7096280">,</span>&nbsp;<span class="ident" id="7096282">test</span><span class="op" id="7096286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096289">case</span>&nbsp;<span class="builtinfunc" id="7096294">len</span><span class="op" id="7096297">(</span><span class="ident" id="7096298">test</span><span class="op" id="7096302">.</span><span class="ident" id="7096303">matches</span><span class="op" id="7096310">)</span>&nbsp;<span class="op" id="7096312">!=</span>&nbsp;<span class="builtinfunc" id="7096315">len</span><span class="op" id="7096318">(</span><span class="ident" id="7096319">result</span><span class="op" id="7096325">)</span><span class="op" id="7096326">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096330">t</span><span class="op" id="7096331">.</span><span class="ident" id="7096332">Errorf</span><span class="op" id="7096338">(</span><span class="string" id="7096339">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7096372">,</span>&nbsp;<span class="builtinfunc" id="7096374">len</span><span class="op" id="7096377">(</span><span class="ident" id="7096378">test</span><span class="op" id="7096382">.</span><span class="ident" id="7096383">matches</span><span class="op" id="7096390">)</span><span class="op" id="7096391">,</span>&nbsp;<span class="builtinfunc" id="7096393">len</span><span class="op" id="7096396">(</span><span class="ident" id="7096397">result</span><span class="op" id="7096403">)</span><span class="op" id="7096404">,</span>&nbsp;<span class="ident" id="7096406">test</span><span class="op" id="7096410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096413">case</span>&nbsp;<span class="ident" id="7096418">test</span><span class="op" id="7096422">.</span><span class="ident" id="7096423">matches</span>&nbsp;<span class="op" id="7096431">!=</span>&nbsp;<span class="ident" id="7096434">nil</span>&nbsp;<span class="op" id="7096438">&amp;&amp;</span>&nbsp;<span class="ident" id="7096441">result</span>&nbsp;<span class="op" id="7096448">!=</span>&nbsp;<span class="ident" id="7096451">nil</span><span class="op" id="7096454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096458">for</span>&nbsp;<span class="ident" id="7096462">k</span><span class="op" id="7096463">,</span>&nbsp;<span class="ident" id="7096465">match</span>&nbsp;<span class="op" id="7096471">:=</span>&nbsp;<span class="keyword" id="7096474">range</span>&nbsp;<span class="ident" id="7096480">test</span><span class="op" id="7096484">.</span><span class="ident" id="7096485">matches</span>&nbsp;<span class="op" id="7096493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096498">testSubmatchIndices</span><span class="op" id="7096517">(</span><span class="ident" id="7096518">test</span><span class="op" id="7096522">,</span>&nbsp;<span class="ident" id="7096524">k</span><span class="op" id="7096525">,</span>&nbsp;<span class="ident" id="7096527">match</span><span class="op" id="7096532">,</span>&nbsp;<span class="ident" id="7096534">result</span><span class="op" id="7096540">[</span><span class="ident" id="7096541">k</span><span class="op" id="7096542">]</span><span class="op" id="7096543">,</span>&nbsp;<span class="ident" id="7096545">t</span><span class="op" id="7096546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096550">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096553">}</span><br>
<span class="lineno"></span><span class="op" id="7096555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7096558">func</span>&nbsp;<span class="ident" id="7096563">TestFindAllSubmatchIndex</span><span class="op" id="7096587">(</span><span class="ident" id="7096588">t</span>&nbsp;<span class="op" id="7096590">*</span><span class="ident" id="7096591">testing</span><span class="op" id="7096598">.</span><span class="ident" id="7096599">T</span><span class="op" id="7096600">)</span>&nbsp;<span class="op" id="7096602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096605">for</span>&nbsp;<span class="ident" id="7096609">_</span><span class="op" id="7096610">,</span>&nbsp;<span class="ident" id="7096612">test</span>&nbsp;<span class="op" id="7096617">:=</span>&nbsp;<span class="keyword" id="7096620">range</span>&nbsp;<span class="ident" id="7096626">findTests</span>&nbsp;<span class="op" id="7096636">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096640">testFindAllSubmatchIndex</span><span class="op" id="7096664">(</span><span class="op" id="7096665">&amp;</span><span class="ident" id="7096666">test</span><span class="op" id="7096670">,</span>&nbsp;<span class="ident" id="7096672">MustCompile</span><span class="op" id="7096683">(</span><span class="ident" id="7096684">test</span><span class="op" id="7096688">.</span><span class="ident" id="7096689">pat</span><span class="op" id="7096692">)</span><span class="op" id="7096693">.</span><span class="ident" id="7096694">FindAllSubmatchIndex</span><span class="op" id="7096714">(</span><span class="op" id="7096715">[</span><span class="op" id="7096716">]</span><span class="builtintype" id="7096717">byte</span><span class="op" id="7096721">(</span><span class="ident" id="7096722">test</span><span class="op" id="7096726">.</span><span class="ident" id="7096727">text</span><span class="op" id="7096731">)</span><span class="op" id="7096732">,</span>&nbsp;<span class="op" id="7096734">-</span><span class="num" id="7096735">1</span><span class="op" id="7096736">)</span><span class="op" id="7096737">,</span>&nbsp;<span class="ident" id="7096739">t</span><span class="op" id="7096740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096743">}</span><br>
<span class="lineno"></span><span class="op" id="7096745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7096748">func</span>&nbsp;<span class="ident" id="7096753">TestFindAllStringSubmatchIndex</span><span class="op" id="7096783">(</span><span class="ident" id="7096784">t</span>&nbsp;<span class="op" id="7096786">*</span><span class="ident" id="7096787">testing</span><span class="op" id="7096794">.</span><span class="ident" id="7096795">T</span><span class="op" id="7096796">)</span>&nbsp;<span class="op" id="7096798">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096801">for</span>&nbsp;<span class="ident" id="7096805">_</span><span class="op" id="7096806">,</span>&nbsp;<span class="ident" id="7096808">test</span>&nbsp;<span class="op" id="7096813">:=</span>&nbsp;<span class="keyword" id="7096816">range</span>&nbsp;<span class="ident" id="7096822">findTests</span>&nbsp;<span class="op" id="7096832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096836">testFindAllSubmatchIndex</span><span class="op" id="7096860">(</span><span class="op" id="7096861">&amp;</span><span class="ident" id="7096862">test</span><span class="op" id="7096866">,</span>&nbsp;<span class="ident" id="7096868">MustCompile</span><span class="op" id="7096879">(</span><span class="ident" id="7096880">test</span><span class="op" id="7096884">.</span><span class="ident" id="7096885">pat</span><span class="op" id="7096888">)</span><span class="op" id="7096889">.</span><span class="ident" id="7096890">FindAllStringSubmatchIndex</span><span class="op" id="7096916">(</span><span class="ident" id="7096917">test</span><span class="op" id="7096921">.</span><span class="ident" id="7096922">text</span><span class="op" id="7096926">,</span>&nbsp;<span class="op" id="7096928">-</span><span class="num" id="7096929">1</span><span class="op" id="7096930">)</span><span class="op" id="7096931">,</span>&nbsp;<span class="ident" id="7096933">t</span><span class="op" id="7096934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096937">}</span><br>
<span class="lineno"></span><span class="op" id="7096939">}</span>
</div>
</body>
</html>
