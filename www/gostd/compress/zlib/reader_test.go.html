<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8530281">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8530336">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8530390">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8530441">package</span>&nbsp;<span class="ident" id="8530449">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8530455">import</span>&nbsp;<span class="op" id="8530462">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8530465">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8530474">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8530480">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8530490">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8530493">type</span>&nbsp;<span class="ident" id="8530498">zlibTest</span>&nbsp;<span class="keyword" id="8530507">struct</span>&nbsp;<span class="op" id="8530514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530517">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8530528">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530536">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8530547">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530555">compressed</span>&nbsp;<span class="op" id="8530566">[</span><span class="op" id="8530567">]</span><span class="builtintype" id="8530568">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530574">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8530585">[</span><span class="op" id="8530586">]</span><span class="builtintype" id="8530587">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530593">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8530604">error</span><br>
<span class="lineno"></span><span class="op" id="8530610">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8530613">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="8530689">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8530721">var</span>&nbsp;<span class="ident" id="8530725">zlibTests</span>&nbsp;<span class="op" id="8530735">=</span>&nbsp;<span class="op" id="8530737">[</span><span class="op" id="8530738">]</span><span class="ident" id="8530739">zlibTest</span><span class="op" id="8530747">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8530750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8530754">&#34;empty&#34;</span><span class="op" id="8530761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8530765">&#34;&#34;</span><span class="op" id="8530767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8530771">[</span><span class="op" id="8530772">]</span><span class="builtintype" id="8530773">byte</span><span class="op" id="8530777">{</span><span class="num" id="8530778">0x78</span><span class="op" id="8530782">,</span>&nbsp;<span class="num" id="8530784">0x9c</span><span class="op" id="8530788">,</span>&nbsp;<span class="num" id="8530790">0x03</span><span class="op" id="8530794">,</span>&nbsp;<span class="num" id="8530796">0x00</span><span class="op" id="8530800">,</span>&nbsp;<span class="num" id="8530802">0x00</span><span class="op" id="8530806">,</span>&nbsp;<span class="num" id="8530808">0x00</span><span class="op" id="8530812">,</span>&nbsp;<span class="num" id="8530814">0x00</span><span class="op" id="8530818">,</span>&nbsp;<span class="num" id="8530820">0x01</span><span class="op" id="8530824">}</span><span class="op" id="8530825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530829">nil</span><span class="op" id="8530832">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530836">nil</span><span class="op" id="8530839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8530842">}</span><span class="op" id="8530843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8530846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8530850">&#34;goodbye&#34;</span><span class="op" id="8530859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8530863">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="8530879">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8530883">[</span><span class="op" id="8530884">]</span><span class="builtintype" id="8530885">byte</span><span class="op" id="8530889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8530894">0x78</span><span class="op" id="8530898">,</span>&nbsp;<span class="num" id="8530900">0x9c</span><span class="op" id="8530904">,</span>&nbsp;<span class="num" id="8530906">0x4b</span><span class="op" id="8530910">,</span>&nbsp;<span class="num" id="8530912">0xcf</span><span class="op" id="8530916">,</span>&nbsp;<span class="num" id="8530918">0xcf</span><span class="op" id="8530922">,</span>&nbsp;<span class="num" id="8530924">0x4f</span><span class="op" id="8530928">,</span>&nbsp;<span class="num" id="8530930">0x49</span><span class="op" id="8530934">,</span>&nbsp;<span class="num" id="8530936">0xaa</span><span class="op" id="8530940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8530945">0x4c</span><span class="op" id="8530949">,</span>&nbsp;<span class="num" id="8530951">0xd5</span><span class="op" id="8530955">,</span>&nbsp;<span class="num" id="8530957">0x51</span><span class="op" id="8530961">,</span>&nbsp;<span class="num" id="8530963">0x28</span><span class="op" id="8530967">,</span>&nbsp;<span class="num" id="8530969">0xcf</span><span class="op" id="8530973">,</span>&nbsp;<span class="num" id="8530975">0x2f</span><span class="op" id="8530979">,</span>&nbsp;<span class="num" id="8530981">0xca</span><span class="op" id="8530985">,</span>&nbsp;<span class="num" id="8530987">0x49</span><span class="op" id="8530991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8530996">0x01</span><span class="op" id="8531000">,</span>&nbsp;<span class="num" id="8531002">0x00</span><span class="op" id="8531006">,</span>&nbsp;<span class="num" id="8531008">0x28</span><span class="op" id="8531012">,</span>&nbsp;<span class="num" id="8531014">0xa5</span><span class="op" id="8531018">,</span>&nbsp;<span class="num" id="8531020">0x05</span><span class="op" id="8531024">,</span>&nbsp;<span class="num" id="8531026">0x5e</span><span class="op" id="8531030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531034">}</span><span class="op" id="8531035">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531039">nil</span><span class="op" id="8531042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531046">nil</span><span class="op" id="8531049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531052">}</span><span class="op" id="8531053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531060">&#34;bad&nbsp;header&#34;</span><span class="op" id="8531072">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531076">&#34;&#34;</span><span class="op" id="8531078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531082">[</span><span class="op" id="8531083">]</span><span class="builtintype" id="8531084">byte</span><span class="op" id="8531088">{</span><span class="num" id="8531089">0x78</span><span class="op" id="8531093">,</span>&nbsp;<span class="num" id="8531095">0x9f</span><span class="op" id="8531099">,</span>&nbsp;<span class="num" id="8531101">0x03</span><span class="op" id="8531105">,</span>&nbsp;<span class="num" id="8531107">0x00</span><span class="op" id="8531111">,</span>&nbsp;<span class="num" id="8531113">0x00</span><span class="op" id="8531117">,</span>&nbsp;<span class="num" id="8531119">0x00</span><span class="op" id="8531123">,</span>&nbsp;<span class="num" id="8531125">0x00</span><span class="op" id="8531129">,</span>&nbsp;<span class="num" id="8531131">0x01</span><span class="op" id="8531135">}</span><span class="op" id="8531136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531140">nil</span><span class="op" id="8531143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531147">ErrHeader</span><span class="op" id="8531156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531159">}</span><span class="op" id="8531160">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531167">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="8531181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531185">&#34;&#34;</span><span class="op" id="8531187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531191">[</span><span class="op" id="8531192">]</span><span class="builtintype" id="8531193">byte</span><span class="op" id="8531197">{</span><span class="num" id="8531198">0x78</span><span class="op" id="8531202">,</span>&nbsp;<span class="num" id="8531204">0x9c</span><span class="op" id="8531208">,</span>&nbsp;<span class="num" id="8531210">0x03</span><span class="op" id="8531214">,</span>&nbsp;<span class="num" id="8531216">0x00</span><span class="op" id="8531220">,</span>&nbsp;<span class="num" id="8531222">0x00</span><span class="op" id="8531226">,</span>&nbsp;<span class="num" id="8531228">0x00</span><span class="op" id="8531232">,</span>&nbsp;<span class="num" id="8531234">0x00</span><span class="op" id="8531238">,</span>&nbsp;<span class="num" id="8531240">0xff</span><span class="op" id="8531244">}</span><span class="op" id="8531245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531249">nil</span><span class="op" id="8531252">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531256">ErrChecksum</span><span class="op" id="8531267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531270">}</span><span class="op" id="8531271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531278">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="8531295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531299">&#34;&#34;</span><span class="op" id="8531301">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531305">[</span><span class="op" id="8531306">]</span><span class="builtintype" id="8531307">byte</span><span class="op" id="8531311">{</span><span class="num" id="8531312">0x78</span><span class="op" id="8531316">,</span>&nbsp;<span class="num" id="8531318">0x9c</span><span class="op" id="8531322">,</span>&nbsp;<span class="num" id="8531324">0x03</span><span class="op" id="8531328">,</span>&nbsp;<span class="num" id="8531330">0x00</span><span class="op" id="8531334">,</span>&nbsp;<span class="num" id="8531336">0x00</span><span class="op" id="8531340">,</span>&nbsp;<span class="num" id="8531342">0x00</span><span class="op" id="8531346">}</span><span class="op" id="8531347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531351">nil</span><span class="op" id="8531354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531358">io</span><span class="op" id="8531360">.</span><span class="ident" id="8531361">ErrUnexpectedEOF</span><span class="op" id="8531377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531380">}</span><span class="op" id="8531381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531384">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531388">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="8531421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531425">&#34;&#34;</span><span class="op" id="8531427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531431">[</span><span class="op" id="8531432">]</span><span class="builtintype" id="8531433">byte</span><span class="op" id="8531437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531442">0x78</span><span class="op" id="8531446">,</span>&nbsp;<span class="num" id="8531448">0x9c</span><span class="op" id="8531452">,</span>&nbsp;<span class="num" id="8531454">0x03</span><span class="op" id="8531458">,</span>&nbsp;<span class="num" id="8531460">0x00</span><span class="op" id="8531464">,</span>&nbsp;<span class="num" id="8531466">0x00</span><span class="op" id="8531470">,</span>&nbsp;<span class="num" id="8531472">0x00</span><span class="op" id="8531476">,</span>&nbsp;<span class="num" id="8531478">0x00</span><span class="op" id="8531482">,</span>&nbsp;<span class="num" id="8531484">0x01</span><span class="op" id="8531488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531493">0x78</span><span class="op" id="8531497">,</span>&nbsp;<span class="num" id="8531499">0x9c</span><span class="op" id="8531503">,</span>&nbsp;<span class="num" id="8531505">0xff</span><span class="op" id="8531509">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531513">}</span><span class="op" id="8531514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531518">nil</span><span class="op" id="8531521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531525">nil</span><span class="op" id="8531528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531531">}</span><span class="op" id="8531532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531535">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531539">&#34;dictionary&#34;</span><span class="op" id="8531551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531555">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="8531572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531576">[</span><span class="op" id="8531577">]</span><span class="builtintype" id="8531578">byte</span><span class="op" id="8531582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531587">0x78</span><span class="op" id="8531591">,</span>&nbsp;<span class="num" id="8531593">0xbb</span><span class="op" id="8531597">,</span>&nbsp;<span class="num" id="8531599">0x1c</span><span class="op" id="8531603">,</span>&nbsp;<span class="num" id="8531605">0x32</span><span class="op" id="8531609">,</span>&nbsp;<span class="num" id="8531611">0x04</span><span class="op" id="8531615">,</span>&nbsp;<span class="num" id="8531617">0x27</span><span class="op" id="8531621">,</span>&nbsp;<span class="num" id="8531623">0xf3</span><span class="op" id="8531627">,</span>&nbsp;<span class="num" id="8531629">0x00</span><span class="op" id="8531633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531638">0xb1</span><span class="op" id="8531642">,</span>&nbsp;<span class="num" id="8531644">0x75</span><span class="op" id="8531648">,</span>&nbsp;<span class="num" id="8531650">0x20</span><span class="op" id="8531654">,</span>&nbsp;<span class="num" id="8531656">0x1c</span><span class="op" id="8531660">,</span>&nbsp;<span class="num" id="8531662">0x45</span><span class="op" id="8531666">,</span>&nbsp;<span class="num" id="8531668">0x2e</span><span class="op" id="8531672">,</span>&nbsp;<span class="num" id="8531674">0x00</span><span class="op" id="8531678">,</span>&nbsp;<span class="num" id="8531680">0x24</span><span class="op" id="8531684">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531689">0x12</span><span class="op" id="8531693">,</span>&nbsp;<span class="num" id="8531695">0x04</span><span class="op" id="8531699">,</span>&nbsp;<span class="num" id="8531701">0x74</span><span class="op" id="8531705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531709">}</span><span class="op" id="8531710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531714">[</span><span class="op" id="8531715">]</span><span class="builtintype" id="8531716">byte</span><span class="op" id="8531720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531725">0x48</span><span class="op" id="8531729">,</span>&nbsp;<span class="num" id="8531731">0x65</span><span class="op" id="8531735">,</span>&nbsp;<span class="num" id="8531737">0x6c</span><span class="op" id="8531741">,</span>&nbsp;<span class="num" id="8531743">0x6c</span><span class="op" id="8531747">,</span>&nbsp;<span class="num" id="8531749">0x6f</span><span class="op" id="8531753">,</span>&nbsp;<span class="num" id="8531755">0x20</span><span class="op" id="8531759">,</span>&nbsp;<span class="num" id="8531761">0x57</span><span class="op" id="8531765">,</span>&nbsp;<span class="num" id="8531767">0x6f</span><span class="op" id="8531771">,</span>&nbsp;<span class="num" id="8531773">0x72</span><span class="op" id="8531777">,</span>&nbsp;<span class="num" id="8531779">0x6c</span><span class="op" id="8531783">,</span>&nbsp;<span class="num" id="8531785">0x64</span><span class="op" id="8531789">,</span>&nbsp;<span class="num" id="8531791">0x0a</span><span class="op" id="8531795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531799">}</span><span class="op" id="8531800">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8531804">nil</span><span class="op" id="8531807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531810">}</span><span class="op" id="8531811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531818">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="8531836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8531840">&#34;&#34;</span><span class="op" id="8531842">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531846">[</span><span class="op" id="8531847">]</span><span class="builtintype" id="8531848">byte</span><span class="op" id="8531852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531857">0x78</span><span class="op" id="8531861">,</span>&nbsp;<span class="num" id="8531863">0xbb</span><span class="op" id="8531867">,</span>&nbsp;<span class="num" id="8531869">0x1c</span><span class="op" id="8531873">,</span>&nbsp;<span class="num" id="8531875">0x32</span><span class="op" id="8531879">,</span>&nbsp;<span class="num" id="8531881">0x04</span><span class="op" id="8531885">,</span>&nbsp;<span class="num" id="8531887">0x27</span><span class="op" id="8531891">,</span>&nbsp;<span class="num" id="8531893">0xf3</span><span class="op" id="8531897">,</span>&nbsp;<span class="num" id="8531899">0x00</span><span class="op" id="8531903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531908">0xb1</span><span class="op" id="8531912">,</span>&nbsp;<span class="num" id="8531914">0x75</span><span class="op" id="8531918">,</span>&nbsp;<span class="num" id="8531920">0x20</span><span class="op" id="8531924">,</span>&nbsp;<span class="num" id="8531926">0x1c</span><span class="op" id="8531930">,</span>&nbsp;<span class="num" id="8531932">0x45</span><span class="op" id="8531936">,</span>&nbsp;<span class="num" id="8531938">0x2e</span><span class="op" id="8531942">,</span>&nbsp;<span class="num" id="8531944">0x00</span><span class="op" id="8531948">,</span>&nbsp;<span class="num" id="8531950">0x24</span><span class="op" id="8531954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531959">0x12</span><span class="op" id="8531963">,</span>&nbsp;<span class="num" id="8531965">0x04</span><span class="op" id="8531969">,</span>&nbsp;<span class="num" id="8531971">0x74</span><span class="op" id="8531975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531979">}</span><span class="op" id="8531980">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8531984">[</span><span class="op" id="8531985">]</span><span class="builtintype" id="8531986">byte</span><span class="op" id="8531990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8531995">0x48</span><span class="op" id="8531999">,</span>&nbsp;<span class="num" id="8532001">0x65</span><span class="op" id="8532005">,</span>&nbsp;<span class="num" id="8532007">0x6c</span><span class="op" id="8532011">,</span>&nbsp;<span class="num" id="8532013">0x6c</span><span class="op" id="8532017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8532021">}</span><span class="op" id="8532022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532026">ErrDictionary</span><span class="op" id="8532039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8532042">}</span><span class="op" id="8532043">,</span><br>
<span class="lineno">100</span><span class="op" id="8532045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8532048">func</span>&nbsp;<span class="ident" id="8532053">TestDecompressor</span><span class="op" id="8532069">(</span><span class="ident" id="8532070">t</span>&nbsp;<span class="op" id="8532072">*</span><span class="ident" id="8532073">testing</span><span class="op" id="8532080">.</span><span class="ident" id="8532081">T</span><span class="op" id="8532082">)</span>&nbsp;<span class="op" id="8532084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532087">b</span>&nbsp;<span class="op" id="8532089">:=</span>&nbsp;<span class="builtinfunc" id="8532092">new</span><span class="op" id="8532095">(</span><span class="ident" id="8532096">bytes</span><span class="op" id="8532101">.</span><span class="ident" id="8532102">Buffer</span><span class="op" id="8532108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8532111">for</span>&nbsp;<span class="ident" id="8532115">_</span><span class="op" id="8532116">,</span>&nbsp;<span class="ident" id="8532118">tt</span>&nbsp;<span class="op" id="8532121">:=</span>&nbsp;<span class="keyword" id="8532124">range</span>&nbsp;<span class="ident" id="8532130">zlibTests</span>&nbsp;<span class="op" id="8532140">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532144">in</span>&nbsp;<span class="op" id="8532147">:=</span>&nbsp;<span class="ident" id="8532150">bytes</span><span class="op" id="8532155">.</span><span class="ident" id="8532156">NewReader</span><span class="op" id="8532165">(</span><span class="ident" id="8532166">tt</span><span class="op" id="8532168">.</span><span class="ident" id="8532169">compressed</span><span class="op" id="8532179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532183">zlib</span><span class="op" id="8532187">,</span>&nbsp;<span class="ident" id="8532189">err</span>&nbsp;<span class="op" id="8532193">:=</span>&nbsp;<span class="ident" id="8532196">NewReaderDict</span><span class="op" id="8532209">(</span><span class="ident" id="8532210">in</span><span class="op" id="8532212">,</span>&nbsp;<span class="ident" id="8532214">tt</span><span class="op" id="8532216">.</span><span class="ident" id="8532217">dict</span><span class="op" id="8532221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8532225">if</span>&nbsp;<span class="ident" id="8532228">err</span>&nbsp;<span class="op" id="8532232">!=</span>&nbsp;<span class="ident" id="8532235">nil</span>&nbsp;<span class="op" id="8532239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8532244">if</span>&nbsp;<span class="ident" id="8532247">err</span>&nbsp;<span class="op" id="8532251">!=</span>&nbsp;<span class="ident" id="8532254">tt</span><span class="op" id="8532256">.</span><span class="ident" id="8532257">err</span>&nbsp;<span class="op" id="8532261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532267">t</span><span class="op" id="8532268">.</span><span class="ident" id="8532269">Errorf</span><span class="op" id="8532275">(</span><span class="string" id="8532276">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="8532295">,</span>&nbsp;<span class="ident" id="8532297">tt</span><span class="op" id="8532299">.</span><span class="ident" id="8532300">desc</span><span class="op" id="8532304">,</span>&nbsp;<span class="ident" id="8532306">err</span><span class="op" id="8532309">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8532314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8532319">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8532330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8532334">defer</span>&nbsp;<span class="ident" id="8532340">zlib</span><span class="op" id="8532344">.</span><span class="ident" id="8532345">Close</span><span class="op" id="8532350">(</span><span class="op" id="8532351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532355">b</span><span class="op" id="8532356">.</span><span class="ident" id="8532357">Reset</span><span class="op" id="8532362">(</span><span class="op" id="8532363">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532367">n</span><span class="op" id="8532368">,</span>&nbsp;<span class="ident" id="8532370">err</span>&nbsp;<span class="op" id="8532374">:=</span>&nbsp;<span class="ident" id="8532377">io</span><span class="op" id="8532379">.</span><span class="ident" id="8532380">Copy</span><span class="op" id="8532384">(</span><span class="ident" id="8532385">b</span><span class="op" id="8532386">,</span>&nbsp;<span class="ident" id="8532388">zlib</span><span class="op" id="8532392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8532396">if</span>&nbsp;<span class="ident" id="8532399">err</span>&nbsp;<span class="op" id="8532403">!=</span>&nbsp;<span class="ident" id="8532406">nil</span>&nbsp;<span class="op" id="8532410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8532415">if</span>&nbsp;<span class="ident" id="8532418">err</span>&nbsp;<span class="op" id="8532422">!=</span>&nbsp;<span class="ident" id="8532425">tt</span><span class="op" id="8532427">.</span><span class="ident" id="8532428">err</span>&nbsp;<span class="op" id="8532432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532438">t</span><span class="op" id="8532439">.</span><span class="ident" id="8532440">Errorf</span><span class="op" id="8532446">(</span><span class="string" id="8532447">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8532472">,</span>&nbsp;<span class="ident" id="8532474">tt</span><span class="op" id="8532476">.</span><span class="ident" id="8532477">desc</span><span class="op" id="8532481">,</span>&nbsp;<span class="ident" id="8532483">err</span><span class="op" id="8532486">,</span>&nbsp;<span class="ident" id="8532488">tt</span><span class="op" id="8532490">.</span><span class="ident" id="8532491">err</span><span class="op" id="8532494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8532499">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8532504">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8532515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532519">s</span>&nbsp;<span class="op" id="8532521">:=</span>&nbsp;<span class="ident" id="8532524">b</span><span class="op" id="8532525">.</span><span class="ident" id="8532526">String</span><span class="op" id="8532532">(</span><span class="op" id="8532533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8532537">if</span>&nbsp;<span class="ident" id="8532540">s</span>&nbsp;<span class="op" id="8532542">!=</span>&nbsp;<span class="ident" id="8532545">tt</span><span class="op" id="8532547">.</span><span class="ident" id="8532548">raw</span>&nbsp;<span class="op" id="8532552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8532557">t</span><span class="op" id="8532558">.</span><span class="ident" id="8532559">Errorf</span><span class="op" id="8532565">(</span><span class="string" id="8532566">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="8532602">,</span>&nbsp;<span class="ident" id="8532604">tt</span><span class="op" id="8532606">.</span><span class="ident" id="8532607">desc</span><span class="op" id="8532611">,</span>&nbsp;<span class="ident" id="8532613">n</span><span class="op" id="8532614">,</span>&nbsp;<span class="ident" id="8532616">s</span><span class="op" id="8532617">,</span>&nbsp;<span class="builtinfunc" id="8532619">len</span><span class="op" id="8532622">(</span><span class="ident" id="8532623">tt</span><span class="op" id="8532625">.</span><span class="ident" id="8532626">raw</span><span class="op" id="8532629">)</span><span class="op" id="8532630">,</span>&nbsp;<span class="ident" id="8532632">tt</span><span class="op" id="8532634">.</span><span class="ident" id="8532635">raw</span><span class="op" id="8532638">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8532642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8532645">}</span><br>
<span class="lineno"></span><span class="op" id="8532647">}</span>
</div>
</body>
</html>
