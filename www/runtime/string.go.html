<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1719164">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1719219">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1719273">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1719324">package</span>&nbsp;<span class="ident" id="1719332">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1719341">import</span>&nbsp;<span class="op" id="1719348">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1719351">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1719360">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1719363">func</span>&nbsp;<span class="ident" id="1719368">concatstrings</span><span class="op" id="1719381">(</span><span class="ident" id="1719382">a</span>&nbsp;<span class="op" id="1719384">[</span><span class="op" id="1719385">]</span><span class="builtintype" id="1719386">string</span><span class="op" id="1719392">)</span>&nbsp;<span class="builtintype" id="1719394">string</span>&nbsp;<span class="op" id="1719401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719404">idx</span>&nbsp;<span class="op" id="1719408">:=</span>&nbsp;<span class="num" id="1719411">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719414">l</span>&nbsp;<span class="op" id="1719416">:=</span>&nbsp;<span class="num" id="1719419">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719422">count</span>&nbsp;<span class="op" id="1719428">:=</span>&nbsp;<span class="num" id="1719431">0</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719434">for</span>&nbsp;<span class="ident" id="1719438">i</span><span class="op" id="1719439">,</span>&nbsp;<span class="ident" id="1719441">x</span>&nbsp;<span class="op" id="1719443">:=</span>&nbsp;<span class="keyword" id="1719446">range</span>&nbsp;<span class="ident" id="1719452">a</span>&nbsp;<span class="op" id="1719454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719458">n</span>&nbsp;<span class="op" id="1719460">:=</span>&nbsp;<span class="builtinfunc" id="1719463">len</span><span class="op" id="1719466">(</span><span class="ident" id="1719467">x</span><span class="op" id="1719468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719472">if</span>&nbsp;<span class="ident" id="1719475">n</span>&nbsp;<span class="op" id="1719477">==</span>&nbsp;<span class="num" id="1719480">0</span>&nbsp;<span class="op" id="1719482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719487">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1719498">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719502">if</span>&nbsp;<span class="ident" id="1719505">l</span><span class="op" id="1719506">+</span><span class="ident" id="1719507">n</span>&nbsp;<span class="op" id="1719509">&lt;</span>&nbsp;<span class="ident" id="1719511">l</span>&nbsp;<span class="op" id="1719513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719518">gothrow</span><span class="op" id="1719525">(</span><span class="string" id="1719526">&#34;string&nbsp;concatenation&nbsp;too&nbsp;long&#34;</span><span class="op" id="1719557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1719561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719565">l</span>&nbsp;<span class="op" id="1719567">+=</span>&nbsp;<span class="ident" id="1719570">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719574">count</span><span class="op" id="1719579">++</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719584">idx</span>&nbsp;<span class="op" id="1719588">=</span>&nbsp;<span class="ident" id="1719590">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1719593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719596">if</span>&nbsp;<span class="ident" id="1719599">count</span>&nbsp;<span class="op" id="1719605">==</span>&nbsp;<span class="num" id="1719608">0</span>&nbsp;<span class="op" id="1719610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719614">return</span>&nbsp;<span class="string" id="1719621">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1719625">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719628">if</span>&nbsp;<span class="ident" id="1719631">count</span>&nbsp;<span class="op" id="1719637">==</span>&nbsp;<span class="num" id="1719640">1</span>&nbsp;<span class="op" id="1719642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719646">return</span>&nbsp;<span class="ident" id="1719653">a</span><span class="op" id="1719654">[</span><span class="ident" id="1719655">idx</span><span class="op" id="1719658">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1719661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719664">s</span><span class="op" id="1719665">,</span>&nbsp;<span class="ident" id="1719667">b</span>&nbsp;<span class="op" id="1719669">:=</span>&nbsp;<span class="ident" id="1719672">rawstring</span><span class="op" id="1719681">(</span><span class="ident" id="1719682">l</span><span class="op" id="1719683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719686">l</span>&nbsp;<span class="op" id="1719688">=</span>&nbsp;<span class="num" id="1719690">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719693">for</span>&nbsp;<span class="ident" id="1719697">_</span><span class="op" id="1719698">,</span>&nbsp;<span class="ident" id="1719700">x</span>&nbsp;<span class="op" id="1719702">:=</span>&nbsp;<span class="keyword" id="1719705">range</span>&nbsp;<span class="ident" id="1719711">a</span>&nbsp;<span class="op" id="1719713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1719717">copy</span><span class="op" id="1719721">(</span><span class="ident" id="1719722">b</span><span class="op" id="1719723">[</span><span class="ident" id="1719724">l</span><span class="op" id="1719725">:</span><span class="op" id="1719726">]</span><span class="op" id="1719727">,</span>&nbsp;<span class="ident" id="1719729">x</span><span class="op" id="1719730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1719734">l</span>&nbsp;<span class="op" id="1719736">+=</span>&nbsp;<span class="builtinfunc" id="1719739">len</span><span class="op" id="1719742">(</span><span class="ident" id="1719743">x</span><span class="op" id="1719744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1719747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719750">return</span>&nbsp;<span class="ident" id="1719757">s</span><br>
<span class="lineno">40</span><span class="op" id="1719759">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1719762">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1719775">func</span>&nbsp;<span class="ident" id="1719780">concatstring2</span><span class="op" id="1719793">(</span><span class="ident" id="1719794">a</span>&nbsp;<span class="op" id="1719796">[</span><span class="num" id="1719797">2</span><span class="op" id="1719798">]</span><span class="builtintype" id="1719799">string</span><span class="op" id="1719805">)</span>&nbsp;<span class="builtintype" id="1719807">string</span>&nbsp;<span class="op" id="1719814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719817">return</span>&nbsp;<span class="ident" id="1719824">concatstrings</span><span class="op" id="1719837">(</span><span class="ident" id="1719838">a</span><span class="op" id="1719839">[</span><span class="op" id="1719840">:</span><span class="op" id="1719841">]</span><span class="op" id="1719842">)</span><br>
<span class="lineno">45</span><span class="op" id="1719844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1719847">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1719860">func</span>&nbsp;<span class="ident" id="1719865">concatstring3</span><span class="op" id="1719878">(</span><span class="ident" id="1719879">a</span>&nbsp;<span class="op" id="1719881">[</span><span class="num" id="1719882">3</span><span class="op" id="1719883">]</span><span class="builtintype" id="1719884">string</span><span class="op" id="1719890">)</span>&nbsp;<span class="builtintype" id="1719892">string</span>&nbsp;<span class="op" id="1719899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719902">return</span>&nbsp;<span class="ident" id="1719909">concatstrings</span><span class="op" id="1719922">(</span><span class="ident" id="1719923">a</span><span class="op" id="1719924">[</span><span class="op" id="1719925">:</span><span class="op" id="1719926">]</span><span class="op" id="1719927">)</span><br>
<span class="lineno">50</span><span class="op" id="1719929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1719932">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1719945">func</span>&nbsp;<span class="ident" id="1719950">concatstring4</span><span class="op" id="1719963">(</span><span class="ident" id="1719964">a</span>&nbsp;<span class="op" id="1719966">[</span><span class="num" id="1719967">4</span><span class="op" id="1719968">]</span><span class="builtintype" id="1719969">string</span><span class="op" id="1719975">)</span>&nbsp;<span class="builtintype" id="1719977">string</span>&nbsp;<span class="op" id="1719984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1719987">return</span>&nbsp;<span class="ident" id="1719994">concatstrings</span><span class="op" id="1720007">(</span><span class="ident" id="1720008">a</span><span class="op" id="1720009">[</span><span class="op" id="1720010">:</span><span class="op" id="1720011">]</span><span class="op" id="1720012">)</span><br>
<span class="lineno">55</span><span class="op" id="1720014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1720017">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1720030">func</span>&nbsp;<span class="ident" id="1720035">concatstring5</span><span class="op" id="1720048">(</span><span class="ident" id="1720049">a</span>&nbsp;<span class="op" id="1720051">[</span><span class="num" id="1720052">5</span><span class="op" id="1720053">]</span><span class="builtintype" id="1720054">string</span><span class="op" id="1720060">)</span>&nbsp;<span class="builtintype" id="1720062">string</span>&nbsp;<span class="op" id="1720069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720072">return</span>&nbsp;<span class="ident" id="1720079">concatstrings</span><span class="op" id="1720092">(</span><span class="ident" id="1720093">a</span><span class="op" id="1720094">[</span><span class="op" id="1720095">:</span><span class="op" id="1720096">]</span><span class="op" id="1720097">)</span><br>
<span class="lineno">60</span><span class="op" id="1720099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1720102">func</span>&nbsp;<span class="ident" id="1720107">slicebytetostring</span><span class="op" id="1720124">(</span><span class="ident" id="1720125">b</span>&nbsp;<span class="op" id="1720127">[</span><span class="op" id="1720128">]</span><span class="builtintype" id="1720129">byte</span><span class="op" id="1720133">)</span>&nbsp;<span class="builtintype" id="1720135">string</span>&nbsp;<span class="op" id="1720142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720145">if</span>&nbsp;<span class="ident" id="1720148">raceenabled</span>&nbsp;<span class="op" id="1720160">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1720163">len</span><span class="op" id="1720166">(</span><span class="ident" id="1720167">b</span><span class="op" id="1720168">)</span>&nbsp;<span class="op" id="1720170">&gt;</span>&nbsp;<span class="num" id="1720172">0</span>&nbsp;<span class="op" id="1720174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720178">racereadrangepc</span><span class="op" id="1720193">(</span><span class="ident" id="1720194">unsafe</span><span class="op" id="1720200">.</span><span class="ident" id="1720201">Pointer</span><span class="op" id="1720208">(</span><span class="op" id="1720209">&amp;</span><span class="ident" id="1720210">b</span><span class="op" id="1720211">[</span><span class="num" id="1720212">0</span><span class="op" id="1720213">]</span><span class="op" id="1720214">)</span><span class="op" id="1720215">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1720220">uintptr</span><span class="op" id="1720227">(</span><span class="builtinfunc" id="1720228">len</span><span class="op" id="1720231">(</span><span class="ident" id="1720232">b</span><span class="op" id="1720233">)</span><span class="op" id="1720234">)</span><span class="op" id="1720235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720240">getcallerpc</span><span class="op" id="1720251">(</span><span class="ident" id="1720252">unsafe</span><span class="op" id="1720258">.</span><span class="ident" id="1720259">Pointer</span><span class="op" id="1720266">(</span><span class="op" id="1720267">&amp;</span><span class="ident" id="1720268">b</span><span class="op" id="1720269">)</span><span class="op" id="1720270">)</span><span class="op" id="1720271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720276">funcPC</span><span class="op" id="1720282">(</span><span class="ident" id="1720283">slicebytetostring</span><span class="op" id="1720300">)</span><span class="op" id="1720301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1720304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720307">s</span><span class="op" id="1720308">,</span>&nbsp;<span class="ident" id="1720310">c</span>&nbsp;<span class="op" id="1720312">:=</span>&nbsp;<span class="ident" id="1720315">rawstring</span><span class="op" id="1720324">(</span><span class="builtinfunc" id="1720325">len</span><span class="op" id="1720328">(</span><span class="ident" id="1720329">b</span><span class="op" id="1720330">)</span><span class="op" id="1720331">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1720334">copy</span><span class="op" id="1720338">(</span><span class="ident" id="1720339">c</span><span class="op" id="1720340">,</span>&nbsp;<span class="ident" id="1720342">b</span><span class="op" id="1720343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720346">return</span>&nbsp;<span class="ident" id="1720353">s</span><br>
<span class="lineno"></span><span class="op" id="1720355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1720358">func</span>&nbsp;<span class="ident" id="1720363">slicebytetostringtmp</span><span class="op" id="1720383">(</span><span class="ident" id="1720384">b</span>&nbsp;<span class="op" id="1720386">[</span><span class="op" id="1720387">]</span><span class="builtintype" id="1720388">byte</span><span class="op" id="1720392">)</span>&nbsp;<span class="builtintype" id="1720394">string</span>&nbsp;<span class="op" id="1720401">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720404">//&nbsp;Return&nbsp;a&nbsp;&#34;string&#34;&nbsp;referring&nbsp;to&nbsp;the&nbsp;actual&nbsp;[]byte&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720464">//&nbsp;This&nbsp;is&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;internal&nbsp;compiler&nbsp;optimizations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720524">//&nbsp;that&nbsp;know&nbsp;that&nbsp;the&nbsp;string&nbsp;form&nbsp;will&nbsp;be&nbsp;discarded&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720584">//&nbsp;the&nbsp;calling&nbsp;goroutine&nbsp;could&nbsp;possibly&nbsp;modify&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720645">//&nbsp;slice&nbsp;or&nbsp;synchronize&nbsp;with&nbsp;another&nbsp;goroutine.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720694">//&nbsp;Today,&nbsp;the&nbsp;only&nbsp;such&nbsp;case&nbsp;is&nbsp;a&nbsp;m[string(k)]&nbsp;lookup&nbsp;where</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1720755">//&nbsp;m&nbsp;is&nbsp;a&nbsp;string-keyed&nbsp;map&nbsp;and&nbsp;k&nbsp;is&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720803">if</span>&nbsp;<span class="ident" id="1720806">raceenabled</span>&nbsp;<span class="op" id="1720818">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1720821">len</span><span class="op" id="1720824">(</span><span class="ident" id="1720825">b</span><span class="op" id="1720826">)</span>&nbsp;<span class="op" id="1720828">&gt;</span>&nbsp;<span class="num" id="1720830">0</span>&nbsp;<span class="op" id="1720832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720836">racereadrangepc</span><span class="op" id="1720851">(</span><span class="ident" id="1720852">unsafe</span><span class="op" id="1720858">.</span><span class="ident" id="1720859">Pointer</span><span class="op" id="1720866">(</span><span class="op" id="1720867">&amp;</span><span class="ident" id="1720868">b</span><span class="op" id="1720869">[</span><span class="num" id="1720870">0</span><span class="op" id="1720871">]</span><span class="op" id="1720872">)</span><span class="op" id="1720873">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1720878">uintptr</span><span class="op" id="1720885">(</span><span class="builtinfunc" id="1720886">len</span><span class="op" id="1720889">(</span><span class="ident" id="1720890">b</span><span class="op" id="1720891">)</span><span class="op" id="1720892">)</span><span class="op" id="1720893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720898">getcallerpc</span><span class="op" id="1720909">(</span><span class="ident" id="1720910">unsafe</span><span class="op" id="1720916">.</span><span class="ident" id="1720917">Pointer</span><span class="op" id="1720924">(</span><span class="op" id="1720925">&amp;</span><span class="ident" id="1720926">b</span><span class="op" id="1720927">)</span><span class="op" id="1720928">)</span><span class="op" id="1720929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1720934">funcPC</span><span class="op" id="1720940">(</span><span class="ident" id="1720941">slicebytetostringtmp</span><span class="op" id="1720961">)</span><span class="op" id="1720962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1720965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1720968">return</span>&nbsp;<span class="op" id="1720975">*</span><span class="op" id="1720976">(</span><span class="op" id="1720977">*</span><span class="builtintype" id="1720978">string</span><span class="op" id="1720984">)</span><span class="op" id="1720985">(</span><span class="ident" id="1720986">unsafe</span><span class="op" id="1720992">.</span><span class="ident" id="1720993">Pointer</span><span class="op" id="1721000">(</span><span class="op" id="1721001">&amp;</span><span class="ident" id="1721002">b</span><span class="op" id="1721003">)</span><span class="op" id="1721004">)</span><br>
<span class="lineno">90</span><span class="op" id="1721006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1721009">func</span>&nbsp;<span class="ident" id="1721014">stringtoslicebyte</span><span class="op" id="1721031">(</span><span class="ident" id="1721032">s</span>&nbsp;<span class="builtintype" id="1721034">string</span><span class="op" id="1721040">)</span>&nbsp;<span class="op" id="1721042">[</span><span class="op" id="1721043">]</span><span class="builtintype" id="1721044">byte</span>&nbsp;<span class="op" id="1721049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721052">b</span>&nbsp;<span class="op" id="1721054">:=</span>&nbsp;<span class="ident" id="1721057">rawbyteslice</span><span class="op" id="1721069">(</span><span class="builtinfunc" id="1721070">len</span><span class="op" id="1721073">(</span><span class="ident" id="1721074">s</span><span class="op" id="1721075">)</span><span class="op" id="1721076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1721079">copy</span><span class="op" id="1721083">(</span><span class="ident" id="1721084">b</span><span class="op" id="1721085">,</span>&nbsp;<span class="ident" id="1721087">s</span><span class="op" id="1721088">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721091">return</span>&nbsp;<span class="ident" id="1721098">b</span><br>
<span class="lineno"></span><span class="op" id="1721100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1721103">func</span>&nbsp;<span class="ident" id="1721108">stringtoslicerune</span><span class="op" id="1721125">(</span><span class="ident" id="1721126">s</span>&nbsp;<span class="builtintype" id="1721128">string</span><span class="op" id="1721134">)</span>&nbsp;<span class="op" id="1721136">[</span><span class="op" id="1721137">]</span><span class="builtintype" id="1721138">rune</span>&nbsp;<span class="op" id="1721143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1721146">//&nbsp;two&nbsp;passes.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1721162">//&nbsp;unlike&nbsp;slicerunetostring,&nbsp;no&nbsp;race&nbsp;because&nbsp;strings&nbsp;are&nbsp;immutable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721231">n</span>&nbsp;<span class="op" id="1721233">:=</span>&nbsp;<span class="num" id="1721236">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721239">t</span>&nbsp;<span class="op" id="1721241">:=</span>&nbsp;<span class="ident" id="1721244">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721247">for</span>&nbsp;<span class="builtinfunc" id="1721251">len</span><span class="op" id="1721254">(</span><span class="ident" id="1721255">s</span><span class="op" id="1721256">)</span>&nbsp;<span class="op" id="1721258">&gt;</span>&nbsp;<span class="num" id="1721260">0</span>&nbsp;<span class="op" id="1721262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721266">_</span><span class="op" id="1721267">,</span>&nbsp;<span class="ident" id="1721269">k</span>&nbsp;<span class="op" id="1721271">:=</span>&nbsp;<span class="ident" id="1721274">charntorune</span><span class="op" id="1721285">(</span><span class="ident" id="1721286">s</span><span class="op" id="1721287">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721291">s</span>&nbsp;<span class="op" id="1721293">=</span>&nbsp;<span class="ident" id="1721295">s</span><span class="op" id="1721296">[</span><span class="ident" id="1721297">k</span><span class="op" id="1721298">:</span><span class="op" id="1721299">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721303">n</span><span class="op" id="1721304">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721311">a</span>&nbsp;<span class="op" id="1721313">:=</span>&nbsp;<span class="ident" id="1721316">rawruneslice</span><span class="op" id="1721328">(</span><span class="ident" id="1721329">n</span><span class="op" id="1721330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721333">n</span>&nbsp;<span class="op" id="1721335">=</span>&nbsp;<span class="num" id="1721337">0</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721340">for</span>&nbsp;<span class="builtinfunc" id="1721344">len</span><span class="op" id="1721347">(</span><span class="ident" id="1721348">t</span><span class="op" id="1721349">)</span>&nbsp;<span class="op" id="1721351">&gt;</span>&nbsp;<span class="num" id="1721353">0</span>&nbsp;<span class="op" id="1721355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721359">r</span><span class="op" id="1721360">,</span>&nbsp;<span class="ident" id="1721362">k</span>&nbsp;<span class="op" id="1721364">:=</span>&nbsp;<span class="ident" id="1721367">charntorune</span><span class="op" id="1721378">(</span><span class="ident" id="1721379">t</span><span class="op" id="1721380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721384">t</span>&nbsp;<span class="op" id="1721386">=</span>&nbsp;<span class="ident" id="1721388">t</span><span class="op" id="1721389">[</span><span class="ident" id="1721390">k</span><span class="op" id="1721391">:</span><span class="op" id="1721392">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721396">a</span><span class="op" id="1721397">[</span><span class="ident" id="1721398">n</span><span class="op" id="1721399">]</span>&nbsp;<span class="op" id="1721401">=</span>&nbsp;<span class="ident" id="1721403">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721407">n</span><span class="op" id="1721408">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721415">return</span>&nbsp;<span class="ident" id="1721422">a</span><br>
<span class="lineno"></span><span class="op" id="1721424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1721427">func</span>&nbsp;<span class="ident" id="1721432">slicerunetostring</span><span class="op" id="1721449">(</span><span class="ident" id="1721450">a</span>&nbsp;<span class="op" id="1721452">[</span><span class="op" id="1721453">]</span><span class="builtintype" id="1721454">rune</span><span class="op" id="1721458">)</span>&nbsp;<span class="builtintype" id="1721460">string</span>&nbsp;<span class="op" id="1721467">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721470">if</span>&nbsp;<span class="ident" id="1721473">raceenabled</span>&nbsp;<span class="op" id="1721485">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1721488">len</span><span class="op" id="1721491">(</span><span class="ident" id="1721492">a</span><span class="op" id="1721493">)</span>&nbsp;<span class="op" id="1721495">&gt;</span>&nbsp;<span class="num" id="1721497">0</span>&nbsp;<span class="op" id="1721499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721503">racereadrangepc</span><span class="op" id="1721518">(</span><span class="ident" id="1721519">unsafe</span><span class="op" id="1721525">.</span><span class="ident" id="1721526">Pointer</span><span class="op" id="1721533">(</span><span class="op" id="1721534">&amp;</span><span class="ident" id="1721535">a</span><span class="op" id="1721536">[</span><span class="num" id="1721537">0</span><span class="op" id="1721538">]</span><span class="op" id="1721539">)</span><span class="op" id="1721540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1721545">uintptr</span><span class="op" id="1721552">(</span><span class="builtinfunc" id="1721553">len</span><span class="op" id="1721556">(</span><span class="ident" id="1721557">a</span><span class="op" id="1721558">)</span><span class="op" id="1721559">)</span><span class="op" id="1721560">*</span><span class="ident" id="1721561">unsafe</span><span class="op" id="1721567">.</span><span class="ident" id="1721568">Sizeof</span><span class="op" id="1721574">(</span><span class="ident" id="1721575">a</span><span class="op" id="1721576">[</span><span class="num" id="1721577">0</span><span class="op" id="1721578">]</span><span class="op" id="1721579">)</span><span class="op" id="1721580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721585">getcallerpc</span><span class="op" id="1721596">(</span><span class="ident" id="1721597">unsafe</span><span class="op" id="1721603">.</span><span class="ident" id="1721604">Pointer</span><span class="op" id="1721611">(</span><span class="op" id="1721612">&amp;</span><span class="ident" id="1721613">a</span><span class="op" id="1721614">)</span><span class="op" id="1721615">)</span><span class="op" id="1721616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721621">funcPC</span><span class="op" id="1721627">(</span><span class="ident" id="1721628">slicerunetostring</span><span class="op" id="1721645">)</span><span class="op" id="1721646">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721652">var</span>&nbsp;<span class="ident" id="1721656">dum</span>&nbsp;<span class="op" id="1721660">[</span><span class="num" id="1721661">4</span><span class="op" id="1721662">]</span><span class="builtintype" id="1721663">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721669">size1</span>&nbsp;<span class="op" id="1721675">:=</span>&nbsp;<span class="num" id="1721678">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721681">for</span>&nbsp;<span class="ident" id="1721685">_</span><span class="op" id="1721686">,</span>&nbsp;<span class="ident" id="1721688">r</span>&nbsp;<span class="op" id="1721690">:=</span>&nbsp;<span class="keyword" id="1721693">range</span>&nbsp;<span class="ident" id="1721699">a</span>&nbsp;<span class="op" id="1721701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721705">size1</span>&nbsp;<span class="op" id="1721711">+=</span>&nbsp;<span class="ident" id="1721714">runetochar</span><span class="op" id="1721724">(</span><span class="ident" id="1721725">dum</span><span class="op" id="1721728">[</span><span class="op" id="1721729">:</span><span class="op" id="1721730">]</span><span class="op" id="1721731">,</span>&nbsp;<span class="ident" id="1721733">r</span><span class="op" id="1721734">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721740">s</span><span class="op" id="1721741">,</span>&nbsp;<span class="ident" id="1721743">b</span>&nbsp;<span class="op" id="1721745">:=</span>&nbsp;<span class="ident" id="1721748">rawstring</span><span class="op" id="1721757">(</span><span class="ident" id="1721758">size1</span>&nbsp;<span class="op" id="1721764">+</span>&nbsp;<span class="num" id="1721766">3</span><span class="op" id="1721767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721770">size2</span>&nbsp;<span class="op" id="1721776">:=</span>&nbsp;<span class="num" id="1721779">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721782">for</span>&nbsp;<span class="ident" id="1721786">_</span><span class="op" id="1721787">,</span>&nbsp;<span class="ident" id="1721789">r</span>&nbsp;<span class="op" id="1721791">:=</span>&nbsp;<span class="keyword" id="1721794">range</span>&nbsp;<span class="ident" id="1721800">a</span>&nbsp;<span class="op" id="1721802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1721806">//&nbsp;check&nbsp;for&nbsp;race</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721826">if</span>&nbsp;<span class="ident" id="1721829">size2</span>&nbsp;<span class="op" id="1721835">&gt;=</span>&nbsp;<span class="ident" id="1721838">size1</span>&nbsp;<span class="op" id="1721844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721849">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721861">size2</span>&nbsp;<span class="op" id="1721867">+=</span>&nbsp;<span class="ident" id="1721870">runetochar</span><span class="op" id="1721880">(</span><span class="ident" id="1721881">b</span><span class="op" id="1721882">[</span><span class="ident" id="1721883">size2</span><span class="op" id="1721888">:</span><span class="op" id="1721889">]</span><span class="op" id="1721890">,</span>&nbsp;<span class="ident" id="1721892">r</span><span class="op" id="1721893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1721896">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1721899">return</span>&nbsp;<span class="ident" id="1721906">s</span><span class="op" id="1721907">[</span><span class="op" id="1721908">:</span><span class="ident" id="1721909">size2</span><span class="op" id="1721914">]</span><br>
<span class="lineno"></span><span class="op" id="1721916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1721919">type</span>&nbsp;<span class="ident" id="1721924">stringStruct</span>&nbsp;<span class="keyword" id="1721937">struct</span>&nbsp;<span class="op" id="1721944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1721947">str</span>&nbsp;<span class="ident" id="1721951">unsafe</span><span class="op" id="1721957">.</span><span class="ident" id="1721958">Pointer</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1721967">len</span>&nbsp;<span class="builtintype" id="1721971">int</span><br>
<span class="lineno"></span><span class="op" id="1721975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1721978">func</span>&nbsp;<span class="ident" id="1721983">intstring</span><span class="op" id="1721992">(</span><span class="ident" id="1721993">v</span>&nbsp;<span class="ident" id="1721995">int64</span><span class="op" id="1722000">)</span>&nbsp;<span class="builtintype" id="1722002">string</span>&nbsp;<span class="op" id="1722009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722012">s</span><span class="op" id="1722013">,</span>&nbsp;<span class="ident" id="1722015">b</span>&nbsp;<span class="op" id="1722017">:=</span>&nbsp;<span class="ident" id="1722020">rawstring</span><span class="op" id="1722029">(</span><span class="num" id="1722030">4</span><span class="op" id="1722031">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722034">n</span>&nbsp;<span class="op" id="1722036">:=</span>&nbsp;<span class="ident" id="1722039">runetochar</span><span class="op" id="1722049">(</span><span class="ident" id="1722050">b</span><span class="op" id="1722051">,</span>&nbsp;<span class="builtintype" id="1722053">rune</span><span class="op" id="1722057">(</span><span class="ident" id="1722058">v</span><span class="op" id="1722059">)</span><span class="op" id="1722060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722063">return</span>&nbsp;<span class="ident" id="1722070">s</span><span class="op" id="1722071">[</span><span class="op" id="1722072">:</span><span class="ident" id="1722073">n</span><span class="op" id="1722074">]</span><br>
<span class="lineno"></span><span class="op" id="1722076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1722079">//&nbsp;stringiter&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno">155</span><span class="comment" id="1722123">//&nbsp;rune&nbsp;after&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k].</span><br>
<span class="lineno"></span><span class="keyword" id="1722167">func</span>&nbsp;<span class="ident" id="1722172">stringiter</span><span class="op" id="1722182">(</span><span class="ident" id="1722183">s</span>&nbsp;<span class="builtintype" id="1722185">string</span><span class="op" id="1722191">,</span>&nbsp;<span class="ident" id="1722193">k</span>&nbsp;<span class="builtintype" id="1722195">int</span><span class="op" id="1722198">)</span>&nbsp;<span class="builtintype" id="1722200">int</span>&nbsp;<span class="op" id="1722204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722207">if</span>&nbsp;<span class="ident" id="1722210">k</span>&nbsp;<span class="op" id="1722212">&gt;=</span>&nbsp;<span class="builtinfunc" id="1722215">len</span><span class="op" id="1722218">(</span><span class="ident" id="1722219">s</span><span class="op" id="1722220">)</span>&nbsp;<span class="op" id="1722222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1722226">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722253">return</span>&nbsp;<span class="num" id="1722260">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1722263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722267">c</span>&nbsp;<span class="op" id="1722269">:=</span>&nbsp;<span class="ident" id="1722272">s</span><span class="op" id="1722273">[</span><span class="ident" id="1722274">k</span><span class="op" id="1722275">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722278">if</span>&nbsp;<span class="ident" id="1722281">c</span>&nbsp;<span class="op" id="1722283">&lt;</span>&nbsp;<span class="ident" id="1722285">runeself</span>&nbsp;<span class="op" id="1722294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722298">return</span>&nbsp;<span class="ident" id="1722305">k</span>&nbsp;<span class="op" id="1722307">+</span>&nbsp;<span class="num" id="1722309">1</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1722312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1722316">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722336">_</span><span class="op" id="1722337">,</span>&nbsp;<span class="ident" id="1722339">n</span>&nbsp;<span class="op" id="1722341">:=</span>&nbsp;<span class="ident" id="1722344">charntorune</span><span class="op" id="1722355">(</span><span class="ident" id="1722356">s</span><span class="op" id="1722357">[</span><span class="ident" id="1722358">k</span><span class="op" id="1722359">:</span><span class="op" id="1722360">]</span><span class="op" id="1722361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722364">return</span>&nbsp;<span class="ident" id="1722371">k</span>&nbsp;<span class="op" id="1722373">+</span>&nbsp;<span class="ident" id="1722375">n</span><br>
<span class="lineno">170</span><span class="op" id="1722377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1722380">//&nbsp;stringiter2&nbsp;returns&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k]</span><br>
<span class="lineno"></span><span class="comment" id="1722432">//&nbsp;and&nbsp;the&nbsp;index&nbsp;where&nbsp;the&nbsp;next&nbsp;rune&nbsp;starts.</span><br>
<span class="lineno"></span><span class="keyword" id="1722477">func</span>&nbsp;<span class="ident" id="1722482">stringiter2</span><span class="op" id="1722493">(</span><span class="ident" id="1722494">s</span>&nbsp;<span class="builtintype" id="1722496">string</span><span class="op" id="1722502">,</span>&nbsp;<span class="ident" id="1722504">k</span>&nbsp;<span class="builtintype" id="1722506">int</span><span class="op" id="1722509">)</span>&nbsp;<span class="op" id="1722511">(</span><span class="builtintype" id="1722512">int</span><span class="op" id="1722515">,</span>&nbsp;<span class="builtintype" id="1722517">rune</span><span class="op" id="1722521">)</span>&nbsp;<span class="op" id="1722523">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722526">if</span>&nbsp;<span class="ident" id="1722529">k</span>&nbsp;<span class="op" id="1722531">&gt;=</span>&nbsp;<span class="builtinfunc" id="1722534">len</span><span class="op" id="1722537">(</span><span class="ident" id="1722538">s</span><span class="op" id="1722539">)</span>&nbsp;<span class="op" id="1722541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1722545">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722572">return</span>&nbsp;<span class="num" id="1722579">0</span><span class="op" id="1722580">,</span>&nbsp;<span class="num" id="1722582">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1722585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722589">c</span>&nbsp;<span class="op" id="1722591">:=</span>&nbsp;<span class="ident" id="1722594">s</span><span class="op" id="1722595">[</span><span class="ident" id="1722596">k</span><span class="op" id="1722597">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722600">if</span>&nbsp;<span class="ident" id="1722603">c</span>&nbsp;<span class="op" id="1722605">&lt;</span>&nbsp;<span class="ident" id="1722607">runeself</span>&nbsp;<span class="op" id="1722616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722620">return</span>&nbsp;<span class="ident" id="1722627">k</span>&nbsp;<span class="op" id="1722629">+</span>&nbsp;<span class="num" id="1722631">1</span><span class="op" id="1722632">,</span>&nbsp;<span class="builtintype" id="1722634">rune</span><span class="op" id="1722638">(</span><span class="ident" id="1722639">c</span><span class="op" id="1722640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1722643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1722647">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722667">r</span><span class="op" id="1722668">,</span>&nbsp;<span class="ident" id="1722670">n</span>&nbsp;<span class="op" id="1722672">:=</span>&nbsp;<span class="ident" id="1722675">charntorune</span><span class="op" id="1722686">(</span><span class="ident" id="1722687">s</span><span class="op" id="1722688">[</span><span class="ident" id="1722689">k</span><span class="op" id="1722690">:</span><span class="op" id="1722691">]</span><span class="op" id="1722692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1722695">return</span>&nbsp;<span class="ident" id="1722702">k</span>&nbsp;<span class="op" id="1722704">+</span>&nbsp;<span class="ident" id="1722706">n</span><span class="op" id="1722707">,</span>&nbsp;<span class="ident" id="1722709">r</span><br>
<span class="lineno"></span><span class="op" id="1722711">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="1722714">//&nbsp;rawstring&nbsp;allocates&nbsp;storage&nbsp;for&nbsp;a&nbsp;new&nbsp;string.&nbsp;The&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="1722776">//&nbsp;string&nbsp;and&nbsp;byte&nbsp;slice&nbsp;both&nbsp;refer&nbsp;to&nbsp;the&nbsp;same&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="1722833">//&nbsp;The&nbsp;storage&nbsp;is&nbsp;not&nbsp;zeroed.&nbsp;Callers&nbsp;should&nbsp;use</span><br>
<span class="lineno"></span><span class="comment" id="1722882">//&nbsp;b&nbsp;to&nbsp;set&nbsp;the&nbsp;string&nbsp;contents&nbsp;and&nbsp;then&nbsp;drop&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="1722931">func</span>&nbsp;<span class="ident" id="1722936">rawstring</span><span class="op" id="1722945">(</span><span class="ident" id="1722946">size</span>&nbsp;<span class="builtintype" id="1722951">int</span><span class="op" id="1722954">)</span>&nbsp;<span class="op" id="1722956">(</span><span class="ident" id="1722957">s</span>&nbsp;<span class="builtintype" id="1722959">string</span><span class="op" id="1722965">,</span>&nbsp;<span class="ident" id="1722967">b</span>&nbsp;<span class="op" id="1722969">[</span><span class="op" id="1722970">]</span><span class="builtintype" id="1722971">byte</span><span class="op" id="1722975">)</span>&nbsp;<span class="op" id="1722977">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1722980">p</span>&nbsp;<span class="op" id="1722982">:=</span>&nbsp;<span class="ident" id="1722985">mallocgc</span><span class="op" id="1722993">(</span><span class="builtintype" id="1722994">uintptr</span><span class="op" id="1723001">(</span><span class="ident" id="1723002">size</span><span class="op" id="1723006">)</span><span class="op" id="1723007">,</span>&nbsp;<span class="ident" id="1723009">nil</span><span class="op" id="1723012">,</span>&nbsp;<span class="ident" id="1723014">flagNoScan</span><span class="op" id="1723024">|</span><span class="ident" id="1723025">flagNoZero</span><span class="op" id="1723035">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723039">(</span><span class="op" id="1723040">*</span><span class="ident" id="1723041">stringStruct</span><span class="op" id="1723053">)</span><span class="op" id="1723054">(</span><span class="ident" id="1723055">unsafe</span><span class="op" id="1723061">.</span><span class="ident" id="1723062">Pointer</span><span class="op" id="1723069">(</span><span class="op" id="1723070">&amp;</span><span class="ident" id="1723071">s</span><span class="op" id="1723072">)</span><span class="op" id="1723073">)</span><span class="op" id="1723074">.</span><span class="ident" id="1723075">str</span>&nbsp;<span class="op" id="1723079">=</span>&nbsp;<span class="ident" id="1723081">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723084">(</span><span class="op" id="1723085">*</span><span class="ident" id="1723086">stringStruct</span><span class="op" id="1723098">)</span><span class="op" id="1723099">(</span><span class="ident" id="1723100">unsafe</span><span class="op" id="1723106">.</span><span class="ident" id="1723107">Pointer</span><span class="op" id="1723114">(</span><span class="op" id="1723115">&amp;</span><span class="ident" id="1723116">s</span><span class="op" id="1723117">)</span><span class="op" id="1723118">)</span><span class="op" id="1723119">.</span><span class="builtinfunc" id="1723120">len</span>&nbsp;<span class="op" id="1723124">=</span>&nbsp;<span class="ident" id="1723126">size</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723133">(</span><span class="op" id="1723134">*</span><span class="ident" id="1723135">slice</span><span class="op" id="1723140">)</span><span class="op" id="1723141">(</span><span class="ident" id="1723142">unsafe</span><span class="op" id="1723148">.</span><span class="ident" id="1723149">Pointer</span><span class="op" id="1723156">(</span><span class="op" id="1723157">&amp;</span><span class="ident" id="1723158">b</span><span class="op" id="1723159">)</span><span class="op" id="1723160">)</span><span class="op" id="1723161">.</span><span class="ident" id="1723162">array</span>&nbsp;<span class="op" id="1723168">=</span>&nbsp;<span class="op" id="1723170">(</span><span class="op" id="1723171">*</span><span class="builtintype" id="1723172">uint8</span><span class="op" id="1723177">)</span><span class="op" id="1723178">(</span><span class="ident" id="1723179">p</span><span class="op" id="1723180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723183">(</span><span class="op" id="1723184">*</span><span class="ident" id="1723185">slice</span><span class="op" id="1723190">)</span><span class="op" id="1723191">(</span><span class="ident" id="1723192">unsafe</span><span class="op" id="1723198">.</span><span class="ident" id="1723199">Pointer</span><span class="op" id="1723206">(</span><span class="op" id="1723207">&amp;</span><span class="ident" id="1723208">b</span><span class="op" id="1723209">)</span><span class="op" id="1723210">)</span><span class="op" id="1723211">.</span><span class="builtinfunc" id="1723212">len</span>&nbsp;<span class="op" id="1723216">=</span>&nbsp;<span class="builtintype" id="1723218">uint</span><span class="op" id="1723222">(</span><span class="ident" id="1723223">size</span><span class="op" id="1723227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723230">(</span><span class="op" id="1723231">*</span><span class="ident" id="1723232">slice</span><span class="op" id="1723237">)</span><span class="op" id="1723238">(</span><span class="ident" id="1723239">unsafe</span><span class="op" id="1723245">.</span><span class="ident" id="1723246">Pointer</span><span class="op" id="1723253">(</span><span class="op" id="1723254">&amp;</span><span class="ident" id="1723255">b</span><span class="op" id="1723256">)</span><span class="op" id="1723257">)</span><span class="op" id="1723258">.</span><span class="builtinfunc" id="1723259">cap</span>&nbsp;<span class="op" id="1723263">=</span>&nbsp;<span class="builtintype" id="1723265">uint</span><span class="op" id="1723269">(</span><span class="ident" id="1723270">size</span><span class="op" id="1723274">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1723278">for</span>&nbsp;<span class="op" id="1723282">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1723286">ms</span>&nbsp;<span class="op" id="1723289">:=</span>&nbsp;<span class="ident" id="1723292">maxstring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1723304">if</span>&nbsp;<span class="builtintype" id="1723307">uintptr</span><span class="op" id="1723314">(</span><span class="ident" id="1723315">size</span><span class="op" id="1723319">)</span>&nbsp;<span class="op" id="1723321">&lt;=</span>&nbsp;<span class="builtintype" id="1723324">uintptr</span><span class="op" id="1723331">(</span><span class="ident" id="1723332">ms</span><span class="op" id="1723334">)</span>&nbsp;<span class="op" id="1723336">||</span>&nbsp;<span class="ident" id="1723339">casuintptr</span><span class="op" id="1723349">(</span><span class="op" id="1723350">(</span><span class="op" id="1723351">*</span><span class="builtintype" id="1723352">uintptr</span><span class="op" id="1723359">)</span><span class="op" id="1723360">(</span><span class="ident" id="1723361">unsafe</span><span class="op" id="1723367">.</span><span class="ident" id="1723368">Pointer</span><span class="op" id="1723375">(</span><span class="op" id="1723376">&amp;</span><span class="ident" id="1723377">maxstring</span><span class="op" id="1723386">)</span><span class="op" id="1723387">)</span><span class="op" id="1723388">,</span>&nbsp;<span class="builtintype" id="1723390">uintptr</span><span class="op" id="1723397">(</span><span class="ident" id="1723398">ms</span><span class="op" id="1723400">)</span><span class="op" id="1723401">,</span>&nbsp;<span class="builtintype" id="1723403">uintptr</span><span class="op" id="1723410">(</span><span class="ident" id="1723411">size</span><span class="op" id="1723415">)</span><span class="op" id="1723416">)</span>&nbsp;<span class="op" id="1723418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1723423">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723435">}</span><br>
<span class="lineno">210</span><span class="op" id="1723437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1723440">//&nbsp;rawbyteslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice.&nbsp;The&nbsp;byte&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1723514">func</span>&nbsp;<span class="ident" id="1723519">rawbyteslice</span><span class="op" id="1723531">(</span><span class="ident" id="1723532">size</span>&nbsp;<span class="builtintype" id="1723537">int</span><span class="op" id="1723540">)</span>&nbsp;<span class="op" id="1723542">(</span><span class="ident" id="1723543">b</span>&nbsp;<span class="op" id="1723545">[</span><span class="op" id="1723546">]</span><span class="builtintype" id="1723547">byte</span><span class="op" id="1723551">)</span>&nbsp;<span class="op" id="1723553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1723556">cap</span>&nbsp;<span class="op" id="1723560">:=</span>&nbsp;<span class="ident" id="1723563">goroundupsize</span><span class="op" id="1723576">(</span><span class="builtintype" id="1723577">uintptr</span><span class="op" id="1723584">(</span><span class="ident" id="1723585">size</span><span class="op" id="1723589">)</span><span class="op" id="1723590">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1723593">p</span>&nbsp;<span class="op" id="1723595">:=</span>&nbsp;<span class="ident" id="1723598">mallocgc</span><span class="op" id="1723606">(</span><span class="builtinfunc" id="1723607">cap</span><span class="op" id="1723610">,</span>&nbsp;<span class="ident" id="1723612">nil</span><span class="op" id="1723615">,</span>&nbsp;<span class="ident" id="1723617">flagNoScan</span><span class="op" id="1723627">|</span><span class="ident" id="1723628">flagNoZero</span><span class="op" id="1723638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1723641">if</span>&nbsp;<span class="builtinfunc" id="1723644">cap</span>&nbsp;<span class="op" id="1723648">!=</span>&nbsp;<span class="builtintype" id="1723651">uintptr</span><span class="op" id="1723658">(</span><span class="ident" id="1723659">size</span><span class="op" id="1723663">)</span>&nbsp;<span class="op" id="1723665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1723669">memclr</span><span class="op" id="1723675">(</span><span class="ident" id="1723676">add</span><span class="op" id="1723679">(</span><span class="ident" id="1723680">p</span><span class="op" id="1723681">,</span>&nbsp;<span class="builtintype" id="1723683">uintptr</span><span class="op" id="1723690">(</span><span class="ident" id="1723691">size</span><span class="op" id="1723695">)</span><span class="op" id="1723696">)</span><span class="op" id="1723697">,</span>&nbsp;<span class="builtinfunc" id="1723699">cap</span><span class="op" id="1723702">-</span><span class="builtintype" id="1723703">uintptr</span><span class="op" id="1723710">(</span><span class="ident" id="1723711">size</span><span class="op" id="1723715">)</span><span class="op" id="1723716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723723">(</span><span class="op" id="1723724">*</span><span class="ident" id="1723725">slice</span><span class="op" id="1723730">)</span><span class="op" id="1723731">(</span><span class="ident" id="1723732">unsafe</span><span class="op" id="1723738">.</span><span class="ident" id="1723739">Pointer</span><span class="op" id="1723746">(</span><span class="op" id="1723747">&amp;</span><span class="ident" id="1723748">b</span><span class="op" id="1723749">)</span><span class="op" id="1723750">)</span><span class="op" id="1723751">.</span><span class="ident" id="1723752">array</span>&nbsp;<span class="op" id="1723758">=</span>&nbsp;<span class="op" id="1723760">(</span><span class="op" id="1723761">*</span><span class="builtintype" id="1723762">uint8</span><span class="op" id="1723767">)</span><span class="op" id="1723768">(</span><span class="ident" id="1723769">p</span><span class="op" id="1723770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723773">(</span><span class="op" id="1723774">*</span><span class="ident" id="1723775">slice</span><span class="op" id="1723780">)</span><span class="op" id="1723781">(</span><span class="ident" id="1723782">unsafe</span><span class="op" id="1723788">.</span><span class="ident" id="1723789">Pointer</span><span class="op" id="1723796">(</span><span class="op" id="1723797">&amp;</span><span class="ident" id="1723798">b</span><span class="op" id="1723799">)</span><span class="op" id="1723800">)</span><span class="op" id="1723801">.</span><span class="builtinfunc" id="1723802">len</span>&nbsp;<span class="op" id="1723806">=</span>&nbsp;<span class="builtintype" id="1723808">uint</span><span class="op" id="1723812">(</span><span class="ident" id="1723813">size</span><span class="op" id="1723817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1723820">(</span><span class="op" id="1723821">*</span><span class="ident" id="1723822">slice</span><span class="op" id="1723827">)</span><span class="op" id="1723828">(</span><span class="ident" id="1723829">unsafe</span><span class="op" id="1723835">.</span><span class="ident" id="1723836">Pointer</span><span class="op" id="1723843">(</span><span class="op" id="1723844">&amp;</span><span class="ident" id="1723845">b</span><span class="op" id="1723846">)</span><span class="op" id="1723847">)</span><span class="op" id="1723848">.</span><span class="builtinfunc" id="1723849">cap</span>&nbsp;<span class="op" id="1723853">=</span>&nbsp;<span class="builtintype" id="1723855">uint</span><span class="op" id="1723859">(</span><span class="builtinfunc" id="1723860">cap</span><span class="op" id="1723863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1723866">return</span><br>
<span class="lineno"></span><span class="op" id="1723873">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="1723876">//&nbsp;rawruneslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;rune&nbsp;slice.&nbsp;The&nbsp;rune&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1723950">func</span>&nbsp;<span class="ident" id="1723955">rawruneslice</span><span class="op" id="1723967">(</span><span class="ident" id="1723968">size</span>&nbsp;<span class="builtintype" id="1723973">int</span><span class="op" id="1723976">)</span>&nbsp;<span class="op" id="1723978">(</span><span class="ident" id="1723979">b</span>&nbsp;<span class="op" id="1723981">[</span><span class="op" id="1723982">]</span><span class="builtintype" id="1723983">rune</span><span class="op" id="1723987">)</span>&nbsp;<span class="op" id="1723989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1723992">if</span>&nbsp;<span class="builtintype" id="1723995">uintptr</span><span class="op" id="1724002">(</span><span class="ident" id="1724003">size</span><span class="op" id="1724007">)</span>&nbsp;<span class="op" id="1724009">&gt;</span>&nbsp;<span class="ident" id="1724011">maxmem</span><span class="op" id="1724017">/</span><span class="num" id="1724018">4</span>&nbsp;<span class="op" id="1724020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724024">gothrow</span><span class="op" id="1724031">(</span><span class="string" id="1724032">&#34;out&nbsp;of&nbsp;memory&#34;</span><span class="op" id="1724047">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1724050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724053">mem</span>&nbsp;<span class="op" id="1724057">:=</span>&nbsp;<span class="ident" id="1724060">goroundupsize</span><span class="op" id="1724073">(</span><span class="builtintype" id="1724074">uintptr</span><span class="op" id="1724081">(</span><span class="ident" id="1724082">size</span><span class="op" id="1724086">)</span>&nbsp;<span class="op" id="1724088">*</span>&nbsp;<span class="num" id="1724090">4</span><span class="op" id="1724091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724094">p</span>&nbsp;<span class="op" id="1724096">:=</span>&nbsp;<span class="ident" id="1724099">mallocgc</span><span class="op" id="1724107">(</span><span class="ident" id="1724108">mem</span><span class="op" id="1724111">,</span>&nbsp;<span class="ident" id="1724113">nil</span><span class="op" id="1724116">,</span>&nbsp;<span class="ident" id="1724118">flagNoScan</span><span class="op" id="1724128">|</span><span class="ident" id="1724129">flagNoZero</span><span class="op" id="1724139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724142">if</span>&nbsp;<span class="ident" id="1724145">mem</span>&nbsp;<span class="op" id="1724149">!=</span>&nbsp;<span class="builtintype" id="1724152">uintptr</span><span class="op" id="1724159">(</span><span class="ident" id="1724160">size</span><span class="op" id="1724164">)</span><span class="op" id="1724165">*</span><span class="num" id="1724166">4</span>&nbsp;<span class="op" id="1724168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724172">memclr</span><span class="op" id="1724178">(</span><span class="ident" id="1724179">add</span><span class="op" id="1724182">(</span><span class="ident" id="1724183">p</span><span class="op" id="1724184">,</span>&nbsp;<span class="builtintype" id="1724186">uintptr</span><span class="op" id="1724193">(</span><span class="ident" id="1724194">size</span><span class="op" id="1724198">)</span><span class="op" id="1724199">*</span><span class="num" id="1724200">4</span><span class="op" id="1724201">)</span><span class="op" id="1724202">,</span>&nbsp;<span class="ident" id="1724204">mem</span><span class="op" id="1724207">-</span><span class="builtintype" id="1724208">uintptr</span><span class="op" id="1724215">(</span><span class="ident" id="1724216">size</span><span class="op" id="1724220">)</span><span class="op" id="1724221">*</span><span class="num" id="1724222">4</span><span class="op" id="1724223">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1724226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1724230">(</span><span class="op" id="1724231">*</span><span class="ident" id="1724232">slice</span><span class="op" id="1724237">)</span><span class="op" id="1724238">(</span><span class="ident" id="1724239">unsafe</span><span class="op" id="1724245">.</span><span class="ident" id="1724246">Pointer</span><span class="op" id="1724253">(</span><span class="op" id="1724254">&amp;</span><span class="ident" id="1724255">b</span><span class="op" id="1724256">)</span><span class="op" id="1724257">)</span><span class="op" id="1724258">.</span><span class="ident" id="1724259">array</span>&nbsp;<span class="op" id="1724265">=</span>&nbsp;<span class="op" id="1724267">(</span><span class="op" id="1724268">*</span><span class="builtintype" id="1724269">uint8</span><span class="op" id="1724274">)</span><span class="op" id="1724275">(</span><span class="ident" id="1724276">p</span><span class="op" id="1724277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1724280">(</span><span class="op" id="1724281">*</span><span class="ident" id="1724282">slice</span><span class="op" id="1724287">)</span><span class="op" id="1724288">(</span><span class="ident" id="1724289">unsafe</span><span class="op" id="1724295">.</span><span class="ident" id="1724296">Pointer</span><span class="op" id="1724303">(</span><span class="op" id="1724304">&amp;</span><span class="ident" id="1724305">b</span><span class="op" id="1724306">)</span><span class="op" id="1724307">)</span><span class="op" id="1724308">.</span><span class="builtinfunc" id="1724309">len</span>&nbsp;<span class="op" id="1724313">=</span>&nbsp;<span class="builtintype" id="1724315">uint</span><span class="op" id="1724319">(</span><span class="ident" id="1724320">size</span><span class="op" id="1724324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1724327">(</span><span class="op" id="1724328">*</span><span class="ident" id="1724329">slice</span><span class="op" id="1724334">)</span><span class="op" id="1724335">(</span><span class="ident" id="1724336">unsafe</span><span class="op" id="1724342">.</span><span class="ident" id="1724343">Pointer</span><span class="op" id="1724350">(</span><span class="op" id="1724351">&amp;</span><span class="ident" id="1724352">b</span><span class="op" id="1724353">)</span><span class="op" id="1724354">)</span><span class="op" id="1724355">.</span><span class="builtinfunc" id="1724356">cap</span>&nbsp;<span class="op" id="1724360">=</span>&nbsp;<span class="builtintype" id="1724362">uint</span><span class="op" id="1724366">(</span><span class="ident" id="1724367">mem</span>&nbsp;<span class="op" id="1724371">/</span>&nbsp;<span class="num" id="1724373">4</span><span class="op" id="1724374">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724377">return</span><br>
<span class="lineno"></span><span class="op" id="1724384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1724387">//&nbsp;used&nbsp;by&nbsp;cmd/cgo</span><br>
<span class="lineno"></span><span class="keyword" id="1724406">func</span>&nbsp;<span class="ident" id="1724411">gobytes</span><span class="op" id="1724418">(</span><span class="ident" id="1724419">p</span>&nbsp;<span class="op" id="1724421">*</span><span class="builtintype" id="1724422">byte</span><span class="op" id="1724426">,</span>&nbsp;<span class="ident" id="1724428">n</span>&nbsp;<span class="builtintype" id="1724430">int</span><span class="op" id="1724433">)</span>&nbsp;<span class="op" id="1724435">[</span><span class="op" id="1724436">]</span><span class="builtintype" id="1724437">byte</span>&nbsp;<span class="op" id="1724442">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724445">if</span>&nbsp;<span class="ident" id="1724448">n</span>&nbsp;<span class="op" id="1724450">==</span>&nbsp;<span class="num" id="1724453">0</span>&nbsp;<span class="op" id="1724455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724459">return</span>&nbsp;<span class="builtinfunc" id="1724466">make</span><span class="op" id="1724470">(</span><span class="op" id="1724471">[</span><span class="op" id="1724472">]</span><span class="builtintype" id="1724473">byte</span><span class="op" id="1724477">,</span>&nbsp;<span class="num" id="1724479">0</span><span class="op" id="1724480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1724483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724486">x</span>&nbsp;<span class="op" id="1724488">:=</span>&nbsp;<span class="builtinfunc" id="1724491">make</span><span class="op" id="1724495">(</span><span class="op" id="1724496">[</span><span class="op" id="1724497">]</span><span class="builtintype" id="1724498">byte</span><span class="op" id="1724502">,</span>&nbsp;<span class="ident" id="1724504">n</span><span class="op" id="1724505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724508">memmove</span><span class="op" id="1724515">(</span><span class="ident" id="1724516">unsafe</span><span class="op" id="1724522">.</span><span class="ident" id="1724523">Pointer</span><span class="op" id="1724530">(</span><span class="op" id="1724531">&amp;</span><span class="ident" id="1724532">x</span><span class="op" id="1724533">[</span><span class="num" id="1724534">0</span><span class="op" id="1724535">]</span><span class="op" id="1724536">)</span><span class="op" id="1724537">,</span>&nbsp;<span class="ident" id="1724539">unsafe</span><span class="op" id="1724545">.</span><span class="ident" id="1724546">Pointer</span><span class="op" id="1724553">(</span><span class="ident" id="1724554">p</span><span class="op" id="1724555">)</span><span class="op" id="1724556">,</span>&nbsp;<span class="builtintype" id="1724558">uintptr</span><span class="op" id="1724565">(</span><span class="ident" id="1724566">n</span><span class="op" id="1724567">)</span><span class="op" id="1724568">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724571">return</span>&nbsp;<span class="ident" id="1724578">x</span><br>
<span class="lineno"></span><span class="op" id="1724580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1724583">func</span>&nbsp;<span class="ident" id="1724588">gostringsize</span><span class="op" id="1724600">(</span><span class="ident" id="1724601">n</span>&nbsp;<span class="builtintype" id="1724603">int</span><span class="op" id="1724606">)</span>&nbsp;<span class="builtintype" id="1724608">string</span>&nbsp;<span class="op" id="1724615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724618">s</span><span class="op" id="1724619">,</span>&nbsp;<span class="ident" id="1724621">_</span>&nbsp;<span class="op" id="1724623">:=</span>&nbsp;<span class="ident" id="1724626">rawstring</span><span class="op" id="1724635">(</span><span class="ident" id="1724636">n</span><span class="op" id="1724637">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724640">return</span>&nbsp;<span class="ident" id="1724647">s</span><br>
<span class="lineno"></span><span class="op" id="1724649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1724652">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1724666">func</span>&nbsp;<span class="ident" id="1724671">findnull</span><span class="op" id="1724679">(</span><span class="op" id="1724680">*</span><span class="builtintype" id="1724681">byte</span><span class="op" id="1724685">)</span>&nbsp;<span class="builtintype" id="1724687">int</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="1724692">func</span>&nbsp;<span class="ident" id="1724697">gostring</span><span class="op" id="1724705">(</span><span class="ident" id="1724706">p</span>&nbsp;<span class="op" id="1724708">*</span><span class="builtintype" id="1724709">byte</span><span class="op" id="1724713">)</span>&nbsp;<span class="builtintype" id="1724715">string</span>&nbsp;<span class="op" id="1724722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724725">l</span>&nbsp;<span class="op" id="1724727">:=</span>&nbsp;<span class="ident" id="1724730">findnull</span><span class="op" id="1724738">(</span><span class="ident" id="1724739">p</span><span class="op" id="1724740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724743">if</span>&nbsp;<span class="ident" id="1724746">l</span>&nbsp;<span class="op" id="1724748">==</span>&nbsp;<span class="num" id="1724751">0</span>&nbsp;<span class="op" id="1724753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724757">return</span>&nbsp;<span class="string" id="1724764">&#34;&#34;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1724768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724771">s</span><span class="op" id="1724772">,</span>&nbsp;<span class="ident" id="1724774">b</span>&nbsp;<span class="op" id="1724776">:=</span>&nbsp;<span class="ident" id="1724779">rawstring</span><span class="op" id="1724788">(</span><span class="ident" id="1724789">l</span><span class="op" id="1724790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724793">memmove</span><span class="op" id="1724800">(</span><span class="ident" id="1724801">unsafe</span><span class="op" id="1724807">.</span><span class="ident" id="1724808">Pointer</span><span class="op" id="1724815">(</span><span class="op" id="1724816">&amp;</span><span class="ident" id="1724817">b</span><span class="op" id="1724818">[</span><span class="num" id="1724819">0</span><span class="op" id="1724820">]</span><span class="op" id="1724821">)</span><span class="op" id="1724822">,</span>&nbsp;<span class="ident" id="1724824">unsafe</span><span class="op" id="1724830">.</span><span class="ident" id="1724831">Pointer</span><span class="op" id="1724838">(</span><span class="ident" id="1724839">p</span><span class="op" id="1724840">)</span><span class="op" id="1724841">,</span>&nbsp;<span class="builtintype" id="1724843">uintptr</span><span class="op" id="1724850">(</span><span class="ident" id="1724851">l</span><span class="op" id="1724852">)</span><span class="op" id="1724853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724856">return</span>&nbsp;<span class="ident" id="1724863">s</span><br>
<span class="lineno"></span><span class="op" id="1724865">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1724868">func</span>&nbsp;<span class="ident" id="1724873">gostringn</span><span class="op" id="1724882">(</span><span class="ident" id="1724883">p</span>&nbsp;<span class="op" id="1724885">*</span><span class="builtintype" id="1724886">byte</span><span class="op" id="1724890">,</span>&nbsp;<span class="ident" id="1724892">l</span>&nbsp;<span class="builtintype" id="1724894">int</span><span class="op" id="1724897">)</span>&nbsp;<span class="builtintype" id="1724899">string</span>&nbsp;<span class="op" id="1724906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724909">if</span>&nbsp;<span class="ident" id="1724912">l</span>&nbsp;<span class="op" id="1724914">==</span>&nbsp;<span class="num" id="1724917">0</span>&nbsp;<span class="op" id="1724919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1724923">return</span>&nbsp;<span class="string" id="1724930">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1724934">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724937">s</span><span class="op" id="1724938">,</span>&nbsp;<span class="ident" id="1724940">b</span>&nbsp;<span class="op" id="1724942">:=</span>&nbsp;<span class="ident" id="1724945">rawstring</span><span class="op" id="1724954">(</span><span class="ident" id="1724955">l</span><span class="op" id="1724956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1724959">memmove</span><span class="op" id="1724966">(</span><span class="ident" id="1724967">unsafe</span><span class="op" id="1724973">.</span><span class="ident" id="1724974">Pointer</span><span class="op" id="1724981">(</span><span class="op" id="1724982">&amp;</span><span class="ident" id="1724983">b</span><span class="op" id="1724984">[</span><span class="num" id="1724985">0</span><span class="op" id="1724986">]</span><span class="op" id="1724987">)</span><span class="op" id="1724988">,</span>&nbsp;<span class="ident" id="1724990">unsafe</span><span class="op" id="1724996">.</span><span class="ident" id="1724997">Pointer</span><span class="op" id="1725004">(</span><span class="ident" id="1725005">p</span><span class="op" id="1725006">)</span><span class="op" id="1725007">,</span>&nbsp;<span class="builtintype" id="1725009">uintptr</span><span class="op" id="1725016">(</span><span class="ident" id="1725017">l</span><span class="op" id="1725018">)</span><span class="op" id="1725019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1725022">return</span>&nbsp;<span class="ident" id="1725029">s</span><br>
<span class="lineno"></span><span class="op" id="1725031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="1725034">func</span>&nbsp;<span class="ident" id="1725039">index</span><span class="op" id="1725044">(</span><span class="ident" id="1725045">s</span><span class="op" id="1725046">,</span>&nbsp;<span class="ident" id="1725048">t</span>&nbsp;<span class="builtintype" id="1725050">string</span><span class="op" id="1725056">)</span>&nbsp;<span class="builtintype" id="1725058">int</span>&nbsp;<span class="op" id="1725062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1725065">if</span>&nbsp;<span class="builtinfunc" id="1725068">len</span><span class="op" id="1725071">(</span><span class="ident" id="1725072">t</span><span class="op" id="1725073">)</span>&nbsp;<span class="op" id="1725075">==</span>&nbsp;<span class="num" id="1725078">0</span>&nbsp;<span class="op" id="1725080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1725084">return</span>&nbsp;<span class="num" id="1725091">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1725094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1725097">for</span>&nbsp;<span class="ident" id="1725101">i</span>&nbsp;<span class="op" id="1725103">:=</span>&nbsp;<span class="num" id="1725106">0</span><span class="op" id="1725107">;</span>&nbsp;<span class="ident" id="1725109">i</span>&nbsp;<span class="op" id="1725111">&lt;</span>&nbsp;<span class="builtinfunc" id="1725113">len</span><span class="op" id="1725116">(</span><span class="ident" id="1725117">s</span><span class="op" id="1725118">)</span><span class="op" id="1725119">;</span>&nbsp;<span class="ident" id="1725121">i</span><span class="op" id="1725122">++</span>&nbsp;<span class="op" id="1725125">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1725129">if</span>&nbsp;<span class="ident" id="1725132">s</span><span class="op" id="1725133">[</span><span class="ident" id="1725134">i</span><span class="op" id="1725135">]</span>&nbsp;<span class="op" id="1725137">==</span>&nbsp;<span class="ident" id="1725140">t</span><span class="op" id="1725141">[</span><span class="num" id="1725142">0</span><span class="op" id="1725143">]</span>&nbsp;<span class="op" id="1725145">&amp;&amp;</span>&nbsp;<span class="ident" id="1725148">hasprefix</span><span class="op" id="1725157">(</span><span class="ident" id="1725158">s</span><span class="op" id="1725159">[</span><span class="ident" id="1725160">i</span><span class="op" id="1725161">:</span><span class="op" id="1725162">]</span><span class="op" id="1725163">,</span>&nbsp;<span class="ident" id="1725165">t</span><span class="op" id="1725166">)</span>&nbsp;<span class="op" id="1725168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1725173">return</span>&nbsp;<span class="ident" id="1725180">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1725184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1725187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1725190">return</span>&nbsp;<span class="op" id="1725197">-</span><span class="num" id="1725198">1</span><br>
<span class="lineno">290</span><span class="op" id="1725200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1725203">func</span>&nbsp;<span class="ident" id="1725208">contains</span><span class="op" id="1725216">(</span><span class="ident" id="1725217">s</span><span class="op" id="1725218">,</span>&nbsp;<span class="ident" id="1725220">t</span>&nbsp;<span class="builtintype" id="1725222">string</span><span class="op" id="1725228">)</span>&nbsp;<span class="builtintype" id="1725230">bool</span>&nbsp;<span class="op" id="1725235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1725238">return</span>&nbsp;<span class="ident" id="1725245">index</span><span class="op" id="1725250">(</span><span class="ident" id="1725251">s</span><span class="op" id="1725252">,</span>&nbsp;<span class="ident" id="1725254">t</span><span class="op" id="1725255">)</span>&nbsp;<span class="op" id="1725257">&gt;=</span>&nbsp;<span class="num" id="1725260">0</span><br>
<span class="lineno"></span><span class="op" id="1725262">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="1725265">func</span>&nbsp;<span class="ident" id="1725270">hasprefix</span><span class="op" id="1725279">(</span><span class="ident" id="1725280">s</span><span class="op" id="1725281">,</span>&nbsp;<span class="ident" id="1725283">t</span>&nbsp;<span class="builtintype" id="1725285">string</span><span class="op" id="1725291">)</span>&nbsp;<span class="builtintype" id="1725293">bool</span>&nbsp;<span class="op" id="1725298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1725301">return</span>&nbsp;<span class="builtinfunc" id="1725308">len</span><span class="op" id="1725311">(</span><span class="ident" id="1725312">s</span><span class="op" id="1725313">)</span>&nbsp;<span class="op" id="1725315">&gt;=</span>&nbsp;<span class="builtinfunc" id="1725318">len</span><span class="op" id="1725321">(</span><span class="ident" id="1725322">t</span><span class="op" id="1725323">)</span>&nbsp;<span class="op" id="1725325">&amp;&amp;</span>&nbsp;<span class="ident" id="1725328">s</span><span class="op" id="1725329">[</span><span class="op" id="1725330">:</span><span class="builtinfunc" id="1725331">len</span><span class="op" id="1725334">(</span><span class="ident" id="1725335">t</span><span class="op" id="1725336">)</span><span class="op" id="1725337">]</span>&nbsp;<span class="op" id="1725339">==</span>&nbsp;<span class="ident" id="1725342">t</span><br>
<span class="lineno"></span><span class="op" id="1725344">}</span>
</div>
</body>
</html>
