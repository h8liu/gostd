<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/base32</h2>
<ul>
<li><a href="/gostd/encoding/base32/base32.go.html">base32.go</a></li>
<li><a href="/gostd/encoding/base32/base32_test.go.html">base32_test.go</a></li>
<li><a href="/gostd/encoding/base32/example_test.go.html">example_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7466378">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7466433">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7466487">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7466538">package</span>&nbsp;<span class="ident" id="7466546">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7466554">import</span>&nbsp;<span class="op" id="7466561">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466564">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466573">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466579">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466592">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466603">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7466613">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7466616">type</span>&nbsp;<span class="ident" id="7466621">testpair</span>&nbsp;<span class="keyword" id="7466630">struct</span>&nbsp;<span class="op" id="7466637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466640">decoded</span><span class="op" id="7466647">,</span>&nbsp;<span class="ident" id="7466649">encoded</span>&nbsp;<span class="builtintype" id="7466657">string</span><br>
<span class="lineno"></span><span class="op" id="7466664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7466667">var</span>&nbsp;<span class="ident" id="7466671">pairs</span>&nbsp;<span class="op" id="7466677">=</span>&nbsp;<span class="op" id="7466679">[</span><span class="op" id="7466680">]</span><span class="ident" id="7466681">testpair</span><span class="op" id="7466689">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7466692">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466714">{</span><span class="string" id="7466715">&#34;&#34;</span><span class="op" id="7466717">,</span>&nbsp;<span class="string" id="7466719">&#34;&#34;</span><span class="op" id="7466721">}</span><span class="op" id="7466722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466725">{</span><span class="string" id="7466726">&#34;f&#34;</span><span class="op" id="7466729">,</span>&nbsp;<span class="string" id="7466731">&#34;MY======&#34;</span><span class="op" id="7466741">}</span><span class="op" id="7466742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466745">{</span><span class="string" id="7466746">&#34;fo&#34;</span><span class="op" id="7466750">,</span>&nbsp;<span class="string" id="7466752">&#34;MZXQ====&#34;</span><span class="op" id="7466762">}</span><span class="op" id="7466763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466766">{</span><span class="string" id="7466767">&#34;foo&#34;</span><span class="op" id="7466772">,</span>&nbsp;<span class="string" id="7466774">&#34;MZXW6===&#34;</span><span class="op" id="7466784">}</span><span class="op" id="7466785">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466788">{</span><span class="string" id="7466789">&#34;foob&#34;</span><span class="op" id="7466795">,</span>&nbsp;<span class="string" id="7466797">&#34;MZXW6YQ=&#34;</span><span class="op" id="7466807">}</span><span class="op" id="7466808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466811">{</span><span class="string" id="7466812">&#34;fooba&#34;</span><span class="op" id="7466819">,</span>&nbsp;<span class="string" id="7466821">&#34;MZXW6YTB&#34;</span><span class="op" id="7466831">}</span><span class="op" id="7466832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466835">{</span><span class="string" id="7466836">&#34;foobar&#34;</span><span class="op" id="7466844">,</span>&nbsp;<span class="string" id="7466846">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7466864">}</span><span class="op" id="7466865">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7466869">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466913">{</span><span class="string" id="7466914">&#34;sure.&#34;</span><span class="op" id="7466921">,</span>&nbsp;<span class="string" id="7466923">&#34;ON2XEZJO&#34;</span><span class="op" id="7466933">}</span><span class="op" id="7466934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466937">{</span><span class="string" id="7466938">&#34;sure&#34;</span><span class="op" id="7466944">,</span>&nbsp;<span class="string" id="7466946">&#34;ON2XEZI=&#34;</span><span class="op" id="7466956">}</span><span class="op" id="7466957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466960">{</span><span class="string" id="7466961">&#34;sur&#34;</span><span class="op" id="7466966">,</span>&nbsp;<span class="string" id="7466968">&#34;ON2XE===&#34;</span><span class="op" id="7466978">}</span><span class="op" id="7466979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466982">{</span><span class="string" id="7466983">&#34;su&#34;</span><span class="op" id="7466987">,</span>&nbsp;<span class="string" id="7466989">&#34;ON2Q====&#34;</span><span class="op" id="7466999">}</span><span class="op" id="7467000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467003">{</span><span class="string" id="7467004">&#34;leasure.&#34;</span><span class="op" id="7467014">,</span>&nbsp;<span class="string" id="7467016">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="7467034">}</span><span class="op" id="7467035">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467038">{</span><span class="string" id="7467039">&#34;easure.&#34;</span><span class="op" id="7467048">,</span>&nbsp;<span class="string" id="7467050">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="7467068">}</span><span class="op" id="7467069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467072">{</span><span class="string" id="7467073">&#34;asure.&#34;</span><span class="op" id="7467081">,</span>&nbsp;<span class="string" id="7467083">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="7467101">}</span><span class="op" id="7467102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467105">{</span><span class="string" id="7467106">&#34;sure.&#34;</span><span class="op" id="7467113">,</span>&nbsp;<span class="string" id="7467115">&#34;ON2XEZJO&#34;</span><span class="op" id="7467125">}</span><span class="op" id="7467126">,</span><br>
<span class="lineno"></span><span class="op" id="7467128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7467131">var</span>&nbsp;<span class="ident" id="7467135">bigtest</span>&nbsp;<span class="op" id="7467143">=</span>&nbsp;<span class="ident" id="7467145">testpair</span><span class="op" id="7467153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7467156">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="7467192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7467195">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="7467253">,</span><br>
<span class="lineno"></span><span class="op" id="7467255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="7467258">func</span>&nbsp;<span class="ident" id="7467263">testEqual</span><span class="op" id="7467272">(</span><span class="ident" id="7467273">t</span>&nbsp;<span class="op" id="7467275">*</span><span class="ident" id="7467276">testing</span><span class="op" id="7467283">.</span><span class="ident" id="7467284">T</span><span class="op" id="7467285">,</span>&nbsp;<span class="ident" id="7467287">msg</span>&nbsp;<span class="builtintype" id="7467291">string</span><span class="op" id="7467297">,</span>&nbsp;<span class="ident" id="7467299">args</span>&nbsp;<span class="op" id="7467304">...</span><span class="keyword" id="7467307">interface</span><span class="op" id="7467316">{</span><span class="op" id="7467317">}</span><span class="op" id="7467318">)</span>&nbsp;<span class="builtintype" id="7467320">bool</span>&nbsp;<span class="op" id="7467325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467328">if</span>&nbsp;<span class="ident" id="7467331">args</span><span class="op" id="7467335">[</span><span class="builtinfunc" id="7467336">len</span><span class="op" id="7467339">(</span><span class="ident" id="7467340">args</span><span class="op" id="7467344">)</span><span class="op" id="7467345">-</span><span class="num" id="7467346">2</span><span class="op" id="7467347">]</span>&nbsp;<span class="op" id="7467349">!=</span>&nbsp;<span class="ident" id="7467352">args</span><span class="op" id="7467356">[</span><span class="builtinfunc" id="7467357">len</span><span class="op" id="7467360">(</span><span class="ident" id="7467361">args</span><span class="op" id="7467365">)</span><span class="op" id="7467366">-</span><span class="num" id="7467367">1</span><span class="op" id="7467368">]</span>&nbsp;<span class="op" id="7467370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467374">t</span><span class="op" id="7467375">.</span><span class="ident" id="7467376">Errorf</span><span class="op" id="7467382">(</span><span class="ident" id="7467383">msg</span><span class="op" id="7467386">,</span>&nbsp;<span class="ident" id="7467388">args</span><span class="op" id="7467392">...</span><span class="op" id="7467395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467399">return</span>&nbsp;<span class="builtintype" id="7467406">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467413">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467416">return</span>&nbsp;<span class="builtintype" id="7467423">true</span><br>
<span class="lineno"></span><span class="op" id="7467428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7467431">func</span>&nbsp;<span class="ident" id="7467436">TestEncode</span><span class="op" id="7467446">(</span><span class="ident" id="7467447">t</span>&nbsp;<span class="op" id="7467449">*</span><span class="ident" id="7467450">testing</span><span class="op" id="7467457">.</span><span class="ident" id="7467458">T</span><span class="op" id="7467459">)</span>&nbsp;<span class="op" id="7467461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467464">for</span>&nbsp;<span class="ident" id="7467468">_</span><span class="op" id="7467469">,</span>&nbsp;<span class="ident" id="7467471">p</span>&nbsp;<span class="op" id="7467473">:=</span>&nbsp;<span class="keyword" id="7467476">range</span>&nbsp;<span class="ident" id="7467482">pairs</span>&nbsp;<span class="op" id="7467488">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467492">got</span>&nbsp;<span class="op" id="7467496">:=</span>&nbsp;<span class="ident" id="7467499">StdEncoding</span><span class="op" id="7467510">.</span><span class="ident" id="7467511">EncodeToString</span><span class="op" id="7467525">(</span><span class="op" id="7467526">[</span><span class="op" id="7467527">]</span><span class="builtintype" id="7467528">byte</span><span class="op" id="7467532">(</span><span class="ident" id="7467533">p</span><span class="op" id="7467534">.</span><span class="ident" id="7467535">decoded</span><span class="op" id="7467542">)</span><span class="op" id="7467543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467547">testEqual</span><span class="op" id="7467556">(</span><span class="ident" id="7467557">t</span><span class="op" id="7467558">,</span>&nbsp;<span class="string" id="7467560">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7467586">,</span>&nbsp;<span class="ident" id="7467588">p</span><span class="op" id="7467589">.</span><span class="ident" id="7467590">decoded</span><span class="op" id="7467597">,</span>&nbsp;<span class="ident" id="7467599">got</span><span class="op" id="7467602">,</span>&nbsp;<span class="ident" id="7467604">p</span><span class="op" id="7467605">.</span><span class="ident" id="7467606">encoded</span><span class="op" id="7467613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467616">}</span><br>
<span class="lineno"></span><span class="op" id="7467618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7467621">func</span>&nbsp;<span class="ident" id="7467626">TestEncoder</span><span class="op" id="7467637">(</span><span class="ident" id="7467638">t</span>&nbsp;<span class="op" id="7467640">*</span><span class="ident" id="7467641">testing</span><span class="op" id="7467648">.</span><span class="ident" id="7467649">T</span><span class="op" id="7467650">)</span>&nbsp;<span class="op" id="7467652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467655">for</span>&nbsp;<span class="ident" id="7467659">_</span><span class="op" id="7467660">,</span>&nbsp;<span class="ident" id="7467662">p</span>&nbsp;<span class="op" id="7467664">:=</span>&nbsp;<span class="keyword" id="7467667">range</span>&nbsp;<span class="ident" id="7467673">pairs</span>&nbsp;<span class="op" id="7467679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467683">bb</span>&nbsp;<span class="op" id="7467686">:=</span>&nbsp;<span class="op" id="7467689">&amp;</span><span class="ident" id="7467690">bytes</span><span class="op" id="7467695">.</span><span class="ident" id="7467696">Buffer</span><span class="op" id="7467702">{</span><span class="op" id="7467703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467707">encoder</span>&nbsp;<span class="op" id="7467715">:=</span>&nbsp;<span class="ident" id="7467718">NewEncoder</span><span class="op" id="7467728">(</span><span class="ident" id="7467729">StdEncoding</span><span class="op" id="7467740">,</span>&nbsp;<span class="ident" id="7467742">bb</span><span class="op" id="7467744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467748">encoder</span><span class="op" id="7467755">.</span><span class="ident" id="7467756">Write</span><span class="op" id="7467761">(</span><span class="op" id="7467762">[</span><span class="op" id="7467763">]</span><span class="builtintype" id="7467764">byte</span><span class="op" id="7467768">(</span><span class="ident" id="7467769">p</span><span class="op" id="7467770">.</span><span class="ident" id="7467771">decoded</span><span class="op" id="7467778">)</span><span class="op" id="7467779">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467783">encoder</span><span class="op" id="7467790">.</span><span class="ident" id="7467791">Close</span><span class="op" id="7467796">(</span><span class="op" id="7467797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467801">testEqual</span><span class="op" id="7467810">(</span><span class="ident" id="7467811">t</span><span class="op" id="7467812">,</span>&nbsp;<span class="string" id="7467814">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7467840">,</span>&nbsp;<span class="ident" id="7467842">p</span><span class="op" id="7467843">.</span><span class="ident" id="7467844">decoded</span><span class="op" id="7467851">,</span>&nbsp;<span class="ident" id="7467853">bb</span><span class="op" id="7467855">.</span><span class="ident" id="7467856">String</span><span class="op" id="7467862">(</span><span class="op" id="7467863">)</span><span class="op" id="7467864">,</span>&nbsp;<span class="ident" id="7467866">p</span><span class="op" id="7467867">.</span><span class="ident" id="7467868">encoded</span><span class="op" id="7467875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467878">}</span><br>
<span class="lineno"></span><span class="op" id="7467880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7467883">func</span>&nbsp;<span class="ident" id="7467888">TestEncoderBuffering</span><span class="op" id="7467908">(</span><span class="ident" id="7467909">t</span>&nbsp;<span class="op" id="7467911">*</span><span class="ident" id="7467912">testing</span><span class="op" id="7467919">.</span><span class="ident" id="7467920">T</span><span class="op" id="7467921">)</span>&nbsp;<span class="op" id="7467923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467926">input</span>&nbsp;<span class="op" id="7467932">:=</span>&nbsp;<span class="op" id="7467935">[</span><span class="op" id="7467936">]</span><span class="builtintype" id="7467937">byte</span><span class="op" id="7467941">(</span><span class="ident" id="7467942">bigtest</span><span class="op" id="7467949">.</span><span class="ident" id="7467950">decoded</span><span class="op" id="7467957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467960">for</span>&nbsp;<span class="ident" id="7467964">bs</span>&nbsp;<span class="op" id="7467967">:=</span>&nbsp;<span class="num" id="7467970">1</span><span class="op" id="7467971">;</span>&nbsp;<span class="ident" id="7467973">bs</span>&nbsp;<span class="op" id="7467976">&lt;=</span>&nbsp;<span class="num" id="7467979">12</span><span class="op" id="7467981">;</span>&nbsp;<span class="ident" id="7467983">bs</span><span class="op" id="7467985">++</span>&nbsp;<span class="op" id="7467988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467992">bb</span>&nbsp;<span class="op" id="7467995">:=</span>&nbsp;<span class="op" id="7467998">&amp;</span><span class="ident" id="7467999">bytes</span><span class="op" id="7468004">.</span><span class="ident" id="7468005">Buffer</span><span class="op" id="7468011">{</span><span class="op" id="7468012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468016">encoder</span>&nbsp;<span class="op" id="7468024">:=</span>&nbsp;<span class="ident" id="7468027">NewEncoder</span><span class="op" id="7468037">(</span><span class="ident" id="7468038">StdEncoding</span><span class="op" id="7468049">,</span>&nbsp;<span class="ident" id="7468051">bb</span><span class="op" id="7468053">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468057">for</span>&nbsp;<span class="ident" id="7468061">pos</span>&nbsp;<span class="op" id="7468065">:=</span>&nbsp;<span class="num" id="7468068">0</span><span class="op" id="7468069">;</span>&nbsp;<span class="ident" id="7468071">pos</span>&nbsp;<span class="op" id="7468075">&lt;</span>&nbsp;<span class="builtinfunc" id="7468077">len</span><span class="op" id="7468080">(</span><span class="ident" id="7468081">input</span><span class="op" id="7468086">)</span><span class="op" id="7468087">;</span>&nbsp;<span class="ident" id="7468089">pos</span>&nbsp;<span class="op" id="7468093">+=</span>&nbsp;<span class="ident" id="7468096">bs</span>&nbsp;<span class="op" id="7468099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468104">end</span>&nbsp;<span class="op" id="7468108">:=</span>&nbsp;<span class="ident" id="7468111">pos</span>&nbsp;<span class="op" id="7468115">+</span>&nbsp;<span class="ident" id="7468117">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468123">if</span>&nbsp;<span class="ident" id="7468126">end</span>&nbsp;<span class="op" id="7468130">&gt;</span>&nbsp;<span class="builtinfunc" id="7468132">len</span><span class="op" id="7468135">(</span><span class="ident" id="7468136">input</span><span class="op" id="7468141">)</span>&nbsp;<span class="op" id="7468143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468149">end</span>&nbsp;<span class="op" id="7468153">=</span>&nbsp;<span class="builtinfunc" id="7468155">len</span><span class="op" id="7468158">(</span><span class="ident" id="7468159">input</span><span class="op" id="7468164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468169">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468174">n</span><span class="op" id="7468175">,</span>&nbsp;<span class="ident" id="7468177">err</span>&nbsp;<span class="op" id="7468181">:=</span>&nbsp;<span class="ident" id="7468184">encoder</span><span class="op" id="7468191">.</span><span class="ident" id="7468192">Write</span><span class="op" id="7468197">(</span><span class="ident" id="7468198">input</span><span class="op" id="7468203">[</span><span class="ident" id="7468204">pos</span><span class="op" id="7468207">:</span><span class="ident" id="7468208">end</span><span class="op" id="7468211">]</span><span class="op" id="7468212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468217">testEqual</span><span class="op" id="7468226">(</span><span class="ident" id="7468227">t</span><span class="op" id="7468228">,</span>&nbsp;<span class="string" id="7468230">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7468264">,</span>&nbsp;<span class="ident" id="7468266">input</span><span class="op" id="7468271">[</span><span class="ident" id="7468272">pos</span><span class="op" id="7468275">:</span><span class="ident" id="7468276">end</span><span class="op" id="7468279">]</span><span class="op" id="7468280">,</span>&nbsp;<span class="ident" id="7468282">err</span><span class="op" id="7468285">,</span>&nbsp;<span class="builtintype" id="7468287">error</span><span class="op" id="7468292">(</span><span class="ident" id="7468293">nil</span><span class="op" id="7468296">)</span><span class="op" id="7468297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468302">testEqual</span><span class="op" id="7468311">(</span><span class="ident" id="7468312">t</span><span class="op" id="7468313">,</span>&nbsp;<span class="string" id="7468315">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7468350">,</span>&nbsp;<span class="ident" id="7468352">input</span><span class="op" id="7468357">[</span><span class="ident" id="7468358">pos</span><span class="op" id="7468361">:</span><span class="ident" id="7468362">end</span><span class="op" id="7468365">]</span><span class="op" id="7468366">,</span>&nbsp;<span class="ident" id="7468368">n</span><span class="op" id="7468369">,</span>&nbsp;<span class="ident" id="7468371">end</span><span class="op" id="7468374">-</span><span class="ident" id="7468375">pos</span><span class="op" id="7468378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468386">err</span>&nbsp;<span class="op" id="7468390">:=</span>&nbsp;<span class="ident" id="7468393">encoder</span><span class="op" id="7468400">.</span><span class="ident" id="7468401">Close</span><span class="op" id="7468406">(</span><span class="op" id="7468407">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468411">testEqual</span><span class="op" id="7468420">(</span><span class="ident" id="7468421">t</span><span class="op" id="7468422">,</span>&nbsp;<span class="string" id="7468424">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7468454">,</span>&nbsp;<span class="ident" id="7468456">err</span><span class="op" id="7468459">,</span>&nbsp;<span class="builtintype" id="7468461">error</span><span class="op" id="7468466">(</span><span class="ident" id="7468467">nil</span><span class="op" id="7468470">)</span><span class="op" id="7468471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468475">testEqual</span><span class="op" id="7468484">(</span><span class="ident" id="7468485">t</span><span class="op" id="7468486">,</span>&nbsp;<span class="string" id="7468488">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7468521">,</span>&nbsp;<span class="ident" id="7468523">bs</span><span class="op" id="7468525">,</span>&nbsp;<span class="ident" id="7468527">bigtest</span><span class="op" id="7468534">.</span><span class="ident" id="7468535">decoded</span><span class="op" id="7468542">,</span>&nbsp;<span class="ident" id="7468544">bb</span><span class="op" id="7468546">.</span><span class="ident" id="7468547">String</span><span class="op" id="7468553">(</span><span class="op" id="7468554">)</span><span class="op" id="7468555">,</span>&nbsp;<span class="ident" id="7468557">bigtest</span><span class="op" id="7468564">.</span><span class="ident" id="7468565">encoded</span><span class="op" id="7468572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468575">}</span><br>
<span class="lineno"></span><span class="op" id="7468577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7468580">func</span>&nbsp;<span class="ident" id="7468585">TestDecode</span><span class="op" id="7468595">(</span><span class="ident" id="7468596">t</span>&nbsp;<span class="op" id="7468598">*</span><span class="ident" id="7468599">testing</span><span class="op" id="7468606">.</span><span class="ident" id="7468607">T</span><span class="op" id="7468608">)</span>&nbsp;<span class="op" id="7468610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468613">for</span>&nbsp;<span class="ident" id="7468617">_</span><span class="op" id="7468618">,</span>&nbsp;<span class="ident" id="7468620">p</span>&nbsp;<span class="op" id="7468622">:=</span>&nbsp;<span class="keyword" id="7468625">range</span>&nbsp;<span class="ident" id="7468631">pairs</span>&nbsp;<span class="op" id="7468637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468641">dbuf</span>&nbsp;<span class="op" id="7468646">:=</span>&nbsp;<span class="builtinfunc" id="7468649">make</span><span class="op" id="7468653">(</span><span class="op" id="7468654">[</span><span class="op" id="7468655">]</span><span class="builtintype" id="7468656">byte</span><span class="op" id="7468660">,</span>&nbsp;<span class="ident" id="7468662">StdEncoding</span><span class="op" id="7468673">.</span><span class="ident" id="7468674">DecodedLen</span><span class="op" id="7468684">(</span><span class="builtinfunc" id="7468685">len</span><span class="op" id="7468688">(</span><span class="ident" id="7468689">p</span><span class="op" id="7468690">.</span><span class="ident" id="7468691">encoded</span><span class="op" id="7468698">)</span><span class="op" id="7468699">)</span><span class="op" id="7468700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468704">count</span><span class="op" id="7468709">,</span>&nbsp;<span class="ident" id="7468711">end</span><span class="op" id="7468714">,</span>&nbsp;<span class="ident" id="7468716">err</span>&nbsp;<span class="op" id="7468720">:=</span>&nbsp;<span class="ident" id="7468723">StdEncoding</span><span class="op" id="7468734">.</span><span class="ident" id="7468735">decode</span><span class="op" id="7468741">(</span><span class="ident" id="7468742">dbuf</span><span class="op" id="7468746">,</span>&nbsp;<span class="op" id="7468748">[</span><span class="op" id="7468749">]</span><span class="builtintype" id="7468750">byte</span><span class="op" id="7468754">(</span><span class="ident" id="7468755">p</span><span class="op" id="7468756">.</span><span class="ident" id="7468757">encoded</span><span class="op" id="7468764">)</span><span class="op" id="7468765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468769">testEqual</span><span class="op" id="7468778">(</span><span class="ident" id="7468779">t</span><span class="op" id="7468780">,</span>&nbsp;<span class="string" id="7468782">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7468814">,</span>&nbsp;<span class="ident" id="7468816">p</span><span class="op" id="7468817">.</span><span class="ident" id="7468818">encoded</span><span class="op" id="7468825">,</span>&nbsp;<span class="ident" id="7468827">err</span><span class="op" id="7468830">,</span>&nbsp;<span class="builtintype" id="7468832">error</span><span class="op" id="7468837">(</span><span class="ident" id="7468838">nil</span><span class="op" id="7468841">)</span><span class="op" id="7468842">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468846">testEqual</span><span class="op" id="7468855">(</span><span class="ident" id="7468856">t</span><span class="op" id="7468857">,</span>&nbsp;<span class="string" id="7468859">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7468892">,</span>&nbsp;<span class="ident" id="7468894">p</span><span class="op" id="7468895">.</span><span class="ident" id="7468896">encoded</span><span class="op" id="7468903">,</span>&nbsp;<span class="ident" id="7468905">count</span><span class="op" id="7468910">,</span>&nbsp;<span class="builtinfunc" id="7468912">len</span><span class="op" id="7468915">(</span><span class="ident" id="7468916">p</span><span class="op" id="7468917">.</span><span class="ident" id="7468918">decoded</span><span class="op" id="7468925">)</span><span class="op" id="7468926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468930">if</span>&nbsp;<span class="builtinfunc" id="7468933">len</span><span class="op" id="7468936">(</span><span class="ident" id="7468937">p</span><span class="op" id="7468938">.</span><span class="ident" id="7468939">encoded</span><span class="op" id="7468946">)</span>&nbsp;<span class="op" id="7468948">&gt;</span>&nbsp;<span class="num" id="7468950">0</span>&nbsp;<span class="op" id="7468952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468957">testEqual</span><span class="op" id="7468966">(</span><span class="ident" id="7468967">t</span><span class="op" id="7468968">,</span>&nbsp;<span class="string" id="7468970">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7469000">,</span>&nbsp;<span class="ident" id="7469002">p</span><span class="op" id="7469003">.</span><span class="ident" id="7469004">encoded</span><span class="op" id="7469011">,</span>&nbsp;<span class="ident" id="7469013">end</span><span class="op" id="7469016">,</span>&nbsp;<span class="op" id="7469018">(</span><span class="ident" id="7469019">p</span><span class="op" id="7469020">.</span><span class="ident" id="7469021">encoded</span><span class="op" id="7469028">[</span><span class="builtinfunc" id="7469029">len</span><span class="op" id="7469032">(</span><span class="ident" id="7469033">p</span><span class="op" id="7469034">.</span><span class="ident" id="7469035">encoded</span><span class="op" id="7469042">)</span><span class="op" id="7469043">-</span><span class="num" id="7469044">1</span><span class="op" id="7469045">]</span>&nbsp;<span class="op" id="7469047">==</span>&nbsp;<span class="string" id="7469050">&#39;=&#39;</span><span class="op" id="7469053">)</span><span class="op" id="7469054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469062">testEqual</span><span class="op" id="7469071">(</span><span class="ident" id="7469072">t</span><span class="op" id="7469073">,</span>&nbsp;<span class="string" id="7469075">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7469101">,</span>&nbsp;<span class="ident" id="7469103">p</span><span class="op" id="7469104">.</span><span class="ident" id="7469105">encoded</span><span class="op" id="7469112">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7469117">string</span><span class="op" id="7469123">(</span><span class="ident" id="7469124">dbuf</span><span class="op" id="7469128">[</span><span class="num" id="7469129">0</span><span class="op" id="7469130">:</span><span class="ident" id="7469131">count</span><span class="op" id="7469136">]</span><span class="op" id="7469137">)</span><span class="op" id="7469138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469143">p</span><span class="op" id="7469144">.</span><span class="ident" id="7469145">decoded</span><span class="op" id="7469152">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469157">dbuf</span><span class="op" id="7469161">,</span>&nbsp;<span class="ident" id="7469163">err</span>&nbsp;<span class="op" id="7469167">=</span>&nbsp;<span class="ident" id="7469169">StdEncoding</span><span class="op" id="7469180">.</span><span class="ident" id="7469181">DecodeString</span><span class="op" id="7469193">(</span><span class="ident" id="7469194">p</span><span class="op" id="7469195">.</span><span class="ident" id="7469196">encoded</span><span class="op" id="7469203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469207">testEqual</span><span class="op" id="7469216">(</span><span class="ident" id="7469217">t</span><span class="op" id="7469218">,</span>&nbsp;<span class="string" id="7469220">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7469258">,</span>&nbsp;<span class="ident" id="7469260">p</span><span class="op" id="7469261">.</span><span class="ident" id="7469262">encoded</span><span class="op" id="7469269">,</span>&nbsp;<span class="ident" id="7469271">err</span><span class="op" id="7469274">,</span>&nbsp;<span class="builtintype" id="7469276">error</span><span class="op" id="7469281">(</span><span class="ident" id="7469282">nil</span><span class="op" id="7469285">)</span><span class="op" id="7469286">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469290">testEqual</span><span class="op" id="7469299">(</span><span class="ident" id="7469300">t</span><span class="op" id="7469301">,</span>&nbsp;<span class="string" id="7469303">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7469335">,</span>&nbsp;<span class="ident" id="7469337">p</span><span class="op" id="7469338">.</span><span class="ident" id="7469339">encoded</span><span class="op" id="7469346">,</span>&nbsp;<span class="builtintype" id="7469348">string</span><span class="op" id="7469354">(</span><span class="ident" id="7469355">dbuf</span><span class="op" id="7469359">)</span><span class="op" id="7469360">,</span>&nbsp;<span class="ident" id="7469362">p</span><span class="op" id="7469363">.</span><span class="ident" id="7469364">decoded</span><span class="op" id="7469371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469374">}</span><br>
<span class="lineno"></span><span class="op" id="7469376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7469379">func</span>&nbsp;<span class="ident" id="7469384">TestDecoder</span><span class="op" id="7469395">(</span><span class="ident" id="7469396">t</span>&nbsp;<span class="op" id="7469398">*</span><span class="ident" id="7469399">testing</span><span class="op" id="7469406">.</span><span class="ident" id="7469407">T</span><span class="op" id="7469408">)</span>&nbsp;<span class="op" id="7469410">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469413">for</span>&nbsp;<span class="ident" id="7469417">_</span><span class="op" id="7469418">,</span>&nbsp;<span class="ident" id="7469420">p</span>&nbsp;<span class="op" id="7469422">:=</span>&nbsp;<span class="keyword" id="7469425">range</span>&nbsp;<span class="ident" id="7469431">pairs</span>&nbsp;<span class="op" id="7469437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469441">decoder</span>&nbsp;<span class="op" id="7469449">:=</span>&nbsp;<span class="ident" id="7469452">NewDecoder</span><span class="op" id="7469462">(</span><span class="ident" id="7469463">StdEncoding</span><span class="op" id="7469474">,</span>&nbsp;<span class="ident" id="7469476">strings</span><span class="op" id="7469483">.</span><span class="ident" id="7469484">NewReader</span><span class="op" id="7469493">(</span><span class="ident" id="7469494">p</span><span class="op" id="7469495">.</span><span class="ident" id="7469496">encoded</span><span class="op" id="7469503">)</span><span class="op" id="7469504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469508">dbuf</span>&nbsp;<span class="op" id="7469513">:=</span>&nbsp;<span class="builtinfunc" id="7469516">make</span><span class="op" id="7469520">(</span><span class="op" id="7469521">[</span><span class="op" id="7469522">]</span><span class="builtintype" id="7469523">byte</span><span class="op" id="7469527">,</span>&nbsp;<span class="ident" id="7469529">StdEncoding</span><span class="op" id="7469540">.</span><span class="ident" id="7469541">DecodedLen</span><span class="op" id="7469551">(</span><span class="builtinfunc" id="7469552">len</span><span class="op" id="7469555">(</span><span class="ident" id="7469556">p</span><span class="op" id="7469557">.</span><span class="ident" id="7469558">encoded</span><span class="op" id="7469565">)</span><span class="op" id="7469566">)</span><span class="op" id="7469567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469571">count</span><span class="op" id="7469576">,</span>&nbsp;<span class="ident" id="7469578">err</span>&nbsp;<span class="op" id="7469582">:=</span>&nbsp;<span class="ident" id="7469585">decoder</span><span class="op" id="7469592">.</span><span class="ident" id="7469593">Read</span><span class="op" id="7469597">(</span><span class="ident" id="7469598">dbuf</span><span class="op" id="7469602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469606">if</span>&nbsp;<span class="ident" id="7469609">err</span>&nbsp;<span class="op" id="7469613">!=</span>&nbsp;<span class="ident" id="7469616">nil</span>&nbsp;<span class="op" id="7469620">&amp;&amp;</span>&nbsp;<span class="ident" id="7469623">err</span>&nbsp;<span class="op" id="7469627">!=</span>&nbsp;<span class="ident" id="7469630">io</span><span class="op" id="7469632">.</span><span class="ident" id="7469633">EOF</span>&nbsp;<span class="op" id="7469637">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469642">t</span><span class="op" id="7469643">.</span><span class="ident" id="7469644">Fatal</span><span class="op" id="7469649">(</span><span class="string" id="7469650">&#34;Read&nbsp;failed&#34;</span><span class="op" id="7469663">,</span>&nbsp;<span class="ident" id="7469665">err</span><span class="op" id="7469668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469676">testEqual</span><span class="op" id="7469685">(</span><span class="ident" id="7469686">t</span><span class="op" id="7469687">,</span>&nbsp;<span class="string" id="7469689">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7469724">,</span>&nbsp;<span class="ident" id="7469726">p</span><span class="op" id="7469727">.</span><span class="ident" id="7469728">encoded</span><span class="op" id="7469735">,</span>&nbsp;<span class="ident" id="7469737">count</span><span class="op" id="7469742">,</span>&nbsp;<span class="builtinfunc" id="7469744">len</span><span class="op" id="7469747">(</span><span class="ident" id="7469748">p</span><span class="op" id="7469749">.</span><span class="ident" id="7469750">decoded</span><span class="op" id="7469757">)</span><span class="op" id="7469758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469762">testEqual</span><span class="op" id="7469771">(</span><span class="ident" id="7469772">t</span><span class="op" id="7469773">,</span>&nbsp;<span class="string" id="7469775">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7469805">,</span>&nbsp;<span class="ident" id="7469807">p</span><span class="op" id="7469808">.</span><span class="ident" id="7469809">encoded</span><span class="op" id="7469816">,</span>&nbsp;<span class="builtintype" id="7469818">string</span><span class="op" id="7469824">(</span><span class="ident" id="7469825">dbuf</span><span class="op" id="7469829">[</span><span class="num" id="7469830">0</span><span class="op" id="7469831">:</span><span class="ident" id="7469832">count</span><span class="op" id="7469837">]</span><span class="op" id="7469838">)</span><span class="op" id="7469839">,</span>&nbsp;<span class="ident" id="7469841">p</span><span class="op" id="7469842">.</span><span class="ident" id="7469843">decoded</span><span class="op" id="7469850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469854">if</span>&nbsp;<span class="ident" id="7469857">err</span>&nbsp;<span class="op" id="7469861">!=</span>&nbsp;<span class="ident" id="7469864">io</span><span class="op" id="7469866">.</span><span class="ident" id="7469867">EOF</span>&nbsp;<span class="op" id="7469871">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469876">count</span><span class="op" id="7469881">,</span>&nbsp;<span class="ident" id="7469883">err</span>&nbsp;<span class="op" id="7469887">=</span>&nbsp;<span class="ident" id="7469889">decoder</span><span class="op" id="7469896">.</span><span class="ident" id="7469897">Read</span><span class="op" id="7469901">(</span><span class="ident" id="7469902">dbuf</span><span class="op" id="7469906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469914">testEqual</span><span class="op" id="7469923">(</span><span class="ident" id="7469924">t</span><span class="op" id="7469925">,</span>&nbsp;<span class="string" id="7469927">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7469955">,</span>&nbsp;<span class="ident" id="7469957">p</span><span class="op" id="7469958">.</span><span class="ident" id="7469959">encoded</span><span class="op" id="7469966">,</span>&nbsp;<span class="ident" id="7469968">err</span><span class="op" id="7469971">,</span>&nbsp;<span class="ident" id="7469973">io</span><span class="op" id="7469975">.</span><span class="ident" id="7469976">EOF</span><span class="op" id="7469979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469982">}</span><br>
<span class="lineno"></span><span class="op" id="7469984">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="7469987">func</span>&nbsp;<span class="ident" id="7469992">TestDecoderBuffering</span><span class="op" id="7470012">(</span><span class="ident" id="7470013">t</span>&nbsp;<span class="op" id="7470015">*</span><span class="ident" id="7470016">testing</span><span class="op" id="7470023">.</span><span class="ident" id="7470024">T</span><span class="op" id="7470025">)</span>&nbsp;<span class="op" id="7470027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470030">for</span>&nbsp;<span class="ident" id="7470034">bs</span>&nbsp;<span class="op" id="7470037">:=</span>&nbsp;<span class="num" id="7470040">1</span><span class="op" id="7470041">;</span>&nbsp;<span class="ident" id="7470043">bs</span>&nbsp;<span class="op" id="7470046">&lt;=</span>&nbsp;<span class="num" id="7470049">12</span><span class="op" id="7470051">;</span>&nbsp;<span class="ident" id="7470053">bs</span><span class="op" id="7470055">++</span>&nbsp;<span class="op" id="7470058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470062">decoder</span>&nbsp;<span class="op" id="7470070">:=</span>&nbsp;<span class="ident" id="7470073">NewDecoder</span><span class="op" id="7470083">(</span><span class="ident" id="7470084">StdEncoding</span><span class="op" id="7470095">,</span>&nbsp;<span class="ident" id="7470097">strings</span><span class="op" id="7470104">.</span><span class="ident" id="7470105">NewReader</span><span class="op" id="7470114">(</span><span class="ident" id="7470115">bigtest</span><span class="op" id="7470122">.</span><span class="ident" id="7470123">encoded</span><span class="op" id="7470130">)</span><span class="op" id="7470131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470135">buf</span>&nbsp;<span class="op" id="7470139">:=</span>&nbsp;<span class="builtinfunc" id="7470142">make</span><span class="op" id="7470146">(</span><span class="op" id="7470147">[</span><span class="op" id="7470148">]</span><span class="builtintype" id="7470149">byte</span><span class="op" id="7470153">,</span>&nbsp;<span class="builtinfunc" id="7470155">len</span><span class="op" id="7470158">(</span><span class="ident" id="7470159">bigtest</span><span class="op" id="7470166">.</span><span class="ident" id="7470167">decoded</span><span class="op" id="7470174">)</span><span class="op" id="7470175">+</span><span class="num" id="7470176">12</span><span class="op" id="7470178">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470182">var</span>&nbsp;<span class="ident" id="7470186">total</span>&nbsp;<span class="builtintype" id="7470192">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470198">for</span>&nbsp;<span class="ident" id="7470202">total</span>&nbsp;<span class="op" id="7470208">=</span>&nbsp;<span class="num" id="7470210">0</span><span class="op" id="7470211">;</span>&nbsp;<span class="ident" id="7470213">total</span>&nbsp;<span class="op" id="7470219">&lt;</span>&nbsp;<span class="builtinfunc" id="7470221">len</span><span class="op" id="7470224">(</span><span class="ident" id="7470225">bigtest</span><span class="op" id="7470232">.</span><span class="ident" id="7470233">decoded</span><span class="op" id="7470240">)</span><span class="op" id="7470241">;</span>&nbsp;<span class="op" id="7470243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470248">n</span><span class="op" id="7470249">,</span>&nbsp;<span class="ident" id="7470251">err</span>&nbsp;<span class="op" id="7470255">:=</span>&nbsp;<span class="ident" id="7470258">decoder</span><span class="op" id="7470265">.</span><span class="ident" id="7470266">Read</span><span class="op" id="7470270">(</span><span class="ident" id="7470271">buf</span><span class="op" id="7470274">[</span><span class="ident" id="7470275">total</span>&nbsp;<span class="op" id="7470281">:</span>&nbsp;<span class="ident" id="7470283">total</span><span class="op" id="7470288">+</span><span class="ident" id="7470289">bs</span><span class="op" id="7470291">]</span><span class="op" id="7470292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470297">testEqual</span><span class="op" id="7470306">(</span><span class="ident" id="7470307">t</span><span class="op" id="7470308">,</span>&nbsp;<span class="string" id="7470310">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="7470355">,</span>&nbsp;<span class="ident" id="7470357">bigtest</span><span class="op" id="7470364">.</span><span class="ident" id="7470365">encoded</span><span class="op" id="7470372">,</span>&nbsp;<span class="ident" id="7470374">total</span><span class="op" id="7470379">,</span>&nbsp;<span class="ident" id="7470381">n</span><span class="op" id="7470382">,</span>&nbsp;<span class="ident" id="7470384">err</span><span class="op" id="7470387">,</span>&nbsp;<span class="builtintype" id="7470389">error</span><span class="op" id="7470394">(</span><span class="ident" id="7470395">nil</span><span class="op" id="7470398">)</span><span class="op" id="7470399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470404">total</span>&nbsp;<span class="op" id="7470410">+=</span>&nbsp;<span class="ident" id="7470413">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470421">testEqual</span><span class="op" id="7470430">(</span><span class="ident" id="7470431">t</span><span class="op" id="7470432">,</span>&nbsp;<span class="string" id="7470434">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7470467">,</span>&nbsp;<span class="ident" id="7470469">bs</span><span class="op" id="7470471">,</span>&nbsp;<span class="ident" id="7470473">bigtest</span><span class="op" id="7470480">.</span><span class="ident" id="7470481">encoded</span><span class="op" id="7470488">,</span>&nbsp;<span class="builtintype" id="7470490">string</span><span class="op" id="7470496">(</span><span class="ident" id="7470497">buf</span><span class="op" id="7470500">[</span><span class="num" id="7470501">0</span><span class="op" id="7470502">:</span><span class="ident" id="7470503">total</span><span class="op" id="7470508">]</span><span class="op" id="7470509">)</span><span class="op" id="7470510">,</span>&nbsp;<span class="ident" id="7470512">bigtest</span><span class="op" id="7470519">.</span><span class="ident" id="7470520">decoded</span><span class="op" id="7470527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470530">}</span><br>
<span class="lineno"></span><span class="op" id="7470532">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7470535">func</span>&nbsp;<span class="ident" id="7470540">TestDecodeCorrupt</span><span class="op" id="7470557">(</span><span class="ident" id="7470558">t</span>&nbsp;<span class="op" id="7470560">*</span><span class="ident" id="7470561">testing</span><span class="op" id="7470568">.</span><span class="ident" id="7470569">T</span><span class="op" id="7470570">)</span>&nbsp;<span class="op" id="7470572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470575">testCases</span>&nbsp;<span class="op" id="7470585">:=</span>&nbsp;<span class="op" id="7470588">[</span><span class="op" id="7470589">]</span><span class="keyword" id="7470590">struct</span>&nbsp;<span class="op" id="7470597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470601">input</span>&nbsp;&nbsp;<span class="builtintype" id="7470608">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470617">offset</span>&nbsp;<span class="builtintype" id="7470624">int</span>&nbsp;<span class="comment" id="7470628">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470656">}</span><span class="op" id="7470657">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470661">{</span><span class="string" id="7470662">&#34;&#34;</span><span class="op" id="7470664">,</span>&nbsp;<span class="op" id="7470666">-</span><span class="num" id="7470667">1</span><span class="op" id="7470668">}</span><span class="op" id="7470669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470673">{</span><span class="string" id="7470674">&#34;!!!!&#34;</span><span class="op" id="7470680">,</span>&nbsp;<span class="num" id="7470682">0</span><span class="op" id="7470683">}</span><span class="op" id="7470684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470688">{</span><span class="string" id="7470689">&#34;x===&#34;</span><span class="op" id="7470695">,</span>&nbsp;<span class="num" id="7470697">0</span><span class="op" id="7470698">}</span><span class="op" id="7470699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470703">{</span><span class="string" id="7470704">&#34;AA=A====&#34;</span><span class="op" id="7470714">,</span>&nbsp;<span class="num" id="7470716">2</span><span class="op" id="7470717">}</span><span class="op" id="7470718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470722">{</span><span class="string" id="7470723">&#34;AAA=AAAA&#34;</span><span class="op" id="7470733">,</span>&nbsp;<span class="num" id="7470735">3</span><span class="op" id="7470736">}</span><span class="op" id="7470737">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470741">{</span><span class="string" id="7470742">&#34;MMMMMMMMM&#34;</span><span class="op" id="7470753">,</span>&nbsp;<span class="num" id="7470755">8</span><span class="op" id="7470756">}</span><span class="op" id="7470757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470761">{</span><span class="string" id="7470762">&#34;MMMMMM&#34;</span><span class="op" id="7470770">,</span>&nbsp;<span class="num" id="7470772">0</span><span class="op" id="7470773">}</span><span class="op" id="7470774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470778">{</span><span class="string" id="7470779">&#34;A=&#34;</span><span class="op" id="7470783">,</span>&nbsp;<span class="num" id="7470785">1</span><span class="op" id="7470786">}</span><span class="op" id="7470787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470791">{</span><span class="string" id="7470792">&#34;AA=&#34;</span><span class="op" id="7470797">,</span>&nbsp;<span class="num" id="7470799">3</span><span class="op" id="7470800">}</span><span class="op" id="7470801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470805">{</span><span class="string" id="7470806">&#34;AA==&#34;</span><span class="op" id="7470812">,</span>&nbsp;<span class="num" id="7470814">4</span><span class="op" id="7470815">}</span><span class="op" id="7470816">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470820">{</span><span class="string" id="7470821">&#34;AA===&#34;</span><span class="op" id="7470828">,</span>&nbsp;<span class="num" id="7470830">5</span><span class="op" id="7470831">}</span><span class="op" id="7470832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470836">{</span><span class="string" id="7470837">&#34;AAAA=&#34;</span><span class="op" id="7470844">,</span>&nbsp;<span class="num" id="7470846">5</span><span class="op" id="7470847">}</span><span class="op" id="7470848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470852">{</span><span class="string" id="7470853">&#34;AAAA==&#34;</span><span class="op" id="7470861">,</span>&nbsp;<span class="num" id="7470863">6</span><span class="op" id="7470864">}</span><span class="op" id="7470865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470869">{</span><span class="string" id="7470870">&#34;AAAAA=&#34;</span><span class="op" id="7470878">,</span>&nbsp;<span class="num" id="7470880">6</span><span class="op" id="7470881">}</span><span class="op" id="7470882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470886">{</span><span class="string" id="7470887">&#34;AAAAA==&#34;</span><span class="op" id="7470896">,</span>&nbsp;<span class="num" id="7470898">7</span><span class="op" id="7470899">}</span><span class="op" id="7470900">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470904">{</span><span class="string" id="7470905">&#34;A=======&#34;</span><span class="op" id="7470915">,</span>&nbsp;<span class="num" id="7470917">1</span><span class="op" id="7470918">}</span><span class="op" id="7470919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470923">{</span><span class="string" id="7470924">&#34;AA======&#34;</span><span class="op" id="7470934">,</span>&nbsp;<span class="op" id="7470936">-</span><span class="num" id="7470937">1</span><span class="op" id="7470938">}</span><span class="op" id="7470939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470943">{</span><span class="string" id="7470944">&#34;AAA=====&#34;</span><span class="op" id="7470954">,</span>&nbsp;<span class="num" id="7470956">3</span><span class="op" id="7470957">}</span><span class="op" id="7470958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470962">{</span><span class="string" id="7470963">&#34;AAAA====&#34;</span><span class="op" id="7470973">,</span>&nbsp;<span class="op" id="7470975">-</span><span class="num" id="7470976">1</span><span class="op" id="7470977">}</span><span class="op" id="7470978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470982">{</span><span class="string" id="7470983">&#34;AAAAA===&#34;</span><span class="op" id="7470993">,</span>&nbsp;<span class="op" id="7470995">-</span><span class="num" id="7470996">1</span><span class="op" id="7470997">}</span><span class="op" id="7470998">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471002">{</span><span class="string" id="7471003">&#34;AAAAAA==&#34;</span><span class="op" id="7471013">,</span>&nbsp;<span class="num" id="7471015">6</span><span class="op" id="7471016">}</span><span class="op" id="7471017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471021">{</span><span class="string" id="7471022">&#34;AAAAAAA=&#34;</span><span class="op" id="7471032">,</span>&nbsp;<span class="op" id="7471034">-</span><span class="num" id="7471035">1</span><span class="op" id="7471036">}</span><span class="op" id="7471037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471041">{</span><span class="string" id="7471042">&#34;AAAAAAAA&#34;</span><span class="op" id="7471052">,</span>&nbsp;<span class="op" id="7471054">-</span><span class="num" id="7471055">1</span><span class="op" id="7471056">}</span><span class="op" id="7471057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471063">for</span>&nbsp;<span class="ident" id="7471067">_</span><span class="op" id="7471068">,</span>&nbsp;<span class="ident" id="7471070">tc</span>&nbsp;<span class="op" id="7471073">:=</span>&nbsp;<span class="keyword" id="7471076">range</span>&nbsp;<span class="ident" id="7471082">testCases</span>&nbsp;<span class="op" id="7471092">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471096">dbuf</span>&nbsp;<span class="op" id="7471101">:=</span>&nbsp;<span class="builtinfunc" id="7471104">make</span><span class="op" id="7471108">(</span><span class="op" id="7471109">[</span><span class="op" id="7471110">]</span><span class="builtintype" id="7471111">byte</span><span class="op" id="7471115">,</span>&nbsp;<span class="ident" id="7471117">StdEncoding</span><span class="op" id="7471128">.</span><span class="ident" id="7471129">DecodedLen</span><span class="op" id="7471139">(</span><span class="builtinfunc" id="7471140">len</span><span class="op" id="7471143">(</span><span class="ident" id="7471144">tc</span><span class="op" id="7471146">.</span><span class="ident" id="7471147">input</span><span class="op" id="7471152">)</span><span class="op" id="7471153">)</span><span class="op" id="7471154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471158">_</span><span class="op" id="7471159">,</span>&nbsp;<span class="ident" id="7471161">err</span>&nbsp;<span class="op" id="7471165">:=</span>&nbsp;<span class="ident" id="7471168">StdEncoding</span><span class="op" id="7471179">.</span><span class="ident" id="7471180">Decode</span><span class="op" id="7471186">(</span><span class="ident" id="7471187">dbuf</span><span class="op" id="7471191">,</span>&nbsp;<span class="op" id="7471193">[</span><span class="op" id="7471194">]</span><span class="builtintype" id="7471195">byte</span><span class="op" id="7471199">(</span><span class="ident" id="7471200">tc</span><span class="op" id="7471202">.</span><span class="ident" id="7471203">input</span><span class="op" id="7471208">)</span><span class="op" id="7471209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471213">if</span>&nbsp;<span class="ident" id="7471216">tc</span><span class="op" id="7471218">.</span><span class="ident" id="7471219">offset</span>&nbsp;<span class="op" id="7471226">==</span>&nbsp;<span class="op" id="7471229">-</span><span class="num" id="7471230">1</span>&nbsp;<span class="op" id="7471232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471237">if</span>&nbsp;<span class="ident" id="7471240">err</span>&nbsp;<span class="op" id="7471244">!=</span>&nbsp;<span class="ident" id="7471247">nil</span>&nbsp;<span class="op" id="7471251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471257">t</span><span class="op" id="7471258">.</span><span class="ident" id="7471259">Error</span><span class="op" id="7471264">(</span><span class="string" id="7471265">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="7471304">,</span>&nbsp;<span class="ident" id="7471306">tc</span><span class="op" id="7471308">.</span><span class="ident" id="7471309">input</span><span class="op" id="7471314">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471324">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471339">switch</span>&nbsp;<span class="ident" id="7471346">err</span>&nbsp;<span class="op" id="7471350">:=</span>&nbsp;<span class="ident" id="7471353">err</span><span class="op" id="7471356">.</span><span class="op" id="7471357">(</span><span class="keyword" id="7471358">type</span><span class="op" id="7471362">)</span>&nbsp;<span class="op" id="7471364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471368">case</span>&nbsp;<span class="ident" id="7471373">CorruptInputError</span><span class="op" id="7471390">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471395">testEqual</span><span class="op" id="7471404">(</span><span class="ident" id="7471405">t</span><span class="op" id="7471406">,</span>&nbsp;<span class="string" id="7471408">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7471448">,</span>&nbsp;<span class="ident" id="7471450">tc</span><span class="op" id="7471452">.</span><span class="ident" id="7471453">input</span><span class="op" id="7471458">,</span>&nbsp;<span class="builtintype" id="7471460">int</span><span class="op" id="7471463">(</span><span class="ident" id="7471464">err</span><span class="op" id="7471467">)</span><span class="op" id="7471468">,</span>&nbsp;<span class="ident" id="7471470">tc</span><span class="op" id="7471472">.</span><span class="ident" id="7471473">offset</span><span class="op" id="7471479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471483">default</span><span class="op" id="7471490">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471495">t</span><span class="op" id="7471496">.</span><span class="ident" id="7471497">Error</span><span class="op" id="7471502">(</span><span class="string" id="7471503">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="7471543">,</span>&nbsp;<span class="ident" id="7471545">tc</span><span class="op" id="7471547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471554">}</span><br>
<span class="lineno">185</span><span class="op" id="7471556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7471559">func</span>&nbsp;<span class="ident" id="7471564">TestBig</span><span class="op" id="7471571">(</span><span class="ident" id="7471572">t</span>&nbsp;<span class="op" id="7471574">*</span><span class="ident" id="7471575">testing</span><span class="op" id="7471582">.</span><span class="ident" id="7471583">T</span><span class="op" id="7471584">)</span>&nbsp;<span class="op" id="7471586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471589">n</span>&nbsp;<span class="op" id="7471591">:=</span>&nbsp;<span class="num" id="7471594">3</span><span class="op" id="7471595">*</span><span class="num" id="7471596">1000</span>&nbsp;<span class="op" id="7471601">+</span>&nbsp;<span class="num" id="7471603">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471606">raw</span>&nbsp;<span class="op" id="7471610">:=</span>&nbsp;<span class="builtinfunc" id="7471613">make</span><span class="op" id="7471617">(</span><span class="op" id="7471618">[</span><span class="op" id="7471619">]</span><span class="builtintype" id="7471620">byte</span><span class="op" id="7471624">,</span>&nbsp;<span class="ident" id="7471626">n</span><span class="op" id="7471627">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471630">const</span>&nbsp;<span class="ident" id="7471636">alpha</span>&nbsp;<span class="op" id="7471642">=</span>&nbsp;<span class="string" id="7471644">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471710">for</span>&nbsp;<span class="ident" id="7471714">i</span>&nbsp;<span class="op" id="7471716">:=</span>&nbsp;<span class="num" id="7471719">0</span><span class="op" id="7471720">;</span>&nbsp;<span class="ident" id="7471722">i</span>&nbsp;<span class="op" id="7471724">&lt;</span>&nbsp;<span class="ident" id="7471726">n</span><span class="op" id="7471727">;</span>&nbsp;<span class="ident" id="7471729">i</span><span class="op" id="7471730">++</span>&nbsp;<span class="op" id="7471733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471737">raw</span><span class="op" id="7471740">[</span><span class="ident" id="7471741">i</span><span class="op" id="7471742">]</span>&nbsp;<span class="op" id="7471744">=</span>&nbsp;<span class="ident" id="7471746">alpha</span><span class="op" id="7471751">[</span><span class="ident" id="7471752">i</span><span class="op" id="7471753">%</span><span class="builtinfunc" id="7471754">len</span><span class="op" id="7471757">(</span><span class="ident" id="7471758">alpha</span><span class="op" id="7471763">)</span><span class="op" id="7471764">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471770">encoded</span>&nbsp;<span class="op" id="7471778">:=</span>&nbsp;<span class="builtinfunc" id="7471781">new</span><span class="op" id="7471784">(</span><span class="ident" id="7471785">bytes</span><span class="op" id="7471790">.</span><span class="ident" id="7471791">Buffer</span><span class="op" id="7471797">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471800">w</span>&nbsp;<span class="op" id="7471802">:=</span>&nbsp;<span class="ident" id="7471805">NewEncoder</span><span class="op" id="7471815">(</span><span class="ident" id="7471816">StdEncoding</span><span class="op" id="7471827">,</span>&nbsp;<span class="ident" id="7471829">encoded</span><span class="op" id="7471836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471839">nn</span><span class="op" id="7471841">,</span>&nbsp;<span class="ident" id="7471843">err</span>&nbsp;<span class="op" id="7471847">:=</span>&nbsp;<span class="ident" id="7471850">w</span><span class="op" id="7471851">.</span><span class="ident" id="7471852">Write</span><span class="op" id="7471857">(</span><span class="ident" id="7471858">raw</span><span class="op" id="7471861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471864">if</span>&nbsp;<span class="ident" id="7471867">nn</span>&nbsp;<span class="op" id="7471870">!=</span>&nbsp;<span class="ident" id="7471873">n</span>&nbsp;<span class="op" id="7471875">||</span>&nbsp;<span class="ident" id="7471878">err</span>&nbsp;<span class="op" id="7471882">!=</span>&nbsp;<span class="ident" id="7471885">nil</span>&nbsp;<span class="op" id="7471889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471893">t</span><span class="op" id="7471894">.</span><span class="ident" id="7471895">Fatalf</span><span class="op" id="7471901">(</span><span class="string" id="7471902">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="7471944">,</span>&nbsp;<span class="ident" id="7471946">nn</span><span class="op" id="7471948">,</span>&nbsp;<span class="ident" id="7471950">err</span><span class="op" id="7471953">,</span>&nbsp;<span class="ident" id="7471955">n</span><span class="op" id="7471956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7471959">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471962">err</span>&nbsp;<span class="op" id="7471966">=</span>&nbsp;<span class="ident" id="7471968">w</span><span class="op" id="7471969">.</span><span class="ident" id="7471970">Close</span><span class="op" id="7471975">(</span><span class="op" id="7471976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471979">if</span>&nbsp;<span class="ident" id="7471982">err</span>&nbsp;<span class="op" id="7471986">!=</span>&nbsp;<span class="ident" id="7471989">nil</span>&nbsp;<span class="op" id="7471993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471997">t</span><span class="op" id="7471998">.</span><span class="ident" id="7471999">Fatalf</span><span class="op" id="7472005">(</span><span class="string" id="7472006">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7472037">,</span>&nbsp;<span class="ident" id="7472039">err</span><span class="op" id="7472042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472048">decoded</span><span class="op" id="7472055">,</span>&nbsp;<span class="ident" id="7472057">err</span>&nbsp;<span class="op" id="7472061">:=</span>&nbsp;<span class="ident" id="7472064">ioutil</span><span class="op" id="7472070">.</span><span class="ident" id="7472071">ReadAll</span><span class="op" id="7472078">(</span><span class="ident" id="7472079">NewDecoder</span><span class="op" id="7472089">(</span><span class="ident" id="7472090">StdEncoding</span><span class="op" id="7472101">,</span>&nbsp;<span class="ident" id="7472103">encoded</span><span class="op" id="7472110">)</span><span class="op" id="7472111">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472114">if</span>&nbsp;<span class="ident" id="7472117">err</span>&nbsp;<span class="op" id="7472121">!=</span>&nbsp;<span class="ident" id="7472124">nil</span>&nbsp;<span class="op" id="7472128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472132">t</span><span class="op" id="7472133">.</span><span class="ident" id="7472134">Fatalf</span><span class="op" id="7472140">(</span><span class="string" id="7472141">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="7472178">,</span>&nbsp;<span class="ident" id="7472180">err</span><span class="op" id="7472183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472190">if</span>&nbsp;<span class="op" id="7472193">!</span><span class="ident" id="7472194">bytes</span><span class="op" id="7472199">.</span><span class="ident" id="7472200">Equal</span><span class="op" id="7472205">(</span><span class="ident" id="7472206">raw</span><span class="op" id="7472209">,</span>&nbsp;<span class="ident" id="7472211">decoded</span><span class="op" id="7472218">)</span>&nbsp;<span class="op" id="7472220">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472224">var</span>&nbsp;<span class="ident" id="7472228">i</span>&nbsp;<span class="builtintype" id="7472230">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472236">for</span>&nbsp;<span class="ident" id="7472240">i</span>&nbsp;<span class="op" id="7472242">=</span>&nbsp;<span class="num" id="7472244">0</span><span class="op" id="7472245">;</span>&nbsp;<span class="ident" id="7472247">i</span>&nbsp;<span class="op" id="7472249">&lt;</span>&nbsp;<span class="builtinfunc" id="7472251">len</span><span class="op" id="7472254">(</span><span class="ident" id="7472255">decoded</span><span class="op" id="7472262">)</span>&nbsp;<span class="op" id="7472264">&amp;&amp;</span>&nbsp;<span class="ident" id="7472267">i</span>&nbsp;<span class="op" id="7472269">&lt;</span>&nbsp;<span class="builtinfunc" id="7472271">len</span><span class="op" id="7472274">(</span><span class="ident" id="7472275">raw</span><span class="op" id="7472278">)</span><span class="op" id="7472279">;</span>&nbsp;<span class="ident" id="7472281">i</span><span class="op" id="7472282">++</span>&nbsp;<span class="op" id="7472285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472290">if</span>&nbsp;<span class="ident" id="7472293">decoded</span><span class="op" id="7472300">[</span><span class="ident" id="7472301">i</span><span class="op" id="7472302">]</span>&nbsp;<span class="op" id="7472304">!=</span>&nbsp;<span class="ident" id="7472307">raw</span><span class="op" id="7472310">[</span><span class="ident" id="7472311">i</span><span class="op" id="7472312">]</span>&nbsp;<span class="op" id="7472314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472320">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472329">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472337">t</span><span class="op" id="7472338">.</span><span class="ident" id="7472339">Errorf</span><span class="op" id="7472345">(</span><span class="string" id="7472346">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="7472398">,</span>&nbsp;<span class="ident" id="7472400">n</span><span class="op" id="7472401">,</span>&nbsp;<span class="ident" id="7472403">i</span><span class="op" id="7472404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472407">}</span><br>
<span class="lineno"></span><span class="op" id="7472409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="7472412">func</span>&nbsp;<span class="ident" id="7472417">testStringEncoding</span><span class="op" id="7472435">(</span><span class="ident" id="7472436">t</span>&nbsp;<span class="op" id="7472438">*</span><span class="ident" id="7472439">testing</span><span class="op" id="7472446">.</span><span class="ident" id="7472447">T</span><span class="op" id="7472448">,</span>&nbsp;<span class="ident" id="7472450">expected</span>&nbsp;<span class="builtintype" id="7472459">string</span><span class="op" id="7472465">,</span>&nbsp;<span class="ident" id="7472467">examples</span>&nbsp;<span class="op" id="7472476">[</span><span class="op" id="7472477">]</span><span class="builtintype" id="7472478">string</span><span class="op" id="7472484">)</span>&nbsp;<span class="op" id="7472486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472489">for</span>&nbsp;<span class="ident" id="7472493">_</span><span class="op" id="7472494">,</span>&nbsp;<span class="ident" id="7472496">e</span>&nbsp;<span class="op" id="7472498">:=</span>&nbsp;<span class="keyword" id="7472501">range</span>&nbsp;<span class="ident" id="7472507">examples</span>&nbsp;<span class="op" id="7472516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472520">buf</span><span class="op" id="7472523">,</span>&nbsp;<span class="ident" id="7472525">err</span>&nbsp;<span class="op" id="7472529">:=</span>&nbsp;<span class="ident" id="7472532">StdEncoding</span><span class="op" id="7472543">.</span><span class="ident" id="7472544">DecodeString</span><span class="op" id="7472556">(</span><span class="ident" id="7472557">e</span><span class="op" id="7472558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472562">if</span>&nbsp;<span class="ident" id="7472565">err</span>&nbsp;<span class="op" id="7472569">!=</span>&nbsp;<span class="ident" id="7472572">nil</span>&nbsp;<span class="op" id="7472576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472581">t</span><span class="op" id="7472582">.</span><span class="ident" id="7472583">Errorf</span><span class="op" id="7472589">(</span><span class="string" id="7472590">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7472613">,</span>&nbsp;<span class="ident" id="7472615">e</span><span class="op" id="7472616">,</span>&nbsp;<span class="ident" id="7472618">err</span><span class="op" id="7472621">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472626">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472641">if</span>&nbsp;<span class="ident" id="7472644">s</span>&nbsp;<span class="op" id="7472646">:=</span>&nbsp;<span class="builtintype" id="7472649">string</span><span class="op" id="7472655">(</span><span class="ident" id="7472656">buf</span><span class="op" id="7472659">)</span><span class="op" id="7472660">;</span>&nbsp;<span class="ident" id="7472662">s</span>&nbsp;<span class="op" id="7472664">!=</span>&nbsp;<span class="ident" id="7472667">expected</span>&nbsp;<span class="op" id="7472676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472681">t</span><span class="op" id="7472682">.</span><span class="ident" id="7472683">Errorf</span><span class="op" id="7472689">(</span><span class="string" id="7472690">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7472716">,</span>&nbsp;<span class="ident" id="7472718">e</span><span class="op" id="7472719">,</span>&nbsp;<span class="ident" id="7472721">s</span><span class="op" id="7472722">,</span>&nbsp;<span class="ident" id="7472724">expected</span><span class="op" id="7472732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472736">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472739">}</span><br>
<span class="lineno"></span><span class="op" id="7472741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7472744">func</span>&nbsp;<span class="ident" id="7472749">TestNewLineCharacters</span><span class="op" id="7472770">(</span><span class="ident" id="7472771">t</span>&nbsp;<span class="op" id="7472773">*</span><span class="ident" id="7472774">testing</span><span class="op" id="7472781">.</span><span class="ident" id="7472782">T</span><span class="op" id="7472783">)</span>&nbsp;<span class="op" id="7472785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7472788">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472858">examples</span>&nbsp;<span class="op" id="7472867">:=</span>&nbsp;<span class="op" id="7472870">[</span><span class="op" id="7472871">]</span><span class="builtintype" id="7472872">string</span><span class="op" id="7472878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7472882">&#34;ON2XEZI=&#34;</span><span class="op" id="7472892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7472896">&#34;ON2XEZI=\r&#34;</span><span class="op" id="7472908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7472912">&#34;ON2XEZI=\n&#34;</span><span class="op" id="7472924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7472928">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="7472942">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7472946">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="7472960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7472964">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="7472978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7472982">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="7472996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7473000">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="7473012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7473016">&#34;ON2XEZI\n=&#34;</span><span class="op" id="7473028">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473034">testStringEncoding</span><span class="op" id="7473052">(</span><span class="ident" id="7473053">t</span><span class="op" id="7473054">,</span>&nbsp;<span class="string" id="7473056">&#34;sure&#34;</span><span class="op" id="7473062">,</span>&nbsp;<span class="ident" id="7473064">examples</span><span class="op" id="7473072">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7473076">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473148">examples</span>&nbsp;<span class="op" id="7473157">=</span>&nbsp;<span class="op" id="7473159">[</span><span class="op" id="7473160">]</span><span class="builtintype" id="7473161">string</span><span class="op" id="7473167">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7473171">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7473189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7473193">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="7473215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473221">testStringEncoding</span><span class="op" id="7473239">(</span><span class="ident" id="7473240">t</span><span class="op" id="7473241">,</span>&nbsp;<span class="string" id="7473243">&#34;foobar&#34;</span><span class="op" id="7473251">,</span>&nbsp;<span class="ident" id="7473253">examples</span><span class="op" id="7473261">)</span><br>
<span class="lineno"></span><span class="op" id="7473263">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="7473266">func</span>&nbsp;<span class="ident" id="7473271">TestDecoderIssue4779</span><span class="op" id="7473291">(</span><span class="ident" id="7473292">t</span>&nbsp;<span class="op" id="7473294">*</span><span class="ident" id="7473295">testing</span><span class="op" id="7473302">.</span><span class="ident" id="7473303">T</span><span class="op" id="7473304">)</span>&nbsp;<span class="op" id="7473306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473309">encoded</span>&nbsp;<span class="op" id="7473317">:=</span>&nbsp;<span class="string" id="7473320">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474054">encodedShort</span>&nbsp;<span class="op" id="7474067">:=</span>&nbsp;<span class="ident" id="7474070">strings</span><span class="op" id="7474077">.</span><span class="ident" id="7474078">Replace</span><span class="op" id="7474085">(</span><span class="ident" id="7474086">encoded</span><span class="op" id="7474093">,</span>&nbsp;<span class="string" id="7474095">&#34;\n&#34;</span><span class="op" id="7474099">,</span>&nbsp;<span class="string" id="7474101">&#34;&#34;</span><span class="op" id="7474103">,</span>&nbsp;<span class="op" id="7474105">-</span><span class="num" id="7474106">1</span><span class="op" id="7474107">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474111">dec</span>&nbsp;<span class="op" id="7474115">:=</span>&nbsp;<span class="ident" id="7474118">NewDecoder</span><span class="op" id="7474128">(</span><span class="ident" id="7474129">StdEncoding</span><span class="op" id="7474140">,</span>&nbsp;<span class="ident" id="7474142">strings</span><span class="op" id="7474149">.</span><span class="ident" id="7474150">NewReader</span><span class="op" id="7474159">(</span><span class="ident" id="7474160">encoded</span><span class="op" id="7474167">)</span><span class="op" id="7474168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474171">res1</span><span class="op" id="7474175">,</span>&nbsp;<span class="ident" id="7474177">err</span>&nbsp;<span class="op" id="7474181">:=</span>&nbsp;<span class="ident" id="7474184">ioutil</span><span class="op" id="7474190">.</span><span class="ident" id="7474191">ReadAll</span><span class="op" id="7474198">(</span><span class="ident" id="7474199">dec</span><span class="op" id="7474202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474205">if</span>&nbsp;<span class="ident" id="7474208">err</span>&nbsp;<span class="op" id="7474212">!=</span>&nbsp;<span class="ident" id="7474215">nil</span>&nbsp;<span class="op" id="7474219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474223">t</span><span class="op" id="7474224">.</span><span class="ident" id="7474225">Errorf</span><span class="op" id="7474231">(</span><span class="string" id="7474232">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7474252">,</span>&nbsp;<span class="ident" id="7474254">err</span><span class="op" id="7474257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474260">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474264">dec</span>&nbsp;<span class="op" id="7474268">=</span>&nbsp;<span class="ident" id="7474270">NewDecoder</span><span class="op" id="7474280">(</span><span class="ident" id="7474281">StdEncoding</span><span class="op" id="7474292">,</span>&nbsp;<span class="ident" id="7474294">strings</span><span class="op" id="7474301">.</span><span class="ident" id="7474302">NewReader</span><span class="op" id="7474311">(</span><span class="ident" id="7474312">encodedShort</span><span class="op" id="7474324">)</span><span class="op" id="7474325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474328">var</span>&nbsp;<span class="ident" id="7474332">res2</span>&nbsp;<span class="op" id="7474337">[</span><span class="op" id="7474338">]</span><span class="builtintype" id="7474339">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474345">res2</span><span class="op" id="7474349">,</span>&nbsp;<span class="ident" id="7474351">err</span>&nbsp;<span class="op" id="7474355">=</span>&nbsp;<span class="ident" id="7474357">ioutil</span><span class="op" id="7474363">.</span><span class="ident" id="7474364">ReadAll</span><span class="op" id="7474371">(</span><span class="ident" id="7474372">dec</span><span class="op" id="7474375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474378">if</span>&nbsp;<span class="ident" id="7474381">err</span>&nbsp;<span class="op" id="7474385">!=</span>&nbsp;<span class="ident" id="7474388">nil</span>&nbsp;<span class="op" id="7474392">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474396">t</span><span class="op" id="7474397">.</span><span class="ident" id="7474398">Errorf</span><span class="op" id="7474404">(</span><span class="string" id="7474405">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7474425">,</span>&nbsp;<span class="ident" id="7474427">err</span><span class="op" id="7474430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474437">if</span>&nbsp;<span class="op" id="7474440">!</span><span class="ident" id="7474441">bytes</span><span class="op" id="7474446">.</span><span class="ident" id="7474447">Equal</span><span class="op" id="7474452">(</span><span class="ident" id="7474453">res1</span><span class="op" id="7474457">,</span>&nbsp;<span class="ident" id="7474459">res2</span><span class="op" id="7474463">)</span>&nbsp;<span class="op" id="7474465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474469">t</span><span class="op" id="7474470">.</span><span class="ident" id="7474471">Error</span><span class="op" id="7474476">(</span><span class="string" id="7474477">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="7474504">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474507">}</span><br>
<span class="lineno"></span><span class="op" id="7474509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7474512">func</span>&nbsp;<span class="ident" id="7474517">BenchmarkEncodeToString</span><span class="op" id="7474540">(</span><span class="ident" id="7474541">b</span>&nbsp;<span class="op" id="7474543">*</span><span class="ident" id="7474544">testing</span><span class="op" id="7474551">.</span><span class="ident" id="7474552">B</span><span class="op" id="7474553">)</span>&nbsp;<span class="op" id="7474555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474558">data</span>&nbsp;<span class="op" id="7474563">:=</span>&nbsp;<span class="builtinfunc" id="7474566">make</span><span class="op" id="7474570">(</span><span class="op" id="7474571">[</span><span class="op" id="7474572">]</span><span class="builtintype" id="7474573">byte</span><span class="op" id="7474577">,</span>&nbsp;<span class="num" id="7474579">8192</span><span class="op" id="7474583">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474586">b</span><span class="op" id="7474587">.</span><span class="ident" id="7474588">SetBytes</span><span class="op" id="7474596">(</span><span class="ident" id="7474597">int64</span><span class="op" id="7474602">(</span><span class="builtinfunc" id="7474603">len</span><span class="op" id="7474606">(</span><span class="ident" id="7474607">data</span><span class="op" id="7474611">)</span><span class="op" id="7474612">)</span><span class="op" id="7474613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474616">for</span>&nbsp;<span class="ident" id="7474620">i</span>&nbsp;<span class="op" id="7474622">:=</span>&nbsp;<span class="num" id="7474625">0</span><span class="op" id="7474626">;</span>&nbsp;<span class="ident" id="7474628">i</span>&nbsp;<span class="op" id="7474630">&lt;</span>&nbsp;<span class="ident" id="7474632">b</span><span class="op" id="7474633">.</span><span class="ident" id="7474634">N</span><span class="op" id="7474635">;</span>&nbsp;<span class="ident" id="7474637">i</span><span class="op" id="7474638">++</span>&nbsp;<span class="op" id="7474641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474645">StdEncoding</span><span class="op" id="7474656">.</span><span class="ident" id="7474657">EncodeToString</span><span class="op" id="7474671">(</span><span class="ident" id="7474672">data</span><span class="op" id="7474676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474679">}</span><br>
<span class="lineno"></span><span class="op" id="7474681">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="7474684">func</span>&nbsp;<span class="ident" id="7474689">BenchmarkDecodeString</span><span class="op" id="7474710">(</span><span class="ident" id="7474711">b</span>&nbsp;<span class="op" id="7474713">*</span><span class="ident" id="7474714">testing</span><span class="op" id="7474721">.</span><span class="ident" id="7474722">B</span><span class="op" id="7474723">)</span>&nbsp;<span class="op" id="7474725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474728">data</span>&nbsp;<span class="op" id="7474733">:=</span>&nbsp;<span class="ident" id="7474736">StdEncoding</span><span class="op" id="7474747">.</span><span class="ident" id="7474748">EncodeToString</span><span class="op" id="7474762">(</span><span class="builtinfunc" id="7474763">make</span><span class="op" id="7474767">(</span><span class="op" id="7474768">[</span><span class="op" id="7474769">]</span><span class="builtintype" id="7474770">byte</span><span class="op" id="7474774">,</span>&nbsp;<span class="num" id="7474776">8192</span><span class="op" id="7474780">)</span><span class="op" id="7474781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474784">b</span><span class="op" id="7474785">.</span><span class="ident" id="7474786">SetBytes</span><span class="op" id="7474794">(</span><span class="ident" id="7474795">int64</span><span class="op" id="7474800">(</span><span class="builtinfunc" id="7474801">len</span><span class="op" id="7474804">(</span><span class="ident" id="7474805">data</span><span class="op" id="7474809">)</span><span class="op" id="7474810">)</span><span class="op" id="7474811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474814">for</span>&nbsp;<span class="ident" id="7474818">i</span>&nbsp;<span class="op" id="7474820">:=</span>&nbsp;<span class="num" id="7474823">0</span><span class="op" id="7474824">;</span>&nbsp;<span class="ident" id="7474826">i</span>&nbsp;<span class="op" id="7474828">&lt;</span>&nbsp;<span class="ident" id="7474830">b</span><span class="op" id="7474831">.</span><span class="ident" id="7474832">N</span><span class="op" id="7474833">;</span>&nbsp;<span class="ident" id="7474835">i</span><span class="op" id="7474836">++</span>&nbsp;<span class="op" id="7474839">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474843">StdEncoding</span><span class="op" id="7474854">.</span><span class="ident" id="7474855">DecodeString</span><span class="op" id="7474867">(</span><span class="ident" id="7474868">data</span><span class="op" id="7474872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474875">}</span><br>
<span class="lineno"></span><span class="op" id="7474877">}</span>
</div>
</body>
</html>
