<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/ring</h2>
<ul>
<li><a href="/gostd/container/ring/ring.go.html">ring.go</a></li>
<li><a href="/gostd/container/ring/ring_test.go.html" class="current">ring_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7430277">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7430332">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7430386">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7430437">package</span>&nbsp;<span class="ident" id="7430445">ring</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7430451">import</span>&nbsp;<span class="op" id="7430458">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7430461">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7430468">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7430478">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7430481">//&nbsp;For&nbsp;debugging&nbsp;-&nbsp;keep&nbsp;around.</span><br>
<span class="lineno"></span><span class="keyword" id="7430513">func</span>&nbsp;<span class="ident" id="7430518">dump</span><span class="op" id="7430522">(</span><span class="ident" id="7430523">r</span>&nbsp;<span class="op" id="7430525">*</span><span class="ident" id="7430526">Ring</span><span class="op" id="7430530">)</span>&nbsp;<span class="op" id="7430532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7430535">if</span>&nbsp;<span class="ident" id="7430538">r</span>&nbsp;<span class="op" id="7430540">==</span>&nbsp;<span class="builtintype" id="7430543">nil</span>&nbsp;<span class="op" id="7430547">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430551">fmt</span><span class="op" id="7430554">.</span><span class="ident" id="7430555">Println</span><span class="op" id="7430562">(</span><span class="string" id="7430563">&#34;empty&#34;</span><span class="op" id="7430570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7430574">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7430582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430585">i</span><span class="op" id="7430586">,</span>&nbsp;<span class="ident" id="7430588">n</span>&nbsp;<span class="op" id="7430590">:=</span>&nbsp;<span class="num" id="7430593">0</span><span class="op" id="7430594">,</span>&nbsp;<span class="ident" id="7430596">r</span><span class="op" id="7430597">.</span><span class="ident" id="7430598">Len</span><span class="op" id="7430601">(</span><span class="op" id="7430602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7430605">for</span>&nbsp;<span class="ident" id="7430609">p</span>&nbsp;<span class="op" id="7430611">:=</span>&nbsp;<span class="ident" id="7430614">r</span><span class="op" id="7430615">;</span>&nbsp;<span class="ident" id="7430617">i</span>&nbsp;<span class="op" id="7430619">&lt;</span>&nbsp;<span class="ident" id="7430621">n</span><span class="op" id="7430622">;</span>&nbsp;<span class="ident" id="7430624">p</span>&nbsp;<span class="op" id="7430626">=</span>&nbsp;<span class="ident" id="7430628">p</span><span class="op" id="7430629">.</span><span class="ident" id="7430630">next</span>&nbsp;<span class="op" id="7430635">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430639">fmt</span><span class="op" id="7430642">.</span><span class="ident" id="7430643">Printf</span><span class="op" id="7430649">(</span><span class="string" id="7430650">&#34;%4d:&nbsp;%p&nbsp;=&nbsp;{&lt;-&nbsp;%p&nbsp;|&nbsp;%p&nbsp;-&gt;}\n&#34;</span><span class="op" id="7430679">,</span>&nbsp;<span class="ident" id="7430681">i</span><span class="op" id="7430682">,</span>&nbsp;<span class="ident" id="7430684">p</span><span class="op" id="7430685">,</span>&nbsp;<span class="ident" id="7430687">p</span><span class="op" id="7430688">.</span><span class="ident" id="7430689">prev</span><span class="op" id="7430693">,</span>&nbsp;<span class="ident" id="7430695">p</span><span class="op" id="7430696">.</span><span class="ident" id="7430697">next</span><span class="op" id="7430701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430705">i</span><span class="op" id="7430706">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7430710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430713">fmt</span><span class="op" id="7430716">.</span><span class="ident" id="7430717">Println</span><span class="op" id="7430724">(</span><span class="op" id="7430725">)</span><br>
<span class="lineno"></span><span class="op" id="7430727">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7430730">func</span>&nbsp;<span class="ident" id="7430735">verify</span><span class="op" id="7430741">(</span><span class="ident" id="7430742">t</span>&nbsp;<span class="op" id="7430744">*</span><span class="ident" id="7430745">testing</span><span class="op" id="7430752">.</span><span class="ident" id="7430753">T</span><span class="op" id="7430754">,</span>&nbsp;<span class="ident" id="7430756">r</span>&nbsp;<span class="op" id="7430758">*</span><span class="ident" id="7430759">Ring</span><span class="op" id="7430763">,</span>&nbsp;<span class="ident" id="7430765">N</span>&nbsp;<span class="builtintype" id="7430767">int</span><span class="op" id="7430770">,</span>&nbsp;<span class="ident" id="7430772">sum</span>&nbsp;<span class="builtintype" id="7430776">int</span><span class="op" id="7430779">)</span>&nbsp;<span class="op" id="7430781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7430784">//&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430792">n</span>&nbsp;<span class="op" id="7430794">:=</span>&nbsp;<span class="ident" id="7430797">r</span><span class="op" id="7430798">.</span><span class="ident" id="7430799">Len</span><span class="op" id="7430802">(</span><span class="op" id="7430803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7430806">if</span>&nbsp;<span class="ident" id="7430809">n</span>&nbsp;<span class="op" id="7430811">!=</span>&nbsp;<span class="ident" id="7430814">N</span>&nbsp;<span class="op" id="7430816">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430820">t</span><span class="op" id="7430821">.</span><span class="ident" id="7430822">Errorf</span><span class="op" id="7430828">(</span><span class="string" id="7430829">&#34;r.Len()&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7430857">,</span>&nbsp;<span class="ident" id="7430859">n</span><span class="op" id="7430860">,</span>&nbsp;<span class="ident" id="7430862">N</span><span class="op" id="7430863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7430866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7430870">//&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430884">n</span>&nbsp;<span class="op" id="7430886">=</span>&nbsp;<span class="num" id="7430888">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430891">s</span>&nbsp;<span class="op" id="7430893">:=</span>&nbsp;<span class="num" id="7430896">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430899">r</span><span class="op" id="7430900">.</span><span class="ident" id="7430901">Do</span><span class="op" id="7430903">(</span><span class="keyword" id="7430904">func</span><span class="op" id="7430908">(</span><span class="ident" id="7430909">p</span>&nbsp;<span class="keyword" id="7430911">interface</span><span class="op" id="7430920">{</span><span class="op" id="7430921">}</span><span class="op" id="7430922">)</span>&nbsp;<span class="op" id="7430924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430928">n</span><span class="op" id="7430929">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7430934">if</span>&nbsp;<span class="ident" id="7430937">p</span>&nbsp;<span class="op" id="7430939">!=</span>&nbsp;<span class="builtintype" id="7430942">nil</span>&nbsp;<span class="op" id="7430946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430951">s</span>&nbsp;<span class="op" id="7430953">+=</span>&nbsp;<span class="ident" id="7430956">p</span><span class="op" id="7430957">.</span><span class="op" id="7430958">(</span><span class="builtintype" id="7430959">int</span><span class="op" id="7430962">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7430966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7430969">}</span><span class="op" id="7430970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7430973">if</span>&nbsp;<span class="ident" id="7430976">n</span>&nbsp;<span class="op" id="7430978">!=</span>&nbsp;<span class="ident" id="7430981">N</span>&nbsp;<span class="op" id="7430983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7430987">t</span><span class="op" id="7430988">.</span><span class="ident" id="7430989">Errorf</span><span class="op" id="7430995">(</span><span class="string" id="7430996">&#34;number&nbsp;of&nbsp;forward&nbsp;iterations&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7431045">,</span>&nbsp;<span class="ident" id="7431047">n</span><span class="op" id="7431048">,</span>&nbsp;<span class="ident" id="7431050">N</span><span class="op" id="7431051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431054">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431057">if</span>&nbsp;<span class="ident" id="7431060">sum</span>&nbsp;<span class="op" id="7431064">&gt;=</span>&nbsp;<span class="num" id="7431067">0</span>&nbsp;<span class="op" id="7431069">&amp;&amp;</span>&nbsp;<span class="ident" id="7431072">s</span>&nbsp;<span class="op" id="7431074">!=</span>&nbsp;<span class="ident" id="7431077">sum</span>&nbsp;<span class="op" id="7431081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431085">t</span><span class="op" id="7431086">.</span><span class="ident" id="7431087">Errorf</span><span class="op" id="7431093">(</span><span class="string" id="7431094">&#34;forward&nbsp;ring&nbsp;sum&nbsp;=&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7431130">,</span>&nbsp;<span class="ident" id="7431132">s</span><span class="op" id="7431133">,</span>&nbsp;<span class="ident" id="7431135">sum</span><span class="op" id="7431138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431145">if</span>&nbsp;<span class="ident" id="7431148">r</span>&nbsp;<span class="op" id="7431150">==</span>&nbsp;<span class="builtintype" id="7431153">nil</span>&nbsp;<span class="op" id="7431157">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431161">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7431173">//&nbsp;connections</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431189">if</span>&nbsp;<span class="ident" id="7431192">r</span><span class="op" id="7431193">.</span><span class="ident" id="7431194">next</span>&nbsp;<span class="op" id="7431199">!=</span>&nbsp;<span class="builtintype" id="7431202">nil</span>&nbsp;<span class="op" id="7431206">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431210">var</span>&nbsp;<span class="ident" id="7431214">p</span>&nbsp;<span class="op" id="7431216">*</span><span class="ident" id="7431217">Ring</span>&nbsp;<span class="comment" id="7431222">//&nbsp;previous&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431244">for</span>&nbsp;<span class="ident" id="7431248">q</span>&nbsp;<span class="op" id="7431250">:=</span>&nbsp;<span class="ident" id="7431253">r</span><span class="op" id="7431254">;</span>&nbsp;<span class="ident" id="7431256">p</span>&nbsp;<span class="op" id="7431258">==</span>&nbsp;<span class="builtintype" id="7431261">nil</span>&nbsp;<span class="op" id="7431265">||</span>&nbsp;<span class="ident" id="7431268">q</span>&nbsp;<span class="op" id="7431270">!=</span>&nbsp;<span class="ident" id="7431273">r</span><span class="op" id="7431274">;</span>&nbsp;<span class="ident" id="7431276">q</span>&nbsp;<span class="op" id="7431278">=</span>&nbsp;<span class="ident" id="7431280">q</span><span class="op" id="7431281">.</span><span class="ident" id="7431282">next</span>&nbsp;<span class="op" id="7431287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431292">if</span>&nbsp;<span class="ident" id="7431295">p</span>&nbsp;<span class="op" id="7431297">!=</span>&nbsp;<span class="builtintype" id="7431300">nil</span>&nbsp;<span class="op" id="7431304">&amp;&amp;</span>&nbsp;<span class="ident" id="7431307">p</span>&nbsp;<span class="op" id="7431309">!=</span>&nbsp;<span class="ident" id="7431312">q</span><span class="op" id="7431313">.</span><span class="ident" id="7431314">prev</span>&nbsp;<span class="op" id="7431319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431325">t</span><span class="op" id="7431326">.</span><span class="ident" id="7431327">Errorf</span><span class="op" id="7431333">(</span><span class="string" id="7431334">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;q.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7431369">,</span>&nbsp;<span class="ident" id="7431371">p</span><span class="op" id="7431372">,</span>&nbsp;<span class="ident" id="7431374">q</span><span class="op" id="7431375">.</span><span class="ident" id="7431376">prev</span><span class="op" id="7431380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431385">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431390">p</span>&nbsp;<span class="op" id="7431392">=</span>&nbsp;<span class="ident" id="7431394">q</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431402">if</span>&nbsp;<span class="ident" id="7431405">p</span>&nbsp;<span class="op" id="7431407">!=</span>&nbsp;<span class="ident" id="7431410">r</span><span class="op" id="7431411">.</span><span class="ident" id="7431412">prev</span>&nbsp;<span class="op" id="7431417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431422">t</span><span class="op" id="7431423">.</span><span class="ident" id="7431424">Errorf</span><span class="op" id="7431430">(</span><span class="string" id="7431431">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;r.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7431466">,</span>&nbsp;<span class="ident" id="7431468">p</span><span class="op" id="7431469">,</span>&nbsp;<span class="ident" id="7431471">r</span><span class="op" id="7431472">.</span><span class="ident" id="7431473">prev</span><span class="op" id="7431477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431481">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7431488">//&nbsp;Next,&nbsp;Prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431503">if</span>&nbsp;<span class="ident" id="7431506">r</span><span class="op" id="7431507">.</span><span class="ident" id="7431508">Next</span><span class="op" id="7431512">(</span><span class="op" id="7431513">)</span>&nbsp;<span class="op" id="7431515">!=</span>&nbsp;<span class="ident" id="7431518">r</span><span class="op" id="7431519">.</span><span class="ident" id="7431520">next</span>&nbsp;<span class="op" id="7431525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431529">t</span><span class="op" id="7431530">.</span><span class="ident" id="7431531">Errorf</span><span class="op" id="7431537">(</span><span class="string" id="7431538">&#34;r.Next()&nbsp;!=&nbsp;r.next&#34;</span><span class="op" id="7431558">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431564">if</span>&nbsp;<span class="ident" id="7431567">r</span><span class="op" id="7431568">.</span><span class="ident" id="7431569">Prev</span><span class="op" id="7431573">(</span><span class="op" id="7431574">)</span>&nbsp;<span class="op" id="7431576">!=</span>&nbsp;<span class="ident" id="7431579">r</span><span class="op" id="7431580">.</span><span class="ident" id="7431581">prev</span>&nbsp;<span class="op" id="7431586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431590">t</span><span class="op" id="7431591">.</span><span class="ident" id="7431592">Errorf</span><span class="op" id="7431598">(</span><span class="string" id="7431599">&#34;r.Prev()&nbsp;!=&nbsp;r.prev&#34;</span><span class="op" id="7431619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7431626">//&nbsp;Move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431635">if</span>&nbsp;<span class="ident" id="7431638">r</span><span class="op" id="7431639">.</span><span class="ident" id="7431640">Move</span><span class="op" id="7431644">(</span><span class="num" id="7431645">0</span><span class="op" id="7431646">)</span>&nbsp;<span class="op" id="7431648">!=</span>&nbsp;<span class="ident" id="7431651">r</span>&nbsp;<span class="op" id="7431653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431657">t</span><span class="op" id="7431658">.</span><span class="ident" id="7431659">Errorf</span><span class="op" id="7431665">(</span><span class="string" id="7431666">&#34;r.Move(0)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7431682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431688">if</span>&nbsp;<span class="ident" id="7431691">r</span><span class="op" id="7431692">.</span><span class="ident" id="7431693">Move</span><span class="op" id="7431697">(</span><span class="ident" id="7431698">N</span><span class="op" id="7431699">)</span>&nbsp;<span class="op" id="7431701">!=</span>&nbsp;<span class="ident" id="7431704">r</span>&nbsp;<span class="op" id="7431706">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431710">t</span><span class="op" id="7431711">.</span><span class="ident" id="7431712">Errorf</span><span class="op" id="7431718">(</span><span class="string" id="7431719">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7431736">,</span>&nbsp;<span class="ident" id="7431738">N</span><span class="op" id="7431739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431745">if</span>&nbsp;<span class="ident" id="7431748">r</span><span class="op" id="7431749">.</span><span class="ident" id="7431750">Move</span><span class="op" id="7431754">(</span><span class="op" id="7431755">-</span><span class="ident" id="7431756">N</span><span class="op" id="7431757">)</span>&nbsp;<span class="op" id="7431759">!=</span>&nbsp;<span class="ident" id="7431762">r</span>&nbsp;<span class="op" id="7431764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431768">t</span><span class="op" id="7431769">.</span><span class="ident" id="7431770">Errorf</span><span class="op" id="7431776">(</span><span class="string" id="7431777">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7431794">,</span>&nbsp;<span class="op" id="7431796">-</span><span class="ident" id="7431797">N</span><span class="op" id="7431798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431801">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431804">for</span>&nbsp;<span class="ident" id="7431808">i</span>&nbsp;<span class="op" id="7431810">:=</span>&nbsp;<span class="num" id="7431813">0</span><span class="op" id="7431814">;</span>&nbsp;<span class="ident" id="7431816">i</span>&nbsp;<span class="op" id="7431818">&lt;</span>&nbsp;<span class="num" id="7431820">10</span><span class="op" id="7431822">;</span>&nbsp;<span class="ident" id="7431824">i</span><span class="op" id="7431825">++</span>&nbsp;<span class="op" id="7431828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431832">ni</span>&nbsp;<span class="op" id="7431835">:=</span>&nbsp;<span class="ident" id="7431838">N</span>&nbsp;<span class="op" id="7431840">+</span>&nbsp;<span class="ident" id="7431842">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431846">mi</span>&nbsp;<span class="op" id="7431849">:=</span>&nbsp;<span class="ident" id="7431852">ni</span>&nbsp;<span class="op" id="7431855">%</span>&nbsp;<span class="ident" id="7431857">N</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431861">if</span>&nbsp;<span class="ident" id="7431864">r</span><span class="op" id="7431865">.</span><span class="ident" id="7431866">Move</span><span class="op" id="7431870">(</span><span class="ident" id="7431871">ni</span><span class="op" id="7431873">)</span>&nbsp;<span class="op" id="7431875">!=</span>&nbsp;<span class="ident" id="7431878">r</span><span class="op" id="7431879">.</span><span class="ident" id="7431880">Move</span><span class="op" id="7431884">(</span><span class="ident" id="7431885">mi</span><span class="op" id="7431887">)</span>&nbsp;<span class="op" id="7431889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431894">t</span><span class="op" id="7431895">.</span><span class="ident" id="7431896">Errorf</span><span class="op" id="7431902">(</span><span class="string" id="7431903">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7431929">,</span>&nbsp;<span class="ident" id="7431931">ni</span><span class="op" id="7431933">,</span>&nbsp;<span class="ident" id="7431935">mi</span><span class="op" id="7431937">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7431941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7431945">if</span>&nbsp;<span class="ident" id="7431948">r</span><span class="op" id="7431949">.</span><span class="ident" id="7431950">Move</span><span class="op" id="7431954">(</span><span class="op" id="7431955">-</span><span class="ident" id="7431956">ni</span><span class="op" id="7431958">)</span>&nbsp;<span class="op" id="7431960">!=</span>&nbsp;<span class="ident" id="7431963">r</span><span class="op" id="7431964">.</span><span class="ident" id="7431965">Move</span><span class="op" id="7431969">(</span><span class="op" id="7431970">-</span><span class="ident" id="7431971">mi</span><span class="op" id="7431973">)</span>&nbsp;<span class="op" id="7431975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7431980">t</span><span class="op" id="7431981">.</span><span class="ident" id="7431982">Errorf</span><span class="op" id="7431988">(</span><span class="string" id="7431989">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7432015">,</span>&nbsp;<span class="op" id="7432017">-</span><span class="ident" id="7432018">ni</span><span class="op" id="7432020">,</span>&nbsp;<span class="op" id="7432022">-</span><span class="ident" id="7432023">mi</span><span class="op" id="7432025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7432029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7432032">}</span><br>
<span class="lineno">95</span><span class="op" id="7432034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7432037">func</span>&nbsp;<span class="ident" id="7432042">TestCornerCases</span><span class="op" id="7432057">(</span><span class="ident" id="7432058">t</span>&nbsp;<span class="op" id="7432060">*</span><span class="ident" id="7432061">testing</span><span class="op" id="7432068">.</span><span class="ident" id="7432069">T</span><span class="op" id="7432070">)</span>&nbsp;<span class="op" id="7432072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7432075">var</span>&nbsp;<span class="op" id="7432079">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432083">r0</span>&nbsp;<span class="op" id="7432086">*</span><span class="ident" id="7432087">Ring</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432094">r1</span>&nbsp;<span class="ident" id="7432097">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7432103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7432106">//&nbsp;Basics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432117">verify</span><span class="op" id="7432123">(</span><span class="ident" id="7432124">t</span><span class="op" id="7432125">,</span>&nbsp;<span class="ident" id="7432127">r0</span><span class="op" id="7432129">,</span>&nbsp;<span class="num" id="7432131">0</span><span class="op" id="7432132">,</span>&nbsp;<span class="num" id="7432134">0</span><span class="op" id="7432135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432138">verify</span><span class="op" id="7432144">(</span><span class="ident" id="7432145">t</span><span class="op" id="7432146">,</span>&nbsp;<span class="op" id="7432148">&amp;</span><span class="ident" id="7432149">r1</span><span class="op" id="7432151">,</span>&nbsp;<span class="num" id="7432153">1</span><span class="op" id="7432154">,</span>&nbsp;<span class="num" id="7432156">0</span><span class="op" id="7432157">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7432160">//&nbsp;Insert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432171">r1</span><span class="op" id="7432173">.</span><span class="ident" id="7432174">Link</span><span class="op" id="7432178">(</span><span class="ident" id="7432179">r0</span><span class="op" id="7432181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432184">verify</span><span class="op" id="7432190">(</span><span class="ident" id="7432191">t</span><span class="op" id="7432192">,</span>&nbsp;<span class="ident" id="7432194">r0</span><span class="op" id="7432196">,</span>&nbsp;<span class="num" id="7432198">0</span><span class="op" id="7432199">,</span>&nbsp;<span class="num" id="7432201">0</span><span class="op" id="7432202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432205">verify</span><span class="op" id="7432211">(</span><span class="ident" id="7432212">t</span><span class="op" id="7432213">,</span>&nbsp;<span class="op" id="7432215">&amp;</span><span class="ident" id="7432216">r1</span><span class="op" id="7432218">,</span>&nbsp;<span class="num" id="7432220">1</span><span class="op" id="7432221">,</span>&nbsp;<span class="num" id="7432223">0</span><span class="op" id="7432224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7432227">//&nbsp;Insert</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432238">r1</span><span class="op" id="7432240">.</span><span class="ident" id="7432241">Link</span><span class="op" id="7432245">(</span><span class="ident" id="7432246">r0</span><span class="op" id="7432248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432251">verify</span><span class="op" id="7432257">(</span><span class="ident" id="7432258">t</span><span class="op" id="7432259">,</span>&nbsp;<span class="ident" id="7432261">r0</span><span class="op" id="7432263">,</span>&nbsp;<span class="num" id="7432265">0</span><span class="op" id="7432266">,</span>&nbsp;<span class="num" id="7432268">0</span><span class="op" id="7432269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432272">verify</span><span class="op" id="7432278">(</span><span class="ident" id="7432279">t</span><span class="op" id="7432280">,</span>&nbsp;<span class="op" id="7432282">&amp;</span><span class="ident" id="7432283">r1</span><span class="op" id="7432285">,</span>&nbsp;<span class="num" id="7432287">1</span><span class="op" id="7432288">,</span>&nbsp;<span class="num" id="7432290">0</span><span class="op" id="7432291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7432294">//&nbsp;Unlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432305">r1</span><span class="op" id="7432307">.</span><span class="ident" id="7432308">Unlink</span><span class="op" id="7432314">(</span><span class="num" id="7432315">0</span><span class="op" id="7432316">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432319">verify</span><span class="op" id="7432325">(</span><span class="ident" id="7432326">t</span><span class="op" id="7432327">,</span>&nbsp;<span class="op" id="7432329">&amp;</span><span class="ident" id="7432330">r1</span><span class="op" id="7432332">,</span>&nbsp;<span class="num" id="7432334">1</span><span class="op" id="7432335">,</span>&nbsp;<span class="num" id="7432337">0</span><span class="op" id="7432338">)</span><br>
<span class="lineno"></span><span class="op" id="7432340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7432343">func</span>&nbsp;<span class="ident" id="7432348">makeN</span><span class="op" id="7432353">(</span><span class="ident" id="7432354">n</span>&nbsp;<span class="builtintype" id="7432356">int</span><span class="op" id="7432359">)</span>&nbsp;<span class="op" id="7432361">*</span><span class="ident" id="7432362">Ring</span>&nbsp;<span class="op" id="7432367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432370">r</span>&nbsp;<span class="op" id="7432372">:=</span>&nbsp;<span class="ident" id="7432375">New</span><span class="op" id="7432378">(</span><span class="ident" id="7432379">n</span><span class="op" id="7432380">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7432383">for</span>&nbsp;<span class="ident" id="7432387">i</span>&nbsp;<span class="op" id="7432389">:=</span>&nbsp;<span class="num" id="7432392">1</span><span class="op" id="7432393">;</span>&nbsp;<span class="ident" id="7432395">i</span>&nbsp;<span class="op" id="7432397">&lt;=</span>&nbsp;<span class="ident" id="7432400">n</span><span class="op" id="7432401">;</span>&nbsp;<span class="ident" id="7432403">i</span><span class="op" id="7432404">++</span>&nbsp;<span class="op" id="7432407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432411">r</span><span class="op" id="7432412">.</span><span class="ident" id="7432413">Value</span>&nbsp;<span class="op" id="7432419">=</span>&nbsp;<span class="ident" id="7432421">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432425">r</span>&nbsp;<span class="op" id="7432427">=</span>&nbsp;<span class="ident" id="7432429">r</span><span class="op" id="7432430">.</span><span class="ident" id="7432431">Next</span><span class="op" id="7432435">(</span><span class="op" id="7432436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7432439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7432442">return</span>&nbsp;<span class="ident" id="7432449">r</span><br>
<span class="lineno">125</span><span class="op" id="7432451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7432454">func</span>&nbsp;<span class="ident" id="7432459">sumN</span><span class="op" id="7432463">(</span><span class="ident" id="7432464">n</span>&nbsp;<span class="builtintype" id="7432466">int</span><span class="op" id="7432469">)</span>&nbsp;<span class="builtintype" id="7432471">int</span>&nbsp;<span class="op" id="7432475">{</span>&nbsp;<span class="keyword" id="7432477">return</span>&nbsp;<span class="op" id="7432484">(</span><span class="ident" id="7432485">n</span><span class="op" id="7432486">*</span><span class="ident" id="7432487">n</span>&nbsp;<span class="op" id="7432489">+</span>&nbsp;<span class="ident" id="7432491">n</span><span class="op" id="7432492">)</span>&nbsp;<span class="op" id="7432494">/</span>&nbsp;<span class="num" id="7432496">2</span>&nbsp;<span class="op" id="7432498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7432501">func</span>&nbsp;<span class="ident" id="7432506">TestNew</span><span class="op" id="7432513">(</span><span class="ident" id="7432514">t</span>&nbsp;<span class="op" id="7432516">*</span><span class="ident" id="7432517">testing</span><span class="op" id="7432524">.</span><span class="ident" id="7432525">T</span><span class="op" id="7432526">)</span>&nbsp;<span class="op" id="7432528">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7432531">for</span>&nbsp;<span class="ident" id="7432535">i</span>&nbsp;<span class="op" id="7432537">:=</span>&nbsp;<span class="num" id="7432540">0</span><span class="op" id="7432541">;</span>&nbsp;<span class="ident" id="7432543">i</span>&nbsp;<span class="op" id="7432545">&lt;</span>&nbsp;<span class="num" id="7432547">10</span><span class="op" id="7432549">;</span>&nbsp;<span class="ident" id="7432551">i</span><span class="op" id="7432552">++</span>&nbsp;<span class="op" id="7432555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432559">r</span>&nbsp;<span class="op" id="7432561">:=</span>&nbsp;<span class="ident" id="7432564">New</span><span class="op" id="7432567">(</span><span class="ident" id="7432568">i</span><span class="op" id="7432569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432573">verify</span><span class="op" id="7432579">(</span><span class="ident" id="7432580">t</span><span class="op" id="7432581">,</span>&nbsp;<span class="ident" id="7432583">r</span><span class="op" id="7432584">,</span>&nbsp;<span class="ident" id="7432586">i</span><span class="op" id="7432587">,</span>&nbsp;<span class="op" id="7432589">-</span><span class="num" id="7432590">1</span><span class="op" id="7432591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7432594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7432597">for</span>&nbsp;<span class="ident" id="7432601">i</span>&nbsp;<span class="op" id="7432603">:=</span>&nbsp;<span class="num" id="7432606">0</span><span class="op" id="7432607">;</span>&nbsp;<span class="ident" id="7432609">i</span>&nbsp;<span class="op" id="7432611">&lt;</span>&nbsp;<span class="num" id="7432613">10</span><span class="op" id="7432615">;</span>&nbsp;<span class="ident" id="7432617">i</span><span class="op" id="7432618">++</span>&nbsp;<span class="op" id="7432621">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432625">r</span>&nbsp;<span class="op" id="7432627">:=</span>&nbsp;<span class="ident" id="7432630">makeN</span><span class="op" id="7432635">(</span><span class="ident" id="7432636">i</span><span class="op" id="7432637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432641">verify</span><span class="op" id="7432647">(</span><span class="ident" id="7432648">t</span><span class="op" id="7432649">,</span>&nbsp;<span class="ident" id="7432651">r</span><span class="op" id="7432652">,</span>&nbsp;<span class="ident" id="7432654">i</span><span class="op" id="7432655">,</span>&nbsp;<span class="ident" id="7432657">sumN</span><span class="op" id="7432661">(</span><span class="ident" id="7432662">i</span><span class="op" id="7432663">)</span><span class="op" id="7432664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7432667">}</span><br>
<span class="lineno"></span><span class="op" id="7432669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7432672">func</span>&nbsp;<span class="ident" id="7432677">TestLink1</span><span class="op" id="7432686">(</span><span class="ident" id="7432687">t</span>&nbsp;<span class="op" id="7432689">*</span><span class="ident" id="7432690">testing</span><span class="op" id="7432697">.</span><span class="ident" id="7432698">T</span><span class="op" id="7432699">)</span>&nbsp;<span class="op" id="7432701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432704">r1a</span>&nbsp;<span class="op" id="7432708">:=</span>&nbsp;<span class="ident" id="7432711">makeN</span><span class="op" id="7432716">(</span><span class="num" id="7432717">1</span><span class="op" id="7432718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7432721">var</span>&nbsp;<span class="ident" id="7432725">r1b</span>&nbsp;<span class="ident" id="7432729">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432735">r2a</span>&nbsp;<span class="op" id="7432739">:=</span>&nbsp;<span class="ident" id="7432742">r1a</span><span class="op" id="7432745">.</span><span class="ident" id="7432746">Link</span><span class="op" id="7432750">(</span><span class="op" id="7432751">&amp;</span><span class="ident" id="7432752">r1b</span><span class="op" id="7432755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432758">verify</span><span class="op" id="7432764">(</span><span class="ident" id="7432765">t</span><span class="op" id="7432766">,</span>&nbsp;<span class="ident" id="7432768">r2a</span><span class="op" id="7432771">,</span>&nbsp;<span class="num" id="7432773">2</span><span class="op" id="7432774">,</span>&nbsp;<span class="num" id="7432776">1</span><span class="op" id="7432777">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7432780">if</span>&nbsp;<span class="ident" id="7432783">r2a</span>&nbsp;<span class="op" id="7432787">!=</span>&nbsp;<span class="ident" id="7432790">r1a</span>&nbsp;<span class="op" id="7432794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432798">t</span><span class="op" id="7432799">.</span><span class="ident" id="7432800">Errorf</span><span class="op" id="7432806">(</span><span class="string" id="7432807">&#34;a)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7432833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7432836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432840">r2b</span>&nbsp;<span class="op" id="7432844">:=</span>&nbsp;<span class="ident" id="7432847">r2a</span><span class="op" id="7432850">.</span><span class="ident" id="7432851">Link</span><span class="op" id="7432855">(</span><span class="ident" id="7432856">r2a</span><span class="op" id="7432859">.</span><span class="ident" id="7432860">Next</span><span class="op" id="7432864">(</span><span class="op" id="7432865">)</span><span class="op" id="7432866">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432869">verify</span><span class="op" id="7432875">(</span><span class="ident" id="7432876">t</span><span class="op" id="7432877">,</span>&nbsp;<span class="ident" id="7432879">r2b</span><span class="op" id="7432882">,</span>&nbsp;<span class="num" id="7432884">2</span><span class="op" id="7432885">,</span>&nbsp;<span class="num" id="7432887">1</span><span class="op" id="7432888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7432891">if</span>&nbsp;<span class="ident" id="7432894">r2b</span>&nbsp;<span class="op" id="7432898">!=</span>&nbsp;<span class="ident" id="7432901">r2a</span><span class="op" id="7432904">.</span><span class="ident" id="7432905">Next</span><span class="op" id="7432909">(</span><span class="op" id="7432910">)</span>&nbsp;<span class="op" id="7432912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432916">t</span><span class="op" id="7432917">.</span><span class="ident" id="7432918">Errorf</span><span class="op" id="7432924">(</span><span class="string" id="7432925">&#34;b)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7432951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7432954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432958">r1c</span>&nbsp;<span class="op" id="7432962">:=</span>&nbsp;<span class="ident" id="7432965">r2b</span><span class="op" id="7432968">.</span><span class="ident" id="7432969">Link</span><span class="op" id="7432973">(</span><span class="ident" id="7432974">r2b</span><span class="op" id="7432977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7432980">verify</span><span class="op" id="7432986">(</span><span class="ident" id="7432987">t</span><span class="op" id="7432988">,</span>&nbsp;<span class="ident" id="7432990">r1c</span><span class="op" id="7432993">,</span>&nbsp;<span class="num" id="7432995">1</span><span class="op" id="7432996">,</span>&nbsp;<span class="num" id="7432998">1</span><span class="op" id="7432999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433002">verify</span><span class="op" id="7433008">(</span><span class="ident" id="7433009">t</span><span class="op" id="7433010">,</span>&nbsp;<span class="ident" id="7433012">r2b</span><span class="op" id="7433015">,</span>&nbsp;<span class="num" id="7433017">1</span><span class="op" id="7433018">,</span>&nbsp;<span class="num" id="7433020">0</span><span class="op" id="7433021">)</span><br>
<span class="lineno"></span><span class="op" id="7433023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7433026">func</span>&nbsp;<span class="ident" id="7433031">TestLink2</span><span class="op" id="7433040">(</span><span class="ident" id="7433041">t</span>&nbsp;<span class="op" id="7433043">*</span><span class="ident" id="7433044">testing</span><span class="op" id="7433051">.</span><span class="ident" id="7433052">T</span><span class="op" id="7433053">)</span>&nbsp;<span class="op" id="7433055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7433058">var</span>&nbsp;<span class="ident" id="7433062">r0</span>&nbsp;<span class="op" id="7433065">*</span><span class="ident" id="7433066">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433072">r1a</span>&nbsp;<span class="op" id="7433076">:=</span>&nbsp;<span class="op" id="7433079">&amp;</span><span class="ident" id="7433080">Ring</span><span class="op" id="7433084">{</span><span class="ident" id="7433085">Value</span><span class="op" id="7433090">:</span>&nbsp;<span class="num" id="7433092">42</span><span class="op" id="7433094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433097">r1b</span>&nbsp;<span class="op" id="7433101">:=</span>&nbsp;<span class="op" id="7433104">&amp;</span><span class="ident" id="7433105">Ring</span><span class="op" id="7433109">{</span><span class="ident" id="7433110">Value</span><span class="op" id="7433115">:</span>&nbsp;<span class="num" id="7433117">77</span><span class="op" id="7433119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433122">r10</span>&nbsp;<span class="op" id="7433126">:=</span>&nbsp;<span class="ident" id="7433129">makeN</span><span class="op" id="7433134">(</span><span class="num" id="7433135">10</span><span class="op" id="7433137">)</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433141">r1a</span><span class="op" id="7433144">.</span><span class="ident" id="7433145">Link</span><span class="op" id="7433149">(</span><span class="ident" id="7433150">r0</span><span class="op" id="7433152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433155">verify</span><span class="op" id="7433161">(</span><span class="ident" id="7433162">t</span><span class="op" id="7433163">,</span>&nbsp;<span class="ident" id="7433165">r1a</span><span class="op" id="7433168">,</span>&nbsp;<span class="num" id="7433170">1</span><span class="op" id="7433171">,</span>&nbsp;<span class="num" id="7433173">42</span><span class="op" id="7433175">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433179">r1a</span><span class="op" id="7433182">.</span><span class="ident" id="7433183">Link</span><span class="op" id="7433187">(</span><span class="ident" id="7433188">r1b</span><span class="op" id="7433191">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433194">verify</span><span class="op" id="7433200">(</span><span class="ident" id="7433201">t</span><span class="op" id="7433202">,</span>&nbsp;<span class="ident" id="7433204">r1a</span><span class="op" id="7433207">,</span>&nbsp;<span class="num" id="7433209">2</span><span class="op" id="7433210">,</span>&nbsp;<span class="num" id="7433212">42</span><span class="op" id="7433214">+</span><span class="num" id="7433215">77</span><span class="op" id="7433217">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433221">r10</span><span class="op" id="7433224">.</span><span class="ident" id="7433225">Link</span><span class="op" id="7433229">(</span><span class="ident" id="7433230">r0</span><span class="op" id="7433232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433235">verify</span><span class="op" id="7433241">(</span><span class="ident" id="7433242">t</span><span class="op" id="7433243">,</span>&nbsp;<span class="ident" id="7433245">r10</span><span class="op" id="7433248">,</span>&nbsp;<span class="num" id="7433250">10</span><span class="op" id="7433252">,</span>&nbsp;<span class="ident" id="7433254">sumN</span><span class="op" id="7433258">(</span><span class="num" id="7433259">10</span><span class="op" id="7433261">)</span><span class="op" id="7433262">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433266">r10</span><span class="op" id="7433269">.</span><span class="ident" id="7433270">Link</span><span class="op" id="7433274">(</span><span class="ident" id="7433275">r1a</span><span class="op" id="7433278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433281">verify</span><span class="op" id="7433287">(</span><span class="ident" id="7433288">t</span><span class="op" id="7433289">,</span>&nbsp;<span class="ident" id="7433291">r10</span><span class="op" id="7433294">,</span>&nbsp;<span class="num" id="7433296">12</span><span class="op" id="7433298">,</span>&nbsp;<span class="ident" id="7433300">sumN</span><span class="op" id="7433304">(</span><span class="num" id="7433305">10</span><span class="op" id="7433307">)</span><span class="op" id="7433308">+</span><span class="num" id="7433309">42</span><span class="op" id="7433311">+</span><span class="num" id="7433312">77</span><span class="op" id="7433314">)</span><br>
<span class="lineno"></span><span class="op" id="7433316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7433319">func</span>&nbsp;<span class="ident" id="7433324">TestLink3</span><span class="op" id="7433333">(</span><span class="ident" id="7433334">t</span>&nbsp;<span class="op" id="7433336">*</span><span class="ident" id="7433337">testing</span><span class="op" id="7433344">.</span><span class="ident" id="7433345">T</span><span class="op" id="7433346">)</span>&nbsp;<span class="op" id="7433348">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7433351">var</span>&nbsp;<span class="ident" id="7433355">r</span>&nbsp;<span class="ident" id="7433357">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433363">n</span>&nbsp;<span class="op" id="7433365">:=</span>&nbsp;<span class="num" id="7433368">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7433371">for</span>&nbsp;<span class="ident" id="7433375">i</span>&nbsp;<span class="op" id="7433377">:=</span>&nbsp;<span class="num" id="7433380">1</span><span class="op" id="7433381">;</span>&nbsp;<span class="ident" id="7433383">i</span>&nbsp;<span class="op" id="7433385">&lt;</span>&nbsp;<span class="num" id="7433387">100</span><span class="op" id="7433390">;</span>&nbsp;<span class="ident" id="7433392">i</span><span class="op" id="7433393">++</span>&nbsp;<span class="op" id="7433396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433400">n</span>&nbsp;<span class="op" id="7433402">+=</span>&nbsp;<span class="ident" id="7433405">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433409">verify</span><span class="op" id="7433415">(</span><span class="ident" id="7433416">t</span><span class="op" id="7433417">,</span>&nbsp;<span class="ident" id="7433419">r</span><span class="op" id="7433420">.</span><span class="ident" id="7433421">Link</span><span class="op" id="7433425">(</span><span class="ident" id="7433426">New</span><span class="op" id="7433429">(</span><span class="ident" id="7433430">i</span><span class="op" id="7433431">)</span><span class="op" id="7433432">)</span><span class="op" id="7433433">,</span>&nbsp;<span class="ident" id="7433435">n</span><span class="op" id="7433436">,</span>&nbsp;<span class="op" id="7433438">-</span><span class="num" id="7433439">1</span><span class="op" id="7433440">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7433443">}</span><br>
<span class="lineno"></span><span class="op" id="7433445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7433448">func</span>&nbsp;<span class="ident" id="7433453">TestUnlink</span><span class="op" id="7433463">(</span><span class="ident" id="7433464">t</span>&nbsp;<span class="op" id="7433466">*</span><span class="ident" id="7433467">testing</span><span class="op" id="7433474">.</span><span class="ident" id="7433475">T</span><span class="op" id="7433476">)</span>&nbsp;<span class="op" id="7433478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433481">r10</span>&nbsp;<span class="op" id="7433485">:=</span>&nbsp;<span class="ident" id="7433488">makeN</span><span class="op" id="7433493">(</span><span class="num" id="7433494">10</span><span class="op" id="7433496">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433499">s10</span>&nbsp;<span class="op" id="7433503">:=</span>&nbsp;<span class="ident" id="7433506">r10</span><span class="op" id="7433509">.</span><span class="ident" id="7433510">Move</span><span class="op" id="7433514">(</span><span class="num" id="7433515">6</span><span class="op" id="7433516">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433520">sum10</span>&nbsp;<span class="op" id="7433526">:=</span>&nbsp;<span class="ident" id="7433529">sumN</span><span class="op" id="7433533">(</span><span class="num" id="7433534">10</span><span class="op" id="7433536">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433540">verify</span><span class="op" id="7433546">(</span><span class="ident" id="7433547">t</span><span class="op" id="7433548">,</span>&nbsp;<span class="ident" id="7433550">r10</span><span class="op" id="7433553">,</span>&nbsp;<span class="num" id="7433555">10</span><span class="op" id="7433557">,</span>&nbsp;<span class="ident" id="7433559">sum10</span><span class="op" id="7433564">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433567">verify</span><span class="op" id="7433573">(</span><span class="ident" id="7433574">t</span><span class="op" id="7433575">,</span>&nbsp;<span class="ident" id="7433577">s10</span><span class="op" id="7433580">,</span>&nbsp;<span class="num" id="7433582">10</span><span class="op" id="7433584">,</span>&nbsp;<span class="ident" id="7433586">sum10</span><span class="op" id="7433591">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433595">r0</span>&nbsp;<span class="op" id="7433598">:=</span>&nbsp;<span class="ident" id="7433601">r10</span><span class="op" id="7433604">.</span><span class="ident" id="7433605">Unlink</span><span class="op" id="7433611">(</span><span class="num" id="7433612">0</span><span class="op" id="7433613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433616">verify</span><span class="op" id="7433622">(</span><span class="ident" id="7433623">t</span><span class="op" id="7433624">,</span>&nbsp;<span class="ident" id="7433626">r0</span><span class="op" id="7433628">,</span>&nbsp;<span class="num" id="7433630">0</span><span class="op" id="7433631">,</span>&nbsp;<span class="num" id="7433633">0</span><span class="op" id="7433634">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433638">r1</span>&nbsp;<span class="op" id="7433641">:=</span>&nbsp;<span class="ident" id="7433644">r10</span><span class="op" id="7433647">.</span><span class="ident" id="7433648">Unlink</span><span class="op" id="7433654">(</span><span class="num" id="7433655">1</span><span class="op" id="7433656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433659">verify</span><span class="op" id="7433665">(</span><span class="ident" id="7433666">t</span><span class="op" id="7433667">,</span>&nbsp;<span class="ident" id="7433669">r1</span><span class="op" id="7433671">,</span>&nbsp;<span class="num" id="7433673">1</span><span class="op" id="7433674">,</span>&nbsp;<span class="num" id="7433676">2</span><span class="op" id="7433677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433680">verify</span><span class="op" id="7433686">(</span><span class="ident" id="7433687">t</span><span class="op" id="7433688">,</span>&nbsp;<span class="ident" id="7433690">r10</span><span class="op" id="7433693">,</span>&nbsp;<span class="num" id="7433695">9</span><span class="op" id="7433696">,</span>&nbsp;<span class="ident" id="7433698">sum10</span><span class="op" id="7433703">-</span><span class="num" id="7433704">2</span><span class="op" id="7433705">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433709">r9</span>&nbsp;<span class="op" id="7433712">:=</span>&nbsp;<span class="ident" id="7433715">r10</span><span class="op" id="7433718">.</span><span class="ident" id="7433719">Unlink</span><span class="op" id="7433725">(</span><span class="num" id="7433726">9</span><span class="op" id="7433727">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433730">verify</span><span class="op" id="7433736">(</span><span class="ident" id="7433737">t</span><span class="op" id="7433738">,</span>&nbsp;<span class="ident" id="7433740">r9</span><span class="op" id="7433742">,</span>&nbsp;<span class="num" id="7433744">9</span><span class="op" id="7433745">,</span>&nbsp;<span class="ident" id="7433747">sum10</span><span class="op" id="7433752">-</span><span class="num" id="7433753">2</span><span class="op" id="7433754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433757">verify</span><span class="op" id="7433763">(</span><span class="ident" id="7433764">t</span><span class="op" id="7433765">,</span>&nbsp;<span class="ident" id="7433767">r10</span><span class="op" id="7433770">,</span>&nbsp;<span class="num" id="7433772">9</span><span class="op" id="7433773">,</span>&nbsp;<span class="ident" id="7433775">sum10</span><span class="op" id="7433780">-</span><span class="num" id="7433781">2</span><span class="op" id="7433782">)</span><br>
<span class="lineno"></span><span class="op" id="7433784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7433787">func</span>&nbsp;<span class="ident" id="7433792">TestLinkUnlink</span><span class="op" id="7433806">(</span><span class="ident" id="7433807">t</span>&nbsp;<span class="op" id="7433809">*</span><span class="ident" id="7433810">testing</span><span class="op" id="7433817">.</span><span class="ident" id="7433818">T</span><span class="op" id="7433819">)</span>&nbsp;<span class="op" id="7433821">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7433824">for</span>&nbsp;<span class="ident" id="7433828">i</span>&nbsp;<span class="op" id="7433830">:=</span>&nbsp;<span class="num" id="7433833">1</span><span class="op" id="7433834">;</span>&nbsp;<span class="ident" id="7433836">i</span>&nbsp;<span class="op" id="7433838">&lt;</span>&nbsp;<span class="num" id="7433840">4</span><span class="op" id="7433841">;</span>&nbsp;<span class="ident" id="7433843">i</span><span class="op" id="7433844">++</span>&nbsp;<span class="op" id="7433847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433851">ri</span>&nbsp;<span class="op" id="7433854">:=</span>&nbsp;<span class="ident" id="7433857">New</span><span class="op" id="7433860">(</span><span class="ident" id="7433861">i</span><span class="op" id="7433862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7433866">for</span>&nbsp;<span class="ident" id="7433870">j</span>&nbsp;<span class="op" id="7433872">:=</span>&nbsp;<span class="num" id="7433875">0</span><span class="op" id="7433876">;</span>&nbsp;<span class="ident" id="7433878">j</span>&nbsp;<span class="op" id="7433880">&lt;</span>&nbsp;<span class="ident" id="7433882">i</span><span class="op" id="7433883">;</span>&nbsp;<span class="ident" id="7433885">j</span><span class="op" id="7433886">++</span>&nbsp;<span class="op" id="7433889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433894">rj</span>&nbsp;<span class="op" id="7433897">:=</span>&nbsp;<span class="ident" id="7433900">ri</span><span class="op" id="7433902">.</span><span class="ident" id="7433903">Unlink</span><span class="op" id="7433909">(</span><span class="ident" id="7433910">j</span><span class="op" id="7433911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433916">verify</span><span class="op" id="7433922">(</span><span class="ident" id="7433923">t</span><span class="op" id="7433924">,</span>&nbsp;<span class="ident" id="7433926">rj</span><span class="op" id="7433928">,</span>&nbsp;<span class="ident" id="7433930">j</span><span class="op" id="7433931">,</span>&nbsp;<span class="op" id="7433933">-</span><span class="num" id="7433934">1</span><span class="op" id="7433935">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433940">verify</span><span class="op" id="7433946">(</span><span class="ident" id="7433947">t</span><span class="op" id="7433948">,</span>&nbsp;<span class="ident" id="7433950">ri</span><span class="op" id="7433952">,</span>&nbsp;<span class="ident" id="7433954">i</span><span class="op" id="7433955">-</span><span class="ident" id="7433956">j</span><span class="op" id="7433957">,</span>&nbsp;<span class="op" id="7433959">-</span><span class="num" id="7433960">1</span><span class="op" id="7433961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433966">ri</span><span class="op" id="7433968">.</span><span class="ident" id="7433969">Link</span><span class="op" id="7433973">(</span><span class="ident" id="7433974">rj</span><span class="op" id="7433976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7433981">verify</span><span class="op" id="7433987">(</span><span class="ident" id="7433988">t</span><span class="op" id="7433989">,</span>&nbsp;<span class="ident" id="7433991">ri</span><span class="op" id="7433993">,</span>&nbsp;<span class="ident" id="7433995">i</span><span class="op" id="7433996">,</span>&nbsp;<span class="op" id="7433998">-</span><span class="num" id="7433999">1</span><span class="op" id="7434000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7434004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7434007">}</span><br>
<span class="lineno">220</span><span class="op" id="7434009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7434012">//&nbsp;Test&nbsp;that&nbsp;calling&nbsp;Move()&nbsp;on&nbsp;an&nbsp;empty&nbsp;Ring&nbsp;initializes&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="7434073">func</span>&nbsp;<span class="ident" id="7434078">TestMoveEmptyRing</span><span class="op" id="7434095">(</span><span class="ident" id="7434096">t</span>&nbsp;<span class="op" id="7434098">*</span><span class="ident" id="7434099">testing</span><span class="op" id="7434106">.</span><span class="ident" id="7434107">T</span><span class="op" id="7434108">)</span>&nbsp;<span class="op" id="7434110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7434113">var</span>&nbsp;<span class="ident" id="7434117">r</span>&nbsp;<span class="ident" id="7434119">Ring</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7434126">r</span><span class="op" id="7434127">.</span><span class="ident" id="7434128">Move</span><span class="op" id="7434132">(</span><span class="num" id="7434133">1</span><span class="op" id="7434134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7434137">verify</span><span class="op" id="7434143">(</span><span class="ident" id="7434144">t</span><span class="op" id="7434145">,</span>&nbsp;<span class="op" id="7434147">&amp;</span><span class="ident" id="7434148">r</span><span class="op" id="7434149">,</span>&nbsp;<span class="num" id="7434151">1</span><span class="op" id="7434152">,</span>&nbsp;<span class="num" id="7434154">0</span><span class="op" id="7434155">)</span><br>
<span class="lineno"></span><span class="op" id="7434157">}</span>
</div>
</body>
</html>
