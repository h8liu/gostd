<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html" class="current">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7735286">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7735341">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7735395">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7735446">package</span>&nbsp;<span class="ident" id="7735454">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7735461">import</span>&nbsp;<span class="op" id="7735468">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7735471">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7735486">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7735496">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7735499">func</span>&nbsp;<span class="ident" id="7735504">TestYCbCr</span><span class="op" id="7735513">(</span><span class="ident" id="7735514">t</span>&nbsp;<span class="op" id="7735516">*</span><span class="ident" id="7735517">testing</span><span class="op" id="7735524">.</span><span class="ident" id="7735525">T</span><span class="op" id="7735526">)</span>&nbsp;<span class="op" id="7735528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735531">rects</span>&nbsp;<span class="op" id="7735537">:=</span>&nbsp;<span class="op" id="7735540">[</span><span class="op" id="7735541">]</span><span class="ident" id="7735542">Rectangle</span><span class="op" id="7735551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735555">Rect</span><span class="op" id="7735559">(</span><span class="num" id="7735560">0</span><span class="op" id="7735561">,</span>&nbsp;<span class="num" id="7735563">0</span><span class="op" id="7735564">,</span>&nbsp;<span class="num" id="7735566">16</span><span class="op" id="7735568">,</span>&nbsp;<span class="num" id="7735570">16</span><span class="op" id="7735572">)</span><span class="op" id="7735573">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735577">Rect</span><span class="op" id="7735581">(</span><span class="num" id="7735582">1</span><span class="op" id="7735583">,</span>&nbsp;<span class="num" id="7735585">0</span><span class="op" id="7735586">,</span>&nbsp;<span class="num" id="7735588">16</span><span class="op" id="7735590">,</span>&nbsp;<span class="num" id="7735592">16</span><span class="op" id="7735594">)</span><span class="op" id="7735595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735599">Rect</span><span class="op" id="7735603">(</span><span class="num" id="7735604">0</span><span class="op" id="7735605">,</span>&nbsp;<span class="num" id="7735607">1</span><span class="op" id="7735608">,</span>&nbsp;<span class="num" id="7735610">16</span><span class="op" id="7735612">,</span>&nbsp;<span class="num" id="7735614">16</span><span class="op" id="7735616">)</span><span class="op" id="7735617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735621">Rect</span><span class="op" id="7735625">(</span><span class="num" id="7735626">1</span><span class="op" id="7735627">,</span>&nbsp;<span class="num" id="7735629">1</span><span class="op" id="7735630">,</span>&nbsp;<span class="num" id="7735632">16</span><span class="op" id="7735634">,</span>&nbsp;<span class="num" id="7735636">16</span><span class="op" id="7735638">)</span><span class="op" id="7735639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735643">Rect</span><span class="op" id="7735647">(</span><span class="num" id="7735648">1</span><span class="op" id="7735649">,</span>&nbsp;<span class="num" id="7735651">1</span><span class="op" id="7735652">,</span>&nbsp;<span class="num" id="7735654">15</span><span class="op" id="7735656">,</span>&nbsp;<span class="num" id="7735658">16</span><span class="op" id="7735660">)</span><span class="op" id="7735661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735665">Rect</span><span class="op" id="7735669">(</span><span class="num" id="7735670">1</span><span class="op" id="7735671">,</span>&nbsp;<span class="num" id="7735673">1</span><span class="op" id="7735674">,</span>&nbsp;<span class="num" id="7735676">16</span><span class="op" id="7735678">,</span>&nbsp;<span class="num" id="7735680">15</span><span class="op" id="7735682">)</span><span class="op" id="7735683">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735687">Rect</span><span class="op" id="7735691">(</span><span class="num" id="7735692">1</span><span class="op" id="7735693">,</span>&nbsp;<span class="num" id="7735695">1</span><span class="op" id="7735696">,</span>&nbsp;<span class="num" id="7735698">15</span><span class="op" id="7735700">,</span>&nbsp;<span class="num" id="7735702">15</span><span class="op" id="7735704">)</span><span class="op" id="7735705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735709">Rect</span><span class="op" id="7735713">(</span><span class="num" id="7735714">2</span><span class="op" id="7735715">,</span>&nbsp;<span class="num" id="7735717">3</span><span class="op" id="7735718">,</span>&nbsp;<span class="num" id="7735720">14</span><span class="op" id="7735722">,</span>&nbsp;<span class="num" id="7735724">15</span><span class="op" id="7735726">)</span><span class="op" id="7735727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735731">Rect</span><span class="op" id="7735735">(</span><span class="num" id="7735736">7</span><span class="op" id="7735737">,</span>&nbsp;<span class="num" id="7735739">0</span><span class="op" id="7735740">,</span>&nbsp;<span class="num" id="7735742">7</span><span class="op" id="7735743">,</span>&nbsp;<span class="num" id="7735745">16</span><span class="op" id="7735747">)</span><span class="op" id="7735748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735752">Rect</span><span class="op" id="7735756">(</span><span class="num" id="7735757">0</span><span class="op" id="7735758">,</span>&nbsp;<span class="num" id="7735760">8</span><span class="op" id="7735761">,</span>&nbsp;<span class="num" id="7735763">16</span><span class="op" id="7735765">,</span>&nbsp;<span class="num" id="7735767">8</span><span class="op" id="7735768">)</span><span class="op" id="7735769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735773">Rect</span><span class="op" id="7735777">(</span><span class="num" id="7735778">0</span><span class="op" id="7735779">,</span>&nbsp;<span class="num" id="7735781">0</span><span class="op" id="7735782">,</span>&nbsp;<span class="num" id="7735784">10</span><span class="op" id="7735786">,</span>&nbsp;<span class="num" id="7735788">11</span><span class="op" id="7735790">)</span><span class="op" id="7735791">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735795">Rect</span><span class="op" id="7735799">(</span><span class="num" id="7735800">5</span><span class="op" id="7735801">,</span>&nbsp;<span class="num" id="7735803">6</span><span class="op" id="7735804">,</span>&nbsp;<span class="num" id="7735806">16</span><span class="op" id="7735808">,</span>&nbsp;<span class="num" id="7735810">16</span><span class="op" id="7735812">)</span><span class="op" id="7735813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735817">Rect</span><span class="op" id="7735821">(</span><span class="num" id="7735822">7</span><span class="op" id="7735823">,</span>&nbsp;<span class="num" id="7735825">7</span><span class="op" id="7735826">,</span>&nbsp;<span class="num" id="7735828">8</span><span class="op" id="7735829">,</span>&nbsp;<span class="num" id="7735831">8</span><span class="op" id="7735832">)</span><span class="op" id="7735833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735837">Rect</span><span class="op" id="7735841">(</span><span class="num" id="7735842">7</span><span class="op" id="7735843">,</span>&nbsp;<span class="num" id="7735845">8</span><span class="op" id="7735846">,</span>&nbsp;<span class="num" id="7735848">8</span><span class="op" id="7735849">,</span>&nbsp;<span class="num" id="7735851">9</span><span class="op" id="7735852">)</span><span class="op" id="7735853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735857">Rect</span><span class="op" id="7735861">(</span><span class="num" id="7735862">8</span><span class="op" id="7735863">,</span>&nbsp;<span class="num" id="7735865">7</span><span class="op" id="7735866">,</span>&nbsp;<span class="num" id="7735868">9</span><span class="op" id="7735869">,</span>&nbsp;<span class="num" id="7735871">8</span><span class="op" id="7735872">)</span><span class="op" id="7735873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735877">Rect</span><span class="op" id="7735881">(</span><span class="num" id="7735882">8</span><span class="op" id="7735883">,</span>&nbsp;<span class="num" id="7735885">8</span><span class="op" id="7735886">,</span>&nbsp;<span class="num" id="7735888">9</span><span class="op" id="7735889">,</span>&nbsp;<span class="num" id="7735891">9</span><span class="op" id="7735892">)</span><span class="op" id="7735893">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735897">Rect</span><span class="op" id="7735901">(</span><span class="num" id="7735902">7</span><span class="op" id="7735903">,</span>&nbsp;<span class="num" id="7735905">7</span><span class="op" id="7735906">,</span>&nbsp;<span class="num" id="7735908">17</span><span class="op" id="7735910">,</span>&nbsp;<span class="num" id="7735912">17</span><span class="op" id="7735914">)</span><span class="op" id="7735915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735919">Rect</span><span class="op" id="7735923">(</span><span class="num" id="7735924">8</span><span class="op" id="7735925">,</span>&nbsp;<span class="num" id="7735927">8</span><span class="op" id="7735928">,</span>&nbsp;<span class="num" id="7735930">17</span><span class="op" id="7735932">,</span>&nbsp;<span class="num" id="7735934">17</span><span class="op" id="7735936">)</span><span class="op" id="7735937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735941">Rect</span><span class="op" id="7735945">(</span><span class="num" id="7735946">9</span><span class="op" id="7735947">,</span>&nbsp;<span class="num" id="7735949">9</span><span class="op" id="7735950">,</span>&nbsp;<span class="num" id="7735952">17</span><span class="op" id="7735954">,</span>&nbsp;<span class="num" id="7735956">17</span><span class="op" id="7735958">)</span><span class="op" id="7735959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735963">Rect</span><span class="op" id="7735967">(</span><span class="num" id="7735968">10</span><span class="op" id="7735970">,</span>&nbsp;<span class="num" id="7735972">10</span><span class="op" id="7735974">,</span>&nbsp;<span class="num" id="7735976">17</span><span class="op" id="7735978">,</span>&nbsp;<span class="num" id="7735980">17</span><span class="op" id="7735982">)</span><span class="op" id="7735983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7735986">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7735989">subsampleRatios</span>&nbsp;<span class="op" id="7736005">:=</span>&nbsp;<span class="op" id="7736008">[</span><span class="op" id="7736009">]</span><span class="ident" id="7736010">YCbCrSubsampleRatio</span><span class="op" id="7736029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736033">YCbCrSubsampleRatio444</span><span class="op" id="7736055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736059">YCbCrSubsampleRatio422</span><span class="op" id="7736081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736085">YCbCrSubsampleRatio420</span><span class="op" id="7736107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736111">YCbCrSubsampleRatio440</span><span class="op" id="7736133">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7736136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736139">deltas</span>&nbsp;<span class="op" id="7736146">:=</span>&nbsp;<span class="op" id="7736149">[</span><span class="op" id="7736150">]</span><span class="ident" id="7736151">Point</span><span class="op" id="7736156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736160">Pt</span><span class="op" id="7736162">(</span><span class="num" id="7736163">0</span><span class="op" id="7736164">,</span>&nbsp;<span class="num" id="7736166">0</span><span class="op" id="7736167">)</span><span class="op" id="7736168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736172">Pt</span><span class="op" id="7736174">(</span><span class="num" id="7736175">1000</span><span class="op" id="7736179">,</span>&nbsp;<span class="num" id="7736181">1001</span><span class="op" id="7736185">)</span><span class="op" id="7736186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736190">Pt</span><span class="op" id="7736192">(</span><span class="num" id="7736193">5001</span><span class="op" id="7736197">,</span>&nbsp;<span class="op" id="7736199">-</span><span class="num" id="7736200">400</span><span class="op" id="7736203">)</span><span class="op" id="7736204">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736208">Pt</span><span class="op" id="7736210">(</span><span class="op" id="7736211">-</span><span class="num" id="7736212">701</span><span class="op" id="7736215">,</span>&nbsp;<span class="op" id="7736217">-</span><span class="num" id="7736218">801</span><span class="op" id="7736221">)</span><span class="op" id="7736222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7736225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736228">for</span>&nbsp;<span class="ident" id="7736232">_</span><span class="op" id="7736233">,</span>&nbsp;<span class="ident" id="7736235">r</span>&nbsp;<span class="op" id="7736237">:=</span>&nbsp;<span class="keyword" id="7736240">range</span>&nbsp;<span class="ident" id="7736246">rects</span>&nbsp;<span class="op" id="7736252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736256">for</span>&nbsp;<span class="ident" id="7736260">_</span><span class="op" id="7736261">,</span>&nbsp;<span class="ident" id="7736263">subsampleRatio</span>&nbsp;<span class="op" id="7736278">:=</span>&nbsp;<span class="keyword" id="7736281">range</span>&nbsp;<span class="ident" id="7736287">subsampleRatios</span>&nbsp;<span class="op" id="7736303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736308">for</span>&nbsp;<span class="ident" id="7736312">_</span><span class="op" id="7736313">,</span>&nbsp;<span class="ident" id="7736315">delta</span>&nbsp;<span class="op" id="7736321">:=</span>&nbsp;<span class="keyword" id="7736324">range</span>&nbsp;<span class="ident" id="7736330">deltas</span>&nbsp;<span class="op" id="7736337">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736343">testYCbCr</span><span class="op" id="7736352">(</span><span class="ident" id="7736353">t</span><span class="op" id="7736354">,</span>&nbsp;<span class="ident" id="7736356">r</span><span class="op" id="7736357">,</span>&nbsp;<span class="ident" id="7736359">subsampleRatio</span><span class="op" id="7736373">,</span>&nbsp;<span class="ident" id="7736375">delta</span><span class="op" id="7736380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7736385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7736389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736393">if</span>&nbsp;<span class="ident" id="7736396">testing</span><span class="op" id="7736403">.</span><span class="ident" id="7736404">Short</span><span class="op" id="7736409">(</span><span class="op" id="7736410">)</span>&nbsp;<span class="op" id="7736412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736417">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7736425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7736428">}</span><br>
<span class="lineno"></span><span class="op" id="7736430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7736433">func</span>&nbsp;<span class="ident" id="7736438">testYCbCr</span><span class="op" id="7736447">(</span><span class="ident" id="7736448">t</span>&nbsp;<span class="op" id="7736450">*</span><span class="ident" id="7736451">testing</span><span class="op" id="7736458">.</span><span class="ident" id="7736459">T</span><span class="op" id="7736460">,</span>&nbsp;<span class="ident" id="7736462">r</span>&nbsp;<span class="ident" id="7736464">Rectangle</span><span class="op" id="7736473">,</span>&nbsp;<span class="ident" id="7736475">subsampleRatio</span>&nbsp;<span class="ident" id="7736490">YCbCrSubsampleRatio</span><span class="op" id="7736509">,</span>&nbsp;<span class="ident" id="7736511">delta</span>&nbsp;<span class="ident" id="7736517">Point</span><span class="op" id="7736522">)</span>&nbsp;<span class="op" id="7736524">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7736527">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736608">r1</span>&nbsp;<span class="op" id="7736611">:=</span>&nbsp;<span class="ident" id="7736614">r</span><span class="op" id="7736615">.</span><span class="ident" id="7736616">Add</span><span class="op" id="7736619">(</span><span class="ident" id="7736620">delta</span><span class="op" id="7736625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736628">m</span>&nbsp;<span class="op" id="7736630">:=</span>&nbsp;<span class="ident" id="7736633">NewYCbCr</span><span class="op" id="7736641">(</span><span class="ident" id="7736642">r1</span><span class="op" id="7736644">,</span>&nbsp;<span class="ident" id="7736646">subsampleRatio</span><span class="op" id="7736660">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7736664">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736766">if</span>&nbsp;<span class="builtinfunc" id="7736769">len</span><span class="op" id="7736772">(</span><span class="ident" id="7736773">m</span><span class="op" id="7736774">.</span><span class="ident" id="7736775">Y</span><span class="op" id="7736776">)</span>&nbsp;<span class="op" id="7736778">&gt;</span>&nbsp;<span class="num" id="7736780">100</span><span class="op" id="7736783">*</span><span class="num" id="7736784">100</span>&nbsp;<span class="op" id="7736788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736792">t</span><span class="op" id="7736793">.</span><span class="ident" id="7736794">Errorf</span><span class="op" id="7736800">(</span><span class="string" id="7736801">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="7736863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7736868">r</span><span class="op" id="7736869">,</span>&nbsp;<span class="ident" id="7736871">subsampleRatio</span><span class="op" id="7736885">,</span>&nbsp;<span class="ident" id="7736887">delta</span><span class="op" id="7736892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7736896">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7736904">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7736908">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7736995">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737077">for</span>&nbsp;<span class="ident" id="7737081">y</span>&nbsp;<span class="op" id="7737083">:=</span>&nbsp;<span class="ident" id="7737086">r1</span><span class="op" id="7737088">.</span><span class="ident" id="7737089">Min</span><span class="op" id="7737092">.</span><span class="ident" id="7737093">Y</span><span class="op" id="7737094">;</span>&nbsp;<span class="ident" id="7737096">y</span>&nbsp;<span class="op" id="7737098">&lt;</span>&nbsp;<span class="ident" id="7737100">r1</span><span class="op" id="7737102">.</span><span class="ident" id="7737103">Max</span><span class="op" id="7737106">.</span><span class="ident" id="7737107">Y</span><span class="op" id="7737108">;</span>&nbsp;<span class="ident" id="7737110">y</span><span class="op" id="7737111">++</span>&nbsp;<span class="op" id="7737114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737118">for</span>&nbsp;<span class="ident" id="7737122">x</span>&nbsp;<span class="op" id="7737124">:=</span>&nbsp;<span class="ident" id="7737127">r1</span><span class="op" id="7737129">.</span><span class="ident" id="7737130">Min</span><span class="op" id="7737133">.</span><span class="ident" id="7737134">X</span><span class="op" id="7737135">;</span>&nbsp;<span class="ident" id="7737137">x</span>&nbsp;<span class="op" id="7737139">&lt;</span>&nbsp;<span class="ident" id="7737141">r1</span><span class="op" id="7737143">.</span><span class="ident" id="7737144">Max</span><span class="op" id="7737147">.</span><span class="ident" id="7737148">X</span><span class="op" id="7737149">;</span>&nbsp;<span class="ident" id="7737151">x</span><span class="op" id="7737152">++</span>&nbsp;<span class="op" id="7737155">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737160">yi</span>&nbsp;<span class="op" id="7737163">:=</span>&nbsp;<span class="ident" id="7737166">m</span><span class="op" id="7737167">.</span><span class="ident" id="7737168">YOffset</span><span class="op" id="7737175">(</span><span class="ident" id="7737176">x</span><span class="op" id="7737177">,</span>&nbsp;<span class="ident" id="7737179">y</span><span class="op" id="7737180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737185">ci</span>&nbsp;<span class="op" id="7737188">:=</span>&nbsp;<span class="ident" id="7737191">m</span><span class="op" id="7737192">.</span><span class="ident" id="7737193">COffset</span><span class="op" id="7737200">(</span><span class="ident" id="7737201">x</span><span class="op" id="7737202">,</span>&nbsp;<span class="ident" id="7737204">y</span><span class="op" id="7737205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737210">m</span><span class="op" id="7737211">.</span><span class="ident" id="7737212">Y</span><span class="op" id="7737213">[</span><span class="ident" id="7737214">yi</span><span class="op" id="7737216">]</span>&nbsp;<span class="op" id="7737218">=</span>&nbsp;<span class="builtintype" id="7737220">uint8</span><span class="op" id="7737225">(</span><span class="num" id="7737226">16</span><span class="op" id="7737228">*</span><span class="ident" id="7737229">y</span>&nbsp;<span class="op" id="7737231">+</span>&nbsp;<span class="ident" id="7737233">x</span><span class="op" id="7737234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737239">m</span><span class="op" id="7737240">.</span><span class="ident" id="7737241">Cb</span><span class="op" id="7737243">[</span><span class="ident" id="7737244">ci</span><span class="op" id="7737246">]</span>&nbsp;<span class="op" id="7737248">=</span>&nbsp;<span class="builtintype" id="7737250">uint8</span><span class="op" id="7737255">(</span><span class="ident" id="7737256">y</span>&nbsp;<span class="op" id="7737258">+</span>&nbsp;<span class="num" id="7737260">16</span><span class="op" id="7737262">*</span><span class="ident" id="7737263">x</span><span class="op" id="7737264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737269">m</span><span class="op" id="7737270">.</span><span class="ident" id="7737271">Cr</span><span class="op" id="7737273">[</span><span class="ident" id="7737274">ci</span><span class="op" id="7737276">]</span>&nbsp;<span class="op" id="7737278">=</span>&nbsp;<span class="builtintype" id="7737280">uint8</span><span class="op" id="7737285">(</span><span class="ident" id="7737286">y</span>&nbsp;<span class="op" id="7737288">+</span>&nbsp;<span class="num" id="7737290">16</span><span class="op" id="7737292">*</span><span class="ident" id="7737293">x</span><span class="op" id="7737294">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7737298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7737301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737305">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737339">for</span>&nbsp;<span class="ident" id="7737343">y0</span>&nbsp;<span class="op" id="7737346">:=</span>&nbsp;<span class="ident" id="7737349">delta</span><span class="op" id="7737354">.</span><span class="ident" id="7737355">Y</span>&nbsp;<span class="op" id="7737357">+</span>&nbsp;<span class="num" id="7737359">3</span><span class="op" id="7737360">;</span>&nbsp;<span class="ident" id="7737362">y0</span>&nbsp;<span class="op" id="7737365">&lt;</span>&nbsp;<span class="ident" id="7737367">delta</span><span class="op" id="7737372">.</span><span class="ident" id="7737373">Y</span><span class="op" id="7737374">+</span><span class="num" id="7737375">7</span><span class="op" id="7737376">;</span>&nbsp;<span class="ident" id="7737378">y0</span><span class="op" id="7737380">++</span>&nbsp;<span class="op" id="7737383">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737387">for</span>&nbsp;<span class="ident" id="7737391">y1</span>&nbsp;<span class="op" id="7737394">:=</span>&nbsp;<span class="ident" id="7737397">delta</span><span class="op" id="7737402">.</span><span class="ident" id="7737403">Y</span>&nbsp;<span class="op" id="7737405">+</span>&nbsp;<span class="num" id="7737407">8</span><span class="op" id="7737408">;</span>&nbsp;<span class="ident" id="7737410">y1</span>&nbsp;<span class="op" id="7737413">&lt;</span>&nbsp;<span class="ident" id="7737415">delta</span><span class="op" id="7737420">.</span><span class="ident" id="7737421">Y</span><span class="op" id="7737422">+</span><span class="num" id="7737423">13</span><span class="op" id="7737425">;</span>&nbsp;<span class="ident" id="7737427">y1</span><span class="op" id="7737429">++</span>&nbsp;<span class="op" id="7737432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737437">for</span>&nbsp;<span class="ident" id="7737441">x0</span>&nbsp;<span class="op" id="7737444">:=</span>&nbsp;<span class="ident" id="7737447">delta</span><span class="op" id="7737452">.</span><span class="ident" id="7737453">X</span>&nbsp;<span class="op" id="7737455">+</span>&nbsp;<span class="num" id="7737457">3</span><span class="op" id="7737458">;</span>&nbsp;<span class="ident" id="7737460">x0</span>&nbsp;<span class="op" id="7737463">&lt;</span>&nbsp;<span class="ident" id="7737465">delta</span><span class="op" id="7737470">.</span><span class="ident" id="7737471">X</span><span class="op" id="7737472">+</span><span class="num" id="7737473">7</span><span class="op" id="7737474">;</span>&nbsp;<span class="ident" id="7737476">x0</span><span class="op" id="7737478">++</span>&nbsp;<span class="op" id="7737481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737487">for</span>&nbsp;<span class="ident" id="7737491">x1</span>&nbsp;<span class="op" id="7737494">:=</span>&nbsp;<span class="ident" id="7737497">delta</span><span class="op" id="7737502">.</span><span class="ident" id="7737503">X</span>&nbsp;<span class="op" id="7737505">+</span>&nbsp;<span class="num" id="7737507">8</span><span class="op" id="7737508">;</span>&nbsp;<span class="ident" id="7737510">x1</span>&nbsp;<span class="op" id="7737513">&lt;</span>&nbsp;<span class="ident" id="7737515">delta</span><span class="op" id="7737520">.</span><span class="ident" id="7737521">X</span><span class="op" id="7737522">+</span><span class="num" id="7737523">13</span><span class="op" id="7737525">;</span>&nbsp;<span class="ident" id="7737527">x1</span><span class="op" id="7737529">++</span>&nbsp;<span class="op" id="7737532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737539">subRect</span>&nbsp;<span class="op" id="7737547">:=</span>&nbsp;<span class="ident" id="7737550">Rect</span><span class="op" id="7737554">(</span><span class="ident" id="7737555">x0</span><span class="op" id="7737557">,</span>&nbsp;<span class="ident" id="7737559">y0</span><span class="op" id="7737561">,</span>&nbsp;<span class="ident" id="7737563">x1</span><span class="op" id="7737565">,</span>&nbsp;<span class="ident" id="7737567">y1</span><span class="op" id="7737569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737576">sub</span>&nbsp;<span class="op" id="7737580">:=</span>&nbsp;<span class="ident" id="7737583">m</span><span class="op" id="7737584">.</span><span class="ident" id="7737585">SubImage</span><span class="op" id="7737593">(</span><span class="ident" id="7737594">subRect</span><span class="op" id="7737601">)</span><span class="op" id="7737602">.</span><span class="op" id="7737603">(</span><span class="op" id="7737604">*</span><span class="ident" id="7737605">YCbCr</span><span class="op" id="7737610">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7737618">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737711">for</span>&nbsp;<span class="ident" id="7737715">y</span>&nbsp;<span class="op" id="7737717">:=</span>&nbsp;<span class="ident" id="7737720">sub</span><span class="op" id="7737723">.</span><span class="ident" id="7737724">Rect</span><span class="op" id="7737728">.</span><span class="ident" id="7737729">Min</span><span class="op" id="7737732">.</span><span class="ident" id="7737733">Y</span><span class="op" id="7737734">;</span>&nbsp;<span class="ident" id="7737736">y</span>&nbsp;<span class="op" id="7737738">&lt;</span>&nbsp;<span class="ident" id="7737740">sub</span><span class="op" id="7737743">.</span><span class="ident" id="7737744">Rect</span><span class="op" id="7737748">.</span><span class="ident" id="7737749">Max</span><span class="op" id="7737752">.</span><span class="ident" id="7737753">Y</span><span class="op" id="7737754">;</span>&nbsp;<span class="ident" id="7737756">y</span><span class="op" id="7737757">++</span>&nbsp;<span class="op" id="7737760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737768">for</span>&nbsp;<span class="ident" id="7737772">x</span>&nbsp;<span class="op" id="7737774">:=</span>&nbsp;<span class="ident" id="7737777">sub</span><span class="op" id="7737780">.</span><span class="ident" id="7737781">Rect</span><span class="op" id="7737785">.</span><span class="ident" id="7737786">Min</span><span class="op" id="7737789">.</span><span class="ident" id="7737790">X</span><span class="op" id="7737791">;</span>&nbsp;<span class="ident" id="7737793">x</span>&nbsp;<span class="op" id="7737795">&lt;</span>&nbsp;<span class="ident" id="7737797">sub</span><span class="op" id="7737800">.</span><span class="ident" id="7737801">Rect</span><span class="op" id="7737805">.</span><span class="ident" id="7737806">Max</span><span class="op" id="7737809">.</span><span class="ident" id="7737810">X</span><span class="op" id="7737811">;</span>&nbsp;<span class="ident" id="7737813">x</span><span class="op" id="7737814">++</span>&nbsp;<span class="op" id="7737817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737826">color0</span>&nbsp;<span class="op" id="7737833">:=</span>&nbsp;<span class="ident" id="7737836">m</span><span class="op" id="7737837">.</span><span class="ident" id="7737838">At</span><span class="op" id="7737840">(</span><span class="ident" id="7737841">x</span><span class="op" id="7737842">,</span>&nbsp;<span class="ident" id="7737844">y</span><span class="op" id="7737845">)</span><span class="op" id="7737846">.</span><span class="op" id="7737847">(</span><span class="ident" id="7737848">color</span><span class="op" id="7737853">.</span><span class="ident" id="7737854">YCbCr</span><span class="op" id="7737859">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737868">color1</span>&nbsp;<span class="op" id="7737875">:=</span>&nbsp;<span class="ident" id="7737878">sub</span><span class="op" id="7737881">.</span><span class="ident" id="7737882">At</span><span class="op" id="7737884">(</span><span class="ident" id="7737885">x</span><span class="op" id="7737886">,</span>&nbsp;<span class="ident" id="7737888">y</span><span class="op" id="7737889">)</span><span class="op" id="7737890">.</span><span class="op" id="7737891">(</span><span class="ident" id="7737892">color</span><span class="op" id="7737897">.</span><span class="ident" id="7737898">YCbCr</span><span class="op" id="7737903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7737912">if</span>&nbsp;<span class="ident" id="7737915">color0</span>&nbsp;<span class="op" id="7737922">!=</span>&nbsp;<span class="ident" id="7737925">color1</span>&nbsp;<span class="op" id="7737932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7737942">t</span><span class="op" id="7737943">.</span><span class="ident" id="7737944">Errorf</span><span class="op" id="7737950">(</span><span class="string" id="7737951">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="7738020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7738031">r</span><span class="op" id="7738032">,</span>&nbsp;<span class="ident" id="7738034">subsampleRatio</span><span class="op" id="7738048">,</span>&nbsp;<span class="ident" id="7738050">delta</span><span class="op" id="7738055">,</span>&nbsp;<span class="ident" id="7738057">x</span><span class="op" id="7738058">,</span>&nbsp;<span class="ident" id="7738060">y</span><span class="op" id="7738061">,</span>&nbsp;<span class="ident" id="7738063">color0</span><span class="op" id="7738069">,</span>&nbsp;<span class="ident" id="7738071">color1</span><span class="op" id="7738077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7738087">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738127">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7738134">}</span><br>
<span class="lineno"></span><span class="op" id="7738136">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
