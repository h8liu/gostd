<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html" class="current">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6733810">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6733865">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6733919">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6733970">package</span>&nbsp;<span class="ident" id="6733978">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6733984">import</span>&nbsp;<span class="op" id="6733991">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6733994">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6734003">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6734013">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6734016">type</span>&nbsp;<span class="ident" id="6734021">clipTest</span>&nbsp;<span class="keyword" id="6734030">struct</span>&nbsp;<span class="op" id="6734037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734040">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6734054">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734062">r</span><span class="op" id="6734063">,</span>&nbsp;<span class="ident" id="6734065">dr</span><span class="op" id="6734067">,</span>&nbsp;<span class="ident" id="6734069">sr</span><span class="op" id="6734071">,</span>&nbsp;<span class="ident" id="6734073">mr</span>&nbsp;<span class="ident" id="6734076">image</span><span class="op" id="6734081">.</span><span class="ident" id="6734082">Rectangle</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734093">sp</span><span class="op" id="6734095">,</span>&nbsp;<span class="ident" id="6734097">mp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734107">image</span><span class="op" id="6734112">.</span><span class="ident" id="6734113">Point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734120">nilMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6734134">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734140">r0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734154">image</span><span class="op" id="6734159">.</span><span class="ident" id="6734160">Rectangle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734171">sp0</span><span class="op" id="6734174">,</span>&nbsp;<span class="ident" id="6734176">mp0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734185">image</span><span class="op" id="6734190">.</span><span class="ident" id="6734191">Point</span><br>
<span class="lineno"></span><span class="op" id="6734197">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6734200">var</span>&nbsp;<span class="ident" id="6734204">clipTests</span>&nbsp;<span class="op" id="6734214">=</span>&nbsp;<span class="op" id="6734216">[</span><span class="op" id="6734217">]</span><span class="ident" id="6734218">clipTest</span><span class="op" id="6734226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6734229">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6734278">&#34;basic&#34;</span><span class="op" id="6734285">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734289">image</span><span class="op" id="6734294">.</span><span class="ident" id="6734295">Rect</span><span class="op" id="6734299">(</span><span class="num" id="6734300">0</span><span class="op" id="6734301">,</span>&nbsp;<span class="num" id="6734303">0</span><span class="op" id="6734304">,</span>&nbsp;<span class="num" id="6734306">100</span><span class="op" id="6734309">,</span>&nbsp;<span class="num" id="6734311">100</span><span class="op" id="6734314">)</span><span class="op" id="6734315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734319">image</span><span class="op" id="6734324">.</span><span class="ident" id="6734325">Rect</span><span class="op" id="6734329">(</span><span class="num" id="6734330">0</span><span class="op" id="6734331">,</span>&nbsp;<span class="num" id="6734333">0</span><span class="op" id="6734334">,</span>&nbsp;<span class="num" id="6734336">100</span><span class="op" id="6734339">,</span>&nbsp;<span class="num" id="6734341">100</span><span class="op" id="6734344">)</span><span class="op" id="6734345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734349">image</span><span class="op" id="6734354">.</span><span class="ident" id="6734355">Rect</span><span class="op" id="6734359">(</span><span class="num" id="6734360">0</span><span class="op" id="6734361">,</span>&nbsp;<span class="num" id="6734363">0</span><span class="op" id="6734364">,</span>&nbsp;<span class="num" id="6734366">100</span><span class="op" id="6734369">,</span>&nbsp;<span class="num" id="6734371">100</span><span class="op" id="6734374">)</span><span class="op" id="6734375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734379">image</span><span class="op" id="6734384">.</span><span class="ident" id="6734385">ZR</span><span class="op" id="6734387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734391">image</span><span class="op" id="6734396">.</span><span class="ident" id="6734397">ZP</span><span class="op" id="6734399">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734403">image</span><span class="op" id="6734408">.</span><span class="ident" id="6734409">ZP</span><span class="op" id="6734411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6734415">true</span><span class="op" id="6734419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734423">image</span><span class="op" id="6734428">.</span><span class="ident" id="6734429">Rect</span><span class="op" id="6734433">(</span><span class="num" id="6734434">0</span><span class="op" id="6734435">,</span>&nbsp;<span class="num" id="6734437">0</span><span class="op" id="6734438">,</span>&nbsp;<span class="num" id="6734440">100</span><span class="op" id="6734443">,</span>&nbsp;<span class="num" id="6734445">100</span><span class="op" id="6734448">)</span><span class="op" id="6734449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734453">image</span><span class="op" id="6734458">.</span><span class="ident" id="6734459">ZP</span><span class="op" id="6734461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734465">image</span><span class="op" id="6734470">.</span><span class="ident" id="6734471">ZP</span><span class="op" id="6734473">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734476">}</span><span class="op" id="6734477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6734484">&#34;clip&nbsp;dr&#34;</span><span class="op" id="6734493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734497">image</span><span class="op" id="6734502">.</span><span class="ident" id="6734503">Rect</span><span class="op" id="6734507">(</span><span class="num" id="6734508">0</span><span class="op" id="6734509">,</span>&nbsp;<span class="num" id="6734511">0</span><span class="op" id="6734512">,</span>&nbsp;<span class="num" id="6734514">100</span><span class="op" id="6734517">,</span>&nbsp;<span class="num" id="6734519">100</span><span class="op" id="6734522">)</span><span class="op" id="6734523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734527">image</span><span class="op" id="6734532">.</span><span class="ident" id="6734533">Rect</span><span class="op" id="6734537">(</span><span class="num" id="6734538">40</span><span class="op" id="6734540">,</span>&nbsp;<span class="num" id="6734542">40</span><span class="op" id="6734544">,</span>&nbsp;<span class="num" id="6734546">60</span><span class="op" id="6734548">,</span>&nbsp;<span class="num" id="6734550">60</span><span class="op" id="6734552">)</span><span class="op" id="6734553">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734557">image</span><span class="op" id="6734562">.</span><span class="ident" id="6734563">Rect</span><span class="op" id="6734567">(</span><span class="num" id="6734568">0</span><span class="op" id="6734569">,</span>&nbsp;<span class="num" id="6734571">0</span><span class="op" id="6734572">,</span>&nbsp;<span class="num" id="6734574">100</span><span class="op" id="6734577">,</span>&nbsp;<span class="num" id="6734579">100</span><span class="op" id="6734582">)</span><span class="op" id="6734583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734587">image</span><span class="op" id="6734592">.</span><span class="ident" id="6734593">ZR</span><span class="op" id="6734595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734599">image</span><span class="op" id="6734604">.</span><span class="ident" id="6734605">ZP</span><span class="op" id="6734607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734611">image</span><span class="op" id="6734616">.</span><span class="ident" id="6734617">ZP</span><span class="op" id="6734619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6734623">true</span><span class="op" id="6734627">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734631">image</span><span class="op" id="6734636">.</span><span class="ident" id="6734637">Rect</span><span class="op" id="6734641">(</span><span class="num" id="6734642">40</span><span class="op" id="6734644">,</span>&nbsp;<span class="num" id="6734646">40</span><span class="op" id="6734648">,</span>&nbsp;<span class="num" id="6734650">60</span><span class="op" id="6734652">,</span>&nbsp;<span class="num" id="6734654">60</span><span class="op" id="6734656">)</span><span class="op" id="6734657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734661">image</span><span class="op" id="6734666">.</span><span class="ident" id="6734667">Pt</span><span class="op" id="6734669">(</span><span class="num" id="6734670">40</span><span class="op" id="6734672">,</span>&nbsp;<span class="num" id="6734674">40</span><span class="op" id="6734676">)</span><span class="op" id="6734677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734681">image</span><span class="op" id="6734686">.</span><span class="ident" id="6734687">ZP</span><span class="op" id="6734689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734692">}</span><span class="op" id="6734693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734696">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6734700">&#34;clip&nbsp;sr&#34;</span><span class="op" id="6734709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734713">image</span><span class="op" id="6734718">.</span><span class="ident" id="6734719">Rect</span><span class="op" id="6734723">(</span><span class="num" id="6734724">0</span><span class="op" id="6734725">,</span>&nbsp;<span class="num" id="6734727">0</span><span class="op" id="6734728">,</span>&nbsp;<span class="num" id="6734730">100</span><span class="op" id="6734733">,</span>&nbsp;<span class="num" id="6734735">100</span><span class="op" id="6734738">)</span><span class="op" id="6734739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734743">image</span><span class="op" id="6734748">.</span><span class="ident" id="6734749">Rect</span><span class="op" id="6734753">(</span><span class="num" id="6734754">0</span><span class="op" id="6734755">,</span>&nbsp;<span class="num" id="6734757">0</span><span class="op" id="6734758">,</span>&nbsp;<span class="num" id="6734760">100</span><span class="op" id="6734763">,</span>&nbsp;<span class="num" id="6734765">100</span><span class="op" id="6734768">)</span><span class="op" id="6734769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734773">image</span><span class="op" id="6734778">.</span><span class="ident" id="6734779">Rect</span><span class="op" id="6734783">(</span><span class="num" id="6734784">20</span><span class="op" id="6734786">,</span>&nbsp;<span class="num" id="6734788">20</span><span class="op" id="6734790">,</span>&nbsp;<span class="num" id="6734792">80</span><span class="op" id="6734794">,</span>&nbsp;<span class="num" id="6734796">80</span><span class="op" id="6734798">)</span><span class="op" id="6734799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734803">image</span><span class="op" id="6734808">.</span><span class="ident" id="6734809">ZR</span><span class="op" id="6734811">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734815">image</span><span class="op" id="6734820">.</span><span class="ident" id="6734821">ZP</span><span class="op" id="6734823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734827">image</span><span class="op" id="6734832">.</span><span class="ident" id="6734833">ZP</span><span class="op" id="6734835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6734839">true</span><span class="op" id="6734843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734847">image</span><span class="op" id="6734852">.</span><span class="ident" id="6734853">Rect</span><span class="op" id="6734857">(</span><span class="num" id="6734858">20</span><span class="op" id="6734860">,</span>&nbsp;<span class="num" id="6734862">20</span><span class="op" id="6734864">,</span>&nbsp;<span class="num" id="6734866">80</span><span class="op" id="6734868">,</span>&nbsp;<span class="num" id="6734870">80</span><span class="op" id="6734872">)</span><span class="op" id="6734873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734877">image</span><span class="op" id="6734882">.</span><span class="ident" id="6734883">Pt</span><span class="op" id="6734885">(</span><span class="num" id="6734886">20</span><span class="op" id="6734888">,</span>&nbsp;<span class="num" id="6734890">20</span><span class="op" id="6734892">)</span><span class="op" id="6734893">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734897">image</span><span class="op" id="6734902">.</span><span class="ident" id="6734903">ZP</span><span class="op" id="6734905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734908">}</span><span class="op" id="6734909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6734912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6734916">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr&#34;</span><span class="op" id="6734932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734936">image</span><span class="op" id="6734941">.</span><span class="ident" id="6734942">Rect</span><span class="op" id="6734946">(</span><span class="num" id="6734947">0</span><span class="op" id="6734948">,</span>&nbsp;<span class="num" id="6734950">0</span><span class="op" id="6734951">,</span>&nbsp;<span class="num" id="6734953">100</span><span class="op" id="6734956">,</span>&nbsp;<span class="num" id="6734958">100</span><span class="op" id="6734961">)</span><span class="op" id="6734962">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734966">image</span><span class="op" id="6734971">.</span><span class="ident" id="6734972">Rect</span><span class="op" id="6734976">(</span><span class="num" id="6734977">0</span><span class="op" id="6734978">,</span>&nbsp;<span class="num" id="6734980">0</span><span class="op" id="6734981">,</span>&nbsp;<span class="num" id="6734983">50</span><span class="op" id="6734985">,</span>&nbsp;<span class="num" id="6734987">100</span><span class="op" id="6734990">)</span><span class="op" id="6734991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6734995">image</span><span class="op" id="6735000">.</span><span class="ident" id="6735001">Rect</span><span class="op" id="6735005">(</span><span class="num" id="6735006">20</span><span class="op" id="6735008">,</span>&nbsp;<span class="num" id="6735010">20</span><span class="op" id="6735012">,</span>&nbsp;<span class="num" id="6735014">80</span><span class="op" id="6735016">,</span>&nbsp;<span class="num" id="6735018">80</span><span class="op" id="6735020">)</span><span class="op" id="6735021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735025">image</span><span class="op" id="6735030">.</span><span class="ident" id="6735031">ZR</span><span class="op" id="6735033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735037">image</span><span class="op" id="6735042">.</span><span class="ident" id="6735043">ZP</span><span class="op" id="6735045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735049">image</span><span class="op" id="6735054">.</span><span class="ident" id="6735055">ZP</span><span class="op" id="6735057">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6735061">true</span><span class="op" id="6735065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735069">image</span><span class="op" id="6735074">.</span><span class="ident" id="6735075">Rect</span><span class="op" id="6735079">(</span><span class="num" id="6735080">20</span><span class="op" id="6735082">,</span>&nbsp;<span class="num" id="6735084">20</span><span class="op" id="6735086">,</span>&nbsp;<span class="num" id="6735088">50</span><span class="op" id="6735090">,</span>&nbsp;<span class="num" id="6735092">80</span><span class="op" id="6735094">)</span><span class="op" id="6735095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735099">image</span><span class="op" id="6735104">.</span><span class="ident" id="6735105">Pt</span><span class="op" id="6735107">(</span><span class="num" id="6735108">20</span><span class="op" id="6735110">,</span>&nbsp;<span class="num" id="6735112">20</span><span class="op" id="6735114">)</span><span class="op" id="6735115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735119">image</span><span class="op" id="6735124">.</span><span class="ident" id="6735125">ZP</span><span class="op" id="6735127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735130">}</span><span class="op" id="6735131">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6735138">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(top-left)&#34;</span><span class="op" id="6735180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735184">image</span><span class="op" id="6735189">.</span><span class="ident" id="6735190">Rect</span><span class="op" id="6735194">(</span><span class="num" id="6735195">0</span><span class="op" id="6735196">,</span>&nbsp;<span class="num" id="6735198">0</span><span class="op" id="6735199">,</span>&nbsp;<span class="num" id="6735201">100</span><span class="op" id="6735204">,</span>&nbsp;<span class="num" id="6735206">100</span><span class="op" id="6735209">)</span><span class="op" id="6735210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735214">image</span><span class="op" id="6735219">.</span><span class="ident" id="6735220">Rect</span><span class="op" id="6735224">(</span><span class="num" id="6735225">0</span><span class="op" id="6735226">,</span>&nbsp;<span class="num" id="6735228">0</span><span class="op" id="6735229">,</span>&nbsp;<span class="num" id="6735231">50</span><span class="op" id="6735233">,</span>&nbsp;<span class="num" id="6735235">100</span><span class="op" id="6735238">)</span><span class="op" id="6735239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735243">image</span><span class="op" id="6735248">.</span><span class="ident" id="6735249">Rect</span><span class="op" id="6735253">(</span><span class="num" id="6735254">20</span><span class="op" id="6735256">,</span>&nbsp;<span class="num" id="6735258">20</span><span class="op" id="6735260">,</span>&nbsp;<span class="num" id="6735262">80</span><span class="op" id="6735264">,</span>&nbsp;<span class="num" id="6735266">80</span><span class="op" id="6735268">)</span><span class="op" id="6735269">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735273">image</span><span class="op" id="6735278">.</span><span class="ident" id="6735279">ZR</span><span class="op" id="6735281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735285">image</span><span class="op" id="6735290">.</span><span class="ident" id="6735291">Pt</span><span class="op" id="6735293">(</span><span class="num" id="6735294">15</span><span class="op" id="6735296">,</span>&nbsp;<span class="num" id="6735298">8</span><span class="op" id="6735299">)</span><span class="op" id="6735300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735304">image</span><span class="op" id="6735309">.</span><span class="ident" id="6735310">ZP</span><span class="op" id="6735312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6735316">true</span><span class="op" id="6735320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735324">image</span><span class="op" id="6735329">.</span><span class="ident" id="6735330">Rect</span><span class="op" id="6735334">(</span><span class="num" id="6735335">5</span><span class="op" id="6735336">,</span>&nbsp;<span class="num" id="6735338">12</span><span class="op" id="6735340">,</span>&nbsp;<span class="num" id="6735342">50</span><span class="op" id="6735344">,</span>&nbsp;<span class="num" id="6735346">72</span><span class="op" id="6735348">)</span><span class="op" id="6735349">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735353">image</span><span class="op" id="6735358">.</span><span class="ident" id="6735359">Pt</span><span class="op" id="6735361">(</span><span class="num" id="6735362">20</span><span class="op" id="6735364">,</span>&nbsp;<span class="num" id="6735366">20</span><span class="op" id="6735368">)</span><span class="op" id="6735369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735373">image</span><span class="op" id="6735378">.</span><span class="ident" id="6735379">ZP</span><span class="op" id="6735381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735384">}</span><span class="op" id="6735385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6735392">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(middle-left)&#34;</span><span class="op" id="6735437">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735441">image</span><span class="op" id="6735446">.</span><span class="ident" id="6735447">Rect</span><span class="op" id="6735451">(</span><span class="num" id="6735452">0</span><span class="op" id="6735453">,</span>&nbsp;<span class="num" id="6735455">0</span><span class="op" id="6735456">,</span>&nbsp;<span class="num" id="6735458">100</span><span class="op" id="6735461">,</span>&nbsp;<span class="num" id="6735463">100</span><span class="op" id="6735466">)</span><span class="op" id="6735467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735471">image</span><span class="op" id="6735476">.</span><span class="ident" id="6735477">Rect</span><span class="op" id="6735481">(</span><span class="num" id="6735482">0</span><span class="op" id="6735483">,</span>&nbsp;<span class="num" id="6735485">0</span><span class="op" id="6735486">,</span>&nbsp;<span class="num" id="6735488">50</span><span class="op" id="6735490">,</span>&nbsp;<span class="num" id="6735492">100</span><span class="op" id="6735495">)</span><span class="op" id="6735496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735500">image</span><span class="op" id="6735505">.</span><span class="ident" id="6735506">Rect</span><span class="op" id="6735510">(</span><span class="num" id="6735511">20</span><span class="op" id="6735513">,</span>&nbsp;<span class="num" id="6735515">20</span><span class="op" id="6735517">,</span>&nbsp;<span class="num" id="6735519">80</span><span class="op" id="6735521">,</span>&nbsp;<span class="num" id="6735523">80</span><span class="op" id="6735525">)</span><span class="op" id="6735526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735530">image</span><span class="op" id="6735535">.</span><span class="ident" id="6735536">ZR</span><span class="op" id="6735538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735542">image</span><span class="op" id="6735547">.</span><span class="ident" id="6735548">Pt</span><span class="op" id="6735550">(</span><span class="num" id="6735551">15</span><span class="op" id="6735553">,</span>&nbsp;<span class="num" id="6735555">66</span><span class="op" id="6735557">)</span><span class="op" id="6735558">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735562">image</span><span class="op" id="6735567">.</span><span class="ident" id="6735568">ZP</span><span class="op" id="6735570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6735574">true</span><span class="op" id="6735578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735582">image</span><span class="op" id="6735587">.</span><span class="ident" id="6735588">Rect</span><span class="op" id="6735592">(</span><span class="num" id="6735593">5</span><span class="op" id="6735594">,</span>&nbsp;<span class="num" id="6735596">0</span><span class="op" id="6735597">,</span>&nbsp;<span class="num" id="6735599">50</span><span class="op" id="6735601">,</span>&nbsp;<span class="num" id="6735603">14</span><span class="op" id="6735605">)</span><span class="op" id="6735606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735610">image</span><span class="op" id="6735615">.</span><span class="ident" id="6735616">Pt</span><span class="op" id="6735618">(</span><span class="num" id="6735619">20</span><span class="op" id="6735621">,</span>&nbsp;<span class="num" id="6735623">66</span><span class="op" id="6735625">)</span><span class="op" id="6735626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735630">image</span><span class="op" id="6735635">.</span><span class="ident" id="6735636">ZP</span><span class="op" id="6735638">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735641">}</span><span class="op" id="6735642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6735649">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(bottom-left)&#34;</span><span class="op" id="6735694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735698">image</span><span class="op" id="6735703">.</span><span class="ident" id="6735704">Rect</span><span class="op" id="6735708">(</span><span class="num" id="6735709">0</span><span class="op" id="6735710">,</span>&nbsp;<span class="num" id="6735712">0</span><span class="op" id="6735713">,</span>&nbsp;<span class="num" id="6735715">100</span><span class="op" id="6735718">,</span>&nbsp;<span class="num" id="6735720">100</span><span class="op" id="6735723">)</span><span class="op" id="6735724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735728">image</span><span class="op" id="6735733">.</span><span class="ident" id="6735734">Rect</span><span class="op" id="6735738">(</span><span class="num" id="6735739">0</span><span class="op" id="6735740">,</span>&nbsp;<span class="num" id="6735742">0</span><span class="op" id="6735743">,</span>&nbsp;<span class="num" id="6735745">50</span><span class="op" id="6735747">,</span>&nbsp;<span class="num" id="6735749">100</span><span class="op" id="6735752">)</span><span class="op" id="6735753">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735757">image</span><span class="op" id="6735762">.</span><span class="ident" id="6735763">Rect</span><span class="op" id="6735767">(</span><span class="num" id="6735768">20</span><span class="op" id="6735770">,</span>&nbsp;<span class="num" id="6735772">20</span><span class="op" id="6735774">,</span>&nbsp;<span class="num" id="6735776">80</span><span class="op" id="6735778">,</span>&nbsp;<span class="num" id="6735780">80</span><span class="op" id="6735782">)</span><span class="op" id="6735783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735787">image</span><span class="op" id="6735792">.</span><span class="ident" id="6735793">ZR</span><span class="op" id="6735795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735799">image</span><span class="op" id="6735804">.</span><span class="ident" id="6735805">Pt</span><span class="op" id="6735807">(</span><span class="num" id="6735808">15</span><span class="op" id="6735810">,</span>&nbsp;<span class="num" id="6735812">91</span><span class="op" id="6735814">)</span><span class="op" id="6735815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735819">image</span><span class="op" id="6735824">.</span><span class="ident" id="6735825">ZP</span><span class="op" id="6735827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6735831">true</span><span class="op" id="6735835">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735839">image</span><span class="op" id="6735844">.</span><span class="ident" id="6735845">ZR</span><span class="op" id="6735847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735851">image</span><span class="op" id="6735856">.</span><span class="ident" id="6735857">Pt</span><span class="op" id="6735859">(</span><span class="num" id="6735860">15</span><span class="op" id="6735862">,</span>&nbsp;<span class="num" id="6735864">91</span><span class="op" id="6735866">)</span><span class="op" id="6735867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735871">image</span><span class="op" id="6735876">.</span><span class="ident" id="6735877">ZP</span><span class="op" id="6735879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735882">}</span><span class="op" id="6735883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6735886">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6735890">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;inside&nbsp;sr&#34;</span><span class="op" id="6735920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735924">image</span><span class="op" id="6735929">.</span><span class="ident" id="6735930">Rect</span><span class="op" id="6735934">(</span><span class="num" id="6735935">0</span><span class="op" id="6735936">,</span>&nbsp;<span class="num" id="6735938">0</span><span class="op" id="6735939">,</span>&nbsp;<span class="num" id="6735941">100</span><span class="op" id="6735944">,</span>&nbsp;<span class="num" id="6735946">100</span><span class="op" id="6735949">)</span><span class="op" id="6735950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735954">image</span><span class="op" id="6735959">.</span><span class="ident" id="6735960">Rect</span><span class="op" id="6735964">(</span><span class="num" id="6735965">0</span><span class="op" id="6735966">,</span>&nbsp;<span class="num" id="6735968">0</span><span class="op" id="6735969">,</span>&nbsp;<span class="num" id="6735971">50</span><span class="op" id="6735973">,</span>&nbsp;<span class="num" id="6735975">100</span><span class="op" id="6735978">)</span><span class="op" id="6735979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6735983">image</span><span class="op" id="6735988">.</span><span class="ident" id="6735989">Rect</span><span class="op" id="6735993">(</span><span class="num" id="6735994">20</span><span class="op" id="6735996">,</span>&nbsp;<span class="num" id="6735998">20</span><span class="op" id="6736000">,</span>&nbsp;<span class="num" id="6736002">80</span><span class="op" id="6736004">,</span>&nbsp;<span class="num" id="6736006">80</span><span class="op" id="6736008">)</span><span class="op" id="6736009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736013">image</span><span class="op" id="6736018">.</span><span class="ident" id="6736019">ZR</span><span class="op" id="6736021">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736025">image</span><span class="op" id="6736030">.</span><span class="ident" id="6736031">Pt</span><span class="op" id="6736033">(</span><span class="num" id="6736034">44</span><span class="op" id="6736036">,</span>&nbsp;<span class="num" id="6736038">33</span><span class="op" id="6736040">)</span><span class="op" id="6736041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736045">image</span><span class="op" id="6736050">.</span><span class="ident" id="6736051">ZP</span><span class="op" id="6736053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6736057">true</span><span class="op" id="6736061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736065">image</span><span class="op" id="6736070">.</span><span class="ident" id="6736071">Rect</span><span class="op" id="6736075">(</span><span class="num" id="6736076">0</span><span class="op" id="6736077">,</span>&nbsp;<span class="num" id="6736079">0</span><span class="op" id="6736080">,</span>&nbsp;<span class="num" id="6736082">36</span><span class="op" id="6736084">,</span>&nbsp;<span class="num" id="6736086">47</span><span class="op" id="6736088">)</span><span class="op" id="6736089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736093">image</span><span class="op" id="6736098">.</span><span class="ident" id="6736099">Pt</span><span class="op" id="6736101">(</span><span class="num" id="6736102">44</span><span class="op" id="6736104">,</span>&nbsp;<span class="num" id="6736106">33</span><span class="op" id="6736108">)</span><span class="op" id="6736109">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736113">image</span><span class="op" id="6736118">.</span><span class="ident" id="6736119">ZP</span><span class="op" id="6736121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6736124">}</span><span class="op" id="6736125">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6736129">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;non-nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6736178">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6736182">&#34;basic&nbsp;mask&#34;</span><span class="op" id="6736194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736198">image</span><span class="op" id="6736203">.</span><span class="ident" id="6736204">Rect</span><span class="op" id="6736208">(</span><span class="num" id="6736209">0</span><span class="op" id="6736210">,</span>&nbsp;<span class="num" id="6736212">0</span><span class="op" id="6736213">,</span>&nbsp;<span class="num" id="6736215">80</span><span class="op" id="6736217">,</span>&nbsp;<span class="num" id="6736219">80</span><span class="op" id="6736221">)</span><span class="op" id="6736222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736226">image</span><span class="op" id="6736231">.</span><span class="ident" id="6736232">Rect</span><span class="op" id="6736236">(</span><span class="num" id="6736237">20</span><span class="op" id="6736239">,</span>&nbsp;<span class="num" id="6736241">0</span><span class="op" id="6736242">,</span>&nbsp;<span class="num" id="6736244">100</span><span class="op" id="6736247">,</span>&nbsp;<span class="num" id="6736249">80</span><span class="op" id="6736251">)</span><span class="op" id="6736252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736256">image</span><span class="op" id="6736261">.</span><span class="ident" id="6736262">Rect</span><span class="op" id="6736266">(</span><span class="num" id="6736267">0</span><span class="op" id="6736268">,</span>&nbsp;<span class="num" id="6736270">0</span><span class="op" id="6736271">,</span>&nbsp;<span class="num" id="6736273">50</span><span class="op" id="6736275">,</span>&nbsp;<span class="num" id="6736277">49</span><span class="op" id="6736279">)</span><span class="op" id="6736280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736284">image</span><span class="op" id="6736289">.</span><span class="ident" id="6736290">Rect</span><span class="op" id="6736294">(</span><span class="num" id="6736295">0</span><span class="op" id="6736296">,</span>&nbsp;<span class="num" id="6736298">0</span><span class="op" id="6736299">,</span>&nbsp;<span class="num" id="6736301">46</span><span class="op" id="6736303">,</span>&nbsp;<span class="num" id="6736305">47</span><span class="op" id="6736307">)</span><span class="op" id="6736308">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736312">image</span><span class="op" id="6736317">.</span><span class="ident" id="6736318">ZP</span><span class="op" id="6736320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736324">image</span><span class="op" id="6736329">.</span><span class="ident" id="6736330">ZP</span><span class="op" id="6736332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6736336">false</span><span class="op" id="6736341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736345">image</span><span class="op" id="6736350">.</span><span class="ident" id="6736351">Rect</span><span class="op" id="6736355">(</span><span class="num" id="6736356">20</span><span class="op" id="6736358">,</span>&nbsp;<span class="num" id="6736360">0</span><span class="op" id="6736361">,</span>&nbsp;<span class="num" id="6736363">46</span><span class="op" id="6736365">,</span>&nbsp;<span class="num" id="6736367">47</span><span class="op" id="6736369">)</span><span class="op" id="6736370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736374">image</span><span class="op" id="6736379">.</span><span class="ident" id="6736380">Pt</span><span class="op" id="6736382">(</span><span class="num" id="6736383">20</span><span class="op" id="6736385">,</span>&nbsp;<span class="num" id="6736387">0</span><span class="op" id="6736388">)</span><span class="op" id="6736389">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736393">image</span><span class="op" id="6736398">.</span><span class="ident" id="6736399">Pt</span><span class="op" id="6736401">(</span><span class="num" id="6736402">20</span><span class="op" id="6736404">,</span>&nbsp;<span class="num" id="6736406">0</span><span class="op" id="6736407">)</span><span class="op" id="6736408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6736411">}</span><span class="op" id="6736412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6736415">//&nbsp;TODO(nigeltao):&nbsp;write&nbsp;more&nbsp;tests.</span><br>
<span class="lineno"></span><span class="op" id="6736452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="6736455">func</span>&nbsp;<span class="ident" id="6736460">TestClip</span><span class="op" id="6736468">(</span><span class="ident" id="6736469">t</span>&nbsp;<span class="op" id="6736471">*</span><span class="ident" id="6736472">testing</span><span class="op" id="6736479">.</span><span class="ident" id="6736480">T</span><span class="op" id="6736481">)</span>&nbsp;<span class="op" id="6736483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736486">dst0</span>&nbsp;<span class="op" id="6736491">:=</span>&nbsp;<span class="ident" id="6736494">image</span><span class="op" id="6736499">.</span><span class="ident" id="6736500">NewRGBA</span><span class="op" id="6736507">(</span><span class="ident" id="6736508">image</span><span class="op" id="6736513">.</span><span class="ident" id="6736514">Rect</span><span class="op" id="6736518">(</span><span class="num" id="6736519">0</span><span class="op" id="6736520">,</span>&nbsp;<span class="num" id="6736522">0</span><span class="op" id="6736523">,</span>&nbsp;<span class="num" id="6736525">100</span><span class="op" id="6736528">,</span>&nbsp;<span class="num" id="6736530">100</span><span class="op" id="6736533">)</span><span class="op" id="6736534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736537">src0</span>&nbsp;<span class="op" id="6736542">:=</span>&nbsp;<span class="ident" id="6736545">image</span><span class="op" id="6736550">.</span><span class="ident" id="6736551">NewRGBA</span><span class="op" id="6736558">(</span><span class="ident" id="6736559">image</span><span class="op" id="6736564">.</span><span class="ident" id="6736565">Rect</span><span class="op" id="6736569">(</span><span class="num" id="6736570">0</span><span class="op" id="6736571">,</span>&nbsp;<span class="num" id="6736573">0</span><span class="op" id="6736574">,</span>&nbsp;<span class="num" id="6736576">100</span><span class="op" id="6736579">,</span>&nbsp;<span class="num" id="6736581">100</span><span class="op" id="6736584">)</span><span class="op" id="6736585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736588">mask0</span>&nbsp;<span class="op" id="6736594">:=</span>&nbsp;<span class="ident" id="6736597">image</span><span class="op" id="6736602">.</span><span class="ident" id="6736603">NewRGBA</span><span class="op" id="6736610">(</span><span class="ident" id="6736611">image</span><span class="op" id="6736616">.</span><span class="ident" id="6736617">Rect</span><span class="op" id="6736621">(</span><span class="num" id="6736622">0</span><span class="op" id="6736623">,</span>&nbsp;<span class="num" id="6736625">0</span><span class="op" id="6736626">,</span>&nbsp;<span class="num" id="6736628">100</span><span class="op" id="6736631">,</span>&nbsp;<span class="num" id="6736633">100</span><span class="op" id="6736636">)</span><span class="op" id="6736637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6736640">for</span>&nbsp;<span class="ident" id="6736644">_</span><span class="op" id="6736645">,</span>&nbsp;<span class="ident" id="6736647">c</span>&nbsp;<span class="op" id="6736649">:=</span>&nbsp;<span class="keyword" id="6736652">range</span>&nbsp;<span class="ident" id="6736658">clipTests</span>&nbsp;<span class="op" id="6736668">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736672">dst</span>&nbsp;<span class="op" id="6736676">:=</span>&nbsp;<span class="ident" id="6736679">dst0</span><span class="op" id="6736683">.</span><span class="ident" id="6736684">SubImage</span><span class="op" id="6736692">(</span><span class="ident" id="6736693">c</span><span class="op" id="6736694">.</span><span class="ident" id="6736695">dr</span><span class="op" id="6736697">)</span><span class="op" id="6736698">.</span><span class="op" id="6736699">(</span><span class="op" id="6736700">*</span><span class="ident" id="6736701">image</span><span class="op" id="6736706">.</span><span class="ident" id="6736707">RGBA</span><span class="op" id="6736711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736715">src</span>&nbsp;<span class="op" id="6736719">:=</span>&nbsp;<span class="ident" id="6736722">src0</span><span class="op" id="6736726">.</span><span class="ident" id="6736727">SubImage</span><span class="op" id="6736735">(</span><span class="ident" id="6736736">c</span><span class="op" id="6736737">.</span><span class="ident" id="6736738">sr</span><span class="op" id="6736740">)</span><span class="op" id="6736741">.</span><span class="op" id="6736742">(</span><span class="op" id="6736743">*</span><span class="ident" id="6736744">image</span><span class="op" id="6736749">.</span><span class="ident" id="6736750">RGBA</span><span class="op" id="6736754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6736758">var</span>&nbsp;<span class="ident" id="6736762">mask</span>&nbsp;<span class="ident" id="6736767">image</span><span class="op" id="6736772">.</span><span class="ident" id="6736773">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6736781">if</span>&nbsp;<span class="op" id="6736784">!</span><span class="ident" id="6736785">c</span><span class="op" id="6736786">.</span><span class="ident" id="6736787">nilMask</span>&nbsp;<span class="op" id="6736795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736800">mask</span>&nbsp;<span class="op" id="6736805">=</span>&nbsp;<span class="ident" id="6736807">mask0</span><span class="op" id="6736812">.</span><span class="ident" id="6736813">SubImage</span><span class="op" id="6736821">(</span><span class="ident" id="6736822">c</span><span class="op" id="6736823">.</span><span class="ident" id="6736824">mr</span><span class="op" id="6736826">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6736830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736834">r</span><span class="op" id="6736835">,</span>&nbsp;<span class="ident" id="6736837">sp</span><span class="op" id="6736839">,</span>&nbsp;<span class="ident" id="6736841">mp</span>&nbsp;<span class="op" id="6736844">:=</span>&nbsp;<span class="ident" id="6736847">c</span><span class="op" id="6736848">.</span><span class="ident" id="6736849">r</span><span class="op" id="6736850">,</span>&nbsp;<span class="ident" id="6736852">c</span><span class="op" id="6736853">.</span><span class="ident" id="6736854">sp</span><span class="op" id="6736856">,</span>&nbsp;<span class="ident" id="6736858">c</span><span class="op" id="6736859">.</span><span class="ident" id="6736860">mp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736865">clip</span><span class="op" id="6736869">(</span><span class="ident" id="6736870">dst</span><span class="op" id="6736873">,</span>&nbsp;<span class="op" id="6736875">&amp;</span><span class="ident" id="6736876">r</span><span class="op" id="6736877">,</span>&nbsp;<span class="ident" id="6736879">src</span><span class="op" id="6736882">,</span>&nbsp;<span class="op" id="6736884">&amp;</span><span class="ident" id="6736885">sp</span><span class="op" id="6736887">,</span>&nbsp;<span class="ident" id="6736889">mask</span><span class="op" id="6736893">,</span>&nbsp;<span class="op" id="6736895">&amp;</span><span class="ident" id="6736896">mp</span><span class="op" id="6736898">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6736903">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;actual&nbsp;results&nbsp;equal&nbsp;the&nbsp;expected&nbsp;results.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6736966">if</span>&nbsp;<span class="op" id="6736969">!</span><span class="ident" id="6736970">c</span><span class="op" id="6736971">.</span><span class="ident" id="6736972">r0</span><span class="op" id="6736974">.</span><span class="ident" id="6736975">Eq</span><span class="op" id="6736977">(</span><span class="ident" id="6736978">r</span><span class="op" id="6736979">)</span>&nbsp;<span class="op" id="6736981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6736986">t</span><span class="op" id="6736987">.</span><span class="ident" id="6736988">Errorf</span><span class="op" id="6736994">(</span><span class="string" id="6736995">&#34;%s:&nbsp;clip&nbsp;rectangle&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6737030">,</span>&nbsp;<span class="ident" id="6737032">c</span><span class="op" id="6737033">.</span><span class="ident" id="6737034">desc</span><span class="op" id="6737038">,</span>&nbsp;<span class="ident" id="6737040">c</span><span class="op" id="6737041">.</span><span class="ident" id="6737042">r0</span><span class="op" id="6737044">,</span>&nbsp;<span class="ident" id="6737046">r</span><span class="op" id="6737047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737052">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6737063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737067">if</span>&nbsp;<span class="op" id="6737070">!</span><span class="ident" id="6737071">c</span><span class="op" id="6737072">.</span><span class="ident" id="6737073">sp0</span><span class="op" id="6737076">.</span><span class="ident" id="6737077">Eq</span><span class="op" id="6737079">(</span><span class="ident" id="6737080">sp</span><span class="op" id="6737082">)</span>&nbsp;<span class="op" id="6737084">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6737089">t</span><span class="op" id="6737090">.</span><span class="ident" id="6737091">Errorf</span><span class="op" id="6737097">(</span><span class="string" id="6737098">&#34;%s:&nbsp;sp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6737121">,</span>&nbsp;<span class="ident" id="6737123">c</span><span class="op" id="6737124">.</span><span class="ident" id="6737125">desc</span><span class="op" id="6737129">,</span>&nbsp;<span class="ident" id="6737131">c</span><span class="op" id="6737132">.</span><span class="ident" id="6737133">sp0</span><span class="op" id="6737136">,</span>&nbsp;<span class="ident" id="6737138">sp</span><span class="op" id="6737140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737145">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6737156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737160">if</span>&nbsp;<span class="op" id="6737163">!</span><span class="ident" id="6737164">c</span><span class="op" id="6737165">.</span><span class="ident" id="6737166">nilMask</span>&nbsp;<span class="op" id="6737174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737179">if</span>&nbsp;<span class="op" id="6737182">!</span><span class="ident" id="6737183">c</span><span class="op" id="6737184">.</span><span class="ident" id="6737185">mp0</span><span class="op" id="6737188">.</span><span class="ident" id="6737189">Eq</span><span class="op" id="6737191">(</span><span class="ident" id="6737192">mp</span><span class="op" id="6737194">)</span>&nbsp;<span class="op" id="6737196">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6737202">t</span><span class="op" id="6737203">.</span><span class="ident" id="6737204">Errorf</span><span class="op" id="6737210">(</span><span class="string" id="6737211">&#34;%s:&nbsp;mp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6737234">,</span>&nbsp;<span class="ident" id="6737236">c</span><span class="op" id="6737237">.</span><span class="ident" id="6737238">desc</span><span class="op" id="6737242">,</span>&nbsp;<span class="ident" id="6737244">c</span><span class="op" id="6737245">.</span><span class="ident" id="6737246">mp0</span><span class="op" id="6737249">,</span>&nbsp;<span class="ident" id="6737251">mp</span><span class="op" id="6737253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737259">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6737271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6737275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6737280">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;clipped&nbsp;rectangle&nbsp;is&nbsp;contained&nbsp;by&nbsp;the&nbsp;dst&nbsp;/&nbsp;src&nbsp;/&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6737355">//&nbsp;rectangles,&nbsp;in&nbsp;their&nbsp;respective&nbsp;co-ordinate&nbsp;spaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737412">if</span>&nbsp;<span class="op" id="6737415">!</span><span class="ident" id="6737416">r</span><span class="op" id="6737417">.</span><span class="ident" id="6737418">In</span><span class="op" id="6737420">(</span><span class="ident" id="6737421">c</span><span class="op" id="6737422">.</span><span class="ident" id="6737423">dr</span><span class="op" id="6737425">)</span>&nbsp;<span class="op" id="6737427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6737432">t</span><span class="op" id="6737433">.</span><span class="ident" id="6737434">Errorf</span><span class="op" id="6737440">(</span><span class="string" id="6737441">&#34;%s:&nbsp;c.dr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;r&nbsp;%v&#34;</span><span class="op" id="6737476">,</span>&nbsp;<span class="ident" id="6737478">c</span><span class="op" id="6737479">.</span><span class="ident" id="6737480">desc</span><span class="op" id="6737484">,</span>&nbsp;<span class="ident" id="6737486">c</span><span class="op" id="6737487">.</span><span class="ident" id="6737488">dr</span><span class="op" id="6737490">,</span>&nbsp;<span class="ident" id="6737492">r</span><span class="op" id="6737493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6737497">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6737501">//&nbsp;sr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;src&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6737555">sr</span>&nbsp;<span class="op" id="6737558">:=</span>&nbsp;<span class="ident" id="6737561">r</span><span class="op" id="6737562">.</span><span class="ident" id="6737563">Add</span><span class="op" id="6737566">(</span><span class="ident" id="6737567">c</span><span class="op" id="6737568">.</span><span class="ident" id="6737569">sp</span><span class="op" id="6737571">.</span><span class="ident" id="6737572">Sub</span><span class="op" id="6737575">(</span><span class="ident" id="6737576">c</span><span class="op" id="6737577">.</span><span class="ident" id="6737578">dr</span><span class="op" id="6737580">.</span><span class="ident" id="6737581">Min</span><span class="op" id="6737584">)</span><span class="op" id="6737585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737589">if</span>&nbsp;<span class="op" id="6737592">!</span><span class="ident" id="6737593">sr</span><span class="op" id="6737595">.</span><span class="ident" id="6737596">In</span><span class="op" id="6737598">(</span><span class="ident" id="6737599">c</span><span class="op" id="6737600">.</span><span class="ident" id="6737601">sr</span><span class="op" id="6737603">)</span>&nbsp;<span class="op" id="6737605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6737610">t</span><span class="op" id="6737611">.</span><span class="ident" id="6737612">Errorf</span><span class="op" id="6737618">(</span><span class="string" id="6737619">&#34;%s:&nbsp;c.sr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;sr&nbsp;%v&#34;</span><span class="op" id="6737655">,</span>&nbsp;<span class="ident" id="6737657">c</span><span class="op" id="6737658">.</span><span class="ident" id="6737659">desc</span><span class="op" id="6737663">,</span>&nbsp;<span class="ident" id="6737665">c</span><span class="op" id="6737666">.</span><span class="ident" id="6737667">sr</span><span class="op" id="6737669">,</span>&nbsp;<span class="ident" id="6737671">sr</span><span class="op" id="6737673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6737677">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737681">if</span>&nbsp;<span class="op" id="6737684">!</span><span class="ident" id="6737685">c</span><span class="op" id="6737686">.</span><span class="ident" id="6737687">nilMask</span>&nbsp;<span class="op" id="6737695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6737700">//&nbsp;mr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;mask&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6737756">mr</span>&nbsp;<span class="op" id="6737759">:=</span>&nbsp;<span class="ident" id="6737762">r</span><span class="op" id="6737763">.</span><span class="ident" id="6737764">Add</span><span class="op" id="6737767">(</span><span class="ident" id="6737768">c</span><span class="op" id="6737769">.</span><span class="ident" id="6737770">mp</span><span class="op" id="6737772">.</span><span class="ident" id="6737773">Sub</span><span class="op" id="6737776">(</span><span class="ident" id="6737777">c</span><span class="op" id="6737778">.</span><span class="ident" id="6737779">dr</span><span class="op" id="6737781">.</span><span class="ident" id="6737782">Min</span><span class="op" id="6737785">)</span><span class="op" id="6737786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6737791">if</span>&nbsp;<span class="op" id="6737794">!</span><span class="ident" id="6737795">mr</span><span class="op" id="6737797">.</span><span class="ident" id="6737798">In</span><span class="op" id="6737800">(</span><span class="ident" id="6737801">c</span><span class="op" id="6737802">.</span><span class="ident" id="6737803">mr</span><span class="op" id="6737805">)</span>&nbsp;<span class="op" id="6737807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6737813">t</span><span class="op" id="6737814">.</span><span class="ident" id="6737815">Errorf</span><span class="op" id="6737821">(</span><span class="string" id="6737822">&#34;%s:&nbsp;c.mr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;mr&nbsp;%v&#34;</span><span class="op" id="6737858">,</span>&nbsp;<span class="ident" id="6737860">c</span><span class="op" id="6737861">.</span><span class="ident" id="6737862">desc</span><span class="op" id="6737866">,</span>&nbsp;<span class="ident" id="6737868">c</span><span class="op" id="6737869">.</span><span class="ident" id="6737870">mr</span><span class="op" id="6737872">,</span>&nbsp;<span class="ident" id="6737874">mr</span><span class="op" id="6737876">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6737881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6737885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6737888">}</span><br>
<span class="lineno"></span><span class="op" id="6737890">}</span>
</div>
</body>
</html>
