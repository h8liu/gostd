<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/macho</h2>
<ul>
<li><a href="/gostd/debug/macho/fat.go.html">fat.go</a></li>
<li><a href="/gostd/debug/macho/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/macho/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/macho/macho.go.html">macho.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8122401">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8122457">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8122511">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8122562">package</span>&nbsp;<span class="ident" id="8122570">macho</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8122577">import</span>&nbsp;<span class="op" id="8122584">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8122587">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8122598">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8122608">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8122611">type</span>&nbsp;<span class="ident" id="8122616">fileTest</span>&nbsp;<span class="keyword" id="8122625">struct</span>&nbsp;<span class="op" id="8122632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122635">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8122644">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122652">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8122661">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122673">segments</span>&nbsp;<span class="op" id="8122682">[</span><span class="op" id="8122683">]</span><span class="op" id="8122684">*</span><span class="ident" id="8122685">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122700">sections</span>&nbsp;<span class="op" id="8122709">[</span><span class="op" id="8122710">]</span><span class="op" id="8122711">*</span><span class="ident" id="8122712">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="8122726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8122729">var</span>&nbsp;<span class="ident" id="8122733">fileTests</span>&nbsp;<span class="op" id="8122743">=</span>&nbsp;<span class="op" id="8122745">[</span><span class="op" id="8122746">]</span><span class="ident" id="8122747">fileTest</span><span class="op" id="8122755">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8122762">&#34;testdata/gcc-386-darwin-exec&#34;</span><span class="op" id="8122792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122796">FileHeader</span><span class="op" id="8122806">{</span><span class="num" id="8122807">0xfeedface</span><span class="op" id="8122817">,</span>&nbsp;<span class="ident" id="8122819">Cpu386</span><span class="op" id="8122825">,</span>&nbsp;<span class="num" id="8122827">0x3</span><span class="op" id="8122830">,</span>&nbsp;<span class="num" id="8122832">0x2</span><span class="op" id="8122835">,</span>&nbsp;<span class="num" id="8122837">0xc</span><span class="op" id="8122840">,</span>&nbsp;<span class="num" id="8122842">0x3c0</span><span class="op" id="8122847">,</span>&nbsp;<span class="num" id="8122849">0x85</span><span class="op" id="8122853">}</span><span class="op" id="8122854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122858">[</span><span class="op" id="8122859">]</span><span class="op" id="8122860">*</span><span class="ident" id="8122861">SegmentHeader</span><span class="op" id="8122874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122879">{</span><span class="ident" id="8122880">LoadCmdSegment</span><span class="op" id="8122894">,</span>&nbsp;<span class="num" id="8122896">0x38</span><span class="op" id="8122900">,</span>&nbsp;<span class="string" id="8122902">&#34;__PAGEZERO&#34;</span><span class="op" id="8122914">,</span>&nbsp;<span class="num" id="8122916">0x0</span><span class="op" id="8122919">,</span>&nbsp;<span class="num" id="8122921">0x1000</span><span class="op" id="8122927">,</span>&nbsp;<span class="num" id="8122929">0x0</span><span class="op" id="8122932">,</span>&nbsp;<span class="num" id="8122934">0x0</span><span class="op" id="8122937">,</span>&nbsp;<span class="num" id="8122939">0x0</span><span class="op" id="8122942">,</span>&nbsp;<span class="num" id="8122944">0x0</span><span class="op" id="8122947">,</span>&nbsp;<span class="num" id="8122949">0x0</span><span class="op" id="8122952">,</span>&nbsp;<span class="num" id="8122954">0x0</span><span class="op" id="8122957">}</span><span class="op" id="8122958">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122963">{</span><span class="ident" id="8122964">LoadCmdSegment</span><span class="op" id="8122978">,</span>&nbsp;<span class="num" id="8122980">0xc0</span><span class="op" id="8122984">,</span>&nbsp;<span class="string" id="8122986">&#34;__TEXT&#34;</span><span class="op" id="8122994">,</span>&nbsp;<span class="num" id="8122996">0x1000</span><span class="op" id="8123002">,</span>&nbsp;<span class="num" id="8123004">0x1000</span><span class="op" id="8123010">,</span>&nbsp;<span class="num" id="8123012">0x0</span><span class="op" id="8123015">,</span>&nbsp;<span class="num" id="8123017">0x1000</span><span class="op" id="8123023">,</span>&nbsp;<span class="num" id="8123025">0x7</span><span class="op" id="8123028">,</span>&nbsp;<span class="num" id="8123030">0x5</span><span class="op" id="8123033">,</span>&nbsp;<span class="num" id="8123035">0x2</span><span class="op" id="8123038">,</span>&nbsp;<span class="num" id="8123040">0x0</span><span class="op" id="8123043">}</span><span class="op" id="8123044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123049">{</span><span class="ident" id="8123050">LoadCmdSegment</span><span class="op" id="8123064">,</span>&nbsp;<span class="num" id="8123066">0xc0</span><span class="op" id="8123070">,</span>&nbsp;<span class="string" id="8123072">&#34;__DATA&#34;</span><span class="op" id="8123080">,</span>&nbsp;<span class="num" id="8123082">0x2000</span><span class="op" id="8123088">,</span>&nbsp;<span class="num" id="8123090">0x1000</span><span class="op" id="8123096">,</span>&nbsp;<span class="num" id="8123098">0x1000</span><span class="op" id="8123104">,</span>&nbsp;<span class="num" id="8123106">0x1000</span><span class="op" id="8123112">,</span>&nbsp;<span class="num" id="8123114">0x7</span><span class="op" id="8123117">,</span>&nbsp;<span class="num" id="8123119">0x3</span><span class="op" id="8123122">,</span>&nbsp;<span class="num" id="8123124">0x2</span><span class="op" id="8123127">,</span>&nbsp;<span class="num" id="8123129">0x0</span><span class="op" id="8123132">}</span><span class="op" id="8123133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123138">{</span><span class="ident" id="8123139">LoadCmdSegment</span><span class="op" id="8123153">,</span>&nbsp;<span class="num" id="8123155">0x7c</span><span class="op" id="8123159">,</span>&nbsp;<span class="string" id="8123161">&#34;__IMPORT&#34;</span><span class="op" id="8123171">,</span>&nbsp;<span class="num" id="8123173">0x3000</span><span class="op" id="8123179">,</span>&nbsp;<span class="num" id="8123181">0x1000</span><span class="op" id="8123187">,</span>&nbsp;<span class="num" id="8123189">0x2000</span><span class="op" id="8123195">,</span>&nbsp;<span class="num" id="8123197">0x1000</span><span class="op" id="8123203">,</span>&nbsp;<span class="num" id="8123205">0x7</span><span class="op" id="8123208">,</span>&nbsp;<span class="num" id="8123210">0x7</span><span class="op" id="8123213">,</span>&nbsp;<span class="num" id="8123215">0x1</span><span class="op" id="8123218">,</span>&nbsp;<span class="num" id="8123220">0x0</span><span class="op" id="8123223">}</span><span class="op" id="8123224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123229">{</span><span class="ident" id="8123230">LoadCmdSegment</span><span class="op" id="8123244">,</span>&nbsp;<span class="num" id="8123246">0x38</span><span class="op" id="8123250">,</span>&nbsp;<span class="string" id="8123252">&#34;__LINKEDIT&#34;</span><span class="op" id="8123264">,</span>&nbsp;<span class="num" id="8123266">0x4000</span><span class="op" id="8123272">,</span>&nbsp;<span class="num" id="8123274">0x1000</span><span class="op" id="8123280">,</span>&nbsp;<span class="num" id="8123282">0x3000</span><span class="op" id="8123288">,</span>&nbsp;<span class="num" id="8123290">0x12c</span><span class="op" id="8123295">,</span>&nbsp;<span class="num" id="8123297">0x7</span><span class="op" id="8123300">,</span>&nbsp;<span class="num" id="8123302">0x1</span><span class="op" id="8123305">,</span>&nbsp;<span class="num" id="8123307">0x0</span><span class="op" id="8123310">,</span>&nbsp;<span class="num" id="8123312">0x0</span><span class="op" id="8123315">}</span><span class="op" id="8123316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123321">nil</span><span class="op" id="8123324">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123329">nil</span><span class="op" id="8123332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123337">nil</span><span class="op" id="8123340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123345">nil</span><span class="op" id="8123348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123353">nil</span><span class="op" id="8123356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123361">nil</span><span class="op" id="8123364">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123369">nil</span><span class="op" id="8123372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123376">}</span><span class="op" id="8123377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123381">[</span><span class="op" id="8123382">]</span><span class="op" id="8123383">*</span><span class="ident" id="8123384">SectionHeader</span><span class="op" id="8123397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123402">{</span><span class="string" id="8123403">&#34;__text&#34;</span><span class="op" id="8123411">,</span>&nbsp;<span class="string" id="8123413">&#34;__TEXT&#34;</span><span class="op" id="8123421">,</span>&nbsp;<span class="num" id="8123423">0x1f68</span><span class="op" id="8123429">,</span>&nbsp;<span class="num" id="8123431">0x88</span><span class="op" id="8123435">,</span>&nbsp;<span class="num" id="8123437">0xf68</span><span class="op" id="8123442">,</span>&nbsp;<span class="num" id="8123444">0x2</span><span class="op" id="8123447">,</span>&nbsp;<span class="num" id="8123449">0x0</span><span class="op" id="8123452">,</span>&nbsp;<span class="num" id="8123454">0x0</span><span class="op" id="8123457">,</span>&nbsp;<span class="num" id="8123459">0x80000400</span><span class="op" id="8123469">}</span><span class="op" id="8123470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123475">{</span><span class="string" id="8123476">&#34;__cstring&#34;</span><span class="op" id="8123487">,</span>&nbsp;<span class="string" id="8123489">&#34;__TEXT&#34;</span><span class="op" id="8123497">,</span>&nbsp;<span class="num" id="8123499">0x1ff0</span><span class="op" id="8123505">,</span>&nbsp;<span class="num" id="8123507">0xd</span><span class="op" id="8123510">,</span>&nbsp;<span class="num" id="8123512">0xff0</span><span class="op" id="8123517">,</span>&nbsp;<span class="num" id="8123519">0x0</span><span class="op" id="8123522">,</span>&nbsp;<span class="num" id="8123524">0x0</span><span class="op" id="8123527">,</span>&nbsp;<span class="num" id="8123529">0x0</span><span class="op" id="8123532">,</span>&nbsp;<span class="num" id="8123534">0x2</span><span class="op" id="8123537">}</span><span class="op" id="8123538">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123543">{</span><span class="string" id="8123544">&#34;__data&#34;</span><span class="op" id="8123552">,</span>&nbsp;<span class="string" id="8123554">&#34;__DATA&#34;</span><span class="op" id="8123562">,</span>&nbsp;<span class="num" id="8123564">0x2000</span><span class="op" id="8123570">,</span>&nbsp;<span class="num" id="8123572">0x14</span><span class="op" id="8123576">,</span>&nbsp;<span class="num" id="8123578">0x1000</span><span class="op" id="8123584">,</span>&nbsp;<span class="num" id="8123586">0x2</span><span class="op" id="8123589">,</span>&nbsp;<span class="num" id="8123591">0x0</span><span class="op" id="8123594">,</span>&nbsp;<span class="num" id="8123596">0x0</span><span class="op" id="8123599">,</span>&nbsp;<span class="num" id="8123601">0x0</span><span class="op" id="8123604">}</span><span class="op" id="8123605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123610">{</span><span class="string" id="8123611">&#34;__dyld&#34;</span><span class="op" id="8123619">,</span>&nbsp;<span class="string" id="8123621">&#34;__DATA&#34;</span><span class="op" id="8123629">,</span>&nbsp;<span class="num" id="8123631">0x2014</span><span class="op" id="8123637">,</span>&nbsp;<span class="num" id="8123639">0x1c</span><span class="op" id="8123643">,</span>&nbsp;<span class="num" id="8123645">0x1014</span><span class="op" id="8123651">,</span>&nbsp;<span class="num" id="8123653">0x2</span><span class="op" id="8123656">,</span>&nbsp;<span class="num" id="8123658">0x0</span><span class="op" id="8123661">,</span>&nbsp;<span class="num" id="8123663">0x0</span><span class="op" id="8123666">,</span>&nbsp;<span class="num" id="8123668">0x0</span><span class="op" id="8123671">}</span><span class="op" id="8123672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123677">{</span><span class="string" id="8123678">&#34;__jump_table&#34;</span><span class="op" id="8123692">,</span>&nbsp;<span class="string" id="8123694">&#34;__IMPORT&#34;</span><span class="op" id="8123704">,</span>&nbsp;<span class="num" id="8123706">0x3000</span><span class="op" id="8123712">,</span>&nbsp;<span class="num" id="8123714">0xa</span><span class="op" id="8123717">,</span>&nbsp;<span class="num" id="8123719">0x2000</span><span class="op" id="8123725">,</span>&nbsp;<span class="num" id="8123727">0x6</span><span class="op" id="8123730">,</span>&nbsp;<span class="num" id="8123732">0x0</span><span class="op" id="8123735">,</span>&nbsp;<span class="num" id="8123737">0x0</span><span class="op" id="8123740">,</span>&nbsp;<span class="num" id="8123742">0x4000008</span><span class="op" id="8123751">}</span><span class="op" id="8123752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123756">}</span><span class="op" id="8123757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123760">}</span><span class="op" id="8123761">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8123768">&#34;testdata/gcc-amd64-darwin-exec&#34;</span><span class="op" id="8123800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123804">FileHeader</span><span class="op" id="8123814">{</span><span class="num" id="8123815">0xfeedfacf</span><span class="op" id="8123825">,</span>&nbsp;<span class="ident" id="8123827">CpuAmd64</span><span class="op" id="8123835">,</span>&nbsp;<span class="num" id="8123837">0x80000003</span><span class="op" id="8123847">,</span>&nbsp;<span class="num" id="8123849">0x2</span><span class="op" id="8123852">,</span>&nbsp;<span class="num" id="8123854">0xb</span><span class="op" id="8123857">,</span>&nbsp;<span class="num" id="8123859">0x568</span><span class="op" id="8123864">,</span>&nbsp;<span class="num" id="8123866">0x85</span><span class="op" id="8123870">}</span><span class="op" id="8123871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123875">[</span><span class="op" id="8123876">]</span><span class="op" id="8123877">*</span><span class="ident" id="8123878">SegmentHeader</span><span class="op" id="8123891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123896">{</span><span class="ident" id="8123897">LoadCmdSegment64</span><span class="op" id="8123913">,</span>&nbsp;<span class="num" id="8123915">0x48</span><span class="op" id="8123919">,</span>&nbsp;<span class="string" id="8123921">&#34;__PAGEZERO&#34;</span><span class="op" id="8123933">,</span>&nbsp;<span class="num" id="8123935">0x0</span><span class="op" id="8123938">,</span>&nbsp;<span class="num" id="8123940">0x100000000</span><span class="op" id="8123951">,</span>&nbsp;<span class="num" id="8123953">0x0</span><span class="op" id="8123956">,</span>&nbsp;<span class="num" id="8123958">0x0</span><span class="op" id="8123961">,</span>&nbsp;<span class="num" id="8123963">0x0</span><span class="op" id="8123966">,</span>&nbsp;<span class="num" id="8123968">0x0</span><span class="op" id="8123971">,</span>&nbsp;<span class="num" id="8123973">0x0</span><span class="op" id="8123976">,</span>&nbsp;<span class="num" id="8123978">0x0</span><span class="op" id="8123981">}</span><span class="op" id="8123982">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123987">{</span><span class="ident" id="8123988">LoadCmdSegment64</span><span class="op" id="8124004">,</span>&nbsp;<span class="num" id="8124006">0x1d8</span><span class="op" id="8124011">,</span>&nbsp;<span class="string" id="8124013">&#34;__TEXT&#34;</span><span class="op" id="8124021">,</span>&nbsp;<span class="num" id="8124023">0x100000000</span><span class="op" id="8124034">,</span>&nbsp;<span class="num" id="8124036">0x1000</span><span class="op" id="8124042">,</span>&nbsp;<span class="num" id="8124044">0x0</span><span class="op" id="8124047">,</span>&nbsp;<span class="num" id="8124049">0x1000</span><span class="op" id="8124055">,</span>&nbsp;<span class="num" id="8124057">0x7</span><span class="op" id="8124060">,</span>&nbsp;<span class="num" id="8124062">0x5</span><span class="op" id="8124065">,</span>&nbsp;<span class="num" id="8124067">0x5</span><span class="op" id="8124070">,</span>&nbsp;<span class="num" id="8124072">0x0</span><span class="op" id="8124075">}</span><span class="op" id="8124076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124081">{</span><span class="ident" id="8124082">LoadCmdSegment64</span><span class="op" id="8124098">,</span>&nbsp;<span class="num" id="8124100">0x138</span><span class="op" id="8124105">,</span>&nbsp;<span class="string" id="8124107">&#34;__DATA&#34;</span><span class="op" id="8124115">,</span>&nbsp;<span class="num" id="8124117">0x100001000</span><span class="op" id="8124128">,</span>&nbsp;<span class="num" id="8124130">0x1000</span><span class="op" id="8124136">,</span>&nbsp;<span class="num" id="8124138">0x1000</span><span class="op" id="8124144">,</span>&nbsp;<span class="num" id="8124146">0x1000</span><span class="op" id="8124152">,</span>&nbsp;<span class="num" id="8124154">0x7</span><span class="op" id="8124157">,</span>&nbsp;<span class="num" id="8124159">0x3</span><span class="op" id="8124162">,</span>&nbsp;<span class="num" id="8124164">0x3</span><span class="op" id="8124167">,</span>&nbsp;<span class="num" id="8124169">0x0</span><span class="op" id="8124172">}</span><span class="op" id="8124173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124178">{</span><span class="ident" id="8124179">LoadCmdSegment64</span><span class="op" id="8124195">,</span>&nbsp;<span class="num" id="8124197">0x48</span><span class="op" id="8124201">,</span>&nbsp;<span class="string" id="8124203">&#34;__LINKEDIT&#34;</span><span class="op" id="8124215">,</span>&nbsp;<span class="num" id="8124217">0x100002000</span><span class="op" id="8124228">,</span>&nbsp;<span class="num" id="8124230">0x1000</span><span class="op" id="8124236">,</span>&nbsp;<span class="num" id="8124238">0x2000</span><span class="op" id="8124244">,</span>&nbsp;<span class="num" id="8124246">0x140</span><span class="op" id="8124251">,</span>&nbsp;<span class="num" id="8124253">0x7</span><span class="op" id="8124256">,</span>&nbsp;<span class="num" id="8124258">0x1</span><span class="op" id="8124261">,</span>&nbsp;<span class="num" id="8124263">0x0</span><span class="op" id="8124266">,</span>&nbsp;<span class="num" id="8124268">0x0</span><span class="op" id="8124271">}</span><span class="op" id="8124272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124277">nil</span><span class="op" id="8124280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124285">nil</span><span class="op" id="8124288">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124293">nil</span><span class="op" id="8124296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124301">nil</span><span class="op" id="8124304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124309">nil</span><span class="op" id="8124312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124317">nil</span><span class="op" id="8124320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124325">nil</span><span class="op" id="8124328">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124332">}</span><span class="op" id="8124333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124337">[</span><span class="op" id="8124338">]</span><span class="op" id="8124339">*</span><span class="ident" id="8124340">SectionHeader</span><span class="op" id="8124353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124358">{</span><span class="string" id="8124359">&#34;__text&#34;</span><span class="op" id="8124367">,</span>&nbsp;<span class="string" id="8124369">&#34;__TEXT&#34;</span><span class="op" id="8124377">,</span>&nbsp;<span class="num" id="8124379">0x100000f14</span><span class="op" id="8124390">,</span>&nbsp;<span class="num" id="8124392">0x6d</span><span class="op" id="8124396">,</span>&nbsp;<span class="num" id="8124398">0xf14</span><span class="op" id="8124403">,</span>&nbsp;<span class="num" id="8124405">0x2</span><span class="op" id="8124408">,</span>&nbsp;<span class="num" id="8124410">0x0</span><span class="op" id="8124413">,</span>&nbsp;<span class="num" id="8124415">0x0</span><span class="op" id="8124418">,</span>&nbsp;<span class="num" id="8124420">0x80000400</span><span class="op" id="8124430">}</span><span class="op" id="8124431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124436">{</span><span class="string" id="8124437">&#34;__symbol_stub1&#34;</span><span class="op" id="8124453">,</span>&nbsp;<span class="string" id="8124455">&#34;__TEXT&#34;</span><span class="op" id="8124463">,</span>&nbsp;<span class="num" id="8124465">0x100000f81</span><span class="op" id="8124476">,</span>&nbsp;<span class="num" id="8124478">0xc</span><span class="op" id="8124481">,</span>&nbsp;<span class="num" id="8124483">0xf81</span><span class="op" id="8124488">,</span>&nbsp;<span class="num" id="8124490">0x0</span><span class="op" id="8124493">,</span>&nbsp;<span class="num" id="8124495">0x0</span><span class="op" id="8124498">,</span>&nbsp;<span class="num" id="8124500">0x0</span><span class="op" id="8124503">,</span>&nbsp;<span class="num" id="8124505">0x80000408</span><span class="op" id="8124515">}</span><span class="op" id="8124516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124521">{</span><span class="string" id="8124522">&#34;__stub_helper&#34;</span><span class="op" id="8124537">,</span>&nbsp;<span class="string" id="8124539">&#34;__TEXT&#34;</span><span class="op" id="8124547">,</span>&nbsp;<span class="num" id="8124549">0x100000f90</span><span class="op" id="8124560">,</span>&nbsp;<span class="num" id="8124562">0x18</span><span class="op" id="8124566">,</span>&nbsp;<span class="num" id="8124568">0xf90</span><span class="op" id="8124573">,</span>&nbsp;<span class="num" id="8124575">0x2</span><span class="op" id="8124578">,</span>&nbsp;<span class="num" id="8124580">0x0</span><span class="op" id="8124583">,</span>&nbsp;<span class="num" id="8124585">0x0</span><span class="op" id="8124588">,</span>&nbsp;<span class="num" id="8124590">0x0</span><span class="op" id="8124593">}</span><span class="op" id="8124594">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124599">{</span><span class="string" id="8124600">&#34;__cstring&#34;</span><span class="op" id="8124611">,</span>&nbsp;<span class="string" id="8124613">&#34;__TEXT&#34;</span><span class="op" id="8124621">,</span>&nbsp;<span class="num" id="8124623">0x100000fa8</span><span class="op" id="8124634">,</span>&nbsp;<span class="num" id="8124636">0xd</span><span class="op" id="8124639">,</span>&nbsp;<span class="num" id="8124641">0xfa8</span><span class="op" id="8124646">,</span>&nbsp;<span class="num" id="8124648">0x0</span><span class="op" id="8124651">,</span>&nbsp;<span class="num" id="8124653">0x0</span><span class="op" id="8124656">,</span>&nbsp;<span class="num" id="8124658">0x0</span><span class="op" id="8124661">,</span>&nbsp;<span class="num" id="8124663">0x2</span><span class="op" id="8124666">}</span><span class="op" id="8124667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124672">{</span><span class="string" id="8124673">&#34;__eh_frame&#34;</span><span class="op" id="8124685">,</span>&nbsp;<span class="string" id="8124687">&#34;__TEXT&#34;</span><span class="op" id="8124695">,</span>&nbsp;<span class="num" id="8124697">0x100000fb8</span><span class="op" id="8124708">,</span>&nbsp;<span class="num" id="8124710">0x48</span><span class="op" id="8124714">,</span>&nbsp;<span class="num" id="8124716">0xfb8</span><span class="op" id="8124721">,</span>&nbsp;<span class="num" id="8124723">0x3</span><span class="op" id="8124726">,</span>&nbsp;<span class="num" id="8124728">0x0</span><span class="op" id="8124731">,</span>&nbsp;<span class="num" id="8124733">0x0</span><span class="op" id="8124736">,</span>&nbsp;<span class="num" id="8124738">0x6000000b</span><span class="op" id="8124748">}</span><span class="op" id="8124749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124754">{</span><span class="string" id="8124755">&#34;__data&#34;</span><span class="op" id="8124763">,</span>&nbsp;<span class="string" id="8124765">&#34;__DATA&#34;</span><span class="op" id="8124773">,</span>&nbsp;<span class="num" id="8124775">0x100001000</span><span class="op" id="8124786">,</span>&nbsp;<span class="num" id="8124788">0x1c</span><span class="op" id="8124792">,</span>&nbsp;<span class="num" id="8124794">0x1000</span><span class="op" id="8124800">,</span>&nbsp;<span class="num" id="8124802">0x3</span><span class="op" id="8124805">,</span>&nbsp;<span class="num" id="8124807">0x0</span><span class="op" id="8124810">,</span>&nbsp;<span class="num" id="8124812">0x0</span><span class="op" id="8124815">,</span>&nbsp;<span class="num" id="8124817">0x0</span><span class="op" id="8124820">}</span><span class="op" id="8124821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124826">{</span><span class="string" id="8124827">&#34;__dyld&#34;</span><span class="op" id="8124835">,</span>&nbsp;<span class="string" id="8124837">&#34;__DATA&#34;</span><span class="op" id="8124845">,</span>&nbsp;<span class="num" id="8124847">0x100001020</span><span class="op" id="8124858">,</span>&nbsp;<span class="num" id="8124860">0x38</span><span class="op" id="8124864">,</span>&nbsp;<span class="num" id="8124866">0x1020</span><span class="op" id="8124872">,</span>&nbsp;<span class="num" id="8124874">0x3</span><span class="op" id="8124877">,</span>&nbsp;<span class="num" id="8124879">0x0</span><span class="op" id="8124882">,</span>&nbsp;<span class="num" id="8124884">0x0</span><span class="op" id="8124887">,</span>&nbsp;<span class="num" id="8124889">0x0</span><span class="op" id="8124892">}</span><span class="op" id="8124893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124898">{</span><span class="string" id="8124899">&#34;__la_symbol_ptr&#34;</span><span class="op" id="8124916">,</span>&nbsp;<span class="string" id="8124918">&#34;__DATA&#34;</span><span class="op" id="8124926">,</span>&nbsp;<span class="num" id="8124928">0x100001058</span><span class="op" id="8124939">,</span>&nbsp;<span class="num" id="8124941">0x10</span><span class="op" id="8124945">,</span>&nbsp;<span class="num" id="8124947">0x1058</span><span class="op" id="8124953">,</span>&nbsp;<span class="num" id="8124955">0x2</span><span class="op" id="8124958">,</span>&nbsp;<span class="num" id="8124960">0x0</span><span class="op" id="8124963">,</span>&nbsp;<span class="num" id="8124965">0x0</span><span class="op" id="8124968">,</span>&nbsp;<span class="num" id="8124970">0x7</span><span class="op" id="8124973">}</span><span class="op" id="8124974">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124978">}</span><span class="op" id="8124979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124982">}</span><span class="op" id="8124983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8124990">&#34;testdata/gcc-amd64-darwin-exec-debug&#34;</span><span class="op" id="8125028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125032">FileHeader</span><span class="op" id="8125042">{</span><span class="num" id="8125043">0xfeedfacf</span><span class="op" id="8125053">,</span>&nbsp;<span class="ident" id="8125055">CpuAmd64</span><span class="op" id="8125063">,</span>&nbsp;<span class="num" id="8125065">0x80000003</span><span class="op" id="8125075">,</span>&nbsp;<span class="num" id="8125077">0xa</span><span class="op" id="8125080">,</span>&nbsp;<span class="num" id="8125082">0x4</span><span class="op" id="8125085">,</span>&nbsp;<span class="num" id="8125087">0x5a0</span><span class="op" id="8125092">,</span>&nbsp;<span class="num" id="8125094">0</span><span class="op" id="8125095">}</span><span class="op" id="8125096">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125100">[</span><span class="op" id="8125101">]</span><span class="op" id="8125102">*</span><span class="ident" id="8125103">SegmentHeader</span><span class="op" id="8125116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125121">nil</span><span class="op" id="8125124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125129">{</span><span class="ident" id="8125130">LoadCmdSegment64</span><span class="op" id="8125146">,</span>&nbsp;<span class="num" id="8125148">0x1d8</span><span class="op" id="8125153">,</span>&nbsp;<span class="string" id="8125155">&#34;__TEXT&#34;</span><span class="op" id="8125163">,</span>&nbsp;<span class="num" id="8125165">0x100000000</span><span class="op" id="8125176">,</span>&nbsp;<span class="num" id="8125178">0x1000</span><span class="op" id="8125184">,</span>&nbsp;<span class="num" id="8125186">0x0</span><span class="op" id="8125189">,</span>&nbsp;<span class="num" id="8125191">0x0</span><span class="op" id="8125194">,</span>&nbsp;<span class="num" id="8125196">0x7</span><span class="op" id="8125199">,</span>&nbsp;<span class="num" id="8125201">0x5</span><span class="op" id="8125204">,</span>&nbsp;<span class="num" id="8125206">0x5</span><span class="op" id="8125209">,</span>&nbsp;<span class="num" id="8125211">0x0</span><span class="op" id="8125214">}</span><span class="op" id="8125215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125220">{</span><span class="ident" id="8125221">LoadCmdSegment64</span><span class="op" id="8125237">,</span>&nbsp;<span class="num" id="8125239">0x138</span><span class="op" id="8125244">,</span>&nbsp;<span class="string" id="8125246">&#34;__DATA&#34;</span><span class="op" id="8125254">,</span>&nbsp;<span class="num" id="8125256">0x100001000</span><span class="op" id="8125267">,</span>&nbsp;<span class="num" id="8125269">0x1000</span><span class="op" id="8125275">,</span>&nbsp;<span class="num" id="8125277">0x0</span><span class="op" id="8125280">,</span>&nbsp;<span class="num" id="8125282">0x0</span><span class="op" id="8125285">,</span>&nbsp;<span class="num" id="8125287">0x7</span><span class="op" id="8125290">,</span>&nbsp;<span class="num" id="8125292">0x3</span><span class="op" id="8125295">,</span>&nbsp;<span class="num" id="8125297">0x3</span><span class="op" id="8125300">,</span>&nbsp;<span class="num" id="8125302">0x0</span><span class="op" id="8125305">}</span><span class="op" id="8125306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125311">{</span><span class="ident" id="8125312">LoadCmdSegment64</span><span class="op" id="8125328">,</span>&nbsp;<span class="num" id="8125330">0x278</span><span class="op" id="8125335">,</span>&nbsp;<span class="string" id="8125337">&#34;__DWARF&#34;</span><span class="op" id="8125346">,</span>&nbsp;<span class="num" id="8125348">0x100002000</span><span class="op" id="8125359">,</span>&nbsp;<span class="num" id="8125361">0x1000</span><span class="op" id="8125367">,</span>&nbsp;<span class="num" id="8125369">0x1000</span><span class="op" id="8125375">,</span>&nbsp;<span class="num" id="8125377">0x1bc</span><span class="op" id="8125382">,</span>&nbsp;<span class="num" id="8125384">0x7</span><span class="op" id="8125387">,</span>&nbsp;<span class="num" id="8125389">0x3</span><span class="op" id="8125392">,</span>&nbsp;<span class="num" id="8125394">0x7</span><span class="op" id="8125397">,</span>&nbsp;<span class="num" id="8125399">0x0</span><span class="op" id="8125402">}</span><span class="op" id="8125403">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125407">}</span><span class="op" id="8125408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125412">[</span><span class="op" id="8125413">]</span><span class="op" id="8125414">*</span><span class="ident" id="8125415">SectionHeader</span><span class="op" id="8125428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125433">{</span><span class="string" id="8125434">&#34;__text&#34;</span><span class="op" id="8125442">,</span>&nbsp;<span class="string" id="8125444">&#34;__TEXT&#34;</span><span class="op" id="8125452">,</span>&nbsp;<span class="num" id="8125454">0x100000f14</span><span class="op" id="8125465">,</span>&nbsp;<span class="num" id="8125467">0x0</span><span class="op" id="8125470">,</span>&nbsp;<span class="num" id="8125472">0x0</span><span class="op" id="8125475">,</span>&nbsp;<span class="num" id="8125477">0x2</span><span class="op" id="8125480">,</span>&nbsp;<span class="num" id="8125482">0x0</span><span class="op" id="8125485">,</span>&nbsp;<span class="num" id="8125487">0x0</span><span class="op" id="8125490">,</span>&nbsp;<span class="num" id="8125492">0x80000400</span><span class="op" id="8125502">}</span><span class="op" id="8125503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125508">{</span><span class="string" id="8125509">&#34;__symbol_stub1&#34;</span><span class="op" id="8125525">,</span>&nbsp;<span class="string" id="8125527">&#34;__TEXT&#34;</span><span class="op" id="8125535">,</span>&nbsp;<span class="num" id="8125537">0x100000f81</span><span class="op" id="8125548">,</span>&nbsp;<span class="num" id="8125550">0x0</span><span class="op" id="8125553">,</span>&nbsp;<span class="num" id="8125555">0x0</span><span class="op" id="8125558">,</span>&nbsp;<span class="num" id="8125560">0x0</span><span class="op" id="8125563">,</span>&nbsp;<span class="num" id="8125565">0x0</span><span class="op" id="8125568">,</span>&nbsp;<span class="num" id="8125570">0x0</span><span class="op" id="8125573">,</span>&nbsp;<span class="num" id="8125575">0x80000408</span><span class="op" id="8125585">}</span><span class="op" id="8125586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125591">{</span><span class="string" id="8125592">&#34;__stub_helper&#34;</span><span class="op" id="8125607">,</span>&nbsp;<span class="string" id="8125609">&#34;__TEXT&#34;</span><span class="op" id="8125617">,</span>&nbsp;<span class="num" id="8125619">0x100000f90</span><span class="op" id="8125630">,</span>&nbsp;<span class="num" id="8125632">0x0</span><span class="op" id="8125635">,</span>&nbsp;<span class="num" id="8125637">0x0</span><span class="op" id="8125640">,</span>&nbsp;<span class="num" id="8125642">0x2</span><span class="op" id="8125645">,</span>&nbsp;<span class="num" id="8125647">0x0</span><span class="op" id="8125650">,</span>&nbsp;<span class="num" id="8125652">0x0</span><span class="op" id="8125655">,</span>&nbsp;<span class="num" id="8125657">0x0</span><span class="op" id="8125660">}</span><span class="op" id="8125661">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125666">{</span><span class="string" id="8125667">&#34;__cstring&#34;</span><span class="op" id="8125678">,</span>&nbsp;<span class="string" id="8125680">&#34;__TEXT&#34;</span><span class="op" id="8125688">,</span>&nbsp;<span class="num" id="8125690">0x100000fa8</span><span class="op" id="8125701">,</span>&nbsp;<span class="num" id="8125703">0x0</span><span class="op" id="8125706">,</span>&nbsp;<span class="num" id="8125708">0x0</span><span class="op" id="8125711">,</span>&nbsp;<span class="num" id="8125713">0x0</span><span class="op" id="8125716">,</span>&nbsp;<span class="num" id="8125718">0x0</span><span class="op" id="8125721">,</span>&nbsp;<span class="num" id="8125723">0x0</span><span class="op" id="8125726">,</span>&nbsp;<span class="num" id="8125728">0x2</span><span class="op" id="8125731">}</span><span class="op" id="8125732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125737">{</span><span class="string" id="8125738">&#34;__eh_frame&#34;</span><span class="op" id="8125750">,</span>&nbsp;<span class="string" id="8125752">&#34;__TEXT&#34;</span><span class="op" id="8125760">,</span>&nbsp;<span class="num" id="8125762">0x100000fb8</span><span class="op" id="8125773">,</span>&nbsp;<span class="num" id="8125775">0x0</span><span class="op" id="8125778">,</span>&nbsp;<span class="num" id="8125780">0x0</span><span class="op" id="8125783">,</span>&nbsp;<span class="num" id="8125785">0x3</span><span class="op" id="8125788">,</span>&nbsp;<span class="num" id="8125790">0x0</span><span class="op" id="8125793">,</span>&nbsp;<span class="num" id="8125795">0x0</span><span class="op" id="8125798">,</span>&nbsp;<span class="num" id="8125800">0x6000000b</span><span class="op" id="8125810">}</span><span class="op" id="8125811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125816">{</span><span class="string" id="8125817">&#34;__data&#34;</span><span class="op" id="8125825">,</span>&nbsp;<span class="string" id="8125827">&#34;__DATA&#34;</span><span class="op" id="8125835">,</span>&nbsp;<span class="num" id="8125837">0x100001000</span><span class="op" id="8125848">,</span>&nbsp;<span class="num" id="8125850">0x0</span><span class="op" id="8125853">,</span>&nbsp;<span class="num" id="8125855">0x0</span><span class="op" id="8125858">,</span>&nbsp;<span class="num" id="8125860">0x3</span><span class="op" id="8125863">,</span>&nbsp;<span class="num" id="8125865">0x0</span><span class="op" id="8125868">,</span>&nbsp;<span class="num" id="8125870">0x0</span><span class="op" id="8125873">,</span>&nbsp;<span class="num" id="8125875">0x0</span><span class="op" id="8125878">}</span><span class="op" id="8125879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125884">{</span><span class="string" id="8125885">&#34;__dyld&#34;</span><span class="op" id="8125893">,</span>&nbsp;<span class="string" id="8125895">&#34;__DATA&#34;</span><span class="op" id="8125903">,</span>&nbsp;<span class="num" id="8125905">0x100001020</span><span class="op" id="8125916">,</span>&nbsp;<span class="num" id="8125918">0x0</span><span class="op" id="8125921">,</span>&nbsp;<span class="num" id="8125923">0x0</span><span class="op" id="8125926">,</span>&nbsp;<span class="num" id="8125928">0x3</span><span class="op" id="8125931">,</span>&nbsp;<span class="num" id="8125933">0x0</span><span class="op" id="8125936">,</span>&nbsp;<span class="num" id="8125938">0x0</span><span class="op" id="8125941">,</span>&nbsp;<span class="num" id="8125943">0x0</span><span class="op" id="8125946">}</span><span class="op" id="8125947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125952">{</span><span class="string" id="8125953">&#34;__la_symbol_ptr&#34;</span><span class="op" id="8125970">,</span>&nbsp;<span class="string" id="8125972">&#34;__DATA&#34;</span><span class="op" id="8125980">,</span>&nbsp;<span class="num" id="8125982">0x100001058</span><span class="op" id="8125993">,</span>&nbsp;<span class="num" id="8125995">0x0</span><span class="op" id="8125998">,</span>&nbsp;<span class="num" id="8126000">0x0</span><span class="op" id="8126003">,</span>&nbsp;<span class="num" id="8126005">0x2</span><span class="op" id="8126008">,</span>&nbsp;<span class="num" id="8126010">0x0</span><span class="op" id="8126013">,</span>&nbsp;<span class="num" id="8126015">0x0</span><span class="op" id="8126018">,</span>&nbsp;<span class="num" id="8126020">0x7</span><span class="op" id="8126023">}</span><span class="op" id="8126024">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126029">{</span><span class="string" id="8126030">&#34;__debug_abbrev&#34;</span><span class="op" id="8126046">,</span>&nbsp;<span class="string" id="8126048">&#34;__DWARF&#34;</span><span class="op" id="8126057">,</span>&nbsp;<span class="num" id="8126059">0x100002000</span><span class="op" id="8126070">,</span>&nbsp;<span class="num" id="8126072">0x36</span><span class="op" id="8126076">,</span>&nbsp;<span class="num" id="8126078">0x1000</span><span class="op" id="8126084">,</span>&nbsp;<span class="num" id="8126086">0x0</span><span class="op" id="8126089">,</span>&nbsp;<span class="num" id="8126091">0x0</span><span class="op" id="8126094">,</span>&nbsp;<span class="num" id="8126096">0x0</span><span class="op" id="8126099">,</span>&nbsp;<span class="num" id="8126101">0x0</span><span class="op" id="8126104">}</span><span class="op" id="8126105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126110">{</span><span class="string" id="8126111">&#34;__debug_aranges&#34;</span><span class="op" id="8126128">,</span>&nbsp;<span class="string" id="8126130">&#34;__DWARF&#34;</span><span class="op" id="8126139">,</span>&nbsp;<span class="num" id="8126141">0x100002036</span><span class="op" id="8126152">,</span>&nbsp;<span class="num" id="8126154">0x30</span><span class="op" id="8126158">,</span>&nbsp;<span class="num" id="8126160">0x1036</span><span class="op" id="8126166">,</span>&nbsp;<span class="num" id="8126168">0x0</span><span class="op" id="8126171">,</span>&nbsp;<span class="num" id="8126173">0x0</span><span class="op" id="8126176">,</span>&nbsp;<span class="num" id="8126178">0x0</span><span class="op" id="8126181">,</span>&nbsp;<span class="num" id="8126183">0x0</span><span class="op" id="8126186">}</span><span class="op" id="8126187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126192">{</span><span class="string" id="8126193">&#34;__debug_frame&#34;</span><span class="op" id="8126208">,</span>&nbsp;<span class="string" id="8126210">&#34;__DWARF&#34;</span><span class="op" id="8126219">,</span>&nbsp;<span class="num" id="8126221">0x100002066</span><span class="op" id="8126232">,</span>&nbsp;<span class="num" id="8126234">0x40</span><span class="op" id="8126238">,</span>&nbsp;<span class="num" id="8126240">0x1066</span><span class="op" id="8126246">,</span>&nbsp;<span class="num" id="8126248">0x0</span><span class="op" id="8126251">,</span>&nbsp;<span class="num" id="8126253">0x0</span><span class="op" id="8126256">,</span>&nbsp;<span class="num" id="8126258">0x0</span><span class="op" id="8126261">,</span>&nbsp;<span class="num" id="8126263">0x0</span><span class="op" id="8126266">}</span><span class="op" id="8126267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126272">{</span><span class="string" id="8126273">&#34;__debug_info&#34;</span><span class="op" id="8126287">,</span>&nbsp;<span class="string" id="8126289">&#34;__DWARF&#34;</span><span class="op" id="8126298">,</span>&nbsp;<span class="num" id="8126300">0x1000020a6</span><span class="op" id="8126311">,</span>&nbsp;<span class="num" id="8126313">0x54</span><span class="op" id="8126317">,</span>&nbsp;<span class="num" id="8126319">0x10a6</span><span class="op" id="8126325">,</span>&nbsp;<span class="num" id="8126327">0x0</span><span class="op" id="8126330">,</span>&nbsp;<span class="num" id="8126332">0x0</span><span class="op" id="8126335">,</span>&nbsp;<span class="num" id="8126337">0x0</span><span class="op" id="8126340">,</span>&nbsp;<span class="num" id="8126342">0x0</span><span class="op" id="8126345">}</span><span class="op" id="8126346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126351">{</span><span class="string" id="8126352">&#34;__debug_line&#34;</span><span class="op" id="8126366">,</span>&nbsp;<span class="string" id="8126368">&#34;__DWARF&#34;</span><span class="op" id="8126377">,</span>&nbsp;<span class="num" id="8126379">0x1000020fa</span><span class="op" id="8126390">,</span>&nbsp;<span class="num" id="8126392">0x47</span><span class="op" id="8126396">,</span>&nbsp;<span class="num" id="8126398">0x10fa</span><span class="op" id="8126404">,</span>&nbsp;<span class="num" id="8126406">0x0</span><span class="op" id="8126409">,</span>&nbsp;<span class="num" id="8126411">0x0</span><span class="op" id="8126414">,</span>&nbsp;<span class="num" id="8126416">0x0</span><span class="op" id="8126419">,</span>&nbsp;<span class="num" id="8126421">0x0</span><span class="op" id="8126424">}</span><span class="op" id="8126425">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126430">{</span><span class="string" id="8126431">&#34;__debug_pubnames&#34;</span><span class="op" id="8126449">,</span>&nbsp;<span class="string" id="8126451">&#34;__DWARF&#34;</span><span class="op" id="8126460">,</span>&nbsp;<span class="num" id="8126462">0x100002141</span><span class="op" id="8126473">,</span>&nbsp;<span class="num" id="8126475">0x1b</span><span class="op" id="8126479">,</span>&nbsp;<span class="num" id="8126481">0x1141</span><span class="op" id="8126487">,</span>&nbsp;<span class="num" id="8126489">0x0</span><span class="op" id="8126492">,</span>&nbsp;<span class="num" id="8126494">0x0</span><span class="op" id="8126497">,</span>&nbsp;<span class="num" id="8126499">0x0</span><span class="op" id="8126502">,</span>&nbsp;<span class="num" id="8126504">0x0</span><span class="op" id="8126507">}</span><span class="op" id="8126508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126513">{</span><span class="string" id="8126514">&#34;__debug_str&#34;</span><span class="op" id="8126527">,</span>&nbsp;<span class="string" id="8126529">&#34;__DWARF&#34;</span><span class="op" id="8126538">,</span>&nbsp;<span class="num" id="8126540">0x10000215c</span><span class="op" id="8126551">,</span>&nbsp;<span class="num" id="8126553">0x60</span><span class="op" id="8126557">,</span>&nbsp;<span class="num" id="8126559">0x115c</span><span class="op" id="8126565">,</span>&nbsp;<span class="num" id="8126567">0x0</span><span class="op" id="8126570">,</span>&nbsp;<span class="num" id="8126572">0x0</span><span class="op" id="8126575">,</span>&nbsp;<span class="num" id="8126577">0x0</span><span class="op" id="8126580">,</span>&nbsp;<span class="num" id="8126582">0x0</span><span class="op" id="8126585">}</span><span class="op" id="8126586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126590">}</span><span class="op" id="8126591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126594">}</span><span class="op" id="8126595">,</span><br>
<span class="lineno"></span><span class="op" id="8126597">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="8126600">func</span>&nbsp;<span class="ident" id="8126605">TestOpen</span><span class="op" id="8126613">(</span><span class="ident" id="8126614">t</span>&nbsp;<span class="op" id="8126616">*</span><span class="ident" id="8126617">testing</span><span class="op" id="8126624">.</span><span class="ident" id="8126625">T</span><span class="op" id="8126626">)</span>&nbsp;<span class="op" id="8126628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126631">for</span>&nbsp;<span class="ident" id="8126635">i</span>&nbsp;<span class="op" id="8126637">:=</span>&nbsp;<span class="keyword" id="8126640">range</span>&nbsp;<span class="ident" id="8126646">fileTests</span>&nbsp;<span class="op" id="8126656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126660">tt</span>&nbsp;<span class="op" id="8126663">:=</span>&nbsp;<span class="op" id="8126666">&amp;</span><span class="ident" id="8126667">fileTests</span><span class="op" id="8126676">[</span><span class="ident" id="8126677">i</span><span class="op" id="8126678">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126683">f</span><span class="op" id="8126684">,</span>&nbsp;<span class="ident" id="8126686">err</span>&nbsp;<span class="op" id="8126690">:=</span>&nbsp;<span class="ident" id="8126693">Open</span><span class="op" id="8126697">(</span><span class="ident" id="8126698">tt</span><span class="op" id="8126700">.</span><span class="ident" id="8126701">file</span><span class="op" id="8126705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126709">if</span>&nbsp;<span class="ident" id="8126712">err</span>&nbsp;<span class="op" id="8126716">!=</span>&nbsp;<span class="ident" id="8126719">nil</span>&nbsp;<span class="op" id="8126723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126728">t</span><span class="op" id="8126729">.</span><span class="ident" id="8126730">Error</span><span class="op" id="8126735">(</span><span class="ident" id="8126736">err</span><span class="op" id="8126739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126744">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126755">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126759">if</span>&nbsp;<span class="op" id="8126762">!</span><span class="ident" id="8126763">reflect</span><span class="op" id="8126770">.</span><span class="ident" id="8126771">DeepEqual</span><span class="op" id="8126780">(</span><span class="ident" id="8126781">f</span><span class="op" id="8126782">.</span><span class="ident" id="8126783">FileHeader</span><span class="op" id="8126793">,</span>&nbsp;<span class="ident" id="8126795">tt</span><span class="op" id="8126797">.</span><span class="ident" id="8126798">hdr</span><span class="op" id="8126801">)</span>&nbsp;<span class="op" id="8126803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126808">t</span><span class="op" id="8126809">.</span><span class="ident" id="8126810">Errorf</span><span class="op" id="8126816">(</span><span class="string" id="8126817">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8126853">,</span>&nbsp;<span class="ident" id="8126855">tt</span><span class="op" id="8126857">.</span><span class="ident" id="8126858">file</span><span class="op" id="8126862">,</span>&nbsp;<span class="ident" id="8126864">f</span><span class="op" id="8126865">.</span><span class="ident" id="8126866">FileHeader</span><span class="op" id="8126876">,</span>&nbsp;<span class="ident" id="8126878">tt</span><span class="op" id="8126880">.</span><span class="ident" id="8126881">hdr</span><span class="op" id="8126884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126889">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126904">for</span>&nbsp;<span class="ident" id="8126908">i</span><span class="op" id="8126909">,</span>&nbsp;<span class="ident" id="8126911">l</span>&nbsp;<span class="op" id="8126913">:=</span>&nbsp;<span class="keyword" id="8126916">range</span>&nbsp;<span class="ident" id="8126922">f</span><span class="op" id="8126923">.</span><span class="ident" id="8126924">Loads</span>&nbsp;<span class="op" id="8126930">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126935">if</span>&nbsp;<span class="ident" id="8126938">i</span>&nbsp;<span class="op" id="8126940">&gt;=</span>&nbsp;<span class="builtinfunc" id="8126943">len</span><span class="op" id="8126946">(</span><span class="ident" id="8126947">tt</span><span class="op" id="8126949">.</span><span class="ident" id="8126950">segments</span><span class="op" id="8126958">)</span>&nbsp;<span class="op" id="8126960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126966">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126980">sh</span>&nbsp;<span class="op" id="8126983">:=</span>&nbsp;<span class="ident" id="8126986">tt</span><span class="op" id="8126988">.</span><span class="ident" id="8126989">segments</span><span class="op" id="8126997">[</span><span class="ident" id="8126998">i</span><span class="op" id="8126999">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127004">s</span><span class="op" id="8127005">,</span>&nbsp;<span class="ident" id="8127007">ok</span>&nbsp;<span class="op" id="8127010">:=</span>&nbsp;<span class="ident" id="8127013">l</span><span class="op" id="8127014">.</span><span class="op" id="8127015">(</span><span class="op" id="8127016">*</span><span class="ident" id="8127017">Segment</span><span class="op" id="8127024">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127029">if</span>&nbsp;<span class="ident" id="8127032">sh</span>&nbsp;<span class="op" id="8127035">==</span>&nbsp;<span class="ident" id="8127038">nil</span>&nbsp;<span class="op" id="8127042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127048">if</span>&nbsp;<span class="ident" id="8127051">ok</span>&nbsp;<span class="op" id="8127054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127061">t</span><span class="op" id="8127062">.</span><span class="ident" id="8127063">Errorf</span><span class="op" id="8127069">(</span><span class="string" id="8127070">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;skipping&nbsp;%#v\n&#34;</span><span class="op" id="8127107">,</span>&nbsp;<span class="ident" id="8127109">tt</span><span class="op" id="8127111">.</span><span class="ident" id="8127112">file</span><span class="op" id="8127116">,</span>&nbsp;<span class="ident" id="8127118">i</span><span class="op" id="8127119">,</span>&nbsp;<span class="op" id="8127121">&amp;</span><span class="ident" id="8127122">s</span><span class="op" id="8127123">.</span><span class="ident" id="8127124">SegmentHeader</span><span class="op" id="8127137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127149">continue</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127166">if</span>&nbsp;<span class="op" id="8127169">!</span><span class="ident" id="8127170">ok</span>&nbsp;<span class="op" id="8127173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127179">t</span><span class="op" id="8127180">.</span><span class="ident" id="8127181">Errorf</span><span class="op" id="8127187">(</span><span class="string" id="8127188">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;not&nbsp;*Segment\n&#34;</span><span class="op" id="8127225">,</span>&nbsp;<span class="ident" id="8127227">tt</span><span class="op" id="8127229">.</span><span class="ident" id="8127230">file</span><span class="op" id="8127234">,</span>&nbsp;<span class="ident" id="8127236">i</span><span class="op" id="8127237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127243">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127255">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127260">have</span>&nbsp;<span class="op" id="8127265">:=</span>&nbsp;<span class="op" id="8127268">&amp;</span><span class="ident" id="8127269">s</span><span class="op" id="8127270">.</span><span class="ident" id="8127271">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127288">want</span>&nbsp;<span class="op" id="8127293">:=</span>&nbsp;<span class="ident" id="8127296">sh</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127302">if</span>&nbsp;<span class="op" id="8127305">!</span><span class="ident" id="8127306">reflect</span><span class="op" id="8127313">.</span><span class="ident" id="8127314">DeepEqual</span><span class="op" id="8127323">(</span><span class="ident" id="8127324">have</span><span class="op" id="8127328">,</span>&nbsp;<span class="ident" id="8127330">want</span><span class="op" id="8127334">)</span>&nbsp;<span class="op" id="8127336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127342">t</span><span class="op" id="8127343">.</span><span class="ident" id="8127344">Errorf</span><span class="op" id="8127350">(</span><span class="string" id="8127351">&#34;open&nbsp;%s,&nbsp;segment&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8127399">,</span>&nbsp;<span class="ident" id="8127401">tt</span><span class="op" id="8127403">.</span><span class="ident" id="8127404">file</span><span class="op" id="8127408">,</span>&nbsp;<span class="ident" id="8127410">i</span><span class="op" id="8127411">,</span>&nbsp;<span class="ident" id="8127413">have</span><span class="op" id="8127417">,</span>&nbsp;<span class="ident" id="8127419">want</span><span class="op" id="8127423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127428">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127436">tn</span>&nbsp;<span class="op" id="8127439">:=</span>&nbsp;<span class="builtinfunc" id="8127442">len</span><span class="op" id="8127445">(</span><span class="ident" id="8127446">tt</span><span class="op" id="8127448">.</span><span class="ident" id="8127449">segments</span><span class="op" id="8127457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127461">fn</span>&nbsp;<span class="op" id="8127464">:=</span>&nbsp;<span class="builtinfunc" id="8127467">len</span><span class="op" id="8127470">(</span><span class="ident" id="8127471">f</span><span class="op" id="8127472">.</span><span class="ident" id="8127473">Loads</span><span class="op" id="8127478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127482">if</span>&nbsp;<span class="ident" id="8127485">tn</span>&nbsp;<span class="op" id="8127488">!=</span>&nbsp;<span class="ident" id="8127491">fn</span>&nbsp;<span class="op" id="8127494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127499">t</span><span class="op" id="8127500">.</span><span class="ident" id="8127501">Errorf</span><span class="op" id="8127507">(</span><span class="string" id="8127508">&#34;open&nbsp;%s:&nbsp;len(Loads)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8127543">,</span>&nbsp;<span class="ident" id="8127545">tt</span><span class="op" id="8127547">.</span><span class="ident" id="8127548">file</span><span class="op" id="8127552">,</span>&nbsp;<span class="ident" id="8127554">fn</span><span class="op" id="8127556">,</span>&nbsp;<span class="ident" id="8127558">tn</span><span class="op" id="8127560">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127569">for</span>&nbsp;<span class="ident" id="8127573">i</span><span class="op" id="8127574">,</span>&nbsp;<span class="ident" id="8127576">sh</span>&nbsp;<span class="op" id="8127579">:=</span>&nbsp;<span class="keyword" id="8127582">range</span>&nbsp;<span class="ident" id="8127588">f</span><span class="op" id="8127589">.</span><span class="ident" id="8127590">Sections</span>&nbsp;<span class="op" id="8127599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127604">if</span>&nbsp;<span class="ident" id="8127607">i</span>&nbsp;<span class="op" id="8127609">&gt;=</span>&nbsp;<span class="builtinfunc" id="8127612">len</span><span class="op" id="8127615">(</span><span class="ident" id="8127616">tt</span><span class="op" id="8127618">.</span><span class="ident" id="8127619">sections</span><span class="op" id="8127627">)</span>&nbsp;<span class="op" id="8127629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127635">break</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127649">have</span>&nbsp;<span class="op" id="8127654">:=</span>&nbsp;<span class="op" id="8127657">&amp;</span><span class="ident" id="8127658">sh</span><span class="op" id="8127660">.</span><span class="ident" id="8127661">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127678">want</span>&nbsp;<span class="op" id="8127683">:=</span>&nbsp;<span class="ident" id="8127686">tt</span><span class="op" id="8127688">.</span><span class="ident" id="8127689">sections</span><span class="op" id="8127697">[</span><span class="ident" id="8127698">i</span><span class="op" id="8127699">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127704">if</span>&nbsp;<span class="op" id="8127707">!</span><span class="ident" id="8127708">reflect</span><span class="op" id="8127715">.</span><span class="ident" id="8127716">DeepEqual</span><span class="op" id="8127725">(</span><span class="ident" id="8127726">have</span><span class="op" id="8127730">,</span>&nbsp;<span class="ident" id="8127732">want</span><span class="op" id="8127736">)</span>&nbsp;<span class="op" id="8127738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127744">t</span><span class="op" id="8127745">.</span><span class="ident" id="8127746">Errorf</span><span class="op" id="8127752">(</span><span class="string" id="8127753">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8127801">,</span>&nbsp;<span class="ident" id="8127803">tt</span><span class="op" id="8127805">.</span><span class="ident" id="8127806">file</span><span class="op" id="8127810">,</span>&nbsp;<span class="ident" id="8127812">i</span><span class="op" id="8127813">,</span>&nbsp;<span class="ident" id="8127815">have</span><span class="op" id="8127819">,</span>&nbsp;<span class="ident" id="8127821">want</span><span class="op" id="8127825">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127838">tn</span>&nbsp;<span class="op" id="8127841">=</span>&nbsp;<span class="builtinfunc" id="8127843">len</span><span class="op" id="8127846">(</span><span class="ident" id="8127847">tt</span><span class="op" id="8127849">.</span><span class="ident" id="8127850">sections</span><span class="op" id="8127858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127862">fn</span>&nbsp;<span class="op" id="8127865">=</span>&nbsp;<span class="builtinfunc" id="8127867">len</span><span class="op" id="8127870">(</span><span class="ident" id="8127871">f</span><span class="op" id="8127872">.</span><span class="ident" id="8127873">Sections</span><span class="op" id="8127881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8127885">if</span>&nbsp;<span class="ident" id="8127888">tn</span>&nbsp;<span class="op" id="8127891">!=</span>&nbsp;<span class="ident" id="8127894">fn</span>&nbsp;<span class="op" id="8127897">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127902">t</span><span class="op" id="8127903">.</span><span class="ident" id="8127904">Errorf</span><span class="op" id="8127910">(</span><span class="string" id="8127911">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8127949">,</span>&nbsp;<span class="ident" id="8127951">tt</span><span class="op" id="8127953">.</span><span class="ident" id="8127954">file</span><span class="op" id="8127958">,</span>&nbsp;<span class="ident" id="8127960">fn</span><span class="op" id="8127962">,</span>&nbsp;<span class="ident" id="8127964">tn</span><span class="op" id="8127966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127974">}</span><br>
<span class="lineno"></span><span class="op" id="8127976">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="keyword" id="8127979">func</span>&nbsp;<span class="ident" id="8127984">TestOpenFailure</span><span class="op" id="8127999">(</span><span class="ident" id="8128000">t</span>&nbsp;<span class="op" id="8128002">*</span><span class="ident" id="8128003">testing</span><span class="op" id="8128010">.</span><span class="ident" id="8128011">T</span><span class="op" id="8128012">)</span>&nbsp;<span class="op" id="8128014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128017">filename</span>&nbsp;<span class="op" id="8128026">:=</span>&nbsp;<span class="string" id="8128029">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8128042">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128064">_</span><span class="op" id="8128065">,</span>&nbsp;<span class="ident" id="8128067">err</span>&nbsp;<span class="op" id="8128071">:=</span>&nbsp;<span class="ident" id="8128074">Open</span><span class="op" id="8128078">(</span><span class="ident" id="8128079">filename</span><span class="op" id="8128087">)</span>&nbsp;<span class="comment" id="8128089">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128105">if</span>&nbsp;<span class="ident" id="8128108">err</span>&nbsp;<span class="op" id="8128112">==</span>&nbsp;<span class="ident" id="8128115">nil</span>&nbsp;<span class="op" id="8128119">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128123">t</span><span class="op" id="8128124">.</span><span class="ident" id="8128125">Errorf</span><span class="op" id="8128131">(</span><span class="string" id="8128132">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="8128165">,</span>&nbsp;<span class="ident" id="8128167">filename</span><span class="op" id="8128175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128178">}</span><br>
<span class="lineno"></span><span class="op" id="8128180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8128183">func</span>&nbsp;<span class="ident" id="8128188">TestOpenFat</span><span class="op" id="8128199">(</span><span class="ident" id="8128200">t</span>&nbsp;<span class="op" id="8128202">*</span><span class="ident" id="8128203">testing</span><span class="op" id="8128210">.</span><span class="ident" id="8128211">T</span><span class="op" id="8128212">)</span>&nbsp;<span class="op" id="8128214">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128217">ff</span><span class="op" id="8128219">,</span>&nbsp;<span class="ident" id="8128221">err</span>&nbsp;<span class="op" id="8128225">:=</span>&nbsp;<span class="ident" id="8128228">OpenFat</span><span class="op" id="8128235">(</span><span class="string" id="8128236">&#34;testdata/fat-gcc-386-amd64-darwin-exec&#34;</span><span class="op" id="8128276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128279">if</span>&nbsp;<span class="ident" id="8128282">err</span>&nbsp;<span class="op" id="8128286">!=</span>&nbsp;<span class="ident" id="8128289">nil</span>&nbsp;<span class="op" id="8128293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128297">t</span><span class="op" id="8128298">.</span><span class="ident" id="8128299">Fatal</span><span class="op" id="8128304">(</span><span class="ident" id="8128305">err</span><span class="op" id="8128308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128315">if</span>&nbsp;<span class="ident" id="8128318">ff</span><span class="op" id="8128320">.</span><span class="ident" id="8128321">Magic</span>&nbsp;<span class="op" id="8128327">!=</span>&nbsp;<span class="ident" id="8128330">MagicFat</span>&nbsp;<span class="op" id="8128339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128343">t</span><span class="op" id="8128344">.</span><span class="ident" id="8128345">Errorf</span><span class="op" id="8128351">(</span><span class="string" id="8128352">&#34;OpenFat:&nbsp;got&nbsp;magic&nbsp;number&nbsp;%#x,&nbsp;want&nbsp;%#x&#34;</span><span class="op" id="8128393">,</span>&nbsp;<span class="ident" id="8128395">ff</span><span class="op" id="8128397">.</span><span class="ident" id="8128398">Magic</span><span class="op" id="8128403">,</span>&nbsp;<span class="ident" id="8128405">MagicFat</span><span class="op" id="8128413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128419">if</span>&nbsp;<span class="builtinfunc" id="8128422">len</span><span class="op" id="8128425">(</span><span class="ident" id="8128426">ff</span><span class="op" id="8128428">.</span><span class="ident" id="8128429">Arches</span><span class="op" id="8128435">)</span>&nbsp;<span class="op" id="8128437">!=</span>&nbsp;<span class="num" id="8128440">2</span>&nbsp;<span class="op" id="8128442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128446">t</span><span class="op" id="8128447">.</span><span class="ident" id="8128448">Errorf</span><span class="op" id="8128454">(</span><span class="string" id="8128455">&#34;OpenFat:&nbsp;got&nbsp;%d&nbsp;architectures,&nbsp;want&nbsp;2&#34;</span><span class="op" id="8128494">,</span>&nbsp;<span class="builtinfunc" id="8128496">len</span><span class="op" id="8128499">(</span><span class="ident" id="8128500">ff</span><span class="op" id="8128502">.</span><span class="ident" id="8128503">Arches</span><span class="op" id="8128509">)</span><span class="op" id="8128510">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128517">for</span>&nbsp;<span class="ident" id="8128521">i</span>&nbsp;<span class="op" id="8128523">:=</span>&nbsp;<span class="keyword" id="8128526">range</span>&nbsp;<span class="ident" id="8128532">ff</span><span class="op" id="8128534">.</span><span class="ident" id="8128535">Arches</span>&nbsp;<span class="op" id="8128542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128546">arch</span>&nbsp;<span class="op" id="8128551">:=</span>&nbsp;<span class="op" id="8128554">&amp;</span><span class="ident" id="8128555">ff</span><span class="op" id="8128557">.</span><span class="ident" id="8128558">Arches</span><span class="op" id="8128564">[</span><span class="ident" id="8128565">i</span><span class="op" id="8128566">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128570">ftArch</span>&nbsp;<span class="op" id="8128577">:=</span>&nbsp;<span class="op" id="8128580">&amp;</span><span class="ident" id="8128581">fileTests</span><span class="op" id="8128590">[</span><span class="ident" id="8128591">i</span><span class="op" id="8128592">]</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128597">if</span>&nbsp;<span class="ident" id="8128600">arch</span><span class="op" id="8128604">.</span><span class="ident" id="8128605">Cpu</span>&nbsp;<span class="op" id="8128609">!=</span>&nbsp;<span class="ident" id="8128612">ftArch</span><span class="op" id="8128618">.</span><span class="ident" id="8128619">hdr</span><span class="op" id="8128622">.</span><span class="ident" id="8128623">Cpu</span>&nbsp;<span class="op" id="8128627">||</span>&nbsp;<span class="ident" id="8128630">arch</span><span class="op" id="8128634">.</span><span class="ident" id="8128635">SubCpu</span>&nbsp;<span class="op" id="8128642">!=</span>&nbsp;<span class="ident" id="8128645">ftArch</span><span class="op" id="8128651">.</span><span class="ident" id="8128652">hdr</span><span class="op" id="8128655">.</span><span class="ident" id="8128656">SubCpu</span>&nbsp;<span class="op" id="8128663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128668">t</span><span class="op" id="8128669">.</span><span class="ident" id="8128670">Errorf</span><span class="op" id="8128676">(</span><span class="string" id="8128677">&#34;OpenFat:&nbsp;architecture&nbsp;#%d&nbsp;got&nbsp;cpu=%#x&nbsp;subtype=%#x,&nbsp;expected&nbsp;cpu=%#x,&nbsp;subtype=%#x&#34;</span><span class="op" id="8128759">,</span>&nbsp;<span class="ident" id="8128761">i</span><span class="op" id="8128762">,</span>&nbsp;<span class="ident" id="8128764">arch</span><span class="op" id="8128768">.</span><span class="ident" id="8128769">Cpu</span><span class="op" id="8128772">,</span>&nbsp;<span class="ident" id="8128774">arch</span><span class="op" id="8128778">.</span><span class="ident" id="8128779">SubCpu</span><span class="op" id="8128785">,</span>&nbsp;<span class="ident" id="8128787">ftArch</span><span class="op" id="8128793">.</span><span class="ident" id="8128794">hdr</span><span class="op" id="8128797">.</span><span class="ident" id="8128798">Cpu</span><span class="op" id="8128801">,</span>&nbsp;<span class="ident" id="8128803">ftArch</span><span class="op" id="8128809">.</span><span class="ident" id="8128810">hdr</span><span class="op" id="8128813">.</span><span class="ident" id="8128814">SubCpu</span><span class="op" id="8128820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8128829">if</span>&nbsp;<span class="op" id="8128832">!</span><span class="ident" id="8128833">reflect</span><span class="op" id="8128840">.</span><span class="ident" id="8128841">DeepEqual</span><span class="op" id="8128850">(</span><span class="ident" id="8128851">arch</span><span class="op" id="8128855">.</span><span class="ident" id="8128856">FileHeader</span><span class="op" id="8128866">,</span>&nbsp;<span class="ident" id="8128868">ftArch</span><span class="op" id="8128874">.</span><span class="ident" id="8128875">hdr</span><span class="op" id="8128878">)</span>&nbsp;<span class="op" id="8128880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128885">t</span><span class="op" id="8128886">.</span><span class="ident" id="8128887">Errorf</span><span class="op" id="8128893">(</span><span class="string" id="8128894">&#34;OpenFat&nbsp;header:\n\tgot&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8128936">,</span>&nbsp;<span class="ident" id="8128938">arch</span><span class="op" id="8128942">.</span><span class="ident" id="8128943">FileHeader</span><span class="op" id="8128953">,</span>&nbsp;<span class="ident" id="8128955">ftArch</span><span class="op" id="8128961">.</span><span class="ident" id="8128962">hdr</span><span class="op" id="8128965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128972">}</span><br>
<span class="lineno"></span><span class="op" id="8128974">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="8128977">func</span>&nbsp;<span class="ident" id="8128982">TestOpenFatFailure</span><span class="op" id="8129000">(</span><span class="ident" id="8129001">t</span>&nbsp;<span class="op" id="8129003">*</span><span class="ident" id="8129004">testing</span><span class="op" id="8129011">.</span><span class="ident" id="8129012">T</span><span class="op" id="8129013">)</span>&nbsp;<span class="op" id="8129015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129018">filename</span>&nbsp;<span class="op" id="8129027">:=</span>&nbsp;<span class="string" id="8129030">&#34;file.go&#34;</span>&nbsp;<span class="comment" id="8129040">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129062">if</span>&nbsp;<span class="ident" id="8129065">_</span><span class="op" id="8129066">,</span>&nbsp;<span class="ident" id="8129068">err</span>&nbsp;<span class="op" id="8129072">:=</span>&nbsp;<span class="ident" id="8129075">OpenFat</span><span class="op" id="8129082">(</span><span class="ident" id="8129083">filename</span><span class="op" id="8129091">)</span><span class="op" id="8129092">;</span>&nbsp;<span class="ident" id="8129094">err</span>&nbsp;<span class="op" id="8129098">==</span>&nbsp;<span class="ident" id="8129101">nil</span>&nbsp;<span class="op" id="8129105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129109">t</span><span class="op" id="8129110">.</span><span class="ident" id="8129111">Errorf</span><span class="op" id="8129117">(</span><span class="string" id="8129118">&#34;OpenFat&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="8129154">,</span>&nbsp;<span class="ident" id="8129156">filename</span><span class="op" id="8129164">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129171">filename</span>&nbsp;<span class="op" id="8129180">=</span>&nbsp;<span class="string" id="8129182">&#34;testdata/gcc-386-darwin-exec&#34;</span>&nbsp;<span class="comment" id="8129213">//&nbsp;not&nbsp;a&nbsp;fat&nbsp;Mach-O</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129234">ff</span><span class="op" id="8129236">,</span>&nbsp;<span class="ident" id="8129238">err</span>&nbsp;<span class="op" id="8129242">:=</span>&nbsp;<span class="ident" id="8129245">OpenFat</span><span class="op" id="8129252">(</span><span class="ident" id="8129253">filename</span><span class="op" id="8129261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129264">if</span>&nbsp;<span class="ident" id="8129267">err</span>&nbsp;<span class="op" id="8129271">!=</span>&nbsp;<span class="ident" id="8129274">ErrNotFat</span>&nbsp;<span class="op" id="8129284">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129288">t</span><span class="op" id="8129289">.</span><span class="ident" id="8129290">Errorf</span><span class="op" id="8129296">(</span><span class="string" id="8129297">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;ErrNotFat&#34;</span><span class="op" id="8129333">,</span>&nbsp;<span class="ident" id="8129335">filename</span><span class="op" id="8129343">,</span>&nbsp;<span class="ident" id="8129345">err</span><span class="op" id="8129348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129354">if</span>&nbsp;<span class="ident" id="8129357">ff</span>&nbsp;<span class="op" id="8129360">!=</span>&nbsp;<span class="ident" id="8129363">nil</span>&nbsp;<span class="op" id="8129367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129371">t</span><span class="op" id="8129372">.</span><span class="ident" id="8129373">Errorf</span><span class="op" id="8129379">(</span><span class="string" id="8129380">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="8129410">,</span>&nbsp;<span class="ident" id="8129412">filename</span><span class="op" id="8129420">,</span>&nbsp;<span class="ident" id="8129422">ff</span><span class="op" id="8129424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129427">}</span><br>
<span class="lineno">210</span><span class="op" id="8129429">}</span>
</div>
</body>
</html>
