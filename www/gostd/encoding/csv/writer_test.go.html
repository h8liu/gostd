<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/csv</h2>
<ul>
<li><a href="/gostd/encoding/csv/reader.go.html">reader.go</a></li>
<li><a href="/gostd/encoding/csv/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/encoding/csv/writer.go.html">writer.go</a></li>
<li><a href="/gostd/encoding/csv/writer_test.go.html" class="current">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7227435">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7227490">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7227544">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7227595">package</span>&nbsp;<span class="ident" id="7227603">csv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7227608">import</span>&nbsp;<span class="op" id="7227615">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7227618">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7227627">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7227637">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7227647">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7227650">var</span>&nbsp;<span class="ident" id="7227654">writeTests</span>&nbsp;<span class="op" id="7227665">=</span>&nbsp;<span class="op" id="7227667">[</span><span class="op" id="7227668">]</span><span class="keyword" id="7227669">struct</span>&nbsp;<span class="op" id="7227676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7227679">Input</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7227687">[</span><span class="op" id="7227688">]</span><span class="op" id="7227689">[</span><span class="op" id="7227690">]</span><span class="builtintype" id="7227691">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7227699">Output</span>&nbsp;&nbsp;<span class="builtintype" id="7227707">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7227715">UseCRLF</span>&nbsp;<span class="builtintype" id="7227723">bool</span><br>
<span class="lineno"></span><span class="op" id="7227728">}</span><span class="op" id="7227729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7227732">{</span><span class="ident" id="7227733">Input</span><span class="op" id="7227738">:</span>&nbsp;<span class="op" id="7227740">[</span><span class="op" id="7227741">]</span><span class="op" id="7227742">[</span><span class="op" id="7227743">]</span><span class="builtintype" id="7227744">string</span><span class="op" id="7227750">{</span><span class="op" id="7227751">{</span><span class="string" id="7227752">&#34;abc&#34;</span><span class="op" id="7227757">}</span><span class="op" id="7227758">}</span><span class="op" id="7227759">,</span>&nbsp;<span class="ident" id="7227761">Output</span><span class="op" id="7227767">:</span>&nbsp;<span class="string" id="7227769">&#34;abc\n&#34;</span><span class="op" id="7227776">}</span><span class="op" id="7227777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7227780">{</span><span class="ident" id="7227781">Input</span><span class="op" id="7227786">:</span>&nbsp;<span class="op" id="7227788">[</span><span class="op" id="7227789">]</span><span class="op" id="7227790">[</span><span class="op" id="7227791">]</span><span class="builtintype" id="7227792">string</span><span class="op" id="7227798">{</span><span class="op" id="7227799">{</span><span class="string" id="7227800">&#34;abc&#34;</span><span class="op" id="7227805">}</span><span class="op" id="7227806">}</span><span class="op" id="7227807">,</span>&nbsp;<span class="ident" id="7227809">Output</span><span class="op" id="7227815">:</span>&nbsp;<span class="string" id="7227817">&#34;abc\r\n&#34;</span><span class="op" id="7227826">,</span>&nbsp;<span class="ident" id="7227828">UseCRLF</span><span class="op" id="7227835">:</span>&nbsp;<span class="builtintype" id="7227837">true</span><span class="op" id="7227841">}</span><span class="op" id="7227842">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7227845">{</span><span class="ident" id="7227846">Input</span><span class="op" id="7227851">:</span>&nbsp;<span class="op" id="7227853">[</span><span class="op" id="7227854">]</span><span class="op" id="7227855">[</span><span class="op" id="7227856">]</span><span class="builtintype" id="7227857">string</span><span class="op" id="7227863">{</span><span class="op" id="7227864">{</span><span class="string" id="7227865">`&#34;abc&#34;`</span><span class="op" id="7227872">}</span><span class="op" id="7227873">}</span><span class="op" id="7227874">,</span>&nbsp;<span class="ident" id="7227876">Output</span><span class="op" id="7227882">:</span>&nbsp;<span class="string" id="7227884">`&#34;&#34;&#34;abc&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7227896">+</span>&nbsp;<span class="string" id="7227898">&#34;\n&#34;</span><span class="op" id="7227902">}</span><span class="op" id="7227903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7227906">{</span><span class="ident" id="7227907">Input</span><span class="op" id="7227912">:</span>&nbsp;<span class="op" id="7227914">[</span><span class="op" id="7227915">]</span><span class="op" id="7227916">[</span><span class="op" id="7227917">]</span><span class="builtintype" id="7227918">string</span><span class="op" id="7227924">{</span><span class="op" id="7227925">{</span><span class="string" id="7227926">`a&#34;b`</span><span class="op" id="7227931">}</span><span class="op" id="7227932">}</span><span class="op" id="7227933">,</span>&nbsp;<span class="ident" id="7227935">Output</span><span class="op" id="7227941">:</span>&nbsp;<span class="string" id="7227943">`&#34;a&#34;&#34;b&#34;`</span>&nbsp;<span class="op" id="7227952">+</span>&nbsp;<span class="string" id="7227954">&#34;\n&#34;</span><span class="op" id="7227958">}</span><span class="op" id="7227959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7227962">{</span><span class="ident" id="7227963">Input</span><span class="op" id="7227968">:</span>&nbsp;<span class="op" id="7227970">[</span><span class="op" id="7227971">]</span><span class="op" id="7227972">[</span><span class="op" id="7227973">]</span><span class="builtintype" id="7227974">string</span><span class="op" id="7227980">{</span><span class="op" id="7227981">{</span><span class="string" id="7227982">`&#34;a&#34;b&#34;`</span><span class="op" id="7227989">}</span><span class="op" id="7227990">}</span><span class="op" id="7227991">,</span>&nbsp;<span class="ident" id="7227993">Output</span><span class="op" id="7227999">:</span>&nbsp;<span class="string" id="7228001">`&#34;&#34;&#34;a&#34;&#34;b&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7228014">+</span>&nbsp;<span class="string" id="7228016">&#34;\n&#34;</span><span class="op" id="7228020">}</span><span class="op" id="7228021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228024">{</span><span class="ident" id="7228025">Input</span><span class="op" id="7228030">:</span>&nbsp;<span class="op" id="7228032">[</span><span class="op" id="7228033">]</span><span class="op" id="7228034">[</span><span class="op" id="7228035">]</span><span class="builtintype" id="7228036">string</span><span class="op" id="7228042">{</span><span class="op" id="7228043">{</span><span class="string" id="7228044">&#34;&nbsp;abc&#34;</span><span class="op" id="7228050">}</span><span class="op" id="7228051">}</span><span class="op" id="7228052">,</span>&nbsp;<span class="ident" id="7228054">Output</span><span class="op" id="7228060">:</span>&nbsp;<span class="string" id="7228062">`&#34;&nbsp;abc&#34;`</span>&nbsp;<span class="op" id="7228071">+</span>&nbsp;<span class="string" id="7228073">&#34;\n&#34;</span><span class="op" id="7228077">}</span><span class="op" id="7228078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228081">{</span><span class="ident" id="7228082">Input</span><span class="op" id="7228087">:</span>&nbsp;<span class="op" id="7228089">[</span><span class="op" id="7228090">]</span><span class="op" id="7228091">[</span><span class="op" id="7228092">]</span><span class="builtintype" id="7228093">string</span><span class="op" id="7228099">{</span><span class="op" id="7228100">{</span><span class="string" id="7228101">&#34;abc,def&#34;</span><span class="op" id="7228110">}</span><span class="op" id="7228111">}</span><span class="op" id="7228112">,</span>&nbsp;<span class="ident" id="7228114">Output</span><span class="op" id="7228120">:</span>&nbsp;<span class="string" id="7228122">`&#34;abc,def&#34;`</span>&nbsp;<span class="op" id="7228134">+</span>&nbsp;<span class="string" id="7228136">&#34;\n&#34;</span><span class="op" id="7228140">}</span><span class="op" id="7228141">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228144">{</span><span class="ident" id="7228145">Input</span><span class="op" id="7228150">:</span>&nbsp;<span class="op" id="7228152">[</span><span class="op" id="7228153">]</span><span class="op" id="7228154">[</span><span class="op" id="7228155">]</span><span class="builtintype" id="7228156">string</span><span class="op" id="7228162">{</span><span class="op" id="7228163">{</span><span class="string" id="7228164">&#34;abc&#34;</span><span class="op" id="7228169">,</span>&nbsp;<span class="string" id="7228171">&#34;def&#34;</span><span class="op" id="7228176">}</span><span class="op" id="7228177">}</span><span class="op" id="7228178">,</span>&nbsp;<span class="ident" id="7228180">Output</span><span class="op" id="7228186">:</span>&nbsp;<span class="string" id="7228188">&#34;abc,def\n&#34;</span><span class="op" id="7228199">}</span><span class="op" id="7228200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228203">{</span><span class="ident" id="7228204">Input</span><span class="op" id="7228209">:</span>&nbsp;<span class="op" id="7228211">[</span><span class="op" id="7228212">]</span><span class="op" id="7228213">[</span><span class="op" id="7228214">]</span><span class="builtintype" id="7228215">string</span><span class="op" id="7228221">{</span><span class="op" id="7228222">{</span><span class="string" id="7228223">&#34;abc&#34;</span><span class="op" id="7228228">}</span><span class="op" id="7228229">,</span>&nbsp;<span class="op" id="7228231">{</span><span class="string" id="7228232">&#34;def&#34;</span><span class="op" id="7228237">}</span><span class="op" id="7228238">}</span><span class="op" id="7228239">,</span>&nbsp;<span class="ident" id="7228241">Output</span><span class="op" id="7228247">:</span>&nbsp;<span class="string" id="7228249">&#34;abc\ndef\n&#34;</span><span class="op" id="7228261">}</span><span class="op" id="7228262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228265">{</span><span class="ident" id="7228266">Input</span><span class="op" id="7228271">:</span>&nbsp;<span class="op" id="7228273">[</span><span class="op" id="7228274">]</span><span class="op" id="7228275">[</span><span class="op" id="7228276">]</span><span class="builtintype" id="7228277">string</span><span class="op" id="7228283">{</span><span class="op" id="7228284">{</span><span class="string" id="7228285">&#34;abc\ndef&#34;</span><span class="op" id="7228295">}</span><span class="op" id="7228296">}</span><span class="op" id="7228297">,</span>&nbsp;<span class="ident" id="7228299">Output</span><span class="op" id="7228305">:</span>&nbsp;<span class="string" id="7228307">&#34;\&#34;abc\ndef\&#34;\n&#34;</span><span class="op" id="7228323">}</span><span class="op" id="7228324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228327">{</span><span class="ident" id="7228328">Input</span><span class="op" id="7228333">:</span>&nbsp;<span class="op" id="7228335">[</span><span class="op" id="7228336">]</span><span class="op" id="7228337">[</span><span class="op" id="7228338">]</span><span class="builtintype" id="7228339">string</span><span class="op" id="7228345">{</span><span class="op" id="7228346">{</span><span class="string" id="7228347">&#34;abc\ndef&#34;</span><span class="op" id="7228357">}</span><span class="op" id="7228358">}</span><span class="op" id="7228359">,</span>&nbsp;<span class="ident" id="7228361">Output</span><span class="op" id="7228367">:</span>&nbsp;<span class="string" id="7228369">&#34;\&#34;abc\r\ndef\&#34;\r\n&#34;</span><span class="op" id="7228389">,</span>&nbsp;<span class="ident" id="7228391">UseCRLF</span><span class="op" id="7228398">:</span>&nbsp;<span class="builtintype" id="7228400">true</span><span class="op" id="7228404">}</span><span class="op" id="7228405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228408">{</span><span class="ident" id="7228409">Input</span><span class="op" id="7228414">:</span>&nbsp;<span class="op" id="7228416">[</span><span class="op" id="7228417">]</span><span class="op" id="7228418">[</span><span class="op" id="7228419">]</span><span class="builtintype" id="7228420">string</span><span class="op" id="7228426">{</span><span class="op" id="7228427">{</span><span class="string" id="7228428">&#34;abc\rdef&#34;</span><span class="op" id="7228438">}</span><span class="op" id="7228439">}</span><span class="op" id="7228440">,</span>&nbsp;<span class="ident" id="7228442">Output</span><span class="op" id="7228448">:</span>&nbsp;<span class="string" id="7228450">&#34;\&#34;abcdef\&#34;\r\n&#34;</span><span class="op" id="7228466">,</span>&nbsp;<span class="ident" id="7228468">UseCRLF</span><span class="op" id="7228475">:</span>&nbsp;<span class="builtintype" id="7228477">true</span><span class="op" id="7228481">}</span><span class="op" id="7228482">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228485">{</span><span class="ident" id="7228486">Input</span><span class="op" id="7228491">:</span>&nbsp;<span class="op" id="7228493">[</span><span class="op" id="7228494">]</span><span class="op" id="7228495">[</span><span class="op" id="7228496">]</span><span class="builtintype" id="7228497">string</span><span class="op" id="7228503">{</span><span class="op" id="7228504">{</span><span class="string" id="7228505">&#34;abc\rdef&#34;</span><span class="op" id="7228515">}</span><span class="op" id="7228516">}</span><span class="op" id="7228517">,</span>&nbsp;<span class="ident" id="7228519">Output</span><span class="op" id="7228525">:</span>&nbsp;<span class="string" id="7228527">&#34;\&#34;abc\rdef\&#34;\n&#34;</span><span class="op" id="7228543">,</span>&nbsp;<span class="ident" id="7228545">UseCRLF</span><span class="op" id="7228552">:</span>&nbsp;<span class="builtintype" id="7228554">false</span><span class="op" id="7228559">}</span><span class="op" id="7228560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228563">{</span><span class="ident" id="7228564">Input</span><span class="op" id="7228569">:</span>&nbsp;<span class="op" id="7228571">[</span><span class="op" id="7228572">]</span><span class="op" id="7228573">[</span><span class="op" id="7228574">]</span><span class="builtintype" id="7228575">string</span><span class="op" id="7228581">{</span><span class="op" id="7228582">{</span><span class="string" id="7228583">&#34;&#34;</span><span class="op" id="7228585">}</span><span class="op" id="7228586">}</span><span class="op" id="7228587">,</span>&nbsp;<span class="ident" id="7228589">Output</span><span class="op" id="7228595">:</span>&nbsp;<span class="string" id="7228597">&#34;\n&#34;</span><span class="op" id="7228601">}</span><span class="op" id="7228602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228605">{</span><span class="ident" id="7228606">Input</span><span class="op" id="7228611">:</span>&nbsp;<span class="op" id="7228613">[</span><span class="op" id="7228614">]</span><span class="op" id="7228615">[</span><span class="op" id="7228616">]</span><span class="builtintype" id="7228617">string</span><span class="op" id="7228623">{</span><span class="op" id="7228624">{</span><span class="string" id="7228625">&#34;&#34;</span><span class="op" id="7228627">,</span>&nbsp;<span class="string" id="7228629">&#34;&#34;</span><span class="op" id="7228631">}</span><span class="op" id="7228632">}</span><span class="op" id="7228633">,</span>&nbsp;<span class="ident" id="7228635">Output</span><span class="op" id="7228641">:</span>&nbsp;<span class="string" id="7228643">&#34;,\n&#34;</span><span class="op" id="7228648">}</span><span class="op" id="7228649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228652">{</span><span class="ident" id="7228653">Input</span><span class="op" id="7228658">:</span>&nbsp;<span class="op" id="7228660">[</span><span class="op" id="7228661">]</span><span class="op" id="7228662">[</span><span class="op" id="7228663">]</span><span class="builtintype" id="7228664">string</span><span class="op" id="7228670">{</span><span class="op" id="7228671">{</span><span class="string" id="7228672">&#34;&#34;</span><span class="op" id="7228674">,</span>&nbsp;<span class="string" id="7228676">&#34;&#34;</span><span class="op" id="7228678">,</span>&nbsp;<span class="string" id="7228680">&#34;&#34;</span><span class="op" id="7228682">}</span><span class="op" id="7228683">}</span><span class="op" id="7228684">,</span>&nbsp;<span class="ident" id="7228686">Output</span><span class="op" id="7228692">:</span>&nbsp;<span class="string" id="7228694">&#34;,,\n&#34;</span><span class="op" id="7228700">}</span><span class="op" id="7228701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228704">{</span><span class="ident" id="7228705">Input</span><span class="op" id="7228710">:</span>&nbsp;<span class="op" id="7228712">[</span><span class="op" id="7228713">]</span><span class="op" id="7228714">[</span><span class="op" id="7228715">]</span><span class="builtintype" id="7228716">string</span><span class="op" id="7228722">{</span><span class="op" id="7228723">{</span><span class="string" id="7228724">&#34;&#34;</span><span class="op" id="7228726">,</span>&nbsp;<span class="string" id="7228728">&#34;&#34;</span><span class="op" id="7228730">,</span>&nbsp;<span class="string" id="7228732">&#34;a&#34;</span><span class="op" id="7228735">}</span><span class="op" id="7228736">}</span><span class="op" id="7228737">,</span>&nbsp;<span class="ident" id="7228739">Output</span><span class="op" id="7228745">:</span>&nbsp;<span class="string" id="7228747">&#34;,,a\n&#34;</span><span class="op" id="7228754">}</span><span class="op" id="7228755">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228758">{</span><span class="ident" id="7228759">Input</span><span class="op" id="7228764">:</span>&nbsp;<span class="op" id="7228766">[</span><span class="op" id="7228767">]</span><span class="op" id="7228768">[</span><span class="op" id="7228769">]</span><span class="builtintype" id="7228770">string</span><span class="op" id="7228776">{</span><span class="op" id="7228777">{</span><span class="string" id="7228778">&#34;&#34;</span><span class="op" id="7228780">,</span>&nbsp;<span class="string" id="7228782">&#34;a&#34;</span><span class="op" id="7228785">,</span>&nbsp;<span class="string" id="7228787">&#34;&#34;</span><span class="op" id="7228789">}</span><span class="op" id="7228790">}</span><span class="op" id="7228791">,</span>&nbsp;<span class="ident" id="7228793">Output</span><span class="op" id="7228799">:</span>&nbsp;<span class="string" id="7228801">&#34;,a,\n&#34;</span><span class="op" id="7228808">}</span><span class="op" id="7228809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228812">{</span><span class="ident" id="7228813">Input</span><span class="op" id="7228818">:</span>&nbsp;<span class="op" id="7228820">[</span><span class="op" id="7228821">]</span><span class="op" id="7228822">[</span><span class="op" id="7228823">]</span><span class="builtintype" id="7228824">string</span><span class="op" id="7228830">{</span><span class="op" id="7228831">{</span><span class="string" id="7228832">&#34;&#34;</span><span class="op" id="7228834">,</span>&nbsp;<span class="string" id="7228836">&#34;a&#34;</span><span class="op" id="7228839">,</span>&nbsp;<span class="string" id="7228841">&#34;a&#34;</span><span class="op" id="7228844">}</span><span class="op" id="7228845">}</span><span class="op" id="7228846">,</span>&nbsp;<span class="ident" id="7228848">Output</span><span class="op" id="7228854">:</span>&nbsp;<span class="string" id="7228856">&#34;,a,a\n&#34;</span><span class="op" id="7228864">}</span><span class="op" id="7228865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228868">{</span><span class="ident" id="7228869">Input</span><span class="op" id="7228874">:</span>&nbsp;<span class="op" id="7228876">[</span><span class="op" id="7228877">]</span><span class="op" id="7228878">[</span><span class="op" id="7228879">]</span><span class="builtintype" id="7228880">string</span><span class="op" id="7228886">{</span><span class="op" id="7228887">{</span><span class="string" id="7228888">&#34;a&#34;</span><span class="op" id="7228891">,</span>&nbsp;<span class="string" id="7228893">&#34;&#34;</span><span class="op" id="7228895">,</span>&nbsp;<span class="string" id="7228897">&#34;&#34;</span><span class="op" id="7228899">}</span><span class="op" id="7228900">}</span><span class="op" id="7228901">,</span>&nbsp;<span class="ident" id="7228903">Output</span><span class="op" id="7228909">:</span>&nbsp;<span class="string" id="7228911">&#34;a,,\n&#34;</span><span class="op" id="7228918">}</span><span class="op" id="7228919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228922">{</span><span class="ident" id="7228923">Input</span><span class="op" id="7228928">:</span>&nbsp;<span class="op" id="7228930">[</span><span class="op" id="7228931">]</span><span class="op" id="7228932">[</span><span class="op" id="7228933">]</span><span class="builtintype" id="7228934">string</span><span class="op" id="7228940">{</span><span class="op" id="7228941">{</span><span class="string" id="7228942">&#34;a&#34;</span><span class="op" id="7228945">,</span>&nbsp;<span class="string" id="7228947">&#34;&#34;</span><span class="op" id="7228949">,</span>&nbsp;<span class="string" id="7228951">&#34;a&#34;</span><span class="op" id="7228954">}</span><span class="op" id="7228955">}</span><span class="op" id="7228956">,</span>&nbsp;<span class="ident" id="7228958">Output</span><span class="op" id="7228964">:</span>&nbsp;<span class="string" id="7228966">&#34;a,,a\n&#34;</span><span class="op" id="7228974">}</span><span class="op" id="7228975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7228978">{</span><span class="ident" id="7228979">Input</span><span class="op" id="7228984">:</span>&nbsp;<span class="op" id="7228986">[</span><span class="op" id="7228987">]</span><span class="op" id="7228988">[</span><span class="op" id="7228989">]</span><span class="builtintype" id="7228990">string</span><span class="op" id="7228996">{</span><span class="op" id="7228997">{</span><span class="string" id="7228998">&#34;a&#34;</span><span class="op" id="7229001">,</span>&nbsp;<span class="string" id="7229003">&#34;a&#34;</span><span class="op" id="7229006">,</span>&nbsp;<span class="string" id="7229008">&#34;&#34;</span><span class="op" id="7229010">}</span><span class="op" id="7229011">}</span><span class="op" id="7229012">,</span>&nbsp;<span class="ident" id="7229014">Output</span><span class="op" id="7229020">:</span>&nbsp;<span class="string" id="7229022">&#34;a,a,\n&#34;</span><span class="op" id="7229030">}</span><span class="op" id="7229031">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7229034">{</span><span class="ident" id="7229035">Input</span><span class="op" id="7229040">:</span>&nbsp;<span class="op" id="7229042">[</span><span class="op" id="7229043">]</span><span class="op" id="7229044">[</span><span class="op" id="7229045">]</span><span class="builtintype" id="7229046">string</span><span class="op" id="7229052">{</span><span class="op" id="7229053">{</span><span class="string" id="7229054">&#34;a&#34;</span><span class="op" id="7229057">,</span>&nbsp;<span class="string" id="7229059">&#34;a&#34;</span><span class="op" id="7229062">,</span>&nbsp;<span class="string" id="7229064">&#34;a&#34;</span><span class="op" id="7229067">}</span><span class="op" id="7229068">}</span><span class="op" id="7229069">,</span>&nbsp;<span class="ident" id="7229071">Output</span><span class="op" id="7229077">:</span>&nbsp;<span class="string" id="7229079">&#34;a,a,a\n&#34;</span><span class="op" id="7229088">}</span><span class="op" id="7229089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7229092">{</span><span class="ident" id="7229093">Input</span><span class="op" id="7229098">:</span>&nbsp;<span class="op" id="7229100">[</span><span class="op" id="7229101">]</span><span class="op" id="7229102">[</span><span class="op" id="7229103">]</span><span class="builtintype" id="7229104">string</span><span class="op" id="7229110">{</span><span class="op" id="7229111">{</span><span class="string" id="7229112">`\.`</span><span class="op" id="7229116">}</span><span class="op" id="7229117">}</span><span class="op" id="7229118">,</span>&nbsp;<span class="ident" id="7229120">Output</span><span class="op" id="7229126">:</span>&nbsp;<span class="string" id="7229128">&#34;\&#34;\\.\&#34;\n&#34;</span><span class="op" id="7229139">}</span><span class="op" id="7229140">,</span><br>
<span class="lineno"></span><span class="op" id="7229142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7229145">func</span>&nbsp;<span class="ident" id="7229150">TestWrite</span><span class="op" id="7229159">(</span><span class="ident" id="7229160">t</span>&nbsp;<span class="op" id="7229162">*</span><span class="ident" id="7229163">testing</span><span class="op" id="7229170">.</span><span class="ident" id="7229171">T</span><span class="op" id="7229172">)</span>&nbsp;<span class="op" id="7229174">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7229177">for</span>&nbsp;<span class="ident" id="7229181">n</span><span class="op" id="7229182">,</span>&nbsp;<span class="ident" id="7229184">tt</span>&nbsp;<span class="op" id="7229187">:=</span>&nbsp;<span class="keyword" id="7229190">range</span>&nbsp;<span class="ident" id="7229196">writeTests</span>&nbsp;<span class="op" id="7229207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229211">b</span>&nbsp;<span class="op" id="7229213">:=</span>&nbsp;<span class="op" id="7229216">&amp;</span><span class="ident" id="7229217">bytes</span><span class="op" id="7229222">.</span><span class="ident" id="7229223">Buffer</span><span class="op" id="7229229">{</span><span class="op" id="7229230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229234">f</span>&nbsp;<span class="op" id="7229236">:=</span>&nbsp;<span class="ident" id="7229239">NewWriter</span><span class="op" id="7229248">(</span><span class="ident" id="7229249">b</span><span class="op" id="7229250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229254">f</span><span class="op" id="7229255">.</span><span class="ident" id="7229256">UseCRLF</span>&nbsp;<span class="op" id="7229264">=</span>&nbsp;<span class="ident" id="7229266">tt</span><span class="op" id="7229268">.</span><span class="ident" id="7229269">UseCRLF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229279">err</span>&nbsp;<span class="op" id="7229283">:=</span>&nbsp;<span class="ident" id="7229286">f</span><span class="op" id="7229287">.</span><span class="ident" id="7229288">WriteAll</span><span class="op" id="7229296">(</span><span class="ident" id="7229297">tt</span><span class="op" id="7229299">.</span><span class="ident" id="7229300">Input</span><span class="op" id="7229305">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7229309">if</span>&nbsp;<span class="ident" id="7229312">err</span>&nbsp;<span class="op" id="7229316">!=</span>&nbsp;<span class="builtintype" id="7229319">nil</span>&nbsp;<span class="op" id="7229323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229328">t</span><span class="op" id="7229329">.</span><span class="ident" id="7229330">Errorf</span><span class="op" id="7229336">(</span><span class="string" id="7229337">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7229361">,</span>&nbsp;<span class="ident" id="7229363">err</span><span class="op" id="7229366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7229370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229374">out</span>&nbsp;<span class="op" id="7229378">:=</span>&nbsp;<span class="ident" id="7229381">b</span><span class="op" id="7229382">.</span><span class="ident" id="7229383">String</span><span class="op" id="7229389">(</span><span class="op" id="7229390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7229394">if</span>&nbsp;<span class="ident" id="7229397">out</span>&nbsp;<span class="op" id="7229401">!=</span>&nbsp;<span class="ident" id="7229404">tt</span><span class="op" id="7229406">.</span><span class="ident" id="7229407">Output</span>&nbsp;<span class="op" id="7229414">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229419">t</span><span class="op" id="7229420">.</span><span class="ident" id="7229421">Errorf</span><span class="op" id="7229427">(</span><span class="string" id="7229428">&#34;#%d:&nbsp;out=%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7229449">,</span>&nbsp;<span class="ident" id="7229451">n</span><span class="op" id="7229452">,</span>&nbsp;<span class="ident" id="7229454">out</span><span class="op" id="7229457">,</span>&nbsp;<span class="ident" id="7229459">tt</span><span class="op" id="7229461">.</span><span class="ident" id="7229462">Output</span><span class="op" id="7229468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7229472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7229475">}</span><br>
<span class="lineno"></span><span class="op" id="7229477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7229480">type</span>&nbsp;<span class="ident" id="7229485">errorWriter</span>&nbsp;<span class="keyword" id="7229497">struct</span><span class="op" id="7229503">{</span><span class="op" id="7229504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7229507">func</span>&nbsp;<span class="op" id="7229512">(</span><span class="ident" id="7229513">e</span>&nbsp;<span class="ident" id="7229515">errorWriter</span><span class="op" id="7229526">)</span>&nbsp;<span class="ident" id="7229528">Write</span><span class="op" id="7229533">(</span><span class="ident" id="7229534">b</span>&nbsp;<span class="op" id="7229536">[</span><span class="op" id="7229537">]</span><span class="builtintype" id="7229538">byte</span><span class="op" id="7229542">)</span>&nbsp;<span class="op" id="7229544">(</span><span class="builtintype" id="7229545">int</span><span class="op" id="7229548">,</span>&nbsp;<span class="builtintype" id="7229550">error</span><span class="op" id="7229555">)</span>&nbsp;<span class="op" id="7229557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7229560">return</span>&nbsp;<span class="num" id="7229567">0</span><span class="op" id="7229568">,</span>&nbsp;<span class="ident" id="7229570">errors</span><span class="op" id="7229576">.</span><span class="ident" id="7229577">New</span><span class="op" id="7229580">(</span><span class="string" id="7229581">&#34;Test&#34;</span><span class="op" id="7229587">)</span><br>
<span class="lineno"></span><span class="op" id="7229589">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7229592">func</span>&nbsp;<span class="ident" id="7229597">TestError</span><span class="op" id="7229606">(</span><span class="ident" id="7229607">t</span>&nbsp;<span class="op" id="7229609">*</span><span class="ident" id="7229610">testing</span><span class="op" id="7229617">.</span><span class="ident" id="7229618">T</span><span class="op" id="7229619">)</span>&nbsp;<span class="op" id="7229621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229624">b</span>&nbsp;<span class="op" id="7229626">:=</span>&nbsp;<span class="op" id="7229629">&amp;</span><span class="ident" id="7229630">bytes</span><span class="op" id="7229635">.</span><span class="ident" id="7229636">Buffer</span><span class="op" id="7229642">{</span><span class="op" id="7229643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229646">f</span>&nbsp;<span class="op" id="7229648">:=</span>&nbsp;<span class="ident" id="7229651">NewWriter</span><span class="op" id="7229660">(</span><span class="ident" id="7229661">b</span><span class="op" id="7229662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229665">f</span><span class="op" id="7229666">.</span><span class="ident" id="7229667">Write</span><span class="op" id="7229672">(</span><span class="op" id="7229673">[</span><span class="op" id="7229674">]</span><span class="builtintype" id="7229675">string</span><span class="op" id="7229681">{</span><span class="string" id="7229682">&#34;abc&#34;</span><span class="op" id="7229687">}</span><span class="op" id="7229688">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229691">f</span><span class="op" id="7229692">.</span><span class="ident" id="7229693">Flush</span><span class="op" id="7229698">(</span><span class="op" id="7229699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229702">err</span>&nbsp;<span class="op" id="7229706">:=</span>&nbsp;<span class="ident" id="7229709">f</span><span class="op" id="7229710">.</span><span class="ident" id="7229711">Error</span><span class="op" id="7229716">(</span><span class="op" id="7229717">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7229721">if</span>&nbsp;<span class="ident" id="7229724">err</span>&nbsp;<span class="op" id="7229728">!=</span>&nbsp;<span class="builtintype" id="7229731">nil</span>&nbsp;<span class="op" id="7229735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229739">t</span><span class="op" id="7229740">.</span><span class="ident" id="7229741">Errorf</span><span class="op" id="7229747">(</span><span class="string" id="7229748">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7229772">,</span>&nbsp;<span class="ident" id="7229774">err</span><span class="op" id="7229777">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7229780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229784">f</span>&nbsp;<span class="op" id="7229786">=</span>&nbsp;<span class="ident" id="7229788">NewWriter</span><span class="op" id="7229797">(</span><span class="ident" id="7229798">errorWriter</span><span class="op" id="7229809">{</span><span class="op" id="7229810">}</span><span class="op" id="7229811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229814">f</span><span class="op" id="7229815">.</span><span class="ident" id="7229816">Write</span><span class="op" id="7229821">(</span><span class="op" id="7229822">[</span><span class="op" id="7229823">]</span><span class="builtintype" id="7229824">string</span><span class="op" id="7229830">{</span><span class="string" id="7229831">&#34;abc&#34;</span><span class="op" id="7229836">}</span><span class="op" id="7229837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229840">f</span><span class="op" id="7229841">.</span><span class="ident" id="7229842">Flush</span><span class="op" id="7229847">(</span><span class="op" id="7229848">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229851">err</span>&nbsp;<span class="op" id="7229855">=</span>&nbsp;<span class="ident" id="7229857">f</span><span class="op" id="7229858">.</span><span class="ident" id="7229859">Error</span><span class="op" id="7229864">(</span><span class="op" id="7229865">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7229869">if</span>&nbsp;<span class="ident" id="7229872">err</span>&nbsp;<span class="op" id="7229876">==</span>&nbsp;<span class="builtintype" id="7229879">nil</span>&nbsp;<span class="op" id="7229883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7229887">t</span><span class="op" id="7229888">.</span><span class="ident" id="7229889">Error</span><span class="op" id="7229894">(</span><span class="string" id="7229895">&#34;Error&nbsp;should&nbsp;not&nbsp;be&nbsp;nil&#34;</span><span class="op" id="7229920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7229923">}</span><br>
<span class="lineno">85</span><span class="op" id="7229925">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
