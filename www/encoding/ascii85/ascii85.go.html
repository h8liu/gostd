<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6499511">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6499566">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6499620">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6499671">//&nbsp;Package&nbsp;ascii85&nbsp;implements&nbsp;the&nbsp;ascii85&nbsp;data&nbsp;encoding</span><br>
<span class="lineno"></span><span class="comment" id="6499727">//&nbsp;as&nbsp;used&nbsp;in&nbsp;the&nbsp;btoa&nbsp;tool&nbsp;and&nbsp;Adobe&#39;s&nbsp;PostScript&nbsp;and&nbsp;PDF&nbsp;document&nbsp;formats.</span><br>
<span class="lineno"></span><span class="keyword" id="6499804">package</span>&nbsp;<span class="ident" id="6499812">ascii85</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6499821">import</span>&nbsp;<span class="op" id="6499828">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6499831">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6499837">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="6499847">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6499850">/*<br>
<span class="lineno">15</span>&nbsp;*&nbsp;Encoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6499869">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;at&nbsp;most&nbsp;MaxEncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="6499928">//&nbsp;bytes&nbsp;of&nbsp;dst,&nbsp;returning&nbsp;the&nbsp;actual&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written.</span><br>
<span class="lineno">20</span><span class="comment" id="6499991">//</span><br>
<span class="lineno"></span><span class="comment" id="6499994">//&nbsp;The&nbsp;encoding&nbsp;handles&nbsp;4-byte&nbsp;chunks,&nbsp;using&nbsp;a&nbsp;special&nbsp;encoding</span><br>
<span class="lineno"></span><span class="comment" id="6500058">//&nbsp;for&nbsp;the&nbsp;last&nbsp;fragment,&nbsp;so&nbsp;Encode&nbsp;is&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;use&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="6500124">//&nbsp;individual&nbsp;blocks&nbsp;of&nbsp;a&nbsp;large&nbsp;data&nbsp;stream.&nbsp;&nbsp;Use&nbsp;NewEncoder()&nbsp;instead.</span><br>
<span class="lineno"></span><span class="comment" id="6500196">//</span><br>
<span class="lineno">25</span><span class="comment" id="6500199">//&nbsp;Often,&nbsp;ascii85-encoded&nbsp;data&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;&lt;~&nbsp;and&nbsp;~&gt;&nbsp;symbols.</span><br>
<span class="lineno"></span><span class="comment" id="6500263">//&nbsp;Encode&nbsp;does&nbsp;not&nbsp;add&nbsp;these.</span><br>
<span class="lineno"></span><span class="keyword" id="6500293">func</span>&nbsp;<span class="ident" id="6500298">Encode</span><span class="op" id="6500304">(</span><span class="ident" id="6500305">dst</span><span class="op" id="6500308">,</span>&nbsp;<span class="ident" id="6500310">src</span>&nbsp;<span class="op" id="6500314">[</span><span class="op" id="6500315">]</span><span class="builtintype" id="6500316">byte</span><span class="op" id="6500320">)</span>&nbsp;<span class="builtintype" id="6500322">int</span>&nbsp;<span class="op" id="6500326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500329">if</span>&nbsp;<span class="builtinfunc" id="6500332">len</span><span class="op" id="6500335">(</span><span class="ident" id="6500336"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6500339">)</span>&nbsp;<span class="op" id="6500341">==</span>&nbsp;<span class="num" id="6500344">0</span>&nbsp;<span class="op" id="6500346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500350">return</span>&nbsp;<span class="num" id="6500357">0</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6500360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500364">n</span>&nbsp;<span class="op" id="6500366">:=</span>&nbsp;<span class="num" id="6500369">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500372">for</span>&nbsp;<span class="builtinfunc" id="6500376">len</span><span class="op" id="6500379">(</span><span class="ident" id="6500380"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6500383">)</span>&nbsp;<span class="op" id="6500385">&gt;</span>&nbsp;<span class="num" id="6500387">0</span>&nbsp;<span class="op" id="6500389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500393"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span><span class="op" id="6500396">[</span><span class="num" id="6500397">0</span><span class="op" id="6500398">]</span>&nbsp;<span class="op" id="6500400">=</span>&nbsp;<span class="num" id="6500402">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500406"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span><span class="op" id="6500409">[</span><span class="num" id="6500410">1</span><span class="op" id="6500411">]</span>&nbsp;<span class="op" id="6500413">=</span>&nbsp;<span class="num" id="6500415">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500419"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span><span class="op" id="6500422">[</span><span class="num" id="6500423">2</span><span class="op" id="6500424">]</span>&nbsp;<span class="op" id="6500426">=</span>&nbsp;<span class="num" id="6500428">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500432"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span><span class="op" id="6500435">[</span><span class="num" id="6500436">3</span><span class="op" id="6500437">]</span>&nbsp;<span class="op" id="6500439">=</span>&nbsp;<span class="num" id="6500441">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500445"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span><span class="op" id="6500448">[</span><span class="num" id="6500449">4</span><span class="op" id="6500450">]</span>&nbsp;<span class="op" id="6500452">=</span>&nbsp;<span class="num" id="6500454">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6500459">//&nbsp;Unpack&nbsp;4&nbsp;bytes&nbsp;into&nbsp;uint32&nbsp;to&nbsp;repack&nbsp;into&nbsp;base&nbsp;85&nbsp;5-byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500522">var</span>&nbsp;<span class="ident" id="6500526">v</span>&nbsp;<span class="builtintype" id="6500528">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500537">switch</span>&nbsp;<span class="builtinfunc" id="6500544">len</span><span class="op" id="6500547">(</span><span class="ident" id="6500548"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6500551">)</span>&nbsp;<span class="op" id="6500553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500557">default</span><span class="op" id="6500564">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500569"><a href="/encoding/ascii85/ascii85.go.html#6500526">v</a></span>&nbsp;<span class="op" id="6500571">|=</span>&nbsp;<span class="builtintype" id="6500574">uint32</span><span class="op" id="6500580">(</span><span class="ident" id="6500581"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6500584">[</span><span class="num" id="6500585">3</span><span class="op" id="6500586">]</span><span class="op" id="6500587">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500592">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500606">case</span>&nbsp;<span class="num" id="6500611">3</span><span class="op" id="6500612">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500617"><a href="/encoding/ascii85/ascii85.go.html#6500526">v</a></span>&nbsp;<span class="op" id="6500619">|=</span>&nbsp;<span class="builtintype" id="6500622">uint32</span><span class="op" id="6500628">(</span><span class="ident" id="6500629"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6500632">[</span><span class="num" id="6500633">2</span><span class="op" id="6500634">]</span><span class="op" id="6500635">)</span>&nbsp;<span class="op" id="6500637">&lt;&lt;</span>&nbsp;<span class="num" id="6500640">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500645">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500659">case</span>&nbsp;<span class="num" id="6500664">2</span><span class="op" id="6500665">:</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500670"><a href="/encoding/ascii85/ascii85.go.html#6500526">v</a></span>&nbsp;<span class="op" id="6500672">|=</span>&nbsp;<span class="builtintype" id="6500675">uint32</span><span class="op" id="6500681">(</span><span class="ident" id="6500682"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6500685">[</span><span class="num" id="6500686">1</span><span class="op" id="6500687">]</span><span class="op" id="6500688">)</span>&nbsp;<span class="op" id="6500690">&lt;&lt;</span>&nbsp;<span class="num" id="6500693">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500699">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500713">case</span>&nbsp;<span class="num" id="6500718">1</span><span class="op" id="6500719">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500724"><a href="/encoding/ascii85/ascii85.go.html#6500526">v</a></span>&nbsp;<span class="op" id="6500726">|=</span>&nbsp;<span class="builtintype" id="6500729">uint32</span><span class="op" id="6500735">(</span><span class="ident" id="6500736"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6500739">[</span><span class="num" id="6500740">0</span><span class="op" id="6500741">]</span><span class="op" id="6500742">)</span>&nbsp;<span class="op" id="6500744">&lt;&lt;</span>&nbsp;<span class="num" id="6500747">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6500752">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6500757">//&nbsp;Special&nbsp;case:&nbsp;zero&nbsp;(!!!!!)&nbsp;shortens&nbsp;to&nbsp;z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500804">if</span>&nbsp;<span class="ident" id="6500807"><a href="/encoding/ascii85/ascii85.go.html#6500526">v</a></span>&nbsp;<span class="op" id="6500809">==</span>&nbsp;<span class="num" id="6500812">0</span>&nbsp;<span class="op" id="6500814">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6500817">len</span><span class="op" id="6500820">(</span><span class="ident" id="6500821"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6500824">)</span>&nbsp;<span class="op" id="6500826">&gt;=</span>&nbsp;<span class="num" id="6500829">4</span>&nbsp;<span class="op" id="6500831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500836"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span><span class="op" id="6500839">[</span><span class="num" id="6500840">0</span><span class="op" id="6500841">]</span>&nbsp;<span class="op" id="6500843">=</span>&nbsp;<span class="string" id="6500845">&#39;z&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500852"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span>&nbsp;<span class="op" id="6500856">=</span>&nbsp;<span class="ident" id="6500858"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span><span class="op" id="6500861">[</span><span class="num" id="6500862">1</span><span class="op" id="6500863">:</span><span class="op" id="6500864">]</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500869"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span>&nbsp;<span class="op" id="6500873">=</span>&nbsp;<span class="ident" id="6500875"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6500878">[</span><span class="num" id="6500879">4</span><span class="op" id="6500880">:</span><span class="op" id="6500881">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500886"><a href="/encoding/ascii85/ascii85.go.html#6500364">n</a></span><span class="op" id="6500887">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500893">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6500904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6500909">//&nbsp;Otherwise,&nbsp;5&nbsp;base&nbsp;85&nbsp;digits&nbsp;starting&nbsp;at&nbsp;!.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6500957">for</span>&nbsp;<span class="ident" id="6500961">i</span>&nbsp;<span class="op" id="6500963">:=</span>&nbsp;<span class="num" id="6500966">4</span><span class="op" id="6500967">;</span>&nbsp;<span class="ident" id="6500969"><a href="/encoding/ascii85/ascii85.go.html#6500961">i</a></span>&nbsp;<span class="op" id="6500971">&gt;=</span>&nbsp;<span class="num" id="6500974">0</span><span class="op" id="6500975">;</span>&nbsp;<span class="ident" id="6500977"><a href="/encoding/ascii85/ascii85.go.html#6500961">i</a></span><span class="op" id="6500978">--</span>&nbsp;<span class="op" id="6500981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6500986"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span><span class="op" id="6500989">[</span><span class="ident" id="6500990"><a href="/encoding/ascii85/ascii85.go.html#6500961">i</a></span><span class="op" id="6500991">]</span>&nbsp;<span class="op" id="6500993">=</span>&nbsp;<span class="string" id="6500995">&#39;!&#39;</span>&nbsp;<span class="op" id="6500999">+</span>&nbsp;<span class="builtintype" id="6501001">byte</span><span class="op" id="6501005">(</span><span class="ident" id="6501006"><a href="/encoding/ascii85/ascii85.go.html#6500526">v</a></span><span class="op" id="6501007">%</span><span class="num" id="6501008">85</span><span class="op" id="6501010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501015"><a href="/encoding/ascii85/ascii85.go.html#6500526">v</a></span>&nbsp;<span class="op" id="6501017">/=</span>&nbsp;<span class="num" id="6501020">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6501025">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6501030">//&nbsp;If&nbsp;src&nbsp;was&nbsp;short,&nbsp;discard&nbsp;the&nbsp;low&nbsp;destination&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501088">m</span>&nbsp;<span class="op" id="6501090">:=</span>&nbsp;<span class="num" id="6501093">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6501097">if</span>&nbsp;<span class="builtinfunc" id="6501100">len</span><span class="op" id="6501103">(</span><span class="ident" id="6501104"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6501107">)</span>&nbsp;<span class="op" id="6501109">&lt;</span>&nbsp;<span class="num" id="6501111">4</span>&nbsp;<span class="op" id="6501113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501118"><a href="/encoding/ascii85/ascii85.go.html#6501088">m</a></span>&nbsp;<span class="op" id="6501120">-=</span>&nbsp;<span class="num" id="6501123">4</span>&nbsp;<span class="op" id="6501125">-</span>&nbsp;<span class="builtinfunc" id="6501127">len</span><span class="op" id="6501130">(</span><span class="ident" id="6501131"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6501134">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501139"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span>&nbsp;<span class="op" id="6501143">=</span>&nbsp;<span class="ident" id="6501145">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6501151">}</span>&nbsp;<span class="keyword" id="6501153">else</span>&nbsp;<span class="op" id="6501158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501163"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span>&nbsp;<span class="op" id="6501167">=</span>&nbsp;<span class="ident" id="6501169"><a href="/encoding/ascii85/ascii85.go.html#6500310">src</a></span><span class="op" id="6501172">[</span><span class="num" id="6501173">4</span><span class="op" id="6501174">:</span><span class="op" id="6501175">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6501179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501183"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span>&nbsp;<span class="op" id="6501187">=</span>&nbsp;<span class="ident" id="6501189"><a href="/encoding/ascii85/ascii85.go.html#6500305">dst</a></span><span class="op" id="6501192">[</span><span class="ident" id="6501193"><a href="/encoding/ascii85/ascii85.go.html#6501088">m</a></span><span class="op" id="6501194">:</span><span class="op" id="6501195">]</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501199"><a href="/encoding/ascii85/ascii85.go.html#6500364">n</a></span>&nbsp;<span class="op" id="6501201">+=</span>&nbsp;<span class="ident" id="6501204"><a href="/encoding/ascii85/ascii85.go.html#6501088">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6501207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6501210">return</span>&nbsp;<span class="ident" id="6501217"><a href="/encoding/ascii85/ascii85.go.html#6500364">n</a></span><br>
<span class="lineno"></span><span class="op" id="6501219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="6501222">//&nbsp;MaxEncodedLen&nbsp;returns&nbsp;the&nbsp;maximum&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="6501300">func</span>&nbsp;<span class="ident" id="6501305">MaxEncodedLen</span><span class="op" id="6501318">(</span><span class="ident" id="6501319">n</span>&nbsp;<span class="builtintype" id="6501321">int</span><span class="op" id="6501324">)</span>&nbsp;<span class="builtintype" id="6501326">int</span>&nbsp;<span class="op" id="6501330">{</span>&nbsp;<span class="keyword" id="6501332">return</span>&nbsp;<span class="op" id="6501339">(</span><span class="ident" id="6501340"><a href="/encoding/ascii85/ascii85.go.html#6501319">n</a></span>&nbsp;<span class="op" id="6501342">+</span>&nbsp;<span class="num" id="6501344">3</span><span class="op" id="6501345">)</span>&nbsp;<span class="op" id="6501347">/</span>&nbsp;<span class="num" id="6501349">4</span>&nbsp;<span class="op" id="6501351">*</span>&nbsp;<span class="num" id="6501353">5</span>&nbsp;<span class="op" id="6501355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6501358">//&nbsp;NewEncoder&nbsp;returns&nbsp;a&nbsp;new&nbsp;ascii85&nbsp;stream&nbsp;encoder.&nbsp;&nbsp;Data&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="6501427">//&nbsp;the&nbsp;returned&nbsp;writer&nbsp;will&nbsp;be&nbsp;encoded&nbsp;and&nbsp;then&nbsp;written&nbsp;to&nbsp;w.</span><br>
<span class="lineno">90</span><span class="comment" id="6501489">//&nbsp;Ascii85&nbsp;encodings&nbsp;operate&nbsp;in&nbsp;32-bit&nbsp;blocks;&nbsp;when&nbsp;finished</span><br>
<span class="lineno"></span><span class="comment" id="6501550">//&nbsp;writing,&nbsp;the&nbsp;caller&nbsp;must&nbsp;Close&nbsp;the&nbsp;returned&nbsp;encoder&nbsp;to&nbsp;flush&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="6501618">//&nbsp;trailing&nbsp;partial&nbsp;block.</span><br>
<span class="lineno"></span><span class="keyword" id="6501645">func</span>&nbsp;<span class="ident" id="6501650">NewEncoder</span><span class="op" id="6501660">(</span><span class="ident" id="6501661">w</span>&nbsp;<span class="ident" id="6501663"><a href="/encoding/ascii85/ascii85.go.html#6499831">io</a></span><span class="op" id="6501665">.</span><span class="ident" id="6501666">Writer</span><span class="op" id="6501672">)</span>&nbsp;<span class="ident" id="6501674"><a href="/encoding/ascii85/ascii85.go.html#6499831">io</a></span><span class="op" id="6501676">.</span><span class="ident" id="6501677">WriteCloser</span>&nbsp;<span class="op" id="6501689">{</span>&nbsp;<span class="keyword" id="6501691">return</span>&nbsp;<span class="op" id="6501698">&amp;</span><span class="ident" id="6501699"><a href="/encoding/ascii85/ascii85.go.html#6501721">encoder</a></span><span class="op" id="6501706">{</span><span class="ident" id="6501707">w</span><span class="op" id="6501708">:</span>&nbsp;<span class="ident" id="6501710"><a href="/encoding/ascii85/ascii85.go.html#6501661">w</a></span><span class="op" id="6501711">}</span>&nbsp;<span class="op" id="6501713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6501716">type</span>&nbsp;<span class="ident" id="6501721">encoder</span>&nbsp;<span class="keyword" id="6501729">struct</span>&nbsp;<span class="op" id="6501736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501739">err</span>&nbsp;&nbsp;<span class="builtintype" id="6501744">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501751">w</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6501756"><a href="/encoding/ascii85/ascii85.go.html#6499831">io</a></span><span class="op" id="6501758">.</span><span class="ident" id="6501759">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501767">buf</span>&nbsp;&nbsp;<span class="op" id="6501772">[</span><span class="num" id="6501773">4</span><span class="op" id="6501774">]</span><span class="builtintype" id="6501775">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6501783">//&nbsp;buffered&nbsp;data&nbsp;waiting&nbsp;to&nbsp;be&nbsp;encoded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501823">nbuf</span>&nbsp;<span class="builtintype" id="6501828">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6501839">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;buf</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6501866">out</span>&nbsp;&nbsp;<span class="op" id="6501871">[</span><span class="num" id="6501872">1024</span><span class="op" id="6501876">]</span><span class="builtintype" id="6501877">byte</span>&nbsp;<span class="comment" id="6501882">//&nbsp;output&nbsp;buffer</span><br>
<span class="lineno"></span><span class="op" id="6501899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6501902">func</span>&nbsp;<span class="op" id="6501907">(</span><span class="ident" id="6501908">e</span>&nbsp;<span class="op" id="6501910">*</span><span class="ident" id="6501911"><a href="/encoding/ascii85/ascii85.go.html#6501721">encoder</a></span><span class="op" id="6501918">)</span>&nbsp;<span class="ident" id="6501920">Write</span><span class="op" id="6501925">(</span><span class="ident" id="6501926">p</span>&nbsp;<span class="op" id="6501928">[</span><span class="op" id="6501929">]</span><span class="builtintype" id="6501930">byte</span><span class="op" id="6501934">)</span>&nbsp;<span class="op" id="6501936">(</span><span class="ident" id="6501937">n</span>&nbsp;<span class="builtintype" id="6501939">int</span><span class="op" id="6501942">,</span>&nbsp;<span class="ident" id="6501944">err</span>&nbsp;<span class="builtintype" id="6501948">error</span><span class="op" id="6501953">)</span>&nbsp;<span class="op" id="6501955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6501958">if</span>&nbsp;<span class="ident" id="6501961"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6501962">.</span><span class="ident" id="6501963">err</span>&nbsp;<span class="op" id="6501967">!=</span>&nbsp;<span class="ident" id="6501970">nil</span>&nbsp;<span class="op" id="6501974">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6501978">return</span>&nbsp;<span class="num" id="6501985">0</span><span class="op" id="6501986">,</span>&nbsp;<span class="ident" id="6501988"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6501989">.</span><span class="ident" id="6501990">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6501995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6501999">//&nbsp;Leading&nbsp;fringe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502019">if</span>&nbsp;<span class="ident" id="6502022"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502023">.</span><span class="ident" id="6502024">nbuf</span>&nbsp;<span class="op" id="6502029">&gt;</span>&nbsp;<span class="num" id="6502031">0</span>&nbsp;<span class="op" id="6502033">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502037">var</span>&nbsp;<span class="ident" id="6502041">i</span>&nbsp;<span class="builtintype" id="6502043">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502049">for</span>&nbsp;<span class="ident" id="6502053"><a href="/encoding/ascii85/ascii85.go.html#6502041">i</a></span>&nbsp;<span class="op" id="6502055">=</span>&nbsp;<span class="num" id="6502057">0</span><span class="op" id="6502058">;</span>&nbsp;<span class="ident" id="6502060"><a href="/encoding/ascii85/ascii85.go.html#6502041">i</a></span>&nbsp;<span class="op" id="6502062">&lt;</span>&nbsp;<span class="builtinfunc" id="6502064">len</span><span class="op" id="6502067">(</span><span class="ident" id="6502068"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502069">)</span>&nbsp;<span class="op" id="6502071">&amp;&amp;</span>&nbsp;<span class="ident" id="6502074"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502075">.</span><span class="ident" id="6502076">nbuf</span>&nbsp;<span class="op" id="6502081">&lt;</span>&nbsp;<span class="num" id="6502083">4</span><span class="op" id="6502084">;</span>&nbsp;<span class="ident" id="6502086"><a href="/encoding/ascii85/ascii85.go.html#6502041">i</a></span><span class="op" id="6502087">++</span>&nbsp;<span class="op" id="6502090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502095"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502096">.</span><span class="ident" id="6502097">buf</span><span class="op" id="6502100">[</span><span class="ident" id="6502101"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502102">.</span><span class="ident" id="6502103">nbuf</span><span class="op" id="6502107">]</span>&nbsp;<span class="op" id="6502109">=</span>&nbsp;<span class="ident" id="6502111"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502112">[</span><span class="ident" id="6502113"><a href="/encoding/ascii85/ascii85.go.html#6502041">i</a></span><span class="op" id="6502114">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502119"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502120">.</span><span class="ident" id="6502121">nbuf</span><span class="op" id="6502125">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6502130">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502134"><a href="/encoding/ascii85/ascii85.go.html#6501937">n</a></span>&nbsp;<span class="op" id="6502136">+=</span>&nbsp;<span class="ident" id="6502139"><a href="/encoding/ascii85/ascii85.go.html#6502041">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502143"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span>&nbsp;<span class="op" id="6502145">=</span>&nbsp;<span class="ident" id="6502147"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502148">[</span><span class="ident" id="6502149"><a href="/encoding/ascii85/ascii85.go.html#6502041">i</a></span><span class="op" id="6502150">:</span><span class="op" id="6502151">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502155">if</span>&nbsp;<span class="ident" id="6502158"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502159">.</span><span class="ident" id="6502160">nbuf</span>&nbsp;<span class="op" id="6502165">&lt;</span>&nbsp;<span class="num" id="6502167">4</span>&nbsp;<span class="op" id="6502169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502174">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6502183">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502187">nout</span>&nbsp;<span class="op" id="6502192">:=</span>&nbsp;<span class="ident" id="6502195"><a href="/encoding/ascii85/ascii85.go.html#6500298">Encode</a></span><span class="op" id="6502201">(</span><span class="ident" id="6502202"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502203">.</span><span class="ident" id="6502204">out</span><span class="op" id="6502207">[</span><span class="num" id="6502208">0</span><span class="op" id="6502209">:</span><span class="op" id="6502210">]</span><span class="op" id="6502211">,</span>&nbsp;<span class="ident" id="6502213"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502214">.</span><span class="ident" id="6502215">buf</span><span class="op" id="6502218">[</span><span class="num" id="6502219">0</span><span class="op" id="6502220">:</span><span class="op" id="6502221">]</span><span class="op" id="6502222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502226">if</span>&nbsp;<span class="ident" id="6502229">_</span><span class="op" id="6502230">,</span>&nbsp;<span class="ident" id="6502232"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502233">.</span><span class="ident" id="6502234">err</span>&nbsp;<span class="op" id="6502238">=</span>&nbsp;<span class="ident" id="6502240"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502241">.</span><span class="ident" id="6502242">w</span><span class="op" id="6502243">.</span><span class="ident" id="6502244">Write</span><span class="op" id="6502249">(</span><span class="ident" id="6502250"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502251">.</span><span class="ident" id="6502252">out</span><span class="op" id="6502255">[</span><span class="num" id="6502256">0</span><span class="op" id="6502257">:</span><span class="ident" id="6502258"><a href="/encoding/ascii85/ascii85.go.html#6502187">nout</a></span><span class="op" id="6502262">]</span><span class="op" id="6502263">)</span><span class="op" id="6502264">;</span>&nbsp;<span class="ident" id="6502266"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502267">.</span><span class="ident" id="6502268">err</span>&nbsp;<span class="op" id="6502272">!=</span>&nbsp;<span class="ident" id="6502275">nil</span>&nbsp;<span class="op" id="6502279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502284">return</span>&nbsp;<span class="ident" id="6502291"><a href="/encoding/ascii85/ascii85.go.html#6501937">n</a></span><span class="op" id="6502292">,</span>&nbsp;<span class="ident" id="6502294"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502295">.</span><span class="ident" id="6502296">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6502302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502306"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502307">.</span><span class="ident" id="6502308">nbuf</span>&nbsp;<span class="op" id="6502313">=</span>&nbsp;<span class="num" id="6502315">0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6502318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6502322">//&nbsp;Large&nbsp;interior&nbsp;chunks.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502349">for</span>&nbsp;<span class="builtinfunc" id="6502353">len</span><span class="op" id="6502356">(</span><span class="ident" id="6502357"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502358">)</span>&nbsp;<span class="op" id="6502360">&gt;=</span>&nbsp;<span class="num" id="6502363">4</span>&nbsp;<span class="op" id="6502365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502369">nn</span>&nbsp;<span class="op" id="6502372">:=</span>&nbsp;<span class="builtinfunc" id="6502375">len</span><span class="op" id="6502378">(</span><span class="ident" id="6502379"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502380">.</span><span class="ident" id="6502381">out</span><span class="op" id="6502384">)</span>&nbsp;<span class="op" id="6502386">/</span>&nbsp;<span class="num" id="6502388">5</span>&nbsp;<span class="op" id="6502390">*</span>&nbsp;<span class="num" id="6502392">4</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502396">if</span>&nbsp;<span class="ident" id="6502399"><a href="/encoding/ascii85/ascii85.go.html#6502369">nn</a></span>&nbsp;<span class="op" id="6502402">&gt;</span>&nbsp;<span class="builtinfunc" id="6502404">len</span><span class="op" id="6502407">(</span><span class="ident" id="6502408"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502409">)</span>&nbsp;<span class="op" id="6502411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502416"><a href="/encoding/ascii85/ascii85.go.html#6502369">nn</a></span>&nbsp;<span class="op" id="6502419">=</span>&nbsp;<span class="builtinfunc" id="6502421">len</span><span class="op" id="6502424">(</span><span class="ident" id="6502425"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6502430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502434"><a href="/encoding/ascii85/ascii85.go.html#6502369">nn</a></span>&nbsp;<span class="op" id="6502437">-=</span>&nbsp;<span class="ident" id="6502440"><a href="/encoding/ascii85/ascii85.go.html#6502369">nn</a></span>&nbsp;<span class="op" id="6502443">%</span>&nbsp;<span class="num" id="6502445">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502449">if</span>&nbsp;<span class="ident" id="6502452"><a href="/encoding/ascii85/ascii85.go.html#6502369">nn</a></span>&nbsp;<span class="op" id="6502455">&gt;</span>&nbsp;<span class="num" id="6502457">0</span>&nbsp;<span class="op" id="6502459">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502464">nout</span>&nbsp;<span class="op" id="6502469">:=</span>&nbsp;<span class="ident" id="6502472"><a href="/encoding/ascii85/ascii85.go.html#6500298">Encode</a></span><span class="op" id="6502478">(</span><span class="ident" id="6502479"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502480">.</span><span class="ident" id="6502481">out</span><span class="op" id="6502484">[</span><span class="num" id="6502485">0</span><span class="op" id="6502486">:</span><span class="op" id="6502487">]</span><span class="op" id="6502488">,</span>&nbsp;<span class="ident" id="6502490"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502491">[</span><span class="num" id="6502492">0</span><span class="op" id="6502493">:</span><span class="ident" id="6502494"><a href="/encoding/ascii85/ascii85.go.html#6502369">nn</a></span><span class="op" id="6502496">]</span><span class="op" id="6502497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502502">if</span>&nbsp;<span class="ident" id="6502505">_</span><span class="op" id="6502506">,</span>&nbsp;<span class="ident" id="6502508"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502509">.</span><span class="ident" id="6502510">err</span>&nbsp;<span class="op" id="6502514">=</span>&nbsp;<span class="ident" id="6502516"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502517">.</span><span class="ident" id="6502518">w</span><span class="op" id="6502519">.</span><span class="ident" id="6502520">Write</span><span class="op" id="6502525">(</span><span class="ident" id="6502526"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502527">.</span><span class="ident" id="6502528">out</span><span class="op" id="6502531">[</span><span class="num" id="6502532">0</span><span class="op" id="6502533">:</span><span class="ident" id="6502534"><a href="/encoding/ascii85/ascii85.go.html#6502464">nout</a></span><span class="op" id="6502538">]</span><span class="op" id="6502539">)</span><span class="op" id="6502540">;</span>&nbsp;<span class="ident" id="6502542"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502543">.</span><span class="ident" id="6502544">err</span>&nbsp;<span class="op" id="6502548">!=</span>&nbsp;<span class="ident" id="6502551">nil</span>&nbsp;<span class="op" id="6502555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502561">return</span>&nbsp;<span class="ident" id="6502568"><a href="/encoding/ascii85/ascii85.go.html#6501937">n</a></span><span class="op" id="6502569">,</span>&nbsp;<span class="ident" id="6502571"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502572">.</span><span class="ident" id="6502573">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6502580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6502584">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502588"><a href="/encoding/ascii85/ascii85.go.html#6501937">n</a></span>&nbsp;<span class="op" id="6502590">+=</span>&nbsp;<span class="ident" id="6502593"><a href="/encoding/ascii85/ascii85.go.html#6502369">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502598"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span>&nbsp;<span class="op" id="6502600">=</span>&nbsp;<span class="ident" id="6502602"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502603">[</span><span class="ident" id="6502604"><a href="/encoding/ascii85/ascii85.go.html#6502369">nn</a></span><span class="op" id="6502606">:</span><span class="op" id="6502607">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6502610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6502614">//&nbsp;Trailing&nbsp;fringe.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502635">for</span>&nbsp;<span class="ident" id="6502639">i</span>&nbsp;<span class="op" id="6502641">:=</span>&nbsp;<span class="num" id="6502644">0</span><span class="op" id="6502645">;</span>&nbsp;<span class="ident" id="6502647"><a href="/encoding/ascii85/ascii85.go.html#6502639">i</a></span>&nbsp;<span class="op" id="6502649">&lt;</span>&nbsp;<span class="builtinfunc" id="6502651">len</span><span class="op" id="6502654">(</span><span class="ident" id="6502655"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502656">)</span><span class="op" id="6502657">;</span>&nbsp;<span class="ident" id="6502659"><a href="/encoding/ascii85/ascii85.go.html#6502639">i</a></span><span class="op" id="6502660">++</span>&nbsp;<span class="op" id="6502663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502667"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502668">.</span><span class="ident" id="6502669">buf</span><span class="op" id="6502672">[</span><span class="ident" id="6502673"><a href="/encoding/ascii85/ascii85.go.html#6502639">i</a></span><span class="op" id="6502674">]</span>&nbsp;<span class="op" id="6502676">=</span>&nbsp;<span class="ident" id="6502678"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502679">[</span><span class="ident" id="6502680"><a href="/encoding/ascii85/ascii85.go.html#6502639">i</a></span><span class="op" id="6502681">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6502684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502687"><a href="/encoding/ascii85/ascii85.go.html#6501908">e</a></span><span class="op" id="6502688">.</span><span class="ident" id="6502689">nbuf</span>&nbsp;<span class="op" id="6502694">=</span>&nbsp;<span class="builtinfunc" id="6502696">len</span><span class="op" id="6502699">(</span><span class="ident" id="6502700"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502704"><a href="/encoding/ascii85/ascii85.go.html#6501937">n</a></span>&nbsp;<span class="op" id="6502706">+=</span>&nbsp;<span class="builtinfunc" id="6502709">len</span><span class="op" id="6502712">(</span><span class="ident" id="6502713"><a href="/encoding/ascii85/ascii85.go.html#6501926">p</a></span><span class="op" id="6502714">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502717">return</span><br>
<span class="lineno"></span><span class="op" id="6502724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6502727">//&nbsp;Close&nbsp;flushes&nbsp;any&nbsp;pending&nbsp;output&nbsp;from&nbsp;the&nbsp;encoder.</span><br>
<span class="lineno"></span><span class="comment" id="6502781">//&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;Write&nbsp;after&nbsp;calling&nbsp;Close.</span><br>
<span class="lineno">155</span><span class="keyword" id="6502834">func</span>&nbsp;<span class="op" id="6502839">(</span><span class="ident" id="6502840">e</span>&nbsp;<span class="op" id="6502842">*</span><span class="ident" id="6502843"><a href="/encoding/ascii85/ascii85.go.html#6501721">encoder</a></span><span class="op" id="6502850">)</span>&nbsp;<span class="ident" id="6502852">Close</span><span class="op" id="6502857">(</span><span class="op" id="6502858">)</span>&nbsp;<span class="builtintype" id="6502860">error</span>&nbsp;<span class="op" id="6502866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6502869">//&nbsp;If&nbsp;there&#39;s&nbsp;anything&nbsp;left&nbsp;in&nbsp;the&nbsp;buffer,&nbsp;flush&nbsp;it&nbsp;out</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6502926">if</span>&nbsp;<span class="ident" id="6502929"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6502930">.</span><span class="ident" id="6502931">err</span>&nbsp;<span class="op" id="6502935">==</span>&nbsp;<span class="ident" id="6502938">nil</span>&nbsp;<span class="op" id="6502942">&amp;&amp;</span>&nbsp;<span class="ident" id="6502945"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6502946">.</span><span class="ident" id="6502947">nbuf</span>&nbsp;<span class="op" id="6502952">&gt;</span>&nbsp;<span class="num" id="6502954">0</span>&nbsp;<span class="op" id="6502956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6502960">nout</span>&nbsp;<span class="op" id="6502965">:=</span>&nbsp;<span class="ident" id="6502968"><a href="/encoding/ascii85/ascii85.go.html#6500298">Encode</a></span><span class="op" id="6502974">(</span><span class="ident" id="6502975"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6502976">.</span><span class="ident" id="6502977">out</span><span class="op" id="6502980">[</span><span class="num" id="6502981">0</span><span class="op" id="6502982">:</span><span class="op" id="6502983">]</span><span class="op" id="6502984">,</span>&nbsp;<span class="ident" id="6502986"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6502987">.</span><span class="ident" id="6502988">buf</span><span class="op" id="6502991">[</span><span class="num" id="6502992">0</span><span class="op" id="6502993">:</span><span class="ident" id="6502994"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6502995">.</span><span class="ident" id="6502996">nbuf</span><span class="op" id="6503000">]</span><span class="op" id="6503001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503005"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6503006">.</span><span class="ident" id="6503007">nbuf</span>&nbsp;<span class="op" id="6503012">=</span>&nbsp;<span class="num" id="6503014">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503018">_</span><span class="op" id="6503019">,</span>&nbsp;<span class="ident" id="6503021"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6503022">.</span><span class="ident" id="6503023">err</span>&nbsp;<span class="op" id="6503027">=</span>&nbsp;<span class="ident" id="6503029"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6503030">.</span><span class="ident" id="6503031">w</span><span class="op" id="6503032">.</span><span class="ident" id="6503033">Write</span><span class="op" id="6503038">(</span><span class="ident" id="6503039"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6503040">.</span><span class="ident" id="6503041">out</span><span class="op" id="6503044">[</span><span class="num" id="6503045">0</span><span class="op" id="6503046">:</span><span class="ident" id="6503047"><a href="/encoding/ascii85/ascii85.go.html#6502960">nout</a></span><span class="op" id="6503051">]</span><span class="op" id="6503052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6503055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6503058">return</span>&nbsp;<span class="ident" id="6503065"><a href="/encoding/ascii85/ascii85.go.html#6502840">e</a></span><span class="op" id="6503066">.</span><span class="ident" id="6503067">err</span><br>
<span class="lineno"></span><span class="op" id="6503071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="6503074">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Decoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6503093">type</span>&nbsp;<span class="ident" id="6503098">CorruptInputError</span>&nbsp;<span class="ident" id="6503116">int64</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="6503123">func</span>&nbsp;<span class="op" id="6503128">(</span><span class="ident" id="6503129">e</span>&nbsp;<span class="ident" id="6503131"><a href="/encoding/ascii85/ascii85.go.html#6503098">CorruptInputError</a></span><span class="op" id="6503148">)</span>&nbsp;<span class="ident" id="6503150">Error</span><span class="op" id="6503155">(</span><span class="op" id="6503156">)</span>&nbsp;<span class="builtintype" id="6503158">string</span>&nbsp;<span class="op" id="6503165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6503168">return</span>&nbsp;<span class="string" id="6503175">&#34;illegal&nbsp;ascii85&nbsp;data&nbsp;at&nbsp;input&nbsp;byte&nbsp;&#34;</span>&nbsp;<span class="op" id="6503213">+</span>&nbsp;<span class="ident" id="6503215"><a href="/encoding/ascii85/ascii85.go.html#6499837">strconv</a></span><span class="op" id="6503222">.</span><span class="ident" id="6503223">FormatInt</span><span class="op" id="6503232">(</span><span class="ident" id="6503233">int64</span><span class="op" id="6503238">(</span><span class="ident" id="6503239"><a href="/encoding/ascii85/ascii85.go.html#6503129">e</a></span><span class="op" id="6503240">)</span><span class="op" id="6503241">,</span>&nbsp;<span class="num" id="6503243">10</span><span class="op" id="6503245">)</span><br>
<span class="lineno"></span><span class="op" id="6503247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="6503250">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;dst,&nbsp;returning&nbsp;both&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="6503308">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst&nbsp;and&nbsp;the&nbsp;number&nbsp;consumed&nbsp;from&nbsp;src.</span><br>
<span class="lineno"></span><span class="comment" id="6503369">//&nbsp;If&nbsp;src&nbsp;contains&nbsp;invalid&nbsp;ascii85&nbsp;data,&nbsp;Decode&nbsp;will&nbsp;return&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6503433">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;successfully&nbsp;written&nbsp;and&nbsp;a&nbsp;CorruptInputError.</span><br>
<span class="lineno"></span><span class="comment" id="6503498">//&nbsp;Decode&nbsp;ignores&nbsp;space&nbsp;and&nbsp;control&nbsp;characters&nbsp;in&nbsp;src.</span><br>
<span class="lineno">180</span><span class="comment" id="6503553">//&nbsp;Often,&nbsp;ascii85-encoded&nbsp;data&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;&lt;~&nbsp;and&nbsp;~&gt;&nbsp;symbols.</span><br>
<span class="lineno"></span><span class="comment" id="6503617">//&nbsp;Decode&nbsp;expects&nbsp;these&nbsp;to&nbsp;have&nbsp;been&nbsp;stripped&nbsp;by&nbsp;the&nbsp;caller.</span><br>
<span class="lineno"></span><span class="comment" id="6503678">//</span><br>
<span class="lineno"></span><span class="comment" id="6503681">//&nbsp;If&nbsp;flush&nbsp;is&nbsp;true,&nbsp;Decode&nbsp;assumes&nbsp;that&nbsp;src&nbsp;represents&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6503741">//&nbsp;end&nbsp;of&nbsp;the&nbsp;input&nbsp;stream&nbsp;and&nbsp;processes&nbsp;it&nbsp;completely&nbsp;rather</span><br>
<span class="lineno">185</span><span class="comment" id="6503803">//&nbsp;than&nbsp;wait&nbsp;for&nbsp;the&nbsp;completion&nbsp;of&nbsp;another&nbsp;32-bit&nbsp;block.</span><br>
<span class="lineno"></span><span class="comment" id="6503860">//</span><br>
<span class="lineno"></span><span class="comment" id="6503863">//&nbsp;NewDecoder&nbsp;wraps&nbsp;an&nbsp;io.Reader&nbsp;interface&nbsp;around&nbsp;Decode.</span><br>
<span class="lineno"></span><span class="comment" id="6503921">//</span><br>
<span class="lineno"></span><span class="keyword" id="6503924">func</span>&nbsp;<span class="ident" id="6503929">Decode</span><span class="op" id="6503935">(</span><span class="ident" id="6503936">dst</span><span class="op" id="6503939">,</span>&nbsp;<span class="ident" id="6503941">src</span>&nbsp;<span class="op" id="6503945">[</span><span class="op" id="6503946">]</span><span class="builtintype" id="6503947">byte</span><span class="op" id="6503951">,</span>&nbsp;<span class="ident" id="6503953">flush</span>&nbsp;<span class="builtintype" id="6503959">bool</span><span class="op" id="6503963">)</span>&nbsp;<span class="op" id="6503965">(</span><span class="ident" id="6503966">ndst</span><span class="op" id="6503970">,</span>&nbsp;<span class="ident" id="6503972">nsrc</span>&nbsp;<span class="builtintype" id="6503977">int</span><span class="op" id="6503980">,</span>&nbsp;<span class="ident" id="6503982">err</span>&nbsp;<span class="builtintype" id="6503986">error</span><span class="op" id="6503991">)</span>&nbsp;<span class="op" id="6503993">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6503996">var</span>&nbsp;<span class="ident" id="6504000">v</span>&nbsp;<span class="builtintype" id="6504002">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504010">var</span>&nbsp;<span class="ident" id="6504014">nb</span>&nbsp;<span class="builtintype" id="6504017">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504022">for</span>&nbsp;<span class="ident" id="6504026">i</span><span class="op" id="6504027">,</span>&nbsp;<span class="ident" id="6504029">b</span>&nbsp;<span class="op" id="6504031">:=</span>&nbsp;<span class="keyword" id="6504034">range</span>&nbsp;<span class="ident" id="6504040"><a href="/encoding/ascii85/ascii85.go.html#6503941">src</a></span>&nbsp;<span class="op" id="6504044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504048">if</span>&nbsp;<span class="builtinfunc" id="6504051">len</span><span class="op" id="6504054">(</span><span class="ident" id="6504055"><a href="/encoding/ascii85/ascii85.go.html#6503936">dst</a></span><span class="op" id="6504058">)</span><span class="op" id="6504059">-</span><span class="ident" id="6504060"><a href="/encoding/ascii85/ascii85.go.html#6503966">ndst</a></span>&nbsp;<span class="op" id="6504065">&lt;</span>&nbsp;<span class="num" id="6504067">4</span>&nbsp;<span class="op" id="6504069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504074">return</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504087">switch</span>&nbsp;<span class="op" id="6504094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504098">case</span>&nbsp;<span class="ident" id="6504103"><a href="/encoding/ascii85/ascii85.go.html#6504029">b</a></span>&nbsp;<span class="op" id="6504105">&lt;=</span>&nbsp;<span class="string" id="6504108">&#39;&nbsp;&#39;</span><span class="op" id="6504111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504116">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504127">case</span>&nbsp;<span class="ident" id="6504132"><a href="/encoding/ascii85/ascii85.go.html#6504029">b</a></span>&nbsp;<span class="op" id="6504134">==</span>&nbsp;<span class="string" id="6504137">&#39;z&#39;</span>&nbsp;<span class="op" id="6504141">&amp;&amp;</span>&nbsp;<span class="ident" id="6504144"><a href="/encoding/ascii85/ascii85.go.html#6504014">nb</a></span>&nbsp;<span class="op" id="6504147">==</span>&nbsp;<span class="num" id="6504150">0</span><span class="op" id="6504151">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504156"><a href="/encoding/ascii85/ascii85.go.html#6504014">nb</a></span>&nbsp;<span class="op" id="6504159">=</span>&nbsp;<span class="num" id="6504161">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504166"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span>&nbsp;<span class="op" id="6504168">=</span>&nbsp;<span class="num" id="6504170">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504174">case</span>&nbsp;<span class="string" id="6504179">&#39;!&#39;</span>&nbsp;<span class="op" id="6504183">&lt;=</span>&nbsp;<span class="ident" id="6504186"><a href="/encoding/ascii85/ascii85.go.html#6504029">b</a></span>&nbsp;<span class="op" id="6504188">&amp;&amp;</span>&nbsp;<span class="ident" id="6504191"><a href="/encoding/ascii85/ascii85.go.html#6504029">b</a></span>&nbsp;<span class="op" id="6504193">&lt;=</span>&nbsp;<span class="string" id="6504196">&#39;u&#39;</span><span class="op" id="6504199">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504204"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span>&nbsp;<span class="op" id="6504206">=</span>&nbsp;<span class="ident" id="6504208"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span><span class="op" id="6504209">*</span><span class="num" id="6504210">85</span>&nbsp;<span class="op" id="6504213">+</span>&nbsp;<span class="builtintype" id="6504215">uint32</span><span class="op" id="6504221">(</span><span class="ident" id="6504222"><a href="/encoding/ascii85/ascii85.go.html#6504029">b</a></span><span class="op" id="6504223">-</span><span class="string" id="6504224">&#39;!&#39;</span><span class="op" id="6504227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504232"><a href="/encoding/ascii85/ascii85.go.html#6504014">nb</a></span><span class="op" id="6504234">++</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504239">default</span><span class="op" id="6504246">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504251">return</span>&nbsp;<span class="num" id="6504258">0</span><span class="op" id="6504259">,</span>&nbsp;<span class="num" id="6504261">0</span><span class="op" id="6504262">,</span>&nbsp;<span class="ident" id="6504264"><a href="/encoding/ascii85/ascii85.go.html#6503098">CorruptInputError</a></span><span class="op" id="6504281">(</span><span class="ident" id="6504282"><a href="/encoding/ascii85/ascii85.go.html#6504026">i</a></span><span class="op" id="6504283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504291">if</span>&nbsp;<span class="ident" id="6504294"><a href="/encoding/ascii85/ascii85.go.html#6504014">nb</a></span>&nbsp;<span class="op" id="6504297">==</span>&nbsp;<span class="num" id="6504300">5</span>&nbsp;<span class="op" id="6504302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504307"><a href="/encoding/ascii85/ascii85.go.html#6503972">nsrc</a></span>&nbsp;<span class="op" id="6504312">=</span>&nbsp;<span class="ident" id="6504314"><a href="/encoding/ascii85/ascii85.go.html#6504026">i</a></span>&nbsp;<span class="op" id="6504316">+</span>&nbsp;<span class="num" id="6504318">1</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504323"><a href="/encoding/ascii85/ascii85.go.html#6503936">dst</a></span><span class="op" id="6504326">[</span><span class="ident" id="6504327"><a href="/encoding/ascii85/ascii85.go.html#6503966">ndst</a></span><span class="op" id="6504331">]</span>&nbsp;<span class="op" id="6504333">=</span>&nbsp;<span class="builtintype" id="6504335">byte</span><span class="op" id="6504339">(</span><span class="ident" id="6504340"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span>&nbsp;<span class="op" id="6504342">&gt;&gt;</span>&nbsp;<span class="num" id="6504345">24</span><span class="op" id="6504347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504352"><a href="/encoding/ascii85/ascii85.go.html#6503936">dst</a></span><span class="op" id="6504355">[</span><span class="ident" id="6504356"><a href="/encoding/ascii85/ascii85.go.html#6503966">ndst</a></span><span class="op" id="6504360">+</span><span class="num" id="6504361">1</span><span class="op" id="6504362">]</span>&nbsp;<span class="op" id="6504364">=</span>&nbsp;<span class="builtintype" id="6504366">byte</span><span class="op" id="6504370">(</span><span class="ident" id="6504371"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span>&nbsp;<span class="op" id="6504373">&gt;&gt;</span>&nbsp;<span class="num" id="6504376">16</span><span class="op" id="6504378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504383"><a href="/encoding/ascii85/ascii85.go.html#6503936">dst</a></span><span class="op" id="6504386">[</span><span class="ident" id="6504387"><a href="/encoding/ascii85/ascii85.go.html#6503966">ndst</a></span><span class="op" id="6504391">+</span><span class="num" id="6504392">2</span><span class="op" id="6504393">]</span>&nbsp;<span class="op" id="6504395">=</span>&nbsp;<span class="builtintype" id="6504397">byte</span><span class="op" id="6504401">(</span><span class="ident" id="6504402"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span>&nbsp;<span class="op" id="6504404">&gt;&gt;</span>&nbsp;<span class="num" id="6504407">8</span><span class="op" id="6504408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504413"><a href="/encoding/ascii85/ascii85.go.html#6503936">dst</a></span><span class="op" id="6504416">[</span><span class="ident" id="6504417"><a href="/encoding/ascii85/ascii85.go.html#6503966">ndst</a></span><span class="op" id="6504421">+</span><span class="num" id="6504422">3</span><span class="op" id="6504423">]</span>&nbsp;<span class="op" id="6504425">=</span>&nbsp;<span class="builtintype" id="6504427">byte</span><span class="op" id="6504431">(</span><span class="ident" id="6504432"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span><span class="op" id="6504433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504438"><a href="/encoding/ascii85/ascii85.go.html#6503966">ndst</a></span>&nbsp;<span class="op" id="6504443">+=</span>&nbsp;<span class="num" id="6504446">4</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504451"><a href="/encoding/ascii85/ascii85.go.html#6504014">nb</a></span>&nbsp;<span class="op" id="6504454">=</span>&nbsp;<span class="num" id="6504456">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504461"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span>&nbsp;<span class="op" id="6504463">=</span>&nbsp;<span class="num" id="6504465">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504475">if</span>&nbsp;<span class="ident" id="6504478"><a href="/encoding/ascii85/ascii85.go.html#6503953">flush</a></span>&nbsp;<span class="op" id="6504484">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504488"><a href="/encoding/ascii85/ascii85.go.html#6503972">nsrc</a></span>&nbsp;<span class="op" id="6504493">=</span>&nbsp;<span class="builtinfunc" id="6504495">len</span><span class="op" id="6504498">(</span><span class="ident" id="6504499"><a href="/encoding/ascii85/ascii85.go.html#6503941">src</a></span><span class="op" id="6504502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504506">if</span>&nbsp;<span class="ident" id="6504509"><a href="/encoding/ascii85/ascii85.go.html#6504014">nb</a></span>&nbsp;<span class="op" id="6504512">&gt;</span>&nbsp;<span class="num" id="6504514">0</span>&nbsp;<span class="op" id="6504516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6504521">//&nbsp;The&nbsp;number&nbsp;of&nbsp;output&nbsp;bytes&nbsp;in&nbsp;the&nbsp;last&nbsp;fragment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6504575">//&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;leftover&nbsp;input&nbsp;bytes&nbsp;-&nbsp;1:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6504624">//&nbsp;the&nbsp;extra&nbsp;byte&nbsp;provides&nbsp;enough&nbsp;bits&nbsp;to&nbsp;cover</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6504675">//&nbsp;the&nbsp;inefficiency&nbsp;of&nbsp;the&nbsp;encoding&nbsp;for&nbsp;the&nbsp;block.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504729">if</span>&nbsp;<span class="ident" id="6504732"><a href="/encoding/ascii85/ascii85.go.html#6504014">nb</a></span>&nbsp;<span class="op" id="6504735">==</span>&nbsp;<span class="num" id="6504738">1</span>&nbsp;<span class="op" id="6504740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504746">return</span>&nbsp;<span class="num" id="6504753">0</span><span class="op" id="6504754">,</span>&nbsp;<span class="num" id="6504756">0</span><span class="op" id="6504757">,</span>&nbsp;<span class="ident" id="6504759"><a href="/encoding/ascii85/ascii85.go.html#6503098">CorruptInputError</a></span><span class="op" id="6504776">(</span><span class="builtinfunc" id="6504777">len</span><span class="op" id="6504780">(</span><span class="ident" id="6504781"><a href="/encoding/ascii85/ascii85.go.html#6503941">src</a></span><span class="op" id="6504784">)</span><span class="op" id="6504785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504795">for</span>&nbsp;<span class="ident" id="6504799">i</span>&nbsp;<span class="op" id="6504801">:=</span>&nbsp;<span class="ident" id="6504804"><a href="/encoding/ascii85/ascii85.go.html#6504014">nb</a></span><span class="op" id="6504806">;</span>&nbsp;<span class="ident" id="6504808"><a href="/encoding/ascii85/ascii85.go.html#6504799">i</a></span>&nbsp;<span class="op" id="6504810">&lt;</span>&nbsp;<span class="num" id="6504812">5</span><span class="op" id="6504813">;</span>&nbsp;<span class="ident" id="6504815"><a href="/encoding/ascii85/ascii85.go.html#6504799">i</a></span><span class="op" id="6504816">++</span>&nbsp;<span class="op" id="6504819">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6504825">//&nbsp;The&nbsp;short&nbsp;encoding&nbsp;truncated&nbsp;the&nbsp;output&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6504879">//&nbsp;We&nbsp;have&nbsp;to&nbsp;assume&nbsp;the&nbsp;worst&nbsp;case&nbsp;values&nbsp;(digit&nbsp;84)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6504937">//&nbsp;in&nbsp;order&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;top&nbsp;bits&nbsp;are&nbsp;correct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504994"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span>&nbsp;<span class="op" id="6504996">=</span>&nbsp;<span class="ident" id="6504998"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span><span class="op" id="6504999">*</span><span class="num" id="6505000">85</span>&nbsp;<span class="op" id="6505003">+</span>&nbsp;<span class="num" id="6505005">84</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505011">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505016">for</span>&nbsp;<span class="ident" id="6505020">i</span>&nbsp;<span class="op" id="6505022">:=</span>&nbsp;<span class="num" id="6505025">0</span><span class="op" id="6505026">;</span>&nbsp;<span class="ident" id="6505028"><a href="/encoding/ascii85/ascii85.go.html#6505020">i</a></span>&nbsp;<span class="op" id="6505030">&lt;</span>&nbsp;<span class="ident" id="6505032"><a href="/encoding/ascii85/ascii85.go.html#6504014">nb</a></span><span class="op" id="6505034">-</span><span class="num" id="6505035">1</span><span class="op" id="6505036">;</span>&nbsp;<span class="ident" id="6505038"><a href="/encoding/ascii85/ascii85.go.html#6505020">i</a></span><span class="op" id="6505039">++</span>&nbsp;<span class="op" id="6505042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505048"><a href="/encoding/ascii85/ascii85.go.html#6503936">dst</a></span><span class="op" id="6505051">[</span><span class="ident" id="6505052"><a href="/encoding/ascii85/ascii85.go.html#6503966">ndst</a></span><span class="op" id="6505056">]</span>&nbsp;<span class="op" id="6505058">=</span>&nbsp;<span class="builtintype" id="6505060">byte</span><span class="op" id="6505064">(</span><span class="ident" id="6505065"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span>&nbsp;<span class="op" id="6505067">&gt;&gt;</span>&nbsp;<span class="num" id="6505070">24</span><span class="op" id="6505072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505078"><a href="/encoding/ascii85/ascii85.go.html#6504000">v</a></span>&nbsp;<span class="op" id="6505080">&lt;&lt;=</span>&nbsp;<span class="num" id="6505084">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505090"><a href="/encoding/ascii85/ascii85.go.html#6503966">ndst</a></span><span class="op" id="6505094">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505100">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505110">return</span><br>
<span class="lineno"></span><span class="op" id="6505117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="6505120">//&nbsp;NewDecoder&nbsp;constructs&nbsp;a&nbsp;new&nbsp;ascii85&nbsp;stream&nbsp;decoder.</span><br>
<span class="lineno"></span><span class="keyword" id="6505175">func</span>&nbsp;<span class="ident" id="6505180">NewDecoder</span><span class="op" id="6505190">(</span><span class="ident" id="6505191">r</span>&nbsp;<span class="ident" id="6505193"><a href="/encoding/ascii85/ascii85.go.html#6499831">io</a></span><span class="op" id="6505195">.</span><span class="ident" id="6505196">Reader</span><span class="op" id="6505202">)</span>&nbsp;<span class="ident" id="6505204"><a href="/encoding/ascii85/ascii85.go.html#6499831">io</a></span><span class="op" id="6505206">.</span><span class="ident" id="6505207">Reader</span>&nbsp;<span class="op" id="6505214">{</span>&nbsp;<span class="keyword" id="6505216">return</span>&nbsp;<span class="op" id="6505223">&amp;</span><span class="ident" id="6505224"><a href="/encoding/ascii85/ascii85.go.html#6505246">decoder</a></span><span class="op" id="6505231">{</span><span class="ident" id="6505232">r</span><span class="op" id="6505233">:</span>&nbsp;<span class="ident" id="6505235"><a href="/encoding/ascii85/ascii85.go.html#6505191">r</a></span><span class="op" id="6505236">}</span>&nbsp;<span class="op" id="6505238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6505241">type</span>&nbsp;<span class="ident" id="6505246">decoder</span>&nbsp;<span class="keyword" id="6505254">struct</span>&nbsp;<span class="op" id="6505261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505264">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6505272">error</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505279">readErr</span>&nbsp;<span class="builtintype" id="6505287">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505294">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6505302"><a href="/encoding/ascii85/ascii85.go.html#6499831">io</a></span><span class="op" id="6505304">.</span><span class="ident" id="6505305">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505313">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505321">[</span><span class="num" id="6505322">1024</span><span class="op" id="6505326">]</span><span class="builtintype" id="6505327">byte</span>&nbsp;<span class="comment" id="6505332">//&nbsp;leftover&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505351">nbuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6505359">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505364">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6505372">[</span><span class="op" id="6505373">]</span><span class="builtintype" id="6505374">byte</span>&nbsp;<span class="comment" id="6505379">//&nbsp;leftover&nbsp;decoded&nbsp;output</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505407">outbuf</span>&nbsp;&nbsp;<span class="op" id="6505415">[</span><span class="num" id="6505416">1024</span><span class="op" id="6505420">]</span><span class="builtintype" id="6505421">byte</span><br>
<span class="lineno"></span><span class="op" id="6505426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6505429">func</span>&nbsp;<span class="op" id="6505434">(</span><span class="ident" id="6505435">d</span>&nbsp;<span class="op" id="6505437">*</span><span class="ident" id="6505438"><a href="/encoding/ascii85/ascii85.go.html#6505246">decoder</a></span><span class="op" id="6505445">)</span>&nbsp;<span class="ident" id="6505447">Read</span><span class="op" id="6505451">(</span><span class="ident" id="6505452">p</span>&nbsp;<span class="op" id="6505454">[</span><span class="op" id="6505455">]</span><span class="builtintype" id="6505456">byte</span><span class="op" id="6505460">)</span>&nbsp;<span class="op" id="6505462">(</span><span class="ident" id="6505463">n</span>&nbsp;<span class="builtintype" id="6505465">int</span><span class="op" id="6505468">,</span>&nbsp;<span class="ident" id="6505470">err</span>&nbsp;<span class="builtintype" id="6505474">error</span><span class="op" id="6505479">)</span>&nbsp;<span class="op" id="6505481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505484">if</span>&nbsp;<span class="builtinfunc" id="6505487">len</span><span class="op" id="6505490">(</span><span class="ident" id="6505491"><a href="/encoding/ascii85/ascii85.go.html#6505452">p</a></span><span class="op" id="6505492">)</span>&nbsp;<span class="op" id="6505494">==</span>&nbsp;<span class="num" id="6505497">0</span>&nbsp;<span class="op" id="6505499">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505503">return</span>&nbsp;<span class="num" id="6505510">0</span><span class="op" id="6505511">,</span>&nbsp;<span class="ident" id="6505513">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505521">if</span>&nbsp;<span class="ident" id="6505524"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505525">.</span><span class="ident" id="6505526">err</span>&nbsp;<span class="op" id="6505530">!=</span>&nbsp;<span class="ident" id="6505533">nil</span>&nbsp;<span class="op" id="6505537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505541">return</span>&nbsp;<span class="num" id="6505548">0</span><span class="op" id="6505549">,</span>&nbsp;<span class="ident" id="6505551"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505552">.</span><span class="ident" id="6505553">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505558">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505562">for</span>&nbsp;<span class="op" id="6505566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6505570">//&nbsp;Copy&nbsp;leftover&nbsp;output&nbsp;from&nbsp;last&nbsp;decode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505614">if</span>&nbsp;<span class="builtinfunc" id="6505617">len</span><span class="op" id="6505620">(</span><span class="ident" id="6505621"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505622">.</span><span class="ident" id="6505623">out</span><span class="op" id="6505626">)</span>&nbsp;<span class="op" id="6505628">&gt;</span>&nbsp;<span class="num" id="6505630">0</span>&nbsp;<span class="op" id="6505632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505637"><a href="/encoding/ascii85/ascii85.go.html#6505463">n</a></span>&nbsp;<span class="op" id="6505639">=</span>&nbsp;<span class="builtinfunc" id="6505641">copy</span><span class="op" id="6505645">(</span><span class="ident" id="6505646"><a href="/encoding/ascii85/ascii85.go.html#6505452">p</a></span><span class="op" id="6505647">,</span>&nbsp;<span class="ident" id="6505649"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505650">.</span><span class="ident" id="6505651">out</span><span class="op" id="6505654">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505659"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505660">.</span><span class="ident" id="6505661">out</span>&nbsp;<span class="op" id="6505665">=</span>&nbsp;<span class="ident" id="6505667"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505668">.</span><span class="ident" id="6505669">out</span><span class="op" id="6505672">[</span><span class="ident" id="6505673"><a href="/encoding/ascii85/ascii85.go.html#6505463">n</a></span><span class="op" id="6505674">:</span><span class="op" id="6505675">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505680">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6505694">//&nbsp;Decode&nbsp;leftover&nbsp;input&nbsp;from&nbsp;last&nbsp;read.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505737">var</span>&nbsp;<span class="ident" id="6505741">nn</span><span class="op" id="6505743">,</span>&nbsp;<span class="ident" id="6505745">nsrc</span><span class="op" id="6505749">,</span>&nbsp;<span class="ident" id="6505751">ndst</span>&nbsp;<span class="builtintype" id="6505756">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505762">if</span>&nbsp;<span class="ident" id="6505765"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505766">.</span><span class="ident" id="6505767">nbuf</span>&nbsp;<span class="op" id="6505772">&gt;</span>&nbsp;<span class="num" id="6505774">0</span>&nbsp;<span class="op" id="6505776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505781"><a href="/encoding/ascii85/ascii85.go.html#6505751">ndst</a></span><span class="op" id="6505785">,</span>&nbsp;<span class="ident" id="6505787"><a href="/encoding/ascii85/ascii85.go.html#6505745">nsrc</a></span><span class="op" id="6505791">,</span>&nbsp;<span class="ident" id="6505793"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505794">.</span><span class="ident" id="6505795">err</span>&nbsp;<span class="op" id="6505799">=</span>&nbsp;<span class="ident" id="6505801"><a href="/encoding/ascii85/ascii85.go.html#6503929">Decode</a></span><span class="op" id="6505807">(</span><span class="ident" id="6505808"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505809">.</span><span class="ident" id="6505810">outbuf</span><span class="op" id="6505816">[</span><span class="num" id="6505817">0</span><span class="op" id="6505818">:</span><span class="op" id="6505819">]</span><span class="op" id="6505820">,</span>&nbsp;<span class="ident" id="6505822"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505823">.</span><span class="ident" id="6505824">buf</span><span class="op" id="6505827">[</span><span class="num" id="6505828">0</span><span class="op" id="6505829">:</span><span class="ident" id="6505830"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505831">.</span><span class="ident" id="6505832">nbuf</span><span class="op" id="6505836">]</span><span class="op" id="6505837">,</span>&nbsp;<span class="ident" id="6505839"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505840">.</span><span class="ident" id="6505841">readErr</span>&nbsp;<span class="op" id="6505849">!=</span>&nbsp;<span class="ident" id="6505852">nil</span><span class="op" id="6505855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505860">if</span>&nbsp;<span class="ident" id="6505863"><a href="/encoding/ascii85/ascii85.go.html#6505751">ndst</a></span>&nbsp;<span class="op" id="6505868">&gt;</span>&nbsp;<span class="num" id="6505870">0</span>&nbsp;<span class="op" id="6505872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505878"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505879">.</span><span class="ident" id="6505880">out</span>&nbsp;<span class="op" id="6505884">=</span>&nbsp;<span class="ident" id="6505886"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505887">.</span><span class="ident" id="6505888">outbuf</span><span class="op" id="6505894">[</span><span class="num" id="6505895">0</span><span class="op" id="6505896">:</span><span class="ident" id="6505897"><a href="/encoding/ascii85/ascii85.go.html#6505751">ndst</a></span><span class="op" id="6505901">]</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505907"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505908">.</span><span class="ident" id="6505909">nbuf</span>&nbsp;<span class="op" id="6505914">=</span>&nbsp;<span class="builtinfunc" id="6505916">copy</span><span class="op" id="6505920">(</span><span class="ident" id="6505921"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505922">.</span><span class="ident" id="6505923">buf</span><span class="op" id="6505926">[</span><span class="num" id="6505927">0</span><span class="op" id="6505928">:</span><span class="op" id="6505929">]</span><span class="op" id="6505930">,</span>&nbsp;<span class="ident" id="6505932"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505933">.</span><span class="ident" id="6505934">buf</span><span class="op" id="6505937">[</span><span class="ident" id="6505938"><a href="/encoding/ascii85/ascii85.go.html#6505745">nsrc</a></span><span class="op" id="6505942">:</span><span class="ident" id="6505943"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6505944">.</span><span class="ident" id="6505945">nbuf</span><span class="op" id="6505949">]</span><span class="op" id="6505950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505956">continue</span>&nbsp;<span class="comment" id="6505965">//&nbsp;copy&nbsp;out&nbsp;and&nbsp;return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505996">if</span>&nbsp;<span class="ident" id="6505999"><a href="/encoding/ascii85/ascii85.go.html#6505751">ndst</a></span>&nbsp;<span class="op" id="6506004">==</span>&nbsp;<span class="num" id="6506007">0</span>&nbsp;<span class="op" id="6506009">&amp;&amp;</span>&nbsp;<span class="ident" id="6506012"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506013">.</span><span class="ident" id="6506014">err</span>&nbsp;<span class="op" id="6506018">==</span>&nbsp;<span class="ident" id="6506021">nil</span>&nbsp;<span class="op" id="6506025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6506031">//&nbsp;Special&nbsp;case:&nbsp;input&nbsp;buffer&nbsp;is&nbsp;mostly&nbsp;filled&nbsp;with&nbsp;non-data&nbsp;bytes.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6506103">//&nbsp;Filter&nbsp;out&nbsp;such&nbsp;bytes&nbsp;to&nbsp;make&nbsp;room&nbsp;for&nbsp;more&nbsp;input.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506161">off</span>&nbsp;<span class="op" id="6506165">:=</span>&nbsp;<span class="num" id="6506168">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506174">for</span>&nbsp;<span class="ident" id="6506178">i</span>&nbsp;<span class="op" id="6506180">:=</span>&nbsp;<span class="num" id="6506183">0</span><span class="op" id="6506184">;</span>&nbsp;<span class="ident" id="6506186"><a href="/encoding/ascii85/ascii85.go.html#6506178">i</a></span>&nbsp;<span class="op" id="6506188">&lt;</span>&nbsp;<span class="ident" id="6506190"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506191">.</span><span class="ident" id="6506192">nbuf</span><span class="op" id="6506196">;</span>&nbsp;<span class="ident" id="6506198"><a href="/encoding/ascii85/ascii85.go.html#6506178">i</a></span><span class="op" id="6506199">++</span>&nbsp;<span class="op" id="6506202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506209">if</span>&nbsp;<span class="ident" id="6506212"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506213">.</span><span class="ident" id="6506214">buf</span><span class="op" id="6506217">[</span><span class="ident" id="6506218"><a href="/encoding/ascii85/ascii85.go.html#6506178">i</a></span><span class="op" id="6506219">]</span>&nbsp;<span class="op" id="6506221">&gt;</span>&nbsp;<span class="string" id="6506223">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6506227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506235"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506236">.</span><span class="ident" id="6506237">buf</span><span class="op" id="6506240">[</span><span class="ident" id="6506241"><a href="/encoding/ascii85/ascii85.go.html#6506161">off</a></span><span class="op" id="6506244">]</span>&nbsp;<span class="op" id="6506246">=</span>&nbsp;<span class="ident" id="6506248"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506249">.</span><span class="ident" id="6506250">buf</span><span class="op" id="6506253">[</span><span class="ident" id="6506254"><a href="/encoding/ascii85/ascii85.go.html#6506178">i</a></span><span class="op" id="6506255">]</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506263"><a href="/encoding/ascii85/ascii85.go.html#6506161">off</a></span><span class="op" id="6506266">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506286"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506287">.</span><span class="ident" id="6506288">nbuf</span>&nbsp;<span class="op" id="6506293">=</span>&nbsp;<span class="ident" id="6506295"><a href="/encoding/ascii85/ascii85.go.html#6506161">off</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506302">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6506311">//&nbsp;Out&nbsp;of&nbsp;input,&nbsp;out&nbsp;of&nbsp;decoded&nbsp;output.&nbsp;&nbsp;Check&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506368">if</span>&nbsp;<span class="ident" id="6506371"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506372">.</span><span class="ident" id="6506373">err</span>&nbsp;<span class="op" id="6506377">!=</span>&nbsp;<span class="ident" id="6506380">nil</span>&nbsp;<span class="op" id="6506384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506389">return</span>&nbsp;<span class="num" id="6506396">0</span><span class="op" id="6506397">,</span>&nbsp;<span class="ident" id="6506399"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506400">.</span><span class="ident" id="6506401">err</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506411">if</span>&nbsp;<span class="ident" id="6506414"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506415">.</span><span class="ident" id="6506416">readErr</span>&nbsp;<span class="op" id="6506424">!=</span>&nbsp;<span class="ident" id="6506427">nil</span>&nbsp;<span class="op" id="6506431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506436"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506437">.</span><span class="ident" id="6506438">err</span>&nbsp;<span class="op" id="6506442">=</span>&nbsp;<span class="ident" id="6506444"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506445">.</span><span class="ident" id="6506446">readErr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506457">return</span>&nbsp;<span class="num" id="6506464">0</span><span class="op" id="6506465">,</span>&nbsp;<span class="ident" id="6506467"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506468">.</span><span class="ident" id="6506469">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506475">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6506480">//&nbsp;Read&nbsp;more&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506501"><a href="/encoding/ascii85/ascii85.go.html#6505741">nn</a></span><span class="op" id="6506503">,</span>&nbsp;<span class="ident" id="6506505"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506506">.</span><span class="ident" id="6506507">readErr</span>&nbsp;<span class="op" id="6506515">=</span>&nbsp;<span class="ident" id="6506517"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506518">.</span><span class="ident" id="6506519">r</span><span class="op" id="6506520">.</span><span class="ident" id="6506521">Read</span><span class="op" id="6506525">(</span><span class="ident" id="6506526"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506527">.</span><span class="ident" id="6506528">buf</span><span class="op" id="6506531">[</span><span class="ident" id="6506532"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506533">.</span><span class="ident" id="6506534">nbuf</span><span class="op" id="6506538">:</span><span class="op" id="6506539">]</span><span class="op" id="6506540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506544"><a href="/encoding/ascii85/ascii85.go.html#6505435">d</a></span><span class="op" id="6506545">.</span><span class="ident" id="6506546">nbuf</span>&nbsp;<span class="op" id="6506551">+=</span>&nbsp;<span class="ident" id="6506554"><a href="/encoding/ascii85/ascii85.go.html#6505741">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506558">}</span><br>
<span class="lineno">310</span><span class="op" id="6506560">}</span>
</div>
</body>
</html>
