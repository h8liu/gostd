<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html" class="current">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7485881">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7485936">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7485990">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7486041">package</span>&nbsp;<span class="ident" id="7486049">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7486055">import</span>&nbsp;<span class="op" id="7486062">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7486065">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7486075">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7486078">var</span>&nbsp;<span class="ident" id="7486082">ParseRangeTests</span>&nbsp;<span class="op" id="7486098">=</span>&nbsp;<span class="op" id="7486100">[</span><span class="op" id="7486101">]</span><span class="keyword" id="7486102">struct</span>&nbsp;<span class="op" id="7486109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7486112">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7486119">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7486127">length</span>&nbsp;<span class="builtintype" id="7486134">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7486141">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486148">[</span><span class="op" id="7486149">]</span><span class="ident" id="7486150">httpRange</span><br>
<span class="lineno">15</span><span class="op" id="7486160">}</span><span class="op" id="7486161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486164">{</span><span class="string" id="7486165">&#34;&#34;</span><span class="op" id="7486167">,</span>&nbsp;<span class="num" id="7486169">0</span><span class="op" id="7486170">,</span>&nbsp;<span class="builtintype" id="7486172">nil</span><span class="op" id="7486175">}</span><span class="op" id="7486176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486179">{</span><span class="string" id="7486180">&#34;&#34;</span><span class="op" id="7486182">,</span>&nbsp;<span class="num" id="7486184">1000</span><span class="op" id="7486188">,</span>&nbsp;<span class="builtintype" id="7486190">nil</span><span class="op" id="7486193">}</span><span class="op" id="7486194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486197">{</span><span class="string" id="7486198">&#34;foo&#34;</span><span class="op" id="7486203">,</span>&nbsp;<span class="num" id="7486205">0</span><span class="op" id="7486206">,</span>&nbsp;<span class="builtintype" id="7486208">nil</span><span class="op" id="7486211">}</span><span class="op" id="7486212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486215">{</span><span class="string" id="7486216">&#34;bytes=&#34;</span><span class="op" id="7486224">,</span>&nbsp;<span class="num" id="7486226">0</span><span class="op" id="7486227">,</span>&nbsp;<span class="builtintype" id="7486229">nil</span><span class="op" id="7486232">}</span><span class="op" id="7486233">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486236">{</span><span class="string" id="7486237">&#34;bytes=7&#34;</span><span class="op" id="7486246">,</span>&nbsp;<span class="num" id="7486248">10</span><span class="op" id="7486250">,</span>&nbsp;<span class="builtintype" id="7486252">nil</span><span class="op" id="7486255">}</span><span class="op" id="7486256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486259">{</span><span class="string" id="7486260">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="7486271">,</span>&nbsp;<span class="num" id="7486273">10</span><span class="op" id="7486275">,</span>&nbsp;<span class="builtintype" id="7486277">nil</span><span class="op" id="7486280">}</span><span class="op" id="7486281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486284">{</span><span class="string" id="7486285">&#34;bytes=1-&#34;</span><span class="op" id="7486295">,</span>&nbsp;<span class="num" id="7486297">0</span><span class="op" id="7486298">,</span>&nbsp;<span class="builtintype" id="7486300">nil</span><span class="op" id="7486303">}</span><span class="op" id="7486304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486307">{</span><span class="string" id="7486308">&#34;bytes=5-4&#34;</span><span class="op" id="7486319">,</span>&nbsp;<span class="num" id="7486321">10</span><span class="op" id="7486323">,</span>&nbsp;<span class="builtintype" id="7486325">nil</span><span class="op" id="7486328">}</span><span class="op" id="7486329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486332">{</span><span class="string" id="7486333">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="7486348">,</span>&nbsp;<span class="num" id="7486350">10</span><span class="op" id="7486352">,</span>&nbsp;<span class="builtintype" id="7486354">nil</span><span class="op" id="7486357">}</span><span class="op" id="7486358">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486361">{</span><span class="string" id="7486362">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="7486377">,</span>&nbsp;<span class="num" id="7486379">10</span><span class="op" id="7486381">,</span>&nbsp;<span class="builtintype" id="7486383">nil</span><span class="op" id="7486386">}</span><span class="op" id="7486387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486390">{</span><span class="string" id="7486391">&#34;bytes=--5,4--3&#34;</span><span class="op" id="7486407">,</span>&nbsp;<span class="num" id="7486409">10</span><span class="op" id="7486411">,</span>&nbsp;<span class="builtintype" id="7486413">nil</span><span class="op" id="7486416">}</span><span class="op" id="7486417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486420">{</span><span class="string" id="7486421">&#34;bytes=A-&#34;</span><span class="op" id="7486431">,</span>&nbsp;<span class="num" id="7486433">10</span><span class="op" id="7486435">,</span>&nbsp;<span class="builtintype" id="7486437">nil</span><span class="op" id="7486440">}</span><span class="op" id="7486441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486444">{</span><span class="string" id="7486445">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="7486456">,</span>&nbsp;<span class="num" id="7486458">10</span><span class="op" id="7486460">,</span>&nbsp;<span class="builtintype" id="7486462">nil</span><span class="op" id="7486465">}</span><span class="op" id="7486466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486469">{</span><span class="string" id="7486470">&#34;bytes=A-Z&#34;</span><span class="op" id="7486481">,</span>&nbsp;<span class="num" id="7486483">10</span><span class="op" id="7486485">,</span>&nbsp;<span class="builtintype" id="7486487">nil</span><span class="op" id="7486490">}</span><span class="op" id="7486491">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486494">{</span><span class="string" id="7486495">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="7486506">,</span>&nbsp;<span class="num" id="7486508">10</span><span class="op" id="7486510">,</span>&nbsp;<span class="builtintype" id="7486512">nil</span><span class="op" id="7486515">}</span><span class="op" id="7486516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486519">{</span><span class="string" id="7486520">&#34;bytes=5-Z&#34;</span><span class="op" id="7486531">,</span>&nbsp;<span class="num" id="7486533">10</span><span class="op" id="7486535">,</span>&nbsp;<span class="builtintype" id="7486537">nil</span><span class="op" id="7486540">}</span><span class="op" id="7486541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486544">{</span><span class="string" id="7486545">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="7486569">,</span>&nbsp;<span class="num" id="7486571">10</span><span class="op" id="7486573">,</span>&nbsp;<span class="builtintype" id="7486575">nil</span><span class="op" id="7486578">}</span><span class="op" id="7486579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486582">{</span><span class="string" id="7486583">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="7486600">,</span>&nbsp;<span class="num" id="7486602">10</span><span class="op" id="7486604">,</span>&nbsp;<span class="builtintype" id="7486606">nil</span><span class="op" id="7486609">}</span><span class="op" id="7486610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486613">{</span><span class="string" id="7486614">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7486631">,</span>&nbsp;<span class="num" id="7486633">10</span><span class="op" id="7486635">,</span>&nbsp;<span class="builtintype" id="7486637">nil</span><span class="op" id="7486640">}</span><span class="op" id="7486641">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486644">{</span><span class="string" id="7486645">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7486662">,</span>&nbsp;<span class="num" id="7486664">10</span><span class="op" id="7486666">,</span>&nbsp;<span class="builtintype" id="7486668">nil</span><span class="op" id="7486671">}</span><span class="op" id="7486672">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486676">{</span><span class="string" id="7486677">&#34;bytes=0-9&#34;</span><span class="op" id="7486688">,</span>&nbsp;<span class="num" id="7486690">10</span><span class="op" id="7486692">,</span>&nbsp;<span class="op" id="7486694">[</span><span class="op" id="7486695">]</span><span class="ident" id="7486696">httpRange</span><span class="op" id="7486705">{</span><span class="op" id="7486706">{</span><span class="num" id="7486707">0</span><span class="op" id="7486708">,</span>&nbsp;<span class="num" id="7486710">10</span><span class="op" id="7486712">}</span><span class="op" id="7486713">}</span><span class="op" id="7486714">}</span><span class="op" id="7486715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486718">{</span><span class="string" id="7486719">&#34;bytes=0-&#34;</span><span class="op" id="7486729">,</span>&nbsp;<span class="num" id="7486731">10</span><span class="op" id="7486733">,</span>&nbsp;<span class="op" id="7486735">[</span><span class="op" id="7486736">]</span><span class="ident" id="7486737">httpRange</span><span class="op" id="7486746">{</span><span class="op" id="7486747">{</span><span class="num" id="7486748">0</span><span class="op" id="7486749">,</span>&nbsp;<span class="num" id="7486751">10</span><span class="op" id="7486753">}</span><span class="op" id="7486754">}</span><span class="op" id="7486755">}</span><span class="op" id="7486756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486759">{</span><span class="string" id="7486760">&#34;bytes=5-&#34;</span><span class="op" id="7486770">,</span>&nbsp;<span class="num" id="7486772">10</span><span class="op" id="7486774">,</span>&nbsp;<span class="op" id="7486776">[</span><span class="op" id="7486777">]</span><span class="ident" id="7486778">httpRange</span><span class="op" id="7486787">{</span><span class="op" id="7486788">{</span><span class="num" id="7486789">5</span><span class="op" id="7486790">,</span>&nbsp;<span class="num" id="7486792">5</span><span class="op" id="7486793">}</span><span class="op" id="7486794">}</span><span class="op" id="7486795">}</span><span class="op" id="7486796">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486799">{</span><span class="string" id="7486800">&#34;bytes=0-20&#34;</span><span class="op" id="7486812">,</span>&nbsp;<span class="num" id="7486814">10</span><span class="op" id="7486816">,</span>&nbsp;<span class="op" id="7486818">[</span><span class="op" id="7486819">]</span><span class="ident" id="7486820">httpRange</span><span class="op" id="7486829">{</span><span class="op" id="7486830">{</span><span class="num" id="7486831">0</span><span class="op" id="7486832">,</span>&nbsp;<span class="num" id="7486834">10</span><span class="op" id="7486836">}</span><span class="op" id="7486837">}</span><span class="op" id="7486838">}</span><span class="op" id="7486839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486842">{</span><span class="string" id="7486843">&#34;bytes=15-,0-5&#34;</span><span class="op" id="7486858">,</span>&nbsp;<span class="num" id="7486860">10</span><span class="op" id="7486862">,</span>&nbsp;<span class="builtintype" id="7486864">nil</span><span class="op" id="7486867">}</span><span class="op" id="7486868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486871">{</span><span class="string" id="7486872">&#34;bytes=1-2,5-&#34;</span><span class="op" id="7486886">,</span>&nbsp;<span class="num" id="7486888">10</span><span class="op" id="7486890">,</span>&nbsp;<span class="op" id="7486892">[</span><span class="op" id="7486893">]</span><span class="ident" id="7486894">httpRange</span><span class="op" id="7486903">{</span><span class="op" id="7486904">{</span><span class="num" id="7486905">1</span><span class="op" id="7486906">,</span>&nbsp;<span class="num" id="7486908">2</span><span class="op" id="7486909">}</span><span class="op" id="7486910">,</span>&nbsp;<span class="op" id="7486912">{</span><span class="num" id="7486913">5</span><span class="op" id="7486914">,</span>&nbsp;<span class="num" id="7486916">5</span><span class="op" id="7486917">}</span><span class="op" id="7486918">}</span><span class="op" id="7486919">}</span><span class="op" id="7486920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486923">{</span><span class="string" id="7486924">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="7486939">,</span>&nbsp;<span class="num" id="7486941">11</span><span class="op" id="7486943">,</span>&nbsp;<span class="op" id="7486945">[</span><span class="op" id="7486946">]</span><span class="ident" id="7486947">httpRange</span><span class="op" id="7486956">{</span><span class="op" id="7486957">{</span><span class="num" id="7486958">9</span><span class="op" id="7486959">,</span>&nbsp;<span class="num" id="7486961">2</span><span class="op" id="7486962">}</span><span class="op" id="7486963">,</span>&nbsp;<span class="op" id="7486965">{</span><span class="num" id="7486966">7</span><span class="op" id="7486967">,</span>&nbsp;<span class="num" id="7486969">4</span><span class="op" id="7486970">}</span><span class="op" id="7486971">}</span><span class="op" id="7486972">}</span><span class="op" id="7486973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7486976">{</span><span class="string" id="7486977">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="7486997">,</span>&nbsp;<span class="num" id="7486999">11</span><span class="op" id="7487001">,</span>&nbsp;<span class="op" id="7487003">[</span><span class="op" id="7487004">]</span><span class="ident" id="7487005">httpRange</span><span class="op" id="7487014">{</span><span class="op" id="7487015">{</span><span class="num" id="7487016">0</span><span class="op" id="7487017">,</span>&nbsp;<span class="num" id="7487019">1</span><span class="op" id="7487020">}</span><span class="op" id="7487021">,</span>&nbsp;<span class="op" id="7487023">{</span><span class="num" id="7487024">2</span><span class="op" id="7487025">,</span>&nbsp;<span class="num" id="7487027">1</span><span class="op" id="7487028">}</span><span class="op" id="7487029">,</span>&nbsp;<span class="op" id="7487031">{</span><span class="num" id="7487032">7</span><span class="op" id="7487033">,</span>&nbsp;<span class="num" id="7487035">4</span><span class="op" id="7487036">}</span><span class="op" id="7487037">}</span><span class="op" id="7487038">}</span><span class="op" id="7487039">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487042">{</span><span class="string" id="7487043">&#34;bytes=-5&#34;</span><span class="op" id="7487053">,</span>&nbsp;<span class="num" id="7487055">10</span><span class="op" id="7487057">,</span>&nbsp;<span class="op" id="7487059">[</span><span class="op" id="7487060">]</span><span class="ident" id="7487061">httpRange</span><span class="op" id="7487070">{</span><span class="op" id="7487071">{</span><span class="num" id="7487072">5</span><span class="op" id="7487073">,</span>&nbsp;<span class="num" id="7487075">5</span><span class="op" id="7487076">}</span><span class="op" id="7487077">}</span><span class="op" id="7487078">}</span><span class="op" id="7487079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487082">{</span><span class="string" id="7487083">&#34;bytes=-15&#34;</span><span class="op" id="7487094">,</span>&nbsp;<span class="num" id="7487096">10</span><span class="op" id="7487098">,</span>&nbsp;<span class="op" id="7487100">[</span><span class="op" id="7487101">]</span><span class="ident" id="7487102">httpRange</span><span class="op" id="7487111">{</span><span class="op" id="7487112">{</span><span class="num" id="7487113">0</span><span class="op" id="7487114">,</span>&nbsp;<span class="num" id="7487116">10</span><span class="op" id="7487118">}</span><span class="op" id="7487119">}</span><span class="op" id="7487120">}</span><span class="op" id="7487121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487124">{</span><span class="string" id="7487125">&#34;bytes=0-499&#34;</span><span class="op" id="7487138">,</span>&nbsp;<span class="num" id="7487140">10000</span><span class="op" id="7487145">,</span>&nbsp;<span class="op" id="7487147">[</span><span class="op" id="7487148">]</span><span class="ident" id="7487149">httpRange</span><span class="op" id="7487158">{</span><span class="op" id="7487159">{</span><span class="num" id="7487160">0</span><span class="op" id="7487161">,</span>&nbsp;<span class="num" id="7487163">500</span><span class="op" id="7487166">}</span><span class="op" id="7487167">}</span><span class="op" id="7487168">}</span><span class="op" id="7487169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487172">{</span><span class="string" id="7487173">&#34;bytes=500-999&#34;</span><span class="op" id="7487188">,</span>&nbsp;<span class="num" id="7487190">10000</span><span class="op" id="7487195">,</span>&nbsp;<span class="op" id="7487197">[</span><span class="op" id="7487198">]</span><span class="ident" id="7487199">httpRange</span><span class="op" id="7487208">{</span><span class="op" id="7487209">{</span><span class="num" id="7487210">500</span><span class="op" id="7487213">,</span>&nbsp;<span class="num" id="7487215">500</span><span class="op" id="7487218">}</span><span class="op" id="7487219">}</span><span class="op" id="7487220">}</span><span class="op" id="7487221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487224">{</span><span class="string" id="7487225">&#34;bytes=-500&#34;</span><span class="op" id="7487237">,</span>&nbsp;<span class="num" id="7487239">10000</span><span class="op" id="7487244">,</span>&nbsp;<span class="op" id="7487246">[</span><span class="op" id="7487247">]</span><span class="ident" id="7487248">httpRange</span><span class="op" id="7487257">{</span><span class="op" id="7487258">{</span><span class="num" id="7487259">9500</span><span class="op" id="7487263">,</span>&nbsp;<span class="num" id="7487265">500</span><span class="op" id="7487268">}</span><span class="op" id="7487269">}</span><span class="op" id="7487270">}</span><span class="op" id="7487271">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487274">{</span><span class="string" id="7487275">&#34;bytes=9500-&#34;</span><span class="op" id="7487288">,</span>&nbsp;<span class="num" id="7487290">10000</span><span class="op" id="7487295">,</span>&nbsp;<span class="op" id="7487297">[</span><span class="op" id="7487298">]</span><span class="ident" id="7487299">httpRange</span><span class="op" id="7487308">{</span><span class="op" id="7487309">{</span><span class="num" id="7487310">9500</span><span class="op" id="7487314">,</span>&nbsp;<span class="num" id="7487316">500</span><span class="op" id="7487319">}</span><span class="op" id="7487320">}</span><span class="op" id="7487321">}</span><span class="op" id="7487322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487325">{</span><span class="string" id="7487326">&#34;bytes=0-0,-1&#34;</span><span class="op" id="7487340">,</span>&nbsp;<span class="num" id="7487342">10000</span><span class="op" id="7487347">,</span>&nbsp;<span class="op" id="7487349">[</span><span class="op" id="7487350">]</span><span class="ident" id="7487351">httpRange</span><span class="op" id="7487360">{</span><span class="op" id="7487361">{</span><span class="num" id="7487362">0</span><span class="op" id="7487363">,</span>&nbsp;<span class="num" id="7487365">1</span><span class="op" id="7487366">}</span><span class="op" id="7487367">,</span>&nbsp;<span class="op" id="7487369">{</span><span class="num" id="7487370">9999</span><span class="op" id="7487374">,</span>&nbsp;<span class="num" id="7487376">1</span><span class="op" id="7487377">}</span><span class="op" id="7487378">}</span><span class="op" id="7487379">}</span><span class="op" id="7487380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487383">{</span><span class="string" id="7487384">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="7487407">,</span>&nbsp;<span class="num" id="7487409">10000</span><span class="op" id="7487414">,</span>&nbsp;<span class="op" id="7487416">[</span><span class="op" id="7487417">]</span><span class="ident" id="7487418">httpRange</span><span class="op" id="7487427">{</span><span class="op" id="7487428">{</span><span class="num" id="7487429">500</span><span class="op" id="7487432">,</span>&nbsp;<span class="num" id="7487434">101</span><span class="op" id="7487437">}</span><span class="op" id="7487438">,</span>&nbsp;<span class="op" id="7487440">{</span><span class="num" id="7487441">601</span><span class="op" id="7487444">,</span>&nbsp;<span class="num" id="7487446">399</span><span class="op" id="7487449">}</span><span class="op" id="7487450">}</span><span class="op" id="7487451">}</span><span class="op" id="7487452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487455">{</span><span class="string" id="7487456">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="7487479">,</span>&nbsp;<span class="num" id="7487481">10000</span><span class="op" id="7487486">,</span>&nbsp;<span class="op" id="7487488">[</span><span class="op" id="7487489">]</span><span class="ident" id="7487490">httpRange</span><span class="op" id="7487499">{</span><span class="op" id="7487500">{</span><span class="num" id="7487501">500</span><span class="op" id="7487504">,</span>&nbsp;<span class="num" id="7487506">201</span><span class="op" id="7487509">}</span><span class="op" id="7487510">,</span>&nbsp;<span class="op" id="7487512">{</span><span class="num" id="7487513">601</span><span class="op" id="7487516">,</span>&nbsp;<span class="num" id="7487518">399</span><span class="op" id="7487521">}</span><span class="op" id="7487522">}</span><span class="op" id="7487523">}</span><span class="op" id="7487524">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7487528">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487553">{</span><span class="string" id="7487554">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="7487591">,</span>&nbsp;<span class="num" id="7487593">11</span><span class="op" id="7487595">,</span>&nbsp;<span class="op" id="7487597">[</span><span class="op" id="7487598">]</span><span class="ident" id="7487599">httpRange</span><span class="op" id="7487608">{</span><span class="op" id="7487609">{</span><span class="num" id="7487610">1</span><span class="op" id="7487611">,</span>&nbsp;<span class="num" id="7487613">2</span><span class="op" id="7487614">}</span><span class="op" id="7487615">,</span>&nbsp;<span class="op" id="7487617">{</span><span class="num" id="7487618">4</span><span class="op" id="7487619">,</span>&nbsp;<span class="num" id="7487621">2</span><span class="op" id="7487622">}</span><span class="op" id="7487623">,</span>&nbsp;<span class="op" id="7487625">{</span><span class="num" id="7487626">7</span><span class="op" id="7487627">,</span>&nbsp;<span class="num" id="7487629">2</span><span class="op" id="7487630">}</span><span class="op" id="7487631">}</span><span class="op" id="7487632">}</span><span class="op" id="7487633">,</span><br>
<span class="lineno"></span><span class="op" id="7487635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7487638">func</span>&nbsp;<span class="ident" id="7487643">TestParseRange</span><span class="op" id="7487657">(</span><span class="ident" id="7487658">t</span>&nbsp;<span class="op" id="7487660">*</span><span class="ident" id="7487661">testing</span><span class="op" id="7487668">.</span><span class="ident" id="7487669">T</span><span class="op" id="7487670">)</span>&nbsp;<span class="op" id="7487672">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7487675">for</span>&nbsp;<span class="ident" id="7487679">_</span><span class="op" id="7487680">,</span>&nbsp;<span class="ident" id="7487682">test</span>&nbsp;<span class="op" id="7487687">:=</span>&nbsp;<span class="keyword" id="7487690">range</span>&nbsp;<span class="ident" id="7487696">ParseRangeTests</span>&nbsp;<span class="op" id="7487712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7487716">r</span>&nbsp;<span class="op" id="7487718">:=</span>&nbsp;<span class="ident" id="7487721">test</span><span class="op" id="7487725">.</span><span class="ident" id="7487726">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7487730">ranges</span><span class="op" id="7487736">,</span>&nbsp;<span class="ident" id="7487738">err</span>&nbsp;<span class="op" id="7487742">:=</span>&nbsp;<span class="ident" id="7487745">parseRange</span><span class="op" id="7487755">(</span><span class="ident" id="7487756">test</span><span class="op" id="7487760">.</span><span class="ident" id="7487761">s</span><span class="op" id="7487762">,</span>&nbsp;<span class="ident" id="7487764">test</span><span class="op" id="7487768">.</span><span class="ident" id="7487769">length</span><span class="op" id="7487775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7487779">if</span>&nbsp;<span class="ident" id="7487782">err</span>&nbsp;<span class="op" id="7487786">!=</span>&nbsp;<span class="builtintype" id="7487789">nil</span>&nbsp;<span class="op" id="7487793">&amp;&amp;</span>&nbsp;<span class="ident" id="7487796">r</span>&nbsp;<span class="op" id="7487798">!=</span>&nbsp;<span class="builtintype" id="7487801">nil</span>&nbsp;<span class="op" id="7487805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7487810">t</span><span class="op" id="7487811">.</span><span class="ident" id="7487812">Errorf</span><span class="op" id="7487818">(</span><span class="string" id="7487819">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7487853">,</span>&nbsp;<span class="ident" id="7487855">test</span><span class="op" id="7487859">.</span><span class="ident" id="7487860">s</span><span class="op" id="7487861">,</span>&nbsp;<span class="ident" id="7487863">err</span><span class="op" id="7487866">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7487874">if</span>&nbsp;<span class="builtinfunc" id="7487877">len</span><span class="op" id="7487880">(</span><span class="ident" id="7487881">ranges</span><span class="op" id="7487887">)</span>&nbsp;<span class="op" id="7487889">!=</span>&nbsp;<span class="builtinfunc" id="7487892">len</span><span class="op" id="7487895">(</span><span class="ident" id="7487896">r</span><span class="op" id="7487897">)</span>&nbsp;<span class="op" id="7487899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7487904">t</span><span class="op" id="7487905">.</span><span class="ident" id="7487906">Errorf</span><span class="op" id="7487912">(</span><span class="string" id="7487913">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7487948">,</span>&nbsp;<span class="ident" id="7487950">test</span><span class="op" id="7487954">.</span><span class="ident" id="7487955">s</span><span class="op" id="7487956">,</span>&nbsp;<span class="builtinfunc" id="7487958">len</span><span class="op" id="7487961">(</span><span class="ident" id="7487962">ranges</span><span class="op" id="7487968">)</span><span class="op" id="7487969">,</span>&nbsp;<span class="builtinfunc" id="7487971">len</span><span class="op" id="7487974">(</span><span class="ident" id="7487975">r</span><span class="op" id="7487976">)</span><span class="op" id="7487977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7487982">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7487993">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7487997">for</span>&nbsp;<span class="ident" id="7488001">i</span>&nbsp;<span class="op" id="7488003">:=</span>&nbsp;<span class="keyword" id="7488006">range</span>&nbsp;<span class="ident" id="7488012">r</span>&nbsp;<span class="op" id="7488014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7488019">if</span>&nbsp;<span class="ident" id="7488022">ranges</span><span class="op" id="7488028">[</span><span class="ident" id="7488029">i</span><span class="op" id="7488030">]</span><span class="op" id="7488031">.</span><span class="ident" id="7488032">start</span>&nbsp;<span class="op" id="7488038">!=</span>&nbsp;<span class="ident" id="7488041">r</span><span class="op" id="7488042">[</span><span class="ident" id="7488043">i</span><span class="op" id="7488044">]</span><span class="op" id="7488045">.</span><span class="ident" id="7488046">start</span>&nbsp;<span class="op" id="7488052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7488058">t</span><span class="op" id="7488059">.</span><span class="ident" id="7488060">Errorf</span><span class="op" id="7488066">(</span><span class="string" id="7488067">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7488107">,</span>&nbsp;<span class="ident" id="7488109">test</span><span class="op" id="7488113">.</span><span class="ident" id="7488114">s</span><span class="op" id="7488115">,</span>&nbsp;<span class="ident" id="7488117">i</span><span class="op" id="7488118">,</span>&nbsp;<span class="ident" id="7488120">ranges</span><span class="op" id="7488126">[</span><span class="ident" id="7488127">i</span><span class="op" id="7488128">]</span><span class="op" id="7488129">.</span><span class="ident" id="7488130">start</span><span class="op" id="7488135">,</span>&nbsp;<span class="ident" id="7488137">r</span><span class="op" id="7488138">[</span><span class="ident" id="7488139">i</span><span class="op" id="7488140">]</span><span class="op" id="7488141">.</span><span class="ident" id="7488142">start</span><span class="op" id="7488147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7488157">if</span>&nbsp;<span class="ident" id="7488160">ranges</span><span class="op" id="7488166">[</span><span class="ident" id="7488167">i</span><span class="op" id="7488168">]</span><span class="op" id="7488169">.</span><span class="ident" id="7488170">length</span>&nbsp;<span class="op" id="7488177">!=</span>&nbsp;<span class="ident" id="7488180">r</span><span class="op" id="7488181">[</span><span class="ident" id="7488182">i</span><span class="op" id="7488183">]</span><span class="op" id="7488184">.</span><span class="ident" id="7488185">length</span>&nbsp;<span class="op" id="7488192">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7488198">t</span><span class="op" id="7488199">.</span><span class="ident" id="7488200">Errorf</span><span class="op" id="7488206">(</span><span class="string" id="7488207">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7488248">,</span>&nbsp;<span class="ident" id="7488250">test</span><span class="op" id="7488254">.</span><span class="ident" id="7488255">s</span><span class="op" id="7488256">,</span>&nbsp;<span class="ident" id="7488258">i</span><span class="op" id="7488259">,</span>&nbsp;<span class="ident" id="7488261">ranges</span><span class="op" id="7488267">[</span><span class="ident" id="7488268">i</span><span class="op" id="7488269">]</span><span class="op" id="7488270">.</span><span class="ident" id="7488271">length</span><span class="op" id="7488277">,</span>&nbsp;<span class="ident" id="7488279">r</span><span class="op" id="7488280">[</span><span class="ident" id="7488281">i</span><span class="op" id="7488282">]</span><span class="op" id="7488283">.</span><span class="ident" id="7488284">length</span><span class="op" id="7488290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488302">}</span><br>
<span class="lineno"></span><span class="op" id="7488304">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
