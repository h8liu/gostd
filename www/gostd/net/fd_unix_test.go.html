<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8224793">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8224848">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8224902">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8224953">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8225018">package</span>&nbsp;<span class="ident" id="8225026">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8225031">import</span>&nbsp;<span class="op" id="8225038">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8225041">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8225047">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8225058">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8225068">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8225071">var</span>&nbsp;<span class="ident" id="8225075">chkReadErrTests</span>&nbsp;<span class="op" id="8225091">=</span>&nbsp;<span class="op" id="8225093">[</span><span class="op" id="8225094">]</span><span class="keyword" id="8225095">struct</span>&nbsp;<span class="op" id="8225102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225105">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8225114">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225119">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8225128">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225135">fd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8225144">*</span><span class="ident" id="8225145">netFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225152">expected</span>&nbsp;<span class="builtintype" id="8225161">error</span><br>
<span class="lineno">20</span><span class="op" id="8225167">}</span><span class="op" id="8225168">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225172">{</span><span class="num" id="8225173">100</span><span class="op" id="8225176">,</span>&nbsp;<span class="ident" id="8225178">nil</span><span class="op" id="8225181">,</span>&nbsp;<span class="op" id="8225183">&amp;</span><span class="ident" id="8225184">netFD</span><span class="op" id="8225189">{</span><span class="ident" id="8225190">sotype</span><span class="op" id="8225196">:</span>&nbsp;<span class="ident" id="8225198">syscall</span><span class="op" id="8225205">.</span><span class="ident" id="8225206">SOCK_STREAM</span><span class="op" id="8225217">}</span><span class="op" id="8225218">,</span>&nbsp;<span class="ident" id="8225220">nil</span><span class="op" id="8225223">}</span><span class="op" id="8225224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225227">{</span><span class="num" id="8225228">100</span><span class="op" id="8225231">,</span>&nbsp;<span class="ident" id="8225233">io</span><span class="op" id="8225235">.</span><span class="ident" id="8225236">EOF</span><span class="op" id="8225239">,</span>&nbsp;<span class="op" id="8225241">&amp;</span><span class="ident" id="8225242">netFD</span><span class="op" id="8225247">{</span><span class="ident" id="8225248">sotype</span><span class="op" id="8225254">:</span>&nbsp;<span class="ident" id="8225256">syscall</span><span class="op" id="8225263">.</span><span class="ident" id="8225264">SOCK_STREAM</span><span class="op" id="8225275">}</span><span class="op" id="8225276">,</span>&nbsp;<span class="ident" id="8225278">io</span><span class="op" id="8225280">.</span><span class="ident" id="8225281">EOF</span><span class="op" id="8225284">}</span><span class="op" id="8225285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225288">{</span><span class="num" id="8225289">100</span><span class="op" id="8225292">,</span>&nbsp;<span class="ident" id="8225294">errClosing</span><span class="op" id="8225304">,</span>&nbsp;<span class="op" id="8225306">&amp;</span><span class="ident" id="8225307">netFD</span><span class="op" id="8225312">{</span><span class="ident" id="8225313">sotype</span><span class="op" id="8225319">:</span>&nbsp;<span class="ident" id="8225321">syscall</span><span class="op" id="8225328">.</span><span class="ident" id="8225329">SOCK_STREAM</span><span class="op" id="8225340">}</span><span class="op" id="8225341">,</span>&nbsp;<span class="ident" id="8225343">errClosing</span><span class="op" id="8225353">}</span><span class="op" id="8225354">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225357">{</span><span class="num" id="8225358">0</span><span class="op" id="8225359">,</span>&nbsp;<span class="ident" id="8225361">nil</span><span class="op" id="8225364">,</span>&nbsp;<span class="op" id="8225366">&amp;</span><span class="ident" id="8225367">netFD</span><span class="op" id="8225372">{</span><span class="ident" id="8225373">sotype</span><span class="op" id="8225379">:</span>&nbsp;<span class="ident" id="8225381">syscall</span><span class="op" id="8225388">.</span><span class="ident" id="8225389">SOCK_STREAM</span><span class="op" id="8225400">}</span><span class="op" id="8225401">,</span>&nbsp;<span class="ident" id="8225403">io</span><span class="op" id="8225405">.</span><span class="ident" id="8225406">EOF</span><span class="op" id="8225409">}</span><span class="op" id="8225410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225413">{</span><span class="num" id="8225414">0</span><span class="op" id="8225415">,</span>&nbsp;<span class="ident" id="8225417">io</span><span class="op" id="8225419">.</span><span class="ident" id="8225420">EOF</span><span class="op" id="8225423">,</span>&nbsp;<span class="op" id="8225425">&amp;</span><span class="ident" id="8225426">netFD</span><span class="op" id="8225431">{</span><span class="ident" id="8225432">sotype</span><span class="op" id="8225438">:</span>&nbsp;<span class="ident" id="8225440">syscall</span><span class="op" id="8225447">.</span><span class="ident" id="8225448">SOCK_STREAM</span><span class="op" id="8225459">}</span><span class="op" id="8225460">,</span>&nbsp;<span class="ident" id="8225462">io</span><span class="op" id="8225464">.</span><span class="ident" id="8225465">EOF</span><span class="op" id="8225468">}</span><span class="op" id="8225469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225472">{</span><span class="num" id="8225473">0</span><span class="op" id="8225474">,</span>&nbsp;<span class="ident" id="8225476">errClosing</span><span class="op" id="8225486">,</span>&nbsp;<span class="op" id="8225488">&amp;</span><span class="ident" id="8225489">netFD</span><span class="op" id="8225494">{</span><span class="ident" id="8225495">sotype</span><span class="op" id="8225501">:</span>&nbsp;<span class="ident" id="8225503">syscall</span><span class="op" id="8225510">.</span><span class="ident" id="8225511">SOCK_STREAM</span><span class="op" id="8225522">}</span><span class="op" id="8225523">,</span>&nbsp;<span class="ident" id="8225525">errClosing</span><span class="op" id="8225535">}</span><span class="op" id="8225536">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225540">{</span><span class="num" id="8225541">100</span><span class="op" id="8225544">,</span>&nbsp;<span class="ident" id="8225546">nil</span><span class="op" id="8225549">,</span>&nbsp;<span class="op" id="8225551">&amp;</span><span class="ident" id="8225552">netFD</span><span class="op" id="8225557">{</span><span class="ident" id="8225558">sotype</span><span class="op" id="8225564">:</span>&nbsp;<span class="ident" id="8225566">syscall</span><span class="op" id="8225573">.</span><span class="ident" id="8225574">SOCK_DGRAM</span><span class="op" id="8225584">}</span><span class="op" id="8225585">,</span>&nbsp;<span class="ident" id="8225587">nil</span><span class="op" id="8225590">}</span><span class="op" id="8225591">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225594">{</span><span class="num" id="8225595">100</span><span class="op" id="8225598">,</span>&nbsp;<span class="ident" id="8225600">io</span><span class="op" id="8225602">.</span><span class="ident" id="8225603">EOF</span><span class="op" id="8225606">,</span>&nbsp;<span class="op" id="8225608">&amp;</span><span class="ident" id="8225609">netFD</span><span class="op" id="8225614">{</span><span class="ident" id="8225615">sotype</span><span class="op" id="8225621">:</span>&nbsp;<span class="ident" id="8225623">syscall</span><span class="op" id="8225630">.</span><span class="ident" id="8225631">SOCK_DGRAM</span><span class="op" id="8225641">}</span><span class="op" id="8225642">,</span>&nbsp;<span class="ident" id="8225644">io</span><span class="op" id="8225646">.</span><span class="ident" id="8225647">EOF</span><span class="op" id="8225650">}</span><span class="op" id="8225651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225654">{</span><span class="num" id="8225655">100</span><span class="op" id="8225658">,</span>&nbsp;<span class="ident" id="8225660">errClosing</span><span class="op" id="8225670">,</span>&nbsp;<span class="op" id="8225672">&amp;</span><span class="ident" id="8225673">netFD</span><span class="op" id="8225678">{</span><span class="ident" id="8225679">sotype</span><span class="op" id="8225685">:</span>&nbsp;<span class="ident" id="8225687">syscall</span><span class="op" id="8225694">.</span><span class="ident" id="8225695">SOCK_DGRAM</span><span class="op" id="8225705">}</span><span class="op" id="8225706">,</span>&nbsp;<span class="ident" id="8225708">errClosing</span><span class="op" id="8225718">}</span><span class="op" id="8225719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225722">{</span><span class="num" id="8225723">0</span><span class="op" id="8225724">,</span>&nbsp;<span class="ident" id="8225726">nil</span><span class="op" id="8225729">,</span>&nbsp;<span class="op" id="8225731">&amp;</span><span class="ident" id="8225732">netFD</span><span class="op" id="8225737">{</span><span class="ident" id="8225738">sotype</span><span class="op" id="8225744">:</span>&nbsp;<span class="ident" id="8225746">syscall</span><span class="op" id="8225753">.</span><span class="ident" id="8225754">SOCK_DGRAM</span><span class="op" id="8225764">}</span><span class="op" id="8225765">,</span>&nbsp;<span class="ident" id="8225767">nil</span><span class="op" id="8225770">}</span><span class="op" id="8225771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225774">{</span><span class="num" id="8225775">0</span><span class="op" id="8225776">,</span>&nbsp;<span class="ident" id="8225778">io</span><span class="op" id="8225780">.</span><span class="ident" id="8225781">EOF</span><span class="op" id="8225784">,</span>&nbsp;<span class="op" id="8225786">&amp;</span><span class="ident" id="8225787">netFD</span><span class="op" id="8225792">{</span><span class="ident" id="8225793">sotype</span><span class="op" id="8225799">:</span>&nbsp;<span class="ident" id="8225801">syscall</span><span class="op" id="8225808">.</span><span class="ident" id="8225809">SOCK_DGRAM</span><span class="op" id="8225819">}</span><span class="op" id="8225820">,</span>&nbsp;<span class="ident" id="8225822">io</span><span class="op" id="8225824">.</span><span class="ident" id="8225825">EOF</span><span class="op" id="8225828">}</span><span class="op" id="8225829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225832">{</span><span class="num" id="8225833">0</span><span class="op" id="8225834">,</span>&nbsp;<span class="ident" id="8225836">errClosing</span><span class="op" id="8225846">,</span>&nbsp;<span class="op" id="8225848">&amp;</span><span class="ident" id="8225849">netFD</span><span class="op" id="8225854">{</span><span class="ident" id="8225855">sotype</span><span class="op" id="8225861">:</span>&nbsp;<span class="ident" id="8225863">syscall</span><span class="op" id="8225870">.</span><span class="ident" id="8225871">SOCK_DGRAM</span><span class="op" id="8225881">}</span><span class="op" id="8225882">,</span>&nbsp;<span class="ident" id="8225884">errClosing</span><span class="op" id="8225894">}</span><span class="op" id="8225895">,</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225899">{</span><span class="num" id="8225900">100</span><span class="op" id="8225903">,</span>&nbsp;<span class="ident" id="8225905">nil</span><span class="op" id="8225908">,</span>&nbsp;<span class="op" id="8225910">&amp;</span><span class="ident" id="8225911">netFD</span><span class="op" id="8225916">{</span><span class="ident" id="8225917">sotype</span><span class="op" id="8225923">:</span>&nbsp;<span class="ident" id="8225925">syscall</span><span class="op" id="8225932">.</span><span class="ident" id="8225933">SOCK_SEQPACKET</span><span class="op" id="8225947">}</span><span class="op" id="8225948">,</span>&nbsp;<span class="ident" id="8225950">nil</span><span class="op" id="8225953">}</span><span class="op" id="8225954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225957">{</span><span class="num" id="8225958">100</span><span class="op" id="8225961">,</span>&nbsp;<span class="ident" id="8225963">io</span><span class="op" id="8225965">.</span><span class="ident" id="8225966">EOF</span><span class="op" id="8225969">,</span>&nbsp;<span class="op" id="8225971">&amp;</span><span class="ident" id="8225972">netFD</span><span class="op" id="8225977">{</span><span class="ident" id="8225978">sotype</span><span class="op" id="8225984">:</span>&nbsp;<span class="ident" id="8225986">syscall</span><span class="op" id="8225993">.</span><span class="ident" id="8225994">SOCK_SEQPACKET</span><span class="op" id="8226008">}</span><span class="op" id="8226009">,</span>&nbsp;<span class="ident" id="8226011">io</span><span class="op" id="8226013">.</span><span class="ident" id="8226014">EOF</span><span class="op" id="8226017">}</span><span class="op" id="8226018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226021">{</span><span class="num" id="8226022">100</span><span class="op" id="8226025">,</span>&nbsp;<span class="ident" id="8226027">errClosing</span><span class="op" id="8226037">,</span>&nbsp;<span class="op" id="8226039">&amp;</span><span class="ident" id="8226040">netFD</span><span class="op" id="8226045">{</span><span class="ident" id="8226046">sotype</span><span class="op" id="8226052">:</span>&nbsp;<span class="ident" id="8226054">syscall</span><span class="op" id="8226061">.</span><span class="ident" id="8226062">SOCK_SEQPACKET</span><span class="op" id="8226076">}</span><span class="op" id="8226077">,</span>&nbsp;<span class="ident" id="8226079">errClosing</span><span class="op" id="8226089">}</span><span class="op" id="8226090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226093">{</span><span class="num" id="8226094">0</span><span class="op" id="8226095">,</span>&nbsp;<span class="ident" id="8226097">nil</span><span class="op" id="8226100">,</span>&nbsp;<span class="op" id="8226102">&amp;</span><span class="ident" id="8226103">netFD</span><span class="op" id="8226108">{</span><span class="ident" id="8226109">sotype</span><span class="op" id="8226115">:</span>&nbsp;<span class="ident" id="8226117">syscall</span><span class="op" id="8226124">.</span><span class="ident" id="8226125">SOCK_SEQPACKET</span><span class="op" id="8226139">}</span><span class="op" id="8226140">,</span>&nbsp;<span class="ident" id="8226142">io</span><span class="op" id="8226144">.</span><span class="ident" id="8226145">EOF</span><span class="op" id="8226148">}</span><span class="op" id="8226149">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226152">{</span><span class="num" id="8226153">0</span><span class="op" id="8226154">,</span>&nbsp;<span class="ident" id="8226156">io</span><span class="op" id="8226158">.</span><span class="ident" id="8226159">EOF</span><span class="op" id="8226162">,</span>&nbsp;<span class="op" id="8226164">&amp;</span><span class="ident" id="8226165">netFD</span><span class="op" id="8226170">{</span><span class="ident" id="8226171">sotype</span><span class="op" id="8226177">:</span>&nbsp;<span class="ident" id="8226179">syscall</span><span class="op" id="8226186">.</span><span class="ident" id="8226187">SOCK_SEQPACKET</span><span class="op" id="8226201">}</span><span class="op" id="8226202">,</span>&nbsp;<span class="ident" id="8226204">io</span><span class="op" id="8226206">.</span><span class="ident" id="8226207">EOF</span><span class="op" id="8226210">}</span><span class="op" id="8226211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226214">{</span><span class="num" id="8226215">0</span><span class="op" id="8226216">,</span>&nbsp;<span class="ident" id="8226218">errClosing</span><span class="op" id="8226228">,</span>&nbsp;<span class="op" id="8226230">&amp;</span><span class="ident" id="8226231">netFD</span><span class="op" id="8226236">{</span><span class="ident" id="8226237">sotype</span><span class="op" id="8226243">:</span>&nbsp;<span class="ident" id="8226245">syscall</span><span class="op" id="8226252">.</span><span class="ident" id="8226253">SOCK_SEQPACKET</span><span class="op" id="8226267">}</span><span class="op" id="8226268">,</span>&nbsp;<span class="ident" id="8226270">errClosing</span><span class="op" id="8226280">}</span><span class="op" id="8226281">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226285">{</span><span class="num" id="8226286">100</span><span class="op" id="8226289">,</span>&nbsp;<span class="ident" id="8226291">nil</span><span class="op" id="8226294">,</span>&nbsp;<span class="op" id="8226296">&amp;</span><span class="ident" id="8226297">netFD</span><span class="op" id="8226302">{</span><span class="ident" id="8226303">sotype</span><span class="op" id="8226309">:</span>&nbsp;<span class="ident" id="8226311">syscall</span><span class="op" id="8226318">.</span><span class="ident" id="8226319">SOCK_RAW</span><span class="op" id="8226327">}</span><span class="op" id="8226328">,</span>&nbsp;<span class="ident" id="8226330">nil</span><span class="op" id="8226333">}</span><span class="op" id="8226334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226337">{</span><span class="num" id="8226338">100</span><span class="op" id="8226341">,</span>&nbsp;<span class="ident" id="8226343">io</span><span class="op" id="8226345">.</span><span class="ident" id="8226346">EOF</span><span class="op" id="8226349">,</span>&nbsp;<span class="op" id="8226351">&amp;</span><span class="ident" id="8226352">netFD</span><span class="op" id="8226357">{</span><span class="ident" id="8226358">sotype</span><span class="op" id="8226364">:</span>&nbsp;<span class="ident" id="8226366">syscall</span><span class="op" id="8226373">.</span><span class="ident" id="8226374">SOCK_RAW</span><span class="op" id="8226382">}</span><span class="op" id="8226383">,</span>&nbsp;<span class="ident" id="8226385">io</span><span class="op" id="8226387">.</span><span class="ident" id="8226388">EOF</span><span class="op" id="8226391">}</span><span class="op" id="8226392">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226395">{</span><span class="num" id="8226396">100</span><span class="op" id="8226399">,</span>&nbsp;<span class="ident" id="8226401">errClosing</span><span class="op" id="8226411">,</span>&nbsp;<span class="op" id="8226413">&amp;</span><span class="ident" id="8226414">netFD</span><span class="op" id="8226419">{</span><span class="ident" id="8226420">sotype</span><span class="op" id="8226426">:</span>&nbsp;<span class="ident" id="8226428">syscall</span><span class="op" id="8226435">.</span><span class="ident" id="8226436">SOCK_RAW</span><span class="op" id="8226444">}</span><span class="op" id="8226445">,</span>&nbsp;<span class="ident" id="8226447">errClosing</span><span class="op" id="8226457">}</span><span class="op" id="8226458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226461">{</span><span class="num" id="8226462">0</span><span class="op" id="8226463">,</span>&nbsp;<span class="ident" id="8226465">nil</span><span class="op" id="8226468">,</span>&nbsp;<span class="op" id="8226470">&amp;</span><span class="ident" id="8226471">netFD</span><span class="op" id="8226476">{</span><span class="ident" id="8226477">sotype</span><span class="op" id="8226483">:</span>&nbsp;<span class="ident" id="8226485">syscall</span><span class="op" id="8226492">.</span><span class="ident" id="8226493">SOCK_RAW</span><span class="op" id="8226501">}</span><span class="op" id="8226502">,</span>&nbsp;<span class="ident" id="8226504">nil</span><span class="op" id="8226507">}</span><span class="op" id="8226508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226511">{</span><span class="num" id="8226512">0</span><span class="op" id="8226513">,</span>&nbsp;<span class="ident" id="8226515">io</span><span class="op" id="8226517">.</span><span class="ident" id="8226518">EOF</span><span class="op" id="8226521">,</span>&nbsp;<span class="op" id="8226523">&amp;</span><span class="ident" id="8226524">netFD</span><span class="op" id="8226529">{</span><span class="ident" id="8226530">sotype</span><span class="op" id="8226536">:</span>&nbsp;<span class="ident" id="8226538">syscall</span><span class="op" id="8226545">.</span><span class="ident" id="8226546">SOCK_RAW</span><span class="op" id="8226554">}</span><span class="op" id="8226555">,</span>&nbsp;<span class="ident" id="8226557">io</span><span class="op" id="8226559">.</span><span class="ident" id="8226560">EOF</span><span class="op" id="8226563">}</span><span class="op" id="8226564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226567">{</span><span class="num" id="8226568">0</span><span class="op" id="8226569">,</span>&nbsp;<span class="ident" id="8226571">errClosing</span><span class="op" id="8226581">,</span>&nbsp;<span class="op" id="8226583">&amp;</span><span class="ident" id="8226584">netFD</span><span class="op" id="8226589">{</span><span class="ident" id="8226590">sotype</span><span class="op" id="8226596">:</span>&nbsp;<span class="ident" id="8226598">syscall</span><span class="op" id="8226605">.</span><span class="ident" id="8226606">SOCK_RAW</span><span class="op" id="8226614">}</span><span class="op" id="8226615">,</span>&nbsp;<span class="ident" id="8226617">errClosing</span><span class="op" id="8226627">}</span><span class="op" id="8226628">,</span><br>
<span class="lineno"></span><span class="op" id="8226630">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="8226633">func</span>&nbsp;<span class="ident" id="8226638">TestChkReadErr</span><span class="op" id="8226652">(</span><span class="ident" id="8226653">t</span>&nbsp;<span class="op" id="8226655">*</span><span class="ident" id="8226656">testing</span><span class="op" id="8226663">.</span><span class="ident" id="8226664">T</span><span class="op" id="8226665">)</span>&nbsp;<span class="op" id="8226667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226670">for</span>&nbsp;<span class="ident" id="8226674">_</span><span class="op" id="8226675">,</span>&nbsp;<span class="ident" id="8226677">tt</span>&nbsp;<span class="op" id="8226680">:=</span>&nbsp;<span class="keyword" id="8226683">range</span>&nbsp;<span class="ident" id="8226689">chkReadErrTests</span>&nbsp;<span class="op" id="8226705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226709">actual</span>&nbsp;<span class="op" id="8226716">:=</span>&nbsp;<span class="ident" id="8226719">chkReadErr</span><span class="op" id="8226729">(</span><span class="ident" id="8226730">tt</span><span class="op" id="8226732">.</span><span class="ident" id="8226733">n</span><span class="op" id="8226734">,</span>&nbsp;<span class="ident" id="8226736">tt</span><span class="op" id="8226738">.</span><span class="ident" id="8226739">err</span><span class="op" id="8226742">,</span>&nbsp;<span class="ident" id="8226744">tt</span><span class="op" id="8226746">.</span><span class="ident" id="8226747">fd</span><span class="op" id="8226749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226753">if</span>&nbsp;<span class="ident" id="8226756">actual</span>&nbsp;<span class="op" id="8226763">!=</span>&nbsp;<span class="ident" id="8226766">tt</span><span class="op" id="8226768">.</span><span class="ident" id="8226769">expected</span>&nbsp;<span class="op" id="8226778">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226783">t</span><span class="op" id="8226784">.</span><span class="ident" id="8226785">Errorf</span><span class="op" id="8226791">(</span><span class="string" id="8226792">&#34;chkReadError(%v,&nbsp;%v,&nbsp;%v):&nbsp;expected&nbsp;%v,&nbsp;actual&nbsp;%v&#34;</span><span class="op" id="8226842">,</span>&nbsp;<span class="ident" id="8226844">tt</span><span class="op" id="8226846">.</span><span class="ident" id="8226847">n</span><span class="op" id="8226848">,</span>&nbsp;<span class="ident" id="8226850">tt</span><span class="op" id="8226852">.</span><span class="ident" id="8226853">err</span><span class="op" id="8226856">,</span>&nbsp;<span class="ident" id="8226858">tt</span><span class="op" id="8226860">.</span><span class="ident" id="8226861">fd</span><span class="op" id="8226863">.</span><span class="ident" id="8226864">sotype</span><span class="op" id="8226870">,</span>&nbsp;<span class="ident" id="8226872">tt</span><span class="op" id="8226874">.</span><span class="ident" id="8226875">expected</span><span class="op" id="8226883">,</span>&nbsp;<span class="ident" id="8226885">actual</span><span class="op" id="8226891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226898">}</span><br>
<span class="lineno"></span><span class="op" id="8226900">}</span>
</div>
</body>
</html>
