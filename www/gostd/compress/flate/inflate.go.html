<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html" class="current">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4834514">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4834569">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4834623">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4834674">//go:generate&nbsp;go&nbsp;run&nbsp;gen.go&nbsp;-output&nbsp;fixedhuff.go</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4834724">//&nbsp;Package&nbsp;flate&nbsp;implements&nbsp;the&nbsp;DEFLATE&nbsp;compressed&nbsp;data&nbsp;format,&nbsp;described&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="4834801">//&nbsp;RFC&nbsp;1951.&nbsp;&nbsp;The&nbsp;gzip&nbsp;and&nbsp;zlib&nbsp;packages&nbsp;implement&nbsp;access&nbsp;to&nbsp;DEFLATE-based&nbsp;file</span><br>
<span class="lineno"></span><span class="comment" id="4834881">//&nbsp;formats.</span><br>
<span class="lineno">10</span><span class="keyword" id="4834893">package</span>&nbsp;<span class="ident" id="4834901">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4834908">import</span>&nbsp;<span class="op" id="4834915">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4834918">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4834927">&#34;io&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4834933">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="4834943">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4834946">const</span>&nbsp;<span class="op" id="4834952">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4834955">maxCodeLen</span>&nbsp;<span class="op" id="4834966">=</span>&nbsp;<span class="num" id="4834968">16</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4834974">//&nbsp;max&nbsp;length&nbsp;of&nbsp;Huffman&nbsp;code</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4835005">maxHist</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4835016">=</span>&nbsp;<span class="num" id="4835018">32768</span>&nbsp;<span class="comment" id="4835024">//&nbsp;max&nbsp;history&nbsp;required</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4835049">//&nbsp;The&nbsp;next&nbsp;three&nbsp;numbers&nbsp;come&nbsp;from&nbsp;the&nbsp;RFC,&nbsp;section&nbsp;3.2.7.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4835110">maxLit</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4835119">=</span>&nbsp;<span class="num" id="4835121">286</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4835126">maxDist</span>&nbsp;&nbsp;<span class="op" id="4835135">=</span>&nbsp;<span class="num" id="4835137">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4835141">numCodes</span>&nbsp;<span class="op" id="4835150">=</span>&nbsp;<span class="num" id="4835152">19</span>&nbsp;<span class="comment" id="4835155">//&nbsp;number&nbsp;of&nbsp;codes&nbsp;in&nbsp;Huffman&nbsp;meta-code</span><br>
<span class="lineno">25</span><span class="op" id="4835195">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4835198">//&nbsp;A&nbsp;CorruptInputError&nbsp;reports&nbsp;the&nbsp;presence&nbsp;of&nbsp;corrupt&nbsp;input&nbsp;at&nbsp;a&nbsp;given&nbsp;offset.</span><br>
<span class="lineno"></span><span class="keyword" id="4835278">type</span>&nbsp;<span class="ident" id="4835283">CorruptInputError</span>&nbsp;<span class="builtintype" id="4835301">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="4835308">func</span>&nbsp;<span class="op" id="4835313">(</span><span class="ident" id="4835314">e</span>&nbsp;<span class="ident" id="4835316"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4835333">)</span>&nbsp;<span class="ident" id="4835335">Error</span><span class="op" id="4835340">(</span><span class="op" id="4835341">)</span>&nbsp;<span class="builtintype" id="4835343">string</span>&nbsp;<span class="op" id="4835350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4835353">return</span>&nbsp;<span class="string" id="4835360">&#34;flate:&nbsp;corrupt&nbsp;input&nbsp;before&nbsp;offset&nbsp;&#34;</span>&nbsp;<span class="op" id="4835398">+</span>&nbsp;<span class="ident" id="4835400"><a href="/gostd/compress/flate/inflate.go.html#4834933">strconv</a></span><span class="op" id="4835407">.</span><span class="ident" id="4835408"><a href="/gostd/strconv/itoa.go.html#2407133">FormatInt</a></span><span class="op" id="4835417">(</span><span class="builtintype" id="4835418">int64</span><span class="op" id="4835423">(</span><span class="ident" id="4835424"><a href="/gostd/compress/flate/inflate.go.html#4835314">e</a></span><span class="op" id="4835425">)</span><span class="op" id="4835426">,</span>&nbsp;<span class="num" id="4835428">10</span><span class="op" id="4835430">)</span><br>
<span class="lineno"></span><span class="op" id="4835432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4835435">//&nbsp;An&nbsp;InternalError&nbsp;reports&nbsp;an&nbsp;error&nbsp;in&nbsp;the&nbsp;flate&nbsp;code&nbsp;itself.</span><br>
<span class="lineno">35</span><span class="keyword" id="4835498">type</span>&nbsp;<span class="ident" id="4835503">InternalError</span>&nbsp;<span class="builtintype" id="4835517">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4835525">func</span>&nbsp;<span class="op" id="4835530">(</span><span class="ident" id="4835531">e</span>&nbsp;<span class="ident" id="4835533"><a href="/gostd/compress/flate/inflate.go.html#4835503">InternalError</a></span><span class="op" id="4835546">)</span>&nbsp;<span class="ident" id="4835548">Error</span><span class="op" id="4835553">(</span><span class="op" id="4835554">)</span>&nbsp;<span class="builtintype" id="4835556">string</span>&nbsp;<span class="op" id="4835563">{</span>&nbsp;<span class="keyword" id="4835565">return</span>&nbsp;<span class="string" id="4835572">&#34;flate:&nbsp;internal&nbsp;error:&nbsp;&#34;</span>&nbsp;<span class="op" id="4835598">+</span>&nbsp;<span class="builtintype" id="4835600">string</span><span class="op" id="4835606">(</span><span class="ident" id="4835607"><a href="/gostd/compress/flate/inflate.go.html#4835531">e</a></span><span class="op" id="4835608">)</span>&nbsp;<span class="op" id="4835610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4835613">//&nbsp;A&nbsp;ReadError&nbsp;reports&nbsp;an&nbsp;error&nbsp;encountered&nbsp;while&nbsp;reading&nbsp;input.</span><br>
<span class="lineno">40</span><span class="keyword" id="4835678">type</span>&nbsp;<span class="ident" id="4835683">ReadError</span>&nbsp;<span class="keyword" id="4835693">struct</span>&nbsp;<span class="op" id="4835700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4835703">Offset</span>&nbsp;<span class="builtintype" id="4835710">int64</span>&nbsp;<span class="comment" id="4835716">//&nbsp;byte&nbsp;offset&nbsp;where&nbsp;error&nbsp;occurred</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4835753">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4835760">error</span>&nbsp;<span class="comment" id="4835766">//&nbsp;error&nbsp;returned&nbsp;by&nbsp;underlying&nbsp;Read</span><br>
<span class="lineno"></span><span class="op" id="4835803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="4835806">func</span>&nbsp;<span class="op" id="4835811">(</span><span class="ident" id="4835812">e</span>&nbsp;<span class="op" id="4835814">*</span><span class="ident" id="4835815"><a href="/gostd/compress/flate/inflate.go.html#4835683">ReadError</a></span><span class="op" id="4835824">)</span>&nbsp;<span class="ident" id="4835826">Error</span><span class="op" id="4835831">(</span><span class="op" id="4835832">)</span>&nbsp;<span class="builtintype" id="4835834">string</span>&nbsp;<span class="op" id="4835841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4835844">return</span>&nbsp;<span class="string" id="4835851">&#34;flate:&nbsp;read&nbsp;error&nbsp;at&nbsp;offset&nbsp;&#34;</span>&nbsp;<span class="op" id="4835882">+</span>&nbsp;<span class="ident" id="4835884"><a href="/gostd/compress/flate/inflate.go.html#4834933">strconv</a></span><span class="op" id="4835891">.</span><span class="ident" id="4835892"><a href="/gostd/strconv/itoa.go.html#2407133">FormatInt</a></span><span class="op" id="4835901">(</span><span class="ident" id="4835902"><a href="/gostd/compress/flate/inflate.go.html#4835812">e</a></span><span class="op" id="4835903">.</span><span class="ident" id="4835904"><a href="/gostd/compress/flate/inflate.go.html#4835703">Offset</a></span><span class="op" id="4835910">,</span>&nbsp;<span class="num" id="4835912">10</span><span class="op" id="4835914">)</span>&nbsp;<span class="op" id="4835916">+</span>&nbsp;<span class="string" id="4835918">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="4835923">+</span>&nbsp;<span class="ident" id="4835925"><a href="/gostd/compress/flate/inflate.go.html#4835812">e</a></span><span class="op" id="4835926">.</span><span class="ident" id="4835927"><a href="/gostd/compress/flate/inflate.go.html#4835753">Err</a></span><span class="op" id="4835930">.</span><span class="ident" id="4835931">Error</span><span class="op" id="4835936">(</span><span class="op" id="4835937">)</span><br>
<span class="lineno"></span><span class="op" id="4835939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4835942">//&nbsp;A&nbsp;WriteError&nbsp;reports&nbsp;an&nbsp;error&nbsp;encountered&nbsp;while&nbsp;writing&nbsp;output.</span><br>
<span class="lineno">50</span><span class="keyword" id="4836009">type</span>&nbsp;<span class="ident" id="4836014">WriteError</span>&nbsp;<span class="keyword" id="4836025">struct</span>&nbsp;<span class="op" id="4836032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4836035">Offset</span>&nbsp;<span class="builtintype" id="4836042">int64</span>&nbsp;<span class="comment" id="4836048">//&nbsp;byte&nbsp;offset&nbsp;where&nbsp;error&nbsp;occurred</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4836085">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4836092">error</span>&nbsp;<span class="comment" id="4836098">//&nbsp;error&nbsp;returned&nbsp;by&nbsp;underlying&nbsp;Write</span><br>
<span class="lineno"></span><span class="op" id="4836136">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="4836139">func</span>&nbsp;<span class="op" id="4836144">(</span><span class="ident" id="4836145">e</span>&nbsp;<span class="op" id="4836147">*</span><span class="ident" id="4836148"><a href="/gostd/compress/flate/inflate.go.html#4836014">WriteError</a></span><span class="op" id="4836158">)</span>&nbsp;<span class="ident" id="4836160">Error</span><span class="op" id="4836165">(</span><span class="op" id="4836166">)</span>&nbsp;<span class="builtintype" id="4836168">string</span>&nbsp;<span class="op" id="4836175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4836178">return</span>&nbsp;<span class="string" id="4836185">&#34;flate:&nbsp;write&nbsp;error&nbsp;at&nbsp;offset&nbsp;&#34;</span>&nbsp;<span class="op" id="4836217">+</span>&nbsp;<span class="ident" id="4836219"><a href="/gostd/compress/flate/inflate.go.html#4834933">strconv</a></span><span class="op" id="4836226">.</span><span class="ident" id="4836227"><a href="/gostd/strconv/itoa.go.html#2407133">FormatInt</a></span><span class="op" id="4836236">(</span><span class="ident" id="4836237"><a href="/gostd/compress/flate/inflate.go.html#4836145">e</a></span><span class="op" id="4836238">.</span><span class="ident" id="4836239"><a href="/gostd/compress/flate/inflate.go.html#4836035">Offset</a></span><span class="op" id="4836245">,</span>&nbsp;<span class="num" id="4836247">10</span><span class="op" id="4836249">)</span>&nbsp;<span class="op" id="4836251">+</span>&nbsp;<span class="string" id="4836253">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="4836258">+</span>&nbsp;<span class="ident" id="4836260"><a href="/gostd/compress/flate/inflate.go.html#4836145">e</a></span><span class="op" id="4836261">.</span><span class="ident" id="4836262"><a href="/gostd/compress/flate/inflate.go.html#4836085">Err</a></span><span class="op" id="4836265">.</span><span class="ident" id="4836266">Error</span><span class="op" id="4836271">(</span><span class="op" id="4836272">)</span><br>
<span class="lineno"></span><span class="op" id="4836274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4836277">//&nbsp;Resetter&nbsp;resets&nbsp;a&nbsp;ReadCloser&nbsp;returned&nbsp;by&nbsp;NewReader&nbsp;or&nbsp;NewReaderDict&nbsp;to</span><br>
<span class="lineno">60</span><span class="comment" id="4836351">//&nbsp;to&nbsp;switch&nbsp;to&nbsp;a&nbsp;new&nbsp;underlying&nbsp;Reader.&nbsp;This&nbsp;permits&nbsp;reusing&nbsp;a&nbsp;ReadCloser</span><br>
<span class="lineno"></span><span class="comment" id="4836426">//&nbsp;instead&nbsp;of&nbsp;allocating&nbsp;a&nbsp;new&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="4836462">type</span>&nbsp;<span class="ident" id="4836467">Resetter</span>&nbsp;<span class="keyword" id="4836476">interface</span>&nbsp;<span class="op" id="4836486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4836489">//&nbsp;Reset&nbsp;discards&nbsp;any&nbsp;buffered&nbsp;data&nbsp;and&nbsp;resets&nbsp;the&nbsp;Resetter&nbsp;as&nbsp;if&nbsp;it&nbsp;was</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4836563">//&nbsp;newly&nbsp;initialized&nbsp;with&nbsp;the&nbsp;given&nbsp;reader.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4836608">Reset</span><span class="op" id="4836613">(</span><span class="ident" id="4836614">r</span>&nbsp;<span class="ident" id="4836616"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4836618">.</span><span class="ident" id="4836619"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="4836625">,</span>&nbsp;<span class="ident" id="4836627">dict</span>&nbsp;<span class="op" id="4836632">[</span><span class="op" id="4836633">]</span><span class="builtintype" id="4836634">byte</span><span class="op" id="4836638">)</span>&nbsp;<span class="builtintype" id="4836640">error</span><br>
<span class="lineno"></span><span class="op" id="4836646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4836649">//&nbsp;Note&nbsp;that&nbsp;much&nbsp;of&nbsp;the&nbsp;implementation&nbsp;of&nbsp;huffmanDecoder&nbsp;is&nbsp;also&nbsp;copied</span><br>
<span class="lineno"></span><span class="comment" id="4836722">//&nbsp;into&nbsp;gen.go&nbsp;(in&nbsp;package&nbsp;main)&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;precomputing&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="4836791">//&nbsp;fixed&nbsp;huffman&nbsp;tables&nbsp;so&nbsp;they&nbsp;can&nbsp;be&nbsp;included&nbsp;statically.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4836852">//&nbsp;The&nbsp;data&nbsp;structure&nbsp;for&nbsp;decoding&nbsp;Huffman&nbsp;tables&nbsp;is&nbsp;based&nbsp;on&nbsp;that&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4836922">//&nbsp;zlib.&nbsp;There&nbsp;is&nbsp;a&nbsp;lookup&nbsp;table&nbsp;of&nbsp;a&nbsp;fixed&nbsp;bit&nbsp;width&nbsp;(huffmanChunkBits),</span><br>
<span class="lineno"></span><span class="comment" id="4836996">//&nbsp;For&nbsp;codes&nbsp;smaller&nbsp;than&nbsp;the&nbsp;table&nbsp;width,&nbsp;there&nbsp;are&nbsp;multiple&nbsp;entries</span><br>
<span class="lineno">75</span><span class="comment" id="4837066">//&nbsp;(each&nbsp;combination&nbsp;of&nbsp;trailing&nbsp;bits&nbsp;has&nbsp;the&nbsp;same&nbsp;value).&nbsp;For&nbsp;codes</span><br>
<span class="lineno"></span><span class="comment" id="4837135">//&nbsp;larger&nbsp;than&nbsp;the&nbsp;table&nbsp;width,&nbsp;the&nbsp;table&nbsp;contains&nbsp;a&nbsp;link&nbsp;to&nbsp;an&nbsp;overflow</span><br>
<span class="lineno"></span><span class="comment" id="4837208">//&nbsp;table.&nbsp;The&nbsp;width&nbsp;of&nbsp;each&nbsp;entry&nbsp;in&nbsp;the&nbsp;link&nbsp;table&nbsp;is&nbsp;the&nbsp;maximum&nbsp;code</span><br>
<span class="lineno"></span><span class="comment" id="4837280">//&nbsp;size&nbsp;minus&nbsp;the&nbsp;chunk&nbsp;width.</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="4837312">//&nbsp;Note&nbsp;that&nbsp;you&nbsp;can&nbsp;do&nbsp;a&nbsp;lookup&nbsp;in&nbsp;the&nbsp;table&nbsp;even&nbsp;without&nbsp;all&nbsp;bits</span><br>
<span class="lineno"></span><span class="comment" id="4837380">//&nbsp;filled.&nbsp;Since&nbsp;the&nbsp;extra&nbsp;bits&nbsp;are&nbsp;zero,&nbsp;and&nbsp;the&nbsp;DEFLATE&nbsp;Huffman&nbsp;codes</span><br>
<span class="lineno"></span><span class="comment" id="4837452">//&nbsp;have&nbsp;the&nbsp;property&nbsp;that&nbsp;shorter&nbsp;codes&nbsp;come&nbsp;before&nbsp;longer&nbsp;ones,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4837521">//&nbsp;bit&nbsp;length&nbsp;estimate&nbsp;in&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;lower&nbsp;bound&nbsp;on&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="4837589">//&nbsp;number&nbsp;of&nbsp;bits.</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="4837609">//&nbsp;chunk&nbsp;&amp;&nbsp;15&nbsp;is&nbsp;number&nbsp;of&nbsp;bits</span><br>
<span class="lineno"></span><span class="comment" id="4837641">//&nbsp;chunk&nbsp;&gt;&gt;&nbsp;4&nbsp;is&nbsp;value,&nbsp;including&nbsp;table&nbsp;link</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4837687">const</span>&nbsp;<span class="op" id="4837693">(</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4837696">huffmanChunkBits</span>&nbsp;&nbsp;<span class="op" id="4837714">=</span>&nbsp;<span class="num" id="4837716">9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4837719">huffmanNumChunks</span>&nbsp;&nbsp;<span class="op" id="4837737">=</span>&nbsp;<span class="num" id="4837739">1</span>&nbsp;<span class="op" id="4837741">&lt;&lt;</span>&nbsp;<span class="ident" id="4837744"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4837762">huffmanCountMask</span>&nbsp;&nbsp;<span class="op" id="4837780">=</span>&nbsp;<span class="num" id="4837782">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4837786">huffmanValueShift</span>&nbsp;<span class="op" id="4837804">=</span>&nbsp;<span class="num" id="4837806">4</span><br>
<span class="lineno"></span><span class="op" id="4837808">)</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="4837811">type</span>&nbsp;<span class="ident" id="4837816">huffmanDecoder</span>&nbsp;<span class="keyword" id="4837831">struct</span>&nbsp;<span class="op" id="4837838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4837841">min</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4837850">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4837875">//&nbsp;the&nbsp;minimum&nbsp;code&nbsp;length</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4837903">chunks</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4837912">[</span><span class="ident" id="4837913"><a href="/gostd/compress/flate/inflate.go.html#4837719">huffmanNumChunks</a></span><span class="op" id="4837929">]</span><span class="builtintype" id="4837930">uint32</span>&nbsp;<span class="comment" id="4837937">//&nbsp;chunks&nbsp;as&nbsp;described&nbsp;above</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4837967">links</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4837976">[</span><span class="op" id="4837977">]</span><span class="op" id="4837978">[</span><span class="op" id="4837979">]</span><span class="builtintype" id="4837980">uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4838001">//&nbsp;overflow&nbsp;links</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838020">linkMask</span>&nbsp;<span class="builtintype" id="4838029">uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4838054">//&nbsp;mask&nbsp;the&nbsp;width&nbsp;of&nbsp;the&nbsp;link&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="4838090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4838093">//&nbsp;Initialize&nbsp;Huffman&nbsp;decoding&nbsp;tables&nbsp;from&nbsp;array&nbsp;of&nbsp;code&nbsp;lengths.</span><br>
<span class="lineno"></span><span class="keyword" id="4838159">func</span>&nbsp;<span class="op" id="4838164">(</span><span class="ident" id="4838165">h</span>&nbsp;<span class="op" id="4838167">*</span><span class="ident" id="4838168"><a href="/gostd/compress/flate/inflate.go.html#4837816">huffmanDecoder</a></span><span class="op" id="4838182">)</span>&nbsp;<span class="ident" id="4838184">init</span><span class="op" id="4838188">(</span><span class="ident" id="4838189">bits</span>&nbsp;<span class="op" id="4838194">[</span><span class="op" id="4838195">]</span><span class="builtintype" id="4838196">int</span><span class="op" id="4838199">)</span>&nbsp;<span class="builtintype" id="4838201">bool</span>&nbsp;<span class="op" id="4838206">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838209">if</span>&nbsp;<span class="ident" id="4838212"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4838213">.</span><span class="ident" id="4838214"><a href="/gostd/compress/flate/inflate.go.html#4837841">min</a></span>&nbsp;<span class="op" id="4838218">!=</span>&nbsp;<span class="num" id="4838221">0</span>&nbsp;<span class="op" id="4838223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4838227">*</span><span class="ident" id="4838228"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span>&nbsp;<span class="op" id="4838230">=</span>&nbsp;<span class="ident" id="4838232"><a href="/gostd/compress/flate/inflate.go.html#4837816">huffmanDecoder</a></span><span class="op" id="4838246">{</span><span class="op" id="4838247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4838250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4838254">//&nbsp;Count&nbsp;number&nbsp;of&nbsp;codes&nbsp;of&nbsp;each&nbsp;length,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4838296">//&nbsp;compute&nbsp;min&nbsp;and&nbsp;max&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838328">var</span>&nbsp;<span class="ident" id="4838332">count</span>&nbsp;<span class="op" id="4838338">[</span><span class="ident" id="4838339"><a href="/gostd/compress/flate/inflate.go.html#4834955">maxCodeLen</a></span><span class="op" id="4838349">]</span><span class="builtintype" id="4838350">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838355">var</span>&nbsp;<span class="ident" id="4838359">min</span><span class="op" id="4838362">,</span>&nbsp;<span class="ident" id="4838364">max</span>&nbsp;<span class="builtintype" id="4838368">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838373">for</span>&nbsp;<span class="ident" id="4838377">_</span><span class="op" id="4838378">,</span>&nbsp;<span class="ident" id="4838380">n</span>&nbsp;<span class="op" id="4838382">:=</span>&nbsp;<span class="keyword" id="4838385">range</span>&nbsp;<span class="ident" id="4838391"><a href="/gostd/compress/flate/inflate.go.html#4838189">bits</a></span>&nbsp;<span class="op" id="4838396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838400">if</span>&nbsp;<span class="ident" id="4838403"><a href="/gostd/compress/flate/inflate.go.html#4838380">n</a></span>&nbsp;<span class="op" id="4838405">==</span>&nbsp;<span class="num" id="4838408">0</span>&nbsp;<span class="op" id="4838410">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838415">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4838426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838430">if</span>&nbsp;<span class="ident" id="4838433"><a href="/gostd/compress/flate/inflate.go.html#4838359">min</a></span>&nbsp;<span class="op" id="4838437">==</span>&nbsp;<span class="num" id="4838440">0</span>&nbsp;<span class="op" id="4838442">||</span>&nbsp;<span class="ident" id="4838445"><a href="/gostd/compress/flate/inflate.go.html#4838380">n</a></span>&nbsp;<span class="op" id="4838447">&lt;</span>&nbsp;<span class="ident" id="4838449"><a href="/gostd/compress/flate/inflate.go.html#4838359">min</a></span>&nbsp;<span class="op" id="4838453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838458"><a href="/gostd/compress/flate/inflate.go.html#4838359">min</a></span>&nbsp;<span class="op" id="4838462">=</span>&nbsp;<span class="ident" id="4838464"><a href="/gostd/compress/flate/inflate.go.html#4838380">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4838468">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838472">if</span>&nbsp;<span class="ident" id="4838475"><a href="/gostd/compress/flate/inflate.go.html#4838380">n</a></span>&nbsp;<span class="op" id="4838477">&gt;</span>&nbsp;<span class="ident" id="4838479"><a href="/gostd/compress/flate/inflate.go.html#4838364">max</a></span>&nbsp;<span class="op" id="4838483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838488"><a href="/gostd/compress/flate/inflate.go.html#4838364">max</a></span>&nbsp;<span class="op" id="4838492">=</span>&nbsp;<span class="ident" id="4838494"><a href="/gostd/compress/flate/inflate.go.html#4838380">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4838498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838502"><a href="/gostd/compress/flate/inflate.go.html#4838332">count</a></span><span class="op" id="4838507">[</span><span class="ident" id="4838508"><a href="/gostd/compress/flate/inflate.go.html#4838380">n</a></span><span class="op" id="4838509">]</span><span class="op" id="4838510">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4838514">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838517">if</span>&nbsp;<span class="ident" id="4838520"><a href="/gostd/compress/flate/inflate.go.html#4838364">max</a></span>&nbsp;<span class="op" id="4838524">==</span>&nbsp;<span class="num" id="4838527">0</span>&nbsp;<span class="op" id="4838529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838533">return</span>&nbsp;<span class="builtintype" id="4838540">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4838547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838551"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4838552">.</span><span class="ident" id="4838553"><a href="/gostd/compress/flate/inflate.go.html#4837841">min</a></span>&nbsp;<span class="op" id="4838557">=</span>&nbsp;<span class="ident" id="4838559"><a href="/gostd/compress/flate/inflate.go.html#4838359">min</a></span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838564">var</span>&nbsp;<span class="ident" id="4838568">linkBits</span>&nbsp;<span class="builtintype" id="4838577">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838583">var</span>&nbsp;<span class="ident" id="4838587">numLinks</span>&nbsp;<span class="builtintype" id="4838596">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838601">if</span>&nbsp;<span class="ident" id="4838604"><a href="/gostd/compress/flate/inflate.go.html#4838364">max</a></span>&nbsp;<span class="op" id="4838608">&gt;</span>&nbsp;<span class="ident" id="4838610"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span>&nbsp;<span class="op" id="4838627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838631"><a href="/gostd/compress/flate/inflate.go.html#4838568">linkBits</a></span>&nbsp;<span class="op" id="4838640">=</span>&nbsp;<span class="builtintype" id="4838642">uint</span><span class="op" id="4838646">(</span><span class="ident" id="4838647"><a href="/gostd/compress/flate/inflate.go.html#4838364">max</a></span><span class="op" id="4838650">)</span>&nbsp;<span class="op" id="4838652">-</span>&nbsp;<span class="ident" id="4838654"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838673"><a href="/gostd/compress/flate/inflate.go.html#4838587">numLinks</a></span>&nbsp;<span class="op" id="4838682">=</span>&nbsp;<span class="num" id="4838684">1</span>&nbsp;<span class="op" id="4838686">&lt;&lt;</span>&nbsp;<span class="ident" id="4838689"><a href="/gostd/compress/flate/inflate.go.html#4838568">linkBits</a></span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838700"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4838701">.</span><span class="ident" id="4838702"><a href="/gostd/compress/flate/inflate.go.html#4838020">linkMask</a></span>&nbsp;<span class="op" id="4838711">=</span>&nbsp;<span class="builtintype" id="4838713">uint32</span><span class="op" id="4838719">(</span><span class="ident" id="4838720"><a href="/gostd/compress/flate/inflate.go.html#4838587">numLinks</a></span>&nbsp;<span class="op" id="4838729">-</span>&nbsp;<span class="num" id="4838731">1</span><span class="op" id="4838732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4838735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838738">code</span>&nbsp;<span class="op" id="4838743">:=</span>&nbsp;<span class="num" id="4838746">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838749">var</span>&nbsp;<span class="ident" id="4838753">nextcode</span>&nbsp;<span class="op" id="4838762">[</span><span class="ident" id="4838763"><a href="/gostd/compress/flate/inflate.go.html#4834955">maxCodeLen</a></span><span class="op" id="4838773">]</span><span class="builtintype" id="4838774">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838779">for</span>&nbsp;<span class="ident" id="4838783">i</span>&nbsp;<span class="op" id="4838785">:=</span>&nbsp;<span class="ident" id="4838788"><a href="/gostd/compress/flate/inflate.go.html#4838359">min</a></span><span class="op" id="4838791">;</span>&nbsp;<span class="ident" id="4838793"><a href="/gostd/compress/flate/inflate.go.html#4838783">i</a></span>&nbsp;<span class="op" id="4838795">&lt;=</span>&nbsp;<span class="ident" id="4838798"><a href="/gostd/compress/flate/inflate.go.html#4838364">max</a></span><span class="op" id="4838801">;</span>&nbsp;<span class="ident" id="4838803"><a href="/gostd/compress/flate/inflate.go.html#4838783">i</a></span><span class="op" id="4838804">++</span>&nbsp;<span class="op" id="4838807">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838811">if</span>&nbsp;<span class="ident" id="4838814"><a href="/gostd/compress/flate/inflate.go.html#4838783">i</a></span>&nbsp;<span class="op" id="4838816">==</span>&nbsp;<span class="ident" id="4838819"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span><span class="op" id="4838835">+</span><span class="num" id="4838836">1</span>&nbsp;<span class="op" id="4838838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4838843">//&nbsp;create&nbsp;link&nbsp;tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838868">link</span>&nbsp;<span class="op" id="4838873">:=</span>&nbsp;<span class="ident" id="4838876"><a href="/gostd/compress/flate/inflate.go.html#4838738">code</a></span>&nbsp;<span class="op" id="4838881">&gt;&gt;</span>&nbsp;<span class="num" id="4838884">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838889">if</span>&nbsp;<span class="ident" id="4838892"><a href="/gostd/compress/flate/inflate.go.html#4837719">huffmanNumChunks</a></span>&nbsp;<span class="op" id="4838909">&lt;</span>&nbsp;<span class="ident" id="4838911"><a href="/gostd/compress/flate/inflate.go.html#4838868">link</a></span>&nbsp;<span class="op" id="4838916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838922">return</span>&nbsp;<span class="builtintype" id="4838929">false</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4838938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4838943"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4838944">.</span><span class="ident" id="4838945"><a href="/gostd/compress/flate/inflate.go.html#4837967">links</a></span>&nbsp;<span class="op" id="4838951">=</span>&nbsp;<span class="builtinfunc" id="4838953">make</span><span class="op" id="4838957">(</span><span class="op" id="4838958">[</span><span class="op" id="4838959">]</span><span class="op" id="4838960">[</span><span class="op" id="4838961">]</span><span class="builtintype" id="4838962">uint32</span><span class="op" id="4838968">,</span>&nbsp;<span class="ident" id="4838970"><a href="/gostd/compress/flate/inflate.go.html#4837719">huffmanNumChunks</a></span><span class="op" id="4838986">-</span><span class="ident" id="4838987"><a href="/gostd/compress/flate/inflate.go.html#4838868">link</a></span><span class="op" id="4838991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4838996">for</span>&nbsp;<span class="ident" id="4839000">j</span>&nbsp;<span class="op" id="4839002">:=</span>&nbsp;<span class="builtintype" id="4839005">uint</span><span class="op" id="4839009">(</span><span class="ident" id="4839010"><a href="/gostd/compress/flate/inflate.go.html#4838868">link</a></span><span class="op" id="4839014">)</span><span class="op" id="4839015">;</span>&nbsp;<span class="ident" id="4839017"><a href="/gostd/compress/flate/inflate.go.html#4839000">j</a></span>&nbsp;<span class="op" id="4839019">&lt;</span>&nbsp;<span class="ident" id="4839021"><a href="/gostd/compress/flate/inflate.go.html#4837719">huffmanNumChunks</a></span><span class="op" id="4839037">;</span>&nbsp;<span class="ident" id="4839039"><a href="/gostd/compress/flate/inflate.go.html#4839000">j</a></span><span class="op" id="4839040">++</span>&nbsp;<span class="op" id="4839043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839049">reverse</span>&nbsp;<span class="op" id="4839057">:=</span>&nbsp;<span class="builtintype" id="4839060">int</span><span class="op" id="4839063">(</span><span class="ident" id="4839064"><a href="/gostd/compress/flate/reverse_bits.go.html#4851610">reverseByte</a></span><span class="op" id="4839075">[</span><span class="ident" id="4839076"><a href="/gostd/compress/flate/inflate.go.html#4839000">j</a></span><span class="op" id="4839077">&gt;&gt;</span><span class="num" id="4839079">8</span><span class="op" id="4839080">]</span><span class="op" id="4839081">)</span>&nbsp;<span class="op" id="4839083">|</span>&nbsp;<span class="builtintype" id="4839085">int</span><span class="op" id="4839088">(</span><span class="ident" id="4839089"><a href="/gostd/compress/flate/reverse_bits.go.html#4851610">reverseByte</a></span><span class="op" id="4839100">[</span><span class="ident" id="4839101"><a href="/gostd/compress/flate/inflate.go.html#4839000">j</a></span><span class="op" id="4839102">&amp;</span><span class="num" id="4839103">0xff</span><span class="op" id="4839107">]</span><span class="op" id="4839108">)</span><span class="op" id="4839109">&lt;&lt;</span><span class="num" id="4839111">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839117"><a href="/gostd/compress/flate/inflate.go.html#4839049">reverse</a></span>&nbsp;<span class="op" id="4839125">&gt;&gt;=</span>&nbsp;<span class="builtintype" id="4839129">uint</span><span class="op" id="4839133">(</span><span class="num" id="4839134">16</span>&nbsp;<span class="op" id="4839137">-</span>&nbsp;<span class="ident" id="4839139"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span><span class="op" id="4839155">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839161">off</span>&nbsp;<span class="op" id="4839165">:=</span>&nbsp;<span class="ident" id="4839168"><a href="/gostd/compress/flate/inflate.go.html#4839000">j</a></span>&nbsp;<span class="op" id="4839170">-</span>&nbsp;<span class="builtintype" id="4839172">uint</span><span class="op" id="4839176">(</span><span class="ident" id="4839177"><a href="/gostd/compress/flate/inflate.go.html#4838868">link</a></span><span class="op" id="4839181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839187"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4839188">.</span><span class="ident" id="4839189"><a href="/gostd/compress/flate/inflate.go.html#4837903">chunks</a></span><span class="op" id="4839195">[</span><span class="ident" id="4839196"><a href="/gostd/compress/flate/inflate.go.html#4839049">reverse</a></span><span class="op" id="4839203">]</span>&nbsp;<span class="op" id="4839205">=</span>&nbsp;<span class="builtintype" id="4839207">uint32</span><span class="op" id="4839213">(</span><span class="ident" id="4839214"><a href="/gostd/compress/flate/inflate.go.html#4839161">off</a></span><span class="op" id="4839217">&lt;&lt;</span><span class="ident" id="4839219"><a href="/gostd/compress/flate/inflate.go.html#4837786">huffmanValueShift</a></span>&nbsp;<span class="op" id="4839237">+</span>&nbsp;<span class="builtintype" id="4839239">uint</span><span class="op" id="4839243">(</span><span class="ident" id="4839244"><a href="/gostd/compress/flate/inflate.go.html#4838783">i</a></span><span class="op" id="4839245">)</span><span class="op" id="4839246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839252"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4839253">.</span><span class="ident" id="4839254"><a href="/gostd/compress/flate/inflate.go.html#4837967">links</a></span><span class="op" id="4839259">[</span><span class="ident" id="4839260"><a href="/gostd/compress/flate/inflate.go.html#4839161">off</a></span><span class="op" id="4839263">]</span>&nbsp;<span class="op" id="4839265">=</span>&nbsp;<span class="builtinfunc" id="4839267">make</span><span class="op" id="4839271">(</span><span class="op" id="4839272">[</span><span class="op" id="4839273">]</span><span class="builtintype" id="4839274">uint32</span><span class="op" id="4839280">,</span>&nbsp;<span class="num" id="4839282">1</span><span class="op" id="4839283">&lt;&lt;</span><span class="ident" id="4839285"><a href="/gostd/compress/flate/inflate.go.html#4838568">linkBits</a></span><span class="op" id="4839293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4839298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4839302">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839306">n</span>&nbsp;<span class="op" id="4839308">:=</span>&nbsp;<span class="ident" id="4839311"><a href="/gostd/compress/flate/inflate.go.html#4838332">count</a></span><span class="op" id="4839316">[</span><span class="ident" id="4839317"><a href="/gostd/compress/flate/inflate.go.html#4838783">i</a></span><span class="op" id="4839318">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839322"><a href="/gostd/compress/flate/inflate.go.html#4838753">nextcode</a></span><span class="op" id="4839330">[</span><span class="ident" id="4839331"><a href="/gostd/compress/flate/inflate.go.html#4838783">i</a></span><span class="op" id="4839332">]</span>&nbsp;<span class="op" id="4839334">=</span>&nbsp;<span class="ident" id="4839336"><a href="/gostd/compress/flate/inflate.go.html#4838738">code</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839343"><a href="/gostd/compress/flate/inflate.go.html#4838738">code</a></span>&nbsp;<span class="op" id="4839348">+=</span>&nbsp;<span class="ident" id="4839351"><a href="/gostd/compress/flate/inflate.go.html#4839306">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839355"><a href="/gostd/compress/flate/inflate.go.html#4838738">code</a></span>&nbsp;<span class="op" id="4839360">&lt;&lt;=</span>&nbsp;<span class="num" id="4839364">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4839367">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4839371">for</span>&nbsp;<span class="ident" id="4839375">i</span><span class="op" id="4839376">,</span>&nbsp;<span class="ident" id="4839378">n</span>&nbsp;<span class="op" id="4839380">:=</span>&nbsp;<span class="keyword" id="4839383">range</span>&nbsp;<span class="ident" id="4839389"><a href="/gostd/compress/flate/inflate.go.html#4838189">bits</a></span>&nbsp;<span class="op" id="4839394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4839398">if</span>&nbsp;<span class="ident" id="4839401"><a href="/gostd/compress/flate/inflate.go.html#4839378">n</a></span>&nbsp;<span class="op" id="4839403">==</span>&nbsp;<span class="num" id="4839406">0</span>&nbsp;<span class="op" id="4839408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4839413">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4839424">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839428">code</span>&nbsp;<span class="op" id="4839433">:=</span>&nbsp;<span class="ident" id="4839436"><a href="/gostd/compress/flate/inflate.go.html#4838753">nextcode</a></span><span class="op" id="4839444">[</span><span class="ident" id="4839445"><a href="/gostd/compress/flate/inflate.go.html#4839378">n</a></span><span class="op" id="4839446">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839450"><a href="/gostd/compress/flate/inflate.go.html#4838753">nextcode</a></span><span class="op" id="4839458">[</span><span class="ident" id="4839459"><a href="/gostd/compress/flate/inflate.go.html#4839378">n</a></span><span class="op" id="4839460">]</span><span class="op" id="4839461">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839466">chunk</span>&nbsp;<span class="op" id="4839472">:=</span>&nbsp;<span class="builtintype" id="4839475">uint32</span><span class="op" id="4839481">(</span><span class="ident" id="4839482"><a href="/gostd/compress/flate/inflate.go.html#4839375">i</a></span><span class="op" id="4839483">&lt;&lt;</span><span class="ident" id="4839485"><a href="/gostd/compress/flate/inflate.go.html#4837786">huffmanValueShift</a></span>&nbsp;<span class="op" id="4839503">|</span>&nbsp;<span class="ident" id="4839505"><a href="/gostd/compress/flate/inflate.go.html#4839378">n</a></span><span class="op" id="4839506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839510">reverse</span>&nbsp;<span class="op" id="4839518">:=</span>&nbsp;<span class="builtintype" id="4839521">int</span><span class="op" id="4839524">(</span><span class="ident" id="4839525"><a href="/gostd/compress/flate/reverse_bits.go.html#4851610">reverseByte</a></span><span class="op" id="4839536">[</span><span class="ident" id="4839537"><a href="/gostd/compress/flate/inflate.go.html#4839428">code</a></span><span class="op" id="4839541">&gt;&gt;</span><span class="num" id="4839543">8</span><span class="op" id="4839544">]</span><span class="op" id="4839545">)</span>&nbsp;<span class="op" id="4839547">|</span>&nbsp;<span class="builtintype" id="4839549">int</span><span class="op" id="4839552">(</span><span class="ident" id="4839553"><a href="/gostd/compress/flate/reverse_bits.go.html#4851610">reverseByte</a></span><span class="op" id="4839564">[</span><span class="ident" id="4839565"><a href="/gostd/compress/flate/inflate.go.html#4839428">code</a></span><span class="op" id="4839569">&amp;</span><span class="num" id="4839570">0xff</span><span class="op" id="4839574">]</span><span class="op" id="4839575">)</span><span class="op" id="4839576">&lt;&lt;</span><span class="num" id="4839578">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839582"><a href="/gostd/compress/flate/inflate.go.html#4839510">reverse</a></span>&nbsp;<span class="op" id="4839590">&gt;&gt;=</span>&nbsp;<span class="builtintype" id="4839594">uint</span><span class="op" id="4839598">(</span><span class="num" id="4839599">16</span>&nbsp;<span class="op" id="4839602">-</span>&nbsp;<span class="ident" id="4839604"><a href="/gostd/compress/flate/inflate.go.html#4839378">n</a></span><span class="op" id="4839605">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4839609">if</span>&nbsp;<span class="ident" id="4839612"><a href="/gostd/compress/flate/inflate.go.html#4839378">n</a></span>&nbsp;<span class="op" id="4839614">&lt;=</span>&nbsp;<span class="ident" id="4839617"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span>&nbsp;<span class="op" id="4839634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4839639">for</span>&nbsp;<span class="ident" id="4839643">off</span>&nbsp;<span class="op" id="4839647">:=</span>&nbsp;<span class="ident" id="4839650"><a href="/gostd/compress/flate/inflate.go.html#4839510">reverse</a></span><span class="op" id="4839657">;</span>&nbsp;<span class="ident" id="4839659"><a href="/gostd/compress/flate/inflate.go.html#4839643">off</a></span>&nbsp;<span class="op" id="4839663">&lt;</span>&nbsp;<span class="ident" id="4839665"><a href="/gostd/compress/flate/inflate.go.html#4837719">huffmanNumChunks</a></span><span class="op" id="4839681">;</span>&nbsp;<span class="ident" id="4839683"><a href="/gostd/compress/flate/inflate.go.html#4839643">off</a></span>&nbsp;<span class="op" id="4839687">+=</span>&nbsp;<span class="num" id="4839690">1</span>&nbsp;<span class="op" id="4839692">&lt;&lt;</span>&nbsp;<span class="builtintype" id="4839695">uint</span><span class="op" id="4839699">(</span><span class="ident" id="4839700"><a href="/gostd/compress/flate/inflate.go.html#4839378">n</a></span><span class="op" id="4839701">)</span>&nbsp;<span class="op" id="4839703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839709"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4839710">.</span><span class="ident" id="4839711"><a href="/gostd/compress/flate/inflate.go.html#4837903">chunks</a></span><span class="op" id="4839717">[</span><span class="ident" id="4839718"><a href="/gostd/compress/flate/inflate.go.html#4839643">off</a></span><span class="op" id="4839721">]</span>&nbsp;<span class="op" id="4839723">=</span>&nbsp;<span class="ident" id="4839725"><a href="/gostd/compress/flate/inflate.go.html#4839466">chunk</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4839734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4839738">}</span>&nbsp;<span class="keyword" id="4839740">else</span>&nbsp;<span class="op" id="4839745">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839750">value</span>&nbsp;<span class="op" id="4839756">:=</span>&nbsp;<span class="ident" id="4839759"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4839760">.</span><span class="ident" id="4839761"><a href="/gostd/compress/flate/inflate.go.html#4837903">chunks</a></span><span class="op" id="4839767">[</span><span class="ident" id="4839768"><a href="/gostd/compress/flate/inflate.go.html#4839510">reverse</a></span><span class="op" id="4839775">&amp;</span><span class="op" id="4839776">(</span><span class="ident" id="4839777"><a href="/gostd/compress/flate/inflate.go.html#4837719">huffmanNumChunks</a></span><span class="op" id="4839793">-</span><span class="num" id="4839794">1</span><span class="op" id="4839795">)</span><span class="op" id="4839796">]</span>&nbsp;<span class="op" id="4839798">&gt;&gt;</span>&nbsp;<span class="ident" id="4839801"><a href="/gostd/compress/flate/inflate.go.html#4837786">huffmanValueShift</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4839822">if</span>&nbsp;<span class="ident" id="4839825"><a href="/gostd/compress/flate/inflate.go.html#4839750">value</a></span>&nbsp;<span class="op" id="4839831">&gt;=</span>&nbsp;<span class="builtintype" id="4839834">uint32</span><span class="op" id="4839840">(</span><span class="builtinfunc" id="4839841">len</span><span class="op" id="4839844">(</span><span class="ident" id="4839845"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4839846">.</span><span class="ident" id="4839847"><a href="/gostd/compress/flate/inflate.go.html#4837967">links</a></span><span class="op" id="4839852">)</span><span class="op" id="4839853">)</span>&nbsp;<span class="op" id="4839855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4839861">return</span>&nbsp;<span class="builtintype" id="4839868">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4839877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839882">linktab</span>&nbsp;<span class="op" id="4839890">:=</span>&nbsp;<span class="ident" id="4839893"><a href="/gostd/compress/flate/inflate.go.html#4838165">h</a></span><span class="op" id="4839894">.</span><span class="ident" id="4839895"><a href="/gostd/compress/flate/inflate.go.html#4837967">links</a></span><span class="op" id="4839900">[</span><span class="ident" id="4839901"><a href="/gostd/compress/flate/inflate.go.html#4839750">value</a></span><span class="op" id="4839906">]</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4839911"><a href="/gostd/compress/flate/inflate.go.html#4839510">reverse</a></span>&nbsp;<span class="op" id="4839919">&gt;&gt;=</span>&nbsp;<span class="ident" id="4839923"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4839943">for</span>&nbsp;<span class="ident" id="4839947">off</span>&nbsp;<span class="op" id="4839951">:=</span>&nbsp;<span class="ident" id="4839954"><a href="/gostd/compress/flate/inflate.go.html#4839510">reverse</a></span><span class="op" id="4839961">;</span>&nbsp;<span class="ident" id="4839963"><a href="/gostd/compress/flate/inflate.go.html#4839947">off</a></span>&nbsp;<span class="op" id="4839967">&lt;</span>&nbsp;<span class="ident" id="4839969"><a href="/gostd/compress/flate/inflate.go.html#4838587">numLinks</a></span><span class="op" id="4839977">;</span>&nbsp;<span class="ident" id="4839979"><a href="/gostd/compress/flate/inflate.go.html#4839947">off</a></span>&nbsp;<span class="op" id="4839983">+=</span>&nbsp;<span class="num" id="4839986">1</span>&nbsp;<span class="op" id="4839988">&lt;&lt;</span>&nbsp;<span class="builtintype" id="4839991">uint</span><span class="op" id="4839995">(</span><span class="ident" id="4839996"><a href="/gostd/compress/flate/inflate.go.html#4839378">n</a></span><span class="op" id="4839997">-</span><span class="ident" id="4839998"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span><span class="op" id="4840014">)</span>&nbsp;<span class="op" id="4840016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840022"><a href="/gostd/compress/flate/inflate.go.html#4839882">linktab</a></span><span class="op" id="4840029">[</span><span class="ident" id="4840030"><a href="/gostd/compress/flate/inflate.go.html#4839947">off</a></span><span class="op" id="4840033">]</span>&nbsp;<span class="op" id="4840035">=</span>&nbsp;<span class="ident" id="4840037"><a href="/gostd/compress/flate/inflate.go.html#4839466">chunk</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4840046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4840050">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4840053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4840056">return</span>&nbsp;<span class="builtintype" id="4840063">true</span><br>
<span class="lineno"></span><span class="op" id="4840068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4840071">//&nbsp;The&nbsp;actual&nbsp;read&nbsp;interface&nbsp;needed&nbsp;by&nbsp;NewReader.</span><br>
<span class="lineno">190</span><span class="comment" id="4840121">//&nbsp;If&nbsp;the&nbsp;passed&nbsp;in&nbsp;io.Reader&nbsp;does&nbsp;not&nbsp;also&nbsp;have&nbsp;ReadByte,</span><br>
<span class="lineno"></span><span class="comment" id="4840180">//&nbsp;the&nbsp;NewReader&nbsp;will&nbsp;introduce&nbsp;its&nbsp;own&nbsp;buffering.</span><br>
<span class="lineno"></span><span class="keyword" id="4840231">type</span>&nbsp;<span class="ident" id="4840236">Reader</span>&nbsp;<span class="keyword" id="4840243">interface</span>&nbsp;<span class="op" id="4840253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840256"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4840258">.</span><span class="ident" id="4840259"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840267"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4840269">.</span><span class="ident" id="4840270"><a href="/gostd/io/io.go.html#1426965">ByteReader</a></span><br>
<span class="lineno">195</span><span class="op" id="4840281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4840284">//&nbsp;Decompress&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="4840305">type</span>&nbsp;<span class="ident" id="4840310">decompressor</span>&nbsp;<span class="keyword" id="4840323">struct</span>&nbsp;<span class="op" id="4840330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4840333">//&nbsp;Input&nbsp;source.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840351">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840359"><a href="/gostd/compress/flate/inflate.go.html#4840236">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840367">roffset</span>&nbsp;<span class="builtintype" id="4840375">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840382">woffset</span>&nbsp;<span class="builtintype" id="4840390">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4840398">//&nbsp;Input&nbsp;bits,&nbsp;in&nbsp;top&nbsp;of&nbsp;b.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840427">b</span>&nbsp;&nbsp;<span class="builtintype" id="4840430">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840438">nb</span>&nbsp;<span class="builtintype" id="4840441">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4840448">//&nbsp;Huffman&nbsp;decoders&nbsp;for&nbsp;literal/length,&nbsp;distance.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840499">h1</span><span class="op" id="4840501">,</span>&nbsp;<span class="ident" id="4840503">h2</span>&nbsp;<span class="ident" id="4840506"><a href="/gostd/compress/flate/inflate.go.html#4837816">huffmanDecoder</a></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4840523">//&nbsp;Length&nbsp;arrays&nbsp;used&nbsp;to&nbsp;define&nbsp;Huffman&nbsp;codes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840571">bits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4840580">*</span><span class="op" id="4840581">[</span><span class="ident" id="4840582"><a href="/gostd/compress/flate/inflate.go.html#4835110">maxLit</a></span>&nbsp;<span class="op" id="4840589">+</span>&nbsp;<span class="ident" id="4840591"><a href="/gostd/compress/flate/inflate.go.html#4835126">maxDist</a></span><span class="op" id="4840598">]</span><span class="builtintype" id="4840599">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840604">codebits</span>&nbsp;<span class="op" id="4840613">*</span><span class="op" id="4840614">[</span><span class="ident" id="4840615"><a href="/gostd/compress/flate/inflate.go.html#4835141">numCodes</a></span><span class="op" id="4840623">]</span><span class="builtintype" id="4840624">int</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4840630">//&nbsp;Output&nbsp;history,&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840658">hist</span>&nbsp;&nbsp;<span class="op" id="4840664">*</span><span class="op" id="4840665">[</span><span class="ident" id="4840666"><a href="/gostd/compress/flate/inflate.go.html#4835005">maxHist</a></span><span class="op" id="4840673">]</span><span class="builtintype" id="4840674">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840680">hp</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4840686">int</span>&nbsp;&nbsp;<span class="comment" id="4840691">//&nbsp;current&nbsp;output&nbsp;position&nbsp;in&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840729">hw</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4840735">int</span>&nbsp;&nbsp;<span class="comment" id="4840740">//&nbsp;have&nbsp;written&nbsp;hist[0:hw]&nbsp;already</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840776">hfull</span>&nbsp;<span class="builtintype" id="4840782">bool</span>&nbsp;<span class="comment" id="4840787">//&nbsp;buffer&nbsp;has&nbsp;filled&nbsp;at&nbsp;least&nbsp;once</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4840824">//&nbsp;Temporary&nbsp;buffer&nbsp;(avoids&nbsp;repeated&nbsp;allocation).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840875">buf</span>&nbsp;<span class="op" id="4840879">[</span><span class="num" id="4840880">4</span><span class="op" id="4840881">]</span><span class="builtintype" id="4840882">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4840889">//&nbsp;Next&nbsp;step&nbsp;in&nbsp;the&nbsp;decompression,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4840925">//&nbsp;and&nbsp;decompression&nbsp;state.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840954">step</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4840963">func</span><span class="op" id="4840967">(</span><span class="op" id="4840968">*</span><span class="ident" id="4840969"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4840981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840984">final</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4840993">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4840999">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4841008">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841015">toRead</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4841024">[</span><span class="op" id="4841025">]</span><span class="builtintype" id="4841026">byte</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841032">hl</span><span class="op" id="4841034">,</span>&nbsp;<span class="ident" id="4841036">hd</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4841041">*</span><span class="ident" id="4841042"><a href="/gostd/compress/flate/inflate.go.html#4837816">huffmanDecoder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841058">copyLen</span>&nbsp;&nbsp;<span class="builtintype" id="4841067">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841072">copyDist</span>&nbsp;<span class="builtintype" id="4841081">int</span><br>
<span class="lineno"></span><span class="op" id="4841085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="4841088">func</span>&nbsp;<span class="op" id="4841093">(</span><span class="ident" id="4841094">f</span>&nbsp;<span class="op" id="4841096">*</span><span class="ident" id="4841097"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4841109">)</span>&nbsp;<span class="ident" id="4841111">nextBlock</span><span class="op" id="4841120">(</span><span class="op" id="4841121">)</span>&nbsp;<span class="op" id="4841123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841126">if</span>&nbsp;<span class="ident" id="4841129"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841130">.</span><span class="ident" id="4841131"><a href="/gostd/compress/flate/inflate.go.html#4840984">final</a></span>&nbsp;<span class="op" id="4841137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841141">if</span>&nbsp;<span class="ident" id="4841144"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841145">.</span><span class="ident" id="4841146"><a href="/gostd/compress/flate/inflate.go.html#4840729">hw</a></span>&nbsp;<span class="op" id="4841149">!=</span>&nbsp;<span class="ident" id="4841152"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841153">.</span><span class="ident" id="4841154"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4841157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841162"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841163">.</span><span class="ident" id="4841164"><a href="/gostd/compress/flate/inflate.go.html#4849607">flush</a></span><span class="op" id="4841169">(</span><span class="op" id="4841170">(</span><span class="op" id="4841171">*</span><span class="ident" id="4841172"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4841184">)</span><span class="op" id="4841185">.</span><span class="ident" id="4841186"><a href="/gostd/compress/flate/inflate.go.html#4841111">nextBlock</a></span><span class="op" id="4841195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841200">return</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4841209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841213"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841214">.</span><span class="ident" id="4841215"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4841219">=</span>&nbsp;<span class="ident" id="4841221"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4841223">.</span><span class="ident" id="4841224"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841230">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4841238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841241">for</span>&nbsp;<span class="ident" id="4841245"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841246">.</span><span class="ident" id="4841247"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4841250">&lt;</span>&nbsp;<span class="num" id="4841252">1</span><span class="op" id="4841253">+</span><span class="num" id="4841254">2</span>&nbsp;<span class="op" id="4841256">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841260">if</span>&nbsp;<span class="ident" id="4841263"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841264">.</span><span class="ident" id="4841265"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4841269">=</span>&nbsp;<span class="ident" id="4841271"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841272">.</span><span class="ident" id="4841273"><a href="/gostd/compress/flate/inflate.go.html#4848680">moreBits</a></span><span class="op" id="4841281">(</span><span class="op" id="4841282">)</span><span class="op" id="4841283">;</span>&nbsp;<span class="ident" id="4841285"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841286">.</span><span class="ident" id="4841287"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4841291">!=</span>&nbsp;<span class="builtintype" id="4841294">nil</span>&nbsp;<span class="op" id="4841298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841303">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4841312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4841315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841318"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841319">.</span><span class="ident" id="4841320"><a href="/gostd/compress/flate/inflate.go.html#4840984">final</a></span>&nbsp;<span class="op" id="4841326">=</span>&nbsp;<span class="ident" id="4841328"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841329">.</span><span class="ident" id="4841330"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span><span class="op" id="4841331">&amp;</span><span class="num" id="4841332">1</span>&nbsp;<span class="op" id="4841334">==</span>&nbsp;<span class="num" id="4841337">1</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841340"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841341">.</span><span class="ident" id="4841342"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4841344">&gt;&gt;=</span>&nbsp;<span class="num" id="4841348">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841351">typ</span>&nbsp;<span class="op" id="4841355">:=</span>&nbsp;<span class="ident" id="4841358"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841359">.</span><span class="ident" id="4841360"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4841362">&amp;</span>&nbsp;<span class="num" id="4841364">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841367"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841368">.</span><span class="ident" id="4841369"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4841371">&gt;&gt;=</span>&nbsp;<span class="num" id="4841375">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841378"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841379">.</span><span class="ident" id="4841380"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4841383">-=</span>&nbsp;<span class="num" id="4841386">1</span>&nbsp;<span class="op" id="4841388">+</span>&nbsp;<span class="num" id="4841390">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841393">switch</span>&nbsp;<span class="ident" id="4841400"><a href="/gostd/compress/flate/inflate.go.html#4841351">typ</a></span>&nbsp;<span class="op" id="4841404">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841407">case</span>&nbsp;<span class="num" id="4841412">0</span><span class="op" id="4841413">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841417"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841418">.</span><span class="ident" id="4841419"><a href="/gostd/compress/flate/inflate.go.html#4847319">dataBlock</a></span><span class="op" id="4841428">(</span><span class="op" id="4841429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841432">case</span>&nbsp;<span class="num" id="4841437">1</span><span class="op" id="4841438">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4841442">//&nbsp;compressed,&nbsp;fixed&nbsp;Huffman&nbsp;tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841480"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841481">.</span><span class="ident" id="4841482"><a href="/gostd/compress/flate/inflate.go.html#4841032">hl</a></span>&nbsp;<span class="op" id="4841485">=</span>&nbsp;<span class="op" id="4841487">&amp;</span><span class="ident" id="4841488"><a href="/gostd/compress/flate/fixedhuff.go.html#4807613">fixedHuffmanDecoder</a></span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841510"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841511">.</span><span class="ident" id="4841512"><a href="/gostd/compress/flate/inflate.go.html#4841036">hd</a></span>&nbsp;<span class="op" id="4841515">=</span>&nbsp;<span class="builtintype" id="4841517">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841523"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841524">.</span><span class="ident" id="4841525"><a href="/gostd/compress/flate/inflate.go.html#4844364">huffmanBlock</a></span><span class="op" id="4841537">(</span><span class="op" id="4841538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841541">case</span>&nbsp;<span class="num" id="4841546">2</span><span class="op" id="4841547">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4841551">//&nbsp;compressed,&nbsp;dynamic&nbsp;Huffman&nbsp;tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841591">if</span>&nbsp;<span class="ident" id="4841594"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841595">.</span><span class="ident" id="4841596"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4841600">=</span>&nbsp;<span class="ident" id="4841602"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841603">.</span><span class="ident" id="4841604"><a href="/gostd/compress/flate/inflate.go.html#4842270">readHuffman</a></span><span class="op" id="4841615">(</span><span class="op" id="4841616">)</span><span class="op" id="4841617">;</span>&nbsp;<span class="ident" id="4841619"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841620">.</span><span class="ident" id="4841621"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4841625">!=</span>&nbsp;<span class="builtintype" id="4841628">nil</span>&nbsp;<span class="op" id="4841632">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841637">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4841645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841649"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841650">.</span><span class="ident" id="4841651"><a href="/gostd/compress/flate/inflate.go.html#4841032">hl</a></span>&nbsp;<span class="op" id="4841654">=</span>&nbsp;<span class="op" id="4841656">&amp;</span><span class="ident" id="4841657"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841658">.</span><span class="ident" id="4841659"><a href="/gostd/compress/flate/inflate.go.html#4840499">h1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841664"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841665">.</span><span class="ident" id="4841666"><a href="/gostd/compress/flate/inflate.go.html#4841036">hd</a></span>&nbsp;<span class="op" id="4841669">=</span>&nbsp;<span class="op" id="4841671">&amp;</span><span class="ident" id="4841672"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841673">.</span><span class="ident" id="4841674"><a href="/gostd/compress/flate/inflate.go.html#4840503">h2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841679"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841680">.</span><span class="ident" id="4841681"><a href="/gostd/compress/flate/inflate.go.html#4844364">huffmanBlock</a></span><span class="op" id="4841693">(</span><span class="op" id="4841694">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841697">default</span><span class="op" id="4841704">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4841708">//&nbsp;3&nbsp;is&nbsp;reserved.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841728"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841729">.</span><span class="ident" id="4841730"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4841734">=</span>&nbsp;<span class="ident" id="4841736"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4841753">(</span><span class="ident" id="4841754"><a href="/gostd/compress/flate/inflate.go.html#4841094">f</a></span><span class="op" id="4841755">.</span><span class="ident" id="4841756"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4841763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4841766">}</span><br>
<span class="lineno"></span><span class="op" id="4841768">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="4841771">func</span>&nbsp;<span class="op" id="4841776">(</span><span class="ident" id="4841777">f</span>&nbsp;<span class="op" id="4841779">*</span><span class="ident" id="4841780"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4841792">)</span>&nbsp;<span class="ident" id="4841794">Read</span><span class="op" id="4841798">(</span><span class="ident" id="4841799">b</span>&nbsp;<span class="op" id="4841801">[</span><span class="op" id="4841802">]</span><span class="builtintype" id="4841803">byte</span><span class="op" id="4841807">)</span>&nbsp;<span class="op" id="4841809">(</span><span class="builtintype" id="4841810">int</span><span class="op" id="4841813">,</span>&nbsp;<span class="builtintype" id="4841815">error</span><span class="op" id="4841820">)</span>&nbsp;<span class="op" id="4841822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841825">for</span>&nbsp;<span class="op" id="4841829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841833">if</span>&nbsp;<span class="builtinfunc" id="4841836">len</span><span class="op" id="4841839">(</span><span class="ident" id="4841840"><a href="/gostd/compress/flate/inflate.go.html#4841777">f</a></span><span class="op" id="4841841">.</span><span class="ident" id="4841842"><a href="/gostd/compress/flate/inflate.go.html#4841015">toRead</a></span><span class="op" id="4841848">)</span>&nbsp;<span class="op" id="4841850">&gt;</span>&nbsp;<span class="num" id="4841852">0</span>&nbsp;<span class="op" id="4841854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841859">n</span>&nbsp;<span class="op" id="4841861">:=</span>&nbsp;<span class="builtinfunc" id="4841864">copy</span><span class="op" id="4841868">(</span><span class="ident" id="4841869"><a href="/gostd/compress/flate/inflate.go.html#4841799">b</a></span><span class="op" id="4841870">,</span>&nbsp;<span class="ident" id="4841872"><a href="/gostd/compress/flate/inflate.go.html#4841777">f</a></span><span class="op" id="4841873">.</span><span class="ident" id="4841874"><a href="/gostd/compress/flate/inflate.go.html#4841015">toRead</a></span><span class="op" id="4841880">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841885"><a href="/gostd/compress/flate/inflate.go.html#4841777">f</a></span><span class="op" id="4841886">.</span><span class="ident" id="4841887"><a href="/gostd/compress/flate/inflate.go.html#4841015">toRead</a></span>&nbsp;<span class="op" id="4841894">=</span>&nbsp;<span class="ident" id="4841896"><a href="/gostd/compress/flate/inflate.go.html#4841777">f</a></span><span class="op" id="4841897">.</span><span class="ident" id="4841898"><a href="/gostd/compress/flate/inflate.go.html#4841015">toRead</a></span><span class="op" id="4841904">[</span><span class="ident" id="4841905"><a href="/gostd/compress/flate/inflate.go.html#4841859">n</a></span><span class="op" id="4841906">:</span><span class="op" id="4841907">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841912">return</span>&nbsp;<span class="ident" id="4841919"><a href="/gostd/compress/flate/inflate.go.html#4841859">n</a></span><span class="op" id="4841920">,</span>&nbsp;<span class="builtintype" id="4841922">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4841928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841932">if</span>&nbsp;<span class="ident" id="4841935"><a href="/gostd/compress/flate/inflate.go.html#4841777">f</a></span><span class="op" id="4841936">.</span><span class="ident" id="4841937"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4841941">!=</span>&nbsp;<span class="builtintype" id="4841944">nil</span>&nbsp;<span class="op" id="4841948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4841953">return</span>&nbsp;<span class="num" id="4841960">0</span><span class="op" id="4841961">,</span>&nbsp;<span class="ident" id="4841963"><a href="/gostd/compress/flate/inflate.go.html#4841777">f</a></span><span class="op" id="4841964">.</span><span class="ident" id="4841965"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4841971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4841975"><a href="/gostd/compress/flate/inflate.go.html#4841777">f</a></span><span class="op" id="4841976">.</span><span class="ident" id="4841977"><a href="/gostd/compress/flate/inflate.go.html#4840954">step</a></span><span class="op" id="4841981">(</span><span class="ident" id="4841982"><a href="/gostd/compress/flate/inflate.go.html#4841777">f</a></span><span class="op" id="4841983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4841986">}</span><br>
<span class="lineno"></span><span class="op" id="4841988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">290</span><span class="keyword" id="4841991">func</span>&nbsp;<span class="op" id="4841996">(</span><span class="ident" id="4841997">f</span>&nbsp;<span class="op" id="4841999">*</span><span class="ident" id="4842000"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4842012">)</span>&nbsp;<span class="ident" id="4842014">Close</span><span class="op" id="4842019">(</span><span class="op" id="4842020">)</span>&nbsp;<span class="builtintype" id="4842022">error</span>&nbsp;<span class="op" id="4842028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842031">if</span>&nbsp;<span class="ident" id="4842034"><a href="/gostd/compress/flate/inflate.go.html#4841997">f</a></span><span class="op" id="4842035">.</span><span class="ident" id="4842036"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4842040">==</span>&nbsp;<span class="ident" id="4842043"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4842045">.</span><span class="ident" id="4842046"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="4842050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842054">return</span>&nbsp;<span class="builtintype" id="4842061">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4842066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842069">return</span>&nbsp;<span class="ident" id="4842076"><a href="/gostd/compress/flate/inflate.go.html#4841997">f</a></span><span class="op" id="4842077">.</span><span class="ident" id="4842078"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span><br>
<span class="lineno">295</span><span class="op" id="4842082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4842085">//&nbsp;RFC&nbsp;1951&nbsp;section&nbsp;3.2.7.</span><br>
<span class="lineno"></span><span class="comment" id="4842112">//&nbsp;Compression&nbsp;with&nbsp;dynamic&nbsp;Huffman&nbsp;codes</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="4842155">var</span>&nbsp;<span class="ident" id="4842159">codeOrder</span>&nbsp;<span class="op" id="4842169">=</span>&nbsp;<span class="op" id="4842171">[</span><span class="op" id="4842172">...</span><span class="op" id="4842175">]</span><span class="builtintype" id="4842176">int</span><span class="op" id="4842179">{</span><span class="num" id="4842180">16</span><span class="op" id="4842182">,</span>&nbsp;<span class="num" id="4842184">17</span><span class="op" id="4842186">,</span>&nbsp;<span class="num" id="4842188">18</span><span class="op" id="4842190">,</span>&nbsp;<span class="num" id="4842192">0</span><span class="op" id="4842193">,</span>&nbsp;<span class="num" id="4842195">8</span><span class="op" id="4842196">,</span>&nbsp;<span class="num" id="4842198">7</span><span class="op" id="4842199">,</span>&nbsp;<span class="num" id="4842201">9</span><span class="op" id="4842202">,</span>&nbsp;<span class="num" id="4842204">6</span><span class="op" id="4842205">,</span>&nbsp;<span class="num" id="4842207">10</span><span class="op" id="4842209">,</span>&nbsp;<span class="num" id="4842211">5</span><span class="op" id="4842212">,</span>&nbsp;<span class="num" id="4842214">11</span><span class="op" id="4842216">,</span>&nbsp;<span class="num" id="4842218">4</span><span class="op" id="4842219">,</span>&nbsp;<span class="num" id="4842221">12</span><span class="op" id="4842223">,</span>&nbsp;<span class="num" id="4842225">3</span><span class="op" id="4842226">,</span>&nbsp;<span class="num" id="4842228">13</span><span class="op" id="4842230">,</span>&nbsp;<span class="num" id="4842232">2</span><span class="op" id="4842233">,</span>&nbsp;<span class="num" id="4842235">14</span><span class="op" id="4842237">,</span>&nbsp;<span class="num" id="4842239">1</span><span class="op" id="4842240">,</span>&nbsp;<span class="num" id="4842242">15</span><span class="op" id="4842244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4842247">func</span>&nbsp;<span class="op" id="4842252">(</span><span class="ident" id="4842253">f</span>&nbsp;<span class="op" id="4842255">*</span><span class="ident" id="4842256"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4842268">)</span>&nbsp;<span class="ident" id="4842270">readHuffman</span><span class="op" id="4842281">(</span><span class="op" id="4842282">)</span>&nbsp;<span class="builtintype" id="4842284">error</span>&nbsp;<span class="op" id="4842290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4842293">//&nbsp;HLIT[5],&nbsp;HDIST[5],&nbsp;HCLEN[4].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842326">for</span>&nbsp;<span class="ident" id="4842330"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842331">.</span><span class="ident" id="4842332"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4842335">&lt;</span>&nbsp;<span class="num" id="4842337">5</span><span class="op" id="4842338">+</span><span class="num" id="4842339">5</span><span class="op" id="4842340">+</span><span class="num" id="4842341">4</span>&nbsp;<span class="op" id="4842343">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842347">if</span>&nbsp;<span class="ident" id="4842350">err</span>&nbsp;<span class="op" id="4842354">:=</span>&nbsp;<span class="ident" id="4842357"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842358">.</span><span class="ident" id="4842359"><a href="/gostd/compress/flate/inflate.go.html#4848680">moreBits</a></span><span class="op" id="4842367">(</span><span class="op" id="4842368">)</span><span class="op" id="4842369">;</span>&nbsp;<span class="ident" id="4842371"><a href="/gostd/compress/flate/inflate.go.html#4842350">err</a></span>&nbsp;<span class="op" id="4842375">!=</span>&nbsp;<span class="builtintype" id="4842378">nil</span>&nbsp;<span class="op" id="4842382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842387">return</span>&nbsp;<span class="ident" id="4842394"><a href="/gostd/compress/flate/inflate.go.html#4842350">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4842400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4842403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842406">nlit</span>&nbsp;<span class="op" id="4842411">:=</span>&nbsp;<span class="builtintype" id="4842414">int</span><span class="op" id="4842417">(</span><span class="ident" id="4842418"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842419">.</span><span class="ident" id="4842420"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span><span class="op" id="4842421">&amp;</span><span class="num" id="4842422">0x1F</span><span class="op" id="4842426">)</span>&nbsp;<span class="op" id="4842428">+</span>&nbsp;<span class="num" id="4842430">257</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842435">if</span>&nbsp;<span class="ident" id="4842438"><a href="/gostd/compress/flate/inflate.go.html#4842406">nlit</a></span>&nbsp;<span class="op" id="4842443">&gt;</span>&nbsp;<span class="ident" id="4842445"><a href="/gostd/compress/flate/inflate.go.html#4835110">maxLit</a></span>&nbsp;<span class="op" id="4842452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842456">return</span>&nbsp;<span class="ident" id="4842463"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4842480">(</span><span class="ident" id="4842481"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842482">.</span><span class="ident" id="4842483"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4842490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4842493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842496"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842497">.</span><span class="ident" id="4842498"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4842500">&gt;&gt;=</span>&nbsp;<span class="num" id="4842504">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842507">ndist</span>&nbsp;<span class="op" id="4842513">:=</span>&nbsp;<span class="builtintype" id="4842516">int</span><span class="op" id="4842519">(</span><span class="ident" id="4842520"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842521">.</span><span class="ident" id="4842522"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span><span class="op" id="4842523">&amp;</span><span class="num" id="4842524">0x1F</span><span class="op" id="4842528">)</span>&nbsp;<span class="op" id="4842530">+</span>&nbsp;<span class="num" id="4842532">1</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4842535">//&nbsp;maxDist&nbsp;is&nbsp;32,&nbsp;so&nbsp;ndist&nbsp;is&nbsp;always&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842580"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842581">.</span><span class="ident" id="4842582"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4842584">&gt;&gt;=</span>&nbsp;<span class="num" id="4842588">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842591">nclen</span>&nbsp;<span class="op" id="4842597">:=</span>&nbsp;<span class="builtintype" id="4842600">int</span><span class="op" id="4842603">(</span><span class="ident" id="4842604"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842605">.</span><span class="ident" id="4842606"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span><span class="op" id="4842607">&amp;</span><span class="num" id="4842608">0xF</span><span class="op" id="4842611">)</span>&nbsp;<span class="op" id="4842613">+</span>&nbsp;<span class="num" id="4842615">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4842618">//&nbsp;numCodes&nbsp;is&nbsp;19,&nbsp;so&nbsp;nclen&nbsp;is&nbsp;always&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842664"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842665">.</span><span class="ident" id="4842666"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4842668">&gt;&gt;=</span>&nbsp;<span class="num" id="4842672">4</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842675"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842676">.</span><span class="ident" id="4842677"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4842680">-=</span>&nbsp;<span class="num" id="4842683">5</span>&nbsp;<span class="op" id="4842685">+</span>&nbsp;<span class="num" id="4842687">5</span>&nbsp;<span class="op" id="4842689">+</span>&nbsp;<span class="num" id="4842691">4</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4842695">//&nbsp;(HCLEN+4)*3&nbsp;bits:&nbsp;code&nbsp;lengths&nbsp;in&nbsp;the&nbsp;magic&nbsp;codeOrder&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842760">for</span>&nbsp;<span class="ident" id="4842764">i</span>&nbsp;<span class="op" id="4842766">:=</span>&nbsp;<span class="num" id="4842769">0</span><span class="op" id="4842770">;</span>&nbsp;<span class="ident" id="4842772"><a href="/gostd/compress/flate/inflate.go.html#4842764">i</a></span>&nbsp;<span class="op" id="4842774">&lt;</span>&nbsp;<span class="ident" id="4842776"><a href="/gostd/compress/flate/inflate.go.html#4842591">nclen</a></span><span class="op" id="4842781">;</span>&nbsp;<span class="ident" id="4842783"><a href="/gostd/compress/flate/inflate.go.html#4842764">i</a></span><span class="op" id="4842784">++</span>&nbsp;<span class="op" id="4842787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842791">for</span>&nbsp;<span class="ident" id="4842795"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842796">.</span><span class="ident" id="4842797"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4842800">&lt;</span>&nbsp;<span class="num" id="4842802">3</span>&nbsp;<span class="op" id="4842804">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842809">if</span>&nbsp;<span class="ident" id="4842812">err</span>&nbsp;<span class="op" id="4842816">:=</span>&nbsp;<span class="ident" id="4842819"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842820">.</span><span class="ident" id="4842821"><a href="/gostd/compress/flate/inflate.go.html#4848680">moreBits</a></span><span class="op" id="4842829">(</span><span class="op" id="4842830">)</span><span class="op" id="4842831">;</span>&nbsp;<span class="ident" id="4842833"><a href="/gostd/compress/flate/inflate.go.html#4842812">err</a></span>&nbsp;<span class="op" id="4842837">!=</span>&nbsp;<span class="builtintype" id="4842840">nil</span>&nbsp;<span class="op" id="4842844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842850">return</span>&nbsp;<span class="ident" id="4842857"><a href="/gostd/compress/flate/inflate.go.html#4842812">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4842864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4842868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842872"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842873">.</span><span class="ident" id="4842874"><a href="/gostd/compress/flate/inflate.go.html#4840604">codebits</a></span><span class="op" id="4842882">[</span><span class="ident" id="4842883"><a href="/gostd/compress/flate/inflate.go.html#4842159">codeOrder</a></span><span class="op" id="4842892">[</span><span class="ident" id="4842893"><a href="/gostd/compress/flate/inflate.go.html#4842764">i</a></span><span class="op" id="4842894">]</span><span class="op" id="4842895">]</span>&nbsp;<span class="op" id="4842897">=</span>&nbsp;<span class="builtintype" id="4842899">int</span><span class="op" id="4842902">(</span><span class="ident" id="4842903"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842904">.</span><span class="ident" id="4842905"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4842907">&amp;</span>&nbsp;<span class="num" id="4842909">0x7</span><span class="op" id="4842912">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842916"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842917">.</span><span class="ident" id="4842918"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4842920">&gt;&gt;=</span>&nbsp;<span class="num" id="4842924">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842928"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842929">.</span><span class="ident" id="4842930"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4842933">-=</span>&nbsp;<span class="num" id="4842936">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4842939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4842942">for</span>&nbsp;<span class="ident" id="4842946">i</span>&nbsp;<span class="op" id="4842948">:=</span>&nbsp;<span class="ident" id="4842951"><a href="/gostd/compress/flate/inflate.go.html#4842591">nclen</a></span><span class="op" id="4842956">;</span>&nbsp;<span class="ident" id="4842958"><a href="/gostd/compress/flate/inflate.go.html#4842946">i</a></span>&nbsp;<span class="op" id="4842960">&lt;</span>&nbsp;<span class="builtinfunc" id="4842962">len</span><span class="op" id="4842965">(</span><span class="ident" id="4842966"><a href="/gostd/compress/flate/inflate.go.html#4842159">codeOrder</a></span><span class="op" id="4842975">)</span><span class="op" id="4842976">;</span>&nbsp;<span class="ident" id="4842978"><a href="/gostd/compress/flate/inflate.go.html#4842946">i</a></span><span class="op" id="4842979">++</span>&nbsp;<span class="op" id="4842982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4842986"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4842987">.</span><span class="ident" id="4842988"><a href="/gostd/compress/flate/inflate.go.html#4840604">codebits</a></span><span class="op" id="4842996">[</span><span class="ident" id="4842997"><a href="/gostd/compress/flate/inflate.go.html#4842159">codeOrder</a></span><span class="op" id="4843006">[</span><span class="ident" id="4843007"><a href="/gostd/compress/flate/inflate.go.html#4842946">i</a></span><span class="op" id="4843008">]</span><span class="op" id="4843009">]</span>&nbsp;<span class="op" id="4843011">=</span>&nbsp;<span class="num" id="4843013">0</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843019">if</span>&nbsp;<span class="op" id="4843022">!</span><span class="ident" id="4843023"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843024">.</span><span class="ident" id="4843025"><a href="/gostd/compress/flate/inflate.go.html#4840499">h1</a></span><span class="op" id="4843027">.</span><span class="ident" id="4843028"><a href="/gostd/compress/flate/inflate.go.html#4838184">init</a></span><span class="op" id="4843032">(</span><span class="ident" id="4843033"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843034">.</span><span class="ident" id="4843035"><a href="/gostd/compress/flate/inflate.go.html#4840604">codebits</a></span><span class="op" id="4843043">[</span><span class="num" id="4843044">0</span><span class="op" id="4843045">:</span><span class="op" id="4843046">]</span><span class="op" id="4843047">)</span>&nbsp;<span class="op" id="4843049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843053">return</span>&nbsp;<span class="ident" id="4843060"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4843077">(</span><span class="ident" id="4843078"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843079">.</span><span class="ident" id="4843080"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4843087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4843094">//&nbsp;HLIT&nbsp;+&nbsp;257&nbsp;code&nbsp;lengths,&nbsp;HDIST&nbsp;+&nbsp;1&nbsp;code&nbsp;lengths,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4843147">//&nbsp;using&nbsp;the&nbsp;code&nbsp;length&nbsp;Huffman&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843187">for</span>&nbsp;<span class="ident" id="4843191">i</span><span class="op" id="4843192">,</span>&nbsp;<span class="ident" id="4843194">n</span>&nbsp;<span class="op" id="4843196">:=</span>&nbsp;<span class="num" id="4843199">0</span><span class="op" id="4843200">,</span>&nbsp;<span class="ident" id="4843202"><a href="/gostd/compress/flate/inflate.go.html#4842406">nlit</a></span><span class="op" id="4843206">+</span><span class="ident" id="4843207"><a href="/gostd/compress/flate/inflate.go.html#4842507">ndist</a></span><span class="op" id="4843212">;</span>&nbsp;<span class="ident" id="4843214"><a href="/gostd/compress/flate/inflate.go.html#4843191">i</a></span>&nbsp;<span class="op" id="4843216">&lt;</span>&nbsp;<span class="ident" id="4843218"><a href="/gostd/compress/flate/inflate.go.html#4843194">n</a></span><span class="op" id="4843219">;</span>&nbsp;<span class="op" id="4843221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843225">x</span><span class="op" id="4843226">,</span>&nbsp;<span class="ident" id="4843228">err</span>&nbsp;<span class="op" id="4843232">:=</span>&nbsp;<span class="ident" id="4843235"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843236">.</span><span class="ident" id="4843237"><a href="/gostd/compress/flate/inflate.go.html#4848963">huffSym</a></span><span class="op" id="4843244">(</span><span class="op" id="4843245">&amp;</span><span class="ident" id="4843246"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843247">.</span><span class="ident" id="4843248"><a href="/gostd/compress/flate/inflate.go.html#4840499">h1</a></span><span class="op" id="4843250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843254">if</span>&nbsp;<span class="ident" id="4843257"><a href="/gostd/compress/flate/inflate.go.html#4843228">err</a></span>&nbsp;<span class="op" id="4843261">!=</span>&nbsp;<span class="builtintype" id="4843264">nil</span>&nbsp;<span class="op" id="4843268">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843273">return</span>&nbsp;<span class="ident" id="4843280"><a href="/gostd/compress/flate/inflate.go.html#4843228">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843290">if</span>&nbsp;<span class="ident" id="4843293"><a href="/gostd/compress/flate/inflate.go.html#4843225">x</a></span>&nbsp;<span class="op" id="4843295">&lt;</span>&nbsp;<span class="num" id="4843297">16</span>&nbsp;<span class="op" id="4843300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4843305">//&nbsp;Actual&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843326"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843327">.</span><span class="ident" id="4843328"><a href="/gostd/compress/flate/inflate.go.html#4840571">bits</a></span><span class="op" id="4843332">[</span><span class="ident" id="4843333"><a href="/gostd/compress/flate/inflate.go.html#4843191">i</a></span><span class="op" id="4843334">]</span>&nbsp;<span class="op" id="4843336">=</span>&nbsp;<span class="ident" id="4843338"><a href="/gostd/compress/flate/inflate.go.html#4843225">x</a></span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843343"><a href="/gostd/compress/flate/inflate.go.html#4843191">i</a></span><span class="op" id="4843344">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843350">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4843365">//&nbsp;Repeat&nbsp;previous&nbsp;length&nbsp;or&nbsp;zero.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843402">var</span>&nbsp;<span class="ident" id="4843406">rep</span>&nbsp;<span class="builtintype" id="4843410">int</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843416">var</span>&nbsp;<span class="ident" id="4843420">nb</span>&nbsp;<span class="builtintype" id="4843423">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843430">var</span>&nbsp;<span class="ident" id="4843434">b</span>&nbsp;<span class="builtintype" id="4843436">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843442">switch</span>&nbsp;<span class="ident" id="4843449"><a href="/gostd/compress/flate/inflate.go.html#4843225">x</a></span>&nbsp;<span class="op" id="4843451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843455">default</span><span class="op" id="4843462">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843467">return</span>&nbsp;<span class="ident" id="4843474"><a href="/gostd/compress/flate/inflate.go.html#4835503">InternalError</a></span><span class="op" id="4843487">(</span><span class="string" id="4843488">&#34;unexpected&nbsp;length&nbsp;code&#34;</span><span class="op" id="4843512">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843516">case</span>&nbsp;<span class="num" id="4843521">16</span><span class="op" id="4843523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843528"><a href="/gostd/compress/flate/inflate.go.html#4843406">rep</a></span>&nbsp;<span class="op" id="4843532">=</span>&nbsp;<span class="num" id="4843534">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843539"><a href="/gostd/compress/flate/inflate.go.html#4843420">nb</a></span>&nbsp;<span class="op" id="4843542">=</span>&nbsp;<span class="num" id="4843544">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843549">if</span>&nbsp;<span class="ident" id="4843552"><a href="/gostd/compress/flate/inflate.go.html#4843191">i</a></span>&nbsp;<span class="op" id="4843554">==</span>&nbsp;<span class="num" id="4843557">0</span>&nbsp;<span class="op" id="4843559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843565">return</span>&nbsp;<span class="ident" id="4843572"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4843589">(</span><span class="ident" id="4843590"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843591">.</span><span class="ident" id="4843592"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4843599">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843609"><a href="/gostd/compress/flate/inflate.go.html#4843434">b</a></span>&nbsp;<span class="op" id="4843611">=</span>&nbsp;<span class="ident" id="4843613"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843614">.</span><span class="ident" id="4843615"><a href="/gostd/compress/flate/inflate.go.html#4840571">bits</a></span><span class="op" id="4843619">[</span><span class="ident" id="4843620"><a href="/gostd/compress/flate/inflate.go.html#4843191">i</a></span><span class="op" id="4843621">-</span><span class="num" id="4843622">1</span><span class="op" id="4843623">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843627">case</span>&nbsp;<span class="num" id="4843632">17</span><span class="op" id="4843634">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843639"><a href="/gostd/compress/flate/inflate.go.html#4843406">rep</a></span>&nbsp;<span class="op" id="4843643">=</span>&nbsp;<span class="num" id="4843645">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843650"><a href="/gostd/compress/flate/inflate.go.html#4843420">nb</a></span>&nbsp;<span class="op" id="4843653">=</span>&nbsp;<span class="num" id="4843655">3</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843660"><a href="/gostd/compress/flate/inflate.go.html#4843434">b</a></span>&nbsp;<span class="op" id="4843662">=</span>&nbsp;<span class="num" id="4843664">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843668">case</span>&nbsp;<span class="num" id="4843673">18</span><span class="op" id="4843675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843680"><a href="/gostd/compress/flate/inflate.go.html#4843406">rep</a></span>&nbsp;<span class="op" id="4843684">=</span>&nbsp;<span class="num" id="4843686">11</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843692"><a href="/gostd/compress/flate/inflate.go.html#4843420">nb</a></span>&nbsp;<span class="op" id="4843695">=</span>&nbsp;<span class="num" id="4843697">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843702"><a href="/gostd/compress/flate/inflate.go.html#4843434">b</a></span>&nbsp;<span class="op" id="4843704">=</span>&nbsp;<span class="num" id="4843706">0</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843714">for</span>&nbsp;<span class="ident" id="4843718"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843719">.</span><span class="ident" id="4843720"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4843723">&lt;</span>&nbsp;<span class="ident" id="4843725"><a href="/gostd/compress/flate/inflate.go.html#4843420">nb</a></span>&nbsp;<span class="op" id="4843728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843733">if</span>&nbsp;<span class="ident" id="4843736">err</span>&nbsp;<span class="op" id="4843740">:=</span>&nbsp;<span class="ident" id="4843743"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843744">.</span><span class="ident" id="4843745"><a href="/gostd/compress/flate/inflate.go.html#4848680">moreBits</a></span><span class="op" id="4843753">(</span><span class="op" id="4843754">)</span><span class="op" id="4843755">;</span>&nbsp;<span class="ident" id="4843757"><a href="/gostd/compress/flate/inflate.go.html#4843736">err</a></span>&nbsp;<span class="op" id="4843761">!=</span>&nbsp;<span class="builtintype" id="4843764">nil</span>&nbsp;<span class="op" id="4843768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843774">return</span>&nbsp;<span class="ident" id="4843781"><a href="/gostd/compress/flate/inflate.go.html#4843736">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843788">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843796"><a href="/gostd/compress/flate/inflate.go.html#4843406">rep</a></span>&nbsp;<span class="op" id="4843800">+=</span>&nbsp;<span class="builtintype" id="4843803">int</span><span class="op" id="4843806">(</span><span class="ident" id="4843807"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843808">.</span><span class="ident" id="4843809"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4843811">&amp;</span>&nbsp;<span class="builtintype" id="4843813">uint32</span><span class="op" id="4843819">(</span><span class="num" id="4843820">1</span><span class="op" id="4843821">&lt;&lt;</span><span class="ident" id="4843823"><a href="/gostd/compress/flate/inflate.go.html#4843420">nb</a></span><span class="op" id="4843825">-</span><span class="num" id="4843826">1</span><span class="op" id="4843827">)</span><span class="op" id="4843828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843832"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843833">.</span><span class="ident" id="4843834"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4843836">&gt;&gt;=</span>&nbsp;<span class="ident" id="4843840"><a href="/gostd/compress/flate/inflate.go.html#4843420">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843845"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843846">.</span><span class="ident" id="4843847"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4843850">-=</span>&nbsp;<span class="ident" id="4843853"><a href="/gostd/compress/flate/inflate.go.html#4843420">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843858">if</span>&nbsp;<span class="ident" id="4843861"><a href="/gostd/compress/flate/inflate.go.html#4843191">i</a></span><span class="op" id="4843862">+</span><span class="ident" id="4843863"><a href="/gostd/compress/flate/inflate.go.html#4843406">rep</a></span>&nbsp;<span class="op" id="4843867">&gt;</span>&nbsp;<span class="ident" id="4843869"><a href="/gostd/compress/flate/inflate.go.html#4843194">n</a></span>&nbsp;<span class="op" id="4843871">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843876">return</span>&nbsp;<span class="ident" id="4843883"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4843900">(</span><span class="ident" id="4843901"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843902">.</span><span class="ident" id="4843903"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4843910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843918">for</span>&nbsp;<span class="ident" id="4843922">j</span>&nbsp;<span class="op" id="4843924">:=</span>&nbsp;<span class="num" id="4843927">0</span><span class="op" id="4843928">;</span>&nbsp;<span class="ident" id="4843930"><a href="/gostd/compress/flate/inflate.go.html#4843922">j</a></span>&nbsp;<span class="op" id="4843932">&lt;</span>&nbsp;<span class="ident" id="4843934"><a href="/gostd/compress/flate/inflate.go.html#4843406">rep</a></span><span class="op" id="4843937">;</span>&nbsp;<span class="ident" id="4843939"><a href="/gostd/compress/flate/inflate.go.html#4843922">j</a></span><span class="op" id="4843940">++</span>&nbsp;<span class="op" id="4843943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843948"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843949">.</span><span class="ident" id="4843950"><a href="/gostd/compress/flate/inflate.go.html#4840571">bits</a></span><span class="op" id="4843954">[</span><span class="ident" id="4843955"><a href="/gostd/compress/flate/inflate.go.html#4843191">i</a></span><span class="op" id="4843956">]</span>&nbsp;<span class="op" id="4843958">=</span>&nbsp;<span class="ident" id="4843960"><a href="/gostd/compress/flate/inflate.go.html#4843434">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4843965"><a href="/gostd/compress/flate/inflate.go.html#4843191">i</a></span><span class="op" id="4843966">++</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4843974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4843978">if</span>&nbsp;<span class="op" id="4843981">!</span><span class="ident" id="4843982"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843983">.</span><span class="ident" id="4843984"><a href="/gostd/compress/flate/inflate.go.html#4840499">h1</a></span><span class="op" id="4843986">.</span><span class="ident" id="4843987"><a href="/gostd/compress/flate/inflate.go.html#4838184">init</a></span><span class="op" id="4843991">(</span><span class="ident" id="4843992"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4843993">.</span><span class="ident" id="4843994"><a href="/gostd/compress/flate/inflate.go.html#4840571">bits</a></span><span class="op" id="4843998">[</span><span class="num" id="4843999">0</span><span class="op" id="4844000">:</span><span class="ident" id="4844001"><a href="/gostd/compress/flate/inflate.go.html#4842406">nlit</a></span><span class="op" id="4844005">]</span><span class="op" id="4844006">)</span>&nbsp;<span class="op" id="4844008">||</span>&nbsp;<span class="op" id="4844011">!</span><span class="ident" id="4844012"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4844013">.</span><span class="ident" id="4844014"><a href="/gostd/compress/flate/inflate.go.html#4840503">h2</a></span><span class="op" id="4844016">.</span><span class="ident" id="4844017"><a href="/gostd/compress/flate/inflate.go.html#4838184">init</a></span><span class="op" id="4844021">(</span><span class="ident" id="4844022"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4844023">.</span><span class="ident" id="4844024"><a href="/gostd/compress/flate/inflate.go.html#4840571">bits</a></span><span class="op" id="4844028">[</span><span class="ident" id="4844029"><a href="/gostd/compress/flate/inflate.go.html#4842406">nlit</a></span><span class="op" id="4844033">:</span><span class="ident" id="4844034"><a href="/gostd/compress/flate/inflate.go.html#4842406">nlit</a></span><span class="op" id="4844038">+</span><span class="ident" id="4844039"><a href="/gostd/compress/flate/inflate.go.html#4842507">ndist</a></span><span class="op" id="4844044">]</span><span class="op" id="4844045">)</span>&nbsp;<span class="op" id="4844047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844051">return</span>&nbsp;<span class="ident" id="4844058"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4844075">(</span><span class="ident" id="4844076"><a href="/gostd/compress/flate/inflate.go.html#4842253">f</a></span><span class="op" id="4844077">.</span><span class="ident" id="4844078"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4844085">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4844088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844092">return</span>&nbsp;<span class="builtintype" id="4844099">nil</span><br>
<span class="lineno"></span><span class="op" id="4844103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">400</span><span class="comment" id="4844106">//&nbsp;Decode&nbsp;a&nbsp;single&nbsp;Huffman&nbsp;block&nbsp;from&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="4844147">//&nbsp;hl&nbsp;and&nbsp;hd&nbsp;are&nbsp;the&nbsp;Huffman&nbsp;states&nbsp;for&nbsp;the&nbsp;lit/length&nbsp;values</span><br>
<span class="lineno"></span><span class="comment" id="4844209">//&nbsp;and&nbsp;the&nbsp;distance&nbsp;values,&nbsp;respectively.&nbsp;&nbsp;If&nbsp;hd&nbsp;==&nbsp;nil,&nbsp;using&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4844276">//&nbsp;fixed&nbsp;distance&nbsp;encoding&nbsp;associated&nbsp;with&nbsp;fixed&nbsp;Huffman&nbsp;blocks.</span><br>
<span class="lineno"></span><span class="keyword" id="4844341">func</span>&nbsp;<span class="op" id="4844346">(</span><span class="ident" id="4844347">f</span>&nbsp;<span class="op" id="4844349">*</span><span class="ident" id="4844350"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4844362">)</span>&nbsp;<span class="ident" id="4844364">huffmanBlock</span><span class="op" id="4844376">(</span><span class="op" id="4844377">)</span>&nbsp;<span class="op" id="4844379">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844382">for</span>&nbsp;<span class="op" id="4844386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844390">v</span><span class="op" id="4844391">,</span>&nbsp;<span class="ident" id="4844393">err</span>&nbsp;<span class="op" id="4844397">:=</span>&nbsp;<span class="ident" id="4844400"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844401">.</span><span class="ident" id="4844402"><a href="/gostd/compress/flate/inflate.go.html#4848963">huffSym</a></span><span class="op" id="4844409">(</span><span class="ident" id="4844410"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844411">.</span><span class="ident" id="4844412"><a href="/gostd/compress/flate/inflate.go.html#4841032">hl</a></span><span class="op" id="4844414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844418">if</span>&nbsp;<span class="ident" id="4844421"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span>&nbsp;<span class="op" id="4844425">!=</span>&nbsp;<span class="builtintype" id="4844428">nil</span>&nbsp;<span class="op" id="4844432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844437"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844438">.</span><span class="ident" id="4844439"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4844443">=</span>&nbsp;<span class="ident" id="4844445"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844452">return</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4844461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844465">var</span>&nbsp;<span class="ident" id="4844469">n</span>&nbsp;<span class="builtintype" id="4844471">uint</span>&nbsp;<span class="comment" id="4844476">//&nbsp;number&nbsp;of&nbsp;bits&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844502">var</span>&nbsp;<span class="ident" id="4844506">length</span>&nbsp;<span class="builtintype" id="4844513">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844519">switch</span>&nbsp;<span class="op" id="4844526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844530">case</span>&nbsp;<span class="ident" id="4844535"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span>&nbsp;<span class="op" id="4844537">&lt;</span>&nbsp;<span class="num" id="4844539">256</span><span class="op" id="4844542">:</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844547"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844548">.</span><span class="ident" id="4844549"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4844553">[</span><span class="ident" id="4844554"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844555">.</span><span class="ident" id="4844556"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><span class="op" id="4844558">]</span>&nbsp;<span class="op" id="4844560">=</span>&nbsp;<span class="builtintype" id="4844562">byte</span><span class="op" id="4844566">(</span><span class="ident" id="4844567"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span><span class="op" id="4844568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844573"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844574">.</span><span class="ident" id="4844575"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><span class="op" id="4844577">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844583">if</span>&nbsp;<span class="ident" id="4844586"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844587">.</span><span class="ident" id="4844588"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4844591">==</span>&nbsp;<span class="builtinfunc" id="4844594">len</span><span class="op" id="4844597">(</span><span class="ident" id="4844598"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844599">.</span><span class="ident" id="4844600"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4844604">)</span>&nbsp;<span class="op" id="4844606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4844612">//&nbsp;After&nbsp;the&nbsp;flush,&nbsp;continue&nbsp;this&nbsp;loop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844656"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844657">.</span><span class="ident" id="4844658"><a href="/gostd/compress/flate/inflate.go.html#4849607">flush</a></span><span class="op" id="4844663">(</span><span class="op" id="4844664">(</span><span class="op" id="4844665">*</span><span class="ident" id="4844666"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4844678">)</span><span class="op" id="4844679">.</span><span class="ident" id="4844680"><a href="/gostd/compress/flate/inflate.go.html#4844364">huffmanBlock</a></span><span class="op" id="4844692">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844698">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4844708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844713">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844724">case</span>&nbsp;<span class="ident" id="4844729"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span>&nbsp;<span class="op" id="4844731">==</span>&nbsp;<span class="num" id="4844734">256</span><span class="op" id="4844737">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4844742">//&nbsp;Done&nbsp;with&nbsp;huffman&nbsp;block;&nbsp;read&nbsp;next&nbsp;block.</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844790"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4844791">.</span><span class="ident" id="4844792"><a href="/gostd/compress/flate/inflate.go.html#4840954">step</a></span>&nbsp;<span class="op" id="4844797">=</span>&nbsp;<span class="op" id="4844799">(</span><span class="op" id="4844800">*</span><span class="ident" id="4844801"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4844813">)</span><span class="op" id="4844814">.</span><span class="ident" id="4844815"><a href="/gostd/compress/flate/inflate.go.html#4841111">nextBlock</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844828">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4844837">//&nbsp;otherwise,&nbsp;reference&nbsp;to&nbsp;older&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844877">case</span>&nbsp;<span class="ident" id="4844882"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span>&nbsp;<span class="op" id="4844884">&lt;</span>&nbsp;<span class="num" id="4844886">265</span><span class="op" id="4844889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844894"><a href="/gostd/compress/flate/inflate.go.html#4844506">length</a></span>&nbsp;<span class="op" id="4844901">=</span>&nbsp;<span class="ident" id="4844903"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span>&nbsp;<span class="op" id="4844905">-</span>&nbsp;<span class="op" id="4844907">(</span><span class="num" id="4844908">257</span>&nbsp;<span class="op" id="4844912">-</span>&nbsp;<span class="num" id="4844914">3</span><span class="op" id="4844915">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844920"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span>&nbsp;<span class="op" id="4844922">=</span>&nbsp;<span class="num" id="4844924">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844928">case</span>&nbsp;<span class="ident" id="4844933"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span>&nbsp;<span class="op" id="4844935">&lt;</span>&nbsp;<span class="num" id="4844937">269</span><span class="op" id="4844940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844945"><a href="/gostd/compress/flate/inflate.go.html#4844506">length</a></span>&nbsp;<span class="op" id="4844952">=</span>&nbsp;<span class="ident" id="4844954"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span><span class="op" id="4844955">*</span><span class="num" id="4844956">2</span>&nbsp;<span class="op" id="4844958">-</span>&nbsp;<span class="op" id="4844960">(</span><span class="num" id="4844961">265</span><span class="op" id="4844964">*</span><span class="num" id="4844965">2</span>&nbsp;<span class="op" id="4844967">-</span>&nbsp;<span class="num" id="4844969">11</span><span class="op" id="4844971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4844976"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span>&nbsp;<span class="op" id="4844978">=</span>&nbsp;<span class="num" id="4844980">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4844984">case</span>&nbsp;<span class="ident" id="4844989"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span>&nbsp;<span class="op" id="4844991">&lt;</span>&nbsp;<span class="num" id="4844993">273</span><span class="op" id="4844996">:</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845001"><a href="/gostd/compress/flate/inflate.go.html#4844506">length</a></span>&nbsp;<span class="op" id="4845008">=</span>&nbsp;<span class="ident" id="4845010"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span><span class="op" id="4845011">*</span><span class="num" id="4845012">4</span>&nbsp;<span class="op" id="4845014">-</span>&nbsp;<span class="op" id="4845016">(</span><span class="num" id="4845017">269</span><span class="op" id="4845020">*</span><span class="num" id="4845021">4</span>&nbsp;<span class="op" id="4845023">-</span>&nbsp;<span class="num" id="4845025">19</span><span class="op" id="4845027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845032"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span>&nbsp;<span class="op" id="4845034">=</span>&nbsp;<span class="num" id="4845036">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845040">case</span>&nbsp;<span class="ident" id="4845045"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span>&nbsp;<span class="op" id="4845047">&lt;</span>&nbsp;<span class="num" id="4845049">277</span><span class="op" id="4845052">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845057"><a href="/gostd/compress/flate/inflate.go.html#4844506">length</a></span>&nbsp;<span class="op" id="4845064">=</span>&nbsp;<span class="ident" id="4845066"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span><span class="op" id="4845067">*</span><span class="num" id="4845068">8</span>&nbsp;<span class="op" id="4845070">-</span>&nbsp;<span class="op" id="4845072">(</span><span class="num" id="4845073">273</span><span class="op" id="4845076">*</span><span class="num" id="4845077">8</span>&nbsp;<span class="op" id="4845079">-</span>&nbsp;<span class="num" id="4845081">35</span><span class="op" id="4845083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845088"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span>&nbsp;<span class="op" id="4845090">=</span>&nbsp;<span class="num" id="4845092">3</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845096">case</span>&nbsp;<span class="ident" id="4845101"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span>&nbsp;<span class="op" id="4845103">&lt;</span>&nbsp;<span class="num" id="4845105">281</span><span class="op" id="4845108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845113"><a href="/gostd/compress/flate/inflate.go.html#4844506">length</a></span>&nbsp;<span class="op" id="4845120">=</span>&nbsp;<span class="ident" id="4845122"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span><span class="op" id="4845123">*</span><span class="num" id="4845124">16</span>&nbsp;<span class="op" id="4845127">-</span>&nbsp;<span class="op" id="4845129">(</span><span class="num" id="4845130">277</span><span class="op" id="4845133">*</span><span class="num" id="4845134">16</span>&nbsp;<span class="op" id="4845137">-</span>&nbsp;<span class="num" id="4845139">67</span><span class="op" id="4845141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845146"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span>&nbsp;<span class="op" id="4845148">=</span>&nbsp;<span class="num" id="4845150">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845154">case</span>&nbsp;<span class="ident" id="4845159"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span>&nbsp;<span class="op" id="4845161">&lt;</span>&nbsp;<span class="num" id="4845163">285</span><span class="op" id="4845166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845171"><a href="/gostd/compress/flate/inflate.go.html#4844506">length</a></span>&nbsp;<span class="op" id="4845178">=</span>&nbsp;<span class="ident" id="4845180"><a href="/gostd/compress/flate/inflate.go.html#4844390">v</a></span><span class="op" id="4845181">*</span><span class="num" id="4845182">32</span>&nbsp;<span class="op" id="4845185">-</span>&nbsp;<span class="op" id="4845187">(</span><span class="num" id="4845188">281</span><span class="op" id="4845191">*</span><span class="num" id="4845192">32</span>&nbsp;<span class="op" id="4845195">-</span>&nbsp;<span class="num" id="4845197">131</span><span class="op" id="4845200">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845205"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span>&nbsp;<span class="op" id="4845207">=</span>&nbsp;<span class="num" id="4845209">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845213">default</span><span class="op" id="4845220">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845225"><a href="/gostd/compress/flate/inflate.go.html#4844506">length</a></span>&nbsp;<span class="op" id="4845232">=</span>&nbsp;<span class="num" id="4845234">258</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845241"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span>&nbsp;<span class="op" id="4845243">=</span>&nbsp;<span class="num" id="4845245">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4845249">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845253">if</span>&nbsp;<span class="ident" id="4845256"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span>&nbsp;<span class="op" id="4845258">&gt;</span>&nbsp;<span class="num" id="4845260">0</span>&nbsp;<span class="op" id="4845262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845267">for</span>&nbsp;<span class="ident" id="4845271"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845272">.</span><span class="ident" id="4845273"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4845276">&lt;</span>&nbsp;<span class="ident" id="4845278"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span>&nbsp;<span class="op" id="4845280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845286">if</span>&nbsp;<span class="ident" id="4845289"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span>&nbsp;<span class="op" id="4845293">=</span>&nbsp;<span class="ident" id="4845295"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845296">.</span><span class="ident" id="4845297"><a href="/gostd/compress/flate/inflate.go.html#4848680">moreBits</a></span><span class="op" id="4845305">(</span><span class="op" id="4845306">)</span><span class="op" id="4845307">;</span>&nbsp;<span class="ident" id="4845309"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span>&nbsp;<span class="op" id="4845313">!=</span>&nbsp;<span class="builtintype" id="4845316">nil</span>&nbsp;<span class="op" id="4845320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845327"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845328">.</span><span class="ident" id="4845329"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4845333">=</span>&nbsp;<span class="ident" id="4845335"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845344">return</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4845355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4845360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845365"><a href="/gostd/compress/flate/inflate.go.html#4844506">length</a></span>&nbsp;<span class="op" id="4845372">+=</span>&nbsp;<span class="builtintype" id="4845375">int</span><span class="op" id="4845378">(</span><span class="ident" id="4845379"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845380">.</span><span class="ident" id="4845381"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4845383">&amp;</span>&nbsp;<span class="builtintype" id="4845385">uint32</span><span class="op" id="4845391">(</span><span class="num" id="4845392">1</span><span class="op" id="4845393">&lt;&lt;</span><span class="ident" id="4845395"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span><span class="op" id="4845396">-</span><span class="num" id="4845397">1</span><span class="op" id="4845398">)</span><span class="op" id="4845399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845404"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845405">.</span><span class="ident" id="4845406"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4845408">&gt;&gt;=</span>&nbsp;<span class="ident" id="4845412"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845417"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845418">.</span><span class="ident" id="4845419"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4845422">-=</span>&nbsp;<span class="ident" id="4845425"><a href="/gostd/compress/flate/inflate.go.html#4844469">n</a></span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4845429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845434">var</span>&nbsp;<span class="ident" id="4845438">dist</span>&nbsp;<span class="builtintype" id="4845443">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845449">if</span>&nbsp;<span class="ident" id="4845452"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845453">.</span><span class="ident" id="4845454"><a href="/gostd/compress/flate/inflate.go.html#4841036">hd</a></span>&nbsp;<span class="op" id="4845457">==</span>&nbsp;<span class="builtintype" id="4845460">nil</span>&nbsp;<span class="op" id="4845464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845469">for</span>&nbsp;<span class="ident" id="4845473"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845474">.</span><span class="ident" id="4845475"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4845478">&lt;</span>&nbsp;<span class="num" id="4845480">5</span>&nbsp;<span class="op" id="4845482">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845488">if</span>&nbsp;<span class="ident" id="4845491"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span>&nbsp;<span class="op" id="4845495">=</span>&nbsp;<span class="ident" id="4845497"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845498">.</span><span class="ident" id="4845499"><a href="/gostd/compress/flate/inflate.go.html#4848680">moreBits</a></span><span class="op" id="4845507">(</span><span class="op" id="4845508">)</span><span class="op" id="4845509">;</span>&nbsp;<span class="ident" id="4845511"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span>&nbsp;<span class="op" id="4845515">!=</span>&nbsp;<span class="builtintype" id="4845518">nil</span>&nbsp;<span class="op" id="4845522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845529"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845530">.</span><span class="ident" id="4845531"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4845535">=</span>&nbsp;<span class="ident" id="4845537"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845546">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4845557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4845562">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845567"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span>&nbsp;<span class="op" id="4845572">=</span>&nbsp;<span class="builtintype" id="4845574">int</span><span class="op" id="4845577">(</span><span class="ident" id="4845578"><a href="/gostd/compress/flate/reverse_bits.go.html#4851610">reverseByte</a></span><span class="op" id="4845589">[</span><span class="op" id="4845590">(</span><span class="ident" id="4845591"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845592">.</span><span class="ident" id="4845593"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span><span class="op" id="4845594">&amp;</span><span class="num" id="4845595">0x1F</span><span class="op" id="4845599">)</span><span class="op" id="4845600">&lt;&lt;</span><span class="num" id="4845602">3</span><span class="op" id="4845603">]</span><span class="op" id="4845604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845609"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845610">.</span><span class="ident" id="4845611"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4845613">&gt;&gt;=</span>&nbsp;<span class="num" id="4845617">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845622"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845623">.</span><span class="ident" id="4845624"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4845627">-=</span>&nbsp;<span class="num" id="4845630">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4845634">}</span>&nbsp;<span class="keyword" id="4845636">else</span>&nbsp;<span class="op" id="4845641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845646">if</span>&nbsp;<span class="ident" id="4845649"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span><span class="op" id="4845653">,</span>&nbsp;<span class="ident" id="4845655"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span>&nbsp;<span class="op" id="4845659">=</span>&nbsp;<span class="ident" id="4845661"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845662">.</span><span class="ident" id="4845663"><a href="/gostd/compress/flate/inflate.go.html#4848963">huffSym</a></span><span class="op" id="4845670">(</span><span class="ident" id="4845671"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845672">.</span><span class="ident" id="4845673"><a href="/gostd/compress/flate/inflate.go.html#4841036">hd</a></span><span class="op" id="4845675">)</span><span class="op" id="4845676">;</span>&nbsp;<span class="ident" id="4845678"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span>&nbsp;<span class="op" id="4845682">!=</span>&nbsp;<span class="builtintype" id="4845685">nil</span>&nbsp;<span class="op" id="4845689">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845695"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845696">.</span><span class="ident" id="4845697"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4845701">=</span>&nbsp;<span class="ident" id="4845703"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845711">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4845721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4845725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845730">switch</span>&nbsp;<span class="op" id="4845737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845741">case</span>&nbsp;<span class="ident" id="4845746"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span>&nbsp;<span class="op" id="4845751">&lt;</span>&nbsp;<span class="num" id="4845753">4</span><span class="op" id="4845754">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845759"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span><span class="op" id="4845763">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845768">case</span>&nbsp;<span class="ident" id="4845773"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span>&nbsp;<span class="op" id="4845778">&gt;=</span>&nbsp;<span class="num" id="4845781">30</span><span class="op" id="4845783">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845788"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845789">.</span><span class="ident" id="4845790"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4845794">=</span>&nbsp;<span class="ident" id="4845796"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4845813">(</span><span class="ident" id="4845814"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845815">.</span><span class="ident" id="4845816"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4845823">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845828">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845837">default</span><span class="op" id="4845844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845849">nb</span>&nbsp;<span class="op" id="4845852">:=</span>&nbsp;<span class="builtintype" id="4845855">uint</span><span class="op" id="4845859">(</span><span class="ident" id="4845860"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span><span class="op" id="4845864">-</span><span class="num" id="4845865">2</span><span class="op" id="4845866">)</span>&nbsp;<span class="op" id="4845868">&gt;&gt;</span>&nbsp;<span class="num" id="4845871">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4845876">//&nbsp;have&nbsp;1&nbsp;bit&nbsp;in&nbsp;bottom&nbsp;of&nbsp;dist,&nbsp;need&nbsp;nb&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4845926">extra</span>&nbsp;<span class="op" id="4845932">:=</span>&nbsp;<span class="op" id="4845935">(</span><span class="ident" id="4845936"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span>&nbsp;<span class="op" id="4845941">&amp;</span>&nbsp;<span class="num" id="4845943">1</span><span class="op" id="4845944">)</span>&nbsp;<span class="op" id="4845946">&lt;&lt;</span>&nbsp;<span class="ident" id="4845949"><a href="/gostd/compress/flate/inflate.go.html#4845849">nb</a></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845955">for</span>&nbsp;<span class="ident" id="4845959"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845960">.</span><span class="ident" id="4845961"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4845964">&lt;</span>&nbsp;<span class="ident" id="4845966"><a href="/gostd/compress/flate/inflate.go.html#4845849">nb</a></span>&nbsp;<span class="op" id="4845969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4845975">if</span>&nbsp;<span class="ident" id="4845978"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span>&nbsp;<span class="op" id="4845982">=</span>&nbsp;<span class="ident" id="4845984"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4845985">.</span><span class="ident" id="4845986"><a href="/gostd/compress/flate/inflate.go.html#4848680">moreBits</a></span><span class="op" id="4845994">(</span><span class="op" id="4845995">)</span><span class="op" id="4845996">;</span>&nbsp;<span class="ident" id="4845998"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span>&nbsp;<span class="op" id="4846002">!=</span>&nbsp;<span class="builtintype" id="4846005">nil</span>&nbsp;<span class="op" id="4846009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846016"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846017">.</span><span class="ident" id="4846018"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4846022">=</span>&nbsp;<span class="ident" id="4846024"><a href="/gostd/compress/flate/inflate.go.html#4844393">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846033">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846044">}</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846054"><a href="/gostd/compress/flate/inflate.go.html#4845926">extra</a></span>&nbsp;<span class="op" id="4846060">|=</span>&nbsp;<span class="builtintype" id="4846063">int</span><span class="op" id="4846066">(</span><span class="ident" id="4846067"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846068">.</span><span class="ident" id="4846069"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4846071">&amp;</span>&nbsp;<span class="builtintype" id="4846073">uint32</span><span class="op" id="4846079">(</span><span class="num" id="4846080">1</span><span class="op" id="4846081">&lt;&lt;</span><span class="ident" id="4846083"><a href="/gostd/compress/flate/inflate.go.html#4845849">nb</a></span><span class="op" id="4846085">-</span><span class="num" id="4846086">1</span><span class="op" id="4846087">)</span><span class="op" id="4846088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846093"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846094">.</span><span class="ident" id="4846095"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4846097">&gt;&gt;=</span>&nbsp;<span class="ident" id="4846101"><a href="/gostd/compress/flate/inflate.go.html#4845849">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846107"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846108">.</span><span class="ident" id="4846109"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4846112">-=</span>&nbsp;<span class="ident" id="4846115"><a href="/gostd/compress/flate/inflate.go.html#4845849">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846121"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span>&nbsp;<span class="op" id="4846126">=</span>&nbsp;<span class="num" id="4846128">1</span><span class="op" id="4846129">&lt;&lt;</span><span class="op" id="4846131">(</span><span class="ident" id="4846132"><a href="/gostd/compress/flate/inflate.go.html#4845849">nb</a></span><span class="op" id="4846134">+</span><span class="num" id="4846135">1</span><span class="op" id="4846136">)</span>&nbsp;<span class="op" id="4846138">+</span>&nbsp;<span class="num" id="4846140">1</span>&nbsp;<span class="op" id="4846142">+</span>&nbsp;<span class="ident" id="4846144"><a href="/gostd/compress/flate/inflate.go.html#4845926">extra</a></span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4846157">//&nbsp;Copy&nbsp;history[-dist:-dist+length]&nbsp;into&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846208">if</span>&nbsp;<span class="ident" id="4846211"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span>&nbsp;<span class="op" id="4846216">&gt;</span>&nbsp;<span class="builtinfunc" id="4846218">len</span><span class="op" id="4846221">(</span><span class="ident" id="4846222"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846223">.</span><span class="ident" id="4846224"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4846228">)</span>&nbsp;<span class="op" id="4846230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846235"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846236">.</span><span class="ident" id="4846237"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4846241">=</span>&nbsp;<span class="ident" id="4846243"><a href="/gostd/compress/flate/inflate.go.html#4835503">InternalError</a></span><span class="op" id="4846256">(</span><span class="string" id="4846257">&#34;bad&nbsp;history&nbsp;distance&#34;</span><span class="op" id="4846279">)</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846284">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4846298">//&nbsp;No&nbsp;check&nbsp;on&nbsp;length;&nbsp;encoding&nbsp;can&nbsp;be&nbsp;prescient.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846350">if</span>&nbsp;<span class="op" id="4846353">!</span><span class="ident" id="4846354"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846355">.</span><span class="ident" id="4846356"><a href="/gostd/compress/flate/inflate.go.html#4840776">hfull</a></span>&nbsp;<span class="op" id="4846362">&amp;&amp;</span>&nbsp;<span class="ident" id="4846365"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span>&nbsp;<span class="op" id="4846370">&gt;</span>&nbsp;<span class="ident" id="4846372"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846373">.</span><span class="ident" id="4846374"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4846377">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846382"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846383">.</span><span class="ident" id="4846384"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4846388">=</span>&nbsp;<span class="ident" id="4846390"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4846407">(</span><span class="ident" id="4846408"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846409">.</span><span class="ident" id="4846410"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4846417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846422">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846436"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846437">.</span><span class="ident" id="4846438"><a href="/gostd/compress/flate/inflate.go.html#4841058">copyLen</a></span><span class="op" id="4846445">,</span>&nbsp;<span class="ident" id="4846447"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846448">.</span><span class="ident" id="4846449"><a href="/gostd/compress/flate/inflate.go.html#4841072">copyDist</a></span>&nbsp;<span class="op" id="4846458">=</span>&nbsp;<span class="ident" id="4846460"><a href="/gostd/compress/flate/inflate.go.html#4844506">length</a></span><span class="op" id="4846466">,</span>&nbsp;<span class="ident" id="4846468"><a href="/gostd/compress/flate/inflate.go.html#4845438">dist</a></span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846475">if</span>&nbsp;<span class="ident" id="4846478"><a href="/gostd/compress/flate/inflate.go.html#4844347">f</a></span><span class="op" id="4846479">.</span><span class="ident" id="4846480"><a href="/gostd/compress/flate/inflate.go.html#4846666">copyHist</a></span><span class="op" id="4846488">(</span><span class="op" id="4846489">)</span>&nbsp;<span class="op" id="4846491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846496">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846508">}</span><br>
<span class="lineno"></span><span class="op" id="4846510">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="4846513">//&nbsp;copyHist&nbsp;copies&nbsp;f.copyLen&nbsp;bytes&nbsp;from&nbsp;f.hist&nbsp;(f.copyDist&nbsp;bytes&nbsp;ago)&nbsp;to&nbsp;itself.</span><br>
<span class="lineno"></span><span class="comment" id="4846594">//&nbsp;It&nbsp;reports&nbsp;whether&nbsp;the&nbsp;f.hist&nbsp;buffer&nbsp;is&nbsp;full.</span><br>
<span class="lineno"></span><span class="keyword" id="4846643">func</span>&nbsp;<span class="op" id="4846648">(</span><span class="ident" id="4846649">f</span>&nbsp;<span class="op" id="4846651">*</span><span class="ident" id="4846652"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4846664">)</span>&nbsp;<span class="ident" id="4846666">copyHist</span><span class="op" id="4846674">(</span><span class="op" id="4846675">)</span>&nbsp;<span class="builtintype" id="4846677">bool</span>&nbsp;<span class="op" id="4846682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846685">p</span>&nbsp;<span class="op" id="4846687">:=</span>&nbsp;<span class="ident" id="4846690"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846691">.</span><span class="ident" id="4846692"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4846695">-</span>&nbsp;<span class="ident" id="4846697"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846698">.</span><span class="ident" id="4846699"><a href="/gostd/compress/flate/inflate.go.html#4841072">copyDist</a></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846709">if</span>&nbsp;<span class="ident" id="4846712"><a href="/gostd/compress/flate/inflate.go.html#4846685">p</a></span>&nbsp;<span class="op" id="4846714">&lt;</span>&nbsp;<span class="num" id="4846716">0</span>&nbsp;<span class="op" id="4846718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846722"><a href="/gostd/compress/flate/inflate.go.html#4846685">p</a></span>&nbsp;<span class="op" id="4846724">+=</span>&nbsp;<span class="builtinfunc" id="4846727">len</span><span class="op" id="4846730">(</span><span class="ident" id="4846731"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846732">.</span><span class="ident" id="4846733"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4846737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846743">for</span>&nbsp;<span class="ident" id="4846747"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846748">.</span><span class="ident" id="4846749"><a href="/gostd/compress/flate/inflate.go.html#4841058">copyLen</a></span>&nbsp;<span class="op" id="4846757">&gt;</span>&nbsp;<span class="num" id="4846759">0</span>&nbsp;<span class="op" id="4846761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846765">n</span>&nbsp;<span class="op" id="4846767">:=</span>&nbsp;<span class="ident" id="4846770"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846771">.</span><span class="ident" id="4846772"><a href="/gostd/compress/flate/inflate.go.html#4841058">copyLen</a></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846782">if</span>&nbsp;<span class="ident" id="4846785">x</span>&nbsp;<span class="op" id="4846787">:=</span>&nbsp;<span class="builtinfunc" id="4846790">len</span><span class="op" id="4846793">(</span><span class="ident" id="4846794"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846795">.</span><span class="ident" id="4846796"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4846800">)</span>&nbsp;<span class="op" id="4846802">-</span>&nbsp;<span class="ident" id="4846804"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846805">.</span><span class="ident" id="4846806"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><span class="op" id="4846808">;</span>&nbsp;<span class="ident" id="4846810"><a href="/gostd/compress/flate/inflate.go.html#4846765">n</a></span>&nbsp;<span class="op" id="4846812">&gt;</span>&nbsp;<span class="ident" id="4846814"><a href="/gostd/compress/flate/inflate.go.html#4846785">x</a></span>&nbsp;<span class="op" id="4846816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846821"><a href="/gostd/compress/flate/inflate.go.html#4846765">n</a></span>&nbsp;<span class="op" id="4846823">=</span>&nbsp;<span class="ident" id="4846825"><a href="/gostd/compress/flate/inflate.go.html#4846785">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846833">if</span>&nbsp;<span class="ident" id="4846836">x</span>&nbsp;<span class="op" id="4846838">:=</span>&nbsp;<span class="builtinfunc" id="4846841">len</span><span class="op" id="4846844">(</span><span class="ident" id="4846845"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846846">.</span><span class="ident" id="4846847"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4846851">)</span>&nbsp;<span class="op" id="4846853">-</span>&nbsp;<span class="ident" id="4846855"><a href="/gostd/compress/flate/inflate.go.html#4846685">p</a></span><span class="op" id="4846856">;</span>&nbsp;<span class="ident" id="4846858"><a href="/gostd/compress/flate/inflate.go.html#4846765">n</a></span>&nbsp;<span class="op" id="4846860">&gt;</span>&nbsp;<span class="ident" id="4846862"><a href="/gostd/compress/flate/inflate.go.html#4846836">x</a></span>&nbsp;<span class="op" id="4846864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846869"><a href="/gostd/compress/flate/inflate.go.html#4846765">n</a></span>&nbsp;<span class="op" id="4846871">=</span>&nbsp;<span class="ident" id="4846873"><a href="/gostd/compress/flate/inflate.go.html#4846836">x</a></span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4846877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846881"><a href="/gostd/compress/flate/copy.go.html#4791571">forwardCopy</a></span><span class="op" id="4846892">(</span><span class="ident" id="4846893"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846894">.</span><span class="ident" id="4846895"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4846899">[</span><span class="op" id="4846900">:</span><span class="op" id="4846901">]</span><span class="op" id="4846902">,</span>&nbsp;<span class="ident" id="4846904"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846905">.</span><span class="ident" id="4846906"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><span class="op" id="4846908">,</span>&nbsp;<span class="ident" id="4846910"><a href="/gostd/compress/flate/inflate.go.html#4846685">p</a></span><span class="op" id="4846911">,</span>&nbsp;<span class="ident" id="4846913"><a href="/gostd/compress/flate/inflate.go.html#4846765">n</a></span><span class="op" id="4846914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846918"><a href="/gostd/compress/flate/inflate.go.html#4846685">p</a></span>&nbsp;<span class="op" id="4846920">+=</span>&nbsp;<span class="ident" id="4846923"><a href="/gostd/compress/flate/inflate.go.html#4846765">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846927"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846928">.</span><span class="ident" id="4846929"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4846932">+=</span>&nbsp;<span class="ident" id="4846935"><a href="/gostd/compress/flate/inflate.go.html#4846765">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4846939"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846940">.</span><span class="ident" id="4846941"><a href="/gostd/compress/flate/inflate.go.html#4841058">copyLen</a></span>&nbsp;<span class="op" id="4846949">-=</span>&nbsp;<span class="ident" id="4846952"><a href="/gostd/compress/flate/inflate.go.html#4846765">n</a></span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4846956">if</span>&nbsp;<span class="ident" id="4846959"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846960">.</span><span class="ident" id="4846961"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4846964">==</span>&nbsp;<span class="builtinfunc" id="4846967">len</span><span class="op" id="4846970">(</span><span class="ident" id="4846971"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4846972">.</span><span class="ident" id="4846973"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4846977">)</span>&nbsp;<span class="op" id="4846979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4846984">//&nbsp;After&nbsp;flush&nbsp;continue&nbsp;copying&nbsp;out&nbsp;of&nbsp;history.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847035"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4847036">.</span><span class="ident" id="4847037"><a href="/gostd/compress/flate/inflate.go.html#4849607">flush</a></span><span class="op" id="4847042">(</span><span class="op" id="4847043">(</span><span class="op" id="4847044">*</span><span class="ident" id="4847045"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4847057">)</span><span class="op" id="4847058">.</span><span class="ident" id="4847059"><a href="/gostd/compress/flate/inflate.go.html#4847168">copyHuff</a></span><span class="op" id="4847067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847072">return</span>&nbsp;<span class="builtintype" id="4847079">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4847086">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847090">if</span>&nbsp;<span class="ident" id="4847093"><a href="/gostd/compress/flate/inflate.go.html#4846685">p</a></span>&nbsp;<span class="op" id="4847095">==</span>&nbsp;<span class="builtinfunc" id="4847098">len</span><span class="op" id="4847101">(</span><span class="ident" id="4847102"><a href="/gostd/compress/flate/inflate.go.html#4846649">f</a></span><span class="op" id="4847103">.</span><span class="ident" id="4847104"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4847108">)</span>&nbsp;<span class="op" id="4847110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847115"><a href="/gostd/compress/flate/inflate.go.html#4846685">p</a></span>&nbsp;<span class="op" id="4847117">=</span>&nbsp;<span class="num" id="4847119">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4847123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4847126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847129">return</span>&nbsp;<span class="builtintype" id="4847136">false</span><br>
<span class="lineno">550</span><span class="op" id="4847142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4847145">func</span>&nbsp;<span class="op" id="4847150">(</span><span class="ident" id="4847151">f</span>&nbsp;<span class="op" id="4847153">*</span><span class="ident" id="4847154"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4847166">)</span>&nbsp;<span class="ident" id="4847168">copyHuff</span><span class="op" id="4847176">(</span><span class="op" id="4847177">)</span>&nbsp;<span class="op" id="4847179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847182">if</span>&nbsp;<span class="ident" id="4847185"><a href="/gostd/compress/flate/inflate.go.html#4847151">f</a></span><span class="op" id="4847186">.</span><span class="ident" id="4847187"><a href="/gostd/compress/flate/inflate.go.html#4846666">copyHist</a></span><span class="op" id="4847195">(</span><span class="op" id="4847196">)</span>&nbsp;<span class="op" id="4847198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847202">return</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4847210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847213"><a href="/gostd/compress/flate/inflate.go.html#4847151">f</a></span><span class="op" id="4847214">.</span><span class="ident" id="4847215"><a href="/gostd/compress/flate/inflate.go.html#4844364">huffmanBlock</a></span><span class="op" id="4847227">(</span><span class="op" id="4847228">)</span><br>
<span class="lineno"></span><span class="op" id="4847230">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4847233">//&nbsp;Copy&nbsp;a&nbsp;single&nbsp;uncompressed&nbsp;data&nbsp;block&nbsp;from&nbsp;input&nbsp;to&nbsp;output.</span><br>
<span class="lineno">560</span><span class="keyword" id="4847296">func</span>&nbsp;<span class="op" id="4847301">(</span><span class="ident" id="4847302">f</span>&nbsp;<span class="op" id="4847304">*</span><span class="ident" id="4847305"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4847317">)</span>&nbsp;<span class="ident" id="4847319">dataBlock</span><span class="op" id="4847328">(</span><span class="op" id="4847329">)</span>&nbsp;<span class="op" id="4847331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4847334">//&nbsp;Uncompressed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4847352">//&nbsp;Discard&nbsp;current&nbsp;half-byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847383"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847384">.</span><span class="ident" id="4847385"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4847388">=</span>&nbsp;<span class="num" id="4847390">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847393"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847394">.</span><span class="ident" id="4847395"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4847397">=</span>&nbsp;<span class="num" id="4847399">0</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4847403">//&nbsp;Length&nbsp;then&nbsp;ones-complement&nbsp;of&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847446">nr</span><span class="op" id="4847448">,</span>&nbsp;<span class="ident" id="4847450">err</span>&nbsp;<span class="op" id="4847454">:=</span>&nbsp;<span class="ident" id="4847457"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4847459">.</span><span class="ident" id="4847460"><a href="/gostd/io/io.go.html#1429706">ReadFull</a></span><span class="op" id="4847468">(</span><span class="ident" id="4847469"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847470">.</span><span class="ident" id="4847471"><a href="/gostd/compress/flate/inflate.go.html#4840351">r</a></span><span class="op" id="4847472">,</span>&nbsp;<span class="ident" id="4847474"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847475">.</span><span class="ident" id="4847476"><a href="/gostd/compress/flate/inflate.go.html#4840875">buf</a></span><span class="op" id="4847479">[</span><span class="num" id="4847480">0</span><span class="op" id="4847481">:</span><span class="num" id="4847482">4</span><span class="op" id="4847483">]</span><span class="op" id="4847484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847487"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847488">.</span><span class="ident" id="4847489"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span>&nbsp;<span class="op" id="4847497">+=</span>&nbsp;<span class="builtintype" id="4847500">int64</span><span class="op" id="4847505">(</span><span class="ident" id="4847506"><a href="/gostd/compress/flate/inflate.go.html#4847446">nr</a></span><span class="op" id="4847508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847511">if</span>&nbsp;<span class="ident" id="4847514"><a href="/gostd/compress/flate/inflate.go.html#4847450">err</a></span>&nbsp;<span class="op" id="4847518">!=</span>&nbsp;<span class="builtintype" id="4847521">nil</span>&nbsp;<span class="op" id="4847525">{</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847529"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847530">.</span><span class="ident" id="4847531"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4847535">=</span>&nbsp;<span class="op" id="4847537">&amp;</span><span class="ident" id="4847538"><a href="/gostd/compress/flate/inflate.go.html#4835683">ReadError</a></span><span class="op" id="4847547">{</span><span class="ident" id="4847548"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847549">.</span><span class="ident" id="4847550"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4847557">,</span>&nbsp;<span class="ident" id="4847559"><a href="/gostd/compress/flate/inflate.go.html#4847450">err</a></span><span class="op" id="4847562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847566">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4847574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847577">n</span>&nbsp;<span class="op" id="4847579">:=</span>&nbsp;<span class="builtintype" id="4847582">int</span><span class="op" id="4847585">(</span><span class="ident" id="4847586"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847587">.</span><span class="ident" id="4847588"><a href="/gostd/compress/flate/inflate.go.html#4840875">buf</a></span><span class="op" id="4847591">[</span><span class="num" id="4847592">0</span><span class="op" id="4847593">]</span><span class="op" id="4847594">)</span>&nbsp;<span class="op" id="4847596">|</span>&nbsp;<span class="builtintype" id="4847598">int</span><span class="op" id="4847601">(</span><span class="ident" id="4847602"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847603">.</span><span class="ident" id="4847604"><a href="/gostd/compress/flate/inflate.go.html#4840875">buf</a></span><span class="op" id="4847607">[</span><span class="num" id="4847608">1</span><span class="op" id="4847609">]</span><span class="op" id="4847610">)</span><span class="op" id="4847611">&lt;&lt;</span><span class="num" id="4847613">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847616">nn</span>&nbsp;<span class="op" id="4847619">:=</span>&nbsp;<span class="builtintype" id="4847622">int</span><span class="op" id="4847625">(</span><span class="ident" id="4847626"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847627">.</span><span class="ident" id="4847628"><a href="/gostd/compress/flate/inflate.go.html#4840875">buf</a></span><span class="op" id="4847631">[</span><span class="num" id="4847632">2</span><span class="op" id="4847633">]</span><span class="op" id="4847634">)</span>&nbsp;<span class="op" id="4847636">|</span>&nbsp;<span class="builtintype" id="4847638">int</span><span class="op" id="4847641">(</span><span class="ident" id="4847642"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847643">.</span><span class="ident" id="4847644"><a href="/gostd/compress/flate/inflate.go.html#4840875">buf</a></span><span class="op" id="4847647">[</span><span class="num" id="4847648">3</span><span class="op" id="4847649">]</span><span class="op" id="4847650">)</span><span class="op" id="4847651">&lt;&lt;</span><span class="num" id="4847653">8</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847656">if</span>&nbsp;<span class="builtintype" id="4847659">uint16</span><span class="op" id="4847665">(</span><span class="ident" id="4847666"><a href="/gostd/compress/flate/inflate.go.html#4847616">nn</a></span><span class="op" id="4847668">)</span>&nbsp;<span class="op" id="4847670">!=</span>&nbsp;<span class="builtintype" id="4847673">uint16</span><span class="op" id="4847679">(</span><span class="op" id="4847680">^</span><span class="ident" id="4847681"><a href="/gostd/compress/flate/inflate.go.html#4847577">n</a></span><span class="op" id="4847682">)</span>&nbsp;<span class="op" id="4847684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847688"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847689">.</span><span class="ident" id="4847690"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4847694">=</span>&nbsp;<span class="ident" id="4847696"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4847713">(</span><span class="ident" id="4847714"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847715">.</span><span class="ident" id="4847716"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4847723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847727">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4847735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847739">if</span>&nbsp;<span class="ident" id="4847742"><a href="/gostd/compress/flate/inflate.go.html#4847577">n</a></span>&nbsp;<span class="op" id="4847744">==</span>&nbsp;<span class="num" id="4847747">0</span>&nbsp;<span class="op" id="4847749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4847753">//&nbsp;0-length&nbsp;block&nbsp;means&nbsp;sync</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847784"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847785">.</span><span class="ident" id="4847786"><a href="/gostd/compress/flate/inflate.go.html#4849607">flush</a></span><span class="op" id="4847791">(</span><span class="op" id="4847792">(</span><span class="op" id="4847793">*</span><span class="ident" id="4847794"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4847806">)</span><span class="op" id="4847807">.</span><span class="ident" id="4847808"><a href="/gostd/compress/flate/inflate.go.html#4841111">nextBlock</a></span><span class="op" id="4847817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4847821">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4847829">}</span><br>
<span class="lineno">585</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847833"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847834">.</span><span class="ident" id="4847835"><a href="/gostd/compress/flate/inflate.go.html#4841058">copyLen</a></span>&nbsp;<span class="op" id="4847843">=</span>&nbsp;<span class="ident" id="4847845"><a href="/gostd/compress/flate/inflate.go.html#4847577">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4847848"><a href="/gostd/compress/flate/inflate.go.html#4847302">f</a></span><span class="op" id="4847849">.</span><span class="ident" id="4847850"><a href="/gostd/compress/flate/inflate.go.html#4848006">copyData</a></span><span class="op" id="4847858">(</span><span class="op" id="4847859">)</span><br>
<span class="lineno"></span><span class="op" id="4847861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">590</span><span class="comment" id="4847864">//&nbsp;copyData&nbsp;copies&nbsp;f.copyLen&nbsp;bytes&nbsp;from&nbsp;the&nbsp;underlying&nbsp;reader&nbsp;into&nbsp;f.hist.</span><br>
<span class="lineno"></span><span class="comment" id="4847939">//&nbsp;It&nbsp;pauses&nbsp;for&nbsp;reads&nbsp;when&nbsp;f.hist&nbsp;is&nbsp;full.</span><br>
<span class="lineno"></span><span class="keyword" id="4847983">func</span>&nbsp;<span class="op" id="4847988">(</span><span class="ident" id="4847989">f</span>&nbsp;<span class="op" id="4847991">*</span><span class="ident" id="4847992"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4848004">)</span>&nbsp;<span class="ident" id="4848006">copyData</span><span class="op" id="4848014">(</span><span class="op" id="4848015">)</span>&nbsp;<span class="op" id="4848017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848020">n</span>&nbsp;<span class="op" id="4848022">:=</span>&nbsp;<span class="ident" id="4848025"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848026">.</span><span class="ident" id="4848027"><a href="/gostd/compress/flate/inflate.go.html#4841058">copyLen</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848036">for</span>&nbsp;<span class="ident" id="4848040"><a href="/gostd/compress/flate/inflate.go.html#4848020">n</a></span>&nbsp;<span class="op" id="4848042">&gt;</span>&nbsp;<span class="num" id="4848044">0</span>&nbsp;<span class="op" id="4848046">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848050">m</span>&nbsp;<span class="op" id="4848052">:=</span>&nbsp;<span class="builtinfunc" id="4848055">len</span><span class="op" id="4848058">(</span><span class="ident" id="4848059"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848060">.</span><span class="ident" id="4848061"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4848065">)</span>&nbsp;<span class="op" id="4848067">-</span>&nbsp;<span class="ident" id="4848069"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848070">.</span><span class="ident" id="4848071"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848076">if</span>&nbsp;<span class="ident" id="4848079"><a href="/gostd/compress/flate/inflate.go.html#4848050">m</a></span>&nbsp;<span class="op" id="4848081">&gt;</span>&nbsp;<span class="ident" id="4848083"><a href="/gostd/compress/flate/inflate.go.html#4848020">n</a></span>&nbsp;<span class="op" id="4848085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848090"><a href="/gostd/compress/flate/inflate.go.html#4848050">m</a></span>&nbsp;<span class="op" id="4848092">=</span>&nbsp;<span class="ident" id="4848094"><a href="/gostd/compress/flate/inflate.go.html#4848020">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4848098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848102"><a href="/gostd/compress/flate/inflate.go.html#4848050">m</a></span><span class="op" id="4848103">,</span>&nbsp;<span class="ident" id="4848105">err</span>&nbsp;<span class="op" id="4848109">:=</span>&nbsp;<span class="ident" id="4848112"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4848114">.</span><span class="ident" id="4848115"><a href="/gostd/io/io.go.html#1429706">ReadFull</a></span><span class="op" id="4848123">(</span><span class="ident" id="4848124"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848125">.</span><span class="ident" id="4848126"><a href="/gostd/compress/flate/inflate.go.html#4840351">r</a></span><span class="op" id="4848127">,</span>&nbsp;<span class="ident" id="4848129"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848130">.</span><span class="ident" id="4848131"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4848135">[</span><span class="ident" id="4848136"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848137">.</span><span class="ident" id="4848138"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><span class="op" id="4848140">:</span><span class="ident" id="4848141"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848142">.</span><span class="ident" id="4848143"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><span class="op" id="4848145">+</span><span class="ident" id="4848146"><a href="/gostd/compress/flate/inflate.go.html#4848050">m</a></span><span class="op" id="4848147">]</span><span class="op" id="4848148">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848152"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848153">.</span><span class="ident" id="4848154"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span>&nbsp;<span class="op" id="4848162">+=</span>&nbsp;<span class="builtintype" id="4848165">int64</span><span class="op" id="4848170">(</span><span class="ident" id="4848171"><a href="/gostd/compress/flate/inflate.go.html#4848050">m</a></span><span class="op" id="4848172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848176">if</span>&nbsp;<span class="ident" id="4848179"><a href="/gostd/compress/flate/inflate.go.html#4848105">err</a></span>&nbsp;<span class="op" id="4848183">!=</span>&nbsp;<span class="builtintype" id="4848186">nil</span>&nbsp;<span class="op" id="4848190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848195"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848196">.</span><span class="ident" id="4848197"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4848201">=</span>&nbsp;<span class="op" id="4848203">&amp;</span><span class="ident" id="4848204"><a href="/gostd/compress/flate/inflate.go.html#4835683">ReadError</a></span><span class="op" id="4848213">{</span><span class="ident" id="4848214"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848215">.</span><span class="ident" id="4848216"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4848223">,</span>&nbsp;<span class="ident" id="4848225"><a href="/gostd/compress/flate/inflate.go.html#4848105">err</a></span><span class="op" id="4848228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848233">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4848242">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848246"><a href="/gostd/compress/flate/inflate.go.html#4848020">n</a></span>&nbsp;<span class="op" id="4848248">-=</span>&nbsp;<span class="ident" id="4848251"><a href="/gostd/compress/flate/inflate.go.html#4848050">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848255"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848256">.</span><span class="ident" id="4848257"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4848260">+=</span>&nbsp;<span class="ident" id="4848263"><a href="/gostd/compress/flate/inflate.go.html#4848050">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848267">if</span>&nbsp;<span class="ident" id="4848270"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848271">.</span><span class="ident" id="4848272"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4848275">==</span>&nbsp;<span class="builtinfunc" id="4848278">len</span><span class="op" id="4848281">(</span><span class="ident" id="4848282"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848283">.</span><span class="ident" id="4848284"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4848288">)</span>&nbsp;<span class="op" id="4848290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848295"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848296">.</span><span class="ident" id="4848297"><a href="/gostd/compress/flate/inflate.go.html#4841058">copyLen</a></span>&nbsp;<span class="op" id="4848305">=</span>&nbsp;<span class="ident" id="4848307"><a href="/gostd/compress/flate/inflate.go.html#4848020">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848312"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848313">.</span><span class="ident" id="4848314"><a href="/gostd/compress/flate/inflate.go.html#4849607">flush</a></span><span class="op" id="4848319">(</span><span class="op" id="4848320">(</span><span class="op" id="4848321">*</span><span class="ident" id="4848322"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4848334">)</span><span class="op" id="4848335">.</span><span class="ident" id="4848336"><a href="/gostd/compress/flate/inflate.go.html#4848006">copyData</a></span><span class="op" id="4848344">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848349">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4848358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4848361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848364"><a href="/gostd/compress/flate/inflate.go.html#4847989">f</a></span><span class="op" id="4848365">.</span><span class="ident" id="4848366"><a href="/gostd/compress/flate/inflate.go.html#4840954">step</a></span>&nbsp;<span class="op" id="4848371">=</span>&nbsp;<span class="op" id="4848373">(</span><span class="op" id="4848374">*</span><span class="ident" id="4848375"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4848387">)</span><span class="op" id="4848388">.</span><span class="ident" id="4848389"><a href="/gostd/compress/flate/inflate.go.html#4841111">nextBlock</a></span><br>
<span class="lineno"></span><span class="op" id="4848399">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span><span class="keyword" id="4848402">func</span>&nbsp;<span class="op" id="4848407">(</span><span class="ident" id="4848408">f</span>&nbsp;<span class="op" id="4848410">*</span><span class="ident" id="4848411"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4848423">)</span>&nbsp;<span class="ident" id="4848425">setDict</span><span class="op" id="4848432">(</span><span class="ident" id="4848433">dict</span>&nbsp;<span class="op" id="4848438">[</span><span class="op" id="4848439">]</span><span class="builtintype" id="4848440">byte</span><span class="op" id="4848444">)</span>&nbsp;<span class="op" id="4848446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848449">if</span>&nbsp;<span class="builtinfunc" id="4848452">len</span><span class="op" id="4848455">(</span><span class="ident" id="4848456"><a href="/gostd/compress/flate/inflate.go.html#4848433">dict</a></span><span class="op" id="4848460">)</span>&nbsp;<span class="op" id="4848462">&gt;</span>&nbsp;<span class="builtinfunc" id="4848464">len</span><span class="op" id="4848467">(</span><span class="ident" id="4848468"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848469">.</span><span class="ident" id="4848470"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4848474">)</span>&nbsp;<span class="op" id="4848476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4848480">//&nbsp;Will&nbsp;only&nbsp;remember&nbsp;the&nbsp;tail.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848514"><a href="/gostd/compress/flate/inflate.go.html#4848433">dict</a></span>&nbsp;<span class="op" id="4848519">=</span>&nbsp;<span class="ident" id="4848521"><a href="/gostd/compress/flate/inflate.go.html#4848433">dict</a></span><span class="op" id="4848525">[</span><span class="builtinfunc" id="4848526">len</span><span class="op" id="4848529">(</span><span class="ident" id="4848530"><a href="/gostd/compress/flate/inflate.go.html#4848433">dict</a></span><span class="op" id="4848534">)</span><span class="op" id="4848535">-</span><span class="builtinfunc" id="4848536">len</span><span class="op" id="4848539">(</span><span class="ident" id="4848540"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848541">.</span><span class="ident" id="4848542"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4848546">)</span><span class="op" id="4848547">:</span><span class="op" id="4848548">]</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4848551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848555"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848556">.</span><span class="ident" id="4848557"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4848560">=</span>&nbsp;<span class="builtinfunc" id="4848562">copy</span><span class="op" id="4848566">(</span><span class="ident" id="4848567"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848568">.</span><span class="ident" id="4848569"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4848573">[</span><span class="op" id="4848574">:</span><span class="op" id="4848575">]</span><span class="op" id="4848576">,</span>&nbsp;<span class="ident" id="4848578"><a href="/gostd/compress/flate/inflate.go.html#4848433">dict</a></span><span class="op" id="4848582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848585">if</span>&nbsp;<span class="ident" id="4848588"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848589">.</span><span class="ident" id="4848590"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4848593">==</span>&nbsp;<span class="builtinfunc" id="4848596">len</span><span class="op" id="4848599">(</span><span class="ident" id="4848600"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848601">.</span><span class="ident" id="4848602"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4848606">)</span>&nbsp;<span class="op" id="4848608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848612"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848613">.</span><span class="ident" id="4848614"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4848617">=</span>&nbsp;<span class="num" id="4848619">0</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848623"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848624">.</span><span class="ident" id="4848625"><a href="/gostd/compress/flate/inflate.go.html#4840776">hfull</a></span>&nbsp;<span class="op" id="4848631">=</span>&nbsp;<span class="builtintype" id="4848633">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4848639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848642"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848643">.</span><span class="ident" id="4848644"><a href="/gostd/compress/flate/inflate.go.html#4840729">hw</a></span>&nbsp;<span class="op" id="4848647">=</span>&nbsp;<span class="ident" id="4848649"><a href="/gostd/compress/flate/inflate.go.html#4848408">f</a></span><span class="op" id="4848650">.</span><span class="ident" id="4848651"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><br>
<span class="lineno"></span><span class="op" id="4848654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="4848657">func</span>&nbsp;<span class="op" id="4848662">(</span><span class="ident" id="4848663">f</span>&nbsp;<span class="op" id="4848665">*</span><span class="ident" id="4848666"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4848678">)</span>&nbsp;<span class="ident" id="4848680">moreBits</span><span class="op" id="4848688">(</span><span class="op" id="4848689">)</span>&nbsp;<span class="builtintype" id="4848691">error</span>&nbsp;<span class="op" id="4848697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848700">c</span><span class="op" id="4848701">,</span>&nbsp;<span class="ident" id="4848703">err</span>&nbsp;<span class="op" id="4848707">:=</span>&nbsp;<span class="ident" id="4848710"><a href="/gostd/compress/flate/inflate.go.html#4848663">f</a></span><span class="op" id="4848711">.</span><span class="ident" id="4848712"><a href="/gostd/compress/flate/inflate.go.html#4840351">r</a></span><span class="op" id="4848713">.</span><span class="ident" id="4848714"><a href="/gostd/io/io.go.html#1426989">ReadByte</a></span><span class="op" id="4848722">(</span><span class="op" id="4848723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848726">if</span>&nbsp;<span class="ident" id="4848729"><a href="/gostd/compress/flate/inflate.go.html#4848703">err</a></span>&nbsp;<span class="op" id="4848733">!=</span>&nbsp;<span class="builtintype" id="4848736">nil</span>&nbsp;<span class="op" id="4848740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848744">if</span>&nbsp;<span class="ident" id="4848747"><a href="/gostd/compress/flate/inflate.go.html#4848703">err</a></span>&nbsp;<span class="op" id="4848751">==</span>&nbsp;<span class="ident" id="4848754"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4848756">.</span><span class="ident" id="4848757"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="4848761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848766"><a href="/gostd/compress/flate/inflate.go.html#4848703">err</a></span>&nbsp;<span class="op" id="4848770">=</span>&nbsp;<span class="ident" id="4848772"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4848774">.</span><span class="ident" id="4848775"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4848794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848798">return</span>&nbsp;<span class="ident" id="4848805"><a href="/gostd/compress/flate/inflate.go.html#4848703">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4848810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848813"><a href="/gostd/compress/flate/inflate.go.html#4848663">f</a></span><span class="op" id="4848814">.</span><span class="ident" id="4848815"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4848822">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848826"><a href="/gostd/compress/flate/inflate.go.html#4848663">f</a></span><span class="op" id="4848827">.</span><span class="ident" id="4848828"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4848830">|=</span>&nbsp;<span class="builtintype" id="4848833">uint32</span><span class="op" id="4848839">(</span><span class="ident" id="4848840"><a href="/gostd/compress/flate/inflate.go.html#4848700">c</a></span><span class="op" id="4848841">)</span>&nbsp;<span class="op" id="4848843">&lt;&lt;</span>&nbsp;<span class="ident" id="4848846"><a href="/gostd/compress/flate/inflate.go.html#4848663">f</a></span><span class="op" id="4848847">.</span><span class="ident" id="4848848"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4848852"><a href="/gostd/compress/flate/inflate.go.html#4848663">f</a></span><span class="op" id="4848853">.</span><span class="ident" id="4848854"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4848857">+=</span>&nbsp;<span class="num" id="4848860">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4848863">return</span>&nbsp;<span class="builtintype" id="4848870">nil</span><br>
<span class="lineno"></span><span class="op" id="4848874">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4848877">//&nbsp;Read&nbsp;the&nbsp;next&nbsp;Huffman-encoded&nbsp;symbol&nbsp;from&nbsp;f&nbsp;according&nbsp;to&nbsp;h.</span><br>
<span class="lineno">645</span><span class="keyword" id="4848940">func</span>&nbsp;<span class="op" id="4848945">(</span><span class="ident" id="4848946">f</span>&nbsp;<span class="op" id="4848948">*</span><span class="ident" id="4848949"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4848961">)</span>&nbsp;<span class="ident" id="4848963">huffSym</span><span class="op" id="4848970">(</span><span class="ident" id="4848971">h</span>&nbsp;<span class="op" id="4848973">*</span><span class="ident" id="4848974"><a href="/gostd/compress/flate/inflate.go.html#4837816">huffmanDecoder</a></span><span class="op" id="4848988">)</span>&nbsp;<span class="op" id="4848990">(</span><span class="builtintype" id="4848991">int</span><span class="op" id="4848994">,</span>&nbsp;<span class="builtintype" id="4848996">error</span><span class="op" id="4849001">)</span>&nbsp;<span class="op" id="4849003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849006">n</span>&nbsp;<span class="op" id="4849008">:=</span>&nbsp;<span class="builtintype" id="4849011">uint</span><span class="op" id="4849015">(</span><span class="ident" id="4849016"><a href="/gostd/compress/flate/inflate.go.html#4848971">h</a></span><span class="op" id="4849017">.</span><span class="ident" id="4849018"><a href="/gostd/compress/flate/inflate.go.html#4837841">min</a></span><span class="op" id="4849021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849024">for</span>&nbsp;<span class="op" id="4849028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849032">for</span>&nbsp;<span class="ident" id="4849036"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849037">.</span><span class="ident" id="4849038"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4849041">&lt;</span>&nbsp;<span class="ident" id="4849043"><a href="/gostd/compress/flate/inflate.go.html#4849006">n</a></span>&nbsp;<span class="op" id="4849045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849050">if</span>&nbsp;<span class="ident" id="4849053">err</span>&nbsp;<span class="op" id="4849057">:=</span>&nbsp;<span class="ident" id="4849060"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849061">.</span><span class="ident" id="4849062"><a href="/gostd/compress/flate/inflate.go.html#4848680">moreBits</a></span><span class="op" id="4849070">(</span><span class="op" id="4849071">)</span><span class="op" id="4849072">;</span>&nbsp;<span class="ident" id="4849074"><a href="/gostd/compress/flate/inflate.go.html#4849053">err</a></span>&nbsp;<span class="op" id="4849078">!=</span>&nbsp;<span class="builtintype" id="4849081">nil</span>&nbsp;<span class="op" id="4849085">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849091">return</span>&nbsp;<span class="num" id="4849098">0</span><span class="op" id="4849099">,</span>&nbsp;<span class="ident" id="4849101"><a href="/gostd/compress/flate/inflate.go.html#4849053">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4849108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4849112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849116">chunk</span>&nbsp;<span class="op" id="4849122">:=</span>&nbsp;<span class="ident" id="4849125"><a href="/gostd/compress/flate/inflate.go.html#4848971">h</a></span><span class="op" id="4849126">.</span><span class="ident" id="4849127"><a href="/gostd/compress/flate/inflate.go.html#4837903">chunks</a></span><span class="op" id="4849133">[</span><span class="ident" id="4849134"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849135">.</span><span class="ident" id="4849136"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span><span class="op" id="4849137">&amp;</span><span class="op" id="4849138">(</span><span class="ident" id="4849139"><a href="/gostd/compress/flate/inflate.go.html#4837719">huffmanNumChunks</a></span><span class="op" id="4849155">-</span><span class="num" id="4849156">1</span><span class="op" id="4849157">)</span><span class="op" id="4849158">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849162"><a href="/gostd/compress/flate/inflate.go.html#4849006">n</a></span>&nbsp;<span class="op" id="4849164">=</span>&nbsp;<span class="builtintype" id="4849166">uint</span><span class="op" id="4849170">(</span><span class="ident" id="4849171"><a href="/gostd/compress/flate/inflate.go.html#4849116">chunk</a></span>&nbsp;<span class="op" id="4849177">&amp;</span>&nbsp;<span class="ident" id="4849179"><a href="/gostd/compress/flate/inflate.go.html#4837762">huffmanCountMask</a></span><span class="op" id="4849195">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849199">if</span>&nbsp;<span class="ident" id="4849202"><a href="/gostd/compress/flate/inflate.go.html#4849006">n</a></span>&nbsp;<span class="op" id="4849204">&gt;</span>&nbsp;<span class="ident" id="4849206"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span>&nbsp;<span class="op" id="4849223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849228"><a href="/gostd/compress/flate/inflate.go.html#4849116">chunk</a></span>&nbsp;<span class="op" id="4849234">=</span>&nbsp;<span class="ident" id="4849236"><a href="/gostd/compress/flate/inflate.go.html#4848971">h</a></span><span class="op" id="4849237">.</span><span class="ident" id="4849238"><a href="/gostd/compress/flate/inflate.go.html#4837967">links</a></span><span class="op" id="4849243">[</span><span class="ident" id="4849244"><a href="/gostd/compress/flate/inflate.go.html#4849116">chunk</a></span><span class="op" id="4849249">&gt;&gt;</span><span class="ident" id="4849251"><a href="/gostd/compress/flate/inflate.go.html#4837786">huffmanValueShift</a></span><span class="op" id="4849268">]</span><span class="op" id="4849269">[</span><span class="op" id="4849270">(</span><span class="ident" id="4849271"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849272">.</span><span class="ident" id="4849273"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span><span class="op" id="4849274">&gt;&gt;</span><span class="ident" id="4849276"><a href="/gostd/compress/flate/inflate.go.html#4837696">huffmanChunkBits</a></span><span class="op" id="4849292">)</span><span class="op" id="4849293">&amp;</span><span class="ident" id="4849294"><a href="/gostd/compress/flate/inflate.go.html#4848971">h</a></span><span class="op" id="4849295">.</span><span class="ident" id="4849296"><a href="/gostd/compress/flate/inflate.go.html#4838020">linkMask</a></span><span class="op" id="4849304">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849309"><a href="/gostd/compress/flate/inflate.go.html#4849006">n</a></span>&nbsp;<span class="op" id="4849311">=</span>&nbsp;<span class="builtintype" id="4849313">uint</span><span class="op" id="4849317">(</span><span class="ident" id="4849318"><a href="/gostd/compress/flate/inflate.go.html#4849116">chunk</a></span>&nbsp;<span class="op" id="4849324">&amp;</span>&nbsp;<span class="ident" id="4849326"><a href="/gostd/compress/flate/inflate.go.html#4837762">huffmanCountMask</a></span><span class="op" id="4849342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849347">if</span>&nbsp;<span class="ident" id="4849350"><a href="/gostd/compress/flate/inflate.go.html#4849006">n</a></span>&nbsp;<span class="op" id="4849352">==</span>&nbsp;<span class="num" id="4849355">0</span>&nbsp;<span class="op" id="4849357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849363"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849364">.</span><span class="ident" id="4849365"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span>&nbsp;<span class="op" id="4849369">=</span>&nbsp;<span class="ident" id="4849371"><a href="/gostd/compress/flate/inflate.go.html#4835283">CorruptInputError</a></span><span class="op" id="4849388">(</span><span class="ident" id="4849389"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849390">.</span><span class="ident" id="4849391"><a href="/gostd/compress/flate/inflate.go.html#4840367">roffset</a></span><span class="op" id="4849398">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849404">return</span>&nbsp;<span class="num" id="4849411">0</span><span class="op" id="4849412">,</span>&nbsp;<span class="ident" id="4849414"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849415">.</span><span class="ident" id="4849416"><a href="/gostd/compress/flate/inflate.go.html#4840999">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4849423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4849427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849431">if</span>&nbsp;<span class="ident" id="4849434"><a href="/gostd/compress/flate/inflate.go.html#4849006">n</a></span>&nbsp;<span class="op" id="4849436">&lt;=</span>&nbsp;<span class="ident" id="4849439"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849440">.</span><span class="ident" id="4849441"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4849444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849449"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849450">.</span><span class="ident" id="4849451"><a href="/gostd/compress/flate/inflate.go.html#4840427">b</a></span>&nbsp;<span class="op" id="4849453">&gt;&gt;=</span>&nbsp;<span class="ident" id="4849457"><a href="/gostd/compress/flate/inflate.go.html#4849006">n</a></span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849462"><a href="/gostd/compress/flate/inflate.go.html#4848946">f</a></span><span class="op" id="4849463">.</span><span class="ident" id="4849464"><a href="/gostd/compress/flate/inflate.go.html#4840438">nb</a></span>&nbsp;<span class="op" id="4849467">-=</span>&nbsp;<span class="ident" id="4849470"><a href="/gostd/compress/flate/inflate.go.html#4849006">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849475">return</span>&nbsp;<span class="builtintype" id="4849482">int</span><span class="op" id="4849485">(</span><span class="ident" id="4849486"><a href="/gostd/compress/flate/inflate.go.html#4849116">chunk</a></span>&nbsp;<span class="op" id="4849492">&gt;&gt;</span>&nbsp;<span class="ident" id="4849495"><a href="/gostd/compress/flate/inflate.go.html#4837786">huffmanValueShift</a></span><span class="op" id="4849512">)</span><span class="op" id="4849513">,</span>&nbsp;<span class="builtintype" id="4849515">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4849521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4849524">}</span><br>
<span class="lineno"></span><span class="op" id="4849526">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="comment" id="4849529">//&nbsp;Flush&nbsp;any&nbsp;buffered&nbsp;output&nbsp;to&nbsp;the&nbsp;underlying&nbsp;writer.</span><br>
<span class="lineno"></span><span class="keyword" id="4849584">func</span>&nbsp;<span class="op" id="4849589">(</span><span class="ident" id="4849590">f</span>&nbsp;<span class="op" id="4849592">*</span><span class="ident" id="4849593"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4849605">)</span>&nbsp;<span class="ident" id="4849607">flush</span><span class="op" id="4849612">(</span><span class="ident" id="4849613">step</span>&nbsp;<span class="keyword" id="4849618">func</span><span class="op" id="4849622">(</span><span class="op" id="4849623">*</span><span class="ident" id="4849624"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4849636">)</span><span class="op" id="4849637">)</span>&nbsp;<span class="op" id="4849639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849642"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849643">.</span><span class="ident" id="4849644"><a href="/gostd/compress/flate/inflate.go.html#4841015">toRead</a></span>&nbsp;<span class="op" id="4849651">=</span>&nbsp;<span class="ident" id="4849653"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849654">.</span><span class="ident" id="4849655"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4849659">[</span><span class="ident" id="4849660"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849661">.</span><span class="ident" id="4849662"><a href="/gostd/compress/flate/inflate.go.html#4840729">hw</a></span><span class="op" id="4849664">:</span><span class="ident" id="4849665"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849666">.</span><span class="ident" id="4849667"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><span class="op" id="4849669">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849672"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849673">.</span><span class="ident" id="4849674"><a href="/gostd/compress/flate/inflate.go.html#4840382">woffset</a></span>&nbsp;<span class="op" id="4849682">+=</span>&nbsp;<span class="builtintype" id="4849685">int64</span><span class="op" id="4849690">(</span><span class="ident" id="4849691"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849692">.</span><span class="ident" id="4849693"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4849696">-</span>&nbsp;<span class="ident" id="4849698"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849699">.</span><span class="ident" id="4849700"><a href="/gostd/compress/flate/inflate.go.html#4840729">hw</a></span><span class="op" id="4849702">)</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849705"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849706">.</span><span class="ident" id="4849707"><a href="/gostd/compress/flate/inflate.go.html#4840729">hw</a></span>&nbsp;<span class="op" id="4849710">=</span>&nbsp;<span class="ident" id="4849712"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849713">.</span><span class="ident" id="4849714"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849718">if</span>&nbsp;<span class="ident" id="4849721"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849722">.</span><span class="ident" id="4849723"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4849726">==</span>&nbsp;<span class="builtinfunc" id="4849729">len</span><span class="op" id="4849732">(</span><span class="ident" id="4849733"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849734">.</span><span class="ident" id="4849735"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4849739">)</span>&nbsp;<span class="op" id="4849741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849745"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849746">.</span><span class="ident" id="4849747"><a href="/gostd/compress/flate/inflate.go.html#4840680">hp</a></span>&nbsp;<span class="op" id="4849750">=</span>&nbsp;<span class="num" id="4849752">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849756"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849757">.</span><span class="ident" id="4849758"><a href="/gostd/compress/flate/inflate.go.html#4840729">hw</a></span>&nbsp;<span class="op" id="4849761">=</span>&nbsp;<span class="num" id="4849763">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849767"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849768">.</span><span class="ident" id="4849769"><a href="/gostd/compress/flate/inflate.go.html#4840776">hfull</a></span>&nbsp;<span class="op" id="4849775">=</span>&nbsp;<span class="builtintype" id="4849777">true</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4849783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849786"><a href="/gostd/compress/flate/inflate.go.html#4849590">f</a></span><span class="op" id="4849787">.</span><span class="ident" id="4849788"><a href="/gostd/compress/flate/inflate.go.html#4840954">step</a></span>&nbsp;<span class="op" id="4849793">=</span>&nbsp;<span class="ident" id="4849795"><a href="/gostd/compress/flate/inflate.go.html#4849613">step</a></span><br>
<span class="lineno"></span><span class="op" id="4849800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4849803">func</span>&nbsp;<span class="ident" id="4849808">makeReader</span><span class="op" id="4849818">(</span><span class="ident" id="4849819">r</span>&nbsp;<span class="ident" id="4849821"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4849823">.</span><span class="ident" id="4849824"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="4849830">)</span>&nbsp;<span class="ident" id="4849832"><a href="/gostd/compress/flate/inflate.go.html#4840236">Reader</a></span>&nbsp;<span class="op" id="4849839">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849842">if</span>&nbsp;<span class="ident" id="4849845">rr</span><span class="op" id="4849847">,</span>&nbsp;<span class="ident" id="4849849">ok</span>&nbsp;<span class="op" id="4849852">:=</span>&nbsp;<span class="ident" id="4849855"><a href="/gostd/compress/flate/inflate.go.html#4849819">r</a></span><span class="op" id="4849856">.</span><span class="op" id="4849857">(</span><span class="ident" id="4849858"><a href="/gostd/compress/flate/inflate.go.html#4840236">Reader</a></span><span class="op" id="4849864">)</span><span class="op" id="4849865">;</span>&nbsp;<span class="ident" id="4849867"><a href="/gostd/compress/flate/inflate.go.html#4849849">ok</a></span>&nbsp;<span class="op" id="4849870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849874">return</span>&nbsp;<span class="ident" id="4849881"><a href="/gostd/compress/flate/inflate.go.html#4849845">rr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4849885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4849888">return</span>&nbsp;<span class="ident" id="4849895"><a href="/gostd/compress/flate/inflate.go.html#4834918">bufio</a></span><span class="op" id="4849900">.</span><span class="ident" id="4849901"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="4849910">(</span><span class="ident" id="4849911"><a href="/gostd/compress/flate/inflate.go.html#4849819">r</a></span><span class="op" id="4849912">)</span><br>
<span class="lineno"></span><span class="op" id="4849914">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="4849917">func</span>&nbsp;<span class="op" id="4849922">(</span><span class="ident" id="4849923">f</span>&nbsp;<span class="op" id="4849925">*</span><span class="ident" id="4849926"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4849938">)</span>&nbsp;<span class="ident" id="4849940">Reset</span><span class="op" id="4849945">(</span><span class="ident" id="4849946">r</span>&nbsp;<span class="ident" id="4849948"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4849950">.</span><span class="ident" id="4849951"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="4849957">,</span>&nbsp;<span class="ident" id="4849959">dict</span>&nbsp;<span class="op" id="4849964">[</span><span class="op" id="4849965">]</span><span class="builtintype" id="4849966">byte</span><span class="op" id="4849970">)</span>&nbsp;<span class="builtintype" id="4849972">error</span>&nbsp;<span class="op" id="4849978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4849981">*</span><span class="ident" id="4849982"><a href="/gostd/compress/flate/inflate.go.html#4849923">f</a></span>&nbsp;<span class="op" id="4849984">=</span>&nbsp;<span class="ident" id="4849986"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4849998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850002"><a href="/gostd/compress/flate/inflate.go.html#4840351">r</a></span><span class="op" id="4850003">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850012"><a href="/gostd/compress/flate/inflate.go.html#4849808">makeReader</a></span><span class="op" id="4850022">(</span><span class="ident" id="4850023"><a href="/gostd/compress/flate/inflate.go.html#4849946">r</a></span><span class="op" id="4850024">)</span><span class="op" id="4850025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850029"><a href="/gostd/compress/flate/inflate.go.html#4840571">bits</a></span><span class="op" id="4850033">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850039"><a href="/gostd/compress/flate/inflate.go.html#4849923">f</a></span><span class="op" id="4850040">.</span><span class="ident" id="4850041"><a href="/gostd/compress/flate/inflate.go.html#4840571">bits</a></span><span class="op" id="4850045">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850049"><a href="/gostd/compress/flate/inflate.go.html#4840604">codebits</a></span><span class="op" id="4850057">:</span>&nbsp;<span class="ident" id="4850059"><a href="/gostd/compress/flate/inflate.go.html#4849923">f</a></span><span class="op" id="4850060">.</span><span class="ident" id="4850061"><a href="/gostd/compress/flate/inflate.go.html#4840604">codebits</a></span><span class="op" id="4850069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850073"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4850077">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850083"><a href="/gostd/compress/flate/inflate.go.html#4849923">f</a></span><span class="op" id="4850084">.</span><span class="ident" id="4850085"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span><span class="op" id="4850089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850093"><a href="/gostd/compress/flate/inflate.go.html#4840954">step</a></span><span class="op" id="4850097">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4850103">(</span><span class="op" id="4850104">*</span><span class="ident" id="4850105"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4850117">)</span><span class="op" id="4850118">.</span><span class="ident" id="4850119"><a href="/gostd/compress/flate/inflate.go.html#4841111">nextBlock</a></span><span class="op" id="4850128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4850131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4850134">if</span>&nbsp;<span class="ident" id="4850137"><a href="/gostd/compress/flate/inflate.go.html#4849959">dict</a></span>&nbsp;<span class="op" id="4850142">!=</span>&nbsp;<span class="builtintype" id="4850145">nil</span>&nbsp;<span class="op" id="4850149">{</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850153"><a href="/gostd/compress/flate/inflate.go.html#4849923">f</a></span><span class="op" id="4850154">.</span><span class="ident" id="4850155"><a href="/gostd/compress/flate/inflate.go.html#4848425">setDict</a></span><span class="op" id="4850162">(</span><span class="ident" id="4850163"><a href="/gostd/compress/flate/inflate.go.html#4849959">dict</a></span><span class="op" id="4850167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4850170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4850173">return</span>&nbsp;<span class="builtintype" id="4850180">nil</span><br>
<span class="lineno"></span><span class="op" id="4850184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span><span class="comment" id="4850187">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;ReadCloser&nbsp;that&nbsp;can&nbsp;be&nbsp;used</span><br>
<span class="lineno"></span><span class="comment" id="4850242">//&nbsp;to&nbsp;read&nbsp;the&nbsp;uncompressed&nbsp;version&nbsp;of&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="4850284">//&nbsp;If&nbsp;r&nbsp;does&nbsp;not&nbsp;also&nbsp;implement&nbsp;io.ByteReader,</span><br>
<span class="lineno"></span><span class="comment" id="4850331">//&nbsp;the&nbsp;decompressor&nbsp;may&nbsp;read&nbsp;more&nbsp;data&nbsp;than&nbsp;necessary&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="4850393">//&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility&nbsp;to&nbsp;call&nbsp;Close&nbsp;on&nbsp;the&nbsp;ReadCloser</span><br>
<span class="lineno">710</span><span class="comment" id="4850462">//&nbsp;when&nbsp;finished&nbsp;reading.</span><br>
<span class="lineno"></span><span class="comment" id="4850488">//</span><br>
<span class="lineno"></span><span class="comment" id="4850491">//&nbsp;The&nbsp;ReadCloser&nbsp;returned&nbsp;by&nbsp;NewReader&nbsp;also&nbsp;implements&nbsp;Resetter.</span><br>
<span class="lineno"></span><span class="keyword" id="4850557">func</span>&nbsp;<span class="ident" id="4850562">NewReader</span><span class="op" id="4850571">(</span><span class="ident" id="4850572">r</span>&nbsp;<span class="ident" id="4850574"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4850576">.</span><span class="ident" id="4850577"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="4850583">)</span>&nbsp;<span class="ident" id="4850585"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4850587">.</span><span class="ident" id="4850588"><a href="/gostd/io/io.go.html#1423414">ReadCloser</a></span>&nbsp;<span class="op" id="4850599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4850602">var</span>&nbsp;<span class="ident" id="4850606">f</span>&nbsp;<span class="ident" id="4850608"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850622"><a href="/gostd/compress/flate/inflate.go.html#4850606">f</a></span><span class="op" id="4850623">.</span><span class="ident" id="4850624"><a href="/gostd/compress/flate/inflate.go.html#4840571">bits</a></span>&nbsp;<span class="op" id="4850629">=</span>&nbsp;<span class="builtinfunc" id="4850631">new</span><span class="op" id="4850634">(</span><span class="op" id="4850635">[</span><span class="ident" id="4850636"><a href="/gostd/compress/flate/inflate.go.html#4835110">maxLit</a></span>&nbsp;<span class="op" id="4850643">+</span>&nbsp;<span class="ident" id="4850645"><a href="/gostd/compress/flate/inflate.go.html#4835126">maxDist</a></span><span class="op" id="4850652">]</span><span class="builtintype" id="4850653">int</span><span class="op" id="4850656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850659"><a href="/gostd/compress/flate/inflate.go.html#4850606">f</a></span><span class="op" id="4850660">.</span><span class="ident" id="4850661"><a href="/gostd/compress/flate/inflate.go.html#4840604">codebits</a></span>&nbsp;<span class="op" id="4850670">=</span>&nbsp;<span class="builtinfunc" id="4850672">new</span><span class="op" id="4850675">(</span><span class="op" id="4850676">[</span><span class="ident" id="4850677"><a href="/gostd/compress/flate/inflate.go.html#4835141">numCodes</a></span><span class="op" id="4850685">]</span><span class="builtintype" id="4850686">int</span><span class="op" id="4850689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850692"><a href="/gostd/compress/flate/inflate.go.html#4850606">f</a></span><span class="op" id="4850693">.</span><span class="ident" id="4850694"><a href="/gostd/compress/flate/inflate.go.html#4840351">r</a></span>&nbsp;<span class="op" id="4850696">=</span>&nbsp;<span class="ident" id="4850698"><a href="/gostd/compress/flate/inflate.go.html#4849808">makeReader</a></span><span class="op" id="4850708">(</span><span class="ident" id="4850709"><a href="/gostd/compress/flate/inflate.go.html#4850572">r</a></span><span class="op" id="4850710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850713"><a href="/gostd/compress/flate/inflate.go.html#4850606">f</a></span><span class="op" id="4850714">.</span><span class="ident" id="4850715"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span>&nbsp;<span class="op" id="4850720">=</span>&nbsp;<span class="builtinfunc" id="4850722">new</span><span class="op" id="4850725">(</span><span class="op" id="4850726">[</span><span class="ident" id="4850727"><a href="/gostd/compress/flate/inflate.go.html#4835005">maxHist</a></span><span class="op" id="4850734">]</span><span class="builtintype" id="4850735">byte</span><span class="op" id="4850739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850742"><a href="/gostd/compress/flate/inflate.go.html#4850606">f</a></span><span class="op" id="4850743">.</span><span class="ident" id="4850744"><a href="/gostd/compress/flate/inflate.go.html#4840954">step</a></span>&nbsp;<span class="op" id="4850749">=</span>&nbsp;<span class="op" id="4850751">(</span><span class="op" id="4850752">*</span><span class="ident" id="4850753"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4850765">)</span><span class="op" id="4850766">.</span><span class="ident" id="4850767"><a href="/gostd/compress/flate/inflate.go.html#4841111">nextBlock</a></span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4850778">return</span>&nbsp;<span class="op" id="4850785">&amp;</span><span class="ident" id="4850786"><a href="/gostd/compress/flate/inflate.go.html#4850606">f</a></span><br>
<span class="lineno"></span><span class="op" id="4850788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4850791">//&nbsp;NewReaderDict&nbsp;is&nbsp;like&nbsp;NewReader&nbsp;but&nbsp;initializes&nbsp;the&nbsp;reader</span><br>
<span class="lineno"></span><span class="comment" id="4850853">//&nbsp;with&nbsp;a&nbsp;preset&nbsp;dictionary.&nbsp;&nbsp;The&nbsp;returned&nbsp;Reader&nbsp;behaves&nbsp;as&nbsp;if</span><br>
<span class="lineno">725</span><span class="comment" id="4850917">//&nbsp;the&nbsp;uncompressed&nbsp;data&nbsp;stream&nbsp;started&nbsp;with&nbsp;the&nbsp;given&nbsp;dictionary,</span><br>
<span class="lineno"></span><span class="comment" id="4850984">//&nbsp;which&nbsp;has&nbsp;already&nbsp;been&nbsp;read.&nbsp;&nbsp;NewReaderDict&nbsp;is&nbsp;typically&nbsp;used</span><br>
<span class="lineno"></span><span class="comment" id="4851049">//&nbsp;to&nbsp;read&nbsp;data&nbsp;compressed&nbsp;by&nbsp;NewWriterDict.</span><br>
<span class="lineno"></span><span class="comment" id="4851094">//</span><br>
<span class="lineno"></span><span class="comment" id="4851097">//&nbsp;The&nbsp;ReadCloser&nbsp;returned&nbsp;by&nbsp;NewReader&nbsp;also&nbsp;implements&nbsp;Resetter.</span><br>
<span class="lineno">730</span><span class="keyword" id="4851163">func</span>&nbsp;<span class="ident" id="4851168">NewReaderDict</span><span class="op" id="4851181">(</span><span class="ident" id="4851182">r</span>&nbsp;<span class="ident" id="4851184"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4851186">.</span><span class="ident" id="4851187"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="4851193">,</span>&nbsp;<span class="ident" id="4851195">dict</span>&nbsp;<span class="op" id="4851200">[</span><span class="op" id="4851201">]</span><span class="builtintype" id="4851202">byte</span><span class="op" id="4851206">)</span>&nbsp;<span class="ident" id="4851208"><a href="/gostd/compress/flate/inflate.go.html#4834927">io</a></span><span class="op" id="4851210">.</span><span class="ident" id="4851211"><a href="/gostd/io/io.go.html#1423414">ReadCloser</a></span>&nbsp;<span class="op" id="4851222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4851225">var</span>&nbsp;<span class="ident" id="4851229">f</span>&nbsp;<span class="ident" id="4851231"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851245"><a href="/gostd/compress/flate/inflate.go.html#4851229">f</a></span><span class="op" id="4851246">.</span><span class="ident" id="4851247"><a href="/gostd/compress/flate/inflate.go.html#4840351">r</a></span>&nbsp;<span class="op" id="4851249">=</span>&nbsp;<span class="ident" id="4851251"><a href="/gostd/compress/flate/inflate.go.html#4849808">makeReader</a></span><span class="op" id="4851261">(</span><span class="ident" id="4851262"><a href="/gostd/compress/flate/inflate.go.html#4851182">r</a></span><span class="op" id="4851263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851266"><a href="/gostd/compress/flate/inflate.go.html#4851229">f</a></span><span class="op" id="4851267">.</span><span class="ident" id="4851268"><a href="/gostd/compress/flate/inflate.go.html#4840658">hist</a></span>&nbsp;<span class="op" id="4851273">=</span>&nbsp;<span class="builtinfunc" id="4851275">new</span><span class="op" id="4851278">(</span><span class="op" id="4851279">[</span><span class="ident" id="4851280"><a href="/gostd/compress/flate/inflate.go.html#4835005">maxHist</a></span><span class="op" id="4851287">]</span><span class="builtintype" id="4851288">byte</span><span class="op" id="4851292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851295"><a href="/gostd/compress/flate/inflate.go.html#4851229">f</a></span><span class="op" id="4851296">.</span><span class="ident" id="4851297"><a href="/gostd/compress/flate/inflate.go.html#4840571">bits</a></span>&nbsp;<span class="op" id="4851302">=</span>&nbsp;<span class="builtinfunc" id="4851304">new</span><span class="op" id="4851307">(</span><span class="op" id="4851308">[</span><span class="ident" id="4851309"><a href="/gostd/compress/flate/inflate.go.html#4835110">maxLit</a></span>&nbsp;<span class="op" id="4851316">+</span>&nbsp;<span class="ident" id="4851318"><a href="/gostd/compress/flate/inflate.go.html#4835126">maxDist</a></span><span class="op" id="4851325">]</span><span class="builtintype" id="4851326">int</span><span class="op" id="4851329">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851332"><a href="/gostd/compress/flate/inflate.go.html#4851229">f</a></span><span class="op" id="4851333">.</span><span class="ident" id="4851334"><a href="/gostd/compress/flate/inflate.go.html#4840604">codebits</a></span>&nbsp;<span class="op" id="4851343">=</span>&nbsp;<span class="builtinfunc" id="4851345">new</span><span class="op" id="4851348">(</span><span class="op" id="4851349">[</span><span class="ident" id="4851350"><a href="/gostd/compress/flate/inflate.go.html#4835141">numCodes</a></span><span class="op" id="4851358">]</span><span class="builtintype" id="4851359">int</span><span class="op" id="4851362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851365"><a href="/gostd/compress/flate/inflate.go.html#4851229">f</a></span><span class="op" id="4851366">.</span><span class="ident" id="4851367"><a href="/gostd/compress/flate/inflate.go.html#4840954">step</a></span>&nbsp;<span class="op" id="4851372">=</span>&nbsp;<span class="op" id="4851374">(</span><span class="op" id="4851375">*</span><span class="ident" id="4851376"><a href="/gostd/compress/flate/inflate.go.html#4840310">decompressor</a></span><span class="op" id="4851388">)</span><span class="op" id="4851389">.</span><span class="ident" id="4851390"><a href="/gostd/compress/flate/inflate.go.html#4841111">nextBlock</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851401"><a href="/gostd/compress/flate/inflate.go.html#4851229">f</a></span><span class="op" id="4851402">.</span><span class="ident" id="4851403"><a href="/gostd/compress/flate/inflate.go.html#4848425">setDict</a></span><span class="op" id="4851410">(</span><span class="ident" id="4851411"><a href="/gostd/compress/flate/inflate.go.html#4851195">dict</a></span><span class="op" id="4851415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4851418">return</span>&nbsp;<span class="op" id="4851425">&amp;</span><span class="ident" id="4851426"><a href="/gostd/compress/flate/inflate.go.html#4851229">f</a></span><br>
<span class="lineno"></span><span class="op" id="4851428">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
