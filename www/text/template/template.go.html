<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4714858">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4714913">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4714967">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4715018">package</span>&nbsp;<span class="ident" id="4715026">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4715036">import</span>&nbsp;<span class="op" id="4715043">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4715046">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4715053">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4715064">&#34;text/template/parse&#34;</span><br>
<span class="lineno"></span><span class="op" id="4715086">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4715089">//&nbsp;common&nbsp;holds&nbsp;the&nbsp;information&nbsp;shared&nbsp;by&nbsp;related&nbsp;templates.</span><br>
<span class="lineno"></span><span class="keyword" id="4715150">type</span>&nbsp;<span class="ident" id="4715155">common</span>&nbsp;<span class="keyword" id="4715162">struct</span>&nbsp;<span class="op" id="4715169">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4715172">tmpl</span>&nbsp;<span class="keyword" id="4715177">map</span><span class="op" id="4715180">[</span><span class="builtintype" id="4715181">string</span><span class="op" id="4715187">]</span><span class="op" id="4715188">*</span><span class="ident" id="4715189"><a href="/text/template/template.go.html#4715603">Template</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4715199">//&nbsp;We&nbsp;use&nbsp;two&nbsp;maps,&nbsp;one&nbsp;for&nbsp;parsing&nbsp;and&nbsp;one&nbsp;for&nbsp;execution.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4715259">//&nbsp;This&nbsp;separation&nbsp;makes&nbsp;the&nbsp;API&nbsp;cleaner&nbsp;since&nbsp;it&nbsp;doesn&#39;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4715318">//&nbsp;expose&nbsp;reflection&nbsp;to&nbsp;the&nbsp;client.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4715355">parseFuncs</span>&nbsp;<span class="ident" id="4715366"><a href="/text/template/funcs.go.html#4696874">FuncMap</a></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4715375">execFuncs</span>&nbsp;&nbsp;<span class="keyword" id="4715386">map</span><span class="op" id="4715389">[</span><span class="builtintype" id="4715390">string</span><span class="op" id="4715396">]</span><span class="ident" id="4715397"><a href="/text/template/template.go.html#4715053">reflect</a></span><span class="op" id="4715404">.</span><span class="ident" id="4715405">Value</span><br>
<span class="lineno"></span><span class="op" id="4715411">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4715414">//&nbsp;Template&nbsp;is&nbsp;the&nbsp;representation&nbsp;of&nbsp;a&nbsp;parsed&nbsp;template.&nbsp;The&nbsp;*parse.Tree</span><br>
<span class="lineno"></span><span class="comment" id="4715486">//&nbsp;field&nbsp;is&nbsp;exported&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;html/template&nbsp;and&nbsp;should&nbsp;be&nbsp;treated</span><br>
<span class="lineno">25</span><span class="comment" id="4715559">//&nbsp;as&nbsp;unexported&nbsp;by&nbsp;all&nbsp;other&nbsp;clients.</span><br>
<span class="lineno"></span><span class="keyword" id="4715598">type</span>&nbsp;<span class="ident" id="4715603">Template</span>&nbsp;<span class="keyword" id="4715612">struct</span>&nbsp;<span class="op" id="4715619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4715622">name</span>&nbsp;<span class="builtintype" id="4715627">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4715635">*</span><span class="ident" id="4715636"><a href="/text/template/template.go.html#4715064">parse</a></span><span class="op" id="4715641">.</span><span class="ident" id="4715642">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4715648">*</span><span class="ident" id="4715649"><a href="/text/template/template.go.html#4715155">common</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4715657">leftDelim</span>&nbsp;&nbsp;<span class="builtintype" id="4715668">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4715676">rightDelim</span>&nbsp;<span class="builtintype" id="4715687">string</span><br>
<span class="lineno"></span><span class="op" id="4715694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4715697">//&nbsp;New&nbsp;allocates&nbsp;a&nbsp;new&nbsp;template&nbsp;with&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno">35</span><span class="keyword" id="4715750">func</span>&nbsp;<span class="ident" id="4715755">New</span><span class="op" id="4715758">(</span><span class="ident" id="4715759">name</span>&nbsp;<span class="builtintype" id="4715764">string</span><span class="op" id="4715770">)</span>&nbsp;<span class="op" id="4715772">*</span><span class="ident" id="4715773"><a href="/text/template/template.go.html#4715603">Template</a></span>&nbsp;<span class="op" id="4715782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4715785">return</span>&nbsp;<span class="op" id="4715792">&amp;</span><span class="ident" id="4715793"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4715801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4715805">name</span><span class="op" id="4715809">:</span>&nbsp;<span class="ident" id="4715811"><a href="/text/template/template.go.html#4715759">name</a></span><span class="op" id="4715815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4715818">}</span><br>
<span class="lineno"></span><span class="op" id="4715820">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="4715823">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;template.</span><br>
<span class="lineno"></span><span class="keyword" id="4715865">func</span>&nbsp;<span class="op" id="4715870">(</span><span class="ident" id="4715871">t</span>&nbsp;<span class="op" id="4715873">*</span><span class="ident" id="4715874"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4715882">)</span>&nbsp;<span class="ident" id="4715884">Name</span><span class="op" id="4715888">(</span><span class="op" id="4715889">)</span>&nbsp;<span class="builtintype" id="4715891">string</span>&nbsp;<span class="op" id="4715898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4715901">return</span>&nbsp;<span class="ident" id="4715908"><a href="/text/template/template.go.html#4715871">t</a></span><span class="op" id="4715909">.</span><span class="ident" id="4715910">name</span><br>
<span class="lineno"></span><span class="op" id="4715915">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="4715918">//&nbsp;New&nbsp;allocates&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;the&nbsp;given&nbsp;one&nbsp;and&nbsp;with&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="4715998">//&nbsp;delimiters.&nbsp;The&nbsp;association,&nbsp;which&nbsp;is&nbsp;transitive,&nbsp;allows&nbsp;one&nbsp;template&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4716074">//&nbsp;invoke&nbsp;another&nbsp;with&nbsp;a&nbsp;{{template}}&nbsp;action.</span><br>
<span class="lineno"></span><span class="keyword" id="4716120">func</span>&nbsp;<span class="op" id="4716125">(</span><span class="ident" id="4716126">t</span>&nbsp;<span class="op" id="4716128">*</span><span class="ident" id="4716129"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4716137">)</span>&nbsp;<span class="ident" id="4716139">New</span><span class="op" id="4716142">(</span><span class="ident" id="4716143">name</span>&nbsp;<span class="builtintype" id="4716148">string</span><span class="op" id="4716154">)</span>&nbsp;<span class="op" id="4716156">*</span><span class="ident" id="4716157"><a href="/text/template/template.go.html#4715603">Template</a></span>&nbsp;<span class="op" id="4716166">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716169"><a href="/text/template/template.go.html#4716126">t</a></span><span class="op" id="4716170">.</span><span class="ident" id="4716171">init</span><span class="op" id="4716175">(</span><span class="op" id="4716176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4716179">return</span>&nbsp;<span class="op" id="4716186">&amp;</span><span class="ident" id="4716187"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4716195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716199">name</span><span class="op" id="4716203">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4716211"><a href="/text/template/template.go.html#4716143">name</a></span><span class="op" id="4716215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716219">common</span><span class="op" id="4716225">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4716231"><a href="/text/template/template.go.html#4716126">t</a></span><span class="op" id="4716232">.</span><span class="ident" id="4716233">common</span><span class="op" id="4716239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716243">leftDelim</span><span class="op" id="4716252">:</span>&nbsp;&nbsp;<span class="ident" id="4716255"><a href="/text/template/template.go.html#4716126">t</a></span><span class="op" id="4716256">.</span><span class="ident" id="4716257">leftDelim</span><span class="op" id="4716266">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716270">rightDelim</span><span class="op" id="4716280">:</span>&nbsp;<span class="ident" id="4716282"><a href="/text/template/template.go.html#4716126">t</a></span><span class="op" id="4716283">.</span><span class="ident" id="4716284">rightDelim</span><span class="op" id="4716294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4716297">}</span><br>
<span class="lineno"></span><span class="op" id="4716299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4716302">func</span>&nbsp;<span class="op" id="4716307">(</span><span class="ident" id="4716308">t</span>&nbsp;<span class="op" id="4716310">*</span><span class="ident" id="4716311"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4716319">)</span>&nbsp;<span class="ident" id="4716321">init</span><span class="op" id="4716325">(</span><span class="op" id="4716326">)</span>&nbsp;<span class="op" id="4716328">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4716331">if</span>&nbsp;<span class="ident" id="4716334"><a href="/text/template/template.go.html#4716308">t</a></span><span class="op" id="4716335">.</span><span class="ident" id="4716336">common</span>&nbsp;<span class="op" id="4716343">==</span>&nbsp;<span class="ident" id="4716346">nil</span>&nbsp;<span class="op" id="4716350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716354"><a href="/text/template/template.go.html#4716308">t</a></span><span class="op" id="4716355">.</span><span class="ident" id="4716356">common</span>&nbsp;<span class="op" id="4716363">=</span>&nbsp;<span class="builtinfunc" id="4716365">new</span><span class="op" id="4716368">(</span><span class="ident" id="4716369"><a href="/text/template/template.go.html#4715155">common</a></span><span class="op" id="4716375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716379"><a href="/text/template/template.go.html#4716308">t</a></span><span class="op" id="4716380">.</span><span class="ident" id="4716381">tmpl</span>&nbsp;<span class="op" id="4716386">=</span>&nbsp;<span class="builtinfunc" id="4716388">make</span><span class="op" id="4716392">(</span><span class="keyword" id="4716393">map</span><span class="op" id="4716396">[</span><span class="builtintype" id="4716397">string</span><span class="op" id="4716403">]</span><span class="op" id="4716404">*</span><span class="ident" id="4716405"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4716413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716417"><a href="/text/template/template.go.html#4716308">t</a></span><span class="op" id="4716418">.</span><span class="ident" id="4716419">parseFuncs</span>&nbsp;<span class="op" id="4716430">=</span>&nbsp;<span class="builtinfunc" id="4716432">make</span><span class="op" id="4716436">(</span><span class="ident" id="4716437"><a href="/text/template/funcs.go.html#4696874">FuncMap</a></span><span class="op" id="4716444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716448"><a href="/text/template/template.go.html#4716308">t</a></span><span class="op" id="4716449">.</span><span class="ident" id="4716450">execFuncs</span>&nbsp;<span class="op" id="4716460">=</span>&nbsp;<span class="builtinfunc" id="4716462">make</span><span class="op" id="4716466">(</span><span class="keyword" id="4716467">map</span><span class="op" id="4716470">[</span><span class="builtintype" id="4716471">string</span><span class="op" id="4716477">]</span><span class="ident" id="4716478"><a href="/text/template/template.go.html#4715053">reflect</a></span><span class="op" id="4716485">.</span><span class="ident" id="4716486">Value</span><span class="op" id="4716491">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4716494">}</span><br>
<span class="lineno"></span><span class="op" id="4716496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4716499">//&nbsp;Clone&nbsp;returns&nbsp;a&nbsp;duplicate&nbsp;of&nbsp;the&nbsp;template,&nbsp;including&nbsp;all&nbsp;associated</span><br>
<span class="lineno"></span><span class="comment" id="4716570">//&nbsp;templates.&nbsp;The&nbsp;actual&nbsp;representation&nbsp;is&nbsp;not&nbsp;copied,&nbsp;but&nbsp;the&nbsp;name&nbsp;space&nbsp;of</span><br>
<span class="lineno">70</span><span class="comment" id="4716647">//&nbsp;associated&nbsp;templates&nbsp;is,&nbsp;so&nbsp;further&nbsp;calls&nbsp;to&nbsp;Parse&nbsp;in&nbsp;the&nbsp;copy&nbsp;will&nbsp;add</span><br>
<span class="lineno"></span><span class="comment" id="4716722">//&nbsp;templates&nbsp;to&nbsp;the&nbsp;copy&nbsp;but&nbsp;not&nbsp;to&nbsp;the&nbsp;original.&nbsp;Clone&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;prepare</span><br>
<span class="lineno"></span><span class="comment" id="4716801">//&nbsp;common&nbsp;templates&nbsp;and&nbsp;use&nbsp;them&nbsp;with&nbsp;variant&nbsp;definitions&nbsp;for&nbsp;other&nbsp;templates</span><br>
<span class="lineno"></span><span class="comment" id="4716879">//&nbsp;by&nbsp;adding&nbsp;the&nbsp;variants&nbsp;after&nbsp;the&nbsp;clone&nbsp;is&nbsp;made.</span><br>
<span class="lineno"></span><span class="keyword" id="4716930">func</span>&nbsp;<span class="op" id="4716935">(</span><span class="ident" id="4716936">t</span>&nbsp;<span class="op" id="4716938">*</span><span class="ident" id="4716939"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4716947">)</span>&nbsp;<span class="ident" id="4716949">Clone</span><span class="op" id="4716954">(</span><span class="op" id="4716955">)</span>&nbsp;<span class="op" id="4716957">(</span><span class="op" id="4716958">*</span><span class="ident" id="4716959"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4716967">,</span>&nbsp;<span class="builtintype" id="4716969">error</span><span class="op" id="4716974">)</span>&nbsp;<span class="op" id="4716976">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716979">nt</span>&nbsp;<span class="op" id="4716982">:=</span>&nbsp;<span class="ident" id="4716985"><a href="/text/template/template.go.html#4716936">t</a></span><span class="op" id="4716986">.</span><span class="builtinfunc" id="4716987">copy</span><span class="op" id="4716991">(</span><span class="ident" id="4716992">nil</span><span class="op" id="4716995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4716998"><a href="/text/template/template.go.html#4716979">nt</a></span><span class="op" id="4717000">.</span><span class="ident" id="4717001">init</span><span class="op" id="4717005">(</span><span class="op" id="4717006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717009"><a href="/text/template/template.go.html#4716979">nt</a></span><span class="op" id="4717011">.</span><span class="ident" id="4717012">tmpl</span><span class="op" id="4717016">[</span><span class="ident" id="4717017"><a href="/text/template/template.go.html#4716936">t</a></span><span class="op" id="4717018">.</span><span class="ident" id="4717019">name</span><span class="op" id="4717023">]</span>&nbsp;<span class="op" id="4717025">=</span>&nbsp;<span class="ident" id="4717027"><a href="/text/template/template.go.html#4716979">nt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717031">for</span>&nbsp;<span class="ident" id="4717035">k</span><span class="op" id="4717036">,</span>&nbsp;<span class="ident" id="4717038">v</span>&nbsp;<span class="op" id="4717040">:=</span>&nbsp;<span class="keyword" id="4717043">range</span>&nbsp;<span class="ident" id="4717049"><a href="/text/template/template.go.html#4716936">t</a></span><span class="op" id="4717050">.</span><span class="ident" id="4717051">tmpl</span>&nbsp;<span class="op" id="4717056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717060">if</span>&nbsp;<span class="ident" id="4717063"><a href="/text/template/template.go.html#4717035">k</a></span>&nbsp;<span class="op" id="4717065">==</span>&nbsp;<span class="ident" id="4717068"><a href="/text/template/template.go.html#4716936">t</a></span><span class="op" id="4717069">.</span><span class="ident" id="4717070">name</span>&nbsp;<span class="op" id="4717075">{</span>&nbsp;<span class="comment" id="4717077">//&nbsp;Already&nbsp;installed.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717102">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4717113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4717117">//&nbsp;The&nbsp;associated&nbsp;templates&nbsp;share&nbsp;nt&#39;s&nbsp;common&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717176">tmpl</span>&nbsp;<span class="op" id="4717181">:=</span>&nbsp;<span class="ident" id="4717184"><a href="/text/template/template.go.html#4717038">v</a></span><span class="op" id="4717185">.</span><span class="builtinfunc" id="4717186">copy</span><span class="op" id="4717190">(</span><span class="ident" id="4717191"><a href="/text/template/template.go.html#4716979">nt</a></span><span class="op" id="4717193">.</span><span class="ident" id="4717194">common</span><span class="op" id="4717200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717204"><a href="/text/template/template.go.html#4716979">nt</a></span><span class="op" id="4717206">.</span><span class="ident" id="4717207">tmpl</span><span class="op" id="4717211">[</span><span class="ident" id="4717212"><a href="/text/template/template.go.html#4717035">k</a></span><span class="op" id="4717213">]</span>&nbsp;<span class="op" id="4717215">=</span>&nbsp;<span class="ident" id="4717217"><a href="/text/template/template.go.html#4717176">tmpl</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4717223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717226">for</span>&nbsp;<span class="ident" id="4717230">k</span><span class="op" id="4717231">,</span>&nbsp;<span class="ident" id="4717233">v</span>&nbsp;<span class="op" id="4717235">:=</span>&nbsp;<span class="keyword" id="4717238">range</span>&nbsp;<span class="ident" id="4717244"><a href="/text/template/template.go.html#4716936">t</a></span><span class="op" id="4717245">.</span><span class="ident" id="4717246">parseFuncs</span>&nbsp;<span class="op" id="4717257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717261"><a href="/text/template/template.go.html#4716979">nt</a></span><span class="op" id="4717263">.</span><span class="ident" id="4717264">parseFuncs</span><span class="op" id="4717274">[</span><span class="ident" id="4717275"><a href="/text/template/template.go.html#4717230">k</a></span><span class="op" id="4717276">]</span>&nbsp;<span class="op" id="4717278">=</span>&nbsp;<span class="ident" id="4717280"><a href="/text/template/template.go.html#4717233">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4717283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717286">for</span>&nbsp;<span class="ident" id="4717290">k</span><span class="op" id="4717291">,</span>&nbsp;<span class="ident" id="4717293">v</span>&nbsp;<span class="op" id="4717295">:=</span>&nbsp;<span class="keyword" id="4717298">range</span>&nbsp;<span class="ident" id="4717304"><a href="/text/template/template.go.html#4716936">t</a></span><span class="op" id="4717305">.</span><span class="ident" id="4717306">execFuncs</span>&nbsp;<span class="op" id="4717316">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717320"><a href="/text/template/template.go.html#4716979">nt</a></span><span class="op" id="4717322">.</span><span class="ident" id="4717323">execFuncs</span><span class="op" id="4717332">[</span><span class="ident" id="4717333"><a href="/text/template/template.go.html#4717290">k</a></span><span class="op" id="4717334">]</span>&nbsp;<span class="op" id="4717336">=</span>&nbsp;<span class="ident" id="4717338"><a href="/text/template/template.go.html#4717293">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4717341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717344">return</span>&nbsp;<span class="ident" id="4717351"><a href="/text/template/template.go.html#4716979">nt</a></span><span class="op" id="4717353">,</span>&nbsp;<span class="ident" id="4717355">nil</span><br>
<span class="lineno"></span><span class="op" id="4717359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4717362">//&nbsp;copy&nbsp;returns&nbsp;a&nbsp;shallow&nbsp;copy&nbsp;of&nbsp;t,&nbsp;with&nbsp;common&nbsp;set&nbsp;to&nbsp;the&nbsp;argument.</span><br>
<span class="lineno"></span><span class="keyword" id="4717432">func</span>&nbsp;<span class="op" id="4717437">(</span><span class="ident" id="4717438">t</span>&nbsp;<span class="op" id="4717440">*</span><span class="ident" id="4717441"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4717449">)</span>&nbsp;<span class="builtinfunc" id="4717451">copy</span><span class="op" id="4717455">(</span><span class="ident" id="4717456">c</span>&nbsp;<span class="op" id="4717458">*</span><span class="ident" id="4717459"><a href="/text/template/template.go.html#4715155">common</a></span><span class="op" id="4717465">)</span>&nbsp;<span class="op" id="4717467">*</span><span class="ident" id="4717468"><a href="/text/template/template.go.html#4715603">Template</a></span>&nbsp;<span class="op" id="4717477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717480">nt</span>&nbsp;<span class="op" id="4717483">:=</span>&nbsp;<span class="ident" id="4717486"><a href="/text/template/template.go.html#4715755">New</a></span><span class="op" id="4717489">(</span><span class="ident" id="4717490"><a href="/text/template/template.go.html#4717438">t</a></span><span class="op" id="4717491">.</span><span class="ident" id="4717492">name</span><span class="op" id="4717496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717499"><a href="/text/template/template.go.html#4717480">nt</a></span><span class="op" id="4717501">.</span><span class="ident" id="4717502">Tree</span>&nbsp;<span class="op" id="4717507">=</span>&nbsp;<span class="ident" id="4717509"><a href="/text/template/template.go.html#4717438">t</a></span><span class="op" id="4717510">.</span><span class="ident" id="4717511">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717517"><a href="/text/template/template.go.html#4717480">nt</a></span><span class="op" id="4717519">.</span><span class="ident" id="4717520">common</span>&nbsp;<span class="op" id="4717527">=</span>&nbsp;<span class="ident" id="4717529"><a href="/text/template/template.go.html#4717456">c</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717532"><a href="/text/template/template.go.html#4717480">nt</a></span><span class="op" id="4717534">.</span><span class="ident" id="4717535">leftDelim</span>&nbsp;<span class="op" id="4717545">=</span>&nbsp;<span class="ident" id="4717547"><a href="/text/template/template.go.html#4717438">t</a></span><span class="op" id="4717548">.</span><span class="ident" id="4717549">leftDelim</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717560"><a href="/text/template/template.go.html#4717480">nt</a></span><span class="op" id="4717562">.</span><span class="ident" id="4717563">rightDelim</span>&nbsp;<span class="op" id="4717574">=</span>&nbsp;<span class="ident" id="4717576"><a href="/text/template/template.go.html#4717438">t</a></span><span class="op" id="4717577">.</span><span class="ident" id="4717578">rightDelim</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717590">return</span>&nbsp;<span class="ident" id="4717597"><a href="/text/template/template.go.html#4717480">nt</a></span><br>
<span class="lineno"></span><span class="op" id="4717600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4717603">//&nbsp;AddParseTree&nbsp;creates&nbsp;a&nbsp;new&nbsp;template&nbsp;with&nbsp;the&nbsp;name&nbsp;and&nbsp;parse&nbsp;tree</span><br>
<span class="lineno"></span><span class="comment" id="4717671">//&nbsp;and&nbsp;associates&nbsp;it&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="4717700">func</span>&nbsp;<span class="op" id="4717705">(</span><span class="ident" id="4717706">t</span>&nbsp;<span class="op" id="4717708">*</span><span class="ident" id="4717709"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4717717">)</span>&nbsp;<span class="ident" id="4717719">AddParseTree</span><span class="op" id="4717731">(</span><span class="ident" id="4717732">name</span>&nbsp;<span class="builtintype" id="4717737">string</span><span class="op" id="4717743">,</span>&nbsp;<span class="ident" id="4717745">tree</span>&nbsp;<span class="op" id="4717750">*</span><span class="ident" id="4717751"><a href="/text/template/template.go.html#4715064">parse</a></span><span class="op" id="4717756">.</span><span class="ident" id="4717757">Tree</span><span class="op" id="4717761">)</span>&nbsp;<span class="op" id="4717763">(</span><span class="op" id="4717764">*</span><span class="ident" id="4717765"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4717773">,</span>&nbsp;<span class="builtintype" id="4717775">error</span><span class="op" id="4717780">)</span>&nbsp;<span class="op" id="4717782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717785">if</span>&nbsp;<span class="ident" id="4717788"><a href="/text/template/template.go.html#4717706">t</a></span><span class="op" id="4717789">.</span><span class="ident" id="4717790">common</span>&nbsp;<span class="op" id="4717797">!=</span>&nbsp;<span class="ident" id="4717800">nil</span>&nbsp;<span class="op" id="4717804">&amp;&amp;</span>&nbsp;<span class="ident" id="4717807"><a href="/text/template/template.go.html#4717706">t</a></span><span class="op" id="4717808">.</span><span class="ident" id="4717809">tmpl</span><span class="op" id="4717813">[</span><span class="ident" id="4717814"><a href="/text/template/template.go.html#4717732">name</a></span><span class="op" id="4717818">]</span>&nbsp;<span class="op" id="4717820">!=</span>&nbsp;<span class="ident" id="4717823">nil</span>&nbsp;<span class="op" id="4717827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717831">return</span>&nbsp;<span class="ident" id="4717838">nil</span><span class="op" id="4717841">,</span>&nbsp;<span class="ident" id="4717843"><a href="/text/template/template.go.html#4715046">fmt</a></span><span class="op" id="4717846">.</span><span class="ident" id="4717847">Errorf</span><span class="op" id="4717853">(</span><span class="string" id="4717854">&#34;template:&nbsp;redefinition&nbsp;of&nbsp;template&nbsp;%q&#34;</span><span class="op" id="4717893">,</span>&nbsp;<span class="ident" id="4717895"><a href="/text/template/template.go.html#4717732">name</a></span><span class="op" id="4717899">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4717902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717905">nt</span>&nbsp;<span class="op" id="4717908">:=</span>&nbsp;<span class="ident" id="4717911"><a href="/text/template/template.go.html#4717706">t</a></span><span class="op" id="4717912">.</span><span class="ident" id="4717913">New</span><span class="op" id="4717916">(</span><span class="ident" id="4717917"><a href="/text/template/template.go.html#4717732">name</a></span><span class="op" id="4717921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717924"><a href="/text/template/template.go.html#4717905">nt</a></span><span class="op" id="4717926">.</span><span class="ident" id="4717927">Tree</span>&nbsp;<span class="op" id="4717932">=</span>&nbsp;<span class="ident" id="4717934"><a href="/text/template/template.go.html#4717745">tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4717940"><a href="/text/template/template.go.html#4717706">t</a></span><span class="op" id="4717941">.</span><span class="ident" id="4717942">tmpl</span><span class="op" id="4717946">[</span><span class="ident" id="4717947"><a href="/text/template/template.go.html#4717732">name</a></span><span class="op" id="4717951">]</span>&nbsp;<span class="op" id="4717953">=</span>&nbsp;<span class="ident" id="4717955"><a href="/text/template/template.go.html#4717905">nt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4717959">return</span>&nbsp;<span class="ident" id="4717966"><a href="/text/template/template.go.html#4717905">nt</a></span><span class="op" id="4717968">,</span>&nbsp;<span class="ident" id="4717970">nil</span><br>
<span class="lineno">115</span><span class="op" id="4717974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4717977">//&nbsp;Templates&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;templates&nbsp;associated&nbsp;with&nbsp;t,&nbsp;including&nbsp;t</span><br>
<span class="lineno"></span><span class="comment" id="4718054">//&nbsp;itself.</span><br>
<span class="lineno"></span><span class="keyword" id="4718065">func</span>&nbsp;<span class="op" id="4718070">(</span><span class="ident" id="4718071">t</span>&nbsp;<span class="op" id="4718073">*</span><span class="ident" id="4718074"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4718082">)</span>&nbsp;<span class="ident" id="4718084">Templates</span><span class="op" id="4718093">(</span><span class="op" id="4718094">)</span>&nbsp;<span class="op" id="4718096">[</span><span class="op" id="4718097">]</span><span class="op" id="4718098">*</span><span class="ident" id="4718099"><a href="/text/template/template.go.html#4715603">Template</a></span>&nbsp;<span class="op" id="4718108">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4718111">if</span>&nbsp;<span class="ident" id="4718114"><a href="/text/template/template.go.html#4718071">t</a></span><span class="op" id="4718115">.</span><span class="ident" id="4718116">common</span>&nbsp;<span class="op" id="4718123">==</span>&nbsp;<span class="ident" id="4718126">nil</span>&nbsp;<span class="op" id="4718130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4718134">return</span>&nbsp;<span class="ident" id="4718141">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4718146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4718149">//&nbsp;Return&nbsp;a&nbsp;slice&nbsp;so&nbsp;we&nbsp;don&#39;t&nbsp;expose&nbsp;the&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4718196">m</span>&nbsp;<span class="op" id="4718198">:=</span>&nbsp;<span class="builtinfunc" id="4718201">make</span><span class="op" id="4718205">(</span><span class="op" id="4718206">[</span><span class="op" id="4718207">]</span><span class="op" id="4718208">*</span><span class="ident" id="4718209"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4718217">,</span>&nbsp;<span class="num" id="4718219">0</span><span class="op" id="4718220">,</span>&nbsp;<span class="builtinfunc" id="4718222">len</span><span class="op" id="4718225">(</span><span class="ident" id="4718226"><a href="/text/template/template.go.html#4718071">t</a></span><span class="op" id="4718227">.</span><span class="ident" id="4718228">tmpl</span><span class="op" id="4718232">)</span><span class="op" id="4718233">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4718236">for</span>&nbsp;<span class="ident" id="4718240">_</span><span class="op" id="4718241">,</span>&nbsp;<span class="ident" id="4718243">v</span>&nbsp;<span class="op" id="4718245">:=</span>&nbsp;<span class="keyword" id="4718248">range</span>&nbsp;<span class="ident" id="4718254"><a href="/text/template/template.go.html#4718071">t</a></span><span class="op" id="4718255">.</span><span class="ident" id="4718256">tmpl</span>&nbsp;<span class="op" id="4718261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4718265"><a href="/text/template/template.go.html#4718196">m</a></span>&nbsp;<span class="op" id="4718267">=</span>&nbsp;<span class="builtinfunc" id="4718269">append</span><span class="op" id="4718275">(</span><span class="ident" id="4718276"><a href="/text/template/template.go.html#4718196">m</a></span><span class="op" id="4718277">,</span>&nbsp;<span class="ident" id="4718279"><a href="/text/template/template.go.html#4718243">v</a></span><span class="op" id="4718280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4718283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4718286">return</span>&nbsp;<span class="ident" id="4718293"><a href="/text/template/template.go.html#4718196">m</a></span><br>
<span class="lineno"></span><span class="op" id="4718295">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="4718298">//&nbsp;Delims&nbsp;sets&nbsp;the&nbsp;action&nbsp;delimiters&nbsp;to&nbsp;the&nbsp;specified&nbsp;strings,&nbsp;to&nbsp;be&nbsp;used&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="4718375">//&nbsp;subsequent&nbsp;calls&nbsp;to&nbsp;Parse,&nbsp;ParseFiles,&nbsp;or&nbsp;ParseGlob.&nbsp;Nested&nbsp;template</span><br>
<span class="lineno"></span><span class="comment" id="4718447">//&nbsp;definitions&nbsp;will&nbsp;inherit&nbsp;the&nbsp;settings.&nbsp;An&nbsp;empty&nbsp;delimiter&nbsp;stands&nbsp;for&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4718523">//&nbsp;corresponding&nbsp;default:&nbsp;{{&nbsp;or&nbsp;}}.</span><br>
<span class="lineno">135</span><span class="comment" id="4718559">//&nbsp;The&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;template,&nbsp;so&nbsp;calls&nbsp;can&nbsp;be&nbsp;chained.</span><br>
<span class="lineno"></span><span class="keyword" id="4718621">func</span>&nbsp;<span class="op" id="4718626">(</span><span class="ident" id="4718627">t</span>&nbsp;<span class="op" id="4718629">*</span><span class="ident" id="4718630"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4718638">)</span>&nbsp;<span class="ident" id="4718640">Delims</span><span class="op" id="4718646">(</span><span class="ident" id="4718647">left</span><span class="op" id="4718651">,</span>&nbsp;<span class="ident" id="4718653">right</span>&nbsp;<span class="builtintype" id="4718659">string</span><span class="op" id="4718665">)</span>&nbsp;<span class="op" id="4718667">*</span><span class="ident" id="4718668"><a href="/text/template/template.go.html#4715603">Template</a></span>&nbsp;<span class="op" id="4718677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4718680"><a href="/text/template/template.go.html#4718627">t</a></span><span class="op" id="4718681">.</span><span class="ident" id="4718682">leftDelim</span>&nbsp;<span class="op" id="4718692">=</span>&nbsp;<span class="ident" id="4718694"><a href="/text/template/template.go.html#4718647">left</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4718700"><a href="/text/template/template.go.html#4718627">t</a></span><span class="op" id="4718701">.</span><span class="ident" id="4718702">rightDelim</span>&nbsp;<span class="op" id="4718713">=</span>&nbsp;<span class="ident" id="4718715"><a href="/text/template/template.go.html#4718653">right</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4718722">return</span>&nbsp;<span class="ident" id="4718729"><a href="/text/template/template.go.html#4718627">t</a></span><br>
<span class="lineno">140</span><span class="op" id="4718731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4718734">//&nbsp;Funcs&nbsp;adds&nbsp;the&nbsp;elements&nbsp;of&nbsp;the&nbsp;argument&nbsp;map&nbsp;to&nbsp;the&nbsp;template&#39;s&nbsp;function&nbsp;map.</span><br>
<span class="lineno"></span><span class="comment" id="4718813">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;a&nbsp;value&nbsp;in&nbsp;the&nbsp;map&nbsp;is&nbsp;not&nbsp;a&nbsp;function&nbsp;with&nbsp;appropriate&nbsp;return</span><br>
<span class="lineno"></span><span class="comment" id="4718890">//&nbsp;type.&nbsp;However,&nbsp;it&nbsp;is&nbsp;legal&nbsp;to&nbsp;overwrite&nbsp;elements&nbsp;of&nbsp;the&nbsp;map.&nbsp;The&nbsp;return</span><br>
<span class="lineno">145</span><span class="comment" id="4718965">//&nbsp;value&nbsp;is&nbsp;the&nbsp;template,&nbsp;so&nbsp;calls&nbsp;can&nbsp;be&nbsp;chained.</span><br>
<span class="lineno"></span><span class="keyword" id="4719016">func</span>&nbsp;<span class="op" id="4719021">(</span><span class="ident" id="4719022">t</span>&nbsp;<span class="op" id="4719024">*</span><span class="ident" id="4719025"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4719033">)</span>&nbsp;<span class="ident" id="4719035">Funcs</span><span class="op" id="4719040">(</span><span class="ident" id="4719041">funcMap</span>&nbsp;<span class="ident" id="4719049"><a href="/text/template/funcs.go.html#4696874">FuncMap</a></span><span class="op" id="4719056">)</span>&nbsp;<span class="op" id="4719058">*</span><span class="ident" id="4719059"><a href="/text/template/template.go.html#4715603">Template</a></span>&nbsp;<span class="op" id="4719068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4719071"><a href="/text/template/template.go.html#4719022">t</a></span><span class="op" id="4719072">.</span><span class="ident" id="4719073">init</span><span class="op" id="4719077">(</span><span class="op" id="4719078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4719081"><a href="/text/template/funcs.go.html#4697675">addValueFuncs</a></span><span class="op" id="4719094">(</span><span class="ident" id="4719095"><a href="/text/template/template.go.html#4719022">t</a></span><span class="op" id="4719096">.</span><span class="ident" id="4719097">execFuncs</span><span class="op" id="4719106">,</span>&nbsp;<span class="ident" id="4719108"><a href="/text/template/template.go.html#4719041">funcMap</a></span><span class="op" id="4719115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4719118"><a href="/text/template/funcs.go.html#4698145">addFuncs</a></span><span class="op" id="4719126">(</span><span class="ident" id="4719127"><a href="/text/template/template.go.html#4719022">t</a></span><span class="op" id="4719128">.</span><span class="ident" id="4719129">parseFuncs</span><span class="op" id="4719139">,</span>&nbsp;<span class="ident" id="4719141"><a href="/text/template/template.go.html#4719041">funcMap</a></span><span class="op" id="4719148">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4719151">return</span>&nbsp;<span class="ident" id="4719158"><a href="/text/template/template.go.html#4719022">t</a></span><br>
<span class="lineno"></span><span class="op" id="4719160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4719163">//&nbsp;Lookup&nbsp;returns&nbsp;the&nbsp;template&nbsp;with&nbsp;the&nbsp;given&nbsp;name&nbsp;that&nbsp;is&nbsp;associated&nbsp;with&nbsp;t,</span><br>
<span class="lineno"></span><span class="comment" id="4719241">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;template.</span><br>
<span class="lineno">155</span><span class="keyword" id="4719281">func</span>&nbsp;<span class="op" id="4719286">(</span><span class="ident" id="4719287">t</span>&nbsp;<span class="op" id="4719289">*</span><span class="ident" id="4719290"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4719298">)</span>&nbsp;<span class="ident" id="4719300">Lookup</span><span class="op" id="4719306">(</span><span class="ident" id="4719307">name</span>&nbsp;<span class="builtintype" id="4719312">string</span><span class="op" id="4719318">)</span>&nbsp;<span class="op" id="4719320">*</span><span class="ident" id="4719321"><a href="/text/template/template.go.html#4715603">Template</a></span>&nbsp;<span class="op" id="4719330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4719333">if</span>&nbsp;<span class="ident" id="4719336"><a href="/text/template/template.go.html#4719287">t</a></span><span class="op" id="4719337">.</span><span class="ident" id="4719338">common</span>&nbsp;<span class="op" id="4719345">==</span>&nbsp;<span class="ident" id="4719348">nil</span>&nbsp;<span class="op" id="4719352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4719356">return</span>&nbsp;<span class="ident" id="4719363">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4719368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4719371">return</span>&nbsp;<span class="ident" id="4719378"><a href="/text/template/template.go.html#4719287">t</a></span><span class="op" id="4719379">.</span><span class="ident" id="4719380">tmpl</span><span class="op" id="4719384">[</span><span class="ident" id="4719385"><a href="/text/template/template.go.html#4719307">name</a></span><span class="op" id="4719389">]</span><br>
<span class="lineno">160</span><span class="op" id="4719391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4719394">//&nbsp;Parse&nbsp;parses&nbsp;a&nbsp;string&nbsp;into&nbsp;a&nbsp;template.&nbsp;Nested&nbsp;template&nbsp;definitions&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="4719472">//&nbsp;associated&nbsp;with&nbsp;the&nbsp;top-level&nbsp;template&nbsp;t.&nbsp;Parse&nbsp;may&nbsp;be&nbsp;called&nbsp;multiple&nbsp;times</span><br>
<span class="lineno"></span><span class="comment" id="4719552">//&nbsp;to&nbsp;parse&nbsp;definitions&nbsp;of&nbsp;templates&nbsp;to&nbsp;associate&nbsp;with&nbsp;t.&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;if&nbsp;a</span><br>
<span class="lineno">165</span><span class="comment" id="4719630">//&nbsp;resulting&nbsp;template&nbsp;is&nbsp;non-empty&nbsp;(contains&nbsp;content&nbsp;other&nbsp;than&nbsp;template</span><br>
<span class="lineno"></span><span class="comment" id="4719703">//&nbsp;definitions)&nbsp;and&nbsp;would&nbsp;replace&nbsp;a&nbsp;non-empty&nbsp;template&nbsp;with&nbsp;the&nbsp;same&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="4719778">//&nbsp;(In&nbsp;multiple&nbsp;calls&nbsp;to&nbsp;Parse&nbsp;with&nbsp;the&nbsp;same&nbsp;receiver&nbsp;template,&nbsp;only&nbsp;one&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="4719856">//&nbsp;can&nbsp;contain&nbsp;text&nbsp;other&nbsp;than&nbsp;space,&nbsp;comments,&nbsp;and&nbsp;template&nbsp;definitions.)</span><br>
<span class="lineno"></span><span class="keyword" id="4719931">func</span>&nbsp;<span class="op" id="4719936">(</span><span class="ident" id="4719937">t</span>&nbsp;<span class="op" id="4719939">*</span><span class="ident" id="4719940"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4719948">)</span>&nbsp;<span class="ident" id="4719950">Parse</span><span class="op" id="4719955">(</span><span class="ident" id="4719956">text</span>&nbsp;<span class="builtintype" id="4719961">string</span><span class="op" id="4719967">)</span>&nbsp;<span class="op" id="4719969">(</span><span class="op" id="4719970">*</span><span class="ident" id="4719971"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4719979">,</span>&nbsp;<span class="builtintype" id="4719981">error</span><span class="op" id="4719986">)</span>&nbsp;<span class="op" id="4719988">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4719991"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4719992">.</span><span class="ident" id="4719993">init</span><span class="op" id="4719997">(</span><span class="op" id="4719998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4720001">trees</span><span class="op" id="4720006">,</span>&nbsp;<span class="ident" id="4720008">err</span>&nbsp;<span class="op" id="4720012">:=</span>&nbsp;<span class="ident" id="4720015"><a href="/text/template/template.go.html#4715064">parse</a></span><span class="op" id="4720020">.</span><span class="ident" id="4720021">Parse</span><span class="op" id="4720026">(</span><span class="ident" id="4720027"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720028">.</span><span class="ident" id="4720029">name</span><span class="op" id="4720033">,</span>&nbsp;<span class="ident" id="4720035"><a href="/text/template/template.go.html#4719956">text</a></span><span class="op" id="4720039">,</span>&nbsp;<span class="ident" id="4720041"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720042">.</span><span class="ident" id="4720043">leftDelim</span><span class="op" id="4720052">,</span>&nbsp;<span class="ident" id="4720054"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720055">.</span><span class="ident" id="4720056">rightDelim</span><span class="op" id="4720066">,</span>&nbsp;<span class="ident" id="4720068"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720069">.</span><span class="ident" id="4720070">parseFuncs</span><span class="op" id="4720080">,</span>&nbsp;<span class="ident" id="4720082"><a href="/text/template/funcs.go.html#4696910">builtins</a></span><span class="op" id="4720090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4720093">if</span>&nbsp;<span class="ident" id="4720096"><a href="/text/template/template.go.html#4720008">err</a></span>&nbsp;<span class="op" id="4720100">!=</span>&nbsp;<span class="ident" id="4720103">nil</span>&nbsp;<span class="op" id="4720107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4720111">return</span>&nbsp;<span class="ident" id="4720118">nil</span><span class="op" id="4720121">,</span>&nbsp;<span class="ident" id="4720123"><a href="/text/template/template.go.html#4720008">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4720128">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4720131">//&nbsp;Add&nbsp;the&nbsp;newly&nbsp;parsed&nbsp;trees,&nbsp;including&nbsp;the&nbsp;one&nbsp;for&nbsp;t,&nbsp;into&nbsp;our&nbsp;common&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4720215">for</span>&nbsp;<span class="ident" id="4720219">name</span><span class="op" id="4720223">,</span>&nbsp;<span class="ident" id="4720225">tree</span>&nbsp;<span class="op" id="4720230">:=</span>&nbsp;<span class="keyword" id="4720233">range</span>&nbsp;<span class="ident" id="4720239"><a href="/text/template/template.go.html#4720001">trees</a></span>&nbsp;<span class="op" id="4720245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4720249">//&nbsp;If&nbsp;the&nbsp;name&nbsp;we&nbsp;parsed&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;this&nbsp;template,&nbsp;overwrite&nbsp;this&nbsp;template.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4720331">//&nbsp;The&nbsp;associate&nbsp;method&nbsp;checks&nbsp;it&#39;s&nbsp;not&nbsp;a&nbsp;redefinition.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4720389">tmpl</span>&nbsp;<span class="op" id="4720394">:=</span>&nbsp;<span class="ident" id="4720397"><a href="/text/template/template.go.html#4719937">t</a></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4720401">if</span>&nbsp;<span class="ident" id="4720404"><a href="/text/template/template.go.html#4720219">name</a></span>&nbsp;<span class="op" id="4720409">!=</span>&nbsp;<span class="ident" id="4720412"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720413">.</span><span class="ident" id="4720414">name</span>&nbsp;<span class="op" id="4720419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4720424"><a href="/text/template/template.go.html#4720389">tmpl</a></span>&nbsp;<span class="op" id="4720429">=</span>&nbsp;<span class="ident" id="4720431"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720432">.</span><span class="ident" id="4720433">New</span><span class="op" id="4720436">(</span><span class="ident" id="4720437"><a href="/text/template/template.go.html#4720219">name</a></span><span class="op" id="4720441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4720445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4720449">//&nbsp;Even&nbsp;if&nbsp;t&nbsp;==&nbsp;tmpl,&nbsp;we&nbsp;need&nbsp;to&nbsp;install&nbsp;it&nbsp;in&nbsp;the&nbsp;common.tmpl&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4720519">if</span>&nbsp;<span class="ident" id="4720522">replace</span><span class="op" id="4720529">,</span>&nbsp;<span class="ident" id="4720531">err</span>&nbsp;<span class="op" id="4720535">:=</span>&nbsp;<span class="ident" id="4720538"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720539">.</span><span class="ident" id="4720540">associate</span><span class="op" id="4720549">(</span><span class="ident" id="4720550"><a href="/text/template/template.go.html#4720389">tmpl</a></span><span class="op" id="4720554">,</span>&nbsp;<span class="ident" id="4720556"><a href="/text/template/template.go.html#4720225">tree</a></span><span class="op" id="4720560">)</span><span class="op" id="4720561">;</span>&nbsp;<span class="ident" id="4720563"><a href="/text/template/template.go.html#4720531">err</a></span>&nbsp;<span class="op" id="4720567">!=</span>&nbsp;<span class="ident" id="4720570">nil</span>&nbsp;<span class="op" id="4720574">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4720579">return</span>&nbsp;<span class="ident" id="4720586">nil</span><span class="op" id="4720589">,</span>&nbsp;<span class="ident" id="4720591"><a href="/text/template/template.go.html#4720531">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4720597">}</span>&nbsp;<span class="keyword" id="4720599">else</span>&nbsp;<span class="keyword" id="4720604">if</span>&nbsp;<span class="ident" id="4720607"><a href="/text/template/template.go.html#4720522">replace</a></span>&nbsp;<span class="op" id="4720615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4720620"><a href="/text/template/template.go.html#4720389">tmpl</a></span><span class="op" id="4720624">.</span><span class="ident" id="4720625">Tree</span>&nbsp;<span class="op" id="4720630">=</span>&nbsp;<span class="ident" id="4720632"><a href="/text/template/template.go.html#4720225">tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4720639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4720643"><a href="/text/template/template.go.html#4720389">tmpl</a></span><span class="op" id="4720647">.</span><span class="ident" id="4720648">leftDelim</span>&nbsp;<span class="op" id="4720658">=</span>&nbsp;<span class="ident" id="4720660"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720661">.</span><span class="ident" id="4720662">leftDelim</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4720674"><a href="/text/template/template.go.html#4720389">tmpl</a></span><span class="op" id="4720678">.</span><span class="ident" id="4720679">rightDelim</span>&nbsp;<span class="op" id="4720690">=</span>&nbsp;<span class="ident" id="4720692"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720693">.</span><span class="ident" id="4720694">rightDelim</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4720706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4720709">return</span>&nbsp;<span class="ident" id="4720716"><a href="/text/template/template.go.html#4719937">t</a></span><span class="op" id="4720717">,</span>&nbsp;<span class="ident" id="4720719">nil</span><br>
<span class="lineno"></span><span class="op" id="4720723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="4720726">//&nbsp;associate&nbsp;installs&nbsp;the&nbsp;new&nbsp;template&nbsp;into&nbsp;the&nbsp;group&nbsp;of&nbsp;templates&nbsp;associated</span><br>
<span class="lineno"></span><span class="comment" id="4720804">//&nbsp;with&nbsp;t.&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;reuse&nbsp;a&nbsp;name&nbsp;except&nbsp;to&nbsp;overwrite&nbsp;an&nbsp;empty</span><br>
<span class="lineno"></span><span class="comment" id="4720875">//&nbsp;template.&nbsp;The&nbsp;two&nbsp;are&nbsp;already&nbsp;known&nbsp;to&nbsp;share&nbsp;the&nbsp;common&nbsp;structure.</span><br>
<span class="lineno"></span><span class="comment" id="4720945">//&nbsp;The&nbsp;boolean&nbsp;return&nbsp;value&nbsp;reports&nbsp;wither&nbsp;to&nbsp;store&nbsp;this&nbsp;tree&nbsp;as&nbsp;t.Tree.</span><br>
<span class="lineno"></span><span class="keyword" id="4721018">func</span>&nbsp;<span class="op" id="4721023">(</span><span class="ident" id="4721024">t</span>&nbsp;<span class="op" id="4721026">*</span><span class="ident" id="4721027"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4721035">)</span>&nbsp;<span class="ident" id="4721037">associate</span><span class="op" id="4721046">(</span><span class="builtinfunc" id="4721047">new</span>&nbsp;<span class="op" id="4721051">*</span><span class="ident" id="4721052"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4721060">,</span>&nbsp;<span class="ident" id="4721062">tree</span>&nbsp;<span class="op" id="4721067">*</span><span class="ident" id="4721068"><a href="/text/template/template.go.html#4715064">parse</a></span><span class="op" id="4721073">.</span><span class="ident" id="4721074">Tree</span><span class="op" id="4721078">)</span>&nbsp;<span class="op" id="4721080">(</span><span class="builtintype" id="4721081">bool</span><span class="op" id="4721085">,</span>&nbsp;<span class="builtintype" id="4721087">error</span><span class="op" id="4721092">)</span>&nbsp;<span class="op" id="4721094">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4721097">if</span>&nbsp;<span class="builtinfunc" id="4721100"><a href="/text/template/template.go.html#4721047">new</a></span><span class="op" id="4721103">.</span><span class="ident" id="4721104">common</span>&nbsp;<span class="op" id="4721111">!=</span>&nbsp;<span class="ident" id="4721114"><a href="/text/template/template.go.html#4721024">t</a></span><span class="op" id="4721115">.</span><span class="ident" id="4721116">common</span>&nbsp;<span class="op" id="4721123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4721127">panic</span><span class="op" id="4721132">(</span><span class="string" id="4721133">&#34;internal&nbsp;error:&nbsp;associate&nbsp;not&nbsp;common&#34;</span><span class="op" id="4721171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4721174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4721177">name</span>&nbsp;<span class="op" id="4721182">:=</span>&nbsp;<span class="builtinfunc" id="4721185"><a href="/text/template/template.go.html#4721047">new</a></span><span class="op" id="4721188">.</span><span class="ident" id="4721189">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4721195">if</span>&nbsp;<span class="ident" id="4721198">old</span>&nbsp;<span class="op" id="4721202">:=</span>&nbsp;<span class="ident" id="4721205"><a href="/text/template/template.go.html#4721024">t</a></span><span class="op" id="4721206">.</span><span class="ident" id="4721207">tmpl</span><span class="op" id="4721211">[</span><span class="ident" id="4721212"><a href="/text/template/template.go.html#4721177">name</a></span><span class="op" id="4721216">]</span><span class="op" id="4721217">;</span>&nbsp;<span class="ident" id="4721219"><a href="/text/template/template.go.html#4721198">old</a></span>&nbsp;<span class="op" id="4721223">!=</span>&nbsp;<span class="ident" id="4721226">nil</span>&nbsp;<span class="op" id="4721230">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4721234">oldIsEmpty</span>&nbsp;<span class="op" id="4721245">:=</span>&nbsp;<span class="ident" id="4721248"><a href="/text/template/template.go.html#4715064">parse</a></span><span class="op" id="4721253">.</span><span class="ident" id="4721254">IsEmptyTree</span><span class="op" id="4721265">(</span><span class="ident" id="4721266"><a href="/text/template/template.go.html#4721198">old</a></span><span class="op" id="4721269">.</span><span class="ident" id="4721270">Root</span><span class="op" id="4721274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4721278">newIsEmpty</span>&nbsp;<span class="op" id="4721289">:=</span>&nbsp;<span class="ident" id="4721292"><a href="/text/template/template.go.html#4715064">parse</a></span><span class="op" id="4721297">.</span><span class="ident" id="4721298">IsEmptyTree</span><span class="op" id="4721309">(</span><span class="ident" id="4721310"><a href="/text/template/template.go.html#4721062">tree</a></span><span class="op" id="4721314">.</span><span class="ident" id="4721315">Root</span><span class="op" id="4721319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4721323">if</span>&nbsp;<span class="ident" id="4721326"><a href="/text/template/template.go.html#4721278">newIsEmpty</a></span>&nbsp;<span class="op" id="4721337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4721342">//&nbsp;Whether&nbsp;old&nbsp;is&nbsp;empty&nbsp;or&nbsp;not,&nbsp;new&nbsp;is&nbsp;empty;&nbsp;no&nbsp;reason&nbsp;to&nbsp;replace&nbsp;old.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4721417">return</span>&nbsp;<span class="builtintype" id="4721424">false</span><span class="op" id="4721429">,</span>&nbsp;<span class="ident" id="4721431">nil</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4721437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4721441">if</span>&nbsp;<span class="op" id="4721444">!</span><span class="ident" id="4721445"><a href="/text/template/template.go.html#4721234">oldIsEmpty</a></span>&nbsp;<span class="op" id="4721456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4721461">return</span>&nbsp;<span class="builtintype" id="4721468">false</span><span class="op" id="4721473">,</span>&nbsp;<span class="ident" id="4721475"><a href="/text/template/template.go.html#4715046">fmt</a></span><span class="op" id="4721478">.</span><span class="ident" id="4721479">Errorf</span><span class="op" id="4721485">(</span><span class="string" id="4721486">&#34;template:&nbsp;redefinition&nbsp;of&nbsp;template&nbsp;%q&#34;</span><span class="op" id="4721525">,</span>&nbsp;<span class="ident" id="4721527"><a href="/text/template/template.go.html#4721177">name</a></span><span class="op" id="4721531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4721535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4721538">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4721541"><a href="/text/template/template.go.html#4721024">t</a></span><span class="op" id="4721542">.</span><span class="ident" id="4721543">tmpl</span><span class="op" id="4721547">[</span><span class="ident" id="4721548"><a href="/text/template/template.go.html#4721177">name</a></span><span class="op" id="4721552">]</span>&nbsp;<span class="op" id="4721554">=</span>&nbsp;<span class="builtinfunc" id="4721556"><a href="/text/template/template.go.html#4721047">new</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4721561">return</span>&nbsp;<span class="builtintype" id="4721568">true</span><span class="op" id="4721572">,</span>&nbsp;<span class="ident" id="4721574">nil</span><br>
<span class="lineno"></span><span class="op" id="4721578">}</span>
</div>
</body>
</html>
