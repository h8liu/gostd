<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8407381">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8407436">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8407490">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8407541">package</span>&nbsp;<span class="ident" id="8407549">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8407554">import</span>&nbsp;<span class="op" id="8407561">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407564">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407573">&#34;flag&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407581">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407588">&#34;go/parser&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407601">&#34;go/printer&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407615">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407627">&#34;io/ioutil&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407640">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407646">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407663">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407673">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407684">&#34;testing&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8407695">&#34;text/template&#34;</span><br>
<span class="lineno"></span><span class="op" id="8407711">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8407714">var</span>&nbsp;<span class="ident" id="8407718">update</span>&nbsp;<span class="op" id="8407725">=</span>&nbsp;<span class="ident" id="8407727"><a href="/go/doc/doc_test.go.html#8407573">flag</a></span><span class="op" id="8407731">.</span><span class="ident" id="8407732">Bool</span><span class="op" id="8407736">(</span><span class="string" id="8407737">&#34;update&#34;</span><span class="op" id="8407745">,</span>&nbsp;<span class="builtintype" id="8407747">false</span><span class="op" id="8407752">,</span>&nbsp;<span class="string" id="8407754">&#34;update&nbsp;golden&nbsp;(.out)&nbsp;files&#34;</span><span class="op" id="8407782">)</span><br>
<span class="lineno"></span><span class="keyword" id="8407784">var</span>&nbsp;<span class="ident" id="8407788">files</span>&nbsp;<span class="op" id="8407794">=</span>&nbsp;<span class="ident" id="8407796"><a href="/go/doc/doc_test.go.html#8407573">flag</a></span><span class="op" id="8407800">.</span><span class="ident" id="8407801">String</span><span class="op" id="8407807">(</span><span class="string" id="8407808">&#34;files&#34;</span><span class="op" id="8407815">,</span>&nbsp;<span class="string" id="8407817">&#34;&#34;</span><span class="op" id="8407819">,</span>&nbsp;<span class="string" id="8407821">&#34;consider&nbsp;only&nbsp;Go&nbsp;test&nbsp;files&nbsp;matching&nbsp;this&nbsp;regular&nbsp;expression&#34;</span><span class="op" id="8407883">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="8407886">const</span>&nbsp;<span class="ident" id="8407892">dataDir</span>&nbsp;<span class="op" id="8407900">=</span>&nbsp;<span class="string" id="8407902">&#34;testdata&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8407914">var</span>&nbsp;<span class="ident" id="8407918">templateTxt</span>&nbsp;<span class="op" id="8407930">=</span>&nbsp;<span class="ident" id="8407932"><a href="/go/doc/doc_test.go.html#8407967">readTemplate</a></span><span class="op" id="8407944">(</span><span class="string" id="8407945">&#34;template.txt&#34;</span><span class="op" id="8407959">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="8407962">func</span>&nbsp;<span class="ident" id="8407967">readTemplate</span><span class="op" id="8407979">(</span><span class="ident" id="8407980">filename</span>&nbsp;<span class="builtintype" id="8407989">string</span><span class="op" id="8407995">)</span>&nbsp;<span class="op" id="8407997">*</span><span class="ident" id="8407998"><a href="/go/doc/doc_test.go.html#8407695">template</a></span><span class="op" id="8408006">.</span><span class="ident" id="8408007">Template</span>&nbsp;<span class="op" id="8408016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408019">t</span>&nbsp;<span class="op" id="8408021">:=</span>&nbsp;<span class="ident" id="8408024"><a href="/go/doc/doc_test.go.html#8407695">template</a></span><span class="op" id="8408032">.</span><span class="ident" id="8408033">New</span><span class="op" id="8408036">(</span><span class="ident" id="8408037"><a href="/go/doc/doc_test.go.html#8407980">filename</a></span><span class="op" id="8408045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408048"><a href="/go/doc/doc_test.go.html#8408019">t</a></span><span class="op" id="8408049">.</span><span class="ident" id="8408050">Funcs</span><span class="op" id="8408055">(</span><span class="ident" id="8408056"><a href="/go/doc/doc_test.go.html#8407695">template</a></span><span class="op" id="8408064">.</span><span class="ident" id="8408065">FuncMap</span><span class="op" id="8408072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8408076">&#34;node&#34;</span><span class="op" id="8408082">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408088"><a href="/go/doc/doc_test.go.html#8408231">nodeFmt</a></span><span class="op" id="8408095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8408099">&#34;synopsis&#34;</span><span class="op" id="8408109">:</span>&nbsp;<span class="ident" id="8408111"><a href="/go/doc/doc_test.go.html#8408426">synopsisFmt</a></span><span class="op" id="8408122">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8408126">&#34;indent&#34;</span><span class="op" id="8408134">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8408138"><a href="/go/doc/doc_test.go.html#8408725">indentFmt</a></span><span class="op" id="8408147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408150">}</span><span class="op" id="8408151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408154">return</span>&nbsp;<span class="ident" id="8408161"><a href="/go/doc/doc_test.go.html#8407695">template</a></span><span class="op" id="8408169">.</span><span class="ident" id="8408170">Must</span><span class="op" id="8408174">(</span><span class="ident" id="8408175"><a href="/go/doc/doc_test.go.html#8408019">t</a></span><span class="op" id="8408176">.</span><span class="ident" id="8408177">ParseFiles</span><span class="op" id="8408187">(</span><span class="ident" id="8408188"><a href="/go/doc/doc_test.go.html#8407646">filepath</a></span><span class="op" id="8408196">.</span><span class="ident" id="8408197">Join</span><span class="op" id="8408201">(</span><span class="ident" id="8408202"><a href="/go/doc/doc_test.go.html#8407892">dataDir</a></span><span class="op" id="8408209">,</span>&nbsp;<span class="ident" id="8408211"><a href="/go/doc/doc_test.go.html#8407980">filename</a></span><span class="op" id="8408219">)</span><span class="op" id="8408220">)</span><span class="op" id="8408221">)</span><br>
<span class="lineno"></span><span class="op" id="8408223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8408226">func</span>&nbsp;<span class="ident" id="8408231">nodeFmt</span><span class="op" id="8408238">(</span><span class="ident" id="8408239">node</span>&nbsp;<span class="keyword" id="8408244">interface</span><span class="op" id="8408253">{</span><span class="op" id="8408254">}</span><span class="op" id="8408255">,</span>&nbsp;<span class="ident" id="8408257">fset</span>&nbsp;<span class="op" id="8408262">*</span><span class="ident" id="8408263"><a href="/go/doc/doc_test.go.html#8407615">token</a></span><span class="op" id="8408268">.</span><span class="ident" id="8408269">FileSet</span><span class="op" id="8408276">)</span>&nbsp;<span class="builtintype" id="8408278">string</span>&nbsp;<span class="op" id="8408285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408288">var</span>&nbsp;<span class="ident" id="8408292">buf</span>&nbsp;<span class="ident" id="8408296"><a href="/go/doc/doc_test.go.html#8407564">bytes</a></span><span class="op" id="8408301">.</span><span class="ident" id="8408302">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408310"><a href="/go/doc/doc_test.go.html#8407601">printer</a></span><span class="op" id="8408317">.</span><span class="ident" id="8408318">Fprint</span><span class="op" id="8408324">(</span><span class="op" id="8408325">&amp;</span><span class="ident" id="8408326"><a href="/go/doc/doc_test.go.html#8408292">buf</a></span><span class="op" id="8408329">,</span>&nbsp;<span class="ident" id="8408331"><a href="/go/doc/doc_test.go.html#8408257">fset</a></span><span class="op" id="8408335">,</span>&nbsp;<span class="ident" id="8408337"><a href="/go/doc/doc_test.go.html#8408239">node</a></span><span class="op" id="8408341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408344">return</span>&nbsp;<span class="ident" id="8408351"><a href="/go/doc/doc_test.go.html#8407673">strings</a></span><span class="op" id="8408358">.</span><span class="ident" id="8408359">Replace</span><span class="op" id="8408366">(</span><span class="ident" id="8408367"><a href="/go/doc/doc_test.go.html#8407673">strings</a></span><span class="op" id="8408374">.</span><span class="ident" id="8408375">TrimSpace</span><span class="op" id="8408384">(</span><span class="ident" id="8408385"><a href="/go/doc/doc_test.go.html#8408292">buf</a></span><span class="op" id="8408388">.</span><span class="ident" id="8408389">String</span><span class="op" id="8408395">(</span><span class="op" id="8408396">)</span><span class="op" id="8408397">)</span><span class="op" id="8408398">,</span>&nbsp;<span class="string" id="8408400">&#34;\n&#34;</span><span class="op" id="8408404">,</span>&nbsp;<span class="string" id="8408406">&#34;\n\t&#34;</span><span class="op" id="8408412">,</span>&nbsp;<span class="op" id="8408414">-</span><span class="num" id="8408415">1</span><span class="op" id="8408416">)</span><br>
<span class="lineno"></span><span class="op" id="8408418">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="8408421">func</span>&nbsp;<span class="ident" id="8408426">synopsisFmt</span><span class="op" id="8408437">(</span><span class="ident" id="8408438">s</span>&nbsp;<span class="builtintype" id="8408440">string</span><span class="op" id="8408446">)</span>&nbsp;<span class="builtintype" id="8408448">string</span>&nbsp;<span class="op" id="8408455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408458">const</span>&nbsp;<span class="ident" id="8408464">n</span>&nbsp;<span class="op" id="8408466">=</span>&nbsp;<span class="num" id="8408468">64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408472">if</span>&nbsp;<span class="builtinfunc" id="8408475">len</span><span class="op" id="8408478">(</span><span class="ident" id="8408479"><a href="/go/doc/doc_test.go.html#8408438">s</a></span><span class="op" id="8408480">)</span>&nbsp;<span class="op" id="8408482">&gt;</span>&nbsp;<span class="ident" id="8408484"><a href="/go/doc/doc_test.go.html#8408464">n</a></span>&nbsp;<span class="op" id="8408486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8408490">//&nbsp;cut&nbsp;off&nbsp;excess&nbsp;text&nbsp;and&nbsp;go&nbsp;back&nbsp;to&nbsp;a&nbsp;word&nbsp;boundary</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408546"><a href="/go/doc/doc_test.go.html#8408438">s</a></span>&nbsp;<span class="op" id="8408548">=</span>&nbsp;<span class="ident" id="8408550"><a href="/go/doc/doc_test.go.html#8408438">s</a></span><span class="op" id="8408551">[</span><span class="num" id="8408552">0</span><span class="op" id="8408553">:</span><span class="ident" id="8408554"><a href="/go/doc/doc_test.go.html#8408464">n</a></span><span class="op" id="8408555">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408559">if</span>&nbsp;<span class="ident" id="8408562">i</span>&nbsp;<span class="op" id="8408564">:=</span>&nbsp;<span class="ident" id="8408567"><a href="/go/doc/doc_test.go.html#8407673">strings</a></span><span class="op" id="8408574">.</span><span class="ident" id="8408575">LastIndexAny</span><span class="op" id="8408587">(</span><span class="ident" id="8408588"><a href="/go/doc/doc_test.go.html#8408438">s</a></span><span class="op" id="8408589">,</span>&nbsp;<span class="string" id="8408591">&#34;\t\n&nbsp;&#34;</span><span class="op" id="8408598">)</span><span class="op" id="8408599">;</span>&nbsp;<span class="ident" id="8408601"><a href="/go/doc/doc_test.go.html#8408562">i</a></span>&nbsp;<span class="op" id="8408603">&gt;=</span>&nbsp;<span class="num" id="8408606">0</span>&nbsp;<span class="op" id="8408608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408613"><a href="/go/doc/doc_test.go.html#8408438">s</a></span>&nbsp;<span class="op" id="8408615">=</span>&nbsp;<span class="ident" id="8408617"><a href="/go/doc/doc_test.go.html#8408438">s</a></span><span class="op" id="8408618">[</span><span class="num" id="8408619">0</span><span class="op" id="8408620">:</span><span class="ident" id="8408621"><a href="/go/doc/doc_test.go.html#8408562">i</a></span><span class="op" id="8408622">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408630"><a href="/go/doc/doc_test.go.html#8408438">s</a></span>&nbsp;<span class="op" id="8408632">=</span>&nbsp;<span class="ident" id="8408634"><a href="/go/doc/doc_test.go.html#8407673">strings</a></span><span class="op" id="8408641">.</span><span class="ident" id="8408642">TrimSpace</span><span class="op" id="8408651">(</span><span class="ident" id="8408652"><a href="/go/doc/doc_test.go.html#8408438">s</a></span><span class="op" id="8408653">)</span>&nbsp;<span class="op" id="8408655">+</span>&nbsp;<span class="string" id="8408657">&#34;&nbsp;...&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408668">return</span>&nbsp;<span class="string" id="8408675">&#34;//&nbsp;&#34;</span>&nbsp;<span class="op" id="8408681">+</span>&nbsp;<span class="ident" id="8408683"><a href="/go/doc/doc_test.go.html#8407673">strings</a></span><span class="op" id="8408690">.</span><span class="ident" id="8408691">Replace</span><span class="op" id="8408698">(</span><span class="ident" id="8408699"><a href="/go/doc/doc_test.go.html#8408438">s</a></span><span class="op" id="8408700">,</span>&nbsp;<span class="string" id="8408702">&#34;\n&#34;</span><span class="op" id="8408706">,</span>&nbsp;<span class="string" id="8408708">&#34;&nbsp;&#34;</span><span class="op" id="8408711">,</span>&nbsp;<span class="op" id="8408713">-</span><span class="num" id="8408714">1</span><span class="op" id="8408715">)</span><br>
<span class="lineno"></span><span class="op" id="8408717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8408720">func</span>&nbsp;<span class="ident" id="8408725">indentFmt</span><span class="op" id="8408734">(</span><span class="ident" id="8408735">indent</span><span class="op" id="8408741">,</span>&nbsp;<span class="ident" id="8408743">s</span>&nbsp;<span class="builtintype" id="8408745">string</span><span class="op" id="8408751">)</span>&nbsp;<span class="builtintype" id="8408753">string</span>&nbsp;<span class="op" id="8408760">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408763">end</span>&nbsp;<span class="op" id="8408767">:=</span>&nbsp;<span class="string" id="8408770">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408774">if</span>&nbsp;<span class="ident" id="8408777"><a href="/go/doc/doc_test.go.html#8407673">strings</a></span><span class="op" id="8408784">.</span><span class="ident" id="8408785">HasSuffix</span><span class="op" id="8408794">(</span><span class="ident" id="8408795"><a href="/go/doc/doc_test.go.html#8408743">s</a></span><span class="op" id="8408796">,</span>&nbsp;<span class="string" id="8408798">&#34;\n&#34;</span><span class="op" id="8408802">)</span>&nbsp;<span class="op" id="8408804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408808"><a href="/go/doc/doc_test.go.html#8408763">end</a></span>&nbsp;<span class="op" id="8408812">=</span>&nbsp;<span class="string" id="8408814">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408821"><a href="/go/doc/doc_test.go.html#8408743">s</a></span>&nbsp;<span class="op" id="8408823">=</span>&nbsp;<span class="ident" id="8408825"><a href="/go/doc/doc_test.go.html#8408743">s</a></span><span class="op" id="8408826">[</span><span class="op" id="8408827">:</span><span class="builtinfunc" id="8408828">len</span><span class="op" id="8408831">(</span><span class="ident" id="8408832"><a href="/go/doc/doc_test.go.html#8408743">s</a></span><span class="op" id="8408833">)</span><span class="op" id="8408834">-</span><span class="num" id="8408835">1</span><span class="op" id="8408836">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408839">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408842">return</span>&nbsp;<span class="ident" id="8408849"><a href="/go/doc/doc_test.go.html#8408735">indent</a></span>&nbsp;<span class="op" id="8408856">+</span>&nbsp;<span class="ident" id="8408858"><a href="/go/doc/doc_test.go.html#8407673">strings</a></span><span class="op" id="8408865">.</span><span class="ident" id="8408866">Replace</span><span class="op" id="8408873">(</span><span class="ident" id="8408874"><a href="/go/doc/doc_test.go.html#8408743">s</a></span><span class="op" id="8408875">,</span>&nbsp;<span class="string" id="8408877">&#34;\n&#34;</span><span class="op" id="8408881">,</span>&nbsp;<span class="string" id="8408883">&#34;\n&#34;</span><span class="op" id="8408887">+</span><span class="ident" id="8408888"><a href="/go/doc/doc_test.go.html#8408735">indent</a></span><span class="op" id="8408894">,</span>&nbsp;<span class="op" id="8408896">-</span><span class="num" id="8408897">1</span><span class="op" id="8408898">)</span>&nbsp;<span class="op" id="8408900">+</span>&nbsp;<span class="ident" id="8408902"><a href="/go/doc/doc_test.go.html#8408763">end</a></span><br>
<span class="lineno"></span><span class="op" id="8408906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8408909">func</span>&nbsp;<span class="ident" id="8408914">isGoFile</span><span class="op" id="8408922">(</span><span class="ident" id="8408923">fi</span>&nbsp;<span class="ident" id="8408926"><a href="/go/doc/doc_test.go.html#8407640">os</a></span><span class="op" id="8408928">.</span><span class="ident" id="8408929">FileInfo</span><span class="op" id="8408937">)</span>&nbsp;<span class="builtintype" id="8408939">bool</span>&nbsp;<span class="op" id="8408944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408947">name</span>&nbsp;<span class="op" id="8408952">:=</span>&nbsp;<span class="ident" id="8408955"><a href="/go/doc/doc_test.go.html#8408923">fi</a></span><span class="op" id="8408957">.</span><span class="ident" id="8408958">Name</span><span class="op" id="8408962">(</span><span class="op" id="8408963">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408966">return</span>&nbsp;<span class="op" id="8408973">!</span><span class="ident" id="8408974"><a href="/go/doc/doc_test.go.html#8408923">fi</a></span><span class="op" id="8408976">.</span><span class="ident" id="8408977">IsDir</span><span class="op" id="8408982">(</span><span class="op" id="8408983">)</span>&nbsp;<span class="op" id="8408985">&amp;&amp;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8408990">len</span><span class="op" id="8408993">(</span><span class="ident" id="8408994"><a href="/go/doc/doc_test.go.html#8408947">name</a></span><span class="op" id="8408998">)</span>&nbsp;<span class="op" id="8409000">&gt;</span>&nbsp;<span class="num" id="8409002">0</span>&nbsp;<span class="op" id="8409004">&amp;&amp;</span>&nbsp;<span class="ident" id="8409007"><a href="/go/doc/doc_test.go.html#8408947">name</a></span><span class="op" id="8409011">[</span><span class="num" id="8409012">0</span><span class="op" id="8409013">]</span>&nbsp;<span class="op" id="8409015">!=</span>&nbsp;<span class="string" id="8409018">&#39;.&#39;</span>&nbsp;<span class="op" id="8409022">&amp;&amp;</span>&nbsp;<span class="comment" id="8409025">//&nbsp;ignore&nbsp;.files</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409044"><a href="/go/doc/doc_test.go.html#8407646">filepath</a></span><span class="op" id="8409052">.</span><span class="ident" id="8409053">Ext</span><span class="op" id="8409056">(</span><span class="ident" id="8409057"><a href="/go/doc/doc_test.go.html#8408947">name</a></span><span class="op" id="8409061">)</span>&nbsp;<span class="op" id="8409063">==</span>&nbsp;<span class="string" id="8409066">&#34;.go&#34;</span><br>
<span class="lineno"></span><span class="op" id="8409072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="8409075">type</span>&nbsp;<span class="ident" id="8409080">bundle</span>&nbsp;<span class="keyword" id="8409087">struct</span>&nbsp;<span class="op" id="8409094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409097">*</span><span class="ident" id="8409098"><a href="/go/doc/doc.go.html#5725713">Package</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409107">FSet</span>&nbsp;<span class="op" id="8409112">*</span><span class="ident" id="8409113"><a href="/go/doc/doc_test.go.html#8407615">token</a></span><span class="op" id="8409118">.</span><span class="ident" id="8409119">FileSet</span><br>
<span class="lineno"></span><span class="op" id="8409127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="8409130">func</span>&nbsp;<span class="ident" id="8409135">test</span><span class="op" id="8409139">(</span><span class="ident" id="8409140">t</span>&nbsp;<span class="op" id="8409142">*</span><span class="ident" id="8409143"><a href="/go/doc/doc_test.go.html#8407684">testing</a></span><span class="op" id="8409150">.</span><span class="ident" id="8409151">T</span><span class="op" id="8409152">,</span>&nbsp;<span class="ident" id="8409154">mode</span>&nbsp;<span class="ident" id="8409159"><a href="/go/doc/doc.go.html#5727614">Mode</a></span><span class="op" id="8409163">)</span>&nbsp;<span class="op" id="8409165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8409168">//&nbsp;determine&nbsp;file&nbsp;filter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409194">filter</span>&nbsp;<span class="op" id="8409201">:=</span>&nbsp;<span class="ident" id="8409204"><a href="/go/doc/doc_test.go.html#8408914">isGoFile</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8409214">if</span>&nbsp;<span class="op" id="8409217">*</span><span class="ident" id="8409218"><a href="/go/doc/doc_test.go.html#8407788">files</a></span>&nbsp;<span class="op" id="8409224">!=</span>&nbsp;<span class="string" id="8409227">&#34;&#34;</span>&nbsp;<span class="op" id="8409230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409234">rx</span><span class="op" id="8409236">,</span>&nbsp;<span class="ident" id="8409238">err</span>&nbsp;<span class="op" id="8409242">:=</span>&nbsp;<span class="ident" id="8409245"><a href="/go/doc/doc_test.go.html#8407663">regexp</a></span><span class="op" id="8409251">.</span><span class="ident" id="8409252">Compile</span><span class="op" id="8409259">(</span><span class="op" id="8409260">*</span><span class="ident" id="8409261"><a href="/go/doc/doc_test.go.html#8407788">files</a></span><span class="op" id="8409266">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8409270">if</span>&nbsp;<span class="ident" id="8409273"><a href="/go/doc/doc_test.go.html#8409238">err</a></span>&nbsp;<span class="op" id="8409277">!=</span>&nbsp;<span class="ident" id="8409280">nil</span>&nbsp;<span class="op" id="8409284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409289"><a href="/go/doc/doc_test.go.html#8409140">t</a></span><span class="op" id="8409290">.</span><span class="ident" id="8409291">Fatal</span><span class="op" id="8409296">(</span><span class="ident" id="8409297"><a href="/go/doc/doc_test.go.html#8409238">err</a></span><span class="op" id="8409300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409308"><a href="/go/doc/doc_test.go.html#8409194">filter</a></span>&nbsp;<span class="op" id="8409315">=</span>&nbsp;<span class="keyword" id="8409317">func</span><span class="op" id="8409321">(</span><span class="ident" id="8409322">fi</span>&nbsp;<span class="ident" id="8409325"><a href="/go/doc/doc_test.go.html#8407640">os</a></span><span class="op" id="8409327">.</span><span class="ident" id="8409328">FileInfo</span><span class="op" id="8409336">)</span>&nbsp;<span class="builtintype" id="8409338">bool</span>&nbsp;<span class="op" id="8409343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8409348">return</span>&nbsp;<span class="ident" id="8409355"><a href="/go/doc/doc_test.go.html#8408914">isGoFile</a></span><span class="op" id="8409363">(</span><span class="ident" id="8409364"><a href="/go/doc/doc_test.go.html#8409322">fi</a></span><span class="op" id="8409366">)</span>&nbsp;<span class="op" id="8409368">&amp;&amp;</span>&nbsp;<span class="ident" id="8409371"><a href="/go/doc/doc_test.go.html#8409234">rx</a></span><span class="op" id="8409373">.</span><span class="ident" id="8409374">MatchString</span><span class="op" id="8409385">(</span><span class="ident" id="8409386"><a href="/go/doc/doc_test.go.html#8409322">fi</a></span><span class="op" id="8409388">.</span><span class="ident" id="8409389">Name</span><span class="op" id="8409393">(</span><span class="op" id="8409394">)</span><span class="op" id="8409395">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8409406">//&nbsp;get&nbsp;packages</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409423">fset</span>&nbsp;<span class="op" id="8409428">:=</span>&nbsp;<span class="ident" id="8409431"><a href="/go/doc/doc_test.go.html#8407615">token</a></span><span class="op" id="8409436">.</span><span class="ident" id="8409437">NewFileSet</span><span class="op" id="8409447">(</span><span class="op" id="8409448">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409451">pkgs</span><span class="op" id="8409455">,</span>&nbsp;<span class="ident" id="8409457">err</span>&nbsp;<span class="op" id="8409461">:=</span>&nbsp;<span class="ident" id="8409464"><a href="/go/doc/doc_test.go.html#8407588">parser</a></span><span class="op" id="8409470">.</span><span class="ident" id="8409471">ParseDir</span><span class="op" id="8409479">(</span><span class="ident" id="8409480"><a href="/go/doc/doc_test.go.html#8409423">fset</a></span><span class="op" id="8409484">,</span>&nbsp;<span class="ident" id="8409486"><a href="/go/doc/doc_test.go.html#8407892">dataDir</a></span><span class="op" id="8409493">,</span>&nbsp;<span class="ident" id="8409495"><a href="/go/doc/doc_test.go.html#8409194">filter</a></span><span class="op" id="8409501">,</span>&nbsp;<span class="ident" id="8409503"><a href="/go/doc/doc_test.go.html#8407588">parser</a></span><span class="op" id="8409509">.</span><span class="ident" id="8409510">ParseComments</span><span class="op" id="8409523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8409526">if</span>&nbsp;<span class="ident" id="8409529"><a href="/go/doc/doc_test.go.html#8409457">err</a></span>&nbsp;<span class="op" id="8409533">!=</span>&nbsp;<span class="ident" id="8409536">nil</span>&nbsp;<span class="op" id="8409540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409544"><a href="/go/doc/doc_test.go.html#8409140">t</a></span><span class="op" id="8409545">.</span><span class="ident" id="8409546">Fatal</span><span class="op" id="8409551">(</span><span class="ident" id="8409552"><a href="/go/doc/doc_test.go.html#8409457">err</a></span><span class="op" id="8409555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8409562">//&nbsp;test&nbsp;packages</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8409580">for</span>&nbsp;<span class="ident" id="8409584">_</span><span class="op" id="8409585">,</span>&nbsp;<span class="ident" id="8409587">pkg</span>&nbsp;<span class="op" id="8409591">:=</span>&nbsp;<span class="keyword" id="8409594">range</span>&nbsp;<span class="ident" id="8409600"><a href="/go/doc/doc_test.go.html#8409451">pkgs</a></span>&nbsp;<span class="op" id="8409605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409609">importpath</span>&nbsp;<span class="op" id="8409620">:=</span>&nbsp;<span class="ident" id="8409623"><a href="/go/doc/doc_test.go.html#8407892">dataDir</a></span>&nbsp;<span class="op" id="8409631">+</span>&nbsp;<span class="string" id="8409633">&#34;/&#34;</span>&nbsp;<span class="op" id="8409637">+</span>&nbsp;<span class="ident" id="8409639"><a href="/go/doc/doc_test.go.html#8409587">pkg</a></span><span class="op" id="8409642">.</span><span class="ident" id="8409643">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409650">doc</span>&nbsp;<span class="op" id="8409654">:=</span>&nbsp;<span class="ident" id="8409657"><a href="/go/doc/doc.go.html#5728005">New</a></span><span class="op" id="8409660">(</span><span class="ident" id="8409661"><a href="/go/doc/doc_test.go.html#8409587">pkg</a></span><span class="op" id="8409664">,</span>&nbsp;<span class="ident" id="8409666"><a href="/go/doc/doc_test.go.html#8409609">importpath</a></span><span class="op" id="8409676">,</span>&nbsp;<span class="ident" id="8409678"><a href="/go/doc/doc_test.go.html#8409154">mode</a></span><span class="op" id="8409682">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8409687">//&nbsp;golden&nbsp;files&nbsp;always&nbsp;use&nbsp;/&nbsp;in&nbsp;filenames&nbsp;-&nbsp;canonicalize&nbsp;them</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8409751">for</span>&nbsp;<span class="ident" id="8409755">i</span><span class="op" id="8409756">,</span>&nbsp;<span class="ident" id="8409758">filename</span>&nbsp;<span class="op" id="8409767">:=</span>&nbsp;<span class="keyword" id="8409770">range</span>&nbsp;<span class="ident" id="8409776"><a href="/go/doc/doc_test.go.html#8409650">doc</a></span><span class="op" id="8409779">.</span><span class="ident" id="8409780">Filenames</span>&nbsp;<span class="op" id="8409790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409795"><a href="/go/doc/doc_test.go.html#8409650">doc</a></span><span class="op" id="8409798">.</span><span class="ident" id="8409799">Filenames</span><span class="op" id="8409808">[</span><span class="ident" id="8409809"><a href="/go/doc/doc_test.go.html#8409755">i</a></span><span class="op" id="8409810">]</span>&nbsp;<span class="op" id="8409812">=</span>&nbsp;<span class="ident" id="8409814"><a href="/go/doc/doc_test.go.html#8407646">filepath</a></span><span class="op" id="8409822">.</span><span class="ident" id="8409823">ToSlash</span><span class="op" id="8409830">(</span><span class="ident" id="8409831"><a href="/go/doc/doc_test.go.html#8409758">filename</a></span><span class="op" id="8409839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8409848">//&nbsp;print&nbsp;documentation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8409873">var</span>&nbsp;<span class="ident" id="8409877">buf</span>&nbsp;<span class="ident" id="8409881"><a href="/go/doc/doc_test.go.html#8407564">bytes</a></span><span class="op" id="8409886">.</span><span class="ident" id="8409887">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8409896">if</span>&nbsp;<span class="ident" id="8409899">err</span>&nbsp;<span class="op" id="8409903">:=</span>&nbsp;<span class="ident" id="8409906"><a href="/go/doc/doc_test.go.html#8407918">templateTxt</a></span><span class="op" id="8409917">.</span><span class="ident" id="8409918">Execute</span><span class="op" id="8409925">(</span><span class="op" id="8409926">&amp;</span><span class="ident" id="8409927"><a href="/go/doc/doc_test.go.html#8409877">buf</a></span><span class="op" id="8409930">,</span>&nbsp;<span class="ident" id="8409932"><a href="/go/doc/doc_test.go.html#8409080">bundle</a></span><span class="op" id="8409938">{</span><span class="ident" id="8409939"><a href="/go/doc/doc_test.go.html#8409650">doc</a></span><span class="op" id="8409942">,</span>&nbsp;<span class="ident" id="8409944"><a href="/go/doc/doc_test.go.html#8409423">fset</a></span><span class="op" id="8409948">}</span><span class="op" id="8409949">)</span><span class="op" id="8409950">;</span>&nbsp;<span class="ident" id="8409952"><a href="/go/doc/doc_test.go.html#8409899">err</a></span>&nbsp;<span class="op" id="8409956">!=</span>&nbsp;<span class="ident" id="8409959">nil</span>&nbsp;<span class="op" id="8409963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409968"><a href="/go/doc/doc_test.go.html#8409140">t</a></span><span class="op" id="8409969">.</span><span class="ident" id="8409970">Error</span><span class="op" id="8409975">(</span><span class="ident" id="8409976"><a href="/go/doc/doc_test.go.html#8409899">err</a></span><span class="op" id="8409979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8409984">continue</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409999">got</span>&nbsp;<span class="op" id="8410003">:=</span>&nbsp;<span class="ident" id="8410006"><a href="/go/doc/doc_test.go.html#8409877">buf</a></span><span class="op" id="8410009">.</span><span class="ident" id="8410010">Bytes</span><span class="op" id="8410015">(</span><span class="op" id="8410016">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8410021">//&nbsp;update&nbsp;golden&nbsp;file&nbsp;if&nbsp;necessary</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410058">golden</span>&nbsp;<span class="op" id="8410065">:=</span>&nbsp;<span class="ident" id="8410068"><a href="/go/doc/doc_test.go.html#8407646">filepath</a></span><span class="op" id="8410076">.</span><span class="ident" id="8410077">Join</span><span class="op" id="8410081">(</span><span class="ident" id="8410082"><a href="/go/doc/doc_test.go.html#8407892">dataDir</a></span><span class="op" id="8410089">,</span>&nbsp;<span class="ident" id="8410091"><a href="/go/doc/doc_test.go.html#8407581">fmt</a></span><span class="op" id="8410094">.</span><span class="ident" id="8410095">Sprintf</span><span class="op" id="8410102">(</span><span class="string" id="8410103">&#34;%s.%d.golden&#34;</span><span class="op" id="8410117">,</span>&nbsp;<span class="ident" id="8410119"><a href="/go/doc/doc_test.go.html#8409587">pkg</a></span><span class="op" id="8410122">.</span><span class="ident" id="8410123">Name</span><span class="op" id="8410127">,</span>&nbsp;<span class="ident" id="8410129"><a href="/go/doc/doc_test.go.html#8409154">mode</a></span><span class="op" id="8410133">)</span><span class="op" id="8410134">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8410138">if</span>&nbsp;<span class="op" id="8410141">*</span><span class="ident" id="8410142"><a href="/go/doc/doc_test.go.html#8407718">update</a></span>&nbsp;<span class="op" id="8410149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410154">err</span>&nbsp;<span class="op" id="8410158">:=</span>&nbsp;<span class="ident" id="8410161"><a href="/go/doc/doc_test.go.html#8407627">ioutil</a></span><span class="op" id="8410167">.</span><span class="ident" id="8410168">WriteFile</span><span class="op" id="8410177">(</span><span class="ident" id="8410178"><a href="/go/doc/doc_test.go.html#8410058">golden</a></span><span class="op" id="8410184">,</span>&nbsp;<span class="ident" id="8410186"><a href="/go/doc/doc_test.go.html#8409999">got</a></span><span class="op" id="8410189">,</span>&nbsp;<span class="num" id="8410191">0644</span><span class="op" id="8410195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8410200">if</span>&nbsp;<span class="ident" id="8410203"><a href="/go/doc/doc_test.go.html#8410154">err</a></span>&nbsp;<span class="op" id="8410207">!=</span>&nbsp;<span class="ident" id="8410210">nil</span>&nbsp;<span class="op" id="8410214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410220"><a href="/go/doc/doc_test.go.html#8409140">t</a></span><span class="op" id="8410221">.</span><span class="ident" id="8410222">Error</span><span class="op" id="8410227">(</span><span class="ident" id="8410228"><a href="/go/doc/doc_test.go.html#8410154">err</a></span><span class="op" id="8410231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410236">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8410241">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8410257">//&nbsp;get&nbsp;golden&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410278">want</span><span class="op" id="8410282">,</span>&nbsp;<span class="ident" id="8410284">err</span>&nbsp;<span class="op" id="8410288">:=</span>&nbsp;<span class="ident" id="8410291"><a href="/go/doc/doc_test.go.html#8407627">ioutil</a></span><span class="op" id="8410297">.</span><span class="ident" id="8410298">ReadFile</span><span class="op" id="8410306">(</span><span class="ident" id="8410307"><a href="/go/doc/doc_test.go.html#8410058">golden</a></span><span class="op" id="8410313">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8410317">if</span>&nbsp;<span class="ident" id="8410320"><a href="/go/doc/doc_test.go.html#8410284">err</a></span>&nbsp;<span class="op" id="8410324">!=</span>&nbsp;<span class="ident" id="8410327">nil</span>&nbsp;<span class="op" id="8410331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410336"><a href="/go/doc/doc_test.go.html#8409140">t</a></span><span class="op" id="8410337">.</span><span class="ident" id="8410338">Error</span><span class="op" id="8410343">(</span><span class="ident" id="8410344"><a href="/go/doc/doc_test.go.html#8410284">err</a></span><span class="op" id="8410347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8410352">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8410368">//&nbsp;compare</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8410381">if</span>&nbsp;<span class="op" id="8410384">!</span><span class="ident" id="8410385"><a href="/go/doc/doc_test.go.html#8407564">bytes</a></span><span class="op" id="8410390">.</span><span class="ident" id="8410391">Equal</span><span class="op" id="8410396">(</span><span class="ident" id="8410397"><a href="/go/doc/doc_test.go.html#8409999">got</a></span><span class="op" id="8410400">,</span>&nbsp;<span class="ident" id="8410402"><a href="/go/doc/doc_test.go.html#8410278">want</a></span><span class="op" id="8410406">)</span>&nbsp;<span class="op" id="8410408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410413"><a href="/go/doc/doc_test.go.html#8409140">t</a></span><span class="op" id="8410414">.</span><span class="ident" id="8410415">Errorf</span><span class="op" id="8410421">(</span><span class="string" id="8410422">&#34;package&nbsp;%s\n\tgot:\n%s\n\twant:\n%s&#34;</span><span class="op" id="8410459">,</span>&nbsp;<span class="ident" id="8410461"><a href="/go/doc/doc_test.go.html#8409587">pkg</a></span><span class="op" id="8410464">.</span><span class="ident" id="8410465">Name</span><span class="op" id="8410469">,</span>&nbsp;<span class="ident" id="8410471"><a href="/go/doc/doc_test.go.html#8409999">got</a></span><span class="op" id="8410474">,</span>&nbsp;<span class="ident" id="8410476"><a href="/go/doc/doc_test.go.html#8410278">want</a></span><span class="op" id="8410480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410487">}</span><br>
<span class="lineno">140</span><span class="op" id="8410489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8410492">func</span>&nbsp;<span class="ident" id="8410497">Test</span><span class="op" id="8410501">(</span><span class="ident" id="8410502">t</span>&nbsp;<span class="op" id="8410504">*</span><span class="ident" id="8410505"><a href="/go/doc/doc_test.go.html#8407684">testing</a></span><span class="op" id="8410512">.</span><span class="ident" id="8410513">T</span><span class="op" id="8410514">)</span>&nbsp;<span class="op" id="8410516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410519"><a href="/go/doc/doc_test.go.html#8409135">test</a></span><span class="op" id="8410523">(</span><span class="ident" id="8410524"><a href="/go/doc/doc_test.go.html#8410502">t</a></span><span class="op" id="8410525">,</span>&nbsp;<span class="num" id="8410527">0</span><span class="op" id="8410528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410531"><a href="/go/doc/doc_test.go.html#8409135">test</a></span><span class="op" id="8410535">(</span><span class="ident" id="8410536"><a href="/go/doc/doc_test.go.html#8410502">t</a></span><span class="op" id="8410537">,</span>&nbsp;<span class="ident" id="8410539"><a href="/go/doc/doc.go.html#5727722">AllDecls</a></span><span class="op" id="8410547">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410550"><a href="/go/doc/doc_test.go.html#8409135">test</a></span><span class="op" id="8410554">(</span><span class="ident" id="8410555"><a href="/go/doc/doc_test.go.html#8410502">t</a></span><span class="op" id="8410556">,</span>&nbsp;<span class="ident" id="8410558"><a href="/go/doc/doc.go.html#5727846">AllMethods</a></span><span class="op" id="8410568">)</span><br>
<span class="lineno"></span><span class="op" id="8410570">}</span>
</div>
</body>
</html>
