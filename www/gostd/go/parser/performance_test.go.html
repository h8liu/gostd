<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/parser</h2>
<ul>
<li><a href="/gostd/go/parser/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/go/parser/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/parser/interface.go.html">interface.go</a></li>
<li><a href="/gostd/go/parser/parser.go.html">parser.go</a></li>
<li><a href="/gostd/go/parser/parser_test.go.html">parser_test.go</a></li>
<li><a href="/gostd/go/parser/performance_test.go.html">performance_test.go</a></li>
<li><a href="/gostd/go/parser/short_test.go.html">short_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6678679">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6678734">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6678788">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6678839">package</span>&nbsp;<span class="ident" id="6678847">parser</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6678855">import</span>&nbsp;<span class="op" id="6678862">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6678865">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6678877">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6678890">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6678900">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6678903">var</span>&nbsp;<span class="ident" id="6678907">src</span>&nbsp;<span class="op" id="6678911">=</span>&nbsp;<span class="ident" id="6678913">readFile</span><span class="op" id="6678921">(</span><span class="string" id="6678922">&#34;parser.go&#34;</span><span class="op" id="6678933">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6678936">func</span>&nbsp;<span class="ident" id="6678941">readFile</span><span class="op" id="6678949">(</span><span class="ident" id="6678950">filename</span>&nbsp;<span class="builtintype" id="6678959">string</span><span class="op" id="6678965">)</span>&nbsp;<span class="op" id="6678967">[</span><span class="op" id="6678968">]</span><span class="builtintype" id="6678969">byte</span>&nbsp;<span class="op" id="6678974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6678977">data</span><span class="op" id="6678981">,</span>&nbsp;<span class="ident" id="6678983">err</span>&nbsp;<span class="op" id="6678987">:=</span>&nbsp;<span class="ident" id="6678990">ioutil</span><span class="op" id="6678996">.</span><span class="ident" id="6678997">ReadFile</span><span class="op" id="6679005">(</span><span class="ident" id="6679006">filename</span><span class="op" id="6679014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6679017">if</span>&nbsp;<span class="ident" id="6679020">err</span>&nbsp;<span class="op" id="6679024">!=</span>&nbsp;<span class="ident" id="6679027">nil</span>&nbsp;<span class="op" id="6679031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6679035">panic</span><span class="op" id="6679040">(</span><span class="ident" id="6679041">err</span><span class="op" id="6679044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679047">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6679050">return</span>&nbsp;<span class="ident" id="6679057">data</span><br>
<span class="lineno"></span><span class="op" id="6679062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6679065">func</span>&nbsp;<span class="ident" id="6679070">BenchmarkParse</span><span class="op" id="6679084">(</span><span class="ident" id="6679085">b</span>&nbsp;<span class="op" id="6679087">*</span><span class="ident" id="6679088">testing</span><span class="op" id="6679095">.</span><span class="ident" id="6679096">B</span><span class="op" id="6679097">)</span>&nbsp;<span class="op" id="6679099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679102">b</span><span class="op" id="6679103">.</span><span class="ident" id="6679104">SetBytes</span><span class="op" id="6679112">(</span><span class="ident" id="6679113">int64</span><span class="op" id="6679118">(</span><span class="builtinfunc" id="6679119">len</span><span class="op" id="6679122">(</span><span class="ident" id="6679123">src</span><span class="op" id="6679126">)</span><span class="op" id="6679127">)</span><span class="op" id="6679128">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6679131">for</span>&nbsp;<span class="ident" id="6679135">i</span>&nbsp;<span class="op" id="6679137">:=</span>&nbsp;<span class="num" id="6679140">0</span><span class="op" id="6679141">;</span>&nbsp;<span class="ident" id="6679143">i</span>&nbsp;<span class="op" id="6679145">&lt;</span>&nbsp;<span class="ident" id="6679147">b</span><span class="op" id="6679148">.</span><span class="ident" id="6679149">N</span><span class="op" id="6679150">;</span>&nbsp;<span class="ident" id="6679152">i</span><span class="op" id="6679153">++</span>&nbsp;<span class="op" id="6679156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6679160">if</span>&nbsp;<span class="ident" id="6679163">_</span><span class="op" id="6679164">,</span>&nbsp;<span class="ident" id="6679166">err</span>&nbsp;<span class="op" id="6679170">:=</span>&nbsp;<span class="ident" id="6679173">ParseFile</span><span class="op" id="6679182">(</span><span class="ident" id="6679183">token</span><span class="op" id="6679188">.</span><span class="ident" id="6679189">NewFileSet</span><span class="op" id="6679199">(</span><span class="op" id="6679200">)</span><span class="op" id="6679201">,</span>&nbsp;<span class="string" id="6679203">&#34;&#34;</span><span class="op" id="6679205">,</span>&nbsp;<span class="ident" id="6679207">src</span><span class="op" id="6679210">,</span>&nbsp;<span class="ident" id="6679212">ParseComments</span><span class="op" id="6679225">)</span><span class="op" id="6679226">;</span>&nbsp;<span class="ident" id="6679228">err</span>&nbsp;<span class="op" id="6679232">!=</span>&nbsp;<span class="ident" id="6679235">nil</span>&nbsp;<span class="op" id="6679239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6679244">b</span><span class="op" id="6679245">.</span><span class="ident" id="6679246">Fatalf</span><span class="op" id="6679252">(</span><span class="string" id="6679253">&#34;benchmark&nbsp;failed&nbsp;due&nbsp;to&nbsp;parse&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="6679294">,</span>&nbsp;<span class="ident" id="6679296">err</span><span class="op" id="6679299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6679306">}</span><br>
<span class="lineno">30</span><span class="op" id="6679308">}</span>
</div>
</body>
</html>
