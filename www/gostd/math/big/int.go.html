<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3730497">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3730552">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3730606">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3730657">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3730715">package</span>&nbsp;<span class="ident" id="3730723">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3730728">import</span>&nbsp;<span class="op" id="3730735">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3730738">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3730748">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3730755">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3730761">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3730774">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3730784">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3730787">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="3730842">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3730895">type</span>&nbsp;<span class="ident" id="3730900">Int</span>&nbsp;<span class="keyword" id="3730904">struct</span>&nbsp;<span class="op" id="3730911">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730914">neg</span>&nbsp;<span class="builtintype" id="3730918">bool</span>&nbsp;<span class="comment" id="3730923">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730932">abs</span>&nbsp;<span class="ident" id="3730936">nat</span>&nbsp;&nbsp;<span class="comment" id="3730941">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="3730974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3730977">var</span>&nbsp;<span class="ident" id="3730981">intOne</span>&nbsp;<span class="op" id="3730988">=</span>&nbsp;<span class="op" id="3730990">&amp;</span><span class="ident" id="3730991">Int</span><span class="op" id="3730994">{</span><span class="builtintype" id="3730995">false</span><span class="op" id="3731000">,</span>&nbsp;<span class="ident" id="3731002">natOne</span><span class="op" id="3731008">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="3731011">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="3731028">//</span><br>
<span class="lineno"></span><span class="comment" id="3731031">//&nbsp;&nbsp;&nbsp;&nbsp-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3731047">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="3731063">//&nbsp;&nbsp;&nbsp;&nbsp+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3731079">//</span><br>
<span class="lineno"></span><span class="keyword" id="3731082">func</span>&nbsp;<span class="op" id="3731087">(</span><span class="ident" id="3731088">x</span>&nbsp;<span class="op" id="3731090">*</span><span class="ident" id="3731091">Int</span><span class="op" id="3731094">)</span>&nbsp;<span class="ident" id="3731096">Sign</span><span class="op" id="3731100">(</span><span class="op" id="3731101">)</span>&nbsp;<span class="builtintype" id="3731103">int</span>&nbsp;<span class="op" id="3731107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731110">if</span>&nbsp;<span class="builtinfunc" id="3731113">len</span><span class="op" id="3731116">(</span><span class="ident" id="3731117">x</span><span class="op" id="3731118">.</span><span class="ident" id="3731119">abs</span><span class="op" id="3731122">)</span>&nbsp;<span class="op" id="3731124">==</span>&nbsp;<span class="num" id="3731127">0</span>&nbsp;<span class="op" id="3731129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731133">return</span>&nbsp;<span class="num" id="3731140">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731146">if</span>&nbsp;<span class="ident" id="3731149">x</span><span class="op" id="3731150">.</span><span class="ident" id="3731151">neg</span>&nbsp;<span class="op" id="3731155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731159">return</span>&nbsp;<span class="op" id="3731166">-</span><span class="num" id="3731167">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731173">return</span>&nbsp;<span class="num" id="3731180">1</span><br>
<span class="lineno">40</span><span class="op" id="3731182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3731185">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3731224">func</span>&nbsp;<span class="op" id="3731229">(</span><span class="ident" id="3731230">z</span>&nbsp;<span class="op" id="3731232">*</span><span class="ident" id="3731233">Int</span><span class="op" id="3731236">)</span>&nbsp;<span class="ident" id="3731238">SetInt64</span><span class="op" id="3731246">(</span><span class="ident" id="3731247">x</span>&nbsp;<span class="ident" id="3731249">int64</span><span class="op" id="3731254">)</span>&nbsp;<span class="op" id="3731256">*</span><span class="ident" id="3731257">Int</span>&nbsp;<span class="op" id="3731261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731264">neg</span>&nbsp;<span class="op" id="3731268">:=</span>&nbsp;<span class="builtintype" id="3731271">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731278">if</span>&nbsp;<span class="ident" id="3731281">x</span>&nbsp;<span class="op" id="3731283">&lt;</span>&nbsp;<span class="num" id="3731285">0</span>&nbsp;<span class="op" id="3731287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731291">neg</span>&nbsp;<span class="op" id="3731295">=</span>&nbsp;<span class="builtintype" id="3731297">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731304">x</span>&nbsp;<span class="op" id="3731306">=</span>&nbsp;<span class="op" id="3731308">-</span><span class="ident" id="3731309">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731315">z</span><span class="op" id="3731316">.</span><span class="ident" id="3731317">abs</span>&nbsp;<span class="op" id="3731321">=</span>&nbsp;<span class="ident" id="3731323">z</span><span class="op" id="3731324">.</span><span class="ident" id="3731325">abs</span><span class="op" id="3731328">.</span><span class="ident" id="3731329">setUint64</span><span class="op" id="3731338">(</span><span class="ident" id="3731339">uint64</span><span class="op" id="3731345">(</span><span class="ident" id="3731346">x</span><span class="op" id="3731347">)</span><span class="op" id="3731348">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731351">z</span><span class="op" id="3731352">.</span><span class="ident" id="3731353">neg</span>&nbsp;<span class="op" id="3731357">=</span>&nbsp;<span class="ident" id="3731359">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731364">return</span>&nbsp;<span class="ident" id="3731371">z</span><br>
<span class="lineno"></span><span class="op" id="3731373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3731376">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="3731416">func</span>&nbsp;<span class="op" id="3731421">(</span><span class="ident" id="3731422">z</span>&nbsp;<span class="op" id="3731424">*</span><span class="ident" id="3731425">Int</span><span class="op" id="3731428">)</span>&nbsp;<span class="ident" id="3731430">SetUint64</span><span class="op" id="3731439">(</span><span class="ident" id="3731440">x</span>&nbsp;<span class="ident" id="3731442">uint64</span><span class="op" id="3731448">)</span>&nbsp;<span class="op" id="3731450">*</span><span class="ident" id="3731451">Int</span>&nbsp;<span class="op" id="3731455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731458">z</span><span class="op" id="3731459">.</span><span class="ident" id="3731460">abs</span>&nbsp;<span class="op" id="3731464">=</span>&nbsp;<span class="ident" id="3731466">z</span><span class="op" id="3731467">.</span><span class="ident" id="3731468">abs</span><span class="op" id="3731471">.</span><span class="ident" id="3731472">setUint64</span><span class="op" id="3731481">(</span><span class="ident" id="3731482">x</span><span class="op" id="3731483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731486">z</span><span class="op" id="3731487">.</span><span class="ident" id="3731488">neg</span>&nbsp;<span class="op" id="3731492">=</span>&nbsp;<span class="builtintype" id="3731494">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731501">return</span>&nbsp;<span class="ident" id="3731508">z</span><br>
<span class="lineno"></span><span class="op" id="3731510">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3731513">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="3731565">func</span>&nbsp;<span class="ident" id="3731570">NewInt</span><span class="op" id="3731576">(</span><span class="ident" id="3731577">x</span>&nbsp;<span class="ident" id="3731579">int64</span><span class="op" id="3731584">)</span>&nbsp;<span class="op" id="3731586">*</span><span class="ident" id="3731587">Int</span>&nbsp;<span class="op" id="3731591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731594">return</span>&nbsp;<span class="builtinfunc" id="3731601">new</span><span class="op" id="3731604">(</span><span class="ident" id="3731605">Int</span><span class="op" id="3731608">)</span><span class="op" id="3731609">.</span><span class="ident" id="3731610">SetInt64</span><span class="op" id="3731618">(</span><span class="ident" id="3731619">x</span><span class="op" id="3731620">)</span><br>
<span class="lineno"></span><span class="op" id="3731622">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="3731625">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3731659">func</span>&nbsp;<span class="op" id="3731664">(</span><span class="ident" id="3731665">z</span>&nbsp;<span class="op" id="3731667">*</span><span class="ident" id="3731668">Int</span><span class="op" id="3731671">)</span>&nbsp;<span class="ident" id="3731673">Set</span><span class="op" id="3731676">(</span><span class="ident" id="3731677">x</span>&nbsp;<span class="op" id="3731679">*</span><span class="ident" id="3731680">Int</span><span class="op" id="3731683">)</span>&nbsp;<span class="op" id="3731685">*</span><span class="ident" id="3731686">Int</span>&nbsp;<span class="op" id="3731690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731693">if</span>&nbsp;<span class="ident" id="3731696">z</span>&nbsp;<span class="op" id="3731698">!=</span>&nbsp;<span class="ident" id="3731701">x</span>&nbsp;<span class="op" id="3731703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731707">z</span><span class="op" id="3731708">.</span><span class="ident" id="3731709">abs</span>&nbsp;<span class="op" id="3731713">=</span>&nbsp;<span class="ident" id="3731715">z</span><span class="op" id="3731716">.</span><span class="ident" id="3731717">abs</span><span class="op" id="3731720">.</span><span class="ident" id="3731721">set</span><span class="op" id="3731724">(</span><span class="ident" id="3731725">x</span><span class="op" id="3731726">.</span><span class="ident" id="3731727">abs</span><span class="op" id="3731730">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731734">z</span><span class="op" id="3731735">.</span><span class="ident" id="3731736">neg</span>&nbsp;<span class="op" id="3731740">=</span>&nbsp;<span class="ident" id="3731742">x</span><span class="op" id="3731743">.</span><span class="ident" id="3731744">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731752">return</span>&nbsp;<span class="ident" id="3731759">z</span><br>
<span class="lineno"></span><span class="op" id="3731761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="3731764">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="3731835">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="3731907">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3731937">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3732008">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="3732079">func</span>&nbsp;<span class="op" id="3732084">(</span><span class="ident" id="3732085">x</span>&nbsp;<span class="op" id="3732087">*</span><span class="ident" id="3732088">Int</span><span class="op" id="3732091">)</span>&nbsp;<span class="ident" id="3732093">Bits</span><span class="op" id="3732097">(</span><span class="op" id="3732098">)</span>&nbsp;<span class="op" id="3732100">[</span><span class="op" id="3732101">]</span><span class="ident" id="3732102">Word</span>&nbsp;<span class="op" id="3732107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3732110">return</span>&nbsp;<span class="ident" id="3732117">x</span><span class="op" id="3732118">.</span><span class="ident" id="3732119">abs</span><br>
<span class="lineno"></span><span class="op" id="3732123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3732126">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="3732198">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="3732272">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3732330">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3732404">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="3732475">func</span>&nbsp;<span class="op" id="3732480">(</span><span class="ident" id="3732481">z</span>&nbsp;<span class="op" id="3732483">*</span><span class="ident" id="3732484">Int</span><span class="op" id="3732487">)</span>&nbsp;<span class="ident" id="3732489">SetBits</span><span class="op" id="3732496">(</span><span class="ident" id="3732497">abs</span>&nbsp;<span class="op" id="3732501">[</span><span class="op" id="3732502">]</span><span class="ident" id="3732503">Word</span><span class="op" id="3732507">)</span>&nbsp;<span class="op" id="3732509">*</span><span class="ident" id="3732510">Int</span>&nbsp;<span class="op" id="3732514">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732517">z</span><span class="op" id="3732518">.</span><span class="ident" id="3732519">abs</span>&nbsp;<span class="op" id="3732523">=</span>&nbsp;<span class="ident" id="3732525">nat</span><span class="op" id="3732528">(</span><span class="ident" id="3732529">abs</span><span class="op" id="3732532">)</span><span class="op" id="3732533">.</span><span class="ident" id="3732534">norm</span><span class="op" id="3732538">(</span><span class="op" id="3732539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732542">z</span><span class="op" id="3732543">.</span><span class="ident" id="3732544">neg</span>&nbsp;<span class="op" id="3732548">=</span>&nbsp;<span class="builtintype" id="3732550">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3732557">return</span>&nbsp;<span class="ident" id="3732564">z</span><br>
<span class="lineno"></span><span class="op" id="3732566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3732569">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3732631">func</span>&nbsp;<span class="op" id="3732636">(</span><span class="ident" id="3732637">z</span>&nbsp;<span class="op" id="3732639">*</span><span class="ident" id="3732640">Int</span><span class="op" id="3732643">)</span>&nbsp;<span class="ident" id="3732645">Abs</span><span class="op" id="3732648">(</span><span class="ident" id="3732649">x</span>&nbsp;<span class="op" id="3732651">*</span><span class="ident" id="3732652">Int</span><span class="op" id="3732655">)</span>&nbsp;<span class="op" id="3732657">*</span><span class="ident" id="3732658">Int</span>&nbsp;<span class="op" id="3732662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732665">z</span><span class="op" id="3732666">.</span><span class="ident" id="3732667">Set</span><span class="op" id="3732670">(</span><span class="ident" id="3732671">x</span><span class="op" id="3732672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732675">z</span><span class="op" id="3732676">.</span><span class="ident" id="3732677">neg</span>&nbsp;<span class="op" id="3732681">=</span>&nbsp;<span class="builtintype" id="3732683">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3732690">return</span>&nbsp;<span class="ident" id="3732697">z</span><br>
<span class="lineno">100</span><span class="op" id="3732699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3732702">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3732737">func</span>&nbsp;<span class="op" id="3732742">(</span><span class="ident" id="3732743">z</span>&nbsp;<span class="op" id="3732745">*</span><span class="ident" id="3732746">Int</span><span class="op" id="3732749">)</span>&nbsp;<span class="ident" id="3732751">Neg</span><span class="op" id="3732754">(</span><span class="ident" id="3732755">x</span>&nbsp;<span class="op" id="3732757">*</span><span class="ident" id="3732758">Int</span><span class="op" id="3732761">)</span>&nbsp;<span class="op" id="3732763">*</span><span class="ident" id="3732764">Int</span>&nbsp;<span class="op" id="3732768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732771">z</span><span class="op" id="3732772">.</span><span class="ident" id="3732773">Set</span><span class="op" id="3732776">(</span><span class="ident" id="3732777">x</span><span class="op" id="3732778">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732781">z</span><span class="op" id="3732782">.</span><span class="ident" id="3732783">neg</span>&nbsp;<span class="op" id="3732787">=</span>&nbsp;<span class="builtinfunc" id="3732789">len</span><span class="op" id="3732792">(</span><span class="ident" id="3732793">z</span><span class="op" id="3732794">.</span><span class="ident" id="3732795">abs</span><span class="op" id="3732798">)</span>&nbsp;<span class="op" id="3732800">&gt;</span>&nbsp;<span class="num" id="3732802">0</span>&nbsp;<span class="op" id="3732804">&amp;&amp;</span>&nbsp;<span class="op" id="3732807">!</span><span class="ident" id="3732808">z</span><span class="op" id="3732809">.</span><span class="ident" id="3732810">neg</span>&nbsp;<span class="comment" id="3732814">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3732832">return</span>&nbsp;<span class="ident" id="3732839">z</span><br>
<span class="lineno"></span><span class="op" id="3732841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3732844">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="3732888">func</span>&nbsp;<span class="op" id="3732893">(</span><span class="ident" id="3732894">z</span>&nbsp;<span class="op" id="3732896">*</span><span class="ident" id="3732897">Int</span><span class="op" id="3732900">)</span>&nbsp;<span class="ident" id="3732902">Add</span><span class="op" id="3732905">(</span><span class="ident" id="3732906">x</span><span class="op" id="3732907">,</span>&nbsp;<span class="ident" id="3732909">y</span>&nbsp;<span class="op" id="3732911">*</span><span class="ident" id="3732912">Int</span><span class="op" id="3732915">)</span>&nbsp;<span class="op" id="3732917">*</span><span class="ident" id="3732918">Int</span>&nbsp;<span class="op" id="3732922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732925">neg</span>&nbsp;<span class="op" id="3732929">:=</span>&nbsp;<span class="ident" id="3732932">x</span><span class="op" id="3732933">.</span><span class="ident" id="3732934">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3732939">if</span>&nbsp;<span class="ident" id="3732942">x</span><span class="op" id="3732943">.</span><span class="ident" id="3732944">neg</span>&nbsp;<span class="op" id="3732948">==</span>&nbsp;<span class="ident" id="3732951">y</span><span class="op" id="3732952">.</span><span class="ident" id="3732953">neg</span>&nbsp;<span class="op" id="3732957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3732961">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3732981">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733010">z</span><span class="op" id="3733011">.</span><span class="ident" id="3733012">abs</span>&nbsp;<span class="op" id="3733016">=</span>&nbsp;<span class="ident" id="3733018">z</span><span class="op" id="3733019">.</span><span class="ident" id="3733020">abs</span><span class="op" id="3733023">.</span><span class="ident" id="3733024">add</span><span class="op" id="3733027">(</span><span class="ident" id="3733028">x</span><span class="op" id="3733029">.</span><span class="ident" id="3733030">abs</span><span class="op" id="3733033">,</span>&nbsp;<span class="ident" id="3733035">y</span><span class="op" id="3733036">.</span><span class="ident" id="3733037">abs</span><span class="op" id="3733040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733043">}</span>&nbsp;<span class="keyword" id="3733045">else</span>&nbsp;<span class="op" id="3733050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733054">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733089">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733124">if</span>&nbsp;<span class="ident" id="3733127">x</span><span class="op" id="3733128">.</span><span class="ident" id="3733129">abs</span><span class="op" id="3733132">.</span><span class="ident" id="3733133">cmp</span><span class="op" id="3733136">(</span><span class="ident" id="3733137">y</span><span class="op" id="3733138">.</span><span class="ident" id="3733139">abs</span><span class="op" id="3733142">)</span>&nbsp;<span class="op" id="3733144">&gt;=</span>&nbsp;<span class="num" id="3733147">0</span>&nbsp;<span class="op" id="3733149">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733154">z</span><span class="op" id="3733155">.</span><span class="ident" id="3733156">abs</span>&nbsp;<span class="op" id="3733160">=</span>&nbsp;<span class="ident" id="3733162">z</span><span class="op" id="3733163">.</span><span class="ident" id="3733164">abs</span><span class="op" id="3733167">.</span><span class="ident" id="3733168">sub</span><span class="op" id="3733171">(</span><span class="ident" id="3733172">x</span><span class="op" id="3733173">.</span><span class="ident" id="3733174">abs</span><span class="op" id="3733177">,</span>&nbsp;<span class="ident" id="3733179">y</span><span class="op" id="3733180">.</span><span class="ident" id="3733181">abs</span><span class="op" id="3733184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733188">}</span>&nbsp;<span class="keyword" id="3733190">else</span>&nbsp;<span class="op" id="3733195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733200">neg</span>&nbsp;<span class="op" id="3733204">=</span>&nbsp;<span class="op" id="3733206">!</span><span class="ident" id="3733207">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733214">z</span><span class="op" id="3733215">.</span><span class="ident" id="3733216">abs</span>&nbsp;<span class="op" id="3733220">=</span>&nbsp;<span class="ident" id="3733222">z</span><span class="op" id="3733223">.</span><span class="ident" id="3733224">abs</span><span class="op" id="3733227">.</span><span class="ident" id="3733228">sub</span><span class="op" id="3733231">(</span><span class="ident" id="3733232">y</span><span class="op" id="3733233">.</span><span class="ident" id="3733234">abs</span><span class="op" id="3733237">,</span>&nbsp;<span class="ident" id="3733239">x</span><span class="op" id="3733240">.</span><span class="ident" id="3733241">abs</span><span class="op" id="3733244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733248">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733254">z</span><span class="op" id="3733255">.</span><span class="ident" id="3733256">neg</span>&nbsp;<span class="op" id="3733260">=</span>&nbsp;<span class="builtinfunc" id="3733262">len</span><span class="op" id="3733265">(</span><span class="ident" id="3733266">z</span><span class="op" id="3733267">.</span><span class="ident" id="3733268">abs</span><span class="op" id="3733271">)</span>&nbsp;<span class="op" id="3733273">&gt;</span>&nbsp;<span class="num" id="3733275">0</span>&nbsp;<span class="op" id="3733277">&amp;&amp;</span>&nbsp;<span class="ident" id="3733280">neg</span>&nbsp;<span class="comment" id="3733284">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733302">return</span>&nbsp;<span class="ident" id="3733309">z</span><br>
<span class="lineno"></span><span class="op" id="3733311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3733314">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3733365">func</span>&nbsp;<span class="op" id="3733370">(</span><span class="ident" id="3733371">z</span>&nbsp;<span class="op" id="3733373">*</span><span class="ident" id="3733374">Int</span><span class="op" id="3733377">)</span>&nbsp;<span class="ident" id="3733379">Sub</span><span class="op" id="3733382">(</span><span class="ident" id="3733383">x</span><span class="op" id="3733384">,</span>&nbsp;<span class="ident" id="3733386">y</span>&nbsp;<span class="op" id="3733388">*</span><span class="ident" id="3733389">Int</span><span class="op" id="3733392">)</span>&nbsp;<span class="op" id="3733394">*</span><span class="ident" id="3733395">Int</span>&nbsp;<span class="op" id="3733399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733402">neg</span>&nbsp;<span class="op" id="3733406">:=</span>&nbsp;<span class="ident" id="3733409">x</span><span class="op" id="3733410">.</span><span class="ident" id="3733411">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733416">if</span>&nbsp;<span class="ident" id="3733419">x</span><span class="op" id="3733420">.</span><span class="ident" id="3733421">neg</span>&nbsp;<span class="op" id="3733425">!=</span>&nbsp;<span class="ident" id="3733428">y</span><span class="op" id="3733429">.</span><span class="ident" id="3733430">neg</span>&nbsp;<span class="op" id="3733434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733438">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733461">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733487">z</span><span class="op" id="3733488">.</span><span class="ident" id="3733489">abs</span>&nbsp;<span class="op" id="3733493">=</span>&nbsp;<span class="ident" id="3733495">z</span><span class="op" id="3733496">.</span><span class="ident" id="3733497">abs</span><span class="op" id="3733500">.</span><span class="ident" id="3733501">add</span><span class="op" id="3733504">(</span><span class="ident" id="3733505">x</span><span class="op" id="3733506">.</span><span class="ident" id="3733507">abs</span><span class="op" id="3733510">,</span>&nbsp;<span class="ident" id="3733512">y</span><span class="op" id="3733513">.</span><span class="ident" id="3733514">abs</span><span class="op" id="3733517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733520">}</span>&nbsp;<span class="keyword" id="3733522">else</span>&nbsp;<span class="op" id="3733527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733531">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733563">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733601">if</span>&nbsp;<span class="ident" id="3733604">x</span><span class="op" id="3733605">.</span><span class="ident" id="3733606">abs</span><span class="op" id="3733609">.</span><span class="ident" id="3733610">cmp</span><span class="op" id="3733613">(</span><span class="ident" id="3733614">y</span><span class="op" id="3733615">.</span><span class="ident" id="3733616">abs</span><span class="op" id="3733619">)</span>&nbsp;<span class="op" id="3733621">&gt;=</span>&nbsp;<span class="num" id="3733624">0</span>&nbsp;<span class="op" id="3733626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733631">z</span><span class="op" id="3733632">.</span><span class="ident" id="3733633">abs</span>&nbsp;<span class="op" id="3733637">=</span>&nbsp;<span class="ident" id="3733639">z</span><span class="op" id="3733640">.</span><span class="ident" id="3733641">abs</span><span class="op" id="3733644">.</span><span class="ident" id="3733645">sub</span><span class="op" id="3733648">(</span><span class="ident" id="3733649">x</span><span class="op" id="3733650">.</span><span class="ident" id="3733651">abs</span><span class="op" id="3733654">,</span>&nbsp;<span class="ident" id="3733656">y</span><span class="op" id="3733657">.</span><span class="ident" id="3733658">abs</span><span class="op" id="3733661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733665">}</span>&nbsp;<span class="keyword" id="3733667">else</span>&nbsp;<span class="op" id="3733672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733677">neg</span>&nbsp;<span class="op" id="3733681">=</span>&nbsp;<span class="op" id="3733683">!</span><span class="ident" id="3733684">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733691">z</span><span class="op" id="3733692">.</span><span class="ident" id="3733693">abs</span>&nbsp;<span class="op" id="3733697">=</span>&nbsp;<span class="ident" id="3733699">z</span><span class="op" id="3733700">.</span><span class="ident" id="3733701">abs</span><span class="op" id="3733704">.</span><span class="ident" id="3733705">sub</span><span class="op" id="3733708">(</span><span class="ident" id="3733709">y</span><span class="op" id="3733710">.</span><span class="ident" id="3733711">abs</span><span class="op" id="3733714">,</span>&nbsp;<span class="ident" id="3733716">x</span><span class="op" id="3733717">.</span><span class="ident" id="3733718">abs</span><span class="op" id="3733721">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3733728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733731">z</span><span class="op" id="3733732">.</span><span class="ident" id="3733733">neg</span>&nbsp;<span class="op" id="3733737">=</span>&nbsp;<span class="builtinfunc" id="3733739">len</span><span class="op" id="3733742">(</span><span class="ident" id="3733743">z</span><span class="op" id="3733744">.</span><span class="ident" id="3733745">abs</span><span class="op" id="3733748">)</span>&nbsp;<span class="op" id="3733750">&gt;</span>&nbsp;<span class="num" id="3733752">0</span>&nbsp;<span class="op" id="3733754">&amp;&amp;</span>&nbsp;<span class="ident" id="3733757">neg</span>&nbsp;<span class="comment" id="3733761">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3733779">return</span>&nbsp;<span class="ident" id="3733786">z</span><br>
<span class="lineno"></span><span class="op" id="3733788">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="3733791">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3733839">func</span>&nbsp;<span class="op" id="3733844">(</span><span class="ident" id="3733845">z</span>&nbsp;<span class="op" id="3733847">*</span><span class="ident" id="3733848">Int</span><span class="op" id="3733851">)</span>&nbsp;<span class="ident" id="3733853">Mul</span><span class="op" id="3733856">(</span><span class="ident" id="3733857">x</span><span class="op" id="3733858">,</span>&nbsp;<span class="ident" id="3733860">y</span>&nbsp;<span class="op" id="3733862">*</span><span class="ident" id="3733863">Int</span><span class="op" id="3733866">)</span>&nbsp;<span class="op" id="3733868">*</span><span class="ident" id="3733869">Int</span>&nbsp;<span class="op" id="3733873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733876">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733895">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733920">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3733945">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3733970">z</span><span class="op" id="3733971">.</span><span class="ident" id="3733972">abs</span>&nbsp;<span class="op" id="3733976">=</span>&nbsp;<span class="ident" id="3733978">z</span><span class="op" id="3733979">.</span><span class="ident" id="3733980">abs</span><span class="op" id="3733983">.</span><span class="ident" id="3733984">mul</span><span class="op" id="3733987">(</span><span class="ident" id="3733988">x</span><span class="op" id="3733989">.</span><span class="ident" id="3733990">abs</span><span class="op" id="3733993">,</span>&nbsp;<span class="ident" id="3733995">y</span><span class="op" id="3733996">.</span><span class="ident" id="3733997">abs</span><span class="op" id="3734000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734003">z</span><span class="op" id="3734004">.</span><span class="ident" id="3734005">neg</span>&nbsp;<span class="op" id="3734009">=</span>&nbsp;<span class="builtinfunc" id="3734011">len</span><span class="op" id="3734014">(</span><span class="ident" id="3734015">z</span><span class="op" id="3734016">.</span><span class="ident" id="3734017">abs</span><span class="op" id="3734020">)</span>&nbsp;<span class="op" id="3734022">&gt;</span>&nbsp;<span class="num" id="3734024">0</span>&nbsp;<span class="op" id="3734026">&amp;&amp;</span>&nbsp;<span class="ident" id="3734029">x</span><span class="op" id="3734030">.</span><span class="ident" id="3734031">neg</span>&nbsp;<span class="op" id="3734035">!=</span>&nbsp;<span class="ident" id="3734038">y</span><span class="op" id="3734039">.</span><span class="ident" id="3734040">neg</span>&nbsp;<span class="comment" id="3734044">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734062">return</span>&nbsp;<span class="ident" id="3734069">z</span><br>
<span class="lineno">160</span><span class="op" id="3734071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3734074">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="3734124">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3734174">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="3734218">func</span>&nbsp;<span class="op" id="3734223">(</span><span class="ident" id="3734224">z</span>&nbsp;<span class="op" id="3734226">*</span><span class="ident" id="3734227">Int</span><span class="op" id="3734230">)</span>&nbsp;<span class="ident" id="3734232">MulRange</span><span class="op" id="3734240">(</span><span class="ident" id="3734241">a</span><span class="op" id="3734242">,</span>&nbsp;<span class="ident" id="3734244">b</span>&nbsp;<span class="ident" id="3734246">int64</span><span class="op" id="3734251">)</span>&nbsp;<span class="op" id="3734253">*</span><span class="ident" id="3734254">Int</span>&nbsp;<span class="op" id="3734258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734261">switch</span>&nbsp;<span class="op" id="3734268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734271">case</span>&nbsp;<span class="ident" id="3734276">a</span>&nbsp;<span class="op" id="3734278">&gt;</span>&nbsp;<span class="ident" id="3734280">b</span><span class="op" id="3734281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734285">return</span>&nbsp;<span class="ident" id="3734292">z</span><span class="op" id="3734293">.</span><span class="ident" id="3734294">SetInt64</span><span class="op" id="3734302">(</span><span class="num" id="3734303">1</span><span class="op" id="3734304">)</span>&nbsp;<span class="comment" id="3734306">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734322">case</span>&nbsp;<span class="ident" id="3734327">a</span>&nbsp;<span class="op" id="3734329">&lt;=</span>&nbsp;<span class="num" id="3734332">0</span>&nbsp;<span class="op" id="3734334">&amp;&amp;</span>&nbsp;<span class="ident" id="3734337">b</span>&nbsp;<span class="op" id="3734339">&gt;=</span>&nbsp;<span class="num" id="3734342">0</span><span class="op" id="3734343">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734347">return</span>&nbsp;<span class="ident" id="3734354">z</span><span class="op" id="3734355">.</span><span class="ident" id="3734356">SetInt64</span><span class="op" id="3734364">(</span><span class="num" id="3734365">0</span><span class="op" id="3734366">)</span>&nbsp;<span class="comment" id="3734368">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3734389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3734392">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734424">neg</span>&nbsp;<span class="op" id="3734428">:=</span>&nbsp;<span class="builtintype" id="3734431">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734438">if</span>&nbsp;<span class="ident" id="3734441">a</span>&nbsp;<span class="op" id="3734443">&lt;</span>&nbsp;<span class="num" id="3734445">0</span>&nbsp;<span class="op" id="3734447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734451">neg</span>&nbsp;<span class="op" id="3734455">=</span>&nbsp;<span class="op" id="3734457">(</span><span class="ident" id="3734458">b</span><span class="op" id="3734459">-</span><span class="ident" id="3734460">a</span><span class="op" id="3734461">)</span><span class="op" id="3734462">&amp;</span><span class="num" id="3734463">1</span>&nbsp;<span class="op" id="3734465">==</span>&nbsp;<span class="num" id="3734468">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734472">a</span><span class="op" id="3734473">,</span>&nbsp;<span class="ident" id="3734475">b</span>&nbsp;<span class="op" id="3734477">=</span>&nbsp;<span class="op" id="3734479">-</span><span class="ident" id="3734480">b</span><span class="op" id="3734481">,</span>&nbsp;<span class="op" id="3734483">-</span><span class="ident" id="3734484">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3734487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734491">z</span><span class="op" id="3734492">.</span><span class="ident" id="3734493">abs</span>&nbsp;<span class="op" id="3734497">=</span>&nbsp;<span class="ident" id="3734499">z</span><span class="op" id="3734500">.</span><span class="ident" id="3734501">abs</span><span class="op" id="3734504">.</span><span class="ident" id="3734505">mulRange</span><span class="op" id="3734513">(</span><span class="ident" id="3734514">uint64</span><span class="op" id="3734520">(</span><span class="ident" id="3734521">a</span><span class="op" id="3734522">)</span><span class="op" id="3734523">,</span>&nbsp;<span class="ident" id="3734525">uint64</span><span class="op" id="3734531">(</span><span class="ident" id="3734532">b</span><span class="op" id="3734533">)</span><span class="op" id="3734534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734537">z</span><span class="op" id="3734538">.</span><span class="ident" id="3734539">neg</span>&nbsp;<span class="op" id="3734543">=</span>&nbsp;<span class="ident" id="3734545">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734550">return</span>&nbsp;<span class="ident" id="3734557">z</span><br>
<span class="lineno"></span><span class="op" id="3734559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="3734562">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3734634">func</span>&nbsp;<span class="op" id="3734639">(</span><span class="ident" id="3734640">z</span>&nbsp;<span class="op" id="3734642">*</span><span class="ident" id="3734643">Int</span><span class="op" id="3734646">)</span>&nbsp;<span class="ident" id="3734648">Binomial</span><span class="op" id="3734656">(</span><span class="ident" id="3734657">n</span><span class="op" id="3734658">,</span>&nbsp;<span class="ident" id="3734660">k</span>&nbsp;<span class="ident" id="3734662">int64</span><span class="op" id="3734667">)</span>&nbsp;<span class="op" id="3734669">*</span><span class="ident" id="3734670">Int</span>&nbsp;<span class="op" id="3734674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734677">var</span>&nbsp;<span class="ident" id="3734681">a</span><span class="op" id="3734682">,</span>&nbsp;<span class="ident" id="3734684">b</span>&nbsp;<span class="ident" id="3734686">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734691">a</span><span class="op" id="3734692">.</span><span class="ident" id="3734693">MulRange</span><span class="op" id="3734701">(</span><span class="ident" id="3734702">n</span><span class="op" id="3734703">-</span><span class="ident" id="3734704">k</span><span class="op" id="3734705">+</span><span class="num" id="3734706">1</span><span class="op" id="3734707">,</span>&nbsp;<span class="ident" id="3734709">n</span><span class="op" id="3734710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734713">b</span><span class="op" id="3734714">.</span><span class="ident" id="3734715">MulRange</span><span class="op" id="3734723">(</span><span class="num" id="3734724">1</span><span class="op" id="3734725">,</span>&nbsp;<span class="ident" id="3734727">k</span><span class="op" id="3734728">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3734731">return</span>&nbsp;<span class="ident" id="3734738">z</span><span class="op" id="3734739">.</span><span class="ident" id="3734740">Quo</span><span class="op" id="3734743">(</span><span class="op" id="3734744">&amp;</span><span class="ident" id="3734745">a</span><span class="op" id="3734746">,</span>&nbsp;<span class="op" id="3734748">&amp;</span><span class="ident" id="3734749">b</span><span class="op" id="3734750">)</span><br>
<span class="lineno"></span><span class="op" id="3734752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3734755">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3734815">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="3734871">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3734948">func</span>&nbsp;<span class="op" id="3734953">(</span><span class="ident" id="3734954">z</span>&nbsp;<span class="op" id="3734956">*</span><span class="ident" id="3734957">Int</span><span class="op" id="3734960">)</span>&nbsp;<span class="ident" id="3734962">Quo</span><span class="op" id="3734965">(</span><span class="ident" id="3734966">x</span><span class="op" id="3734967">,</span>&nbsp;<span class="ident" id="3734969">y</span>&nbsp;<span class="op" id="3734971">*</span><span class="ident" id="3734972">Int</span><span class="op" id="3734975">)</span>&nbsp;<span class="op" id="3734977">*</span><span class="ident" id="3734978">Int</span>&nbsp;<span class="op" id="3734982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3734985">z</span><span class="op" id="3734986">.</span><span class="ident" id="3734987">abs</span><span class="op" id="3734990">,</span>&nbsp;<span class="ident" id="3734992">_</span>&nbsp;<span class="op" id="3734994">=</span>&nbsp;<span class="ident" id="3734996">z</span><span class="op" id="3734997">.</span><span class="ident" id="3734998">abs</span><span class="op" id="3735001">.</span><span class="ident" id="3735002">div</span><span class="op" id="3735005">(</span><span class="ident" id="3735006">nil</span><span class="op" id="3735009">,</span>&nbsp;<span class="ident" id="3735011">x</span><span class="op" id="3735012">.</span><span class="ident" id="3735013">abs</span><span class="op" id="3735016">,</span>&nbsp;<span class="ident" id="3735018">y</span><span class="op" id="3735019">.</span><span class="ident" id="3735020">abs</span><span class="op" id="3735023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735026">z</span><span class="op" id="3735027">.</span><span class="ident" id="3735028">neg</span>&nbsp;<span class="op" id="3735032">=</span>&nbsp;<span class="builtinfunc" id="3735034">len</span><span class="op" id="3735037">(</span><span class="ident" id="3735038">z</span><span class="op" id="3735039">.</span><span class="ident" id="3735040">abs</span><span class="op" id="3735043">)</span>&nbsp;<span class="op" id="3735045">&gt;</span>&nbsp;<span class="num" id="3735047">0</span>&nbsp;<span class="op" id="3735049">&amp;&amp;</span>&nbsp;<span class="ident" id="3735052">x</span><span class="op" id="3735053">.</span><span class="ident" id="3735054">neg</span>&nbsp;<span class="op" id="3735058">!=</span>&nbsp;<span class="ident" id="3735061">y</span><span class="op" id="3735062">.</span><span class="ident" id="3735063">neg</span>&nbsp;<span class="comment" id="3735067">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3735085">return</span>&nbsp;<span class="ident" id="3735092">z</span><br>
<span class="lineno">200</span><span class="op" id="3735094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3735097">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3735158">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3735214">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="3735290">func</span>&nbsp;<span class="op" id="3735295">(</span><span class="ident" id="3735296">z</span>&nbsp;<span class="op" id="3735298">*</span><span class="ident" id="3735299">Int</span><span class="op" id="3735302">)</span>&nbsp;<span class="ident" id="3735304">Rem</span><span class="op" id="3735307">(</span><span class="ident" id="3735308">x</span><span class="op" id="3735309">,</span>&nbsp;<span class="ident" id="3735311">y</span>&nbsp;<span class="op" id="3735313">*</span><span class="ident" id="3735314">Int</span><span class="op" id="3735317">)</span>&nbsp;<span class="op" id="3735319">*</span><span class="ident" id="3735320">Int</span>&nbsp;<span class="op" id="3735324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735327">_</span><span class="op" id="3735328">,</span>&nbsp;<span class="ident" id="3735330">z</span><span class="op" id="3735331">.</span><span class="ident" id="3735332">abs</span>&nbsp;<span class="op" id="3735336">=</span>&nbsp;<span class="ident" id="3735338">nat</span><span class="op" id="3735341">(</span><span class="ident" id="3735342">nil</span><span class="op" id="3735345">)</span><span class="op" id="3735346">.</span><span class="ident" id="3735347">div</span><span class="op" id="3735350">(</span><span class="ident" id="3735351">z</span><span class="op" id="3735352">.</span><span class="ident" id="3735353">abs</span><span class="op" id="3735356">,</span>&nbsp;<span class="ident" id="3735358">x</span><span class="op" id="3735359">.</span><span class="ident" id="3735360">abs</span><span class="op" id="3735363">,</span>&nbsp;<span class="ident" id="3735365">y</span><span class="op" id="3735366">.</span><span class="ident" id="3735367">abs</span><span class="op" id="3735370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735373">z</span><span class="op" id="3735374">.</span><span class="ident" id="3735375">neg</span>&nbsp;<span class="op" id="3735379">=</span>&nbsp;<span class="builtinfunc" id="3735381">len</span><span class="op" id="3735384">(</span><span class="ident" id="3735385">z</span><span class="op" id="3735386">.</span><span class="ident" id="3735387">abs</span><span class="op" id="3735390">)</span>&nbsp;<span class="op" id="3735392">&gt;</span>&nbsp;<span class="num" id="3735394">0</span>&nbsp;<span class="op" id="3735396">&amp;&amp;</span>&nbsp;<span class="ident" id="3735399">x</span><span class="op" id="3735400">.</span><span class="ident" id="3735401">neg</span>&nbsp;<span class="comment" id="3735405">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3735423">return</span>&nbsp;<span class="ident" id="3735430">z</span><br>
<span class="lineno"></span><span class="op" id="3735432">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="3735435">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="3735499">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3735542">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3735598">//</span><br>
<span class="lineno">215</span><span class="comment" id="3735601">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3735656">//</span><br>
<span class="lineno"></span><span class="comment" id="3735659">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="3735709">//&nbsp;&nbsp;&nbsp;&nbspr&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="3735724">//</span><br>
<span class="lineno">220</span><span class="comment" id="3735727">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="3735799">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="3735861">//</span><br>
<span class="lineno"></span><span class="keyword" id="3735864">func</span>&nbsp;<span class="op" id="3735869">(</span><span class="ident" id="3735870">z</span>&nbsp;<span class="op" id="3735872">*</span><span class="ident" id="3735873">Int</span><span class="op" id="3735876">)</span>&nbsp;<span class="ident" id="3735878">QuoRem</span><span class="op" id="3735884">(</span><span class="ident" id="3735885">x</span><span class="op" id="3735886">,</span>&nbsp;<span class="ident" id="3735888">y</span><span class="op" id="3735889">,</span>&nbsp;<span class="ident" id="3735891">r</span>&nbsp;<span class="op" id="3735893">*</span><span class="ident" id="3735894">Int</span><span class="op" id="3735897">)</span>&nbsp;<span class="op" id="3735899">(</span><span class="op" id="3735900">*</span><span class="ident" id="3735901">Int</span><span class="op" id="3735904">,</span>&nbsp;<span class="op" id="3735906">*</span><span class="ident" id="3735907">Int</span><span class="op" id="3735910">)</span>&nbsp;<span class="op" id="3735912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735915">z</span><span class="op" id="3735916">.</span><span class="ident" id="3735917">abs</span><span class="op" id="3735920">,</span>&nbsp;<span class="ident" id="3735922">r</span><span class="op" id="3735923">.</span><span class="ident" id="3735924">abs</span>&nbsp;<span class="op" id="3735928">=</span>&nbsp;<span class="ident" id="3735930">z</span><span class="op" id="3735931">.</span><span class="ident" id="3735932">abs</span><span class="op" id="3735935">.</span><span class="ident" id="3735936">div</span><span class="op" id="3735939">(</span><span class="ident" id="3735940">r</span><span class="op" id="3735941">.</span><span class="ident" id="3735942">abs</span><span class="op" id="3735945">,</span>&nbsp;<span class="ident" id="3735947">x</span><span class="op" id="3735948">.</span><span class="ident" id="3735949">abs</span><span class="op" id="3735952">,</span>&nbsp;<span class="ident" id="3735954">y</span><span class="op" id="3735955">.</span><span class="ident" id="3735956">abs</span><span class="op" id="3735959">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3735962">z</span><span class="op" id="3735963">.</span><span class="ident" id="3735964">neg</span><span class="op" id="3735967">,</span>&nbsp;<span class="ident" id="3735969">r</span><span class="op" id="3735970">.</span><span class="ident" id="3735971">neg</span>&nbsp;<span class="op" id="3735975">=</span>&nbsp;<span class="builtinfunc" id="3735977">len</span><span class="op" id="3735980">(</span><span class="ident" id="3735981">z</span><span class="op" id="3735982">.</span><span class="ident" id="3735983">abs</span><span class="op" id="3735986">)</span>&nbsp;<span class="op" id="3735988">&gt;</span>&nbsp;<span class="num" id="3735990">0</span>&nbsp;<span class="op" id="3735992">&amp;&amp;</span>&nbsp;<span class="ident" id="3735995">x</span><span class="op" id="3735996">.</span><span class="ident" id="3735997">neg</span>&nbsp;<span class="op" id="3736001">!=</span>&nbsp;<span class="ident" id="3736004">y</span><span class="op" id="3736005">.</span><span class="ident" id="3736006">neg</span><span class="op" id="3736009">,</span>&nbsp;<span class="builtinfunc" id="3736011">len</span><span class="op" id="3736014">(</span><span class="ident" id="3736015">r</span><span class="op" id="3736016">.</span><span class="ident" id="3736017">abs</span><span class="op" id="3736020">)</span>&nbsp;<span class="op" id="3736022">&gt;</span>&nbsp;<span class="num" id="3736024">0</span>&nbsp;<span class="op" id="3736026">&amp;&amp;</span>&nbsp;<span class="ident" id="3736029">x</span><span class="op" id="3736030">.</span><span class="ident" id="3736031">neg</span>&nbsp;<span class="comment" id="3736035">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736053">return</span>&nbsp;<span class="ident" id="3736060">z</span><span class="op" id="3736061">,</span>&nbsp;<span class="ident" id="3736063">r</span><br>
<span class="lineno"></span><span class="op" id="3736065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3736068">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="3736128">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3736184">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3736263">func</span>&nbsp;<span class="op" id="3736268">(</span><span class="ident" id="3736269">z</span>&nbsp;<span class="op" id="3736271">*</span><span class="ident" id="3736272">Int</span><span class="op" id="3736275">)</span>&nbsp;<span class="ident" id="3736277">Div</span><span class="op" id="3736280">(</span><span class="ident" id="3736281">x</span><span class="op" id="3736282">,</span>&nbsp;<span class="ident" id="3736284">y</span>&nbsp;<span class="op" id="3736286">*</span><span class="ident" id="3736287">Int</span><span class="op" id="3736290">)</span>&nbsp;<span class="op" id="3736292">*</span><span class="ident" id="3736293">Int</span>&nbsp;<span class="op" id="3736297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736300">y_neg</span>&nbsp;<span class="op" id="3736306">:=</span>&nbsp;<span class="ident" id="3736309">y</span><span class="op" id="3736310">.</span><span class="ident" id="3736311">neg</span>&nbsp;<span class="comment" id="3736315">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736343">var</span>&nbsp;<span class="ident" id="3736347">r</span>&nbsp;<span class="ident" id="3736349">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736354">z</span><span class="op" id="3736355">.</span><span class="ident" id="3736356">QuoRem</span><span class="op" id="3736362">(</span><span class="ident" id="3736363">x</span><span class="op" id="3736364">,</span>&nbsp;<span class="ident" id="3736366">y</span><span class="op" id="3736367">,</span>&nbsp;<span class="op" id="3736369">&amp;</span><span class="ident" id="3736370">r</span><span class="op" id="3736371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736374">if</span>&nbsp;<span class="ident" id="3736377">r</span><span class="op" id="3736378">.</span><span class="ident" id="3736379">neg</span>&nbsp;<span class="op" id="3736383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736387">if</span>&nbsp;<span class="ident" id="3736390">y_neg</span>&nbsp;<span class="op" id="3736396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736401">z</span><span class="op" id="3736402">.</span><span class="ident" id="3736403">Add</span><span class="op" id="3736406">(</span><span class="ident" id="3736407">z</span><span class="op" id="3736408">,</span>&nbsp;<span class="ident" id="3736410">intOne</span><span class="op" id="3736416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3736420">}</span>&nbsp;<span class="keyword" id="3736422">else</span>&nbsp;<span class="op" id="3736427">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736432">z</span><span class="op" id="3736433">.</span><span class="ident" id="3736434">Sub</span><span class="op" id="3736437">(</span><span class="ident" id="3736438">z</span><span class="op" id="3736439">,</span>&nbsp;<span class="ident" id="3736441">intOne</span><span class="op" id="3736447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3736451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3736454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736457">return</span>&nbsp;<span class="ident" id="3736464">z</span><br>
<span class="lineno"></span><span class="op" id="3736466">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="3736469">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3736528">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3736584">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3736662">func</span>&nbsp;<span class="op" id="3736667">(</span><span class="ident" id="3736668">z</span>&nbsp;<span class="op" id="3736670">*</span><span class="ident" id="3736671">Int</span><span class="op" id="3736674">)</span>&nbsp;<span class="ident" id="3736676">Mod</span><span class="op" id="3736679">(</span><span class="ident" id="3736680">x</span><span class="op" id="3736681">,</span>&nbsp;<span class="ident" id="3736683">y</span>&nbsp;<span class="op" id="3736685">*</span><span class="ident" id="3736686">Int</span><span class="op" id="3736689">)</span>&nbsp;<span class="op" id="3736691">*</span><span class="ident" id="3736692">Int</span>&nbsp;<span class="op" id="3736696">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736699">y0</span>&nbsp;<span class="op" id="3736702">:=</span>&nbsp;<span class="ident" id="3736705">y</span>&nbsp;<span class="comment" id="3736707">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736718">if</span>&nbsp;<span class="ident" id="3736721">z</span>&nbsp;<span class="op" id="3736723">==</span>&nbsp;<span class="ident" id="3736726">y</span>&nbsp;<span class="op" id="3736728">||</span>&nbsp;<span class="ident" id="3736731">alias</span><span class="op" id="3736736">(</span><span class="ident" id="3736737">z</span><span class="op" id="3736738">.</span><span class="ident" id="3736739">abs</span><span class="op" id="3736742">,</span>&nbsp;<span class="ident" id="3736744">y</span><span class="op" id="3736745">.</span><span class="ident" id="3736746">abs</span><span class="op" id="3736749">)</span>&nbsp;<span class="op" id="3736751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736755">y0</span>&nbsp;<span class="op" id="3736758">=</span>&nbsp;<span class="builtinfunc" id="3736760">new</span><span class="op" id="3736763">(</span><span class="ident" id="3736764">Int</span><span class="op" id="3736767">)</span><span class="op" id="3736768">.</span><span class="ident" id="3736769">Set</span><span class="op" id="3736772">(</span><span class="ident" id="3736773">y</span><span class="op" id="3736774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3736777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736780">var</span>&nbsp;<span class="ident" id="3736784">q</span>&nbsp;<span class="ident" id="3736786">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736791">q</span><span class="op" id="3736792">.</span><span class="ident" id="3736793">QuoRem</span><span class="op" id="3736799">(</span><span class="ident" id="3736800">x</span><span class="op" id="3736801">,</span>&nbsp;<span class="ident" id="3736803">y</span><span class="op" id="3736804">,</span>&nbsp;<span class="ident" id="3736806">z</span><span class="op" id="3736807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736810">if</span>&nbsp;<span class="ident" id="3736813">z</span><span class="op" id="3736814">.</span><span class="ident" id="3736815">neg</span>&nbsp;<span class="op" id="3736819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736823">if</span>&nbsp;<span class="ident" id="3736826">y0</span><span class="op" id="3736828">.</span><span class="ident" id="3736829">neg</span>&nbsp;<span class="op" id="3736833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736838">z</span><span class="op" id="3736839">.</span><span class="ident" id="3736840">Sub</span><span class="op" id="3736843">(</span><span class="ident" id="3736844">z</span><span class="op" id="3736845">,</span>&nbsp;<span class="ident" id="3736847">y0</span><span class="op" id="3736849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3736853">}</span>&nbsp;<span class="keyword" id="3736855">else</span>&nbsp;<span class="op" id="3736860">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3736865">z</span><span class="op" id="3736866">.</span><span class="ident" id="3736867">Add</span><span class="op" id="3736870">(</span><span class="ident" id="3736871">z</span><span class="op" id="3736872">,</span>&nbsp;<span class="ident" id="3736874">y0</span><span class="op" id="3736876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3736880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3736883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3736886">return</span>&nbsp;<span class="ident" id="3736893">z</span><br>
<span class="lineno"></span><span class="op" id="3736895">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="3736898">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3736968">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3737011">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3737067">//</span><br>
<span class="lineno">270</span><span class="comment" id="3737070">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3737135">//</span><br>
<span class="lineno"></span><span class="comment" id="3737138">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3737164">//&nbsp;&nbsp;&nbsp;&nbspm&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="3737198">//</span><br>
<span class="lineno">275</span><span class="comment" id="3737201">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="3737271">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3737335">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="3737398">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="3737413">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="3737465">//</span><br>
<span class="lineno"></span><span class="keyword" id="3737468">func</span>&nbsp;<span class="op" id="3737473">(</span><span class="ident" id="3737474">z</span>&nbsp;<span class="op" id="3737476">*</span><span class="ident" id="3737477">Int</span><span class="op" id="3737480">)</span>&nbsp;<span class="ident" id="3737482">DivMod</span><span class="op" id="3737488">(</span><span class="ident" id="3737489">x</span><span class="op" id="3737490">,</span>&nbsp;<span class="ident" id="3737492">y</span><span class="op" id="3737493">,</span>&nbsp;<span class="ident" id="3737495">m</span>&nbsp;<span class="op" id="3737497">*</span><span class="ident" id="3737498">Int</span><span class="op" id="3737501">)</span>&nbsp;<span class="op" id="3737503">(</span><span class="op" id="3737504">*</span><span class="ident" id="3737505">Int</span><span class="op" id="3737508">,</span>&nbsp;<span class="op" id="3737510">*</span><span class="ident" id="3737511">Int</span><span class="op" id="3737514">)</span>&nbsp;<span class="op" id="3737516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737519">y0</span>&nbsp;<span class="op" id="3737522">:=</span>&nbsp;<span class="ident" id="3737525">y</span>&nbsp;<span class="comment" id="3737527">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3737538">if</span>&nbsp;<span class="ident" id="3737541">z</span>&nbsp;<span class="op" id="3737543">==</span>&nbsp;<span class="ident" id="3737546">y</span>&nbsp;<span class="op" id="3737548">||</span>&nbsp;<span class="ident" id="3737551">alias</span><span class="op" id="3737556">(</span><span class="ident" id="3737557">z</span><span class="op" id="3737558">.</span><span class="ident" id="3737559">abs</span><span class="op" id="3737562">,</span>&nbsp;<span class="ident" id="3737564">y</span><span class="op" id="3737565">.</span><span class="ident" id="3737566">abs</span><span class="op" id="3737569">)</span>&nbsp;<span class="op" id="3737571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737575">y0</span>&nbsp;<span class="op" id="3737578">=</span>&nbsp;<span class="builtinfunc" id="3737580">new</span><span class="op" id="3737583">(</span><span class="ident" id="3737584">Int</span><span class="op" id="3737587">)</span><span class="op" id="3737588">.</span><span class="ident" id="3737589">Set</span><span class="op" id="3737592">(</span><span class="ident" id="3737593">y</span><span class="op" id="3737594">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3737597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737600">z</span><span class="op" id="3737601">.</span><span class="ident" id="3737602">QuoRem</span><span class="op" id="3737608">(</span><span class="ident" id="3737609">x</span><span class="op" id="3737610">,</span>&nbsp;<span class="ident" id="3737612">y</span><span class="op" id="3737613">,</span>&nbsp;<span class="ident" id="3737615">m</span><span class="op" id="3737616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3737619">if</span>&nbsp;<span class="ident" id="3737622">m</span><span class="op" id="3737623">.</span><span class="ident" id="3737624">neg</span>&nbsp;<span class="op" id="3737628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3737632">if</span>&nbsp;<span class="ident" id="3737635">y0</span><span class="op" id="3737637">.</span><span class="ident" id="3737638">neg</span>&nbsp;<span class="op" id="3737642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737647">z</span><span class="op" id="3737648">.</span><span class="ident" id="3737649">Add</span><span class="op" id="3737652">(</span><span class="ident" id="3737653">z</span><span class="op" id="3737654">,</span>&nbsp;<span class="ident" id="3737656">intOne</span><span class="op" id="3737662">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737667">m</span><span class="op" id="3737668">.</span><span class="ident" id="3737669">Sub</span><span class="op" id="3737672">(</span><span class="ident" id="3737673">m</span><span class="op" id="3737674">,</span>&nbsp;<span class="ident" id="3737676">y0</span><span class="op" id="3737678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3737682">}</span>&nbsp;<span class="keyword" id="3737684">else</span>&nbsp;<span class="op" id="3737689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737694">z</span><span class="op" id="3737695">.</span><span class="ident" id="3737696">Sub</span><span class="op" id="3737699">(</span><span class="ident" id="3737700">z</span><span class="op" id="3737701">,</span>&nbsp;<span class="ident" id="3737703">intOne</span><span class="op" id="3737709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3737714">m</span><span class="op" id="3737715">.</span><span class="ident" id="3737716">Add</span><span class="op" id="3737719">(</span><span class="ident" id="3737720">m</span><span class="op" id="3737721">,</span>&nbsp;<span class="ident" id="3737723">y0</span><span class="op" id="3737725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3737729">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3737732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3737735">return</span>&nbsp;<span class="ident" id="3737742">z</span><span class="op" id="3737743">,</span>&nbsp;<span class="ident" id="3737745">m</span><br>
<span class="lineno"></span><span class="op" id="3737747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3737750">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="3737787">//</span><br>
<span class="lineno"></span><span class="comment" id="3737790">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3737808">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3737826">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3737844">//</span><br>
<span class="lineno">305</span><span class="keyword" id="3737847">func</span>&nbsp;<span class="op" id="3737852">(</span><span class="ident" id="3737853">x</span>&nbsp;<span class="op" id="3737855">*</span><span class="ident" id="3737856">Int</span><span class="op" id="3737859">)</span>&nbsp;<span class="ident" id="3737861">Cmp</span><span class="op" id="3737864">(</span><span class="ident" id="3737865">y</span>&nbsp;<span class="op" id="3737867">*</span><span class="ident" id="3737868">Int</span><span class="op" id="3737871">)</span>&nbsp;<span class="op" id="3737873">(</span><span class="ident" id="3737874">r</span>&nbsp;<span class="builtintype" id="3737876">int</span><span class="op" id="3737879">)</span>&nbsp;<span class="op" id="3737881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3737884">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3737907">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3737927">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3737947">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3737979">switch</span>&nbsp;<span class="op" id="3737986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3737989">case</span>&nbsp;<span class="ident" id="3737994">x</span><span class="op" id="3737995">.</span><span class="ident" id="3737996">neg</span>&nbsp;<span class="op" id="3738000">==</span>&nbsp;<span class="ident" id="3738003">y</span><span class="op" id="3738004">.</span><span class="ident" id="3738005">neg</span><span class="op" id="3738008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738012">r</span>&nbsp;<span class="op" id="3738014">=</span>&nbsp;<span class="ident" id="3738016">x</span><span class="op" id="3738017">.</span><span class="ident" id="3738018">abs</span><span class="op" id="3738021">.</span><span class="ident" id="3738022">cmp</span><span class="op" id="3738025">(</span><span class="ident" id="3738026">y</span><span class="op" id="3738027">.</span><span class="ident" id="3738028">abs</span><span class="op" id="3738031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738035">if</span>&nbsp;<span class="ident" id="3738038">x</span><span class="op" id="3738039">.</span><span class="ident" id="3738040">neg</span>&nbsp;<span class="op" id="3738044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738049">r</span>&nbsp;<span class="op" id="3738051">=</span>&nbsp;<span class="op" id="3738053">-</span><span class="ident" id="3738054">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738061">case</span>&nbsp;<span class="ident" id="3738066">x</span><span class="op" id="3738067">.</span><span class="ident" id="3738068">neg</span><span class="op" id="3738071">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738075">r</span>&nbsp;<span class="op" id="3738077">=</span>&nbsp;<span class="op" id="3738079">-</span><span class="num" id="3738080">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738083">default</span><span class="op" id="3738090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738094">r</span>&nbsp;<span class="op" id="3738096">=</span>&nbsp;<span class="num" id="3738098">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738104">return</span><br>
<span class="lineno"></span><span class="op" id="3738111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3738114">func</span>&nbsp;<span class="op" id="3738119">(</span><span class="ident" id="3738120">x</span>&nbsp;<span class="op" id="3738122">*</span><span class="ident" id="3738123">Int</span><span class="op" id="3738126">)</span>&nbsp;<span class="ident" id="3738128">String</span><span class="op" id="3738134">(</span><span class="op" id="3738135">)</span>&nbsp;<span class="builtintype" id="3738137">string</span>&nbsp;<span class="op" id="3738144">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738147">switch</span>&nbsp;<span class="op" id="3738154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738157">case</span>&nbsp;<span class="ident" id="3738162">x</span>&nbsp;<span class="op" id="3738164">==</span>&nbsp;<span class="ident" id="3738167">nil</span><span class="op" id="3738170">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738174">return</span>&nbsp;<span class="string" id="3738181">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738190">case</span>&nbsp;<span class="ident" id="3738195">x</span><span class="op" id="3738196">.</span><span class="ident" id="3738197">neg</span><span class="op" id="3738200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738204">return</span>&nbsp;<span class="string" id="3738211">&#34;-&#34;</span>&nbsp;<span class="op" id="3738215">+</span>&nbsp;<span class="ident" id="3738217">x</span><span class="op" id="3738218">.</span><span class="ident" id="3738219">abs</span><span class="op" id="3738222">.</span><span class="ident" id="3738223">decimalString</span><span class="op" id="3738236">(</span><span class="op" id="3738237">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738243">return</span>&nbsp;<span class="ident" id="3738250">x</span><span class="op" id="3738251">.</span><span class="ident" id="3738252">abs</span><span class="op" id="3738255">.</span><span class="ident" id="3738256">decimalString</span><span class="op" id="3738269">(</span><span class="op" id="3738270">)</span><br>
<span class="lineno"></span><span class="op" id="3738272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3738275">func</span>&nbsp;<span class="ident" id="3738280">charset</span><span class="op" id="3738287">(</span><span class="ident" id="3738288">ch</span>&nbsp;<span class="builtintype" id="3738291">rune</span><span class="op" id="3738295">)</span>&nbsp;<span class="builtintype" id="3738297">string</span>&nbsp;<span class="op" id="3738304">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738307">switch</span>&nbsp;<span class="ident" id="3738314">ch</span>&nbsp;<span class="op" id="3738317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738320">case</span>&nbsp;<span class="string" id="3738325">&#39;b&#39;</span><span class="op" id="3738328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738332">return</span>&nbsp;<span class="ident" id="3738339">lowercaseDigits</span><span class="op" id="3738354">[</span><span class="num" id="3738355">0</span><span class="op" id="3738356">:</span><span class="num" id="3738357">2</span><span class="op" id="3738358">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738361">case</span>&nbsp;<span class="string" id="3738366">&#39;o&#39;</span><span class="op" id="3738369">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738373">return</span>&nbsp;<span class="ident" id="3738380">lowercaseDigits</span><span class="op" id="3738395">[</span><span class="num" id="3738396">0</span><span class="op" id="3738397">:</span><span class="num" id="3738398">8</span><span class="op" id="3738399">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738402">case</span>&nbsp;<span class="string" id="3738407">&#39;d&#39;</span><span class="op" id="3738410">,</span>&nbsp;<span class="string" id="3738412">&#39;s&#39;</span><span class="op" id="3738415">,</span>&nbsp;<span class="string" id="3738417">&#39;v&#39;</span><span class="op" id="3738420">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738424">return</span>&nbsp;<span class="ident" id="3738431">lowercaseDigits</span><span class="op" id="3738446">[</span><span class="num" id="3738447">0</span><span class="op" id="3738448">:</span><span class="num" id="3738449">10</span><span class="op" id="3738451">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738454">case</span>&nbsp;<span class="string" id="3738459">&#39;x&#39;</span><span class="op" id="3738462">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738466">return</span>&nbsp;<span class="ident" id="3738473">lowercaseDigits</span><span class="op" id="3738488">[</span><span class="num" id="3738489">0</span><span class="op" id="3738490">:</span><span class="num" id="3738491">16</span><span class="op" id="3738493">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738496">case</span>&nbsp;<span class="string" id="3738501">&#39;X&#39;</span><span class="op" id="3738504">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738508">return</span>&nbsp;<span class="ident" id="3738515">uppercaseDigits</span><span class="op" id="3738530">[</span><span class="num" id="3738531">0</span><span class="op" id="3738532">:</span><span class="num" id="3738533">16</span><span class="op" id="3738535">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738541">return</span>&nbsp;<span class="string" id="3738548">&#34;&#34;</span>&nbsp;<span class="comment" id="3738551">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="3738569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="3738572">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="3738607">func</span>&nbsp;<span class="ident" id="3738612">writeMultiple</span><span class="op" id="3738625">(</span><span class="ident" id="3738626">s</span>&nbsp;<span class="ident" id="3738628">fmt</span><span class="op" id="3738631">.</span><span class="ident" id="3738632">State</span><span class="op" id="3738637">,</span>&nbsp;<span class="ident" id="3738639">text</span>&nbsp;<span class="builtintype" id="3738644">string</span><span class="op" id="3738650">,</span>&nbsp;<span class="ident" id="3738652">count</span>&nbsp;<span class="builtintype" id="3738658">int</span><span class="op" id="3738661">)</span>&nbsp;<span class="op" id="3738663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738666">if</span>&nbsp;<span class="builtinfunc" id="3738669">len</span><span class="op" id="3738672">(</span><span class="ident" id="3738673">text</span><span class="op" id="3738677">)</span>&nbsp;<span class="op" id="3738679">&gt;</span>&nbsp;<span class="num" id="3738681">0</span>&nbsp;<span class="op" id="3738683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738687">b</span>&nbsp;<span class="op" id="3738689">:=</span>&nbsp;<span class="op" id="3738692">[</span><span class="op" id="3738693">]</span><span class="builtintype" id="3738694">byte</span><span class="op" id="3738698">(</span><span class="ident" id="3738699">text</span><span class="op" id="3738703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3738707">for</span>&nbsp;<span class="op" id="3738711">;</span>&nbsp;<span class="ident" id="3738713">count</span>&nbsp;<span class="op" id="3738719">&gt;</span>&nbsp;<span class="num" id="3738721">0</span><span class="op" id="3738722">;</span>&nbsp;<span class="ident" id="3738724">count</span><span class="op" id="3738729">--</span>&nbsp;<span class="op" id="3738732">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3738737">s</span><span class="op" id="3738738">.</span><span class="ident" id="3738739">Write</span><span class="op" id="3738744">(</span><span class="ident" id="3738745">b</span><span class="op" id="3738746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3738753">}</span><br>
<span class="lineno"></span><span class="op" id="3738755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="3738758">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="3738819">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="3738880">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="3738941">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="3739002">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="3739059">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="3739118">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3739177">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="3739237">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3739295">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="3739319">//</span><br>
<span class="lineno"></span><span class="keyword" id="3739322">func</span>&nbsp;<span class="op" id="3739327">(</span><span class="ident" id="3739328">x</span>&nbsp;<span class="op" id="3739330">*</span><span class="ident" id="3739331">Int</span><span class="op" id="3739334">)</span>&nbsp;<span class="ident" id="3739336">Format</span><span class="op" id="3739342">(</span><span class="ident" id="3739343">s</span>&nbsp;<span class="ident" id="3739345">fmt</span><span class="op" id="3739348">.</span><span class="ident" id="3739349">State</span><span class="op" id="3739354">,</span>&nbsp;<span class="ident" id="3739356">ch</span>&nbsp;<span class="builtintype" id="3739359">rune</span><span class="op" id="3739363">)</span>&nbsp;<span class="op" id="3739365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739368">cs</span>&nbsp;<span class="op" id="3739371">:=</span>&nbsp;<span class="ident" id="3739374">charset</span><span class="op" id="3739381">(</span><span class="ident" id="3739382">ch</span><span class="op" id="3739384">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3739388">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739406">switch</span>&nbsp;<span class="op" id="3739413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739416">case</span>&nbsp;<span class="ident" id="3739421">cs</span>&nbsp;<span class="op" id="3739424">==</span>&nbsp;<span class="string" id="3739427">&#34;&#34;</span><span class="op" id="3739429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3739433">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739453">fmt</span><span class="op" id="3739456">.</span><span class="ident" id="3739457">Fprintf</span><span class="op" id="3739464">(</span><span class="ident" id="3739465">s</span><span class="op" id="3739466">,</span>&nbsp;<span class="string" id="3739468">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="3739487">,</span>&nbsp;<span class="ident" id="3739489">ch</span><span class="op" id="3739491">,</span>&nbsp;<span class="ident" id="3739493">x</span><span class="op" id="3739494">.</span><span class="ident" id="3739495">String</span><span class="op" id="3739501">(</span><span class="op" id="3739502">)</span><span class="op" id="3739503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739507">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739515">case</span>&nbsp;<span class="ident" id="3739520">x</span>&nbsp;<span class="op" id="3739522">==</span>&nbsp;<span class="ident" id="3739525">nil</span><span class="op" id="3739528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739532">fmt</span><span class="op" id="3739535">.</span><span class="ident" id="3739536">Fprint</span><span class="op" id="3739542">(</span><span class="ident" id="3739543">s</span><span class="op" id="3739544">,</span>&nbsp;<span class="string" id="3739546">&#34;&lt;nil&gt;&#34;</span><span class="op" id="3739553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739557">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3739569">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739598">sign</span>&nbsp;<span class="op" id="3739603">:=</span>&nbsp;<span class="string" id="3739606">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739610">switch</span>&nbsp;<span class="op" id="3739617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739620">case</span>&nbsp;<span class="ident" id="3739625">x</span><span class="op" id="3739626">.</span><span class="ident" id="3739627">neg</span><span class="op" id="3739630">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739634">sign</span>&nbsp;<span class="op" id="3739639">=</span>&nbsp;<span class="string" id="3739641">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739646">case</span>&nbsp;<span class="ident" id="3739651">s</span><span class="op" id="3739652">.</span><span class="ident" id="3739653">Flag</span><span class="op" id="3739657">(</span><span class="string" id="3739658">&#39;+&#39;</span><span class="op" id="3739661">)</span><span class="op" id="3739662">:</span>&nbsp;<span class="comment" id="3739664">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739704">sign</span>&nbsp;<span class="op" id="3739709">=</span>&nbsp;<span class="string" id="3739711">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739716">case</span>&nbsp;<span class="ident" id="3739721">s</span><span class="op" id="3739722">.</span><span class="ident" id="3739723">Flag</span><span class="op" id="3739727">(</span><span class="string" id="3739728">&#39;&nbsp;&#39;</span><span class="op" id="3739731">)</span><span class="op" id="3739732">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739736">sign</span>&nbsp;<span class="op" id="3739741">=</span>&nbsp;<span class="string" id="3739743">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739748">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3739752">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739811">prefix</span>&nbsp;<span class="op" id="3739818">:=</span>&nbsp;<span class="string" id="3739821">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739825">if</span>&nbsp;<span class="ident" id="3739828">s</span><span class="op" id="3739829">.</span><span class="ident" id="3739830">Flag</span><span class="op" id="3739834">(</span><span class="string" id="3739835">&#39;#&#39;</span><span class="op" id="3739838">)</span>&nbsp;<span class="op" id="3739840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739844">switch</span>&nbsp;<span class="ident" id="3739851">ch</span>&nbsp;<span class="op" id="3739854">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739858">case</span>&nbsp;<span class="string" id="3739863">&#39;o&#39;</span><span class="op" id="3739866">:</span>&nbsp;<span class="comment" id="3739868">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739880">prefix</span>&nbsp;<span class="op" id="3739887">=</span>&nbsp;<span class="string" id="3739889">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739895">case</span>&nbsp;<span class="string" id="3739900">&#39;x&#39;</span><span class="op" id="3739903">:</span>&nbsp;<span class="comment" id="3739905">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739923">prefix</span>&nbsp;<span class="op" id="3739930">=</span>&nbsp;<span class="string" id="3739932">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3739939">case</span>&nbsp;<span class="string" id="3739944">&#39;X&#39;</span><span class="op" id="3739947">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3739952">prefix</span>&nbsp;<span class="op" id="3739959">=</span>&nbsp;<span class="string" id="3739961">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3739971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3739975">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740050">digits</span>&nbsp;<span class="op" id="3740057">:=</span>&nbsp;<span class="ident" id="3740060">x</span><span class="op" id="3740061">.</span><span class="ident" id="3740062">abs</span><span class="op" id="3740065">.</span><span class="builtintype" id="3740066">string</span><span class="op" id="3740072">(</span><span class="ident" id="3740073">cs</span><span class="op" id="3740075">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3740079">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740144">var</span>&nbsp;<span class="ident" id="3740148">left</span>&nbsp;<span class="builtintype" id="3740153">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3740159">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740230">var</span>&nbsp;<span class="ident" id="3740234">zeroes</span>&nbsp;<span class="builtintype" id="3740241">int</span>&nbsp;<span class="comment" id="3740245">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740311">var</span>&nbsp;<span class="ident" id="3740315">right</span>&nbsp;<span class="builtintype" id="3740321">int</span>&nbsp;&nbsp;<span class="comment" id="3740326">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3740399">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740481">precision</span><span class="op" id="3740490">,</span>&nbsp;<span class="ident" id="3740492">precisionSet</span>&nbsp;<span class="op" id="3740505">:=</span>&nbsp;<span class="ident" id="3740508">s</span><span class="op" id="3740509">.</span><span class="ident" id="3740510">Precision</span><span class="op" id="3740519">(</span><span class="op" id="3740520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740523">if</span>&nbsp;<span class="ident" id="3740526">precisionSet</span>&nbsp;<span class="op" id="3740539">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740543">switch</span>&nbsp;<span class="op" id="3740550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740554">case</span>&nbsp;<span class="builtinfunc" id="3740559">len</span><span class="op" id="3740562">(</span><span class="ident" id="3740563">digits</span><span class="op" id="3740569">)</span>&nbsp;<span class="op" id="3740571">&lt;</span>&nbsp;<span class="ident" id="3740573">precision</span><span class="op" id="3740582">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740587">zeroes</span>&nbsp;<span class="op" id="3740594">=</span>&nbsp;<span class="ident" id="3740596">precision</span>&nbsp;<span class="op" id="3740606">-</span>&nbsp;<span class="builtinfunc" id="3740608">len</span><span class="op" id="3740611">(</span><span class="ident" id="3740612">digits</span><span class="op" id="3740618">)</span>&nbsp;<span class="comment" id="3740620">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740647">case</span>&nbsp;<span class="ident" id="3740652">digits</span>&nbsp;<span class="op" id="3740659">==</span>&nbsp;<span class="string" id="3740662">&#34;0&#34;</span>&nbsp;<span class="op" id="3740666">&amp;&amp;</span>&nbsp;<span class="ident" id="3740669">precision</span>&nbsp;<span class="op" id="3740679">==</span>&nbsp;<span class="num" id="3740682">0</span><span class="op" id="3740683">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740688">return</span>&nbsp;<span class="comment" id="3740695">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3740770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3740773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3740777">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3740854">length</span>&nbsp;<span class="op" id="3740861">:=</span>&nbsp;<span class="builtinfunc" id="3740864">len</span><span class="op" id="3740867">(</span><span class="ident" id="3740868">sign</span><span class="op" id="3740872">)</span>&nbsp;<span class="op" id="3740874">+</span>&nbsp;<span class="builtinfunc" id="3740876">len</span><span class="op" id="3740879">(</span><span class="ident" id="3740880">prefix</span><span class="op" id="3740886">)</span>&nbsp;<span class="op" id="3740888">+</span>&nbsp;<span class="ident" id="3740890">zeroes</span>&nbsp;<span class="op" id="3740897">+</span>&nbsp;<span class="builtinfunc" id="3740899">len</span><span class="op" id="3740902">(</span><span class="ident" id="3740903">digits</span><span class="op" id="3740909">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740912">if</span>&nbsp;<span class="ident" id="3740915">width</span><span class="op" id="3740920">,</span>&nbsp;<span class="ident" id="3740922">widthSet</span>&nbsp;<span class="op" id="3740931">:=</span>&nbsp;<span class="ident" id="3740934">s</span><span class="op" id="3740935">.</span><span class="ident" id="3740936">Width</span><span class="op" id="3740941">(</span><span class="op" id="3740942">)</span><span class="op" id="3740943">;</span>&nbsp;<span class="ident" id="3740945">widthSet</span>&nbsp;<span class="op" id="3740954">&amp;&amp;</span>&nbsp;<span class="ident" id="3740957">length</span>&nbsp;<span class="op" id="3740964">&lt;</span>&nbsp;<span class="ident" id="3740966">width</span>&nbsp;<span class="op" id="3740972">{</span>&nbsp;<span class="comment" id="3740974">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3740996">switch</span>&nbsp;<span class="ident" id="3741003">d</span>&nbsp;<span class="op" id="3741005">:=</span>&nbsp;<span class="ident" id="3741008">width</span>&nbsp;<span class="op" id="3741014">-</span>&nbsp;<span class="ident" id="3741016">length</span><span class="op" id="3741022">;</span>&nbsp;<span class="op" id="3741024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741028">case</span>&nbsp;<span class="ident" id="3741033">s</span><span class="op" id="3741034">.</span><span class="ident" id="3741035">Flag</span><span class="op" id="3741039">(</span><span class="string" id="3741040">&#39;-&#39;</span><span class="op" id="3741043">)</span><span class="op" id="3741044">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3741049">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741120">right</span>&nbsp;<span class="op" id="3741126">=</span>&nbsp;<span class="ident" id="3741128">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741132">case</span>&nbsp;<span class="ident" id="3741137">s</span><span class="op" id="3741138">.</span><span class="ident" id="3741139">Flag</span><span class="op" id="3741143">(</span><span class="string" id="3741144">&#39;0&#39;</span><span class="op" id="3741147">)</span>&nbsp;<span class="op" id="3741149">&amp;&amp;</span>&nbsp;<span class="op" id="3741152">!</span><span class="ident" id="3741153">precisionSet</span><span class="op" id="3741165">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3741170">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741224">zeroes</span>&nbsp;<span class="op" id="3741231">=</span>&nbsp;<span class="ident" id="3741233">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3741237">default</span><span class="op" id="3741244">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3741249">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741283">left</span>&nbsp;<span class="op" id="3741288">=</span>&nbsp;<span class="ident" id="3741290">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3741294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3741297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3741301">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741375">writeMultiple</span><span class="op" id="3741388">(</span><span class="ident" id="3741389">s</span><span class="op" id="3741390">,</span>&nbsp;<span class="string" id="3741392">&#34;&nbsp;&#34;</span><span class="op" id="3741395">,</span>&nbsp;<span class="ident" id="3741397">left</span><span class="op" id="3741401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741404">writeMultiple</span><span class="op" id="3741417">(</span><span class="ident" id="3741418">s</span><span class="op" id="3741419">,</span>&nbsp;<span class="ident" id="3741421">sign</span><span class="op" id="3741425">,</span>&nbsp;<span class="num" id="3741427">1</span><span class="op" id="3741428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741431">writeMultiple</span><span class="op" id="3741444">(</span><span class="ident" id="3741445">s</span><span class="op" id="3741446">,</span>&nbsp;<span class="ident" id="3741448">prefix</span><span class="op" id="3741454">,</span>&nbsp;<span class="num" id="3741456">1</span><span class="op" id="3741457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741460">writeMultiple</span><span class="op" id="3741473">(</span><span class="ident" id="3741474">s</span><span class="op" id="3741475">,</span>&nbsp;<span class="string" id="3741477">&#34;0&#34;</span><span class="op" id="3741480">,</span>&nbsp;<span class="ident" id="3741482">zeroes</span><span class="op" id="3741488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741491">writeMultiple</span><span class="op" id="3741504">(</span><span class="ident" id="3741505">s</span><span class="op" id="3741506">,</span>&nbsp;<span class="ident" id="3741508">digits</span><span class="op" id="3741514">,</span>&nbsp;<span class="num" id="3741516">1</span><span class="op" id="3741517">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3741520">writeMultiple</span><span class="op" id="3741533">(</span><span class="ident" id="3741534">s</span><span class="op" id="3741535">,</span>&nbsp;<span class="string" id="3741537">&#34;&nbsp;&#34;</span><span class="op" id="3741540">,</span>&nbsp;<span class="ident" id="3741542">right</span><span class="op" id="3741547">)</span><br>
<span class="lineno"></span><span class="op" id="3741549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3741552">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="3741633">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="3741713">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3741792">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3741870">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="3741926">//</span><br>
<span class="lineno"></span><span class="comment" id="3741929">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="3742007">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3742085">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3742161">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3742239">//</span><br>
<span class="lineno"></span><span class="keyword" id="3742242">func</span>&nbsp;<span class="op" id="3742247">(</span><span class="ident" id="3742248">z</span>&nbsp;<span class="op" id="3742250">*</span><span class="ident" id="3742251">Int</span><span class="op" id="3742254">)</span>&nbsp;<span class="ident" id="3742256">scan</span><span class="op" id="3742260">(</span><span class="ident" id="3742261">r</span>&nbsp;<span class="ident" id="3742263">io</span><span class="op" id="3742265">.</span><span class="ident" id="3742266">RuneScanner</span><span class="op" id="3742277">,</span>&nbsp;<span class="ident" id="3742279">base</span>&nbsp;<span class="builtintype" id="3742284">int</span><span class="op" id="3742287">)</span>&nbsp;<span class="op" id="3742289">(</span><span class="op" id="3742290">*</span><span class="ident" id="3742291">Int</span><span class="op" id="3742294">,</span>&nbsp;<span class="builtintype" id="3742296">int</span><span class="op" id="3742299">,</span>&nbsp;<span class="builtintype" id="3742301">error</span><span class="op" id="3742306">)</span>&nbsp;<span class="op" id="3742308">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3742311">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742330">ch</span><span class="op" id="3742332">,</span>&nbsp;<span class="ident" id="3742334">_</span><span class="op" id="3742335">,</span>&nbsp;<span class="ident" id="3742337">err</span>&nbsp;<span class="op" id="3742341">:=</span>&nbsp;<span class="ident" id="3742344">r</span><span class="op" id="3742345">.</span><span class="ident" id="3742346">ReadRune</span><span class="op" id="3742354">(</span><span class="op" id="3742355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742358">if</span>&nbsp;<span class="ident" id="3742361">err</span>&nbsp;<span class="op" id="3742365">!=</span>&nbsp;<span class="ident" id="3742368">nil</span>&nbsp;<span class="op" id="3742372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742376">return</span>&nbsp;<span class="ident" id="3742383">nil</span><span class="op" id="3742386">,</span>&nbsp;<span class="num" id="3742388">0</span><span class="op" id="3742389">,</span>&nbsp;<span class="ident" id="3742391">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3742396">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742399">neg</span>&nbsp;<span class="op" id="3742403">:=</span>&nbsp;<span class="builtintype" id="3742406">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742413">switch</span>&nbsp;<span class="ident" id="3742420">ch</span>&nbsp;<span class="op" id="3742423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742426">case</span>&nbsp;<span class="string" id="3742431">&#39;-&#39;</span><span class="op" id="3742434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742438">neg</span>&nbsp;<span class="op" id="3742442">=</span>&nbsp;<span class="builtintype" id="3742444">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742450">case</span>&nbsp;<span class="string" id="3742455">&#39;+&#39;</span><span class="op" id="3742458">:</span>&nbsp;<span class="comment" id="3742460">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742478">default</span><span class="op" id="3742485">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742489">r</span><span class="op" id="3742490">.</span><span class="ident" id="3742491">UnreadRune</span><span class="op" id="3742501">(</span><span class="op" id="3742502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3742505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3742509">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742532">z</span><span class="op" id="3742533">.</span><span class="ident" id="3742534">abs</span><span class="op" id="3742537">,</span>&nbsp;<span class="ident" id="3742539">base</span><span class="op" id="3742543">,</span>&nbsp;<span class="ident" id="3742545">err</span>&nbsp;<span class="op" id="3742549">=</span>&nbsp;<span class="ident" id="3742551">z</span><span class="op" id="3742552">.</span><span class="ident" id="3742553">abs</span><span class="op" id="3742556">.</span><span class="ident" id="3742557">scan</span><span class="op" id="3742561">(</span><span class="ident" id="3742562">r</span><span class="op" id="3742563">,</span>&nbsp;<span class="ident" id="3742565">base</span><span class="op" id="3742569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742572">if</span>&nbsp;<span class="ident" id="3742575">err</span>&nbsp;<span class="op" id="3742579">!=</span>&nbsp;<span class="ident" id="3742582">nil</span>&nbsp;<span class="op" id="3742586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742590">return</span>&nbsp;<span class="ident" id="3742597">nil</span><span class="op" id="3742600">,</span>&nbsp;<span class="ident" id="3742602">base</span><span class="op" id="3742606">,</span>&nbsp;<span class="ident" id="3742608">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3742613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742616">z</span><span class="op" id="3742617">.</span><span class="ident" id="3742618">neg</span>&nbsp;<span class="op" id="3742622">=</span>&nbsp;<span class="builtinfunc" id="3742624">len</span><span class="op" id="3742627">(</span><span class="ident" id="3742628">z</span><span class="op" id="3742629">.</span><span class="ident" id="3742630">abs</span><span class="op" id="3742633">)</span>&nbsp;<span class="op" id="3742635">&gt;</span>&nbsp;<span class="num" id="3742637">0</span>&nbsp;<span class="op" id="3742639">&amp;&amp;</span>&nbsp;<span class="ident" id="3742642">neg</span>&nbsp;<span class="comment" id="3742646">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3742665">return</span>&nbsp;<span class="ident" id="3742672">z</span><span class="op" id="3742673">,</span>&nbsp;<span class="ident" id="3742675">base</span><span class="op" id="3742679">,</span>&nbsp;<span class="ident" id="3742681">nil</span><br>
<span class="lineno"></span><span class="op" id="3742685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3742688">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="3742760">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="3742833">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="3742913">func</span>&nbsp;<span class="op" id="3742918">(</span><span class="ident" id="3742919">z</span>&nbsp;<span class="op" id="3742921">*</span><span class="ident" id="3742922">Int</span><span class="op" id="3742925">)</span>&nbsp;<span class="ident" id="3742927">Scan</span><span class="op" id="3742931">(</span><span class="ident" id="3742932">s</span>&nbsp;<span class="ident" id="3742934">fmt</span><span class="op" id="3742937">.</span><span class="ident" id="3742938">ScanState</span><span class="op" id="3742947">,</span>&nbsp;<span class="ident" id="3742949">ch</span>&nbsp;<span class="builtintype" id="3742952">rune</span><span class="op" id="3742956">)</span>&nbsp;<span class="builtintype" id="3742958">error</span>&nbsp;<span class="op" id="3742964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3742967">s</span><span class="op" id="3742968">.</span><span class="ident" id="3742969">SkipSpace</span><span class="op" id="3742978">(</span><span class="op" id="3742979">)</span>&nbsp;<span class="comment" id="3742981">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743015">base</span>&nbsp;<span class="op" id="3743020">:=</span>&nbsp;<span class="num" id="3743023">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743026">switch</span>&nbsp;<span class="ident" id="3743033">ch</span>&nbsp;<span class="op" id="3743036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743039">case</span>&nbsp;<span class="string" id="3743044">&#39;b&#39;</span><span class="op" id="3743047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743051">base</span>&nbsp;<span class="op" id="3743056">=</span>&nbsp;<span class="num" id="3743058">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743061">case</span>&nbsp;<span class="string" id="3743066">&#39;o&#39;</span><span class="op" id="3743069">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743073">base</span>&nbsp;<span class="op" id="3743078">=</span>&nbsp;<span class="num" id="3743080">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743083">case</span>&nbsp;<span class="string" id="3743088">&#39;d&#39;</span><span class="op" id="3743091">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743095">base</span>&nbsp;<span class="op" id="3743100">=</span>&nbsp;<span class="num" id="3743102">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743106">case</span>&nbsp;<span class="string" id="3743111">&#39;x&#39;</span><span class="op" id="3743114">,</span>&nbsp;<span class="string" id="3743116">&#39;X&#39;</span><span class="op" id="3743119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743123">base</span>&nbsp;<span class="op" id="3743128">=</span>&nbsp;<span class="num" id="3743130">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743134">case</span>&nbsp;<span class="string" id="3743139">&#39;s&#39;</span><span class="op" id="3743142">,</span>&nbsp;<span class="string" id="3743144">&#39;v&#39;</span><span class="op" id="3743147">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3743151">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743183">default</span><span class="op" id="3743190">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743194">return</span>&nbsp;<span class="ident" id="3743201">errors</span><span class="op" id="3743207">.</span><span class="ident" id="3743208">New</span><span class="op" id="3743211">(</span><span class="string" id="3743212">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="3743236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3743239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743242">_</span><span class="op" id="3743243">,</span>&nbsp;<span class="ident" id="3743245">_</span><span class="op" id="3743246">,</span>&nbsp;<span class="ident" id="3743248">err</span>&nbsp;<span class="op" id="3743252">:=</span>&nbsp;<span class="ident" id="3743255">z</span><span class="op" id="3743256">.</span><span class="ident" id="3743257">scan</span><span class="op" id="3743261">(</span><span class="ident" id="3743262">s</span><span class="op" id="3743263">,</span>&nbsp;<span class="ident" id="3743265">base</span><span class="op" id="3743269">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743272">return</span>&nbsp;<span class="ident" id="3743279">err</span><br>
<span class="lineno"></span><span class="op" id="3743283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3743286">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3743339">func</span>&nbsp;<span class="ident" id="3743344">low32</span><span class="op" id="3743349">(</span><span class="ident" id="3743350">z</span>&nbsp;<span class="ident" id="3743352">nat</span><span class="op" id="3743355">)</span>&nbsp;<span class="builtintype" id="3743357">uint32</span>&nbsp;<span class="op" id="3743364">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743367">if</span>&nbsp;<span class="builtinfunc" id="3743370">len</span><span class="op" id="3743373">(</span><span class="ident" id="3743374">z</span><span class="op" id="3743375">)</span>&nbsp;<span class="op" id="3743377">==</span>&nbsp;<span class="num" id="3743380">0</span>&nbsp;<span class="op" id="3743382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743386">return</span>&nbsp;<span class="num" id="3743393">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3743396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743399">return</span>&nbsp;<span class="builtintype" id="3743406">uint32</span><span class="op" id="3743412">(</span><span class="ident" id="3743413">z</span><span class="op" id="3743414">[</span><span class="num" id="3743415">0</span><span class="op" id="3743416">]</span><span class="op" id="3743417">)</span><br>
<span class="lineno"></span><span class="op" id="3743419">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="3743422">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3743475">func</span>&nbsp;<span class="ident" id="3743480">low64</span><span class="op" id="3743485">(</span><span class="ident" id="3743486">z</span>&nbsp;<span class="ident" id="3743488">nat</span><span class="op" id="3743491">)</span>&nbsp;<span class="ident" id="3743493">uint64</span>&nbsp;<span class="op" id="3743500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743503">if</span>&nbsp;<span class="builtinfunc" id="3743506">len</span><span class="op" id="3743509">(</span><span class="ident" id="3743510">z</span><span class="op" id="3743511">)</span>&nbsp;<span class="op" id="3743513">==</span>&nbsp;<span class="num" id="3743516">0</span>&nbsp;<span class="op" id="3743518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743522">return</span>&nbsp;<span class="num" id="3743529">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3743532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743535">v</span>&nbsp;<span class="op" id="3743537">:=</span>&nbsp;<span class="ident" id="3743540">uint64</span><span class="op" id="3743546">(</span><span class="ident" id="3743547">z</span><span class="op" id="3743548">[</span><span class="num" id="3743549">0</span><span class="op" id="3743550">]</span><span class="op" id="3743551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743554">if</span>&nbsp;<span class="ident" id="3743557">_W</span>&nbsp;<span class="op" id="3743560">==</span>&nbsp;<span class="num" id="3743563">32</span>&nbsp;<span class="op" id="3743566">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3743569">len</span><span class="op" id="3743572">(</span><span class="ident" id="3743573">z</span><span class="op" id="3743574">)</span>&nbsp;<span class="op" id="3743576">&gt;</span>&nbsp;<span class="num" id="3743578">1</span>&nbsp;<span class="op" id="3743580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743584">v</span>&nbsp;<span class="op" id="3743586">|=</span>&nbsp;<span class="ident" id="3743589">uint64</span><span class="op" id="3743595">(</span><span class="ident" id="3743596">z</span><span class="op" id="3743597">[</span><span class="num" id="3743598">1</span><span class="op" id="3743599">]</span><span class="op" id="3743600">)</span>&nbsp;<span class="op" id="3743602">&lt;&lt;</span>&nbsp;<span class="num" id="3743605">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3743609">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743612">return</span>&nbsp;<span class="ident" id="3743619">v</span><br>
<span class="lineno"></span><span class="op" id="3743621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3743624">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3743672">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="3743740">func</span>&nbsp;<span class="op" id="3743745">(</span><span class="ident" id="3743746">x</span>&nbsp;<span class="op" id="3743748">*</span><span class="ident" id="3743749">Int</span><span class="op" id="3743752">)</span>&nbsp;<span class="ident" id="3743754">Int64</span><span class="op" id="3743759">(</span><span class="op" id="3743760">)</span>&nbsp;<span class="ident" id="3743762">int64</span>&nbsp;<span class="op" id="3743768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743771">v</span>&nbsp;<span class="op" id="3743773">:=</span>&nbsp;<span class="ident" id="3743776">int64</span><span class="op" id="3743781">(</span><span class="ident" id="3743782">low64</span><span class="op" id="3743787">(</span><span class="ident" id="3743788">x</span><span class="op" id="3743789">.</span><span class="ident" id="3743790">abs</span><span class="op" id="3743793">)</span><span class="op" id="3743794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743797">if</span>&nbsp;<span class="ident" id="3743800">x</span><span class="op" id="3743801">.</span><span class="ident" id="3743802">neg</span>&nbsp;<span class="op" id="3743806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3743810">v</span>&nbsp;<span class="op" id="3743812">=</span>&nbsp;<span class="op" id="3743814">-</span><span class="ident" id="3743815">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3743818">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743821">return</span>&nbsp;<span class="ident" id="3743828">v</span><br>
<span class="lineno"></span><span class="op" id="3743830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3743833">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3743883">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="3743951">func</span>&nbsp;<span class="op" id="3743956">(</span><span class="ident" id="3743957">x</span>&nbsp;<span class="op" id="3743959">*</span><span class="ident" id="3743960">Int</span><span class="op" id="3743963">)</span>&nbsp;<span class="ident" id="3743965">Uint64</span><span class="op" id="3743971">(</span><span class="op" id="3743972">)</span>&nbsp;<span class="ident" id="3743974">uint64</span>&nbsp;<span class="op" id="3743981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3743984">return</span>&nbsp;<span class="ident" id="3743991">low64</span><span class="op" id="3743996">(</span><span class="ident" id="3743997">x</span><span class="op" id="3743998">.</span><span class="ident" id="3743999">abs</span><span class="op" id="3744002">)</span><br>
<span class="lineno"></span><span class="op" id="3744004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3744007">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="3744077">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="3744148">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="3744210">//</span><br>
<span class="lineno"></span><span class="comment" id="3744213">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="3744291">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="3744369">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3744445">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3744523">//</span><br>
<span class="lineno"></span><span class="keyword" id="3744526">func</span>&nbsp;<span class="op" id="3744531">(</span><span class="ident" id="3744532">z</span>&nbsp;<span class="op" id="3744534">*</span><span class="ident" id="3744535">Int</span><span class="op" id="3744538">)</span>&nbsp;<span class="ident" id="3744540">SetString</span><span class="op" id="3744549">(</span><span class="ident" id="3744550">s</span>&nbsp;<span class="builtintype" id="3744552">string</span><span class="op" id="3744558">,</span>&nbsp;<span class="ident" id="3744560">base</span>&nbsp;<span class="builtintype" id="3744565">int</span><span class="op" id="3744568">)</span>&nbsp;<span class="op" id="3744570">(</span><span class="op" id="3744571">*</span><span class="ident" id="3744572">Int</span><span class="op" id="3744575">,</span>&nbsp;<span class="builtintype" id="3744577">bool</span><span class="op" id="3744581">)</span>&nbsp;<span class="op" id="3744583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744586">r</span>&nbsp;<span class="op" id="3744588">:=</span>&nbsp;<span class="ident" id="3744591">strings</span><span class="op" id="3744598">.</span><span class="ident" id="3744599">NewReader</span><span class="op" id="3744608">(</span><span class="ident" id="3744609">s</span><span class="op" id="3744610">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744613">_</span><span class="op" id="3744614">,</span>&nbsp;<span class="ident" id="3744616">_</span><span class="op" id="3744617">,</span>&nbsp;<span class="ident" id="3744619">err</span>&nbsp;<span class="op" id="3744623">:=</span>&nbsp;<span class="ident" id="3744626">z</span><span class="op" id="3744627">.</span><span class="ident" id="3744628">scan</span><span class="op" id="3744632">(</span><span class="ident" id="3744633">r</span><span class="op" id="3744634">,</span>&nbsp;<span class="ident" id="3744636">base</span><span class="op" id="3744640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744643">if</span>&nbsp;<span class="ident" id="3744646">err</span>&nbsp;<span class="op" id="3744650">!=</span>&nbsp;<span class="ident" id="3744653">nil</span>&nbsp;<span class="op" id="3744657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744661">return</span>&nbsp;<span class="ident" id="3744668">nil</span><span class="op" id="3744671">,</span>&nbsp;<span class="builtintype" id="3744673">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3744680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744683">_</span><span class="op" id="3744684">,</span>&nbsp;<span class="ident" id="3744686">_</span><span class="op" id="3744687">,</span>&nbsp;<span class="ident" id="3744689">err</span>&nbsp;<span class="op" id="3744693">=</span>&nbsp;<span class="ident" id="3744695">r</span><span class="op" id="3744696">.</span><span class="ident" id="3744697">ReadRune</span><span class="op" id="3744705">(</span><span class="op" id="3744706">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744709">if</span>&nbsp;<span class="ident" id="3744712">err</span>&nbsp;<span class="op" id="3744716">!=</span>&nbsp;<span class="ident" id="3744719">io</span><span class="op" id="3744721">.</span><span class="ident" id="3744722">EOF</span>&nbsp;<span class="op" id="3744726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744730">return</span>&nbsp;<span class="ident" id="3744737">nil</span><span class="op" id="3744740">,</span>&nbsp;<span class="builtintype" id="3744742">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3744749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3744752">return</span>&nbsp;<span class="ident" id="3744759">z</span><span class="op" id="3744760">,</span>&nbsp;<span class="builtintype" id="3744762">true</span>&nbsp;<span class="comment" id="3744767">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="3744810">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="3744813">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="3744878">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3744927">func</span>&nbsp;<span class="op" id="3744932">(</span><span class="ident" id="3744933">z</span>&nbsp;<span class="op" id="3744935">*</span><span class="ident" id="3744936">Int</span><span class="op" id="3744939">)</span>&nbsp;<span class="ident" id="3744941">SetBytes</span><span class="op" id="3744949">(</span><span class="ident" id="3744950">buf</span>&nbsp;<span class="op" id="3744954">[</span><span class="op" id="3744955">]</span><span class="builtintype" id="3744956">byte</span><span class="op" id="3744960">)</span>&nbsp;<span class="op" id="3744962">*</span><span class="ident" id="3744963">Int</span>&nbsp;<span class="op" id="3744967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744970">z</span><span class="op" id="3744971">.</span><span class="ident" id="3744972">abs</span>&nbsp;<span class="op" id="3744976">=</span>&nbsp;<span class="ident" id="3744978">z</span><span class="op" id="3744979">.</span><span class="ident" id="3744980">abs</span><span class="op" id="3744983">.</span><span class="ident" id="3744984">setBytes</span><span class="op" id="3744992">(</span><span class="ident" id="3744993">buf</span><span class="op" id="3744996">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3744999">z</span><span class="op" id="3745000">.</span><span class="ident" id="3745001">neg</span>&nbsp;<span class="op" id="3745005">=</span>&nbsp;<span class="builtintype" id="3745007">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745014">return</span>&nbsp;<span class="ident" id="3745021">z</span><br>
<span class="lineno"></span><span class="op" id="3745023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3745026">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="3745095">func</span>&nbsp;<span class="op" id="3745100">(</span><span class="ident" id="3745101">x</span>&nbsp;<span class="op" id="3745103">*</span><span class="ident" id="3745104">Int</span><span class="op" id="3745107">)</span>&nbsp;<span class="ident" id="3745109">Bytes</span><span class="op" id="3745114">(</span><span class="op" id="3745115">)</span>&nbsp;<span class="op" id="3745117">[</span><span class="op" id="3745118">]</span><span class="builtintype" id="3745119">byte</span>&nbsp;<span class="op" id="3745124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745127">buf</span>&nbsp;<span class="op" id="3745131">:=</span>&nbsp;<span class="builtinfunc" id="3745134">make</span><span class="op" id="3745138">(</span><span class="op" id="3745139">[</span><span class="op" id="3745140">]</span><span class="builtintype" id="3745141">byte</span><span class="op" id="3745145">,</span>&nbsp;<span class="builtinfunc" id="3745147">len</span><span class="op" id="3745150">(</span><span class="ident" id="3745151">x</span><span class="op" id="3745152">.</span><span class="ident" id="3745153">abs</span><span class="op" id="3745156">)</span><span class="op" id="3745157">*</span><span class="ident" id="3745158">_S</span><span class="op" id="3745160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745163">return</span>&nbsp;<span class="ident" id="3745170">buf</span><span class="op" id="3745173">[</span><span class="ident" id="3745174">x</span><span class="op" id="3745175">.</span><span class="ident" id="3745176">abs</span><span class="op" id="3745179">.</span><span class="ident" id="3745180">bytes</span><span class="op" id="3745185">(</span><span class="ident" id="3745186">buf</span><span class="op" id="3745189">)</span><span class="op" id="3745190">:</span><span class="op" id="3745191">]</span><br>
<span class="lineno"></span><span class="op" id="3745193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="3745196">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="3745261">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3745290">func</span>&nbsp;<span class="op" id="3745295">(</span><span class="ident" id="3745296">x</span>&nbsp;<span class="op" id="3745298">*</span><span class="ident" id="3745299">Int</span><span class="op" id="3745302">)</span>&nbsp;<span class="ident" id="3745304">BitLen</span><span class="op" id="3745310">(</span><span class="op" id="3745311">)</span>&nbsp;<span class="builtintype" id="3745313">int</span>&nbsp;<span class="op" id="3745317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745320">return</span>&nbsp;<span class="ident" id="3745327">x</span><span class="op" id="3745328">.</span><span class="ident" id="3745329">abs</span><span class="op" id="3745332">.</span><span class="ident" id="3745333">bitLen</span><span class="op" id="3745339">(</span><span class="op" id="3745340">)</span><br>
<span class="lineno"></span><span class="op" id="3745342">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="3745345">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3745422">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="3745494">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="3745533">func</span>&nbsp;<span class="op" id="3745538">(</span><span class="ident" id="3745539">z</span>&nbsp;<span class="op" id="3745541">*</span><span class="ident" id="3745542">Int</span><span class="op" id="3745545">)</span>&nbsp;<span class="ident" id="3745547">Exp</span><span class="op" id="3745550">(</span><span class="ident" id="3745551">x</span><span class="op" id="3745552">,</span>&nbsp;<span class="ident" id="3745554">y</span><span class="op" id="3745555">,</span>&nbsp;<span class="ident" id="3745557">m</span>&nbsp;<span class="op" id="3745559">*</span><span class="ident" id="3745560">Int</span><span class="op" id="3745563">)</span>&nbsp;<span class="op" id="3745565">*</span><span class="ident" id="3745566">Int</span>&nbsp;<span class="op" id="3745570">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745573">var</span>&nbsp;<span class="ident" id="3745577">yWords</span>&nbsp;<span class="ident" id="3745584">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745589">if</span>&nbsp;<span class="op" id="3745592">!</span><span class="ident" id="3745593">y</span><span class="op" id="3745594">.</span><span class="ident" id="3745595">neg</span>&nbsp;<span class="op" id="3745599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745603">yWords</span>&nbsp;<span class="op" id="3745610">=</span>&nbsp;<span class="ident" id="3745612">y</span><span class="op" id="3745613">.</span><span class="ident" id="3745614">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3745619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3745622">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745634">var</span>&nbsp;<span class="ident" id="3745638">mWords</span>&nbsp;<span class="ident" id="3745645">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745650">if</span>&nbsp;<span class="ident" id="3745653">m</span>&nbsp;<span class="op" id="3745655">!=</span>&nbsp;<span class="ident" id="3745658">nil</span>&nbsp;<span class="op" id="3745662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745666">mWords</span>&nbsp;<span class="op" id="3745673">=</span>&nbsp;<span class="ident" id="3745675">m</span><span class="op" id="3745676">.</span><span class="ident" id="3745677">abs</span>&nbsp;<span class="comment" id="3745681">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3745713">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745717">z</span><span class="op" id="3745718">.</span><span class="ident" id="3745719">abs</span>&nbsp;<span class="op" id="3745723">=</span>&nbsp;<span class="ident" id="3745725">z</span><span class="op" id="3745726">.</span><span class="ident" id="3745727">abs</span><span class="op" id="3745730">.</span><span class="ident" id="3745731">expNN</span><span class="op" id="3745736">(</span><span class="ident" id="3745737">x</span><span class="op" id="3745738">.</span><span class="ident" id="3745739">abs</span><span class="op" id="3745742">,</span>&nbsp;<span class="ident" id="3745744">yWords</span><span class="op" id="3745750">,</span>&nbsp;<span class="ident" id="3745752">mWords</span><span class="op" id="3745758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745761">z</span><span class="op" id="3745762">.</span><span class="ident" id="3745763">neg</span>&nbsp;<span class="op" id="3745767">=</span>&nbsp;<span class="builtinfunc" id="3745769">len</span><span class="op" id="3745772">(</span><span class="ident" id="3745773">z</span><span class="op" id="3745774">.</span><span class="ident" id="3745775">abs</span><span class="op" id="3745778">)</span>&nbsp;<span class="op" id="3745780">&gt;</span>&nbsp;<span class="num" id="3745782">0</span>&nbsp;<span class="op" id="3745784">&amp;&amp;</span>&nbsp;<span class="ident" id="3745787">x</span><span class="op" id="3745788">.</span><span class="ident" id="3745789">neg</span>&nbsp;<span class="op" id="3745793">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3745796">len</span><span class="op" id="3745799">(</span><span class="ident" id="3745800">yWords</span><span class="op" id="3745806">)</span>&nbsp;<span class="op" id="3745808">&gt;</span>&nbsp;<span class="num" id="3745810">0</span>&nbsp;<span class="op" id="3745812">&amp;&amp;</span>&nbsp;<span class="ident" id="3745815">yWords</span><span class="op" id="3745821">[</span><span class="num" id="3745822">0</span><span class="op" id="3745823">]</span><span class="op" id="3745824">&amp;</span><span class="num" id="3745825">1</span>&nbsp;<span class="op" id="3745827">==</span>&nbsp;<span class="num" id="3745830">1</span>&nbsp;<span class="comment" id="3745832">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3745850">if</span>&nbsp;<span class="ident" id="3745853">z</span><span class="op" id="3745854">.</span><span class="ident" id="3745855">neg</span>&nbsp;<span class="op" id="3745859">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3745862">len</span><span class="op" id="3745865">(</span><span class="ident" id="3745866">mWords</span><span class="op" id="3745872">)</span>&nbsp;<span class="op" id="3745874">&gt;</span>&nbsp;<span class="num" id="3745876">0</span>&nbsp;<span class="op" id="3745878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3745882">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745916">z</span><span class="op" id="3745917">.</span><span class="ident" id="3745918">abs</span>&nbsp;<span class="op" id="3745922">=</span>&nbsp;<span class="ident" id="3745924">z</span><span class="op" id="3745925">.</span><span class="ident" id="3745926">abs</span><span class="op" id="3745929">.</span><span class="ident" id="3745930">sub</span><span class="op" id="3745933">(</span><span class="ident" id="3745934">mWords</span><span class="op" id="3745940">,</span>&nbsp;<span class="ident" id="3745942">z</span><span class="op" id="3745943">.</span><span class="ident" id="3745944">abs</span><span class="op" id="3745947">)</span>&nbsp;<span class="comment" id="3745949">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3745988">z</span><span class="op" id="3745989">.</span><span class="ident" id="3745990">neg</span>&nbsp;<span class="op" id="3745994">=</span>&nbsp;<span class="builtintype" id="3745996">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746007">return</span>&nbsp;<span class="ident" id="3746014">z</span><br>
<span class="lineno">615</span><span class="op" id="3746016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3746019">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="3746092">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3746118">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="3746187">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3746240">func</span>&nbsp;<span class="op" id="3746245">(</span><span class="ident" id="3746246">z</span>&nbsp;<span class="op" id="3746248">*</span><span class="ident" id="3746249">Int</span><span class="op" id="3746252">)</span>&nbsp;<span class="ident" id="3746254">GCD</span><span class="op" id="3746257">(</span><span class="ident" id="3746258">x</span><span class="op" id="3746259">,</span>&nbsp;<span class="ident" id="3746261">y</span><span class="op" id="3746262">,</span>&nbsp;<span class="ident" id="3746264">a</span><span class="op" id="3746265">,</span>&nbsp;<span class="ident" id="3746267">b</span>&nbsp;<span class="op" id="3746269">*</span><span class="ident" id="3746270">Int</span><span class="op" id="3746273">)</span>&nbsp;<span class="op" id="3746275">*</span><span class="ident" id="3746276">Int</span>&nbsp;<span class="op" id="3746280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746283">if</span>&nbsp;<span class="ident" id="3746286">a</span><span class="op" id="3746287">.</span><span class="ident" id="3746288">Sign</span><span class="op" id="3746292">(</span><span class="op" id="3746293">)</span>&nbsp;<span class="op" id="3746295">&lt;=</span>&nbsp;<span class="num" id="3746298">0</span>&nbsp;<span class="op" id="3746300">||</span>&nbsp;<span class="ident" id="3746303">b</span><span class="op" id="3746304">.</span><span class="ident" id="3746305">Sign</span><span class="op" id="3746309">(</span><span class="op" id="3746310">)</span>&nbsp;<span class="op" id="3746312">&lt;=</span>&nbsp;<span class="num" id="3746315">0</span>&nbsp;<span class="op" id="3746317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746321">z</span><span class="op" id="3746322">.</span><span class="ident" id="3746323">SetInt64</span><span class="op" id="3746331">(</span><span class="num" id="3746332">0</span><span class="op" id="3746333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746337">if</span>&nbsp;<span class="ident" id="3746340">x</span>&nbsp;<span class="op" id="3746342">!=</span>&nbsp;<span class="ident" id="3746345">nil</span>&nbsp;<span class="op" id="3746349">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746354">x</span><span class="op" id="3746355">.</span><span class="ident" id="3746356">SetInt64</span><span class="op" id="3746364">(</span><span class="num" id="3746365">0</span><span class="op" id="3746366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746374">if</span>&nbsp;<span class="ident" id="3746377">y</span>&nbsp;<span class="op" id="3746379">!=</span>&nbsp;<span class="ident" id="3746382">nil</span>&nbsp;<span class="op" id="3746386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746391">y</span><span class="op" id="3746392">.</span><span class="ident" id="3746393">SetInt64</span><span class="op" id="3746401">(</span><span class="num" id="3746402">0</span><span class="op" id="3746403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746407">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746411">return</span>&nbsp;<span class="ident" id="3746418">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746424">if</span>&nbsp;<span class="ident" id="3746427">x</span>&nbsp;<span class="op" id="3746429">==</span>&nbsp;<span class="ident" id="3746432">nil</span>&nbsp;<span class="op" id="3746436">&amp;&amp;</span>&nbsp;<span class="ident" id="3746439">y</span>&nbsp;<span class="op" id="3746441">==</span>&nbsp;<span class="ident" id="3746444">nil</span>&nbsp;<span class="op" id="3746448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746452">return</span>&nbsp;<span class="ident" id="3746459">z</span><span class="op" id="3746460">.</span><span class="ident" id="3746461">binaryGCD</span><span class="op" id="3746470">(</span><span class="ident" id="3746471">a</span><span class="op" id="3746472">,</span>&nbsp;<span class="ident" id="3746474">b</span><span class="op" id="3746475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746478">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746482">A</span>&nbsp;<span class="op" id="3746484">:=</span>&nbsp;<span class="builtinfunc" id="3746487">new</span><span class="op" id="3746490">(</span><span class="ident" id="3746491">Int</span><span class="op" id="3746494">)</span><span class="op" id="3746495">.</span><span class="ident" id="3746496">Set</span><span class="op" id="3746499">(</span><span class="ident" id="3746500">a</span><span class="op" id="3746501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746504">B</span>&nbsp;<span class="op" id="3746506">:=</span>&nbsp;<span class="builtinfunc" id="3746509">new</span><span class="op" id="3746512">(</span><span class="ident" id="3746513">Int</span><span class="op" id="3746516">)</span><span class="op" id="3746517">.</span><span class="ident" id="3746518">Set</span><span class="op" id="3746521">(</span><span class="ident" id="3746522">b</span><span class="op" id="3746523">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746527">X</span>&nbsp;<span class="op" id="3746529">:=</span>&nbsp;<span class="builtinfunc" id="3746532">new</span><span class="op" id="3746535">(</span><span class="ident" id="3746536">Int</span><span class="op" id="3746539">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746542">Y</span>&nbsp;<span class="op" id="3746544">:=</span>&nbsp;<span class="builtinfunc" id="3746547">new</span><span class="op" id="3746550">(</span><span class="ident" id="3746551">Int</span><span class="op" id="3746554">)</span><span class="op" id="3746555">.</span><span class="ident" id="3746556">SetInt64</span><span class="op" id="3746564">(</span><span class="num" id="3746565">1</span><span class="op" id="3746566">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746570">lastX</span>&nbsp;<span class="op" id="3746576">:=</span>&nbsp;<span class="builtinfunc" id="3746579">new</span><span class="op" id="3746582">(</span><span class="ident" id="3746583">Int</span><span class="op" id="3746586">)</span><span class="op" id="3746587">.</span><span class="ident" id="3746588">SetInt64</span><span class="op" id="3746596">(</span><span class="num" id="3746597">1</span><span class="op" id="3746598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746601">lastY</span>&nbsp;<span class="op" id="3746607">:=</span>&nbsp;<span class="builtinfunc" id="3746610">new</span><span class="op" id="3746613">(</span><span class="ident" id="3746614">Int</span><span class="op" id="3746617">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746621">q</span>&nbsp;<span class="op" id="3746623">:=</span>&nbsp;<span class="builtinfunc" id="3746626">new</span><span class="op" id="3746629">(</span><span class="ident" id="3746630">Int</span><span class="op" id="3746633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746636">temp</span>&nbsp;<span class="op" id="3746641">:=</span>&nbsp;<span class="builtinfunc" id="3746644">new</span><span class="op" id="3746647">(</span><span class="ident" id="3746648">Int</span><span class="op" id="3746651">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746655">for</span>&nbsp;<span class="builtinfunc" id="3746659">len</span><span class="op" id="3746662">(</span><span class="ident" id="3746663">B</span><span class="op" id="3746664">.</span><span class="ident" id="3746665">abs</span><span class="op" id="3746668">)</span>&nbsp;<span class="op" id="3746670">&gt;</span>&nbsp;<span class="num" id="3746672">0</span>&nbsp;<span class="op" id="3746674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746678">r</span>&nbsp;<span class="op" id="3746680">:=</span>&nbsp;<span class="builtinfunc" id="3746683">new</span><span class="op" id="3746686">(</span><span class="ident" id="3746687">Int</span><span class="op" id="3746690">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746694">q</span><span class="op" id="3746695">,</span>&nbsp;<span class="ident" id="3746697">r</span>&nbsp;<span class="op" id="3746699">=</span>&nbsp;<span class="ident" id="3746701">q</span><span class="op" id="3746702">.</span><span class="ident" id="3746703">QuoRem</span><span class="op" id="3746709">(</span><span class="ident" id="3746710">A</span><span class="op" id="3746711">,</span>&nbsp;<span class="ident" id="3746713">B</span><span class="op" id="3746714">,</span>&nbsp;<span class="ident" id="3746716">r</span><span class="op" id="3746717">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746722">A</span><span class="op" id="3746723">,</span>&nbsp;<span class="ident" id="3746725">B</span>&nbsp;<span class="op" id="3746727">=</span>&nbsp;<span class="ident" id="3746729">B</span><span class="op" id="3746730">,</span>&nbsp;<span class="ident" id="3746732">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746737">temp</span><span class="op" id="3746741">.</span><span class="ident" id="3746742">Set</span><span class="op" id="3746745">(</span><span class="ident" id="3746746">X</span><span class="op" id="3746747">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746751">X</span><span class="op" id="3746752">.</span><span class="ident" id="3746753">Mul</span><span class="op" id="3746756">(</span><span class="ident" id="3746757">X</span><span class="op" id="3746758">,</span>&nbsp;<span class="ident" id="3746760">q</span><span class="op" id="3746761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746765">X</span><span class="op" id="3746766">.</span><span class="ident" id="3746767">neg</span>&nbsp;<span class="op" id="3746771">=</span>&nbsp;<span class="op" id="3746773">!</span><span class="ident" id="3746774">X</span><span class="op" id="3746775">.</span><span class="ident" id="3746776">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746782">X</span><span class="op" id="3746783">.</span><span class="ident" id="3746784">Add</span><span class="op" id="3746787">(</span><span class="ident" id="3746788">X</span><span class="op" id="3746789">,</span>&nbsp;<span class="ident" id="3746791">lastX</span><span class="op" id="3746796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746800">lastX</span><span class="op" id="3746805">.</span><span class="ident" id="3746806">Set</span><span class="op" id="3746809">(</span><span class="ident" id="3746810">temp</span><span class="op" id="3746814">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746819">temp</span><span class="op" id="3746823">.</span><span class="ident" id="3746824">Set</span><span class="op" id="3746827">(</span><span class="ident" id="3746828">Y</span><span class="op" id="3746829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746833">Y</span><span class="op" id="3746834">.</span><span class="ident" id="3746835">Mul</span><span class="op" id="3746838">(</span><span class="ident" id="3746839">Y</span><span class="op" id="3746840">,</span>&nbsp;<span class="ident" id="3746842">q</span><span class="op" id="3746843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746847">Y</span><span class="op" id="3746848">.</span><span class="ident" id="3746849">neg</span>&nbsp;<span class="op" id="3746853">=</span>&nbsp;<span class="op" id="3746855">!</span><span class="ident" id="3746856">Y</span><span class="op" id="3746857">.</span><span class="ident" id="3746858">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746864">Y</span><span class="op" id="3746865">.</span><span class="ident" id="3746866">Add</span><span class="op" id="3746869">(</span><span class="ident" id="3746870">Y</span><span class="op" id="3746871">,</span>&nbsp;<span class="ident" id="3746873">lastY</span><span class="op" id="3746878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3746882">lastY</span><span class="op" id="3746887">.</span><span class="ident" id="3746888">Set</span><span class="op" id="3746891">(</span><span class="ident" id="3746892">temp</span><span class="op" id="3746896">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746903">if</span>&nbsp;<span class="ident" id="3746906">x</span>&nbsp;<span class="op" id="3746908">!=</span>&nbsp;<span class="ident" id="3746911">nil</span>&nbsp;<span class="op" id="3746915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746919">*</span><span class="ident" id="3746920">x</span>&nbsp;<span class="op" id="3746922">=</span>&nbsp;<span class="op" id="3746924">*</span><span class="ident" id="3746925">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746932">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746936">if</span>&nbsp;<span class="ident" id="3746939">y</span>&nbsp;<span class="op" id="3746941">!=</span>&nbsp;<span class="ident" id="3746944">nil</span>&nbsp;<span class="op" id="3746948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746952">*</span><span class="ident" id="3746953">y</span>&nbsp;<span class="op" id="3746955">=</span>&nbsp;<span class="op" id="3746957">*</span><span class="ident" id="3746958">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3746969">*</span><span class="ident" id="3746970">z</span>&nbsp;<span class="op" id="3746972">=</span>&nbsp;<span class="op" id="3746974">*</span><span class="ident" id="3746975">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3746978">return</span>&nbsp;<span class="ident" id="3746985">z</span><br>
<span class="lineno"></span><span class="op" id="3746987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3746990">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="3747069">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3747095">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="3747178">func</span>&nbsp;<span class="op" id="3747183">(</span><span class="ident" id="3747184">z</span>&nbsp;<span class="op" id="3747186">*</span><span class="ident" id="3747187">Int</span><span class="op" id="3747190">)</span>&nbsp;<span class="ident" id="3747192">binaryGCD</span><span class="op" id="3747201">(</span><span class="ident" id="3747202">a</span><span class="op" id="3747203">,</span>&nbsp;<span class="ident" id="3747205">b</span>&nbsp;<span class="op" id="3747207">*</span><span class="ident" id="3747208">Int</span><span class="op" id="3747211">)</span>&nbsp;<span class="op" id="3747213">*</span><span class="ident" id="3747214">Int</span>&nbsp;<span class="op" id="3747218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747221">u</span>&nbsp;<span class="op" id="3747223">:=</span>&nbsp;<span class="ident" id="3747226">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747229">v</span>&nbsp;<span class="op" id="3747231">:=</span>&nbsp;<span class="builtinfunc" id="3747234">new</span><span class="op" id="3747237">(</span><span class="ident" id="3747238">Int</span><span class="op" id="3747241">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3747245">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747326">switch</span>&nbsp;<span class="op" id="3747333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747336">case</span>&nbsp;<span class="builtinfunc" id="3747341">len</span><span class="op" id="3747344">(</span><span class="ident" id="3747345">a</span><span class="op" id="3747346">.</span><span class="ident" id="3747347">abs</span><span class="op" id="3747350">)</span>&nbsp;<span class="op" id="3747352">&gt;</span>&nbsp;<span class="builtinfunc" id="3747354">len</span><span class="op" id="3747357">(</span><span class="ident" id="3747358">b</span><span class="op" id="3747359">.</span><span class="ident" id="3747360">abs</span><span class="op" id="3747363">)</span><span class="op" id="3747364">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747368">u</span><span class="op" id="3747369">.</span><span class="ident" id="3747370">Set</span><span class="op" id="3747373">(</span><span class="ident" id="3747374">b</span><span class="op" id="3747375">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747379">v</span><span class="op" id="3747380">.</span><span class="ident" id="3747381">Rem</span><span class="op" id="3747384">(</span><span class="ident" id="3747385">a</span><span class="op" id="3747386">,</span>&nbsp;<span class="ident" id="3747388">b</span><span class="op" id="3747389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747392">case</span>&nbsp;<span class="builtinfunc" id="3747397">len</span><span class="op" id="3747400">(</span><span class="ident" id="3747401">a</span><span class="op" id="3747402">.</span><span class="ident" id="3747403">abs</span><span class="op" id="3747406">)</span>&nbsp;<span class="op" id="3747408">&lt;</span>&nbsp;<span class="builtinfunc" id="3747410">len</span><span class="op" id="3747413">(</span><span class="ident" id="3747414">b</span><span class="op" id="3747415">.</span><span class="ident" id="3747416">abs</span><span class="op" id="3747419">)</span><span class="op" id="3747420">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747424">u</span><span class="op" id="3747425">.</span><span class="ident" id="3747426">Set</span><span class="op" id="3747429">(</span><span class="ident" id="3747430">a</span><span class="op" id="3747431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747435">v</span><span class="op" id="3747436">.</span><span class="ident" id="3747437">Rem</span><span class="op" id="3747440">(</span><span class="ident" id="3747441">b</span><span class="op" id="3747442">,</span>&nbsp;<span class="ident" id="3747444">a</span><span class="op" id="3747445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747448">default</span><span class="op" id="3747455">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747459">u</span><span class="op" id="3747460">.</span><span class="ident" id="3747461">Set</span><span class="op" id="3747464">(</span><span class="ident" id="3747465">a</span><span class="op" id="3747466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747470">v</span><span class="op" id="3747471">.</span><span class="ident" id="3747472">Set</span><span class="op" id="3747475">(</span><span class="ident" id="3747476">b</span><span class="op" id="3747477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3747480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3747484">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747505">if</span>&nbsp;<span class="builtinfunc" id="3747508">len</span><span class="op" id="3747511">(</span><span class="ident" id="3747512">v</span><span class="op" id="3747513">.</span><span class="ident" id="3747514">abs</span><span class="op" id="3747517">)</span>&nbsp;<span class="op" id="3747519">==</span>&nbsp;<span class="num" id="3747522">0</span>&nbsp;<span class="op" id="3747524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747528">return</span>&nbsp;<span class="ident" id="3747535">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3747538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3747541">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3747561">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747620">k</span>&nbsp;<span class="op" id="3747622">:=</span>&nbsp;<span class="ident" id="3747625">u</span><span class="op" id="3747626">.</span><span class="ident" id="3747627">abs</span><span class="op" id="3747630">.</span><span class="ident" id="3747631">trailingZeroBits</span><span class="op" id="3747647">(</span><span class="op" id="3747648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747651">if</span>&nbsp;<span class="ident" id="3747654">vk</span>&nbsp;<span class="op" id="3747657">:=</span>&nbsp;<span class="ident" id="3747660">v</span><span class="op" id="3747661">.</span><span class="ident" id="3747662">abs</span><span class="op" id="3747665">.</span><span class="ident" id="3747666">trailingZeroBits</span><span class="op" id="3747682">(</span><span class="op" id="3747683">)</span><span class="op" id="3747684">;</span>&nbsp;<span class="ident" id="3747686">vk</span>&nbsp;<span class="op" id="3747689">&lt;</span>&nbsp;<span class="ident" id="3747691">k</span>&nbsp;<span class="op" id="3747693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747697">k</span>&nbsp;<span class="op" id="3747699">=</span>&nbsp;<span class="ident" id="3747701">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3747705">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747708">u</span><span class="op" id="3747709">.</span><span class="ident" id="3747710">Rsh</span><span class="op" id="3747713">(</span><span class="ident" id="3747714">u</span><span class="op" id="3747715">,</span>&nbsp;<span class="ident" id="3747717">k</span><span class="op" id="3747718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747721">v</span><span class="op" id="3747722">.</span><span class="ident" id="3747723">Rsh</span><span class="op" id="3747726">(</span><span class="ident" id="3747727">v</span><span class="op" id="3747728">,</span>&nbsp;<span class="ident" id="3747730">k</span><span class="op" id="3747731">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3747735">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747772">t</span>&nbsp;<span class="op" id="3747774">:=</span>&nbsp;<span class="builtinfunc" id="3747777">new</span><span class="op" id="3747780">(</span><span class="ident" id="3747781">Int</span><span class="op" id="3747784">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747787">if</span>&nbsp;<span class="ident" id="3747790">u</span><span class="op" id="3747791">.</span><span class="ident" id="3747792">abs</span><span class="op" id="3747795">[</span><span class="num" id="3747796">0</span><span class="op" id="3747797">]</span><span class="op" id="3747798">&amp;</span><span class="num" id="3747799">1</span>&nbsp;<span class="op" id="3747801">!=</span>&nbsp;<span class="num" id="3747804">0</span>&nbsp;<span class="op" id="3747806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3747810">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747824">t</span><span class="op" id="3747825">.</span><span class="ident" id="3747826">Neg</span><span class="op" id="3747829">(</span><span class="ident" id="3747830">v</span><span class="op" id="3747831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3747834">}</span>&nbsp;<span class="keyword" id="3747836">else</span>&nbsp;<span class="op" id="3747841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747845">t</span><span class="op" id="3747846">.</span><span class="ident" id="3747847">Set</span><span class="op" id="3747850">(</span><span class="ident" id="3747851">u</span><span class="op" id="3747852">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3747855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747859">for</span>&nbsp;<span class="builtinfunc" id="3747863">len</span><span class="op" id="3747866">(</span><span class="ident" id="3747867">t</span><span class="op" id="3747868">.</span><span class="ident" id="3747869">abs</span><span class="op" id="3747872">)</span>&nbsp;<span class="op" id="3747874">&gt;</span>&nbsp;<span class="num" id="3747876">0</span>&nbsp;<span class="op" id="3747878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3747882">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747896">t</span><span class="op" id="3747897">.</span><span class="ident" id="3747898">Rsh</span><span class="op" id="3747901">(</span><span class="ident" id="3747902">t</span><span class="op" id="3747903">,</span>&nbsp;<span class="ident" id="3747905">t</span><span class="op" id="3747906">.</span><span class="ident" id="3747907">abs</span><span class="op" id="3747910">.</span><span class="ident" id="3747911">trailingZeroBits</span><span class="op" id="3747927">(</span><span class="op" id="3747928">)</span><span class="op" id="3747929">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3747933">if</span>&nbsp;<span class="ident" id="3747936">t</span><span class="op" id="3747937">.</span><span class="ident" id="3747938">neg</span>&nbsp;<span class="op" id="3747942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747947">v</span><span class="op" id="3747948">,</span>&nbsp;<span class="ident" id="3747950">t</span>&nbsp;<span class="op" id="3747952">=</span>&nbsp;<span class="ident" id="3747954">t</span><span class="op" id="3747955">,</span>&nbsp;<span class="ident" id="3747957">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3747962">v</span><span class="op" id="3747963">.</span><span class="ident" id="3747964">neg</span>&nbsp;<span class="op" id="3747968">=</span>&nbsp;<span class="builtinfunc" id="3747970">len</span><span class="op" id="3747973">(</span><span class="ident" id="3747974">v</span><span class="op" id="3747975">.</span><span class="ident" id="3747976">abs</span><span class="op" id="3747979">)</span>&nbsp;<span class="op" id="3747981">&gt;</span>&nbsp;<span class="num" id="3747983">0</span>&nbsp;<span class="op" id="3747985">&amp;&amp;</span>&nbsp;<span class="op" id="3747988">!</span><span class="ident" id="3747989">v</span><span class="op" id="3747990">.</span><span class="ident" id="3747991">neg</span>&nbsp;<span class="comment" id="3747995">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3748014">}</span>&nbsp;<span class="keyword" id="3748016">else</span>&nbsp;<span class="op" id="3748021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748026">u</span><span class="op" id="3748027">,</span>&nbsp;<span class="ident" id="3748029">t</span>&nbsp;<span class="op" id="3748031">=</span>&nbsp;<span class="ident" id="3748033">t</span><span class="op" id="3748034">,</span>&nbsp;<span class="ident" id="3748036">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3748040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748044">t</span><span class="op" id="3748045">.</span><span class="ident" id="3748046">Sub</span><span class="op" id="3748049">(</span><span class="ident" id="3748050">u</span><span class="op" id="3748051">,</span>&nbsp;<span class="ident" id="3748053">v</span><span class="op" id="3748054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3748057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748061">return</span>&nbsp;<span class="ident" id="3748068">z</span><span class="op" id="3748069">.</span><span class="ident" id="3748070">Lsh</span><span class="op" id="3748073">(</span><span class="ident" id="3748074">u</span><span class="op" id="3748075">,</span>&nbsp;<span class="ident" id="3748077">k</span><span class="op" id="3748078">)</span><br>
<span class="lineno">735</span><span class="op" id="3748080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3748083">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="3748159">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="3748221">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="3748261">func</span>&nbsp;<span class="op" id="3748266">(</span><span class="ident" id="3748267">x</span>&nbsp;<span class="op" id="3748269">*</span><span class="ident" id="3748270">Int</span><span class="op" id="3748273">)</span>&nbsp;<span class="ident" id="3748275">ProbablyPrime</span><span class="op" id="3748288">(</span><span class="ident" id="3748289">n</span>&nbsp;<span class="builtintype" id="3748291">int</span><span class="op" id="3748294">)</span>&nbsp;<span class="builtintype" id="3748296">bool</span>&nbsp;<span class="op" id="3748301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748304">return</span>&nbsp;<span class="op" id="3748311">!</span><span class="ident" id="3748312">x</span><span class="op" id="3748313">.</span><span class="ident" id="3748314">neg</span>&nbsp;<span class="op" id="3748318">&amp;&amp;</span>&nbsp;<span class="ident" id="3748321">x</span><span class="op" id="3748322">.</span><span class="ident" id="3748323">abs</span><span class="op" id="3748326">.</span><span class="ident" id="3748327">probablyPrime</span><span class="op" id="3748340">(</span><span class="ident" id="3748341">n</span><span class="op" id="3748342">)</span><br>
<span class="lineno"></span><span class="op" id="3748344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3748347">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="3748413">func</span>&nbsp;<span class="op" id="3748418">(</span><span class="ident" id="3748419">z</span>&nbsp;<span class="op" id="3748421">*</span><span class="ident" id="3748422">Int</span><span class="op" id="3748425">)</span>&nbsp;<span class="ident" id="3748427">Rand</span><span class="op" id="3748431">(</span><span class="ident" id="3748432">rnd</span>&nbsp;<span class="op" id="3748436">*</span><span class="ident" id="3748437">rand</span><span class="op" id="3748441">.</span><span class="ident" id="3748442">Rand</span><span class="op" id="3748446">,</span>&nbsp;<span class="ident" id="3748448">n</span>&nbsp;<span class="op" id="3748450">*</span><span class="ident" id="3748451">Int</span><span class="op" id="3748454">)</span>&nbsp;<span class="op" id="3748456">*</span><span class="ident" id="3748457">Int</span>&nbsp;<span class="op" id="3748461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748464">z</span><span class="op" id="3748465">.</span><span class="ident" id="3748466">neg</span>&nbsp;<span class="op" id="3748470">=</span>&nbsp;<span class="builtintype" id="3748472">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748479">if</span>&nbsp;<span class="ident" id="3748482">n</span><span class="op" id="3748483">.</span><span class="ident" id="3748484">neg</span>&nbsp;<span class="op" id="3748488">==</span>&nbsp;<span class="builtintype" id="3748491">true</span>&nbsp;<span class="op" id="3748496">||</span>&nbsp;<span class="builtinfunc" id="3748499">len</span><span class="op" id="3748502">(</span><span class="ident" id="3748503">n</span><span class="op" id="3748504">.</span><span class="ident" id="3748505">abs</span><span class="op" id="3748508">)</span>&nbsp;<span class="op" id="3748510">==</span>&nbsp;<span class="num" id="3748513">0</span>&nbsp;<span class="op" id="3748515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748519">z</span><span class="op" id="3748520">.</span><span class="ident" id="3748521">abs</span>&nbsp;<span class="op" id="3748525">=</span>&nbsp;<span class="ident" id="3748527">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748533">return</span>&nbsp;<span class="ident" id="3748540">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3748543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748546">z</span><span class="op" id="3748547">.</span><span class="ident" id="3748548">abs</span>&nbsp;<span class="op" id="3748552">=</span>&nbsp;<span class="ident" id="3748554">z</span><span class="op" id="3748555">.</span><span class="ident" id="3748556">abs</span><span class="op" id="3748559">.</span><span class="ident" id="3748560">random</span><span class="op" id="3748566">(</span><span class="ident" id="3748567">rnd</span><span class="op" id="3748570">,</span>&nbsp;<span class="ident" id="3748572">n</span><span class="op" id="3748573">.</span><span class="ident" id="3748574">abs</span><span class="op" id="3748577">,</span>&nbsp;<span class="ident" id="3748579">n</span><span class="op" id="3748580">.</span><span class="ident" id="3748581">abs</span><span class="op" id="3748584">.</span><span class="ident" id="3748585">bitLen</span><span class="op" id="3748591">(</span><span class="op" id="3748592">)</span><span class="op" id="3748593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748596">return</span>&nbsp;<span class="ident" id="3748603">z</span><br>
<span class="lineno"></span><span class="op" id="3748605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="3748608">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;ℤ/nℤ</span><br>
<span class="lineno"></span><span class="comment" id="3748685">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="3748765">func</span>&nbsp;<span class="op" id="3748770">(</span><span class="ident" id="3748771">z</span>&nbsp;<span class="op" id="3748773">*</span><span class="ident" id="3748774">Int</span><span class="op" id="3748777">)</span>&nbsp;<span class="ident" id="3748779">ModInverse</span><span class="op" id="3748789">(</span><span class="ident" id="3748790">g</span><span class="op" id="3748791">,</span>&nbsp;<span class="ident" id="3748793">n</span>&nbsp;<span class="op" id="3748795">*</span><span class="ident" id="3748796">Int</span><span class="op" id="3748799">)</span>&nbsp;<span class="op" id="3748801">*</span><span class="ident" id="3748802">Int</span>&nbsp;<span class="op" id="3748806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3748809">var</span>&nbsp;<span class="ident" id="3748813">d</span>&nbsp;<span class="ident" id="3748815">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3748820">d</span><span class="op" id="3748821">.</span><span class="ident" id="3748822">GCD</span><span class="op" id="3748825">(</span><span class="ident" id="3748826">z</span><span class="op" id="3748827">,</span>&nbsp;<span class="ident" id="3748829">nil</span><span class="op" id="3748832">,</span>&nbsp;<span class="ident" id="3748834">g</span><span class="op" id="3748835">,</span>&nbsp;<span class="ident" id="3748837">n</span><span class="op" id="3748838">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3748841">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3748900">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3748961">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749010">if</span>&nbsp;<span class="ident" id="3749013">z</span><span class="op" id="3749014">.</span><span class="ident" id="3749015">neg</span>&nbsp;<span class="op" id="3749019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749023">z</span><span class="op" id="3749024">.</span><span class="ident" id="3749025">Add</span><span class="op" id="3749028">(</span><span class="ident" id="3749029">z</span><span class="op" id="3749030">,</span>&nbsp;<span class="ident" id="3749032">n</span><span class="op" id="3749033">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749039">return</span>&nbsp;<span class="ident" id="3749046">z</span><br>
<span class="lineno"></span><span class="op" id="3749048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3749051">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="3749089">func</span>&nbsp;<span class="op" id="3749094">(</span><span class="ident" id="3749095">z</span>&nbsp;<span class="op" id="3749097">*</span><span class="ident" id="3749098">Int</span><span class="op" id="3749101">)</span>&nbsp;<span class="ident" id="3749103">Lsh</span><span class="op" id="3749106">(</span><span class="ident" id="3749107">x</span>&nbsp;<span class="op" id="3749109">*</span><span class="ident" id="3749110">Int</span><span class="op" id="3749113">,</span>&nbsp;<span class="ident" id="3749115">n</span>&nbsp;<span class="builtintype" id="3749117">uint</span><span class="op" id="3749121">)</span>&nbsp;<span class="op" id="3749123">*</span><span class="ident" id="3749124">Int</span>&nbsp;<span class="op" id="3749128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749131">z</span><span class="op" id="3749132">.</span><span class="ident" id="3749133">abs</span>&nbsp;<span class="op" id="3749137">=</span>&nbsp;<span class="ident" id="3749139">z</span><span class="op" id="3749140">.</span><span class="ident" id="3749141">abs</span><span class="op" id="3749144">.</span><span class="ident" id="3749145">shl</span><span class="op" id="3749148">(</span><span class="ident" id="3749149">x</span><span class="op" id="3749150">.</span><span class="ident" id="3749151">abs</span><span class="op" id="3749154">,</span>&nbsp;<span class="ident" id="3749156">n</span><span class="op" id="3749157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749160">z</span><span class="op" id="3749161">.</span><span class="ident" id="3749162">neg</span>&nbsp;<span class="op" id="3749166">=</span>&nbsp;<span class="ident" id="3749168">x</span><span class="op" id="3749169">.</span><span class="ident" id="3749170">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749175">return</span>&nbsp;<span class="ident" id="3749182">z</span><br>
<span class="lineno"></span><span class="op" id="3749184">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="3749187">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3749225">func</span>&nbsp;<span class="op" id="3749230">(</span><span class="ident" id="3749231">z</span>&nbsp;<span class="op" id="3749233">*</span><span class="ident" id="3749234">Int</span><span class="op" id="3749237">)</span>&nbsp;<span class="ident" id="3749239">Rsh</span><span class="op" id="3749242">(</span><span class="ident" id="3749243">x</span>&nbsp;<span class="op" id="3749245">*</span><span class="ident" id="3749246">Int</span><span class="op" id="3749249">,</span>&nbsp;<span class="ident" id="3749251">n</span>&nbsp;<span class="builtintype" id="3749253">uint</span><span class="op" id="3749257">)</span>&nbsp;<span class="op" id="3749259">*</span><span class="ident" id="3749260">Int</span>&nbsp;<span class="op" id="3749264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749267">if</span>&nbsp;<span class="ident" id="3749270">x</span><span class="op" id="3749271">.</span><span class="ident" id="3749272">neg</span>&nbsp;<span class="op" id="3749276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3749280">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749350">t</span>&nbsp;<span class="op" id="3749352">:=</span>&nbsp;<span class="ident" id="3749355">z</span><span class="op" id="3749356">.</span><span class="ident" id="3749357">abs</span><span class="op" id="3749360">.</span><span class="ident" id="3749361">sub</span><span class="op" id="3749364">(</span><span class="ident" id="3749365">x</span><span class="op" id="3749366">.</span><span class="ident" id="3749367">abs</span><span class="op" id="3749370">,</span>&nbsp;<span class="ident" id="3749372">natOne</span><span class="op" id="3749378">)</span>&nbsp;<span class="comment" id="3749380">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749414">t</span>&nbsp;<span class="op" id="3749416">=</span>&nbsp;<span class="ident" id="3749418">t</span><span class="op" id="3749419">.</span><span class="ident" id="3749420">shr</span><span class="op" id="3749423">(</span><span class="ident" id="3749424">t</span><span class="op" id="3749425">,</span>&nbsp;<span class="ident" id="3749427">n</span><span class="op" id="3749428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749432">z</span><span class="op" id="3749433">.</span><span class="ident" id="3749434">abs</span>&nbsp;<span class="op" id="3749438">=</span>&nbsp;<span class="ident" id="3749440">t</span><span class="op" id="3749441">.</span><span class="ident" id="3749442">add</span><span class="op" id="3749445">(</span><span class="ident" id="3749446">t</span><span class="op" id="3749447">,</span>&nbsp;<span class="ident" id="3749449">natOne</span><span class="op" id="3749455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749459">z</span><span class="op" id="3749460">.</span><span class="ident" id="3749461">neg</span>&nbsp;<span class="op" id="3749465">=</span>&nbsp;<span class="builtintype" id="3749467">true</span>&nbsp;<span class="comment" id="3749472">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749511">return</span>&nbsp;<span class="ident" id="3749518">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749525">z</span><span class="op" id="3749526">.</span><span class="ident" id="3749527">abs</span>&nbsp;<span class="op" id="3749531">=</span>&nbsp;<span class="ident" id="3749533">z</span><span class="op" id="3749534">.</span><span class="ident" id="3749535">abs</span><span class="op" id="3749538">.</span><span class="ident" id="3749539">shr</span><span class="op" id="3749542">(</span><span class="ident" id="3749543">x</span><span class="op" id="3749544">.</span><span class="ident" id="3749545">abs</span><span class="op" id="3749548">,</span>&nbsp;<span class="ident" id="3749550">n</span><span class="op" id="3749551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749554">z</span><span class="op" id="3749555">.</span><span class="ident" id="3749556">neg</span>&nbsp;<span class="op" id="3749560">=</span>&nbsp;<span class="builtintype" id="3749562">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749569">return</span>&nbsp;<span class="ident" id="3749576">z</span><br>
<span class="lineno">790</span><span class="op" id="3749578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3749581">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="3749640">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3749691">func</span>&nbsp;<span class="op" id="3749696">(</span><span class="ident" id="3749697">x</span>&nbsp;<span class="op" id="3749699">*</span><span class="ident" id="3749700">Int</span><span class="op" id="3749703">)</span>&nbsp;<span class="ident" id="3749705">Bit</span><span class="op" id="3749708">(</span><span class="ident" id="3749709">i</span>&nbsp;<span class="builtintype" id="3749711">int</span><span class="op" id="3749714">)</span>&nbsp;<span class="builtintype" id="3749716">uint</span>&nbsp;<span class="op" id="3749721">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749724">if</span>&nbsp;<span class="ident" id="3749727">i</span>&nbsp;<span class="op" id="3749729">==</span>&nbsp;<span class="num" id="3749732">0</span>&nbsp;<span class="op" id="3749734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3749738">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749792">if</span>&nbsp;<span class="builtinfunc" id="3749795">len</span><span class="op" id="3749798">(</span><span class="ident" id="3749799">x</span><span class="op" id="3749800">.</span><span class="ident" id="3749801">abs</span><span class="op" id="3749804">)</span>&nbsp;<span class="op" id="3749806">&gt;</span>&nbsp;<span class="num" id="3749808">0</span>&nbsp;<span class="op" id="3749810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749815">return</span>&nbsp;<span class="builtintype" id="3749822">uint</span><span class="op" id="3749826">(</span><span class="ident" id="3749827">x</span><span class="op" id="3749828">.</span><span class="ident" id="3749829">abs</span><span class="op" id="3749832">[</span><span class="num" id="3749833">0</span><span class="op" id="3749834">]</span>&nbsp;<span class="op" id="3749836">&amp;</span>&nbsp;<span class="num" id="3749838">1</span><span class="op" id="3749839">)</span>&nbsp;<span class="comment" id="3749841">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749867">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749871">return</span>&nbsp;<span class="num" id="3749878">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749884">if</span>&nbsp;<span class="ident" id="3749887">i</span>&nbsp;<span class="op" id="3749889">&lt;</span>&nbsp;<span class="num" id="3749891">0</span>&nbsp;<span class="op" id="3749893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3749897">panic</span><span class="op" id="3749902">(</span><span class="string" id="3749903">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3749923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3749926">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749929">if</span>&nbsp;<span class="ident" id="3749932">x</span><span class="op" id="3749933">.</span><span class="ident" id="3749934">neg</span>&nbsp;<span class="op" id="3749938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3749942">t</span>&nbsp;<span class="op" id="3749944">:=</span>&nbsp;<span class="ident" id="3749947">nat</span><span class="op" id="3749950">(</span><span class="ident" id="3749951">nil</span><span class="op" id="3749954">)</span><span class="op" id="3749955">.</span><span class="ident" id="3749956">sub</span><span class="op" id="3749959">(</span><span class="ident" id="3749960">x</span><span class="op" id="3749961">.</span><span class="ident" id="3749962">abs</span><span class="op" id="3749965">,</span>&nbsp;<span class="ident" id="3749967">natOne</span><span class="op" id="3749973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3749977">return</span>&nbsp;<span class="ident" id="3749984">t</span><span class="op" id="3749985">.</span><span class="ident" id="3749986">bit</span><span class="op" id="3749989">(</span><span class="builtintype" id="3749990">uint</span><span class="op" id="3749994">(</span><span class="ident" id="3749995">i</span><span class="op" id="3749996">)</span><span class="op" id="3749997">)</span>&nbsp;<span class="op" id="3749999">^</span>&nbsp;<span class="num" id="3750001">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750008">return</span>&nbsp;<span class="ident" id="3750015">x</span><span class="op" id="3750016">.</span><span class="ident" id="3750017">abs</span><span class="op" id="3750020">.</span><span class="ident" id="3750021">bit</span><span class="op" id="3750024">(</span><span class="builtintype" id="3750025">uint</span><span class="op" id="3750029">(</span><span class="ident" id="3750030">i</span><span class="op" id="3750031">)</span><span class="op" id="3750032">)</span><br>
<span class="lineno"></span><span class="op" id="3750034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3750037">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="3750097">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="3750149">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="3750213">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="3750235">func</span>&nbsp;<span class="op" id="3750240">(</span><span class="ident" id="3750241">z</span>&nbsp;<span class="op" id="3750243">*</span><span class="ident" id="3750244">Int</span><span class="op" id="3750247">)</span>&nbsp;<span class="ident" id="3750249">SetBit</span><span class="op" id="3750255">(</span><span class="ident" id="3750256">x</span>&nbsp;<span class="op" id="3750258">*</span><span class="ident" id="3750259">Int</span><span class="op" id="3750262">,</span>&nbsp;<span class="ident" id="3750264">i</span>&nbsp;<span class="builtintype" id="3750266">int</span><span class="op" id="3750269">,</span>&nbsp;<span class="ident" id="3750271">b</span>&nbsp;<span class="builtintype" id="3750273">uint</span><span class="op" id="3750277">)</span>&nbsp;<span class="op" id="3750279">*</span><span class="ident" id="3750280">Int</span>&nbsp;<span class="op" id="3750284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750287">if</span>&nbsp;<span class="ident" id="3750290">i</span>&nbsp;<span class="op" id="3750292">&lt;</span>&nbsp;<span class="num" id="3750294">0</span>&nbsp;<span class="op" id="3750296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3750300">panic</span><span class="op" id="3750305">(</span><span class="string" id="3750306">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3750326">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750332">if</span>&nbsp;<span class="ident" id="3750335">x</span><span class="op" id="3750336">.</span><span class="ident" id="3750337">neg</span>&nbsp;<span class="op" id="3750341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750345">t</span>&nbsp;<span class="op" id="3750347">:=</span>&nbsp;<span class="ident" id="3750350">z</span><span class="op" id="3750351">.</span><span class="ident" id="3750352">abs</span><span class="op" id="3750355">.</span><span class="ident" id="3750356">sub</span><span class="op" id="3750359">(</span><span class="ident" id="3750360">x</span><span class="op" id="3750361">.</span><span class="ident" id="3750362">abs</span><span class="op" id="3750365">,</span>&nbsp;<span class="ident" id="3750367">natOne</span><span class="op" id="3750373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750377">t</span>&nbsp;<span class="op" id="3750379">=</span>&nbsp;<span class="ident" id="3750381">t</span><span class="op" id="3750382">.</span><span class="ident" id="3750383">setBit</span><span class="op" id="3750389">(</span><span class="ident" id="3750390">t</span><span class="op" id="3750391">,</span>&nbsp;<span class="builtintype" id="3750393">uint</span><span class="op" id="3750397">(</span><span class="ident" id="3750398">i</span><span class="op" id="3750399">)</span><span class="op" id="3750400">,</span>&nbsp;<span class="ident" id="3750402">b</span><span class="op" id="3750403">^</span><span class="num" id="3750404">1</span><span class="op" id="3750405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750409">z</span><span class="op" id="3750410">.</span><span class="ident" id="3750411">abs</span>&nbsp;<span class="op" id="3750415">=</span>&nbsp;<span class="ident" id="3750417">t</span><span class="op" id="3750418">.</span><span class="ident" id="3750419">add</span><span class="op" id="3750422">(</span><span class="ident" id="3750423">t</span><span class="op" id="3750424">,</span>&nbsp;<span class="ident" id="3750426">natOne</span><span class="op" id="3750432">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750436">z</span><span class="op" id="3750437">.</span><span class="ident" id="3750438">neg</span>&nbsp;<span class="op" id="3750442">=</span>&nbsp;<span class="builtinfunc" id="3750444">len</span><span class="op" id="3750447">(</span><span class="ident" id="3750448">z</span><span class="op" id="3750449">.</span><span class="ident" id="3750450">abs</span><span class="op" id="3750453">)</span>&nbsp;<span class="op" id="3750455">&gt;</span>&nbsp;<span class="num" id="3750457">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750461">return</span>&nbsp;<span class="ident" id="3750468">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750474">z</span><span class="op" id="3750475">.</span><span class="ident" id="3750476">abs</span>&nbsp;<span class="op" id="3750480">=</span>&nbsp;<span class="ident" id="3750482">z</span><span class="op" id="3750483">.</span><span class="ident" id="3750484">abs</span><span class="op" id="3750487">.</span><span class="ident" id="3750488">setBit</span><span class="op" id="3750494">(</span><span class="ident" id="3750495">x</span><span class="op" id="3750496">.</span><span class="ident" id="3750497">abs</span><span class="op" id="3750500">,</span>&nbsp;<span class="builtintype" id="3750502">uint</span><span class="op" id="3750506">(</span><span class="ident" id="3750507">i</span><span class="op" id="3750508">)</span><span class="op" id="3750509">,</span>&nbsp;<span class="ident" id="3750511">b</span><span class="op" id="3750512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750515">z</span><span class="op" id="3750516">.</span><span class="ident" id="3750517">neg</span>&nbsp;<span class="op" id="3750521">=</span>&nbsp;<span class="builtintype" id="3750523">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750530">return</span>&nbsp;<span class="ident" id="3750537">z</span><br>
<span class="lineno"></span><span class="op" id="3750539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3750542">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3750579">func</span>&nbsp;<span class="op" id="3750584">(</span><span class="ident" id="3750585">z</span>&nbsp;<span class="op" id="3750587">*</span><span class="ident" id="3750588">Int</span><span class="op" id="3750591">)</span>&nbsp;<span class="ident" id="3750593">And</span><span class="op" id="3750596">(</span><span class="ident" id="3750597">x</span><span class="op" id="3750598">,</span>&nbsp;<span class="ident" id="3750600">y</span>&nbsp;<span class="op" id="3750602">*</span><span class="ident" id="3750603">Int</span><span class="op" id="3750606">)</span>&nbsp;<span class="op" id="3750608">*</span><span class="ident" id="3750609">Int</span>&nbsp;<span class="op" id="3750613">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750616">if</span>&nbsp;<span class="ident" id="3750619">x</span><span class="op" id="3750620">.</span><span class="ident" id="3750621">neg</span>&nbsp;<span class="op" id="3750625">==</span>&nbsp;<span class="ident" id="3750628">y</span><span class="op" id="3750629">.</span><span class="ident" id="3750630">neg</span>&nbsp;<span class="op" id="3750634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750638">if</span>&nbsp;<span class="ident" id="3750641">x</span><span class="op" id="3750642">.</span><span class="ident" id="3750643">neg</span>&nbsp;<span class="op" id="3750647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3750652">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750735">x1</span>&nbsp;<span class="op" id="3750738">:=</span>&nbsp;<span class="ident" id="3750741">nat</span><span class="op" id="3750744">(</span><span class="ident" id="3750745">nil</span><span class="op" id="3750748">)</span><span class="op" id="3750749">.</span><span class="ident" id="3750750">sub</span><span class="op" id="3750753">(</span><span class="ident" id="3750754">x</span><span class="op" id="3750755">.</span><span class="ident" id="3750756">abs</span><span class="op" id="3750759">,</span>&nbsp;<span class="ident" id="3750761">natOne</span><span class="op" id="3750767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750772">y1</span>&nbsp;<span class="op" id="3750775">:=</span>&nbsp;<span class="ident" id="3750778">nat</span><span class="op" id="3750781">(</span><span class="ident" id="3750782">nil</span><span class="op" id="3750785">)</span><span class="op" id="3750786">.</span><span class="ident" id="3750787">sub</span><span class="op" id="3750790">(</span><span class="ident" id="3750791">y</span><span class="op" id="3750792">.</span><span class="ident" id="3750793">abs</span><span class="op" id="3750796">,</span>&nbsp;<span class="ident" id="3750798">natOne</span><span class="op" id="3750804">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750809">z</span><span class="op" id="3750810">.</span><span class="ident" id="3750811">abs</span>&nbsp;<span class="op" id="3750815">=</span>&nbsp;<span class="ident" id="3750817">z</span><span class="op" id="3750818">.</span><span class="ident" id="3750819">abs</span><span class="op" id="3750822">.</span><span class="ident" id="3750823">add</span><span class="op" id="3750826">(</span><span class="ident" id="3750827">z</span><span class="op" id="3750828">.</span><span class="ident" id="3750829">abs</span><span class="op" id="3750832">.</span><span class="ident" id="3750833">or</span><span class="op" id="3750835">(</span><span class="ident" id="3750836">x1</span><span class="op" id="3750838">,</span>&nbsp;<span class="ident" id="3750840">y1</span><span class="op" id="3750842">)</span><span class="op" id="3750843">,</span>&nbsp;<span class="ident" id="3750845">natOne</span><span class="op" id="3750851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750856">z</span><span class="op" id="3750857">.</span><span class="ident" id="3750858">neg</span>&nbsp;<span class="op" id="3750862">=</span>&nbsp;<span class="builtintype" id="3750864">true</span>&nbsp;<span class="comment" id="3750869">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3750916">return</span>&nbsp;<span class="ident" id="3750923">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3750927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3750932">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750952">z</span><span class="op" id="3750953">.</span><span class="ident" id="3750954">abs</span>&nbsp;<span class="op" id="3750958">=</span>&nbsp;<span class="ident" id="3750960">z</span><span class="op" id="3750961">.</span><span class="ident" id="3750962">abs</span><span class="op" id="3750965">.</span><span class="ident" id="3750966">and</span><span class="op" id="3750969">(</span><span class="ident" id="3750970">x</span><span class="op" id="3750971">.</span><span class="ident" id="3750972">abs</span><span class="op" id="3750975">,</span>&nbsp;<span class="ident" id="3750977">y</span><span class="op" id="3750978">.</span><span class="ident" id="3750979">abs</span><span class="op" id="3750982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3750986">z</span><span class="op" id="3750987">.</span><span class="ident" id="3750988">neg</span>&nbsp;<span class="op" id="3750992">=</span>&nbsp;<span class="builtintype" id="3750994">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751002">return</span>&nbsp;<span class="ident" id="3751009">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3751012">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751016">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751035">if</span>&nbsp;<span class="ident" id="3751038">x</span><span class="op" id="3751039">.</span><span class="ident" id="3751040">neg</span>&nbsp;<span class="op" id="3751044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751048">x</span><span class="op" id="3751049">,</span>&nbsp;<span class="ident" id="3751051">y</span>&nbsp;<span class="op" id="3751053">=</span>&nbsp;<span class="ident" id="3751055">y</span><span class="op" id="3751056">,</span>&nbsp;<span class="ident" id="3751058">x</span>&nbsp;<span class="comment" id="3751060">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3751079">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751083">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751124">y1</span>&nbsp;<span class="op" id="3751127">:=</span>&nbsp;<span class="ident" id="3751130">nat</span><span class="op" id="3751133">(</span><span class="ident" id="3751134">nil</span><span class="op" id="3751137">)</span><span class="op" id="3751138">.</span><span class="ident" id="3751139">sub</span><span class="op" id="3751142">(</span><span class="ident" id="3751143">y</span><span class="op" id="3751144">.</span><span class="ident" id="3751145">abs</span><span class="op" id="3751148">,</span>&nbsp;<span class="ident" id="3751150">natOne</span><span class="op" id="3751156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751159">z</span><span class="op" id="3751160">.</span><span class="ident" id="3751161">abs</span>&nbsp;<span class="op" id="3751165">=</span>&nbsp;<span class="ident" id="3751167">z</span><span class="op" id="3751168">.</span><span class="ident" id="3751169">abs</span><span class="op" id="3751172">.</span><span class="ident" id="3751173">andNot</span><span class="op" id="3751179">(</span><span class="ident" id="3751180">x</span><span class="op" id="3751181">.</span><span class="ident" id="3751182">abs</span><span class="op" id="3751185">,</span>&nbsp;<span class="ident" id="3751187">y1</span><span class="op" id="3751189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751192">z</span><span class="op" id="3751193">.</span><span class="ident" id="3751194">neg</span>&nbsp;<span class="op" id="3751198">=</span>&nbsp;<span class="builtintype" id="3751200">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751207">return</span>&nbsp;<span class="ident" id="3751214">z</span><br>
<span class="lineno"></span><span class="op" id="3751216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3751219">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3751260">func</span>&nbsp;<span class="op" id="3751265">(</span><span class="ident" id="3751266">z</span>&nbsp;<span class="op" id="3751268">*</span><span class="ident" id="3751269">Int</span><span class="op" id="3751272">)</span>&nbsp;<span class="ident" id="3751274">AndNot</span><span class="op" id="3751280">(</span><span class="ident" id="3751281">x</span><span class="op" id="3751282">,</span>&nbsp;<span class="ident" id="3751284">y</span>&nbsp;<span class="op" id="3751286">*</span><span class="ident" id="3751287">Int</span><span class="op" id="3751290">)</span>&nbsp;<span class="op" id="3751292">*</span><span class="ident" id="3751293">Int</span>&nbsp;<span class="op" id="3751297">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751300">if</span>&nbsp;<span class="ident" id="3751303">x</span><span class="op" id="3751304">.</span><span class="ident" id="3751305">neg</span>&nbsp;<span class="op" id="3751309">==</span>&nbsp;<span class="ident" id="3751312">y</span><span class="op" id="3751313">.</span><span class="ident" id="3751314">neg</span>&nbsp;<span class="op" id="3751318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751322">if</span>&nbsp;<span class="ident" id="3751325">x</span><span class="op" id="3751326">.</span><span class="ident" id="3751327">neg</span>&nbsp;<span class="op" id="3751331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751336">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751411">x1</span>&nbsp;<span class="op" id="3751414">:=</span>&nbsp;<span class="ident" id="3751417">nat</span><span class="op" id="3751420">(</span><span class="ident" id="3751421">nil</span><span class="op" id="3751424">)</span><span class="op" id="3751425">.</span><span class="ident" id="3751426">sub</span><span class="op" id="3751429">(</span><span class="ident" id="3751430">x</span><span class="op" id="3751431">.</span><span class="ident" id="3751432">abs</span><span class="op" id="3751435">,</span>&nbsp;<span class="ident" id="3751437">natOne</span><span class="op" id="3751443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751448">y1</span>&nbsp;<span class="op" id="3751451">:=</span>&nbsp;<span class="ident" id="3751454">nat</span><span class="op" id="3751457">(</span><span class="ident" id="3751458">nil</span><span class="op" id="3751461">)</span><span class="op" id="3751462">.</span><span class="ident" id="3751463">sub</span><span class="op" id="3751466">(</span><span class="ident" id="3751467">y</span><span class="op" id="3751468">.</span><span class="ident" id="3751469">abs</span><span class="op" id="3751472">,</span>&nbsp;<span class="ident" id="3751474">natOne</span><span class="op" id="3751480">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751485">z</span><span class="op" id="3751486">.</span><span class="ident" id="3751487">abs</span>&nbsp;<span class="op" id="3751491">=</span>&nbsp;<span class="ident" id="3751493">z</span><span class="op" id="3751494">.</span><span class="ident" id="3751495">abs</span><span class="op" id="3751498">.</span><span class="ident" id="3751499">andNot</span><span class="op" id="3751505">(</span><span class="ident" id="3751506">y1</span><span class="op" id="3751508">,</span>&nbsp;<span class="ident" id="3751510">x1</span><span class="op" id="3751512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751517">z</span><span class="op" id="3751518">.</span><span class="ident" id="3751519">neg</span>&nbsp;<span class="op" id="3751523">=</span>&nbsp;<span class="builtintype" id="3751525">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751534">return</span>&nbsp;<span class="ident" id="3751541">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3751545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751550">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751572">z</span><span class="op" id="3751573">.</span><span class="ident" id="3751574">abs</span>&nbsp;<span class="op" id="3751578">=</span>&nbsp;<span class="ident" id="3751580">z</span><span class="op" id="3751581">.</span><span class="ident" id="3751582">abs</span><span class="op" id="3751585">.</span><span class="ident" id="3751586">andNot</span><span class="op" id="3751592">(</span><span class="ident" id="3751593">x</span><span class="op" id="3751594">.</span><span class="ident" id="3751595">abs</span><span class="op" id="3751598">,</span>&nbsp;<span class="ident" id="3751600">y</span><span class="op" id="3751601">.</span><span class="ident" id="3751602">abs</span><span class="op" id="3751605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751609">z</span><span class="op" id="3751610">.</span><span class="ident" id="3751611">neg</span>&nbsp;<span class="op" id="3751615">=</span>&nbsp;<span class="builtintype" id="3751617">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751625">return</span>&nbsp;<span class="ident" id="3751632">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3751635">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751639">if</span>&nbsp;<span class="ident" id="3751642">x</span><span class="op" id="3751643">.</span><span class="ident" id="3751644">neg</span>&nbsp;<span class="op" id="3751648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751652">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751735">x1</span>&nbsp;<span class="op" id="3751738">:=</span>&nbsp;<span class="ident" id="3751741">nat</span><span class="op" id="3751744">(</span><span class="ident" id="3751745">nil</span><span class="op" id="3751748">)</span><span class="op" id="3751749">.</span><span class="ident" id="3751750">sub</span><span class="op" id="3751753">(</span><span class="ident" id="3751754">x</span><span class="op" id="3751755">.</span><span class="ident" id="3751756">abs</span><span class="op" id="3751759">,</span>&nbsp;<span class="ident" id="3751761">natOne</span><span class="op" id="3751767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751771">z</span><span class="op" id="3751772">.</span><span class="ident" id="3751773">abs</span>&nbsp;<span class="op" id="3751777">=</span>&nbsp;<span class="ident" id="3751779">z</span><span class="op" id="3751780">.</span><span class="ident" id="3751781">abs</span><span class="op" id="3751784">.</span><span class="ident" id="3751785">add</span><span class="op" id="3751788">(</span><span class="ident" id="3751789">z</span><span class="op" id="3751790">.</span><span class="ident" id="3751791">abs</span><span class="op" id="3751794">.</span><span class="ident" id="3751795">or</span><span class="op" id="3751797">(</span><span class="ident" id="3751798">x1</span><span class="op" id="3751800">,</span>&nbsp;<span class="ident" id="3751802">y</span><span class="op" id="3751803">.</span><span class="ident" id="3751804">abs</span><span class="op" id="3751807">)</span><span class="op" id="3751808">,</span>&nbsp;<span class="ident" id="3751810">natOne</span><span class="op" id="3751816">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751820">z</span><span class="op" id="3751821">.</span><span class="ident" id="3751822">neg</span>&nbsp;<span class="op" id="3751826">=</span>&nbsp;<span class="builtintype" id="3751828">true</span>&nbsp;<span class="comment" id="3751833">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3751890">return</span>&nbsp;<span class="ident" id="3751897">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3751900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3751904">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751946">y1</span>&nbsp;<span class="op" id="3751949">:=</span>&nbsp;<span class="ident" id="3751952">nat</span><span class="op" id="3751955">(</span><span class="ident" id="3751956">nil</span><span class="op" id="3751959">)</span><span class="op" id="3751960">.</span><span class="ident" id="3751961">add</span><span class="op" id="3751964">(</span><span class="ident" id="3751965">y</span><span class="op" id="3751966">.</span><span class="ident" id="3751967">abs</span><span class="op" id="3751970">,</span>&nbsp;<span class="ident" id="3751972">natOne</span><span class="op" id="3751978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3751981">z</span><span class="op" id="3751982">.</span><span class="ident" id="3751983">abs</span>&nbsp;<span class="op" id="3751987">=</span>&nbsp;<span class="ident" id="3751989">z</span><span class="op" id="3751990">.</span><span class="ident" id="3751991">abs</span><span class="op" id="3751994">.</span><span class="ident" id="3751995">and</span><span class="op" id="3751998">(</span><span class="ident" id="3751999">x</span><span class="op" id="3752000">.</span><span class="ident" id="3752001">abs</span><span class="op" id="3752004">,</span>&nbsp;<span class="ident" id="3752006">y1</span><span class="op" id="3752008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752011">z</span><span class="op" id="3752012">.</span><span class="ident" id="3752013">neg</span>&nbsp;<span class="op" id="3752017">=</span>&nbsp;<span class="builtintype" id="3752019">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752026">return</span>&nbsp;<span class="ident" id="3752033">z</span><br>
<span class="lineno"></span><span class="op" id="3752035">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="3752038">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3752074">func</span>&nbsp;<span class="op" id="3752079">(</span><span class="ident" id="3752080">z</span>&nbsp;<span class="op" id="3752082">*</span><span class="ident" id="3752083">Int</span><span class="op" id="3752086">)</span>&nbsp;<span class="ident" id="3752088">Or</span><span class="op" id="3752090">(</span><span class="ident" id="3752091">x</span><span class="op" id="3752092">,</span>&nbsp;<span class="ident" id="3752094">y</span>&nbsp;<span class="op" id="3752096">*</span><span class="ident" id="3752097">Int</span><span class="op" id="3752100">)</span>&nbsp;<span class="op" id="3752102">*</span><span class="ident" id="3752103">Int</span>&nbsp;<span class="op" id="3752107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752110">if</span>&nbsp;<span class="ident" id="3752113">x</span><span class="op" id="3752114">.</span><span class="ident" id="3752115">neg</span>&nbsp;<span class="op" id="3752119">==</span>&nbsp;<span class="ident" id="3752122">y</span><span class="op" id="3752123">.</span><span class="ident" id="3752124">neg</span>&nbsp;<span class="op" id="3752128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752132">if</span>&nbsp;<span class="ident" id="3752135">x</span><span class="op" id="3752136">.</span><span class="ident" id="3752137">neg</span>&nbsp;<span class="op" id="3752141">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3752146">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752229">x1</span>&nbsp;<span class="op" id="3752232">:=</span>&nbsp;<span class="ident" id="3752235">nat</span><span class="op" id="3752238">(</span><span class="ident" id="3752239">nil</span><span class="op" id="3752242">)</span><span class="op" id="3752243">.</span><span class="ident" id="3752244">sub</span><span class="op" id="3752247">(</span><span class="ident" id="3752248">x</span><span class="op" id="3752249">.</span><span class="ident" id="3752250">abs</span><span class="op" id="3752253">,</span>&nbsp;<span class="ident" id="3752255">natOne</span><span class="op" id="3752261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752266">y1</span>&nbsp;<span class="op" id="3752269">:=</span>&nbsp;<span class="ident" id="3752272">nat</span><span class="op" id="3752275">(</span><span class="ident" id="3752276">nil</span><span class="op" id="3752279">)</span><span class="op" id="3752280">.</span><span class="ident" id="3752281">sub</span><span class="op" id="3752284">(</span><span class="ident" id="3752285">y</span><span class="op" id="3752286">.</span><span class="ident" id="3752287">abs</span><span class="op" id="3752290">,</span>&nbsp;<span class="ident" id="3752292">natOne</span><span class="op" id="3752298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752303">z</span><span class="op" id="3752304">.</span><span class="ident" id="3752305">abs</span>&nbsp;<span class="op" id="3752309">=</span>&nbsp;<span class="ident" id="3752311">z</span><span class="op" id="3752312">.</span><span class="ident" id="3752313">abs</span><span class="op" id="3752316">.</span><span class="ident" id="3752317">add</span><span class="op" id="3752320">(</span><span class="ident" id="3752321">z</span><span class="op" id="3752322">.</span><span class="ident" id="3752323">abs</span><span class="op" id="3752326">.</span><span class="ident" id="3752327">and</span><span class="op" id="3752330">(</span><span class="ident" id="3752331">x1</span><span class="op" id="3752333">,</span>&nbsp;<span class="ident" id="3752335">y1</span><span class="op" id="3752337">)</span><span class="op" id="3752338">,</span>&nbsp;<span class="ident" id="3752340">natOne</span><span class="op" id="3752346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752351">z</span><span class="op" id="3752352">.</span><span class="ident" id="3752353">neg</span>&nbsp;<span class="op" id="3752357">=</span>&nbsp;<span class="builtintype" id="3752359">true</span>&nbsp;<span class="comment" id="3752364">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752411">return</span>&nbsp;<span class="ident" id="3752418">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3752422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3752427">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752447">z</span><span class="op" id="3752448">.</span><span class="ident" id="3752449">abs</span>&nbsp;<span class="op" id="3752453">=</span>&nbsp;<span class="ident" id="3752455">z</span><span class="op" id="3752456">.</span><span class="ident" id="3752457">abs</span><span class="op" id="3752460">.</span><span class="ident" id="3752461">or</span><span class="op" id="3752463">(</span><span class="ident" id="3752464">x</span><span class="op" id="3752465">.</span><span class="ident" id="3752466">abs</span><span class="op" id="3752469">,</span>&nbsp;<span class="ident" id="3752471">y</span><span class="op" id="3752472">.</span><span class="ident" id="3752473">abs</span><span class="op" id="3752476">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752480">z</span><span class="op" id="3752481">.</span><span class="ident" id="3752482">neg</span>&nbsp;<span class="op" id="3752486">=</span>&nbsp;<span class="builtintype" id="3752488">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752496">return</span>&nbsp;<span class="ident" id="3752503">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3752506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3752510">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752529">if</span>&nbsp;<span class="ident" id="3752532">x</span><span class="op" id="3752533">.</span><span class="ident" id="3752534">neg</span>&nbsp;<span class="op" id="3752538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752542">x</span><span class="op" id="3752543">,</span>&nbsp;<span class="ident" id="3752545">y</span>&nbsp;<span class="op" id="3752547">=</span>&nbsp;<span class="ident" id="3752549">y</span><span class="op" id="3752550">,</span>&nbsp;<span class="ident" id="3752552">x</span>&nbsp;<span class="comment" id="3752554">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3752573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3752577">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752645">y1</span>&nbsp;<span class="op" id="3752648">:=</span>&nbsp;<span class="ident" id="3752651">nat</span><span class="op" id="3752654">(</span><span class="ident" id="3752655">nil</span><span class="op" id="3752658">)</span><span class="op" id="3752659">.</span><span class="ident" id="3752660">sub</span><span class="op" id="3752663">(</span><span class="ident" id="3752664">y</span><span class="op" id="3752665">.</span><span class="ident" id="3752666">abs</span><span class="op" id="3752669">,</span>&nbsp;<span class="ident" id="3752671">natOne</span><span class="op" id="3752677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752680">z</span><span class="op" id="3752681">.</span><span class="ident" id="3752682">abs</span>&nbsp;<span class="op" id="3752686">=</span>&nbsp;<span class="ident" id="3752688">z</span><span class="op" id="3752689">.</span><span class="ident" id="3752690">abs</span><span class="op" id="3752693">.</span><span class="ident" id="3752694">add</span><span class="op" id="3752697">(</span><span class="ident" id="3752698">z</span><span class="op" id="3752699">.</span><span class="ident" id="3752700">abs</span><span class="op" id="3752703">.</span><span class="ident" id="3752704">andNot</span><span class="op" id="3752710">(</span><span class="ident" id="3752711">y1</span><span class="op" id="3752713">,</span>&nbsp;<span class="ident" id="3752715">x</span><span class="op" id="3752716">.</span><span class="ident" id="3752717">abs</span><span class="op" id="3752720">)</span><span class="op" id="3752721">,</span>&nbsp;<span class="ident" id="3752723">natOne</span><span class="op" id="3752729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752732">z</span><span class="op" id="3752733">.</span><span class="ident" id="3752734">neg</span>&nbsp;<span class="op" id="3752738">=</span>&nbsp;<span class="builtintype" id="3752740">true</span>&nbsp;<span class="comment" id="3752745">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752795">return</span>&nbsp;<span class="ident" id="3752802">z</span><br>
<span class="lineno"></span><span class="op" id="3752804">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="3752807">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3752844">func</span>&nbsp;<span class="op" id="3752849">(</span><span class="ident" id="3752850">z</span>&nbsp;<span class="op" id="3752852">*</span><span class="ident" id="3752853">Int</span><span class="op" id="3752856">)</span>&nbsp;<span class="ident" id="3752858">Xor</span><span class="op" id="3752861">(</span><span class="ident" id="3752862">x</span><span class="op" id="3752863">,</span>&nbsp;<span class="ident" id="3752865">y</span>&nbsp;<span class="op" id="3752867">*</span><span class="ident" id="3752868">Int</span><span class="op" id="3752871">)</span>&nbsp;<span class="op" id="3752873">*</span><span class="ident" id="3752874">Int</span>&nbsp;<span class="op" id="3752878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752881">if</span>&nbsp;<span class="ident" id="3752884">x</span><span class="op" id="3752885">.</span><span class="ident" id="3752886">neg</span>&nbsp;<span class="op" id="3752890">==</span>&nbsp;<span class="ident" id="3752893">y</span><span class="op" id="3752894">.</span><span class="ident" id="3752895">neg</span>&nbsp;<span class="op" id="3752899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3752903">if</span>&nbsp;<span class="ident" id="3752906">x</span><span class="op" id="3752907">.</span><span class="ident" id="3752908">neg</span>&nbsp;<span class="op" id="3752912">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3752917">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3752971">x1</span>&nbsp;<span class="op" id="3752974">:=</span>&nbsp;<span class="ident" id="3752977">nat</span><span class="op" id="3752980">(</span><span class="ident" id="3752981">nil</span><span class="op" id="3752984">)</span><span class="op" id="3752985">.</span><span class="ident" id="3752986">sub</span><span class="op" id="3752989">(</span><span class="ident" id="3752990">x</span><span class="op" id="3752991">.</span><span class="ident" id="3752992">abs</span><span class="op" id="3752995">,</span>&nbsp;<span class="ident" id="3752997">natOne</span><span class="op" id="3753003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753008">y1</span>&nbsp;<span class="op" id="3753011">:=</span>&nbsp;<span class="ident" id="3753014">nat</span><span class="op" id="3753017">(</span><span class="ident" id="3753018">nil</span><span class="op" id="3753021">)</span><span class="op" id="3753022">.</span><span class="ident" id="3753023">sub</span><span class="op" id="3753026">(</span><span class="ident" id="3753027">y</span><span class="op" id="3753028">.</span><span class="ident" id="3753029">abs</span><span class="op" id="3753032">,</span>&nbsp;<span class="ident" id="3753034">natOne</span><span class="op" id="3753040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753045">z</span><span class="op" id="3753046">.</span><span class="ident" id="3753047">abs</span>&nbsp;<span class="op" id="3753051">=</span>&nbsp;<span class="ident" id="3753053">z</span><span class="op" id="3753054">.</span><span class="ident" id="3753055">abs</span><span class="op" id="3753058">.</span><span class="ident" id="3753059">xor</span><span class="op" id="3753062">(</span><span class="ident" id="3753063">x1</span><span class="op" id="3753065">,</span>&nbsp;<span class="ident" id="3753067">y1</span><span class="op" id="3753069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753074">z</span><span class="op" id="3753075">.</span><span class="ident" id="3753076">neg</span>&nbsp;<span class="op" id="3753080">=</span>&nbsp;<span class="builtintype" id="3753082">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753091">return</span>&nbsp;<span class="ident" id="3753098">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3753102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753107">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753127">z</span><span class="op" id="3753128">.</span><span class="ident" id="3753129">abs</span>&nbsp;<span class="op" id="3753133">=</span>&nbsp;<span class="ident" id="3753135">z</span><span class="op" id="3753136">.</span><span class="ident" id="3753137">abs</span><span class="op" id="3753140">.</span><span class="ident" id="3753141">xor</span><span class="op" id="3753144">(</span><span class="ident" id="3753145">x</span><span class="op" id="3753146">.</span><span class="ident" id="3753147">abs</span><span class="op" id="3753150">,</span>&nbsp;<span class="ident" id="3753152">y</span><span class="op" id="3753153">.</span><span class="ident" id="3753154">abs</span><span class="op" id="3753157">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753161">z</span><span class="op" id="3753162">.</span><span class="ident" id="3753163">neg</span>&nbsp;<span class="op" id="3753167">=</span>&nbsp;<span class="builtintype" id="3753169">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753177">return</span>&nbsp;<span class="ident" id="3753184">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3753187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753191">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753210">if</span>&nbsp;<span class="ident" id="3753213">x</span><span class="op" id="3753214">.</span><span class="ident" id="3753215">neg</span>&nbsp;<span class="op" id="3753219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753223">x</span><span class="op" id="3753224">,</span>&nbsp;<span class="ident" id="3753226">y</span>&nbsp;<span class="op" id="3753228">=</span>&nbsp;<span class="ident" id="3753230">y</span><span class="op" id="3753231">,</span>&nbsp;<span class="ident" id="3753233">x</span>&nbsp;<span class="comment" id="3753235">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3753254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753258">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753323">y1</span>&nbsp;<span class="op" id="3753326">:=</span>&nbsp;<span class="ident" id="3753329">nat</span><span class="op" id="3753332">(</span><span class="ident" id="3753333">nil</span><span class="op" id="3753336">)</span><span class="op" id="3753337">.</span><span class="ident" id="3753338">sub</span><span class="op" id="3753341">(</span><span class="ident" id="3753342">y</span><span class="op" id="3753343">.</span><span class="ident" id="3753344">abs</span><span class="op" id="3753347">,</span>&nbsp;<span class="ident" id="3753349">natOne</span><span class="op" id="3753355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753358">z</span><span class="op" id="3753359">.</span><span class="ident" id="3753360">abs</span>&nbsp;<span class="op" id="3753364">=</span>&nbsp;<span class="ident" id="3753366">z</span><span class="op" id="3753367">.</span><span class="ident" id="3753368">abs</span><span class="op" id="3753371">.</span><span class="ident" id="3753372">add</span><span class="op" id="3753375">(</span><span class="ident" id="3753376">z</span><span class="op" id="3753377">.</span><span class="ident" id="3753378">abs</span><span class="op" id="3753381">.</span><span class="ident" id="3753382">xor</span><span class="op" id="3753385">(</span><span class="ident" id="3753386">x</span><span class="op" id="3753387">.</span><span class="ident" id="3753388">abs</span><span class="op" id="3753391">,</span>&nbsp;<span class="ident" id="3753393">y1</span><span class="op" id="3753395">)</span><span class="op" id="3753396">,</span>&nbsp;<span class="ident" id="3753398">natOne</span><span class="op" id="3753404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753407">z</span><span class="op" id="3753408">.</span><span class="ident" id="3753409">neg</span>&nbsp;<span class="op" id="3753413">=</span>&nbsp;<span class="builtintype" id="3753415">true</span>&nbsp;<span class="comment" id="3753420">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753475">return</span>&nbsp;<span class="ident" id="3753482">z</span><br>
<span class="lineno"></span><span class="op" id="3753484">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="3753487">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3753521">func</span>&nbsp;<span class="op" id="3753526">(</span><span class="ident" id="3753527">z</span>&nbsp;<span class="op" id="3753529">*</span><span class="ident" id="3753530">Int</span><span class="op" id="3753533">)</span>&nbsp;<span class="ident" id="3753535">Not</span><span class="op" id="3753538">(</span><span class="ident" id="3753539">x</span>&nbsp;<span class="op" id="3753541">*</span><span class="ident" id="3753542">Int</span><span class="op" id="3753545">)</span>&nbsp;<span class="op" id="3753547">*</span><span class="ident" id="3753548">Int</span>&nbsp;<span class="op" id="3753552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753555">if</span>&nbsp;<span class="ident" id="3753558">x</span><span class="op" id="3753559">.</span><span class="ident" id="3753560">neg</span>&nbsp;<span class="op" id="3753564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753568">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753599">z</span><span class="op" id="3753600">.</span><span class="ident" id="3753601">abs</span>&nbsp;<span class="op" id="3753605">=</span>&nbsp;<span class="ident" id="3753607">z</span><span class="op" id="3753608">.</span><span class="ident" id="3753609">abs</span><span class="op" id="3753612">.</span><span class="ident" id="3753613">sub</span><span class="op" id="3753616">(</span><span class="ident" id="3753617">x</span><span class="op" id="3753618">.</span><span class="ident" id="3753619">abs</span><span class="op" id="3753622">,</span>&nbsp;<span class="ident" id="3753624">natOne</span><span class="op" id="3753630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753634">z</span><span class="op" id="3753635">.</span><span class="ident" id="3753636">neg</span>&nbsp;<span class="op" id="3753640">=</span>&nbsp;<span class="builtintype" id="3753642">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753650">return</span>&nbsp;<span class="ident" id="3753657">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3753660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3753664">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753689">z</span><span class="op" id="3753690">.</span><span class="ident" id="3753691">abs</span>&nbsp;<span class="op" id="3753695">=</span>&nbsp;<span class="ident" id="3753697">z</span><span class="op" id="3753698">.</span><span class="ident" id="3753699">abs</span><span class="op" id="3753702">.</span><span class="ident" id="3753703">add</span><span class="op" id="3753706">(</span><span class="ident" id="3753707">x</span><span class="op" id="3753708">.</span><span class="ident" id="3753709">abs</span><span class="op" id="3753712">,</span>&nbsp;<span class="ident" id="3753714">natOne</span><span class="op" id="3753720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3753723">z</span><span class="op" id="3753724">.</span><span class="ident" id="3753725">neg</span>&nbsp;<span class="op" id="3753729">=</span>&nbsp;<span class="builtintype" id="3753731">true</span>&nbsp;<span class="comment" id="3753736">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753774">return</span>&nbsp;<span class="ident" id="3753781">z</span><br>
<span class="lineno"></span><span class="op" id="3753783">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="3753786">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3753861">const</span>&nbsp;<span class="ident" id="3753867">intGobVersion</span>&nbsp;<span class="builtintype" id="3753881">byte</span>&nbsp;<span class="op" id="3753886">=</span>&nbsp;<span class="num" id="3753888">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3753891">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="3753945">func</span>&nbsp;<span class="op" id="3753950">(</span><span class="ident" id="3753951">x</span>&nbsp;<span class="op" id="3753953">*</span><span class="ident" id="3753954">Int</span><span class="op" id="3753957">)</span>&nbsp;<span class="ident" id="3753959">GobEncode</span><span class="op" id="3753968">(</span><span class="op" id="3753969">)</span>&nbsp;<span class="op" id="3753971">(</span><span class="op" id="3753972">[</span><span class="op" id="3753973">]</span><span class="builtintype" id="3753974">byte</span><span class="op" id="3753978">,</span>&nbsp;<span class="builtintype" id="3753980">error</span><span class="op" id="3753985">)</span>&nbsp;<span class="op" id="3753987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3753990">if</span>&nbsp;<span class="ident" id="3753993">x</span>&nbsp;<span class="op" id="3753995">==</span>&nbsp;<span class="ident" id="3753998">nil</span>&nbsp;<span class="op" id="3754002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754006">return</span>&nbsp;<span class="ident" id="3754013">nil</span><span class="op" id="3754016">,</span>&nbsp;<span class="ident" id="3754018">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3754023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754026">buf</span>&nbsp;<span class="op" id="3754030">:=</span>&nbsp;<span class="builtinfunc" id="3754033">make</span><span class="op" id="3754037">(</span><span class="op" id="3754038">[</span><span class="op" id="3754039">]</span><span class="builtintype" id="3754040">byte</span><span class="op" id="3754044">,</span>&nbsp;<span class="num" id="3754046">1</span><span class="op" id="3754047">+</span><span class="builtinfunc" id="3754048">len</span><span class="op" id="3754051">(</span><span class="ident" id="3754052">x</span><span class="op" id="3754053">.</span><span class="ident" id="3754054">abs</span><span class="op" id="3754057">)</span><span class="op" id="3754058">*</span><span class="ident" id="3754059">_S</span><span class="op" id="3754061">)</span>&nbsp;<span class="comment" id="3754063">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754103">i</span>&nbsp;<span class="op" id="3754105">:=</span>&nbsp;<span class="ident" id="3754108">x</span><span class="op" id="3754109">.</span><span class="ident" id="3754110">abs</span><span class="op" id="3754113">.</span><span class="ident" id="3754114">bytes</span><span class="op" id="3754119">(</span><span class="ident" id="3754120">buf</span><span class="op" id="3754123">)</span>&nbsp;<span class="op" id="3754125">-</span>&nbsp;<span class="num" id="3754127">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3754140">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754151">b</span>&nbsp;<span class="op" id="3754153">:=</span>&nbsp;<span class="ident" id="3754156">intGobVersion</span>&nbsp;<span class="op" id="3754170">&lt;&lt;</span>&nbsp;<span class="num" id="3754173">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3754188">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754216">if</span>&nbsp;<span class="ident" id="3754219">x</span><span class="op" id="3754220">.</span><span class="ident" id="3754221">neg</span>&nbsp;<span class="op" id="3754225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754229">b</span>&nbsp;<span class="op" id="3754231">|=</span>&nbsp;<span class="num" id="3754234">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3754237">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754240">buf</span><span class="op" id="3754243">[</span><span class="ident" id="3754244">i</span><span class="op" id="3754245">]</span>&nbsp;<span class="op" id="3754247">=</span>&nbsp;<span class="ident" id="3754249">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754252">return</span>&nbsp;<span class="ident" id="3754259">buf</span><span class="op" id="3754262">[</span><span class="ident" id="3754263">i</span><span class="op" id="3754264">:</span><span class="op" id="3754265">]</span><span class="op" id="3754266">,</span>&nbsp;<span class="ident" id="3754268">nil</span><br>
<span class="lineno"></span><span class="op" id="3754272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3754275">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="3754329">func</span>&nbsp;<span class="op" id="3754334">(</span><span class="ident" id="3754335">z</span>&nbsp;<span class="op" id="3754337">*</span><span class="ident" id="3754338">Int</span><span class="op" id="3754341">)</span>&nbsp;<span class="ident" id="3754343">GobDecode</span><span class="op" id="3754352">(</span><span class="ident" id="3754353">buf</span>&nbsp;<span class="op" id="3754357">[</span><span class="op" id="3754358">]</span><span class="builtintype" id="3754359">byte</span><span class="op" id="3754363">)</span>&nbsp;<span class="builtintype" id="3754365">error</span>&nbsp;<span class="op" id="3754371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754374">if</span>&nbsp;<span class="builtinfunc" id="3754377">len</span><span class="op" id="3754380">(</span><span class="ident" id="3754381">buf</span><span class="op" id="3754384">)</span>&nbsp;<span class="op" id="3754386">==</span>&nbsp;<span class="num" id="3754389">0</span>&nbsp;<span class="op" id="3754391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3754395">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3754440">*</span><span class="ident" id="3754441">z</span>&nbsp;<span class="op" id="3754443">=</span>&nbsp;<span class="ident" id="3754445">Int</span><span class="op" id="3754448">{</span><span class="op" id="3754449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754453">return</span>&nbsp;<span class="ident" id="3754460">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3754465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754468">b</span>&nbsp;<span class="op" id="3754470">:=</span>&nbsp;<span class="ident" id="3754473">buf</span><span class="op" id="3754476">[</span><span class="num" id="3754477">0</span><span class="op" id="3754478">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754481">if</span>&nbsp;<span class="ident" id="3754484">b</span><span class="op" id="3754485">&gt;&gt;</span><span class="num" id="3754487">1</span>&nbsp;<span class="op" id="3754489">!=</span>&nbsp;<span class="ident" id="3754492">intGobVersion</span>&nbsp;<span class="op" id="3754506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754510">return</span>&nbsp;<span class="ident" id="3754517">errors</span><span class="op" id="3754523">.</span><span class="ident" id="3754524">New</span><span class="op" id="3754527">(</span><span class="ident" id="3754528">fmt</span><span class="op" id="3754531">.</span><span class="ident" id="3754532">Sprintf</span><span class="op" id="3754539">(</span><span class="string" id="3754540">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="3754590">,</span>&nbsp;<span class="ident" id="3754592">b</span><span class="op" id="3754593">&gt;&gt;</span><span class="num" id="3754595">1</span><span class="op" id="3754596">)</span><span class="op" id="3754597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3754600">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754603">z</span><span class="op" id="3754604">.</span><span class="ident" id="3754605">neg</span>&nbsp;<span class="op" id="3754609">=</span>&nbsp;<span class="ident" id="3754611">b</span><span class="op" id="3754612">&amp;</span><span class="num" id="3754613">1</span>&nbsp;<span class="op" id="3754615">!=</span>&nbsp;<span class="num" id="3754618">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3754621">z</span><span class="op" id="3754622">.</span><span class="ident" id="3754623">abs</span>&nbsp;<span class="op" id="3754627">=</span>&nbsp;<span class="ident" id="3754629">z</span><span class="op" id="3754630">.</span><span class="ident" id="3754631">abs</span><span class="op" id="3754634">.</span><span class="ident" id="3754635">setBytes</span><span class="op" id="3754643">(</span><span class="ident" id="3754644">buf</span><span class="op" id="3754647">[</span><span class="num" id="3754648">1</span><span class="op" id="3754649">:</span><span class="op" id="3754650">]</span><span class="op" id="3754651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754654">return</span>&nbsp;<span class="ident" id="3754661">nil</span><br>
<span class="lineno"></span><span class="op" id="3754665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="3754668">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3754724">func</span>&nbsp;<span class="op" id="3754729">(</span><span class="ident" id="3754730">z</span>&nbsp;<span class="op" id="3754732">*</span><span class="ident" id="3754733">Int</span><span class="op" id="3754736">)</span>&nbsp;<span class="ident" id="3754738">MarshalJSON</span><span class="op" id="3754749">(</span><span class="op" id="3754750">)</span>&nbsp;<span class="op" id="3754752">(</span><span class="op" id="3754753">[</span><span class="op" id="3754754">]</span><span class="builtintype" id="3754755">byte</span><span class="op" id="3754759">,</span>&nbsp;<span class="builtintype" id="3754761">error</span><span class="op" id="3754766">)</span>&nbsp;<span class="op" id="3754768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3754771">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3754827">return</span>&nbsp;<span class="op" id="3754834">[</span><span class="op" id="3754835">]</span><span class="builtintype" id="3754836">byte</span><span class="op" id="3754840">(</span><span class="ident" id="3754841">z</span><span class="op" id="3754842">.</span><span class="ident" id="3754843">String</span><span class="op" id="3754849">(</span><span class="op" id="3754850">)</span><span class="op" id="3754851">)</span><span class="op" id="3754852">,</span>&nbsp;<span class="ident" id="3754854">nil</span><br>
<span class="lineno"></span><span class="op" id="3754858">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="3754861">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3754921">func</span>&nbsp;<span class="op" id="3754926">(</span><span class="ident" id="3754927">z</span>&nbsp;<span class="op" id="3754929">*</span><span class="ident" id="3754930">Int</span><span class="op" id="3754933">)</span>&nbsp;<span class="ident" id="3754935">UnmarshalJSON</span><span class="op" id="3754948">(</span><span class="ident" id="3754949">text</span>&nbsp;<span class="op" id="3754954">[</span><span class="op" id="3754955">]</span><span class="builtintype" id="3754956">byte</span><span class="op" id="3754960">)</span>&nbsp;<span class="builtintype" id="3754962">error</span>&nbsp;<span class="op" id="3754968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3754971">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755027">if</span>&nbsp;<span class="ident" id="3755030">_</span><span class="op" id="3755031">,</span>&nbsp;<span class="ident" id="3755033">ok</span>&nbsp;<span class="op" id="3755036">:=</span>&nbsp;<span class="ident" id="3755039">z</span><span class="op" id="3755040">.</span><span class="ident" id="3755041">SetString</span><span class="op" id="3755050">(</span><span class="builtintype" id="3755051">string</span><span class="op" id="3755057">(</span><span class="ident" id="3755058">text</span><span class="op" id="3755062">)</span><span class="op" id="3755063">,</span>&nbsp;<span class="num" id="3755065">0</span><span class="op" id="3755066">)</span><span class="op" id="3755067">;</span>&nbsp;<span class="op" id="3755069">!</span><span class="ident" id="3755070">ok</span>&nbsp;<span class="op" id="3755073">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755077">return</span>&nbsp;<span class="ident" id="3755084">fmt</span><span class="op" id="3755087">.</span><span class="ident" id="3755088">Errorf</span><span class="op" id="3755094">(</span><span class="string" id="3755095">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3755142">,</span>&nbsp;<span class="ident" id="3755144">text</span><span class="op" id="3755148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3755151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755154">return</span>&nbsp;<span class="ident" id="3755161">nil</span><br>
<span class="lineno"></span><span class="op" id="3755165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="3755168">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3755232">func</span>&nbsp;<span class="op" id="3755237">(</span><span class="ident" id="3755238">z</span>&nbsp;<span class="op" id="3755240">*</span><span class="ident" id="3755241">Int</span><span class="op" id="3755244">)</span>&nbsp;<span class="ident" id="3755246">MarshalText</span><span class="op" id="3755257">(</span><span class="op" id="3755258">)</span>&nbsp;<span class="op" id="3755260">(</span><span class="ident" id="3755261">text</span>&nbsp;<span class="op" id="3755266">[</span><span class="op" id="3755267">]</span><span class="builtintype" id="3755268">byte</span><span class="op" id="3755272">,</span>&nbsp;<span class="ident" id="3755274">err</span>&nbsp;<span class="builtintype" id="3755278">error</span><span class="op" id="3755283">)</span>&nbsp;<span class="op" id="3755285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755288">return</span>&nbsp;<span class="op" id="3755295">[</span><span class="op" id="3755296">]</span><span class="builtintype" id="3755297">byte</span><span class="op" id="3755301">(</span><span class="ident" id="3755302">z</span><span class="op" id="3755303">.</span><span class="ident" id="3755304">String</span><span class="op" id="3755310">(</span><span class="op" id="3755311">)</span><span class="op" id="3755312">)</span><span class="op" id="3755313">,</span>&nbsp;<span class="ident" id="3755315">nil</span><br>
<span class="lineno"></span><span class="op" id="3755319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="3755322">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3755390">func</span>&nbsp;<span class="op" id="3755395">(</span><span class="ident" id="3755396">z</span>&nbsp;<span class="op" id="3755398">*</span><span class="ident" id="3755399">Int</span><span class="op" id="3755402">)</span>&nbsp;<span class="ident" id="3755404">UnmarshalText</span><span class="op" id="3755417">(</span><span class="ident" id="3755418">text</span>&nbsp;<span class="op" id="3755423">[</span><span class="op" id="3755424">]</span><span class="builtintype" id="3755425">byte</span><span class="op" id="3755429">)</span>&nbsp;<span class="builtintype" id="3755431">error</span>&nbsp;<span class="op" id="3755437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755440">if</span>&nbsp;<span class="ident" id="3755443">_</span><span class="op" id="3755444">,</span>&nbsp;<span class="ident" id="3755446">ok</span>&nbsp;<span class="op" id="3755449">:=</span>&nbsp;<span class="ident" id="3755452">z</span><span class="op" id="3755453">.</span><span class="ident" id="3755454">SetString</span><span class="op" id="3755463">(</span><span class="builtintype" id="3755464">string</span><span class="op" id="3755470">(</span><span class="ident" id="3755471">text</span><span class="op" id="3755475">)</span><span class="op" id="3755476">,</span>&nbsp;<span class="num" id="3755478">0</span><span class="op" id="3755479">)</span><span class="op" id="3755480">;</span>&nbsp;<span class="op" id="3755482">!</span><span class="ident" id="3755483">ok</span>&nbsp;<span class="op" id="3755486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755490">return</span>&nbsp;<span class="ident" id="3755497">fmt</span><span class="op" id="3755500">.</span><span class="ident" id="3755501">Errorf</span><span class="op" id="3755507">(</span><span class="string" id="3755508">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3755555">,</span>&nbsp;<span class="ident" id="3755557">text</span><span class="op" id="3755561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3755564">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3755567">return</span>&nbsp;<span class="ident" id="3755574">nil</span><br>
<span class="lineno"></span><span class="op" id="3755578">}</span>
</div>
</body>
</html>
