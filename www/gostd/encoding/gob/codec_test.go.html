<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8021901">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8021956">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8022010">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8022061">package</span>&nbsp;<span class="ident" id="8022069">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8022074">import</span>&nbsp;<span class="op" id="8022081">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8022084">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8022093">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8022103">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8022111">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8022119">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8022132">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8022143">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8022154">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8022165">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8022172">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8022175">var</span>&nbsp;<span class="ident" id="8022179">doFuzzTests</span>&nbsp;<span class="op" id="8022191">=</span>&nbsp;<span class="ident" id="8022193">flag</span><span class="op" id="8022197">.</span><span class="ident" id="8022198">Bool</span><span class="op" id="8022202">(</span><span class="string" id="8022203">&#34;gob.fuzz&#34;</span><span class="op" id="8022213">,</span>&nbsp;<span class="builtintype" id="8022215">false</span><span class="op" id="8022220">,</span>&nbsp;<span class="string" id="8022222">&#34;run&nbsp;the&nbsp;fuzz&nbsp;tests,&nbsp;which&nbsp;are&nbsp;large&nbsp;and&nbsp;very&nbsp;slow&#34;</span><span class="op" id="8022273">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8022276">//&nbsp;Guarantee&nbsp;encoding&nbsp;format&nbsp;by&nbsp;comparing&nbsp;some&nbsp;encodings&nbsp;to&nbsp;hand-written&nbsp;values</span><br>
<span class="lineno"></span><span class="keyword" id="8022356">type</span>&nbsp;<span class="ident" id="8022361">EncodeT</span>&nbsp;<span class="keyword" id="8022369">struct</span>&nbsp;<span class="op" id="8022376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8022379">x</span>&nbsp;<span class="ident" id="8022381">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8022389">b</span>&nbsp;<span class="op" id="8022391">[</span><span class="op" id="8022392">]</span><span class="builtintype" id="8022393">byte</span><br>
<span class="lineno">25</span><span class="op" id="8022398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8022401">var</span>&nbsp;<span class="ident" id="8022405">encodeT</span>&nbsp;<span class="op" id="8022413">=</span>&nbsp;<span class="op" id="8022415">[</span><span class="op" id="8022416">]</span><span class="ident" id="8022417">EncodeT</span><span class="op" id="8022424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022427">{</span><span class="num" id="8022428">0x00</span><span class="op" id="8022432">,</span>&nbsp;<span class="op" id="8022434">[</span><span class="op" id="8022435">]</span><span class="builtintype" id="8022436">byte</span><span class="op" id="8022440">{</span><span class="num" id="8022441">0x00</span><span class="op" id="8022445">}</span><span class="op" id="8022446">}</span><span class="op" id="8022447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022450">{</span><span class="num" id="8022451">0x0F</span><span class="op" id="8022455">,</span>&nbsp;<span class="op" id="8022457">[</span><span class="op" id="8022458">]</span><span class="builtintype" id="8022459">byte</span><span class="op" id="8022463">{</span><span class="num" id="8022464">0x0F</span><span class="op" id="8022468">}</span><span class="op" id="8022469">}</span><span class="op" id="8022470">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022473">{</span><span class="num" id="8022474">0xFF</span><span class="op" id="8022478">,</span>&nbsp;<span class="op" id="8022480">[</span><span class="op" id="8022481">]</span><span class="builtintype" id="8022482">byte</span><span class="op" id="8022486">{</span><span class="num" id="8022487">0xFF</span><span class="op" id="8022491">,</span>&nbsp;<span class="num" id="8022493">0xFF</span><span class="op" id="8022497">}</span><span class="op" id="8022498">}</span><span class="op" id="8022499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022502">{</span><span class="num" id="8022503">0xFFFF</span><span class="op" id="8022509">,</span>&nbsp;<span class="op" id="8022511">[</span><span class="op" id="8022512">]</span><span class="builtintype" id="8022513">byte</span><span class="op" id="8022517">{</span><span class="num" id="8022518">0xFE</span><span class="op" id="8022522">,</span>&nbsp;<span class="num" id="8022524">0xFF</span><span class="op" id="8022528">,</span>&nbsp;<span class="num" id="8022530">0xFF</span><span class="op" id="8022534">}</span><span class="op" id="8022535">}</span><span class="op" id="8022536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022539">{</span><span class="num" id="8022540">0xFFFFFF</span><span class="op" id="8022548">,</span>&nbsp;<span class="op" id="8022550">[</span><span class="op" id="8022551">]</span><span class="builtintype" id="8022552">byte</span><span class="op" id="8022556">{</span><span class="num" id="8022557">0xFD</span><span class="op" id="8022561">,</span>&nbsp;<span class="num" id="8022563">0xFF</span><span class="op" id="8022567">,</span>&nbsp;<span class="num" id="8022569">0xFF</span><span class="op" id="8022573">,</span>&nbsp;<span class="num" id="8022575">0xFF</span><span class="op" id="8022579">}</span><span class="op" id="8022580">}</span><span class="op" id="8022581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022584">{</span><span class="num" id="8022585">0xFFFFFFFF</span><span class="op" id="8022595">,</span>&nbsp;<span class="op" id="8022597">[</span><span class="op" id="8022598">]</span><span class="builtintype" id="8022599">byte</span><span class="op" id="8022603">{</span><span class="num" id="8022604">0xFC</span><span class="op" id="8022608">,</span>&nbsp;<span class="num" id="8022610">0xFF</span><span class="op" id="8022614">,</span>&nbsp;<span class="num" id="8022616">0xFF</span><span class="op" id="8022620">,</span>&nbsp;<span class="num" id="8022622">0xFF</span><span class="op" id="8022626">,</span>&nbsp;<span class="num" id="8022628">0xFF</span><span class="op" id="8022632">}</span><span class="op" id="8022633">}</span><span class="op" id="8022634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022637">{</span><span class="num" id="8022638">0xFFFFFFFFFF</span><span class="op" id="8022650">,</span>&nbsp;<span class="op" id="8022652">[</span><span class="op" id="8022653">]</span><span class="builtintype" id="8022654">byte</span><span class="op" id="8022658">{</span><span class="num" id="8022659">0xFB</span><span class="op" id="8022663">,</span>&nbsp;<span class="num" id="8022665">0xFF</span><span class="op" id="8022669">,</span>&nbsp;<span class="num" id="8022671">0xFF</span><span class="op" id="8022675">,</span>&nbsp;<span class="num" id="8022677">0xFF</span><span class="op" id="8022681">,</span>&nbsp;<span class="num" id="8022683">0xFF</span><span class="op" id="8022687">,</span>&nbsp;<span class="num" id="8022689">0xFF</span><span class="op" id="8022693">}</span><span class="op" id="8022694">}</span><span class="op" id="8022695">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022698">{</span><span class="num" id="8022699">0xFFFFFFFFFFFF</span><span class="op" id="8022713">,</span>&nbsp;<span class="op" id="8022715">[</span><span class="op" id="8022716">]</span><span class="builtintype" id="8022717">byte</span><span class="op" id="8022721">{</span><span class="num" id="8022722">0xFA</span><span class="op" id="8022726">,</span>&nbsp;<span class="num" id="8022728">0xFF</span><span class="op" id="8022732">,</span>&nbsp;<span class="num" id="8022734">0xFF</span><span class="op" id="8022738">,</span>&nbsp;<span class="num" id="8022740">0xFF</span><span class="op" id="8022744">,</span>&nbsp;<span class="num" id="8022746">0xFF</span><span class="op" id="8022750">,</span>&nbsp;<span class="num" id="8022752">0xFF</span><span class="op" id="8022756">,</span>&nbsp;<span class="num" id="8022758">0xFF</span><span class="op" id="8022762">}</span><span class="op" id="8022763">}</span><span class="op" id="8022764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022767">{</span><span class="num" id="8022768">0xFFFFFFFFFFFFFF</span><span class="op" id="8022784">,</span>&nbsp;<span class="op" id="8022786">[</span><span class="op" id="8022787">]</span><span class="builtintype" id="8022788">byte</span><span class="op" id="8022792">{</span><span class="num" id="8022793">0xF9</span><span class="op" id="8022797">,</span>&nbsp;<span class="num" id="8022799">0xFF</span><span class="op" id="8022803">,</span>&nbsp;<span class="num" id="8022805">0xFF</span><span class="op" id="8022809">,</span>&nbsp;<span class="num" id="8022811">0xFF</span><span class="op" id="8022815">,</span>&nbsp;<span class="num" id="8022817">0xFF</span><span class="op" id="8022821">,</span>&nbsp;<span class="num" id="8022823">0xFF</span><span class="op" id="8022827">,</span>&nbsp;<span class="num" id="8022829">0xFF</span><span class="op" id="8022833">,</span>&nbsp;<span class="num" id="8022835">0xFF</span><span class="op" id="8022839">}</span><span class="op" id="8022840">}</span><span class="op" id="8022841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022844">{</span><span class="num" id="8022845">0xFFFFFFFFFFFFFFFF</span><span class="op" id="8022863">,</span>&nbsp;<span class="op" id="8022865">[</span><span class="op" id="8022866">]</span><span class="builtintype" id="8022867">byte</span><span class="op" id="8022871">{</span><span class="num" id="8022872">0xF8</span><span class="op" id="8022876">,</span>&nbsp;<span class="num" id="8022878">0xFF</span><span class="op" id="8022882">,</span>&nbsp;<span class="num" id="8022884">0xFF</span><span class="op" id="8022888">,</span>&nbsp;<span class="num" id="8022890">0xFF</span><span class="op" id="8022894">,</span>&nbsp;<span class="num" id="8022896">0xFF</span><span class="op" id="8022900">,</span>&nbsp;<span class="num" id="8022902">0xFF</span><span class="op" id="8022906">,</span>&nbsp;<span class="num" id="8022908">0xFF</span><span class="op" id="8022912">,</span>&nbsp;<span class="num" id="8022914">0xFF</span><span class="op" id="8022918">,</span>&nbsp;<span class="num" id="8022920">0xFF</span><span class="op" id="8022924">}</span><span class="op" id="8022925">}</span><span class="op" id="8022926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022929">{</span><span class="num" id="8022930">0x1111</span><span class="op" id="8022936">,</span>&nbsp;<span class="op" id="8022938">[</span><span class="op" id="8022939">]</span><span class="builtintype" id="8022940">byte</span><span class="op" id="8022944">{</span><span class="num" id="8022945">0xFE</span><span class="op" id="8022949">,</span>&nbsp;<span class="num" id="8022951">0x11</span><span class="op" id="8022955">,</span>&nbsp;<span class="num" id="8022957">0x11</span><span class="op" id="8022961">}</span><span class="op" id="8022962">}</span><span class="op" id="8022963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8022966">{</span><span class="num" id="8022967">0x1111111111111111</span><span class="op" id="8022985">,</span>&nbsp;<span class="op" id="8022987">[</span><span class="op" id="8022988">]</span><span class="builtintype" id="8022989">byte</span><span class="op" id="8022993">{</span><span class="num" id="8022994">0xF8</span><span class="op" id="8022998">,</span>&nbsp;<span class="num" id="8023000">0x11</span><span class="op" id="8023004">,</span>&nbsp;<span class="num" id="8023006">0x11</span><span class="op" id="8023010">,</span>&nbsp;<span class="num" id="8023012">0x11</span><span class="op" id="8023016">,</span>&nbsp;<span class="num" id="8023018">0x11</span><span class="op" id="8023022">,</span>&nbsp;<span class="num" id="8023024">0x11</span><span class="op" id="8023028">,</span>&nbsp;<span class="num" id="8023030">0x11</span><span class="op" id="8023034">,</span>&nbsp;<span class="num" id="8023036">0x11</span><span class="op" id="8023040">,</span>&nbsp;<span class="num" id="8023042">0x11</span><span class="op" id="8023046">}</span><span class="op" id="8023047">}</span><span class="op" id="8023048">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8023051">{</span><span class="num" id="8023052">0x8888888888888888</span><span class="op" id="8023070">,</span>&nbsp;<span class="op" id="8023072">[</span><span class="op" id="8023073">]</span><span class="builtintype" id="8023074">byte</span><span class="op" id="8023078">{</span><span class="num" id="8023079">0xF8</span><span class="op" id="8023083">,</span>&nbsp;<span class="num" id="8023085">0x88</span><span class="op" id="8023089">,</span>&nbsp;<span class="num" id="8023091">0x88</span><span class="op" id="8023095">,</span>&nbsp;<span class="num" id="8023097">0x88</span><span class="op" id="8023101">,</span>&nbsp;<span class="num" id="8023103">0x88</span><span class="op" id="8023107">,</span>&nbsp;<span class="num" id="8023109">0x88</span><span class="op" id="8023113">,</span>&nbsp;<span class="num" id="8023115">0x88</span><span class="op" id="8023119">,</span>&nbsp;<span class="num" id="8023121">0x88</span><span class="op" id="8023125">,</span>&nbsp;<span class="num" id="8023127">0x88</span><span class="op" id="8023131">}</span><span class="op" id="8023132">}</span><span class="op" id="8023133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8023136">{</span><span class="num" id="8023137">1</span>&nbsp;<span class="op" id="8023139">&lt;&lt;</span>&nbsp;<span class="num" id="8023142">63</span><span class="op" id="8023144">,</span>&nbsp;<span class="op" id="8023146">[</span><span class="op" id="8023147">]</span><span class="builtintype" id="8023148">byte</span><span class="op" id="8023152">{</span><span class="num" id="8023153">0xF8</span><span class="op" id="8023157">,</span>&nbsp;<span class="num" id="8023159">0x80</span><span class="op" id="8023163">,</span>&nbsp;<span class="num" id="8023165">0x00</span><span class="op" id="8023169">,</span>&nbsp;<span class="num" id="8023171">0x00</span><span class="op" id="8023175">,</span>&nbsp;<span class="num" id="8023177">0x00</span><span class="op" id="8023181">,</span>&nbsp;<span class="num" id="8023183">0x00</span><span class="op" id="8023187">,</span>&nbsp;<span class="num" id="8023189">0x00</span><span class="op" id="8023193">,</span>&nbsp;<span class="num" id="8023195">0x00</span><span class="op" id="8023199">,</span>&nbsp;<span class="num" id="8023201">0x00</span><span class="op" id="8023205">}</span><span class="op" id="8023206">}</span><span class="op" id="8023207">,</span><br>
<span class="lineno"></span><span class="op" id="8023209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8023212">//&nbsp;testError&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;deferred&nbsp;function&nbsp;to&nbsp;turn&nbsp;a&nbsp;panic(gobError)&nbsp;into&nbsp;a</span><br>
<span class="lineno">45</span><span class="comment" id="8023301">//&nbsp;plain&nbsp;test.Error&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="8023327">func</span>&nbsp;<span class="ident" id="8023332">testError</span><span class="op" id="8023341">(</span><span class="ident" id="8023342">t</span>&nbsp;<span class="op" id="8023344">*</span><span class="ident" id="8023345">testing</span><span class="op" id="8023352">.</span><span class="ident" id="8023353">T</span><span class="op" id="8023354">)</span>&nbsp;<span class="op" id="8023356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8023359">if</span>&nbsp;<span class="ident" id="8023362">e</span>&nbsp;<span class="op" id="8023364">:=</span>&nbsp;<span class="builtinfunc" id="8023367">recover</span><span class="op" id="8023374">(</span><span class="op" id="8023375">)</span><span class="op" id="8023376">;</span>&nbsp;<span class="ident" id="8023378">e</span>&nbsp;<span class="op" id="8023380">!=</span>&nbsp;<span class="ident" id="8023383">nil</span>&nbsp;<span class="op" id="8023387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023391">t</span><span class="op" id="8023392">.</span><span class="ident" id="8023393">Error</span><span class="op" id="8023398">(</span><span class="ident" id="8023399">e</span><span class="op" id="8023400">.</span><span class="op" id="8023401">(</span><span class="ident" id="8023402">gobError</span><span class="op" id="8023410">)</span><span class="op" id="8023411">.</span><span class="ident" id="8023412">err</span><span class="op" id="8023415">)</span>&nbsp;<span class="comment" id="8023417">//&nbsp;Will&nbsp;re-panic&nbsp;if&nbsp;not&nbsp;one&nbsp;of&nbsp;our&nbsp;errors,&nbsp;such&nbsp;as&nbsp;a&nbsp;runtime&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8023486">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8023489">return</span><br>
<span class="lineno"></span><span class="op" id="8023496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8023499">func</span>&nbsp;<span class="ident" id="8023504">newDecBuffer</span><span class="op" id="8023516">(</span><span class="ident" id="8023517">data</span>&nbsp;<span class="op" id="8023522">[</span><span class="op" id="8023523">]</span><span class="builtintype" id="8023524">byte</span><span class="op" id="8023528">)</span>&nbsp;<span class="op" id="8023530">*</span><span class="ident" id="8023531">decBuffer</span>&nbsp;<span class="op" id="8023541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8023544">return</span>&nbsp;<span class="op" id="8023551">&amp;</span><span class="ident" id="8023552">decBuffer</span><span class="op" id="8023561">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023565">data</span><span class="op" id="8023569">:</span>&nbsp;<span class="ident" id="8023571">data</span><span class="op" id="8023575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8023578">}</span><br>
<span class="lineno"></span><span class="op" id="8023580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8023583">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;unsigned&nbsp;integers</span><br>
<span class="lineno">60</span><span class="keyword" id="8023642">func</span>&nbsp;<span class="ident" id="8023647">TestUintCodec</span><span class="op" id="8023660">(</span><span class="ident" id="8023661">t</span>&nbsp;<span class="op" id="8023663">*</span><span class="ident" id="8023664">testing</span><span class="op" id="8023671">.</span><span class="ident" id="8023672">T</span><span class="op" id="8023673">)</span>&nbsp;<span class="op" id="8023675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8023678">defer</span>&nbsp;<span class="ident" id="8023684">testError</span><span class="op" id="8023693">(</span><span class="ident" id="8023694">t</span><span class="op" id="8023695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023698">b</span>&nbsp;<span class="op" id="8023700">:=</span>&nbsp;<span class="builtinfunc" id="8023703">new</span><span class="op" id="8023706">(</span><span class="ident" id="8023707">encBuffer</span><span class="op" id="8023716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023719">encState</span>&nbsp;<span class="op" id="8023728">:=</span>&nbsp;<span class="ident" id="8023731">newEncoderState</span><span class="op" id="8023746">(</span><span class="ident" id="8023747">b</span><span class="op" id="8023748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8023751">for</span>&nbsp;<span class="ident" id="8023755">_</span><span class="op" id="8023756">,</span>&nbsp;<span class="ident" id="8023758">tt</span>&nbsp;<span class="op" id="8023761">:=</span>&nbsp;<span class="keyword" id="8023764">range</span>&nbsp;<span class="ident" id="8023770">encodeT</span>&nbsp;<span class="op" id="8023778">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023782">b</span><span class="op" id="8023783">.</span><span class="ident" id="8023784">Reset</span><span class="op" id="8023789">(</span><span class="op" id="8023790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023794">encState</span><span class="op" id="8023802">.</span><span class="ident" id="8023803">encodeUint</span><span class="op" id="8023813">(</span><span class="ident" id="8023814">tt</span><span class="op" id="8023816">.</span><span class="ident" id="8023817">x</span><span class="op" id="8023818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8023822">if</span>&nbsp;<span class="op" id="8023825">!</span><span class="ident" id="8023826">bytes</span><span class="op" id="8023831">.</span><span class="ident" id="8023832">Equal</span><span class="op" id="8023837">(</span><span class="ident" id="8023838">tt</span><span class="op" id="8023840">.</span><span class="ident" id="8023841">b</span><span class="op" id="8023842">,</span>&nbsp;<span class="ident" id="8023844">b</span><span class="op" id="8023845">.</span><span class="ident" id="8023846">Bytes</span><span class="op" id="8023851">(</span><span class="op" id="8023852">)</span><span class="op" id="8023853">)</span>&nbsp;<span class="op" id="8023855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023860">t</span><span class="op" id="8023861">.</span><span class="ident" id="8023862">Errorf</span><span class="op" id="8023868">(</span><span class="string" id="8023869">&#34;encodeUint:&nbsp;%#x&nbsp;encode:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8023915">,</span>&nbsp;<span class="ident" id="8023917">tt</span><span class="op" id="8023919">.</span><span class="ident" id="8023920">x</span><span class="op" id="8023921">,</span>&nbsp;<span class="ident" id="8023923">tt</span><span class="op" id="8023925">.</span><span class="ident" id="8023926">b</span><span class="op" id="8023927">,</span>&nbsp;<span class="ident" id="8023929">b</span><span class="op" id="8023930">.</span><span class="ident" id="8023931">Bytes</span><span class="op" id="8023936">(</span><span class="op" id="8023937">)</span><span class="op" id="8023938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8023942">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8023945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8023948">for</span>&nbsp;<span class="ident" id="8023952">u</span>&nbsp;<span class="op" id="8023954">:=</span>&nbsp;<span class="ident" id="8023957">uint64</span><span class="op" id="8023963">(</span><span class="num" id="8023964">0</span><span class="op" id="8023965">)</span><span class="op" id="8023966">;</span>&nbsp;<span class="op" id="8023968">;</span>&nbsp;<span class="ident" id="8023970">u</span>&nbsp;<span class="op" id="8023972">=</span>&nbsp;<span class="op" id="8023974">(</span><span class="ident" id="8023975">u</span>&nbsp;<span class="op" id="8023977">+</span>&nbsp;<span class="num" id="8023979">1</span><span class="op" id="8023980">)</span>&nbsp;<span class="op" id="8023982">*</span>&nbsp;<span class="num" id="8023984">7</span>&nbsp;<span class="op" id="8023986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023990">b</span><span class="op" id="8023991">.</span><span class="ident" id="8023992">Reset</span><span class="op" id="8023997">(</span><span class="op" id="8023998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024002">encState</span><span class="op" id="8024010">.</span><span class="ident" id="8024011">encodeUint</span><span class="op" id="8024021">(</span><span class="ident" id="8024022">u</span><span class="op" id="8024023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024027">decState</span>&nbsp;<span class="op" id="8024036">:=</span>&nbsp;<span class="ident" id="8024039">newDecodeState</span><span class="op" id="8024053">(</span><span class="ident" id="8024054">newDecBuffer</span><span class="op" id="8024066">(</span><span class="ident" id="8024067">b</span><span class="op" id="8024068">.</span><span class="ident" id="8024069">Bytes</span><span class="op" id="8024074">(</span><span class="op" id="8024075">)</span><span class="op" id="8024076">)</span><span class="op" id="8024077">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024081">v</span>&nbsp;<span class="op" id="8024083">:=</span>&nbsp;<span class="ident" id="8024086">decState</span><span class="op" id="8024094">.</span><span class="ident" id="8024095">decodeUint</span><span class="op" id="8024105">(</span><span class="op" id="8024106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024110">if</span>&nbsp;<span class="ident" id="8024113">u</span>&nbsp;<span class="op" id="8024115">!=</span>&nbsp;<span class="ident" id="8024118">v</span>&nbsp;<span class="op" id="8024120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024125">t</span><span class="op" id="8024126">.</span><span class="ident" id="8024127">Errorf</span><span class="op" id="8024133">(</span><span class="string" id="8024134">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8024172">,</span>&nbsp;<span class="ident" id="8024174">u</span><span class="op" id="8024175">,</span>&nbsp;<span class="ident" id="8024177">v</span><span class="op" id="8024178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024186">if</span>&nbsp;<span class="ident" id="8024189">u</span><span class="op" id="8024190">&amp;</span><span class="op" id="8024191">(</span><span class="num" id="8024192">1</span><span class="op" id="8024193">&lt;&lt;</span><span class="num" id="8024195">63</span><span class="op" id="8024197">)</span>&nbsp;<span class="op" id="8024199">!=</span>&nbsp;<span class="num" id="8024202">0</span>&nbsp;<span class="op" id="8024204">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024209">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024220">}</span><br>
<span class="lineno"></span><span class="op" id="8024222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="8024225">func</span>&nbsp;<span class="ident" id="8024230">verifyInt</span><span class="op" id="8024239">(</span><span class="ident" id="8024240">i</span>&nbsp;<span class="ident" id="8024242">int64</span><span class="op" id="8024247">,</span>&nbsp;<span class="ident" id="8024249">t</span>&nbsp;<span class="op" id="8024251">*</span><span class="ident" id="8024252">testing</span><span class="op" id="8024259">.</span><span class="ident" id="8024260">T</span><span class="op" id="8024261">)</span>&nbsp;<span class="op" id="8024263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024266">defer</span>&nbsp;<span class="ident" id="8024272">testError</span><span class="op" id="8024281">(</span><span class="ident" id="8024282">t</span><span class="op" id="8024283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024286">var</span>&nbsp;<span class="ident" id="8024290">b</span>&nbsp;<span class="op" id="8024292">=</span>&nbsp;<span class="builtinfunc" id="8024294">new</span><span class="op" id="8024297">(</span><span class="ident" id="8024298">encBuffer</span><span class="op" id="8024307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024310">encState</span>&nbsp;<span class="op" id="8024319">:=</span>&nbsp;<span class="ident" id="8024322">newEncoderState</span><span class="op" id="8024337">(</span><span class="ident" id="8024338">b</span><span class="op" id="8024339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024342">encState</span><span class="op" id="8024350">.</span><span class="ident" id="8024351">encodeInt</span><span class="op" id="8024360">(</span><span class="ident" id="8024361">i</span><span class="op" id="8024362">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024365">decState</span>&nbsp;<span class="op" id="8024374">:=</span>&nbsp;<span class="ident" id="8024377">newDecodeState</span><span class="op" id="8024391">(</span><span class="ident" id="8024392">newDecBuffer</span><span class="op" id="8024404">(</span><span class="ident" id="8024405">b</span><span class="op" id="8024406">.</span><span class="ident" id="8024407">Bytes</span><span class="op" id="8024412">(</span><span class="op" id="8024413">)</span><span class="op" id="8024414">)</span><span class="op" id="8024415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024418">decState</span><span class="op" id="8024426">.</span><span class="ident" id="8024427">buf</span>&nbsp;<span class="op" id="8024431">=</span>&nbsp;<span class="builtinfunc" id="8024433">make</span><span class="op" id="8024437">(</span><span class="op" id="8024438">[</span><span class="op" id="8024439">]</span><span class="builtintype" id="8024440">byte</span><span class="op" id="8024444">,</span>&nbsp;<span class="num" id="8024446">8</span><span class="op" id="8024447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024450">j</span>&nbsp;<span class="op" id="8024452">:=</span>&nbsp;<span class="ident" id="8024455">decState</span><span class="op" id="8024463">.</span><span class="ident" id="8024464">decodeInt</span><span class="op" id="8024473">(</span><span class="op" id="8024474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024477">if</span>&nbsp;<span class="ident" id="8024480">i</span>&nbsp;<span class="op" id="8024482">!=</span>&nbsp;<span class="ident" id="8024485">j</span>&nbsp;<span class="op" id="8024487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024491">t</span><span class="op" id="8024492">.</span><span class="ident" id="8024493">Errorf</span><span class="op" id="8024499">(</span><span class="string" id="8024500">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8024538">,</span>&nbsp;<span class="ident" id="8024540">uint64</span><span class="op" id="8024546">(</span><span class="ident" id="8024547">i</span><span class="op" id="8024548">)</span><span class="op" id="8024549">,</span>&nbsp;<span class="ident" id="8024551">uint64</span><span class="op" id="8024557">(</span><span class="ident" id="8024558">j</span><span class="op" id="8024559">)</span><span class="op" id="8024560">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024563">}</span><br>
<span class="lineno"></span><span class="op" id="8024565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8024568">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;signed&nbsp;integers</span><br>
<span class="lineno"></span><span class="keyword" id="8024625">func</span>&nbsp;<span class="ident" id="8024630">TestIntCodec</span><span class="op" id="8024642">(</span><span class="ident" id="8024643">t</span>&nbsp;<span class="op" id="8024645">*</span><span class="ident" id="8024646">testing</span><span class="op" id="8024653">.</span><span class="ident" id="8024654">T</span><span class="op" id="8024655">)</span>&nbsp;<span class="op" id="8024657">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024660">for</span>&nbsp;<span class="ident" id="8024664">u</span>&nbsp;<span class="op" id="8024666">:=</span>&nbsp;<span class="ident" id="8024669">uint64</span><span class="op" id="8024675">(</span><span class="num" id="8024676">0</span><span class="op" id="8024677">)</span><span class="op" id="8024678">;</span>&nbsp;<span class="op" id="8024680">;</span>&nbsp;<span class="ident" id="8024682">u</span>&nbsp;<span class="op" id="8024684">=</span>&nbsp;<span class="op" id="8024686">(</span><span class="ident" id="8024687">u</span>&nbsp;<span class="op" id="8024689">+</span>&nbsp;<span class="num" id="8024691">1</span><span class="op" id="8024692">)</span>&nbsp;<span class="op" id="8024694">*</span>&nbsp;<span class="num" id="8024696">7</span>&nbsp;<span class="op" id="8024698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8024702">//&nbsp;Do&nbsp;positive&nbsp;and&nbsp;negative&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024739">i</span>&nbsp;<span class="op" id="8024741">:=</span>&nbsp;<span class="ident" id="8024744">int64</span><span class="op" id="8024749">(</span><span class="ident" id="8024750">u</span><span class="op" id="8024751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024755">verifyInt</span><span class="op" id="8024764">(</span><span class="ident" id="8024765">i</span><span class="op" id="8024766">,</span>&nbsp;<span class="ident" id="8024768">t</span><span class="op" id="8024769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024773">verifyInt</span><span class="op" id="8024782">(</span><span class="op" id="8024783">-</span><span class="ident" id="8024784">i</span><span class="op" id="8024785">,</span>&nbsp;<span class="ident" id="8024787">t</span><span class="op" id="8024788">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024792">verifyInt</span><span class="op" id="8024801">(</span><span class="op" id="8024802">^</span><span class="ident" id="8024803">i</span><span class="op" id="8024804">,</span>&nbsp;<span class="ident" id="8024806">t</span><span class="op" id="8024807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024811">if</span>&nbsp;<span class="ident" id="8024814">u</span><span class="op" id="8024815">&amp;</span><span class="op" id="8024816">(</span><span class="num" id="8024817">1</span><span class="op" id="8024818">&lt;&lt;</span><span class="num" id="8024820">63</span><span class="op" id="8024822">)</span>&nbsp;<span class="op" id="8024824">!=</span>&nbsp;<span class="num" id="8024827">0</span>&nbsp;<span class="op" id="8024829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024834">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024845">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024848">verifyInt</span><span class="op" id="8024857">(</span><span class="op" id="8024858">-</span><span class="num" id="8024859">1</span><span class="op" id="8024860">&lt;&lt;</span><span class="num" id="8024862">63</span><span class="op" id="8024864">,</span>&nbsp;<span class="ident" id="8024866">t</span><span class="op" id="8024867">)</span>&nbsp;<span class="comment" id="8024869">//&nbsp;a&nbsp;tricky&nbsp;case</span><br>
<span class="lineno"></span><span class="op" id="8024886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8024889">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;true&nbsp;boolean&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8024950">var</span>&nbsp;<span class="ident" id="8024954">boolResult</span>&nbsp;<span class="op" id="8024965">=</span>&nbsp;<span class="op" id="8024967">[</span><span class="op" id="8024968">]</span><span class="builtintype" id="8024969">byte</span><span class="op" id="8024973">{</span><span class="num" id="8024974">0x07</span><span class="op" id="8024978">,</span>&nbsp;<span class="num" id="8024980">0x01</span><span class="op" id="8024984">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="8024987">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8025045">var</span>&nbsp;<span class="ident" id="8025049">signedResult</span>&nbsp;<span class="op" id="8025062">=</span>&nbsp;<span class="op" id="8025064">[</span><span class="op" id="8025065">]</span><span class="builtintype" id="8025066">byte</span><span class="op" id="8025070">{</span><span class="num" id="8025071">0x07</span><span class="op" id="8025075">,</span>&nbsp;<span class="num" id="8025077">2</span>&nbsp;<span class="op" id="8025079">*</span>&nbsp;<span class="num" id="8025081">17</span><span class="op" id="8025083">}</span><br>
<span class="lineno"></span><span class="keyword" id="8025085">var</span>&nbsp;<span class="ident" id="8025089">unsignedResult</span>&nbsp;<span class="op" id="8025104">=</span>&nbsp;<span class="op" id="8025106">[</span><span class="op" id="8025107">]</span><span class="builtintype" id="8025108">byte</span><span class="op" id="8025112">{</span><span class="num" id="8025113">0x07</span><span class="op" id="8025117">,</span>&nbsp;<span class="num" id="8025119">17</span><span class="op" id="8025121">}</span><br>
<span class="lineno"></span><span class="keyword" id="8025123">var</span>&nbsp;<span class="ident" id="8025127">floatResult</span>&nbsp;<span class="op" id="8025139">=</span>&nbsp;<span class="op" id="8025141">[</span><span class="op" id="8025142">]</span><span class="builtintype" id="8025143">byte</span><span class="op" id="8025147">{</span><span class="num" id="8025148">0x07</span><span class="op" id="8025152">,</span>&nbsp;<span class="num" id="8025154">0xFE</span><span class="op" id="8025158">,</span>&nbsp;<span class="num" id="8025160">0x31</span><span class="op" id="8025164">,</span>&nbsp;<span class="num" id="8025166">0x40</span><span class="op" id="8025170">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="8025173">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17+19i&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8025235">var</span>&nbsp;<span class="ident" id="8025239">complexResult</span>&nbsp;<span class="op" id="8025253">=</span>&nbsp;<span class="op" id="8025255">[</span><span class="op" id="8025256">]</span><span class="builtintype" id="8025257">byte</span><span class="op" id="8025261">{</span><span class="num" id="8025262">0x07</span><span class="op" id="8025266">,</span>&nbsp;<span class="num" id="8025268">0xFE</span><span class="op" id="8025272">,</span>&nbsp;<span class="num" id="8025274">0x31</span><span class="op" id="8025278">,</span>&nbsp;<span class="num" id="8025280">0x40</span><span class="op" id="8025284">,</span>&nbsp;<span class="num" id="8025286">0xFE</span><span class="op" id="8025290">,</span>&nbsp;<span class="num" id="8025292">0x33</span><span class="op" id="8025296">,</span>&nbsp;<span class="num" id="8025298">0x40</span><span class="op" id="8025302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8025305">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;&#34;hello&#34;&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno">125</span><span class="keyword" id="8025359">var</span>&nbsp;<span class="ident" id="8025363">bytesResult</span>&nbsp;<span class="op" id="8025375">=</span>&nbsp;<span class="op" id="8025377">[</span><span class="op" id="8025378">]</span><span class="builtintype" id="8025379">byte</span><span class="op" id="8025383">{</span><span class="num" id="8025384">0x07</span><span class="op" id="8025388">,</span>&nbsp;<span class="num" id="8025390">0x05</span><span class="op" id="8025394">,</span>&nbsp;<span class="string" id="8025396">&#39;h&#39;</span><span class="op" id="8025399">,</span>&nbsp;<span class="string" id="8025401">&#39;e&#39;</span><span class="op" id="8025404">,</span>&nbsp;<span class="string" id="8025406">&#39;l&#39;</span><span class="op" id="8025409">,</span>&nbsp;<span class="string" id="8025411">&#39;l&#39;</span><span class="op" id="8025414">,</span>&nbsp;<span class="string" id="8025416">&#39;o&#39;</span><span class="op" id="8025419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8025422">func</span>&nbsp;<span class="ident" id="8025427">newDecodeState</span><span class="op" id="8025441">(</span><span class="ident" id="8025442">buf</span>&nbsp;<span class="op" id="8025446">*</span><span class="ident" id="8025447">decBuffer</span><span class="op" id="8025456">)</span>&nbsp;<span class="op" id="8025458">*</span><span class="ident" id="8025459">decoderState</span>&nbsp;<span class="op" id="8025472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025475">d</span>&nbsp;<span class="op" id="8025477">:=</span>&nbsp;<span class="builtinfunc" id="8025480">new</span><span class="op" id="8025483">(</span><span class="ident" id="8025484">decoderState</span><span class="op" id="8025496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025499">d</span><span class="op" id="8025500">.</span><span class="ident" id="8025501">b</span>&nbsp;<span class="op" id="8025503">=</span>&nbsp;<span class="ident" id="8025505">buf</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025510">d</span><span class="op" id="8025511">.</span><span class="ident" id="8025512">buf</span>&nbsp;<span class="op" id="8025516">=</span>&nbsp;<span class="builtinfunc" id="8025518">make</span><span class="op" id="8025522">(</span><span class="op" id="8025523">[</span><span class="op" id="8025524">]</span><span class="builtintype" id="8025525">byte</span><span class="op" id="8025529">,</span>&nbsp;<span class="ident" id="8025531">uint64Size</span><span class="op" id="8025541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025544">return</span>&nbsp;<span class="ident" id="8025551">d</span><br>
<span class="lineno"></span><span class="op" id="8025553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8025556">func</span>&nbsp;<span class="ident" id="8025561">newEncoderState</span><span class="op" id="8025576">(</span><span class="ident" id="8025577">b</span>&nbsp;<span class="op" id="8025579">*</span><span class="ident" id="8025580">encBuffer</span><span class="op" id="8025589">)</span>&nbsp;<span class="op" id="8025591">*</span><span class="ident" id="8025592">encoderState</span>&nbsp;<span class="op" id="8025605">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025608">b</span><span class="op" id="8025609">.</span><span class="ident" id="8025610">Reset</span><span class="op" id="8025615">(</span><span class="op" id="8025616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025619">state</span>&nbsp;<span class="op" id="8025625">:=</span>&nbsp;<span class="op" id="8025628">&amp;</span><span class="ident" id="8025629">encoderState</span><span class="op" id="8025641">{</span><span class="ident" id="8025642">enc</span><span class="op" id="8025645">:</span>&nbsp;<span class="ident" id="8025647">nil</span><span class="op" id="8025650">,</span>&nbsp;<span class="ident" id="8025652">b</span><span class="op" id="8025653">:</span>&nbsp;<span class="ident" id="8025655">b</span><span class="op" id="8025656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025659">state</span><span class="op" id="8025664">.</span><span class="ident" id="8025665">fieldnum</span>&nbsp;<span class="op" id="8025674">=</span>&nbsp;<span class="op" id="8025676">-</span><span class="num" id="8025677">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025680">return</span>&nbsp;<span class="ident" id="8025687">state</span><br>
<span class="lineno"></span><span class="op" id="8025693">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="8025696">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="8025740">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="keyword" id="8025823">func</span>&nbsp;<span class="ident" id="8025828">TestScalarEncInstructions</span><span class="op" id="8025853">(</span><span class="ident" id="8025854">t</span>&nbsp;<span class="op" id="8025856">*</span><span class="ident" id="8025857">testing</span><span class="op" id="8025864">.</span><span class="ident" id="8025865">T</span><span class="op" id="8025866">)</span>&nbsp;<span class="op" id="8025868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025871">var</span>&nbsp;<span class="ident" id="8025875">b</span>&nbsp;<span class="op" id="8025877">=</span>&nbsp;<span class="builtinfunc" id="8025879">new</span><span class="op" id="8025882">(</span><span class="ident" id="8025883">encBuffer</span><span class="op" id="8025892">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8025896">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025909">var</span>&nbsp;<span class="ident" id="8025913">data</span>&nbsp;<span class="builtintype" id="8025918">bool</span>&nbsp;<span class="op" id="8025923">=</span>&nbsp;<span class="builtintype" id="8025925">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025932">instr</span>&nbsp;<span class="op" id="8025938">:=</span>&nbsp;<span class="op" id="8025941">&amp;</span><span class="ident" id="8025942">encInstr</span><span class="op" id="8025950">{</span><span class="ident" id="8025951">encBool</span><span class="op" id="8025958">,</span>&nbsp;<span class="num" id="8025960">6</span><span class="op" id="8025961">,</span>&nbsp;<span class="ident" id="8025963">nil</span><span class="op" id="8025966">,</span>&nbsp;<span class="num" id="8025968">0</span><span class="op" id="8025969">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025973">state</span>&nbsp;<span class="op" id="8025979">:=</span>&nbsp;<span class="ident" id="8025982">newEncoderState</span><span class="op" id="8025997">(</span><span class="ident" id="8025998">b</span><span class="op" id="8025999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026003">instr</span><span class="op" id="8026008">.</span><span class="ident" id="8026009">op</span><span class="op" id="8026011">(</span><span class="ident" id="8026012">instr</span><span class="op" id="8026017">,</span>&nbsp;<span class="ident" id="8026019">state</span><span class="op" id="8026024">,</span>&nbsp;<span class="ident" id="8026026">reflect</span><span class="op" id="8026033">.</span><span class="ident" id="8026034">ValueOf</span><span class="op" id="8026041">(</span><span class="ident" id="8026042">data</span><span class="op" id="8026046">)</span><span class="op" id="8026047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026051">if</span>&nbsp;<span class="op" id="8026054">!</span><span class="ident" id="8026055">bytes</span><span class="op" id="8026060">.</span><span class="ident" id="8026061">Equal</span><span class="op" id="8026066">(</span><span class="ident" id="8026067">boolResult</span><span class="op" id="8026077">,</span>&nbsp;<span class="ident" id="8026079">b</span><span class="op" id="8026080">.</span><span class="ident" id="8026081">Bytes</span><span class="op" id="8026086">(</span><span class="op" id="8026087">)</span><span class="op" id="8026088">)</span>&nbsp;<span class="op" id="8026090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026095">t</span><span class="op" id="8026096">.</span><span class="ident" id="8026097">Errorf</span><span class="op" id="8026103">(</span><span class="string" id="8026104">&#34;bool&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8026149">,</span>&nbsp;<span class="ident" id="8026151">boolResult</span><span class="op" id="8026161">,</span>&nbsp;<span class="ident" id="8026163">b</span><span class="op" id="8026164">.</span><span class="ident" id="8026165">Bytes</span><span class="op" id="8026170">(</span><span class="op" id="8026171">)</span><span class="op" id="8026172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026176">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8026183">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026195">b</span><span class="op" id="8026196">.</span><span class="ident" id="8026197">Reset</span><span class="op" id="8026202">(</span><span class="op" id="8026203">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026207">var</span>&nbsp;<span class="ident" id="8026211">data</span>&nbsp;<span class="builtintype" id="8026216">int</span>&nbsp;<span class="op" id="8026220">=</span>&nbsp;<span class="num" id="8026222">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026227">instr</span>&nbsp;<span class="op" id="8026233">:=</span>&nbsp;<span class="op" id="8026236">&amp;</span><span class="ident" id="8026237">encInstr</span><span class="op" id="8026245">{</span><span class="ident" id="8026246">encInt</span><span class="op" id="8026252">,</span>&nbsp;<span class="num" id="8026254">6</span><span class="op" id="8026255">,</span>&nbsp;<span class="ident" id="8026257">nil</span><span class="op" id="8026260">,</span>&nbsp;<span class="num" id="8026262">0</span><span class="op" id="8026263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026267">state</span>&nbsp;<span class="op" id="8026273">:=</span>&nbsp;<span class="ident" id="8026276">newEncoderState</span><span class="op" id="8026291">(</span><span class="ident" id="8026292">b</span><span class="op" id="8026293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026297">instr</span><span class="op" id="8026302">.</span><span class="ident" id="8026303">op</span><span class="op" id="8026305">(</span><span class="ident" id="8026306">instr</span><span class="op" id="8026311">,</span>&nbsp;<span class="ident" id="8026313">state</span><span class="op" id="8026318">,</span>&nbsp;<span class="ident" id="8026320">reflect</span><span class="op" id="8026327">.</span><span class="ident" id="8026328">ValueOf</span><span class="op" id="8026335">(</span><span class="ident" id="8026336">data</span><span class="op" id="8026340">)</span><span class="op" id="8026341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026345">if</span>&nbsp;<span class="op" id="8026348">!</span><span class="ident" id="8026349">bytes</span><span class="op" id="8026354">.</span><span class="ident" id="8026355">Equal</span><span class="op" id="8026360">(</span><span class="ident" id="8026361">signedResult</span><span class="op" id="8026373">,</span>&nbsp;<span class="ident" id="8026375">b</span><span class="op" id="8026376">.</span><span class="ident" id="8026377">Bytes</span><span class="op" id="8026382">(</span><span class="op" id="8026383">)</span><span class="op" id="8026384">)</span>&nbsp;<span class="op" id="8026386">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026391">t</span><span class="op" id="8026392">.</span><span class="ident" id="8026393">Errorf</span><span class="op" id="8026399">(</span><span class="string" id="8026400">&#34;int&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8026444">,</span>&nbsp;<span class="ident" id="8026446">signedResult</span><span class="op" id="8026458">,</span>&nbsp;<span class="ident" id="8026460">b</span><span class="op" id="8026461">.</span><span class="ident" id="8026462">Bytes</span><span class="op" id="8026467">(</span><span class="op" id="8026468">)</span><span class="op" id="8026469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8026480">//&nbsp;uint</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026493">b</span><span class="op" id="8026494">.</span><span class="ident" id="8026495">Reset</span><span class="op" id="8026500">(</span><span class="op" id="8026501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026505">var</span>&nbsp;<span class="ident" id="8026509">data</span>&nbsp;<span class="builtintype" id="8026514">uint</span>&nbsp;<span class="op" id="8026519">=</span>&nbsp;<span class="num" id="8026521">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026526">instr</span>&nbsp;<span class="op" id="8026532">:=</span>&nbsp;<span class="op" id="8026535">&amp;</span><span class="ident" id="8026536">encInstr</span><span class="op" id="8026544">{</span><span class="ident" id="8026545">encUint</span><span class="op" id="8026552">,</span>&nbsp;<span class="num" id="8026554">6</span><span class="op" id="8026555">,</span>&nbsp;<span class="ident" id="8026557">nil</span><span class="op" id="8026560">,</span>&nbsp;<span class="num" id="8026562">0</span><span class="op" id="8026563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026567">state</span>&nbsp;<span class="op" id="8026573">:=</span>&nbsp;<span class="ident" id="8026576">newEncoderState</span><span class="op" id="8026591">(</span><span class="ident" id="8026592">b</span><span class="op" id="8026593">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026597">instr</span><span class="op" id="8026602">.</span><span class="ident" id="8026603">op</span><span class="op" id="8026605">(</span><span class="ident" id="8026606">instr</span><span class="op" id="8026611">,</span>&nbsp;<span class="ident" id="8026613">state</span><span class="op" id="8026618">,</span>&nbsp;<span class="ident" id="8026620">reflect</span><span class="op" id="8026627">.</span><span class="ident" id="8026628">ValueOf</span><span class="op" id="8026635">(</span><span class="ident" id="8026636">data</span><span class="op" id="8026640">)</span><span class="op" id="8026641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026645">if</span>&nbsp;<span class="op" id="8026648">!</span><span class="ident" id="8026649">bytes</span><span class="op" id="8026654">.</span><span class="ident" id="8026655">Equal</span><span class="op" id="8026660">(</span><span class="ident" id="8026661">unsignedResult</span><span class="op" id="8026675">,</span>&nbsp;<span class="ident" id="8026677">b</span><span class="op" id="8026678">.</span><span class="ident" id="8026679">Bytes</span><span class="op" id="8026684">(</span><span class="op" id="8026685">)</span><span class="op" id="8026686">)</span>&nbsp;<span class="op" id="8026688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026693">t</span><span class="op" id="8026694">.</span><span class="ident" id="8026695">Errorf</span><span class="op" id="8026701">(</span><span class="string" id="8026702">&#34;uint&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8026747">,</span>&nbsp;<span class="ident" id="8026749">unsignedResult</span><span class="op" id="8026763">,</span>&nbsp;<span class="ident" id="8026765">b</span><span class="op" id="8026766">.</span><span class="ident" id="8026767">Bytes</span><span class="op" id="8026772">(</span><span class="op" id="8026773">)</span><span class="op" id="8026774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026781">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8026785">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026798">b</span><span class="op" id="8026799">.</span><span class="ident" id="8026800">Reset</span><span class="op" id="8026805">(</span><span class="op" id="8026806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026810">var</span>&nbsp;<span class="ident" id="8026814">data</span>&nbsp;<span class="builtintype" id="8026819">int8</span>&nbsp;<span class="op" id="8026824">=</span>&nbsp;<span class="num" id="8026826">17</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026831">instr</span>&nbsp;<span class="op" id="8026837">:=</span>&nbsp;<span class="op" id="8026840">&amp;</span><span class="ident" id="8026841">encInstr</span><span class="op" id="8026849">{</span><span class="ident" id="8026850">encInt</span><span class="op" id="8026856">,</span>&nbsp;<span class="num" id="8026858">6</span><span class="op" id="8026859">,</span>&nbsp;<span class="ident" id="8026861">nil</span><span class="op" id="8026864">,</span>&nbsp;<span class="num" id="8026866">0</span><span class="op" id="8026867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026871">state</span>&nbsp;<span class="op" id="8026877">:=</span>&nbsp;<span class="ident" id="8026880">newEncoderState</span><span class="op" id="8026895">(</span><span class="ident" id="8026896">b</span><span class="op" id="8026897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026901">instr</span><span class="op" id="8026906">.</span><span class="ident" id="8026907">op</span><span class="op" id="8026909">(</span><span class="ident" id="8026910">instr</span><span class="op" id="8026915">,</span>&nbsp;<span class="ident" id="8026917">state</span><span class="op" id="8026922">,</span>&nbsp;<span class="ident" id="8026924">reflect</span><span class="op" id="8026931">.</span><span class="ident" id="8026932">ValueOf</span><span class="op" id="8026939">(</span><span class="ident" id="8026940">data</span><span class="op" id="8026944">)</span><span class="op" id="8026945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026949">if</span>&nbsp;<span class="op" id="8026952">!</span><span class="ident" id="8026953">bytes</span><span class="op" id="8026958">.</span><span class="ident" id="8026959">Equal</span><span class="op" id="8026964">(</span><span class="ident" id="8026965">signedResult</span><span class="op" id="8026977">,</span>&nbsp;<span class="ident" id="8026979">b</span><span class="op" id="8026980">.</span><span class="ident" id="8026981">Bytes</span><span class="op" id="8026986">(</span><span class="op" id="8026987">)</span><span class="op" id="8026988">)</span>&nbsp;<span class="op" id="8026990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026995">t</span><span class="op" id="8026996">.</span><span class="ident" id="8026997">Errorf</span><span class="op" id="8027003">(</span><span class="string" id="8027004">&#34;int8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8027049">,</span>&nbsp;<span class="ident" id="8027051">signedResult</span><span class="op" id="8027063">,</span>&nbsp;<span class="ident" id="8027065">b</span><span class="op" id="8027066">.</span><span class="ident" id="8027067">Bytes</span><span class="op" id="8027072">(</span><span class="op" id="8027073">)</span><span class="op" id="8027074">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8027085">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027095">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027099">b</span><span class="op" id="8027100">.</span><span class="ident" id="8027101">Reset</span><span class="op" id="8027106">(</span><span class="op" id="8027107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027111">var</span>&nbsp;<span class="ident" id="8027115">data</span>&nbsp;<span class="builtintype" id="8027120">uint8</span>&nbsp;<span class="op" id="8027126">=</span>&nbsp;<span class="num" id="8027128">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027133">instr</span>&nbsp;<span class="op" id="8027139">:=</span>&nbsp;<span class="op" id="8027142">&amp;</span><span class="ident" id="8027143">encInstr</span><span class="op" id="8027151">{</span><span class="ident" id="8027152">encUint</span><span class="op" id="8027159">,</span>&nbsp;<span class="num" id="8027161">6</span><span class="op" id="8027162">,</span>&nbsp;<span class="ident" id="8027164">nil</span><span class="op" id="8027167">,</span>&nbsp;<span class="num" id="8027169">0</span><span class="op" id="8027170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027174">state</span>&nbsp;<span class="op" id="8027180">:=</span>&nbsp;<span class="ident" id="8027183">newEncoderState</span><span class="op" id="8027198">(</span><span class="ident" id="8027199">b</span><span class="op" id="8027200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027204">instr</span><span class="op" id="8027209">.</span><span class="ident" id="8027210">op</span><span class="op" id="8027212">(</span><span class="ident" id="8027213">instr</span><span class="op" id="8027218">,</span>&nbsp;<span class="ident" id="8027220">state</span><span class="op" id="8027225">,</span>&nbsp;<span class="ident" id="8027227">reflect</span><span class="op" id="8027234">.</span><span class="ident" id="8027235">ValueOf</span><span class="op" id="8027242">(</span><span class="ident" id="8027243">data</span><span class="op" id="8027247">)</span><span class="op" id="8027248">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027252">if</span>&nbsp;<span class="op" id="8027255">!</span><span class="ident" id="8027256">bytes</span><span class="op" id="8027261">.</span><span class="ident" id="8027262">Equal</span><span class="op" id="8027267">(</span><span class="ident" id="8027268">unsignedResult</span><span class="op" id="8027282">,</span>&nbsp;<span class="ident" id="8027284">b</span><span class="op" id="8027285">.</span><span class="ident" id="8027286">Bytes</span><span class="op" id="8027291">(</span><span class="op" id="8027292">)</span><span class="op" id="8027293">)</span>&nbsp;<span class="op" id="8027295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027300">t</span><span class="op" id="8027301">.</span><span class="ident" id="8027302">Errorf</span><span class="op" id="8027308">(</span><span class="string" id="8027309">&#34;uint8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8027355">,</span>&nbsp;<span class="ident" id="8027357">unsignedResult</span><span class="op" id="8027371">,</span>&nbsp;<span class="ident" id="8027373">b</span><span class="op" id="8027374">.</span><span class="ident" id="8027375">Bytes</span><span class="op" id="8027380">(</span><span class="op" id="8027381">)</span><span class="op" id="8027382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8027393">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027407">b</span><span class="op" id="8027408">.</span><span class="ident" id="8027409">Reset</span><span class="op" id="8027414">(</span><span class="op" id="8027415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027419">var</span>&nbsp;<span class="ident" id="8027423">data</span>&nbsp;<span class="builtintype" id="8027428">int16</span>&nbsp;<span class="op" id="8027434">=</span>&nbsp;<span class="num" id="8027436">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027441">instr</span>&nbsp;<span class="op" id="8027447">:=</span>&nbsp;<span class="op" id="8027450">&amp;</span><span class="ident" id="8027451">encInstr</span><span class="op" id="8027459">{</span><span class="ident" id="8027460">encInt</span><span class="op" id="8027466">,</span>&nbsp;<span class="num" id="8027468">6</span><span class="op" id="8027469">,</span>&nbsp;<span class="ident" id="8027471">nil</span><span class="op" id="8027474">,</span>&nbsp;<span class="num" id="8027476">0</span><span class="op" id="8027477">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027481">state</span>&nbsp;<span class="op" id="8027487">:=</span>&nbsp;<span class="ident" id="8027490">newEncoderState</span><span class="op" id="8027505">(</span><span class="ident" id="8027506">b</span><span class="op" id="8027507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027511">instr</span><span class="op" id="8027516">.</span><span class="ident" id="8027517">op</span><span class="op" id="8027519">(</span><span class="ident" id="8027520">instr</span><span class="op" id="8027525">,</span>&nbsp;<span class="ident" id="8027527">state</span><span class="op" id="8027532">,</span>&nbsp;<span class="ident" id="8027534">reflect</span><span class="op" id="8027541">.</span><span class="ident" id="8027542">ValueOf</span><span class="op" id="8027549">(</span><span class="ident" id="8027550">data</span><span class="op" id="8027554">)</span><span class="op" id="8027555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027559">if</span>&nbsp;<span class="op" id="8027562">!</span><span class="ident" id="8027563">bytes</span><span class="op" id="8027568">.</span><span class="ident" id="8027569">Equal</span><span class="op" id="8027574">(</span><span class="ident" id="8027575">signedResult</span><span class="op" id="8027587">,</span>&nbsp;<span class="ident" id="8027589">b</span><span class="op" id="8027590">.</span><span class="ident" id="8027591">Bytes</span><span class="op" id="8027596">(</span><span class="op" id="8027597">)</span><span class="op" id="8027598">)</span>&nbsp;<span class="op" id="8027600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027605">t</span><span class="op" id="8027606">.</span><span class="ident" id="8027607">Errorf</span><span class="op" id="8027613">(</span><span class="string" id="8027614">&#34;int16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8027660">,</span>&nbsp;<span class="ident" id="8027662">signedResult</span><span class="op" id="8027674">,</span>&nbsp;<span class="ident" id="8027676">b</span><span class="op" id="8027677">.</span><span class="ident" id="8027678">Bytes</span><span class="op" id="8027683">(</span><span class="op" id="8027684">)</span><span class="op" id="8027685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027689">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8027696">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027711">b</span><span class="op" id="8027712">.</span><span class="ident" id="8027713">Reset</span><span class="op" id="8027718">(</span><span class="op" id="8027719">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027723">var</span>&nbsp;<span class="ident" id="8027727">data</span>&nbsp;<span class="builtintype" id="8027732">uint16</span>&nbsp;<span class="op" id="8027739">=</span>&nbsp;<span class="num" id="8027741">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027746">instr</span>&nbsp;<span class="op" id="8027752">:=</span>&nbsp;<span class="op" id="8027755">&amp;</span><span class="ident" id="8027756">encInstr</span><span class="op" id="8027764">{</span><span class="ident" id="8027765">encUint</span><span class="op" id="8027772">,</span>&nbsp;<span class="num" id="8027774">6</span><span class="op" id="8027775">,</span>&nbsp;<span class="ident" id="8027777">nil</span><span class="op" id="8027780">,</span>&nbsp;<span class="num" id="8027782">0</span><span class="op" id="8027783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027787">state</span>&nbsp;<span class="op" id="8027793">:=</span>&nbsp;<span class="ident" id="8027796">newEncoderState</span><span class="op" id="8027811">(</span><span class="ident" id="8027812">b</span><span class="op" id="8027813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027817">instr</span><span class="op" id="8027822">.</span><span class="ident" id="8027823">op</span><span class="op" id="8027825">(</span><span class="ident" id="8027826">instr</span><span class="op" id="8027831">,</span>&nbsp;<span class="ident" id="8027833">state</span><span class="op" id="8027838">,</span>&nbsp;<span class="ident" id="8027840">reflect</span><span class="op" id="8027847">.</span><span class="ident" id="8027848">ValueOf</span><span class="op" id="8027855">(</span><span class="ident" id="8027856">data</span><span class="op" id="8027860">)</span><span class="op" id="8027861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027865">if</span>&nbsp;<span class="op" id="8027868">!</span><span class="ident" id="8027869">bytes</span><span class="op" id="8027874">.</span><span class="ident" id="8027875">Equal</span><span class="op" id="8027880">(</span><span class="ident" id="8027881">unsignedResult</span><span class="op" id="8027895">,</span>&nbsp;<span class="ident" id="8027897">b</span><span class="op" id="8027898">.</span><span class="ident" id="8027899">Bytes</span><span class="op" id="8027904">(</span><span class="op" id="8027905">)</span><span class="op" id="8027906">)</span>&nbsp;<span class="op" id="8027908">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027913">t</span><span class="op" id="8027914">.</span><span class="ident" id="8027915">Errorf</span><span class="op" id="8027921">(</span><span class="string" id="8027922">&#34;uint16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8027969">,</span>&nbsp;<span class="ident" id="8027971">unsignedResult</span><span class="op" id="8027985">,</span>&nbsp;<span class="ident" id="8027987">b</span><span class="op" id="8027988">.</span><span class="ident" id="8027989">Bytes</span><span class="op" id="8027994">(</span><span class="op" id="8027995">)</span><span class="op" id="8027996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8028007">//&nbsp;int32</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028021">b</span><span class="op" id="8028022">.</span><span class="ident" id="8028023">Reset</span><span class="op" id="8028028">(</span><span class="op" id="8028029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028033">var</span>&nbsp;<span class="ident" id="8028037">data</span>&nbsp;<span class="builtintype" id="8028042">int32</span>&nbsp;<span class="op" id="8028048">=</span>&nbsp;<span class="num" id="8028050">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028055">instr</span>&nbsp;<span class="op" id="8028061">:=</span>&nbsp;<span class="op" id="8028064">&amp;</span><span class="ident" id="8028065">encInstr</span><span class="op" id="8028073">{</span><span class="ident" id="8028074">encInt</span><span class="op" id="8028080">,</span>&nbsp;<span class="num" id="8028082">6</span><span class="op" id="8028083">,</span>&nbsp;<span class="ident" id="8028085">nil</span><span class="op" id="8028088">,</span>&nbsp;<span class="num" id="8028090">0</span><span class="op" id="8028091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028095">state</span>&nbsp;<span class="op" id="8028101">:=</span>&nbsp;<span class="ident" id="8028104">newEncoderState</span><span class="op" id="8028119">(</span><span class="ident" id="8028120">b</span><span class="op" id="8028121">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028125">instr</span><span class="op" id="8028130">.</span><span class="ident" id="8028131">op</span><span class="op" id="8028133">(</span><span class="ident" id="8028134">instr</span><span class="op" id="8028139">,</span>&nbsp;<span class="ident" id="8028141">state</span><span class="op" id="8028146">,</span>&nbsp;<span class="ident" id="8028148">reflect</span><span class="op" id="8028155">.</span><span class="ident" id="8028156">ValueOf</span><span class="op" id="8028163">(</span><span class="ident" id="8028164">data</span><span class="op" id="8028168">)</span><span class="op" id="8028169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028173">if</span>&nbsp;<span class="op" id="8028176">!</span><span class="ident" id="8028177">bytes</span><span class="op" id="8028182">.</span><span class="ident" id="8028183">Equal</span><span class="op" id="8028188">(</span><span class="ident" id="8028189">signedResult</span><span class="op" id="8028201">,</span>&nbsp;<span class="ident" id="8028203">b</span><span class="op" id="8028204">.</span><span class="ident" id="8028205">Bytes</span><span class="op" id="8028210">(</span><span class="op" id="8028211">)</span><span class="op" id="8028212">)</span>&nbsp;<span class="op" id="8028214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028219">t</span><span class="op" id="8028220">.</span><span class="ident" id="8028221">Errorf</span><span class="op" id="8028227">(</span><span class="string" id="8028228">&#34;int32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8028274">,</span>&nbsp;<span class="ident" id="8028276">signedResult</span><span class="op" id="8028288">,</span>&nbsp;<span class="ident" id="8028290">b</span><span class="op" id="8028291">.</span><span class="ident" id="8028292">Bytes</span><span class="op" id="8028297">(</span><span class="op" id="8028298">)</span><span class="op" id="8028299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028306">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8028310">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028325">b</span><span class="op" id="8028326">.</span><span class="ident" id="8028327">Reset</span><span class="op" id="8028332">(</span><span class="op" id="8028333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028337">var</span>&nbsp;<span class="ident" id="8028341">data</span>&nbsp;<span class="builtintype" id="8028346">uint32</span>&nbsp;<span class="op" id="8028353">=</span>&nbsp;<span class="num" id="8028355">17</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028360">instr</span>&nbsp;<span class="op" id="8028366">:=</span>&nbsp;<span class="op" id="8028369">&amp;</span><span class="ident" id="8028370">encInstr</span><span class="op" id="8028378">{</span><span class="ident" id="8028379">encUint</span><span class="op" id="8028386">,</span>&nbsp;<span class="num" id="8028388">6</span><span class="op" id="8028389">,</span>&nbsp;<span class="ident" id="8028391">nil</span><span class="op" id="8028394">,</span>&nbsp;<span class="num" id="8028396">0</span><span class="op" id="8028397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028401">state</span>&nbsp;<span class="op" id="8028407">:=</span>&nbsp;<span class="ident" id="8028410">newEncoderState</span><span class="op" id="8028425">(</span><span class="ident" id="8028426">b</span><span class="op" id="8028427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028431">instr</span><span class="op" id="8028436">.</span><span class="ident" id="8028437">op</span><span class="op" id="8028439">(</span><span class="ident" id="8028440">instr</span><span class="op" id="8028445">,</span>&nbsp;<span class="ident" id="8028447">state</span><span class="op" id="8028452">,</span>&nbsp;<span class="ident" id="8028454">reflect</span><span class="op" id="8028461">.</span><span class="ident" id="8028462">ValueOf</span><span class="op" id="8028469">(</span><span class="ident" id="8028470">data</span><span class="op" id="8028474">)</span><span class="op" id="8028475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028479">if</span>&nbsp;<span class="op" id="8028482">!</span><span class="ident" id="8028483">bytes</span><span class="op" id="8028488">.</span><span class="ident" id="8028489">Equal</span><span class="op" id="8028494">(</span><span class="ident" id="8028495">unsignedResult</span><span class="op" id="8028509">,</span>&nbsp;<span class="ident" id="8028511">b</span><span class="op" id="8028512">.</span><span class="ident" id="8028513">Bytes</span><span class="op" id="8028518">(</span><span class="op" id="8028519">)</span><span class="op" id="8028520">)</span>&nbsp;<span class="op" id="8028522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028527">t</span><span class="op" id="8028528">.</span><span class="ident" id="8028529">Errorf</span><span class="op" id="8028535">(</span><span class="string" id="8028536">&#34;uint32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8028583">,</span>&nbsp;<span class="ident" id="8028585">unsignedResult</span><span class="op" id="8028599">,</span>&nbsp;<span class="ident" id="8028601">b</span><span class="op" id="8028602">.</span><span class="ident" id="8028603">Bytes</span><span class="op" id="8028608">(</span><span class="op" id="8028609">)</span><span class="op" id="8028610">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8028621">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028631">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028635">b</span><span class="op" id="8028636">.</span><span class="ident" id="8028637">Reset</span><span class="op" id="8028642">(</span><span class="op" id="8028643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028647">var</span>&nbsp;<span class="ident" id="8028651">data</span>&nbsp;<span class="ident" id="8028656">int64</span>&nbsp;<span class="op" id="8028662">=</span>&nbsp;<span class="num" id="8028664">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028669">instr</span>&nbsp;<span class="op" id="8028675">:=</span>&nbsp;<span class="op" id="8028678">&amp;</span><span class="ident" id="8028679">encInstr</span><span class="op" id="8028687">{</span><span class="ident" id="8028688">encInt</span><span class="op" id="8028694">,</span>&nbsp;<span class="num" id="8028696">6</span><span class="op" id="8028697">,</span>&nbsp;<span class="ident" id="8028699">nil</span><span class="op" id="8028702">,</span>&nbsp;<span class="num" id="8028704">0</span><span class="op" id="8028705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028709">state</span>&nbsp;<span class="op" id="8028715">:=</span>&nbsp;<span class="ident" id="8028718">newEncoderState</span><span class="op" id="8028733">(</span><span class="ident" id="8028734">b</span><span class="op" id="8028735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028739">instr</span><span class="op" id="8028744">.</span><span class="ident" id="8028745">op</span><span class="op" id="8028747">(</span><span class="ident" id="8028748">instr</span><span class="op" id="8028753">,</span>&nbsp;<span class="ident" id="8028755">state</span><span class="op" id="8028760">,</span>&nbsp;<span class="ident" id="8028762">reflect</span><span class="op" id="8028769">.</span><span class="ident" id="8028770">ValueOf</span><span class="op" id="8028777">(</span><span class="ident" id="8028778">data</span><span class="op" id="8028782">)</span><span class="op" id="8028783">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028787">if</span>&nbsp;<span class="op" id="8028790">!</span><span class="ident" id="8028791">bytes</span><span class="op" id="8028796">.</span><span class="ident" id="8028797">Equal</span><span class="op" id="8028802">(</span><span class="ident" id="8028803">signedResult</span><span class="op" id="8028815">,</span>&nbsp;<span class="ident" id="8028817">b</span><span class="op" id="8028818">.</span><span class="ident" id="8028819">Bytes</span><span class="op" id="8028824">(</span><span class="op" id="8028825">)</span><span class="op" id="8028826">)</span>&nbsp;<span class="op" id="8028828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028833">t</span><span class="op" id="8028834">.</span><span class="ident" id="8028835">Errorf</span><span class="op" id="8028841">(</span><span class="string" id="8028842">&#34;int64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8028888">,</span>&nbsp;<span class="ident" id="8028890">signedResult</span><span class="op" id="8028902">,</span>&nbsp;<span class="ident" id="8028904">b</span><span class="op" id="8028905">.</span><span class="ident" id="8028906">Bytes</span><span class="op" id="8028911">(</span><span class="op" id="8028912">)</span><span class="op" id="8028913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028920">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8028924">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028939">b</span><span class="op" id="8028940">.</span><span class="ident" id="8028941">Reset</span><span class="op" id="8028946">(</span><span class="op" id="8028947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028951">var</span>&nbsp;<span class="ident" id="8028955">data</span>&nbsp;<span class="ident" id="8028960">uint64</span>&nbsp;<span class="op" id="8028967">=</span>&nbsp;<span class="num" id="8028969">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028974">instr</span>&nbsp;<span class="op" id="8028980">:=</span>&nbsp;<span class="op" id="8028983">&amp;</span><span class="ident" id="8028984">encInstr</span><span class="op" id="8028992">{</span><span class="ident" id="8028993">encUint</span><span class="op" id="8029000">,</span>&nbsp;<span class="num" id="8029002">6</span><span class="op" id="8029003">,</span>&nbsp;<span class="ident" id="8029005">nil</span><span class="op" id="8029008">,</span>&nbsp;<span class="num" id="8029010">0</span><span class="op" id="8029011">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029015">state</span>&nbsp;<span class="op" id="8029021">:=</span>&nbsp;<span class="ident" id="8029024">newEncoderState</span><span class="op" id="8029039">(</span><span class="ident" id="8029040">b</span><span class="op" id="8029041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029045">instr</span><span class="op" id="8029050">.</span><span class="ident" id="8029051">op</span><span class="op" id="8029053">(</span><span class="ident" id="8029054">instr</span><span class="op" id="8029059">,</span>&nbsp;<span class="ident" id="8029061">state</span><span class="op" id="8029066">,</span>&nbsp;<span class="ident" id="8029068">reflect</span><span class="op" id="8029075">.</span><span class="ident" id="8029076">ValueOf</span><span class="op" id="8029083">(</span><span class="ident" id="8029084">data</span><span class="op" id="8029088">)</span><span class="op" id="8029089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029093">if</span>&nbsp;<span class="op" id="8029096">!</span><span class="ident" id="8029097">bytes</span><span class="op" id="8029102">.</span><span class="ident" id="8029103">Equal</span><span class="op" id="8029108">(</span><span class="ident" id="8029109">unsignedResult</span><span class="op" id="8029123">,</span>&nbsp;<span class="ident" id="8029125">b</span><span class="op" id="8029126">.</span><span class="ident" id="8029127">Bytes</span><span class="op" id="8029132">(</span><span class="op" id="8029133">)</span><span class="op" id="8029134">)</span>&nbsp;<span class="op" id="8029136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029141">t</span><span class="op" id="8029142">.</span><span class="ident" id="8029143">Errorf</span><span class="op" id="8029149">(</span><span class="string" id="8029150">&#34;uint64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8029197">,</span>&nbsp;<span class="ident" id="8029199">unsignedResult</span><span class="op" id="8029213">,</span>&nbsp;<span class="ident" id="8029215">b</span><span class="op" id="8029216">.</span><span class="ident" id="8029217">Bytes</span><span class="op" id="8029222">(</span><span class="op" id="8029223">)</span><span class="op" id="8029224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029228">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8029235">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029251">b</span><span class="op" id="8029252">.</span><span class="ident" id="8029253">Reset</span><span class="op" id="8029258">(</span><span class="op" id="8029259">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029263">var</span>&nbsp;<span class="ident" id="8029267">data</span>&nbsp;<span class="builtintype" id="8029272">float32</span>&nbsp;<span class="op" id="8029280">=</span>&nbsp;<span class="num" id="8029282">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029287">instr</span>&nbsp;<span class="op" id="8029293">:=</span>&nbsp;<span class="op" id="8029296">&amp;</span><span class="ident" id="8029297">encInstr</span><span class="op" id="8029305">{</span><span class="ident" id="8029306">encFloat</span><span class="op" id="8029314">,</span>&nbsp;<span class="num" id="8029316">6</span><span class="op" id="8029317">,</span>&nbsp;<span class="ident" id="8029319">nil</span><span class="op" id="8029322">,</span>&nbsp;<span class="num" id="8029324">0</span><span class="op" id="8029325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029329">state</span>&nbsp;<span class="op" id="8029335">:=</span>&nbsp;<span class="ident" id="8029338">newEncoderState</span><span class="op" id="8029353">(</span><span class="ident" id="8029354">b</span><span class="op" id="8029355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029359">instr</span><span class="op" id="8029364">.</span><span class="ident" id="8029365">op</span><span class="op" id="8029367">(</span><span class="ident" id="8029368">instr</span><span class="op" id="8029373">,</span>&nbsp;<span class="ident" id="8029375">state</span><span class="op" id="8029380">,</span>&nbsp;<span class="ident" id="8029382">reflect</span><span class="op" id="8029389">.</span><span class="ident" id="8029390">ValueOf</span><span class="op" id="8029397">(</span><span class="ident" id="8029398">data</span><span class="op" id="8029402">)</span><span class="op" id="8029403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029407">if</span>&nbsp;<span class="op" id="8029410">!</span><span class="ident" id="8029411">bytes</span><span class="op" id="8029416">.</span><span class="ident" id="8029417">Equal</span><span class="op" id="8029422">(</span><span class="ident" id="8029423">floatResult</span><span class="op" id="8029434">,</span>&nbsp;<span class="ident" id="8029436">b</span><span class="op" id="8029437">.</span><span class="ident" id="8029438">Bytes</span><span class="op" id="8029443">(</span><span class="op" id="8029444">)</span><span class="op" id="8029445">)</span>&nbsp;<span class="op" id="8029447">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029452">t</span><span class="op" id="8029453">.</span><span class="ident" id="8029454">Errorf</span><span class="op" id="8029460">(</span><span class="string" id="8029461">&#34;float32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8029509">,</span>&nbsp;<span class="ident" id="8029511">floatResult</span><span class="op" id="8029522">,</span>&nbsp;<span class="ident" id="8029524">b</span><span class="op" id="8029525">.</span><span class="ident" id="8029526">Bytes</span><span class="op" id="8029531">(</span><span class="op" id="8029532">)</span><span class="op" id="8029533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8029544">//&nbsp;float64</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029560">b</span><span class="op" id="8029561">.</span><span class="ident" id="8029562">Reset</span><span class="op" id="8029567">(</span><span class="op" id="8029568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029572">var</span>&nbsp;<span class="ident" id="8029576">data</span>&nbsp;<span class="builtintype" id="8029581">float64</span>&nbsp;<span class="op" id="8029589">=</span>&nbsp;<span class="num" id="8029591">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029596">instr</span>&nbsp;<span class="op" id="8029602">:=</span>&nbsp;<span class="op" id="8029605">&amp;</span><span class="ident" id="8029606">encInstr</span><span class="op" id="8029614">{</span><span class="ident" id="8029615">encFloat</span><span class="op" id="8029623">,</span>&nbsp;<span class="num" id="8029625">6</span><span class="op" id="8029626">,</span>&nbsp;<span class="ident" id="8029628">nil</span><span class="op" id="8029631">,</span>&nbsp;<span class="num" id="8029633">0</span><span class="op" id="8029634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029638">state</span>&nbsp;<span class="op" id="8029644">:=</span>&nbsp;<span class="ident" id="8029647">newEncoderState</span><span class="op" id="8029662">(</span><span class="ident" id="8029663">b</span><span class="op" id="8029664">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029668">instr</span><span class="op" id="8029673">.</span><span class="ident" id="8029674">op</span><span class="op" id="8029676">(</span><span class="ident" id="8029677">instr</span><span class="op" id="8029682">,</span>&nbsp;<span class="ident" id="8029684">state</span><span class="op" id="8029689">,</span>&nbsp;<span class="ident" id="8029691">reflect</span><span class="op" id="8029698">.</span><span class="ident" id="8029699">ValueOf</span><span class="op" id="8029706">(</span><span class="ident" id="8029707">data</span><span class="op" id="8029711">)</span><span class="op" id="8029712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029716">if</span>&nbsp;<span class="op" id="8029719">!</span><span class="ident" id="8029720">bytes</span><span class="op" id="8029725">.</span><span class="ident" id="8029726">Equal</span><span class="op" id="8029731">(</span><span class="ident" id="8029732">floatResult</span><span class="op" id="8029743">,</span>&nbsp;<span class="ident" id="8029745">b</span><span class="op" id="8029746">.</span><span class="ident" id="8029747">Bytes</span><span class="op" id="8029752">(</span><span class="op" id="8029753">)</span><span class="op" id="8029754">)</span>&nbsp;<span class="op" id="8029756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029761">t</span><span class="op" id="8029762">.</span><span class="ident" id="8029763">Errorf</span><span class="op" id="8029769">(</span><span class="string" id="8029770">&#34;float64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8029818">,</span>&nbsp;<span class="ident" id="8029820">floatResult</span><span class="op" id="8029831">,</span>&nbsp;<span class="ident" id="8029833">b</span><span class="op" id="8029834">.</span><span class="ident" id="8029835">Bytes</span><span class="op" id="8029840">(</span><span class="op" id="8029841">)</span><span class="op" id="8029842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029849">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8029853">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029878">b</span><span class="op" id="8029879">.</span><span class="ident" id="8029880">Reset</span><span class="op" id="8029885">(</span><span class="op" id="8029886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029890">data</span>&nbsp;<span class="op" id="8029895">:=</span>&nbsp;<span class="op" id="8029898">[</span><span class="op" id="8029899">]</span><span class="builtintype" id="8029900">byte</span><span class="op" id="8029904">(</span><span class="string" id="8029905">&#34;hello&#34;</span><span class="op" id="8029912">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029916">instr</span>&nbsp;<span class="op" id="8029922">:=</span>&nbsp;<span class="op" id="8029925">&amp;</span><span class="ident" id="8029926">encInstr</span><span class="op" id="8029934">{</span><span class="ident" id="8029935">encUint8Array</span><span class="op" id="8029948">,</span>&nbsp;<span class="num" id="8029950">6</span><span class="op" id="8029951">,</span>&nbsp;<span class="ident" id="8029953">nil</span><span class="op" id="8029956">,</span>&nbsp;<span class="num" id="8029958">0</span><span class="op" id="8029959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029963">state</span>&nbsp;<span class="op" id="8029969">:=</span>&nbsp;<span class="ident" id="8029972">newEncoderState</span><span class="op" id="8029987">(</span><span class="ident" id="8029988">b</span><span class="op" id="8029989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029993">instr</span><span class="op" id="8029998">.</span><span class="ident" id="8029999">op</span><span class="op" id="8030001">(</span><span class="ident" id="8030002">instr</span><span class="op" id="8030007">,</span>&nbsp;<span class="ident" id="8030009">state</span><span class="op" id="8030014">,</span>&nbsp;<span class="ident" id="8030016">reflect</span><span class="op" id="8030023">.</span><span class="ident" id="8030024">ValueOf</span><span class="op" id="8030031">(</span><span class="ident" id="8030032">data</span><span class="op" id="8030036">)</span><span class="op" id="8030037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030041">if</span>&nbsp;<span class="op" id="8030044">!</span><span class="ident" id="8030045">bytes</span><span class="op" id="8030050">.</span><span class="ident" id="8030051">Equal</span><span class="op" id="8030056">(</span><span class="ident" id="8030057">bytesResult</span><span class="op" id="8030068">,</span>&nbsp;<span class="ident" id="8030070">b</span><span class="op" id="8030071">.</span><span class="ident" id="8030072">Bytes</span><span class="op" id="8030077">(</span><span class="op" id="8030078">)</span><span class="op" id="8030079">)</span>&nbsp;<span class="op" id="8030081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030086">t</span><span class="op" id="8030087">.</span><span class="ident" id="8030088">Errorf</span><span class="op" id="8030094">(</span><span class="string" id="8030095">&#34;bytes&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8030141">,</span>&nbsp;<span class="ident" id="8030143">bytesResult</span><span class="op" id="8030154">,</span>&nbsp;<span class="ident" id="8030156">b</span><span class="op" id="8030157">.</span><span class="ident" id="8030158">Bytes</span><span class="op" id="8030163">(</span><span class="op" id="8030164">)</span><span class="op" id="8030165">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8030176">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030187">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030191">b</span><span class="op" id="8030192">.</span><span class="ident" id="8030193">Reset</span><span class="op" id="8030198">(</span><span class="op" id="8030199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030203">var</span>&nbsp;<span class="ident" id="8030207">data</span>&nbsp;<span class="builtintype" id="8030212">string</span>&nbsp;<span class="op" id="8030219">=</span>&nbsp;<span class="string" id="8030221">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030231">instr</span>&nbsp;<span class="op" id="8030237">:=</span>&nbsp;<span class="op" id="8030240">&amp;</span><span class="ident" id="8030241">encInstr</span><span class="op" id="8030249">{</span><span class="ident" id="8030250">encString</span><span class="op" id="8030259">,</span>&nbsp;<span class="num" id="8030261">6</span><span class="op" id="8030262">,</span>&nbsp;<span class="ident" id="8030264">nil</span><span class="op" id="8030267">,</span>&nbsp;<span class="num" id="8030269">0</span><span class="op" id="8030270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030274">state</span>&nbsp;<span class="op" id="8030280">:=</span>&nbsp;<span class="ident" id="8030283">newEncoderState</span><span class="op" id="8030298">(</span><span class="ident" id="8030299">b</span><span class="op" id="8030300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030304">instr</span><span class="op" id="8030309">.</span><span class="ident" id="8030310">op</span><span class="op" id="8030312">(</span><span class="ident" id="8030313">instr</span><span class="op" id="8030318">,</span>&nbsp;<span class="ident" id="8030320">state</span><span class="op" id="8030325">,</span>&nbsp;<span class="ident" id="8030327">reflect</span><span class="op" id="8030334">.</span><span class="ident" id="8030335">ValueOf</span><span class="op" id="8030342">(</span><span class="ident" id="8030343">data</span><span class="op" id="8030347">)</span><span class="op" id="8030348">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030352">if</span>&nbsp;<span class="op" id="8030355">!</span><span class="ident" id="8030356">bytes</span><span class="op" id="8030361">.</span><span class="ident" id="8030362">Equal</span><span class="op" id="8030367">(</span><span class="ident" id="8030368">bytesResult</span><span class="op" id="8030379">,</span>&nbsp;<span class="ident" id="8030381">b</span><span class="op" id="8030382">.</span><span class="ident" id="8030383">Bytes</span><span class="op" id="8030388">(</span><span class="op" id="8030389">)</span><span class="op" id="8030390">)</span>&nbsp;<span class="op" id="8030392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030397">t</span><span class="op" id="8030398">.</span><span class="ident" id="8030399">Errorf</span><span class="op" id="8030405">(</span><span class="string" id="8030406">&#34;string&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8030453">,</span>&nbsp;<span class="ident" id="8030455">bytesResult</span><span class="op" id="8030466">,</span>&nbsp;<span class="ident" id="8030468">b</span><span class="op" id="8030469">.</span><span class="ident" id="8030470">Bytes</span><span class="op" id="8030475">(</span><span class="op" id="8030476">)</span><span class="op" id="8030477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030484">}</span><br>
<span class="lineno"></span><span class="op" id="8030486">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="8030489">func</span>&nbsp;<span class="ident" id="8030494">execDec</span><span class="op" id="8030501">(</span><span class="ident" id="8030502">typ</span>&nbsp;<span class="builtintype" id="8030506">string</span><span class="op" id="8030512">,</span>&nbsp;<span class="ident" id="8030514">instr</span>&nbsp;<span class="op" id="8030520">*</span><span class="ident" id="8030521">decInstr</span><span class="op" id="8030529">,</span>&nbsp;<span class="ident" id="8030531">state</span>&nbsp;<span class="op" id="8030537">*</span><span class="ident" id="8030538">decoderState</span><span class="op" id="8030550">,</span>&nbsp;<span class="ident" id="8030552">t</span>&nbsp;<span class="op" id="8030554">*</span><span class="ident" id="8030555">testing</span><span class="op" id="8030562">.</span><span class="ident" id="8030563">T</span><span class="op" id="8030564">,</span>&nbsp;<span class="ident" id="8030566">value</span>&nbsp;<span class="ident" id="8030572">reflect</span><span class="op" id="8030579">.</span><span class="ident" id="8030580">Value</span><span class="op" id="8030585">)</span>&nbsp;<span class="op" id="8030587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030590">defer</span>&nbsp;<span class="ident" id="8030596">testError</span><span class="op" id="8030605">(</span><span class="ident" id="8030606">t</span><span class="op" id="8030607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030610">v</span>&nbsp;<span class="op" id="8030612">:=</span>&nbsp;<span class="builtintype" id="8030615">int</span><span class="op" id="8030618">(</span><span class="ident" id="8030619">state</span><span class="op" id="8030624">.</span><span class="ident" id="8030625">decodeUint</span><span class="op" id="8030635">(</span><span class="op" id="8030636">)</span><span class="op" id="8030637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030640">if</span>&nbsp;<span class="ident" id="8030643">v</span><span class="op" id="8030644">+</span><span class="ident" id="8030645">state</span><span class="op" id="8030650">.</span><span class="ident" id="8030651">fieldnum</span>&nbsp;<span class="op" id="8030660">!=</span>&nbsp;<span class="num" id="8030663">6</span>&nbsp;<span class="op" id="8030665">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030669">t</span><span class="op" id="8030670">.</span><span class="ident" id="8030671">Fatalf</span><span class="op" id="8030677">(</span><span class="string" id="8030678">&#34;decoding&nbsp;field&nbsp;number&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8030712">,</span>&nbsp;<span class="num" id="8030714">6</span><span class="op" id="8030715">,</span>&nbsp;<span class="ident" id="8030717">v</span><span class="op" id="8030718">+</span><span class="ident" id="8030719">state</span><span class="op" id="8030724">.</span><span class="ident" id="8030725">fieldnum</span><span class="op" id="8030733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030739">instr</span><span class="op" id="8030744">.</span><span class="ident" id="8030745">op</span><span class="op" id="8030747">(</span><span class="ident" id="8030748">instr</span><span class="op" id="8030753">,</span>&nbsp;<span class="ident" id="8030755">state</span><span class="op" id="8030760">,</span>&nbsp;<span class="ident" id="8030762">value</span><span class="op" id="8030767">.</span><span class="ident" id="8030768">Elem</span><span class="op" id="8030772">(</span><span class="op" id="8030773">)</span><span class="op" id="8030774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030777">state</span><span class="op" id="8030782">.</span><span class="ident" id="8030783">fieldnum</span>&nbsp;<span class="op" id="8030792">=</span>&nbsp;<span class="num" id="8030794">6</span><br>
<span class="lineno"></span><span class="op" id="8030796">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="8030799">func</span>&nbsp;<span class="ident" id="8030804">newDecodeStateFromData</span><span class="op" id="8030826">(</span><span class="ident" id="8030827">data</span>&nbsp;<span class="op" id="8030832">[</span><span class="op" id="8030833">]</span><span class="builtintype" id="8030834">byte</span><span class="op" id="8030838">)</span>&nbsp;<span class="op" id="8030840">*</span><span class="ident" id="8030841">decoderState</span>&nbsp;<span class="op" id="8030854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030857">b</span>&nbsp;<span class="op" id="8030859">:=</span>&nbsp;<span class="ident" id="8030862">newDecBuffer</span><span class="op" id="8030874">(</span><span class="ident" id="8030875">data</span><span class="op" id="8030879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030882">state</span>&nbsp;<span class="op" id="8030888">:=</span>&nbsp;<span class="ident" id="8030891">newDecodeState</span><span class="op" id="8030905">(</span><span class="ident" id="8030906">b</span><span class="op" id="8030907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030910">state</span><span class="op" id="8030915">.</span><span class="ident" id="8030916">fieldnum</span>&nbsp;<span class="op" id="8030925">=</span>&nbsp;<span class="op" id="8030927">-</span><span class="num" id="8030928">1</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030931">return</span>&nbsp;<span class="ident" id="8030938">state</span><br>
<span class="lineno"></span><span class="op" id="8030944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8030947">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="comment" id="8030991">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno">345</span><span class="keyword" id="8031074">func</span>&nbsp;<span class="ident" id="8031079">TestScalarDecInstructions</span><span class="op" id="8031104">(</span><span class="ident" id="8031105">t</span>&nbsp;<span class="op" id="8031107">*</span><span class="ident" id="8031108">testing</span><span class="op" id="8031115">.</span><span class="ident" id="8031116">T</span><span class="op" id="8031117">)</span>&nbsp;<span class="op" id="8031119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031122">ovfl</span>&nbsp;<span class="op" id="8031127">:=</span>&nbsp;<span class="ident" id="8031130">errors</span><span class="op" id="8031136">.</span><span class="ident" id="8031137">New</span><span class="op" id="8031140">(</span><span class="string" id="8031141">&#34;overflow&#34;</span><span class="op" id="8031151">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8031155">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031164">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031168">var</span>&nbsp;<span class="ident" id="8031172">data</span>&nbsp;<span class="builtintype" id="8031177">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031184">instr</span>&nbsp;<span class="op" id="8031190">:=</span>&nbsp;<span class="op" id="8031193">&amp;</span><span class="ident" id="8031194">decInstr</span><span class="op" id="8031202">{</span><span class="ident" id="8031203">decBool</span><span class="op" id="8031210">,</span>&nbsp;<span class="num" id="8031212">6</span><span class="op" id="8031213">,</span>&nbsp;<span class="ident" id="8031215">nil</span><span class="op" id="8031218">,</span>&nbsp;<span class="ident" id="8031220">ovfl</span><span class="op" id="8031224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031228">state</span>&nbsp;<span class="op" id="8031234">:=</span>&nbsp;<span class="ident" id="8031237">newDecodeStateFromData</span><span class="op" id="8031259">(</span><span class="ident" id="8031260">boolResult</span><span class="op" id="8031270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031274">execDec</span><span class="op" id="8031281">(</span><span class="string" id="8031282">&#34;bool&#34;</span><span class="op" id="8031288">,</span>&nbsp;<span class="ident" id="8031290">instr</span><span class="op" id="8031295">,</span>&nbsp;<span class="ident" id="8031297">state</span><span class="op" id="8031302">,</span>&nbsp;<span class="ident" id="8031304">t</span><span class="op" id="8031305">,</span>&nbsp;<span class="ident" id="8031307">reflect</span><span class="op" id="8031314">.</span><span class="ident" id="8031315">ValueOf</span><span class="op" id="8031322">(</span><span class="op" id="8031323">&amp;</span><span class="ident" id="8031324">data</span><span class="op" id="8031328">)</span><span class="op" id="8031329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031333">if</span>&nbsp;<span class="ident" id="8031336">data</span>&nbsp;<span class="op" id="8031341">!=</span>&nbsp;<span class="builtintype" id="8031344">true</span>&nbsp;<span class="op" id="8031349">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031354">t</span><span class="op" id="8031355">.</span><span class="ident" id="8031356">Errorf</span><span class="op" id="8031362">(</span><span class="string" id="8031363">&#34;bool&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;true&#34;</span><span class="op" id="8031385">,</span>&nbsp;<span class="ident" id="8031387">data</span><span class="op" id="8031391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8031401">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031409">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031413">var</span>&nbsp;<span class="ident" id="8031417">data</span>&nbsp;<span class="builtintype" id="8031422">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031428">instr</span>&nbsp;<span class="op" id="8031434">:=</span>&nbsp;<span class="op" id="8031437">&amp;</span><span class="ident" id="8031438">decInstr</span><span class="op" id="8031446">{</span><span class="ident" id="8031447">decOpTable</span><span class="op" id="8031457">[</span><span class="ident" id="8031458">reflect</span><span class="op" id="8031465">.</span><span class="ident" id="8031466">Int</span><span class="op" id="8031469">]</span><span class="op" id="8031470">,</span>&nbsp;<span class="num" id="8031472">6</span><span class="op" id="8031473">,</span>&nbsp;<span class="ident" id="8031475">nil</span><span class="op" id="8031478">,</span>&nbsp;<span class="ident" id="8031480">ovfl</span><span class="op" id="8031484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031488">state</span>&nbsp;<span class="op" id="8031494">:=</span>&nbsp;<span class="ident" id="8031497">newDecodeStateFromData</span><span class="op" id="8031519">(</span><span class="ident" id="8031520">signedResult</span><span class="op" id="8031532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031536">execDec</span><span class="op" id="8031543">(</span><span class="string" id="8031544">&#34;int&#34;</span><span class="op" id="8031549">,</span>&nbsp;<span class="ident" id="8031551">instr</span><span class="op" id="8031556">,</span>&nbsp;<span class="ident" id="8031558">state</span><span class="op" id="8031563">,</span>&nbsp;<span class="ident" id="8031565">t</span><span class="op" id="8031566">,</span>&nbsp;<span class="ident" id="8031568">reflect</span><span class="op" id="8031575">.</span><span class="ident" id="8031576">ValueOf</span><span class="op" id="8031583">(</span><span class="op" id="8031584">&amp;</span><span class="ident" id="8031585">data</span><span class="op" id="8031589">)</span><span class="op" id="8031590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031594">if</span>&nbsp;<span class="ident" id="8031597">data</span>&nbsp;<span class="op" id="8031602">!=</span>&nbsp;<span class="num" id="8031605">17</span>&nbsp;<span class="op" id="8031608">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031613">t</span><span class="op" id="8031614">.</span><span class="ident" id="8031615">Errorf</span><span class="op" id="8031621">(</span><span class="string" id="8031622">&#34;int&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8031641">,</span>&nbsp;<span class="ident" id="8031643">data</span><span class="op" id="8031647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8031658">//&nbsp;uint</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031671">var</span>&nbsp;<span class="ident" id="8031675">data</span>&nbsp;<span class="builtintype" id="8031680">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031687">instr</span>&nbsp;<span class="op" id="8031693">:=</span>&nbsp;<span class="op" id="8031696">&amp;</span><span class="ident" id="8031697">decInstr</span><span class="op" id="8031705">{</span><span class="ident" id="8031706">decOpTable</span><span class="op" id="8031716">[</span><span class="ident" id="8031717">reflect</span><span class="op" id="8031724">.</span><span class="ident" id="8031725">Uint</span><span class="op" id="8031729">]</span><span class="op" id="8031730">,</span>&nbsp;<span class="num" id="8031732">6</span><span class="op" id="8031733">,</span>&nbsp;<span class="ident" id="8031735">nil</span><span class="op" id="8031738">,</span>&nbsp;<span class="ident" id="8031740">ovfl</span><span class="op" id="8031744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031748">state</span>&nbsp;<span class="op" id="8031754">:=</span>&nbsp;<span class="ident" id="8031757">newDecodeStateFromData</span><span class="op" id="8031779">(</span><span class="ident" id="8031780">unsignedResult</span><span class="op" id="8031794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031798">execDec</span><span class="op" id="8031805">(</span><span class="string" id="8031806">&#34;uint&#34;</span><span class="op" id="8031812">,</span>&nbsp;<span class="ident" id="8031814">instr</span><span class="op" id="8031819">,</span>&nbsp;<span class="ident" id="8031821">state</span><span class="op" id="8031826">,</span>&nbsp;<span class="ident" id="8031828">t</span><span class="op" id="8031829">,</span>&nbsp;<span class="ident" id="8031831">reflect</span><span class="op" id="8031838">.</span><span class="ident" id="8031839">ValueOf</span><span class="op" id="8031846">(</span><span class="op" id="8031847">&amp;</span><span class="ident" id="8031848">data</span><span class="op" id="8031852">)</span><span class="op" id="8031853">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031857">if</span>&nbsp;<span class="ident" id="8031860">data</span>&nbsp;<span class="op" id="8031865">!=</span>&nbsp;<span class="num" id="8031868">17</span>&nbsp;<span class="op" id="8031871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031876">t</span><span class="op" id="8031877">.</span><span class="ident" id="8031878">Errorf</span><span class="op" id="8031884">(</span><span class="string" id="8031885">&#34;uint&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8031905">,</span>&nbsp;<span class="ident" id="8031907">data</span><span class="op" id="8031911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8031922">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031935">var</span>&nbsp;<span class="ident" id="8031939">data</span>&nbsp;<span class="builtintype" id="8031944">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031951">instr</span>&nbsp;<span class="op" id="8031957">:=</span>&nbsp;<span class="op" id="8031960">&amp;</span><span class="ident" id="8031961">decInstr</span><span class="op" id="8031969">{</span><span class="ident" id="8031970">decInt8</span><span class="op" id="8031977">,</span>&nbsp;<span class="num" id="8031979">6</span><span class="op" id="8031980">,</span>&nbsp;<span class="ident" id="8031982">nil</span><span class="op" id="8031985">,</span>&nbsp;<span class="ident" id="8031987">ovfl</span><span class="op" id="8031991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031995">state</span>&nbsp;<span class="op" id="8032001">:=</span>&nbsp;<span class="ident" id="8032004">newDecodeStateFromData</span><span class="op" id="8032026">(</span><span class="ident" id="8032027">signedResult</span><span class="op" id="8032039">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032043">execDec</span><span class="op" id="8032050">(</span><span class="string" id="8032051">&#34;int8&#34;</span><span class="op" id="8032057">,</span>&nbsp;<span class="ident" id="8032059">instr</span><span class="op" id="8032064">,</span>&nbsp;<span class="ident" id="8032066">state</span><span class="op" id="8032071">,</span>&nbsp;<span class="ident" id="8032073">t</span><span class="op" id="8032074">,</span>&nbsp;<span class="ident" id="8032076">reflect</span><span class="op" id="8032083">.</span><span class="ident" id="8032084">ValueOf</span><span class="op" id="8032091">(</span><span class="op" id="8032092">&amp;</span><span class="ident" id="8032093">data</span><span class="op" id="8032097">)</span><span class="op" id="8032098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8032102">if</span>&nbsp;<span class="ident" id="8032105">data</span>&nbsp;<span class="op" id="8032110">!=</span>&nbsp;<span class="num" id="8032113">17</span>&nbsp;<span class="op" id="8032116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032121">t</span><span class="op" id="8032122">.</span><span class="ident" id="8032123">Errorf</span><span class="op" id="8032129">(</span><span class="string" id="8032130">&#34;int8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8032150">,</span>&nbsp;<span class="ident" id="8032152">data</span><span class="op" id="8032156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032163">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8032167">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8032181">var</span>&nbsp;<span class="ident" id="8032185">data</span>&nbsp;<span class="builtintype" id="8032190">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032198">instr</span>&nbsp;<span class="op" id="8032204">:=</span>&nbsp;<span class="op" id="8032207">&amp;</span><span class="ident" id="8032208">decInstr</span><span class="op" id="8032216">{</span><span class="ident" id="8032217">decUint8</span><span class="op" id="8032225">,</span>&nbsp;<span class="num" id="8032227">6</span><span class="op" id="8032228">,</span>&nbsp;<span class="ident" id="8032230">nil</span><span class="op" id="8032233">,</span>&nbsp;<span class="ident" id="8032235">ovfl</span><span class="op" id="8032239">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032243">state</span>&nbsp;<span class="op" id="8032249">:=</span>&nbsp;<span class="ident" id="8032252">newDecodeStateFromData</span><span class="op" id="8032274">(</span><span class="ident" id="8032275">unsignedResult</span><span class="op" id="8032289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032293">execDec</span><span class="op" id="8032300">(</span><span class="string" id="8032301">&#34;uint8&#34;</span><span class="op" id="8032308">,</span>&nbsp;<span class="ident" id="8032310">instr</span><span class="op" id="8032315">,</span>&nbsp;<span class="ident" id="8032317">state</span><span class="op" id="8032322">,</span>&nbsp;<span class="ident" id="8032324">t</span><span class="op" id="8032325">,</span>&nbsp;<span class="ident" id="8032327">reflect</span><span class="op" id="8032334">.</span><span class="ident" id="8032335">ValueOf</span><span class="op" id="8032342">(</span><span class="op" id="8032343">&amp;</span><span class="ident" id="8032344">data</span><span class="op" id="8032348">)</span><span class="op" id="8032349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8032353">if</span>&nbsp;<span class="ident" id="8032356">data</span>&nbsp;<span class="op" id="8032361">!=</span>&nbsp;<span class="num" id="8032364">17</span>&nbsp;<span class="op" id="8032367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032372">t</span><span class="op" id="8032373">.</span><span class="ident" id="8032374">Errorf</span><span class="op" id="8032380">(</span><span class="string" id="8032381">&#34;uint8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8032402">,</span>&nbsp;<span class="ident" id="8032404">data</span><span class="op" id="8032408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032412">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8032419">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8032433">var</span>&nbsp;<span class="ident" id="8032437">data</span>&nbsp;<span class="builtintype" id="8032442">int16</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032450">instr</span>&nbsp;<span class="op" id="8032456">:=</span>&nbsp;<span class="op" id="8032459">&amp;</span><span class="ident" id="8032460">decInstr</span><span class="op" id="8032468">{</span><span class="ident" id="8032469">decInt16</span><span class="op" id="8032477">,</span>&nbsp;<span class="num" id="8032479">6</span><span class="op" id="8032480">,</span>&nbsp;<span class="ident" id="8032482">nil</span><span class="op" id="8032485">,</span>&nbsp;<span class="ident" id="8032487">ovfl</span><span class="op" id="8032491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032495">state</span>&nbsp;<span class="op" id="8032501">:=</span>&nbsp;<span class="ident" id="8032504">newDecodeStateFromData</span><span class="op" id="8032526">(</span><span class="ident" id="8032527">signedResult</span><span class="op" id="8032539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032543">execDec</span><span class="op" id="8032550">(</span><span class="string" id="8032551">&#34;int16&#34;</span><span class="op" id="8032558">,</span>&nbsp;<span class="ident" id="8032560">instr</span><span class="op" id="8032565">,</span>&nbsp;<span class="ident" id="8032567">state</span><span class="op" id="8032572">,</span>&nbsp;<span class="ident" id="8032574">t</span><span class="op" id="8032575">,</span>&nbsp;<span class="ident" id="8032577">reflect</span><span class="op" id="8032584">.</span><span class="ident" id="8032585">ValueOf</span><span class="op" id="8032592">(</span><span class="op" id="8032593">&amp;</span><span class="ident" id="8032594">data</span><span class="op" id="8032598">)</span><span class="op" id="8032599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8032603">if</span>&nbsp;<span class="ident" id="8032606">data</span>&nbsp;<span class="op" id="8032611">!=</span>&nbsp;<span class="num" id="8032614">17</span>&nbsp;<span class="op" id="8032617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032622">t</span><span class="op" id="8032623">.</span><span class="ident" id="8032624">Errorf</span><span class="op" id="8032630">(</span><span class="string" id="8032631">&#34;int16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8032652">,</span>&nbsp;<span class="ident" id="8032654">data</span><span class="op" id="8032658">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8032669">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032680">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8032684">var</span>&nbsp;<span class="ident" id="8032688">data</span>&nbsp;<span class="builtintype" id="8032693">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032702">instr</span>&nbsp;<span class="op" id="8032708">:=</span>&nbsp;<span class="op" id="8032711">&amp;</span><span class="ident" id="8032712">decInstr</span><span class="op" id="8032720">{</span><span class="ident" id="8032721">decUint16</span><span class="op" id="8032730">,</span>&nbsp;<span class="num" id="8032732">6</span><span class="op" id="8032733">,</span>&nbsp;<span class="ident" id="8032735">nil</span><span class="op" id="8032738">,</span>&nbsp;<span class="ident" id="8032740">ovfl</span><span class="op" id="8032744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032748">state</span>&nbsp;<span class="op" id="8032754">:=</span>&nbsp;<span class="ident" id="8032757">newDecodeStateFromData</span><span class="op" id="8032779">(</span><span class="ident" id="8032780">unsignedResult</span><span class="op" id="8032794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032798">execDec</span><span class="op" id="8032805">(</span><span class="string" id="8032806">&#34;uint16&#34;</span><span class="op" id="8032814">,</span>&nbsp;<span class="ident" id="8032816">instr</span><span class="op" id="8032821">,</span>&nbsp;<span class="ident" id="8032823">state</span><span class="op" id="8032828">,</span>&nbsp;<span class="ident" id="8032830">t</span><span class="op" id="8032831">,</span>&nbsp;<span class="ident" id="8032833">reflect</span><span class="op" id="8032840">.</span><span class="ident" id="8032841">ValueOf</span><span class="op" id="8032848">(</span><span class="op" id="8032849">&amp;</span><span class="ident" id="8032850">data</span><span class="op" id="8032854">)</span><span class="op" id="8032855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8032859">if</span>&nbsp;<span class="ident" id="8032862">data</span>&nbsp;<span class="op" id="8032867">!=</span>&nbsp;<span class="num" id="8032870">17</span>&nbsp;<span class="op" id="8032873">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032878">t</span><span class="op" id="8032879">.</span><span class="ident" id="8032880">Errorf</span><span class="op" id="8032886">(</span><span class="string" id="8032887">&#34;uint16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8032909">,</span>&nbsp;<span class="ident" id="8032911">data</span><span class="op" id="8032915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8032926">//&nbsp;int32</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8032936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8032940">var</span>&nbsp;<span class="ident" id="8032944">data</span>&nbsp;<span class="builtintype" id="8032949">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032957">instr</span>&nbsp;<span class="op" id="8032963">:=</span>&nbsp;<span class="op" id="8032966">&amp;</span><span class="ident" id="8032967">decInstr</span><span class="op" id="8032975">{</span><span class="ident" id="8032976">decInt32</span><span class="op" id="8032984">,</span>&nbsp;<span class="num" id="8032986">6</span><span class="op" id="8032987">,</span>&nbsp;<span class="ident" id="8032989">nil</span><span class="op" id="8032992">,</span>&nbsp;<span class="ident" id="8032994">ovfl</span><span class="op" id="8032998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033002">state</span>&nbsp;<span class="op" id="8033008">:=</span>&nbsp;<span class="ident" id="8033011">newDecodeStateFromData</span><span class="op" id="8033033">(</span><span class="ident" id="8033034">signedResult</span><span class="op" id="8033046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033050">execDec</span><span class="op" id="8033057">(</span><span class="string" id="8033058">&#34;int32&#34;</span><span class="op" id="8033065">,</span>&nbsp;<span class="ident" id="8033067">instr</span><span class="op" id="8033072">,</span>&nbsp;<span class="ident" id="8033074">state</span><span class="op" id="8033079">,</span>&nbsp;<span class="ident" id="8033081">t</span><span class="op" id="8033082">,</span>&nbsp;<span class="ident" id="8033084">reflect</span><span class="op" id="8033091">.</span><span class="ident" id="8033092">ValueOf</span><span class="op" id="8033099">(</span><span class="op" id="8033100">&amp;</span><span class="ident" id="8033101">data</span><span class="op" id="8033105">)</span><span class="op" id="8033106">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033110">if</span>&nbsp;<span class="ident" id="8033113">data</span>&nbsp;<span class="op" id="8033118">!=</span>&nbsp;<span class="num" id="8033121">17</span>&nbsp;<span class="op" id="8033124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033129">t</span><span class="op" id="8033130">.</span><span class="ident" id="8033131">Errorf</span><span class="op" id="8033137">(</span><span class="string" id="8033138">&#34;int32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8033159">,</span>&nbsp;<span class="ident" id="8033161">data</span><span class="op" id="8033165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8033176">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033191">var</span>&nbsp;<span class="ident" id="8033195">data</span>&nbsp;<span class="builtintype" id="8033200">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033209">instr</span>&nbsp;<span class="op" id="8033215">:=</span>&nbsp;<span class="op" id="8033218">&amp;</span><span class="ident" id="8033219">decInstr</span><span class="op" id="8033227">{</span><span class="ident" id="8033228">decUint32</span><span class="op" id="8033237">,</span>&nbsp;<span class="num" id="8033239">6</span><span class="op" id="8033240">,</span>&nbsp;<span class="ident" id="8033242">nil</span><span class="op" id="8033245">,</span>&nbsp;<span class="ident" id="8033247">ovfl</span><span class="op" id="8033251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033255">state</span>&nbsp;<span class="op" id="8033261">:=</span>&nbsp;<span class="ident" id="8033264">newDecodeStateFromData</span><span class="op" id="8033286">(</span><span class="ident" id="8033287">unsignedResult</span><span class="op" id="8033301">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033305">execDec</span><span class="op" id="8033312">(</span><span class="string" id="8033313">&#34;uint32&#34;</span><span class="op" id="8033321">,</span>&nbsp;<span class="ident" id="8033323">instr</span><span class="op" id="8033328">,</span>&nbsp;<span class="ident" id="8033330">state</span><span class="op" id="8033335">,</span>&nbsp;<span class="ident" id="8033337">t</span><span class="op" id="8033338">,</span>&nbsp;<span class="ident" id="8033340">reflect</span><span class="op" id="8033347">.</span><span class="ident" id="8033348">ValueOf</span><span class="op" id="8033355">(</span><span class="op" id="8033356">&amp;</span><span class="ident" id="8033357">data</span><span class="op" id="8033361">)</span><span class="op" id="8033362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033366">if</span>&nbsp;<span class="ident" id="8033369">data</span>&nbsp;<span class="op" id="8033374">!=</span>&nbsp;<span class="num" id="8033377">17</span>&nbsp;<span class="op" id="8033380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033385">t</span><span class="op" id="8033386">.</span><span class="ident" id="8033387">Errorf</span><span class="op" id="8033393">(</span><span class="string" id="8033394">&#34;uint32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8033416">,</span>&nbsp;<span class="ident" id="8033418">data</span><span class="op" id="8033422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033429">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8033433">//&nbsp;uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033449">var</span>&nbsp;<span class="ident" id="8033453">data</span>&nbsp;<span class="builtintype" id="8033458">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033468">instr</span>&nbsp;<span class="op" id="8033474">:=</span>&nbsp;<span class="op" id="8033477">&amp;</span><span class="ident" id="8033478">decInstr</span><span class="op" id="8033486">{</span><span class="ident" id="8033487">decOpTable</span><span class="op" id="8033497">[</span><span class="ident" id="8033498">reflect</span><span class="op" id="8033505">.</span><span class="ident" id="8033506">Uintptr</span><span class="op" id="8033513">]</span><span class="op" id="8033514">,</span>&nbsp;<span class="num" id="8033516">6</span><span class="op" id="8033517">,</span>&nbsp;<span class="ident" id="8033519">nil</span><span class="op" id="8033522">,</span>&nbsp;<span class="ident" id="8033524">ovfl</span><span class="op" id="8033528">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033532">state</span>&nbsp;<span class="op" id="8033538">:=</span>&nbsp;<span class="ident" id="8033541">newDecodeStateFromData</span><span class="op" id="8033563">(</span><span class="ident" id="8033564">unsignedResult</span><span class="op" id="8033578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033582">execDec</span><span class="op" id="8033589">(</span><span class="string" id="8033590">&#34;uintptr&#34;</span><span class="op" id="8033599">,</span>&nbsp;<span class="ident" id="8033601">instr</span><span class="op" id="8033606">,</span>&nbsp;<span class="ident" id="8033608">state</span><span class="op" id="8033613">,</span>&nbsp;<span class="ident" id="8033615">t</span><span class="op" id="8033616">,</span>&nbsp;<span class="ident" id="8033618">reflect</span><span class="op" id="8033625">.</span><span class="ident" id="8033626">ValueOf</span><span class="op" id="8033633">(</span><span class="op" id="8033634">&amp;</span><span class="ident" id="8033635">data</span><span class="op" id="8033639">)</span><span class="op" id="8033640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033644">if</span>&nbsp;<span class="ident" id="8033647">data</span>&nbsp;<span class="op" id="8033652">!=</span>&nbsp;<span class="num" id="8033655">17</span>&nbsp;<span class="op" id="8033658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033663">t</span><span class="op" id="8033664">.</span><span class="ident" id="8033665">Errorf</span><span class="op" id="8033671">(</span><span class="string" id="8033672">&#34;uintptr&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8033695">,</span>&nbsp;<span class="ident" id="8033697">data</span><span class="op" id="8033701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033705">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8033712">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033726">var</span>&nbsp;<span class="ident" id="8033730">data</span>&nbsp;<span class="ident" id="8033735">int64</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033743">instr</span>&nbsp;<span class="op" id="8033749">:=</span>&nbsp;<span class="op" id="8033752">&amp;</span><span class="ident" id="8033753">decInstr</span><span class="op" id="8033761">{</span><span class="ident" id="8033762">decInt64</span><span class="op" id="8033770">,</span>&nbsp;<span class="num" id="8033772">6</span><span class="op" id="8033773">,</span>&nbsp;<span class="ident" id="8033775">nil</span><span class="op" id="8033778">,</span>&nbsp;<span class="ident" id="8033780">ovfl</span><span class="op" id="8033784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033788">state</span>&nbsp;<span class="op" id="8033794">:=</span>&nbsp;<span class="ident" id="8033797">newDecodeStateFromData</span><span class="op" id="8033819">(</span><span class="ident" id="8033820">signedResult</span><span class="op" id="8033832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033836">execDec</span><span class="op" id="8033843">(</span><span class="string" id="8033844">&#34;int64&#34;</span><span class="op" id="8033851">,</span>&nbsp;<span class="ident" id="8033853">instr</span><span class="op" id="8033858">,</span>&nbsp;<span class="ident" id="8033860">state</span><span class="op" id="8033865">,</span>&nbsp;<span class="ident" id="8033867">t</span><span class="op" id="8033868">,</span>&nbsp;<span class="ident" id="8033870">reflect</span><span class="op" id="8033877">.</span><span class="ident" id="8033878">ValueOf</span><span class="op" id="8033885">(</span><span class="op" id="8033886">&amp;</span><span class="ident" id="8033887">data</span><span class="op" id="8033891">)</span><span class="op" id="8033892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033896">if</span>&nbsp;<span class="ident" id="8033899">data</span>&nbsp;<span class="op" id="8033904">!=</span>&nbsp;<span class="num" id="8033907">17</span>&nbsp;<span class="op" id="8033910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033915">t</span><span class="op" id="8033916">.</span><span class="ident" id="8033917">Errorf</span><span class="op" id="8033923">(</span><span class="string" id="8033924">&#34;int64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8033945">,</span>&nbsp;<span class="ident" id="8033947">data</span><span class="op" id="8033951">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8033962">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033973">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033977">var</span>&nbsp;<span class="ident" id="8033981">data</span>&nbsp;<span class="ident" id="8033986">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033995">instr</span>&nbsp;<span class="op" id="8034001">:=</span>&nbsp;<span class="op" id="8034004">&amp;</span><span class="ident" id="8034005">decInstr</span><span class="op" id="8034013">{</span><span class="ident" id="8034014">decUint64</span><span class="op" id="8034023">,</span>&nbsp;<span class="num" id="8034025">6</span><span class="op" id="8034026">,</span>&nbsp;<span class="ident" id="8034028">nil</span><span class="op" id="8034031">,</span>&nbsp;<span class="ident" id="8034033">ovfl</span><span class="op" id="8034037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034041">state</span>&nbsp;<span class="op" id="8034047">:=</span>&nbsp;<span class="ident" id="8034050">newDecodeStateFromData</span><span class="op" id="8034072">(</span><span class="ident" id="8034073">unsignedResult</span><span class="op" id="8034087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034091">execDec</span><span class="op" id="8034098">(</span><span class="string" id="8034099">&#34;uint64&#34;</span><span class="op" id="8034107">,</span>&nbsp;<span class="ident" id="8034109">instr</span><span class="op" id="8034114">,</span>&nbsp;<span class="ident" id="8034116">state</span><span class="op" id="8034121">,</span>&nbsp;<span class="ident" id="8034123">t</span><span class="op" id="8034124">,</span>&nbsp;<span class="ident" id="8034126">reflect</span><span class="op" id="8034133">.</span><span class="ident" id="8034134">ValueOf</span><span class="op" id="8034141">(</span><span class="op" id="8034142">&amp;</span><span class="ident" id="8034143">data</span><span class="op" id="8034147">)</span><span class="op" id="8034148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8034152">if</span>&nbsp;<span class="ident" id="8034155">data</span>&nbsp;<span class="op" id="8034160">!=</span>&nbsp;<span class="num" id="8034163">17</span>&nbsp;<span class="op" id="8034166">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034171">t</span><span class="op" id="8034172">.</span><span class="ident" id="8034173">Errorf</span><span class="op" id="8034179">(</span><span class="string" id="8034180">&#34;uint64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8034202">,</span>&nbsp;<span class="ident" id="8034204">data</span><span class="op" id="8034208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8034212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8034215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8034219">//&nbsp;float32</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8034231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8034235">var</span>&nbsp;<span class="ident" id="8034239">data</span>&nbsp;<span class="builtintype" id="8034244">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034254">instr</span>&nbsp;<span class="op" id="8034260">:=</span>&nbsp;<span class="op" id="8034263">&amp;</span><span class="ident" id="8034264">decInstr</span><span class="op" id="8034272">{</span><span class="ident" id="8034273">decFloat32</span><span class="op" id="8034283">,</span>&nbsp;<span class="num" id="8034285">6</span><span class="op" id="8034286">,</span>&nbsp;<span class="ident" id="8034288">nil</span><span class="op" id="8034291">,</span>&nbsp;<span class="ident" id="8034293">ovfl</span><span class="op" id="8034297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034301">state</span>&nbsp;<span class="op" id="8034307">:=</span>&nbsp;<span class="ident" id="8034310">newDecodeStateFromData</span><span class="op" id="8034332">(</span><span class="ident" id="8034333">floatResult</span><span class="op" id="8034344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034348">execDec</span><span class="op" id="8034355">(</span><span class="string" id="8034356">&#34;float32&#34;</span><span class="op" id="8034365">,</span>&nbsp;<span class="ident" id="8034367">instr</span><span class="op" id="8034372">,</span>&nbsp;<span class="ident" id="8034374">state</span><span class="op" id="8034379">,</span>&nbsp;<span class="ident" id="8034381">t</span><span class="op" id="8034382">,</span>&nbsp;<span class="ident" id="8034384">reflect</span><span class="op" id="8034391">.</span><span class="ident" id="8034392">ValueOf</span><span class="op" id="8034399">(</span><span class="op" id="8034400">&amp;</span><span class="ident" id="8034401">data</span><span class="op" id="8034405">)</span><span class="op" id="8034406">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8034410">if</span>&nbsp;<span class="ident" id="8034413">data</span>&nbsp;<span class="op" id="8034418">!=</span>&nbsp;<span class="num" id="8034421">17</span>&nbsp;<span class="op" id="8034424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034429">t</span><span class="op" id="8034430">.</span><span class="ident" id="8034431">Errorf</span><span class="op" id="8034437">(</span><span class="string" id="8034438">&#34;float32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8034461">,</span>&nbsp;<span class="ident" id="8034463">data</span><span class="op" id="8034467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8034471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8034474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8034478">//&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8034490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8034494">var</span>&nbsp;<span class="ident" id="8034498">data</span>&nbsp;<span class="builtintype" id="8034503">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034513">instr</span>&nbsp;<span class="op" id="8034519">:=</span>&nbsp;<span class="op" id="8034522">&amp;</span><span class="ident" id="8034523">decInstr</span><span class="op" id="8034531">{</span><span class="ident" id="8034532">decFloat64</span><span class="op" id="8034542">,</span>&nbsp;<span class="num" id="8034544">6</span><span class="op" id="8034545">,</span>&nbsp;<span class="ident" id="8034547">nil</span><span class="op" id="8034550">,</span>&nbsp;<span class="ident" id="8034552">ovfl</span><span class="op" id="8034556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034560">state</span>&nbsp;<span class="op" id="8034566">:=</span>&nbsp;<span class="ident" id="8034569">newDecodeStateFromData</span><span class="op" id="8034591">(</span><span class="ident" id="8034592">floatResult</span><span class="op" id="8034603">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034607">execDec</span><span class="op" id="8034614">(</span><span class="string" id="8034615">&#34;float64&#34;</span><span class="op" id="8034624">,</span>&nbsp;<span class="ident" id="8034626">instr</span><span class="op" id="8034631">,</span>&nbsp;<span class="ident" id="8034633">state</span><span class="op" id="8034638">,</span>&nbsp;<span class="ident" id="8034640">t</span><span class="op" id="8034641">,</span>&nbsp;<span class="ident" id="8034643">reflect</span><span class="op" id="8034650">.</span><span class="ident" id="8034651">ValueOf</span><span class="op" id="8034658">(</span><span class="op" id="8034659">&amp;</span><span class="ident" id="8034660">data</span><span class="op" id="8034664">)</span><span class="op" id="8034665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8034669">if</span>&nbsp;<span class="ident" id="8034672">data</span>&nbsp;<span class="op" id="8034677">!=</span>&nbsp;<span class="num" id="8034680">17</span>&nbsp;<span class="op" id="8034683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034688">t</span><span class="op" id="8034689">.</span><span class="ident" id="8034690">Errorf</span><span class="op" id="8034696">(</span><span class="string" id="8034697">&#34;float64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8034720">,</span>&nbsp;<span class="ident" id="8034722">data</span><span class="op" id="8034726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8034730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8034733">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8034737">//&nbsp;complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8034751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8034755">var</span>&nbsp;<span class="ident" id="8034759">data</span>&nbsp;<span class="builtintype" id="8034764">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034776">instr</span>&nbsp;<span class="op" id="8034782">:=</span>&nbsp;<span class="op" id="8034785">&amp;</span><span class="ident" id="8034786">decInstr</span><span class="op" id="8034794">{</span><span class="ident" id="8034795">decOpTable</span><span class="op" id="8034805">[</span><span class="ident" id="8034806">reflect</span><span class="op" id="8034813">.</span><span class="ident" id="8034814">Complex64</span><span class="op" id="8034823">]</span><span class="op" id="8034824">,</span>&nbsp;<span class="num" id="8034826">6</span><span class="op" id="8034827">,</span>&nbsp;<span class="ident" id="8034829">nil</span><span class="op" id="8034832">,</span>&nbsp;<span class="ident" id="8034834">ovfl</span><span class="op" id="8034838">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034842">state</span>&nbsp;<span class="op" id="8034848">:=</span>&nbsp;<span class="ident" id="8034851">newDecodeStateFromData</span><span class="op" id="8034873">(</span><span class="ident" id="8034874">complexResult</span><span class="op" id="8034887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034891">execDec</span><span class="op" id="8034898">(</span><span class="string" id="8034899">&#34;complex&#34;</span><span class="op" id="8034908">,</span>&nbsp;<span class="ident" id="8034910">instr</span><span class="op" id="8034915">,</span>&nbsp;<span class="ident" id="8034917">state</span><span class="op" id="8034922">,</span>&nbsp;<span class="ident" id="8034924">t</span><span class="op" id="8034925">,</span>&nbsp;<span class="ident" id="8034927">reflect</span><span class="op" id="8034934">.</span><span class="ident" id="8034935">ValueOf</span><span class="op" id="8034942">(</span><span class="op" id="8034943">&amp;</span><span class="ident" id="8034944">data</span><span class="op" id="8034948">)</span><span class="op" id="8034949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8034953">if</span>&nbsp;<span class="ident" id="8034956">data</span>&nbsp;<span class="op" id="8034961">!=</span>&nbsp;<span class="num" id="8034964">17</span><span class="op" id="8034966">+</span><span class="num" id="8034967">19i</span>&nbsp;<span class="op" id="8034971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8034976">t</span><span class="op" id="8034977">.</span><span class="ident" id="8034978">Errorf</span><span class="op" id="8034984">(</span><span class="string" id="8034985">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8035012">,</span>&nbsp;<span class="ident" id="8035014">data</span><span class="op" id="8035018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035022">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8035029">//&nbsp;complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8035048">var</span>&nbsp;<span class="ident" id="8035052">data</span>&nbsp;<span class="builtintype" id="8035057">complex128</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035070">instr</span>&nbsp;<span class="op" id="8035076">:=</span>&nbsp;<span class="op" id="8035079">&amp;</span><span class="ident" id="8035080">decInstr</span><span class="op" id="8035088">{</span><span class="ident" id="8035089">decOpTable</span><span class="op" id="8035099">[</span><span class="ident" id="8035100">reflect</span><span class="op" id="8035107">.</span><span class="ident" id="8035108">Complex128</span><span class="op" id="8035118">]</span><span class="op" id="8035119">,</span>&nbsp;<span class="num" id="8035121">6</span><span class="op" id="8035122">,</span>&nbsp;<span class="ident" id="8035124">nil</span><span class="op" id="8035127">,</span>&nbsp;<span class="ident" id="8035129">ovfl</span><span class="op" id="8035133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035137">state</span>&nbsp;<span class="op" id="8035143">:=</span>&nbsp;<span class="ident" id="8035146">newDecodeStateFromData</span><span class="op" id="8035168">(</span><span class="ident" id="8035169">complexResult</span><span class="op" id="8035182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035186">execDec</span><span class="op" id="8035193">(</span><span class="string" id="8035194">&#34;complex&#34;</span><span class="op" id="8035203">,</span>&nbsp;<span class="ident" id="8035205">instr</span><span class="op" id="8035210">,</span>&nbsp;<span class="ident" id="8035212">state</span><span class="op" id="8035217">,</span>&nbsp;<span class="ident" id="8035219">t</span><span class="op" id="8035220">,</span>&nbsp;<span class="ident" id="8035222">reflect</span><span class="op" id="8035229">.</span><span class="ident" id="8035230">ValueOf</span><span class="op" id="8035237">(</span><span class="op" id="8035238">&amp;</span><span class="ident" id="8035239">data</span><span class="op" id="8035243">)</span><span class="op" id="8035244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8035248">if</span>&nbsp;<span class="ident" id="8035251">data</span>&nbsp;<span class="op" id="8035256">!=</span>&nbsp;<span class="num" id="8035259">17</span><span class="op" id="8035261">+</span><span class="num" id="8035262">19i</span>&nbsp;<span class="op" id="8035266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035271">t</span><span class="op" id="8035272">.</span><span class="ident" id="8035273">Errorf</span><span class="op" id="8035279">(</span><span class="string" id="8035280">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8035307">,</span>&nbsp;<span class="ident" id="8035309">data</span><span class="op" id="8035313">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8035324">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035345">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8035349">var</span>&nbsp;<span class="ident" id="8035353">data</span>&nbsp;<span class="op" id="8035358">[</span><span class="op" id="8035359">]</span><span class="builtintype" id="8035360">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035367">instr</span>&nbsp;<span class="op" id="8035373">:=</span>&nbsp;<span class="op" id="8035376">&amp;</span><span class="ident" id="8035377">decInstr</span><span class="op" id="8035385">{</span><span class="ident" id="8035386">decUint8Slice</span><span class="op" id="8035399">,</span>&nbsp;<span class="num" id="8035401">6</span><span class="op" id="8035402">,</span>&nbsp;<span class="ident" id="8035404">nil</span><span class="op" id="8035407">,</span>&nbsp;<span class="ident" id="8035409">ovfl</span><span class="op" id="8035413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035417">state</span>&nbsp;<span class="op" id="8035423">:=</span>&nbsp;<span class="ident" id="8035426">newDecodeStateFromData</span><span class="op" id="8035448">(</span><span class="ident" id="8035449">bytesResult</span><span class="op" id="8035460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035464">execDec</span><span class="op" id="8035471">(</span><span class="string" id="8035472">&#34;bytes&#34;</span><span class="op" id="8035479">,</span>&nbsp;<span class="ident" id="8035481">instr</span><span class="op" id="8035486">,</span>&nbsp;<span class="ident" id="8035488">state</span><span class="op" id="8035493">,</span>&nbsp;<span class="ident" id="8035495">t</span><span class="op" id="8035496">,</span>&nbsp;<span class="ident" id="8035498">reflect</span><span class="op" id="8035505">.</span><span class="ident" id="8035506">ValueOf</span><span class="op" id="8035513">(</span><span class="op" id="8035514">&amp;</span><span class="ident" id="8035515">data</span><span class="op" id="8035519">)</span><span class="op" id="8035520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8035524">if</span>&nbsp;<span class="builtintype" id="8035527">string</span><span class="op" id="8035533">(</span><span class="ident" id="8035534">data</span><span class="op" id="8035538">)</span>&nbsp;<span class="op" id="8035540">!=</span>&nbsp;<span class="string" id="8035543">&#34;hello&#34;</span>&nbsp;<span class="op" id="8035551">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035556">t</span><span class="op" id="8035557">.</span><span class="ident" id="8035558">Errorf</span><span class="op" id="8035564">(</span><span class="string" id="8035565">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8035591">,</span>&nbsp;<span class="builtintype" id="8035593">string</span><span class="op" id="8035599">(</span><span class="ident" id="8035600">data</span><span class="op" id="8035604">)</span><span class="op" id="8035605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8035616">//&nbsp;string</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8035631">var</span>&nbsp;<span class="ident" id="8035635">data</span>&nbsp;<span class="builtintype" id="8035640">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035649">instr</span>&nbsp;<span class="op" id="8035655">:=</span>&nbsp;<span class="op" id="8035658">&amp;</span><span class="ident" id="8035659">decInstr</span><span class="op" id="8035667">{</span><span class="ident" id="8035668">decString</span><span class="op" id="8035677">,</span>&nbsp;<span class="num" id="8035679">6</span><span class="op" id="8035680">,</span>&nbsp;<span class="ident" id="8035682">nil</span><span class="op" id="8035685">,</span>&nbsp;<span class="ident" id="8035687">ovfl</span><span class="op" id="8035691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035695">state</span>&nbsp;<span class="op" id="8035701">:=</span>&nbsp;<span class="ident" id="8035704">newDecodeStateFromData</span><span class="op" id="8035726">(</span><span class="ident" id="8035727">bytesResult</span><span class="op" id="8035738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035742">execDec</span><span class="op" id="8035749">(</span><span class="string" id="8035750">&#34;bytes&#34;</span><span class="op" id="8035757">,</span>&nbsp;<span class="ident" id="8035759">instr</span><span class="op" id="8035764">,</span>&nbsp;<span class="ident" id="8035766">state</span><span class="op" id="8035771">,</span>&nbsp;<span class="ident" id="8035773">t</span><span class="op" id="8035774">,</span>&nbsp;<span class="ident" id="8035776">reflect</span><span class="op" id="8035783">.</span><span class="ident" id="8035784">ValueOf</span><span class="op" id="8035791">(</span><span class="op" id="8035792">&amp;</span><span class="ident" id="8035793">data</span><span class="op" id="8035797">)</span><span class="op" id="8035798">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8035802">if</span>&nbsp;<span class="ident" id="8035805">data</span>&nbsp;<span class="op" id="8035810">!=</span>&nbsp;<span class="string" id="8035813">&#34;hello&#34;</span>&nbsp;<span class="op" id="8035821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035826">t</span><span class="op" id="8035827">.</span><span class="ident" id="8035828">Errorf</span><span class="op" id="8035834">(</span><span class="string" id="8035835">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8035861">,</span>&nbsp;<span class="ident" id="8035863">data</span><span class="op" id="8035867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035874">}</span><br>
<span class="lineno"></span><span class="op" id="8035876">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="8035879">func</span>&nbsp;<span class="ident" id="8035884">TestEndToEnd</span><span class="op" id="8035896">(</span><span class="ident" id="8035897">t</span>&nbsp;<span class="op" id="8035899">*</span><span class="ident" id="8035900">testing</span><span class="op" id="8035907">.</span><span class="ident" id="8035908">T</span><span class="op" id="8035909">)</span>&nbsp;<span class="op" id="8035911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8035914">type</span>&nbsp;<span class="ident" id="8035919">T2</span>&nbsp;<span class="keyword" id="8035922">struct</span>&nbsp;<span class="op" id="8035929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035933">T</span>&nbsp;<span class="builtintype" id="8035935">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8035943">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035946">s1</span>&nbsp;<span class="op" id="8035949">:=</span>&nbsp;<span class="string" id="8035952">&#34;string1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035963">s2</span>&nbsp;<span class="op" id="8035966">:=</span>&nbsp;<span class="string" id="8035969">&#34;string2&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8035980">type</span>&nbsp;<span class="ident" id="8035985">T1</span>&nbsp;<span class="keyword" id="8035988">struct</span>&nbsp;<span class="op" id="8035995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8035999">A</span><span class="op" id="8036000">,</span>&nbsp;<span class="ident" id="8036002">B</span><span class="op" id="8036003">,</span>&nbsp;<span class="ident" id="8036005">C</span>&nbsp;&nbsp;<span class="builtintype" id="8036008">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036014">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8036023">map</span><span class="op" id="8036026">[</span><span class="builtintype" id="8036027">string</span><span class="op" id="8036033">]</span><span class="op" id="8036034">*</span><span class="builtintype" id="8036035">float64</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036045">EmptyMap</span>&nbsp;<span class="keyword" id="8036054">map</span><span class="op" id="8036057">[</span><span class="builtintype" id="8036058">string</span><span class="op" id="8036064">]</span><span class="builtintype" id="8036065">int</span>&nbsp;<span class="comment" id="8036069">//&nbsp;to&nbsp;check&nbsp;that&nbsp;we&nbsp;receive&nbsp;a&nbsp;non-nil&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036114">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036123">*</span><span class="op" id="8036124">[</span><span class="num" id="8036125">3</span><span class="op" id="8036126">]</span><span class="builtintype" id="8036127">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036137">Strs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036146">*</span><span class="op" id="8036147">[</span><span class="num" id="8036148">2</span><span class="op" id="8036149">]</span><span class="builtintype" id="8036150">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036159">Int64s</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8036168">*</span><span class="op" id="8036169">[</span><span class="op" id="8036170">]</span><span class="ident" id="8036171">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036179">RI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8036188">complex64</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036200">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8036209">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036218">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036227">[</span><span class="op" id="8036228">]</span><span class="builtintype" id="8036229">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036236">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036245">*</span><span class="ident" id="8036246">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8036250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036253">pi</span>&nbsp;<span class="op" id="8036256">:=</span>&nbsp;<span class="num" id="8036259">3.14159</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036268">e</span>&nbsp;<span class="op" id="8036270">:=</span>&nbsp;<span class="num" id="8036273">2.71828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036282">t1</span>&nbsp;<span class="op" id="8036285">:=</span>&nbsp;<span class="op" id="8036288">&amp;</span><span class="ident" id="8036289">T1</span><span class="op" id="8036291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036295">A</span><span class="op" id="8036296">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8036305">17</span><span class="op" id="8036307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036311">B</span><span class="op" id="8036312">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8036321">18</span><span class="op" id="8036323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036327">C</span><span class="op" id="8036328">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036337">-</span><span class="num" id="8036338">5</span><span class="op" id="8036339">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036343">M</span><span class="op" id="8036344">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8036353">map</span><span class="op" id="8036356">[</span><span class="builtintype" id="8036357">string</span><span class="op" id="8036363">]</span><span class="op" id="8036364">*</span><span class="builtintype" id="8036365">float64</span><span class="op" id="8036372">{</span><span class="string" id="8036373">&#34;pi&#34;</span><span class="op" id="8036377">:</span>&nbsp;<span class="op" id="8036379">&amp;</span><span class="ident" id="8036380">pi</span><span class="op" id="8036382">,</span>&nbsp;<span class="string" id="8036384">&#34;e&#34;</span><span class="op" id="8036387">:</span>&nbsp;<span class="op" id="8036389">&amp;</span><span class="ident" id="8036390">e</span><span class="op" id="8036391">}</span><span class="op" id="8036392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036396">EmptyMap</span><span class="op" id="8036404">:</span>&nbsp;<span class="builtinfunc" id="8036406">make</span><span class="op" id="8036410">(</span><span class="keyword" id="8036411">map</span><span class="op" id="8036414">[</span><span class="builtintype" id="8036415">string</span><span class="op" id="8036421">]</span><span class="builtintype" id="8036422">int</span><span class="op" id="8036425">)</span><span class="op" id="8036426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036430">N</span><span class="op" id="8036431">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036440">&amp;</span><span class="op" id="8036441">[</span><span class="num" id="8036442">3</span><span class="op" id="8036443">]</span><span class="builtintype" id="8036444">float64</span><span class="op" id="8036451">{</span><span class="num" id="8036452">1.5</span><span class="op" id="8036455">,</span>&nbsp;<span class="num" id="8036457">2.5</span><span class="op" id="8036460">,</span>&nbsp;<span class="num" id="8036462">3.5</span><span class="op" id="8036465">}</span><span class="op" id="8036466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036470">Strs</span><span class="op" id="8036474">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036480">&amp;</span><span class="op" id="8036481">[</span><span class="num" id="8036482">2</span><span class="op" id="8036483">]</span><span class="builtintype" id="8036484">string</span><span class="op" id="8036490">{</span><span class="ident" id="8036491">s1</span><span class="op" id="8036493">,</span>&nbsp;<span class="ident" id="8036495">s2</span><span class="op" id="8036497">}</span><span class="op" id="8036498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036502">Int64s</span><span class="op" id="8036508">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8036512">&amp;</span><span class="op" id="8036513">[</span><span class="op" id="8036514">]</span><span class="ident" id="8036515">int64</span><span class="op" id="8036520">{</span><span class="num" id="8036521">77</span><span class="op" id="8036523">,</span>&nbsp;<span class="num" id="8036525">89</span><span class="op" id="8036527">,</span>&nbsp;<span class="num" id="8036529">123412342134</span><span class="op" id="8036541">}</span><span class="op" id="8036542">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036546">RI</span><span class="op" id="8036548">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8036556">17</span>&nbsp;<span class="op" id="8036559">-</span>&nbsp;<span class="num" id="8036561">23i</span><span class="op" id="8036564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036568">S</span><span class="op" id="8036569">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8036578">&#34;Now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8036595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036599">Y</span><span class="op" id="8036600">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036609">[</span><span class="op" id="8036610">]</span><span class="builtintype" id="8036611">byte</span><span class="op" id="8036615">(</span><span class="string" id="8036616">&#34;hello,&nbsp;sailor&#34;</span><span class="op" id="8036631">)</span><span class="op" id="8036632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036636">T</span><span class="op" id="8036637">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036646">&amp;</span><span class="ident" id="8036647">T2</span><span class="op" id="8036649">{</span><span class="string" id="8036650">&#34;this&nbsp;is&nbsp;T2&#34;</span><span class="op" id="8036662">}</span><span class="op" id="8036663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8036666">}</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036669">b</span>&nbsp;<span class="op" id="8036671">:=</span>&nbsp;<span class="builtinfunc" id="8036674">new</span><span class="op" id="8036677">(</span><span class="ident" id="8036678">bytes</span><span class="op" id="8036683">.</span><span class="ident" id="8036684">Buffer</span><span class="op" id="8036690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036693">err</span>&nbsp;<span class="op" id="8036697">:=</span>&nbsp;<span class="ident" id="8036700">NewEncoder</span><span class="op" id="8036710">(</span><span class="ident" id="8036711">b</span><span class="op" id="8036712">)</span><span class="op" id="8036713">.</span><span class="ident" id="8036714">Encode</span><span class="op" id="8036720">(</span><span class="ident" id="8036721">t1</span><span class="op" id="8036723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8036726">if</span>&nbsp;<span class="ident" id="8036729">err</span>&nbsp;<span class="op" id="8036733">!=</span>&nbsp;<span class="ident" id="8036736">nil</span>&nbsp;<span class="op" id="8036740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036744">t</span><span class="op" id="8036745">.</span><span class="ident" id="8036746">Error</span><span class="op" id="8036751">(</span><span class="string" id="8036752">&#34;encode:&#34;</span><span class="op" id="8036761">,</span>&nbsp;<span class="ident" id="8036763">err</span><span class="op" id="8036766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8036769">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8036772">var</span>&nbsp;<span class="ident" id="8036776">_t1</span>&nbsp;<span class="ident" id="8036780">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036784">err</span>&nbsp;<span class="op" id="8036788">=</span>&nbsp;<span class="ident" id="8036790">NewDecoder</span><span class="op" id="8036800">(</span><span class="ident" id="8036801">b</span><span class="op" id="8036802">)</span><span class="op" id="8036803">.</span><span class="ident" id="8036804">Decode</span><span class="op" id="8036810">(</span><span class="op" id="8036811">&amp;</span><span class="ident" id="8036812">_t1</span><span class="op" id="8036815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8036818">if</span>&nbsp;<span class="ident" id="8036821">err</span>&nbsp;<span class="op" id="8036825">!=</span>&nbsp;<span class="ident" id="8036828">nil</span>&nbsp;<span class="op" id="8036832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036836">t</span><span class="op" id="8036837">.</span><span class="ident" id="8036838">Fatal</span><span class="op" id="8036843">(</span><span class="string" id="8036844">&#34;decode:&#34;</span><span class="op" id="8036853">,</span>&nbsp;<span class="ident" id="8036855">err</span><span class="op" id="8036858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8036861">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8036864">if</span>&nbsp;<span class="op" id="8036867">!</span><span class="ident" id="8036868">reflect</span><span class="op" id="8036875">.</span><span class="ident" id="8036876">DeepEqual</span><span class="op" id="8036885">(</span><span class="ident" id="8036886">t1</span><span class="op" id="8036888">,</span>&nbsp;<span class="op" id="8036890">&amp;</span><span class="ident" id="8036891">_t1</span><span class="op" id="8036894">)</span>&nbsp;<span class="op" id="8036896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036900">t</span><span class="op" id="8036901">.</span><span class="ident" id="8036902">Errorf</span><span class="op" id="8036908">(</span><span class="string" id="8036909">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8036936">,</span>&nbsp;<span class="op" id="8036938">*</span><span class="ident" id="8036939">t1</span><span class="op" id="8036941">,</span>&nbsp;<span class="ident" id="8036943">_t1</span><span class="op" id="8036946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8036949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8036952">//&nbsp;Be&nbsp;absolutely&nbsp;sure&nbsp;the&nbsp;received&nbsp;map&nbsp;is&nbsp;non-nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037004">if</span>&nbsp;<span class="ident" id="8037007">t1</span><span class="op" id="8037009">.</span><span class="ident" id="8037010">EmptyMap</span>&nbsp;<span class="op" id="8037019">==</span>&nbsp;<span class="ident" id="8037022">nil</span>&nbsp;<span class="op" id="8037026">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037030">t</span><span class="op" id="8037031">.</span><span class="ident" id="8037032">Errorf</span><span class="op" id="8037038">(</span><span class="string" id="8037039">&#34;nil&nbsp;map&nbsp;sent&#34;</span><span class="op" id="8037053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037059">if</span>&nbsp;<span class="ident" id="8037062">_t1</span><span class="op" id="8037065">.</span><span class="ident" id="8037066">EmptyMap</span>&nbsp;<span class="op" id="8037075">==</span>&nbsp;<span class="ident" id="8037078">nil</span>&nbsp;<span class="op" id="8037082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037086">t</span><span class="op" id="8037087">.</span><span class="ident" id="8037088">Errorf</span><span class="op" id="8037094">(</span><span class="string" id="8037095">&#34;nil&nbsp;map&nbsp;received&#34;</span><span class="op" id="8037113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037116">}</span><br>
<span class="lineno">600</span><span class="op" id="8037118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8037121">func</span>&nbsp;<span class="ident" id="8037126">TestOverflow</span><span class="op" id="8037138">(</span><span class="ident" id="8037139">t</span>&nbsp;<span class="op" id="8037141">*</span><span class="ident" id="8037142">testing</span><span class="op" id="8037149">.</span><span class="ident" id="8037150">T</span><span class="op" id="8037151">)</span>&nbsp;<span class="op" id="8037153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037156">type</span>&nbsp;<span class="ident" id="8037161">inputT</span>&nbsp;<span class="keyword" id="8037168">struct</span>&nbsp;<span class="op" id="8037175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037179">Maxi</span>&nbsp;<span class="ident" id="8037184">int64</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037192">Mini</span>&nbsp;<span class="ident" id="8037197">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037205">Maxu</span>&nbsp;<span class="ident" id="8037210">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037219">Maxf</span>&nbsp;<span class="builtintype" id="8037224">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037234">Minf</span>&nbsp;<span class="builtintype" id="8037239">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037249">Maxc</span>&nbsp;<span class="builtintype" id="8037254">complex128</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037267">Minc</span>&nbsp;<span class="builtintype" id="8037272">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037287">var</span>&nbsp;<span class="ident" id="8037291">it</span>&nbsp;<span class="ident" id="8037294">inputT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037302">var</span>&nbsp;<span class="ident" id="8037306">err</span>&nbsp;<span class="builtintype" id="8037310">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037317">b</span>&nbsp;<span class="op" id="8037319">:=</span>&nbsp;<span class="builtinfunc" id="8037322">new</span><span class="op" id="8037325">(</span><span class="ident" id="8037326">bytes</span><span class="op" id="8037331">.</span><span class="ident" id="8037332">Buffer</span><span class="op" id="8037338">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037341">enc</span>&nbsp;<span class="op" id="8037345">:=</span>&nbsp;<span class="ident" id="8037348">NewEncoder</span><span class="op" id="8037358">(</span><span class="ident" id="8037359">b</span><span class="op" id="8037360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037363">dec</span>&nbsp;<span class="op" id="8037367">:=</span>&nbsp;<span class="ident" id="8037370">NewDecoder</span><span class="op" id="8037380">(</span><span class="ident" id="8037381">b</span><span class="op" id="8037382">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8037386">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037395">b</span><span class="op" id="8037396">.</span><span class="ident" id="8037397">Reset</span><span class="op" id="8037402">(</span><span class="op" id="8037403">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037406">it</span>&nbsp;<span class="op" id="8037409">=</span>&nbsp;<span class="ident" id="8037411">inputT</span><span class="op" id="8037417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037421">Maxi</span><span class="op" id="8037425">:</span>&nbsp;<span class="ident" id="8037427">math</span><span class="op" id="8037431">.</span><span class="ident" id="8037432">MaxInt8</span>&nbsp;<span class="op" id="8037440">+</span>&nbsp;<span class="num" id="8037442">1</span><span class="op" id="8037443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037449">type</span>&nbsp;<span class="ident" id="8037454">outi8</span>&nbsp;<span class="keyword" id="8037460">struct</span>&nbsp;<span class="op" id="8037467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037471">Maxi</span>&nbsp;<span class="builtintype" id="8037476">int8</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037483">Mini</span>&nbsp;<span class="builtintype" id="8037488">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037497">var</span>&nbsp;<span class="ident" id="8037501">o1</span>&nbsp;<span class="ident" id="8037504">outi8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037511">enc</span><span class="op" id="8037514">.</span><span class="ident" id="8037515">Encode</span><span class="op" id="8037521">(</span><span class="ident" id="8037522">it</span><span class="op" id="8037524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037527">err</span>&nbsp;<span class="op" id="8037531">=</span>&nbsp;<span class="ident" id="8037533">dec</span><span class="op" id="8037536">.</span><span class="ident" id="8037537">Decode</span><span class="op" id="8037543">(</span><span class="op" id="8037544">&amp;</span><span class="ident" id="8037545">o1</span><span class="op" id="8037547">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037550">if</span>&nbsp;<span class="ident" id="8037553">err</span>&nbsp;<span class="op" id="8037557">==</span>&nbsp;<span class="ident" id="8037560">nil</span>&nbsp;<span class="op" id="8037564">||</span>&nbsp;<span class="ident" id="8037567">err</span><span class="op" id="8037570">.</span><span class="ident" id="8037571">Error</span><span class="op" id="8037576">(</span><span class="op" id="8037577">)</span>&nbsp;<span class="op" id="8037579">!=</span>&nbsp;<span class="string" id="8037582">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8037614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037618">t</span><span class="op" id="8037619">.</span><span class="ident" id="8037620">Error</span><span class="op" id="8037625">(</span><span class="string" id="8037626">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8037658">,</span>&nbsp;<span class="ident" id="8037660">err</span><span class="op" id="8037663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037669">it</span>&nbsp;<span class="op" id="8037672">=</span>&nbsp;<span class="ident" id="8037674">inputT</span><span class="op" id="8037680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037684">Mini</span><span class="op" id="8037688">:</span>&nbsp;<span class="ident" id="8037690">math</span><span class="op" id="8037694">.</span><span class="ident" id="8037695">MinInt8</span>&nbsp;<span class="op" id="8037703">-</span>&nbsp;<span class="num" id="8037705">1</span><span class="op" id="8037706">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037712">b</span><span class="op" id="8037713">.</span><span class="ident" id="8037714">Reset</span><span class="op" id="8037719">(</span><span class="op" id="8037720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037723">enc</span><span class="op" id="8037726">.</span><span class="ident" id="8037727">Encode</span><span class="op" id="8037733">(</span><span class="ident" id="8037734">it</span><span class="op" id="8037736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037739">err</span>&nbsp;<span class="op" id="8037743">=</span>&nbsp;<span class="ident" id="8037745">dec</span><span class="op" id="8037748">.</span><span class="ident" id="8037749">Decode</span><span class="op" id="8037755">(</span><span class="op" id="8037756">&amp;</span><span class="ident" id="8037757">o1</span><span class="op" id="8037759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037762">if</span>&nbsp;<span class="ident" id="8037765">err</span>&nbsp;<span class="op" id="8037769">==</span>&nbsp;<span class="ident" id="8037772">nil</span>&nbsp;<span class="op" id="8037776">||</span>&nbsp;<span class="ident" id="8037779">err</span><span class="op" id="8037782">.</span><span class="ident" id="8037783">Error</span><span class="op" id="8037788">(</span><span class="op" id="8037789">)</span>&nbsp;<span class="op" id="8037791">!=</span>&nbsp;<span class="string" id="8037794">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8037826">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037830">t</span><span class="op" id="8037831">.</span><span class="ident" id="8037832">Error</span><span class="op" id="8037837">(</span><span class="string" id="8037838">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8037871">,</span>&nbsp;<span class="ident" id="8037873">err</span><span class="op" id="8037876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8037883">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037893">b</span><span class="op" id="8037894">.</span><span class="ident" id="8037895">Reset</span><span class="op" id="8037900">(</span><span class="op" id="8037901">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037904">it</span>&nbsp;<span class="op" id="8037907">=</span>&nbsp;<span class="ident" id="8037909">inputT</span><span class="op" id="8037915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037919">Maxi</span><span class="op" id="8037923">:</span>&nbsp;<span class="ident" id="8037925">math</span><span class="op" id="8037929">.</span><span class="ident" id="8037930">MaxInt16</span>&nbsp;<span class="op" id="8037939">+</span>&nbsp;<span class="num" id="8037941">1</span><span class="op" id="8037942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037948">type</span>&nbsp;<span class="ident" id="8037953">outi16</span>&nbsp;<span class="keyword" id="8037960">struct</span>&nbsp;<span class="op" id="8037967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037971">Maxi</span>&nbsp;<span class="builtintype" id="8037976">int16</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8037984">Mini</span>&nbsp;<span class="builtintype" id="8037989">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8037999">var</span>&nbsp;<span class="ident" id="8038003">o2</span>&nbsp;<span class="ident" id="8038006">outi16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038014">enc</span><span class="op" id="8038017">.</span><span class="ident" id="8038018">Encode</span><span class="op" id="8038024">(</span><span class="ident" id="8038025">it</span><span class="op" id="8038027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038030">err</span>&nbsp;<span class="op" id="8038034">=</span>&nbsp;<span class="ident" id="8038036">dec</span><span class="op" id="8038039">.</span><span class="ident" id="8038040">Decode</span><span class="op" id="8038046">(</span><span class="op" id="8038047">&amp;</span><span class="ident" id="8038048">o2</span><span class="op" id="8038050">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038053">if</span>&nbsp;<span class="ident" id="8038056">err</span>&nbsp;<span class="op" id="8038060">==</span>&nbsp;<span class="ident" id="8038063">nil</span>&nbsp;<span class="op" id="8038067">||</span>&nbsp;<span class="ident" id="8038070">err</span><span class="op" id="8038073">.</span><span class="ident" id="8038074">Error</span><span class="op" id="8038079">(</span><span class="op" id="8038080">)</span>&nbsp;<span class="op" id="8038082">!=</span>&nbsp;<span class="string" id="8038085">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8038117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038121">t</span><span class="op" id="8038122">.</span><span class="ident" id="8038123">Error</span><span class="op" id="8038128">(</span><span class="string" id="8038129">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8038162">,</span>&nbsp;<span class="ident" id="8038164">err</span><span class="op" id="8038167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038173">it</span>&nbsp;<span class="op" id="8038176">=</span>&nbsp;<span class="ident" id="8038178">inputT</span><span class="op" id="8038184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038188">Mini</span><span class="op" id="8038192">:</span>&nbsp;<span class="ident" id="8038194">math</span><span class="op" id="8038198">.</span><span class="ident" id="8038199">MinInt16</span>&nbsp;<span class="op" id="8038208">-</span>&nbsp;<span class="num" id="8038210">1</span><span class="op" id="8038211">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038217">b</span><span class="op" id="8038218">.</span><span class="ident" id="8038219">Reset</span><span class="op" id="8038224">(</span><span class="op" id="8038225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038228">enc</span><span class="op" id="8038231">.</span><span class="ident" id="8038232">Encode</span><span class="op" id="8038238">(</span><span class="ident" id="8038239">it</span><span class="op" id="8038241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038244">err</span>&nbsp;<span class="op" id="8038248">=</span>&nbsp;<span class="ident" id="8038250">dec</span><span class="op" id="8038253">.</span><span class="ident" id="8038254">Decode</span><span class="op" id="8038260">(</span><span class="op" id="8038261">&amp;</span><span class="ident" id="8038262">o2</span><span class="op" id="8038264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038267">if</span>&nbsp;<span class="ident" id="8038270">err</span>&nbsp;<span class="op" id="8038274">==</span>&nbsp;<span class="ident" id="8038277">nil</span>&nbsp;<span class="op" id="8038281">||</span>&nbsp;<span class="ident" id="8038284">err</span><span class="op" id="8038287">.</span><span class="ident" id="8038288">Error</span><span class="op" id="8038293">(</span><span class="op" id="8038294">)</span>&nbsp;<span class="op" id="8038296">!=</span>&nbsp;<span class="string" id="8038299">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8038331">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038335">t</span><span class="op" id="8038336">.</span><span class="ident" id="8038337">Error</span><span class="op" id="8038342">(</span><span class="string" id="8038343">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8038377">,</span>&nbsp;<span class="ident" id="8038379">err</span><span class="op" id="8038382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8038389">//&nbsp;int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038399">b</span><span class="op" id="8038400">.</span><span class="ident" id="8038401">Reset</span><span class="op" id="8038406">(</span><span class="op" id="8038407">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038410">it</span>&nbsp;<span class="op" id="8038413">=</span>&nbsp;<span class="ident" id="8038415">inputT</span><span class="op" id="8038421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038425">Maxi</span><span class="op" id="8038429">:</span>&nbsp;<span class="ident" id="8038431">math</span><span class="op" id="8038435">.</span><span class="ident" id="8038436">MaxInt32</span>&nbsp;<span class="op" id="8038445">+</span>&nbsp;<span class="num" id="8038447">1</span><span class="op" id="8038448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038454">type</span>&nbsp;<span class="ident" id="8038459">outi32</span>&nbsp;<span class="keyword" id="8038466">struct</span>&nbsp;<span class="op" id="8038473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038477">Maxi</span>&nbsp;<span class="builtintype" id="8038482">int32</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038490">Mini</span>&nbsp;<span class="builtintype" id="8038495">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038505">var</span>&nbsp;<span class="ident" id="8038509">o3</span>&nbsp;<span class="ident" id="8038512">outi32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038520">enc</span><span class="op" id="8038523">.</span><span class="ident" id="8038524">Encode</span><span class="op" id="8038530">(</span><span class="ident" id="8038531">it</span><span class="op" id="8038533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038536">err</span>&nbsp;<span class="op" id="8038540">=</span>&nbsp;<span class="ident" id="8038542">dec</span><span class="op" id="8038545">.</span><span class="ident" id="8038546">Decode</span><span class="op" id="8038552">(</span><span class="op" id="8038553">&amp;</span><span class="ident" id="8038554">o3</span><span class="op" id="8038556">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038559">if</span>&nbsp;<span class="ident" id="8038562">err</span>&nbsp;<span class="op" id="8038566">==</span>&nbsp;<span class="ident" id="8038569">nil</span>&nbsp;<span class="op" id="8038573">||</span>&nbsp;<span class="ident" id="8038576">err</span><span class="op" id="8038579">.</span><span class="ident" id="8038580">Error</span><span class="op" id="8038585">(</span><span class="op" id="8038586">)</span>&nbsp;<span class="op" id="8038588">!=</span>&nbsp;<span class="string" id="8038591">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8038623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038627">t</span><span class="op" id="8038628">.</span><span class="ident" id="8038629">Error</span><span class="op" id="8038634">(</span><span class="string" id="8038635">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8038668">,</span>&nbsp;<span class="ident" id="8038670">err</span><span class="op" id="8038673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038679">it</span>&nbsp;<span class="op" id="8038682">=</span>&nbsp;<span class="ident" id="8038684">inputT</span><span class="op" id="8038690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038694">Mini</span><span class="op" id="8038698">:</span>&nbsp;<span class="ident" id="8038700">math</span><span class="op" id="8038704">.</span><span class="ident" id="8038705">MinInt32</span>&nbsp;<span class="op" id="8038714">-</span>&nbsp;<span class="num" id="8038716">1</span><span class="op" id="8038717">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038723">b</span><span class="op" id="8038724">.</span><span class="ident" id="8038725">Reset</span><span class="op" id="8038730">(</span><span class="op" id="8038731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038734">enc</span><span class="op" id="8038737">.</span><span class="ident" id="8038738">Encode</span><span class="op" id="8038744">(</span><span class="ident" id="8038745">it</span><span class="op" id="8038747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038750">err</span>&nbsp;<span class="op" id="8038754">=</span>&nbsp;<span class="ident" id="8038756">dec</span><span class="op" id="8038759">.</span><span class="ident" id="8038760">Decode</span><span class="op" id="8038766">(</span><span class="op" id="8038767">&amp;</span><span class="ident" id="8038768">o3</span><span class="op" id="8038770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038773">if</span>&nbsp;<span class="ident" id="8038776">err</span>&nbsp;<span class="op" id="8038780">==</span>&nbsp;<span class="ident" id="8038783">nil</span>&nbsp;<span class="op" id="8038787">||</span>&nbsp;<span class="ident" id="8038790">err</span><span class="op" id="8038793">.</span><span class="ident" id="8038794">Error</span><span class="op" id="8038799">(</span><span class="op" id="8038800">)</span>&nbsp;<span class="op" id="8038802">!=</span>&nbsp;<span class="string" id="8038805">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8038837">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038841">t</span><span class="op" id="8038842">.</span><span class="ident" id="8038843">Error</span><span class="op" id="8038848">(</span><span class="string" id="8038849">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8038883">,</span>&nbsp;<span class="ident" id="8038885">err</span><span class="op" id="8038888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8038895">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038905">b</span><span class="op" id="8038906">.</span><span class="ident" id="8038907">Reset</span><span class="op" id="8038912">(</span><span class="op" id="8038913">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038916">it</span>&nbsp;<span class="op" id="8038919">=</span>&nbsp;<span class="ident" id="8038921">inputT</span><span class="op" id="8038927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038931">Maxu</span><span class="op" id="8038935">:</span>&nbsp;<span class="ident" id="8038937">math</span><span class="op" id="8038941">.</span><span class="ident" id="8038942">MaxUint8</span>&nbsp;<span class="op" id="8038951">+</span>&nbsp;<span class="num" id="8038953">1</span><span class="op" id="8038954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038960">type</span>&nbsp;<span class="ident" id="8038965">outu8</span>&nbsp;<span class="keyword" id="8038971">struct</span>&nbsp;<span class="op" id="8038978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038982">Maxu</span>&nbsp;<span class="builtintype" id="8038987">uint8</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038997">var</span>&nbsp;<span class="ident" id="8039001">o4</span>&nbsp;<span class="ident" id="8039004">outu8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039011">enc</span><span class="op" id="8039014">.</span><span class="ident" id="8039015">Encode</span><span class="op" id="8039021">(</span><span class="ident" id="8039022">it</span><span class="op" id="8039024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039027">err</span>&nbsp;<span class="op" id="8039031">=</span>&nbsp;<span class="ident" id="8039033">dec</span><span class="op" id="8039036">.</span><span class="ident" id="8039037">Decode</span><span class="op" id="8039043">(</span><span class="op" id="8039044">&amp;</span><span class="ident" id="8039045">o4</span><span class="op" id="8039047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039050">if</span>&nbsp;<span class="ident" id="8039053">err</span>&nbsp;<span class="op" id="8039057">==</span>&nbsp;<span class="ident" id="8039060">nil</span>&nbsp;<span class="op" id="8039064">||</span>&nbsp;<span class="ident" id="8039067">err</span><span class="op" id="8039070">.</span><span class="ident" id="8039071">Error</span><span class="op" id="8039076">(</span><span class="op" id="8039077">)</span>&nbsp;<span class="op" id="8039079">!=</span>&nbsp;<span class="string" id="8039082">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8039114">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039118">t</span><span class="op" id="8039119">.</span><span class="ident" id="8039120">Error</span><span class="op" id="8039125">(</span><span class="string" id="8039126">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint8:&#34;</span><span class="op" id="8039159">,</span>&nbsp;<span class="ident" id="8039161">err</span><span class="op" id="8039164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8039171">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039182">b</span><span class="op" id="8039183">.</span><span class="ident" id="8039184">Reset</span><span class="op" id="8039189">(</span><span class="op" id="8039190">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039193">it</span>&nbsp;<span class="op" id="8039196">=</span>&nbsp;<span class="ident" id="8039198">inputT</span><span class="op" id="8039204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039208">Maxu</span><span class="op" id="8039212">:</span>&nbsp;<span class="ident" id="8039214">math</span><span class="op" id="8039218">.</span><span class="ident" id="8039219">MaxUint16</span>&nbsp;<span class="op" id="8039229">+</span>&nbsp;<span class="num" id="8039231">1</span><span class="op" id="8039232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039238">type</span>&nbsp;<span class="ident" id="8039243">outu16</span>&nbsp;<span class="keyword" id="8039250">struct</span>&nbsp;<span class="op" id="8039257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039261">Maxu</span>&nbsp;<span class="builtintype" id="8039266">uint16</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039277">var</span>&nbsp;<span class="ident" id="8039281">o5</span>&nbsp;<span class="ident" id="8039284">outu16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039292">enc</span><span class="op" id="8039295">.</span><span class="ident" id="8039296">Encode</span><span class="op" id="8039302">(</span><span class="ident" id="8039303">it</span><span class="op" id="8039305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039308">err</span>&nbsp;<span class="op" id="8039312">=</span>&nbsp;<span class="ident" id="8039314">dec</span><span class="op" id="8039317">.</span><span class="ident" id="8039318">Decode</span><span class="op" id="8039324">(</span><span class="op" id="8039325">&amp;</span><span class="ident" id="8039326">o5</span><span class="op" id="8039328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039331">if</span>&nbsp;<span class="ident" id="8039334">err</span>&nbsp;<span class="op" id="8039338">==</span>&nbsp;<span class="ident" id="8039341">nil</span>&nbsp;<span class="op" id="8039345">||</span>&nbsp;<span class="ident" id="8039348">err</span><span class="op" id="8039351">.</span><span class="ident" id="8039352">Error</span><span class="op" id="8039357">(</span><span class="op" id="8039358">)</span>&nbsp;<span class="op" id="8039360">!=</span>&nbsp;<span class="string" id="8039363">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8039395">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039399">t</span><span class="op" id="8039400">.</span><span class="ident" id="8039401">Error</span><span class="op" id="8039406">(</span><span class="string" id="8039407">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint16:&#34;</span><span class="op" id="8039441">,</span>&nbsp;<span class="ident" id="8039443">err</span><span class="op" id="8039446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8039453">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039464">b</span><span class="op" id="8039465">.</span><span class="ident" id="8039466">Reset</span><span class="op" id="8039471">(</span><span class="op" id="8039472">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039475">it</span>&nbsp;<span class="op" id="8039478">=</span>&nbsp;<span class="ident" id="8039480">inputT</span><span class="op" id="8039486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039490">Maxu</span><span class="op" id="8039494">:</span>&nbsp;<span class="ident" id="8039496">math</span><span class="op" id="8039500">.</span><span class="ident" id="8039501">MaxUint32</span>&nbsp;<span class="op" id="8039511">+</span>&nbsp;<span class="num" id="8039513">1</span><span class="op" id="8039514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039520">type</span>&nbsp;<span class="ident" id="8039525">outu32</span>&nbsp;<span class="keyword" id="8039532">struct</span>&nbsp;<span class="op" id="8039539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039543">Maxu</span>&nbsp;<span class="builtintype" id="8039548">uint32</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039559">var</span>&nbsp;<span class="ident" id="8039563">o6</span>&nbsp;<span class="ident" id="8039566">outu32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039574">enc</span><span class="op" id="8039577">.</span><span class="ident" id="8039578">Encode</span><span class="op" id="8039584">(</span><span class="ident" id="8039585">it</span><span class="op" id="8039587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039590">err</span>&nbsp;<span class="op" id="8039594">=</span>&nbsp;<span class="ident" id="8039596">dec</span><span class="op" id="8039599">.</span><span class="ident" id="8039600">Decode</span><span class="op" id="8039606">(</span><span class="op" id="8039607">&amp;</span><span class="ident" id="8039608">o6</span><span class="op" id="8039610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039613">if</span>&nbsp;<span class="ident" id="8039616">err</span>&nbsp;<span class="op" id="8039620">==</span>&nbsp;<span class="ident" id="8039623">nil</span>&nbsp;<span class="op" id="8039627">||</span>&nbsp;<span class="ident" id="8039630">err</span><span class="op" id="8039633">.</span><span class="ident" id="8039634">Error</span><span class="op" id="8039639">(</span><span class="op" id="8039640">)</span>&nbsp;<span class="op" id="8039642">!=</span>&nbsp;<span class="string" id="8039645">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8039677">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039681">t</span><span class="op" id="8039682">.</span><span class="ident" id="8039683">Error</span><span class="op" id="8039688">(</span><span class="string" id="8039689">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint32:&#34;</span><span class="op" id="8039723">,</span>&nbsp;<span class="ident" id="8039725">err</span><span class="op" id="8039728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8039735">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039747">b</span><span class="op" id="8039748">.</span><span class="ident" id="8039749">Reset</span><span class="op" id="8039754">(</span><span class="op" id="8039755">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039758">it</span>&nbsp;<span class="op" id="8039761">=</span>&nbsp;<span class="ident" id="8039763">inputT</span><span class="op" id="8039769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039773">Maxf</span><span class="op" id="8039777">:</span>&nbsp;<span class="ident" id="8039779">math</span><span class="op" id="8039783">.</span><span class="ident" id="8039784">MaxFloat32</span>&nbsp;<span class="op" id="8039795">*</span>&nbsp;<span class="num" id="8039797">2</span><span class="op" id="8039798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039804">type</span>&nbsp;<span class="ident" id="8039809">outf32</span>&nbsp;<span class="keyword" id="8039816">struct</span>&nbsp;<span class="op" id="8039823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039827">Maxf</span>&nbsp;<span class="builtintype" id="8039832">float32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039842">Minf</span>&nbsp;<span class="builtintype" id="8039847">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039859">var</span>&nbsp;<span class="ident" id="8039863">o7</span>&nbsp;<span class="ident" id="8039866">outf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039874">enc</span><span class="op" id="8039877">.</span><span class="ident" id="8039878">Encode</span><span class="op" id="8039884">(</span><span class="ident" id="8039885">it</span><span class="op" id="8039887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039890">err</span>&nbsp;<span class="op" id="8039894">=</span>&nbsp;<span class="ident" id="8039896">dec</span><span class="op" id="8039899">.</span><span class="ident" id="8039900">Decode</span><span class="op" id="8039906">(</span><span class="op" id="8039907">&amp;</span><span class="ident" id="8039908">o7</span><span class="op" id="8039910">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039913">if</span>&nbsp;<span class="ident" id="8039916">err</span>&nbsp;<span class="op" id="8039920">==</span>&nbsp;<span class="ident" id="8039923">nil</span>&nbsp;<span class="op" id="8039927">||</span>&nbsp;<span class="ident" id="8039930">err</span><span class="op" id="8039933">.</span><span class="ident" id="8039934">Error</span><span class="op" id="8039939">(</span><span class="op" id="8039940">)</span>&nbsp;<span class="op" id="8039942">!=</span>&nbsp;<span class="string" id="8039945">`value&nbsp;for&nbsp;&#34;Maxf&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8039977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039981">t</span><span class="op" id="8039982">.</span><span class="ident" id="8039983">Error</span><span class="op" id="8039988">(</span><span class="string" id="8039989">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;float32:&#34;</span><span class="op" id="8040024">,</span>&nbsp;<span class="ident" id="8040026">err</span><span class="op" id="8040029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8040036">//&nbsp;complex64</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040050">b</span><span class="op" id="8040051">.</span><span class="ident" id="8040052">Reset</span><span class="op" id="8040057">(</span><span class="op" id="8040058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040061">it</span>&nbsp;<span class="op" id="8040064">=</span>&nbsp;<span class="ident" id="8040066">inputT</span><span class="op" id="8040072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040076">Maxc</span><span class="op" id="8040080">:</span>&nbsp;<span class="builtinfunc" id="8040082">complex</span><span class="op" id="8040089">(</span><span class="ident" id="8040090">math</span><span class="op" id="8040094">.</span><span class="ident" id="8040095">MaxFloat32</span><span class="op" id="8040105">*</span><span class="num" id="8040106">2</span><span class="op" id="8040107">,</span>&nbsp;<span class="ident" id="8040109">math</span><span class="op" id="8040113">.</span><span class="ident" id="8040114">MaxFloat32</span><span class="op" id="8040124">*</span><span class="num" id="8040125">2</span><span class="op" id="8040126">)</span><span class="op" id="8040127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040133">type</span>&nbsp;<span class="ident" id="8040138">outc64</span>&nbsp;<span class="keyword" id="8040145">struct</span>&nbsp;<span class="op" id="8040152">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040156">Maxc</span>&nbsp;<span class="builtintype" id="8040161">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040173">Minc</span>&nbsp;<span class="builtintype" id="8040178">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040192">var</span>&nbsp;<span class="ident" id="8040196">o8</span>&nbsp;<span class="ident" id="8040199">outc64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040207">enc</span><span class="op" id="8040210">.</span><span class="ident" id="8040211">Encode</span><span class="op" id="8040217">(</span><span class="ident" id="8040218">it</span><span class="op" id="8040220">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040223">err</span>&nbsp;<span class="op" id="8040227">=</span>&nbsp;<span class="ident" id="8040229">dec</span><span class="op" id="8040232">.</span><span class="ident" id="8040233">Decode</span><span class="op" id="8040239">(</span><span class="op" id="8040240">&amp;</span><span class="ident" id="8040241">o8</span><span class="op" id="8040243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040246">if</span>&nbsp;<span class="ident" id="8040249">err</span>&nbsp;<span class="op" id="8040253">==</span>&nbsp;<span class="ident" id="8040256">nil</span>&nbsp;<span class="op" id="8040260">||</span>&nbsp;<span class="ident" id="8040263">err</span><span class="op" id="8040266">.</span><span class="ident" id="8040267">Error</span><span class="op" id="8040272">(</span><span class="op" id="8040273">)</span>&nbsp;<span class="op" id="8040275">!=</span>&nbsp;<span class="string" id="8040278">`value&nbsp;for&nbsp;&#34;Maxc&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8040310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040314">t</span><span class="op" id="8040315">.</span><span class="ident" id="8040316">Error</span><span class="op" id="8040321">(</span><span class="string" id="8040322">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;complex64:&#34;</span><span class="op" id="8040359">,</span>&nbsp;<span class="ident" id="8040361">err</span><span class="op" id="8040364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040367">}</span><br>
<span class="lineno"></span><span class="op" id="8040369">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="keyword" id="8040372">func</span>&nbsp;<span class="ident" id="8040377">TestNesting</span><span class="op" id="8040388">(</span><span class="ident" id="8040389">t</span>&nbsp;<span class="op" id="8040391">*</span><span class="ident" id="8040392">testing</span><span class="op" id="8040399">.</span><span class="ident" id="8040400">T</span><span class="op" id="8040401">)</span>&nbsp;<span class="op" id="8040403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040406">type</span>&nbsp;<span class="ident" id="8040411">RT</span>&nbsp;<span class="keyword" id="8040414">struct</span>&nbsp;<span class="op" id="8040421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040425">A</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8040430">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040439">Next</span>&nbsp;<span class="op" id="8040444">*</span><span class="ident" id="8040445">RT</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040452">rt</span>&nbsp;<span class="op" id="8040455">:=</span>&nbsp;<span class="builtinfunc" id="8040458">new</span><span class="op" id="8040461">(</span><span class="ident" id="8040462">RT</span><span class="op" id="8040464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040467">rt</span><span class="op" id="8040469">.</span><span class="ident" id="8040470">A</span>&nbsp;<span class="op" id="8040472">=</span>&nbsp;<span class="string" id="8040474">&#34;level1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040484">rt</span><span class="op" id="8040486">.</span><span class="ident" id="8040487">Next</span>&nbsp;<span class="op" id="8040492">=</span>&nbsp;<span class="builtinfunc" id="8040494">new</span><span class="op" id="8040497">(</span><span class="ident" id="8040498">RT</span><span class="op" id="8040500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040503">rt</span><span class="op" id="8040505">.</span><span class="ident" id="8040506">Next</span><span class="op" id="8040510">.</span><span class="ident" id="8040511">A</span>&nbsp;<span class="op" id="8040513">=</span>&nbsp;<span class="string" id="8040515">&#34;level2&#34;</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040525">b</span>&nbsp;<span class="op" id="8040527">:=</span>&nbsp;<span class="builtinfunc" id="8040530">new</span><span class="op" id="8040533">(</span><span class="ident" id="8040534">bytes</span><span class="op" id="8040539">.</span><span class="ident" id="8040540">Buffer</span><span class="op" id="8040546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040549">NewEncoder</span><span class="op" id="8040559">(</span><span class="ident" id="8040560">b</span><span class="op" id="8040561">)</span><span class="op" id="8040562">.</span><span class="ident" id="8040563">Encode</span><span class="op" id="8040569">(</span><span class="ident" id="8040570">rt</span><span class="op" id="8040572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040575">var</span>&nbsp;<span class="ident" id="8040579">drt</span>&nbsp;<span class="ident" id="8040583">RT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040587">dec</span>&nbsp;<span class="op" id="8040591">:=</span>&nbsp;<span class="ident" id="8040594">NewDecoder</span><span class="op" id="8040604">(</span><span class="ident" id="8040605">b</span><span class="op" id="8040606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040609">err</span>&nbsp;<span class="op" id="8040613">:=</span>&nbsp;<span class="ident" id="8040616">dec</span><span class="op" id="8040619">.</span><span class="ident" id="8040620">Decode</span><span class="op" id="8040626">(</span><span class="op" id="8040627">&amp;</span><span class="ident" id="8040628">drt</span><span class="op" id="8040631">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040634">if</span>&nbsp;<span class="ident" id="8040637">err</span>&nbsp;<span class="op" id="8040641">!=</span>&nbsp;<span class="ident" id="8040644">nil</span>&nbsp;<span class="op" id="8040648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040652">t</span><span class="op" id="8040653">.</span><span class="ident" id="8040654">Fatal</span><span class="op" id="8040659">(</span><span class="string" id="8040660">&#34;decoder&nbsp;error:&#34;</span><span class="op" id="8040676">,</span>&nbsp;<span class="ident" id="8040678">err</span><span class="op" id="8040681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040687">if</span>&nbsp;<span class="ident" id="8040690">drt</span><span class="op" id="8040693">.</span><span class="ident" id="8040694">A</span>&nbsp;<span class="op" id="8040696">!=</span>&nbsp;<span class="ident" id="8040699">rt</span><span class="op" id="8040701">.</span><span class="ident" id="8040702">A</span>&nbsp;<span class="op" id="8040704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040708">t</span><span class="op" id="8040709">.</span><span class="ident" id="8040710">Errorf</span><span class="op" id="8040716">(</span><span class="string" id="8040717">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8040753">,</span>&nbsp;<span class="op" id="8040755">*</span><span class="ident" id="8040756">rt</span><span class="op" id="8040758">,</span>&nbsp;<span class="ident" id="8040760">drt</span><span class="op" id="8040763">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040769">if</span>&nbsp;<span class="ident" id="8040772">drt</span><span class="op" id="8040775">.</span><span class="ident" id="8040776">Next</span>&nbsp;<span class="op" id="8040781">==</span>&nbsp;<span class="ident" id="8040784">nil</span>&nbsp;<span class="op" id="8040788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040792">t</span><span class="op" id="8040793">.</span><span class="ident" id="8040794">Errorf</span><span class="op" id="8040800">(</span><span class="string" id="8040801">&#34;nesting:&nbsp;recursion&nbsp;failed&#34;</span><span class="op" id="8040828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040834">if</span>&nbsp;<span class="ident" id="8040837">drt</span><span class="op" id="8040840">.</span><span class="ident" id="8040841">Next</span><span class="op" id="8040845">.</span><span class="ident" id="8040846">A</span>&nbsp;<span class="op" id="8040848">!=</span>&nbsp;<span class="ident" id="8040851">rt</span><span class="op" id="8040853">.</span><span class="ident" id="8040854">Next</span><span class="op" id="8040858">.</span><span class="ident" id="8040859">A</span>&nbsp;<span class="op" id="8040861">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040865">t</span><span class="op" id="8040866">.</span><span class="ident" id="8040867">Errorf</span><span class="op" id="8040873">(</span><span class="string" id="8040874">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8040910">,</span>&nbsp;<span class="op" id="8040912">*</span><span class="ident" id="8040913">rt</span><span class="op" id="8040915">.</span><span class="ident" id="8040916">Next</span><span class="op" id="8040920">,</span>&nbsp;<span class="op" id="8040922">*</span><span class="ident" id="8040923">drt</span><span class="op" id="8040926">.</span><span class="ident" id="8040927">Next</span><span class="op" id="8040931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040934">}</span><br>
<span class="lineno"></span><span class="op" id="8040936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8040939">//&nbsp;These&nbsp;three&nbsp;structures&nbsp;have&nbsp;the&nbsp;same&nbsp;data&nbsp;with&nbsp;different&nbsp;indirections</span><br>
<span class="lineno">800</span><span class="keyword" id="8041012">type</span>&nbsp;<span class="ident" id="8041017">T0</span>&nbsp;<span class="keyword" id="8041020">struct</span>&nbsp;<span class="op" id="8041027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041030">A</span>&nbsp;<span class="builtintype" id="8041032">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041037">B</span>&nbsp;<span class="builtintype" id="8041039">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041044">C</span>&nbsp;<span class="builtintype" id="8041046">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041051">D</span>&nbsp;<span class="builtintype" id="8041053">int</span><br>
<span class="lineno">805</span><span class="op" id="8041057">}</span><br>
<span class="lineno"></span><span class="keyword" id="8041059">type</span>&nbsp;<span class="ident" id="8041064">T1</span>&nbsp;<span class="keyword" id="8041067">struct</span>&nbsp;<span class="op" id="8041074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041077">A</span>&nbsp;<span class="builtintype" id="8041079">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041084">B</span>&nbsp;<span class="op" id="8041086">*</span><span class="builtintype" id="8041087">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041092">C</span>&nbsp;<span class="op" id="8041094">*</span><span class="op" id="8041095">*</span><span class="builtintype" id="8041096">int</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041101">D</span>&nbsp;<span class="op" id="8041103">*</span><span class="op" id="8041104">*</span><span class="op" id="8041105">*</span><span class="builtintype" id="8041106">int</span><br>
<span class="lineno"></span><span class="op" id="8041110">}</span><br>
<span class="lineno"></span><span class="keyword" id="8041112">type</span>&nbsp;<span class="ident" id="8041117">T2</span>&nbsp;<span class="keyword" id="8041120">struct</span>&nbsp;<span class="op" id="8041127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041130">A</span>&nbsp;<span class="op" id="8041132">*</span><span class="op" id="8041133">*</span><span class="op" id="8041134">*</span><span class="builtintype" id="8041135">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041140">B</span>&nbsp;<span class="op" id="8041142">*</span><span class="op" id="8041143">*</span><span class="builtintype" id="8041144">int</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041149">C</span>&nbsp;<span class="op" id="8041151">*</span><span class="builtintype" id="8041152">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041157">D</span>&nbsp;<span class="builtintype" id="8041159">int</span><br>
<span class="lineno"></span><span class="op" id="8041163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8041166">func</span>&nbsp;<span class="ident" id="8041171">TestAutoIndirection</span><span class="op" id="8041190">(</span><span class="ident" id="8041191">t</span>&nbsp;<span class="op" id="8041193">*</span><span class="ident" id="8041194">testing</span><span class="op" id="8041201">.</span><span class="ident" id="8041202">T</span><span class="op" id="8041203">)</span>&nbsp;<span class="op" id="8041205">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8041208">//&nbsp;First&nbsp;transfer&nbsp;t1&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041238">var</span>&nbsp;<span class="ident" id="8041242">t1</span>&nbsp;<span class="ident" id="8041245">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041249">t1</span><span class="op" id="8041251">.</span><span class="ident" id="8041252">A</span>&nbsp;<span class="op" id="8041254">=</span>&nbsp;<span class="num" id="8041256">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041260">t1</span><span class="op" id="8041262">.</span><span class="ident" id="8041263">B</span>&nbsp;<span class="op" id="8041265">=</span>&nbsp;<span class="builtinfunc" id="8041267">new</span><span class="op" id="8041270">(</span><span class="builtintype" id="8041271">int</span><span class="op" id="8041274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041277">*</span><span class="ident" id="8041278">t1</span><span class="op" id="8041280">.</span><span class="ident" id="8041281">B</span>&nbsp;<span class="op" id="8041283">=</span>&nbsp;<span class="num" id="8041285">177</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041290">t1</span><span class="op" id="8041292">.</span><span class="ident" id="8041293">C</span>&nbsp;<span class="op" id="8041295">=</span>&nbsp;<span class="builtinfunc" id="8041297">new</span><span class="op" id="8041300">(</span><span class="op" id="8041301">*</span><span class="builtintype" id="8041302">int</span><span class="op" id="8041305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041308">*</span><span class="ident" id="8041309">t1</span><span class="op" id="8041311">.</span><span class="ident" id="8041312">C</span>&nbsp;<span class="op" id="8041314">=</span>&nbsp;<span class="builtinfunc" id="8041316">new</span><span class="op" id="8041319">(</span><span class="builtintype" id="8041320">int</span><span class="op" id="8041323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041326">*</span><span class="op" id="8041327">*</span><span class="ident" id="8041328">t1</span><span class="op" id="8041330">.</span><span class="ident" id="8041331">C</span>&nbsp;<span class="op" id="8041333">=</span>&nbsp;<span class="num" id="8041335">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041341">t1</span><span class="op" id="8041343">.</span><span class="ident" id="8041344">D</span>&nbsp;<span class="op" id="8041346">=</span>&nbsp;<span class="builtinfunc" id="8041348">new</span><span class="op" id="8041351">(</span><span class="op" id="8041352">*</span><span class="op" id="8041353">*</span><span class="builtintype" id="8041354">int</span><span class="op" id="8041357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041360">*</span><span class="ident" id="8041361">t1</span><span class="op" id="8041363">.</span><span class="ident" id="8041364">D</span>&nbsp;<span class="op" id="8041366">=</span>&nbsp;<span class="builtinfunc" id="8041368">new</span><span class="op" id="8041371">(</span><span class="op" id="8041372">*</span><span class="builtintype" id="8041373">int</span><span class="op" id="8041376">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041379">*</span><span class="op" id="8041380">*</span><span class="ident" id="8041381">t1</span><span class="op" id="8041383">.</span><span class="ident" id="8041384">D</span>&nbsp;<span class="op" id="8041386">=</span>&nbsp;<span class="builtinfunc" id="8041388">new</span><span class="op" id="8041391">(</span><span class="builtintype" id="8041392">int</span><span class="op" id="8041395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041398">*</span><span class="op" id="8041399">*</span><span class="op" id="8041400">*</span><span class="ident" id="8041401">t1</span><span class="op" id="8041403">.</span><span class="ident" id="8041404">D</span>&nbsp;<span class="op" id="8041406">=</span>&nbsp;<span class="num" id="8041408">17777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041415">b</span>&nbsp;<span class="op" id="8041417">:=</span>&nbsp;<span class="builtinfunc" id="8041420">new</span><span class="op" id="8041423">(</span><span class="ident" id="8041424">bytes</span><span class="op" id="8041429">.</span><span class="ident" id="8041430">Buffer</span><span class="op" id="8041436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041439">enc</span>&nbsp;<span class="op" id="8041443">:=</span>&nbsp;<span class="ident" id="8041446">NewEncoder</span><span class="op" id="8041456">(</span><span class="ident" id="8041457">b</span><span class="op" id="8041458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041461">enc</span><span class="op" id="8041464">.</span><span class="ident" id="8041465">Encode</span><span class="op" id="8041471">(</span><span class="ident" id="8041472">t1</span><span class="op" id="8041474">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041477">dec</span>&nbsp;<span class="op" id="8041481">:=</span>&nbsp;<span class="ident" id="8041484">NewDecoder</span><span class="op" id="8041494">(</span><span class="ident" id="8041495">b</span><span class="op" id="8041496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041499">var</span>&nbsp;<span class="ident" id="8041503">t0</span>&nbsp;<span class="ident" id="8041506">T0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041510">dec</span><span class="op" id="8041513">.</span><span class="ident" id="8041514">Decode</span><span class="op" id="8041520">(</span><span class="op" id="8041521">&amp;</span><span class="ident" id="8041522">t0</span><span class="op" id="8041524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041527">if</span>&nbsp;<span class="ident" id="8041530">t0</span><span class="op" id="8041532">.</span><span class="ident" id="8041533">A</span>&nbsp;<span class="op" id="8041535">!=</span>&nbsp;<span class="num" id="8041538">17</span>&nbsp;<span class="op" id="8041541">||</span>&nbsp;<span class="ident" id="8041544">t0</span><span class="op" id="8041546">.</span><span class="ident" id="8041547">B</span>&nbsp;<span class="op" id="8041549">!=</span>&nbsp;<span class="num" id="8041552">177</span>&nbsp;<span class="op" id="8041556">||</span>&nbsp;<span class="ident" id="8041559">t0</span><span class="op" id="8041561">.</span><span class="ident" id="8041562">C</span>&nbsp;<span class="op" id="8041564">!=</span>&nbsp;<span class="num" id="8041567">1777</span>&nbsp;<span class="op" id="8041572">||</span>&nbsp;<span class="ident" id="8041575">t0</span><span class="op" id="8041577">.</span><span class="ident" id="8041578">D</span>&nbsp;<span class="op" id="8041580">!=</span>&nbsp;<span class="num" id="8041583">17777</span>&nbsp;<span class="op" id="8041589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041593">t</span><span class="op" id="8041594">.</span><span class="ident" id="8041595">Errorf</span><span class="op" id="8041601">(</span><span class="string" id="8041602">&#34;t1-&gt;t0:&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8041648">,</span>&nbsp;<span class="ident" id="8041650">t0</span><span class="op" id="8041652">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8041659">//&nbsp;Now&nbsp;transfer&nbsp;t2&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041687">var</span>&nbsp;<span class="ident" id="8041691">t2</span>&nbsp;<span class="ident" id="8041694">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041698">t2</span><span class="op" id="8041700">.</span><span class="ident" id="8041701">D</span>&nbsp;<span class="op" id="8041703">=</span>&nbsp;<span class="num" id="8041705">17777</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041712">t2</span><span class="op" id="8041714">.</span><span class="ident" id="8041715">C</span>&nbsp;<span class="op" id="8041717">=</span>&nbsp;<span class="builtinfunc" id="8041719">new</span><span class="op" id="8041722">(</span><span class="builtintype" id="8041723">int</span><span class="op" id="8041726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041729">*</span><span class="ident" id="8041730">t2</span><span class="op" id="8041732">.</span><span class="ident" id="8041733">C</span>&nbsp;<span class="op" id="8041735">=</span>&nbsp;<span class="num" id="8041737">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041743">t2</span><span class="op" id="8041745">.</span><span class="ident" id="8041746">B</span>&nbsp;<span class="op" id="8041748">=</span>&nbsp;<span class="builtinfunc" id="8041750">new</span><span class="op" id="8041753">(</span><span class="op" id="8041754">*</span><span class="builtintype" id="8041755">int</span><span class="op" id="8041758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041761">*</span><span class="ident" id="8041762">t2</span><span class="op" id="8041764">.</span><span class="ident" id="8041765">B</span>&nbsp;<span class="op" id="8041767">=</span>&nbsp;<span class="builtinfunc" id="8041769">new</span><span class="op" id="8041772">(</span><span class="builtintype" id="8041773">int</span><span class="op" id="8041776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041779">*</span><span class="op" id="8041780">*</span><span class="ident" id="8041781">t2</span><span class="op" id="8041783">.</span><span class="ident" id="8041784">B</span>&nbsp;<span class="op" id="8041786">=</span>&nbsp;<span class="num" id="8041788">177</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041793">t2</span><span class="op" id="8041795">.</span><span class="ident" id="8041796">A</span>&nbsp;<span class="op" id="8041798">=</span>&nbsp;<span class="builtinfunc" id="8041800">new</span><span class="op" id="8041803">(</span><span class="op" id="8041804">*</span><span class="op" id="8041805">*</span><span class="builtintype" id="8041806">int</span><span class="op" id="8041809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041812">*</span><span class="ident" id="8041813">t2</span><span class="op" id="8041815">.</span><span class="ident" id="8041816">A</span>&nbsp;<span class="op" id="8041818">=</span>&nbsp;<span class="builtinfunc" id="8041820">new</span><span class="op" id="8041823">(</span><span class="op" id="8041824">*</span><span class="builtintype" id="8041825">int</span><span class="op" id="8041828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041831">*</span><span class="op" id="8041832">*</span><span class="ident" id="8041833">t2</span><span class="op" id="8041835">.</span><span class="ident" id="8041836">A</span>&nbsp;<span class="op" id="8041838">=</span>&nbsp;<span class="builtinfunc" id="8041840">new</span><span class="op" id="8041843">(</span><span class="builtintype" id="8041844">int</span><span class="op" id="8041847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041850">*</span><span class="op" id="8041851">*</span><span class="op" id="8041852">*</span><span class="ident" id="8041853">t2</span><span class="op" id="8041855">.</span><span class="ident" id="8041856">A</span>&nbsp;<span class="op" id="8041858">=</span>&nbsp;<span class="num" id="8041860">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041864">b</span><span class="op" id="8041865">.</span><span class="ident" id="8041866">Reset</span><span class="op" id="8041871">(</span><span class="op" id="8041872">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041875">enc</span><span class="op" id="8041878">.</span><span class="ident" id="8041879">Encode</span><span class="op" id="8041885">(</span><span class="ident" id="8041886">t2</span><span class="op" id="8041888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041891">t0</span>&nbsp;<span class="op" id="8041894">=</span>&nbsp;<span class="ident" id="8041896">T0</span><span class="op" id="8041898">{</span><span class="op" id="8041899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041902">dec</span><span class="op" id="8041905">.</span><span class="ident" id="8041906">Decode</span><span class="op" id="8041912">(</span><span class="op" id="8041913">&amp;</span><span class="ident" id="8041914">t0</span><span class="op" id="8041916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041919">if</span>&nbsp;<span class="ident" id="8041922">t0</span><span class="op" id="8041924">.</span><span class="ident" id="8041925">A</span>&nbsp;<span class="op" id="8041927">!=</span>&nbsp;<span class="num" id="8041930">17</span>&nbsp;<span class="op" id="8041933">||</span>&nbsp;<span class="ident" id="8041936">t0</span><span class="op" id="8041938">.</span><span class="ident" id="8041939">B</span>&nbsp;<span class="op" id="8041941">!=</span>&nbsp;<span class="num" id="8041944">177</span>&nbsp;<span class="op" id="8041948">||</span>&nbsp;<span class="ident" id="8041951">t0</span><span class="op" id="8041953">.</span><span class="ident" id="8041954">C</span>&nbsp;<span class="op" id="8041956">!=</span>&nbsp;<span class="num" id="8041959">1777</span>&nbsp;<span class="op" id="8041964">||</span>&nbsp;<span class="ident" id="8041967">t0</span><span class="op" id="8041969">.</span><span class="ident" id="8041970">D</span>&nbsp;<span class="op" id="8041972">!=</span>&nbsp;<span class="num" id="8041975">17777</span>&nbsp;<span class="op" id="8041981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041985">t</span><span class="op" id="8041986">.</span><span class="ident" id="8041987">Errorf</span><span class="op" id="8041993">(</span><span class="string" id="8041994">&#34;t2-&gt;t0&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8042039">,</span>&nbsp;<span class="ident" id="8042041">t0</span><span class="op" id="8042043">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8042050">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042078">t0</span>&nbsp;<span class="op" id="8042081">=</span>&nbsp;<span class="ident" id="8042083">T0</span><span class="op" id="8042085">{</span><span class="num" id="8042086">17</span><span class="op" id="8042088">,</span>&nbsp;<span class="num" id="8042090">177</span><span class="op" id="8042093">,</span>&nbsp;<span class="num" id="8042095">1777</span><span class="op" id="8042099">,</span>&nbsp;<span class="num" id="8042101">17777</span><span class="op" id="8042106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042109">b</span><span class="op" id="8042110">.</span><span class="ident" id="8042111">Reset</span><span class="op" id="8042116">(</span><span class="op" id="8042117">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042120">enc</span><span class="op" id="8042123">.</span><span class="ident" id="8042124">Encode</span><span class="op" id="8042130">(</span><span class="ident" id="8042131">t0</span><span class="op" id="8042133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042136">t1</span>&nbsp;<span class="op" id="8042139">=</span>&nbsp;<span class="ident" id="8042141">T1</span><span class="op" id="8042143">{</span><span class="op" id="8042144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042147">dec</span><span class="op" id="8042150">.</span><span class="ident" id="8042151">Decode</span><span class="op" id="8042157">(</span><span class="op" id="8042158">&amp;</span><span class="ident" id="8042159">t1</span><span class="op" id="8042161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8042164">if</span>&nbsp;<span class="ident" id="8042167">t1</span><span class="op" id="8042169">.</span><span class="ident" id="8042170">A</span>&nbsp;<span class="op" id="8042172">!=</span>&nbsp;<span class="num" id="8042175">17</span>&nbsp;<span class="op" id="8042178">||</span>&nbsp;<span class="op" id="8042181">*</span><span class="ident" id="8042182">t1</span><span class="op" id="8042184">.</span><span class="ident" id="8042185">B</span>&nbsp;<span class="op" id="8042187">!=</span>&nbsp;<span class="num" id="8042190">177</span>&nbsp;<span class="op" id="8042194">||</span>&nbsp;<span class="op" id="8042197">*</span><span class="op" id="8042198">*</span><span class="ident" id="8042199">t1</span><span class="op" id="8042201">.</span><span class="ident" id="8042202">C</span>&nbsp;<span class="op" id="8042204">!=</span>&nbsp;<span class="num" id="8042207">1777</span>&nbsp;<span class="op" id="8042212">||</span>&nbsp;<span class="op" id="8042215">*</span><span class="op" id="8042216">*</span><span class="op" id="8042217">*</span><span class="ident" id="8042218">t1</span><span class="op" id="8042220">.</span><span class="ident" id="8042221">D</span>&nbsp;<span class="op" id="8042223">!=</span>&nbsp;<span class="num" id="8042226">17777</span>&nbsp;<span class="op" id="8042232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042236">t</span><span class="op" id="8042237">.</span><span class="ident" id="8042238">Errorf</span><span class="op" id="8042244">(</span><span class="string" id="8042245">&#34;t0-&gt;t1&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8042301">,</span>&nbsp;<span class="ident" id="8042303">t1</span><span class="op" id="8042305">.</span><span class="ident" id="8042306">A</span><span class="op" id="8042307">,</span>&nbsp;<span class="op" id="8042309">*</span><span class="ident" id="8042310">t1</span><span class="op" id="8042312">.</span><span class="ident" id="8042313">B</span><span class="op" id="8042314">,</span>&nbsp;<span class="op" id="8042316">*</span><span class="op" id="8042317">*</span><span class="ident" id="8042318">t1</span><span class="op" id="8042320">.</span><span class="ident" id="8042321">C</span><span class="op" id="8042322">,</span>&nbsp;<span class="op" id="8042324">*</span><span class="op" id="8042325">*</span><span class="op" id="8042326">*</span><span class="ident" id="8042327">t1</span><span class="op" id="8042329">.</span><span class="ident" id="8042330">D</span><span class="op" id="8042331">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8042338">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042366">b</span><span class="op" id="8042367">.</span><span class="ident" id="8042368">Reset</span><span class="op" id="8042373">(</span><span class="op" id="8042374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042377">enc</span><span class="op" id="8042380">.</span><span class="ident" id="8042381">Encode</span><span class="op" id="8042387">(</span><span class="ident" id="8042388">t0</span><span class="op" id="8042390">)</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042393">t2</span>&nbsp;<span class="op" id="8042396">=</span>&nbsp;<span class="ident" id="8042398">T2</span><span class="op" id="8042400">{</span><span class="op" id="8042401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042404">dec</span><span class="op" id="8042407">.</span><span class="ident" id="8042408">Decode</span><span class="op" id="8042414">(</span><span class="op" id="8042415">&amp;</span><span class="ident" id="8042416">t2</span><span class="op" id="8042418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8042421">if</span>&nbsp;<span class="op" id="8042424">*</span><span class="op" id="8042425">*</span><span class="op" id="8042426">*</span><span class="ident" id="8042427">t2</span><span class="op" id="8042429">.</span><span class="ident" id="8042430">A</span>&nbsp;<span class="op" id="8042432">!=</span>&nbsp;<span class="num" id="8042435">17</span>&nbsp;<span class="op" id="8042438">||</span>&nbsp;<span class="op" id="8042441">*</span><span class="op" id="8042442">*</span><span class="ident" id="8042443">t2</span><span class="op" id="8042445">.</span><span class="ident" id="8042446">B</span>&nbsp;<span class="op" id="8042448">!=</span>&nbsp;<span class="num" id="8042451">177</span>&nbsp;<span class="op" id="8042455">||</span>&nbsp;<span class="op" id="8042458">*</span><span class="ident" id="8042459">t2</span><span class="op" id="8042461">.</span><span class="ident" id="8042462">C</span>&nbsp;<span class="op" id="8042464">!=</span>&nbsp;<span class="num" id="8042467">1777</span>&nbsp;<span class="op" id="8042472">||</span>&nbsp;<span class="ident" id="8042475">t2</span><span class="op" id="8042477">.</span><span class="ident" id="8042478">D</span>&nbsp;<span class="op" id="8042480">!=</span>&nbsp;<span class="num" id="8042483">17777</span>&nbsp;<span class="op" id="8042489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042493">t</span><span class="op" id="8042494">.</span><span class="ident" id="8042495">Errorf</span><span class="op" id="8042501">(</span><span class="string" id="8042502">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8042558">,</span>&nbsp;<span class="op" id="8042560">*</span><span class="op" id="8042561">*</span><span class="op" id="8042562">*</span><span class="ident" id="8042563">t2</span><span class="op" id="8042565">.</span><span class="ident" id="8042566">A</span><span class="op" id="8042567">,</span>&nbsp;<span class="op" id="8042569">*</span><span class="op" id="8042570">*</span><span class="ident" id="8042571">t2</span><span class="op" id="8042573">.</span><span class="ident" id="8042574">B</span><span class="op" id="8042575">,</span>&nbsp;<span class="op" id="8042577">*</span><span class="ident" id="8042578">t2</span><span class="op" id="8042580">.</span><span class="ident" id="8042581">C</span><span class="op" id="8042582">,</span>&nbsp;<span class="ident" id="8042584">t2</span><span class="op" id="8042586">.</span><span class="ident" id="8042587">D</span><span class="op" id="8042588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042591">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8042595">//&nbsp;Now&nbsp;do&nbsp;t2&nbsp;again&nbsp;but&nbsp;without&nbsp;pre-allocated&nbsp;pointers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042651">b</span><span class="op" id="8042652">.</span><span class="ident" id="8042653">Reset</span><span class="op" id="8042658">(</span><span class="op" id="8042659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042662">enc</span><span class="op" id="8042665">.</span><span class="ident" id="8042666">Encode</span><span class="op" id="8042672">(</span><span class="ident" id="8042673">t0</span><span class="op" id="8042675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042678">*</span><span class="op" id="8042679">*</span><span class="op" id="8042680">*</span><span class="ident" id="8042681">t2</span><span class="op" id="8042683">.</span><span class="ident" id="8042684">A</span>&nbsp;<span class="op" id="8042686">=</span>&nbsp;<span class="num" id="8042688">0</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042691">*</span><span class="op" id="8042692">*</span><span class="ident" id="8042693">t2</span><span class="op" id="8042695">.</span><span class="ident" id="8042696">B</span>&nbsp;<span class="op" id="8042698">=</span>&nbsp;<span class="num" id="8042700">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042703">*</span><span class="ident" id="8042704">t2</span><span class="op" id="8042706">.</span><span class="ident" id="8042707">C</span>&nbsp;<span class="op" id="8042709">=</span>&nbsp;<span class="num" id="8042711">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042714">t2</span><span class="op" id="8042716">.</span><span class="ident" id="8042717">D</span>&nbsp;<span class="op" id="8042719">=</span>&nbsp;<span class="num" id="8042721">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042724">dec</span><span class="op" id="8042727">.</span><span class="ident" id="8042728">Decode</span><span class="op" id="8042734">(</span><span class="op" id="8042735">&amp;</span><span class="ident" id="8042736">t2</span><span class="op" id="8042738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8042741">if</span>&nbsp;<span class="op" id="8042744">*</span><span class="op" id="8042745">*</span><span class="op" id="8042746">*</span><span class="ident" id="8042747">t2</span><span class="op" id="8042749">.</span><span class="ident" id="8042750">A</span>&nbsp;<span class="op" id="8042752">!=</span>&nbsp;<span class="num" id="8042755">17</span>&nbsp;<span class="op" id="8042758">||</span>&nbsp;<span class="op" id="8042761">*</span><span class="op" id="8042762">*</span><span class="ident" id="8042763">t2</span><span class="op" id="8042765">.</span><span class="ident" id="8042766">B</span>&nbsp;<span class="op" id="8042768">!=</span>&nbsp;<span class="num" id="8042771">177</span>&nbsp;<span class="op" id="8042775">||</span>&nbsp;<span class="op" id="8042778">*</span><span class="ident" id="8042779">t2</span><span class="op" id="8042781">.</span><span class="ident" id="8042782">C</span>&nbsp;<span class="op" id="8042784">!=</span>&nbsp;<span class="num" id="8042787">1777</span>&nbsp;<span class="op" id="8042792">||</span>&nbsp;<span class="ident" id="8042795">t2</span><span class="op" id="8042797">.</span><span class="ident" id="8042798">D</span>&nbsp;<span class="op" id="8042800">!=</span>&nbsp;<span class="num" id="8042803">17777</span>&nbsp;<span class="op" id="8042809">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042813">t</span><span class="op" id="8042814">.</span><span class="ident" id="8042815">Errorf</span><span class="op" id="8042821">(</span><span class="string" id="8042822">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8042878">,</span>&nbsp;<span class="op" id="8042880">*</span><span class="op" id="8042881">*</span><span class="op" id="8042882">*</span><span class="ident" id="8042883">t2</span><span class="op" id="8042885">.</span><span class="ident" id="8042886">A</span><span class="op" id="8042887">,</span>&nbsp;<span class="op" id="8042889">*</span><span class="op" id="8042890">*</span><span class="ident" id="8042891">t2</span><span class="op" id="8042893">.</span><span class="ident" id="8042894">B</span><span class="op" id="8042895">,</span>&nbsp;<span class="op" id="8042897">*</span><span class="ident" id="8042898">t2</span><span class="op" id="8042900">.</span><span class="ident" id="8042901">C</span><span class="op" id="8042902">,</span>&nbsp;<span class="ident" id="8042904">t2</span><span class="op" id="8042906">.</span><span class="ident" id="8042907">D</span><span class="op" id="8042908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042911">}</span><br>
<span class="lineno"></span><span class="op" id="8042913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8042916">type</span>&nbsp;<span class="ident" id="8042921">RT0</span>&nbsp;<span class="keyword" id="8042925">struct</span>&nbsp;<span class="op" id="8042932">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042935">A</span>&nbsp;<span class="builtintype" id="8042937">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042942">B</span>&nbsp;<span class="builtintype" id="8042944">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042952">C</span>&nbsp;<span class="builtintype" id="8042954">float64</span><br>
<span class="lineno"></span><span class="op" id="8042962">}</span><br>
<span class="lineno"></span><span class="keyword" id="8042964">type</span>&nbsp;<span class="ident" id="8042969">RT1</span>&nbsp;<span class="keyword" id="8042973">struct</span>&nbsp;<span class="op" id="8042980">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042983">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8042990">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042999">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8043006">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043014">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8043021">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043026">NotSet</span>&nbsp;<span class="builtintype" id="8043033">string</span><br>
<span class="lineno"></span><span class="op" id="8043040">}</span><br>
<span class="lineno">905</span><br>
<span class="lineno"></span><span class="keyword" id="8043043">func</span>&nbsp;<span class="ident" id="8043048">TestReorderedFields</span><span class="op" id="8043067">(</span><span class="ident" id="8043068">t</span>&nbsp;<span class="op" id="8043070">*</span><span class="ident" id="8043071">testing</span><span class="op" id="8043078">.</span><span class="ident" id="8043079">T</span><span class="op" id="8043080">)</span>&nbsp;<span class="op" id="8043082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043085">var</span>&nbsp;<span class="ident" id="8043089">rt0</span>&nbsp;<span class="ident" id="8043093">RT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043098">rt0</span><span class="op" id="8043101">.</span><span class="ident" id="8043102">A</span>&nbsp;<span class="op" id="8043104">=</span>&nbsp;<span class="num" id="8043106">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043110">rt0</span><span class="op" id="8043113">.</span><span class="ident" id="8043114">B</span>&nbsp;<span class="op" id="8043116">=</span>&nbsp;<span class="string" id="8043118">&#34;hello&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043127">rt0</span><span class="op" id="8043130">.</span><span class="ident" id="8043131">C</span>&nbsp;<span class="op" id="8043133">=</span>&nbsp;<span class="num" id="8043135">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043144">b</span>&nbsp;<span class="op" id="8043146">:=</span>&nbsp;<span class="builtinfunc" id="8043149">new</span><span class="op" id="8043152">(</span><span class="ident" id="8043153">bytes</span><span class="op" id="8043158">.</span><span class="ident" id="8043159">Buffer</span><span class="op" id="8043165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043168">NewEncoder</span><span class="op" id="8043178">(</span><span class="ident" id="8043179">b</span><span class="op" id="8043180">)</span><span class="op" id="8043181">.</span><span class="ident" id="8043182">Encode</span><span class="op" id="8043188">(</span><span class="ident" id="8043189">rt0</span><span class="op" id="8043192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043195">dec</span>&nbsp;<span class="op" id="8043199">:=</span>&nbsp;<span class="ident" id="8043202">NewDecoder</span><span class="op" id="8043212">(</span><span class="ident" id="8043213">b</span><span class="op" id="8043214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043217">var</span>&nbsp;<span class="ident" id="8043221">rt1</span>&nbsp;<span class="ident" id="8043225">RT1</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8043230">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;RT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043271">err</span>&nbsp;<span class="op" id="8043275">:=</span>&nbsp;<span class="ident" id="8043278">dec</span><span class="op" id="8043281">.</span><span class="ident" id="8043282">Decode</span><span class="op" id="8043288">(</span><span class="op" id="8043289">&amp;</span><span class="ident" id="8043290">rt1</span><span class="op" id="8043293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043296">if</span>&nbsp;<span class="ident" id="8043299">err</span>&nbsp;<span class="op" id="8043303">!=</span>&nbsp;<span class="ident" id="8043306">nil</span>&nbsp;<span class="op" id="8043310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043314">t</span><span class="op" id="8043315">.</span><span class="ident" id="8043316">Fatal</span><span class="op" id="8043321">(</span><span class="string" id="8043322">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8043337">,</span>&nbsp;<span class="ident" id="8043339">err</span><span class="op" id="8043342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043345">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043348">if</span>&nbsp;<span class="ident" id="8043351">rt0</span><span class="op" id="8043354">.</span><span class="ident" id="8043355">A</span>&nbsp;<span class="op" id="8043357">!=</span>&nbsp;<span class="ident" id="8043360">rt1</span><span class="op" id="8043363">.</span><span class="ident" id="8043364">A</span>&nbsp;<span class="op" id="8043366">||</span>&nbsp;<span class="ident" id="8043369">rt0</span><span class="op" id="8043372">.</span><span class="ident" id="8043373">B</span>&nbsp;<span class="op" id="8043375">!=</span>&nbsp;<span class="ident" id="8043378">rt1</span><span class="op" id="8043381">.</span><span class="ident" id="8043382">B</span>&nbsp;<span class="op" id="8043384">||</span>&nbsp;<span class="ident" id="8043387">rt0</span><span class="op" id="8043390">.</span><span class="ident" id="8043391">C</span>&nbsp;<span class="op" id="8043393">!=</span>&nbsp;<span class="ident" id="8043396">rt1</span><span class="op" id="8043399">.</span><span class="ident" id="8043400">C</span>&nbsp;<span class="op" id="8043402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043406">t</span><span class="op" id="8043407">.</span><span class="ident" id="8043408">Errorf</span><span class="op" id="8043414">(</span><span class="string" id="8043415">&#34;rt1-&gt;rt0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8043446">,</span>&nbsp;<span class="ident" id="8043448">rt0</span><span class="op" id="8043451">,</span>&nbsp;<span class="ident" id="8043453">rt1</span><span class="op" id="8043456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043459">}</span><br>
<span class="lineno"></span><span class="op" id="8043461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="8043464">//&nbsp;Like&nbsp;an&nbsp;RT0&nbsp;but&nbsp;with&nbsp;fields&nbsp;we&#39;ll&nbsp;ignore&nbsp;on&nbsp;the&nbsp;decode&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="8043528">type</span>&nbsp;<span class="ident" id="8043533">IT0</span>&nbsp;<span class="keyword" id="8043537">struct</span>&nbsp;<span class="op" id="8043544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043547">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043556">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043563">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8043572">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043580">Ignore_d</span>&nbsp;<span class="op" id="8043589">[</span><span class="op" id="8043590">]</span><span class="builtintype" id="8043591">int</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043596">Ignore_e</span>&nbsp;<span class="op" id="8043605">[</span><span class="num" id="8043606">3</span><span class="op" id="8043607">]</span><span class="builtintype" id="8043608">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043617">Ignore_f</span>&nbsp;<span class="builtintype" id="8043626">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043632">Ignore_g</span>&nbsp;<span class="builtintype" id="8043641">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043649">Ignore_h</span>&nbsp;<span class="op" id="8043658">[</span><span class="op" id="8043659">]</span><span class="builtintype" id="8043660">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043666">Ignore_i</span>&nbsp;<span class="op" id="8043675">*</span><span class="ident" id="8043676">RT1</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043681">Ignore_m</span>&nbsp;<span class="keyword" id="8043690">map</span><span class="op" id="8043693">[</span><span class="builtintype" id="8043694">string</span><span class="op" id="8043700">]</span><span class="builtintype" id="8043701">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043706">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8043715">float64</span><br>
<span class="lineno"></span><span class="op" id="8043723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8043726">func</span>&nbsp;<span class="ident" id="8043731">TestIgnoredFields</span><span class="op" id="8043748">(</span><span class="ident" id="8043749">t</span>&nbsp;<span class="op" id="8043751">*</span><span class="ident" id="8043752">testing</span><span class="op" id="8043759">.</span><span class="ident" id="8043760">T</span><span class="op" id="8043761">)</span>&nbsp;<span class="op" id="8043763">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043766">var</span>&nbsp;<span class="ident" id="8043770">it0</span>&nbsp;<span class="ident" id="8043774">IT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043779">it0</span><span class="op" id="8043782">.</span><span class="ident" id="8043783">A</span>&nbsp;<span class="op" id="8043785">=</span>&nbsp;<span class="num" id="8043787">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043791">it0</span><span class="op" id="8043794">.</span><span class="ident" id="8043795">B</span>&nbsp;<span class="op" id="8043797">=</span>&nbsp;<span class="string" id="8043799">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043808">it0</span><span class="op" id="8043811">.</span><span class="ident" id="8043812">C</span>&nbsp;<span class="op" id="8043814">=</span>&nbsp;<span class="num" id="8043816">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043825">it0</span><span class="op" id="8043828">.</span><span class="ident" id="8043829">Ignore_d</span>&nbsp;<span class="op" id="8043838">=</span>&nbsp;<span class="op" id="8043840">[</span><span class="op" id="8043841">]</span><span class="builtintype" id="8043842">int</span><span class="op" id="8043845">{</span><span class="num" id="8043846">1</span><span class="op" id="8043847">,</span>&nbsp;<span class="num" id="8043849">2</span><span class="op" id="8043850">,</span>&nbsp;<span class="num" id="8043852">3</span><span class="op" id="8043853">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043856">it0</span><span class="op" id="8043859">.</span><span class="ident" id="8043860">Ignore_e</span><span class="op" id="8043868">[</span><span class="num" id="8043869">0</span><span class="op" id="8043870">]</span>&nbsp;<span class="op" id="8043872">=</span>&nbsp;<span class="num" id="8043874">1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043879">it0</span><span class="op" id="8043882">.</span><span class="ident" id="8043883">Ignore_e</span><span class="op" id="8043891">[</span><span class="num" id="8043892">1</span><span class="op" id="8043893">]</span>&nbsp;<span class="op" id="8043895">=</span>&nbsp;<span class="num" id="8043897">2.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043902">it0</span><span class="op" id="8043905">.</span><span class="ident" id="8043906">Ignore_e</span><span class="op" id="8043914">[</span><span class="num" id="8043915">2</span><span class="op" id="8043916">]</span>&nbsp;<span class="op" id="8043918">=</span>&nbsp;<span class="num" id="8043920">3.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043925">it0</span><span class="op" id="8043928">.</span><span class="ident" id="8043929">Ignore_f</span>&nbsp;<span class="op" id="8043938">=</span>&nbsp;<span class="builtintype" id="8043940">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043946">it0</span><span class="op" id="8043949">.</span><span class="ident" id="8043950">Ignore_g</span>&nbsp;<span class="op" id="8043959">=</span>&nbsp;<span class="string" id="8043961">&#34;pay&nbsp;no&nbsp;attention&#34;</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043981">it0</span><span class="op" id="8043984">.</span><span class="ident" id="8043985">Ignore_h</span>&nbsp;<span class="op" id="8043994">=</span>&nbsp;<span class="op" id="8043996">[</span><span class="op" id="8043997">]</span><span class="builtintype" id="8043998">byte</span><span class="op" id="8044002">(</span><span class="string" id="8044003">&#34;to&nbsp;the&nbsp;curtain&#34;</span><span class="op" id="8044019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044022">it0</span><span class="op" id="8044025">.</span><span class="ident" id="8044026">Ignore_i</span>&nbsp;<span class="op" id="8044035">=</span>&nbsp;<span class="op" id="8044037">&amp;</span><span class="ident" id="8044038">RT1</span><span class="op" id="8044041">{</span><span class="num" id="8044042">3.1</span><span class="op" id="8044045">,</span>&nbsp;<span class="string" id="8044047">&#34;hi&#34;</span><span class="op" id="8044051">,</span>&nbsp;<span class="num" id="8044053">7</span><span class="op" id="8044054">,</span>&nbsp;<span class="string" id="8044056">&#34;hello&#34;</span><span class="op" id="8044063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044066">it0</span><span class="op" id="8044069">.</span><span class="ident" id="8044070">Ignore_m</span>&nbsp;<span class="op" id="8044079">=</span>&nbsp;<span class="keyword" id="8044081">map</span><span class="op" id="8044084">[</span><span class="builtintype" id="8044085">string</span><span class="op" id="8044091">]</span><span class="builtintype" id="8044092">int</span><span class="op" id="8044095">{</span><span class="string" id="8044096">&#34;one&#34;</span><span class="op" id="8044101">:</span>&nbsp;<span class="num" id="8044103">1</span><span class="op" id="8044104">,</span>&nbsp;<span class="string" id="8044106">&#34;two&#34;</span><span class="op" id="8044111">:</span>&nbsp;<span class="num" id="8044113">2</span><span class="op" id="8044114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044118">b</span>&nbsp;<span class="op" id="8044120">:=</span>&nbsp;<span class="builtinfunc" id="8044123">new</span><span class="op" id="8044126">(</span><span class="ident" id="8044127">bytes</span><span class="op" id="8044132">.</span><span class="ident" id="8044133">Buffer</span><span class="op" id="8044139">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044142">NewEncoder</span><span class="op" id="8044152">(</span><span class="ident" id="8044153">b</span><span class="op" id="8044154">)</span><span class="op" id="8044155">.</span><span class="ident" id="8044156">Encode</span><span class="op" id="8044162">(</span><span class="ident" id="8044163">it0</span><span class="op" id="8044166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044169">dec</span>&nbsp;<span class="op" id="8044173">:=</span>&nbsp;<span class="ident" id="8044176">NewDecoder</span><span class="op" id="8044186">(</span><span class="ident" id="8044187">b</span><span class="op" id="8044188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044191">var</span>&nbsp;<span class="ident" id="8044195">rt1</span>&nbsp;<span class="ident" id="8044199">RT1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8044204">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;IT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044245">err</span>&nbsp;<span class="op" id="8044249">:=</span>&nbsp;<span class="ident" id="8044252">dec</span><span class="op" id="8044255">.</span><span class="ident" id="8044256">Decode</span><span class="op" id="8044262">(</span><span class="op" id="8044263">&amp;</span><span class="ident" id="8044264">rt1</span><span class="op" id="8044267">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044270">if</span>&nbsp;<span class="ident" id="8044273">err</span>&nbsp;<span class="op" id="8044277">!=</span>&nbsp;<span class="ident" id="8044280">nil</span>&nbsp;<span class="op" id="8044284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044288">t</span><span class="op" id="8044289">.</span><span class="ident" id="8044290">Error</span><span class="op" id="8044295">(</span><span class="string" id="8044296">&#34;error:&nbsp;&#34;</span><span class="op" id="8044305">,</span>&nbsp;<span class="ident" id="8044307">err</span><span class="op" id="8044310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044316">if</span>&nbsp;<span class="builtintype" id="8044319">int</span><span class="op" id="8044322">(</span><span class="ident" id="8044323">it0</span><span class="op" id="8044326">.</span><span class="ident" id="8044327">A</span><span class="op" id="8044328">)</span>&nbsp;<span class="op" id="8044330">!=</span>&nbsp;<span class="ident" id="8044333">rt1</span><span class="op" id="8044336">.</span><span class="ident" id="8044337">A</span>&nbsp;<span class="op" id="8044339">||</span>&nbsp;<span class="ident" id="8044342">it0</span><span class="op" id="8044345">.</span><span class="ident" id="8044346">B</span>&nbsp;<span class="op" id="8044348">!=</span>&nbsp;<span class="ident" id="8044351">rt1</span><span class="op" id="8044354">.</span><span class="ident" id="8044355">B</span>&nbsp;<span class="op" id="8044357">||</span>&nbsp;<span class="ident" id="8044360">it0</span><span class="op" id="8044363">.</span><span class="ident" id="8044364">C</span>&nbsp;<span class="op" id="8044366">!=</span>&nbsp;<span class="ident" id="8044369">rt1</span><span class="op" id="8044372">.</span><span class="ident" id="8044373">C</span>&nbsp;<span class="op" id="8044375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044379">t</span><span class="op" id="8044380">.</span><span class="ident" id="8044381">Errorf</span><span class="op" id="8044387">(</span><span class="string" id="8044388">&#34;rt0-&gt;rt1:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8044419">,</span>&nbsp;<span class="ident" id="8044421">it0</span><span class="op" id="8044424">,</span>&nbsp;<span class="ident" id="8044426">rt1</span><span class="op" id="8044429">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044432">}</span><br>
<span class="lineno"></span><span class="op" id="8044434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8044437">func</span>&nbsp;<span class="ident" id="8044442">TestBadRecursiveType</span><span class="op" id="8044462">(</span><span class="ident" id="8044463">t</span>&nbsp;<span class="op" id="8044465">*</span><span class="ident" id="8044466">testing</span><span class="op" id="8044473">.</span><span class="ident" id="8044474">T</span><span class="op" id="8044475">)</span>&nbsp;<span class="op" id="8044477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044480">type</span>&nbsp;<span class="ident" id="8044485">Rec</span>&nbsp;<span class="op" id="8044489">*</span><span class="op" id="8044490">*</span><span class="op" id="8044491">*</span><span class="ident" id="8044492">Rec</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044497">var</span>&nbsp;<span class="ident" id="8044501">rec</span>&nbsp;<span class="ident" id="8044505">Rec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044510">b</span>&nbsp;<span class="op" id="8044512">:=</span>&nbsp;<span class="builtinfunc" id="8044515">new</span><span class="op" id="8044518">(</span><span class="ident" id="8044519">bytes</span><span class="op" id="8044524">.</span><span class="ident" id="8044525">Buffer</span><span class="op" id="8044531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044534">err</span>&nbsp;<span class="op" id="8044538">:=</span>&nbsp;<span class="ident" id="8044541">NewEncoder</span><span class="op" id="8044551">(</span><span class="ident" id="8044552">b</span><span class="op" id="8044553">)</span><span class="op" id="8044554">.</span><span class="ident" id="8044555">Encode</span><span class="op" id="8044561">(</span><span class="op" id="8044562">&amp;</span><span class="ident" id="8044563">rec</span><span class="op" id="8044566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044569">if</span>&nbsp;<span class="ident" id="8044572">err</span>&nbsp;<span class="op" id="8044576">==</span>&nbsp;<span class="ident" id="8044579">nil</span>&nbsp;<span class="op" id="8044583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044587">t</span><span class="op" id="8044588">.</span><span class="ident" id="8044589">Error</span><span class="op" id="8044594">(</span><span class="string" id="8044595">&#34;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8044621">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044624">}</span>&nbsp;<span class="keyword" id="8044626">else</span>&nbsp;<span class="keyword" id="8044631">if</span>&nbsp;<span class="ident" id="8044634">strings</span><span class="op" id="8044641">.</span><span class="ident" id="8044642">Index</span><span class="op" id="8044647">(</span><span class="ident" id="8044648">err</span><span class="op" id="8044651">.</span><span class="ident" id="8044652">Error</span><span class="op" id="8044657">(</span><span class="op" id="8044658">)</span><span class="op" id="8044659">,</span>&nbsp;<span class="string" id="8044661">&#34;recursive&#34;</span><span class="op" id="8044672">)</span>&nbsp;<span class="op" id="8044674">&lt;</span>&nbsp;<span class="num" id="8044676">0</span>&nbsp;<span class="op" id="8044678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044682">t</span><span class="op" id="8044683">.</span><span class="ident" id="8044684">Error</span><span class="op" id="8044689">(</span><span class="string" id="8044690">&#34;expected&nbsp;recursive&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8044726">,</span>&nbsp;<span class="ident" id="8044728">err</span><span class="op" id="8044731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8044737">//&nbsp;Can&#39;t&nbsp;test&nbsp;decode&nbsp;easily&nbsp;because&nbsp;we&nbsp;can&#39;t&nbsp;encode&nbsp;one,&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;pass&nbsp;one&nbsp;to&nbsp;a&nbsp;Decoder.</span><br>
<span class="lineno"></span><span class="op" id="8044829">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="8044832">type</span>&nbsp;<span class="ident" id="8044837">Indirect</span>&nbsp;<span class="keyword" id="8044846">struct</span>&nbsp;<span class="op" id="8044853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044856">A</span>&nbsp;<span class="op" id="8044858">*</span><span class="op" id="8044859">*</span><span class="op" id="8044860">*</span><span class="op" id="8044861">[</span><span class="num" id="8044862">3</span><span class="op" id="8044863">]</span><span class="builtintype" id="8044864">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044869">S</span>&nbsp;<span class="op" id="8044871">*</span><span class="op" id="8044872">*</span><span class="op" id="8044873">*</span><span class="op" id="8044874">[</span><span class="op" id="8044875">]</span><span class="builtintype" id="8044876">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044881">M</span>&nbsp;<span class="op" id="8044883">*</span><span class="op" id="8044884">*</span><span class="op" id="8044885">*</span><span class="op" id="8044886">*</span><span class="keyword" id="8044887">map</span><span class="op" id="8044890">[</span><span class="builtintype" id="8044891">string</span><span class="op" id="8044897">]</span><span class="builtintype" id="8044898">int</span><br>
<span class="lineno">985</span><span class="op" id="8044902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8044905">type</span>&nbsp;<span class="ident" id="8044910">Direct</span>&nbsp;<span class="keyword" id="8044917">struct</span>&nbsp;<span class="op" id="8044924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044927">A</span>&nbsp;<span class="op" id="8044929">[</span><span class="num" id="8044930">3</span><span class="op" id="8044931">]</span><span class="builtintype" id="8044932">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044937">S</span>&nbsp;<span class="op" id="8044939">[</span><span class="op" id="8044940">]</span><span class="builtintype" id="8044941">int</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044946">M</span>&nbsp;<span class="keyword" id="8044948">map</span><span class="op" id="8044951">[</span><span class="builtintype" id="8044952">string</span><span class="op" id="8044958">]</span><span class="builtintype" id="8044959">int</span><br>
<span class="lineno"></span><span class="op" id="8044963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8044966">func</span>&nbsp;<span class="ident" id="8044971">TestIndirectSliceMapArray</span><span class="op" id="8044996">(</span><span class="ident" id="8044997">t</span>&nbsp;<span class="op" id="8044999">*</span><span class="ident" id="8045000">testing</span><span class="op" id="8045007">.</span><span class="ident" id="8045008">T</span><span class="op" id="8045009">)</span>&nbsp;<span class="op" id="8045011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8045014">//&nbsp;Marshal&nbsp;indirect,&nbsp;unmarshal&nbsp;to&nbsp;direct.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045057">i</span>&nbsp;<span class="op" id="8045059">:=</span>&nbsp;<span class="builtinfunc" id="8045062">new</span><span class="op" id="8045065">(</span><span class="ident" id="8045066">Indirect</span><span class="op" id="8045074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045077">i</span><span class="op" id="8045078">.</span><span class="ident" id="8045079">A</span>&nbsp;<span class="op" id="8045081">=</span>&nbsp;<span class="builtinfunc" id="8045083">new</span><span class="op" id="8045086">(</span><span class="op" id="8045087">*</span><span class="op" id="8045088">*</span><span class="op" id="8045089">[</span><span class="num" id="8045090">3</span><span class="op" id="8045091">]</span><span class="builtintype" id="8045092">int</span><span class="op" id="8045095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045098">*</span><span class="ident" id="8045099">i</span><span class="op" id="8045100">.</span><span class="ident" id="8045101">A</span>&nbsp;<span class="op" id="8045103">=</span>&nbsp;<span class="builtinfunc" id="8045105">new</span><span class="op" id="8045108">(</span><span class="op" id="8045109">*</span><span class="op" id="8045110">[</span><span class="num" id="8045111">3</span><span class="op" id="8045112">]</span><span class="builtintype" id="8045113">int</span><span class="op" id="8045116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045119">*</span><span class="op" id="8045120">*</span><span class="ident" id="8045121">i</span><span class="op" id="8045122">.</span><span class="ident" id="8045123">A</span>&nbsp;<span class="op" id="8045125">=</span>&nbsp;<span class="builtinfunc" id="8045127">new</span><span class="op" id="8045130">(</span><span class="op" id="8045131">[</span><span class="num" id="8045132">3</span><span class="op" id="8045133">]</span><span class="builtintype" id="8045134">int</span><span class="op" id="8045137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045140">*</span><span class="op" id="8045141">*</span><span class="op" id="8045142">*</span><span class="ident" id="8045143">i</span><span class="op" id="8045144">.</span><span class="ident" id="8045145">A</span>&nbsp;<span class="op" id="8045147">=</span>&nbsp;<span class="op" id="8045149">[</span><span class="num" id="8045150">3</span><span class="op" id="8045151">]</span><span class="builtintype" id="8045152">int</span><span class="op" id="8045155">{</span><span class="num" id="8045156">1</span><span class="op" id="8045157">,</span>&nbsp;<span class="num" id="8045159">2</span><span class="op" id="8045160">,</span>&nbsp;<span class="num" id="8045162">3</span><span class="op" id="8045163">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045166">i</span><span class="op" id="8045167">.</span><span class="ident" id="8045168">S</span>&nbsp;<span class="op" id="8045170">=</span>&nbsp;<span class="builtinfunc" id="8045172">new</span><span class="op" id="8045175">(</span><span class="op" id="8045176">*</span><span class="op" id="8045177">*</span><span class="op" id="8045178">[</span><span class="op" id="8045179">]</span><span class="builtintype" id="8045180">int</span><span class="op" id="8045183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045186">*</span><span class="ident" id="8045187">i</span><span class="op" id="8045188">.</span><span class="ident" id="8045189">S</span>&nbsp;<span class="op" id="8045191">=</span>&nbsp;<span class="builtinfunc" id="8045193">new</span><span class="op" id="8045196">(</span><span class="op" id="8045197">*</span><span class="op" id="8045198">[</span><span class="op" id="8045199">]</span><span class="builtintype" id="8045200">int</span><span class="op" id="8045203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045206">*</span><span class="op" id="8045207">*</span><span class="ident" id="8045208">i</span><span class="op" id="8045209">.</span><span class="ident" id="8045210">S</span>&nbsp;<span class="op" id="8045212">=</span>&nbsp;<span class="builtinfunc" id="8045214">new</span><span class="op" id="8045217">(</span><span class="op" id="8045218">[</span><span class="op" id="8045219">]</span><span class="builtintype" id="8045220">int</span><span class="op" id="8045223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045226">*</span><span class="op" id="8045227">*</span><span class="op" id="8045228">*</span><span class="ident" id="8045229">i</span><span class="op" id="8045230">.</span><span class="ident" id="8045231">S</span>&nbsp;<span class="op" id="8045233">=</span>&nbsp;<span class="op" id="8045235">[</span><span class="op" id="8045236">]</span><span class="builtintype" id="8045237">int</span><span class="op" id="8045240">{</span><span class="num" id="8045241">4</span><span class="op" id="8045242">,</span>&nbsp;<span class="num" id="8045244">5</span><span class="op" id="8045245">,</span>&nbsp;<span class="num" id="8045247">6</span><span class="op" id="8045248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045251">i</span><span class="op" id="8045252">.</span><span class="ident" id="8045253">M</span>&nbsp;<span class="op" id="8045255">=</span>&nbsp;<span class="builtinfunc" id="8045257">new</span><span class="op" id="8045260">(</span><span class="op" id="8045261">*</span><span class="op" id="8045262">*</span><span class="op" id="8045263">*</span><span class="keyword" id="8045264">map</span><span class="op" id="8045267">[</span><span class="builtintype" id="8045268">string</span><span class="op" id="8045274">]</span><span class="builtintype" id="8045275">int</span><span class="op" id="8045278">)</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045281">*</span><span class="ident" id="8045282">i</span><span class="op" id="8045283">.</span><span class="ident" id="8045284">M</span>&nbsp;<span class="op" id="8045286">=</span>&nbsp;<span class="builtinfunc" id="8045288">new</span><span class="op" id="8045291">(</span><span class="op" id="8045292">*</span><span class="op" id="8045293">*</span><span class="keyword" id="8045294">map</span><span class="op" id="8045297">[</span><span class="builtintype" id="8045298">string</span><span class="op" id="8045304">]</span><span class="builtintype" id="8045305">int</span><span class="op" id="8045308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045311">*</span><span class="op" id="8045312">*</span><span class="ident" id="8045313">i</span><span class="op" id="8045314">.</span><span class="ident" id="8045315">M</span>&nbsp;<span class="op" id="8045317">=</span>&nbsp;<span class="builtinfunc" id="8045319">new</span><span class="op" id="8045322">(</span><span class="op" id="8045323">*</span><span class="keyword" id="8045324">map</span><span class="op" id="8045327">[</span><span class="builtintype" id="8045328">string</span><span class="op" id="8045334">]</span><span class="builtintype" id="8045335">int</span><span class="op" id="8045338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045341">*</span><span class="op" id="8045342">*</span><span class="op" id="8045343">*</span><span class="ident" id="8045344">i</span><span class="op" id="8045345">.</span><span class="ident" id="8045346">M</span>&nbsp;<span class="op" id="8045348">=</span>&nbsp;<span class="builtinfunc" id="8045350">new</span><span class="op" id="8045353">(</span><span class="keyword" id="8045354">map</span><span class="op" id="8045357">[</span><span class="builtintype" id="8045358">string</span><span class="op" id="8045364">]</span><span class="builtintype" id="8045365">int</span><span class="op" id="8045368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045371">*</span><span class="op" id="8045372">*</span><span class="op" id="8045373">*</span><span class="op" id="8045374">*</span><span class="ident" id="8045375">i</span><span class="op" id="8045376">.</span><span class="ident" id="8045377">M</span>&nbsp;<span class="op" id="8045379">=</span>&nbsp;<span class="keyword" id="8045381">map</span><span class="op" id="8045384">[</span><span class="builtintype" id="8045385">string</span><span class="op" id="8045391">]</span><span class="builtintype" id="8045392">int</span><span class="op" id="8045395">{</span><span class="string" id="8045396">&#34;one&#34;</span><span class="op" id="8045401">:</span>&nbsp;<span class="num" id="8045403">1</span><span class="op" id="8045404">,</span>&nbsp;<span class="string" id="8045406">&#34;two&#34;</span><span class="op" id="8045411">:</span>&nbsp;<span class="num" id="8045413">2</span><span class="op" id="8045414">,</span>&nbsp;<span class="string" id="8045416">&#34;three&#34;</span><span class="op" id="8045423">:</span>&nbsp;<span class="num" id="8045425">3</span><span class="op" id="8045426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045429">b</span>&nbsp;<span class="op" id="8045431">:=</span>&nbsp;<span class="builtinfunc" id="8045434">new</span><span class="op" id="8045437">(</span><span class="ident" id="8045438">bytes</span><span class="op" id="8045443">.</span><span class="ident" id="8045444">Buffer</span><span class="op" id="8045450">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045453">NewEncoder</span><span class="op" id="8045463">(</span><span class="ident" id="8045464">b</span><span class="op" id="8045465">)</span><span class="op" id="8045466">.</span><span class="ident" id="8045467">Encode</span><span class="op" id="8045473">(</span><span class="ident" id="8045474">i</span><span class="op" id="8045475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045478">dec</span>&nbsp;<span class="op" id="8045482">:=</span>&nbsp;<span class="ident" id="8045485">NewDecoder</span><span class="op" id="8045495">(</span><span class="ident" id="8045496">b</span><span class="op" id="8045497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045500">var</span>&nbsp;<span class="ident" id="8045504">d</span>&nbsp;<span class="ident" id="8045506">Direct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045514">err</span>&nbsp;<span class="op" id="8045518">:=</span>&nbsp;<span class="ident" id="8045521">dec</span><span class="op" id="8045524">.</span><span class="ident" id="8045525">Decode</span><span class="op" id="8045531">(</span><span class="op" id="8045532">&amp;</span><span class="ident" id="8045533">d</span><span class="op" id="8045534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045537">if</span>&nbsp;<span class="ident" id="8045540">err</span>&nbsp;<span class="op" id="8045544">!=</span>&nbsp;<span class="ident" id="8045547">nil</span>&nbsp;<span class="op" id="8045551">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045555">t</span><span class="op" id="8045556">.</span><span class="ident" id="8045557">Error</span><span class="op" id="8045562">(</span><span class="string" id="8045563">&#34;error:&nbsp;&#34;</span><span class="op" id="8045572">,</span>&nbsp;<span class="ident" id="8045574">err</span><span class="op" id="8045577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045583">if</span>&nbsp;<span class="builtinfunc" id="8045586">len</span><span class="op" id="8045589">(</span><span class="ident" id="8045590">d</span><span class="op" id="8045591">.</span><span class="ident" id="8045592">A</span><span class="op" id="8045593">)</span>&nbsp;<span class="op" id="8045595">!=</span>&nbsp;<span class="num" id="8045598">3</span>&nbsp;<span class="op" id="8045600">||</span>&nbsp;<span class="ident" id="8045603">d</span><span class="op" id="8045604">.</span><span class="ident" id="8045605">A</span><span class="op" id="8045606">[</span><span class="num" id="8045607">0</span><span class="op" id="8045608">]</span>&nbsp;<span class="op" id="8045610">!=</span>&nbsp;<span class="num" id="8045613">1</span>&nbsp;<span class="op" id="8045615">||</span>&nbsp;<span class="ident" id="8045618">d</span><span class="op" id="8045619">.</span><span class="ident" id="8045620">A</span><span class="op" id="8045621">[</span><span class="num" id="8045622">1</span><span class="op" id="8045623">]</span>&nbsp;<span class="op" id="8045625">!=</span>&nbsp;<span class="num" id="8045628">2</span>&nbsp;<span class="op" id="8045630">||</span>&nbsp;<span class="ident" id="8045633">d</span><span class="op" id="8045634">.</span><span class="ident" id="8045635">A</span><span class="op" id="8045636">[</span><span class="num" id="8045637">2</span><span class="op" id="8045638">]</span>&nbsp;<span class="op" id="8045640">!=</span>&nbsp;<span class="num" id="8045643">3</span>&nbsp;<span class="op" id="8045645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045649">t</span><span class="op" id="8045650">.</span><span class="ident" id="8045651">Errorf</span><span class="op" id="8045657">(</span><span class="string" id="8045658">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8045696">,</span>&nbsp;<span class="ident" id="8045698">d</span><span class="op" id="8045699">.</span><span class="ident" id="8045700">A</span><span class="op" id="8045701">,</span>&nbsp;<span class="op" id="8045703">*</span><span class="op" id="8045704">*</span><span class="op" id="8045705">*</span><span class="ident" id="8045706">i</span><span class="op" id="8045707">.</span><span class="ident" id="8045708">A</span><span class="op" id="8045709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045712">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045715">if</span>&nbsp;<span class="builtinfunc" id="8045718">len</span><span class="op" id="8045721">(</span><span class="ident" id="8045722">d</span><span class="op" id="8045723">.</span><span class="ident" id="8045724">S</span><span class="op" id="8045725">)</span>&nbsp;<span class="op" id="8045727">!=</span>&nbsp;<span class="num" id="8045730">3</span>&nbsp;<span class="op" id="8045732">||</span>&nbsp;<span class="ident" id="8045735">d</span><span class="op" id="8045736">.</span><span class="ident" id="8045737">S</span><span class="op" id="8045738">[</span><span class="num" id="8045739">0</span><span class="op" id="8045740">]</span>&nbsp;<span class="op" id="8045742">!=</span>&nbsp;<span class="num" id="8045745">4</span>&nbsp;<span class="op" id="8045747">||</span>&nbsp;<span class="ident" id="8045750">d</span><span class="op" id="8045751">.</span><span class="ident" id="8045752">S</span><span class="op" id="8045753">[</span><span class="num" id="8045754">1</span><span class="op" id="8045755">]</span>&nbsp;<span class="op" id="8045757">!=</span>&nbsp;<span class="num" id="8045760">5</span>&nbsp;<span class="op" id="8045762">||</span>&nbsp;<span class="ident" id="8045765">d</span><span class="op" id="8045766">.</span><span class="ident" id="8045767">S</span><span class="op" id="8045768">[</span><span class="num" id="8045769">2</span><span class="op" id="8045770">]</span>&nbsp;<span class="op" id="8045772">!=</span>&nbsp;<span class="num" id="8045775">6</span>&nbsp;<span class="op" id="8045777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045781">t</span><span class="op" id="8045782">.</span><span class="ident" id="8045783">Errorf</span><span class="op" id="8045789">(</span><span class="string" id="8045790">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8045828">,</span>&nbsp;<span class="ident" id="8045830">d</span><span class="op" id="8045831">.</span><span class="ident" id="8045832">S</span><span class="op" id="8045833">,</span>&nbsp;<span class="op" id="8045835">*</span><span class="op" id="8045836">*</span><span class="op" id="8045837">*</span><span class="ident" id="8045838">i</span><span class="op" id="8045839">.</span><span class="ident" id="8045840">S</span><span class="op" id="8045841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045847">if</span>&nbsp;<span class="builtinfunc" id="8045850">len</span><span class="op" id="8045853">(</span><span class="ident" id="8045854">d</span><span class="op" id="8045855">.</span><span class="ident" id="8045856">M</span><span class="op" id="8045857">)</span>&nbsp;<span class="op" id="8045859">!=</span>&nbsp;<span class="num" id="8045862">3</span>&nbsp;<span class="op" id="8045864">||</span>&nbsp;<span class="ident" id="8045867">d</span><span class="op" id="8045868">.</span><span class="ident" id="8045869">M</span><span class="op" id="8045870">[</span><span class="string" id="8045871">&#34;one&#34;</span><span class="op" id="8045876">]</span>&nbsp;<span class="op" id="8045878">!=</span>&nbsp;<span class="num" id="8045881">1</span>&nbsp;<span class="op" id="8045883">||</span>&nbsp;<span class="ident" id="8045886">d</span><span class="op" id="8045887">.</span><span class="ident" id="8045888">M</span><span class="op" id="8045889">[</span><span class="string" id="8045890">&#34;two&#34;</span><span class="op" id="8045895">]</span>&nbsp;<span class="op" id="8045897">!=</span>&nbsp;<span class="num" id="8045900">2</span>&nbsp;<span class="op" id="8045902">||</span>&nbsp;<span class="ident" id="8045905">d</span><span class="op" id="8045906">.</span><span class="ident" id="8045907">M</span><span class="op" id="8045908">[</span><span class="string" id="8045909">&#34;three&#34;</span><span class="op" id="8045916">]</span>&nbsp;<span class="op" id="8045918">!=</span>&nbsp;<span class="num" id="8045921">3</span>&nbsp;<span class="op" id="8045923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045927">t</span><span class="op" id="8045928">.</span><span class="ident" id="8045929">Errorf</span><span class="op" id="8045935">(</span><span class="string" id="8045936">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8045974">,</span>&nbsp;<span class="ident" id="8045976">d</span><span class="op" id="8045977">.</span><span class="ident" id="8045978">M</span><span class="op" id="8045979">,</span>&nbsp;<span class="op" id="8045981">*</span><span class="op" id="8045982">*</span><span class="op" id="8045983">*</span><span class="ident" id="8045984">i</span><span class="op" id="8045985">.</span><span class="ident" id="8045986">M</span><span class="op" id="8045987">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8045993">//&nbsp;Marshal&nbsp;direct,&nbsp;unmarshal&nbsp;to&nbsp;indirect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046036">d</span><span class="op" id="8046037">.</span><span class="ident" id="8046038">A</span>&nbsp;<span class="op" id="8046040">=</span>&nbsp;<span class="op" id="8046042">[</span><span class="num" id="8046043">3</span><span class="op" id="8046044">]</span><span class="builtintype" id="8046045">int</span><span class="op" id="8046048">{</span><span class="num" id="8046049">11</span><span class="op" id="8046051">,</span>&nbsp;<span class="num" id="8046053">22</span><span class="op" id="8046055">,</span>&nbsp;<span class="num" id="8046057">33</span><span class="op" id="8046059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046062">d</span><span class="op" id="8046063">.</span><span class="ident" id="8046064">S</span>&nbsp;<span class="op" id="8046066">=</span>&nbsp;<span class="op" id="8046068">[</span><span class="op" id="8046069">]</span><span class="builtintype" id="8046070">int</span><span class="op" id="8046073">{</span><span class="num" id="8046074">44</span><span class="op" id="8046076">,</span>&nbsp;<span class="num" id="8046078">55</span><span class="op" id="8046080">,</span>&nbsp;<span class="num" id="8046082">66</span><span class="op" id="8046084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046087">d</span><span class="op" id="8046088">.</span><span class="ident" id="8046089">M</span>&nbsp;<span class="op" id="8046091">=</span>&nbsp;<span class="keyword" id="8046093">map</span><span class="op" id="8046096">[</span><span class="builtintype" id="8046097">string</span><span class="op" id="8046103">]</span><span class="builtintype" id="8046104">int</span><span class="op" id="8046107">{</span><span class="string" id="8046108">&#34;four&#34;</span><span class="op" id="8046114">:</span>&nbsp;<span class="num" id="8046116">4</span><span class="op" id="8046117">,</span>&nbsp;<span class="string" id="8046119">&#34;five&#34;</span><span class="op" id="8046125">:</span>&nbsp;<span class="num" id="8046127">5</span><span class="op" id="8046128">,</span>&nbsp;<span class="string" id="8046130">&#34;six&#34;</span><span class="op" id="8046135">:</span>&nbsp;<span class="num" id="8046137">6</span><span class="op" id="8046138">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046141">i</span>&nbsp;<span class="op" id="8046143">=</span>&nbsp;<span class="builtinfunc" id="8046145">new</span><span class="op" id="8046148">(</span><span class="ident" id="8046149">Indirect</span><span class="op" id="8046157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046160">b</span><span class="op" id="8046161">.</span><span class="ident" id="8046162">Reset</span><span class="op" id="8046167">(</span><span class="op" id="8046168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046171">NewEncoder</span><span class="op" id="8046181">(</span><span class="ident" id="8046182">b</span><span class="op" id="8046183">)</span><span class="op" id="8046184">.</span><span class="ident" id="8046185">Encode</span><span class="op" id="8046191">(</span><span class="ident" id="8046192">d</span><span class="op" id="8046193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046196">dec</span>&nbsp;<span class="op" id="8046200">=</span>&nbsp;<span class="ident" id="8046202">NewDecoder</span><span class="op" id="8046212">(</span><span class="ident" id="8046213">b</span><span class="op" id="8046214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046217">err</span>&nbsp;<span class="op" id="8046221">=</span>&nbsp;<span class="ident" id="8046223">dec</span><span class="op" id="8046226">.</span><span class="ident" id="8046227">Decode</span><span class="op" id="8046233">(</span><span class="op" id="8046234">&amp;</span><span class="ident" id="8046235">i</span><span class="op" id="8046236">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046239">if</span>&nbsp;<span class="ident" id="8046242">err</span>&nbsp;<span class="op" id="8046246">!=</span>&nbsp;<span class="ident" id="8046249">nil</span>&nbsp;<span class="op" id="8046253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046257">t</span><span class="op" id="8046258">.</span><span class="ident" id="8046259">Fatal</span><span class="op" id="8046264">(</span><span class="string" id="8046265">&#34;error:&nbsp;&#34;</span><span class="op" id="8046274">,</span>&nbsp;<span class="ident" id="8046276">err</span><span class="op" id="8046279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046285">if</span>&nbsp;<span class="builtinfunc" id="8046288">len</span><span class="op" id="8046291">(</span><span class="op" id="8046292">*</span><span class="op" id="8046293">*</span><span class="op" id="8046294">*</span><span class="ident" id="8046295">i</span><span class="op" id="8046296">.</span><span class="ident" id="8046297">A</span><span class="op" id="8046298">)</span>&nbsp;<span class="op" id="8046300">!=</span>&nbsp;<span class="num" id="8046303">3</span>&nbsp;<span class="op" id="8046305">||</span>&nbsp;<span class="op" id="8046308">(</span><span class="op" id="8046309">*</span><span class="op" id="8046310">*</span><span class="op" id="8046311">*</span><span class="ident" id="8046312">i</span><span class="op" id="8046313">.</span><span class="ident" id="8046314">A</span><span class="op" id="8046315">)</span><span class="op" id="8046316">[</span><span class="num" id="8046317">0</span><span class="op" id="8046318">]</span>&nbsp;<span class="op" id="8046320">!=</span>&nbsp;<span class="num" id="8046323">11</span>&nbsp;<span class="op" id="8046326">||</span>&nbsp;<span class="op" id="8046329">(</span><span class="op" id="8046330">*</span><span class="op" id="8046331">*</span><span class="op" id="8046332">*</span><span class="ident" id="8046333">i</span><span class="op" id="8046334">.</span><span class="ident" id="8046335">A</span><span class="op" id="8046336">)</span><span class="op" id="8046337">[</span><span class="num" id="8046338">1</span><span class="op" id="8046339">]</span>&nbsp;<span class="op" id="8046341">!=</span>&nbsp;<span class="num" id="8046344">22</span>&nbsp;<span class="op" id="8046347">||</span>&nbsp;<span class="op" id="8046350">(</span><span class="op" id="8046351">*</span><span class="op" id="8046352">*</span><span class="op" id="8046353">*</span><span class="ident" id="8046354">i</span><span class="op" id="8046355">.</span><span class="ident" id="8046356">A</span><span class="op" id="8046357">)</span><span class="op" id="8046358">[</span><span class="num" id="8046359">2</span><span class="op" id="8046360">]</span>&nbsp;<span class="op" id="8046362">!=</span>&nbsp;<span class="num" id="8046365">33</span>&nbsp;<span class="op" id="8046368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046372">t</span><span class="op" id="8046373">.</span><span class="ident" id="8046374">Errorf</span><span class="op" id="8046380">(</span><span class="string" id="8046381">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8046422">,</span>&nbsp;<span class="op" id="8046424">*</span><span class="op" id="8046425">*</span><span class="op" id="8046426">*</span><span class="ident" id="8046427">i</span><span class="op" id="8046428">.</span><span class="ident" id="8046429">A</span><span class="op" id="8046430">,</span>&nbsp;<span class="ident" id="8046432">d</span><span class="op" id="8046433">.</span><span class="ident" id="8046434">A</span><span class="op" id="8046435">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046441">if</span>&nbsp;<span class="builtinfunc" id="8046444">len</span><span class="op" id="8046447">(</span><span class="op" id="8046448">*</span><span class="op" id="8046449">*</span><span class="op" id="8046450">*</span><span class="ident" id="8046451">i</span><span class="op" id="8046452">.</span><span class="ident" id="8046453">S</span><span class="op" id="8046454">)</span>&nbsp;<span class="op" id="8046456">!=</span>&nbsp;<span class="num" id="8046459">3</span>&nbsp;<span class="op" id="8046461">||</span>&nbsp;<span class="op" id="8046464">(</span><span class="op" id="8046465">*</span><span class="op" id="8046466">*</span><span class="op" id="8046467">*</span><span class="ident" id="8046468">i</span><span class="op" id="8046469">.</span><span class="ident" id="8046470">S</span><span class="op" id="8046471">)</span><span class="op" id="8046472">[</span><span class="num" id="8046473">0</span><span class="op" id="8046474">]</span>&nbsp;<span class="op" id="8046476">!=</span>&nbsp;<span class="num" id="8046479">44</span>&nbsp;<span class="op" id="8046482">||</span>&nbsp;<span class="op" id="8046485">(</span><span class="op" id="8046486">*</span><span class="op" id="8046487">*</span><span class="op" id="8046488">*</span><span class="ident" id="8046489">i</span><span class="op" id="8046490">.</span><span class="ident" id="8046491">S</span><span class="op" id="8046492">)</span><span class="op" id="8046493">[</span><span class="num" id="8046494">1</span><span class="op" id="8046495">]</span>&nbsp;<span class="op" id="8046497">!=</span>&nbsp;<span class="num" id="8046500">55</span>&nbsp;<span class="op" id="8046503">||</span>&nbsp;<span class="op" id="8046506">(</span><span class="op" id="8046507">*</span><span class="op" id="8046508">*</span><span class="op" id="8046509">*</span><span class="ident" id="8046510">i</span><span class="op" id="8046511">.</span><span class="ident" id="8046512">S</span><span class="op" id="8046513">)</span><span class="op" id="8046514">[</span><span class="num" id="8046515">2</span><span class="op" id="8046516">]</span>&nbsp;<span class="op" id="8046518">!=</span>&nbsp;<span class="num" id="8046521">66</span>&nbsp;<span class="op" id="8046524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046528">t</span><span class="op" id="8046529">.</span><span class="ident" id="8046530">Errorf</span><span class="op" id="8046536">(</span><span class="string" id="8046537">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8046578">,</span>&nbsp;<span class="op" id="8046580">*</span><span class="op" id="8046581">*</span><span class="op" id="8046582">*</span><span class="ident" id="8046583">i</span><span class="op" id="8046584">.</span><span class="ident" id="8046585">S</span><span class="op" id="8046586">,</span>&nbsp;<span class="op" id="8046588">*</span><span class="op" id="8046589">*</span><span class="op" id="8046590">*</span><span class="ident" id="8046591">i</span><span class="op" id="8046592">.</span><span class="ident" id="8046593">S</span><span class="op" id="8046594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046600">if</span>&nbsp;<span class="builtinfunc" id="8046603">len</span><span class="op" id="8046606">(</span><span class="op" id="8046607">*</span><span class="op" id="8046608">*</span><span class="op" id="8046609">*</span><span class="op" id="8046610">*</span><span class="ident" id="8046611">i</span><span class="op" id="8046612">.</span><span class="ident" id="8046613">M</span><span class="op" id="8046614">)</span>&nbsp;<span class="op" id="8046616">!=</span>&nbsp;<span class="num" id="8046619">3</span>&nbsp;<span class="op" id="8046621">||</span>&nbsp;<span class="op" id="8046624">(</span><span class="op" id="8046625">*</span><span class="op" id="8046626">*</span><span class="op" id="8046627">*</span><span class="op" id="8046628">*</span><span class="ident" id="8046629">i</span><span class="op" id="8046630">.</span><span class="ident" id="8046631">M</span><span class="op" id="8046632">)</span><span class="op" id="8046633">[</span><span class="string" id="8046634">&#34;four&#34;</span><span class="op" id="8046640">]</span>&nbsp;<span class="op" id="8046642">!=</span>&nbsp;<span class="num" id="8046645">4</span>&nbsp;<span class="op" id="8046647">||</span>&nbsp;<span class="op" id="8046650">(</span><span class="op" id="8046651">*</span><span class="op" id="8046652">*</span><span class="op" id="8046653">*</span><span class="op" id="8046654">*</span><span class="ident" id="8046655">i</span><span class="op" id="8046656">.</span><span class="ident" id="8046657">M</span><span class="op" id="8046658">)</span><span class="op" id="8046659">[</span><span class="string" id="8046660">&#34;five&#34;</span><span class="op" id="8046666">]</span>&nbsp;<span class="op" id="8046668">!=</span>&nbsp;<span class="num" id="8046671">5</span>&nbsp;<span class="op" id="8046673">||</span>&nbsp;<span class="op" id="8046676">(</span><span class="op" id="8046677">*</span><span class="op" id="8046678">*</span><span class="op" id="8046679">*</span><span class="op" id="8046680">*</span><span class="ident" id="8046681">i</span><span class="op" id="8046682">.</span><span class="ident" id="8046683">M</span><span class="op" id="8046684">)</span><span class="op" id="8046685">[</span><span class="string" id="8046686">&#34;six&#34;</span><span class="op" id="8046691">]</span>&nbsp;<span class="op" id="8046693">!=</span>&nbsp;<span class="num" id="8046696">6</span>&nbsp;<span class="op" id="8046698">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046702">t</span><span class="op" id="8046703">.</span><span class="ident" id="8046704">Errorf</span><span class="op" id="8046710">(</span><span class="string" id="8046711">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;****i.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8046753">,</span>&nbsp;<span class="op" id="8046755">*</span><span class="op" id="8046756">*</span><span class="op" id="8046757">*</span><span class="op" id="8046758">*</span><span class="ident" id="8046759">i</span><span class="op" id="8046760">.</span><span class="ident" id="8046761">M</span><span class="op" id="8046762">,</span>&nbsp;<span class="ident" id="8046764">d</span><span class="op" id="8046765">.</span><span class="ident" id="8046766">M</span><span class="op" id="8046767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046770">}</span><br>
<span class="lineno"></span><span class="op" id="8046772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8046775">//&nbsp;An&nbsp;interface&nbsp;with&nbsp;several&nbsp;implementations</span><br>
<span class="lineno">1050</span><span class="keyword" id="8046820">type</span>&nbsp;<span class="ident" id="8046825">Squarer</span>&nbsp;<span class="keyword" id="8046833">interface</span>&nbsp;<span class="op" id="8046843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046846">Square</span><span class="op" id="8046852">(</span><span class="op" id="8046853">)</span>&nbsp;<span class="builtintype" id="8046855">int</span><br>
<span class="lineno"></span><span class="op" id="8046859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8046862">type</span>&nbsp;<span class="ident" id="8046867">Int</span>&nbsp;<span class="builtintype" id="8046871">int</span><br>
<span class="lineno">1055</span><br>
<span class="lineno"></span><span class="keyword" id="8046876">func</span>&nbsp;<span class="op" id="8046881">(</span><span class="ident" id="8046882">i</span>&nbsp;<span class="ident" id="8046884">Int</span><span class="op" id="8046887">)</span>&nbsp;<span class="ident" id="8046889">Square</span><span class="op" id="8046895">(</span><span class="op" id="8046896">)</span>&nbsp;<span class="builtintype" id="8046898">int</span>&nbsp;<span class="op" id="8046902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046905">return</span>&nbsp;<span class="builtintype" id="8046912">int</span><span class="op" id="8046915">(</span><span class="ident" id="8046916">i</span>&nbsp;<span class="op" id="8046918">*</span>&nbsp;<span class="ident" id="8046920">i</span><span class="op" id="8046921">)</span><br>
<span class="lineno"></span><span class="op" id="8046923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="8046926">type</span>&nbsp;<span class="ident" id="8046931">Float</span>&nbsp;<span class="builtintype" id="8046937">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8046946">func</span>&nbsp;<span class="op" id="8046951">(</span><span class="ident" id="8046952">f</span>&nbsp;<span class="ident" id="8046954">Float</span><span class="op" id="8046959">)</span>&nbsp;<span class="ident" id="8046961">Square</span><span class="op" id="8046967">(</span><span class="op" id="8046968">)</span>&nbsp;<span class="builtintype" id="8046970">int</span>&nbsp;<span class="op" id="8046974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046977">return</span>&nbsp;<span class="builtintype" id="8046984">int</span><span class="op" id="8046987">(</span><span class="ident" id="8046988">f</span>&nbsp;<span class="op" id="8046990">*</span>&nbsp;<span class="ident" id="8046992">f</span><span class="op" id="8046993">)</span><br>
<span class="lineno"></span><span class="op" id="8046995">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="8046998">type</span>&nbsp;<span class="ident" id="8047003">Vector</span>&nbsp;<span class="op" id="8047010">[</span><span class="op" id="8047011">]</span><span class="builtintype" id="8047012">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8047017">func</span>&nbsp;<span class="op" id="8047022">(</span><span class="ident" id="8047023">v</span>&nbsp;<span class="ident" id="8047025">Vector</span><span class="op" id="8047031">)</span>&nbsp;<span class="ident" id="8047033">Square</span><span class="op" id="8047039">(</span><span class="op" id="8047040">)</span>&nbsp;<span class="builtintype" id="8047042">int</span>&nbsp;<span class="op" id="8047046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047049">sum</span>&nbsp;<span class="op" id="8047053">:=</span>&nbsp;<span class="num" id="8047056">0</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047059">for</span>&nbsp;<span class="ident" id="8047063">_</span><span class="op" id="8047064">,</span>&nbsp;<span class="ident" id="8047066">x</span>&nbsp;<span class="op" id="8047068">:=</span>&nbsp;<span class="keyword" id="8047071">range</span>&nbsp;<span class="ident" id="8047077">v</span>&nbsp;<span class="op" id="8047079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047083">sum</span>&nbsp;<span class="op" id="8047087">+=</span>&nbsp;<span class="ident" id="8047090">x</span>&nbsp;<span class="op" id="8047092">*</span>&nbsp;<span class="ident" id="8047094">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047100">return</span>&nbsp;<span class="ident" id="8047107">sum</span><br>
<span class="lineno"></span><span class="op" id="8047111">}</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span><span class="keyword" id="8047114">type</span>&nbsp;<span class="ident" id="8047119">Point</span>&nbsp;<span class="keyword" id="8047125">struct</span>&nbsp;<span class="op" id="8047132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047135">X</span><span class="op" id="8047136">,</span>&nbsp;<span class="ident" id="8047138">Y</span>&nbsp;<span class="builtintype" id="8047140">int</span><br>
<span class="lineno"></span><span class="op" id="8047144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1080</span><span class="keyword" id="8047147">func</span>&nbsp;<span class="op" id="8047152">(</span><span class="ident" id="8047153">p</span>&nbsp;<span class="ident" id="8047155">Point</span><span class="op" id="8047160">)</span>&nbsp;<span class="ident" id="8047162">Square</span><span class="op" id="8047168">(</span><span class="op" id="8047169">)</span>&nbsp;<span class="builtintype" id="8047171">int</span>&nbsp;<span class="op" id="8047175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047178">return</span>&nbsp;<span class="ident" id="8047185">p</span><span class="op" id="8047186">.</span><span class="ident" id="8047187">X</span><span class="op" id="8047188">*</span><span class="ident" id="8047189">p</span><span class="op" id="8047190">.</span><span class="ident" id="8047191">X</span>&nbsp;<span class="op" id="8047193">+</span>&nbsp;<span class="ident" id="8047195">p</span><span class="op" id="8047196">.</span><span class="ident" id="8047197">Y</span><span class="op" id="8047198">*</span><span class="ident" id="8047199">p</span><span class="op" id="8047200">.</span><span class="ident" id="8047201">Y</span><br>
<span class="lineno"></span><span class="op" id="8047203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8047206">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;interfaces&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1085</span><span class="keyword" id="8047241">type</span>&nbsp;<span class="ident" id="8047246">InterfaceItem</span>&nbsp;<span class="keyword" id="8047260">struct</span>&nbsp;<span class="op" id="8047267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047270">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8047284">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047289">Sq1</span><span class="op" id="8047292">,</span>&nbsp;<span class="ident" id="8047294">Sq2</span><span class="op" id="8047297">,</span>&nbsp;<span class="ident" id="8047299">Sq3</span>&nbsp;<span class="ident" id="8047303">Squarer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047312">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8047326">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047335">Sq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8047349">[</span><span class="op" id="8047350">]</span><span class="ident" id="8047351">Squarer</span><br>
<span class="lineno">1090</span><span class="op" id="8047359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8047362">//&nbsp;The&nbsp;same&nbsp;struct&nbsp;without&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="keyword" id="8047400">type</span>&nbsp;<span class="ident" id="8047405">NoInterfaceItem</span>&nbsp;<span class="keyword" id="8047421">struct</span>&nbsp;<span class="op" id="8047428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047431">I</span>&nbsp;<span class="builtintype" id="8047433">int</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047438">F</span>&nbsp;<span class="builtintype" id="8047440">float64</span><br>
<span class="lineno"></span><span class="op" id="8047448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8047451">func</span>&nbsp;<span class="ident" id="8047456">TestInterface</span><span class="op" id="8047469">(</span><span class="ident" id="8047470">t</span>&nbsp;<span class="op" id="8047472">*</span><span class="ident" id="8047473">testing</span><span class="op" id="8047480">.</span><span class="ident" id="8047481">T</span><span class="op" id="8047482">)</span>&nbsp;<span class="op" id="8047484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047487">iVal</span>&nbsp;<span class="op" id="8047492">:=</span>&nbsp;<span class="ident" id="8047495">Int</span><span class="op" id="8047498">(</span><span class="num" id="8047499">3</span><span class="op" id="8047500">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047503">fVal</span>&nbsp;<span class="op" id="8047508">:=</span>&nbsp;<span class="ident" id="8047511">Float</span><span class="op" id="8047516">(</span><span class="num" id="8047517">5</span><span class="op" id="8047518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8047521">//&nbsp;Sending&nbsp;a&nbsp;Vector&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8047604">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047639">vVal</span>&nbsp;<span class="op" id="8047644">:=</span>&nbsp;<span class="ident" id="8047647">Vector</span><span class="op" id="8047653">{</span><span class="num" id="8047654">1</span><span class="op" id="8047655">,</span>&nbsp;<span class="num" id="8047657">2</span><span class="op" id="8047658">,</span>&nbsp;<span class="num" id="8047660">3</span><span class="op" id="8047661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047664">b</span>&nbsp;<span class="op" id="8047666">:=</span>&nbsp;<span class="builtinfunc" id="8047669">new</span><span class="op" id="8047672">(</span><span class="ident" id="8047673">bytes</span><span class="op" id="8047678">.</span><span class="ident" id="8047679">Buffer</span><span class="op" id="8047685">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047688">item1</span>&nbsp;<span class="op" id="8047694">:=</span>&nbsp;<span class="op" id="8047697">&amp;</span><span class="ident" id="8047698">InterfaceItem</span><span class="op" id="8047711">{</span><span class="num" id="8047712">1</span><span class="op" id="8047713">,</span>&nbsp;<span class="ident" id="8047715">iVal</span><span class="op" id="8047719">,</span>&nbsp;<span class="ident" id="8047721">fVal</span><span class="op" id="8047725">,</span>&nbsp;<span class="ident" id="8047727">vVal</span><span class="op" id="8047731">,</span>&nbsp;<span class="num" id="8047733">11.5</span><span class="op" id="8047737">,</span>&nbsp;<span class="op" id="8047739">[</span><span class="op" id="8047740">]</span><span class="ident" id="8047741">Squarer</span><span class="op" id="8047748">{</span><span class="ident" id="8047749">iVal</span><span class="op" id="8047753">,</span>&nbsp;<span class="ident" id="8047755">fVal</span><span class="op" id="8047759">,</span>&nbsp;<span class="ident" id="8047761">nil</span><span class="op" id="8047764">,</span>&nbsp;<span class="ident" id="8047766">vVal</span><span class="op" id="8047770">}</span><span class="op" id="8047771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8047774">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047798">Register</span><span class="op" id="8047806">(</span><span class="ident" id="8047807">Int</span><span class="op" id="8047810">(</span><span class="num" id="8047811">0</span><span class="op" id="8047812">)</span><span class="op" id="8047813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047816">Register</span><span class="op" id="8047824">(</span><span class="ident" id="8047825">Float</span><span class="op" id="8047830">(</span><span class="num" id="8047831">0</span><span class="op" id="8047832">)</span><span class="op" id="8047833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047836">Register</span><span class="op" id="8047844">(</span><span class="ident" id="8047845">Vector</span><span class="op" id="8047851">{</span><span class="op" id="8047852">}</span><span class="op" id="8047853">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047856">err</span>&nbsp;<span class="op" id="8047860">:=</span>&nbsp;<span class="ident" id="8047863">NewEncoder</span><span class="op" id="8047873">(</span><span class="ident" id="8047874">b</span><span class="op" id="8047875">)</span><span class="op" id="8047876">.</span><span class="ident" id="8047877">Encode</span><span class="op" id="8047883">(</span><span class="ident" id="8047884">item1</span><span class="op" id="8047889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047892">if</span>&nbsp;<span class="ident" id="8047895">err</span>&nbsp;<span class="op" id="8047899">!=</span>&nbsp;<span class="ident" id="8047902">nil</span>&nbsp;<span class="op" id="8047906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047910">t</span><span class="op" id="8047911">.</span><span class="ident" id="8047912">Error</span><span class="op" id="8047917">(</span><span class="string" id="8047918">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8047949">,</span>&nbsp;<span class="ident" id="8047951">err</span><span class="op" id="8047954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047961">item2</span>&nbsp;<span class="op" id="8047967">:=</span>&nbsp;<span class="ident" id="8047970">InterfaceItem</span><span class="op" id="8047983">{</span><span class="op" id="8047984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047987">err</span>&nbsp;<span class="op" id="8047991">=</span>&nbsp;<span class="ident" id="8047993">NewDecoder</span><span class="op" id="8048003">(</span><span class="ident" id="8048004">b</span><span class="op" id="8048005">)</span><span class="op" id="8048006">.</span><span class="ident" id="8048007">Decode</span><span class="op" id="8048013">(</span><span class="op" id="8048014">&amp;</span><span class="ident" id="8048015">item2</span><span class="op" id="8048020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048023">if</span>&nbsp;<span class="ident" id="8048026">err</span>&nbsp;<span class="op" id="8048030">!=</span>&nbsp;<span class="ident" id="8048033">nil</span>&nbsp;<span class="op" id="8048037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048041">t</span><span class="op" id="8048042">.</span><span class="ident" id="8048043">Fatal</span><span class="op" id="8048048">(</span><span class="string" id="8048049">&#34;decode:&#34;</span><span class="op" id="8048058">,</span>&nbsp;<span class="ident" id="8048060">err</span><span class="op" id="8048063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048066">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048069">if</span>&nbsp;<span class="ident" id="8048072">item2</span><span class="op" id="8048077">.</span><span class="ident" id="8048078">I</span>&nbsp;<span class="op" id="8048080">!=</span>&nbsp;<span class="ident" id="8048083">item1</span><span class="op" id="8048088">.</span><span class="ident" id="8048089">I</span>&nbsp;<span class="op" id="8048091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048095">t</span><span class="op" id="8048096">.</span><span class="ident" id="8048097">Error</span><span class="op" id="8048102">(</span><span class="string" id="8048103">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8048140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048146">if</span>&nbsp;<span class="ident" id="8048149">item2</span><span class="op" id="8048154">.</span><span class="ident" id="8048155">Sq1</span>&nbsp;<span class="op" id="8048159">==</span>&nbsp;<span class="ident" id="8048162">nil</span>&nbsp;<span class="op" id="8048166">||</span>&nbsp;<span class="ident" id="8048169">item2</span><span class="op" id="8048174">.</span><span class="ident" id="8048175">Sq1</span><span class="op" id="8048178">.</span><span class="ident" id="8048179">Square</span><span class="op" id="8048185">(</span><span class="op" id="8048186">)</span>&nbsp;<span class="op" id="8048188">!=</span>&nbsp;<span class="ident" id="8048191">iVal</span><span class="op" id="8048195">.</span><span class="ident" id="8048196">Square</span><span class="op" id="8048202">(</span><span class="op" id="8048203">)</span>&nbsp;<span class="op" id="8048205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048209">t</span><span class="op" id="8048210">.</span><span class="ident" id="8048211">Error</span><span class="op" id="8048216">(</span><span class="string" id="8048217">&#34;Int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8048247">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048253">if</span>&nbsp;<span class="ident" id="8048256">item2</span><span class="op" id="8048261">.</span><span class="ident" id="8048262">Sq2</span>&nbsp;<span class="op" id="8048266">==</span>&nbsp;<span class="ident" id="8048269">nil</span>&nbsp;<span class="op" id="8048273">||</span>&nbsp;<span class="ident" id="8048276">item2</span><span class="op" id="8048281">.</span><span class="ident" id="8048282">Sq2</span><span class="op" id="8048285">.</span><span class="ident" id="8048286">Square</span><span class="op" id="8048292">(</span><span class="op" id="8048293">)</span>&nbsp;<span class="op" id="8048295">!=</span>&nbsp;<span class="ident" id="8048298">fVal</span><span class="op" id="8048302">.</span><span class="ident" id="8048303">Square</span><span class="op" id="8048309">(</span><span class="op" id="8048310">)</span>&nbsp;<span class="op" id="8048312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048316">t</span><span class="op" id="8048317">.</span><span class="ident" id="8048318">Error</span><span class="op" id="8048323">(</span><span class="string" id="8048324">&#34;Float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8048356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048362">if</span>&nbsp;<span class="ident" id="8048365">item2</span><span class="op" id="8048370">.</span><span class="ident" id="8048371">Sq3</span>&nbsp;<span class="op" id="8048375">==</span>&nbsp;<span class="ident" id="8048378">nil</span>&nbsp;<span class="op" id="8048382">||</span>&nbsp;<span class="ident" id="8048385">item2</span><span class="op" id="8048390">.</span><span class="ident" id="8048391">Sq3</span><span class="op" id="8048394">.</span><span class="ident" id="8048395">Square</span><span class="op" id="8048401">(</span><span class="op" id="8048402">)</span>&nbsp;<span class="op" id="8048404">!=</span>&nbsp;<span class="ident" id="8048407">vVal</span><span class="op" id="8048411">.</span><span class="ident" id="8048412">Square</span><span class="op" id="8048418">(</span><span class="op" id="8048419">)</span>&nbsp;<span class="op" id="8048421">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048425">t</span><span class="op" id="8048426">.</span><span class="ident" id="8048427">Error</span><span class="op" id="8048432">(</span><span class="string" id="8048433">&#34;Vector&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8048466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048472">if</span>&nbsp;<span class="ident" id="8048475">item2</span><span class="op" id="8048480">.</span><span class="ident" id="8048481">F</span>&nbsp;<span class="op" id="8048483">!=</span>&nbsp;<span class="ident" id="8048486">item1</span><span class="op" id="8048491">.</span><span class="ident" id="8048492">F</span>&nbsp;<span class="op" id="8048494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048498">t</span><span class="op" id="8048499">.</span><span class="ident" id="8048500">Error</span><span class="op" id="8048505">(</span><span class="string" id="8048506">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8048545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048548">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8048551">//&nbsp;Now&nbsp;check&nbsp;that&nbsp;we&nbsp;received&nbsp;a&nbsp;slice&nbsp;of&nbsp;Squarers&nbsp;correctly,&nbsp;including&nbsp;a&nbsp;nil&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048637">if</span>&nbsp;<span class="builtinfunc" id="8048640">len</span><span class="op" id="8048643">(</span><span class="ident" id="8048644">item1</span><span class="op" id="8048649">.</span><span class="ident" id="8048650">Sq</span><span class="op" id="8048652">)</span>&nbsp;<span class="op" id="8048654">!=</span>&nbsp;<span class="builtinfunc" id="8048657">len</span><span class="op" id="8048660">(</span><span class="ident" id="8048661">item2</span><span class="op" id="8048666">.</span><span class="ident" id="8048667">Sq</span><span class="op" id="8048669">)</span>&nbsp;<span class="op" id="8048671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048675">t</span><span class="op" id="8048676">.</span><span class="ident" id="8048677">Fatalf</span><span class="op" id="8048683">(</span><span class="string" id="8048684">&#34;[]Squarer&nbsp;length&nbsp;wrong:&nbsp;got&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8048729">,</span>&nbsp;<span class="builtinfunc" id="8048731">len</span><span class="op" id="8048734">(</span><span class="ident" id="8048735">item2</span><span class="op" id="8048740">.</span><span class="ident" id="8048741">Sq</span><span class="op" id="8048743">)</span><span class="op" id="8048744">,</span>&nbsp;<span class="builtinfunc" id="8048746">len</span><span class="op" id="8048749">(</span><span class="ident" id="8048750">item1</span><span class="op" id="8048755">.</span><span class="ident" id="8048756">Sq</span><span class="op" id="8048758">)</span><span class="op" id="8048759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048765">for</span>&nbsp;<span class="ident" id="8048769">i</span><span class="op" id="8048770">,</span>&nbsp;<span class="ident" id="8048772">v1</span>&nbsp;<span class="op" id="8048775">:=</span>&nbsp;<span class="keyword" id="8048778">range</span>&nbsp;<span class="ident" id="8048784">item1</span><span class="op" id="8048789">.</span><span class="ident" id="8048790">Sq</span>&nbsp;<span class="op" id="8048793">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048797">v2</span>&nbsp;<span class="op" id="8048800">:=</span>&nbsp;<span class="ident" id="8048803">item2</span><span class="op" id="8048808">.</span><span class="ident" id="8048809">Sq</span><span class="op" id="8048811">[</span><span class="ident" id="8048812">i</span><span class="op" id="8048813">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048817">if</span>&nbsp;<span class="ident" id="8048820">v1</span>&nbsp;<span class="op" id="8048823">==</span>&nbsp;<span class="ident" id="8048826">nil</span>&nbsp;<span class="op" id="8048830">||</span>&nbsp;<span class="ident" id="8048833">v2</span>&nbsp;<span class="op" id="8048836">==</span>&nbsp;<span class="ident" id="8048839">nil</span>&nbsp;<span class="op" id="8048843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048848">if</span>&nbsp;<span class="ident" id="8048851">v1</span>&nbsp;<span class="op" id="8048854">!=</span>&nbsp;<span class="ident" id="8048857">nil</span>&nbsp;<span class="op" id="8048861">||</span>&nbsp;<span class="ident" id="8048864">v2</span>&nbsp;<span class="op" id="8048867">!=</span>&nbsp;<span class="ident" id="8048870">nil</span>&nbsp;<span class="op" id="8048874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048880">t</span><span class="op" id="8048881">.</span><span class="ident" id="8048882">Errorf</span><span class="op" id="8048888">(</span><span class="string" id="8048889">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;nils&#34;</span><span class="op" id="8048916">,</span>&nbsp;<span class="ident" id="8048918">i</span><span class="op" id="8048919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048924">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048928">}</span>&nbsp;<span class="keyword" id="8048930">else</span>&nbsp;<span class="keyword" id="8048935">if</span>&nbsp;<span class="ident" id="8048938">v1</span><span class="op" id="8048940">.</span><span class="ident" id="8048941">Square</span><span class="op" id="8048947">(</span><span class="op" id="8048948">)</span>&nbsp;<span class="op" id="8048950">!=</span>&nbsp;<span class="ident" id="8048953">v2</span><span class="op" id="8048955">.</span><span class="ident" id="8048956">Square</span><span class="op" id="8048962">(</span><span class="op" id="8048963">)</span>&nbsp;<span class="op" id="8048965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048970">t</span><span class="op" id="8048971">.</span><span class="ident" id="8048972">Errorf</span><span class="op" id="8048978">(</span><span class="string" id="8048979">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;values:&nbsp;%v&nbsp;%v&#34;</span><span class="op" id="8049015">,</span>&nbsp;<span class="ident" id="8049017">i</span><span class="op" id="8049018">,</span>&nbsp;<span class="ident" id="8049020">v1</span><span class="op" id="8049022">,</span>&nbsp;<span class="ident" id="8049024">v2</span><span class="op" id="8049026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049033">}</span><br>
<span class="lineno"></span><span class="op" id="8049035">}</span><br>
<span class="lineno">1150</span><br>
<span class="lineno"></span><span class="comment" id="8049038">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;all&nbsp;basic&nbsp;types,&nbsp;stored&nbsp;in&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="keyword" id="8049094">type</span>&nbsp;<span class="ident" id="8049099">BasicInterfaceItem</span>&nbsp;<span class="keyword" id="8049118">struct</span>&nbsp;<span class="op" id="8049125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049128">Int</span><span class="op" id="8049131">,</span>&nbsp;<span class="ident" id="8049133">Int8</span><span class="op" id="8049137">,</span>&nbsp;<span class="ident" id="8049139">Int16</span><span class="op" id="8049144">,</span>&nbsp;<span class="ident" id="8049146">Int32</span><span class="op" id="8049151">,</span>&nbsp;<span class="ident" id="8049153">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8049164">interface</span><span class="op" id="8049173">{</span><span class="op" id="8049174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049177">Uint</span><span class="op" id="8049181">,</span>&nbsp;<span class="ident" id="8049183">Uint8</span><span class="op" id="8049188">,</span>&nbsp;<span class="ident" id="8049190">Uint16</span><span class="op" id="8049196">,</span>&nbsp;<span class="ident" id="8049198">Uint32</span><span class="op" id="8049204">,</span>&nbsp;<span class="ident" id="8049206">Uint64</span>&nbsp;<span class="keyword" id="8049213">interface</span><span class="op" id="8049222">{</span><span class="op" id="8049223">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049226">Float32</span><span class="op" id="8049233">,</span>&nbsp;<span class="ident" id="8049235">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8049262">interface</span><span class="op" id="8049271">{</span><span class="op" id="8049272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049275">Complex64</span><span class="op" id="8049284">,</span>&nbsp;<span class="ident" id="8049286">Complex128</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8049311">interface</span><span class="op" id="8049320">{</span><span class="op" id="8049321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049324">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8049360">interface</span><span class="op" id="8049369">{</span><span class="op" id="8049370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049373">String</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8049409">interface</span><span class="op" id="8049418">{</span><span class="op" id="8049419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049422">Bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8049458">interface</span><span class="op" id="8049467">{</span><span class="op" id="8049468">}</span><br>
<span class="lineno">1160</span><span class="op" id="8049470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8049473">func</span>&nbsp;<span class="ident" id="8049478">TestInterfaceBasic</span><span class="op" id="8049496">(</span><span class="ident" id="8049497">t</span>&nbsp;<span class="op" id="8049499">*</span><span class="ident" id="8049500">testing</span><span class="op" id="8049507">.</span><span class="ident" id="8049508">T</span><span class="op" id="8049509">)</span>&nbsp;<span class="op" id="8049511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049514">b</span>&nbsp;<span class="op" id="8049516">:=</span>&nbsp;<span class="builtinfunc" id="8049519">new</span><span class="op" id="8049522">(</span><span class="ident" id="8049523">bytes</span><span class="op" id="8049528">.</span><span class="ident" id="8049529">Buffer</span><span class="op" id="8049535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049538">item1</span>&nbsp;<span class="op" id="8049544">:=</span>&nbsp;<span class="op" id="8049547">&amp;</span><span class="ident" id="8049548">BasicInterfaceItem</span><span class="op" id="8049566">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8049570">int</span><span class="op" id="8049573">(</span><span class="num" id="8049574">1</span><span class="op" id="8049575">)</span><span class="op" id="8049576">,</span>&nbsp;<span class="builtintype" id="8049578">int8</span><span class="op" id="8049582">(</span><span class="num" id="8049583">1</span><span class="op" id="8049584">)</span><span class="op" id="8049585">,</span>&nbsp;<span class="builtintype" id="8049587">int16</span><span class="op" id="8049592">(</span><span class="num" id="8049593">1</span><span class="op" id="8049594">)</span><span class="op" id="8049595">,</span>&nbsp;<span class="builtintype" id="8049597">int32</span><span class="op" id="8049602">(</span><span class="num" id="8049603">1</span><span class="op" id="8049604">)</span><span class="op" id="8049605">,</span>&nbsp;<span class="ident" id="8049607">int64</span><span class="op" id="8049612">(</span><span class="num" id="8049613">1</span><span class="op" id="8049614">)</span><span class="op" id="8049615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8049619">uint</span><span class="op" id="8049623">(</span><span class="num" id="8049624">1</span><span class="op" id="8049625">)</span><span class="op" id="8049626">,</span>&nbsp;<span class="builtintype" id="8049628">uint8</span><span class="op" id="8049633">(</span><span class="num" id="8049634">1</span><span class="op" id="8049635">)</span><span class="op" id="8049636">,</span>&nbsp;<span class="builtintype" id="8049638">uint16</span><span class="op" id="8049644">(</span><span class="num" id="8049645">1</span><span class="op" id="8049646">)</span><span class="op" id="8049647">,</span>&nbsp;<span class="builtintype" id="8049649">uint32</span><span class="op" id="8049655">(</span><span class="num" id="8049656">1</span><span class="op" id="8049657">)</span><span class="op" id="8049658">,</span>&nbsp;<span class="ident" id="8049660">uint64</span><span class="op" id="8049666">(</span><span class="num" id="8049667">1</span><span class="op" id="8049668">)</span><span class="op" id="8049669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8049673">float32</span><span class="op" id="8049680">(</span><span class="num" id="8049681">1</span><span class="op" id="8049682">)</span><span class="op" id="8049683">,</span>&nbsp;<span class="num" id="8049685">1.0</span><span class="op" id="8049688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8049692">complex64</span><span class="op" id="8049701">(</span><span class="num" id="8049702">1i</span><span class="op" id="8049704">)</span><span class="op" id="8049705">,</span>&nbsp;<span class="builtintype" id="8049707">complex128</span><span class="op" id="8049717">(</span><span class="num" id="8049718">1i</span><span class="op" id="8049720">)</span><span class="op" id="8049721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8049725">true</span><span class="op" id="8049729">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8049733">&#34;hello&#34;</span><span class="op" id="8049740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049744">[</span><span class="op" id="8049745">]</span><span class="builtintype" id="8049746">byte</span><span class="op" id="8049750">(</span><span class="string" id="8049751">&#34;sailor&#34;</span><span class="op" id="8049759">)</span><span class="op" id="8049760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049766">err</span>&nbsp;<span class="op" id="8049770">:=</span>&nbsp;<span class="ident" id="8049773">NewEncoder</span><span class="op" id="8049783">(</span><span class="ident" id="8049784">b</span><span class="op" id="8049785">)</span><span class="op" id="8049786">.</span><span class="ident" id="8049787">Encode</span><span class="op" id="8049793">(</span><span class="ident" id="8049794">item1</span><span class="op" id="8049799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8049802">if</span>&nbsp;<span class="ident" id="8049805">err</span>&nbsp;<span class="op" id="8049809">!=</span>&nbsp;<span class="ident" id="8049812">nil</span>&nbsp;<span class="op" id="8049816">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049820">t</span><span class="op" id="8049821">.</span><span class="ident" id="8049822">Error</span><span class="op" id="8049827">(</span><span class="string" id="8049828">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8049859">,</span>&nbsp;<span class="ident" id="8049861">err</span><span class="op" id="8049864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049871">item2</span>&nbsp;<span class="op" id="8049877">:=</span>&nbsp;<span class="op" id="8049880">&amp;</span><span class="ident" id="8049881">BasicInterfaceItem</span><span class="op" id="8049899">{</span><span class="op" id="8049900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049903">err</span>&nbsp;<span class="op" id="8049907">=</span>&nbsp;<span class="ident" id="8049909">NewDecoder</span><span class="op" id="8049919">(</span><span class="ident" id="8049920">b</span><span class="op" id="8049921">)</span><span class="op" id="8049922">.</span><span class="ident" id="8049923">Decode</span><span class="op" id="8049929">(</span><span class="op" id="8049930">&amp;</span><span class="ident" id="8049931">item2</span><span class="op" id="8049936">)</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8049939">if</span>&nbsp;<span class="ident" id="8049942">err</span>&nbsp;<span class="op" id="8049946">!=</span>&nbsp;<span class="ident" id="8049949">nil</span>&nbsp;<span class="op" id="8049953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8049957">t</span><span class="op" id="8049958">.</span><span class="ident" id="8049959">Fatal</span><span class="op" id="8049964">(</span><span class="string" id="8049965">&#34;decode:&#34;</span><span class="op" id="8049974">,</span>&nbsp;<span class="ident" id="8049976">err</span><span class="op" id="8049979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8049982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8049985">if</span>&nbsp;<span class="op" id="8049988">!</span><span class="ident" id="8049989">reflect</span><span class="op" id="8049996">.</span><span class="ident" id="8049997">DeepEqual</span><span class="op" id="8050006">(</span><span class="ident" id="8050007">item1</span><span class="op" id="8050012">,</span>&nbsp;<span class="ident" id="8050014">item2</span><span class="op" id="8050019">)</span>&nbsp;<span class="op" id="8050021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050025">t</span><span class="op" id="8050026">.</span><span class="ident" id="8050027">Errorf</span><span class="op" id="8050033">(</span><span class="string" id="8050034">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8050061">,</span>&nbsp;<span class="ident" id="8050063">item1</span><span class="op" id="8050068">,</span>&nbsp;<span class="ident" id="8050070">item2</span><span class="op" id="8050075">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8050081">//&nbsp;Hand&nbsp;check&nbsp;a&nbsp;couple&nbsp;for&nbsp;correct&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8050124">if</span>&nbsp;<span class="ident" id="8050127">v</span><span class="op" id="8050128">,</span>&nbsp;<span class="ident" id="8050130">ok</span>&nbsp;<span class="op" id="8050133">:=</span>&nbsp;<span class="ident" id="8050136">item2</span><span class="op" id="8050141">.</span><span class="ident" id="8050142">Bool</span><span class="op" id="8050146">.</span><span class="op" id="8050147">(</span><span class="builtintype" id="8050148">bool</span><span class="op" id="8050152">)</span><span class="op" id="8050153">;</span>&nbsp;<span class="op" id="8050155">!</span><span class="ident" id="8050156">ok</span>&nbsp;<span class="op" id="8050159">||</span>&nbsp;<span class="op" id="8050162">!</span><span class="ident" id="8050163">v</span>&nbsp;<span class="op" id="8050165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050169">t</span><span class="op" id="8050170">.</span><span class="ident" id="8050171">Error</span><span class="op" id="8050176">(</span><span class="string" id="8050177">&#34;boolean&nbsp;should&nbsp;be&nbsp;true&#34;</span><span class="op" id="8050201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050204">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8050207">if</span>&nbsp;<span class="ident" id="8050210">v</span><span class="op" id="8050211">,</span>&nbsp;<span class="ident" id="8050213">ok</span>&nbsp;<span class="op" id="8050216">:=</span>&nbsp;<span class="ident" id="8050219">item2</span><span class="op" id="8050224">.</span><span class="ident" id="8050225">String</span><span class="op" id="8050231">.</span><span class="op" id="8050232">(</span><span class="builtintype" id="8050233">string</span><span class="op" id="8050239">)</span><span class="op" id="8050240">;</span>&nbsp;<span class="op" id="8050242">!</span><span class="ident" id="8050243">ok</span>&nbsp;<span class="op" id="8050246">||</span>&nbsp;<span class="ident" id="8050249">v</span>&nbsp;<span class="op" id="8050251">!=</span>&nbsp;<span class="ident" id="8050254">item1</span><span class="op" id="8050259">.</span><span class="ident" id="8050260">String</span><span class="op" id="8050266">.</span><span class="op" id="8050267">(</span><span class="builtintype" id="8050268">string</span><span class="op" id="8050274">)</span>&nbsp;<span class="op" id="8050276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050280">t</span><span class="op" id="8050281">.</span><span class="ident" id="8050282">Errorf</span><span class="op" id="8050288">(</span><span class="string" id="8050289">&#34;string&nbsp;should&nbsp;be&nbsp;%v&nbsp;is&nbsp;%v&#34;</span><span class="op" id="8050316">,</span>&nbsp;<span class="ident" id="8050318">item1</span><span class="op" id="8050323">.</span><span class="ident" id="8050324">String</span><span class="op" id="8050330">,</span>&nbsp;<span class="ident" id="8050332">v</span><span class="op" id="8050333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050336">}</span><br>
<span class="lineno"></span><span class="op" id="8050338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span><span class="keyword" id="8050341">type</span>&nbsp;<span class="ident" id="8050346">String</span>&nbsp;<span class="builtintype" id="8050353">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8050361">type</span>&nbsp;<span class="ident" id="8050366">PtrInterfaceItem</span>&nbsp;<span class="keyword" id="8050383">struct</span>&nbsp;<span class="op" id="8050390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050393">Str1</span>&nbsp;<span class="keyword" id="8050398">interface</span><span class="op" id="8050407">{</span><span class="op" id="8050408">}</span>&nbsp;<span class="comment" id="8050410">//&nbsp;basic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050420">Str2</span>&nbsp;<span class="keyword" id="8050425">interface</span><span class="op" id="8050434">{</span><span class="op" id="8050435">}</span>&nbsp;<span class="comment" id="8050437">//&nbsp;derived</span><br>
<span class="lineno">1200</span><span class="op" id="8050448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8050451">//&nbsp;We&#39;ll&nbsp;send&nbsp;pointers;&nbsp;should&nbsp;receive&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="8050498">//&nbsp;Also&nbsp;check&nbsp;that&nbsp;we&nbsp;can&nbsp;register&nbsp;T&nbsp;but&nbsp;send&nbsp;*T.</span><br>
<span class="lineno"></span><span class="keyword" id="8050548">func</span>&nbsp;<span class="ident" id="8050553">TestInterfacePointer</span><span class="op" id="8050573">(</span><span class="ident" id="8050574">t</span>&nbsp;<span class="op" id="8050576">*</span><span class="ident" id="8050577">testing</span><span class="op" id="8050584">.</span><span class="ident" id="8050585">T</span><span class="op" id="8050586">)</span>&nbsp;<span class="op" id="8050588">{</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050591">b</span>&nbsp;<span class="op" id="8050593">:=</span>&nbsp;<span class="builtinfunc" id="8050596">new</span><span class="op" id="8050599">(</span><span class="ident" id="8050600">bytes</span><span class="op" id="8050605">.</span><span class="ident" id="8050606">Buffer</span><span class="op" id="8050612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050615">str1</span>&nbsp;<span class="op" id="8050620">:=</span>&nbsp;<span class="string" id="8050623">&#34;howdy&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050632">str2</span>&nbsp;<span class="op" id="8050637">:=</span>&nbsp;<span class="ident" id="8050640">String</span><span class="op" id="8050646">(</span><span class="string" id="8050647">&#34;kiddo&#34;</span><span class="op" id="8050654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050657">item1</span>&nbsp;<span class="op" id="8050663">:=</span>&nbsp;<span class="op" id="8050666">&amp;</span><span class="ident" id="8050667">PtrInterfaceItem</span><span class="op" id="8050683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050687">&amp;</span><span class="ident" id="8050688">str1</span><span class="op" id="8050692">,</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050696">&amp;</span><span class="ident" id="8050697">str2</span><span class="op" id="8050701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8050707">//&nbsp;Register&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050730">Register</span><span class="op" id="8050738">(</span><span class="ident" id="8050739">str2</span><span class="op" id="8050743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050746">err</span>&nbsp;<span class="op" id="8050750">:=</span>&nbsp;<span class="ident" id="8050753">NewEncoder</span><span class="op" id="8050763">(</span><span class="ident" id="8050764">b</span><span class="op" id="8050765">)</span><span class="op" id="8050766">.</span><span class="ident" id="8050767">Encode</span><span class="op" id="8050773">(</span><span class="ident" id="8050774">item1</span><span class="op" id="8050779">)</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8050782">if</span>&nbsp;<span class="ident" id="8050785">err</span>&nbsp;<span class="op" id="8050789">!=</span>&nbsp;<span class="ident" id="8050792">nil</span>&nbsp;<span class="op" id="8050796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050800">t</span><span class="op" id="8050801">.</span><span class="ident" id="8050802">Error</span><span class="op" id="8050807">(</span><span class="string" id="8050808">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8050839">,</span>&nbsp;<span class="ident" id="8050841">err</span><span class="op" id="8050844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050851">item2</span>&nbsp;<span class="op" id="8050857">:=</span>&nbsp;<span class="op" id="8050860">&amp;</span><span class="ident" id="8050861">PtrInterfaceItem</span><span class="op" id="8050877">{</span><span class="op" id="8050878">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050881">err</span>&nbsp;<span class="op" id="8050885">=</span>&nbsp;<span class="ident" id="8050887">NewDecoder</span><span class="op" id="8050897">(</span><span class="ident" id="8050898">b</span><span class="op" id="8050899">)</span><span class="op" id="8050900">.</span><span class="ident" id="8050901">Decode</span><span class="op" id="8050907">(</span><span class="op" id="8050908">&amp;</span><span class="ident" id="8050909">item2</span><span class="op" id="8050914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8050917">if</span>&nbsp;<span class="ident" id="8050920">err</span>&nbsp;<span class="op" id="8050924">!=</span>&nbsp;<span class="ident" id="8050927">nil</span>&nbsp;<span class="op" id="8050931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8050935">t</span><span class="op" id="8050936">.</span><span class="ident" id="8050937">Fatal</span><span class="op" id="8050942">(</span><span class="string" id="8050943">&#34;decode:&#34;</span><span class="op" id="8050952">,</span>&nbsp;<span class="ident" id="8050954">err</span><span class="op" id="8050957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8050960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8050963">//&nbsp;Hand&nbsp;test&nbsp;for&nbsp;correct&nbsp;types&nbsp;and&nbsp;values.</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051007">if</span>&nbsp;<span class="ident" id="8051010">v</span><span class="op" id="8051011">,</span>&nbsp;<span class="ident" id="8051013">ok</span>&nbsp;<span class="op" id="8051016">:=</span>&nbsp;<span class="ident" id="8051019">item2</span><span class="op" id="8051024">.</span><span class="ident" id="8051025">Str1</span><span class="op" id="8051029">.</span><span class="op" id="8051030">(</span><span class="builtintype" id="8051031">string</span><span class="op" id="8051037">)</span><span class="op" id="8051038">;</span>&nbsp;<span class="op" id="8051040">!</span><span class="ident" id="8051041">ok</span>&nbsp;<span class="op" id="8051044">||</span>&nbsp;<span class="ident" id="8051047">v</span>&nbsp;<span class="op" id="8051049">!=</span>&nbsp;<span class="ident" id="8051052">str1</span>&nbsp;<span class="op" id="8051057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051061">t</span><span class="op" id="8051062">.</span><span class="ident" id="8051063">Errorf</span><span class="op" id="8051069">(</span><span class="string" id="8051070">&#34;basic&nbsp;string&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8051108">,</span>&nbsp;<span class="ident" id="8051110">v</span><span class="op" id="8051111">,</span>&nbsp;<span class="ident" id="8051113">str1</span><span class="op" id="8051117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051123">if</span>&nbsp;<span class="ident" id="8051126">v</span><span class="op" id="8051127">,</span>&nbsp;<span class="ident" id="8051129">ok</span>&nbsp;<span class="op" id="8051132">:=</span>&nbsp;<span class="ident" id="8051135">item2</span><span class="op" id="8051140">.</span><span class="ident" id="8051141">Str2</span><span class="op" id="8051145">.</span><span class="op" id="8051146">(</span><span class="ident" id="8051147">String</span><span class="op" id="8051153">)</span><span class="op" id="8051154">;</span>&nbsp;<span class="op" id="8051156">!</span><span class="ident" id="8051157">ok</span>&nbsp;<span class="op" id="8051160">||</span>&nbsp;<span class="ident" id="8051163">v</span>&nbsp;<span class="op" id="8051165">!=</span>&nbsp;<span class="ident" id="8051168">str2</span>&nbsp;<span class="op" id="8051173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051177">t</span><span class="op" id="8051178">.</span><span class="ident" id="8051179">Errorf</span><span class="op" id="8051185">(</span><span class="string" id="8051186">&#34;derived&nbsp;type&nbsp;String&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8051231">,</span>&nbsp;<span class="ident" id="8051233">v</span><span class="op" id="8051234">,</span>&nbsp;<span class="ident" id="8051236">str2</span><span class="op" id="8051240">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051243">}</span><br>
<span class="lineno"></span><span class="op" id="8051245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8051248">func</span>&nbsp;<span class="ident" id="8051253">TestIgnoreInterface</span><span class="op" id="8051272">(</span><span class="ident" id="8051273">t</span>&nbsp;<span class="op" id="8051275">*</span><span class="ident" id="8051276">testing</span><span class="op" id="8051283">.</span><span class="ident" id="8051284">T</span><span class="op" id="8051285">)</span>&nbsp;<span class="op" id="8051287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051290">iVal</span>&nbsp;<span class="op" id="8051295">:=</span>&nbsp;<span class="ident" id="8051298">Int</span><span class="op" id="8051301">(</span><span class="num" id="8051302">3</span><span class="op" id="8051303">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051306">fVal</span>&nbsp;<span class="op" id="8051311">:=</span>&nbsp;<span class="ident" id="8051314">Float</span><span class="op" id="8051319">(</span><span class="num" id="8051320">5</span><span class="op" id="8051321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8051324">//&nbsp;Sending&nbsp;a&nbsp;Point&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8051406">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051441">pVal</span>&nbsp;<span class="op" id="8051446">:=</span>&nbsp;<span class="ident" id="8051449">Point</span><span class="op" id="8051454">{</span><span class="num" id="8051455">2</span><span class="op" id="8051456">,</span>&nbsp;<span class="num" id="8051458">3</span><span class="op" id="8051459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051462">b</span>&nbsp;<span class="op" id="8051464">:=</span>&nbsp;<span class="builtinfunc" id="8051467">new</span><span class="op" id="8051470">(</span><span class="ident" id="8051471">bytes</span><span class="op" id="8051476">.</span><span class="ident" id="8051477">Buffer</span><span class="op" id="8051483">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051486">item1</span>&nbsp;<span class="op" id="8051492">:=</span>&nbsp;<span class="op" id="8051495">&amp;</span><span class="ident" id="8051496">InterfaceItem</span><span class="op" id="8051509">{</span><span class="num" id="8051510">1</span><span class="op" id="8051511">,</span>&nbsp;<span class="ident" id="8051513">iVal</span><span class="op" id="8051517">,</span>&nbsp;<span class="ident" id="8051519">fVal</span><span class="op" id="8051523">,</span>&nbsp;<span class="ident" id="8051525">pVal</span><span class="op" id="8051529">,</span>&nbsp;<span class="num" id="8051531">11.5</span><span class="op" id="8051535">,</span>&nbsp;<span class="ident" id="8051537">nil</span><span class="op" id="8051540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8051543">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051567">Register</span><span class="op" id="8051575">(</span><span class="ident" id="8051576">Int</span><span class="op" id="8051579">(</span><span class="num" id="8051580">0</span><span class="op" id="8051581">)</span><span class="op" id="8051582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051585">Register</span><span class="op" id="8051593">(</span><span class="ident" id="8051594">Float</span><span class="op" id="8051599">(</span><span class="num" id="8051600">0</span><span class="op" id="8051601">)</span><span class="op" id="8051602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051605">Register</span><span class="op" id="8051613">(</span><span class="ident" id="8051614">Point</span><span class="op" id="8051619">{</span><span class="op" id="8051620">}</span><span class="op" id="8051621">)</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051624">err</span>&nbsp;<span class="op" id="8051628">:=</span>&nbsp;<span class="ident" id="8051631">NewEncoder</span><span class="op" id="8051641">(</span><span class="ident" id="8051642">b</span><span class="op" id="8051643">)</span><span class="op" id="8051644">.</span><span class="ident" id="8051645">Encode</span><span class="op" id="8051651">(</span><span class="ident" id="8051652">item1</span><span class="op" id="8051657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051660">if</span>&nbsp;<span class="ident" id="8051663">err</span>&nbsp;<span class="op" id="8051667">!=</span>&nbsp;<span class="ident" id="8051670">nil</span>&nbsp;<span class="op" id="8051674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051678">t</span><span class="op" id="8051679">.</span><span class="ident" id="8051680">Error</span><span class="op" id="8051685">(</span><span class="string" id="8051686">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8051717">,</span>&nbsp;<span class="ident" id="8051719">err</span><span class="op" id="8051722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051729">item2</span>&nbsp;<span class="op" id="8051735">:=</span>&nbsp;<span class="ident" id="8051738">NoInterfaceItem</span><span class="op" id="8051753">{</span><span class="op" id="8051754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051757">err</span>&nbsp;<span class="op" id="8051761">=</span>&nbsp;<span class="ident" id="8051763">NewDecoder</span><span class="op" id="8051773">(</span><span class="ident" id="8051774">b</span><span class="op" id="8051775">)</span><span class="op" id="8051776">.</span><span class="ident" id="8051777">Decode</span><span class="op" id="8051783">(</span><span class="op" id="8051784">&amp;</span><span class="ident" id="8051785">item2</span><span class="op" id="8051790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051793">if</span>&nbsp;<span class="ident" id="8051796">err</span>&nbsp;<span class="op" id="8051800">!=</span>&nbsp;<span class="ident" id="8051803">nil</span>&nbsp;<span class="op" id="8051807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051811">t</span><span class="op" id="8051812">.</span><span class="ident" id="8051813">Fatal</span><span class="op" id="8051818">(</span><span class="string" id="8051819">&#34;decode:&#34;</span><span class="op" id="8051828">,</span>&nbsp;<span class="ident" id="8051830">err</span><span class="op" id="8051833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051836">}</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051839">if</span>&nbsp;<span class="ident" id="8051842">item2</span><span class="op" id="8051847">.</span><span class="ident" id="8051848">I</span>&nbsp;<span class="op" id="8051850">!=</span>&nbsp;<span class="ident" id="8051853">item1</span><span class="op" id="8051858">.</span><span class="ident" id="8051859">I</span>&nbsp;<span class="op" id="8051861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051865">t</span><span class="op" id="8051866">.</span><span class="ident" id="8051867">Error</span><span class="op" id="8051872">(</span><span class="string" id="8051873">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8051910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8051916">if</span>&nbsp;<span class="ident" id="8051919">item2</span><span class="op" id="8051924">.</span><span class="ident" id="8051925">F</span>&nbsp;<span class="op" id="8051927">!=</span>&nbsp;<span class="ident" id="8051930">item2</span><span class="op" id="8051935">.</span><span class="ident" id="8051936">F</span>&nbsp;<span class="op" id="8051938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8051942">t</span><span class="op" id="8051943">.</span><span class="ident" id="8051944">Error</span><span class="op" id="8051949">(</span><span class="string" id="8051950">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8051989">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8051992">}</span><br>
<span class="lineno"></span><span class="op" id="8051994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8051997">type</span>&nbsp;<span class="ident" id="8052002">U</span>&nbsp;<span class="keyword" id="8052004">struct</span>&nbsp;<span class="op" id="8052011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052014">A</span>&nbsp;<span class="builtintype" id="8052016">int</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052021">B</span>&nbsp;<span class="builtintype" id="8052023">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052031">c</span>&nbsp;<span class="builtintype" id="8052033">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052042">D</span>&nbsp;<span class="builtintype" id="8052044">uint</span><br>
<span class="lineno"></span><span class="op" id="8052049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="keyword" id="8052052">func</span>&nbsp;<span class="ident" id="8052057">TestUnexportedFields</span><span class="op" id="8052077">(</span><span class="ident" id="8052078">t</span>&nbsp;<span class="op" id="8052080">*</span><span class="ident" id="8052081">testing</span><span class="op" id="8052088">.</span><span class="ident" id="8052089">T</span><span class="op" id="8052090">)</span>&nbsp;<span class="op" id="8052092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052095">var</span>&nbsp;<span class="ident" id="8052099">u0</span>&nbsp;<span class="ident" id="8052102">U</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052105">u0</span><span class="op" id="8052107">.</span><span class="ident" id="8052108">A</span>&nbsp;<span class="op" id="8052110">=</span>&nbsp;<span class="num" id="8052112">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052116">u0</span><span class="op" id="8052118">.</span><span class="ident" id="8052119">B</span>&nbsp;<span class="op" id="8052121">=</span>&nbsp;<span class="string" id="8052123">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052132">u0</span><span class="op" id="8052134">.</span><span class="ident" id="8052135">c</span>&nbsp;<span class="op" id="8052137">=</span>&nbsp;<span class="num" id="8052139">3.14159</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052148">u0</span><span class="op" id="8052150">.</span><span class="ident" id="8052151">D</span>&nbsp;<span class="op" id="8052153">=</span>&nbsp;<span class="num" id="8052155">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052159">b</span>&nbsp;<span class="op" id="8052161">:=</span>&nbsp;<span class="builtinfunc" id="8052164">new</span><span class="op" id="8052167">(</span><span class="ident" id="8052168">bytes</span><span class="op" id="8052173">.</span><span class="ident" id="8052174">Buffer</span><span class="op" id="8052180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052183">NewEncoder</span><span class="op" id="8052193">(</span><span class="ident" id="8052194">b</span><span class="op" id="8052195">)</span><span class="op" id="8052196">.</span><span class="ident" id="8052197">Encode</span><span class="op" id="8052203">(</span><span class="ident" id="8052204">u0</span><span class="op" id="8052206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052209">dec</span>&nbsp;<span class="op" id="8052213">:=</span>&nbsp;<span class="ident" id="8052216">NewDecoder</span><span class="op" id="8052226">(</span><span class="ident" id="8052227">b</span><span class="op" id="8052228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052231">var</span>&nbsp;<span class="ident" id="8052235">u1</span>&nbsp;<span class="ident" id="8052238">U</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052241">u1</span><span class="op" id="8052243">.</span><span class="ident" id="8052244">c</span>&nbsp;<span class="op" id="8052246">=</span>&nbsp;<span class="num" id="8052248">1234.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052255">err</span>&nbsp;<span class="op" id="8052259">:=</span>&nbsp;<span class="ident" id="8052262">dec</span><span class="op" id="8052265">.</span><span class="ident" id="8052266">Decode</span><span class="op" id="8052272">(</span><span class="op" id="8052273">&amp;</span><span class="ident" id="8052274">u1</span><span class="op" id="8052276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052279">if</span>&nbsp;<span class="ident" id="8052282">err</span>&nbsp;<span class="op" id="8052286">!=</span>&nbsp;<span class="ident" id="8052289">nil</span>&nbsp;<span class="op" id="8052293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052297">t</span><span class="op" id="8052298">.</span><span class="ident" id="8052299">Fatal</span><span class="op" id="8052304">(</span><span class="string" id="8052305">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8052320">,</span>&nbsp;<span class="ident" id="8052322">err</span><span class="op" id="8052325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052328">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052331">if</span>&nbsp;<span class="ident" id="8052334">u0</span><span class="op" id="8052336">.</span><span class="ident" id="8052337">A</span>&nbsp;<span class="op" id="8052339">!=</span>&nbsp;<span class="ident" id="8052342">u0</span><span class="op" id="8052344">.</span><span class="ident" id="8052345">A</span>&nbsp;<span class="op" id="8052347">||</span>&nbsp;<span class="ident" id="8052350">u0</span><span class="op" id="8052352">.</span><span class="ident" id="8052353">B</span>&nbsp;<span class="op" id="8052355">!=</span>&nbsp;<span class="ident" id="8052358">u1</span><span class="op" id="8052360">.</span><span class="ident" id="8052361">B</span>&nbsp;<span class="op" id="8052363">||</span>&nbsp;<span class="ident" id="8052366">u0</span><span class="op" id="8052368">.</span><span class="ident" id="8052369">D</span>&nbsp;<span class="op" id="8052371">!=</span>&nbsp;<span class="ident" id="8052374">u1</span><span class="op" id="8052376">.</span><span class="ident" id="8052377">D</span>&nbsp;<span class="op" id="8052379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052383">t</span><span class="op" id="8052384">.</span><span class="ident" id="8052385">Errorf</span><span class="op" id="8052391">(</span><span class="string" id="8052392">&#34;u1-&gt;u0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8052421">,</span>&nbsp;<span class="ident" id="8052423">u0</span><span class="op" id="8052425">,</span>&nbsp;<span class="ident" id="8052427">u1</span><span class="op" id="8052429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052435">if</span>&nbsp;<span class="ident" id="8052438">u1</span><span class="op" id="8052440">.</span><span class="ident" id="8052441">c</span>&nbsp;<span class="op" id="8052443">!=</span>&nbsp;<span class="num" id="8052446">1234.</span>&nbsp;<span class="op" id="8052452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052456">t</span><span class="op" id="8052457">.</span><span class="ident" id="8052458">Error</span><span class="op" id="8052463">(</span><span class="string" id="8052464">&#34;u1.c&nbsp;modified&#34;</span><span class="op" id="8052479">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052482">}</span><br>
<span class="lineno"></span><span class="op" id="8052484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8052487">var</span>&nbsp;<span class="ident" id="8052491">singletons</span>&nbsp;<span class="op" id="8052502">=</span>&nbsp;<span class="op" id="8052504">[</span><span class="op" id="8052505">]</span><span class="keyword" id="8052506">interface</span><span class="op" id="8052515">{</span><span class="op" id="8052516">}</span><span class="op" id="8052517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8052520">true</span><span class="op" id="8052524">,</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8052527">7</span><span class="op" id="8052528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8052531">3.2</span><span class="op" id="8052534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8052537">&#34;hello&#34;</span><span class="op" id="8052544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052547">[</span><span class="num" id="8052548">3</span><span class="op" id="8052549">]</span><span class="builtintype" id="8052550">int</span><span class="op" id="8052553">{</span><span class="num" id="8052554">11</span><span class="op" id="8052556">,</span>&nbsp;<span class="num" id="8052558">22</span><span class="op" id="8052560">,</span>&nbsp;<span class="num" id="8052562">33</span><span class="op" id="8052564">}</span><span class="op" id="8052565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052568">[</span><span class="op" id="8052569">]</span><span class="builtintype" id="8052570">float32</span><span class="op" id="8052577">{</span><span class="num" id="8052578">0.5</span><span class="op" id="8052581">,</span>&nbsp;<span class="num" id="8052583">0.25</span><span class="op" id="8052587">,</span>&nbsp;<span class="num" id="8052589">0.125</span><span class="op" id="8052594">}</span><span class="op" id="8052595">,</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052598">map</span><span class="op" id="8052601">[</span><span class="builtintype" id="8052602">string</span><span class="op" id="8052608">]</span><span class="builtintype" id="8052609">int</span><span class="op" id="8052612">{</span><span class="string" id="8052613">&#34;one&#34;</span><span class="op" id="8052618">:</span>&nbsp;<span class="num" id="8052620">1</span><span class="op" id="8052621">,</span>&nbsp;<span class="string" id="8052623">&#34;two&#34;</span><span class="op" id="8052628">:</span>&nbsp;<span class="num" id="8052630">2</span><span class="op" id="8052631">}</span><span class="op" id="8052632">,</span><br>
<span class="lineno"></span><span class="op" id="8052634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8052637">func</span>&nbsp;<span class="ident" id="8052642">TestDebugSingleton</span><span class="op" id="8052660">(</span><span class="ident" id="8052661">t</span>&nbsp;<span class="op" id="8052663">*</span><span class="ident" id="8052664">testing</span><span class="op" id="8052671">.</span><span class="ident" id="8052672">T</span><span class="op" id="8052673">)</span>&nbsp;<span class="op" id="8052675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052678">if</span>&nbsp;<span class="ident" id="8052681">debugFunc</span>&nbsp;<span class="op" id="8052691">==</span>&nbsp;<span class="ident" id="8052694">nil</span>&nbsp;<span class="op" id="8052698">{</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052702">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052713">b</span>&nbsp;<span class="op" id="8052715">:=</span>&nbsp;<span class="builtinfunc" id="8052718">new</span><span class="op" id="8052721">(</span><span class="ident" id="8052722">bytes</span><span class="op" id="8052727">.</span><span class="ident" id="8052728">Buffer</span><span class="op" id="8052734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8052737">//&nbsp;Accumulate&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;and&nbsp;print&nbsp;them&nbsp;out&nbsp;all&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052803">for</span>&nbsp;<span class="ident" id="8052807">_</span><span class="op" id="8052808">,</span>&nbsp;<span class="ident" id="8052810">x</span>&nbsp;<span class="op" id="8052812">:=</span>&nbsp;<span class="keyword" id="8052815">range</span>&nbsp;<span class="ident" id="8052821">singletons</span>&nbsp;<span class="op" id="8052832">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052836">err</span>&nbsp;<span class="op" id="8052840">:=</span>&nbsp;<span class="ident" id="8052843">NewEncoder</span><span class="op" id="8052853">(</span><span class="ident" id="8052854">b</span><span class="op" id="8052855">)</span><span class="op" id="8052856">.</span><span class="ident" id="8052857">Encode</span><span class="op" id="8052863">(</span><span class="ident" id="8052864">x</span><span class="op" id="8052865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8052869">if</span>&nbsp;<span class="ident" id="8052872">err</span>&nbsp;<span class="op" id="8052876">!=</span>&nbsp;<span class="ident" id="8052879">nil</span>&nbsp;<span class="op" id="8052883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052888">t</span><span class="op" id="8052889">.</span><span class="ident" id="8052890">Fatal</span><span class="op" id="8052895">(</span><span class="string" id="8052896">&#34;encode:&#34;</span><span class="op" id="8052905">,</span>&nbsp;<span class="ident" id="8052907">err</span><span class="op" id="8052910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8052917">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8052920">debugFunc</span><span class="op" id="8052929">(</span><span class="ident" id="8052930">b</span><span class="op" id="8052931">)</span><br>
<span class="lineno"></span><span class="op" id="8052933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8052936">//&nbsp;A&nbsp;type&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;gob&nbsp;until&nbsp;we&nbsp;send&nbsp;it&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="8053019">type</span>&nbsp;<span class="ident" id="8053024">OnTheFly</span>&nbsp;<span class="keyword" id="8053033">struct</span>&nbsp;<span class="op" id="8053040">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053043">A</span>&nbsp;<span class="builtintype" id="8053045">int</span><br>
<span class="lineno"></span><span class="op" id="8053049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8053052">type</span>&nbsp;<span class="ident" id="8053057">DT</span>&nbsp;<span class="keyword" id="8053060">struct</span>&nbsp;<span class="op" id="8053067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8053070">//&nbsp;&nbsp;&nbsp;&nbspX&nbsp;OnTheFly</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053085">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8053091">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053096">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8053102">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053110">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8053116">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053125">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8053131">interface</span><span class="op" id="8053140">{</span><span class="op" id="8053141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053144">J</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8053150">interface</span><span class="op" id="8053159">{</span><span class="op" id="8053160">}</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053163">I_nil</span>&nbsp;<span class="keyword" id="8053169">interface</span><span class="op" id="8053178">{</span><span class="op" id="8053179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053182">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8053188">map</span><span class="op" id="8053191">[</span><span class="builtintype" id="8053192">string</span><span class="op" id="8053198">]</span><span class="builtintype" id="8053199">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053204">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053210">[</span><span class="num" id="8053211">3</span><span class="op" id="8053212">]</span><span class="builtintype" id="8053213">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053218">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053224">[</span><span class="op" id="8053225">]</span><span class="builtintype" id="8053226">string</span><br>
<span class="lineno"></span><span class="op" id="8053233">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="keyword" id="8053236">func</span>&nbsp;<span class="ident" id="8053241">newDT</span><span class="op" id="8053246">(</span><span class="op" id="8053247">)</span>&nbsp;<span class="ident" id="8053249">DT</span>&nbsp;<span class="op" id="8053252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8053255">var</span>&nbsp;<span class="ident" id="8053259">dt</span>&nbsp;<span class="ident" id="8053262">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053266">dt</span><span class="op" id="8053268">.</span><span class="ident" id="8053269">A</span>&nbsp;<span class="op" id="8053271">=</span>&nbsp;<span class="num" id="8053273">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053277">dt</span><span class="op" id="8053279">.</span><span class="ident" id="8053280">B</span>&nbsp;<span class="op" id="8053282">=</span>&nbsp;<span class="string" id="8053284">&#34;hello&#34;</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053293">dt</span><span class="op" id="8053295">.</span><span class="ident" id="8053296">C</span>&nbsp;<span class="op" id="8053298">=</span>&nbsp;<span class="num" id="8053300">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053309">dt</span><span class="op" id="8053311">.</span><span class="ident" id="8053312">I</span>&nbsp;<span class="op" id="8053314">=</span>&nbsp;<span class="num" id="8053316">271828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053324">dt</span><span class="op" id="8053326">.</span><span class="ident" id="8053327">J</span>&nbsp;<span class="op" id="8053329">=</span>&nbsp;<span class="ident" id="8053331">OnTheFly</span><span class="op" id="8053339">{</span><span class="num" id="8053340">3</span><span class="op" id="8053341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053344">dt</span><span class="op" id="8053346">.</span><span class="ident" id="8053347">I_nil</span>&nbsp;<span class="op" id="8053353">=</span>&nbsp;<span class="ident" id="8053355">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053360">dt</span><span class="op" id="8053362">.</span><span class="ident" id="8053363">M</span>&nbsp;<span class="op" id="8053365">=</span>&nbsp;<span class="keyword" id="8053367">map</span><span class="op" id="8053370">[</span><span class="builtintype" id="8053371">string</span><span class="op" id="8053377">]</span><span class="builtintype" id="8053378">int</span><span class="op" id="8053381">{</span><span class="string" id="8053382">&#34;one&#34;</span><span class="op" id="8053387">:</span>&nbsp;<span class="num" id="8053389">1</span><span class="op" id="8053390">,</span>&nbsp;<span class="string" id="8053392">&#34;two&#34;</span><span class="op" id="8053397">:</span>&nbsp;<span class="num" id="8053399">2</span><span class="op" id="8053400">}</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053403">dt</span><span class="op" id="8053405">.</span><span class="ident" id="8053406">T</span>&nbsp;<span class="op" id="8053408">=</span>&nbsp;<span class="op" id="8053410">[</span><span class="num" id="8053411">3</span><span class="op" id="8053412">]</span><span class="builtintype" id="8053413">int</span><span class="op" id="8053416">{</span><span class="num" id="8053417">11</span><span class="op" id="8053419">,</span>&nbsp;<span class="num" id="8053421">22</span><span class="op" id="8053423">,</span>&nbsp;<span class="num" id="8053425">33</span><span class="op" id="8053427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053430">dt</span><span class="op" id="8053432">.</span><span class="ident" id="8053433">S</span>&nbsp;<span class="op" id="8053435">=</span>&nbsp;<span class="op" id="8053437">[</span><span class="op" id="8053438">]</span><span class="builtintype" id="8053439">string</span><span class="op" id="8053445">{</span><span class="string" id="8053446">&#34;hi&#34;</span><span class="op" id="8053450">,</span>&nbsp;<span class="string" id="8053452">&#34;joe&#34;</span><span class="op" id="8053457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8053460">return</span>&nbsp;<span class="ident" id="8053467">dt</span><br>
<span class="lineno"></span><span class="op" id="8053470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="keyword" id="8053473">func</span>&nbsp;<span class="ident" id="8053478">TestDebugStruct</span><span class="op" id="8053493">(</span><span class="ident" id="8053494">t</span>&nbsp;<span class="op" id="8053496">*</span><span class="ident" id="8053497">testing</span><span class="op" id="8053504">.</span><span class="ident" id="8053505">T</span><span class="op" id="8053506">)</span>&nbsp;<span class="op" id="8053508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8053511">if</span>&nbsp;<span class="ident" id="8053514">debugFunc</span>&nbsp;<span class="op" id="8053524">==</span>&nbsp;<span class="ident" id="8053527">nil</span>&nbsp;<span class="op" id="8053531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8053535">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053546">Register</span><span class="op" id="8053554">(</span><span class="ident" id="8053555">OnTheFly</span><span class="op" id="8053563">{</span><span class="op" id="8053564">}</span><span class="op" id="8053565">)</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053568">dt</span>&nbsp;<span class="op" id="8053571">:=</span>&nbsp;<span class="ident" id="8053574">newDT</span><span class="op" id="8053579">(</span><span class="op" id="8053580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053583">b</span>&nbsp;<span class="op" id="8053585">:=</span>&nbsp;<span class="builtinfunc" id="8053588">new</span><span class="op" id="8053591">(</span><span class="ident" id="8053592">bytes</span><span class="op" id="8053597">.</span><span class="ident" id="8053598">Buffer</span><span class="op" id="8053604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053607">err</span>&nbsp;<span class="op" id="8053611">:=</span>&nbsp;<span class="ident" id="8053614">NewEncoder</span><span class="op" id="8053624">(</span><span class="ident" id="8053625">b</span><span class="op" id="8053626">)</span><span class="op" id="8053627">.</span><span class="ident" id="8053628">Encode</span><span class="op" id="8053634">(</span><span class="ident" id="8053635">dt</span><span class="op" id="8053637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8053640">if</span>&nbsp;<span class="ident" id="8053643">err</span>&nbsp;<span class="op" id="8053647">!=</span>&nbsp;<span class="ident" id="8053650">nil</span>&nbsp;<span class="op" id="8053654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053658">t</span><span class="op" id="8053659">.</span><span class="ident" id="8053660">Fatal</span><span class="op" id="8053665">(</span><span class="string" id="8053666">&#34;encode:&#34;</span><span class="op" id="8053675">,</span>&nbsp;<span class="ident" id="8053677">err</span><span class="op" id="8053680">)</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053686">debugBuffer</span>&nbsp;<span class="op" id="8053698">:=</span>&nbsp;<span class="ident" id="8053701">bytes</span><span class="op" id="8053706">.</span><span class="ident" id="8053707">NewBuffer</span><span class="op" id="8053716">(</span><span class="ident" id="8053717">b</span><span class="op" id="8053718">.</span><span class="ident" id="8053719">Bytes</span><span class="op" id="8053724">(</span><span class="op" id="8053725">)</span><span class="op" id="8053726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053729">dt2</span>&nbsp;<span class="op" id="8053733">:=</span>&nbsp;<span class="op" id="8053736">&amp;</span><span class="ident" id="8053737">DT</span><span class="op" id="8053739">{</span><span class="op" id="8053740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053743">err</span>&nbsp;<span class="op" id="8053747">=</span>&nbsp;<span class="ident" id="8053749">NewDecoder</span><span class="op" id="8053759">(</span><span class="ident" id="8053760">b</span><span class="op" id="8053761">)</span><span class="op" id="8053762">.</span><span class="ident" id="8053763">Decode</span><span class="op" id="8053769">(</span><span class="op" id="8053770">&amp;</span><span class="ident" id="8053771">dt2</span><span class="op" id="8053774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8053777">if</span>&nbsp;<span class="ident" id="8053780">err</span>&nbsp;<span class="op" id="8053784">!=</span>&nbsp;<span class="ident" id="8053787">nil</span>&nbsp;<span class="op" id="8053791">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053795">t</span><span class="op" id="8053796">.</span><span class="ident" id="8053797">Error</span><span class="op" id="8053802">(</span><span class="string" id="8053803">&#34;decode:&#34;</span><span class="op" id="8053812">,</span>&nbsp;<span class="ident" id="8053814">err</span><span class="op" id="8053817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053823">debugFunc</span><span class="op" id="8053832">(</span><span class="ident" id="8053833">debugBuffer</span><span class="op" id="8053844">)</span><br>
<span class="lineno"></span><span class="op" id="8053846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1370</span><span class="keyword" id="8053849">func</span>&nbsp;<span class="ident" id="8053854">encFuzzDec</span><span class="op" id="8053864">(</span><span class="ident" id="8053865">rng</span>&nbsp;<span class="op" id="8053869">*</span><span class="ident" id="8053870">rand</span><span class="op" id="8053874">.</span><span class="ident" id="8053875">Rand</span><span class="op" id="8053879">,</span>&nbsp;<span class="ident" id="8053881">in</span>&nbsp;<span class="keyword" id="8053884">interface</span><span class="op" id="8053893">{</span><span class="op" id="8053894">}</span><span class="op" id="8053895">)</span>&nbsp;<span class="builtintype" id="8053897">error</span>&nbsp;<span class="op" id="8053903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053906">buf</span>&nbsp;<span class="op" id="8053910">:=</span>&nbsp;<span class="builtinfunc" id="8053913">new</span><span class="op" id="8053916">(</span><span class="ident" id="8053917">bytes</span><span class="op" id="8053922">.</span><span class="ident" id="8053923">Buffer</span><span class="op" id="8053929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053932">enc</span>&nbsp;<span class="op" id="8053936">:=</span>&nbsp;<span class="ident" id="8053939">NewEncoder</span><span class="op" id="8053949">(</span><span class="ident" id="8053950">buf</span><span class="op" id="8053953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8053956">if</span>&nbsp;<span class="ident" id="8053959">err</span>&nbsp;<span class="op" id="8053963">:=</span>&nbsp;<span class="ident" id="8053966">enc</span><span class="op" id="8053969">.</span><span class="ident" id="8053970">Encode</span><span class="op" id="8053976">(</span><span class="op" id="8053977">&amp;</span><span class="ident" id="8053978">in</span><span class="op" id="8053980">)</span><span class="op" id="8053981">;</span>&nbsp;<span class="ident" id="8053983">err</span>&nbsp;<span class="op" id="8053987">!=</span>&nbsp;<span class="ident" id="8053990">nil</span>&nbsp;<span class="op" id="8053994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8053998">return</span>&nbsp;<span class="ident" id="8054005">err</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054014">b</span>&nbsp;<span class="op" id="8054016">:=</span>&nbsp;<span class="ident" id="8054019">buf</span><span class="op" id="8054022">.</span><span class="ident" id="8054023">Bytes</span><span class="op" id="8054028">(</span><span class="op" id="8054029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054032">for</span>&nbsp;<span class="ident" id="8054036">i</span><span class="op" id="8054037">,</span>&nbsp;<span class="ident" id="8054039">bi</span>&nbsp;<span class="op" id="8054042">:=</span>&nbsp;<span class="keyword" id="8054045">range</span>&nbsp;<span class="ident" id="8054051">b</span>&nbsp;<span class="op" id="8054053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054057">if</span>&nbsp;<span class="ident" id="8054060">rng</span><span class="op" id="8054063">.</span><span class="ident" id="8054064">Intn</span><span class="op" id="8054068">(</span><span class="num" id="8054069">10</span><span class="op" id="8054071">)</span>&nbsp;<span class="op" id="8054073">&lt;</span>&nbsp;<span class="num" id="8054075">3</span>&nbsp;<span class="op" id="8054077">{</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054082">b</span><span class="op" id="8054083">[</span><span class="ident" id="8054084">i</span><span class="op" id="8054085">]</span>&nbsp;<span class="op" id="8054087">=</span>&nbsp;<span class="ident" id="8054089">bi</span>&nbsp;<span class="op" id="8054092">+</span>&nbsp;<span class="builtintype" id="8054094">uint8</span><span class="op" id="8054099">(</span><span class="ident" id="8054100">rng</span><span class="op" id="8054103">.</span><span class="ident" id="8054104">Intn</span><span class="op" id="8054108">(</span><span class="num" id="8054109">256</span><span class="op" id="8054112">)</span><span class="op" id="8054113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054120">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054124">dec</span>&nbsp;<span class="op" id="8054128">:=</span>&nbsp;<span class="ident" id="8054131">NewDecoder</span><span class="op" id="8054141">(</span><span class="ident" id="8054142">buf</span><span class="op" id="8054145">)</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054148">var</span>&nbsp;<span class="ident" id="8054152">e</span>&nbsp;<span class="keyword" id="8054154">interface</span><span class="op" id="8054163">{</span><span class="op" id="8054164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054167">if</span>&nbsp;<span class="ident" id="8054170">err</span>&nbsp;<span class="op" id="8054174">:=</span>&nbsp;<span class="ident" id="8054177">dec</span><span class="op" id="8054180">.</span><span class="ident" id="8054181">Decode</span><span class="op" id="8054187">(</span><span class="op" id="8054188">&amp;</span><span class="ident" id="8054189">e</span><span class="op" id="8054190">)</span><span class="op" id="8054191">;</span>&nbsp;<span class="ident" id="8054193">err</span>&nbsp;<span class="op" id="8054197">!=</span>&nbsp;<span class="ident" id="8054200">nil</span>&nbsp;<span class="op" id="8054204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054208">return</span>&nbsp;<span class="ident" id="8054215">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054223">return</span>&nbsp;<span class="ident" id="8054230">nil</span><br>
<span class="lineno">1390</span><span class="op" id="8054234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8054237">//&nbsp;This&nbsp;does&nbsp;some&nbsp;&#34;fuzz&nbsp;testing&#34;&nbsp;by&nbsp;attempting&nbsp;to&nbsp;decode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;random&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="8054322">func</span>&nbsp;<span class="ident" id="8054327">TestFuzz</span><span class="op" id="8054335">(</span><span class="ident" id="8054336">t</span>&nbsp;<span class="op" id="8054338">*</span><span class="ident" id="8054339">testing</span><span class="op" id="8054346">.</span><span class="ident" id="8054347">T</span><span class="op" id="8054348">)</span>&nbsp;<span class="op" id="8054350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054353">if</span>&nbsp;<span class="op" id="8054356">!</span><span class="op" id="8054357">*</span><span class="ident" id="8054358">doFuzzTests</span>&nbsp;<span class="op" id="8054370">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054374">t</span><span class="op" id="8054375">.</span><span class="ident" id="8054376">Logf</span><span class="op" id="8054380">(</span><span class="string" id="8054381">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8054421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054425">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8054437">//&nbsp;all&nbsp;possible&nbsp;inputs</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054461">input</span>&nbsp;<span class="op" id="8054467">:=</span>&nbsp;<span class="op" id="8054470">[</span><span class="op" id="8054471">]</span><span class="keyword" id="8054472">interface</span><span class="op" id="8054481">{</span><span class="op" id="8054482">}</span><span class="op" id="8054483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8054487">new</span><span class="op" id="8054490">(</span><span class="builtintype" id="8054491">int</span><span class="op" id="8054494">)</span><span class="op" id="8054495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8054499">new</span><span class="op" id="8054502">(</span><span class="builtintype" id="8054503">float32</span><span class="op" id="8054510">)</span><span class="op" id="8054511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8054515">new</span><span class="op" id="8054518">(</span><span class="builtintype" id="8054519">float64</span><span class="op" id="8054526">)</span><span class="op" id="8054527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8054531">new</span><span class="op" id="8054534">(</span><span class="builtintype" id="8054535">complex128</span><span class="op" id="8054545">)</span><span class="op" id="8054546">,</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054550">&amp;</span><span class="ident" id="8054551">ByteStruct</span><span class="op" id="8054561">{</span><span class="num" id="8054562">255</span><span class="op" id="8054565">}</span><span class="op" id="8054566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054570">&amp;</span><span class="ident" id="8054571">ArrayStruct</span><span class="op" id="8054582">{</span><span class="op" id="8054583">}</span><span class="op" id="8054584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054588">&amp;</span><span class="ident" id="8054589">StringStruct</span><span class="op" id="8054601">{</span><span class="string" id="8054602">&#34;hello&#34;</span><span class="op" id="8054609">}</span><span class="op" id="8054610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054614">&amp;</span><span class="ident" id="8054615">GobTest1</span><span class="op" id="8054623">{</span><span class="num" id="8054624">0</span><span class="op" id="8054625">,</span>&nbsp;<span class="op" id="8054627">&amp;</span><span class="ident" id="8054628">StringStruct</span><span class="op" id="8054640">{</span><span class="string" id="8054641">&#34;hello&#34;</span><span class="op" id="8054648">}</span><span class="op" id="8054649">}</span><span class="op" id="8054650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054653">}</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054656">testFuzz</span><span class="op" id="8054664">(</span><span class="ident" id="8054665">t</span><span class="op" id="8054666">,</span>&nbsp;<span class="ident" id="8054668">time</span><span class="op" id="8054672">.</span><span class="ident" id="8054673">Now</span><span class="op" id="8054676">(</span><span class="op" id="8054677">)</span><span class="op" id="8054678">.</span><span class="ident" id="8054679">UnixNano</span><span class="op" id="8054687">(</span><span class="op" id="8054688">)</span><span class="op" id="8054689">,</span>&nbsp;<span class="num" id="8054691">100</span><span class="op" id="8054694">,</span>&nbsp;<span class="ident" id="8054696">input</span><span class="op" id="8054701">...</span><span class="op" id="8054704">)</span><br>
<span class="lineno"></span><span class="op" id="8054706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8054709">func</span>&nbsp;<span class="ident" id="8054714">TestFuzzRegressions</span><span class="op" id="8054733">(</span><span class="ident" id="8054734">t</span>&nbsp;<span class="op" id="8054736">*</span><span class="ident" id="8054737">testing</span><span class="op" id="8054744">.</span><span class="ident" id="8054745">T</span><span class="op" id="8054746">)</span>&nbsp;<span class="op" id="8054748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054751">if</span>&nbsp;<span class="op" id="8054754">!</span><span class="op" id="8054755">*</span><span class="ident" id="8054756">doFuzzTests</span>&nbsp;<span class="op" id="8054768">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054772">t</span><span class="op" id="8054773">.</span><span class="ident" id="8054774">Logf</span><span class="op" id="8054778">(</span><span class="string" id="8054779">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8054819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8054823">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8054835">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;length&nbsp;~102&nbsp;GB.</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8054893">testFuzz</span><span class="op" id="8054901">(</span><span class="ident" id="8054902">t</span><span class="op" id="8054903">,</span>&nbsp;<span class="num" id="8054905">1328492090837718000</span><span class="op" id="8054924">,</span>&nbsp;<span class="num" id="8054926">100</span><span class="op" id="8054929">,</span>&nbsp;<span class="builtinfunc" id="8054931">new</span><span class="op" id="8054934">(</span><span class="builtintype" id="8054935">float32</span><span class="op" id="8054942">)</span><span class="op" id="8054943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8054946">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;1.6&nbsp;GB.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8054996">//&nbsp;Note:&nbsp;can&nbsp;take&nbsp;several&nbsp;minutes&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055039">testFuzz</span><span class="op" id="8055047">(</span><span class="ident" id="8055048">t</span><span class="op" id="8055049">,</span>&nbsp;<span class="num" id="8055051">1330522872628565000</span><span class="op" id="8055070">,</span>&nbsp;<span class="num" id="8055072">100</span><span class="op" id="8055075">,</span>&nbsp;<span class="builtinfunc" id="8055077">new</span><span class="op" id="8055080">(</span><span class="builtintype" id="8055081">int</span><span class="op" id="8055084">)</span><span class="op" id="8055085">)</span><br>
<span class="lineno"></span><span class="op" id="8055087">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="keyword" id="8055090">func</span>&nbsp;<span class="ident" id="8055095">testFuzz</span><span class="op" id="8055103">(</span><span class="ident" id="8055104">t</span>&nbsp;<span class="op" id="8055106">*</span><span class="ident" id="8055107">testing</span><span class="op" id="8055114">.</span><span class="ident" id="8055115">T</span><span class="op" id="8055116">,</span>&nbsp;<span class="ident" id="8055118">seed</span>&nbsp;<span class="ident" id="8055123">int64</span><span class="op" id="8055128">,</span>&nbsp;<span class="ident" id="8055130">n</span>&nbsp;<span class="builtintype" id="8055132">int</span><span class="op" id="8055135">,</span>&nbsp;<span class="ident" id="8055137">input</span>&nbsp;<span class="op" id="8055143">...</span><span class="keyword" id="8055146">interface</span><span class="op" id="8055155">{</span><span class="op" id="8055156">}</span><span class="op" id="8055157">)</span>&nbsp;<span class="op" id="8055159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055162">for</span>&nbsp;<span class="ident" id="8055166">_</span><span class="op" id="8055167">,</span>&nbsp;<span class="ident" id="8055169">e</span>&nbsp;<span class="op" id="8055171">:=</span>&nbsp;<span class="keyword" id="8055174">range</span>&nbsp;<span class="ident" id="8055180">input</span>&nbsp;<span class="op" id="8055186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055190">t</span><span class="op" id="8055191">.</span><span class="ident" id="8055192">Logf</span><span class="op" id="8055196">(</span><span class="string" id="8055197">&#34;seed=%d&nbsp;n=%d&nbsp;e=%T&#34;</span><span class="op" id="8055216">,</span>&nbsp;<span class="ident" id="8055218">seed</span><span class="op" id="8055222">,</span>&nbsp;<span class="ident" id="8055224">n</span><span class="op" id="8055225">,</span>&nbsp;<span class="ident" id="8055227">e</span><span class="op" id="8055228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055232">rng</span>&nbsp;<span class="op" id="8055236">:=</span>&nbsp;<span class="ident" id="8055239">rand</span><span class="op" id="8055243">.</span><span class="ident" id="8055244">New</span><span class="op" id="8055247">(</span><span class="ident" id="8055248">rand</span><span class="op" id="8055252">.</span><span class="ident" id="8055253">NewSource</span><span class="op" id="8055262">(</span><span class="ident" id="8055263">seed</span><span class="op" id="8055267">)</span><span class="op" id="8055268">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055272">for</span>&nbsp;<span class="ident" id="8055276">i</span>&nbsp;<span class="op" id="8055278">:=</span>&nbsp;<span class="num" id="8055281">0</span><span class="op" id="8055282">;</span>&nbsp;<span class="ident" id="8055284">i</span>&nbsp;<span class="op" id="8055286">&lt;</span>&nbsp;<span class="ident" id="8055288">n</span><span class="op" id="8055289">;</span>&nbsp;<span class="ident" id="8055291">i</span><span class="op" id="8055292">++</span>&nbsp;<span class="op" id="8055295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055300">encFuzzDec</span><span class="op" id="8055310">(</span><span class="ident" id="8055311">rng</span><span class="op" id="8055314">,</span>&nbsp;<span class="ident" id="8055316">e</span><span class="op" id="8055317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055324">}</span><br>
<span class="lineno"></span><span class="op" id="8055326">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="comment" id="8055329">//&nbsp;TestFuzzOneByte&nbsp;tries&nbsp;to&nbsp;decode&nbsp;corrupted&nbsp;input&nbsp;sequences</span><br>
<span class="lineno"></span><span class="comment" id="8055390">//&nbsp;and&nbsp;checks&nbsp;that&nbsp;no&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="8055426">func</span>&nbsp;<span class="ident" id="8055431">TestFuzzOneByte</span><span class="op" id="8055446">(</span><span class="ident" id="8055447">t</span>&nbsp;<span class="op" id="8055449">*</span><span class="ident" id="8055450">testing</span><span class="op" id="8055457">.</span><span class="ident" id="8055458">T</span><span class="op" id="8055459">)</span>&nbsp;<span class="op" id="8055461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055464">buf</span>&nbsp;<span class="op" id="8055468">:=</span>&nbsp;<span class="builtinfunc" id="8055471">new</span><span class="op" id="8055474">(</span><span class="ident" id="8055475">bytes</span><span class="op" id="8055480">.</span><span class="ident" id="8055481">Buffer</span><span class="op" id="8055487">)</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055490">Register</span><span class="op" id="8055498">(</span><span class="ident" id="8055499">OnTheFly</span><span class="op" id="8055507">{</span><span class="op" id="8055508">}</span><span class="op" id="8055509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055512">dt</span>&nbsp;<span class="op" id="8055515">:=</span>&nbsp;<span class="ident" id="8055518">newDT</span><span class="op" id="8055523">(</span><span class="op" id="8055524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055527">if</span>&nbsp;<span class="ident" id="8055530">err</span>&nbsp;<span class="op" id="8055534">:=</span>&nbsp;<span class="ident" id="8055537">NewEncoder</span><span class="op" id="8055547">(</span><span class="ident" id="8055548">buf</span><span class="op" id="8055551">)</span><span class="op" id="8055552">.</span><span class="ident" id="8055553">Encode</span><span class="op" id="8055559">(</span><span class="ident" id="8055560">dt</span><span class="op" id="8055562">)</span><span class="op" id="8055563">;</span>&nbsp;<span class="ident" id="8055565">err</span>&nbsp;<span class="op" id="8055569">!=</span>&nbsp;<span class="ident" id="8055572">nil</span>&nbsp;<span class="op" id="8055576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055580">t</span><span class="op" id="8055581">.</span><span class="ident" id="8055582">Fatal</span><span class="op" id="8055587">(</span><span class="ident" id="8055588">err</span><span class="op" id="8055591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055594">}</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055597">s</span>&nbsp;<span class="op" id="8055599">:=</span>&nbsp;<span class="ident" id="8055602">buf</span><span class="op" id="8055605">.</span><span class="ident" id="8055606">String</span><span class="op" id="8055612">(</span><span class="op" id="8055613">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055617">indices</span>&nbsp;<span class="op" id="8055625">:=</span>&nbsp;<span class="builtinfunc" id="8055628">make</span><span class="op" id="8055632">(</span><span class="op" id="8055633">[</span><span class="op" id="8055634">]</span><span class="builtintype" id="8055635">int</span><span class="op" id="8055638">,</span>&nbsp;<span class="num" id="8055640">0</span><span class="op" id="8055641">,</span>&nbsp;<span class="builtinfunc" id="8055643">len</span><span class="op" id="8055646">(</span><span class="ident" id="8055647">s</span><span class="op" id="8055648">)</span><span class="op" id="8055649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055652">for</span>&nbsp;<span class="ident" id="8055656">i</span>&nbsp;<span class="op" id="8055658">:=</span>&nbsp;<span class="num" id="8055661">0</span><span class="op" id="8055662">;</span>&nbsp;<span class="ident" id="8055664">i</span>&nbsp;<span class="op" id="8055666">&lt;</span>&nbsp;<span class="builtinfunc" id="8055668">len</span><span class="op" id="8055671">(</span><span class="ident" id="8055672">s</span><span class="op" id="8055673">)</span><span class="op" id="8055674">;</span>&nbsp;<span class="ident" id="8055676">i</span><span class="op" id="8055677">++</span>&nbsp;<span class="op" id="8055680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055684">switch</span>&nbsp;<span class="ident" id="8055691">i</span>&nbsp;<span class="op" id="8055693">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055697">case</span>&nbsp;<span class="num" id="8055702">14</span><span class="op" id="8055704">,</span>&nbsp;<span class="num" id="8055706">167</span><span class="op" id="8055709">,</span>&nbsp;<span class="num" id="8055711">231</span><span class="op" id="8055714">,</span>&nbsp;<span class="num" id="8055716">265</span><span class="op" id="8055719">:</span>&nbsp;<span class="comment" id="8055721">//&nbsp;a&nbsp;slice&nbsp;length,&nbsp;corruptions&nbsp;are&nbsp;not&nbsp;handled&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055776">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055791">indices</span>&nbsp;<span class="op" id="8055799">=</span>&nbsp;<span class="builtinfunc" id="8055801">append</span><span class="op" id="8055807">(</span><span class="ident" id="8055808">indices</span><span class="op" id="8055815">,</span>&nbsp;<span class="ident" id="8055817">i</span><span class="op" id="8055818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055821">}</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055824">if</span>&nbsp;<span class="ident" id="8055827">testing</span><span class="op" id="8055834">.</span><span class="ident" id="8055835">Short</span><span class="op" id="8055840">(</span><span class="op" id="8055841">)</span>&nbsp;<span class="op" id="8055843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055847">indices</span>&nbsp;<span class="op" id="8055855">=</span>&nbsp;<span class="op" id="8055857">[</span><span class="op" id="8055858">]</span><span class="builtintype" id="8055859">int</span><span class="op" id="8055862">{</span><span class="num" id="8055863">1</span><span class="op" id="8055864">,</span>&nbsp;<span class="num" id="8055866">111</span><span class="op" id="8055869">,</span>&nbsp;<span class="num" id="8055871">178</span><span class="op" id="8055874">}</span>&nbsp;<span class="comment" id="8055876">//&nbsp;known&nbsp;fixed&nbsp;panics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055902">for</span>&nbsp;<span class="ident" id="8055906">_</span><span class="op" id="8055907">,</span>&nbsp;<span class="ident" id="8055909">i</span>&nbsp;<span class="op" id="8055911">:=</span>&nbsp;<span class="keyword" id="8055914">range</span>&nbsp;<span class="ident" id="8055920">indices</span>&nbsp;<span class="op" id="8055928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055932">for</span>&nbsp;<span class="ident" id="8055936">j</span>&nbsp;<span class="op" id="8055938">:=</span>&nbsp;<span class="num" id="8055941">0</span><span class="op" id="8055942">;</span>&nbsp;<span class="ident" id="8055944">j</span>&nbsp;<span class="op" id="8055946">&lt;</span>&nbsp;<span class="num" id="8055948">256</span><span class="op" id="8055951">;</span>&nbsp;<span class="ident" id="8055953">j</span>&nbsp;<span class="op" id="8055955">+=</span>&nbsp;<span class="num" id="8055958">3</span>&nbsp;<span class="op" id="8055960">{</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055965">b</span>&nbsp;<span class="op" id="8055967">:=</span>&nbsp;<span class="op" id="8055970">[</span><span class="op" id="8055971">]</span><span class="builtintype" id="8055972">byte</span><span class="op" id="8055976">(</span><span class="ident" id="8055977">s</span><span class="op" id="8055978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055983">b</span><span class="op" id="8055984">[</span><span class="ident" id="8055985">i</span><span class="op" id="8055986">]</span>&nbsp;<span class="op" id="8055988">^=</span>&nbsp;<span class="builtintype" id="8055991">byte</span><span class="op" id="8055995">(</span><span class="ident" id="8055996">j</span><span class="op" id="8055997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056002">var</span>&nbsp;<span class="ident" id="8056006">e</span>&nbsp;<span class="ident" id="8056008">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056014">func</span><span class="op" id="8056018">(</span><span class="op" id="8056019">)</span>&nbsp;<span class="op" id="8056021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056027">defer</span>&nbsp;<span class="keyword" id="8056033">func</span><span class="op" id="8056037">(</span><span class="op" id="8056038">)</span>&nbsp;<span class="op" id="8056040">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056047">if</span>&nbsp;<span class="ident" id="8056050">p</span>&nbsp;<span class="op" id="8056052">:=</span>&nbsp;<span class="builtinfunc" id="8056055">recover</span><span class="op" id="8056062">(</span><span class="op" id="8056063">)</span><span class="op" id="8056064">;</span>&nbsp;<span class="ident" id="8056066">p</span>&nbsp;<span class="op" id="8056068">!=</span>&nbsp;<span class="ident" id="8056071">nil</span>&nbsp;<span class="op" id="8056075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056083">t</span><span class="op" id="8056084">.</span><span class="ident" id="8056085">Errorf</span><span class="op" id="8056091">(</span><span class="string" id="8056092">&#34;crash&nbsp;for&nbsp;b[%d]&nbsp;^=&nbsp;0x%x&#34;</span><span class="op" id="8056117">,</span>&nbsp;<span class="ident" id="8056119">i</span><span class="op" id="8056120">,</span>&nbsp;<span class="ident" id="8056122">j</span><span class="op" id="8056123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8056131">panic</span><span class="op" id="8056136">(</span><span class="ident" id="8056137">p</span><span class="op" id="8056138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056151">}</span><span class="op" id="8056152">(</span><span class="op" id="8056153">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056159">err</span>&nbsp;<span class="op" id="8056163">:=</span>&nbsp;<span class="ident" id="8056166">NewDecoder</span><span class="op" id="8056176">(</span><span class="ident" id="8056177">bytes</span><span class="op" id="8056182">.</span><span class="ident" id="8056183">NewReader</span><span class="op" id="8056192">(</span><span class="ident" id="8056193">b</span><span class="op" id="8056194">)</span><span class="op" id="8056195">)</span><span class="op" id="8056196">.</span><span class="ident" id="8056197">Decode</span><span class="op" id="8056203">(</span><span class="op" id="8056204">&amp;</span><span class="ident" id="8056205">e</span><span class="op" id="8056206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056212">_</span>&nbsp;<span class="op" id="8056214">=</span>&nbsp;<span class="ident" id="8056216">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056223">}</span><span class="op" id="8056224">(</span><span class="op" id="8056225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056232">}</span><br>
<span class="lineno">1475</span><span class="op" id="8056234">}</span>
</div>
</body>
</html>
