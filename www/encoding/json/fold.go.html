<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4779013">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4779068">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4779122">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4779173">package</span>&nbsp;<span class="ident" id="4779181">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4779187">import</span>&nbsp;<span class="op" id="4779194">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4779197">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4779206">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="4779221">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4779224">const</span>&nbsp;<span class="op" id="4779230">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4779233">caseMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4779246">=</span>&nbsp;<span class="op" id="4779248">^</span><span class="builtintype" id="4779249">byte</span><span class="op" id="4779253">(</span><span class="num" id="4779254">0x20</span><span class="op" id="4779258">)</span>&nbsp;<span class="comment" id="4779260">//&nbsp;Mask&nbsp;to&nbsp;ignore&nbsp;case&nbsp;in&nbsp;ASCII.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4779294">kelvin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4779307">=</span>&nbsp;<span class="string" id="4779309">&#39;\u212a&#39;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4779319">smallLongEss</span>&nbsp;<span class="op" id="4779332">=</span>&nbsp;<span class="string" id="4779334">&#39;\u017f&#39;</span><br>
<span class="lineno"></span><span class="op" id="4779343">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4779346">//&nbsp;foldFunc&nbsp;returns&nbsp;one&nbsp;of&nbsp;four&nbsp;different&nbsp;case&nbsp;folding&nbsp;equivalence</span><br>
<span class="lineno"></span><span class="comment" id="4779413">//&nbsp;functions,&nbsp;from&nbsp;most&nbsp;general&nbsp;(and&nbsp;slow)&nbsp;to&nbsp;fastest:</span><br>
<span class="lineno">20</span><span class="comment" id="4779468">//</span><br>
<span class="lineno"></span><span class="comment" id="4779471">//&nbsp;1)&nbsp;bytes.EqualFold,&nbsp;if&nbsp;the&nbsp;key&nbsp;s&nbsp;contains&nbsp;any&nbsp;non-ASCII&nbsp;UTF-8</span><br>
<span class="lineno"></span><span class="comment" id="4779536">//&nbsp;2)&nbsp;equalFoldRight,&nbsp;if&nbsp;s&nbsp;contains&nbsp;special&nbsp;folding&nbsp;ASCII&nbsp;(&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;&#39;S&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="4779615">//&nbsp;3)&nbsp;asciiEqualFold,&nbsp;no&nbsp;special,&nbsp;but&nbsp;includes&nbsp;non-letters&nbsp;(including&nbsp;_)</span><br>
<span class="lineno"></span><span class="comment" id="4779688">//&nbsp;4)&nbsp;simpleLetterEqualFold,&nbsp;no&nbsp;specials,&nbsp;no&nbsp;non-letters.</span><br>
<span class="lineno">25</span><span class="comment" id="4779746">//</span><br>
<span class="lineno"></span><span class="comment" id="4779749">//&nbsp;The&nbsp;letters&nbsp;S&nbsp;and&nbsp;K&nbsp;are&nbsp;special&nbsp;because&nbsp;they&nbsp;map&nbsp;to&nbsp;3&nbsp;runes,&nbsp;not&nbsp;just&nbsp;2:</span><br>
<span class="lineno"></span><span class="comment" id="4779825">//&nbsp;&nbsp;*&nbsp;S&nbsp;maps&nbsp;to&nbsp;s&nbsp;and&nbsp;to&nbsp;U+017F&nbsp;&#39;ſ&#39;&nbsp;Latin&nbsp;small&nbsp;letter&nbsp;long&nbsp;s</span><br>
<span class="lineno"></span><span class="comment" id="4779888">//&nbsp;&nbsp;*&nbsp;k&nbsp;maps&nbsp;to&nbsp;K&nbsp;and&nbsp;to&nbsp;U+212A&nbsp;&#39;K&#39;&nbsp;Kelvin&nbsp;sign</span><br>
<span class="lineno"></span><span class="comment" id="4779938">//&nbsp;See&nbsp;http://play.golang.org/p/tTxjOc0OGo</span><br>
<span class="lineno">30</span><span class="comment" id="4779981">//</span><br>
<span class="lineno"></span><span class="comment" id="4779984">//&nbsp;The&nbsp;returned&nbsp;function&nbsp;is&nbsp;specialized&nbsp;for&nbsp;matching&nbsp;against&nbsp;s&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4780051">//&nbsp;should&nbsp;only&nbsp;be&nbsp;given&nbsp;s.&nbsp;It&#39;s&nbsp;not&nbsp;curried&nbsp;for&nbsp;performance&nbsp;reasons.</span><br>
<span class="lineno"></span><span class="keyword" id="4780120">func</span>&nbsp;<span class="ident" id="4780125">foldFunc</span><span class="op" id="4780133">(</span><span class="ident" id="4780134">s</span>&nbsp;<span class="op" id="4780136">[</span><span class="op" id="4780137">]</span><span class="builtintype" id="4780138">byte</span><span class="op" id="4780142">)</span>&nbsp;<span class="keyword" id="4780144">func</span><span class="op" id="4780148">(</span><span class="ident" id="4780149">s</span><span class="op" id="4780150">,</span>&nbsp;<span class="ident" id="4780152">t</span>&nbsp;<span class="op" id="4780154">[</span><span class="op" id="4780155">]</span><span class="builtintype" id="4780156">byte</span><span class="op" id="4780160">)</span>&nbsp;<span class="builtintype" id="4780162">bool</span>&nbsp;<span class="op" id="4780167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4780170">nonLetter</span>&nbsp;<span class="op" id="4780180">:=</span>&nbsp;<span class="builtintype" id="4780183">false</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4780190">special</span>&nbsp;<span class="op" id="4780198">:=</span>&nbsp;<span class="builtintype" id="4780201">false</span>&nbsp;<span class="comment" id="4780207">//&nbsp;special&nbsp;letter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780226">for</span>&nbsp;<span class="ident" id="4780230">_</span><span class="op" id="4780231">,</span>&nbsp;<span class="ident" id="4780233">b</span>&nbsp;<span class="op" id="4780235">:=</span>&nbsp;<span class="keyword" id="4780238">range</span>&nbsp;<span class="ident" id="4780244"><a href="/encoding/json/fold.go.html#4780134">s</a></span>&nbsp;<span class="op" id="4780246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780250">if</span>&nbsp;<span class="ident" id="4780253"><a href="/encoding/json/fold.go.html#4780233">b</a></span>&nbsp;<span class="op" id="4780255">&gt;=</span>&nbsp;<span class="ident" id="4780258"><a href="/encoding/json/fold.go.html#4779206">utf8</a></span><span class="op" id="4780262">.</span><span class="ident" id="4780263">RuneSelf</span>&nbsp;<span class="op" id="4780272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780277">return</span>&nbsp;<span class="ident" id="4780284"><a href="/encoding/json/fold.go.html#4779197">bytes</a></span><span class="op" id="4780289">.</span><span class="ident" id="4780290">EqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4780302">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4780306">upper</span>&nbsp;<span class="op" id="4780312">:=</span>&nbsp;<span class="ident" id="4780315"><a href="/encoding/json/fold.go.html#4780233">b</a></span>&nbsp;<span class="op" id="4780317">&amp;</span>&nbsp;<span class="ident" id="4780319"><a href="/encoding/json/fold.go.html#4779233">caseMask</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780330">if</span>&nbsp;<span class="ident" id="4780333"><a href="/encoding/json/fold.go.html#4780306">upper</a></span>&nbsp;<span class="op" id="4780339">&lt;</span>&nbsp;<span class="string" id="4780341">&#39;A&#39;</span>&nbsp;<span class="op" id="4780345">||</span>&nbsp;<span class="ident" id="4780348"><a href="/encoding/json/fold.go.html#4780306">upper</a></span>&nbsp;<span class="op" id="4780354">&gt;</span>&nbsp;<span class="string" id="4780356">&#39;Z&#39;</span>&nbsp;<span class="op" id="4780360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4780365"><a href="/encoding/json/fold.go.html#4780170">nonLetter</a></span>&nbsp;<span class="op" id="4780375">=</span>&nbsp;<span class="builtintype" id="4780377">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4780384">}</span>&nbsp;<span class="keyword" id="4780386">else</span>&nbsp;<span class="keyword" id="4780391">if</span>&nbsp;<span class="ident" id="4780394"><a href="/encoding/json/fold.go.html#4780306">upper</a></span>&nbsp;<span class="op" id="4780400">==</span>&nbsp;<span class="string" id="4780403">&#39;K&#39;</span>&nbsp;<span class="op" id="4780407">||</span>&nbsp;<span class="ident" id="4780410"><a href="/encoding/json/fold.go.html#4780306">upper</a></span>&nbsp;<span class="op" id="4780416">==</span>&nbsp;<span class="string" id="4780419">&#39;S&#39;</span>&nbsp;<span class="op" id="4780423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4780428">//&nbsp;See&nbsp;above&nbsp;for&nbsp;why&nbsp;these&nbsp;letters&nbsp;are&nbsp;special.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4780479"><a href="/encoding/json/fold.go.html#4780190">special</a></span>&nbsp;<span class="op" id="4780487">=</span>&nbsp;<span class="builtintype" id="4780489">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4780496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4780499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780502">if</span>&nbsp;<span class="ident" id="4780505"><a href="/encoding/json/fold.go.html#4780190">special</a></span>&nbsp;<span class="op" id="4780513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780517">return</span>&nbsp;<span class="ident" id="4780524"><a href="/encoding/json/fold.go.html#4780855">equalFoldRight</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4780540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780543">if</span>&nbsp;<span class="ident" id="4780546"><a href="/encoding/json/fold.go.html#4780170">nonLetter</a></span>&nbsp;<span class="op" id="4780556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780560">return</span>&nbsp;<span class="ident" id="4780567"><a href="/encoding/json/fold.go.html#4781782">asciiEqualFold</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4780583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780586">return</span>&nbsp;<span class="ident" id="4780593"><a href="/encoding/json/fold.go.html#4782304">simpleLetterEqualFold</a></span><br>
<span class="lineno">55</span><span class="op" id="4780615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4780618">//&nbsp;equalFoldRight&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;when&nbsp;s&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4780685">//&nbsp;known&nbsp;to&nbsp;be&nbsp;all&nbsp;ASCII&nbsp;(including&nbsp;punctuation),&nbsp;but&nbsp;contains&nbsp;an&nbsp;&#39;s&#39;,</span><br>
<span class="lineno"></span><span class="comment" id="4780756">//&nbsp;&#39;S&#39;,&nbsp;&#39;k&#39;,&nbsp;or&nbsp;&#39;K&#39;,&nbsp;requiring&nbsp;a&nbsp;Unicode&nbsp;fold&nbsp;on&nbsp;the&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno">60</span><span class="comment" id="4780821">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="4780850">func</span>&nbsp;<span class="ident" id="4780855">equalFoldRight</span><span class="op" id="4780869">(</span><span class="ident" id="4780870">s</span><span class="op" id="4780871">,</span>&nbsp;<span class="ident" id="4780873">t</span>&nbsp;<span class="op" id="4780875">[</span><span class="op" id="4780876">]</span><span class="builtintype" id="4780877">byte</span><span class="op" id="4780881">)</span>&nbsp;<span class="builtintype" id="4780883">bool</span>&nbsp;<span class="op" id="4780888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780891">for</span>&nbsp;<span class="ident" id="4780895">_</span><span class="op" id="4780896">,</span>&nbsp;<span class="ident" id="4780898">sb</span>&nbsp;<span class="op" id="4780901">:=</span>&nbsp;<span class="keyword" id="4780904">range</span>&nbsp;<span class="ident" id="4780910"><a href="/encoding/json/fold.go.html#4780870">s</a></span>&nbsp;<span class="op" id="4780912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780916">if</span>&nbsp;<span class="builtinfunc" id="4780919">len</span><span class="op" id="4780922">(</span><span class="ident" id="4780923"><a href="/encoding/json/fold.go.html#4780873">t</a></span><span class="op" id="4780924">)</span>&nbsp;<span class="op" id="4780926">==</span>&nbsp;<span class="num" id="4780929">0</span>&nbsp;<span class="op" id="4780931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780936">return</span>&nbsp;<span class="builtintype" id="4780943">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4780951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4780955">tb</span>&nbsp;<span class="op" id="4780958">:=</span>&nbsp;<span class="ident" id="4780961"><a href="/encoding/json/fold.go.html#4780873">t</a></span><span class="op" id="4780962">[</span><span class="num" id="4780963">0</span><span class="op" id="4780964">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780968">if</span>&nbsp;<span class="ident" id="4780971"><a href="/encoding/json/fold.go.html#4780955">tb</a></span>&nbsp;<span class="op" id="4780974">&lt;</span>&nbsp;<span class="ident" id="4780976"><a href="/encoding/json/fold.go.html#4779206">utf8</a></span><span class="op" id="4780980">.</span><span class="ident" id="4780981">RuneSelf</span>&nbsp;<span class="op" id="4780990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4780995">if</span>&nbsp;<span class="ident" id="4780998"><a href="/encoding/json/fold.go.html#4780898">sb</a></span>&nbsp;<span class="op" id="4781001">!=</span>&nbsp;<span class="ident" id="4781004"><a href="/encoding/json/fold.go.html#4780955">tb</a></span>&nbsp;<span class="op" id="4781007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4781013">sbUpper</span>&nbsp;<span class="op" id="4781021">:=</span>&nbsp;<span class="ident" id="4781024"><a href="/encoding/json/fold.go.html#4780898">sb</a></span>&nbsp;<span class="op" id="4781027">&amp;</span>&nbsp;<span class="ident" id="4781029"><a href="/encoding/json/fold.go.html#4779233">caseMask</a></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781042">if</span>&nbsp;<span class="string" id="4781045">&#39;A&#39;</span>&nbsp;<span class="op" id="4781049">&lt;=</span>&nbsp;<span class="ident" id="4781052"><a href="/encoding/json/fold.go.html#4781013">sbUpper</a></span>&nbsp;<span class="op" id="4781060">&amp;&amp;</span>&nbsp;<span class="ident" id="4781063"><a href="/encoding/json/fold.go.html#4781013">sbUpper</a></span>&nbsp;<span class="op" id="4781071">&lt;=</span>&nbsp;<span class="string" id="4781074">&#39;Z&#39;</span>&nbsp;<span class="op" id="4781078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781085">if</span>&nbsp;<span class="ident" id="4781088"><a href="/encoding/json/fold.go.html#4781013">sbUpper</a></span>&nbsp;<span class="op" id="4781096">!=</span>&nbsp;<span class="ident" id="4781099"><a href="/encoding/json/fold.go.html#4780955">tb</a></span><span class="op" id="4781101">&amp;</span><span class="ident" id="4781102"><a href="/encoding/json/fold.go.html#4779233">caseMask</a></span>&nbsp;<span class="op" id="4781111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781119">return</span>&nbsp;<span class="builtintype" id="4781126">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781143">}</span>&nbsp;<span class="keyword" id="4781145">else</span>&nbsp;<span class="op" id="4781150">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781157">return</span>&nbsp;<span class="builtintype" id="4781164">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4781184"><a href="/encoding/json/fold.go.html#4780873">t</a></span>&nbsp;<span class="op" id="4781186">=</span>&nbsp;<span class="ident" id="4781188"><a href="/encoding/json/fold.go.html#4780873">t</a></span><span class="op" id="4781189">[</span><span class="num" id="4781190">1</span><span class="op" id="4781191">:</span><span class="op" id="4781192">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781197">continue</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4781212">//&nbsp;sb&nbsp;is&nbsp;ASCII&nbsp;and&nbsp;t&nbsp;is&nbsp;not.&nbsp;t&nbsp;must&nbsp;be&nbsp;either&nbsp;kelvin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4781267">//&nbsp;sign&nbsp;or&nbsp;long&nbsp;s;&nbsp;sb&nbsp;must&nbsp;be&nbsp;s,&nbsp;S,&nbsp;k,&nbsp;or&nbsp;K.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4781314">tr</span><span class="op" id="4781316">,</span>&nbsp;<span class="ident" id="4781318">size</span>&nbsp;<span class="op" id="4781323">:=</span>&nbsp;<span class="ident" id="4781326"><a href="/encoding/json/fold.go.html#4779206">utf8</a></span><span class="op" id="4781330">.</span><span class="ident" id="4781331">DecodeRune</span><span class="op" id="4781341">(</span><span class="ident" id="4781342"><a href="/encoding/json/fold.go.html#4780873">t</a></span><span class="op" id="4781343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781347">switch</span>&nbsp;<span class="ident" id="4781354"><a href="/encoding/json/fold.go.html#4780898">sb</a></span>&nbsp;<span class="op" id="4781357">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781361">case</span>&nbsp;<span class="string" id="4781366">&#39;s&#39;</span><span class="op" id="4781369">,</span>&nbsp;<span class="string" id="4781371">&#39;S&#39;</span><span class="op" id="4781374">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781379">if</span>&nbsp;<span class="ident" id="4781382"><a href="/encoding/json/fold.go.html#4781314">tr</a></span>&nbsp;<span class="op" id="4781385">!=</span>&nbsp;<span class="ident" id="4781388"><a href="/encoding/json/fold.go.html#4779319">smallLongEss</a></span>&nbsp;<span class="op" id="4781401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781407">return</span>&nbsp;<span class="builtintype" id="4781414">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781427">case</span>&nbsp;<span class="string" id="4781432">&#39;k&#39;</span><span class="op" id="4781435">,</span>&nbsp;<span class="string" id="4781437">&#39;K&#39;</span><span class="op" id="4781440">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781445">if</span>&nbsp;<span class="ident" id="4781448"><a href="/encoding/json/fold.go.html#4781314">tr</a></span>&nbsp;<span class="op" id="4781451">!=</span>&nbsp;<span class="ident" id="4781454"><a href="/encoding/json/fold.go.html#4779294">kelvin</a></span>&nbsp;<span class="op" id="4781461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781467">return</span>&nbsp;<span class="builtintype" id="4781474">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781487">default</span><span class="op" id="4781494">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781499">return</span>&nbsp;<span class="builtintype" id="4781506">false</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4781518"><a href="/encoding/json/fold.go.html#4780873">t</a></span>&nbsp;<span class="op" id="4781520">=</span>&nbsp;<span class="ident" id="4781522"><a href="/encoding/json/fold.go.html#4780873">t</a></span><span class="op" id="4781523">[</span><span class="ident" id="4781524"><a href="/encoding/json/fold.go.html#4781318">size</a></span><span class="op" id="4781528">:</span><span class="op" id="4781529">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781536">if</span>&nbsp;<span class="builtinfunc" id="4781539">len</span><span class="op" id="4781542">(</span><span class="ident" id="4781543"><a href="/encoding/json/fold.go.html#4780873">t</a></span><span class="op" id="4781544">)</span>&nbsp;<span class="op" id="4781546">&gt;</span>&nbsp;<span class="num" id="4781548">0</span>&nbsp;<span class="op" id="4781550">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781554">return</span>&nbsp;<span class="builtintype" id="4781561">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781571">return</span>&nbsp;<span class="builtintype" id="4781578">true</span><br>
<span class="lineno"></span><span class="op" id="4781583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4781586">//&nbsp;asciiEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for&nbsp;use&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="4781656">//&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;(but&nbsp;may&nbsp;contain&nbsp;non-letters)&nbsp;and&nbsp;contains&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="4781720">//&nbsp;special-folding&nbsp;letters.</span><br>
<span class="lineno"></span><span class="comment" id="4781748">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="4781777">func</span>&nbsp;<span class="ident" id="4781782">asciiEqualFold</span><span class="op" id="4781796">(</span><span class="ident" id="4781797">s</span><span class="op" id="4781798">,</span>&nbsp;<span class="ident" id="4781800">t</span>&nbsp;<span class="op" id="4781802">[</span><span class="op" id="4781803">]</span><span class="builtintype" id="4781804">byte</span><span class="op" id="4781808">)</span>&nbsp;<span class="builtintype" id="4781810">bool</span>&nbsp;<span class="op" id="4781815">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781818">if</span>&nbsp;<span class="builtinfunc" id="4781821">len</span><span class="op" id="4781824">(</span><span class="ident" id="4781825"><a href="/encoding/json/fold.go.html#4781797">s</a></span><span class="op" id="4781826">)</span>&nbsp;<span class="op" id="4781828">!=</span>&nbsp;<span class="builtinfunc" id="4781831">len</span><span class="op" id="4781834">(</span><span class="ident" id="4781835"><a href="/encoding/json/fold.go.html#4781800">t</a></span><span class="op" id="4781836">)</span>&nbsp;<span class="op" id="4781838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781842">return</span>&nbsp;<span class="builtintype" id="4781849">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781859">for</span>&nbsp;<span class="ident" id="4781863">i</span><span class="op" id="4781864">,</span>&nbsp;<span class="ident" id="4781866">sb</span>&nbsp;<span class="op" id="4781869">:=</span>&nbsp;<span class="keyword" id="4781872">range</span>&nbsp;<span class="ident" id="4781878"><a href="/encoding/json/fold.go.html#4781797">s</a></span>&nbsp;<span class="op" id="4781880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4781884">tb</span>&nbsp;<span class="op" id="4781887">:=</span>&nbsp;<span class="ident" id="4781890"><a href="/encoding/json/fold.go.html#4781800">t</a></span><span class="op" id="4781891">[</span><span class="ident" id="4781892"><a href="/encoding/json/fold.go.html#4781863">i</a></span><span class="op" id="4781893">]</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781897">if</span>&nbsp;<span class="ident" id="4781900"><a href="/encoding/json/fold.go.html#4781866">sb</a></span>&nbsp;<span class="op" id="4781903">==</span>&nbsp;<span class="ident" id="4781906"><a href="/encoding/json/fold.go.html#4781884">tb</a></span>&nbsp;<span class="op" id="4781909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781914">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4781925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781929">if</span>&nbsp;<span class="op" id="4781932">(</span><span class="string" id="4781933">&#39;a&#39;</span>&nbsp;<span class="op" id="4781937">&lt;=</span>&nbsp;<span class="ident" id="4781940"><a href="/encoding/json/fold.go.html#4781866">sb</a></span>&nbsp;<span class="op" id="4781943">&amp;&amp;</span>&nbsp;<span class="ident" id="4781946"><a href="/encoding/json/fold.go.html#4781866">sb</a></span>&nbsp;<span class="op" id="4781949">&lt;=</span>&nbsp;<span class="string" id="4781952">&#39;z&#39;</span><span class="op" id="4781955">)</span>&nbsp;<span class="op" id="4781957">||</span>&nbsp;<span class="op" id="4781960">(</span><span class="string" id="4781961">&#39;A&#39;</span>&nbsp;<span class="op" id="4781965">&lt;=</span>&nbsp;<span class="ident" id="4781968"><a href="/encoding/json/fold.go.html#4781866">sb</a></span>&nbsp;<span class="op" id="4781971">&amp;&amp;</span>&nbsp;<span class="ident" id="4781974"><a href="/encoding/json/fold.go.html#4781866">sb</a></span>&nbsp;<span class="op" id="4781977">&lt;=</span>&nbsp;<span class="string" id="4781980">&#39;Z&#39;</span><span class="op" id="4781983">)</span>&nbsp;<span class="op" id="4781985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4781990">if</span>&nbsp;<span class="ident" id="4781993"><a href="/encoding/json/fold.go.html#4781866">sb</a></span><span class="op" id="4781995">&amp;</span><span class="ident" id="4781996"><a href="/encoding/json/fold.go.html#4779233">caseMask</a></span>&nbsp;<span class="op" id="4782005">!=</span>&nbsp;<span class="ident" id="4782008"><a href="/encoding/json/fold.go.html#4781884">tb</a></span><span class="op" id="4782010">&amp;</span><span class="ident" id="4782011"><a href="/encoding/json/fold.go.html#4779233">caseMask</a></span>&nbsp;<span class="op" id="4782020">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4782026">return</span>&nbsp;<span class="builtintype" id="4782033">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4782042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4782046">}</span>&nbsp;<span class="keyword" id="4782048">else</span>&nbsp;<span class="op" id="4782053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4782058">return</span>&nbsp;<span class="builtintype" id="4782065">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4782073">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4782076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4782079">return</span>&nbsp;<span class="builtintype" id="4782086">true</span><br>
<span class="lineno"></span><span class="op" id="4782091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4782094">//&nbsp;simpleLetterEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for</span><br>
<span class="lineno">130</span><span class="comment" id="4782162">//&nbsp;use&nbsp;when&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;letters&nbsp;(no&nbsp;underscores,&nbsp;etc)&nbsp;and&nbsp;also</span><br>
<span class="lineno"></span><span class="comment" id="4782228">//&nbsp;doesn&#39;t&nbsp;contain&nbsp;&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;or&nbsp;&#39;S&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="4782270">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="4782299">func</span>&nbsp;<span class="ident" id="4782304">simpleLetterEqualFold</span><span class="op" id="4782325">(</span><span class="ident" id="4782326">s</span><span class="op" id="4782327">,</span>&nbsp;<span class="ident" id="4782329">t</span>&nbsp;<span class="op" id="4782331">[</span><span class="op" id="4782332">]</span><span class="builtintype" id="4782333">byte</span><span class="op" id="4782337">)</span>&nbsp;<span class="builtintype" id="4782339">bool</span>&nbsp;<span class="op" id="4782344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4782347">if</span>&nbsp;<span class="builtinfunc" id="4782350">len</span><span class="op" id="4782353">(</span><span class="ident" id="4782354"><a href="/encoding/json/fold.go.html#4782326">s</a></span><span class="op" id="4782355">)</span>&nbsp;<span class="op" id="4782357">!=</span>&nbsp;<span class="builtinfunc" id="4782360">len</span><span class="op" id="4782363">(</span><span class="ident" id="4782364"><a href="/encoding/json/fold.go.html#4782329">t</a></span><span class="op" id="4782365">)</span>&nbsp;<span class="op" id="4782367">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4782371">return</span>&nbsp;<span class="builtintype" id="4782378">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4782385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4782388">for</span>&nbsp;<span class="ident" id="4782392">i</span><span class="op" id="4782393">,</span>&nbsp;<span class="ident" id="4782395">b</span>&nbsp;<span class="op" id="4782397">:=</span>&nbsp;<span class="keyword" id="4782400">range</span>&nbsp;<span class="ident" id="4782406"><a href="/encoding/json/fold.go.html#4782326">s</a></span>&nbsp;<span class="op" id="4782408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4782412">if</span>&nbsp;<span class="ident" id="4782415"><a href="/encoding/json/fold.go.html#4782395">b</a></span><span class="op" id="4782416">&amp;</span><span class="ident" id="4782417"><a href="/encoding/json/fold.go.html#4779233">caseMask</a></span>&nbsp;<span class="op" id="4782426">!=</span>&nbsp;<span class="ident" id="4782429"><a href="/encoding/json/fold.go.html#4782329">t</a></span><span class="op" id="4782430">[</span><span class="ident" id="4782431"><a href="/encoding/json/fold.go.html#4782392">i</a></span><span class="op" id="4782432">]</span><span class="op" id="4782433">&amp;</span><span class="ident" id="4782434"><a href="/encoding/json/fold.go.html#4779233">caseMask</a></span>&nbsp;<span class="op" id="4782443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4782448">return</span>&nbsp;<span class="builtintype" id="4782455">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4782463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4782466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4782469">return</span>&nbsp;<span class="builtintype" id="4782476">true</span><br>
<span class="lineno"></span><span class="op" id="4782481">}</span>
</div>
</body>
</html>
