<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5826724">package</span>&nbsp;<span class="ident" id="5826732">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5826738">import</span>&nbsp;<span class="op" id="5826745">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5826748">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5826770">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5826773">func</span>&nbsp;<span class="ident" id="5826778">isLabelStart</span><span class="op" id="5826790">(</span><span class="ident" id="5826791">s</span>&nbsp;<span class="builtintype" id="5826793">string</span><span class="op" id="5826799">)</span>&nbsp;<span class="builtintype" id="5826801">bool</span>&nbsp;<span class="op" id="5826806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826809">return</span>&nbsp;<span class="builtinfunc" id="5826816">len</span><span class="op" id="5826819">(</span><span class="ident" id="5826820">s</span><span class="op" id="5826821">)</span>&nbsp;<span class="op" id="5826823">&gt;</span>&nbsp;<span class="num" id="5826825">0</span>&nbsp;<span class="op" id="5826827">&amp;&amp;</span>&nbsp;<span class="ident" id="5826830">s</span><span class="op" id="5826831">[</span><span class="num" id="5826832">0</span><span class="op" id="5826833">]</span>&nbsp;<span class="op" id="5826835">==</span>&nbsp;<span class="string" id="5826838">&#39;.&#39;</span><br>
<span class="lineno"></span><span class="op" id="5826842">}</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5826845">func</span>&nbsp;<span class="ident" id="5826850">isLabel</span><span class="op" id="5826857">(</span><span class="ident" id="5826858">s</span>&nbsp;<span class="builtintype" id="5826860">string</span><span class="op" id="5826866">)</span>&nbsp;<span class="builtintype" id="5826868">bool</span>&nbsp;<span class="op" id="5826873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826876">if</span>&nbsp;<span class="builtinfunc" id="5826879">len</span><span class="op" id="5826882">(</span><span class="ident" id="5826883">s</span><span class="op" id="5826884">)</span>&nbsp;<span class="op" id="5826886">&lt;=</span>&nbsp;<span class="num" id="5826889">1</span>&nbsp;<span class="op" id="5826891">||</span>&nbsp;<span class="ident" id="5826894">s</span><span class="op" id="5826895">[</span><span class="num" id="5826896">0</span><span class="op" id="5826897">]</span>&nbsp;<span class="op" id="5826899">!=</span>&nbsp;<span class="string" id="5826902">&#39;.&#39;</span>&nbsp;<span class="op" id="5826906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826910">return</span>&nbsp;<span class="ident" id="5826917">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5826924">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826928">for</span>&nbsp;<span class="ident" id="5826932">i</span><span class="op" id="5826933">,</span>&nbsp;<span class="ident" id="5826935">r</span>&nbsp;<span class="op" id="5826937">:=</span>&nbsp;<span class="keyword" id="5826940">range</span>&nbsp;<span class="ident" id="5826946">s</span><span class="op" id="5826947">[</span><span class="num" id="5826948">1</span><span class="op" id="5826949">:</span><span class="op" id="5826950">]</span>&nbsp;<span class="op" id="5826952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826956">if</span>&nbsp;<span class="ident" id="5826959">r</span>&nbsp;<span class="op" id="5826961">&gt;=</span>&nbsp;<span class="string" id="5826964">&#39;0&#39;</span>&nbsp;<span class="op" id="5826968">&amp;&amp;</span>&nbsp;<span class="ident" id="5826971">r</span>&nbsp;<span class="op" id="5826973">&lt;=</span>&nbsp;<span class="string" id="5826976">&#39;9&#39;</span>&nbsp;<span class="op" id="5826980">&amp;&amp;</span>&nbsp;<span class="ident" id="5826983">i</span>&nbsp;<span class="op" id="5826985">&gt;</span>&nbsp;<span class="num" id="5826987">0</span>&nbsp;<span class="op" id="5826989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826994">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827005">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827009">if</span>&nbsp;<span class="ident" id="5827012">r</span>&nbsp;<span class="op" id="5827014">&gt;=</span>&nbsp;<span class="string" id="5827017">&#39;a&#39;</span>&nbsp;<span class="op" id="5827021">&amp;&amp;</span>&nbsp;<span class="ident" id="5827024">r</span>&nbsp;<span class="op" id="5827026">&lt;=</span>&nbsp;<span class="string" id="5827029">&#39;z&#39;</span>&nbsp;<span class="op" id="5827033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827038">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827053">if</span>&nbsp;<span class="ident" id="5827056">r</span>&nbsp;<span class="op" id="5827058">&gt;=</span>&nbsp;<span class="string" id="5827061">&#39;A&#39;</span>&nbsp;<span class="op" id="5827065">&amp;&amp;</span>&nbsp;<span class="ident" id="5827068">r</span>&nbsp;<span class="op" id="5827070">&lt;=</span>&nbsp;<span class="string" id="5827073">&#39;Z&#39;</span>&nbsp;<span class="op" id="5827077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827082">continue</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827097">if</span>&nbsp;<span class="ident" id="5827100">r</span>&nbsp;<span class="op" id="5827102">==</span>&nbsp;<span class="string" id="5827105">&#39;_&#39;</span>&nbsp;<span class="op" id="5827109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827114">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827129">return</span>&nbsp;<span class="ident" id="5827136">false</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827146">return</span>&nbsp;<span class="ident" id="5827153">true</span><br>
<span class="lineno"></span><span class="op" id="5827158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5827161">func</span>&nbsp;<span class="ident" id="5827166">parseLabel</span><span class="op" id="5827176">(</span><span class="ident" id="5827177">p</span>&nbsp;<span class="op" id="5827179">*</span><span class="ident" id="5827180">parser</span><span class="op" id="5827186">,</span>&nbsp;<span class="ident" id="5827188">t</span>&nbsp;<span class="op" id="5827190">*</span><span class="ident" id="5827191">lex8</span><span class="op" id="5827195">.</span><span class="ident" id="5827196">Token</span><span class="op" id="5827201">)</span>&nbsp;<span class="builtintype" id="5827203">bool</span>&nbsp;<span class="op" id="5827208">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827211">if</span>&nbsp;<span class="ident" id="5827214">t</span><span class="op" id="5827215">.</span><span class="ident" id="5827216">Type</span>&nbsp;<span class="op" id="5827221">!=</span>&nbsp;<span class="ident" id="5827224">Operand</span>&nbsp;<span class="op" id="5827232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5827236">panic</span><span class="op" id="5827241">(</span><span class="string" id="5827242">&#34;not&nbsp;an&nbsp;operand&#34;</span><span class="op" id="5827258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827265">lab</span>&nbsp;<span class="op" id="5827269">:=</span>&nbsp;<span class="ident" id="5827272">t</span><span class="op" id="5827273">.</span><span class="ident" id="5827274">Lit</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827279">if</span>&nbsp;<span class="op" id="5827282">!</span><span class="ident" id="5827283">isLabelStart</span><span class="op" id="5827295">(</span><span class="ident" id="5827296">lab</span><span class="op" id="5827299">)</span>&nbsp;<span class="op" id="5827301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827305">return</span>&nbsp;<span class="ident" id="5827312">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827323">if</span>&nbsp;<span class="op" id="5827326">!</span><span class="ident" id="5827327">isLabel</span><span class="op" id="5827334">(</span><span class="ident" id="5827335">lab</span><span class="op" id="5827338">)</span>&nbsp;<span class="op" id="5827340">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827344">p</span><span class="op" id="5827345">.</span><span class="ident" id="5827346">err</span><span class="op" id="5827349">(</span><span class="ident" id="5827350">t</span><span class="op" id="5827351">.</span><span class="ident" id="5827352">Pos</span><span class="op" id="5827355">,</span>&nbsp;<span class="string" id="5827357">&#34;invalid&nbsp;label:&nbsp;%q&#34;</span><span class="op" id="5827376">,</span>&nbsp;<span class="ident" id="5827378">lab</span><span class="op" id="5827381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827388">return</span>&nbsp;<span class="ident" id="5827395">true</span><br>
<span class="lineno"></span><span class="op" id="5827400">}</span>
</div>
</body>
</html>
