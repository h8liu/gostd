<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/plan9obj</h2>
<ul>
<li><a href="/gostd/debug/plan9obj/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/plan9obj/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/plan9obj/plan9obj.go.html">plan9obj.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7682478">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7682534">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7682588">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7682639">package</span>&nbsp;<span class="ident" id="7682647">plan9obj</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7682657">import</span>&nbsp;<span class="op" id="7682664">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7682667">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7682678">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7682688">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7682691">type</span>&nbsp;<span class="ident" id="7682696">fileTest</span>&nbsp;<span class="keyword" id="7682705">struct</span>&nbsp;<span class="op" id="7682712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682715">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7682724">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682732">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7682741">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682753">sections</span>&nbsp;<span class="op" id="7682762">[</span><span class="op" id="7682763">]</span><span class="op" id="7682764">*</span><span class="ident" id="7682765">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="7682779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7682782">var</span>&nbsp;<span class="ident" id="7682786">fileTests</span>&nbsp;<span class="op" id="7682796">=</span>&nbsp;<span class="op" id="7682798">[</span><span class="op" id="7682799">]</span><span class="ident" id="7682800">fileTest</span><span class="op" id="7682808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682811">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7682815">&#34;testdata/386-plan9-exec&#34;</span><span class="op" id="7682840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682844">FileHeader</span><span class="op" id="7682854">{</span><span class="ident" id="7682855">Magic386</span><span class="op" id="7682863">,</span>&nbsp;<span class="num" id="7682865">0x324</span><span class="op" id="7682870">,</span>&nbsp;<span class="num" id="7682872">0x14</span><span class="op" id="7682876">,</span>&nbsp;<span class="num" id="7682878">4</span><span class="op" id="7682879">,</span>&nbsp;<span class="num" id="7682881">0x1000</span><span class="op" id="7682887">,</span>&nbsp;<span class="num" id="7682889">32</span><span class="op" id="7682891">}</span><span class="op" id="7682892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682896">[</span><span class="op" id="7682897">]</span><span class="op" id="7682898">*</span><span class="ident" id="7682899">SectionHeader</span><span class="op" id="7682912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682917">{</span><span class="string" id="7682918">&#34;text&#34;</span><span class="op" id="7682924">,</span>&nbsp;<span class="num" id="7682926">0x4c5f</span><span class="op" id="7682932">,</span>&nbsp;<span class="num" id="7682934">0x20</span><span class="op" id="7682938">}</span><span class="op" id="7682939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682944">{</span><span class="string" id="7682945">&#34;data&#34;</span><span class="op" id="7682951">,</span>&nbsp;<span class="num" id="7682953">0x94c</span><span class="op" id="7682958">,</span>&nbsp;<span class="num" id="7682960">0x4c7f</span><span class="op" id="7682966">}</span><span class="op" id="7682967">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682972">{</span><span class="string" id="7682973">&#34;syms&#34;</span><span class="op" id="7682979">,</span>&nbsp;<span class="num" id="7682981">0x2c2b</span><span class="op" id="7682987">,</span>&nbsp;<span class="num" id="7682989">0x55cb</span><span class="op" id="7682995">}</span><span class="op" id="7682996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683001">{</span><span class="string" id="7683002">&#34;spsz&#34;</span><span class="op" id="7683008">,</span>&nbsp;<span class="num" id="7683010">0x0</span><span class="op" id="7683013">,</span>&nbsp;<span class="num" id="7683015">0x81f6</span><span class="op" id="7683021">}</span><span class="op" id="7683022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683027">{</span><span class="string" id="7683028">&#34;pcsz&#34;</span><span class="op" id="7683034">,</span>&nbsp;<span class="num" id="7683036">0xf7a</span><span class="op" id="7683041">,</span>&nbsp;<span class="num" id="7683043">0x81f6</span><span class="op" id="7683049">}</span><span class="op" id="7683050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683054">}</span><span class="op" id="7683055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683058">}</span><span class="op" id="7683059">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7683066">&#34;testdata/amd64-plan9-exec&#34;</span><span class="op" id="7683093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683097">FileHeader</span><span class="op" id="7683107">{</span><span class="ident" id="7683108">MagicAMD64</span><span class="op" id="7683118">,</span>&nbsp;<span class="num" id="7683120">0x618</span><span class="op" id="7683125">,</span>&nbsp;<span class="num" id="7683127">0x13</span><span class="op" id="7683131">,</span>&nbsp;<span class="num" id="7683133">8</span><span class="op" id="7683134">,</span>&nbsp;<span class="num" id="7683136">0x200000</span><span class="op" id="7683144">,</span>&nbsp;<span class="num" id="7683146">40</span><span class="op" id="7683148">}</span><span class="op" id="7683149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683153">[</span><span class="op" id="7683154">]</span><span class="op" id="7683155">*</span><span class="ident" id="7683156">SectionHeader</span><span class="op" id="7683169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683174">{</span><span class="string" id="7683175">&#34;text&#34;</span><span class="op" id="7683181">,</span>&nbsp;<span class="num" id="7683183">0x4213</span><span class="op" id="7683189">,</span>&nbsp;<span class="num" id="7683191">0x28</span><span class="op" id="7683195">}</span><span class="op" id="7683196">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683201">{</span><span class="string" id="7683202">&#34;data&#34;</span><span class="op" id="7683208">,</span>&nbsp;<span class="num" id="7683210">0xa80</span><span class="op" id="7683215">,</span>&nbsp;<span class="num" id="7683217">0x423b</span><span class="op" id="7683223">}</span><span class="op" id="7683224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683229">{</span><span class="string" id="7683230">&#34;syms&#34;</span><span class="op" id="7683236">,</span>&nbsp;<span class="num" id="7683238">0x2c8c</span><span class="op" id="7683244">,</span>&nbsp;<span class="num" id="7683246">0x4cbb</span><span class="op" id="7683252">}</span><span class="op" id="7683253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683258">{</span><span class="string" id="7683259">&#34;spsz&#34;</span><span class="op" id="7683265">,</span>&nbsp;<span class="num" id="7683267">0x0</span><span class="op" id="7683270">,</span>&nbsp;<span class="num" id="7683272">0x7947</span><span class="op" id="7683278">}</span><span class="op" id="7683279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683284">{</span><span class="string" id="7683285">&#34;pcsz&#34;</span><span class="op" id="7683291">,</span>&nbsp;<span class="num" id="7683293">0xca0</span><span class="op" id="7683298">,</span>&nbsp;<span class="num" id="7683300">0x7947</span><span class="op" id="7683306">}</span><span class="op" id="7683307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683311">}</span><span class="op" id="7683312">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683315">}</span><span class="op" id="7683316">,</span><br>
<span class="lineno"></span><span class="op" id="7683318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7683321">func</span>&nbsp;<span class="ident" id="7683326">TestOpen</span><span class="op" id="7683334">(</span><span class="ident" id="7683335">t</span>&nbsp;<span class="op" id="7683337">*</span><span class="ident" id="7683338">testing</span><span class="op" id="7683345">.</span><span class="ident" id="7683346">T</span><span class="op" id="7683347">)</span>&nbsp;<span class="op" id="7683349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683352">for</span>&nbsp;<span class="ident" id="7683356">i</span>&nbsp;<span class="op" id="7683358">:=</span>&nbsp;<span class="keyword" id="7683361">range</span>&nbsp;<span class="ident" id="7683367">fileTests</span>&nbsp;<span class="op" id="7683377">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683381">tt</span>&nbsp;<span class="op" id="7683384">:=</span>&nbsp;<span class="op" id="7683387">&amp;</span><span class="ident" id="7683388">fileTests</span><span class="op" id="7683397">[</span><span class="ident" id="7683398">i</span><span class="op" id="7683399">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683404">f</span><span class="op" id="7683405">,</span>&nbsp;<span class="ident" id="7683407">err</span>&nbsp;<span class="op" id="7683411">:=</span>&nbsp;<span class="ident" id="7683414">Open</span><span class="op" id="7683418">(</span><span class="ident" id="7683419">tt</span><span class="op" id="7683421">.</span><span class="ident" id="7683422">file</span><span class="op" id="7683426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683430">if</span>&nbsp;<span class="ident" id="7683433">err</span>&nbsp;<span class="op" id="7683437">!=</span>&nbsp;<span class="ident" id="7683440">nil</span>&nbsp;<span class="op" id="7683444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683449">t</span><span class="op" id="7683450">.</span><span class="ident" id="7683451">Error</span><span class="op" id="7683456">(</span><span class="ident" id="7683457">err</span><span class="op" id="7683460">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683465">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683480">if</span>&nbsp;<span class="op" id="7683483">!</span><span class="ident" id="7683484">reflect</span><span class="op" id="7683491">.</span><span class="ident" id="7683492">DeepEqual</span><span class="op" id="7683501">(</span><span class="ident" id="7683502">f</span><span class="op" id="7683503">.</span><span class="ident" id="7683504">FileHeader</span><span class="op" id="7683514">,</span>&nbsp;<span class="ident" id="7683516">tt</span><span class="op" id="7683518">.</span><span class="ident" id="7683519">hdr</span><span class="op" id="7683522">)</span>&nbsp;<span class="op" id="7683524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683529">t</span><span class="op" id="7683530">.</span><span class="ident" id="7683531">Errorf</span><span class="op" id="7683537">(</span><span class="string" id="7683538">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7683574">,</span>&nbsp;<span class="ident" id="7683576">tt</span><span class="op" id="7683578">.</span><span class="ident" id="7683579">file</span><span class="op" id="7683583">,</span>&nbsp;<span class="ident" id="7683585">f</span><span class="op" id="7683586">.</span><span class="ident" id="7683587">FileHeader</span><span class="op" id="7683597">,</span>&nbsp;<span class="ident" id="7683599">tt</span><span class="op" id="7683601">.</span><span class="ident" id="7683602">hdr</span><span class="op" id="7683605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683610">continue</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683626">for</span>&nbsp;<span class="ident" id="7683630">i</span><span class="op" id="7683631">,</span>&nbsp;<span class="ident" id="7683633">sh</span>&nbsp;<span class="op" id="7683636">:=</span>&nbsp;<span class="keyword" id="7683639">range</span>&nbsp;<span class="ident" id="7683645">f</span><span class="op" id="7683646">.</span><span class="ident" id="7683647">Sections</span>&nbsp;<span class="op" id="7683656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683661">if</span>&nbsp;<span class="ident" id="7683664">i</span>&nbsp;<span class="op" id="7683666">&gt;=</span>&nbsp;<span class="builtinfunc" id="7683669">len</span><span class="op" id="7683672">(</span><span class="ident" id="7683673">tt</span><span class="op" id="7683675">.</span><span class="ident" id="7683676">sections</span><span class="op" id="7683684">)</span>&nbsp;<span class="op" id="7683686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683692">break</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683706">have</span>&nbsp;<span class="op" id="7683711">:=</span>&nbsp;<span class="op" id="7683714">&amp;</span><span class="ident" id="7683715">sh</span><span class="op" id="7683717">.</span><span class="ident" id="7683718">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683735">want</span>&nbsp;<span class="op" id="7683740">:=</span>&nbsp;<span class="ident" id="7683743">tt</span><span class="op" id="7683745">.</span><span class="ident" id="7683746">sections</span><span class="op" id="7683754">[</span><span class="ident" id="7683755">i</span><span class="op" id="7683756">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683761">if</span>&nbsp;<span class="op" id="7683764">!</span><span class="ident" id="7683765">reflect</span><span class="op" id="7683772">.</span><span class="ident" id="7683773">DeepEqual</span><span class="op" id="7683782">(</span><span class="ident" id="7683783">have</span><span class="op" id="7683787">,</span>&nbsp;<span class="ident" id="7683789">want</span><span class="op" id="7683793">)</span>&nbsp;<span class="op" id="7683795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683801">t</span><span class="op" id="7683802">.</span><span class="ident" id="7683803">Errorf</span><span class="op" id="7683809">(</span><span class="string" id="7683810">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7683858">,</span>&nbsp;<span class="ident" id="7683860">tt</span><span class="op" id="7683862">.</span><span class="ident" id="7683863">file</span><span class="op" id="7683867">,</span>&nbsp;<span class="ident" id="7683869">i</span><span class="op" id="7683870">,</span>&nbsp;<span class="ident" id="7683872">have</span><span class="op" id="7683876">,</span>&nbsp;<span class="ident" id="7683878">want</span><span class="op" id="7683882">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683895">tn</span>&nbsp;<span class="op" id="7683898">:=</span>&nbsp;<span class="builtinfunc" id="7683901">len</span><span class="op" id="7683904">(</span><span class="ident" id="7683905">tt</span><span class="op" id="7683907">.</span><span class="ident" id="7683908">sections</span><span class="op" id="7683916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683920">fn</span>&nbsp;<span class="op" id="7683923">:=</span>&nbsp;<span class="builtinfunc" id="7683926">len</span><span class="op" id="7683929">(</span><span class="ident" id="7683930">f</span><span class="op" id="7683931">.</span><span class="ident" id="7683932">Sections</span><span class="op" id="7683940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683944">if</span>&nbsp;<span class="ident" id="7683947">tn</span>&nbsp;<span class="op" id="7683950">!=</span>&nbsp;<span class="ident" id="7683953">fn</span>&nbsp;<span class="op" id="7683956">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683961">t</span><span class="op" id="7683962">.</span><span class="ident" id="7683963">Errorf</span><span class="op" id="7683969">(</span><span class="string" id="7683970">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7684008">,</span>&nbsp;<span class="ident" id="7684010">tt</span><span class="op" id="7684012">.</span><span class="ident" id="7684013">file</span><span class="op" id="7684017">,</span>&nbsp;<span class="ident" id="7684019">fn</span><span class="op" id="7684021">,</span>&nbsp;<span class="ident" id="7684023">tn</span><span class="op" id="7684025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684032">}</span><br>
<span class="lineno"></span><span class="op" id="7684034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="7684037">func</span>&nbsp;<span class="ident" id="7684042">TestOpenFailure</span><span class="op" id="7684057">(</span><span class="ident" id="7684058">t</span>&nbsp;<span class="op" id="7684060">*</span><span class="ident" id="7684061">testing</span><span class="op" id="7684068">.</span><span class="ident" id="7684069">T</span><span class="op" id="7684070">)</span>&nbsp;<span class="op" id="7684072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684075">filename</span>&nbsp;<span class="op" id="7684084">:=</span>&nbsp;<span class="string" id="7684087">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7684100">//&nbsp;not&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684128">_</span><span class="op" id="7684129">,</span>&nbsp;<span class="ident" id="7684131">err</span>&nbsp;<span class="op" id="7684135">:=</span>&nbsp;<span class="ident" id="7684138">Open</span><span class="op" id="7684142">(</span><span class="ident" id="7684143">filename</span><span class="op" id="7684151">)</span>&nbsp;<span class="comment" id="7684153">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684169">if</span>&nbsp;<span class="ident" id="7684172">err</span>&nbsp;<span class="op" id="7684176">==</span>&nbsp;<span class="ident" id="7684179">nil</span>&nbsp;<span class="op" id="7684183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684187">t</span><span class="op" id="7684188">.</span><span class="ident" id="7684189">Errorf</span><span class="op" id="7684195">(</span><span class="string" id="7684196">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="7684229">,</span>&nbsp;<span class="ident" id="7684231">filename</span><span class="op" id="7684239">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684242">}</span><br>
<span class="lineno"></span><span class="op" id="7684244">}</span>
</div>
</body>
</html>
