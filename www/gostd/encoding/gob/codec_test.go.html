<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html" class="current">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8089357">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8089412">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8089466">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8089517">package</span>&nbsp;<span class="ident" id="8089525">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8089530">import</span>&nbsp;<span class="op" id="8089537">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089540">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089549">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089559">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089567">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089575">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089588">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089599">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089610">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089621">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8089628">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8089631">var</span>&nbsp;<span class="ident" id="8089635">doFuzzTests</span>&nbsp;<span class="op" id="8089647">=</span>&nbsp;<span class="ident" id="8089649">flag</span><span class="op" id="8089653">.</span><span class="ident" id="8089654">Bool</span><span class="op" id="8089658">(</span><span class="string" id="8089659">&#34;gob.fuzz&#34;</span><span class="op" id="8089669">,</span>&nbsp;<span class="builtintype" id="8089671">false</span><span class="op" id="8089676">,</span>&nbsp;<span class="string" id="8089678">&#34;run&nbsp;the&nbsp;fuzz&nbsp;tests,&nbsp;which&nbsp;are&nbsp;large&nbsp;and&nbsp;very&nbsp;slow&#34;</span><span class="op" id="8089729">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8089732">//&nbsp;Guarantee&nbsp;encoding&nbsp;format&nbsp;by&nbsp;comparing&nbsp;some&nbsp;encodings&nbsp;to&nbsp;hand-written&nbsp;values</span><br>
<span class="lineno"></span><span class="keyword" id="8089812">type</span>&nbsp;<span class="ident" id="8089817">EncodeT</span>&nbsp;<span class="keyword" id="8089825">struct</span>&nbsp;<span class="op" id="8089832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089835">x</span>&nbsp;<span class="ident" id="8089837">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089845">b</span>&nbsp;<span class="op" id="8089847">[</span><span class="op" id="8089848">]</span><span class="builtintype" id="8089849">byte</span><br>
<span class="lineno">25</span><span class="op" id="8089854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8089857">var</span>&nbsp;<span class="ident" id="8089861">encodeT</span>&nbsp;<span class="op" id="8089869">=</span>&nbsp;<span class="op" id="8089871">[</span><span class="op" id="8089872">]</span><span class="ident" id="8089873">EncodeT</span><span class="op" id="8089880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089883">{</span><span class="num" id="8089884">0x00</span><span class="op" id="8089888">,</span>&nbsp;<span class="op" id="8089890">[</span><span class="op" id="8089891">]</span><span class="builtintype" id="8089892">byte</span><span class="op" id="8089896">{</span><span class="num" id="8089897">0x00</span><span class="op" id="8089901">}</span><span class="op" id="8089902">}</span><span class="op" id="8089903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089906">{</span><span class="num" id="8089907">0x0F</span><span class="op" id="8089911">,</span>&nbsp;<span class="op" id="8089913">[</span><span class="op" id="8089914">]</span><span class="builtintype" id="8089915">byte</span><span class="op" id="8089919">{</span><span class="num" id="8089920">0x0F</span><span class="op" id="8089924">}</span><span class="op" id="8089925">}</span><span class="op" id="8089926">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089929">{</span><span class="num" id="8089930">0xFF</span><span class="op" id="8089934">,</span>&nbsp;<span class="op" id="8089936">[</span><span class="op" id="8089937">]</span><span class="builtintype" id="8089938">byte</span><span class="op" id="8089942">{</span><span class="num" id="8089943">0xFF</span><span class="op" id="8089947">,</span>&nbsp;<span class="num" id="8089949">0xFF</span><span class="op" id="8089953">}</span><span class="op" id="8089954">}</span><span class="op" id="8089955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089958">{</span><span class="num" id="8089959">0xFFFF</span><span class="op" id="8089965">,</span>&nbsp;<span class="op" id="8089967">[</span><span class="op" id="8089968">]</span><span class="builtintype" id="8089969">byte</span><span class="op" id="8089973">{</span><span class="num" id="8089974">0xFE</span><span class="op" id="8089978">,</span>&nbsp;<span class="num" id="8089980">0xFF</span><span class="op" id="8089984">,</span>&nbsp;<span class="num" id="8089986">0xFF</span><span class="op" id="8089990">}</span><span class="op" id="8089991">}</span><span class="op" id="8089992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089995">{</span><span class="num" id="8089996">0xFFFFFF</span><span class="op" id="8090004">,</span>&nbsp;<span class="op" id="8090006">[</span><span class="op" id="8090007">]</span><span class="builtintype" id="8090008">byte</span><span class="op" id="8090012">{</span><span class="num" id="8090013">0xFD</span><span class="op" id="8090017">,</span>&nbsp;<span class="num" id="8090019">0xFF</span><span class="op" id="8090023">,</span>&nbsp;<span class="num" id="8090025">0xFF</span><span class="op" id="8090029">,</span>&nbsp;<span class="num" id="8090031">0xFF</span><span class="op" id="8090035">}</span><span class="op" id="8090036">}</span><span class="op" id="8090037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090040">{</span><span class="num" id="8090041">0xFFFFFFFF</span><span class="op" id="8090051">,</span>&nbsp;<span class="op" id="8090053">[</span><span class="op" id="8090054">]</span><span class="builtintype" id="8090055">byte</span><span class="op" id="8090059">{</span><span class="num" id="8090060">0xFC</span><span class="op" id="8090064">,</span>&nbsp;<span class="num" id="8090066">0xFF</span><span class="op" id="8090070">,</span>&nbsp;<span class="num" id="8090072">0xFF</span><span class="op" id="8090076">,</span>&nbsp;<span class="num" id="8090078">0xFF</span><span class="op" id="8090082">,</span>&nbsp;<span class="num" id="8090084">0xFF</span><span class="op" id="8090088">}</span><span class="op" id="8090089">}</span><span class="op" id="8090090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090093">{</span><span class="num" id="8090094">0xFFFFFFFFFF</span><span class="op" id="8090106">,</span>&nbsp;<span class="op" id="8090108">[</span><span class="op" id="8090109">]</span><span class="builtintype" id="8090110">byte</span><span class="op" id="8090114">{</span><span class="num" id="8090115">0xFB</span><span class="op" id="8090119">,</span>&nbsp;<span class="num" id="8090121">0xFF</span><span class="op" id="8090125">,</span>&nbsp;<span class="num" id="8090127">0xFF</span><span class="op" id="8090131">,</span>&nbsp;<span class="num" id="8090133">0xFF</span><span class="op" id="8090137">,</span>&nbsp;<span class="num" id="8090139">0xFF</span><span class="op" id="8090143">,</span>&nbsp;<span class="num" id="8090145">0xFF</span><span class="op" id="8090149">}</span><span class="op" id="8090150">}</span><span class="op" id="8090151">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090154">{</span><span class="num" id="8090155">0xFFFFFFFFFFFF</span><span class="op" id="8090169">,</span>&nbsp;<span class="op" id="8090171">[</span><span class="op" id="8090172">]</span><span class="builtintype" id="8090173">byte</span><span class="op" id="8090177">{</span><span class="num" id="8090178">0xFA</span><span class="op" id="8090182">,</span>&nbsp;<span class="num" id="8090184">0xFF</span><span class="op" id="8090188">,</span>&nbsp;<span class="num" id="8090190">0xFF</span><span class="op" id="8090194">,</span>&nbsp;<span class="num" id="8090196">0xFF</span><span class="op" id="8090200">,</span>&nbsp;<span class="num" id="8090202">0xFF</span><span class="op" id="8090206">,</span>&nbsp;<span class="num" id="8090208">0xFF</span><span class="op" id="8090212">,</span>&nbsp;<span class="num" id="8090214">0xFF</span><span class="op" id="8090218">}</span><span class="op" id="8090219">}</span><span class="op" id="8090220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090223">{</span><span class="num" id="8090224">0xFFFFFFFFFFFFFF</span><span class="op" id="8090240">,</span>&nbsp;<span class="op" id="8090242">[</span><span class="op" id="8090243">]</span><span class="builtintype" id="8090244">byte</span><span class="op" id="8090248">{</span><span class="num" id="8090249">0xF9</span><span class="op" id="8090253">,</span>&nbsp;<span class="num" id="8090255">0xFF</span><span class="op" id="8090259">,</span>&nbsp;<span class="num" id="8090261">0xFF</span><span class="op" id="8090265">,</span>&nbsp;<span class="num" id="8090267">0xFF</span><span class="op" id="8090271">,</span>&nbsp;<span class="num" id="8090273">0xFF</span><span class="op" id="8090277">,</span>&nbsp;<span class="num" id="8090279">0xFF</span><span class="op" id="8090283">,</span>&nbsp;<span class="num" id="8090285">0xFF</span><span class="op" id="8090289">,</span>&nbsp;<span class="num" id="8090291">0xFF</span><span class="op" id="8090295">}</span><span class="op" id="8090296">}</span><span class="op" id="8090297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090300">{</span><span class="num" id="8090301">0xFFFFFFFFFFFFFFFF</span><span class="op" id="8090319">,</span>&nbsp;<span class="op" id="8090321">[</span><span class="op" id="8090322">]</span><span class="builtintype" id="8090323">byte</span><span class="op" id="8090327">{</span><span class="num" id="8090328">0xF8</span><span class="op" id="8090332">,</span>&nbsp;<span class="num" id="8090334">0xFF</span><span class="op" id="8090338">,</span>&nbsp;<span class="num" id="8090340">0xFF</span><span class="op" id="8090344">,</span>&nbsp;<span class="num" id="8090346">0xFF</span><span class="op" id="8090350">,</span>&nbsp;<span class="num" id="8090352">0xFF</span><span class="op" id="8090356">,</span>&nbsp;<span class="num" id="8090358">0xFF</span><span class="op" id="8090362">,</span>&nbsp;<span class="num" id="8090364">0xFF</span><span class="op" id="8090368">,</span>&nbsp;<span class="num" id="8090370">0xFF</span><span class="op" id="8090374">,</span>&nbsp;<span class="num" id="8090376">0xFF</span><span class="op" id="8090380">}</span><span class="op" id="8090381">}</span><span class="op" id="8090382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090385">{</span><span class="num" id="8090386">0x1111</span><span class="op" id="8090392">,</span>&nbsp;<span class="op" id="8090394">[</span><span class="op" id="8090395">]</span><span class="builtintype" id="8090396">byte</span><span class="op" id="8090400">{</span><span class="num" id="8090401">0xFE</span><span class="op" id="8090405">,</span>&nbsp;<span class="num" id="8090407">0x11</span><span class="op" id="8090411">,</span>&nbsp;<span class="num" id="8090413">0x11</span><span class="op" id="8090417">}</span><span class="op" id="8090418">}</span><span class="op" id="8090419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090422">{</span><span class="num" id="8090423">0x1111111111111111</span><span class="op" id="8090441">,</span>&nbsp;<span class="op" id="8090443">[</span><span class="op" id="8090444">]</span><span class="builtintype" id="8090445">byte</span><span class="op" id="8090449">{</span><span class="num" id="8090450">0xF8</span><span class="op" id="8090454">,</span>&nbsp;<span class="num" id="8090456">0x11</span><span class="op" id="8090460">,</span>&nbsp;<span class="num" id="8090462">0x11</span><span class="op" id="8090466">,</span>&nbsp;<span class="num" id="8090468">0x11</span><span class="op" id="8090472">,</span>&nbsp;<span class="num" id="8090474">0x11</span><span class="op" id="8090478">,</span>&nbsp;<span class="num" id="8090480">0x11</span><span class="op" id="8090484">,</span>&nbsp;<span class="num" id="8090486">0x11</span><span class="op" id="8090490">,</span>&nbsp;<span class="num" id="8090492">0x11</span><span class="op" id="8090496">,</span>&nbsp;<span class="num" id="8090498">0x11</span><span class="op" id="8090502">}</span><span class="op" id="8090503">}</span><span class="op" id="8090504">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090507">{</span><span class="num" id="8090508">0x8888888888888888</span><span class="op" id="8090526">,</span>&nbsp;<span class="op" id="8090528">[</span><span class="op" id="8090529">]</span><span class="builtintype" id="8090530">byte</span><span class="op" id="8090534">{</span><span class="num" id="8090535">0xF8</span><span class="op" id="8090539">,</span>&nbsp;<span class="num" id="8090541">0x88</span><span class="op" id="8090545">,</span>&nbsp;<span class="num" id="8090547">0x88</span><span class="op" id="8090551">,</span>&nbsp;<span class="num" id="8090553">0x88</span><span class="op" id="8090557">,</span>&nbsp;<span class="num" id="8090559">0x88</span><span class="op" id="8090563">,</span>&nbsp;<span class="num" id="8090565">0x88</span><span class="op" id="8090569">,</span>&nbsp;<span class="num" id="8090571">0x88</span><span class="op" id="8090575">,</span>&nbsp;<span class="num" id="8090577">0x88</span><span class="op" id="8090581">,</span>&nbsp;<span class="num" id="8090583">0x88</span><span class="op" id="8090587">}</span><span class="op" id="8090588">}</span><span class="op" id="8090589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090592">{</span><span class="num" id="8090593">1</span>&nbsp;<span class="op" id="8090595">&lt;&lt;</span>&nbsp;<span class="num" id="8090598">63</span><span class="op" id="8090600">,</span>&nbsp;<span class="op" id="8090602">[</span><span class="op" id="8090603">]</span><span class="builtintype" id="8090604">byte</span><span class="op" id="8090608">{</span><span class="num" id="8090609">0xF8</span><span class="op" id="8090613">,</span>&nbsp;<span class="num" id="8090615">0x80</span><span class="op" id="8090619">,</span>&nbsp;<span class="num" id="8090621">0x00</span><span class="op" id="8090625">,</span>&nbsp;<span class="num" id="8090627">0x00</span><span class="op" id="8090631">,</span>&nbsp;<span class="num" id="8090633">0x00</span><span class="op" id="8090637">,</span>&nbsp;<span class="num" id="8090639">0x00</span><span class="op" id="8090643">,</span>&nbsp;<span class="num" id="8090645">0x00</span><span class="op" id="8090649">,</span>&nbsp;<span class="num" id="8090651">0x00</span><span class="op" id="8090655">,</span>&nbsp;<span class="num" id="8090657">0x00</span><span class="op" id="8090661">}</span><span class="op" id="8090662">}</span><span class="op" id="8090663">,</span><br>
<span class="lineno"></span><span class="op" id="8090665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8090668">//&nbsp;testError&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;deferred&nbsp;function&nbsp;to&nbsp;turn&nbsp;a&nbsp;panic(gobError)&nbsp;into&nbsp;a</span><br>
<span class="lineno">45</span><span class="comment" id="8090757">//&nbsp;plain&nbsp;test.Error&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="8090783">func</span>&nbsp;<span class="ident" id="8090788">testError</span><span class="op" id="8090797">(</span><span class="ident" id="8090798">t</span>&nbsp;<span class="op" id="8090800">*</span><span class="ident" id="8090801">testing</span><span class="op" id="8090808">.</span><span class="ident" id="8090809">T</span><span class="op" id="8090810">)</span>&nbsp;<span class="op" id="8090812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8090815">if</span>&nbsp;<span class="ident" id="8090818">e</span>&nbsp;<span class="op" id="8090820">:=</span>&nbsp;<span class="builtinfunc" id="8090823">recover</span><span class="op" id="8090830">(</span><span class="op" id="8090831">)</span><span class="op" id="8090832">;</span>&nbsp;<span class="ident" id="8090834">e</span>&nbsp;<span class="op" id="8090836">!=</span>&nbsp;<span class="ident" id="8090839">nil</span>&nbsp;<span class="op" id="8090843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090847">t</span><span class="op" id="8090848">.</span><span class="ident" id="8090849">Error</span><span class="op" id="8090854">(</span><span class="ident" id="8090855">e</span><span class="op" id="8090856">.</span><span class="op" id="8090857">(</span><span class="ident" id="8090858">gobError</span><span class="op" id="8090866">)</span><span class="op" id="8090867">.</span><span class="ident" id="8090868">err</span><span class="op" id="8090871">)</span>&nbsp;<span class="comment" id="8090873">//&nbsp;Will&nbsp;re-panic&nbsp;if&nbsp;not&nbsp;one&nbsp;of&nbsp;our&nbsp;errors,&nbsp;such&nbsp;as&nbsp;a&nbsp;runtime&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090942">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8090945">return</span><br>
<span class="lineno"></span><span class="op" id="8090952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8090955">func</span>&nbsp;<span class="ident" id="8090960">newDecBuffer</span><span class="op" id="8090972">(</span><span class="ident" id="8090973">data</span>&nbsp;<span class="op" id="8090978">[</span><span class="op" id="8090979">]</span><span class="builtintype" id="8090980">byte</span><span class="op" id="8090984">)</span>&nbsp;<span class="op" id="8090986">*</span><span class="ident" id="8090987">decBuffer</span>&nbsp;<span class="op" id="8090997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091000">return</span>&nbsp;<span class="op" id="8091007">&amp;</span><span class="ident" id="8091008">decBuffer</span><span class="op" id="8091017">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091021">data</span><span class="op" id="8091025">:</span>&nbsp;<span class="ident" id="8091027">data</span><span class="op" id="8091031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091034">}</span><br>
<span class="lineno"></span><span class="op" id="8091036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8091039">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;unsigned&nbsp;integers</span><br>
<span class="lineno">60</span><span class="keyword" id="8091098">func</span>&nbsp;<span class="ident" id="8091103">TestUintCodec</span><span class="op" id="8091116">(</span><span class="ident" id="8091117">t</span>&nbsp;<span class="op" id="8091119">*</span><span class="ident" id="8091120">testing</span><span class="op" id="8091127">.</span><span class="ident" id="8091128">T</span><span class="op" id="8091129">)</span>&nbsp;<span class="op" id="8091131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091134">defer</span>&nbsp;<span class="ident" id="8091140">testError</span><span class="op" id="8091149">(</span><span class="ident" id="8091150">t</span><span class="op" id="8091151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091154">b</span>&nbsp;<span class="op" id="8091156">:=</span>&nbsp;<span class="builtinfunc" id="8091159">new</span><span class="op" id="8091162">(</span><span class="ident" id="8091163">encBuffer</span><span class="op" id="8091172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091175">encState</span>&nbsp;<span class="op" id="8091184">:=</span>&nbsp;<span class="ident" id="8091187">newEncoderState</span><span class="op" id="8091202">(</span><span class="ident" id="8091203">b</span><span class="op" id="8091204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091207">for</span>&nbsp;<span class="ident" id="8091211">_</span><span class="op" id="8091212">,</span>&nbsp;<span class="ident" id="8091214">tt</span>&nbsp;<span class="op" id="8091217">:=</span>&nbsp;<span class="keyword" id="8091220">range</span>&nbsp;<span class="ident" id="8091226">encodeT</span>&nbsp;<span class="op" id="8091234">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091238">b</span><span class="op" id="8091239">.</span><span class="ident" id="8091240">Reset</span><span class="op" id="8091245">(</span><span class="op" id="8091246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091250">encState</span><span class="op" id="8091258">.</span><span class="ident" id="8091259">encodeUint</span><span class="op" id="8091269">(</span><span class="ident" id="8091270">tt</span><span class="op" id="8091272">.</span><span class="ident" id="8091273">x</span><span class="op" id="8091274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091278">if</span>&nbsp;<span class="op" id="8091281">!</span><span class="ident" id="8091282">bytes</span><span class="op" id="8091287">.</span><span class="ident" id="8091288">Equal</span><span class="op" id="8091293">(</span><span class="ident" id="8091294">tt</span><span class="op" id="8091296">.</span><span class="ident" id="8091297">b</span><span class="op" id="8091298">,</span>&nbsp;<span class="ident" id="8091300">b</span><span class="op" id="8091301">.</span><span class="ident" id="8091302">Bytes</span><span class="op" id="8091307">(</span><span class="op" id="8091308">)</span><span class="op" id="8091309">)</span>&nbsp;<span class="op" id="8091311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091316">t</span><span class="op" id="8091317">.</span><span class="ident" id="8091318">Errorf</span><span class="op" id="8091324">(</span><span class="string" id="8091325">&#34;encodeUint:&nbsp;%#x&nbsp;encode:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8091371">,</span>&nbsp;<span class="ident" id="8091373">tt</span><span class="op" id="8091375">.</span><span class="ident" id="8091376">x</span><span class="op" id="8091377">,</span>&nbsp;<span class="ident" id="8091379">tt</span><span class="op" id="8091381">.</span><span class="ident" id="8091382">b</span><span class="op" id="8091383">,</span>&nbsp;<span class="ident" id="8091385">b</span><span class="op" id="8091386">.</span><span class="ident" id="8091387">Bytes</span><span class="op" id="8091392">(</span><span class="op" id="8091393">)</span><span class="op" id="8091394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091398">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091404">for</span>&nbsp;<span class="ident" id="8091408">u</span>&nbsp;<span class="op" id="8091410">:=</span>&nbsp;<span class="ident" id="8091413">uint64</span><span class="op" id="8091419">(</span><span class="num" id="8091420">0</span><span class="op" id="8091421">)</span><span class="op" id="8091422">;</span>&nbsp;<span class="op" id="8091424">;</span>&nbsp;<span class="ident" id="8091426">u</span>&nbsp;<span class="op" id="8091428">=</span>&nbsp;<span class="op" id="8091430">(</span><span class="ident" id="8091431">u</span>&nbsp;<span class="op" id="8091433">+</span>&nbsp;<span class="num" id="8091435">1</span><span class="op" id="8091436">)</span>&nbsp;<span class="op" id="8091438">*</span>&nbsp;<span class="num" id="8091440">7</span>&nbsp;<span class="op" id="8091442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091446">b</span><span class="op" id="8091447">.</span><span class="ident" id="8091448">Reset</span><span class="op" id="8091453">(</span><span class="op" id="8091454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091458">encState</span><span class="op" id="8091466">.</span><span class="ident" id="8091467">encodeUint</span><span class="op" id="8091477">(</span><span class="ident" id="8091478">u</span><span class="op" id="8091479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091483">decState</span>&nbsp;<span class="op" id="8091492">:=</span>&nbsp;<span class="ident" id="8091495">newDecodeState</span><span class="op" id="8091509">(</span><span class="ident" id="8091510">newDecBuffer</span><span class="op" id="8091522">(</span><span class="ident" id="8091523">b</span><span class="op" id="8091524">.</span><span class="ident" id="8091525">Bytes</span><span class="op" id="8091530">(</span><span class="op" id="8091531">)</span><span class="op" id="8091532">)</span><span class="op" id="8091533">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091537">v</span>&nbsp;<span class="op" id="8091539">:=</span>&nbsp;<span class="ident" id="8091542">decState</span><span class="op" id="8091550">.</span><span class="ident" id="8091551">decodeUint</span><span class="op" id="8091561">(</span><span class="op" id="8091562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091566">if</span>&nbsp;<span class="ident" id="8091569">u</span>&nbsp;<span class="op" id="8091571">!=</span>&nbsp;<span class="ident" id="8091574">v</span>&nbsp;<span class="op" id="8091576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091581">t</span><span class="op" id="8091582">.</span><span class="ident" id="8091583">Errorf</span><span class="op" id="8091589">(</span><span class="string" id="8091590">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8091628">,</span>&nbsp;<span class="ident" id="8091630">u</span><span class="op" id="8091631">,</span>&nbsp;<span class="ident" id="8091633">v</span><span class="op" id="8091634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091642">if</span>&nbsp;<span class="ident" id="8091645">u</span><span class="op" id="8091646">&amp;</span><span class="op" id="8091647">(</span><span class="num" id="8091648">1</span><span class="op" id="8091649">&lt;&lt;</span><span class="num" id="8091651">63</span><span class="op" id="8091653">)</span>&nbsp;<span class="op" id="8091655">!=</span>&nbsp;<span class="num" id="8091658">0</span>&nbsp;<span class="op" id="8091660">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091665">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091676">}</span><br>
<span class="lineno"></span><span class="op" id="8091678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="8091681">func</span>&nbsp;<span class="ident" id="8091686">verifyInt</span><span class="op" id="8091695">(</span><span class="ident" id="8091696">i</span>&nbsp;<span class="ident" id="8091698">int64</span><span class="op" id="8091703">,</span>&nbsp;<span class="ident" id="8091705">t</span>&nbsp;<span class="op" id="8091707">*</span><span class="ident" id="8091708">testing</span><span class="op" id="8091715">.</span><span class="ident" id="8091716">T</span><span class="op" id="8091717">)</span>&nbsp;<span class="op" id="8091719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091722">defer</span>&nbsp;<span class="ident" id="8091728">testError</span><span class="op" id="8091737">(</span><span class="ident" id="8091738">t</span><span class="op" id="8091739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091742">var</span>&nbsp;<span class="ident" id="8091746">b</span>&nbsp;<span class="op" id="8091748">=</span>&nbsp;<span class="builtinfunc" id="8091750">new</span><span class="op" id="8091753">(</span><span class="ident" id="8091754">encBuffer</span><span class="op" id="8091763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091766">encState</span>&nbsp;<span class="op" id="8091775">:=</span>&nbsp;<span class="ident" id="8091778">newEncoderState</span><span class="op" id="8091793">(</span><span class="ident" id="8091794">b</span><span class="op" id="8091795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091798">encState</span><span class="op" id="8091806">.</span><span class="ident" id="8091807">encodeInt</span><span class="op" id="8091816">(</span><span class="ident" id="8091817">i</span><span class="op" id="8091818">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091821">decState</span>&nbsp;<span class="op" id="8091830">:=</span>&nbsp;<span class="ident" id="8091833">newDecodeState</span><span class="op" id="8091847">(</span><span class="ident" id="8091848">newDecBuffer</span><span class="op" id="8091860">(</span><span class="ident" id="8091861">b</span><span class="op" id="8091862">.</span><span class="ident" id="8091863">Bytes</span><span class="op" id="8091868">(</span><span class="op" id="8091869">)</span><span class="op" id="8091870">)</span><span class="op" id="8091871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091874">decState</span><span class="op" id="8091882">.</span><span class="ident" id="8091883">buf</span>&nbsp;<span class="op" id="8091887">=</span>&nbsp;<span class="builtinfunc" id="8091889">make</span><span class="op" id="8091893">(</span><span class="op" id="8091894">[</span><span class="op" id="8091895">]</span><span class="builtintype" id="8091896">byte</span><span class="op" id="8091900">,</span>&nbsp;<span class="num" id="8091902">8</span><span class="op" id="8091903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091906">j</span>&nbsp;<span class="op" id="8091908">:=</span>&nbsp;<span class="ident" id="8091911">decState</span><span class="op" id="8091919">.</span><span class="ident" id="8091920">decodeInt</span><span class="op" id="8091929">(</span><span class="op" id="8091930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091933">if</span>&nbsp;<span class="ident" id="8091936">i</span>&nbsp;<span class="op" id="8091938">!=</span>&nbsp;<span class="ident" id="8091941">j</span>&nbsp;<span class="op" id="8091943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091947">t</span><span class="op" id="8091948">.</span><span class="ident" id="8091949">Errorf</span><span class="op" id="8091955">(</span><span class="string" id="8091956">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8091994">,</span>&nbsp;<span class="ident" id="8091996">uint64</span><span class="op" id="8092002">(</span><span class="ident" id="8092003">i</span><span class="op" id="8092004">)</span><span class="op" id="8092005">,</span>&nbsp;<span class="ident" id="8092007">uint64</span><span class="op" id="8092013">(</span><span class="ident" id="8092014">j</span><span class="op" id="8092015">)</span><span class="op" id="8092016">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092019">}</span><br>
<span class="lineno"></span><span class="op" id="8092021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8092024">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;signed&nbsp;integers</span><br>
<span class="lineno"></span><span class="keyword" id="8092081">func</span>&nbsp;<span class="ident" id="8092086">TestIntCodec</span><span class="op" id="8092098">(</span><span class="ident" id="8092099">t</span>&nbsp;<span class="op" id="8092101">*</span><span class="ident" id="8092102">testing</span><span class="op" id="8092109">.</span><span class="ident" id="8092110">T</span><span class="op" id="8092111">)</span>&nbsp;<span class="op" id="8092113">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092116">for</span>&nbsp;<span class="ident" id="8092120">u</span>&nbsp;<span class="op" id="8092122">:=</span>&nbsp;<span class="ident" id="8092125">uint64</span><span class="op" id="8092131">(</span><span class="num" id="8092132">0</span><span class="op" id="8092133">)</span><span class="op" id="8092134">;</span>&nbsp;<span class="op" id="8092136">;</span>&nbsp;<span class="ident" id="8092138">u</span>&nbsp;<span class="op" id="8092140">=</span>&nbsp;<span class="op" id="8092142">(</span><span class="ident" id="8092143">u</span>&nbsp;<span class="op" id="8092145">+</span>&nbsp;<span class="num" id="8092147">1</span><span class="op" id="8092148">)</span>&nbsp;<span class="op" id="8092150">*</span>&nbsp;<span class="num" id="8092152">7</span>&nbsp;<span class="op" id="8092154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8092158">//&nbsp;Do&nbsp;positive&nbsp;and&nbsp;negative&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092195">i</span>&nbsp;<span class="op" id="8092197">:=</span>&nbsp;<span class="ident" id="8092200">int64</span><span class="op" id="8092205">(</span><span class="ident" id="8092206">u</span><span class="op" id="8092207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092211">verifyInt</span><span class="op" id="8092220">(</span><span class="ident" id="8092221">i</span><span class="op" id="8092222">,</span>&nbsp;<span class="ident" id="8092224">t</span><span class="op" id="8092225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092229">verifyInt</span><span class="op" id="8092238">(</span><span class="op" id="8092239">-</span><span class="ident" id="8092240">i</span><span class="op" id="8092241">,</span>&nbsp;<span class="ident" id="8092243">t</span><span class="op" id="8092244">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092248">verifyInt</span><span class="op" id="8092257">(</span><span class="op" id="8092258">^</span><span class="ident" id="8092259">i</span><span class="op" id="8092260">,</span>&nbsp;<span class="ident" id="8092262">t</span><span class="op" id="8092263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092267">if</span>&nbsp;<span class="ident" id="8092270">u</span><span class="op" id="8092271">&amp;</span><span class="op" id="8092272">(</span><span class="num" id="8092273">1</span><span class="op" id="8092274">&lt;&lt;</span><span class="num" id="8092276">63</span><span class="op" id="8092278">)</span>&nbsp;<span class="op" id="8092280">!=</span>&nbsp;<span class="num" id="8092283">0</span>&nbsp;<span class="op" id="8092285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092290">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092301">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092304">verifyInt</span><span class="op" id="8092313">(</span><span class="op" id="8092314">-</span><span class="num" id="8092315">1</span><span class="op" id="8092316">&lt;&lt;</span><span class="num" id="8092318">63</span><span class="op" id="8092320">,</span>&nbsp;<span class="ident" id="8092322">t</span><span class="op" id="8092323">)</span>&nbsp;<span class="comment" id="8092325">//&nbsp;a&nbsp;tricky&nbsp;case</span><br>
<span class="lineno"></span><span class="op" id="8092342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8092345">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;true&nbsp;boolean&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8092406">var</span>&nbsp;<span class="ident" id="8092410">boolResult</span>&nbsp;<span class="op" id="8092421">=</span>&nbsp;<span class="op" id="8092423">[</span><span class="op" id="8092424">]</span><span class="builtintype" id="8092425">byte</span><span class="op" id="8092429">{</span><span class="num" id="8092430">0x07</span><span class="op" id="8092434">,</span>&nbsp;<span class="num" id="8092436">0x01</span><span class="op" id="8092440">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="8092443">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8092501">var</span>&nbsp;<span class="ident" id="8092505">signedResult</span>&nbsp;<span class="op" id="8092518">=</span>&nbsp;<span class="op" id="8092520">[</span><span class="op" id="8092521">]</span><span class="builtintype" id="8092522">byte</span><span class="op" id="8092526">{</span><span class="num" id="8092527">0x07</span><span class="op" id="8092531">,</span>&nbsp;<span class="num" id="8092533">2</span>&nbsp;<span class="op" id="8092535">*</span>&nbsp;<span class="num" id="8092537">17</span><span class="op" id="8092539">}</span><br>
<span class="lineno"></span><span class="keyword" id="8092541">var</span>&nbsp;<span class="ident" id="8092545">unsignedResult</span>&nbsp;<span class="op" id="8092560">=</span>&nbsp;<span class="op" id="8092562">[</span><span class="op" id="8092563">]</span><span class="builtintype" id="8092564">byte</span><span class="op" id="8092568">{</span><span class="num" id="8092569">0x07</span><span class="op" id="8092573">,</span>&nbsp;<span class="num" id="8092575">17</span><span class="op" id="8092577">}</span><br>
<span class="lineno"></span><span class="keyword" id="8092579">var</span>&nbsp;<span class="ident" id="8092583">floatResult</span>&nbsp;<span class="op" id="8092595">=</span>&nbsp;<span class="op" id="8092597">[</span><span class="op" id="8092598">]</span><span class="builtintype" id="8092599">byte</span><span class="op" id="8092603">{</span><span class="num" id="8092604">0x07</span><span class="op" id="8092608">,</span>&nbsp;<span class="num" id="8092610">0xFE</span><span class="op" id="8092614">,</span>&nbsp;<span class="num" id="8092616">0x31</span><span class="op" id="8092620">,</span>&nbsp;<span class="num" id="8092622">0x40</span><span class="op" id="8092626">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="8092629">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17+19i&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8092691">var</span>&nbsp;<span class="ident" id="8092695">complexResult</span>&nbsp;<span class="op" id="8092709">=</span>&nbsp;<span class="op" id="8092711">[</span><span class="op" id="8092712">]</span><span class="builtintype" id="8092713">byte</span><span class="op" id="8092717">{</span><span class="num" id="8092718">0x07</span><span class="op" id="8092722">,</span>&nbsp;<span class="num" id="8092724">0xFE</span><span class="op" id="8092728">,</span>&nbsp;<span class="num" id="8092730">0x31</span><span class="op" id="8092734">,</span>&nbsp;<span class="num" id="8092736">0x40</span><span class="op" id="8092740">,</span>&nbsp;<span class="num" id="8092742">0xFE</span><span class="op" id="8092746">,</span>&nbsp;<span class="num" id="8092748">0x33</span><span class="op" id="8092752">,</span>&nbsp;<span class="num" id="8092754">0x40</span><span class="op" id="8092758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8092761">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;&#34;hello&#34;&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno">125</span><span class="keyword" id="8092815">var</span>&nbsp;<span class="ident" id="8092819">bytesResult</span>&nbsp;<span class="op" id="8092831">=</span>&nbsp;<span class="op" id="8092833">[</span><span class="op" id="8092834">]</span><span class="builtintype" id="8092835">byte</span><span class="op" id="8092839">{</span><span class="num" id="8092840">0x07</span><span class="op" id="8092844">,</span>&nbsp;<span class="num" id="8092846">0x05</span><span class="op" id="8092850">,</span>&nbsp;<span class="string" id="8092852">&#39;h&#39;</span><span class="op" id="8092855">,</span>&nbsp;<span class="string" id="8092857">&#39;e&#39;</span><span class="op" id="8092860">,</span>&nbsp;<span class="string" id="8092862">&#39;l&#39;</span><span class="op" id="8092865">,</span>&nbsp;<span class="string" id="8092867">&#39;l&#39;</span><span class="op" id="8092870">,</span>&nbsp;<span class="string" id="8092872">&#39;o&#39;</span><span class="op" id="8092875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8092878">func</span>&nbsp;<span class="ident" id="8092883">newDecodeState</span><span class="op" id="8092897">(</span><span class="ident" id="8092898">buf</span>&nbsp;<span class="op" id="8092902">*</span><span class="ident" id="8092903">decBuffer</span><span class="op" id="8092912">)</span>&nbsp;<span class="op" id="8092914">*</span><span class="ident" id="8092915">decoderState</span>&nbsp;<span class="op" id="8092928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092931">d</span>&nbsp;<span class="op" id="8092933">:=</span>&nbsp;<span class="builtinfunc" id="8092936">new</span><span class="op" id="8092939">(</span><span class="ident" id="8092940">decoderState</span><span class="op" id="8092952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092955">d</span><span class="op" id="8092956">.</span><span class="ident" id="8092957">b</span>&nbsp;<span class="op" id="8092959">=</span>&nbsp;<span class="ident" id="8092961">buf</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092966">d</span><span class="op" id="8092967">.</span><span class="ident" id="8092968">buf</span>&nbsp;<span class="op" id="8092972">=</span>&nbsp;<span class="builtinfunc" id="8092974">make</span><span class="op" id="8092978">(</span><span class="op" id="8092979">[</span><span class="op" id="8092980">]</span><span class="builtintype" id="8092981">byte</span><span class="op" id="8092985">,</span>&nbsp;<span class="ident" id="8092987">uint64Size</span><span class="op" id="8092997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093000">return</span>&nbsp;<span class="ident" id="8093007">d</span><br>
<span class="lineno"></span><span class="op" id="8093009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8093012">func</span>&nbsp;<span class="ident" id="8093017">newEncoderState</span><span class="op" id="8093032">(</span><span class="ident" id="8093033">b</span>&nbsp;<span class="op" id="8093035">*</span><span class="ident" id="8093036">encBuffer</span><span class="op" id="8093045">)</span>&nbsp;<span class="op" id="8093047">*</span><span class="ident" id="8093048">encoderState</span>&nbsp;<span class="op" id="8093061">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093064">b</span><span class="op" id="8093065">.</span><span class="ident" id="8093066">Reset</span><span class="op" id="8093071">(</span><span class="op" id="8093072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093075">state</span>&nbsp;<span class="op" id="8093081">:=</span>&nbsp;<span class="op" id="8093084">&amp;</span><span class="ident" id="8093085">encoderState</span><span class="op" id="8093097">{</span><span class="ident" id="8093098">enc</span><span class="op" id="8093101">:</span>&nbsp;<span class="ident" id="8093103">nil</span><span class="op" id="8093106">,</span>&nbsp;<span class="ident" id="8093108">b</span><span class="op" id="8093109">:</span>&nbsp;<span class="ident" id="8093111">b</span><span class="op" id="8093112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093115">state</span><span class="op" id="8093120">.</span><span class="ident" id="8093121">fieldnum</span>&nbsp;<span class="op" id="8093130">=</span>&nbsp;<span class="op" id="8093132">-</span><span class="num" id="8093133">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093136">return</span>&nbsp;<span class="ident" id="8093143">state</span><br>
<span class="lineno"></span><span class="op" id="8093149">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="8093152">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="8093196">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="keyword" id="8093279">func</span>&nbsp;<span class="ident" id="8093284">TestScalarEncInstructions</span><span class="op" id="8093309">(</span><span class="ident" id="8093310">t</span>&nbsp;<span class="op" id="8093312">*</span><span class="ident" id="8093313">testing</span><span class="op" id="8093320">.</span><span class="ident" id="8093321">T</span><span class="op" id="8093322">)</span>&nbsp;<span class="op" id="8093324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093327">var</span>&nbsp;<span class="ident" id="8093331">b</span>&nbsp;<span class="op" id="8093333">=</span>&nbsp;<span class="builtinfunc" id="8093335">new</span><span class="op" id="8093338">(</span><span class="ident" id="8093339">encBuffer</span><span class="op" id="8093348">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8093352">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093365">var</span>&nbsp;<span class="ident" id="8093369">data</span>&nbsp;<span class="builtintype" id="8093374">bool</span>&nbsp;<span class="op" id="8093379">=</span>&nbsp;<span class="builtintype" id="8093381">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093388">instr</span>&nbsp;<span class="op" id="8093394">:=</span>&nbsp;<span class="op" id="8093397">&amp;</span><span class="ident" id="8093398">encInstr</span><span class="op" id="8093406">{</span><span class="ident" id="8093407">encBool</span><span class="op" id="8093414">,</span>&nbsp;<span class="num" id="8093416">6</span><span class="op" id="8093417">,</span>&nbsp;<span class="ident" id="8093419">nil</span><span class="op" id="8093422">,</span>&nbsp;<span class="num" id="8093424">0</span><span class="op" id="8093425">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093429">state</span>&nbsp;<span class="op" id="8093435">:=</span>&nbsp;<span class="ident" id="8093438">newEncoderState</span><span class="op" id="8093453">(</span><span class="ident" id="8093454">b</span><span class="op" id="8093455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093459">instr</span><span class="op" id="8093464">.</span><span class="ident" id="8093465">op</span><span class="op" id="8093467">(</span><span class="ident" id="8093468">instr</span><span class="op" id="8093473">,</span>&nbsp;<span class="ident" id="8093475">state</span><span class="op" id="8093480">,</span>&nbsp;<span class="ident" id="8093482">reflect</span><span class="op" id="8093489">.</span><span class="ident" id="8093490">ValueOf</span><span class="op" id="8093497">(</span><span class="ident" id="8093498">data</span><span class="op" id="8093502">)</span><span class="op" id="8093503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093507">if</span>&nbsp;<span class="op" id="8093510">!</span><span class="ident" id="8093511">bytes</span><span class="op" id="8093516">.</span><span class="ident" id="8093517">Equal</span><span class="op" id="8093522">(</span><span class="ident" id="8093523">boolResult</span><span class="op" id="8093533">,</span>&nbsp;<span class="ident" id="8093535">b</span><span class="op" id="8093536">.</span><span class="ident" id="8093537">Bytes</span><span class="op" id="8093542">(</span><span class="op" id="8093543">)</span><span class="op" id="8093544">)</span>&nbsp;<span class="op" id="8093546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093551">t</span><span class="op" id="8093552">.</span><span class="ident" id="8093553">Errorf</span><span class="op" id="8093559">(</span><span class="string" id="8093560">&#34;bool&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8093605">,</span>&nbsp;<span class="ident" id="8093607">boolResult</span><span class="op" id="8093617">,</span>&nbsp;<span class="ident" id="8093619">b</span><span class="op" id="8093620">.</span><span class="ident" id="8093621">Bytes</span><span class="op" id="8093626">(</span><span class="op" id="8093627">)</span><span class="op" id="8093628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093632">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8093639">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093651">b</span><span class="op" id="8093652">.</span><span class="ident" id="8093653">Reset</span><span class="op" id="8093658">(</span><span class="op" id="8093659">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093663">var</span>&nbsp;<span class="ident" id="8093667">data</span>&nbsp;<span class="builtintype" id="8093672">int</span>&nbsp;<span class="op" id="8093676">=</span>&nbsp;<span class="num" id="8093678">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093683">instr</span>&nbsp;<span class="op" id="8093689">:=</span>&nbsp;<span class="op" id="8093692">&amp;</span><span class="ident" id="8093693">encInstr</span><span class="op" id="8093701">{</span><span class="ident" id="8093702">encInt</span><span class="op" id="8093708">,</span>&nbsp;<span class="num" id="8093710">6</span><span class="op" id="8093711">,</span>&nbsp;<span class="ident" id="8093713">nil</span><span class="op" id="8093716">,</span>&nbsp;<span class="num" id="8093718">0</span><span class="op" id="8093719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093723">state</span>&nbsp;<span class="op" id="8093729">:=</span>&nbsp;<span class="ident" id="8093732">newEncoderState</span><span class="op" id="8093747">(</span><span class="ident" id="8093748">b</span><span class="op" id="8093749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093753">instr</span><span class="op" id="8093758">.</span><span class="ident" id="8093759">op</span><span class="op" id="8093761">(</span><span class="ident" id="8093762">instr</span><span class="op" id="8093767">,</span>&nbsp;<span class="ident" id="8093769">state</span><span class="op" id="8093774">,</span>&nbsp;<span class="ident" id="8093776">reflect</span><span class="op" id="8093783">.</span><span class="ident" id="8093784">ValueOf</span><span class="op" id="8093791">(</span><span class="ident" id="8093792">data</span><span class="op" id="8093796">)</span><span class="op" id="8093797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093801">if</span>&nbsp;<span class="op" id="8093804">!</span><span class="ident" id="8093805">bytes</span><span class="op" id="8093810">.</span><span class="ident" id="8093811">Equal</span><span class="op" id="8093816">(</span><span class="ident" id="8093817">signedResult</span><span class="op" id="8093829">,</span>&nbsp;<span class="ident" id="8093831">b</span><span class="op" id="8093832">.</span><span class="ident" id="8093833">Bytes</span><span class="op" id="8093838">(</span><span class="op" id="8093839">)</span><span class="op" id="8093840">)</span>&nbsp;<span class="op" id="8093842">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093847">t</span><span class="op" id="8093848">.</span><span class="ident" id="8093849">Errorf</span><span class="op" id="8093855">(</span><span class="string" id="8093856">&#34;int&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8093900">,</span>&nbsp;<span class="ident" id="8093902">signedResult</span><span class="op" id="8093914">,</span>&nbsp;<span class="ident" id="8093916">b</span><span class="op" id="8093917">.</span><span class="ident" id="8093918">Bytes</span><span class="op" id="8093923">(</span><span class="op" id="8093924">)</span><span class="op" id="8093925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8093936">//&nbsp;uint</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093949">b</span><span class="op" id="8093950">.</span><span class="ident" id="8093951">Reset</span><span class="op" id="8093956">(</span><span class="op" id="8093957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093961">var</span>&nbsp;<span class="ident" id="8093965">data</span>&nbsp;<span class="builtintype" id="8093970">uint</span>&nbsp;<span class="op" id="8093975">=</span>&nbsp;<span class="num" id="8093977">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093982">instr</span>&nbsp;<span class="op" id="8093988">:=</span>&nbsp;<span class="op" id="8093991">&amp;</span><span class="ident" id="8093992">encInstr</span><span class="op" id="8094000">{</span><span class="ident" id="8094001">encUint</span><span class="op" id="8094008">,</span>&nbsp;<span class="num" id="8094010">6</span><span class="op" id="8094011">,</span>&nbsp;<span class="ident" id="8094013">nil</span><span class="op" id="8094016">,</span>&nbsp;<span class="num" id="8094018">0</span><span class="op" id="8094019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094023">state</span>&nbsp;<span class="op" id="8094029">:=</span>&nbsp;<span class="ident" id="8094032">newEncoderState</span><span class="op" id="8094047">(</span><span class="ident" id="8094048">b</span><span class="op" id="8094049">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094053">instr</span><span class="op" id="8094058">.</span><span class="ident" id="8094059">op</span><span class="op" id="8094061">(</span><span class="ident" id="8094062">instr</span><span class="op" id="8094067">,</span>&nbsp;<span class="ident" id="8094069">state</span><span class="op" id="8094074">,</span>&nbsp;<span class="ident" id="8094076">reflect</span><span class="op" id="8094083">.</span><span class="ident" id="8094084">ValueOf</span><span class="op" id="8094091">(</span><span class="ident" id="8094092">data</span><span class="op" id="8094096">)</span><span class="op" id="8094097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094101">if</span>&nbsp;<span class="op" id="8094104">!</span><span class="ident" id="8094105">bytes</span><span class="op" id="8094110">.</span><span class="ident" id="8094111">Equal</span><span class="op" id="8094116">(</span><span class="ident" id="8094117">unsignedResult</span><span class="op" id="8094131">,</span>&nbsp;<span class="ident" id="8094133">b</span><span class="op" id="8094134">.</span><span class="ident" id="8094135">Bytes</span><span class="op" id="8094140">(</span><span class="op" id="8094141">)</span><span class="op" id="8094142">)</span>&nbsp;<span class="op" id="8094144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094149">t</span><span class="op" id="8094150">.</span><span class="ident" id="8094151">Errorf</span><span class="op" id="8094157">(</span><span class="string" id="8094158">&#34;uint&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8094203">,</span>&nbsp;<span class="ident" id="8094205">unsignedResult</span><span class="op" id="8094219">,</span>&nbsp;<span class="ident" id="8094221">b</span><span class="op" id="8094222">.</span><span class="ident" id="8094223">Bytes</span><span class="op" id="8094228">(</span><span class="op" id="8094229">)</span><span class="op" id="8094230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094237">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8094241">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094254">b</span><span class="op" id="8094255">.</span><span class="ident" id="8094256">Reset</span><span class="op" id="8094261">(</span><span class="op" id="8094262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094266">var</span>&nbsp;<span class="ident" id="8094270">data</span>&nbsp;<span class="builtintype" id="8094275">int8</span>&nbsp;<span class="op" id="8094280">=</span>&nbsp;<span class="num" id="8094282">17</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094287">instr</span>&nbsp;<span class="op" id="8094293">:=</span>&nbsp;<span class="op" id="8094296">&amp;</span><span class="ident" id="8094297">encInstr</span><span class="op" id="8094305">{</span><span class="ident" id="8094306">encInt</span><span class="op" id="8094312">,</span>&nbsp;<span class="num" id="8094314">6</span><span class="op" id="8094315">,</span>&nbsp;<span class="ident" id="8094317">nil</span><span class="op" id="8094320">,</span>&nbsp;<span class="num" id="8094322">0</span><span class="op" id="8094323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094327">state</span>&nbsp;<span class="op" id="8094333">:=</span>&nbsp;<span class="ident" id="8094336">newEncoderState</span><span class="op" id="8094351">(</span><span class="ident" id="8094352">b</span><span class="op" id="8094353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094357">instr</span><span class="op" id="8094362">.</span><span class="ident" id="8094363">op</span><span class="op" id="8094365">(</span><span class="ident" id="8094366">instr</span><span class="op" id="8094371">,</span>&nbsp;<span class="ident" id="8094373">state</span><span class="op" id="8094378">,</span>&nbsp;<span class="ident" id="8094380">reflect</span><span class="op" id="8094387">.</span><span class="ident" id="8094388">ValueOf</span><span class="op" id="8094395">(</span><span class="ident" id="8094396">data</span><span class="op" id="8094400">)</span><span class="op" id="8094401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094405">if</span>&nbsp;<span class="op" id="8094408">!</span><span class="ident" id="8094409">bytes</span><span class="op" id="8094414">.</span><span class="ident" id="8094415">Equal</span><span class="op" id="8094420">(</span><span class="ident" id="8094421">signedResult</span><span class="op" id="8094433">,</span>&nbsp;<span class="ident" id="8094435">b</span><span class="op" id="8094436">.</span><span class="ident" id="8094437">Bytes</span><span class="op" id="8094442">(</span><span class="op" id="8094443">)</span><span class="op" id="8094444">)</span>&nbsp;<span class="op" id="8094446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094451">t</span><span class="op" id="8094452">.</span><span class="ident" id="8094453">Errorf</span><span class="op" id="8094459">(</span><span class="string" id="8094460">&#34;int8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8094505">,</span>&nbsp;<span class="ident" id="8094507">signedResult</span><span class="op" id="8094519">,</span>&nbsp;<span class="ident" id="8094521">b</span><span class="op" id="8094522">.</span><span class="ident" id="8094523">Bytes</span><span class="op" id="8094528">(</span><span class="op" id="8094529">)</span><span class="op" id="8094530">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8094541">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094551">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094555">b</span><span class="op" id="8094556">.</span><span class="ident" id="8094557">Reset</span><span class="op" id="8094562">(</span><span class="op" id="8094563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094567">var</span>&nbsp;<span class="ident" id="8094571">data</span>&nbsp;<span class="builtintype" id="8094576">uint8</span>&nbsp;<span class="op" id="8094582">=</span>&nbsp;<span class="num" id="8094584">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094589">instr</span>&nbsp;<span class="op" id="8094595">:=</span>&nbsp;<span class="op" id="8094598">&amp;</span><span class="ident" id="8094599">encInstr</span><span class="op" id="8094607">{</span><span class="ident" id="8094608">encUint</span><span class="op" id="8094615">,</span>&nbsp;<span class="num" id="8094617">6</span><span class="op" id="8094618">,</span>&nbsp;<span class="ident" id="8094620">nil</span><span class="op" id="8094623">,</span>&nbsp;<span class="num" id="8094625">0</span><span class="op" id="8094626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094630">state</span>&nbsp;<span class="op" id="8094636">:=</span>&nbsp;<span class="ident" id="8094639">newEncoderState</span><span class="op" id="8094654">(</span><span class="ident" id="8094655">b</span><span class="op" id="8094656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094660">instr</span><span class="op" id="8094665">.</span><span class="ident" id="8094666">op</span><span class="op" id="8094668">(</span><span class="ident" id="8094669">instr</span><span class="op" id="8094674">,</span>&nbsp;<span class="ident" id="8094676">state</span><span class="op" id="8094681">,</span>&nbsp;<span class="ident" id="8094683">reflect</span><span class="op" id="8094690">.</span><span class="ident" id="8094691">ValueOf</span><span class="op" id="8094698">(</span><span class="ident" id="8094699">data</span><span class="op" id="8094703">)</span><span class="op" id="8094704">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094708">if</span>&nbsp;<span class="op" id="8094711">!</span><span class="ident" id="8094712">bytes</span><span class="op" id="8094717">.</span><span class="ident" id="8094718">Equal</span><span class="op" id="8094723">(</span><span class="ident" id="8094724">unsignedResult</span><span class="op" id="8094738">,</span>&nbsp;<span class="ident" id="8094740">b</span><span class="op" id="8094741">.</span><span class="ident" id="8094742">Bytes</span><span class="op" id="8094747">(</span><span class="op" id="8094748">)</span><span class="op" id="8094749">)</span>&nbsp;<span class="op" id="8094751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094756">t</span><span class="op" id="8094757">.</span><span class="ident" id="8094758">Errorf</span><span class="op" id="8094764">(</span><span class="string" id="8094765">&#34;uint8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8094811">,</span>&nbsp;<span class="ident" id="8094813">unsignedResult</span><span class="op" id="8094827">,</span>&nbsp;<span class="ident" id="8094829">b</span><span class="op" id="8094830">.</span><span class="ident" id="8094831">Bytes</span><span class="op" id="8094836">(</span><span class="op" id="8094837">)</span><span class="op" id="8094838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8094849">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094863">b</span><span class="op" id="8094864">.</span><span class="ident" id="8094865">Reset</span><span class="op" id="8094870">(</span><span class="op" id="8094871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094875">var</span>&nbsp;<span class="ident" id="8094879">data</span>&nbsp;<span class="builtintype" id="8094884">int16</span>&nbsp;<span class="op" id="8094890">=</span>&nbsp;<span class="num" id="8094892">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094897">instr</span>&nbsp;<span class="op" id="8094903">:=</span>&nbsp;<span class="op" id="8094906">&amp;</span><span class="ident" id="8094907">encInstr</span><span class="op" id="8094915">{</span><span class="ident" id="8094916">encInt</span><span class="op" id="8094922">,</span>&nbsp;<span class="num" id="8094924">6</span><span class="op" id="8094925">,</span>&nbsp;<span class="ident" id="8094927">nil</span><span class="op" id="8094930">,</span>&nbsp;<span class="num" id="8094932">0</span><span class="op" id="8094933">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094937">state</span>&nbsp;<span class="op" id="8094943">:=</span>&nbsp;<span class="ident" id="8094946">newEncoderState</span><span class="op" id="8094961">(</span><span class="ident" id="8094962">b</span><span class="op" id="8094963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094967">instr</span><span class="op" id="8094972">.</span><span class="ident" id="8094973">op</span><span class="op" id="8094975">(</span><span class="ident" id="8094976">instr</span><span class="op" id="8094981">,</span>&nbsp;<span class="ident" id="8094983">state</span><span class="op" id="8094988">,</span>&nbsp;<span class="ident" id="8094990">reflect</span><span class="op" id="8094997">.</span><span class="ident" id="8094998">ValueOf</span><span class="op" id="8095005">(</span><span class="ident" id="8095006">data</span><span class="op" id="8095010">)</span><span class="op" id="8095011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095015">if</span>&nbsp;<span class="op" id="8095018">!</span><span class="ident" id="8095019">bytes</span><span class="op" id="8095024">.</span><span class="ident" id="8095025">Equal</span><span class="op" id="8095030">(</span><span class="ident" id="8095031">signedResult</span><span class="op" id="8095043">,</span>&nbsp;<span class="ident" id="8095045">b</span><span class="op" id="8095046">.</span><span class="ident" id="8095047">Bytes</span><span class="op" id="8095052">(</span><span class="op" id="8095053">)</span><span class="op" id="8095054">)</span>&nbsp;<span class="op" id="8095056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095061">t</span><span class="op" id="8095062">.</span><span class="ident" id="8095063">Errorf</span><span class="op" id="8095069">(</span><span class="string" id="8095070">&#34;int16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8095116">,</span>&nbsp;<span class="ident" id="8095118">signedResult</span><span class="op" id="8095130">,</span>&nbsp;<span class="ident" id="8095132">b</span><span class="op" id="8095133">.</span><span class="ident" id="8095134">Bytes</span><span class="op" id="8095139">(</span><span class="op" id="8095140">)</span><span class="op" id="8095141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095145">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8095152">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095167">b</span><span class="op" id="8095168">.</span><span class="ident" id="8095169">Reset</span><span class="op" id="8095174">(</span><span class="op" id="8095175">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095179">var</span>&nbsp;<span class="ident" id="8095183">data</span>&nbsp;<span class="builtintype" id="8095188">uint16</span>&nbsp;<span class="op" id="8095195">=</span>&nbsp;<span class="num" id="8095197">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095202">instr</span>&nbsp;<span class="op" id="8095208">:=</span>&nbsp;<span class="op" id="8095211">&amp;</span><span class="ident" id="8095212">encInstr</span><span class="op" id="8095220">{</span><span class="ident" id="8095221">encUint</span><span class="op" id="8095228">,</span>&nbsp;<span class="num" id="8095230">6</span><span class="op" id="8095231">,</span>&nbsp;<span class="ident" id="8095233">nil</span><span class="op" id="8095236">,</span>&nbsp;<span class="num" id="8095238">0</span><span class="op" id="8095239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095243">state</span>&nbsp;<span class="op" id="8095249">:=</span>&nbsp;<span class="ident" id="8095252">newEncoderState</span><span class="op" id="8095267">(</span><span class="ident" id="8095268">b</span><span class="op" id="8095269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095273">instr</span><span class="op" id="8095278">.</span><span class="ident" id="8095279">op</span><span class="op" id="8095281">(</span><span class="ident" id="8095282">instr</span><span class="op" id="8095287">,</span>&nbsp;<span class="ident" id="8095289">state</span><span class="op" id="8095294">,</span>&nbsp;<span class="ident" id="8095296">reflect</span><span class="op" id="8095303">.</span><span class="ident" id="8095304">ValueOf</span><span class="op" id="8095311">(</span><span class="ident" id="8095312">data</span><span class="op" id="8095316">)</span><span class="op" id="8095317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095321">if</span>&nbsp;<span class="op" id="8095324">!</span><span class="ident" id="8095325">bytes</span><span class="op" id="8095330">.</span><span class="ident" id="8095331">Equal</span><span class="op" id="8095336">(</span><span class="ident" id="8095337">unsignedResult</span><span class="op" id="8095351">,</span>&nbsp;<span class="ident" id="8095353">b</span><span class="op" id="8095354">.</span><span class="ident" id="8095355">Bytes</span><span class="op" id="8095360">(</span><span class="op" id="8095361">)</span><span class="op" id="8095362">)</span>&nbsp;<span class="op" id="8095364">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095369">t</span><span class="op" id="8095370">.</span><span class="ident" id="8095371">Errorf</span><span class="op" id="8095377">(</span><span class="string" id="8095378">&#34;uint16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8095425">,</span>&nbsp;<span class="ident" id="8095427">unsignedResult</span><span class="op" id="8095441">,</span>&nbsp;<span class="ident" id="8095443">b</span><span class="op" id="8095444">.</span><span class="ident" id="8095445">Bytes</span><span class="op" id="8095450">(</span><span class="op" id="8095451">)</span><span class="op" id="8095452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8095463">//&nbsp;int32</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095477">b</span><span class="op" id="8095478">.</span><span class="ident" id="8095479">Reset</span><span class="op" id="8095484">(</span><span class="op" id="8095485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095489">var</span>&nbsp;<span class="ident" id="8095493">data</span>&nbsp;<span class="builtintype" id="8095498">int32</span>&nbsp;<span class="op" id="8095504">=</span>&nbsp;<span class="num" id="8095506">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095511">instr</span>&nbsp;<span class="op" id="8095517">:=</span>&nbsp;<span class="op" id="8095520">&amp;</span><span class="ident" id="8095521">encInstr</span><span class="op" id="8095529">{</span><span class="ident" id="8095530">encInt</span><span class="op" id="8095536">,</span>&nbsp;<span class="num" id="8095538">6</span><span class="op" id="8095539">,</span>&nbsp;<span class="ident" id="8095541">nil</span><span class="op" id="8095544">,</span>&nbsp;<span class="num" id="8095546">0</span><span class="op" id="8095547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095551">state</span>&nbsp;<span class="op" id="8095557">:=</span>&nbsp;<span class="ident" id="8095560">newEncoderState</span><span class="op" id="8095575">(</span><span class="ident" id="8095576">b</span><span class="op" id="8095577">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095581">instr</span><span class="op" id="8095586">.</span><span class="ident" id="8095587">op</span><span class="op" id="8095589">(</span><span class="ident" id="8095590">instr</span><span class="op" id="8095595">,</span>&nbsp;<span class="ident" id="8095597">state</span><span class="op" id="8095602">,</span>&nbsp;<span class="ident" id="8095604">reflect</span><span class="op" id="8095611">.</span><span class="ident" id="8095612">ValueOf</span><span class="op" id="8095619">(</span><span class="ident" id="8095620">data</span><span class="op" id="8095624">)</span><span class="op" id="8095625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095629">if</span>&nbsp;<span class="op" id="8095632">!</span><span class="ident" id="8095633">bytes</span><span class="op" id="8095638">.</span><span class="ident" id="8095639">Equal</span><span class="op" id="8095644">(</span><span class="ident" id="8095645">signedResult</span><span class="op" id="8095657">,</span>&nbsp;<span class="ident" id="8095659">b</span><span class="op" id="8095660">.</span><span class="ident" id="8095661">Bytes</span><span class="op" id="8095666">(</span><span class="op" id="8095667">)</span><span class="op" id="8095668">)</span>&nbsp;<span class="op" id="8095670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095675">t</span><span class="op" id="8095676">.</span><span class="ident" id="8095677">Errorf</span><span class="op" id="8095683">(</span><span class="string" id="8095684">&#34;int32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8095730">,</span>&nbsp;<span class="ident" id="8095732">signedResult</span><span class="op" id="8095744">,</span>&nbsp;<span class="ident" id="8095746">b</span><span class="op" id="8095747">.</span><span class="ident" id="8095748">Bytes</span><span class="op" id="8095753">(</span><span class="op" id="8095754">)</span><span class="op" id="8095755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095762">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8095766">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095781">b</span><span class="op" id="8095782">.</span><span class="ident" id="8095783">Reset</span><span class="op" id="8095788">(</span><span class="op" id="8095789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095793">var</span>&nbsp;<span class="ident" id="8095797">data</span>&nbsp;<span class="builtintype" id="8095802">uint32</span>&nbsp;<span class="op" id="8095809">=</span>&nbsp;<span class="num" id="8095811">17</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095816">instr</span>&nbsp;<span class="op" id="8095822">:=</span>&nbsp;<span class="op" id="8095825">&amp;</span><span class="ident" id="8095826">encInstr</span><span class="op" id="8095834">{</span><span class="ident" id="8095835">encUint</span><span class="op" id="8095842">,</span>&nbsp;<span class="num" id="8095844">6</span><span class="op" id="8095845">,</span>&nbsp;<span class="ident" id="8095847">nil</span><span class="op" id="8095850">,</span>&nbsp;<span class="num" id="8095852">0</span><span class="op" id="8095853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095857">state</span>&nbsp;<span class="op" id="8095863">:=</span>&nbsp;<span class="ident" id="8095866">newEncoderState</span><span class="op" id="8095881">(</span><span class="ident" id="8095882">b</span><span class="op" id="8095883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095887">instr</span><span class="op" id="8095892">.</span><span class="ident" id="8095893">op</span><span class="op" id="8095895">(</span><span class="ident" id="8095896">instr</span><span class="op" id="8095901">,</span>&nbsp;<span class="ident" id="8095903">state</span><span class="op" id="8095908">,</span>&nbsp;<span class="ident" id="8095910">reflect</span><span class="op" id="8095917">.</span><span class="ident" id="8095918">ValueOf</span><span class="op" id="8095925">(</span><span class="ident" id="8095926">data</span><span class="op" id="8095930">)</span><span class="op" id="8095931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095935">if</span>&nbsp;<span class="op" id="8095938">!</span><span class="ident" id="8095939">bytes</span><span class="op" id="8095944">.</span><span class="ident" id="8095945">Equal</span><span class="op" id="8095950">(</span><span class="ident" id="8095951">unsignedResult</span><span class="op" id="8095965">,</span>&nbsp;<span class="ident" id="8095967">b</span><span class="op" id="8095968">.</span><span class="ident" id="8095969">Bytes</span><span class="op" id="8095974">(</span><span class="op" id="8095975">)</span><span class="op" id="8095976">)</span>&nbsp;<span class="op" id="8095978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095983">t</span><span class="op" id="8095984">.</span><span class="ident" id="8095985">Errorf</span><span class="op" id="8095991">(</span><span class="string" id="8095992">&#34;uint32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8096039">,</span>&nbsp;<span class="ident" id="8096041">unsignedResult</span><span class="op" id="8096055">,</span>&nbsp;<span class="ident" id="8096057">b</span><span class="op" id="8096058">.</span><span class="ident" id="8096059">Bytes</span><span class="op" id="8096064">(</span><span class="op" id="8096065">)</span><span class="op" id="8096066">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8096077">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096087">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096091">b</span><span class="op" id="8096092">.</span><span class="ident" id="8096093">Reset</span><span class="op" id="8096098">(</span><span class="op" id="8096099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8096103">var</span>&nbsp;<span class="ident" id="8096107">data</span>&nbsp;<span class="ident" id="8096112">int64</span>&nbsp;<span class="op" id="8096118">=</span>&nbsp;<span class="num" id="8096120">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096125">instr</span>&nbsp;<span class="op" id="8096131">:=</span>&nbsp;<span class="op" id="8096134">&amp;</span><span class="ident" id="8096135">encInstr</span><span class="op" id="8096143">{</span><span class="ident" id="8096144">encInt</span><span class="op" id="8096150">,</span>&nbsp;<span class="num" id="8096152">6</span><span class="op" id="8096153">,</span>&nbsp;<span class="ident" id="8096155">nil</span><span class="op" id="8096158">,</span>&nbsp;<span class="num" id="8096160">0</span><span class="op" id="8096161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096165">state</span>&nbsp;<span class="op" id="8096171">:=</span>&nbsp;<span class="ident" id="8096174">newEncoderState</span><span class="op" id="8096189">(</span><span class="ident" id="8096190">b</span><span class="op" id="8096191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096195">instr</span><span class="op" id="8096200">.</span><span class="ident" id="8096201">op</span><span class="op" id="8096203">(</span><span class="ident" id="8096204">instr</span><span class="op" id="8096209">,</span>&nbsp;<span class="ident" id="8096211">state</span><span class="op" id="8096216">,</span>&nbsp;<span class="ident" id="8096218">reflect</span><span class="op" id="8096225">.</span><span class="ident" id="8096226">ValueOf</span><span class="op" id="8096233">(</span><span class="ident" id="8096234">data</span><span class="op" id="8096238">)</span><span class="op" id="8096239">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8096243">if</span>&nbsp;<span class="op" id="8096246">!</span><span class="ident" id="8096247">bytes</span><span class="op" id="8096252">.</span><span class="ident" id="8096253">Equal</span><span class="op" id="8096258">(</span><span class="ident" id="8096259">signedResult</span><span class="op" id="8096271">,</span>&nbsp;<span class="ident" id="8096273">b</span><span class="op" id="8096274">.</span><span class="ident" id="8096275">Bytes</span><span class="op" id="8096280">(</span><span class="op" id="8096281">)</span><span class="op" id="8096282">)</span>&nbsp;<span class="op" id="8096284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096289">t</span><span class="op" id="8096290">.</span><span class="ident" id="8096291">Errorf</span><span class="op" id="8096297">(</span><span class="string" id="8096298">&#34;int64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8096344">,</span>&nbsp;<span class="ident" id="8096346">signedResult</span><span class="op" id="8096358">,</span>&nbsp;<span class="ident" id="8096360">b</span><span class="op" id="8096361">.</span><span class="ident" id="8096362">Bytes</span><span class="op" id="8096367">(</span><span class="op" id="8096368">)</span><span class="op" id="8096369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8096380">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096395">b</span><span class="op" id="8096396">.</span><span class="ident" id="8096397">Reset</span><span class="op" id="8096402">(</span><span class="op" id="8096403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8096407">var</span>&nbsp;<span class="ident" id="8096411">data</span>&nbsp;<span class="ident" id="8096416">uint64</span>&nbsp;<span class="op" id="8096423">=</span>&nbsp;<span class="num" id="8096425">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096430">instr</span>&nbsp;<span class="op" id="8096436">:=</span>&nbsp;<span class="op" id="8096439">&amp;</span><span class="ident" id="8096440">encInstr</span><span class="op" id="8096448">{</span><span class="ident" id="8096449">encUint</span><span class="op" id="8096456">,</span>&nbsp;<span class="num" id="8096458">6</span><span class="op" id="8096459">,</span>&nbsp;<span class="ident" id="8096461">nil</span><span class="op" id="8096464">,</span>&nbsp;<span class="num" id="8096466">0</span><span class="op" id="8096467">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096471">state</span>&nbsp;<span class="op" id="8096477">:=</span>&nbsp;<span class="ident" id="8096480">newEncoderState</span><span class="op" id="8096495">(</span><span class="ident" id="8096496">b</span><span class="op" id="8096497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096501">instr</span><span class="op" id="8096506">.</span><span class="ident" id="8096507">op</span><span class="op" id="8096509">(</span><span class="ident" id="8096510">instr</span><span class="op" id="8096515">,</span>&nbsp;<span class="ident" id="8096517">state</span><span class="op" id="8096522">,</span>&nbsp;<span class="ident" id="8096524">reflect</span><span class="op" id="8096531">.</span><span class="ident" id="8096532">ValueOf</span><span class="op" id="8096539">(</span><span class="ident" id="8096540">data</span><span class="op" id="8096544">)</span><span class="op" id="8096545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8096549">if</span>&nbsp;<span class="op" id="8096552">!</span><span class="ident" id="8096553">bytes</span><span class="op" id="8096558">.</span><span class="ident" id="8096559">Equal</span><span class="op" id="8096564">(</span><span class="ident" id="8096565">unsignedResult</span><span class="op" id="8096579">,</span>&nbsp;<span class="ident" id="8096581">b</span><span class="op" id="8096582">.</span><span class="ident" id="8096583">Bytes</span><span class="op" id="8096588">(</span><span class="op" id="8096589">)</span><span class="op" id="8096590">)</span>&nbsp;<span class="op" id="8096592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096597">t</span><span class="op" id="8096598">.</span><span class="ident" id="8096599">Errorf</span><span class="op" id="8096605">(</span><span class="string" id="8096606">&#34;uint64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8096653">,</span>&nbsp;<span class="ident" id="8096655">unsignedResult</span><span class="op" id="8096669">,</span>&nbsp;<span class="ident" id="8096671">b</span><span class="op" id="8096672">.</span><span class="ident" id="8096673">Bytes</span><span class="op" id="8096678">(</span><span class="op" id="8096679">)</span><span class="op" id="8096680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096684">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8096691">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096707">b</span><span class="op" id="8096708">.</span><span class="ident" id="8096709">Reset</span><span class="op" id="8096714">(</span><span class="op" id="8096715">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8096719">var</span>&nbsp;<span class="ident" id="8096723">data</span>&nbsp;<span class="builtintype" id="8096728">float32</span>&nbsp;<span class="op" id="8096736">=</span>&nbsp;<span class="num" id="8096738">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096743">instr</span>&nbsp;<span class="op" id="8096749">:=</span>&nbsp;<span class="op" id="8096752">&amp;</span><span class="ident" id="8096753">encInstr</span><span class="op" id="8096761">{</span><span class="ident" id="8096762">encFloat</span><span class="op" id="8096770">,</span>&nbsp;<span class="num" id="8096772">6</span><span class="op" id="8096773">,</span>&nbsp;<span class="ident" id="8096775">nil</span><span class="op" id="8096778">,</span>&nbsp;<span class="num" id="8096780">0</span><span class="op" id="8096781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096785">state</span>&nbsp;<span class="op" id="8096791">:=</span>&nbsp;<span class="ident" id="8096794">newEncoderState</span><span class="op" id="8096809">(</span><span class="ident" id="8096810">b</span><span class="op" id="8096811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096815">instr</span><span class="op" id="8096820">.</span><span class="ident" id="8096821">op</span><span class="op" id="8096823">(</span><span class="ident" id="8096824">instr</span><span class="op" id="8096829">,</span>&nbsp;<span class="ident" id="8096831">state</span><span class="op" id="8096836">,</span>&nbsp;<span class="ident" id="8096838">reflect</span><span class="op" id="8096845">.</span><span class="ident" id="8096846">ValueOf</span><span class="op" id="8096853">(</span><span class="ident" id="8096854">data</span><span class="op" id="8096858">)</span><span class="op" id="8096859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8096863">if</span>&nbsp;<span class="op" id="8096866">!</span><span class="ident" id="8096867">bytes</span><span class="op" id="8096872">.</span><span class="ident" id="8096873">Equal</span><span class="op" id="8096878">(</span><span class="ident" id="8096879">floatResult</span><span class="op" id="8096890">,</span>&nbsp;<span class="ident" id="8096892">b</span><span class="op" id="8096893">.</span><span class="ident" id="8096894">Bytes</span><span class="op" id="8096899">(</span><span class="op" id="8096900">)</span><span class="op" id="8096901">)</span>&nbsp;<span class="op" id="8096903">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096908">t</span><span class="op" id="8096909">.</span><span class="ident" id="8096910">Errorf</span><span class="op" id="8096916">(</span><span class="string" id="8096917">&#34;float32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8096965">,</span>&nbsp;<span class="ident" id="8096967">floatResult</span><span class="op" id="8096978">,</span>&nbsp;<span class="ident" id="8096980">b</span><span class="op" id="8096981">.</span><span class="ident" id="8096982">Bytes</span><span class="op" id="8096987">(</span><span class="op" id="8096988">)</span><span class="op" id="8096989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096996">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8097000">//&nbsp;float64</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097016">b</span><span class="op" id="8097017">.</span><span class="ident" id="8097018">Reset</span><span class="op" id="8097023">(</span><span class="op" id="8097024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8097028">var</span>&nbsp;<span class="ident" id="8097032">data</span>&nbsp;<span class="builtintype" id="8097037">float64</span>&nbsp;<span class="op" id="8097045">=</span>&nbsp;<span class="num" id="8097047">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097052">instr</span>&nbsp;<span class="op" id="8097058">:=</span>&nbsp;<span class="op" id="8097061">&amp;</span><span class="ident" id="8097062">encInstr</span><span class="op" id="8097070">{</span><span class="ident" id="8097071">encFloat</span><span class="op" id="8097079">,</span>&nbsp;<span class="num" id="8097081">6</span><span class="op" id="8097082">,</span>&nbsp;<span class="ident" id="8097084">nil</span><span class="op" id="8097087">,</span>&nbsp;<span class="num" id="8097089">0</span><span class="op" id="8097090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097094">state</span>&nbsp;<span class="op" id="8097100">:=</span>&nbsp;<span class="ident" id="8097103">newEncoderState</span><span class="op" id="8097118">(</span><span class="ident" id="8097119">b</span><span class="op" id="8097120">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097124">instr</span><span class="op" id="8097129">.</span><span class="ident" id="8097130">op</span><span class="op" id="8097132">(</span><span class="ident" id="8097133">instr</span><span class="op" id="8097138">,</span>&nbsp;<span class="ident" id="8097140">state</span><span class="op" id="8097145">,</span>&nbsp;<span class="ident" id="8097147">reflect</span><span class="op" id="8097154">.</span><span class="ident" id="8097155">ValueOf</span><span class="op" id="8097162">(</span><span class="ident" id="8097163">data</span><span class="op" id="8097167">)</span><span class="op" id="8097168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8097172">if</span>&nbsp;<span class="op" id="8097175">!</span><span class="ident" id="8097176">bytes</span><span class="op" id="8097181">.</span><span class="ident" id="8097182">Equal</span><span class="op" id="8097187">(</span><span class="ident" id="8097188">floatResult</span><span class="op" id="8097199">,</span>&nbsp;<span class="ident" id="8097201">b</span><span class="op" id="8097202">.</span><span class="ident" id="8097203">Bytes</span><span class="op" id="8097208">(</span><span class="op" id="8097209">)</span><span class="op" id="8097210">)</span>&nbsp;<span class="op" id="8097212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097217">t</span><span class="op" id="8097218">.</span><span class="ident" id="8097219">Errorf</span><span class="op" id="8097225">(</span><span class="string" id="8097226">&#34;float64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8097274">,</span>&nbsp;<span class="ident" id="8097276">floatResult</span><span class="op" id="8097287">,</span>&nbsp;<span class="ident" id="8097289">b</span><span class="op" id="8097290">.</span><span class="ident" id="8097291">Bytes</span><span class="op" id="8097296">(</span><span class="op" id="8097297">)</span><span class="op" id="8097298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097305">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8097309">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097334">b</span><span class="op" id="8097335">.</span><span class="ident" id="8097336">Reset</span><span class="op" id="8097341">(</span><span class="op" id="8097342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097346">data</span>&nbsp;<span class="op" id="8097351">:=</span>&nbsp;<span class="op" id="8097354">[</span><span class="op" id="8097355">]</span><span class="builtintype" id="8097356">byte</span><span class="op" id="8097360">(</span><span class="string" id="8097361">&#34;hello&#34;</span><span class="op" id="8097368">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097372">instr</span>&nbsp;<span class="op" id="8097378">:=</span>&nbsp;<span class="op" id="8097381">&amp;</span><span class="ident" id="8097382">encInstr</span><span class="op" id="8097390">{</span><span class="ident" id="8097391">encUint8Array</span><span class="op" id="8097404">,</span>&nbsp;<span class="num" id="8097406">6</span><span class="op" id="8097407">,</span>&nbsp;<span class="ident" id="8097409">nil</span><span class="op" id="8097412">,</span>&nbsp;<span class="num" id="8097414">0</span><span class="op" id="8097415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097419">state</span>&nbsp;<span class="op" id="8097425">:=</span>&nbsp;<span class="ident" id="8097428">newEncoderState</span><span class="op" id="8097443">(</span><span class="ident" id="8097444">b</span><span class="op" id="8097445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097449">instr</span><span class="op" id="8097454">.</span><span class="ident" id="8097455">op</span><span class="op" id="8097457">(</span><span class="ident" id="8097458">instr</span><span class="op" id="8097463">,</span>&nbsp;<span class="ident" id="8097465">state</span><span class="op" id="8097470">,</span>&nbsp;<span class="ident" id="8097472">reflect</span><span class="op" id="8097479">.</span><span class="ident" id="8097480">ValueOf</span><span class="op" id="8097487">(</span><span class="ident" id="8097488">data</span><span class="op" id="8097492">)</span><span class="op" id="8097493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8097497">if</span>&nbsp;<span class="op" id="8097500">!</span><span class="ident" id="8097501">bytes</span><span class="op" id="8097506">.</span><span class="ident" id="8097507">Equal</span><span class="op" id="8097512">(</span><span class="ident" id="8097513">bytesResult</span><span class="op" id="8097524">,</span>&nbsp;<span class="ident" id="8097526">b</span><span class="op" id="8097527">.</span><span class="ident" id="8097528">Bytes</span><span class="op" id="8097533">(</span><span class="op" id="8097534">)</span><span class="op" id="8097535">)</span>&nbsp;<span class="op" id="8097537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097542">t</span><span class="op" id="8097543">.</span><span class="ident" id="8097544">Errorf</span><span class="op" id="8097550">(</span><span class="string" id="8097551">&#34;bytes&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8097597">,</span>&nbsp;<span class="ident" id="8097599">bytesResult</span><span class="op" id="8097610">,</span>&nbsp;<span class="ident" id="8097612">b</span><span class="op" id="8097613">.</span><span class="ident" id="8097614">Bytes</span><span class="op" id="8097619">(</span><span class="op" id="8097620">)</span><span class="op" id="8097621">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8097632">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097643">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097647">b</span><span class="op" id="8097648">.</span><span class="ident" id="8097649">Reset</span><span class="op" id="8097654">(</span><span class="op" id="8097655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8097659">var</span>&nbsp;<span class="ident" id="8097663">data</span>&nbsp;<span class="builtintype" id="8097668">string</span>&nbsp;<span class="op" id="8097675">=</span>&nbsp;<span class="string" id="8097677">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097687">instr</span>&nbsp;<span class="op" id="8097693">:=</span>&nbsp;<span class="op" id="8097696">&amp;</span><span class="ident" id="8097697">encInstr</span><span class="op" id="8097705">{</span><span class="ident" id="8097706">encString</span><span class="op" id="8097715">,</span>&nbsp;<span class="num" id="8097717">6</span><span class="op" id="8097718">,</span>&nbsp;<span class="ident" id="8097720">nil</span><span class="op" id="8097723">,</span>&nbsp;<span class="num" id="8097725">0</span><span class="op" id="8097726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097730">state</span>&nbsp;<span class="op" id="8097736">:=</span>&nbsp;<span class="ident" id="8097739">newEncoderState</span><span class="op" id="8097754">(</span><span class="ident" id="8097755">b</span><span class="op" id="8097756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097760">instr</span><span class="op" id="8097765">.</span><span class="ident" id="8097766">op</span><span class="op" id="8097768">(</span><span class="ident" id="8097769">instr</span><span class="op" id="8097774">,</span>&nbsp;<span class="ident" id="8097776">state</span><span class="op" id="8097781">,</span>&nbsp;<span class="ident" id="8097783">reflect</span><span class="op" id="8097790">.</span><span class="ident" id="8097791">ValueOf</span><span class="op" id="8097798">(</span><span class="ident" id="8097799">data</span><span class="op" id="8097803">)</span><span class="op" id="8097804">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8097808">if</span>&nbsp;<span class="op" id="8097811">!</span><span class="ident" id="8097812">bytes</span><span class="op" id="8097817">.</span><span class="ident" id="8097818">Equal</span><span class="op" id="8097823">(</span><span class="ident" id="8097824">bytesResult</span><span class="op" id="8097835">,</span>&nbsp;<span class="ident" id="8097837">b</span><span class="op" id="8097838">.</span><span class="ident" id="8097839">Bytes</span><span class="op" id="8097844">(</span><span class="op" id="8097845">)</span><span class="op" id="8097846">)</span>&nbsp;<span class="op" id="8097848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097853">t</span><span class="op" id="8097854">.</span><span class="ident" id="8097855">Errorf</span><span class="op" id="8097861">(</span><span class="string" id="8097862">&#34;string&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8097909">,</span>&nbsp;<span class="ident" id="8097911">bytesResult</span><span class="op" id="8097922">,</span>&nbsp;<span class="ident" id="8097924">b</span><span class="op" id="8097925">.</span><span class="ident" id="8097926">Bytes</span><span class="op" id="8097931">(</span><span class="op" id="8097932">)</span><span class="op" id="8097933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097940">}</span><br>
<span class="lineno"></span><span class="op" id="8097942">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="8097945">func</span>&nbsp;<span class="ident" id="8097950">execDec</span><span class="op" id="8097957">(</span><span class="ident" id="8097958">typ</span>&nbsp;<span class="builtintype" id="8097962">string</span><span class="op" id="8097968">,</span>&nbsp;<span class="ident" id="8097970">instr</span>&nbsp;<span class="op" id="8097976">*</span><span class="ident" id="8097977">decInstr</span><span class="op" id="8097985">,</span>&nbsp;<span class="ident" id="8097987">state</span>&nbsp;<span class="op" id="8097993">*</span><span class="ident" id="8097994">decoderState</span><span class="op" id="8098006">,</span>&nbsp;<span class="ident" id="8098008">t</span>&nbsp;<span class="op" id="8098010">*</span><span class="ident" id="8098011">testing</span><span class="op" id="8098018">.</span><span class="ident" id="8098019">T</span><span class="op" id="8098020">,</span>&nbsp;<span class="ident" id="8098022">value</span>&nbsp;<span class="ident" id="8098028">reflect</span><span class="op" id="8098035">.</span><span class="ident" id="8098036">Value</span><span class="op" id="8098041">)</span>&nbsp;<span class="op" id="8098043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8098046">defer</span>&nbsp;<span class="ident" id="8098052">testError</span><span class="op" id="8098061">(</span><span class="ident" id="8098062">t</span><span class="op" id="8098063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098066">v</span>&nbsp;<span class="op" id="8098068">:=</span>&nbsp;<span class="builtintype" id="8098071">int</span><span class="op" id="8098074">(</span><span class="ident" id="8098075">state</span><span class="op" id="8098080">.</span><span class="ident" id="8098081">decodeUint</span><span class="op" id="8098091">(</span><span class="op" id="8098092">)</span><span class="op" id="8098093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8098096">if</span>&nbsp;<span class="ident" id="8098099">v</span><span class="op" id="8098100">+</span><span class="ident" id="8098101">state</span><span class="op" id="8098106">.</span><span class="ident" id="8098107">fieldnum</span>&nbsp;<span class="op" id="8098116">!=</span>&nbsp;<span class="num" id="8098119">6</span>&nbsp;<span class="op" id="8098121">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098125">t</span><span class="op" id="8098126">.</span><span class="ident" id="8098127">Fatalf</span><span class="op" id="8098133">(</span><span class="string" id="8098134">&#34;decoding&nbsp;field&nbsp;number&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8098168">,</span>&nbsp;<span class="num" id="8098170">6</span><span class="op" id="8098171">,</span>&nbsp;<span class="ident" id="8098173">v</span><span class="op" id="8098174">+</span><span class="ident" id="8098175">state</span><span class="op" id="8098180">.</span><span class="ident" id="8098181">fieldnum</span><span class="op" id="8098189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098195">instr</span><span class="op" id="8098200">.</span><span class="ident" id="8098201">op</span><span class="op" id="8098203">(</span><span class="ident" id="8098204">instr</span><span class="op" id="8098209">,</span>&nbsp;<span class="ident" id="8098211">state</span><span class="op" id="8098216">,</span>&nbsp;<span class="ident" id="8098218">value</span><span class="op" id="8098223">.</span><span class="ident" id="8098224">Elem</span><span class="op" id="8098228">(</span><span class="op" id="8098229">)</span><span class="op" id="8098230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098233">state</span><span class="op" id="8098238">.</span><span class="ident" id="8098239">fieldnum</span>&nbsp;<span class="op" id="8098248">=</span>&nbsp;<span class="num" id="8098250">6</span><br>
<span class="lineno"></span><span class="op" id="8098252">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="8098255">func</span>&nbsp;<span class="ident" id="8098260">newDecodeStateFromData</span><span class="op" id="8098282">(</span><span class="ident" id="8098283">data</span>&nbsp;<span class="op" id="8098288">[</span><span class="op" id="8098289">]</span><span class="builtintype" id="8098290">byte</span><span class="op" id="8098294">)</span>&nbsp;<span class="op" id="8098296">*</span><span class="ident" id="8098297">decoderState</span>&nbsp;<span class="op" id="8098310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098313">b</span>&nbsp;<span class="op" id="8098315">:=</span>&nbsp;<span class="ident" id="8098318">newDecBuffer</span><span class="op" id="8098330">(</span><span class="ident" id="8098331">data</span><span class="op" id="8098335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098338">state</span>&nbsp;<span class="op" id="8098344">:=</span>&nbsp;<span class="ident" id="8098347">newDecodeState</span><span class="op" id="8098361">(</span><span class="ident" id="8098362">b</span><span class="op" id="8098363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098366">state</span><span class="op" id="8098371">.</span><span class="ident" id="8098372">fieldnum</span>&nbsp;<span class="op" id="8098381">=</span>&nbsp;<span class="op" id="8098383">-</span><span class="num" id="8098384">1</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8098387">return</span>&nbsp;<span class="ident" id="8098394">state</span><br>
<span class="lineno"></span><span class="op" id="8098400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8098403">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="comment" id="8098447">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno">345</span><span class="keyword" id="8098530">func</span>&nbsp;<span class="ident" id="8098535">TestScalarDecInstructions</span><span class="op" id="8098560">(</span><span class="ident" id="8098561">t</span>&nbsp;<span class="op" id="8098563">*</span><span class="ident" id="8098564">testing</span><span class="op" id="8098571">.</span><span class="ident" id="8098572">T</span><span class="op" id="8098573">)</span>&nbsp;<span class="op" id="8098575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098578">ovfl</span>&nbsp;<span class="op" id="8098583">:=</span>&nbsp;<span class="ident" id="8098586">errors</span><span class="op" id="8098592">.</span><span class="ident" id="8098593">New</span><span class="op" id="8098596">(</span><span class="string" id="8098597">&#34;overflow&#34;</span><span class="op" id="8098607">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8098611">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098620">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8098624">var</span>&nbsp;<span class="ident" id="8098628">data</span>&nbsp;<span class="builtintype" id="8098633">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098640">instr</span>&nbsp;<span class="op" id="8098646">:=</span>&nbsp;<span class="op" id="8098649">&amp;</span><span class="ident" id="8098650">decInstr</span><span class="op" id="8098658">{</span><span class="ident" id="8098659">decBool</span><span class="op" id="8098666">,</span>&nbsp;<span class="num" id="8098668">6</span><span class="op" id="8098669">,</span>&nbsp;<span class="ident" id="8098671">nil</span><span class="op" id="8098674">,</span>&nbsp;<span class="ident" id="8098676">ovfl</span><span class="op" id="8098680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098684">state</span>&nbsp;<span class="op" id="8098690">:=</span>&nbsp;<span class="ident" id="8098693">newDecodeStateFromData</span><span class="op" id="8098715">(</span><span class="ident" id="8098716">boolResult</span><span class="op" id="8098726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098730">execDec</span><span class="op" id="8098737">(</span><span class="string" id="8098738">&#34;bool&#34;</span><span class="op" id="8098744">,</span>&nbsp;<span class="ident" id="8098746">instr</span><span class="op" id="8098751">,</span>&nbsp;<span class="ident" id="8098753">state</span><span class="op" id="8098758">,</span>&nbsp;<span class="ident" id="8098760">t</span><span class="op" id="8098761">,</span>&nbsp;<span class="ident" id="8098763">reflect</span><span class="op" id="8098770">.</span><span class="ident" id="8098771">ValueOf</span><span class="op" id="8098778">(</span><span class="op" id="8098779">&amp;</span><span class="ident" id="8098780">data</span><span class="op" id="8098784">)</span><span class="op" id="8098785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8098789">if</span>&nbsp;<span class="ident" id="8098792">data</span>&nbsp;<span class="op" id="8098797">!=</span>&nbsp;<span class="builtintype" id="8098800">true</span>&nbsp;<span class="op" id="8098805">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098810">t</span><span class="op" id="8098811">.</span><span class="ident" id="8098812">Errorf</span><span class="op" id="8098818">(</span><span class="string" id="8098819">&#34;bool&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;true&#34;</span><span class="op" id="8098841">,</span>&nbsp;<span class="ident" id="8098843">data</span><span class="op" id="8098847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8098857">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098865">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8098869">var</span>&nbsp;<span class="ident" id="8098873">data</span>&nbsp;<span class="builtintype" id="8098878">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098884">instr</span>&nbsp;<span class="op" id="8098890">:=</span>&nbsp;<span class="op" id="8098893">&amp;</span><span class="ident" id="8098894">decInstr</span><span class="op" id="8098902">{</span><span class="ident" id="8098903">decOpTable</span><span class="op" id="8098913">[</span><span class="ident" id="8098914">reflect</span><span class="op" id="8098921">.</span><span class="ident" id="8098922">Int</span><span class="op" id="8098925">]</span><span class="op" id="8098926">,</span>&nbsp;<span class="num" id="8098928">6</span><span class="op" id="8098929">,</span>&nbsp;<span class="ident" id="8098931">nil</span><span class="op" id="8098934">,</span>&nbsp;<span class="ident" id="8098936">ovfl</span><span class="op" id="8098940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098944">state</span>&nbsp;<span class="op" id="8098950">:=</span>&nbsp;<span class="ident" id="8098953">newDecodeStateFromData</span><span class="op" id="8098975">(</span><span class="ident" id="8098976">signedResult</span><span class="op" id="8098988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098992">execDec</span><span class="op" id="8098999">(</span><span class="string" id="8099000">&#34;int&#34;</span><span class="op" id="8099005">,</span>&nbsp;<span class="ident" id="8099007">instr</span><span class="op" id="8099012">,</span>&nbsp;<span class="ident" id="8099014">state</span><span class="op" id="8099019">,</span>&nbsp;<span class="ident" id="8099021">t</span><span class="op" id="8099022">,</span>&nbsp;<span class="ident" id="8099024">reflect</span><span class="op" id="8099031">.</span><span class="ident" id="8099032">ValueOf</span><span class="op" id="8099039">(</span><span class="op" id="8099040">&amp;</span><span class="ident" id="8099041">data</span><span class="op" id="8099045">)</span><span class="op" id="8099046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8099050">if</span>&nbsp;<span class="ident" id="8099053">data</span>&nbsp;<span class="op" id="8099058">!=</span>&nbsp;<span class="num" id="8099061">17</span>&nbsp;<span class="op" id="8099064">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099069">t</span><span class="op" id="8099070">.</span><span class="ident" id="8099071">Errorf</span><span class="op" id="8099077">(</span><span class="string" id="8099078">&#34;int&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8099097">,</span>&nbsp;<span class="ident" id="8099099">data</span><span class="op" id="8099103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8099114">//&nbsp;uint</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8099127">var</span>&nbsp;<span class="ident" id="8099131">data</span>&nbsp;<span class="builtintype" id="8099136">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099143">instr</span>&nbsp;<span class="op" id="8099149">:=</span>&nbsp;<span class="op" id="8099152">&amp;</span><span class="ident" id="8099153">decInstr</span><span class="op" id="8099161">{</span><span class="ident" id="8099162">decOpTable</span><span class="op" id="8099172">[</span><span class="ident" id="8099173">reflect</span><span class="op" id="8099180">.</span><span class="ident" id="8099181">Uint</span><span class="op" id="8099185">]</span><span class="op" id="8099186">,</span>&nbsp;<span class="num" id="8099188">6</span><span class="op" id="8099189">,</span>&nbsp;<span class="ident" id="8099191">nil</span><span class="op" id="8099194">,</span>&nbsp;<span class="ident" id="8099196">ovfl</span><span class="op" id="8099200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099204">state</span>&nbsp;<span class="op" id="8099210">:=</span>&nbsp;<span class="ident" id="8099213">newDecodeStateFromData</span><span class="op" id="8099235">(</span><span class="ident" id="8099236">unsignedResult</span><span class="op" id="8099250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099254">execDec</span><span class="op" id="8099261">(</span><span class="string" id="8099262">&#34;uint&#34;</span><span class="op" id="8099268">,</span>&nbsp;<span class="ident" id="8099270">instr</span><span class="op" id="8099275">,</span>&nbsp;<span class="ident" id="8099277">state</span><span class="op" id="8099282">,</span>&nbsp;<span class="ident" id="8099284">t</span><span class="op" id="8099285">,</span>&nbsp;<span class="ident" id="8099287">reflect</span><span class="op" id="8099294">.</span><span class="ident" id="8099295">ValueOf</span><span class="op" id="8099302">(</span><span class="op" id="8099303">&amp;</span><span class="ident" id="8099304">data</span><span class="op" id="8099308">)</span><span class="op" id="8099309">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8099313">if</span>&nbsp;<span class="ident" id="8099316">data</span>&nbsp;<span class="op" id="8099321">!=</span>&nbsp;<span class="num" id="8099324">17</span>&nbsp;<span class="op" id="8099327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099332">t</span><span class="op" id="8099333">.</span><span class="ident" id="8099334">Errorf</span><span class="op" id="8099340">(</span><span class="string" id="8099341">&#34;uint&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8099361">,</span>&nbsp;<span class="ident" id="8099363">data</span><span class="op" id="8099367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8099378">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8099391">var</span>&nbsp;<span class="ident" id="8099395">data</span>&nbsp;<span class="builtintype" id="8099400">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099407">instr</span>&nbsp;<span class="op" id="8099413">:=</span>&nbsp;<span class="op" id="8099416">&amp;</span><span class="ident" id="8099417">decInstr</span><span class="op" id="8099425">{</span><span class="ident" id="8099426">decInt8</span><span class="op" id="8099433">,</span>&nbsp;<span class="num" id="8099435">6</span><span class="op" id="8099436">,</span>&nbsp;<span class="ident" id="8099438">nil</span><span class="op" id="8099441">,</span>&nbsp;<span class="ident" id="8099443">ovfl</span><span class="op" id="8099447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099451">state</span>&nbsp;<span class="op" id="8099457">:=</span>&nbsp;<span class="ident" id="8099460">newDecodeStateFromData</span><span class="op" id="8099482">(</span><span class="ident" id="8099483">signedResult</span><span class="op" id="8099495">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099499">execDec</span><span class="op" id="8099506">(</span><span class="string" id="8099507">&#34;int8&#34;</span><span class="op" id="8099513">,</span>&nbsp;<span class="ident" id="8099515">instr</span><span class="op" id="8099520">,</span>&nbsp;<span class="ident" id="8099522">state</span><span class="op" id="8099527">,</span>&nbsp;<span class="ident" id="8099529">t</span><span class="op" id="8099530">,</span>&nbsp;<span class="ident" id="8099532">reflect</span><span class="op" id="8099539">.</span><span class="ident" id="8099540">ValueOf</span><span class="op" id="8099547">(</span><span class="op" id="8099548">&amp;</span><span class="ident" id="8099549">data</span><span class="op" id="8099553">)</span><span class="op" id="8099554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8099558">if</span>&nbsp;<span class="ident" id="8099561">data</span>&nbsp;<span class="op" id="8099566">!=</span>&nbsp;<span class="num" id="8099569">17</span>&nbsp;<span class="op" id="8099572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099577">t</span><span class="op" id="8099578">.</span><span class="ident" id="8099579">Errorf</span><span class="op" id="8099585">(</span><span class="string" id="8099586">&#34;int8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8099606">,</span>&nbsp;<span class="ident" id="8099608">data</span><span class="op" id="8099612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099619">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8099623">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8099637">var</span>&nbsp;<span class="ident" id="8099641">data</span>&nbsp;<span class="builtintype" id="8099646">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099654">instr</span>&nbsp;<span class="op" id="8099660">:=</span>&nbsp;<span class="op" id="8099663">&amp;</span><span class="ident" id="8099664">decInstr</span><span class="op" id="8099672">{</span><span class="ident" id="8099673">decUint8</span><span class="op" id="8099681">,</span>&nbsp;<span class="num" id="8099683">6</span><span class="op" id="8099684">,</span>&nbsp;<span class="ident" id="8099686">nil</span><span class="op" id="8099689">,</span>&nbsp;<span class="ident" id="8099691">ovfl</span><span class="op" id="8099695">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099699">state</span>&nbsp;<span class="op" id="8099705">:=</span>&nbsp;<span class="ident" id="8099708">newDecodeStateFromData</span><span class="op" id="8099730">(</span><span class="ident" id="8099731">unsignedResult</span><span class="op" id="8099745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099749">execDec</span><span class="op" id="8099756">(</span><span class="string" id="8099757">&#34;uint8&#34;</span><span class="op" id="8099764">,</span>&nbsp;<span class="ident" id="8099766">instr</span><span class="op" id="8099771">,</span>&nbsp;<span class="ident" id="8099773">state</span><span class="op" id="8099778">,</span>&nbsp;<span class="ident" id="8099780">t</span><span class="op" id="8099781">,</span>&nbsp;<span class="ident" id="8099783">reflect</span><span class="op" id="8099790">.</span><span class="ident" id="8099791">ValueOf</span><span class="op" id="8099798">(</span><span class="op" id="8099799">&amp;</span><span class="ident" id="8099800">data</span><span class="op" id="8099804">)</span><span class="op" id="8099805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8099809">if</span>&nbsp;<span class="ident" id="8099812">data</span>&nbsp;<span class="op" id="8099817">!=</span>&nbsp;<span class="num" id="8099820">17</span>&nbsp;<span class="op" id="8099823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099828">t</span><span class="op" id="8099829">.</span><span class="ident" id="8099830">Errorf</span><span class="op" id="8099836">(</span><span class="string" id="8099837">&#34;uint8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8099858">,</span>&nbsp;<span class="ident" id="8099860">data</span><span class="op" id="8099864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099868">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099871">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8099875">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8099889">var</span>&nbsp;<span class="ident" id="8099893">data</span>&nbsp;<span class="builtintype" id="8099898">int16</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099906">instr</span>&nbsp;<span class="op" id="8099912">:=</span>&nbsp;<span class="op" id="8099915">&amp;</span><span class="ident" id="8099916">decInstr</span><span class="op" id="8099924">{</span><span class="ident" id="8099925">decInt16</span><span class="op" id="8099933">,</span>&nbsp;<span class="num" id="8099935">6</span><span class="op" id="8099936">,</span>&nbsp;<span class="ident" id="8099938">nil</span><span class="op" id="8099941">,</span>&nbsp;<span class="ident" id="8099943">ovfl</span><span class="op" id="8099947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099951">state</span>&nbsp;<span class="op" id="8099957">:=</span>&nbsp;<span class="ident" id="8099960">newDecodeStateFromData</span><span class="op" id="8099982">(</span><span class="ident" id="8099983">signedResult</span><span class="op" id="8099995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099999">execDec</span><span class="op" id="8100006">(</span><span class="string" id="8100007">&#34;int16&#34;</span><span class="op" id="8100014">,</span>&nbsp;<span class="ident" id="8100016">instr</span><span class="op" id="8100021">,</span>&nbsp;<span class="ident" id="8100023">state</span><span class="op" id="8100028">,</span>&nbsp;<span class="ident" id="8100030">t</span><span class="op" id="8100031">,</span>&nbsp;<span class="ident" id="8100033">reflect</span><span class="op" id="8100040">.</span><span class="ident" id="8100041">ValueOf</span><span class="op" id="8100048">(</span><span class="op" id="8100049">&amp;</span><span class="ident" id="8100050">data</span><span class="op" id="8100054">)</span><span class="op" id="8100055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8100059">if</span>&nbsp;<span class="ident" id="8100062">data</span>&nbsp;<span class="op" id="8100067">!=</span>&nbsp;<span class="num" id="8100070">17</span>&nbsp;<span class="op" id="8100073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100078">t</span><span class="op" id="8100079">.</span><span class="ident" id="8100080">Errorf</span><span class="op" id="8100086">(</span><span class="string" id="8100087">&#34;int16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8100108">,</span>&nbsp;<span class="ident" id="8100110">data</span><span class="op" id="8100114">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8100125">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100136">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8100140">var</span>&nbsp;<span class="ident" id="8100144">data</span>&nbsp;<span class="builtintype" id="8100149">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100158">instr</span>&nbsp;<span class="op" id="8100164">:=</span>&nbsp;<span class="op" id="8100167">&amp;</span><span class="ident" id="8100168">decInstr</span><span class="op" id="8100176">{</span><span class="ident" id="8100177">decUint16</span><span class="op" id="8100186">,</span>&nbsp;<span class="num" id="8100188">6</span><span class="op" id="8100189">,</span>&nbsp;<span class="ident" id="8100191">nil</span><span class="op" id="8100194">,</span>&nbsp;<span class="ident" id="8100196">ovfl</span><span class="op" id="8100200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100204">state</span>&nbsp;<span class="op" id="8100210">:=</span>&nbsp;<span class="ident" id="8100213">newDecodeStateFromData</span><span class="op" id="8100235">(</span><span class="ident" id="8100236">unsignedResult</span><span class="op" id="8100250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100254">execDec</span><span class="op" id="8100261">(</span><span class="string" id="8100262">&#34;uint16&#34;</span><span class="op" id="8100270">,</span>&nbsp;<span class="ident" id="8100272">instr</span><span class="op" id="8100277">,</span>&nbsp;<span class="ident" id="8100279">state</span><span class="op" id="8100284">,</span>&nbsp;<span class="ident" id="8100286">t</span><span class="op" id="8100287">,</span>&nbsp;<span class="ident" id="8100289">reflect</span><span class="op" id="8100296">.</span><span class="ident" id="8100297">ValueOf</span><span class="op" id="8100304">(</span><span class="op" id="8100305">&amp;</span><span class="ident" id="8100306">data</span><span class="op" id="8100310">)</span><span class="op" id="8100311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8100315">if</span>&nbsp;<span class="ident" id="8100318">data</span>&nbsp;<span class="op" id="8100323">!=</span>&nbsp;<span class="num" id="8100326">17</span>&nbsp;<span class="op" id="8100329">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100334">t</span><span class="op" id="8100335">.</span><span class="ident" id="8100336">Errorf</span><span class="op" id="8100342">(</span><span class="string" id="8100343">&#34;uint16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8100365">,</span>&nbsp;<span class="ident" id="8100367">data</span><span class="op" id="8100371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8100382">//&nbsp;int32</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8100396">var</span>&nbsp;<span class="ident" id="8100400">data</span>&nbsp;<span class="builtintype" id="8100405">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100413">instr</span>&nbsp;<span class="op" id="8100419">:=</span>&nbsp;<span class="op" id="8100422">&amp;</span><span class="ident" id="8100423">decInstr</span><span class="op" id="8100431">{</span><span class="ident" id="8100432">decInt32</span><span class="op" id="8100440">,</span>&nbsp;<span class="num" id="8100442">6</span><span class="op" id="8100443">,</span>&nbsp;<span class="ident" id="8100445">nil</span><span class="op" id="8100448">,</span>&nbsp;<span class="ident" id="8100450">ovfl</span><span class="op" id="8100454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100458">state</span>&nbsp;<span class="op" id="8100464">:=</span>&nbsp;<span class="ident" id="8100467">newDecodeStateFromData</span><span class="op" id="8100489">(</span><span class="ident" id="8100490">signedResult</span><span class="op" id="8100502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100506">execDec</span><span class="op" id="8100513">(</span><span class="string" id="8100514">&#34;int32&#34;</span><span class="op" id="8100521">,</span>&nbsp;<span class="ident" id="8100523">instr</span><span class="op" id="8100528">,</span>&nbsp;<span class="ident" id="8100530">state</span><span class="op" id="8100535">,</span>&nbsp;<span class="ident" id="8100537">t</span><span class="op" id="8100538">,</span>&nbsp;<span class="ident" id="8100540">reflect</span><span class="op" id="8100547">.</span><span class="ident" id="8100548">ValueOf</span><span class="op" id="8100555">(</span><span class="op" id="8100556">&amp;</span><span class="ident" id="8100557">data</span><span class="op" id="8100561">)</span><span class="op" id="8100562">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8100566">if</span>&nbsp;<span class="ident" id="8100569">data</span>&nbsp;<span class="op" id="8100574">!=</span>&nbsp;<span class="num" id="8100577">17</span>&nbsp;<span class="op" id="8100580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100585">t</span><span class="op" id="8100586">.</span><span class="ident" id="8100587">Errorf</span><span class="op" id="8100593">(</span><span class="string" id="8100594">&#34;int32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8100615">,</span>&nbsp;<span class="ident" id="8100617">data</span><span class="op" id="8100621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8100632">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8100647">var</span>&nbsp;<span class="ident" id="8100651">data</span>&nbsp;<span class="builtintype" id="8100656">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100665">instr</span>&nbsp;<span class="op" id="8100671">:=</span>&nbsp;<span class="op" id="8100674">&amp;</span><span class="ident" id="8100675">decInstr</span><span class="op" id="8100683">{</span><span class="ident" id="8100684">decUint32</span><span class="op" id="8100693">,</span>&nbsp;<span class="num" id="8100695">6</span><span class="op" id="8100696">,</span>&nbsp;<span class="ident" id="8100698">nil</span><span class="op" id="8100701">,</span>&nbsp;<span class="ident" id="8100703">ovfl</span><span class="op" id="8100707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100711">state</span>&nbsp;<span class="op" id="8100717">:=</span>&nbsp;<span class="ident" id="8100720">newDecodeStateFromData</span><span class="op" id="8100742">(</span><span class="ident" id="8100743">unsignedResult</span><span class="op" id="8100757">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100761">execDec</span><span class="op" id="8100768">(</span><span class="string" id="8100769">&#34;uint32&#34;</span><span class="op" id="8100777">,</span>&nbsp;<span class="ident" id="8100779">instr</span><span class="op" id="8100784">,</span>&nbsp;<span class="ident" id="8100786">state</span><span class="op" id="8100791">,</span>&nbsp;<span class="ident" id="8100793">t</span><span class="op" id="8100794">,</span>&nbsp;<span class="ident" id="8100796">reflect</span><span class="op" id="8100803">.</span><span class="ident" id="8100804">ValueOf</span><span class="op" id="8100811">(</span><span class="op" id="8100812">&amp;</span><span class="ident" id="8100813">data</span><span class="op" id="8100817">)</span><span class="op" id="8100818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8100822">if</span>&nbsp;<span class="ident" id="8100825">data</span>&nbsp;<span class="op" id="8100830">!=</span>&nbsp;<span class="num" id="8100833">17</span>&nbsp;<span class="op" id="8100836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100841">t</span><span class="op" id="8100842">.</span><span class="ident" id="8100843">Errorf</span><span class="op" id="8100849">(</span><span class="string" id="8100850">&#34;uint32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8100872">,</span>&nbsp;<span class="ident" id="8100874">data</span><span class="op" id="8100878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100885">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8100889">//&nbsp;uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8100905">var</span>&nbsp;<span class="ident" id="8100909">data</span>&nbsp;<span class="builtintype" id="8100914">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100924">instr</span>&nbsp;<span class="op" id="8100930">:=</span>&nbsp;<span class="op" id="8100933">&amp;</span><span class="ident" id="8100934">decInstr</span><span class="op" id="8100942">{</span><span class="ident" id="8100943">decOpTable</span><span class="op" id="8100953">[</span><span class="ident" id="8100954">reflect</span><span class="op" id="8100961">.</span><span class="ident" id="8100962">Uintptr</span><span class="op" id="8100969">]</span><span class="op" id="8100970">,</span>&nbsp;<span class="num" id="8100972">6</span><span class="op" id="8100973">,</span>&nbsp;<span class="ident" id="8100975">nil</span><span class="op" id="8100978">,</span>&nbsp;<span class="ident" id="8100980">ovfl</span><span class="op" id="8100984">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100988">state</span>&nbsp;<span class="op" id="8100994">:=</span>&nbsp;<span class="ident" id="8100997">newDecodeStateFromData</span><span class="op" id="8101019">(</span><span class="ident" id="8101020">unsignedResult</span><span class="op" id="8101034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101038">execDec</span><span class="op" id="8101045">(</span><span class="string" id="8101046">&#34;uintptr&#34;</span><span class="op" id="8101055">,</span>&nbsp;<span class="ident" id="8101057">instr</span><span class="op" id="8101062">,</span>&nbsp;<span class="ident" id="8101064">state</span><span class="op" id="8101069">,</span>&nbsp;<span class="ident" id="8101071">t</span><span class="op" id="8101072">,</span>&nbsp;<span class="ident" id="8101074">reflect</span><span class="op" id="8101081">.</span><span class="ident" id="8101082">ValueOf</span><span class="op" id="8101089">(</span><span class="op" id="8101090">&amp;</span><span class="ident" id="8101091">data</span><span class="op" id="8101095">)</span><span class="op" id="8101096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8101100">if</span>&nbsp;<span class="ident" id="8101103">data</span>&nbsp;<span class="op" id="8101108">!=</span>&nbsp;<span class="num" id="8101111">17</span>&nbsp;<span class="op" id="8101114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101119">t</span><span class="op" id="8101120">.</span><span class="ident" id="8101121">Errorf</span><span class="op" id="8101127">(</span><span class="string" id="8101128">&#34;uintptr&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8101151">,</span>&nbsp;<span class="ident" id="8101153">data</span><span class="op" id="8101157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101161">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8101168">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8101182">var</span>&nbsp;<span class="ident" id="8101186">data</span>&nbsp;<span class="ident" id="8101191">int64</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101199">instr</span>&nbsp;<span class="op" id="8101205">:=</span>&nbsp;<span class="op" id="8101208">&amp;</span><span class="ident" id="8101209">decInstr</span><span class="op" id="8101217">{</span><span class="ident" id="8101218">decInt64</span><span class="op" id="8101226">,</span>&nbsp;<span class="num" id="8101228">6</span><span class="op" id="8101229">,</span>&nbsp;<span class="ident" id="8101231">nil</span><span class="op" id="8101234">,</span>&nbsp;<span class="ident" id="8101236">ovfl</span><span class="op" id="8101240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101244">state</span>&nbsp;<span class="op" id="8101250">:=</span>&nbsp;<span class="ident" id="8101253">newDecodeStateFromData</span><span class="op" id="8101275">(</span><span class="ident" id="8101276">signedResult</span><span class="op" id="8101288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101292">execDec</span><span class="op" id="8101299">(</span><span class="string" id="8101300">&#34;int64&#34;</span><span class="op" id="8101307">,</span>&nbsp;<span class="ident" id="8101309">instr</span><span class="op" id="8101314">,</span>&nbsp;<span class="ident" id="8101316">state</span><span class="op" id="8101321">,</span>&nbsp;<span class="ident" id="8101323">t</span><span class="op" id="8101324">,</span>&nbsp;<span class="ident" id="8101326">reflect</span><span class="op" id="8101333">.</span><span class="ident" id="8101334">ValueOf</span><span class="op" id="8101341">(</span><span class="op" id="8101342">&amp;</span><span class="ident" id="8101343">data</span><span class="op" id="8101347">)</span><span class="op" id="8101348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8101352">if</span>&nbsp;<span class="ident" id="8101355">data</span>&nbsp;<span class="op" id="8101360">!=</span>&nbsp;<span class="num" id="8101363">17</span>&nbsp;<span class="op" id="8101366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101371">t</span><span class="op" id="8101372">.</span><span class="ident" id="8101373">Errorf</span><span class="op" id="8101379">(</span><span class="string" id="8101380">&#34;int64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8101401">,</span>&nbsp;<span class="ident" id="8101403">data</span><span class="op" id="8101407">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8101418">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101429">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8101433">var</span>&nbsp;<span class="ident" id="8101437">data</span>&nbsp;<span class="ident" id="8101442">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101451">instr</span>&nbsp;<span class="op" id="8101457">:=</span>&nbsp;<span class="op" id="8101460">&amp;</span><span class="ident" id="8101461">decInstr</span><span class="op" id="8101469">{</span><span class="ident" id="8101470">decUint64</span><span class="op" id="8101479">,</span>&nbsp;<span class="num" id="8101481">6</span><span class="op" id="8101482">,</span>&nbsp;<span class="ident" id="8101484">nil</span><span class="op" id="8101487">,</span>&nbsp;<span class="ident" id="8101489">ovfl</span><span class="op" id="8101493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101497">state</span>&nbsp;<span class="op" id="8101503">:=</span>&nbsp;<span class="ident" id="8101506">newDecodeStateFromData</span><span class="op" id="8101528">(</span><span class="ident" id="8101529">unsignedResult</span><span class="op" id="8101543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101547">execDec</span><span class="op" id="8101554">(</span><span class="string" id="8101555">&#34;uint64&#34;</span><span class="op" id="8101563">,</span>&nbsp;<span class="ident" id="8101565">instr</span><span class="op" id="8101570">,</span>&nbsp;<span class="ident" id="8101572">state</span><span class="op" id="8101577">,</span>&nbsp;<span class="ident" id="8101579">t</span><span class="op" id="8101580">,</span>&nbsp;<span class="ident" id="8101582">reflect</span><span class="op" id="8101589">.</span><span class="ident" id="8101590">ValueOf</span><span class="op" id="8101597">(</span><span class="op" id="8101598">&amp;</span><span class="ident" id="8101599">data</span><span class="op" id="8101603">)</span><span class="op" id="8101604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8101608">if</span>&nbsp;<span class="ident" id="8101611">data</span>&nbsp;<span class="op" id="8101616">!=</span>&nbsp;<span class="num" id="8101619">17</span>&nbsp;<span class="op" id="8101622">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101627">t</span><span class="op" id="8101628">.</span><span class="ident" id="8101629">Errorf</span><span class="op" id="8101635">(</span><span class="string" id="8101636">&#34;uint64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8101658">,</span>&nbsp;<span class="ident" id="8101660">data</span><span class="op" id="8101664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8101675">//&nbsp;float32</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8101691">var</span>&nbsp;<span class="ident" id="8101695">data</span>&nbsp;<span class="builtintype" id="8101700">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101710">instr</span>&nbsp;<span class="op" id="8101716">:=</span>&nbsp;<span class="op" id="8101719">&amp;</span><span class="ident" id="8101720">decInstr</span><span class="op" id="8101728">{</span><span class="ident" id="8101729">decFloat32</span><span class="op" id="8101739">,</span>&nbsp;<span class="num" id="8101741">6</span><span class="op" id="8101742">,</span>&nbsp;<span class="ident" id="8101744">nil</span><span class="op" id="8101747">,</span>&nbsp;<span class="ident" id="8101749">ovfl</span><span class="op" id="8101753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101757">state</span>&nbsp;<span class="op" id="8101763">:=</span>&nbsp;<span class="ident" id="8101766">newDecodeStateFromData</span><span class="op" id="8101788">(</span><span class="ident" id="8101789">floatResult</span><span class="op" id="8101800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101804">execDec</span><span class="op" id="8101811">(</span><span class="string" id="8101812">&#34;float32&#34;</span><span class="op" id="8101821">,</span>&nbsp;<span class="ident" id="8101823">instr</span><span class="op" id="8101828">,</span>&nbsp;<span class="ident" id="8101830">state</span><span class="op" id="8101835">,</span>&nbsp;<span class="ident" id="8101837">t</span><span class="op" id="8101838">,</span>&nbsp;<span class="ident" id="8101840">reflect</span><span class="op" id="8101847">.</span><span class="ident" id="8101848">ValueOf</span><span class="op" id="8101855">(</span><span class="op" id="8101856">&amp;</span><span class="ident" id="8101857">data</span><span class="op" id="8101861">)</span><span class="op" id="8101862">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8101866">if</span>&nbsp;<span class="ident" id="8101869">data</span>&nbsp;<span class="op" id="8101874">!=</span>&nbsp;<span class="num" id="8101877">17</span>&nbsp;<span class="op" id="8101880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101885">t</span><span class="op" id="8101886">.</span><span class="ident" id="8101887">Errorf</span><span class="op" id="8101893">(</span><span class="string" id="8101894">&#34;float32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8101917">,</span>&nbsp;<span class="ident" id="8101919">data</span><span class="op" id="8101923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8101934">//&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8101950">var</span>&nbsp;<span class="ident" id="8101954">data</span>&nbsp;<span class="builtintype" id="8101959">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101969">instr</span>&nbsp;<span class="op" id="8101975">:=</span>&nbsp;<span class="op" id="8101978">&amp;</span><span class="ident" id="8101979">decInstr</span><span class="op" id="8101987">{</span><span class="ident" id="8101988">decFloat64</span><span class="op" id="8101998">,</span>&nbsp;<span class="num" id="8102000">6</span><span class="op" id="8102001">,</span>&nbsp;<span class="ident" id="8102003">nil</span><span class="op" id="8102006">,</span>&nbsp;<span class="ident" id="8102008">ovfl</span><span class="op" id="8102012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102016">state</span>&nbsp;<span class="op" id="8102022">:=</span>&nbsp;<span class="ident" id="8102025">newDecodeStateFromData</span><span class="op" id="8102047">(</span><span class="ident" id="8102048">floatResult</span><span class="op" id="8102059">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102063">execDec</span><span class="op" id="8102070">(</span><span class="string" id="8102071">&#34;float64&#34;</span><span class="op" id="8102080">,</span>&nbsp;<span class="ident" id="8102082">instr</span><span class="op" id="8102087">,</span>&nbsp;<span class="ident" id="8102089">state</span><span class="op" id="8102094">,</span>&nbsp;<span class="ident" id="8102096">t</span><span class="op" id="8102097">,</span>&nbsp;<span class="ident" id="8102099">reflect</span><span class="op" id="8102106">.</span><span class="ident" id="8102107">ValueOf</span><span class="op" id="8102114">(</span><span class="op" id="8102115">&amp;</span><span class="ident" id="8102116">data</span><span class="op" id="8102120">)</span><span class="op" id="8102121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8102125">if</span>&nbsp;<span class="ident" id="8102128">data</span>&nbsp;<span class="op" id="8102133">!=</span>&nbsp;<span class="num" id="8102136">17</span>&nbsp;<span class="op" id="8102139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102144">t</span><span class="op" id="8102145">.</span><span class="ident" id="8102146">Errorf</span><span class="op" id="8102152">(</span><span class="string" id="8102153">&#34;float64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8102176">,</span>&nbsp;<span class="ident" id="8102178">data</span><span class="op" id="8102182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102189">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8102193">//&nbsp;complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8102211">var</span>&nbsp;<span class="ident" id="8102215">data</span>&nbsp;<span class="builtintype" id="8102220">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102232">instr</span>&nbsp;<span class="op" id="8102238">:=</span>&nbsp;<span class="op" id="8102241">&amp;</span><span class="ident" id="8102242">decInstr</span><span class="op" id="8102250">{</span><span class="ident" id="8102251">decOpTable</span><span class="op" id="8102261">[</span><span class="ident" id="8102262">reflect</span><span class="op" id="8102269">.</span><span class="ident" id="8102270">Complex64</span><span class="op" id="8102279">]</span><span class="op" id="8102280">,</span>&nbsp;<span class="num" id="8102282">6</span><span class="op" id="8102283">,</span>&nbsp;<span class="ident" id="8102285">nil</span><span class="op" id="8102288">,</span>&nbsp;<span class="ident" id="8102290">ovfl</span><span class="op" id="8102294">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102298">state</span>&nbsp;<span class="op" id="8102304">:=</span>&nbsp;<span class="ident" id="8102307">newDecodeStateFromData</span><span class="op" id="8102329">(</span><span class="ident" id="8102330">complexResult</span><span class="op" id="8102343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102347">execDec</span><span class="op" id="8102354">(</span><span class="string" id="8102355">&#34;complex&#34;</span><span class="op" id="8102364">,</span>&nbsp;<span class="ident" id="8102366">instr</span><span class="op" id="8102371">,</span>&nbsp;<span class="ident" id="8102373">state</span><span class="op" id="8102378">,</span>&nbsp;<span class="ident" id="8102380">t</span><span class="op" id="8102381">,</span>&nbsp;<span class="ident" id="8102383">reflect</span><span class="op" id="8102390">.</span><span class="ident" id="8102391">ValueOf</span><span class="op" id="8102398">(</span><span class="op" id="8102399">&amp;</span><span class="ident" id="8102400">data</span><span class="op" id="8102404">)</span><span class="op" id="8102405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8102409">if</span>&nbsp;<span class="ident" id="8102412">data</span>&nbsp;<span class="op" id="8102417">!=</span>&nbsp;<span class="num" id="8102420">17</span><span class="op" id="8102422">+</span><span class="num" id="8102423">19i</span>&nbsp;<span class="op" id="8102427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102432">t</span><span class="op" id="8102433">.</span><span class="ident" id="8102434">Errorf</span><span class="op" id="8102440">(</span><span class="string" id="8102441">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8102468">,</span>&nbsp;<span class="ident" id="8102470">data</span><span class="op" id="8102474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102478">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8102485">//&nbsp;complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8102504">var</span>&nbsp;<span class="ident" id="8102508">data</span>&nbsp;<span class="builtintype" id="8102513">complex128</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102526">instr</span>&nbsp;<span class="op" id="8102532">:=</span>&nbsp;<span class="op" id="8102535">&amp;</span><span class="ident" id="8102536">decInstr</span><span class="op" id="8102544">{</span><span class="ident" id="8102545">decOpTable</span><span class="op" id="8102555">[</span><span class="ident" id="8102556">reflect</span><span class="op" id="8102563">.</span><span class="ident" id="8102564">Complex128</span><span class="op" id="8102574">]</span><span class="op" id="8102575">,</span>&nbsp;<span class="num" id="8102577">6</span><span class="op" id="8102578">,</span>&nbsp;<span class="ident" id="8102580">nil</span><span class="op" id="8102583">,</span>&nbsp;<span class="ident" id="8102585">ovfl</span><span class="op" id="8102589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102593">state</span>&nbsp;<span class="op" id="8102599">:=</span>&nbsp;<span class="ident" id="8102602">newDecodeStateFromData</span><span class="op" id="8102624">(</span><span class="ident" id="8102625">complexResult</span><span class="op" id="8102638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102642">execDec</span><span class="op" id="8102649">(</span><span class="string" id="8102650">&#34;complex&#34;</span><span class="op" id="8102659">,</span>&nbsp;<span class="ident" id="8102661">instr</span><span class="op" id="8102666">,</span>&nbsp;<span class="ident" id="8102668">state</span><span class="op" id="8102673">,</span>&nbsp;<span class="ident" id="8102675">t</span><span class="op" id="8102676">,</span>&nbsp;<span class="ident" id="8102678">reflect</span><span class="op" id="8102685">.</span><span class="ident" id="8102686">ValueOf</span><span class="op" id="8102693">(</span><span class="op" id="8102694">&amp;</span><span class="ident" id="8102695">data</span><span class="op" id="8102699">)</span><span class="op" id="8102700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8102704">if</span>&nbsp;<span class="ident" id="8102707">data</span>&nbsp;<span class="op" id="8102712">!=</span>&nbsp;<span class="num" id="8102715">17</span><span class="op" id="8102717">+</span><span class="num" id="8102718">19i</span>&nbsp;<span class="op" id="8102722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102727">t</span><span class="op" id="8102728">.</span><span class="ident" id="8102729">Errorf</span><span class="op" id="8102735">(</span><span class="string" id="8102736">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8102763">,</span>&nbsp;<span class="ident" id="8102765">data</span><span class="op" id="8102769">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8102780">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102801">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8102805">var</span>&nbsp;<span class="ident" id="8102809">data</span>&nbsp;<span class="op" id="8102814">[</span><span class="op" id="8102815">]</span><span class="builtintype" id="8102816">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102823">instr</span>&nbsp;<span class="op" id="8102829">:=</span>&nbsp;<span class="op" id="8102832">&amp;</span><span class="ident" id="8102833">decInstr</span><span class="op" id="8102841">{</span><span class="ident" id="8102842">decUint8Slice</span><span class="op" id="8102855">,</span>&nbsp;<span class="num" id="8102857">6</span><span class="op" id="8102858">,</span>&nbsp;<span class="ident" id="8102860">nil</span><span class="op" id="8102863">,</span>&nbsp;<span class="ident" id="8102865">ovfl</span><span class="op" id="8102869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102873">state</span>&nbsp;<span class="op" id="8102879">:=</span>&nbsp;<span class="ident" id="8102882">newDecodeStateFromData</span><span class="op" id="8102904">(</span><span class="ident" id="8102905">bytesResult</span><span class="op" id="8102916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102920">execDec</span><span class="op" id="8102927">(</span><span class="string" id="8102928">&#34;bytes&#34;</span><span class="op" id="8102935">,</span>&nbsp;<span class="ident" id="8102937">instr</span><span class="op" id="8102942">,</span>&nbsp;<span class="ident" id="8102944">state</span><span class="op" id="8102949">,</span>&nbsp;<span class="ident" id="8102951">t</span><span class="op" id="8102952">,</span>&nbsp;<span class="ident" id="8102954">reflect</span><span class="op" id="8102961">.</span><span class="ident" id="8102962">ValueOf</span><span class="op" id="8102969">(</span><span class="op" id="8102970">&amp;</span><span class="ident" id="8102971">data</span><span class="op" id="8102975">)</span><span class="op" id="8102976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8102980">if</span>&nbsp;<span class="builtintype" id="8102983">string</span><span class="op" id="8102989">(</span><span class="ident" id="8102990">data</span><span class="op" id="8102994">)</span>&nbsp;<span class="op" id="8102996">!=</span>&nbsp;<span class="string" id="8102999">&#34;hello&#34;</span>&nbsp;<span class="op" id="8103007">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103012">t</span><span class="op" id="8103013">.</span><span class="ident" id="8103014">Errorf</span><span class="op" id="8103020">(</span><span class="string" id="8103021">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8103047">,</span>&nbsp;<span class="builtintype" id="8103049">string</span><span class="op" id="8103055">(</span><span class="ident" id="8103056">data</span><span class="op" id="8103060">)</span><span class="op" id="8103061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8103072">//&nbsp;string</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8103087">var</span>&nbsp;<span class="ident" id="8103091">data</span>&nbsp;<span class="builtintype" id="8103096">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103105">instr</span>&nbsp;<span class="op" id="8103111">:=</span>&nbsp;<span class="op" id="8103114">&amp;</span><span class="ident" id="8103115">decInstr</span><span class="op" id="8103123">{</span><span class="ident" id="8103124">decString</span><span class="op" id="8103133">,</span>&nbsp;<span class="num" id="8103135">6</span><span class="op" id="8103136">,</span>&nbsp;<span class="ident" id="8103138">nil</span><span class="op" id="8103141">,</span>&nbsp;<span class="ident" id="8103143">ovfl</span><span class="op" id="8103147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103151">state</span>&nbsp;<span class="op" id="8103157">:=</span>&nbsp;<span class="ident" id="8103160">newDecodeStateFromData</span><span class="op" id="8103182">(</span><span class="ident" id="8103183">bytesResult</span><span class="op" id="8103194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103198">execDec</span><span class="op" id="8103205">(</span><span class="string" id="8103206">&#34;bytes&#34;</span><span class="op" id="8103213">,</span>&nbsp;<span class="ident" id="8103215">instr</span><span class="op" id="8103220">,</span>&nbsp;<span class="ident" id="8103222">state</span><span class="op" id="8103227">,</span>&nbsp;<span class="ident" id="8103229">t</span><span class="op" id="8103230">,</span>&nbsp;<span class="ident" id="8103232">reflect</span><span class="op" id="8103239">.</span><span class="ident" id="8103240">ValueOf</span><span class="op" id="8103247">(</span><span class="op" id="8103248">&amp;</span><span class="ident" id="8103249">data</span><span class="op" id="8103253">)</span><span class="op" id="8103254">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8103258">if</span>&nbsp;<span class="ident" id="8103261">data</span>&nbsp;<span class="op" id="8103266">!=</span>&nbsp;<span class="string" id="8103269">&#34;hello&#34;</span>&nbsp;<span class="op" id="8103277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103282">t</span><span class="op" id="8103283">.</span><span class="ident" id="8103284">Errorf</span><span class="op" id="8103290">(</span><span class="string" id="8103291">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8103317">,</span>&nbsp;<span class="ident" id="8103319">data</span><span class="op" id="8103323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103330">}</span><br>
<span class="lineno"></span><span class="op" id="8103332">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="8103335">func</span>&nbsp;<span class="ident" id="8103340">TestEndToEnd</span><span class="op" id="8103352">(</span><span class="ident" id="8103353">t</span>&nbsp;<span class="op" id="8103355">*</span><span class="ident" id="8103356">testing</span><span class="op" id="8103363">.</span><span class="ident" id="8103364">T</span><span class="op" id="8103365">)</span>&nbsp;<span class="op" id="8103367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8103370">type</span>&nbsp;<span class="ident" id="8103375">T2</span>&nbsp;<span class="keyword" id="8103378">struct</span>&nbsp;<span class="op" id="8103385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103389">T</span>&nbsp;<span class="builtintype" id="8103391">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103399">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103402">s1</span>&nbsp;<span class="op" id="8103405">:=</span>&nbsp;<span class="string" id="8103408">&#34;string1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103419">s2</span>&nbsp;<span class="op" id="8103422">:=</span>&nbsp;<span class="string" id="8103425">&#34;string2&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8103436">type</span>&nbsp;<span class="ident" id="8103441">T1</span>&nbsp;<span class="keyword" id="8103444">struct</span>&nbsp;<span class="op" id="8103451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103455">A</span><span class="op" id="8103456">,</span>&nbsp;<span class="ident" id="8103458">B</span><span class="op" id="8103459">,</span>&nbsp;<span class="ident" id="8103461">C</span>&nbsp;&nbsp;<span class="builtintype" id="8103464">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103470">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8103479">map</span><span class="op" id="8103482">[</span><span class="builtintype" id="8103483">string</span><span class="op" id="8103489">]</span><span class="op" id="8103490">*</span><span class="builtintype" id="8103491">float64</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103501">EmptyMap</span>&nbsp;<span class="keyword" id="8103510">map</span><span class="op" id="8103513">[</span><span class="builtintype" id="8103514">string</span><span class="op" id="8103520">]</span><span class="builtintype" id="8103521">int</span>&nbsp;<span class="comment" id="8103525">//&nbsp;to&nbsp;check&nbsp;that&nbsp;we&nbsp;receive&nbsp;a&nbsp;non-nil&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103570">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103579">*</span><span class="op" id="8103580">[</span><span class="num" id="8103581">3</span><span class="op" id="8103582">]</span><span class="builtintype" id="8103583">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103593">Strs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103602">*</span><span class="op" id="8103603">[</span><span class="num" id="8103604">2</span><span class="op" id="8103605">]</span><span class="builtintype" id="8103606">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103615">Int64s</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8103624">*</span><span class="op" id="8103625">[</span><span class="op" id="8103626">]</span><span class="ident" id="8103627">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103635">RI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8103644">complex64</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103656">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8103665">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103674">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103683">[</span><span class="op" id="8103684">]</span><span class="builtintype" id="8103685">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103692">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103701">*</span><span class="ident" id="8103702">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103709">pi</span>&nbsp;<span class="op" id="8103712">:=</span>&nbsp;<span class="num" id="8103715">3.14159</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103724">e</span>&nbsp;<span class="op" id="8103726">:=</span>&nbsp;<span class="num" id="8103729">2.71828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103738">t1</span>&nbsp;<span class="op" id="8103741">:=</span>&nbsp;<span class="op" id="8103744">&amp;</span><span class="ident" id="8103745">T1</span><span class="op" id="8103747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103751">A</span><span class="op" id="8103752">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8103761">17</span><span class="op" id="8103763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103767">B</span><span class="op" id="8103768">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8103777">18</span><span class="op" id="8103779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103783">C</span><span class="op" id="8103784">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103793">-</span><span class="num" id="8103794">5</span><span class="op" id="8103795">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103799">M</span><span class="op" id="8103800">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8103809">map</span><span class="op" id="8103812">[</span><span class="builtintype" id="8103813">string</span><span class="op" id="8103819">]</span><span class="op" id="8103820">*</span><span class="builtintype" id="8103821">float64</span><span class="op" id="8103828">{</span><span class="string" id="8103829">&#34;pi&#34;</span><span class="op" id="8103833">:</span>&nbsp;<span class="op" id="8103835">&amp;</span><span class="ident" id="8103836">pi</span><span class="op" id="8103838">,</span>&nbsp;<span class="string" id="8103840">&#34;e&#34;</span><span class="op" id="8103843">:</span>&nbsp;<span class="op" id="8103845">&amp;</span><span class="ident" id="8103846">e</span><span class="op" id="8103847">}</span><span class="op" id="8103848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103852">EmptyMap</span><span class="op" id="8103860">:</span>&nbsp;<span class="builtinfunc" id="8103862">make</span><span class="op" id="8103866">(</span><span class="keyword" id="8103867">map</span><span class="op" id="8103870">[</span><span class="builtintype" id="8103871">string</span><span class="op" id="8103877">]</span><span class="builtintype" id="8103878">int</span><span class="op" id="8103881">)</span><span class="op" id="8103882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103886">N</span><span class="op" id="8103887">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103896">&amp;</span><span class="op" id="8103897">[</span><span class="num" id="8103898">3</span><span class="op" id="8103899">]</span><span class="builtintype" id="8103900">float64</span><span class="op" id="8103907">{</span><span class="num" id="8103908">1.5</span><span class="op" id="8103911">,</span>&nbsp;<span class="num" id="8103913">2.5</span><span class="op" id="8103916">,</span>&nbsp;<span class="num" id="8103918">3.5</span><span class="op" id="8103921">}</span><span class="op" id="8103922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103926">Strs</span><span class="op" id="8103930">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103936">&amp;</span><span class="op" id="8103937">[</span><span class="num" id="8103938">2</span><span class="op" id="8103939">]</span><span class="builtintype" id="8103940">string</span><span class="op" id="8103946">{</span><span class="ident" id="8103947">s1</span><span class="op" id="8103949">,</span>&nbsp;<span class="ident" id="8103951">s2</span><span class="op" id="8103953">}</span><span class="op" id="8103954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103958">Int64s</span><span class="op" id="8103964">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8103968">&amp;</span><span class="op" id="8103969">[</span><span class="op" id="8103970">]</span><span class="ident" id="8103971">int64</span><span class="op" id="8103976">{</span><span class="num" id="8103977">77</span><span class="op" id="8103979">,</span>&nbsp;<span class="num" id="8103981">89</span><span class="op" id="8103983">,</span>&nbsp;<span class="num" id="8103985">123412342134</span><span class="op" id="8103997">}</span><span class="op" id="8103998">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104002">RI</span><span class="op" id="8104004">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8104012">17</span>&nbsp;<span class="op" id="8104015">-</span>&nbsp;<span class="num" id="8104017">23i</span><span class="op" id="8104020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104024">S</span><span class="op" id="8104025">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8104034">&#34;Now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8104051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104055">Y</span><span class="op" id="8104056">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8104065">[</span><span class="op" id="8104066">]</span><span class="builtintype" id="8104067">byte</span><span class="op" id="8104071">(</span><span class="string" id="8104072">&#34;hello,&nbsp;sailor&#34;</span><span class="op" id="8104087">)</span><span class="op" id="8104088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104092">T</span><span class="op" id="8104093">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8104102">&amp;</span><span class="ident" id="8104103">T2</span><span class="op" id="8104105">{</span><span class="string" id="8104106">&#34;this&nbsp;is&nbsp;T2&#34;</span><span class="op" id="8104118">}</span><span class="op" id="8104119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104122">}</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104125">b</span>&nbsp;<span class="op" id="8104127">:=</span>&nbsp;<span class="builtinfunc" id="8104130">new</span><span class="op" id="8104133">(</span><span class="ident" id="8104134">bytes</span><span class="op" id="8104139">.</span><span class="ident" id="8104140">Buffer</span><span class="op" id="8104146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104149">err</span>&nbsp;<span class="op" id="8104153">:=</span>&nbsp;<span class="ident" id="8104156">NewEncoder</span><span class="op" id="8104166">(</span><span class="ident" id="8104167">b</span><span class="op" id="8104168">)</span><span class="op" id="8104169">.</span><span class="ident" id="8104170">Encode</span><span class="op" id="8104176">(</span><span class="ident" id="8104177">t1</span><span class="op" id="8104179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104182">if</span>&nbsp;<span class="ident" id="8104185">err</span>&nbsp;<span class="op" id="8104189">!=</span>&nbsp;<span class="ident" id="8104192">nil</span>&nbsp;<span class="op" id="8104196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104200">t</span><span class="op" id="8104201">.</span><span class="ident" id="8104202">Error</span><span class="op" id="8104207">(</span><span class="string" id="8104208">&#34;encode:&#34;</span><span class="op" id="8104217">,</span>&nbsp;<span class="ident" id="8104219">err</span><span class="op" id="8104222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104225">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104228">var</span>&nbsp;<span class="ident" id="8104232">_t1</span>&nbsp;<span class="ident" id="8104236">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104240">err</span>&nbsp;<span class="op" id="8104244">=</span>&nbsp;<span class="ident" id="8104246">NewDecoder</span><span class="op" id="8104256">(</span><span class="ident" id="8104257">b</span><span class="op" id="8104258">)</span><span class="op" id="8104259">.</span><span class="ident" id="8104260">Decode</span><span class="op" id="8104266">(</span><span class="op" id="8104267">&amp;</span><span class="ident" id="8104268">_t1</span><span class="op" id="8104271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104274">if</span>&nbsp;<span class="ident" id="8104277">err</span>&nbsp;<span class="op" id="8104281">!=</span>&nbsp;<span class="ident" id="8104284">nil</span>&nbsp;<span class="op" id="8104288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104292">t</span><span class="op" id="8104293">.</span><span class="ident" id="8104294">Fatal</span><span class="op" id="8104299">(</span><span class="string" id="8104300">&#34;decode:&#34;</span><span class="op" id="8104309">,</span>&nbsp;<span class="ident" id="8104311">err</span><span class="op" id="8104314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104317">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104320">if</span>&nbsp;<span class="op" id="8104323">!</span><span class="ident" id="8104324">reflect</span><span class="op" id="8104331">.</span><span class="ident" id="8104332">DeepEqual</span><span class="op" id="8104341">(</span><span class="ident" id="8104342">t1</span><span class="op" id="8104344">,</span>&nbsp;<span class="op" id="8104346">&amp;</span><span class="ident" id="8104347">_t1</span><span class="op" id="8104350">)</span>&nbsp;<span class="op" id="8104352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104356">t</span><span class="op" id="8104357">.</span><span class="ident" id="8104358">Errorf</span><span class="op" id="8104364">(</span><span class="string" id="8104365">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8104392">,</span>&nbsp;<span class="op" id="8104394">*</span><span class="ident" id="8104395">t1</span><span class="op" id="8104397">,</span>&nbsp;<span class="ident" id="8104399">_t1</span><span class="op" id="8104402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8104408">//&nbsp;Be&nbsp;absolutely&nbsp;sure&nbsp;the&nbsp;received&nbsp;map&nbsp;is&nbsp;non-nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104460">if</span>&nbsp;<span class="ident" id="8104463">t1</span><span class="op" id="8104465">.</span><span class="ident" id="8104466">EmptyMap</span>&nbsp;<span class="op" id="8104475">==</span>&nbsp;<span class="ident" id="8104478">nil</span>&nbsp;<span class="op" id="8104482">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104486">t</span><span class="op" id="8104487">.</span><span class="ident" id="8104488">Errorf</span><span class="op" id="8104494">(</span><span class="string" id="8104495">&#34;nil&nbsp;map&nbsp;sent&#34;</span><span class="op" id="8104509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104515">if</span>&nbsp;<span class="ident" id="8104518">_t1</span><span class="op" id="8104521">.</span><span class="ident" id="8104522">EmptyMap</span>&nbsp;<span class="op" id="8104531">==</span>&nbsp;<span class="ident" id="8104534">nil</span>&nbsp;<span class="op" id="8104538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104542">t</span><span class="op" id="8104543">.</span><span class="ident" id="8104544">Errorf</span><span class="op" id="8104550">(</span><span class="string" id="8104551">&#34;nil&nbsp;map&nbsp;received&#34;</span><span class="op" id="8104569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104572">}</span><br>
<span class="lineno">600</span><span class="op" id="8104574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8104577">func</span>&nbsp;<span class="ident" id="8104582">TestOverflow</span><span class="op" id="8104594">(</span><span class="ident" id="8104595">t</span>&nbsp;<span class="op" id="8104597">*</span><span class="ident" id="8104598">testing</span><span class="op" id="8104605">.</span><span class="ident" id="8104606">T</span><span class="op" id="8104607">)</span>&nbsp;<span class="op" id="8104609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104612">type</span>&nbsp;<span class="ident" id="8104617">inputT</span>&nbsp;<span class="keyword" id="8104624">struct</span>&nbsp;<span class="op" id="8104631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104635">Maxi</span>&nbsp;<span class="ident" id="8104640">int64</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104648">Mini</span>&nbsp;<span class="ident" id="8104653">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104661">Maxu</span>&nbsp;<span class="ident" id="8104666">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104675">Maxf</span>&nbsp;<span class="builtintype" id="8104680">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104690">Minf</span>&nbsp;<span class="builtintype" id="8104695">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104705">Maxc</span>&nbsp;<span class="builtintype" id="8104710">complex128</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104723">Minc</span>&nbsp;<span class="builtintype" id="8104728">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104743">var</span>&nbsp;<span class="ident" id="8104747">it</span>&nbsp;<span class="ident" id="8104750">inputT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104758">var</span>&nbsp;<span class="ident" id="8104762">err</span>&nbsp;<span class="builtintype" id="8104766">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104773">b</span>&nbsp;<span class="op" id="8104775">:=</span>&nbsp;<span class="builtinfunc" id="8104778">new</span><span class="op" id="8104781">(</span><span class="ident" id="8104782">bytes</span><span class="op" id="8104787">.</span><span class="ident" id="8104788">Buffer</span><span class="op" id="8104794">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104797">enc</span>&nbsp;<span class="op" id="8104801">:=</span>&nbsp;<span class="ident" id="8104804">NewEncoder</span><span class="op" id="8104814">(</span><span class="ident" id="8104815">b</span><span class="op" id="8104816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104819">dec</span>&nbsp;<span class="op" id="8104823">:=</span>&nbsp;<span class="ident" id="8104826">NewDecoder</span><span class="op" id="8104836">(</span><span class="ident" id="8104837">b</span><span class="op" id="8104838">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8104842">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104851">b</span><span class="op" id="8104852">.</span><span class="ident" id="8104853">Reset</span><span class="op" id="8104858">(</span><span class="op" id="8104859">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104862">it</span>&nbsp;<span class="op" id="8104865">=</span>&nbsp;<span class="ident" id="8104867">inputT</span><span class="op" id="8104873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104877">Maxi</span><span class="op" id="8104881">:</span>&nbsp;<span class="ident" id="8104883">math</span><span class="op" id="8104887">.</span><span class="ident" id="8104888">MaxInt8</span>&nbsp;<span class="op" id="8104896">+</span>&nbsp;<span class="num" id="8104898">1</span><span class="op" id="8104899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104905">type</span>&nbsp;<span class="ident" id="8104910">outi8</span>&nbsp;<span class="keyword" id="8104916">struct</span>&nbsp;<span class="op" id="8104923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104927">Maxi</span>&nbsp;<span class="builtintype" id="8104932">int8</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104939">Mini</span>&nbsp;<span class="builtintype" id="8104944">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104953">var</span>&nbsp;<span class="ident" id="8104957">o1</span>&nbsp;<span class="ident" id="8104960">outi8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104967">enc</span><span class="op" id="8104970">.</span><span class="ident" id="8104971">Encode</span><span class="op" id="8104977">(</span><span class="ident" id="8104978">it</span><span class="op" id="8104980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104983">err</span>&nbsp;<span class="op" id="8104987">=</span>&nbsp;<span class="ident" id="8104989">dec</span><span class="op" id="8104992">.</span><span class="ident" id="8104993">Decode</span><span class="op" id="8104999">(</span><span class="op" id="8105000">&amp;</span><span class="ident" id="8105001">o1</span><span class="op" id="8105003">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8105006">if</span>&nbsp;<span class="ident" id="8105009">err</span>&nbsp;<span class="op" id="8105013">==</span>&nbsp;<span class="ident" id="8105016">nil</span>&nbsp;<span class="op" id="8105020">||</span>&nbsp;<span class="ident" id="8105023">err</span><span class="op" id="8105026">.</span><span class="ident" id="8105027">Error</span><span class="op" id="8105032">(</span><span class="op" id="8105033">)</span>&nbsp;<span class="op" id="8105035">!=</span>&nbsp;<span class="string" id="8105038">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8105070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105074">t</span><span class="op" id="8105075">.</span><span class="ident" id="8105076">Error</span><span class="op" id="8105081">(</span><span class="string" id="8105082">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8105114">,</span>&nbsp;<span class="ident" id="8105116">err</span><span class="op" id="8105119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105125">it</span>&nbsp;<span class="op" id="8105128">=</span>&nbsp;<span class="ident" id="8105130">inputT</span><span class="op" id="8105136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105140">Mini</span><span class="op" id="8105144">:</span>&nbsp;<span class="ident" id="8105146">math</span><span class="op" id="8105150">.</span><span class="ident" id="8105151">MinInt8</span>&nbsp;<span class="op" id="8105159">-</span>&nbsp;<span class="num" id="8105161">1</span><span class="op" id="8105162">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105168">b</span><span class="op" id="8105169">.</span><span class="ident" id="8105170">Reset</span><span class="op" id="8105175">(</span><span class="op" id="8105176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105179">enc</span><span class="op" id="8105182">.</span><span class="ident" id="8105183">Encode</span><span class="op" id="8105189">(</span><span class="ident" id="8105190">it</span><span class="op" id="8105192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105195">err</span>&nbsp;<span class="op" id="8105199">=</span>&nbsp;<span class="ident" id="8105201">dec</span><span class="op" id="8105204">.</span><span class="ident" id="8105205">Decode</span><span class="op" id="8105211">(</span><span class="op" id="8105212">&amp;</span><span class="ident" id="8105213">o1</span><span class="op" id="8105215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8105218">if</span>&nbsp;<span class="ident" id="8105221">err</span>&nbsp;<span class="op" id="8105225">==</span>&nbsp;<span class="ident" id="8105228">nil</span>&nbsp;<span class="op" id="8105232">||</span>&nbsp;<span class="ident" id="8105235">err</span><span class="op" id="8105238">.</span><span class="ident" id="8105239">Error</span><span class="op" id="8105244">(</span><span class="op" id="8105245">)</span>&nbsp;<span class="op" id="8105247">!=</span>&nbsp;<span class="string" id="8105250">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8105282">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105286">t</span><span class="op" id="8105287">.</span><span class="ident" id="8105288">Error</span><span class="op" id="8105293">(</span><span class="string" id="8105294">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8105327">,</span>&nbsp;<span class="ident" id="8105329">err</span><span class="op" id="8105332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8105339">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105349">b</span><span class="op" id="8105350">.</span><span class="ident" id="8105351">Reset</span><span class="op" id="8105356">(</span><span class="op" id="8105357">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105360">it</span>&nbsp;<span class="op" id="8105363">=</span>&nbsp;<span class="ident" id="8105365">inputT</span><span class="op" id="8105371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105375">Maxi</span><span class="op" id="8105379">:</span>&nbsp;<span class="ident" id="8105381">math</span><span class="op" id="8105385">.</span><span class="ident" id="8105386">MaxInt16</span>&nbsp;<span class="op" id="8105395">+</span>&nbsp;<span class="num" id="8105397">1</span><span class="op" id="8105398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8105404">type</span>&nbsp;<span class="ident" id="8105409">outi16</span>&nbsp;<span class="keyword" id="8105416">struct</span>&nbsp;<span class="op" id="8105423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105427">Maxi</span>&nbsp;<span class="builtintype" id="8105432">int16</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105440">Mini</span>&nbsp;<span class="builtintype" id="8105445">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8105455">var</span>&nbsp;<span class="ident" id="8105459">o2</span>&nbsp;<span class="ident" id="8105462">outi16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105470">enc</span><span class="op" id="8105473">.</span><span class="ident" id="8105474">Encode</span><span class="op" id="8105480">(</span><span class="ident" id="8105481">it</span><span class="op" id="8105483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105486">err</span>&nbsp;<span class="op" id="8105490">=</span>&nbsp;<span class="ident" id="8105492">dec</span><span class="op" id="8105495">.</span><span class="ident" id="8105496">Decode</span><span class="op" id="8105502">(</span><span class="op" id="8105503">&amp;</span><span class="ident" id="8105504">o2</span><span class="op" id="8105506">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8105509">if</span>&nbsp;<span class="ident" id="8105512">err</span>&nbsp;<span class="op" id="8105516">==</span>&nbsp;<span class="ident" id="8105519">nil</span>&nbsp;<span class="op" id="8105523">||</span>&nbsp;<span class="ident" id="8105526">err</span><span class="op" id="8105529">.</span><span class="ident" id="8105530">Error</span><span class="op" id="8105535">(</span><span class="op" id="8105536">)</span>&nbsp;<span class="op" id="8105538">!=</span>&nbsp;<span class="string" id="8105541">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8105573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105577">t</span><span class="op" id="8105578">.</span><span class="ident" id="8105579">Error</span><span class="op" id="8105584">(</span><span class="string" id="8105585">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8105618">,</span>&nbsp;<span class="ident" id="8105620">err</span><span class="op" id="8105623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105629">it</span>&nbsp;<span class="op" id="8105632">=</span>&nbsp;<span class="ident" id="8105634">inputT</span><span class="op" id="8105640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105644">Mini</span><span class="op" id="8105648">:</span>&nbsp;<span class="ident" id="8105650">math</span><span class="op" id="8105654">.</span><span class="ident" id="8105655">MinInt16</span>&nbsp;<span class="op" id="8105664">-</span>&nbsp;<span class="num" id="8105666">1</span><span class="op" id="8105667">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105673">b</span><span class="op" id="8105674">.</span><span class="ident" id="8105675">Reset</span><span class="op" id="8105680">(</span><span class="op" id="8105681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105684">enc</span><span class="op" id="8105687">.</span><span class="ident" id="8105688">Encode</span><span class="op" id="8105694">(</span><span class="ident" id="8105695">it</span><span class="op" id="8105697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105700">err</span>&nbsp;<span class="op" id="8105704">=</span>&nbsp;<span class="ident" id="8105706">dec</span><span class="op" id="8105709">.</span><span class="ident" id="8105710">Decode</span><span class="op" id="8105716">(</span><span class="op" id="8105717">&amp;</span><span class="ident" id="8105718">o2</span><span class="op" id="8105720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8105723">if</span>&nbsp;<span class="ident" id="8105726">err</span>&nbsp;<span class="op" id="8105730">==</span>&nbsp;<span class="ident" id="8105733">nil</span>&nbsp;<span class="op" id="8105737">||</span>&nbsp;<span class="ident" id="8105740">err</span><span class="op" id="8105743">.</span><span class="ident" id="8105744">Error</span><span class="op" id="8105749">(</span><span class="op" id="8105750">)</span>&nbsp;<span class="op" id="8105752">!=</span>&nbsp;<span class="string" id="8105755">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8105787">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105791">t</span><span class="op" id="8105792">.</span><span class="ident" id="8105793">Error</span><span class="op" id="8105798">(</span><span class="string" id="8105799">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8105833">,</span>&nbsp;<span class="ident" id="8105835">err</span><span class="op" id="8105838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8105845">//&nbsp;int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105855">b</span><span class="op" id="8105856">.</span><span class="ident" id="8105857">Reset</span><span class="op" id="8105862">(</span><span class="op" id="8105863">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105866">it</span>&nbsp;<span class="op" id="8105869">=</span>&nbsp;<span class="ident" id="8105871">inputT</span><span class="op" id="8105877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105881">Maxi</span><span class="op" id="8105885">:</span>&nbsp;<span class="ident" id="8105887">math</span><span class="op" id="8105891">.</span><span class="ident" id="8105892">MaxInt32</span>&nbsp;<span class="op" id="8105901">+</span>&nbsp;<span class="num" id="8105903">1</span><span class="op" id="8105904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8105910">type</span>&nbsp;<span class="ident" id="8105915">outi32</span>&nbsp;<span class="keyword" id="8105922">struct</span>&nbsp;<span class="op" id="8105929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105933">Maxi</span>&nbsp;<span class="builtintype" id="8105938">int32</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105946">Mini</span>&nbsp;<span class="builtintype" id="8105951">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8105961">var</span>&nbsp;<span class="ident" id="8105965">o3</span>&nbsp;<span class="ident" id="8105968">outi32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105976">enc</span><span class="op" id="8105979">.</span><span class="ident" id="8105980">Encode</span><span class="op" id="8105986">(</span><span class="ident" id="8105987">it</span><span class="op" id="8105989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105992">err</span>&nbsp;<span class="op" id="8105996">=</span>&nbsp;<span class="ident" id="8105998">dec</span><span class="op" id="8106001">.</span><span class="ident" id="8106002">Decode</span><span class="op" id="8106008">(</span><span class="op" id="8106009">&amp;</span><span class="ident" id="8106010">o3</span><span class="op" id="8106012">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106015">if</span>&nbsp;<span class="ident" id="8106018">err</span>&nbsp;<span class="op" id="8106022">==</span>&nbsp;<span class="ident" id="8106025">nil</span>&nbsp;<span class="op" id="8106029">||</span>&nbsp;<span class="ident" id="8106032">err</span><span class="op" id="8106035">.</span><span class="ident" id="8106036">Error</span><span class="op" id="8106041">(</span><span class="op" id="8106042">)</span>&nbsp;<span class="op" id="8106044">!=</span>&nbsp;<span class="string" id="8106047">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8106079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106083">t</span><span class="op" id="8106084">.</span><span class="ident" id="8106085">Error</span><span class="op" id="8106090">(</span><span class="string" id="8106091">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8106124">,</span>&nbsp;<span class="ident" id="8106126">err</span><span class="op" id="8106129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106135">it</span>&nbsp;<span class="op" id="8106138">=</span>&nbsp;<span class="ident" id="8106140">inputT</span><span class="op" id="8106146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106150">Mini</span><span class="op" id="8106154">:</span>&nbsp;<span class="ident" id="8106156">math</span><span class="op" id="8106160">.</span><span class="ident" id="8106161">MinInt32</span>&nbsp;<span class="op" id="8106170">-</span>&nbsp;<span class="num" id="8106172">1</span><span class="op" id="8106173">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106179">b</span><span class="op" id="8106180">.</span><span class="ident" id="8106181">Reset</span><span class="op" id="8106186">(</span><span class="op" id="8106187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106190">enc</span><span class="op" id="8106193">.</span><span class="ident" id="8106194">Encode</span><span class="op" id="8106200">(</span><span class="ident" id="8106201">it</span><span class="op" id="8106203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106206">err</span>&nbsp;<span class="op" id="8106210">=</span>&nbsp;<span class="ident" id="8106212">dec</span><span class="op" id="8106215">.</span><span class="ident" id="8106216">Decode</span><span class="op" id="8106222">(</span><span class="op" id="8106223">&amp;</span><span class="ident" id="8106224">o3</span><span class="op" id="8106226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106229">if</span>&nbsp;<span class="ident" id="8106232">err</span>&nbsp;<span class="op" id="8106236">==</span>&nbsp;<span class="ident" id="8106239">nil</span>&nbsp;<span class="op" id="8106243">||</span>&nbsp;<span class="ident" id="8106246">err</span><span class="op" id="8106249">.</span><span class="ident" id="8106250">Error</span><span class="op" id="8106255">(</span><span class="op" id="8106256">)</span>&nbsp;<span class="op" id="8106258">!=</span>&nbsp;<span class="string" id="8106261">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8106293">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106297">t</span><span class="op" id="8106298">.</span><span class="ident" id="8106299">Error</span><span class="op" id="8106304">(</span><span class="string" id="8106305">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8106339">,</span>&nbsp;<span class="ident" id="8106341">err</span><span class="op" id="8106344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8106351">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106361">b</span><span class="op" id="8106362">.</span><span class="ident" id="8106363">Reset</span><span class="op" id="8106368">(</span><span class="op" id="8106369">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106372">it</span>&nbsp;<span class="op" id="8106375">=</span>&nbsp;<span class="ident" id="8106377">inputT</span><span class="op" id="8106383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106387">Maxu</span><span class="op" id="8106391">:</span>&nbsp;<span class="ident" id="8106393">math</span><span class="op" id="8106397">.</span><span class="ident" id="8106398">MaxUint8</span>&nbsp;<span class="op" id="8106407">+</span>&nbsp;<span class="num" id="8106409">1</span><span class="op" id="8106410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106416">type</span>&nbsp;<span class="ident" id="8106421">outu8</span>&nbsp;<span class="keyword" id="8106427">struct</span>&nbsp;<span class="op" id="8106434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106438">Maxu</span>&nbsp;<span class="builtintype" id="8106443">uint8</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106453">var</span>&nbsp;<span class="ident" id="8106457">o4</span>&nbsp;<span class="ident" id="8106460">outu8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106467">enc</span><span class="op" id="8106470">.</span><span class="ident" id="8106471">Encode</span><span class="op" id="8106477">(</span><span class="ident" id="8106478">it</span><span class="op" id="8106480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106483">err</span>&nbsp;<span class="op" id="8106487">=</span>&nbsp;<span class="ident" id="8106489">dec</span><span class="op" id="8106492">.</span><span class="ident" id="8106493">Decode</span><span class="op" id="8106499">(</span><span class="op" id="8106500">&amp;</span><span class="ident" id="8106501">o4</span><span class="op" id="8106503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106506">if</span>&nbsp;<span class="ident" id="8106509">err</span>&nbsp;<span class="op" id="8106513">==</span>&nbsp;<span class="ident" id="8106516">nil</span>&nbsp;<span class="op" id="8106520">||</span>&nbsp;<span class="ident" id="8106523">err</span><span class="op" id="8106526">.</span><span class="ident" id="8106527">Error</span><span class="op" id="8106532">(</span><span class="op" id="8106533">)</span>&nbsp;<span class="op" id="8106535">!=</span>&nbsp;<span class="string" id="8106538">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8106570">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106574">t</span><span class="op" id="8106575">.</span><span class="ident" id="8106576">Error</span><span class="op" id="8106581">(</span><span class="string" id="8106582">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint8:&#34;</span><span class="op" id="8106615">,</span>&nbsp;<span class="ident" id="8106617">err</span><span class="op" id="8106620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8106627">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106638">b</span><span class="op" id="8106639">.</span><span class="ident" id="8106640">Reset</span><span class="op" id="8106645">(</span><span class="op" id="8106646">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106649">it</span>&nbsp;<span class="op" id="8106652">=</span>&nbsp;<span class="ident" id="8106654">inputT</span><span class="op" id="8106660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106664">Maxu</span><span class="op" id="8106668">:</span>&nbsp;<span class="ident" id="8106670">math</span><span class="op" id="8106674">.</span><span class="ident" id="8106675">MaxUint16</span>&nbsp;<span class="op" id="8106685">+</span>&nbsp;<span class="num" id="8106687">1</span><span class="op" id="8106688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106694">type</span>&nbsp;<span class="ident" id="8106699">outu16</span>&nbsp;<span class="keyword" id="8106706">struct</span>&nbsp;<span class="op" id="8106713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106717">Maxu</span>&nbsp;<span class="builtintype" id="8106722">uint16</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106733">var</span>&nbsp;<span class="ident" id="8106737">o5</span>&nbsp;<span class="ident" id="8106740">outu16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106748">enc</span><span class="op" id="8106751">.</span><span class="ident" id="8106752">Encode</span><span class="op" id="8106758">(</span><span class="ident" id="8106759">it</span><span class="op" id="8106761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106764">err</span>&nbsp;<span class="op" id="8106768">=</span>&nbsp;<span class="ident" id="8106770">dec</span><span class="op" id="8106773">.</span><span class="ident" id="8106774">Decode</span><span class="op" id="8106780">(</span><span class="op" id="8106781">&amp;</span><span class="ident" id="8106782">o5</span><span class="op" id="8106784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106787">if</span>&nbsp;<span class="ident" id="8106790">err</span>&nbsp;<span class="op" id="8106794">==</span>&nbsp;<span class="ident" id="8106797">nil</span>&nbsp;<span class="op" id="8106801">||</span>&nbsp;<span class="ident" id="8106804">err</span><span class="op" id="8106807">.</span><span class="ident" id="8106808">Error</span><span class="op" id="8106813">(</span><span class="op" id="8106814">)</span>&nbsp;<span class="op" id="8106816">!=</span>&nbsp;<span class="string" id="8106819">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8106851">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106855">t</span><span class="op" id="8106856">.</span><span class="ident" id="8106857">Error</span><span class="op" id="8106862">(</span><span class="string" id="8106863">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint16:&#34;</span><span class="op" id="8106897">,</span>&nbsp;<span class="ident" id="8106899">err</span><span class="op" id="8106902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8106909">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106920">b</span><span class="op" id="8106921">.</span><span class="ident" id="8106922">Reset</span><span class="op" id="8106927">(</span><span class="op" id="8106928">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106931">it</span>&nbsp;<span class="op" id="8106934">=</span>&nbsp;<span class="ident" id="8106936">inputT</span><span class="op" id="8106942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106946">Maxu</span><span class="op" id="8106950">:</span>&nbsp;<span class="ident" id="8106952">math</span><span class="op" id="8106956">.</span><span class="ident" id="8106957">MaxUint32</span>&nbsp;<span class="op" id="8106967">+</span>&nbsp;<span class="num" id="8106969">1</span><span class="op" id="8106970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106976">type</span>&nbsp;<span class="ident" id="8106981">outu32</span>&nbsp;<span class="keyword" id="8106988">struct</span>&nbsp;<span class="op" id="8106995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106999">Maxu</span>&nbsp;<span class="builtintype" id="8107004">uint32</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107015">var</span>&nbsp;<span class="ident" id="8107019">o6</span>&nbsp;<span class="ident" id="8107022">outu32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107030">enc</span><span class="op" id="8107033">.</span><span class="ident" id="8107034">Encode</span><span class="op" id="8107040">(</span><span class="ident" id="8107041">it</span><span class="op" id="8107043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107046">err</span>&nbsp;<span class="op" id="8107050">=</span>&nbsp;<span class="ident" id="8107052">dec</span><span class="op" id="8107055">.</span><span class="ident" id="8107056">Decode</span><span class="op" id="8107062">(</span><span class="op" id="8107063">&amp;</span><span class="ident" id="8107064">o6</span><span class="op" id="8107066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107069">if</span>&nbsp;<span class="ident" id="8107072">err</span>&nbsp;<span class="op" id="8107076">==</span>&nbsp;<span class="ident" id="8107079">nil</span>&nbsp;<span class="op" id="8107083">||</span>&nbsp;<span class="ident" id="8107086">err</span><span class="op" id="8107089">.</span><span class="ident" id="8107090">Error</span><span class="op" id="8107095">(</span><span class="op" id="8107096">)</span>&nbsp;<span class="op" id="8107098">!=</span>&nbsp;<span class="string" id="8107101">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8107133">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107137">t</span><span class="op" id="8107138">.</span><span class="ident" id="8107139">Error</span><span class="op" id="8107144">(</span><span class="string" id="8107145">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint32:&#34;</span><span class="op" id="8107179">,</span>&nbsp;<span class="ident" id="8107181">err</span><span class="op" id="8107184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8107191">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107203">b</span><span class="op" id="8107204">.</span><span class="ident" id="8107205">Reset</span><span class="op" id="8107210">(</span><span class="op" id="8107211">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107214">it</span>&nbsp;<span class="op" id="8107217">=</span>&nbsp;<span class="ident" id="8107219">inputT</span><span class="op" id="8107225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107229">Maxf</span><span class="op" id="8107233">:</span>&nbsp;<span class="ident" id="8107235">math</span><span class="op" id="8107239">.</span><span class="ident" id="8107240">MaxFloat32</span>&nbsp;<span class="op" id="8107251">*</span>&nbsp;<span class="num" id="8107253">2</span><span class="op" id="8107254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107260">type</span>&nbsp;<span class="ident" id="8107265">outf32</span>&nbsp;<span class="keyword" id="8107272">struct</span>&nbsp;<span class="op" id="8107279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107283">Maxf</span>&nbsp;<span class="builtintype" id="8107288">float32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107298">Minf</span>&nbsp;<span class="builtintype" id="8107303">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107315">var</span>&nbsp;<span class="ident" id="8107319">o7</span>&nbsp;<span class="ident" id="8107322">outf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107330">enc</span><span class="op" id="8107333">.</span><span class="ident" id="8107334">Encode</span><span class="op" id="8107340">(</span><span class="ident" id="8107341">it</span><span class="op" id="8107343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107346">err</span>&nbsp;<span class="op" id="8107350">=</span>&nbsp;<span class="ident" id="8107352">dec</span><span class="op" id="8107355">.</span><span class="ident" id="8107356">Decode</span><span class="op" id="8107362">(</span><span class="op" id="8107363">&amp;</span><span class="ident" id="8107364">o7</span><span class="op" id="8107366">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107369">if</span>&nbsp;<span class="ident" id="8107372">err</span>&nbsp;<span class="op" id="8107376">==</span>&nbsp;<span class="ident" id="8107379">nil</span>&nbsp;<span class="op" id="8107383">||</span>&nbsp;<span class="ident" id="8107386">err</span><span class="op" id="8107389">.</span><span class="ident" id="8107390">Error</span><span class="op" id="8107395">(</span><span class="op" id="8107396">)</span>&nbsp;<span class="op" id="8107398">!=</span>&nbsp;<span class="string" id="8107401">`value&nbsp;for&nbsp;&#34;Maxf&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8107433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107437">t</span><span class="op" id="8107438">.</span><span class="ident" id="8107439">Error</span><span class="op" id="8107444">(</span><span class="string" id="8107445">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;float32:&#34;</span><span class="op" id="8107480">,</span>&nbsp;<span class="ident" id="8107482">err</span><span class="op" id="8107485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8107492">//&nbsp;complex64</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107506">b</span><span class="op" id="8107507">.</span><span class="ident" id="8107508">Reset</span><span class="op" id="8107513">(</span><span class="op" id="8107514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107517">it</span>&nbsp;<span class="op" id="8107520">=</span>&nbsp;<span class="ident" id="8107522">inputT</span><span class="op" id="8107528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107532">Maxc</span><span class="op" id="8107536">:</span>&nbsp;<span class="builtinfunc" id="8107538">complex</span><span class="op" id="8107545">(</span><span class="ident" id="8107546">math</span><span class="op" id="8107550">.</span><span class="ident" id="8107551">MaxFloat32</span><span class="op" id="8107561">*</span><span class="num" id="8107562">2</span><span class="op" id="8107563">,</span>&nbsp;<span class="ident" id="8107565">math</span><span class="op" id="8107569">.</span><span class="ident" id="8107570">MaxFloat32</span><span class="op" id="8107580">*</span><span class="num" id="8107581">2</span><span class="op" id="8107582">)</span><span class="op" id="8107583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107589">type</span>&nbsp;<span class="ident" id="8107594">outc64</span>&nbsp;<span class="keyword" id="8107601">struct</span>&nbsp;<span class="op" id="8107608">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107612">Maxc</span>&nbsp;<span class="builtintype" id="8107617">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107629">Minc</span>&nbsp;<span class="builtintype" id="8107634">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107648">var</span>&nbsp;<span class="ident" id="8107652">o8</span>&nbsp;<span class="ident" id="8107655">outc64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107663">enc</span><span class="op" id="8107666">.</span><span class="ident" id="8107667">Encode</span><span class="op" id="8107673">(</span><span class="ident" id="8107674">it</span><span class="op" id="8107676">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107679">err</span>&nbsp;<span class="op" id="8107683">=</span>&nbsp;<span class="ident" id="8107685">dec</span><span class="op" id="8107688">.</span><span class="ident" id="8107689">Decode</span><span class="op" id="8107695">(</span><span class="op" id="8107696">&amp;</span><span class="ident" id="8107697">o8</span><span class="op" id="8107699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107702">if</span>&nbsp;<span class="ident" id="8107705">err</span>&nbsp;<span class="op" id="8107709">==</span>&nbsp;<span class="ident" id="8107712">nil</span>&nbsp;<span class="op" id="8107716">||</span>&nbsp;<span class="ident" id="8107719">err</span><span class="op" id="8107722">.</span><span class="ident" id="8107723">Error</span><span class="op" id="8107728">(</span><span class="op" id="8107729">)</span>&nbsp;<span class="op" id="8107731">!=</span>&nbsp;<span class="string" id="8107734">`value&nbsp;for&nbsp;&#34;Maxc&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8107766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107770">t</span><span class="op" id="8107771">.</span><span class="ident" id="8107772">Error</span><span class="op" id="8107777">(</span><span class="string" id="8107778">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;complex64:&#34;</span><span class="op" id="8107815">,</span>&nbsp;<span class="ident" id="8107817">err</span><span class="op" id="8107820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107823">}</span><br>
<span class="lineno"></span><span class="op" id="8107825">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="keyword" id="8107828">func</span>&nbsp;<span class="ident" id="8107833">TestNesting</span><span class="op" id="8107844">(</span><span class="ident" id="8107845">t</span>&nbsp;<span class="op" id="8107847">*</span><span class="ident" id="8107848">testing</span><span class="op" id="8107855">.</span><span class="ident" id="8107856">T</span><span class="op" id="8107857">)</span>&nbsp;<span class="op" id="8107859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107862">type</span>&nbsp;<span class="ident" id="8107867">RT</span>&nbsp;<span class="keyword" id="8107870">struct</span>&nbsp;<span class="op" id="8107877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107881">A</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8107886">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107895">Next</span>&nbsp;<span class="op" id="8107900">*</span><span class="ident" id="8107901">RT</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107908">rt</span>&nbsp;<span class="op" id="8107911">:=</span>&nbsp;<span class="builtinfunc" id="8107914">new</span><span class="op" id="8107917">(</span><span class="ident" id="8107918">RT</span><span class="op" id="8107920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107923">rt</span><span class="op" id="8107925">.</span><span class="ident" id="8107926">A</span>&nbsp;<span class="op" id="8107928">=</span>&nbsp;<span class="string" id="8107930">&#34;level1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107940">rt</span><span class="op" id="8107942">.</span><span class="ident" id="8107943">Next</span>&nbsp;<span class="op" id="8107948">=</span>&nbsp;<span class="builtinfunc" id="8107950">new</span><span class="op" id="8107953">(</span><span class="ident" id="8107954">RT</span><span class="op" id="8107956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107959">rt</span><span class="op" id="8107961">.</span><span class="ident" id="8107962">Next</span><span class="op" id="8107966">.</span><span class="ident" id="8107967">A</span>&nbsp;<span class="op" id="8107969">=</span>&nbsp;<span class="string" id="8107971">&#34;level2&#34;</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107981">b</span>&nbsp;<span class="op" id="8107983">:=</span>&nbsp;<span class="builtinfunc" id="8107986">new</span><span class="op" id="8107989">(</span><span class="ident" id="8107990">bytes</span><span class="op" id="8107995">.</span><span class="ident" id="8107996">Buffer</span><span class="op" id="8108002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108005">NewEncoder</span><span class="op" id="8108015">(</span><span class="ident" id="8108016">b</span><span class="op" id="8108017">)</span><span class="op" id="8108018">.</span><span class="ident" id="8108019">Encode</span><span class="op" id="8108025">(</span><span class="ident" id="8108026">rt</span><span class="op" id="8108028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108031">var</span>&nbsp;<span class="ident" id="8108035">drt</span>&nbsp;<span class="ident" id="8108039">RT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108043">dec</span>&nbsp;<span class="op" id="8108047">:=</span>&nbsp;<span class="ident" id="8108050">NewDecoder</span><span class="op" id="8108060">(</span><span class="ident" id="8108061">b</span><span class="op" id="8108062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108065">err</span>&nbsp;<span class="op" id="8108069">:=</span>&nbsp;<span class="ident" id="8108072">dec</span><span class="op" id="8108075">.</span><span class="ident" id="8108076">Decode</span><span class="op" id="8108082">(</span><span class="op" id="8108083">&amp;</span><span class="ident" id="8108084">drt</span><span class="op" id="8108087">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108090">if</span>&nbsp;<span class="ident" id="8108093">err</span>&nbsp;<span class="op" id="8108097">!=</span>&nbsp;<span class="ident" id="8108100">nil</span>&nbsp;<span class="op" id="8108104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108108">t</span><span class="op" id="8108109">.</span><span class="ident" id="8108110">Fatal</span><span class="op" id="8108115">(</span><span class="string" id="8108116">&#34;decoder&nbsp;error:&#34;</span><span class="op" id="8108132">,</span>&nbsp;<span class="ident" id="8108134">err</span><span class="op" id="8108137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108143">if</span>&nbsp;<span class="ident" id="8108146">drt</span><span class="op" id="8108149">.</span><span class="ident" id="8108150">A</span>&nbsp;<span class="op" id="8108152">!=</span>&nbsp;<span class="ident" id="8108155">rt</span><span class="op" id="8108157">.</span><span class="ident" id="8108158">A</span>&nbsp;<span class="op" id="8108160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108164">t</span><span class="op" id="8108165">.</span><span class="ident" id="8108166">Errorf</span><span class="op" id="8108172">(</span><span class="string" id="8108173">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8108209">,</span>&nbsp;<span class="op" id="8108211">*</span><span class="ident" id="8108212">rt</span><span class="op" id="8108214">,</span>&nbsp;<span class="ident" id="8108216">drt</span><span class="op" id="8108219">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108225">if</span>&nbsp;<span class="ident" id="8108228">drt</span><span class="op" id="8108231">.</span><span class="ident" id="8108232">Next</span>&nbsp;<span class="op" id="8108237">==</span>&nbsp;<span class="ident" id="8108240">nil</span>&nbsp;<span class="op" id="8108244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108248">t</span><span class="op" id="8108249">.</span><span class="ident" id="8108250">Errorf</span><span class="op" id="8108256">(</span><span class="string" id="8108257">&#34;nesting:&nbsp;recursion&nbsp;failed&#34;</span><span class="op" id="8108284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108290">if</span>&nbsp;<span class="ident" id="8108293">drt</span><span class="op" id="8108296">.</span><span class="ident" id="8108297">Next</span><span class="op" id="8108301">.</span><span class="ident" id="8108302">A</span>&nbsp;<span class="op" id="8108304">!=</span>&nbsp;<span class="ident" id="8108307">rt</span><span class="op" id="8108309">.</span><span class="ident" id="8108310">Next</span><span class="op" id="8108314">.</span><span class="ident" id="8108315">A</span>&nbsp;<span class="op" id="8108317">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108321">t</span><span class="op" id="8108322">.</span><span class="ident" id="8108323">Errorf</span><span class="op" id="8108329">(</span><span class="string" id="8108330">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8108366">,</span>&nbsp;<span class="op" id="8108368">*</span><span class="ident" id="8108369">rt</span><span class="op" id="8108371">.</span><span class="ident" id="8108372">Next</span><span class="op" id="8108376">,</span>&nbsp;<span class="op" id="8108378">*</span><span class="ident" id="8108379">drt</span><span class="op" id="8108382">.</span><span class="ident" id="8108383">Next</span><span class="op" id="8108387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108390">}</span><br>
<span class="lineno"></span><span class="op" id="8108392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8108395">//&nbsp;These&nbsp;three&nbsp;structures&nbsp;have&nbsp;the&nbsp;same&nbsp;data&nbsp;with&nbsp;different&nbsp;indirections</span><br>
<span class="lineno">800</span><span class="keyword" id="8108468">type</span>&nbsp;<span class="ident" id="8108473">T0</span>&nbsp;<span class="keyword" id="8108476">struct</span>&nbsp;<span class="op" id="8108483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108486">A</span>&nbsp;<span class="builtintype" id="8108488">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108493">B</span>&nbsp;<span class="builtintype" id="8108495">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108500">C</span>&nbsp;<span class="builtintype" id="8108502">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108507">D</span>&nbsp;<span class="builtintype" id="8108509">int</span><br>
<span class="lineno">805</span><span class="op" id="8108513">}</span><br>
<span class="lineno"></span><span class="keyword" id="8108515">type</span>&nbsp;<span class="ident" id="8108520">T1</span>&nbsp;<span class="keyword" id="8108523">struct</span>&nbsp;<span class="op" id="8108530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108533">A</span>&nbsp;<span class="builtintype" id="8108535">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108540">B</span>&nbsp;<span class="op" id="8108542">*</span><span class="builtintype" id="8108543">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108548">C</span>&nbsp;<span class="op" id="8108550">*</span><span class="op" id="8108551">*</span><span class="builtintype" id="8108552">int</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108557">D</span>&nbsp;<span class="op" id="8108559">*</span><span class="op" id="8108560">*</span><span class="op" id="8108561">*</span><span class="builtintype" id="8108562">int</span><br>
<span class="lineno"></span><span class="op" id="8108566">}</span><br>
<span class="lineno"></span><span class="keyword" id="8108568">type</span>&nbsp;<span class="ident" id="8108573">T2</span>&nbsp;<span class="keyword" id="8108576">struct</span>&nbsp;<span class="op" id="8108583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108586">A</span>&nbsp;<span class="op" id="8108588">*</span><span class="op" id="8108589">*</span><span class="op" id="8108590">*</span><span class="builtintype" id="8108591">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108596">B</span>&nbsp;<span class="op" id="8108598">*</span><span class="op" id="8108599">*</span><span class="builtintype" id="8108600">int</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108605">C</span>&nbsp;<span class="op" id="8108607">*</span><span class="builtintype" id="8108608">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108613">D</span>&nbsp;<span class="builtintype" id="8108615">int</span><br>
<span class="lineno"></span><span class="op" id="8108619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8108622">func</span>&nbsp;<span class="ident" id="8108627">TestAutoIndirection</span><span class="op" id="8108646">(</span><span class="ident" id="8108647">t</span>&nbsp;<span class="op" id="8108649">*</span><span class="ident" id="8108650">testing</span><span class="op" id="8108657">.</span><span class="ident" id="8108658">T</span><span class="op" id="8108659">)</span>&nbsp;<span class="op" id="8108661">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8108664">//&nbsp;First&nbsp;transfer&nbsp;t1&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108694">var</span>&nbsp;<span class="ident" id="8108698">t1</span>&nbsp;<span class="ident" id="8108701">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108705">t1</span><span class="op" id="8108707">.</span><span class="ident" id="8108708">A</span>&nbsp;<span class="op" id="8108710">=</span>&nbsp;<span class="num" id="8108712">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108716">t1</span><span class="op" id="8108718">.</span><span class="ident" id="8108719">B</span>&nbsp;<span class="op" id="8108721">=</span>&nbsp;<span class="builtinfunc" id="8108723">new</span><span class="op" id="8108726">(</span><span class="builtintype" id="8108727">int</span><span class="op" id="8108730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108733">*</span><span class="ident" id="8108734">t1</span><span class="op" id="8108736">.</span><span class="ident" id="8108737">B</span>&nbsp;<span class="op" id="8108739">=</span>&nbsp;<span class="num" id="8108741">177</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108746">t1</span><span class="op" id="8108748">.</span><span class="ident" id="8108749">C</span>&nbsp;<span class="op" id="8108751">=</span>&nbsp;<span class="builtinfunc" id="8108753">new</span><span class="op" id="8108756">(</span><span class="op" id="8108757">*</span><span class="builtintype" id="8108758">int</span><span class="op" id="8108761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108764">*</span><span class="ident" id="8108765">t1</span><span class="op" id="8108767">.</span><span class="ident" id="8108768">C</span>&nbsp;<span class="op" id="8108770">=</span>&nbsp;<span class="builtinfunc" id="8108772">new</span><span class="op" id="8108775">(</span><span class="builtintype" id="8108776">int</span><span class="op" id="8108779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108782">*</span><span class="op" id="8108783">*</span><span class="ident" id="8108784">t1</span><span class="op" id="8108786">.</span><span class="ident" id="8108787">C</span>&nbsp;<span class="op" id="8108789">=</span>&nbsp;<span class="num" id="8108791">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108797">t1</span><span class="op" id="8108799">.</span><span class="ident" id="8108800">D</span>&nbsp;<span class="op" id="8108802">=</span>&nbsp;<span class="builtinfunc" id="8108804">new</span><span class="op" id="8108807">(</span><span class="op" id="8108808">*</span><span class="op" id="8108809">*</span><span class="builtintype" id="8108810">int</span><span class="op" id="8108813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108816">*</span><span class="ident" id="8108817">t1</span><span class="op" id="8108819">.</span><span class="ident" id="8108820">D</span>&nbsp;<span class="op" id="8108822">=</span>&nbsp;<span class="builtinfunc" id="8108824">new</span><span class="op" id="8108827">(</span><span class="op" id="8108828">*</span><span class="builtintype" id="8108829">int</span><span class="op" id="8108832">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108835">*</span><span class="op" id="8108836">*</span><span class="ident" id="8108837">t1</span><span class="op" id="8108839">.</span><span class="ident" id="8108840">D</span>&nbsp;<span class="op" id="8108842">=</span>&nbsp;<span class="builtinfunc" id="8108844">new</span><span class="op" id="8108847">(</span><span class="builtintype" id="8108848">int</span><span class="op" id="8108851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108854">*</span><span class="op" id="8108855">*</span><span class="op" id="8108856">*</span><span class="ident" id="8108857">t1</span><span class="op" id="8108859">.</span><span class="ident" id="8108860">D</span>&nbsp;<span class="op" id="8108862">=</span>&nbsp;<span class="num" id="8108864">17777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108871">b</span>&nbsp;<span class="op" id="8108873">:=</span>&nbsp;<span class="builtinfunc" id="8108876">new</span><span class="op" id="8108879">(</span><span class="ident" id="8108880">bytes</span><span class="op" id="8108885">.</span><span class="ident" id="8108886">Buffer</span><span class="op" id="8108892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108895">enc</span>&nbsp;<span class="op" id="8108899">:=</span>&nbsp;<span class="ident" id="8108902">NewEncoder</span><span class="op" id="8108912">(</span><span class="ident" id="8108913">b</span><span class="op" id="8108914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108917">enc</span><span class="op" id="8108920">.</span><span class="ident" id="8108921">Encode</span><span class="op" id="8108927">(</span><span class="ident" id="8108928">t1</span><span class="op" id="8108930">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108933">dec</span>&nbsp;<span class="op" id="8108937">:=</span>&nbsp;<span class="ident" id="8108940">NewDecoder</span><span class="op" id="8108950">(</span><span class="ident" id="8108951">b</span><span class="op" id="8108952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108955">var</span>&nbsp;<span class="ident" id="8108959">t0</span>&nbsp;<span class="ident" id="8108962">T0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108966">dec</span><span class="op" id="8108969">.</span><span class="ident" id="8108970">Decode</span><span class="op" id="8108976">(</span><span class="op" id="8108977">&amp;</span><span class="ident" id="8108978">t0</span><span class="op" id="8108980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108983">if</span>&nbsp;<span class="ident" id="8108986">t0</span><span class="op" id="8108988">.</span><span class="ident" id="8108989">A</span>&nbsp;<span class="op" id="8108991">!=</span>&nbsp;<span class="num" id="8108994">17</span>&nbsp;<span class="op" id="8108997">||</span>&nbsp;<span class="ident" id="8109000">t0</span><span class="op" id="8109002">.</span><span class="ident" id="8109003">B</span>&nbsp;<span class="op" id="8109005">!=</span>&nbsp;<span class="num" id="8109008">177</span>&nbsp;<span class="op" id="8109012">||</span>&nbsp;<span class="ident" id="8109015">t0</span><span class="op" id="8109017">.</span><span class="ident" id="8109018">C</span>&nbsp;<span class="op" id="8109020">!=</span>&nbsp;<span class="num" id="8109023">1777</span>&nbsp;<span class="op" id="8109028">||</span>&nbsp;<span class="ident" id="8109031">t0</span><span class="op" id="8109033">.</span><span class="ident" id="8109034">D</span>&nbsp;<span class="op" id="8109036">!=</span>&nbsp;<span class="num" id="8109039">17777</span>&nbsp;<span class="op" id="8109045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109049">t</span><span class="op" id="8109050">.</span><span class="ident" id="8109051">Errorf</span><span class="op" id="8109057">(</span><span class="string" id="8109058">&#34;t1-&gt;t0:&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8109104">,</span>&nbsp;<span class="ident" id="8109106">t0</span><span class="op" id="8109108">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8109115">//&nbsp;Now&nbsp;transfer&nbsp;t2&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109143">var</span>&nbsp;<span class="ident" id="8109147">t2</span>&nbsp;<span class="ident" id="8109150">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109154">t2</span><span class="op" id="8109156">.</span><span class="ident" id="8109157">D</span>&nbsp;<span class="op" id="8109159">=</span>&nbsp;<span class="num" id="8109161">17777</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109168">t2</span><span class="op" id="8109170">.</span><span class="ident" id="8109171">C</span>&nbsp;<span class="op" id="8109173">=</span>&nbsp;<span class="builtinfunc" id="8109175">new</span><span class="op" id="8109178">(</span><span class="builtintype" id="8109179">int</span><span class="op" id="8109182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109185">*</span><span class="ident" id="8109186">t2</span><span class="op" id="8109188">.</span><span class="ident" id="8109189">C</span>&nbsp;<span class="op" id="8109191">=</span>&nbsp;<span class="num" id="8109193">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109199">t2</span><span class="op" id="8109201">.</span><span class="ident" id="8109202">B</span>&nbsp;<span class="op" id="8109204">=</span>&nbsp;<span class="builtinfunc" id="8109206">new</span><span class="op" id="8109209">(</span><span class="op" id="8109210">*</span><span class="builtintype" id="8109211">int</span><span class="op" id="8109214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109217">*</span><span class="ident" id="8109218">t2</span><span class="op" id="8109220">.</span><span class="ident" id="8109221">B</span>&nbsp;<span class="op" id="8109223">=</span>&nbsp;<span class="builtinfunc" id="8109225">new</span><span class="op" id="8109228">(</span><span class="builtintype" id="8109229">int</span><span class="op" id="8109232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109235">*</span><span class="op" id="8109236">*</span><span class="ident" id="8109237">t2</span><span class="op" id="8109239">.</span><span class="ident" id="8109240">B</span>&nbsp;<span class="op" id="8109242">=</span>&nbsp;<span class="num" id="8109244">177</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109249">t2</span><span class="op" id="8109251">.</span><span class="ident" id="8109252">A</span>&nbsp;<span class="op" id="8109254">=</span>&nbsp;<span class="builtinfunc" id="8109256">new</span><span class="op" id="8109259">(</span><span class="op" id="8109260">*</span><span class="op" id="8109261">*</span><span class="builtintype" id="8109262">int</span><span class="op" id="8109265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109268">*</span><span class="ident" id="8109269">t2</span><span class="op" id="8109271">.</span><span class="ident" id="8109272">A</span>&nbsp;<span class="op" id="8109274">=</span>&nbsp;<span class="builtinfunc" id="8109276">new</span><span class="op" id="8109279">(</span><span class="op" id="8109280">*</span><span class="builtintype" id="8109281">int</span><span class="op" id="8109284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109287">*</span><span class="op" id="8109288">*</span><span class="ident" id="8109289">t2</span><span class="op" id="8109291">.</span><span class="ident" id="8109292">A</span>&nbsp;<span class="op" id="8109294">=</span>&nbsp;<span class="builtinfunc" id="8109296">new</span><span class="op" id="8109299">(</span><span class="builtintype" id="8109300">int</span><span class="op" id="8109303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109306">*</span><span class="op" id="8109307">*</span><span class="op" id="8109308">*</span><span class="ident" id="8109309">t2</span><span class="op" id="8109311">.</span><span class="ident" id="8109312">A</span>&nbsp;<span class="op" id="8109314">=</span>&nbsp;<span class="num" id="8109316">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109320">b</span><span class="op" id="8109321">.</span><span class="ident" id="8109322">Reset</span><span class="op" id="8109327">(</span><span class="op" id="8109328">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109331">enc</span><span class="op" id="8109334">.</span><span class="ident" id="8109335">Encode</span><span class="op" id="8109341">(</span><span class="ident" id="8109342">t2</span><span class="op" id="8109344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109347">t0</span>&nbsp;<span class="op" id="8109350">=</span>&nbsp;<span class="ident" id="8109352">T0</span><span class="op" id="8109354">{</span><span class="op" id="8109355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109358">dec</span><span class="op" id="8109361">.</span><span class="ident" id="8109362">Decode</span><span class="op" id="8109368">(</span><span class="op" id="8109369">&amp;</span><span class="ident" id="8109370">t0</span><span class="op" id="8109372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109375">if</span>&nbsp;<span class="ident" id="8109378">t0</span><span class="op" id="8109380">.</span><span class="ident" id="8109381">A</span>&nbsp;<span class="op" id="8109383">!=</span>&nbsp;<span class="num" id="8109386">17</span>&nbsp;<span class="op" id="8109389">||</span>&nbsp;<span class="ident" id="8109392">t0</span><span class="op" id="8109394">.</span><span class="ident" id="8109395">B</span>&nbsp;<span class="op" id="8109397">!=</span>&nbsp;<span class="num" id="8109400">177</span>&nbsp;<span class="op" id="8109404">||</span>&nbsp;<span class="ident" id="8109407">t0</span><span class="op" id="8109409">.</span><span class="ident" id="8109410">C</span>&nbsp;<span class="op" id="8109412">!=</span>&nbsp;<span class="num" id="8109415">1777</span>&nbsp;<span class="op" id="8109420">||</span>&nbsp;<span class="ident" id="8109423">t0</span><span class="op" id="8109425">.</span><span class="ident" id="8109426">D</span>&nbsp;<span class="op" id="8109428">!=</span>&nbsp;<span class="num" id="8109431">17777</span>&nbsp;<span class="op" id="8109437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109441">t</span><span class="op" id="8109442">.</span><span class="ident" id="8109443">Errorf</span><span class="op" id="8109449">(</span><span class="string" id="8109450">&#34;t2-&gt;t0&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8109495">,</span>&nbsp;<span class="ident" id="8109497">t0</span><span class="op" id="8109499">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109502">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8109506">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109534">t0</span>&nbsp;<span class="op" id="8109537">=</span>&nbsp;<span class="ident" id="8109539">T0</span><span class="op" id="8109541">{</span><span class="num" id="8109542">17</span><span class="op" id="8109544">,</span>&nbsp;<span class="num" id="8109546">177</span><span class="op" id="8109549">,</span>&nbsp;<span class="num" id="8109551">1777</span><span class="op" id="8109555">,</span>&nbsp;<span class="num" id="8109557">17777</span><span class="op" id="8109562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109565">b</span><span class="op" id="8109566">.</span><span class="ident" id="8109567">Reset</span><span class="op" id="8109572">(</span><span class="op" id="8109573">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109576">enc</span><span class="op" id="8109579">.</span><span class="ident" id="8109580">Encode</span><span class="op" id="8109586">(</span><span class="ident" id="8109587">t0</span><span class="op" id="8109589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109592">t1</span>&nbsp;<span class="op" id="8109595">=</span>&nbsp;<span class="ident" id="8109597">T1</span><span class="op" id="8109599">{</span><span class="op" id="8109600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109603">dec</span><span class="op" id="8109606">.</span><span class="ident" id="8109607">Decode</span><span class="op" id="8109613">(</span><span class="op" id="8109614">&amp;</span><span class="ident" id="8109615">t1</span><span class="op" id="8109617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109620">if</span>&nbsp;<span class="ident" id="8109623">t1</span><span class="op" id="8109625">.</span><span class="ident" id="8109626">A</span>&nbsp;<span class="op" id="8109628">!=</span>&nbsp;<span class="num" id="8109631">17</span>&nbsp;<span class="op" id="8109634">||</span>&nbsp;<span class="op" id="8109637">*</span><span class="ident" id="8109638">t1</span><span class="op" id="8109640">.</span><span class="ident" id="8109641">B</span>&nbsp;<span class="op" id="8109643">!=</span>&nbsp;<span class="num" id="8109646">177</span>&nbsp;<span class="op" id="8109650">||</span>&nbsp;<span class="op" id="8109653">*</span><span class="op" id="8109654">*</span><span class="ident" id="8109655">t1</span><span class="op" id="8109657">.</span><span class="ident" id="8109658">C</span>&nbsp;<span class="op" id="8109660">!=</span>&nbsp;<span class="num" id="8109663">1777</span>&nbsp;<span class="op" id="8109668">||</span>&nbsp;<span class="op" id="8109671">*</span><span class="op" id="8109672">*</span><span class="op" id="8109673">*</span><span class="ident" id="8109674">t1</span><span class="op" id="8109676">.</span><span class="ident" id="8109677">D</span>&nbsp;<span class="op" id="8109679">!=</span>&nbsp;<span class="num" id="8109682">17777</span>&nbsp;<span class="op" id="8109688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109692">t</span><span class="op" id="8109693">.</span><span class="ident" id="8109694">Errorf</span><span class="op" id="8109700">(</span><span class="string" id="8109701">&#34;t0-&gt;t1&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8109757">,</span>&nbsp;<span class="ident" id="8109759">t1</span><span class="op" id="8109761">.</span><span class="ident" id="8109762">A</span><span class="op" id="8109763">,</span>&nbsp;<span class="op" id="8109765">*</span><span class="ident" id="8109766">t1</span><span class="op" id="8109768">.</span><span class="ident" id="8109769">B</span><span class="op" id="8109770">,</span>&nbsp;<span class="op" id="8109772">*</span><span class="op" id="8109773">*</span><span class="ident" id="8109774">t1</span><span class="op" id="8109776">.</span><span class="ident" id="8109777">C</span><span class="op" id="8109778">,</span>&nbsp;<span class="op" id="8109780">*</span><span class="op" id="8109781">*</span><span class="op" id="8109782">*</span><span class="ident" id="8109783">t1</span><span class="op" id="8109785">.</span><span class="ident" id="8109786">D</span><span class="op" id="8109787">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8109794">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109822">b</span><span class="op" id="8109823">.</span><span class="ident" id="8109824">Reset</span><span class="op" id="8109829">(</span><span class="op" id="8109830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109833">enc</span><span class="op" id="8109836">.</span><span class="ident" id="8109837">Encode</span><span class="op" id="8109843">(</span><span class="ident" id="8109844">t0</span><span class="op" id="8109846">)</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109849">t2</span>&nbsp;<span class="op" id="8109852">=</span>&nbsp;<span class="ident" id="8109854">T2</span><span class="op" id="8109856">{</span><span class="op" id="8109857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109860">dec</span><span class="op" id="8109863">.</span><span class="ident" id="8109864">Decode</span><span class="op" id="8109870">(</span><span class="op" id="8109871">&amp;</span><span class="ident" id="8109872">t2</span><span class="op" id="8109874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109877">if</span>&nbsp;<span class="op" id="8109880">*</span><span class="op" id="8109881">*</span><span class="op" id="8109882">*</span><span class="ident" id="8109883">t2</span><span class="op" id="8109885">.</span><span class="ident" id="8109886">A</span>&nbsp;<span class="op" id="8109888">!=</span>&nbsp;<span class="num" id="8109891">17</span>&nbsp;<span class="op" id="8109894">||</span>&nbsp;<span class="op" id="8109897">*</span><span class="op" id="8109898">*</span><span class="ident" id="8109899">t2</span><span class="op" id="8109901">.</span><span class="ident" id="8109902">B</span>&nbsp;<span class="op" id="8109904">!=</span>&nbsp;<span class="num" id="8109907">177</span>&nbsp;<span class="op" id="8109911">||</span>&nbsp;<span class="op" id="8109914">*</span><span class="ident" id="8109915">t2</span><span class="op" id="8109917">.</span><span class="ident" id="8109918">C</span>&nbsp;<span class="op" id="8109920">!=</span>&nbsp;<span class="num" id="8109923">1777</span>&nbsp;<span class="op" id="8109928">||</span>&nbsp;<span class="ident" id="8109931">t2</span><span class="op" id="8109933">.</span><span class="ident" id="8109934">D</span>&nbsp;<span class="op" id="8109936">!=</span>&nbsp;<span class="num" id="8109939">17777</span>&nbsp;<span class="op" id="8109945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109949">t</span><span class="op" id="8109950">.</span><span class="ident" id="8109951">Errorf</span><span class="op" id="8109957">(</span><span class="string" id="8109958">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8110014">,</span>&nbsp;<span class="op" id="8110016">*</span><span class="op" id="8110017">*</span><span class="op" id="8110018">*</span><span class="ident" id="8110019">t2</span><span class="op" id="8110021">.</span><span class="ident" id="8110022">A</span><span class="op" id="8110023">,</span>&nbsp;<span class="op" id="8110025">*</span><span class="op" id="8110026">*</span><span class="ident" id="8110027">t2</span><span class="op" id="8110029">.</span><span class="ident" id="8110030">B</span><span class="op" id="8110031">,</span>&nbsp;<span class="op" id="8110033">*</span><span class="ident" id="8110034">t2</span><span class="op" id="8110036">.</span><span class="ident" id="8110037">C</span><span class="op" id="8110038">,</span>&nbsp;<span class="ident" id="8110040">t2</span><span class="op" id="8110042">.</span><span class="ident" id="8110043">D</span><span class="op" id="8110044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110047">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8110051">//&nbsp;Now&nbsp;do&nbsp;t2&nbsp;again&nbsp;but&nbsp;without&nbsp;pre-allocated&nbsp;pointers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110107">b</span><span class="op" id="8110108">.</span><span class="ident" id="8110109">Reset</span><span class="op" id="8110114">(</span><span class="op" id="8110115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110118">enc</span><span class="op" id="8110121">.</span><span class="ident" id="8110122">Encode</span><span class="op" id="8110128">(</span><span class="ident" id="8110129">t0</span><span class="op" id="8110131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110134">*</span><span class="op" id="8110135">*</span><span class="op" id="8110136">*</span><span class="ident" id="8110137">t2</span><span class="op" id="8110139">.</span><span class="ident" id="8110140">A</span>&nbsp;<span class="op" id="8110142">=</span>&nbsp;<span class="num" id="8110144">0</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110147">*</span><span class="op" id="8110148">*</span><span class="ident" id="8110149">t2</span><span class="op" id="8110151">.</span><span class="ident" id="8110152">B</span>&nbsp;<span class="op" id="8110154">=</span>&nbsp;<span class="num" id="8110156">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110159">*</span><span class="ident" id="8110160">t2</span><span class="op" id="8110162">.</span><span class="ident" id="8110163">C</span>&nbsp;<span class="op" id="8110165">=</span>&nbsp;<span class="num" id="8110167">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110170">t2</span><span class="op" id="8110172">.</span><span class="ident" id="8110173">D</span>&nbsp;<span class="op" id="8110175">=</span>&nbsp;<span class="num" id="8110177">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110180">dec</span><span class="op" id="8110183">.</span><span class="ident" id="8110184">Decode</span><span class="op" id="8110190">(</span><span class="op" id="8110191">&amp;</span><span class="ident" id="8110192">t2</span><span class="op" id="8110194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110197">if</span>&nbsp;<span class="op" id="8110200">*</span><span class="op" id="8110201">*</span><span class="op" id="8110202">*</span><span class="ident" id="8110203">t2</span><span class="op" id="8110205">.</span><span class="ident" id="8110206">A</span>&nbsp;<span class="op" id="8110208">!=</span>&nbsp;<span class="num" id="8110211">17</span>&nbsp;<span class="op" id="8110214">||</span>&nbsp;<span class="op" id="8110217">*</span><span class="op" id="8110218">*</span><span class="ident" id="8110219">t2</span><span class="op" id="8110221">.</span><span class="ident" id="8110222">B</span>&nbsp;<span class="op" id="8110224">!=</span>&nbsp;<span class="num" id="8110227">177</span>&nbsp;<span class="op" id="8110231">||</span>&nbsp;<span class="op" id="8110234">*</span><span class="ident" id="8110235">t2</span><span class="op" id="8110237">.</span><span class="ident" id="8110238">C</span>&nbsp;<span class="op" id="8110240">!=</span>&nbsp;<span class="num" id="8110243">1777</span>&nbsp;<span class="op" id="8110248">||</span>&nbsp;<span class="ident" id="8110251">t2</span><span class="op" id="8110253">.</span><span class="ident" id="8110254">D</span>&nbsp;<span class="op" id="8110256">!=</span>&nbsp;<span class="num" id="8110259">17777</span>&nbsp;<span class="op" id="8110265">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110269">t</span><span class="op" id="8110270">.</span><span class="ident" id="8110271">Errorf</span><span class="op" id="8110277">(</span><span class="string" id="8110278">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8110334">,</span>&nbsp;<span class="op" id="8110336">*</span><span class="op" id="8110337">*</span><span class="op" id="8110338">*</span><span class="ident" id="8110339">t2</span><span class="op" id="8110341">.</span><span class="ident" id="8110342">A</span><span class="op" id="8110343">,</span>&nbsp;<span class="op" id="8110345">*</span><span class="op" id="8110346">*</span><span class="ident" id="8110347">t2</span><span class="op" id="8110349">.</span><span class="ident" id="8110350">B</span><span class="op" id="8110351">,</span>&nbsp;<span class="op" id="8110353">*</span><span class="ident" id="8110354">t2</span><span class="op" id="8110356">.</span><span class="ident" id="8110357">C</span><span class="op" id="8110358">,</span>&nbsp;<span class="ident" id="8110360">t2</span><span class="op" id="8110362">.</span><span class="ident" id="8110363">D</span><span class="op" id="8110364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110367">}</span><br>
<span class="lineno"></span><span class="op" id="8110369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8110372">type</span>&nbsp;<span class="ident" id="8110377">RT0</span>&nbsp;<span class="keyword" id="8110381">struct</span>&nbsp;<span class="op" id="8110388">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110391">A</span>&nbsp;<span class="builtintype" id="8110393">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110398">B</span>&nbsp;<span class="builtintype" id="8110400">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110408">C</span>&nbsp;<span class="builtintype" id="8110410">float64</span><br>
<span class="lineno"></span><span class="op" id="8110418">}</span><br>
<span class="lineno"></span><span class="keyword" id="8110420">type</span>&nbsp;<span class="ident" id="8110425">RT1</span>&nbsp;<span class="keyword" id="8110429">struct</span>&nbsp;<span class="op" id="8110436">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110439">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8110446">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110455">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8110462">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110470">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8110477">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110482">NotSet</span>&nbsp;<span class="builtintype" id="8110489">string</span><br>
<span class="lineno"></span><span class="op" id="8110496">}</span><br>
<span class="lineno">905</span><br>
<span class="lineno"></span><span class="keyword" id="8110499">func</span>&nbsp;<span class="ident" id="8110504">TestReorderedFields</span><span class="op" id="8110523">(</span><span class="ident" id="8110524">t</span>&nbsp;<span class="op" id="8110526">*</span><span class="ident" id="8110527">testing</span><span class="op" id="8110534">.</span><span class="ident" id="8110535">T</span><span class="op" id="8110536">)</span>&nbsp;<span class="op" id="8110538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110541">var</span>&nbsp;<span class="ident" id="8110545">rt0</span>&nbsp;<span class="ident" id="8110549">RT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110554">rt0</span><span class="op" id="8110557">.</span><span class="ident" id="8110558">A</span>&nbsp;<span class="op" id="8110560">=</span>&nbsp;<span class="num" id="8110562">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110566">rt0</span><span class="op" id="8110569">.</span><span class="ident" id="8110570">B</span>&nbsp;<span class="op" id="8110572">=</span>&nbsp;<span class="string" id="8110574">&#34;hello&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110583">rt0</span><span class="op" id="8110586">.</span><span class="ident" id="8110587">C</span>&nbsp;<span class="op" id="8110589">=</span>&nbsp;<span class="num" id="8110591">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110600">b</span>&nbsp;<span class="op" id="8110602">:=</span>&nbsp;<span class="builtinfunc" id="8110605">new</span><span class="op" id="8110608">(</span><span class="ident" id="8110609">bytes</span><span class="op" id="8110614">.</span><span class="ident" id="8110615">Buffer</span><span class="op" id="8110621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110624">NewEncoder</span><span class="op" id="8110634">(</span><span class="ident" id="8110635">b</span><span class="op" id="8110636">)</span><span class="op" id="8110637">.</span><span class="ident" id="8110638">Encode</span><span class="op" id="8110644">(</span><span class="ident" id="8110645">rt0</span><span class="op" id="8110648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110651">dec</span>&nbsp;<span class="op" id="8110655">:=</span>&nbsp;<span class="ident" id="8110658">NewDecoder</span><span class="op" id="8110668">(</span><span class="ident" id="8110669">b</span><span class="op" id="8110670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110673">var</span>&nbsp;<span class="ident" id="8110677">rt1</span>&nbsp;<span class="ident" id="8110681">RT1</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8110686">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;RT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110727">err</span>&nbsp;<span class="op" id="8110731">:=</span>&nbsp;<span class="ident" id="8110734">dec</span><span class="op" id="8110737">.</span><span class="ident" id="8110738">Decode</span><span class="op" id="8110744">(</span><span class="op" id="8110745">&amp;</span><span class="ident" id="8110746">rt1</span><span class="op" id="8110749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110752">if</span>&nbsp;<span class="ident" id="8110755">err</span>&nbsp;<span class="op" id="8110759">!=</span>&nbsp;<span class="ident" id="8110762">nil</span>&nbsp;<span class="op" id="8110766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110770">t</span><span class="op" id="8110771">.</span><span class="ident" id="8110772">Fatal</span><span class="op" id="8110777">(</span><span class="string" id="8110778">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8110793">,</span>&nbsp;<span class="ident" id="8110795">err</span><span class="op" id="8110798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110801">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110804">if</span>&nbsp;<span class="ident" id="8110807">rt0</span><span class="op" id="8110810">.</span><span class="ident" id="8110811">A</span>&nbsp;<span class="op" id="8110813">!=</span>&nbsp;<span class="ident" id="8110816">rt1</span><span class="op" id="8110819">.</span><span class="ident" id="8110820">A</span>&nbsp;<span class="op" id="8110822">||</span>&nbsp;<span class="ident" id="8110825">rt0</span><span class="op" id="8110828">.</span><span class="ident" id="8110829">B</span>&nbsp;<span class="op" id="8110831">!=</span>&nbsp;<span class="ident" id="8110834">rt1</span><span class="op" id="8110837">.</span><span class="ident" id="8110838">B</span>&nbsp;<span class="op" id="8110840">||</span>&nbsp;<span class="ident" id="8110843">rt0</span><span class="op" id="8110846">.</span><span class="ident" id="8110847">C</span>&nbsp;<span class="op" id="8110849">!=</span>&nbsp;<span class="ident" id="8110852">rt1</span><span class="op" id="8110855">.</span><span class="ident" id="8110856">C</span>&nbsp;<span class="op" id="8110858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110862">t</span><span class="op" id="8110863">.</span><span class="ident" id="8110864">Errorf</span><span class="op" id="8110870">(</span><span class="string" id="8110871">&#34;rt1-&gt;rt0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8110902">,</span>&nbsp;<span class="ident" id="8110904">rt0</span><span class="op" id="8110907">,</span>&nbsp;<span class="ident" id="8110909">rt1</span><span class="op" id="8110912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110915">}</span><br>
<span class="lineno"></span><span class="op" id="8110917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="8110920">//&nbsp;Like&nbsp;an&nbsp;RT0&nbsp;but&nbsp;with&nbsp;fields&nbsp;we&#39;ll&nbsp;ignore&nbsp;on&nbsp;the&nbsp;decode&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="8110984">type</span>&nbsp;<span class="ident" id="8110989">IT0</span>&nbsp;<span class="keyword" id="8110993">struct</span>&nbsp;<span class="op" id="8111000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111003">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8111012">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111019">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8111028">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111036">Ignore_d</span>&nbsp;<span class="op" id="8111045">[</span><span class="op" id="8111046">]</span><span class="builtintype" id="8111047">int</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111052">Ignore_e</span>&nbsp;<span class="op" id="8111061">[</span><span class="num" id="8111062">3</span><span class="op" id="8111063">]</span><span class="builtintype" id="8111064">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111073">Ignore_f</span>&nbsp;<span class="builtintype" id="8111082">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111088">Ignore_g</span>&nbsp;<span class="builtintype" id="8111097">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111105">Ignore_h</span>&nbsp;<span class="op" id="8111114">[</span><span class="op" id="8111115">]</span><span class="builtintype" id="8111116">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111122">Ignore_i</span>&nbsp;<span class="op" id="8111131">*</span><span class="ident" id="8111132">RT1</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111137">Ignore_m</span>&nbsp;<span class="keyword" id="8111146">map</span><span class="op" id="8111149">[</span><span class="builtintype" id="8111150">string</span><span class="op" id="8111156">]</span><span class="builtintype" id="8111157">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111162">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8111171">float64</span><br>
<span class="lineno"></span><span class="op" id="8111179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8111182">func</span>&nbsp;<span class="ident" id="8111187">TestIgnoredFields</span><span class="op" id="8111204">(</span><span class="ident" id="8111205">t</span>&nbsp;<span class="op" id="8111207">*</span><span class="ident" id="8111208">testing</span><span class="op" id="8111215">.</span><span class="ident" id="8111216">T</span><span class="op" id="8111217">)</span>&nbsp;<span class="op" id="8111219">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111222">var</span>&nbsp;<span class="ident" id="8111226">it0</span>&nbsp;<span class="ident" id="8111230">IT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111235">it0</span><span class="op" id="8111238">.</span><span class="ident" id="8111239">A</span>&nbsp;<span class="op" id="8111241">=</span>&nbsp;<span class="num" id="8111243">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111247">it0</span><span class="op" id="8111250">.</span><span class="ident" id="8111251">B</span>&nbsp;<span class="op" id="8111253">=</span>&nbsp;<span class="string" id="8111255">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111264">it0</span><span class="op" id="8111267">.</span><span class="ident" id="8111268">C</span>&nbsp;<span class="op" id="8111270">=</span>&nbsp;<span class="num" id="8111272">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111281">it0</span><span class="op" id="8111284">.</span><span class="ident" id="8111285">Ignore_d</span>&nbsp;<span class="op" id="8111294">=</span>&nbsp;<span class="op" id="8111296">[</span><span class="op" id="8111297">]</span><span class="builtintype" id="8111298">int</span><span class="op" id="8111301">{</span><span class="num" id="8111302">1</span><span class="op" id="8111303">,</span>&nbsp;<span class="num" id="8111305">2</span><span class="op" id="8111306">,</span>&nbsp;<span class="num" id="8111308">3</span><span class="op" id="8111309">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111312">it0</span><span class="op" id="8111315">.</span><span class="ident" id="8111316">Ignore_e</span><span class="op" id="8111324">[</span><span class="num" id="8111325">0</span><span class="op" id="8111326">]</span>&nbsp;<span class="op" id="8111328">=</span>&nbsp;<span class="num" id="8111330">1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111335">it0</span><span class="op" id="8111338">.</span><span class="ident" id="8111339">Ignore_e</span><span class="op" id="8111347">[</span><span class="num" id="8111348">1</span><span class="op" id="8111349">]</span>&nbsp;<span class="op" id="8111351">=</span>&nbsp;<span class="num" id="8111353">2.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111358">it0</span><span class="op" id="8111361">.</span><span class="ident" id="8111362">Ignore_e</span><span class="op" id="8111370">[</span><span class="num" id="8111371">2</span><span class="op" id="8111372">]</span>&nbsp;<span class="op" id="8111374">=</span>&nbsp;<span class="num" id="8111376">3.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111381">it0</span><span class="op" id="8111384">.</span><span class="ident" id="8111385">Ignore_f</span>&nbsp;<span class="op" id="8111394">=</span>&nbsp;<span class="builtintype" id="8111396">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111402">it0</span><span class="op" id="8111405">.</span><span class="ident" id="8111406">Ignore_g</span>&nbsp;<span class="op" id="8111415">=</span>&nbsp;<span class="string" id="8111417">&#34;pay&nbsp;no&nbsp;attention&#34;</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111437">it0</span><span class="op" id="8111440">.</span><span class="ident" id="8111441">Ignore_h</span>&nbsp;<span class="op" id="8111450">=</span>&nbsp;<span class="op" id="8111452">[</span><span class="op" id="8111453">]</span><span class="builtintype" id="8111454">byte</span><span class="op" id="8111458">(</span><span class="string" id="8111459">&#34;to&nbsp;the&nbsp;curtain&#34;</span><span class="op" id="8111475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111478">it0</span><span class="op" id="8111481">.</span><span class="ident" id="8111482">Ignore_i</span>&nbsp;<span class="op" id="8111491">=</span>&nbsp;<span class="op" id="8111493">&amp;</span><span class="ident" id="8111494">RT1</span><span class="op" id="8111497">{</span><span class="num" id="8111498">3.1</span><span class="op" id="8111501">,</span>&nbsp;<span class="string" id="8111503">&#34;hi&#34;</span><span class="op" id="8111507">,</span>&nbsp;<span class="num" id="8111509">7</span><span class="op" id="8111510">,</span>&nbsp;<span class="string" id="8111512">&#34;hello&#34;</span><span class="op" id="8111519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111522">it0</span><span class="op" id="8111525">.</span><span class="ident" id="8111526">Ignore_m</span>&nbsp;<span class="op" id="8111535">=</span>&nbsp;<span class="keyword" id="8111537">map</span><span class="op" id="8111540">[</span><span class="builtintype" id="8111541">string</span><span class="op" id="8111547">]</span><span class="builtintype" id="8111548">int</span><span class="op" id="8111551">{</span><span class="string" id="8111552">&#34;one&#34;</span><span class="op" id="8111557">:</span>&nbsp;<span class="num" id="8111559">1</span><span class="op" id="8111560">,</span>&nbsp;<span class="string" id="8111562">&#34;two&#34;</span><span class="op" id="8111567">:</span>&nbsp;<span class="num" id="8111569">2</span><span class="op" id="8111570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111574">b</span>&nbsp;<span class="op" id="8111576">:=</span>&nbsp;<span class="builtinfunc" id="8111579">new</span><span class="op" id="8111582">(</span><span class="ident" id="8111583">bytes</span><span class="op" id="8111588">.</span><span class="ident" id="8111589">Buffer</span><span class="op" id="8111595">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111598">NewEncoder</span><span class="op" id="8111608">(</span><span class="ident" id="8111609">b</span><span class="op" id="8111610">)</span><span class="op" id="8111611">.</span><span class="ident" id="8111612">Encode</span><span class="op" id="8111618">(</span><span class="ident" id="8111619">it0</span><span class="op" id="8111622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111625">dec</span>&nbsp;<span class="op" id="8111629">:=</span>&nbsp;<span class="ident" id="8111632">NewDecoder</span><span class="op" id="8111642">(</span><span class="ident" id="8111643">b</span><span class="op" id="8111644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111647">var</span>&nbsp;<span class="ident" id="8111651">rt1</span>&nbsp;<span class="ident" id="8111655">RT1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8111660">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;IT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111701">err</span>&nbsp;<span class="op" id="8111705">:=</span>&nbsp;<span class="ident" id="8111708">dec</span><span class="op" id="8111711">.</span><span class="ident" id="8111712">Decode</span><span class="op" id="8111718">(</span><span class="op" id="8111719">&amp;</span><span class="ident" id="8111720">rt1</span><span class="op" id="8111723">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111726">if</span>&nbsp;<span class="ident" id="8111729">err</span>&nbsp;<span class="op" id="8111733">!=</span>&nbsp;<span class="ident" id="8111736">nil</span>&nbsp;<span class="op" id="8111740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111744">t</span><span class="op" id="8111745">.</span><span class="ident" id="8111746">Error</span><span class="op" id="8111751">(</span><span class="string" id="8111752">&#34;error:&nbsp;&#34;</span><span class="op" id="8111761">,</span>&nbsp;<span class="ident" id="8111763">err</span><span class="op" id="8111766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8111769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111772">if</span>&nbsp;<span class="builtintype" id="8111775">int</span><span class="op" id="8111778">(</span><span class="ident" id="8111779">it0</span><span class="op" id="8111782">.</span><span class="ident" id="8111783">A</span><span class="op" id="8111784">)</span>&nbsp;<span class="op" id="8111786">!=</span>&nbsp;<span class="ident" id="8111789">rt1</span><span class="op" id="8111792">.</span><span class="ident" id="8111793">A</span>&nbsp;<span class="op" id="8111795">||</span>&nbsp;<span class="ident" id="8111798">it0</span><span class="op" id="8111801">.</span><span class="ident" id="8111802">B</span>&nbsp;<span class="op" id="8111804">!=</span>&nbsp;<span class="ident" id="8111807">rt1</span><span class="op" id="8111810">.</span><span class="ident" id="8111811">B</span>&nbsp;<span class="op" id="8111813">||</span>&nbsp;<span class="ident" id="8111816">it0</span><span class="op" id="8111819">.</span><span class="ident" id="8111820">C</span>&nbsp;<span class="op" id="8111822">!=</span>&nbsp;<span class="ident" id="8111825">rt1</span><span class="op" id="8111828">.</span><span class="ident" id="8111829">C</span>&nbsp;<span class="op" id="8111831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111835">t</span><span class="op" id="8111836">.</span><span class="ident" id="8111837">Errorf</span><span class="op" id="8111843">(</span><span class="string" id="8111844">&#34;rt0-&gt;rt1:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8111875">,</span>&nbsp;<span class="ident" id="8111877">it0</span><span class="op" id="8111880">,</span>&nbsp;<span class="ident" id="8111882">rt1</span><span class="op" id="8111885">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8111888">}</span><br>
<span class="lineno"></span><span class="op" id="8111890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8111893">func</span>&nbsp;<span class="ident" id="8111898">TestBadRecursiveType</span><span class="op" id="8111918">(</span><span class="ident" id="8111919">t</span>&nbsp;<span class="op" id="8111921">*</span><span class="ident" id="8111922">testing</span><span class="op" id="8111929">.</span><span class="ident" id="8111930">T</span><span class="op" id="8111931">)</span>&nbsp;<span class="op" id="8111933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111936">type</span>&nbsp;<span class="ident" id="8111941">Rec</span>&nbsp;<span class="op" id="8111945">*</span><span class="op" id="8111946">*</span><span class="op" id="8111947">*</span><span class="ident" id="8111948">Rec</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111953">var</span>&nbsp;<span class="ident" id="8111957">rec</span>&nbsp;<span class="ident" id="8111961">Rec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111966">b</span>&nbsp;<span class="op" id="8111968">:=</span>&nbsp;<span class="builtinfunc" id="8111971">new</span><span class="op" id="8111974">(</span><span class="ident" id="8111975">bytes</span><span class="op" id="8111980">.</span><span class="ident" id="8111981">Buffer</span><span class="op" id="8111987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111990">err</span>&nbsp;<span class="op" id="8111994">:=</span>&nbsp;<span class="ident" id="8111997">NewEncoder</span><span class="op" id="8112007">(</span><span class="ident" id="8112008">b</span><span class="op" id="8112009">)</span><span class="op" id="8112010">.</span><span class="ident" id="8112011">Encode</span><span class="op" id="8112017">(</span><span class="op" id="8112018">&amp;</span><span class="ident" id="8112019">rec</span><span class="op" id="8112022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8112025">if</span>&nbsp;<span class="ident" id="8112028">err</span>&nbsp;<span class="op" id="8112032">==</span>&nbsp;<span class="ident" id="8112035">nil</span>&nbsp;<span class="op" id="8112039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112043">t</span><span class="op" id="8112044">.</span><span class="ident" id="8112045">Error</span><span class="op" id="8112050">(</span><span class="string" id="8112051">&#34;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8112077">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112080">}</span>&nbsp;<span class="keyword" id="8112082">else</span>&nbsp;<span class="keyword" id="8112087">if</span>&nbsp;<span class="ident" id="8112090">strings</span><span class="op" id="8112097">.</span><span class="ident" id="8112098">Index</span><span class="op" id="8112103">(</span><span class="ident" id="8112104">err</span><span class="op" id="8112107">.</span><span class="ident" id="8112108">Error</span><span class="op" id="8112113">(</span><span class="op" id="8112114">)</span><span class="op" id="8112115">,</span>&nbsp;<span class="string" id="8112117">&#34;recursive&#34;</span><span class="op" id="8112128">)</span>&nbsp;<span class="op" id="8112130">&lt;</span>&nbsp;<span class="num" id="8112132">0</span>&nbsp;<span class="op" id="8112134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112138">t</span><span class="op" id="8112139">.</span><span class="ident" id="8112140">Error</span><span class="op" id="8112145">(</span><span class="string" id="8112146">&#34;expected&nbsp;recursive&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8112182">,</span>&nbsp;<span class="ident" id="8112184">err</span><span class="op" id="8112187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8112193">//&nbsp;Can&#39;t&nbsp;test&nbsp;decode&nbsp;easily&nbsp;because&nbsp;we&nbsp;can&#39;t&nbsp;encode&nbsp;one,&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;pass&nbsp;one&nbsp;to&nbsp;a&nbsp;Decoder.</span><br>
<span class="lineno"></span><span class="op" id="8112285">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="8112288">type</span>&nbsp;<span class="ident" id="8112293">Indirect</span>&nbsp;<span class="keyword" id="8112302">struct</span>&nbsp;<span class="op" id="8112309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112312">A</span>&nbsp;<span class="op" id="8112314">*</span><span class="op" id="8112315">*</span><span class="op" id="8112316">*</span><span class="op" id="8112317">[</span><span class="num" id="8112318">3</span><span class="op" id="8112319">]</span><span class="builtintype" id="8112320">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112325">S</span>&nbsp;<span class="op" id="8112327">*</span><span class="op" id="8112328">*</span><span class="op" id="8112329">*</span><span class="op" id="8112330">[</span><span class="op" id="8112331">]</span><span class="builtintype" id="8112332">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112337">M</span>&nbsp;<span class="op" id="8112339">*</span><span class="op" id="8112340">*</span><span class="op" id="8112341">*</span><span class="op" id="8112342">*</span><span class="keyword" id="8112343">map</span><span class="op" id="8112346">[</span><span class="builtintype" id="8112347">string</span><span class="op" id="8112353">]</span><span class="builtintype" id="8112354">int</span><br>
<span class="lineno">985</span><span class="op" id="8112358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8112361">type</span>&nbsp;<span class="ident" id="8112366">Direct</span>&nbsp;<span class="keyword" id="8112373">struct</span>&nbsp;<span class="op" id="8112380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112383">A</span>&nbsp;<span class="op" id="8112385">[</span><span class="num" id="8112386">3</span><span class="op" id="8112387">]</span><span class="builtintype" id="8112388">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112393">S</span>&nbsp;<span class="op" id="8112395">[</span><span class="op" id="8112396">]</span><span class="builtintype" id="8112397">int</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112402">M</span>&nbsp;<span class="keyword" id="8112404">map</span><span class="op" id="8112407">[</span><span class="builtintype" id="8112408">string</span><span class="op" id="8112414">]</span><span class="builtintype" id="8112415">int</span><br>
<span class="lineno"></span><span class="op" id="8112419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8112422">func</span>&nbsp;<span class="ident" id="8112427">TestIndirectSliceMapArray</span><span class="op" id="8112452">(</span><span class="ident" id="8112453">t</span>&nbsp;<span class="op" id="8112455">*</span><span class="ident" id="8112456">testing</span><span class="op" id="8112463">.</span><span class="ident" id="8112464">T</span><span class="op" id="8112465">)</span>&nbsp;<span class="op" id="8112467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8112470">//&nbsp;Marshal&nbsp;indirect,&nbsp;unmarshal&nbsp;to&nbsp;direct.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112513">i</span>&nbsp;<span class="op" id="8112515">:=</span>&nbsp;<span class="builtinfunc" id="8112518">new</span><span class="op" id="8112521">(</span><span class="ident" id="8112522">Indirect</span><span class="op" id="8112530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112533">i</span><span class="op" id="8112534">.</span><span class="ident" id="8112535">A</span>&nbsp;<span class="op" id="8112537">=</span>&nbsp;<span class="builtinfunc" id="8112539">new</span><span class="op" id="8112542">(</span><span class="op" id="8112543">*</span><span class="op" id="8112544">*</span><span class="op" id="8112545">[</span><span class="num" id="8112546">3</span><span class="op" id="8112547">]</span><span class="builtintype" id="8112548">int</span><span class="op" id="8112551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112554">*</span><span class="ident" id="8112555">i</span><span class="op" id="8112556">.</span><span class="ident" id="8112557">A</span>&nbsp;<span class="op" id="8112559">=</span>&nbsp;<span class="builtinfunc" id="8112561">new</span><span class="op" id="8112564">(</span><span class="op" id="8112565">*</span><span class="op" id="8112566">[</span><span class="num" id="8112567">3</span><span class="op" id="8112568">]</span><span class="builtintype" id="8112569">int</span><span class="op" id="8112572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112575">*</span><span class="op" id="8112576">*</span><span class="ident" id="8112577">i</span><span class="op" id="8112578">.</span><span class="ident" id="8112579">A</span>&nbsp;<span class="op" id="8112581">=</span>&nbsp;<span class="builtinfunc" id="8112583">new</span><span class="op" id="8112586">(</span><span class="op" id="8112587">[</span><span class="num" id="8112588">3</span><span class="op" id="8112589">]</span><span class="builtintype" id="8112590">int</span><span class="op" id="8112593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112596">*</span><span class="op" id="8112597">*</span><span class="op" id="8112598">*</span><span class="ident" id="8112599">i</span><span class="op" id="8112600">.</span><span class="ident" id="8112601">A</span>&nbsp;<span class="op" id="8112603">=</span>&nbsp;<span class="op" id="8112605">[</span><span class="num" id="8112606">3</span><span class="op" id="8112607">]</span><span class="builtintype" id="8112608">int</span><span class="op" id="8112611">{</span><span class="num" id="8112612">1</span><span class="op" id="8112613">,</span>&nbsp;<span class="num" id="8112615">2</span><span class="op" id="8112616">,</span>&nbsp;<span class="num" id="8112618">3</span><span class="op" id="8112619">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112622">i</span><span class="op" id="8112623">.</span><span class="ident" id="8112624">S</span>&nbsp;<span class="op" id="8112626">=</span>&nbsp;<span class="builtinfunc" id="8112628">new</span><span class="op" id="8112631">(</span><span class="op" id="8112632">*</span><span class="op" id="8112633">*</span><span class="op" id="8112634">[</span><span class="op" id="8112635">]</span><span class="builtintype" id="8112636">int</span><span class="op" id="8112639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112642">*</span><span class="ident" id="8112643">i</span><span class="op" id="8112644">.</span><span class="ident" id="8112645">S</span>&nbsp;<span class="op" id="8112647">=</span>&nbsp;<span class="builtinfunc" id="8112649">new</span><span class="op" id="8112652">(</span><span class="op" id="8112653">*</span><span class="op" id="8112654">[</span><span class="op" id="8112655">]</span><span class="builtintype" id="8112656">int</span><span class="op" id="8112659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112662">*</span><span class="op" id="8112663">*</span><span class="ident" id="8112664">i</span><span class="op" id="8112665">.</span><span class="ident" id="8112666">S</span>&nbsp;<span class="op" id="8112668">=</span>&nbsp;<span class="builtinfunc" id="8112670">new</span><span class="op" id="8112673">(</span><span class="op" id="8112674">[</span><span class="op" id="8112675">]</span><span class="builtintype" id="8112676">int</span><span class="op" id="8112679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112682">*</span><span class="op" id="8112683">*</span><span class="op" id="8112684">*</span><span class="ident" id="8112685">i</span><span class="op" id="8112686">.</span><span class="ident" id="8112687">S</span>&nbsp;<span class="op" id="8112689">=</span>&nbsp;<span class="op" id="8112691">[</span><span class="op" id="8112692">]</span><span class="builtintype" id="8112693">int</span><span class="op" id="8112696">{</span><span class="num" id="8112697">4</span><span class="op" id="8112698">,</span>&nbsp;<span class="num" id="8112700">5</span><span class="op" id="8112701">,</span>&nbsp;<span class="num" id="8112703">6</span><span class="op" id="8112704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112707">i</span><span class="op" id="8112708">.</span><span class="ident" id="8112709">M</span>&nbsp;<span class="op" id="8112711">=</span>&nbsp;<span class="builtinfunc" id="8112713">new</span><span class="op" id="8112716">(</span><span class="op" id="8112717">*</span><span class="op" id="8112718">*</span><span class="op" id="8112719">*</span><span class="keyword" id="8112720">map</span><span class="op" id="8112723">[</span><span class="builtintype" id="8112724">string</span><span class="op" id="8112730">]</span><span class="builtintype" id="8112731">int</span><span class="op" id="8112734">)</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112737">*</span><span class="ident" id="8112738">i</span><span class="op" id="8112739">.</span><span class="ident" id="8112740">M</span>&nbsp;<span class="op" id="8112742">=</span>&nbsp;<span class="builtinfunc" id="8112744">new</span><span class="op" id="8112747">(</span><span class="op" id="8112748">*</span><span class="op" id="8112749">*</span><span class="keyword" id="8112750">map</span><span class="op" id="8112753">[</span><span class="builtintype" id="8112754">string</span><span class="op" id="8112760">]</span><span class="builtintype" id="8112761">int</span><span class="op" id="8112764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112767">*</span><span class="op" id="8112768">*</span><span class="ident" id="8112769">i</span><span class="op" id="8112770">.</span><span class="ident" id="8112771">M</span>&nbsp;<span class="op" id="8112773">=</span>&nbsp;<span class="builtinfunc" id="8112775">new</span><span class="op" id="8112778">(</span><span class="op" id="8112779">*</span><span class="keyword" id="8112780">map</span><span class="op" id="8112783">[</span><span class="builtintype" id="8112784">string</span><span class="op" id="8112790">]</span><span class="builtintype" id="8112791">int</span><span class="op" id="8112794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112797">*</span><span class="op" id="8112798">*</span><span class="op" id="8112799">*</span><span class="ident" id="8112800">i</span><span class="op" id="8112801">.</span><span class="ident" id="8112802">M</span>&nbsp;<span class="op" id="8112804">=</span>&nbsp;<span class="builtinfunc" id="8112806">new</span><span class="op" id="8112809">(</span><span class="keyword" id="8112810">map</span><span class="op" id="8112813">[</span><span class="builtintype" id="8112814">string</span><span class="op" id="8112820">]</span><span class="builtintype" id="8112821">int</span><span class="op" id="8112824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112827">*</span><span class="op" id="8112828">*</span><span class="op" id="8112829">*</span><span class="op" id="8112830">*</span><span class="ident" id="8112831">i</span><span class="op" id="8112832">.</span><span class="ident" id="8112833">M</span>&nbsp;<span class="op" id="8112835">=</span>&nbsp;<span class="keyword" id="8112837">map</span><span class="op" id="8112840">[</span><span class="builtintype" id="8112841">string</span><span class="op" id="8112847">]</span><span class="builtintype" id="8112848">int</span><span class="op" id="8112851">{</span><span class="string" id="8112852">&#34;one&#34;</span><span class="op" id="8112857">:</span>&nbsp;<span class="num" id="8112859">1</span><span class="op" id="8112860">,</span>&nbsp;<span class="string" id="8112862">&#34;two&#34;</span><span class="op" id="8112867">:</span>&nbsp;<span class="num" id="8112869">2</span><span class="op" id="8112870">,</span>&nbsp;<span class="string" id="8112872">&#34;three&#34;</span><span class="op" id="8112879">:</span>&nbsp;<span class="num" id="8112881">3</span><span class="op" id="8112882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112885">b</span>&nbsp;<span class="op" id="8112887">:=</span>&nbsp;<span class="builtinfunc" id="8112890">new</span><span class="op" id="8112893">(</span><span class="ident" id="8112894">bytes</span><span class="op" id="8112899">.</span><span class="ident" id="8112900">Buffer</span><span class="op" id="8112906">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112909">NewEncoder</span><span class="op" id="8112919">(</span><span class="ident" id="8112920">b</span><span class="op" id="8112921">)</span><span class="op" id="8112922">.</span><span class="ident" id="8112923">Encode</span><span class="op" id="8112929">(</span><span class="ident" id="8112930">i</span><span class="op" id="8112931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112934">dec</span>&nbsp;<span class="op" id="8112938">:=</span>&nbsp;<span class="ident" id="8112941">NewDecoder</span><span class="op" id="8112951">(</span><span class="ident" id="8112952">b</span><span class="op" id="8112953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8112956">var</span>&nbsp;<span class="ident" id="8112960">d</span>&nbsp;<span class="ident" id="8112962">Direct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112970">err</span>&nbsp;<span class="op" id="8112974">:=</span>&nbsp;<span class="ident" id="8112977">dec</span><span class="op" id="8112980">.</span><span class="ident" id="8112981">Decode</span><span class="op" id="8112987">(</span><span class="op" id="8112988">&amp;</span><span class="ident" id="8112989">d</span><span class="op" id="8112990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8112993">if</span>&nbsp;<span class="ident" id="8112996">err</span>&nbsp;<span class="op" id="8113000">!=</span>&nbsp;<span class="ident" id="8113003">nil</span>&nbsp;<span class="op" id="8113007">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113011">t</span><span class="op" id="8113012">.</span><span class="ident" id="8113013">Error</span><span class="op" id="8113018">(</span><span class="string" id="8113019">&#34;error:&nbsp;&#34;</span><span class="op" id="8113028">,</span>&nbsp;<span class="ident" id="8113030">err</span><span class="op" id="8113033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8113036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8113039">if</span>&nbsp;<span class="builtinfunc" id="8113042">len</span><span class="op" id="8113045">(</span><span class="ident" id="8113046">d</span><span class="op" id="8113047">.</span><span class="ident" id="8113048">A</span><span class="op" id="8113049">)</span>&nbsp;<span class="op" id="8113051">!=</span>&nbsp;<span class="num" id="8113054">3</span>&nbsp;<span class="op" id="8113056">||</span>&nbsp;<span class="ident" id="8113059">d</span><span class="op" id="8113060">.</span><span class="ident" id="8113061">A</span><span class="op" id="8113062">[</span><span class="num" id="8113063">0</span><span class="op" id="8113064">]</span>&nbsp;<span class="op" id="8113066">!=</span>&nbsp;<span class="num" id="8113069">1</span>&nbsp;<span class="op" id="8113071">||</span>&nbsp;<span class="ident" id="8113074">d</span><span class="op" id="8113075">.</span><span class="ident" id="8113076">A</span><span class="op" id="8113077">[</span><span class="num" id="8113078">1</span><span class="op" id="8113079">]</span>&nbsp;<span class="op" id="8113081">!=</span>&nbsp;<span class="num" id="8113084">2</span>&nbsp;<span class="op" id="8113086">||</span>&nbsp;<span class="ident" id="8113089">d</span><span class="op" id="8113090">.</span><span class="ident" id="8113091">A</span><span class="op" id="8113092">[</span><span class="num" id="8113093">2</span><span class="op" id="8113094">]</span>&nbsp;<span class="op" id="8113096">!=</span>&nbsp;<span class="num" id="8113099">3</span>&nbsp;<span class="op" id="8113101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113105">t</span><span class="op" id="8113106">.</span><span class="ident" id="8113107">Errorf</span><span class="op" id="8113113">(</span><span class="string" id="8113114">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8113152">,</span>&nbsp;<span class="ident" id="8113154">d</span><span class="op" id="8113155">.</span><span class="ident" id="8113156">A</span><span class="op" id="8113157">,</span>&nbsp;<span class="op" id="8113159">*</span><span class="op" id="8113160">*</span><span class="op" id="8113161">*</span><span class="ident" id="8113162">i</span><span class="op" id="8113163">.</span><span class="ident" id="8113164">A</span><span class="op" id="8113165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8113168">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8113171">if</span>&nbsp;<span class="builtinfunc" id="8113174">len</span><span class="op" id="8113177">(</span><span class="ident" id="8113178">d</span><span class="op" id="8113179">.</span><span class="ident" id="8113180">S</span><span class="op" id="8113181">)</span>&nbsp;<span class="op" id="8113183">!=</span>&nbsp;<span class="num" id="8113186">3</span>&nbsp;<span class="op" id="8113188">||</span>&nbsp;<span class="ident" id="8113191">d</span><span class="op" id="8113192">.</span><span class="ident" id="8113193">S</span><span class="op" id="8113194">[</span><span class="num" id="8113195">0</span><span class="op" id="8113196">]</span>&nbsp;<span class="op" id="8113198">!=</span>&nbsp;<span class="num" id="8113201">4</span>&nbsp;<span class="op" id="8113203">||</span>&nbsp;<span class="ident" id="8113206">d</span><span class="op" id="8113207">.</span><span class="ident" id="8113208">S</span><span class="op" id="8113209">[</span><span class="num" id="8113210">1</span><span class="op" id="8113211">]</span>&nbsp;<span class="op" id="8113213">!=</span>&nbsp;<span class="num" id="8113216">5</span>&nbsp;<span class="op" id="8113218">||</span>&nbsp;<span class="ident" id="8113221">d</span><span class="op" id="8113222">.</span><span class="ident" id="8113223">S</span><span class="op" id="8113224">[</span><span class="num" id="8113225">2</span><span class="op" id="8113226">]</span>&nbsp;<span class="op" id="8113228">!=</span>&nbsp;<span class="num" id="8113231">6</span>&nbsp;<span class="op" id="8113233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113237">t</span><span class="op" id="8113238">.</span><span class="ident" id="8113239">Errorf</span><span class="op" id="8113245">(</span><span class="string" id="8113246">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8113284">,</span>&nbsp;<span class="ident" id="8113286">d</span><span class="op" id="8113287">.</span><span class="ident" id="8113288">S</span><span class="op" id="8113289">,</span>&nbsp;<span class="op" id="8113291">*</span><span class="op" id="8113292">*</span><span class="op" id="8113293">*</span><span class="ident" id="8113294">i</span><span class="op" id="8113295">.</span><span class="ident" id="8113296">S</span><span class="op" id="8113297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8113300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8113303">if</span>&nbsp;<span class="builtinfunc" id="8113306">len</span><span class="op" id="8113309">(</span><span class="ident" id="8113310">d</span><span class="op" id="8113311">.</span><span class="ident" id="8113312">M</span><span class="op" id="8113313">)</span>&nbsp;<span class="op" id="8113315">!=</span>&nbsp;<span class="num" id="8113318">3</span>&nbsp;<span class="op" id="8113320">||</span>&nbsp;<span class="ident" id="8113323">d</span><span class="op" id="8113324">.</span><span class="ident" id="8113325">M</span><span class="op" id="8113326">[</span><span class="string" id="8113327">&#34;one&#34;</span><span class="op" id="8113332">]</span>&nbsp;<span class="op" id="8113334">!=</span>&nbsp;<span class="num" id="8113337">1</span>&nbsp;<span class="op" id="8113339">||</span>&nbsp;<span class="ident" id="8113342">d</span><span class="op" id="8113343">.</span><span class="ident" id="8113344">M</span><span class="op" id="8113345">[</span><span class="string" id="8113346">&#34;two&#34;</span><span class="op" id="8113351">]</span>&nbsp;<span class="op" id="8113353">!=</span>&nbsp;<span class="num" id="8113356">2</span>&nbsp;<span class="op" id="8113358">||</span>&nbsp;<span class="ident" id="8113361">d</span><span class="op" id="8113362">.</span><span class="ident" id="8113363">M</span><span class="op" id="8113364">[</span><span class="string" id="8113365">&#34;three&#34;</span><span class="op" id="8113372">]</span>&nbsp;<span class="op" id="8113374">!=</span>&nbsp;<span class="num" id="8113377">3</span>&nbsp;<span class="op" id="8113379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113383">t</span><span class="op" id="8113384">.</span><span class="ident" id="8113385">Errorf</span><span class="op" id="8113391">(</span><span class="string" id="8113392">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8113430">,</span>&nbsp;<span class="ident" id="8113432">d</span><span class="op" id="8113433">.</span><span class="ident" id="8113434">M</span><span class="op" id="8113435">,</span>&nbsp;<span class="op" id="8113437">*</span><span class="op" id="8113438">*</span><span class="op" id="8113439">*</span><span class="ident" id="8113440">i</span><span class="op" id="8113441">.</span><span class="ident" id="8113442">M</span><span class="op" id="8113443">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8113446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8113449">//&nbsp;Marshal&nbsp;direct,&nbsp;unmarshal&nbsp;to&nbsp;indirect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113492">d</span><span class="op" id="8113493">.</span><span class="ident" id="8113494">A</span>&nbsp;<span class="op" id="8113496">=</span>&nbsp;<span class="op" id="8113498">[</span><span class="num" id="8113499">3</span><span class="op" id="8113500">]</span><span class="builtintype" id="8113501">int</span><span class="op" id="8113504">{</span><span class="num" id="8113505">11</span><span class="op" id="8113507">,</span>&nbsp;<span class="num" id="8113509">22</span><span class="op" id="8113511">,</span>&nbsp;<span class="num" id="8113513">33</span><span class="op" id="8113515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113518">d</span><span class="op" id="8113519">.</span><span class="ident" id="8113520">S</span>&nbsp;<span class="op" id="8113522">=</span>&nbsp;<span class="op" id="8113524">[</span><span class="op" id="8113525">]</span><span class="builtintype" id="8113526">int</span><span class="op" id="8113529">{</span><span class="num" id="8113530">44</span><span class="op" id="8113532">,</span>&nbsp;<span class="num" id="8113534">55</span><span class="op" id="8113536">,</span>&nbsp;<span class="num" id="8113538">66</span><span class="op" id="8113540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113543">d</span><span class="op" id="8113544">.</span><span class="ident" id="8113545">M</span>&nbsp;<span class="op" id="8113547">=</span>&nbsp;<span class="keyword" id="8113549">map</span><span class="op" id="8113552">[</span><span class="builtintype" id="8113553">string</span><span class="op" id="8113559">]</span><span class="builtintype" id="8113560">int</span><span class="op" id="8113563">{</span><span class="string" id="8113564">&#34;four&#34;</span><span class="op" id="8113570">:</span>&nbsp;<span class="num" id="8113572">4</span><span class="op" id="8113573">,</span>&nbsp;<span class="string" id="8113575">&#34;five&#34;</span><span class="op" id="8113581">:</span>&nbsp;<span class="num" id="8113583">5</span><span class="op" id="8113584">,</span>&nbsp;<span class="string" id="8113586">&#34;six&#34;</span><span class="op" id="8113591">:</span>&nbsp;<span class="num" id="8113593">6</span><span class="op" id="8113594">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113597">i</span>&nbsp;<span class="op" id="8113599">=</span>&nbsp;<span class="builtinfunc" id="8113601">new</span><span class="op" id="8113604">(</span><span class="ident" id="8113605">Indirect</span><span class="op" id="8113613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113616">b</span><span class="op" id="8113617">.</span><span class="ident" id="8113618">Reset</span><span class="op" id="8113623">(</span><span class="op" id="8113624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113627">NewEncoder</span><span class="op" id="8113637">(</span><span class="ident" id="8113638">b</span><span class="op" id="8113639">)</span><span class="op" id="8113640">.</span><span class="ident" id="8113641">Encode</span><span class="op" id="8113647">(</span><span class="ident" id="8113648">d</span><span class="op" id="8113649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113652">dec</span>&nbsp;<span class="op" id="8113656">=</span>&nbsp;<span class="ident" id="8113658">NewDecoder</span><span class="op" id="8113668">(</span><span class="ident" id="8113669">b</span><span class="op" id="8113670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113673">err</span>&nbsp;<span class="op" id="8113677">=</span>&nbsp;<span class="ident" id="8113679">dec</span><span class="op" id="8113682">.</span><span class="ident" id="8113683">Decode</span><span class="op" id="8113689">(</span><span class="op" id="8113690">&amp;</span><span class="ident" id="8113691">i</span><span class="op" id="8113692">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8113695">if</span>&nbsp;<span class="ident" id="8113698">err</span>&nbsp;<span class="op" id="8113702">!=</span>&nbsp;<span class="ident" id="8113705">nil</span>&nbsp;<span class="op" id="8113709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113713">t</span><span class="op" id="8113714">.</span><span class="ident" id="8113715">Fatal</span><span class="op" id="8113720">(</span><span class="string" id="8113721">&#34;error:&nbsp;&#34;</span><span class="op" id="8113730">,</span>&nbsp;<span class="ident" id="8113732">err</span><span class="op" id="8113735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8113738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8113741">if</span>&nbsp;<span class="builtinfunc" id="8113744">len</span><span class="op" id="8113747">(</span><span class="op" id="8113748">*</span><span class="op" id="8113749">*</span><span class="op" id="8113750">*</span><span class="ident" id="8113751">i</span><span class="op" id="8113752">.</span><span class="ident" id="8113753">A</span><span class="op" id="8113754">)</span>&nbsp;<span class="op" id="8113756">!=</span>&nbsp;<span class="num" id="8113759">3</span>&nbsp;<span class="op" id="8113761">||</span>&nbsp;<span class="op" id="8113764">(</span><span class="op" id="8113765">*</span><span class="op" id="8113766">*</span><span class="op" id="8113767">*</span><span class="ident" id="8113768">i</span><span class="op" id="8113769">.</span><span class="ident" id="8113770">A</span><span class="op" id="8113771">)</span><span class="op" id="8113772">[</span><span class="num" id="8113773">0</span><span class="op" id="8113774">]</span>&nbsp;<span class="op" id="8113776">!=</span>&nbsp;<span class="num" id="8113779">11</span>&nbsp;<span class="op" id="8113782">||</span>&nbsp;<span class="op" id="8113785">(</span><span class="op" id="8113786">*</span><span class="op" id="8113787">*</span><span class="op" id="8113788">*</span><span class="ident" id="8113789">i</span><span class="op" id="8113790">.</span><span class="ident" id="8113791">A</span><span class="op" id="8113792">)</span><span class="op" id="8113793">[</span><span class="num" id="8113794">1</span><span class="op" id="8113795">]</span>&nbsp;<span class="op" id="8113797">!=</span>&nbsp;<span class="num" id="8113800">22</span>&nbsp;<span class="op" id="8113803">||</span>&nbsp;<span class="op" id="8113806">(</span><span class="op" id="8113807">*</span><span class="op" id="8113808">*</span><span class="op" id="8113809">*</span><span class="ident" id="8113810">i</span><span class="op" id="8113811">.</span><span class="ident" id="8113812">A</span><span class="op" id="8113813">)</span><span class="op" id="8113814">[</span><span class="num" id="8113815">2</span><span class="op" id="8113816">]</span>&nbsp;<span class="op" id="8113818">!=</span>&nbsp;<span class="num" id="8113821">33</span>&nbsp;<span class="op" id="8113824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113828">t</span><span class="op" id="8113829">.</span><span class="ident" id="8113830">Errorf</span><span class="op" id="8113836">(</span><span class="string" id="8113837">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8113878">,</span>&nbsp;<span class="op" id="8113880">*</span><span class="op" id="8113881">*</span><span class="op" id="8113882">*</span><span class="ident" id="8113883">i</span><span class="op" id="8113884">.</span><span class="ident" id="8113885">A</span><span class="op" id="8113886">,</span>&nbsp;<span class="ident" id="8113888">d</span><span class="op" id="8113889">.</span><span class="ident" id="8113890">A</span><span class="op" id="8113891">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8113894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8113897">if</span>&nbsp;<span class="builtinfunc" id="8113900">len</span><span class="op" id="8113903">(</span><span class="op" id="8113904">*</span><span class="op" id="8113905">*</span><span class="op" id="8113906">*</span><span class="ident" id="8113907">i</span><span class="op" id="8113908">.</span><span class="ident" id="8113909">S</span><span class="op" id="8113910">)</span>&nbsp;<span class="op" id="8113912">!=</span>&nbsp;<span class="num" id="8113915">3</span>&nbsp;<span class="op" id="8113917">||</span>&nbsp;<span class="op" id="8113920">(</span><span class="op" id="8113921">*</span><span class="op" id="8113922">*</span><span class="op" id="8113923">*</span><span class="ident" id="8113924">i</span><span class="op" id="8113925">.</span><span class="ident" id="8113926">S</span><span class="op" id="8113927">)</span><span class="op" id="8113928">[</span><span class="num" id="8113929">0</span><span class="op" id="8113930">]</span>&nbsp;<span class="op" id="8113932">!=</span>&nbsp;<span class="num" id="8113935">44</span>&nbsp;<span class="op" id="8113938">||</span>&nbsp;<span class="op" id="8113941">(</span><span class="op" id="8113942">*</span><span class="op" id="8113943">*</span><span class="op" id="8113944">*</span><span class="ident" id="8113945">i</span><span class="op" id="8113946">.</span><span class="ident" id="8113947">S</span><span class="op" id="8113948">)</span><span class="op" id="8113949">[</span><span class="num" id="8113950">1</span><span class="op" id="8113951">]</span>&nbsp;<span class="op" id="8113953">!=</span>&nbsp;<span class="num" id="8113956">55</span>&nbsp;<span class="op" id="8113959">||</span>&nbsp;<span class="op" id="8113962">(</span><span class="op" id="8113963">*</span><span class="op" id="8113964">*</span><span class="op" id="8113965">*</span><span class="ident" id="8113966">i</span><span class="op" id="8113967">.</span><span class="ident" id="8113968">S</span><span class="op" id="8113969">)</span><span class="op" id="8113970">[</span><span class="num" id="8113971">2</span><span class="op" id="8113972">]</span>&nbsp;<span class="op" id="8113974">!=</span>&nbsp;<span class="num" id="8113977">66</span>&nbsp;<span class="op" id="8113980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8113984">t</span><span class="op" id="8113985">.</span><span class="ident" id="8113986">Errorf</span><span class="op" id="8113992">(</span><span class="string" id="8113993">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8114034">,</span>&nbsp;<span class="op" id="8114036">*</span><span class="op" id="8114037">*</span><span class="op" id="8114038">*</span><span class="ident" id="8114039">i</span><span class="op" id="8114040">.</span><span class="ident" id="8114041">S</span><span class="op" id="8114042">,</span>&nbsp;<span class="op" id="8114044">*</span><span class="op" id="8114045">*</span><span class="op" id="8114046">*</span><span class="ident" id="8114047">i</span><span class="op" id="8114048">.</span><span class="ident" id="8114049">S</span><span class="op" id="8114050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8114053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8114056">if</span>&nbsp;<span class="builtinfunc" id="8114059">len</span><span class="op" id="8114062">(</span><span class="op" id="8114063">*</span><span class="op" id="8114064">*</span><span class="op" id="8114065">*</span><span class="op" id="8114066">*</span><span class="ident" id="8114067">i</span><span class="op" id="8114068">.</span><span class="ident" id="8114069">M</span><span class="op" id="8114070">)</span>&nbsp;<span class="op" id="8114072">!=</span>&nbsp;<span class="num" id="8114075">3</span>&nbsp;<span class="op" id="8114077">||</span>&nbsp;<span class="op" id="8114080">(</span><span class="op" id="8114081">*</span><span class="op" id="8114082">*</span><span class="op" id="8114083">*</span><span class="op" id="8114084">*</span><span class="ident" id="8114085">i</span><span class="op" id="8114086">.</span><span class="ident" id="8114087">M</span><span class="op" id="8114088">)</span><span class="op" id="8114089">[</span><span class="string" id="8114090">&#34;four&#34;</span><span class="op" id="8114096">]</span>&nbsp;<span class="op" id="8114098">!=</span>&nbsp;<span class="num" id="8114101">4</span>&nbsp;<span class="op" id="8114103">||</span>&nbsp;<span class="op" id="8114106">(</span><span class="op" id="8114107">*</span><span class="op" id="8114108">*</span><span class="op" id="8114109">*</span><span class="op" id="8114110">*</span><span class="ident" id="8114111">i</span><span class="op" id="8114112">.</span><span class="ident" id="8114113">M</span><span class="op" id="8114114">)</span><span class="op" id="8114115">[</span><span class="string" id="8114116">&#34;five&#34;</span><span class="op" id="8114122">]</span>&nbsp;<span class="op" id="8114124">!=</span>&nbsp;<span class="num" id="8114127">5</span>&nbsp;<span class="op" id="8114129">||</span>&nbsp;<span class="op" id="8114132">(</span><span class="op" id="8114133">*</span><span class="op" id="8114134">*</span><span class="op" id="8114135">*</span><span class="op" id="8114136">*</span><span class="ident" id="8114137">i</span><span class="op" id="8114138">.</span><span class="ident" id="8114139">M</span><span class="op" id="8114140">)</span><span class="op" id="8114141">[</span><span class="string" id="8114142">&#34;six&#34;</span><span class="op" id="8114147">]</span>&nbsp;<span class="op" id="8114149">!=</span>&nbsp;<span class="num" id="8114152">6</span>&nbsp;<span class="op" id="8114154">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114158">t</span><span class="op" id="8114159">.</span><span class="ident" id="8114160">Errorf</span><span class="op" id="8114166">(</span><span class="string" id="8114167">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;****i.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8114209">,</span>&nbsp;<span class="op" id="8114211">*</span><span class="op" id="8114212">*</span><span class="op" id="8114213">*</span><span class="op" id="8114214">*</span><span class="ident" id="8114215">i</span><span class="op" id="8114216">.</span><span class="ident" id="8114217">M</span><span class="op" id="8114218">,</span>&nbsp;<span class="ident" id="8114220">d</span><span class="op" id="8114221">.</span><span class="ident" id="8114222">M</span><span class="op" id="8114223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8114226">}</span><br>
<span class="lineno"></span><span class="op" id="8114228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8114231">//&nbsp;An&nbsp;interface&nbsp;with&nbsp;several&nbsp;implementations</span><br>
<span class="lineno">1050</span><span class="keyword" id="8114276">type</span>&nbsp;<span class="ident" id="8114281">Squarer</span>&nbsp;<span class="keyword" id="8114289">interface</span>&nbsp;<span class="op" id="8114299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114302">Square</span><span class="op" id="8114308">(</span><span class="op" id="8114309">)</span>&nbsp;<span class="builtintype" id="8114311">int</span><br>
<span class="lineno"></span><span class="op" id="8114315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8114318">type</span>&nbsp;<span class="ident" id="8114323">Int</span>&nbsp;<span class="builtintype" id="8114327">int</span><br>
<span class="lineno">1055</span><br>
<span class="lineno"></span><span class="keyword" id="8114332">func</span>&nbsp;<span class="op" id="8114337">(</span><span class="ident" id="8114338">i</span>&nbsp;<span class="ident" id="8114340">Int</span><span class="op" id="8114343">)</span>&nbsp;<span class="ident" id="8114345">Square</span><span class="op" id="8114351">(</span><span class="op" id="8114352">)</span>&nbsp;<span class="builtintype" id="8114354">int</span>&nbsp;<span class="op" id="8114358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8114361">return</span>&nbsp;<span class="builtintype" id="8114368">int</span><span class="op" id="8114371">(</span><span class="ident" id="8114372">i</span>&nbsp;<span class="op" id="8114374">*</span>&nbsp;<span class="ident" id="8114376">i</span><span class="op" id="8114377">)</span><br>
<span class="lineno"></span><span class="op" id="8114379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="8114382">type</span>&nbsp;<span class="ident" id="8114387">Float</span>&nbsp;<span class="builtintype" id="8114393">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8114402">func</span>&nbsp;<span class="op" id="8114407">(</span><span class="ident" id="8114408">f</span>&nbsp;<span class="ident" id="8114410">Float</span><span class="op" id="8114415">)</span>&nbsp;<span class="ident" id="8114417">Square</span><span class="op" id="8114423">(</span><span class="op" id="8114424">)</span>&nbsp;<span class="builtintype" id="8114426">int</span>&nbsp;<span class="op" id="8114430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8114433">return</span>&nbsp;<span class="builtintype" id="8114440">int</span><span class="op" id="8114443">(</span><span class="ident" id="8114444">f</span>&nbsp;<span class="op" id="8114446">*</span>&nbsp;<span class="ident" id="8114448">f</span><span class="op" id="8114449">)</span><br>
<span class="lineno"></span><span class="op" id="8114451">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="8114454">type</span>&nbsp;<span class="ident" id="8114459">Vector</span>&nbsp;<span class="op" id="8114466">[</span><span class="op" id="8114467">]</span><span class="builtintype" id="8114468">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8114473">func</span>&nbsp;<span class="op" id="8114478">(</span><span class="ident" id="8114479">v</span>&nbsp;<span class="ident" id="8114481">Vector</span><span class="op" id="8114487">)</span>&nbsp;<span class="ident" id="8114489">Square</span><span class="op" id="8114495">(</span><span class="op" id="8114496">)</span>&nbsp;<span class="builtintype" id="8114498">int</span>&nbsp;<span class="op" id="8114502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114505">sum</span>&nbsp;<span class="op" id="8114509">:=</span>&nbsp;<span class="num" id="8114512">0</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8114515">for</span>&nbsp;<span class="ident" id="8114519">_</span><span class="op" id="8114520">,</span>&nbsp;<span class="ident" id="8114522">x</span>&nbsp;<span class="op" id="8114524">:=</span>&nbsp;<span class="keyword" id="8114527">range</span>&nbsp;<span class="ident" id="8114533">v</span>&nbsp;<span class="op" id="8114535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114539">sum</span>&nbsp;<span class="op" id="8114543">+=</span>&nbsp;<span class="ident" id="8114546">x</span>&nbsp;<span class="op" id="8114548">*</span>&nbsp;<span class="ident" id="8114550">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8114553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8114556">return</span>&nbsp;<span class="ident" id="8114563">sum</span><br>
<span class="lineno"></span><span class="op" id="8114567">}</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span><span class="keyword" id="8114570">type</span>&nbsp;<span class="ident" id="8114575">Point</span>&nbsp;<span class="keyword" id="8114581">struct</span>&nbsp;<span class="op" id="8114588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114591">X</span><span class="op" id="8114592">,</span>&nbsp;<span class="ident" id="8114594">Y</span>&nbsp;<span class="builtintype" id="8114596">int</span><br>
<span class="lineno"></span><span class="op" id="8114600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1080</span><span class="keyword" id="8114603">func</span>&nbsp;<span class="op" id="8114608">(</span><span class="ident" id="8114609">p</span>&nbsp;<span class="ident" id="8114611">Point</span><span class="op" id="8114616">)</span>&nbsp;<span class="ident" id="8114618">Square</span><span class="op" id="8114624">(</span><span class="op" id="8114625">)</span>&nbsp;<span class="builtintype" id="8114627">int</span>&nbsp;<span class="op" id="8114631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8114634">return</span>&nbsp;<span class="ident" id="8114641">p</span><span class="op" id="8114642">.</span><span class="ident" id="8114643">X</span><span class="op" id="8114644">*</span><span class="ident" id="8114645">p</span><span class="op" id="8114646">.</span><span class="ident" id="8114647">X</span>&nbsp;<span class="op" id="8114649">+</span>&nbsp;<span class="ident" id="8114651">p</span><span class="op" id="8114652">.</span><span class="ident" id="8114653">Y</span><span class="op" id="8114654">*</span><span class="ident" id="8114655">p</span><span class="op" id="8114656">.</span><span class="ident" id="8114657">Y</span><br>
<span class="lineno"></span><span class="op" id="8114659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8114662">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;interfaces&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1085</span><span class="keyword" id="8114697">type</span>&nbsp;<span class="ident" id="8114702">InterfaceItem</span>&nbsp;<span class="keyword" id="8114716">struct</span>&nbsp;<span class="op" id="8114723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114726">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8114740">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114745">Sq1</span><span class="op" id="8114748">,</span>&nbsp;<span class="ident" id="8114750">Sq2</span><span class="op" id="8114753">,</span>&nbsp;<span class="ident" id="8114755">Sq3</span>&nbsp;<span class="ident" id="8114759">Squarer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114768">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8114782">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114791">Sq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8114805">[</span><span class="op" id="8114806">]</span><span class="ident" id="8114807">Squarer</span><br>
<span class="lineno">1090</span><span class="op" id="8114815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8114818">//&nbsp;The&nbsp;same&nbsp;struct&nbsp;without&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="keyword" id="8114856">type</span>&nbsp;<span class="ident" id="8114861">NoInterfaceItem</span>&nbsp;<span class="keyword" id="8114877">struct</span>&nbsp;<span class="op" id="8114884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114887">I</span>&nbsp;<span class="builtintype" id="8114889">int</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114894">F</span>&nbsp;<span class="builtintype" id="8114896">float64</span><br>
<span class="lineno"></span><span class="op" id="8114904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8114907">func</span>&nbsp;<span class="ident" id="8114912">TestInterface</span><span class="op" id="8114925">(</span><span class="ident" id="8114926">t</span>&nbsp;<span class="op" id="8114928">*</span><span class="ident" id="8114929">testing</span><span class="op" id="8114936">.</span><span class="ident" id="8114937">T</span><span class="op" id="8114938">)</span>&nbsp;<span class="op" id="8114940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114943">iVal</span>&nbsp;<span class="op" id="8114948">:=</span>&nbsp;<span class="ident" id="8114951">Int</span><span class="op" id="8114954">(</span><span class="num" id="8114955">3</span><span class="op" id="8114956">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8114959">fVal</span>&nbsp;<span class="op" id="8114964">:=</span>&nbsp;<span class="ident" id="8114967">Float</span><span class="op" id="8114972">(</span><span class="num" id="8114973">5</span><span class="op" id="8114974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8114977">//&nbsp;Sending&nbsp;a&nbsp;Vector&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8115060">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115095">vVal</span>&nbsp;<span class="op" id="8115100">:=</span>&nbsp;<span class="ident" id="8115103">Vector</span><span class="op" id="8115109">{</span><span class="num" id="8115110">1</span><span class="op" id="8115111">,</span>&nbsp;<span class="num" id="8115113">2</span><span class="op" id="8115114">,</span>&nbsp;<span class="num" id="8115116">3</span><span class="op" id="8115117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115120">b</span>&nbsp;<span class="op" id="8115122">:=</span>&nbsp;<span class="builtinfunc" id="8115125">new</span><span class="op" id="8115128">(</span><span class="ident" id="8115129">bytes</span><span class="op" id="8115134">.</span><span class="ident" id="8115135">Buffer</span><span class="op" id="8115141">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115144">item1</span>&nbsp;<span class="op" id="8115150">:=</span>&nbsp;<span class="op" id="8115153">&amp;</span><span class="ident" id="8115154">InterfaceItem</span><span class="op" id="8115167">{</span><span class="num" id="8115168">1</span><span class="op" id="8115169">,</span>&nbsp;<span class="ident" id="8115171">iVal</span><span class="op" id="8115175">,</span>&nbsp;<span class="ident" id="8115177">fVal</span><span class="op" id="8115181">,</span>&nbsp;<span class="ident" id="8115183">vVal</span><span class="op" id="8115187">,</span>&nbsp;<span class="num" id="8115189">11.5</span><span class="op" id="8115193">,</span>&nbsp;<span class="op" id="8115195">[</span><span class="op" id="8115196">]</span><span class="ident" id="8115197">Squarer</span><span class="op" id="8115204">{</span><span class="ident" id="8115205">iVal</span><span class="op" id="8115209">,</span>&nbsp;<span class="ident" id="8115211">fVal</span><span class="op" id="8115215">,</span>&nbsp;<span class="ident" id="8115217">nil</span><span class="op" id="8115220">,</span>&nbsp;<span class="ident" id="8115222">vVal</span><span class="op" id="8115226">}</span><span class="op" id="8115227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8115230">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115254">Register</span><span class="op" id="8115262">(</span><span class="ident" id="8115263">Int</span><span class="op" id="8115266">(</span><span class="num" id="8115267">0</span><span class="op" id="8115268">)</span><span class="op" id="8115269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115272">Register</span><span class="op" id="8115280">(</span><span class="ident" id="8115281">Float</span><span class="op" id="8115286">(</span><span class="num" id="8115287">0</span><span class="op" id="8115288">)</span><span class="op" id="8115289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115292">Register</span><span class="op" id="8115300">(</span><span class="ident" id="8115301">Vector</span><span class="op" id="8115307">{</span><span class="op" id="8115308">}</span><span class="op" id="8115309">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115312">err</span>&nbsp;<span class="op" id="8115316">:=</span>&nbsp;<span class="ident" id="8115319">NewEncoder</span><span class="op" id="8115329">(</span><span class="ident" id="8115330">b</span><span class="op" id="8115331">)</span><span class="op" id="8115332">.</span><span class="ident" id="8115333">Encode</span><span class="op" id="8115339">(</span><span class="ident" id="8115340">item1</span><span class="op" id="8115345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115348">if</span>&nbsp;<span class="ident" id="8115351">err</span>&nbsp;<span class="op" id="8115355">!=</span>&nbsp;<span class="ident" id="8115358">nil</span>&nbsp;<span class="op" id="8115362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115366">t</span><span class="op" id="8115367">.</span><span class="ident" id="8115368">Error</span><span class="op" id="8115373">(</span><span class="string" id="8115374">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8115405">,</span>&nbsp;<span class="ident" id="8115407">err</span><span class="op" id="8115410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8115413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115417">item2</span>&nbsp;<span class="op" id="8115423">:=</span>&nbsp;<span class="ident" id="8115426">InterfaceItem</span><span class="op" id="8115439">{</span><span class="op" id="8115440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115443">err</span>&nbsp;<span class="op" id="8115447">=</span>&nbsp;<span class="ident" id="8115449">NewDecoder</span><span class="op" id="8115459">(</span><span class="ident" id="8115460">b</span><span class="op" id="8115461">)</span><span class="op" id="8115462">.</span><span class="ident" id="8115463">Decode</span><span class="op" id="8115469">(</span><span class="op" id="8115470">&amp;</span><span class="ident" id="8115471">item2</span><span class="op" id="8115476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115479">if</span>&nbsp;<span class="ident" id="8115482">err</span>&nbsp;<span class="op" id="8115486">!=</span>&nbsp;<span class="ident" id="8115489">nil</span>&nbsp;<span class="op" id="8115493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115497">t</span><span class="op" id="8115498">.</span><span class="ident" id="8115499">Fatal</span><span class="op" id="8115504">(</span><span class="string" id="8115505">&#34;decode:&#34;</span><span class="op" id="8115514">,</span>&nbsp;<span class="ident" id="8115516">err</span><span class="op" id="8115519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8115522">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115525">if</span>&nbsp;<span class="ident" id="8115528">item2</span><span class="op" id="8115533">.</span><span class="ident" id="8115534">I</span>&nbsp;<span class="op" id="8115536">!=</span>&nbsp;<span class="ident" id="8115539">item1</span><span class="op" id="8115544">.</span><span class="ident" id="8115545">I</span>&nbsp;<span class="op" id="8115547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115551">t</span><span class="op" id="8115552">.</span><span class="ident" id="8115553">Error</span><span class="op" id="8115558">(</span><span class="string" id="8115559">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8115596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8115599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115602">if</span>&nbsp;<span class="ident" id="8115605">item2</span><span class="op" id="8115610">.</span><span class="ident" id="8115611">Sq1</span>&nbsp;<span class="op" id="8115615">==</span>&nbsp;<span class="ident" id="8115618">nil</span>&nbsp;<span class="op" id="8115622">||</span>&nbsp;<span class="ident" id="8115625">item2</span><span class="op" id="8115630">.</span><span class="ident" id="8115631">Sq1</span><span class="op" id="8115634">.</span><span class="ident" id="8115635">Square</span><span class="op" id="8115641">(</span><span class="op" id="8115642">)</span>&nbsp;<span class="op" id="8115644">!=</span>&nbsp;<span class="ident" id="8115647">iVal</span><span class="op" id="8115651">.</span><span class="ident" id="8115652">Square</span><span class="op" id="8115658">(</span><span class="op" id="8115659">)</span>&nbsp;<span class="op" id="8115661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115665">t</span><span class="op" id="8115666">.</span><span class="ident" id="8115667">Error</span><span class="op" id="8115672">(</span><span class="string" id="8115673">&#34;Int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8115703">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8115706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115709">if</span>&nbsp;<span class="ident" id="8115712">item2</span><span class="op" id="8115717">.</span><span class="ident" id="8115718">Sq2</span>&nbsp;<span class="op" id="8115722">==</span>&nbsp;<span class="ident" id="8115725">nil</span>&nbsp;<span class="op" id="8115729">||</span>&nbsp;<span class="ident" id="8115732">item2</span><span class="op" id="8115737">.</span><span class="ident" id="8115738">Sq2</span><span class="op" id="8115741">.</span><span class="ident" id="8115742">Square</span><span class="op" id="8115748">(</span><span class="op" id="8115749">)</span>&nbsp;<span class="op" id="8115751">!=</span>&nbsp;<span class="ident" id="8115754">fVal</span><span class="op" id="8115758">.</span><span class="ident" id="8115759">Square</span><span class="op" id="8115765">(</span><span class="op" id="8115766">)</span>&nbsp;<span class="op" id="8115768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115772">t</span><span class="op" id="8115773">.</span><span class="ident" id="8115774">Error</span><span class="op" id="8115779">(</span><span class="string" id="8115780">&#34;Float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8115812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8115815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115818">if</span>&nbsp;<span class="ident" id="8115821">item2</span><span class="op" id="8115826">.</span><span class="ident" id="8115827">Sq3</span>&nbsp;<span class="op" id="8115831">==</span>&nbsp;<span class="ident" id="8115834">nil</span>&nbsp;<span class="op" id="8115838">||</span>&nbsp;<span class="ident" id="8115841">item2</span><span class="op" id="8115846">.</span><span class="ident" id="8115847">Sq3</span><span class="op" id="8115850">.</span><span class="ident" id="8115851">Square</span><span class="op" id="8115857">(</span><span class="op" id="8115858">)</span>&nbsp;<span class="op" id="8115860">!=</span>&nbsp;<span class="ident" id="8115863">vVal</span><span class="op" id="8115867">.</span><span class="ident" id="8115868">Square</span><span class="op" id="8115874">(</span><span class="op" id="8115875">)</span>&nbsp;<span class="op" id="8115877">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115881">t</span><span class="op" id="8115882">.</span><span class="ident" id="8115883">Error</span><span class="op" id="8115888">(</span><span class="string" id="8115889">&#34;Vector&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8115922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8115925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8115928">if</span>&nbsp;<span class="ident" id="8115931">item2</span><span class="op" id="8115936">.</span><span class="ident" id="8115937">F</span>&nbsp;<span class="op" id="8115939">!=</span>&nbsp;<span class="ident" id="8115942">item1</span><span class="op" id="8115947">.</span><span class="ident" id="8115948">F</span>&nbsp;<span class="op" id="8115950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115954">t</span><span class="op" id="8115955">.</span><span class="ident" id="8115956">Error</span><span class="op" id="8115961">(</span><span class="string" id="8115962">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8116001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116004">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8116007">//&nbsp;Now&nbsp;check&nbsp;that&nbsp;we&nbsp;received&nbsp;a&nbsp;slice&nbsp;of&nbsp;Squarers&nbsp;correctly,&nbsp;including&nbsp;a&nbsp;nil&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116093">if</span>&nbsp;<span class="builtinfunc" id="8116096">len</span><span class="op" id="8116099">(</span><span class="ident" id="8116100">item1</span><span class="op" id="8116105">.</span><span class="ident" id="8116106">Sq</span><span class="op" id="8116108">)</span>&nbsp;<span class="op" id="8116110">!=</span>&nbsp;<span class="builtinfunc" id="8116113">len</span><span class="op" id="8116116">(</span><span class="ident" id="8116117">item2</span><span class="op" id="8116122">.</span><span class="ident" id="8116123">Sq</span><span class="op" id="8116125">)</span>&nbsp;<span class="op" id="8116127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116131">t</span><span class="op" id="8116132">.</span><span class="ident" id="8116133">Fatalf</span><span class="op" id="8116139">(</span><span class="string" id="8116140">&#34;[]Squarer&nbsp;length&nbsp;wrong:&nbsp;got&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8116185">,</span>&nbsp;<span class="builtinfunc" id="8116187">len</span><span class="op" id="8116190">(</span><span class="ident" id="8116191">item2</span><span class="op" id="8116196">.</span><span class="ident" id="8116197">Sq</span><span class="op" id="8116199">)</span><span class="op" id="8116200">,</span>&nbsp;<span class="builtinfunc" id="8116202">len</span><span class="op" id="8116205">(</span><span class="ident" id="8116206">item1</span><span class="op" id="8116211">.</span><span class="ident" id="8116212">Sq</span><span class="op" id="8116214">)</span><span class="op" id="8116215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116221">for</span>&nbsp;<span class="ident" id="8116225">i</span><span class="op" id="8116226">,</span>&nbsp;<span class="ident" id="8116228">v1</span>&nbsp;<span class="op" id="8116231">:=</span>&nbsp;<span class="keyword" id="8116234">range</span>&nbsp;<span class="ident" id="8116240">item1</span><span class="op" id="8116245">.</span><span class="ident" id="8116246">Sq</span>&nbsp;<span class="op" id="8116249">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116253">v2</span>&nbsp;<span class="op" id="8116256">:=</span>&nbsp;<span class="ident" id="8116259">item2</span><span class="op" id="8116264">.</span><span class="ident" id="8116265">Sq</span><span class="op" id="8116267">[</span><span class="ident" id="8116268">i</span><span class="op" id="8116269">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116273">if</span>&nbsp;<span class="ident" id="8116276">v1</span>&nbsp;<span class="op" id="8116279">==</span>&nbsp;<span class="ident" id="8116282">nil</span>&nbsp;<span class="op" id="8116286">||</span>&nbsp;<span class="ident" id="8116289">v2</span>&nbsp;<span class="op" id="8116292">==</span>&nbsp;<span class="ident" id="8116295">nil</span>&nbsp;<span class="op" id="8116299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8116304">if</span>&nbsp;<span class="ident" id="8116307">v1</span>&nbsp;<span class="op" id="8116310">!=</span>&nbsp;<span class="ident" id="8116313">nil</span>&nbsp;<span class="op" id="8116317">||</span>&nbsp;<span class="ident" id="8116320">v2</span>&nbsp;<span class="op" id="8116323">!=</span>&nbsp;<span class="ident" id="8116326">nil</span>&nbsp;<span class="op" id="8116330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116336">t</span><span class="op" id="8116337">.</span><span class="ident" id="8116338">Errorf</span><span class="op" id="8116344">(</span><span class="string" id="8116345">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;nils&#34;</span><span class="op" id="8116372">,</span>&nbsp;<span class="ident" id="8116374">i</span><span class="op" id="8116375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116380">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116384">}</span>&nbsp;<span class="keyword" id="8116386">else</span>&nbsp;<span class="keyword" id="8116391">if</span>&nbsp;<span class="ident" id="8116394">v1</span><span class="op" id="8116396">.</span><span class="ident" id="8116397">Square</span><span class="op" id="8116403">(</span><span class="op" id="8116404">)</span>&nbsp;<span class="op" id="8116406">!=</span>&nbsp;<span class="ident" id="8116409">v2</span><span class="op" id="8116411">.</span><span class="ident" id="8116412">Square</span><span class="op" id="8116418">(</span><span class="op" id="8116419">)</span>&nbsp;<span class="op" id="8116421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116426">t</span><span class="op" id="8116427">.</span><span class="ident" id="8116428">Errorf</span><span class="op" id="8116434">(</span><span class="string" id="8116435">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;values:&nbsp;%v&nbsp;%v&#34;</span><span class="op" id="8116471">,</span>&nbsp;<span class="ident" id="8116473">i</span><span class="op" id="8116474">,</span>&nbsp;<span class="ident" id="8116476">v1</span><span class="op" id="8116478">,</span>&nbsp;<span class="ident" id="8116480">v2</span><span class="op" id="8116482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116489">}</span><br>
<span class="lineno"></span><span class="op" id="8116491">}</span><br>
<span class="lineno">1150</span><br>
<span class="lineno"></span><span class="comment" id="8116494">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;all&nbsp;basic&nbsp;types,&nbsp;stored&nbsp;in&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="keyword" id="8116550">type</span>&nbsp;<span class="ident" id="8116555">BasicInterfaceItem</span>&nbsp;<span class="keyword" id="8116574">struct</span>&nbsp;<span class="op" id="8116581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116584">Int</span><span class="op" id="8116587">,</span>&nbsp;<span class="ident" id="8116589">Int8</span><span class="op" id="8116593">,</span>&nbsp;<span class="ident" id="8116595">Int16</span><span class="op" id="8116600">,</span>&nbsp;<span class="ident" id="8116602">Int32</span><span class="op" id="8116607">,</span>&nbsp;<span class="ident" id="8116609">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8116620">interface</span><span class="op" id="8116629">{</span><span class="op" id="8116630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116633">Uint</span><span class="op" id="8116637">,</span>&nbsp;<span class="ident" id="8116639">Uint8</span><span class="op" id="8116644">,</span>&nbsp;<span class="ident" id="8116646">Uint16</span><span class="op" id="8116652">,</span>&nbsp;<span class="ident" id="8116654">Uint32</span><span class="op" id="8116660">,</span>&nbsp;<span class="ident" id="8116662">Uint64</span>&nbsp;<span class="keyword" id="8116669">interface</span><span class="op" id="8116678">{</span><span class="op" id="8116679">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116682">Float32</span><span class="op" id="8116689">,</span>&nbsp;<span class="ident" id="8116691">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8116718">interface</span><span class="op" id="8116727">{</span><span class="op" id="8116728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116731">Complex64</span><span class="op" id="8116740">,</span>&nbsp;<span class="ident" id="8116742">Complex128</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8116767">interface</span><span class="op" id="8116776">{</span><span class="op" id="8116777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116780">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8116816">interface</span><span class="op" id="8116825">{</span><span class="op" id="8116826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116829">String</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8116865">interface</span><span class="op" id="8116874">{</span><span class="op" id="8116875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116878">Bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8116914">interface</span><span class="op" id="8116923">{</span><span class="op" id="8116924">}</span><br>
<span class="lineno">1160</span><span class="op" id="8116926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8116929">func</span>&nbsp;<span class="ident" id="8116934">TestInterfaceBasic</span><span class="op" id="8116952">(</span><span class="ident" id="8116953">t</span>&nbsp;<span class="op" id="8116955">*</span><span class="ident" id="8116956">testing</span><span class="op" id="8116963">.</span><span class="ident" id="8116964">T</span><span class="op" id="8116965">)</span>&nbsp;<span class="op" id="8116967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116970">b</span>&nbsp;<span class="op" id="8116972">:=</span>&nbsp;<span class="builtinfunc" id="8116975">new</span><span class="op" id="8116978">(</span><span class="ident" id="8116979">bytes</span><span class="op" id="8116984">.</span><span class="ident" id="8116985">Buffer</span><span class="op" id="8116991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116994">item1</span>&nbsp;<span class="op" id="8117000">:=</span>&nbsp;<span class="op" id="8117003">&amp;</span><span class="ident" id="8117004">BasicInterfaceItem</span><span class="op" id="8117022">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8117026">int</span><span class="op" id="8117029">(</span><span class="num" id="8117030">1</span><span class="op" id="8117031">)</span><span class="op" id="8117032">,</span>&nbsp;<span class="builtintype" id="8117034">int8</span><span class="op" id="8117038">(</span><span class="num" id="8117039">1</span><span class="op" id="8117040">)</span><span class="op" id="8117041">,</span>&nbsp;<span class="builtintype" id="8117043">int16</span><span class="op" id="8117048">(</span><span class="num" id="8117049">1</span><span class="op" id="8117050">)</span><span class="op" id="8117051">,</span>&nbsp;<span class="builtintype" id="8117053">int32</span><span class="op" id="8117058">(</span><span class="num" id="8117059">1</span><span class="op" id="8117060">)</span><span class="op" id="8117061">,</span>&nbsp;<span class="ident" id="8117063">int64</span><span class="op" id="8117068">(</span><span class="num" id="8117069">1</span><span class="op" id="8117070">)</span><span class="op" id="8117071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8117075">uint</span><span class="op" id="8117079">(</span><span class="num" id="8117080">1</span><span class="op" id="8117081">)</span><span class="op" id="8117082">,</span>&nbsp;<span class="builtintype" id="8117084">uint8</span><span class="op" id="8117089">(</span><span class="num" id="8117090">1</span><span class="op" id="8117091">)</span><span class="op" id="8117092">,</span>&nbsp;<span class="builtintype" id="8117094">uint16</span><span class="op" id="8117100">(</span><span class="num" id="8117101">1</span><span class="op" id="8117102">)</span><span class="op" id="8117103">,</span>&nbsp;<span class="builtintype" id="8117105">uint32</span><span class="op" id="8117111">(</span><span class="num" id="8117112">1</span><span class="op" id="8117113">)</span><span class="op" id="8117114">,</span>&nbsp;<span class="ident" id="8117116">uint64</span><span class="op" id="8117122">(</span><span class="num" id="8117123">1</span><span class="op" id="8117124">)</span><span class="op" id="8117125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8117129">float32</span><span class="op" id="8117136">(</span><span class="num" id="8117137">1</span><span class="op" id="8117138">)</span><span class="op" id="8117139">,</span>&nbsp;<span class="num" id="8117141">1.0</span><span class="op" id="8117144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8117148">complex64</span><span class="op" id="8117157">(</span><span class="num" id="8117158">1i</span><span class="op" id="8117160">)</span><span class="op" id="8117161">,</span>&nbsp;<span class="builtintype" id="8117163">complex128</span><span class="op" id="8117173">(</span><span class="num" id="8117174">1i</span><span class="op" id="8117176">)</span><span class="op" id="8117177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8117181">true</span><span class="op" id="8117185">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117189">&#34;hello&#34;</span><span class="op" id="8117196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117200">[</span><span class="op" id="8117201">]</span><span class="builtintype" id="8117202">byte</span><span class="op" id="8117206">(</span><span class="string" id="8117207">&#34;sailor&#34;</span><span class="op" id="8117215">)</span><span class="op" id="8117216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117222">err</span>&nbsp;<span class="op" id="8117226">:=</span>&nbsp;<span class="ident" id="8117229">NewEncoder</span><span class="op" id="8117239">(</span><span class="ident" id="8117240">b</span><span class="op" id="8117241">)</span><span class="op" id="8117242">.</span><span class="ident" id="8117243">Encode</span><span class="op" id="8117249">(</span><span class="ident" id="8117250">item1</span><span class="op" id="8117255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117258">if</span>&nbsp;<span class="ident" id="8117261">err</span>&nbsp;<span class="op" id="8117265">!=</span>&nbsp;<span class="ident" id="8117268">nil</span>&nbsp;<span class="op" id="8117272">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117276">t</span><span class="op" id="8117277">.</span><span class="ident" id="8117278">Error</span><span class="op" id="8117283">(</span><span class="string" id="8117284">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8117315">,</span>&nbsp;<span class="ident" id="8117317">err</span><span class="op" id="8117320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117327">item2</span>&nbsp;<span class="op" id="8117333">:=</span>&nbsp;<span class="op" id="8117336">&amp;</span><span class="ident" id="8117337">BasicInterfaceItem</span><span class="op" id="8117355">{</span><span class="op" id="8117356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117359">err</span>&nbsp;<span class="op" id="8117363">=</span>&nbsp;<span class="ident" id="8117365">NewDecoder</span><span class="op" id="8117375">(</span><span class="ident" id="8117376">b</span><span class="op" id="8117377">)</span><span class="op" id="8117378">.</span><span class="ident" id="8117379">Decode</span><span class="op" id="8117385">(</span><span class="op" id="8117386">&amp;</span><span class="ident" id="8117387">item2</span><span class="op" id="8117392">)</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117395">if</span>&nbsp;<span class="ident" id="8117398">err</span>&nbsp;<span class="op" id="8117402">!=</span>&nbsp;<span class="ident" id="8117405">nil</span>&nbsp;<span class="op" id="8117409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117413">t</span><span class="op" id="8117414">.</span><span class="ident" id="8117415">Fatal</span><span class="op" id="8117420">(</span><span class="string" id="8117421">&#34;decode:&#34;</span><span class="op" id="8117430">,</span>&nbsp;<span class="ident" id="8117432">err</span><span class="op" id="8117435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117441">if</span>&nbsp;<span class="op" id="8117444">!</span><span class="ident" id="8117445">reflect</span><span class="op" id="8117452">.</span><span class="ident" id="8117453">DeepEqual</span><span class="op" id="8117462">(</span><span class="ident" id="8117463">item1</span><span class="op" id="8117468">,</span>&nbsp;<span class="ident" id="8117470">item2</span><span class="op" id="8117475">)</span>&nbsp;<span class="op" id="8117477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117481">t</span><span class="op" id="8117482">.</span><span class="ident" id="8117483">Errorf</span><span class="op" id="8117489">(</span><span class="string" id="8117490">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8117517">,</span>&nbsp;<span class="ident" id="8117519">item1</span><span class="op" id="8117524">,</span>&nbsp;<span class="ident" id="8117526">item2</span><span class="op" id="8117531">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8117537">//&nbsp;Hand&nbsp;check&nbsp;a&nbsp;couple&nbsp;for&nbsp;correct&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117580">if</span>&nbsp;<span class="ident" id="8117583">v</span><span class="op" id="8117584">,</span>&nbsp;<span class="ident" id="8117586">ok</span>&nbsp;<span class="op" id="8117589">:=</span>&nbsp;<span class="ident" id="8117592">item2</span><span class="op" id="8117597">.</span><span class="ident" id="8117598">Bool</span><span class="op" id="8117602">.</span><span class="op" id="8117603">(</span><span class="builtintype" id="8117604">bool</span><span class="op" id="8117608">)</span><span class="op" id="8117609">;</span>&nbsp;<span class="op" id="8117611">!</span><span class="ident" id="8117612">ok</span>&nbsp;<span class="op" id="8117615">||</span>&nbsp;<span class="op" id="8117618">!</span><span class="ident" id="8117619">v</span>&nbsp;<span class="op" id="8117621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117625">t</span><span class="op" id="8117626">.</span><span class="ident" id="8117627">Error</span><span class="op" id="8117632">(</span><span class="string" id="8117633">&#34;boolean&nbsp;should&nbsp;be&nbsp;true&#34;</span><span class="op" id="8117657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117660">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117663">if</span>&nbsp;<span class="ident" id="8117666">v</span><span class="op" id="8117667">,</span>&nbsp;<span class="ident" id="8117669">ok</span>&nbsp;<span class="op" id="8117672">:=</span>&nbsp;<span class="ident" id="8117675">item2</span><span class="op" id="8117680">.</span><span class="ident" id="8117681">String</span><span class="op" id="8117687">.</span><span class="op" id="8117688">(</span><span class="builtintype" id="8117689">string</span><span class="op" id="8117695">)</span><span class="op" id="8117696">;</span>&nbsp;<span class="op" id="8117698">!</span><span class="ident" id="8117699">ok</span>&nbsp;<span class="op" id="8117702">||</span>&nbsp;<span class="ident" id="8117705">v</span>&nbsp;<span class="op" id="8117707">!=</span>&nbsp;<span class="ident" id="8117710">item1</span><span class="op" id="8117715">.</span><span class="ident" id="8117716">String</span><span class="op" id="8117722">.</span><span class="op" id="8117723">(</span><span class="builtintype" id="8117724">string</span><span class="op" id="8117730">)</span>&nbsp;<span class="op" id="8117732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117736">t</span><span class="op" id="8117737">.</span><span class="ident" id="8117738">Errorf</span><span class="op" id="8117744">(</span><span class="string" id="8117745">&#34;string&nbsp;should&nbsp;be&nbsp;%v&nbsp;is&nbsp;%v&#34;</span><span class="op" id="8117772">,</span>&nbsp;<span class="ident" id="8117774">item1</span><span class="op" id="8117779">.</span><span class="ident" id="8117780">String</span><span class="op" id="8117786">,</span>&nbsp;<span class="ident" id="8117788">v</span><span class="op" id="8117789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117792">}</span><br>
<span class="lineno"></span><span class="op" id="8117794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span><span class="keyword" id="8117797">type</span>&nbsp;<span class="ident" id="8117802">String</span>&nbsp;<span class="builtintype" id="8117809">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8117817">type</span>&nbsp;<span class="ident" id="8117822">PtrInterfaceItem</span>&nbsp;<span class="keyword" id="8117839">struct</span>&nbsp;<span class="op" id="8117846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117849">Str1</span>&nbsp;<span class="keyword" id="8117854">interface</span><span class="op" id="8117863">{</span><span class="op" id="8117864">}</span>&nbsp;<span class="comment" id="8117866">//&nbsp;basic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117876">Str2</span>&nbsp;<span class="keyword" id="8117881">interface</span><span class="op" id="8117890">{</span><span class="op" id="8117891">}</span>&nbsp;<span class="comment" id="8117893">//&nbsp;derived</span><br>
<span class="lineno">1200</span><span class="op" id="8117904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8117907">//&nbsp;We&#39;ll&nbsp;send&nbsp;pointers;&nbsp;should&nbsp;receive&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="8117954">//&nbsp;Also&nbsp;check&nbsp;that&nbsp;we&nbsp;can&nbsp;register&nbsp;T&nbsp;but&nbsp;send&nbsp;*T.</span><br>
<span class="lineno"></span><span class="keyword" id="8118004">func</span>&nbsp;<span class="ident" id="8118009">TestInterfacePointer</span><span class="op" id="8118029">(</span><span class="ident" id="8118030">t</span>&nbsp;<span class="op" id="8118032">*</span><span class="ident" id="8118033">testing</span><span class="op" id="8118040">.</span><span class="ident" id="8118041">T</span><span class="op" id="8118042">)</span>&nbsp;<span class="op" id="8118044">{</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118047">b</span>&nbsp;<span class="op" id="8118049">:=</span>&nbsp;<span class="builtinfunc" id="8118052">new</span><span class="op" id="8118055">(</span><span class="ident" id="8118056">bytes</span><span class="op" id="8118061">.</span><span class="ident" id="8118062">Buffer</span><span class="op" id="8118068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118071">str1</span>&nbsp;<span class="op" id="8118076">:=</span>&nbsp;<span class="string" id="8118079">&#34;howdy&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118088">str2</span>&nbsp;<span class="op" id="8118093">:=</span>&nbsp;<span class="ident" id="8118096">String</span><span class="op" id="8118102">(</span><span class="string" id="8118103">&#34;kiddo&#34;</span><span class="op" id="8118110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118113">item1</span>&nbsp;<span class="op" id="8118119">:=</span>&nbsp;<span class="op" id="8118122">&amp;</span><span class="ident" id="8118123">PtrInterfaceItem</span><span class="op" id="8118139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118143">&amp;</span><span class="ident" id="8118144">str1</span><span class="op" id="8118148">,</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118152">&amp;</span><span class="ident" id="8118153">str2</span><span class="op" id="8118157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8118163">//&nbsp;Register&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118186">Register</span><span class="op" id="8118194">(</span><span class="ident" id="8118195">str2</span><span class="op" id="8118199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118202">err</span>&nbsp;<span class="op" id="8118206">:=</span>&nbsp;<span class="ident" id="8118209">NewEncoder</span><span class="op" id="8118219">(</span><span class="ident" id="8118220">b</span><span class="op" id="8118221">)</span><span class="op" id="8118222">.</span><span class="ident" id="8118223">Encode</span><span class="op" id="8118229">(</span><span class="ident" id="8118230">item1</span><span class="op" id="8118235">)</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8118238">if</span>&nbsp;<span class="ident" id="8118241">err</span>&nbsp;<span class="op" id="8118245">!=</span>&nbsp;<span class="ident" id="8118248">nil</span>&nbsp;<span class="op" id="8118252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118256">t</span><span class="op" id="8118257">.</span><span class="ident" id="8118258">Error</span><span class="op" id="8118263">(</span><span class="string" id="8118264">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8118295">,</span>&nbsp;<span class="ident" id="8118297">err</span><span class="op" id="8118300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118307">item2</span>&nbsp;<span class="op" id="8118313">:=</span>&nbsp;<span class="op" id="8118316">&amp;</span><span class="ident" id="8118317">PtrInterfaceItem</span><span class="op" id="8118333">{</span><span class="op" id="8118334">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118337">err</span>&nbsp;<span class="op" id="8118341">=</span>&nbsp;<span class="ident" id="8118343">NewDecoder</span><span class="op" id="8118353">(</span><span class="ident" id="8118354">b</span><span class="op" id="8118355">)</span><span class="op" id="8118356">.</span><span class="ident" id="8118357">Decode</span><span class="op" id="8118363">(</span><span class="op" id="8118364">&amp;</span><span class="ident" id="8118365">item2</span><span class="op" id="8118370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8118373">if</span>&nbsp;<span class="ident" id="8118376">err</span>&nbsp;<span class="op" id="8118380">!=</span>&nbsp;<span class="ident" id="8118383">nil</span>&nbsp;<span class="op" id="8118387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118391">t</span><span class="op" id="8118392">.</span><span class="ident" id="8118393">Fatal</span><span class="op" id="8118398">(</span><span class="string" id="8118399">&#34;decode:&#34;</span><span class="op" id="8118408">,</span>&nbsp;<span class="ident" id="8118410">err</span><span class="op" id="8118413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8118419">//&nbsp;Hand&nbsp;test&nbsp;for&nbsp;correct&nbsp;types&nbsp;and&nbsp;values.</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8118463">if</span>&nbsp;<span class="ident" id="8118466">v</span><span class="op" id="8118467">,</span>&nbsp;<span class="ident" id="8118469">ok</span>&nbsp;<span class="op" id="8118472">:=</span>&nbsp;<span class="ident" id="8118475">item2</span><span class="op" id="8118480">.</span><span class="ident" id="8118481">Str1</span><span class="op" id="8118485">.</span><span class="op" id="8118486">(</span><span class="builtintype" id="8118487">string</span><span class="op" id="8118493">)</span><span class="op" id="8118494">;</span>&nbsp;<span class="op" id="8118496">!</span><span class="ident" id="8118497">ok</span>&nbsp;<span class="op" id="8118500">||</span>&nbsp;<span class="ident" id="8118503">v</span>&nbsp;<span class="op" id="8118505">!=</span>&nbsp;<span class="ident" id="8118508">str1</span>&nbsp;<span class="op" id="8118513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118517">t</span><span class="op" id="8118518">.</span><span class="ident" id="8118519">Errorf</span><span class="op" id="8118525">(</span><span class="string" id="8118526">&#34;basic&nbsp;string&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8118564">,</span>&nbsp;<span class="ident" id="8118566">v</span><span class="op" id="8118567">,</span>&nbsp;<span class="ident" id="8118569">str1</span><span class="op" id="8118573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8118579">if</span>&nbsp;<span class="ident" id="8118582">v</span><span class="op" id="8118583">,</span>&nbsp;<span class="ident" id="8118585">ok</span>&nbsp;<span class="op" id="8118588">:=</span>&nbsp;<span class="ident" id="8118591">item2</span><span class="op" id="8118596">.</span><span class="ident" id="8118597">Str2</span><span class="op" id="8118601">.</span><span class="op" id="8118602">(</span><span class="ident" id="8118603">String</span><span class="op" id="8118609">)</span><span class="op" id="8118610">;</span>&nbsp;<span class="op" id="8118612">!</span><span class="ident" id="8118613">ok</span>&nbsp;<span class="op" id="8118616">||</span>&nbsp;<span class="ident" id="8118619">v</span>&nbsp;<span class="op" id="8118621">!=</span>&nbsp;<span class="ident" id="8118624">str2</span>&nbsp;<span class="op" id="8118629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118633">t</span><span class="op" id="8118634">.</span><span class="ident" id="8118635">Errorf</span><span class="op" id="8118641">(</span><span class="string" id="8118642">&#34;derived&nbsp;type&nbsp;String&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8118687">,</span>&nbsp;<span class="ident" id="8118689">v</span><span class="op" id="8118690">,</span>&nbsp;<span class="ident" id="8118692">str2</span><span class="op" id="8118696">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118699">}</span><br>
<span class="lineno"></span><span class="op" id="8118701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8118704">func</span>&nbsp;<span class="ident" id="8118709">TestIgnoreInterface</span><span class="op" id="8118728">(</span><span class="ident" id="8118729">t</span>&nbsp;<span class="op" id="8118731">*</span><span class="ident" id="8118732">testing</span><span class="op" id="8118739">.</span><span class="ident" id="8118740">T</span><span class="op" id="8118741">)</span>&nbsp;<span class="op" id="8118743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118746">iVal</span>&nbsp;<span class="op" id="8118751">:=</span>&nbsp;<span class="ident" id="8118754">Int</span><span class="op" id="8118757">(</span><span class="num" id="8118758">3</span><span class="op" id="8118759">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118762">fVal</span>&nbsp;<span class="op" id="8118767">:=</span>&nbsp;<span class="ident" id="8118770">Float</span><span class="op" id="8118775">(</span><span class="num" id="8118776">5</span><span class="op" id="8118777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8118780">//&nbsp;Sending&nbsp;a&nbsp;Point&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8118862">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118897">pVal</span>&nbsp;<span class="op" id="8118902">:=</span>&nbsp;<span class="ident" id="8118905">Point</span><span class="op" id="8118910">{</span><span class="num" id="8118911">2</span><span class="op" id="8118912">,</span>&nbsp;<span class="num" id="8118914">3</span><span class="op" id="8118915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118918">b</span>&nbsp;<span class="op" id="8118920">:=</span>&nbsp;<span class="builtinfunc" id="8118923">new</span><span class="op" id="8118926">(</span><span class="ident" id="8118927">bytes</span><span class="op" id="8118932">.</span><span class="ident" id="8118933">Buffer</span><span class="op" id="8118939">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118942">item1</span>&nbsp;<span class="op" id="8118948">:=</span>&nbsp;<span class="op" id="8118951">&amp;</span><span class="ident" id="8118952">InterfaceItem</span><span class="op" id="8118965">{</span><span class="num" id="8118966">1</span><span class="op" id="8118967">,</span>&nbsp;<span class="ident" id="8118969">iVal</span><span class="op" id="8118973">,</span>&nbsp;<span class="ident" id="8118975">fVal</span><span class="op" id="8118979">,</span>&nbsp;<span class="ident" id="8118981">pVal</span><span class="op" id="8118985">,</span>&nbsp;<span class="num" id="8118987">11.5</span><span class="op" id="8118991">,</span>&nbsp;<span class="ident" id="8118993">nil</span><span class="op" id="8118996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8118999">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119023">Register</span><span class="op" id="8119031">(</span><span class="ident" id="8119032">Int</span><span class="op" id="8119035">(</span><span class="num" id="8119036">0</span><span class="op" id="8119037">)</span><span class="op" id="8119038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119041">Register</span><span class="op" id="8119049">(</span><span class="ident" id="8119050">Float</span><span class="op" id="8119055">(</span><span class="num" id="8119056">0</span><span class="op" id="8119057">)</span><span class="op" id="8119058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119061">Register</span><span class="op" id="8119069">(</span><span class="ident" id="8119070">Point</span><span class="op" id="8119075">{</span><span class="op" id="8119076">}</span><span class="op" id="8119077">)</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119080">err</span>&nbsp;<span class="op" id="8119084">:=</span>&nbsp;<span class="ident" id="8119087">NewEncoder</span><span class="op" id="8119097">(</span><span class="ident" id="8119098">b</span><span class="op" id="8119099">)</span><span class="op" id="8119100">.</span><span class="ident" id="8119101">Encode</span><span class="op" id="8119107">(</span><span class="ident" id="8119108">item1</span><span class="op" id="8119113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119116">if</span>&nbsp;<span class="ident" id="8119119">err</span>&nbsp;<span class="op" id="8119123">!=</span>&nbsp;<span class="ident" id="8119126">nil</span>&nbsp;<span class="op" id="8119130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119134">t</span><span class="op" id="8119135">.</span><span class="ident" id="8119136">Error</span><span class="op" id="8119141">(</span><span class="string" id="8119142">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8119173">,</span>&nbsp;<span class="ident" id="8119175">err</span><span class="op" id="8119178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119185">item2</span>&nbsp;<span class="op" id="8119191">:=</span>&nbsp;<span class="ident" id="8119194">NoInterfaceItem</span><span class="op" id="8119209">{</span><span class="op" id="8119210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119213">err</span>&nbsp;<span class="op" id="8119217">=</span>&nbsp;<span class="ident" id="8119219">NewDecoder</span><span class="op" id="8119229">(</span><span class="ident" id="8119230">b</span><span class="op" id="8119231">)</span><span class="op" id="8119232">.</span><span class="ident" id="8119233">Decode</span><span class="op" id="8119239">(</span><span class="op" id="8119240">&amp;</span><span class="ident" id="8119241">item2</span><span class="op" id="8119246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119249">if</span>&nbsp;<span class="ident" id="8119252">err</span>&nbsp;<span class="op" id="8119256">!=</span>&nbsp;<span class="ident" id="8119259">nil</span>&nbsp;<span class="op" id="8119263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119267">t</span><span class="op" id="8119268">.</span><span class="ident" id="8119269">Fatal</span><span class="op" id="8119274">(</span><span class="string" id="8119275">&#34;decode:&#34;</span><span class="op" id="8119284">,</span>&nbsp;<span class="ident" id="8119286">err</span><span class="op" id="8119289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119292">}</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119295">if</span>&nbsp;<span class="ident" id="8119298">item2</span><span class="op" id="8119303">.</span><span class="ident" id="8119304">I</span>&nbsp;<span class="op" id="8119306">!=</span>&nbsp;<span class="ident" id="8119309">item1</span><span class="op" id="8119314">.</span><span class="ident" id="8119315">I</span>&nbsp;<span class="op" id="8119317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119321">t</span><span class="op" id="8119322">.</span><span class="ident" id="8119323">Error</span><span class="op" id="8119328">(</span><span class="string" id="8119329">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8119366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119372">if</span>&nbsp;<span class="ident" id="8119375">item2</span><span class="op" id="8119380">.</span><span class="ident" id="8119381">F</span>&nbsp;<span class="op" id="8119383">!=</span>&nbsp;<span class="ident" id="8119386">item2</span><span class="op" id="8119391">.</span><span class="ident" id="8119392">F</span>&nbsp;<span class="op" id="8119394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119398">t</span><span class="op" id="8119399">.</span><span class="ident" id="8119400">Error</span><span class="op" id="8119405">(</span><span class="string" id="8119406">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8119445">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119448">}</span><br>
<span class="lineno"></span><span class="op" id="8119450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8119453">type</span>&nbsp;<span class="ident" id="8119458">U</span>&nbsp;<span class="keyword" id="8119460">struct</span>&nbsp;<span class="op" id="8119467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119470">A</span>&nbsp;<span class="builtintype" id="8119472">int</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119477">B</span>&nbsp;<span class="builtintype" id="8119479">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119487">c</span>&nbsp;<span class="builtintype" id="8119489">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119498">D</span>&nbsp;<span class="builtintype" id="8119500">uint</span><br>
<span class="lineno"></span><span class="op" id="8119505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="keyword" id="8119508">func</span>&nbsp;<span class="ident" id="8119513">TestUnexportedFields</span><span class="op" id="8119533">(</span><span class="ident" id="8119534">t</span>&nbsp;<span class="op" id="8119536">*</span><span class="ident" id="8119537">testing</span><span class="op" id="8119544">.</span><span class="ident" id="8119545">T</span><span class="op" id="8119546">)</span>&nbsp;<span class="op" id="8119548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119551">var</span>&nbsp;<span class="ident" id="8119555">u0</span>&nbsp;<span class="ident" id="8119558">U</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119561">u0</span><span class="op" id="8119563">.</span><span class="ident" id="8119564">A</span>&nbsp;<span class="op" id="8119566">=</span>&nbsp;<span class="num" id="8119568">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119572">u0</span><span class="op" id="8119574">.</span><span class="ident" id="8119575">B</span>&nbsp;<span class="op" id="8119577">=</span>&nbsp;<span class="string" id="8119579">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119588">u0</span><span class="op" id="8119590">.</span><span class="ident" id="8119591">c</span>&nbsp;<span class="op" id="8119593">=</span>&nbsp;<span class="num" id="8119595">3.14159</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119604">u0</span><span class="op" id="8119606">.</span><span class="ident" id="8119607">D</span>&nbsp;<span class="op" id="8119609">=</span>&nbsp;<span class="num" id="8119611">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119615">b</span>&nbsp;<span class="op" id="8119617">:=</span>&nbsp;<span class="builtinfunc" id="8119620">new</span><span class="op" id="8119623">(</span><span class="ident" id="8119624">bytes</span><span class="op" id="8119629">.</span><span class="ident" id="8119630">Buffer</span><span class="op" id="8119636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119639">NewEncoder</span><span class="op" id="8119649">(</span><span class="ident" id="8119650">b</span><span class="op" id="8119651">)</span><span class="op" id="8119652">.</span><span class="ident" id="8119653">Encode</span><span class="op" id="8119659">(</span><span class="ident" id="8119660">u0</span><span class="op" id="8119662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119665">dec</span>&nbsp;<span class="op" id="8119669">:=</span>&nbsp;<span class="ident" id="8119672">NewDecoder</span><span class="op" id="8119682">(</span><span class="ident" id="8119683">b</span><span class="op" id="8119684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119687">var</span>&nbsp;<span class="ident" id="8119691">u1</span>&nbsp;<span class="ident" id="8119694">U</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119697">u1</span><span class="op" id="8119699">.</span><span class="ident" id="8119700">c</span>&nbsp;<span class="op" id="8119702">=</span>&nbsp;<span class="num" id="8119704">1234.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119711">err</span>&nbsp;<span class="op" id="8119715">:=</span>&nbsp;<span class="ident" id="8119718">dec</span><span class="op" id="8119721">.</span><span class="ident" id="8119722">Decode</span><span class="op" id="8119728">(</span><span class="op" id="8119729">&amp;</span><span class="ident" id="8119730">u1</span><span class="op" id="8119732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119735">if</span>&nbsp;<span class="ident" id="8119738">err</span>&nbsp;<span class="op" id="8119742">!=</span>&nbsp;<span class="ident" id="8119745">nil</span>&nbsp;<span class="op" id="8119749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119753">t</span><span class="op" id="8119754">.</span><span class="ident" id="8119755">Fatal</span><span class="op" id="8119760">(</span><span class="string" id="8119761">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8119776">,</span>&nbsp;<span class="ident" id="8119778">err</span><span class="op" id="8119781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119784">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119787">if</span>&nbsp;<span class="ident" id="8119790">u0</span><span class="op" id="8119792">.</span><span class="ident" id="8119793">A</span>&nbsp;<span class="op" id="8119795">!=</span>&nbsp;<span class="ident" id="8119798">u0</span><span class="op" id="8119800">.</span><span class="ident" id="8119801">A</span>&nbsp;<span class="op" id="8119803">||</span>&nbsp;<span class="ident" id="8119806">u0</span><span class="op" id="8119808">.</span><span class="ident" id="8119809">B</span>&nbsp;<span class="op" id="8119811">!=</span>&nbsp;<span class="ident" id="8119814">u1</span><span class="op" id="8119816">.</span><span class="ident" id="8119817">B</span>&nbsp;<span class="op" id="8119819">||</span>&nbsp;<span class="ident" id="8119822">u0</span><span class="op" id="8119824">.</span><span class="ident" id="8119825">D</span>&nbsp;<span class="op" id="8119827">!=</span>&nbsp;<span class="ident" id="8119830">u1</span><span class="op" id="8119832">.</span><span class="ident" id="8119833">D</span>&nbsp;<span class="op" id="8119835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119839">t</span><span class="op" id="8119840">.</span><span class="ident" id="8119841">Errorf</span><span class="op" id="8119847">(</span><span class="string" id="8119848">&#34;u1-&gt;u0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8119877">,</span>&nbsp;<span class="ident" id="8119879">u0</span><span class="op" id="8119881">,</span>&nbsp;<span class="ident" id="8119883">u1</span><span class="op" id="8119885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119891">if</span>&nbsp;<span class="ident" id="8119894">u1</span><span class="op" id="8119896">.</span><span class="ident" id="8119897">c</span>&nbsp;<span class="op" id="8119899">!=</span>&nbsp;<span class="num" id="8119902">1234.</span>&nbsp;<span class="op" id="8119908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119912">t</span><span class="op" id="8119913">.</span><span class="ident" id="8119914">Error</span><span class="op" id="8119919">(</span><span class="string" id="8119920">&#34;u1.c&nbsp;modified&#34;</span><span class="op" id="8119935">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119938">}</span><br>
<span class="lineno"></span><span class="op" id="8119940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8119943">var</span>&nbsp;<span class="ident" id="8119947">singletons</span>&nbsp;<span class="op" id="8119958">=</span>&nbsp;<span class="op" id="8119960">[</span><span class="op" id="8119961">]</span><span class="keyword" id="8119962">interface</span><span class="op" id="8119971">{</span><span class="op" id="8119972">}</span><span class="op" id="8119973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8119976">true</span><span class="op" id="8119980">,</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8119983">7</span><span class="op" id="8119984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8119987">3.2</span><span class="op" id="8119990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8119993">&#34;hello&#34;</span><span class="op" id="8120000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8120003">[</span><span class="num" id="8120004">3</span><span class="op" id="8120005">]</span><span class="builtintype" id="8120006">int</span><span class="op" id="8120009">{</span><span class="num" id="8120010">11</span><span class="op" id="8120012">,</span>&nbsp;<span class="num" id="8120014">22</span><span class="op" id="8120016">,</span>&nbsp;<span class="num" id="8120018">33</span><span class="op" id="8120020">}</span><span class="op" id="8120021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8120024">[</span><span class="op" id="8120025">]</span><span class="builtintype" id="8120026">float32</span><span class="op" id="8120033">{</span><span class="num" id="8120034">0.5</span><span class="op" id="8120037">,</span>&nbsp;<span class="num" id="8120039">0.25</span><span class="op" id="8120043">,</span>&nbsp;<span class="num" id="8120045">0.125</span><span class="op" id="8120050">}</span><span class="op" id="8120051">,</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8120054">map</span><span class="op" id="8120057">[</span><span class="builtintype" id="8120058">string</span><span class="op" id="8120064">]</span><span class="builtintype" id="8120065">int</span><span class="op" id="8120068">{</span><span class="string" id="8120069">&#34;one&#34;</span><span class="op" id="8120074">:</span>&nbsp;<span class="num" id="8120076">1</span><span class="op" id="8120077">,</span>&nbsp;<span class="string" id="8120079">&#34;two&#34;</span><span class="op" id="8120084">:</span>&nbsp;<span class="num" id="8120086">2</span><span class="op" id="8120087">}</span><span class="op" id="8120088">,</span><br>
<span class="lineno"></span><span class="op" id="8120090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120093">func</span>&nbsp;<span class="ident" id="8120098">TestDebugSingleton</span><span class="op" id="8120116">(</span><span class="ident" id="8120117">t</span>&nbsp;<span class="op" id="8120119">*</span><span class="ident" id="8120120">testing</span><span class="op" id="8120127">.</span><span class="ident" id="8120128">T</span><span class="op" id="8120129">)</span>&nbsp;<span class="op" id="8120131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8120134">if</span>&nbsp;<span class="ident" id="8120137">debugFunc</span>&nbsp;<span class="op" id="8120147">==</span>&nbsp;<span class="ident" id="8120150">nil</span>&nbsp;<span class="op" id="8120154">{</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8120158">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8120166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120169">b</span>&nbsp;<span class="op" id="8120171">:=</span>&nbsp;<span class="builtinfunc" id="8120174">new</span><span class="op" id="8120177">(</span><span class="ident" id="8120178">bytes</span><span class="op" id="8120183">.</span><span class="ident" id="8120184">Buffer</span><span class="op" id="8120190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8120193">//&nbsp;Accumulate&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;and&nbsp;print&nbsp;them&nbsp;out&nbsp;all&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8120259">for</span>&nbsp;<span class="ident" id="8120263">_</span><span class="op" id="8120264">,</span>&nbsp;<span class="ident" id="8120266">x</span>&nbsp;<span class="op" id="8120268">:=</span>&nbsp;<span class="keyword" id="8120271">range</span>&nbsp;<span class="ident" id="8120277">singletons</span>&nbsp;<span class="op" id="8120288">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120292">err</span>&nbsp;<span class="op" id="8120296">:=</span>&nbsp;<span class="ident" id="8120299">NewEncoder</span><span class="op" id="8120309">(</span><span class="ident" id="8120310">b</span><span class="op" id="8120311">)</span><span class="op" id="8120312">.</span><span class="ident" id="8120313">Encode</span><span class="op" id="8120319">(</span><span class="ident" id="8120320">x</span><span class="op" id="8120321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8120325">if</span>&nbsp;<span class="ident" id="8120328">err</span>&nbsp;<span class="op" id="8120332">!=</span>&nbsp;<span class="ident" id="8120335">nil</span>&nbsp;<span class="op" id="8120339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120344">t</span><span class="op" id="8120345">.</span><span class="ident" id="8120346">Fatal</span><span class="op" id="8120351">(</span><span class="string" id="8120352">&#34;encode:&#34;</span><span class="op" id="8120361">,</span>&nbsp;<span class="ident" id="8120363">err</span><span class="op" id="8120366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8120370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8120373">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120376">debugFunc</span><span class="op" id="8120385">(</span><span class="ident" id="8120386">b</span><span class="op" id="8120387">)</span><br>
<span class="lineno"></span><span class="op" id="8120389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8120392">//&nbsp;A&nbsp;type&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;gob&nbsp;until&nbsp;we&nbsp;send&nbsp;it&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="8120475">type</span>&nbsp;<span class="ident" id="8120480">OnTheFly</span>&nbsp;<span class="keyword" id="8120489">struct</span>&nbsp;<span class="op" id="8120496">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120499">A</span>&nbsp;<span class="builtintype" id="8120501">int</span><br>
<span class="lineno"></span><span class="op" id="8120505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120508">type</span>&nbsp;<span class="ident" id="8120513">DT</span>&nbsp;<span class="keyword" id="8120516">struct</span>&nbsp;<span class="op" id="8120523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8120526">//&nbsp;&nbsp;&nbsp;&nbspX&nbsp;OnTheFly</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120541">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8120547">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120552">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8120558">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120566">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8120572">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120581">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8120587">interface</span><span class="op" id="8120596">{</span><span class="op" id="8120597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120600">J</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8120606">interface</span><span class="op" id="8120615">{</span><span class="op" id="8120616">}</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120619">I_nil</span>&nbsp;<span class="keyword" id="8120625">interface</span><span class="op" id="8120634">{</span><span class="op" id="8120635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120638">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8120644">map</span><span class="op" id="8120647">[</span><span class="builtintype" id="8120648">string</span><span class="op" id="8120654">]</span><span class="builtintype" id="8120655">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120660">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8120666">[</span><span class="num" id="8120667">3</span><span class="op" id="8120668">]</span><span class="builtintype" id="8120669">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120674">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8120680">[</span><span class="op" id="8120681">]</span><span class="builtintype" id="8120682">string</span><br>
<span class="lineno"></span><span class="op" id="8120689">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="keyword" id="8120692">func</span>&nbsp;<span class="ident" id="8120697">newDT</span><span class="op" id="8120702">(</span><span class="op" id="8120703">)</span>&nbsp;<span class="ident" id="8120705">DT</span>&nbsp;<span class="op" id="8120708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8120711">var</span>&nbsp;<span class="ident" id="8120715">dt</span>&nbsp;<span class="ident" id="8120718">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120722">dt</span><span class="op" id="8120724">.</span><span class="ident" id="8120725">A</span>&nbsp;<span class="op" id="8120727">=</span>&nbsp;<span class="num" id="8120729">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120733">dt</span><span class="op" id="8120735">.</span><span class="ident" id="8120736">B</span>&nbsp;<span class="op" id="8120738">=</span>&nbsp;<span class="string" id="8120740">&#34;hello&#34;</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120749">dt</span><span class="op" id="8120751">.</span><span class="ident" id="8120752">C</span>&nbsp;<span class="op" id="8120754">=</span>&nbsp;<span class="num" id="8120756">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120765">dt</span><span class="op" id="8120767">.</span><span class="ident" id="8120768">I</span>&nbsp;<span class="op" id="8120770">=</span>&nbsp;<span class="num" id="8120772">271828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120780">dt</span><span class="op" id="8120782">.</span><span class="ident" id="8120783">J</span>&nbsp;<span class="op" id="8120785">=</span>&nbsp;<span class="ident" id="8120787">OnTheFly</span><span class="op" id="8120795">{</span><span class="num" id="8120796">3</span><span class="op" id="8120797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120800">dt</span><span class="op" id="8120802">.</span><span class="ident" id="8120803">I_nil</span>&nbsp;<span class="op" id="8120809">=</span>&nbsp;<span class="ident" id="8120811">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120816">dt</span><span class="op" id="8120818">.</span><span class="ident" id="8120819">M</span>&nbsp;<span class="op" id="8120821">=</span>&nbsp;<span class="keyword" id="8120823">map</span><span class="op" id="8120826">[</span><span class="builtintype" id="8120827">string</span><span class="op" id="8120833">]</span><span class="builtintype" id="8120834">int</span><span class="op" id="8120837">{</span><span class="string" id="8120838">&#34;one&#34;</span><span class="op" id="8120843">:</span>&nbsp;<span class="num" id="8120845">1</span><span class="op" id="8120846">,</span>&nbsp;<span class="string" id="8120848">&#34;two&#34;</span><span class="op" id="8120853">:</span>&nbsp;<span class="num" id="8120855">2</span><span class="op" id="8120856">}</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120859">dt</span><span class="op" id="8120861">.</span><span class="ident" id="8120862">T</span>&nbsp;<span class="op" id="8120864">=</span>&nbsp;<span class="op" id="8120866">[</span><span class="num" id="8120867">3</span><span class="op" id="8120868">]</span><span class="builtintype" id="8120869">int</span><span class="op" id="8120872">{</span><span class="num" id="8120873">11</span><span class="op" id="8120875">,</span>&nbsp;<span class="num" id="8120877">22</span><span class="op" id="8120879">,</span>&nbsp;<span class="num" id="8120881">33</span><span class="op" id="8120883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120886">dt</span><span class="op" id="8120888">.</span><span class="ident" id="8120889">S</span>&nbsp;<span class="op" id="8120891">=</span>&nbsp;<span class="op" id="8120893">[</span><span class="op" id="8120894">]</span><span class="builtintype" id="8120895">string</span><span class="op" id="8120901">{</span><span class="string" id="8120902">&#34;hi&#34;</span><span class="op" id="8120906">,</span>&nbsp;<span class="string" id="8120908">&#34;joe&#34;</span><span class="op" id="8120913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8120916">return</span>&nbsp;<span class="ident" id="8120923">dt</span><br>
<span class="lineno"></span><span class="op" id="8120926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="keyword" id="8120929">func</span>&nbsp;<span class="ident" id="8120934">TestDebugStruct</span><span class="op" id="8120949">(</span><span class="ident" id="8120950">t</span>&nbsp;<span class="op" id="8120952">*</span><span class="ident" id="8120953">testing</span><span class="op" id="8120960">.</span><span class="ident" id="8120961">T</span><span class="op" id="8120962">)</span>&nbsp;<span class="op" id="8120964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8120967">if</span>&nbsp;<span class="ident" id="8120970">debugFunc</span>&nbsp;<span class="op" id="8120980">==</span>&nbsp;<span class="ident" id="8120983">nil</span>&nbsp;<span class="op" id="8120987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8120991">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8120999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121002">Register</span><span class="op" id="8121010">(</span><span class="ident" id="8121011">OnTheFly</span><span class="op" id="8121019">{</span><span class="op" id="8121020">}</span><span class="op" id="8121021">)</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121024">dt</span>&nbsp;<span class="op" id="8121027">:=</span>&nbsp;<span class="ident" id="8121030">newDT</span><span class="op" id="8121035">(</span><span class="op" id="8121036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121039">b</span>&nbsp;<span class="op" id="8121041">:=</span>&nbsp;<span class="builtinfunc" id="8121044">new</span><span class="op" id="8121047">(</span><span class="ident" id="8121048">bytes</span><span class="op" id="8121053">.</span><span class="ident" id="8121054">Buffer</span><span class="op" id="8121060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121063">err</span>&nbsp;<span class="op" id="8121067">:=</span>&nbsp;<span class="ident" id="8121070">NewEncoder</span><span class="op" id="8121080">(</span><span class="ident" id="8121081">b</span><span class="op" id="8121082">)</span><span class="op" id="8121083">.</span><span class="ident" id="8121084">Encode</span><span class="op" id="8121090">(</span><span class="ident" id="8121091">dt</span><span class="op" id="8121093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121096">if</span>&nbsp;<span class="ident" id="8121099">err</span>&nbsp;<span class="op" id="8121103">!=</span>&nbsp;<span class="ident" id="8121106">nil</span>&nbsp;<span class="op" id="8121110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121114">t</span><span class="op" id="8121115">.</span><span class="ident" id="8121116">Fatal</span><span class="op" id="8121121">(</span><span class="string" id="8121122">&#34;encode:&#34;</span><span class="op" id="8121131">,</span>&nbsp;<span class="ident" id="8121133">err</span><span class="op" id="8121136">)</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121142">debugBuffer</span>&nbsp;<span class="op" id="8121154">:=</span>&nbsp;<span class="ident" id="8121157">bytes</span><span class="op" id="8121162">.</span><span class="ident" id="8121163">NewBuffer</span><span class="op" id="8121172">(</span><span class="ident" id="8121173">b</span><span class="op" id="8121174">.</span><span class="ident" id="8121175">Bytes</span><span class="op" id="8121180">(</span><span class="op" id="8121181">)</span><span class="op" id="8121182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121185">dt2</span>&nbsp;<span class="op" id="8121189">:=</span>&nbsp;<span class="op" id="8121192">&amp;</span><span class="ident" id="8121193">DT</span><span class="op" id="8121195">{</span><span class="op" id="8121196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121199">err</span>&nbsp;<span class="op" id="8121203">=</span>&nbsp;<span class="ident" id="8121205">NewDecoder</span><span class="op" id="8121215">(</span><span class="ident" id="8121216">b</span><span class="op" id="8121217">)</span><span class="op" id="8121218">.</span><span class="ident" id="8121219">Decode</span><span class="op" id="8121225">(</span><span class="op" id="8121226">&amp;</span><span class="ident" id="8121227">dt2</span><span class="op" id="8121230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121233">if</span>&nbsp;<span class="ident" id="8121236">err</span>&nbsp;<span class="op" id="8121240">!=</span>&nbsp;<span class="ident" id="8121243">nil</span>&nbsp;<span class="op" id="8121247">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121251">t</span><span class="op" id="8121252">.</span><span class="ident" id="8121253">Error</span><span class="op" id="8121258">(</span><span class="string" id="8121259">&#34;decode:&#34;</span><span class="op" id="8121268">,</span>&nbsp;<span class="ident" id="8121270">err</span><span class="op" id="8121273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121279">debugFunc</span><span class="op" id="8121288">(</span><span class="ident" id="8121289">debugBuffer</span><span class="op" id="8121300">)</span><br>
<span class="lineno"></span><span class="op" id="8121302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1370</span><span class="keyword" id="8121305">func</span>&nbsp;<span class="ident" id="8121310">encFuzzDec</span><span class="op" id="8121320">(</span><span class="ident" id="8121321">rng</span>&nbsp;<span class="op" id="8121325">*</span><span class="ident" id="8121326">rand</span><span class="op" id="8121330">.</span><span class="ident" id="8121331">Rand</span><span class="op" id="8121335">,</span>&nbsp;<span class="ident" id="8121337">in</span>&nbsp;<span class="keyword" id="8121340">interface</span><span class="op" id="8121349">{</span><span class="op" id="8121350">}</span><span class="op" id="8121351">)</span>&nbsp;<span class="builtintype" id="8121353">error</span>&nbsp;<span class="op" id="8121359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121362">buf</span>&nbsp;<span class="op" id="8121366">:=</span>&nbsp;<span class="builtinfunc" id="8121369">new</span><span class="op" id="8121372">(</span><span class="ident" id="8121373">bytes</span><span class="op" id="8121378">.</span><span class="ident" id="8121379">Buffer</span><span class="op" id="8121385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121388">enc</span>&nbsp;<span class="op" id="8121392">:=</span>&nbsp;<span class="ident" id="8121395">NewEncoder</span><span class="op" id="8121405">(</span><span class="ident" id="8121406">buf</span><span class="op" id="8121409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121412">if</span>&nbsp;<span class="ident" id="8121415">err</span>&nbsp;<span class="op" id="8121419">:=</span>&nbsp;<span class="ident" id="8121422">enc</span><span class="op" id="8121425">.</span><span class="ident" id="8121426">Encode</span><span class="op" id="8121432">(</span><span class="op" id="8121433">&amp;</span><span class="ident" id="8121434">in</span><span class="op" id="8121436">)</span><span class="op" id="8121437">;</span>&nbsp;<span class="ident" id="8121439">err</span>&nbsp;<span class="op" id="8121443">!=</span>&nbsp;<span class="ident" id="8121446">nil</span>&nbsp;<span class="op" id="8121450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121454">return</span>&nbsp;<span class="ident" id="8121461">err</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121470">b</span>&nbsp;<span class="op" id="8121472">:=</span>&nbsp;<span class="ident" id="8121475">buf</span><span class="op" id="8121478">.</span><span class="ident" id="8121479">Bytes</span><span class="op" id="8121484">(</span><span class="op" id="8121485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121488">for</span>&nbsp;<span class="ident" id="8121492">i</span><span class="op" id="8121493">,</span>&nbsp;<span class="ident" id="8121495">bi</span>&nbsp;<span class="op" id="8121498">:=</span>&nbsp;<span class="keyword" id="8121501">range</span>&nbsp;<span class="ident" id="8121507">b</span>&nbsp;<span class="op" id="8121509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121513">if</span>&nbsp;<span class="ident" id="8121516">rng</span><span class="op" id="8121519">.</span><span class="ident" id="8121520">Intn</span><span class="op" id="8121524">(</span><span class="num" id="8121525">10</span><span class="op" id="8121527">)</span>&nbsp;<span class="op" id="8121529">&lt;</span>&nbsp;<span class="num" id="8121531">3</span>&nbsp;<span class="op" id="8121533">{</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121538">b</span><span class="op" id="8121539">[</span><span class="ident" id="8121540">i</span><span class="op" id="8121541">]</span>&nbsp;<span class="op" id="8121543">=</span>&nbsp;<span class="ident" id="8121545">bi</span>&nbsp;<span class="op" id="8121548">+</span>&nbsp;<span class="builtintype" id="8121550">uint8</span><span class="op" id="8121555">(</span><span class="ident" id="8121556">rng</span><span class="op" id="8121559">.</span><span class="ident" id="8121560">Intn</span><span class="op" id="8121564">(</span><span class="num" id="8121565">256</span><span class="op" id="8121568">)</span><span class="op" id="8121569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121580">dec</span>&nbsp;<span class="op" id="8121584">:=</span>&nbsp;<span class="ident" id="8121587">NewDecoder</span><span class="op" id="8121597">(</span><span class="ident" id="8121598">buf</span><span class="op" id="8121601">)</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121604">var</span>&nbsp;<span class="ident" id="8121608">e</span>&nbsp;<span class="keyword" id="8121610">interface</span><span class="op" id="8121619">{</span><span class="op" id="8121620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121623">if</span>&nbsp;<span class="ident" id="8121626">err</span>&nbsp;<span class="op" id="8121630">:=</span>&nbsp;<span class="ident" id="8121633">dec</span><span class="op" id="8121636">.</span><span class="ident" id="8121637">Decode</span><span class="op" id="8121643">(</span><span class="op" id="8121644">&amp;</span><span class="ident" id="8121645">e</span><span class="op" id="8121646">)</span><span class="op" id="8121647">;</span>&nbsp;<span class="ident" id="8121649">err</span>&nbsp;<span class="op" id="8121653">!=</span>&nbsp;<span class="ident" id="8121656">nil</span>&nbsp;<span class="op" id="8121660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121664">return</span>&nbsp;<span class="ident" id="8121671">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121679">return</span>&nbsp;<span class="ident" id="8121686">nil</span><br>
<span class="lineno">1390</span><span class="op" id="8121690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8121693">//&nbsp;This&nbsp;does&nbsp;some&nbsp;&#34;fuzz&nbsp;testing&#34;&nbsp;by&nbsp;attempting&nbsp;to&nbsp;decode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;random&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="8121778">func</span>&nbsp;<span class="ident" id="8121783">TestFuzz</span><span class="op" id="8121791">(</span><span class="ident" id="8121792">t</span>&nbsp;<span class="op" id="8121794">*</span><span class="ident" id="8121795">testing</span><span class="op" id="8121802">.</span><span class="ident" id="8121803">T</span><span class="op" id="8121804">)</span>&nbsp;<span class="op" id="8121806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121809">if</span>&nbsp;<span class="op" id="8121812">!</span><span class="op" id="8121813">*</span><span class="ident" id="8121814">doFuzzTests</span>&nbsp;<span class="op" id="8121826">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121830">t</span><span class="op" id="8121831">.</span><span class="ident" id="8121832">Logf</span><span class="op" id="8121836">(</span><span class="string" id="8121837">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8121877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121881">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8121893">//&nbsp;all&nbsp;possible&nbsp;inputs</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121917">input</span>&nbsp;<span class="op" id="8121923">:=</span>&nbsp;<span class="op" id="8121926">[</span><span class="op" id="8121927">]</span><span class="keyword" id="8121928">interface</span><span class="op" id="8121937">{</span><span class="op" id="8121938">}</span><span class="op" id="8121939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8121943">new</span><span class="op" id="8121946">(</span><span class="builtintype" id="8121947">int</span><span class="op" id="8121950">)</span><span class="op" id="8121951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8121955">new</span><span class="op" id="8121958">(</span><span class="builtintype" id="8121959">float32</span><span class="op" id="8121966">)</span><span class="op" id="8121967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8121971">new</span><span class="op" id="8121974">(</span><span class="builtintype" id="8121975">float64</span><span class="op" id="8121982">)</span><span class="op" id="8121983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8121987">new</span><span class="op" id="8121990">(</span><span class="builtintype" id="8121991">complex128</span><span class="op" id="8122001">)</span><span class="op" id="8122002">,</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122006">&amp;</span><span class="ident" id="8122007">ByteStruct</span><span class="op" id="8122017">{</span><span class="num" id="8122018">255</span><span class="op" id="8122021">}</span><span class="op" id="8122022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122026">&amp;</span><span class="ident" id="8122027">ArrayStruct</span><span class="op" id="8122038">{</span><span class="op" id="8122039">}</span><span class="op" id="8122040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122044">&amp;</span><span class="ident" id="8122045">StringStruct</span><span class="op" id="8122057">{</span><span class="string" id="8122058">&#34;hello&#34;</span><span class="op" id="8122065">}</span><span class="op" id="8122066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122070">&amp;</span><span class="ident" id="8122071">GobTest1</span><span class="op" id="8122079">{</span><span class="num" id="8122080">0</span><span class="op" id="8122081">,</span>&nbsp;<span class="op" id="8122083">&amp;</span><span class="ident" id="8122084">StringStruct</span><span class="op" id="8122096">{</span><span class="string" id="8122097">&#34;hello&#34;</span><span class="op" id="8122104">}</span><span class="op" id="8122105">}</span><span class="op" id="8122106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122109">}</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122112">testFuzz</span><span class="op" id="8122120">(</span><span class="ident" id="8122121">t</span><span class="op" id="8122122">,</span>&nbsp;<span class="ident" id="8122124">time</span><span class="op" id="8122128">.</span><span class="ident" id="8122129">Now</span><span class="op" id="8122132">(</span><span class="op" id="8122133">)</span><span class="op" id="8122134">.</span><span class="ident" id="8122135">UnixNano</span><span class="op" id="8122143">(</span><span class="op" id="8122144">)</span><span class="op" id="8122145">,</span>&nbsp;<span class="num" id="8122147">100</span><span class="op" id="8122150">,</span>&nbsp;<span class="ident" id="8122152">input</span><span class="op" id="8122157">...</span><span class="op" id="8122160">)</span><br>
<span class="lineno"></span><span class="op" id="8122162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8122165">func</span>&nbsp;<span class="ident" id="8122170">TestFuzzRegressions</span><span class="op" id="8122189">(</span><span class="ident" id="8122190">t</span>&nbsp;<span class="op" id="8122192">*</span><span class="ident" id="8122193">testing</span><span class="op" id="8122200">.</span><span class="ident" id="8122201">T</span><span class="op" id="8122202">)</span>&nbsp;<span class="op" id="8122204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8122207">if</span>&nbsp;<span class="op" id="8122210">!</span><span class="op" id="8122211">*</span><span class="ident" id="8122212">doFuzzTests</span>&nbsp;<span class="op" id="8122224">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122228">t</span><span class="op" id="8122229">.</span><span class="ident" id="8122230">Logf</span><span class="op" id="8122234">(</span><span class="string" id="8122235">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8122275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8122279">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8122291">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;length&nbsp;~102&nbsp;GB.</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122349">testFuzz</span><span class="op" id="8122357">(</span><span class="ident" id="8122358">t</span><span class="op" id="8122359">,</span>&nbsp;<span class="num" id="8122361">1328492090837718000</span><span class="op" id="8122380">,</span>&nbsp;<span class="num" id="8122382">100</span><span class="op" id="8122385">,</span>&nbsp;<span class="builtinfunc" id="8122387">new</span><span class="op" id="8122390">(</span><span class="builtintype" id="8122391">float32</span><span class="op" id="8122398">)</span><span class="op" id="8122399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8122402">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;1.6&nbsp;GB.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8122452">//&nbsp;Note:&nbsp;can&nbsp;take&nbsp;several&nbsp;minutes&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122495">testFuzz</span><span class="op" id="8122503">(</span><span class="ident" id="8122504">t</span><span class="op" id="8122505">,</span>&nbsp;<span class="num" id="8122507">1330522872628565000</span><span class="op" id="8122526">,</span>&nbsp;<span class="num" id="8122528">100</span><span class="op" id="8122531">,</span>&nbsp;<span class="builtinfunc" id="8122533">new</span><span class="op" id="8122536">(</span><span class="builtintype" id="8122537">int</span><span class="op" id="8122540">)</span><span class="op" id="8122541">)</span><br>
<span class="lineno"></span><span class="op" id="8122543">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="keyword" id="8122546">func</span>&nbsp;<span class="ident" id="8122551">testFuzz</span><span class="op" id="8122559">(</span><span class="ident" id="8122560">t</span>&nbsp;<span class="op" id="8122562">*</span><span class="ident" id="8122563">testing</span><span class="op" id="8122570">.</span><span class="ident" id="8122571">T</span><span class="op" id="8122572">,</span>&nbsp;<span class="ident" id="8122574">seed</span>&nbsp;<span class="ident" id="8122579">int64</span><span class="op" id="8122584">,</span>&nbsp;<span class="ident" id="8122586">n</span>&nbsp;<span class="builtintype" id="8122588">int</span><span class="op" id="8122591">,</span>&nbsp;<span class="ident" id="8122593">input</span>&nbsp;<span class="op" id="8122599">...</span><span class="keyword" id="8122602">interface</span><span class="op" id="8122611">{</span><span class="op" id="8122612">}</span><span class="op" id="8122613">)</span>&nbsp;<span class="op" id="8122615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8122618">for</span>&nbsp;<span class="ident" id="8122622">_</span><span class="op" id="8122623">,</span>&nbsp;<span class="ident" id="8122625">e</span>&nbsp;<span class="op" id="8122627">:=</span>&nbsp;<span class="keyword" id="8122630">range</span>&nbsp;<span class="ident" id="8122636">input</span>&nbsp;<span class="op" id="8122642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122646">t</span><span class="op" id="8122647">.</span><span class="ident" id="8122648">Logf</span><span class="op" id="8122652">(</span><span class="string" id="8122653">&#34;seed=%d&nbsp;n=%d&nbsp;e=%T&#34;</span><span class="op" id="8122672">,</span>&nbsp;<span class="ident" id="8122674">seed</span><span class="op" id="8122678">,</span>&nbsp;<span class="ident" id="8122680">n</span><span class="op" id="8122681">,</span>&nbsp;<span class="ident" id="8122683">e</span><span class="op" id="8122684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122688">rng</span>&nbsp;<span class="op" id="8122692">:=</span>&nbsp;<span class="ident" id="8122695">rand</span><span class="op" id="8122699">.</span><span class="ident" id="8122700">New</span><span class="op" id="8122703">(</span><span class="ident" id="8122704">rand</span><span class="op" id="8122708">.</span><span class="ident" id="8122709">NewSource</span><span class="op" id="8122718">(</span><span class="ident" id="8122719">seed</span><span class="op" id="8122723">)</span><span class="op" id="8122724">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8122728">for</span>&nbsp;<span class="ident" id="8122732">i</span>&nbsp;<span class="op" id="8122734">:=</span>&nbsp;<span class="num" id="8122737">0</span><span class="op" id="8122738">;</span>&nbsp;<span class="ident" id="8122740">i</span>&nbsp;<span class="op" id="8122742">&lt;</span>&nbsp;<span class="ident" id="8122744">n</span><span class="op" id="8122745">;</span>&nbsp;<span class="ident" id="8122747">i</span><span class="op" id="8122748">++</span>&nbsp;<span class="op" id="8122751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122756">encFuzzDec</span><span class="op" id="8122766">(</span><span class="ident" id="8122767">rng</span><span class="op" id="8122770">,</span>&nbsp;<span class="ident" id="8122772">e</span><span class="op" id="8122773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122780">}</span><br>
<span class="lineno"></span><span class="op" id="8122782">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="comment" id="8122785">//&nbsp;TestFuzzOneByte&nbsp;tries&nbsp;to&nbsp;decode&nbsp;corrupted&nbsp;input&nbsp;sequences</span><br>
<span class="lineno"></span><span class="comment" id="8122846">//&nbsp;and&nbsp;checks&nbsp;that&nbsp;no&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="8122882">func</span>&nbsp;<span class="ident" id="8122887">TestFuzzOneByte</span><span class="op" id="8122902">(</span><span class="ident" id="8122903">t</span>&nbsp;<span class="op" id="8122905">*</span><span class="ident" id="8122906">testing</span><span class="op" id="8122913">.</span><span class="ident" id="8122914">T</span><span class="op" id="8122915">)</span>&nbsp;<span class="op" id="8122917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122920">buf</span>&nbsp;<span class="op" id="8122924">:=</span>&nbsp;<span class="builtinfunc" id="8122927">new</span><span class="op" id="8122930">(</span><span class="ident" id="8122931">bytes</span><span class="op" id="8122936">.</span><span class="ident" id="8122937">Buffer</span><span class="op" id="8122943">)</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122946">Register</span><span class="op" id="8122954">(</span><span class="ident" id="8122955">OnTheFly</span><span class="op" id="8122963">{</span><span class="op" id="8122964">}</span><span class="op" id="8122965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122968">dt</span>&nbsp;<span class="op" id="8122971">:=</span>&nbsp;<span class="ident" id="8122974">newDT</span><span class="op" id="8122979">(</span><span class="op" id="8122980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8122983">if</span>&nbsp;<span class="ident" id="8122986">err</span>&nbsp;<span class="op" id="8122990">:=</span>&nbsp;<span class="ident" id="8122993">NewEncoder</span><span class="op" id="8123003">(</span><span class="ident" id="8123004">buf</span><span class="op" id="8123007">)</span><span class="op" id="8123008">.</span><span class="ident" id="8123009">Encode</span><span class="op" id="8123015">(</span><span class="ident" id="8123016">dt</span><span class="op" id="8123018">)</span><span class="op" id="8123019">;</span>&nbsp;<span class="ident" id="8123021">err</span>&nbsp;<span class="op" id="8123025">!=</span>&nbsp;<span class="ident" id="8123028">nil</span>&nbsp;<span class="op" id="8123032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123036">t</span><span class="op" id="8123037">.</span><span class="ident" id="8123038">Fatal</span><span class="op" id="8123043">(</span><span class="ident" id="8123044">err</span><span class="op" id="8123047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123050">}</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123053">s</span>&nbsp;<span class="op" id="8123055">:=</span>&nbsp;<span class="ident" id="8123058">buf</span><span class="op" id="8123061">.</span><span class="ident" id="8123062">String</span><span class="op" id="8123068">(</span><span class="op" id="8123069">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123073">indices</span>&nbsp;<span class="op" id="8123081">:=</span>&nbsp;<span class="builtinfunc" id="8123084">make</span><span class="op" id="8123088">(</span><span class="op" id="8123089">[</span><span class="op" id="8123090">]</span><span class="builtintype" id="8123091">int</span><span class="op" id="8123094">,</span>&nbsp;<span class="num" id="8123096">0</span><span class="op" id="8123097">,</span>&nbsp;<span class="builtinfunc" id="8123099">len</span><span class="op" id="8123102">(</span><span class="ident" id="8123103">s</span><span class="op" id="8123104">)</span><span class="op" id="8123105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123108">for</span>&nbsp;<span class="ident" id="8123112">i</span>&nbsp;<span class="op" id="8123114">:=</span>&nbsp;<span class="num" id="8123117">0</span><span class="op" id="8123118">;</span>&nbsp;<span class="ident" id="8123120">i</span>&nbsp;<span class="op" id="8123122">&lt;</span>&nbsp;<span class="builtinfunc" id="8123124">len</span><span class="op" id="8123127">(</span><span class="ident" id="8123128">s</span><span class="op" id="8123129">)</span><span class="op" id="8123130">;</span>&nbsp;<span class="ident" id="8123132">i</span><span class="op" id="8123133">++</span>&nbsp;<span class="op" id="8123136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123140">switch</span>&nbsp;<span class="ident" id="8123147">i</span>&nbsp;<span class="op" id="8123149">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123153">case</span>&nbsp;<span class="num" id="8123158">14</span><span class="op" id="8123160">,</span>&nbsp;<span class="num" id="8123162">167</span><span class="op" id="8123165">,</span>&nbsp;<span class="num" id="8123167">231</span><span class="op" id="8123170">,</span>&nbsp;<span class="num" id="8123172">265</span><span class="op" id="8123175">:</span>&nbsp;<span class="comment" id="8123177">//&nbsp;a&nbsp;slice&nbsp;length,&nbsp;corruptions&nbsp;are&nbsp;not&nbsp;handled&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123232">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123247">indices</span>&nbsp;<span class="op" id="8123255">=</span>&nbsp;<span class="builtinfunc" id="8123257">append</span><span class="op" id="8123263">(</span><span class="ident" id="8123264">indices</span><span class="op" id="8123271">,</span>&nbsp;<span class="ident" id="8123273">i</span><span class="op" id="8123274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123277">}</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123280">if</span>&nbsp;<span class="ident" id="8123283">testing</span><span class="op" id="8123290">.</span><span class="ident" id="8123291">Short</span><span class="op" id="8123296">(</span><span class="op" id="8123297">)</span>&nbsp;<span class="op" id="8123299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123303">indices</span>&nbsp;<span class="op" id="8123311">=</span>&nbsp;<span class="op" id="8123313">[</span><span class="op" id="8123314">]</span><span class="builtintype" id="8123315">int</span><span class="op" id="8123318">{</span><span class="num" id="8123319">1</span><span class="op" id="8123320">,</span>&nbsp;<span class="num" id="8123322">111</span><span class="op" id="8123325">,</span>&nbsp;<span class="num" id="8123327">178</span><span class="op" id="8123330">}</span>&nbsp;<span class="comment" id="8123332">//&nbsp;known&nbsp;fixed&nbsp;panics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123358">for</span>&nbsp;<span class="ident" id="8123362">_</span><span class="op" id="8123363">,</span>&nbsp;<span class="ident" id="8123365">i</span>&nbsp;<span class="op" id="8123367">:=</span>&nbsp;<span class="keyword" id="8123370">range</span>&nbsp;<span class="ident" id="8123376">indices</span>&nbsp;<span class="op" id="8123384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123388">for</span>&nbsp;<span class="ident" id="8123392">j</span>&nbsp;<span class="op" id="8123394">:=</span>&nbsp;<span class="num" id="8123397">0</span><span class="op" id="8123398">;</span>&nbsp;<span class="ident" id="8123400">j</span>&nbsp;<span class="op" id="8123402">&lt;</span>&nbsp;<span class="num" id="8123404">256</span><span class="op" id="8123407">;</span>&nbsp;<span class="ident" id="8123409">j</span>&nbsp;<span class="op" id="8123411">+=</span>&nbsp;<span class="num" id="8123414">3</span>&nbsp;<span class="op" id="8123416">{</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123421">b</span>&nbsp;<span class="op" id="8123423">:=</span>&nbsp;<span class="op" id="8123426">[</span><span class="op" id="8123427">]</span><span class="builtintype" id="8123428">byte</span><span class="op" id="8123432">(</span><span class="ident" id="8123433">s</span><span class="op" id="8123434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123439">b</span><span class="op" id="8123440">[</span><span class="ident" id="8123441">i</span><span class="op" id="8123442">]</span>&nbsp;<span class="op" id="8123444">^=</span>&nbsp;<span class="builtintype" id="8123447">byte</span><span class="op" id="8123451">(</span><span class="ident" id="8123452">j</span><span class="op" id="8123453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123458">var</span>&nbsp;<span class="ident" id="8123462">e</span>&nbsp;<span class="ident" id="8123464">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123470">func</span><span class="op" id="8123474">(</span><span class="op" id="8123475">)</span>&nbsp;<span class="op" id="8123477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123483">defer</span>&nbsp;<span class="keyword" id="8123489">func</span><span class="op" id="8123493">(</span><span class="op" id="8123494">)</span>&nbsp;<span class="op" id="8123496">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123503">if</span>&nbsp;<span class="ident" id="8123506">p</span>&nbsp;<span class="op" id="8123508">:=</span>&nbsp;<span class="builtinfunc" id="8123511">recover</span><span class="op" id="8123518">(</span><span class="op" id="8123519">)</span><span class="op" id="8123520">;</span>&nbsp;<span class="ident" id="8123522">p</span>&nbsp;<span class="op" id="8123524">!=</span>&nbsp;<span class="ident" id="8123527">nil</span>&nbsp;<span class="op" id="8123531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123539">t</span><span class="op" id="8123540">.</span><span class="ident" id="8123541">Errorf</span><span class="op" id="8123547">(</span><span class="string" id="8123548">&#34;crash&nbsp;for&nbsp;b[%d]&nbsp;^=&nbsp;0x%x&#34;</span><span class="op" id="8123573">,</span>&nbsp;<span class="ident" id="8123575">i</span><span class="op" id="8123576">,</span>&nbsp;<span class="ident" id="8123578">j</span><span class="op" id="8123579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8123587">panic</span><span class="op" id="8123592">(</span><span class="ident" id="8123593">p</span><span class="op" id="8123594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123607">}</span><span class="op" id="8123608">(</span><span class="op" id="8123609">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123615">err</span>&nbsp;<span class="op" id="8123619">:=</span>&nbsp;<span class="ident" id="8123622">NewDecoder</span><span class="op" id="8123632">(</span><span class="ident" id="8123633">bytes</span><span class="op" id="8123638">.</span><span class="ident" id="8123639">NewReader</span><span class="op" id="8123648">(</span><span class="ident" id="8123649">b</span><span class="op" id="8123650">)</span><span class="op" id="8123651">)</span><span class="op" id="8123652">.</span><span class="ident" id="8123653">Decode</span><span class="op" id="8123659">(</span><span class="op" id="8123660">&amp;</span><span class="ident" id="8123661">e</span><span class="op" id="8123662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123668">_</span>&nbsp;<span class="op" id="8123670">=</span>&nbsp;<span class="ident" id="8123672">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123679">}</span><span class="op" id="8123680">(</span><span class="op" id="8123681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123688">}</span><br>
<span class="lineno">1475</span><span class="op" id="8123690">}</span>
</div>
</body>
</html>
