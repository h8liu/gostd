<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html" class="current">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6896805">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6896860">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6896914">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6896965">package</span>&nbsp;<span class="ident" id="6896973">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6896980">import</span>&nbsp;<span class="op" id="6896987">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6896990">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6896998">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6897005">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6897016">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6897026">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6897029">var</span>&nbsp;<span class="ident" id="6897033">debug</span>&nbsp;<span class="op" id="6897039">=</span>&nbsp;<span class="ident" id="6897041">flag</span><span class="op" id="6897045">.</span><span class="ident" id="6897046">Bool</span><span class="op" id="6897050">(</span><span class="string" id="6897051">&#34;debug&#34;</span><span class="op" id="6897058">,</span>&nbsp;<span class="builtintype" id="6897060">false</span><span class="op" id="6897065">,</span>&nbsp;<span class="string" id="6897067">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="6897111">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6897114">type</span>&nbsp;<span class="ident" id="6897119">numberTest</span>&nbsp;<span class="keyword" id="6897130">struct</span>&nbsp;<span class="op" id="6897137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6897140">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6897150">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6897158">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6897168">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6897174">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6897184">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6897190">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6897200">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6897206">isComplex</span>&nbsp;<span class="builtintype" id="6897216">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6897222">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6897229">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6897237">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6897246">complex128</span><br>
<span class="lineno"></span><span class="op" id="6897257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6897260">var</span>&nbsp;<span class="ident" id="6897264">numberTests</span>&nbsp;<span class="op" id="6897276">=</span>&nbsp;<span class="op" id="6897278">[</span><span class="op" id="6897279">]</span><span class="ident" id="6897280">numberTest</span><span class="op" id="6897290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6897293">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897304">{</span><span class="string" id="6897305">&#34;0&#34;</span><span class="op" id="6897308">,</span>&nbsp;<span class="builtintype" id="6897310">true</span><span class="op" id="6897314">,</span>&nbsp;<span class="builtintype" id="6897316">true</span><span class="op" id="6897320">,</span>&nbsp;<span class="builtintype" id="6897322">true</span><span class="op" id="6897326">,</span>&nbsp;<span class="builtintype" id="6897328">false</span><span class="op" id="6897333">,</span>&nbsp;<span class="num" id="6897335">0</span><span class="op" id="6897336">,</span>&nbsp;<span class="num" id="6897338">0</span><span class="op" id="6897339">,</span>&nbsp;<span class="num" id="6897341">0</span><span class="op" id="6897342">,</span>&nbsp;<span class="num" id="6897344">0</span><span class="op" id="6897345">}</span><span class="op" id="6897346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897349">{</span><span class="string" id="6897350">&#34;-0&#34;</span><span class="op" id="6897354">,</span>&nbsp;<span class="builtintype" id="6897356">true</span><span class="op" id="6897360">,</span>&nbsp;<span class="builtintype" id="6897362">true</span><span class="op" id="6897366">,</span>&nbsp;<span class="builtintype" id="6897368">true</span><span class="op" id="6897372">,</span>&nbsp;<span class="builtintype" id="6897374">false</span><span class="op" id="6897379">,</span>&nbsp;<span class="num" id="6897381">0</span><span class="op" id="6897382">,</span>&nbsp;<span class="num" id="6897384">0</span><span class="op" id="6897385">,</span>&nbsp;<span class="num" id="6897387">0</span><span class="op" id="6897388">,</span>&nbsp;<span class="num" id="6897390">0</span><span class="op" id="6897391">}</span><span class="op" id="6897392">,</span>&nbsp;<span class="comment" id="6897394">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897423">{</span><span class="string" id="6897424">&#34;73&#34;</span><span class="op" id="6897428">,</span>&nbsp;<span class="builtintype" id="6897430">true</span><span class="op" id="6897434">,</span>&nbsp;<span class="builtintype" id="6897436">true</span><span class="op" id="6897440">,</span>&nbsp;<span class="builtintype" id="6897442">true</span><span class="op" id="6897446">,</span>&nbsp;<span class="builtintype" id="6897448">false</span><span class="op" id="6897453">,</span>&nbsp;<span class="num" id="6897455">73</span><span class="op" id="6897457">,</span>&nbsp;<span class="num" id="6897459">73</span><span class="op" id="6897461">,</span>&nbsp;<span class="num" id="6897463">73</span><span class="op" id="6897465">,</span>&nbsp;<span class="num" id="6897467">0</span><span class="op" id="6897468">}</span><span class="op" id="6897469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897472">{</span><span class="string" id="6897473">&#34;073&#34;</span><span class="op" id="6897478">,</span>&nbsp;<span class="builtintype" id="6897480">true</span><span class="op" id="6897484">,</span>&nbsp;<span class="builtintype" id="6897486">true</span><span class="op" id="6897490">,</span>&nbsp;<span class="builtintype" id="6897492">true</span><span class="op" id="6897496">,</span>&nbsp;<span class="builtintype" id="6897498">false</span><span class="op" id="6897503">,</span>&nbsp;<span class="num" id="6897505">073</span><span class="op" id="6897508">,</span>&nbsp;<span class="num" id="6897510">073</span><span class="op" id="6897513">,</span>&nbsp;<span class="num" id="6897515">073</span><span class="op" id="6897518">,</span>&nbsp;<span class="num" id="6897520">0</span><span class="op" id="6897521">}</span><span class="op" id="6897522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897525">{</span><span class="string" id="6897526">&#34;0x73&#34;</span><span class="op" id="6897532">,</span>&nbsp;<span class="builtintype" id="6897534">true</span><span class="op" id="6897538">,</span>&nbsp;<span class="builtintype" id="6897540">true</span><span class="op" id="6897544">,</span>&nbsp;<span class="builtintype" id="6897546">true</span><span class="op" id="6897550">,</span>&nbsp;<span class="builtintype" id="6897552">false</span><span class="op" id="6897557">,</span>&nbsp;<span class="num" id="6897559">0x73</span><span class="op" id="6897563">,</span>&nbsp;<span class="num" id="6897565">0x73</span><span class="op" id="6897569">,</span>&nbsp;<span class="num" id="6897571">0x73</span><span class="op" id="6897575">,</span>&nbsp;<span class="num" id="6897577">0</span><span class="op" id="6897578">}</span><span class="op" id="6897579">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897582">{</span><span class="string" id="6897583">&#34;-73&#34;</span><span class="op" id="6897588">,</span>&nbsp;<span class="builtintype" id="6897590">true</span><span class="op" id="6897594">,</span>&nbsp;<span class="builtintype" id="6897596">false</span><span class="op" id="6897601">,</span>&nbsp;<span class="builtintype" id="6897603">true</span><span class="op" id="6897607">,</span>&nbsp;<span class="builtintype" id="6897609">false</span><span class="op" id="6897614">,</span>&nbsp;<span class="op" id="6897616">-</span><span class="num" id="6897617">73</span><span class="op" id="6897619">,</span>&nbsp;<span class="num" id="6897621">0</span><span class="op" id="6897622">,</span>&nbsp;<span class="op" id="6897624">-</span><span class="num" id="6897625">73</span><span class="op" id="6897627">,</span>&nbsp;<span class="num" id="6897629">0</span><span class="op" id="6897630">}</span><span class="op" id="6897631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897634">{</span><span class="string" id="6897635">&#34;+73&#34;</span><span class="op" id="6897640">,</span>&nbsp;<span class="builtintype" id="6897642">true</span><span class="op" id="6897646">,</span>&nbsp;<span class="builtintype" id="6897648">false</span><span class="op" id="6897653">,</span>&nbsp;<span class="builtintype" id="6897655">true</span><span class="op" id="6897659">,</span>&nbsp;<span class="builtintype" id="6897661">false</span><span class="op" id="6897666">,</span>&nbsp;<span class="num" id="6897668">73</span><span class="op" id="6897670">,</span>&nbsp;<span class="num" id="6897672">0</span><span class="op" id="6897673">,</span>&nbsp;<span class="num" id="6897675">73</span><span class="op" id="6897677">,</span>&nbsp;<span class="num" id="6897679">0</span><span class="op" id="6897680">}</span><span class="op" id="6897681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897684">{</span><span class="string" id="6897685">&#34;100&#34;</span><span class="op" id="6897690">,</span>&nbsp;<span class="builtintype" id="6897692">true</span><span class="op" id="6897696">,</span>&nbsp;<span class="builtintype" id="6897698">true</span><span class="op" id="6897702">,</span>&nbsp;<span class="builtintype" id="6897704">true</span><span class="op" id="6897708">,</span>&nbsp;<span class="builtintype" id="6897710">false</span><span class="op" id="6897715">,</span>&nbsp;<span class="num" id="6897717">100</span><span class="op" id="6897720">,</span>&nbsp;<span class="num" id="6897722">100</span><span class="op" id="6897725">,</span>&nbsp;<span class="num" id="6897727">100</span><span class="op" id="6897730">,</span>&nbsp;<span class="num" id="6897732">0</span><span class="op" id="6897733">}</span><span class="op" id="6897734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897737">{</span><span class="string" id="6897738">&#34;1e9&#34;</span><span class="op" id="6897743">,</span>&nbsp;<span class="builtintype" id="6897745">true</span><span class="op" id="6897749">,</span>&nbsp;<span class="builtintype" id="6897751">true</span><span class="op" id="6897755">,</span>&nbsp;<span class="builtintype" id="6897757">true</span><span class="op" id="6897761">,</span>&nbsp;<span class="builtintype" id="6897763">false</span><span class="op" id="6897768">,</span>&nbsp;<span class="num" id="6897770">1e9</span><span class="op" id="6897773">,</span>&nbsp;<span class="num" id="6897775">1e9</span><span class="op" id="6897778">,</span>&nbsp;<span class="num" id="6897780">1e9</span><span class="op" id="6897783">,</span>&nbsp;<span class="num" id="6897785">0</span><span class="op" id="6897786">}</span><span class="op" id="6897787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897790">{</span><span class="string" id="6897791">&#34;-1e9&#34;</span><span class="op" id="6897797">,</span>&nbsp;<span class="builtintype" id="6897799">true</span><span class="op" id="6897803">,</span>&nbsp;<span class="builtintype" id="6897805">false</span><span class="op" id="6897810">,</span>&nbsp;<span class="builtintype" id="6897812">true</span><span class="op" id="6897816">,</span>&nbsp;<span class="builtintype" id="6897818">false</span><span class="op" id="6897823">,</span>&nbsp;<span class="op" id="6897825">-</span><span class="num" id="6897826">1e9</span><span class="op" id="6897829">,</span>&nbsp;<span class="num" id="6897831">0</span><span class="op" id="6897832">,</span>&nbsp;<span class="op" id="6897834">-</span><span class="num" id="6897835">1e9</span><span class="op" id="6897838">,</span>&nbsp;<span class="num" id="6897840">0</span><span class="op" id="6897841">}</span><span class="op" id="6897842">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897845">{</span><span class="string" id="6897846">&#34;-1.2&#34;</span><span class="op" id="6897852">,</span>&nbsp;<span class="builtintype" id="6897854">false</span><span class="op" id="6897859">,</span>&nbsp;<span class="builtintype" id="6897861">false</span><span class="op" id="6897866">,</span>&nbsp;<span class="builtintype" id="6897868">true</span><span class="op" id="6897872">,</span>&nbsp;<span class="builtintype" id="6897874">false</span><span class="op" id="6897879">,</span>&nbsp;<span class="num" id="6897881">0</span><span class="op" id="6897882">,</span>&nbsp;<span class="num" id="6897884">0</span><span class="op" id="6897885">,</span>&nbsp;<span class="op" id="6897887">-</span><span class="num" id="6897888">1.2</span><span class="op" id="6897891">,</span>&nbsp;<span class="num" id="6897893">0</span><span class="op" id="6897894">}</span><span class="op" id="6897895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897898">{</span><span class="string" id="6897899">&#34;1e19&#34;</span><span class="op" id="6897905">,</span>&nbsp;<span class="builtintype" id="6897907">false</span><span class="op" id="6897912">,</span>&nbsp;<span class="builtintype" id="6897914">true</span><span class="op" id="6897918">,</span>&nbsp;<span class="builtintype" id="6897920">true</span><span class="op" id="6897924">,</span>&nbsp;<span class="builtintype" id="6897926">false</span><span class="op" id="6897931">,</span>&nbsp;<span class="num" id="6897933">0</span><span class="op" id="6897934">,</span>&nbsp;<span class="num" id="6897936">1e19</span><span class="op" id="6897940">,</span>&nbsp;<span class="num" id="6897942">1e19</span><span class="op" id="6897946">,</span>&nbsp;<span class="num" id="6897948">0</span><span class="op" id="6897949">}</span><span class="op" id="6897950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6897953">{</span><span class="string" id="6897954">&#34;-1e19&#34;</span><span class="op" id="6897961">,</span>&nbsp;<span class="builtintype" id="6897963">false</span><span class="op" id="6897968">,</span>&nbsp;<span class="builtintype" id="6897970">false</span><span class="op" id="6897975">,</span>&nbsp;<span class="builtintype" id="6897977">true</span><span class="op" id="6897981">,</span>&nbsp;<span class="builtintype" id="6897983">false</span><span class="op" id="6897988">,</span>&nbsp;<span class="num" id="6897990">0</span><span class="op" id="6897991">,</span>&nbsp;<span class="num" id="6897993">0</span><span class="op" id="6897994">,</span>&nbsp;<span class="op" id="6897996">-</span><span class="num" id="6897997">1e19</span><span class="op" id="6898001">,</span>&nbsp;<span class="num" id="6898003">0</span><span class="op" id="6898004">}</span><span class="op" id="6898005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898008">{</span><span class="string" id="6898009">&#34;4i&#34;</span><span class="op" id="6898013">,</span>&nbsp;<span class="builtintype" id="6898015">false</span><span class="op" id="6898020">,</span>&nbsp;<span class="builtintype" id="6898022">false</span><span class="op" id="6898027">,</span>&nbsp;<span class="builtintype" id="6898029">false</span><span class="op" id="6898034">,</span>&nbsp;<span class="builtintype" id="6898036">true</span><span class="op" id="6898040">,</span>&nbsp;<span class="num" id="6898042">0</span><span class="op" id="6898043">,</span>&nbsp;<span class="num" id="6898045">0</span><span class="op" id="6898046">,</span>&nbsp;<span class="num" id="6898048">0</span><span class="op" id="6898049">,</span>&nbsp;<span class="num" id="6898051">4i</span><span class="op" id="6898053">}</span><span class="op" id="6898054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898057">{</span><span class="string" id="6898058">&#34;-1.2+4.2i&#34;</span><span class="op" id="6898069">,</span>&nbsp;<span class="builtintype" id="6898071">false</span><span class="op" id="6898076">,</span>&nbsp;<span class="builtintype" id="6898078">false</span><span class="op" id="6898083">,</span>&nbsp;<span class="builtintype" id="6898085">false</span><span class="op" id="6898090">,</span>&nbsp;<span class="builtintype" id="6898092">true</span><span class="op" id="6898096">,</span>&nbsp;<span class="num" id="6898098">0</span><span class="op" id="6898099">,</span>&nbsp;<span class="num" id="6898101">0</span><span class="op" id="6898102">,</span>&nbsp;<span class="num" id="6898104">0</span><span class="op" id="6898105">,</span>&nbsp;<span class="op" id="6898107">-</span><span class="num" id="6898108">1.2</span>&nbsp;<span class="op" id="6898112">+</span>&nbsp;<span class="num" id="6898114">4.2i</span><span class="op" id="6898118">}</span><span class="op" id="6898119">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898122">{</span><span class="string" id="6898123">&#34;073i&#34;</span><span class="op" id="6898129">,</span>&nbsp;<span class="builtintype" id="6898131">false</span><span class="op" id="6898136">,</span>&nbsp;<span class="builtintype" id="6898138">false</span><span class="op" id="6898143">,</span>&nbsp;<span class="builtintype" id="6898145">false</span><span class="op" id="6898150">,</span>&nbsp;<span class="builtintype" id="6898152">true</span><span class="op" id="6898156">,</span>&nbsp;<span class="num" id="6898158">0</span><span class="op" id="6898159">,</span>&nbsp;<span class="num" id="6898161">0</span><span class="op" id="6898162">,</span>&nbsp;<span class="num" id="6898164">0</span><span class="op" id="6898165">,</span>&nbsp;<span class="num" id="6898167">73i</span><span class="op" id="6898170">}</span><span class="op" id="6898171">,</span>&nbsp;<span class="comment" id="6898173">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6898188">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898247">{</span><span class="string" id="6898248">&#34;0i&#34;</span><span class="op" id="6898252">,</span>&nbsp;<span class="builtintype" id="6898254">true</span><span class="op" id="6898258">,</span>&nbsp;<span class="builtintype" id="6898260">true</span><span class="op" id="6898264">,</span>&nbsp;<span class="builtintype" id="6898266">true</span><span class="op" id="6898270">,</span>&nbsp;<span class="builtintype" id="6898272">true</span><span class="op" id="6898276">,</span>&nbsp;<span class="num" id="6898278">0</span><span class="op" id="6898279">,</span>&nbsp;<span class="num" id="6898281">0</span><span class="op" id="6898282">,</span>&nbsp;<span class="num" id="6898284">0</span><span class="op" id="6898285">,</span>&nbsp;<span class="num" id="6898287">0</span><span class="op" id="6898288">}</span><span class="op" id="6898289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898292">{</span><span class="string" id="6898293">&#34;-1.2+0i&#34;</span><span class="op" id="6898302">,</span>&nbsp;<span class="builtintype" id="6898304">false</span><span class="op" id="6898309">,</span>&nbsp;<span class="builtintype" id="6898311">false</span><span class="op" id="6898316">,</span>&nbsp;<span class="builtintype" id="6898318">true</span><span class="op" id="6898322">,</span>&nbsp;<span class="builtintype" id="6898324">true</span><span class="op" id="6898328">,</span>&nbsp;<span class="num" id="6898330">0</span><span class="op" id="6898331">,</span>&nbsp;<span class="num" id="6898333">0</span><span class="op" id="6898334">,</span>&nbsp;<span class="op" id="6898336">-</span><span class="num" id="6898337">1.2</span><span class="op" id="6898340">,</span>&nbsp;<span class="op" id="6898342">-</span><span class="num" id="6898343">1.2</span><span class="op" id="6898346">}</span><span class="op" id="6898347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898350">{</span><span class="string" id="6898351">&#34;-12+0i&#34;</span><span class="op" id="6898359">,</span>&nbsp;<span class="builtintype" id="6898361">true</span><span class="op" id="6898365">,</span>&nbsp;<span class="builtintype" id="6898367">false</span><span class="op" id="6898372">,</span>&nbsp;<span class="builtintype" id="6898374">true</span><span class="op" id="6898378">,</span>&nbsp;<span class="builtintype" id="6898380">true</span><span class="op" id="6898384">,</span>&nbsp;<span class="op" id="6898386">-</span><span class="num" id="6898387">12</span><span class="op" id="6898389">,</span>&nbsp;<span class="num" id="6898391">0</span><span class="op" id="6898392">,</span>&nbsp;<span class="op" id="6898394">-</span><span class="num" id="6898395">12</span><span class="op" id="6898397">,</span>&nbsp;<span class="op" id="6898399">-</span><span class="num" id="6898400">12</span><span class="op" id="6898402">}</span><span class="op" id="6898403">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898406">{</span><span class="string" id="6898407">&#34;13+0i&#34;</span><span class="op" id="6898414">,</span>&nbsp;<span class="builtintype" id="6898416">true</span><span class="op" id="6898420">,</span>&nbsp;<span class="builtintype" id="6898422">true</span><span class="op" id="6898426">,</span>&nbsp;<span class="builtintype" id="6898428">true</span><span class="op" id="6898432">,</span>&nbsp;<span class="builtintype" id="6898434">true</span><span class="op" id="6898438">,</span>&nbsp;<span class="num" id="6898440">13</span><span class="op" id="6898442">,</span>&nbsp;<span class="num" id="6898444">13</span><span class="op" id="6898446">,</span>&nbsp;<span class="num" id="6898448">13</span><span class="op" id="6898450">,</span>&nbsp;<span class="num" id="6898452">13</span><span class="op" id="6898454">}</span><span class="op" id="6898455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6898458">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898474">{</span><span class="string" id="6898475">&#34;0123&#34;</span><span class="op" id="6898481">,</span>&nbsp;<span class="builtintype" id="6898483">true</span><span class="op" id="6898487">,</span>&nbsp;<span class="builtintype" id="6898489">true</span><span class="op" id="6898493">,</span>&nbsp;<span class="builtintype" id="6898495">true</span><span class="op" id="6898499">,</span>&nbsp;<span class="builtintype" id="6898501">false</span><span class="op" id="6898506">,</span>&nbsp;<span class="num" id="6898508">0123</span><span class="op" id="6898512">,</span>&nbsp;<span class="num" id="6898514">0123</span><span class="op" id="6898518">,</span>&nbsp;<span class="num" id="6898520">0123</span><span class="op" id="6898524">,</span>&nbsp;<span class="num" id="6898526">0</span><span class="op" id="6898527">}</span><span class="op" id="6898528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898531">{</span><span class="string" id="6898532">&#34;-0x0&#34;</span><span class="op" id="6898538">,</span>&nbsp;<span class="builtintype" id="6898540">true</span><span class="op" id="6898544">,</span>&nbsp;<span class="builtintype" id="6898546">true</span><span class="op" id="6898550">,</span>&nbsp;<span class="builtintype" id="6898552">true</span><span class="op" id="6898556">,</span>&nbsp;<span class="builtintype" id="6898558">false</span><span class="op" id="6898563">,</span>&nbsp;<span class="num" id="6898565">0</span><span class="op" id="6898566">,</span>&nbsp;<span class="num" id="6898568">0</span><span class="op" id="6898569">,</span>&nbsp;<span class="num" id="6898571">0</span><span class="op" id="6898572">,</span>&nbsp;<span class="num" id="6898574">0</span><span class="op" id="6898575">}</span><span class="op" id="6898576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898579">{</span><span class="string" id="6898580">&#34;0xdeadbeef&#34;</span><span class="op" id="6898592">,</span>&nbsp;<span class="builtintype" id="6898594">true</span><span class="op" id="6898598">,</span>&nbsp;<span class="builtintype" id="6898600">true</span><span class="op" id="6898604">,</span>&nbsp;<span class="builtintype" id="6898606">true</span><span class="op" id="6898610">,</span>&nbsp;<span class="builtintype" id="6898612">false</span><span class="op" id="6898617">,</span>&nbsp;<span class="num" id="6898619">0xdeadbeef</span><span class="op" id="6898629">,</span>&nbsp;<span class="num" id="6898631">0xdeadbeef</span><span class="op" id="6898641">,</span>&nbsp;<span class="num" id="6898643">0xdeadbeef</span><span class="op" id="6898653">,</span>&nbsp;<span class="num" id="6898655">0</span><span class="op" id="6898656">}</span><span class="op" id="6898657">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6898660">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898684">{</span><span class="string" id="6898685">`&#39;a&#39;`</span><span class="op" id="6898690">,</span>&nbsp;<span class="builtintype" id="6898692">true</span><span class="op" id="6898696">,</span>&nbsp;<span class="builtintype" id="6898698">true</span><span class="op" id="6898702">,</span>&nbsp;<span class="builtintype" id="6898704">true</span><span class="op" id="6898708">,</span>&nbsp;<span class="builtintype" id="6898710">false</span><span class="op" id="6898715">,</span>&nbsp;<span class="string" id="6898717">&#39;a&#39;</span><span class="op" id="6898720">,</span>&nbsp;<span class="string" id="6898722">&#39;a&#39;</span><span class="op" id="6898725">,</span>&nbsp;<span class="string" id="6898727">&#39;a&#39;</span><span class="op" id="6898730">,</span>&nbsp;<span class="num" id="6898732">0</span><span class="op" id="6898733">}</span><span class="op" id="6898734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898737">{</span><span class="string" id="6898738">`&#39;\n&#39;`</span><span class="op" id="6898744">,</span>&nbsp;<span class="builtintype" id="6898746">true</span><span class="op" id="6898750">,</span>&nbsp;<span class="builtintype" id="6898752">true</span><span class="op" id="6898756">,</span>&nbsp;<span class="builtintype" id="6898758">true</span><span class="op" id="6898762">,</span>&nbsp;<span class="builtintype" id="6898764">false</span><span class="op" id="6898769">,</span>&nbsp;<span class="string" id="6898771">&#39;\n&#39;</span><span class="op" id="6898775">,</span>&nbsp;<span class="string" id="6898777">&#39;\n&#39;</span><span class="op" id="6898781">,</span>&nbsp;<span class="string" id="6898783">&#39;\n&#39;</span><span class="op" id="6898787">,</span>&nbsp;<span class="num" id="6898789">0</span><span class="op" id="6898790">}</span><span class="op" id="6898791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898794">{</span><span class="string" id="6898795">`&#39;\\&#39;`</span><span class="op" id="6898801">,</span>&nbsp;<span class="builtintype" id="6898803">true</span><span class="op" id="6898807">,</span>&nbsp;<span class="builtintype" id="6898809">true</span><span class="op" id="6898813">,</span>&nbsp;<span class="builtintype" id="6898815">true</span><span class="op" id="6898819">,</span>&nbsp;<span class="builtintype" id="6898821">false</span><span class="op" id="6898826">,</span>&nbsp;<span class="string" id="6898828">&#39;\\&#39;</span><span class="op" id="6898832">,</span>&nbsp;<span class="string" id="6898834">&#39;\\&#39;</span><span class="op" id="6898838">,</span>&nbsp;<span class="string" id="6898840">&#39;\\&#39;</span><span class="op" id="6898844">,</span>&nbsp;<span class="num" id="6898846">0</span><span class="op" id="6898847">}</span><span class="op" id="6898848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898851">{</span><span class="string" id="6898852">`&#39;\&#39;&#39;`</span><span class="op" id="6898858">,</span>&nbsp;<span class="builtintype" id="6898860">true</span><span class="op" id="6898864">,</span>&nbsp;<span class="builtintype" id="6898866">true</span><span class="op" id="6898870">,</span>&nbsp;<span class="builtintype" id="6898872">true</span><span class="op" id="6898876">,</span>&nbsp;<span class="builtintype" id="6898878">false</span><span class="op" id="6898883">,</span>&nbsp;<span class="string" id="6898885">&#39;\&#39;&#39;</span><span class="op" id="6898889">,</span>&nbsp;<span class="string" id="6898891">&#39;\&#39;&#39;</span><span class="op" id="6898895">,</span>&nbsp;<span class="string" id="6898897">&#39;\&#39;&#39;</span><span class="op" id="6898901">,</span>&nbsp;<span class="num" id="6898903">0</span><span class="op" id="6898904">}</span><span class="op" id="6898905">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898908">{</span><span class="string" id="6898909">`&#39;\xFF&#39;`</span><span class="op" id="6898917">,</span>&nbsp;<span class="builtintype" id="6898919">true</span><span class="op" id="6898923">,</span>&nbsp;<span class="builtintype" id="6898925">true</span><span class="op" id="6898929">,</span>&nbsp;<span class="builtintype" id="6898931">true</span><span class="op" id="6898935">,</span>&nbsp;<span class="builtintype" id="6898937">false</span><span class="op" id="6898942">,</span>&nbsp;<span class="num" id="6898944">0xFF</span><span class="op" id="6898948">,</span>&nbsp;<span class="num" id="6898950">0xFF</span><span class="op" id="6898954">,</span>&nbsp;<span class="num" id="6898956">0xFF</span><span class="op" id="6898960">,</span>&nbsp;<span class="num" id="6898962">0</span><span class="op" id="6898963">}</span><span class="op" id="6898964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6898967">{</span><span class="string" id="6898968">`&#39;パ&#39;`</span><span class="op" id="6898975">,</span>&nbsp;<span class="builtintype" id="6898977">true</span><span class="op" id="6898981">,</span>&nbsp;<span class="builtintype" id="6898983">true</span><span class="op" id="6898987">,</span>&nbsp;<span class="builtintype" id="6898989">true</span><span class="op" id="6898993">,</span>&nbsp;<span class="builtintype" id="6898995">false</span><span class="op" id="6899000">,</span>&nbsp;<span class="num" id="6899002">0x30d1</span><span class="op" id="6899008">,</span>&nbsp;<span class="num" id="6899010">0x30d1</span><span class="op" id="6899016">,</span>&nbsp;<span class="num" id="6899018">0x30d1</span><span class="op" id="6899024">,</span>&nbsp;<span class="num" id="6899026">0</span><span class="op" id="6899027">}</span><span class="op" id="6899028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899031">{</span><span class="string" id="6899032">`&#39;\u30d1&#39;`</span><span class="op" id="6899042">,</span>&nbsp;<span class="builtintype" id="6899044">true</span><span class="op" id="6899048">,</span>&nbsp;<span class="builtintype" id="6899050">true</span><span class="op" id="6899054">,</span>&nbsp;<span class="builtintype" id="6899056">true</span><span class="op" id="6899060">,</span>&nbsp;<span class="builtintype" id="6899062">false</span><span class="op" id="6899067">,</span>&nbsp;<span class="num" id="6899069">0x30d1</span><span class="op" id="6899075">,</span>&nbsp;<span class="num" id="6899077">0x30d1</span><span class="op" id="6899083">,</span>&nbsp;<span class="num" id="6899085">0x30d1</span><span class="op" id="6899091">,</span>&nbsp;<span class="num" id="6899093">0</span><span class="op" id="6899094">}</span><span class="op" id="6899095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899098">{</span><span class="string" id="6899099">`&#39;\U000030d1&#39;`</span><span class="op" id="6899113">,</span>&nbsp;<span class="builtintype" id="6899115">true</span><span class="op" id="6899119">,</span>&nbsp;<span class="builtintype" id="6899121">true</span><span class="op" id="6899125">,</span>&nbsp;<span class="builtintype" id="6899127">true</span><span class="op" id="6899131">,</span>&nbsp;<span class="builtintype" id="6899133">false</span><span class="op" id="6899138">,</span>&nbsp;<span class="num" id="6899140">0x30d1</span><span class="op" id="6899146">,</span>&nbsp;<span class="num" id="6899148">0x30d1</span><span class="op" id="6899154">,</span>&nbsp;<span class="num" id="6899156">0x30d1</span><span class="op" id="6899162">,</span>&nbsp;<span class="num" id="6899164">0</span><span class="op" id="6899165">}</span><span class="op" id="6899166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6899169">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899192">{</span><span class="ident" id="6899193">text</span><span class="op" id="6899197">:</span>&nbsp;<span class="string" id="6899199">&#34;+-2&#34;</span><span class="op" id="6899204">}</span><span class="op" id="6899205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899208">{</span><span class="ident" id="6899209">text</span><span class="op" id="6899213">:</span>&nbsp;<span class="string" id="6899215">&#34;0x123.&#34;</span><span class="op" id="6899223">}</span><span class="op" id="6899224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899227">{</span><span class="ident" id="6899228">text</span><span class="op" id="6899232">:</span>&nbsp;<span class="string" id="6899234">&#34;1e.&#34;</span><span class="op" id="6899239">}</span><span class="op" id="6899240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899243">{</span><span class="ident" id="6899244">text</span><span class="op" id="6899248">:</span>&nbsp;<span class="string" id="6899250">&#34;0xi.&#34;</span><span class="op" id="6899256">}</span><span class="op" id="6899257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899260">{</span><span class="ident" id="6899261">text</span><span class="op" id="6899265">:</span>&nbsp;<span class="string" id="6899267">&#34;1+2.&#34;</span><span class="op" id="6899273">}</span><span class="op" id="6899274">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899277">{</span><span class="ident" id="6899278">text</span><span class="op" id="6899282">:</span>&nbsp;<span class="string" id="6899284">&#34;&#39;x&#34;</span><span class="op" id="6899288">}</span><span class="op" id="6899289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899292">{</span><span class="ident" id="6899293">text</span><span class="op" id="6899297">:</span>&nbsp;<span class="string" id="6899299">&#34;&#39;xx&#39;&#34;</span><span class="op" id="6899305">}</span><span class="op" id="6899306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6899309">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899375">{</span><span class="string" id="6899376">&#34;0xef&#34;</span><span class="op" id="6899382">,</span>&nbsp;<span class="builtintype" id="6899384">true</span><span class="op" id="6899388">,</span>&nbsp;<span class="builtintype" id="6899390">true</span><span class="op" id="6899394">,</span>&nbsp;<span class="builtintype" id="6899396">true</span><span class="op" id="6899400">,</span>&nbsp;<span class="builtintype" id="6899402">false</span><span class="op" id="6899407">,</span>&nbsp;<span class="num" id="6899409">0xef</span><span class="op" id="6899413">,</span>&nbsp;<span class="num" id="6899415">0xef</span><span class="op" id="6899419">,</span>&nbsp;<span class="num" id="6899421">0xef</span><span class="op" id="6899425">,</span>&nbsp;<span class="num" id="6899427">0</span><span class="op" id="6899428">}</span><span class="op" id="6899429">,</span><br>
<span class="lineno"></span><span class="op" id="6899431">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="6899434">func</span>&nbsp;<span class="ident" id="6899439">TestNumberParse</span><span class="op" id="6899454">(</span><span class="ident" id="6899455">t</span>&nbsp;<span class="op" id="6899457">*</span><span class="ident" id="6899458">testing</span><span class="op" id="6899465">.</span><span class="ident" id="6899466">T</span><span class="op" id="6899467">)</span>&nbsp;<span class="op" id="6899469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6899472">for</span>&nbsp;<span class="ident" id="6899476">_</span><span class="op" id="6899477">,</span>&nbsp;<span class="ident" id="6899479">test</span>&nbsp;<span class="op" id="6899484">:=</span>&nbsp;<span class="keyword" id="6899487">range</span>&nbsp;<span class="ident" id="6899493">numberTests</span>&nbsp;<span class="op" id="6899505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6899509">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6899589">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6899635">var</span>&nbsp;<span class="ident" id="6899639">c</span>&nbsp;<span class="builtintype" id="6899641">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6899654">typ</span>&nbsp;<span class="op" id="6899658">:=</span>&nbsp;<span class="ident" id="6899661">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6899674">var</span>&nbsp;<span class="ident" id="6899678">tree</span>&nbsp;<span class="op" id="6899683">*</span><span class="ident" id="6899684">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6899691">if</span>&nbsp;<span class="ident" id="6899694">test</span><span class="op" id="6899698">.</span><span class="ident" id="6899699">text</span><span class="op" id="6899703">[</span><span class="num" id="6899704">0</span><span class="op" id="6899705">]</span>&nbsp;<span class="op" id="6899707">==</span>&nbsp;<span class="string" id="6899710">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="6899715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6899720">typ</span>&nbsp;<span class="op" id="6899724">=</span>&nbsp;<span class="ident" id="6899726">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899745">}</span>&nbsp;<span class="keyword" id="6899747">else</span>&nbsp;<span class="op" id="6899752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6899757">_</span><span class="op" id="6899758">,</span>&nbsp;<span class="ident" id="6899760">err</span>&nbsp;<span class="op" id="6899764">:=</span>&nbsp;<span class="ident" id="6899767">fmt</span><span class="op" id="6899770">.</span><span class="ident" id="6899771">Sscan</span><span class="op" id="6899776">(</span><span class="ident" id="6899777">test</span><span class="op" id="6899781">.</span><span class="ident" id="6899782">text</span><span class="op" id="6899786">,</span>&nbsp;<span class="op" id="6899788">&amp;</span><span class="ident" id="6899789">c</span><span class="op" id="6899790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6899795">if</span>&nbsp;<span class="ident" id="6899798">err</span>&nbsp;<span class="op" id="6899802">==</span>&nbsp;<span class="ident" id="6899805">nil</span>&nbsp;<span class="op" id="6899809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6899815">typ</span>&nbsp;<span class="op" id="6899819">=</span>&nbsp;<span class="ident" id="6899821">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899836">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6899840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6899844">n</span><span class="op" id="6899845">,</span>&nbsp;<span class="ident" id="6899847">err</span>&nbsp;<span class="op" id="6899851">:=</span>&nbsp;<span class="ident" id="6899854">tree</span><span class="op" id="6899858">.</span><span class="ident" id="6899859">newNumber</span><span class="op" id="6899868">(</span><span class="num" id="6899869">0</span><span class="op" id="6899870">,</span>&nbsp;<span class="ident" id="6899872">test</span><span class="op" id="6899876">.</span><span class="ident" id="6899877">text</span><span class="op" id="6899881">,</span>&nbsp;<span class="ident" id="6899883">typ</span><span class="op" id="6899886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6899890">ok</span>&nbsp;<span class="op" id="6899893">:=</span>&nbsp;<span class="ident" id="6899896">test</span><span class="op" id="6899900">.</span><span class="ident" id="6899901">isInt</span>&nbsp;<span class="op" id="6899907">||</span>&nbsp;<span class="ident" id="6899910">test</span><span class="op" id="6899914">.</span><span class="ident" id="6899915">isUint</span>&nbsp;<span class="op" id="6899922">||</span>&nbsp;<span class="ident" id="6899925">test</span><span class="op" id="6899929">.</span><span class="ident" id="6899930">isFloat</span>&nbsp;<span class="op" id="6899938">||</span>&nbsp;<span class="ident" id="6899941">test</span><span class="op" id="6899945">.</span><span class="ident" id="6899946">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6899958">if</span>&nbsp;<span class="ident" id="6899961">ok</span>&nbsp;<span class="op" id="6899964">&amp;&amp;</span>&nbsp;<span class="ident" id="6899967">err</span>&nbsp;<span class="op" id="6899971">!=</span>&nbsp;<span class="ident" id="6899974">nil</span>&nbsp;<span class="op" id="6899978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6899983">t</span><span class="op" id="6899984">.</span><span class="ident" id="6899985">Errorf</span><span class="op" id="6899991">(</span><span class="string" id="6899992">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6900021">,</span>&nbsp;<span class="ident" id="6900023">test</span><span class="op" id="6900027">.</span><span class="ident" id="6900028">text</span><span class="op" id="6900032">,</span>&nbsp;<span class="ident" id="6900034">err</span><span class="op" id="6900037">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900042">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900057">if</span>&nbsp;<span class="op" id="6900060">!</span><span class="ident" id="6900061">ok</span>&nbsp;<span class="op" id="6900064">&amp;&amp;</span>&nbsp;<span class="ident" id="6900067">err</span>&nbsp;<span class="op" id="6900071">==</span>&nbsp;<span class="ident" id="6900074">nil</span>&nbsp;<span class="op" id="6900078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900083">t</span><span class="op" id="6900084">.</span><span class="ident" id="6900085">Errorf</span><span class="op" id="6900091">(</span><span class="string" id="6900092">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6900115">,</span>&nbsp;<span class="ident" id="6900117">test</span><span class="op" id="6900121">.</span><span class="ident" id="6900122">text</span><span class="op" id="6900126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900131">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900146">if</span>&nbsp;<span class="op" id="6900149">!</span><span class="ident" id="6900150">ok</span>&nbsp;<span class="op" id="6900153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900158">if</span>&nbsp;<span class="op" id="6900161">*</span><span class="ident" id="6900162">debug</span>&nbsp;<span class="op" id="6900168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900174">fmt</span><span class="op" id="6900177">.</span><span class="ident" id="6900178">Printf</span><span class="op" id="6900184">(</span><span class="string" id="6900185">&#34;%s\n\t%s\n&#34;</span><span class="op" id="6900197">,</span>&nbsp;<span class="ident" id="6900199">test</span><span class="op" id="6900203">.</span><span class="ident" id="6900204">text</span><span class="op" id="6900208">,</span>&nbsp;<span class="ident" id="6900210">err</span><span class="op" id="6900213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900218">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900223">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900238">if</span>&nbsp;<span class="ident" id="6900241">n</span><span class="op" id="6900242">.</span><span class="ident" id="6900243">IsComplex</span>&nbsp;<span class="op" id="6900253">!=</span>&nbsp;<span class="ident" id="6900256">test</span><span class="op" id="6900260">.</span><span class="ident" id="6900261">isComplex</span>&nbsp;<span class="op" id="6900271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900276">t</span><span class="op" id="6900277">.</span><span class="ident" id="6900278">Errorf</span><span class="op" id="6900284">(</span><span class="string" id="6900285">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6900325">,</span>&nbsp;<span class="ident" id="6900327">test</span><span class="op" id="6900331">.</span><span class="ident" id="6900332">text</span><span class="op" id="6900336">,</span>&nbsp;<span class="ident" id="6900338">test</span><span class="op" id="6900342">.</span><span class="ident" id="6900343">isComplex</span><span class="op" id="6900352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900356">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900360">if</span>&nbsp;<span class="ident" id="6900363">test</span><span class="op" id="6900367">.</span><span class="ident" id="6900368">isInt</span>&nbsp;<span class="op" id="6900374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900379">if</span>&nbsp;<span class="op" id="6900382">!</span><span class="ident" id="6900383">n</span><span class="op" id="6900384">.</span><span class="ident" id="6900385">IsInt</span>&nbsp;<span class="op" id="6900391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900397">t</span><span class="op" id="6900398">.</span><span class="ident" id="6900399">Errorf</span><span class="op" id="6900405">(</span><span class="string" id="6900406">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6900431">,</span>&nbsp;<span class="ident" id="6900433">test</span><span class="op" id="6900437">.</span><span class="ident" id="6900438">text</span><span class="op" id="6900442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900452">if</span>&nbsp;<span class="ident" id="6900455">n</span><span class="op" id="6900456">.</span><span class="ident" id="6900457">Int64</span>&nbsp;<span class="op" id="6900463">!=</span>&nbsp;<span class="ident" id="6900466">test</span><span class="op" id="6900470">.</span><span class="ident" id="6900471">int64</span>&nbsp;<span class="op" id="6900477">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900483">t</span><span class="op" id="6900484">.</span><span class="ident" id="6900485">Errorf</span><span class="op" id="6900491">(</span><span class="string" id="6900492">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6900525">,</span>&nbsp;<span class="ident" id="6900527">test</span><span class="op" id="6900531">.</span><span class="ident" id="6900532">text</span><span class="op" id="6900536">,</span>&nbsp;<span class="ident" id="6900538">test</span><span class="op" id="6900542">.</span><span class="ident" id="6900543">int64</span><span class="op" id="6900548">,</span>&nbsp;<span class="ident" id="6900550">n</span><span class="op" id="6900551">.</span><span class="ident" id="6900552">Int64</span><span class="op" id="6900557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900566">}</span>&nbsp;<span class="keyword" id="6900568">else</span>&nbsp;<span class="keyword" id="6900573">if</span>&nbsp;<span class="ident" id="6900576">n</span><span class="op" id="6900577">.</span><span class="ident" id="6900578">IsInt</span>&nbsp;<span class="op" id="6900584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900589">t</span><span class="op" id="6900590">.</span><span class="ident" id="6900591">Errorf</span><span class="op" id="6900597">(</span><span class="string" id="6900598">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6900629">,</span>&nbsp;<span class="ident" id="6900631">test</span><span class="op" id="6900635">.</span><span class="ident" id="6900636">text</span><span class="op" id="6900640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900644">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900648">if</span>&nbsp;<span class="ident" id="6900651">test</span><span class="op" id="6900655">.</span><span class="ident" id="6900656">isUint</span>&nbsp;<span class="op" id="6900663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900668">if</span>&nbsp;<span class="op" id="6900671">!</span><span class="ident" id="6900672">n</span><span class="op" id="6900673">.</span><span class="ident" id="6900674">IsUint</span>&nbsp;<span class="op" id="6900681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900687">t</span><span class="op" id="6900688">.</span><span class="ident" id="6900689">Errorf</span><span class="op" id="6900695">(</span><span class="string" id="6900696">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6900730">,</span>&nbsp;<span class="ident" id="6900732">test</span><span class="op" id="6900736">.</span><span class="ident" id="6900737">text</span><span class="op" id="6900741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900751">if</span>&nbsp;<span class="ident" id="6900754">n</span><span class="op" id="6900755">.</span><span class="ident" id="6900756">Uint64</span>&nbsp;<span class="op" id="6900763">!=</span>&nbsp;<span class="ident" id="6900766">test</span><span class="op" id="6900770">.</span><span class="ident" id="6900771">uint64</span>&nbsp;<span class="op" id="6900778">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900784">t</span><span class="op" id="6900785">.</span><span class="ident" id="6900786">Errorf</span><span class="op" id="6900792">(</span><span class="string" id="6900793">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6900827">,</span>&nbsp;<span class="ident" id="6900829">test</span><span class="op" id="6900833">.</span><span class="ident" id="6900834">text</span><span class="op" id="6900838">,</span>&nbsp;<span class="ident" id="6900840">test</span><span class="op" id="6900844">.</span><span class="ident" id="6900845">uint64</span><span class="op" id="6900851">,</span>&nbsp;<span class="ident" id="6900853">n</span><span class="op" id="6900854">.</span><span class="ident" id="6900855">Uint64</span><span class="op" id="6900861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900870">}</span>&nbsp;<span class="keyword" id="6900872">else</span>&nbsp;<span class="keyword" id="6900877">if</span>&nbsp;<span class="ident" id="6900880">n</span><span class="op" id="6900881">.</span><span class="ident" id="6900882">IsUint</span>&nbsp;<span class="op" id="6900889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900894">t</span><span class="op" id="6900895">.</span><span class="ident" id="6900896">Errorf</span><span class="op" id="6900902">(</span><span class="string" id="6900903">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6900943">,</span>&nbsp;<span class="ident" id="6900945">test</span><span class="op" id="6900949">.</span><span class="ident" id="6900950">text</span><span class="op" id="6900954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900958">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900962">if</span>&nbsp;<span class="ident" id="6900965">test</span><span class="op" id="6900969">.</span><span class="ident" id="6900970">isFloat</span>&nbsp;<span class="op" id="6900978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900983">if</span>&nbsp;<span class="op" id="6900986">!</span><span class="ident" id="6900987">n</span><span class="op" id="6900988">.</span><span class="ident" id="6900989">IsFloat</span>&nbsp;<span class="op" id="6900997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901003">t</span><span class="op" id="6901004">.</span><span class="ident" id="6901005">Errorf</span><span class="op" id="6901011">(</span><span class="string" id="6901012">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6901035">,</span>&nbsp;<span class="ident" id="6901037">test</span><span class="op" id="6901041">.</span><span class="ident" id="6901042">text</span><span class="op" id="6901046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901056">if</span>&nbsp;<span class="ident" id="6901059">n</span><span class="op" id="6901060">.</span><span class="ident" id="6901061">Float64</span>&nbsp;<span class="op" id="6901069">!=</span>&nbsp;<span class="ident" id="6901072">test</span><span class="op" id="6901076">.</span><span class="builtintype" id="6901077">float64</span>&nbsp;<span class="op" id="6901085">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901091">t</span><span class="op" id="6901092">.</span><span class="ident" id="6901093">Errorf</span><span class="op" id="6901099">(</span><span class="string" id="6901100">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6901135">,</span>&nbsp;<span class="ident" id="6901137">test</span><span class="op" id="6901141">.</span><span class="ident" id="6901142">text</span><span class="op" id="6901146">,</span>&nbsp;<span class="ident" id="6901148">test</span><span class="op" id="6901152">.</span><span class="builtintype" id="6901153">float64</span><span class="op" id="6901160">,</span>&nbsp;<span class="ident" id="6901162">n</span><span class="op" id="6901163">.</span><span class="ident" id="6901164">Float64</span><span class="op" id="6901171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901180">}</span>&nbsp;<span class="keyword" id="6901182">else</span>&nbsp;<span class="keyword" id="6901187">if</span>&nbsp;<span class="ident" id="6901190">n</span><span class="op" id="6901191">.</span><span class="ident" id="6901192">IsFloat</span>&nbsp;<span class="op" id="6901200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901205">t</span><span class="op" id="6901206">.</span><span class="ident" id="6901207">Errorf</span><span class="op" id="6901213">(</span><span class="string" id="6901214">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6901243">,</span>&nbsp;<span class="ident" id="6901245">test</span><span class="op" id="6901249">.</span><span class="ident" id="6901250">text</span><span class="op" id="6901254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901258">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901262">if</span>&nbsp;<span class="ident" id="6901265">test</span><span class="op" id="6901269">.</span><span class="ident" id="6901270">isComplex</span>&nbsp;<span class="op" id="6901280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901285">if</span>&nbsp;<span class="op" id="6901288">!</span><span class="ident" id="6901289">n</span><span class="op" id="6901290">.</span><span class="ident" id="6901291">IsComplex</span>&nbsp;<span class="op" id="6901301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901307">t</span><span class="op" id="6901308">.</span><span class="ident" id="6901309">Errorf</span><span class="op" id="6901315">(</span><span class="string" id="6901316">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6901341">,</span>&nbsp;<span class="ident" id="6901343">test</span><span class="op" id="6901347">.</span><span class="ident" id="6901348">text</span><span class="op" id="6901352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901362">if</span>&nbsp;<span class="ident" id="6901365">n</span><span class="op" id="6901366">.</span><span class="ident" id="6901367">Complex128</span>&nbsp;<span class="op" id="6901378">!=</span>&nbsp;<span class="ident" id="6901381">test</span><span class="op" id="6901385">.</span><span class="builtintype" id="6901386">complex128</span>&nbsp;<span class="op" id="6901397">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901403">t</span><span class="op" id="6901404">.</span><span class="ident" id="6901405">Errorf</span><span class="op" id="6901411">(</span><span class="string" id="6901412">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6901450">,</span>&nbsp;<span class="ident" id="6901452">test</span><span class="op" id="6901456">.</span><span class="ident" id="6901457">text</span><span class="op" id="6901461">,</span>&nbsp;<span class="ident" id="6901463">test</span><span class="op" id="6901467">.</span><span class="builtintype" id="6901468">complex128</span><span class="op" id="6901478">,</span>&nbsp;<span class="ident" id="6901480">n</span><span class="op" id="6901481">.</span><span class="ident" id="6901482">Complex128</span><span class="op" id="6901492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901501">}</span>&nbsp;<span class="keyword" id="6901503">else</span>&nbsp;<span class="keyword" id="6901508">if</span>&nbsp;<span class="ident" id="6901511">n</span><span class="op" id="6901512">.</span><span class="ident" id="6901513">IsComplex</span>&nbsp;<span class="op" id="6901523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901528">t</span><span class="op" id="6901529">.</span><span class="ident" id="6901530">Errorf</span><span class="op" id="6901536">(</span><span class="string" id="6901537">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6901568">,</span>&nbsp;<span class="ident" id="6901570">test</span><span class="op" id="6901574">.</span><span class="ident" id="6901575">text</span><span class="op" id="6901579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901583">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901586">}</span><br>
<span class="lineno"></span><span class="op" id="6901588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6901591">type</span>&nbsp;<span class="ident" id="6901596">parseTest</span>&nbsp;<span class="keyword" id="6901606">struct</span>&nbsp;<span class="op" id="6901613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901616">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6901623">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901631">input</span>&nbsp;&nbsp;<span class="builtintype" id="6901638">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901646">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6901653">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901659">result</span>&nbsp;<span class="builtintype" id="6901666">string</span>&nbsp;<span class="comment" id="6901673">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="6901721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6901724">const</span>&nbsp;<span class="op" id="6901730">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901733">noError</span>&nbsp;&nbsp;<span class="op" id="6901742">=</span>&nbsp;<span class="builtintype" id="6901744">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901750">hasError</span>&nbsp;<span class="op" id="6901759">=</span>&nbsp;<span class="builtintype" id="6901761">false</span><br>
<span class="lineno"></span><span class="op" id="6901767">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="6901770">var</span>&nbsp;<span class="ident" id="6901774">parseTests</span>&nbsp;<span class="op" id="6901785">=</span>&nbsp;<span class="op" id="6901787">[</span><span class="op" id="6901788">]</span><span class="ident" id="6901789">parseTest</span><span class="op" id="6901798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901801">{</span><span class="string" id="6901802">&#34;empty&#34;</span><span class="op" id="6901809">,</span>&nbsp;<span class="string" id="6901811">&#34;&#34;</span><span class="op" id="6901813">,</span>&nbsp;<span class="ident" id="6901815">noError</span><span class="op" id="6901822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6901826">``</span><span class="op" id="6901828">}</span><span class="op" id="6901829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901832">{</span><span class="string" id="6901833">&#34;comment&#34;</span><span class="op" id="6901842">,</span>&nbsp;<span class="string" id="6901844">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="6901860">,</span>&nbsp;<span class="ident" id="6901862">noError</span><span class="op" id="6901869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6901873">``</span><span class="op" id="6901875">}</span><span class="op" id="6901876">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901879">{</span><span class="string" id="6901880">&#34;spaces&#34;</span><span class="op" id="6901888">,</span>&nbsp;<span class="string" id="6901890">&#34;&nbsp;\t\n&#34;</span><span class="op" id="6901897">,</span>&nbsp;<span class="ident" id="6901899">noError</span><span class="op" id="6901906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6901910">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="6901919">}</span><span class="op" id="6901920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901923">{</span><span class="string" id="6901924">&#34;text&#34;</span><span class="op" id="6901930">,</span>&nbsp;<span class="string" id="6901932">&#34;some&nbsp;text&#34;</span><span class="op" id="6901943">,</span>&nbsp;<span class="ident" id="6901945">noError</span><span class="op" id="6901952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6901956">`&#34;some&nbsp;text&#34;`</span><span class="op" id="6901969">}</span><span class="op" id="6901970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901973">{</span><span class="string" id="6901974">&#34;emptyAction&#34;</span><span class="op" id="6901987">,</span>&nbsp;<span class="string" id="6901989">&#34;{{}}&#34;</span><span class="op" id="6901995">,</span>&nbsp;<span class="ident" id="6901997">hasError</span><span class="op" id="6902005">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902009">`{{}}`</span><span class="op" id="6902015">}</span><span class="op" id="6902016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902019">{</span><span class="string" id="6902020">&#34;field&#34;</span><span class="op" id="6902027">,</span>&nbsp;<span class="string" id="6902029">&#34;{{.X}}&#34;</span><span class="op" id="6902037">,</span>&nbsp;<span class="ident" id="6902039">noError</span><span class="op" id="6902046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902050">`{{.X}}`</span><span class="op" id="6902058">}</span><span class="op" id="6902059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902062">{</span><span class="string" id="6902063">&#34;simple&nbsp;command&#34;</span><span class="op" id="6902079">,</span>&nbsp;<span class="string" id="6902081">&#34;{{printf}}&#34;</span><span class="op" id="6902093">,</span>&nbsp;<span class="ident" id="6902095">noError</span><span class="op" id="6902102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902106">`{{printf}}`</span><span class="op" id="6902118">}</span><span class="op" id="6902119">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902122">{</span><span class="string" id="6902123">&#34;$&nbsp;invocation&#34;</span><span class="op" id="6902137">,</span>&nbsp;<span class="string" id="6902139">&#34;{{$}}&#34;</span><span class="op" id="6902146">,</span>&nbsp;<span class="ident" id="6902148">noError</span><span class="op" id="6902155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902159">&#34;{{$}}&#34;</span><span class="op" id="6902166">}</span><span class="op" id="6902167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902170">{</span><span class="string" id="6902171">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="6902192">,</span>&nbsp;<span class="string" id="6902194">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6902228">,</span>&nbsp;<span class="ident" id="6902230">noError</span><span class="op" id="6902237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902241">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6902275">}</span><span class="op" id="6902276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902279">{</span><span class="string" id="6902280">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="6902302">,</span>&nbsp;<span class="string" id="6902304">&#34;{{$.I}}&#34;</span><span class="op" id="6902313">,</span>&nbsp;<span class="ident" id="6902315">noError</span><span class="op" id="6902322">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902326">&#34;{{$.I}}&#34;</span><span class="op" id="6902335">}</span><span class="op" id="6902336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902339">{</span><span class="string" id="6902340">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="6902360">,</span>&nbsp;<span class="string" id="6902362">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6902382">,</span>&nbsp;<span class="ident" id="6902384">noError</span><span class="op" id="6902391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902395">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6902415">}</span><span class="op" id="6902416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902419">{</span><span class="string" id="6902420">&#34;pipeline&#34;</span><span class="op" id="6902430">,</span>&nbsp;<span class="string" id="6902432">&#34;{{.X|.Y}}&#34;</span><span class="op" id="6902443">,</span>&nbsp;<span class="ident" id="6902445">noError</span><span class="op" id="6902452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902456">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6902469">}</span><span class="op" id="6902470">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902473">{</span><span class="string" id="6902474">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="6902494">,</span>&nbsp;<span class="string" id="6902496">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="6902513">,</span>&nbsp;<span class="ident" id="6902515">noError</span><span class="op" id="6902522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902526">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6902545">}</span><span class="op" id="6902546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902549">{</span><span class="string" id="6902550">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="6902567">,</span>&nbsp;<span class="string" id="6902569">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="6902603">,</span>&nbsp;<span class="ident" id="6902605">noError</span><span class="op" id="6902612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902616">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="6902650">}</span><span class="op" id="6902651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902654">{</span><span class="string" id="6902655">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6902685">,</span>&nbsp;<span class="string" id="6902687">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="6902706">,</span>&nbsp;<span class="ident" id="6902708">noError</span><span class="op" id="6902715">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902719">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="6902738">}</span><span class="op" id="6902739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902742">{</span><span class="string" id="6902743">&#34;simple&nbsp;if&#34;</span><span class="op" id="6902754">,</span>&nbsp;<span class="string" id="6902756">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6902779">,</span>&nbsp;<span class="ident" id="6902781">noError</span><span class="op" id="6902788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902792">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6902817">}</span><span class="op" id="6902818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902821">{</span><span class="string" id="6902822">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="6902836">,</span>&nbsp;<span class="string" id="6902838">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6902873">,</span>&nbsp;<span class="ident" id="6902875">noError</span><span class="op" id="6902882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6902886">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6902925">}</span><span class="op" id="6902926">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902929">{</span><span class="string" id="6902930">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="6902947">,</span>&nbsp;<span class="string" id="6902949">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="6902990">,</span>&nbsp;<span class="ident" id="6902992">noError</span><span class="op" id="6902999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6903003">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="6903058">}</span><span class="op" id="6903059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903062">{</span><span class="string" id="6903063">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="6903078">,</span>&nbsp;<span class="string" id="6903080">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="6903131">,</span>&nbsp;<span class="ident" id="6903133">noError</span><span class="op" id="6903140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6903144">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="6903225">}</span><span class="op" id="6903226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903229">{</span><span class="string" id="6903230">&#34;simple&nbsp;range&#34;</span><span class="op" id="6903244">,</span>&nbsp;<span class="string" id="6903246">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6903272">,</span>&nbsp;<span class="ident" id="6903274">noError</span><span class="op" id="6903281">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6903285">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6903313">}</span><span class="op" id="6903314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903317">{</span><span class="string" id="6903318">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="6903339">,</span>&nbsp;<span class="string" id="6903341">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="6903371">,</span>&nbsp;<span class="ident" id="6903373">noError</span><span class="op" id="6903380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6903384">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="6903416">}</span><span class="op" id="6903417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903420">{</span><span class="string" id="6903421">&#34;nested&nbsp;range&#34;</span><span class="op" id="6903435">,</span>&nbsp;<span class="string" id="6903437">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="6903489">,</span>&nbsp;<span class="ident" id="6903491">noError</span><span class="op" id="6903498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6903502">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="6903558">}</span><span class="op" id="6903559">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903562">{</span><span class="string" id="6903563">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="6903580">,</span>&nbsp;<span class="string" id="6903582">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6903620">,</span>&nbsp;<span class="ident" id="6903622">noError</span><span class="op" id="6903629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6903633">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6903675">}</span><span class="op" id="6903676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903679">{</span><span class="string" id="6903680">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="6903701">,</span>&nbsp;<span class="string" id="6903703">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="6903744">,</span>&nbsp;<span class="ident" id="6903746">noError</span><span class="op" id="6903753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6903757">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6903804">}</span><span class="op" id="6903805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903808">{</span><span class="string" id="6903809">&#34;range&nbsp;[]int&#34;</span><span class="op" id="6903822">,</span>&nbsp;<span class="string" id="6903824">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6903851">,</span>&nbsp;<span class="ident" id="6903853">noError</span><span class="op" id="6903860">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6903864">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6903891">}</span><span class="op" id="6903892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903895">{</span><span class="string" id="6903896">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="6903909">,</span>&nbsp;<span class="string" id="6903911">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6903944">,</span>&nbsp;<span class="ident" id="6903946">noError</span><span class="op" id="6903953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6903957">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6903990">}</span><span class="op" id="6903991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903994">{</span><span class="string" id="6903995">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="6904009">,</span>&nbsp;<span class="string" id="6904011">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6904048">,</span>&nbsp;<span class="ident" id="6904050">noError</span><span class="op" id="6904057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6904061">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6904098">}</span><span class="op" id="6904099">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904102">{</span><span class="string" id="6904103">&#34;constants&#34;</span><span class="op" id="6904114">,</span>&nbsp;<span class="string" id="6904116">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="6904165">,</span>&nbsp;<span class="ident" id="6904167">noError</span><span class="op" id="6904174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6904178">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="6904227">}</span><span class="op" id="6904228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904231">{</span><span class="string" id="6904232">&#34;template&#34;</span><span class="op" id="6904242">,</span>&nbsp;<span class="string" id="6904244">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="6904262">,</span>&nbsp;<span class="ident" id="6904264">noError</span><span class="op" id="6904271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6904275">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="6904293">}</span><span class="op" id="6904294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904297">{</span><span class="string" id="6904298">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="6904317">,</span>&nbsp;<span class="string" id="6904319">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="6904340">,</span>&nbsp;<span class="ident" id="6904342">noError</span><span class="op" id="6904349">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6904353">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="6904374">}</span><span class="op" id="6904375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904378">{</span><span class="string" id="6904379">&#34;with&#34;</span><span class="op" id="6904385">,</span>&nbsp;<span class="string" id="6904387">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6904412">,</span>&nbsp;<span class="ident" id="6904414">noError</span><span class="op" id="6904421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6904425">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6904452">}</span><span class="op" id="6904453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904456">{</span><span class="string" id="6904457">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="6904473">,</span>&nbsp;<span class="string" id="6904475">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="6904515">,</span>&nbsp;<span class="ident" id="6904517">noError</span><span class="op" id="6904524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6904528">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="6904572">}</span><span class="op" id="6904573">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6904576">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904588">{</span><span class="string" id="6904589">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="6904606">,</span>&nbsp;<span class="string" id="6904608">&#34;hello{{range&#34;</span><span class="op" id="6904622">,</span>&nbsp;<span class="ident" id="6904624">hasError</span><span class="op" id="6904632">,</span>&nbsp;<span class="string" id="6904634">&#34;&#34;</span><span class="op" id="6904636">}</span><span class="op" id="6904637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904640">{</span><span class="string" id="6904641">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="6904656">,</span>&nbsp;<span class="string" id="6904658">&#34;{{end}}&#34;</span><span class="op" id="6904667">,</span>&nbsp;<span class="ident" id="6904669">hasError</span><span class="op" id="6904677">,</span>&nbsp;<span class="string" id="6904679">&#34;&#34;</span><span class="op" id="6904681">}</span><span class="op" id="6904682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904685">{</span><span class="string" id="6904686">&#34;missing&nbsp;end&#34;</span><span class="op" id="6904699">,</span>&nbsp;<span class="string" id="6904701">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="6904720">,</span>&nbsp;<span class="ident" id="6904722">hasError</span><span class="op" id="6904730">,</span>&nbsp;<span class="string" id="6904732">&#34;&#34;</span><span class="op" id="6904734">}</span><span class="op" id="6904735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904738">{</span><span class="string" id="6904739">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="6904763">,</span>&nbsp;<span class="string" id="6904765">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="6904792">,</span>&nbsp;<span class="ident" id="6904794">hasError</span><span class="op" id="6904802">,</span>&nbsp;<span class="string" id="6904804">&#34;&#34;</span><span class="op" id="6904806">}</span><span class="op" id="6904807">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904810">{</span><span class="string" id="6904811">&#34;undefined&nbsp;function&#34;</span><span class="op" id="6904831">,</span>&nbsp;<span class="string" id="6904833">&#34;hello{{undefined}}&#34;</span><span class="op" id="6904853">,</span>&nbsp;<span class="ident" id="6904855">hasError</span><span class="op" id="6904863">,</span>&nbsp;<span class="string" id="6904865">&#34;&#34;</span><span class="op" id="6904867">}</span><span class="op" id="6904868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904871">{</span><span class="string" id="6904872">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="6904892">,</span>&nbsp;<span class="string" id="6904894">&#34;{{$x}}&#34;</span><span class="op" id="6904902">,</span>&nbsp;<span class="ident" id="6904904">hasError</span><span class="op" id="6904912">,</span>&nbsp;<span class="string" id="6904914">&#34;&#34;</span><span class="op" id="6904916">}</span><span class="op" id="6904917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904920">{</span><span class="string" id="6904921">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="6904951">,</span>&nbsp;<span class="string" id="6904953">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="6904984">,</span>&nbsp;<span class="ident" id="6904986">hasError</span><span class="op" id="6904994">,</span>&nbsp;<span class="string" id="6904996">&#34;&#34;</span><span class="op" id="6904998">}</span><span class="op" id="6904999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905002">{</span><span class="string" id="6905003">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="6905035">,</span>&nbsp;<span class="string" id="6905037">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6905054">,</span>&nbsp;<span class="ident" id="6905056">hasError</span><span class="op" id="6905064">,</span>&nbsp;<span class="string" id="6905066">&#34;&#34;</span><span class="op" id="6905068">}</span><span class="op" id="6905069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905072">{</span><span class="string" id="6905073">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="6905093">,</span>&nbsp;<span class="string" id="6905095">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="6905122">,</span>&nbsp;<span class="ident" id="6905124">hasError</span><span class="op" id="6905132">,</span>&nbsp;<span class="string" id="6905134">&#34;&#34;</span><span class="op" id="6905136">}</span><span class="op" id="6905137">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905140">{</span><span class="string" id="6905141">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="6905166">,</span>&nbsp;<span class="string" id="6905168">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="6905185">,</span>&nbsp;<span class="ident" id="6905187">hasError</span><span class="op" id="6905195">,</span>&nbsp;<span class="string" id="6905197">&#34;&#34;</span><span class="op" id="6905199">}</span><span class="op" id="6905200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905203">{</span><span class="string" id="6905204">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="6905223">,</span>&nbsp;<span class="string" id="6905225">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6905242">,</span>&nbsp;<span class="ident" id="6905244">hasError</span><span class="op" id="6905252">,</span>&nbsp;<span class="string" id="6905254">&#34;&#34;</span><span class="op" id="6905256">}</span><span class="op" id="6905257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905260">{</span><span class="string" id="6905261">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="6905282">,</span>&nbsp;<span class="string" id="6905284">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="6905301">,</span>&nbsp;<span class="ident" id="6905303">hasError</span><span class="op" id="6905311">,</span>&nbsp;<span class="string" id="6905313">&#34;&#34;</span><span class="op" id="6905315">}</span><span class="op" id="6905316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905319">{</span><span class="string" id="6905320">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="6905345">,</span>&nbsp;<span class="string" id="6905347">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6905376">,</span>&nbsp;<span class="ident" id="6905378">hasError</span><span class="op" id="6905386">,</span>&nbsp;<span class="string" id="6905388">&#34;&#34;</span><span class="op" id="6905390">}</span><span class="op" id="6905391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905394">{</span><span class="string" id="6905395">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="6905420">,</span>&nbsp;<span class="string" id="6905422">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6905456">,</span>&nbsp;<span class="ident" id="6905458">hasError</span><span class="op" id="6905466">,</span>&nbsp;<span class="string" id="6905468">&#34;&#34;</span><span class="op" id="6905470">}</span><span class="op" id="6905471">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905474">{</span><span class="string" id="6905475">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6905503">,</span>&nbsp;<span class="string" id="6905505">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="6905529">,</span>&nbsp;<span class="ident" id="6905531">hasError</span><span class="op" id="6905539">,</span>&nbsp;<span class="string" id="6905541">&#34;&#34;</span><span class="op" id="6905543">}</span><span class="op" id="6905544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905547">{</span><span class="string" id="6905548">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="6905563">,</span>&nbsp;<span class="string" id="6905565">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="6905582">,</span>&nbsp;<span class="ident" id="6905584">hasError</span><span class="op" id="6905592">,</span>&nbsp;<span class="string" id="6905594">&#34;&#34;</span><span class="op" id="6905596">}</span><span class="op" id="6905597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905600">{</span><span class="string" id="6905601">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="6905623">,</span>&nbsp;<span class="string" id="6905625">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="6905642">,</span>&nbsp;<span class="ident" id="6905644">hasError</span><span class="op" id="6905652">,</span>&nbsp;<span class="string" id="6905654">&#34;&#34;</span><span class="op" id="6905656">}</span><span class="op" id="6905657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905660">{</span><span class="string" id="6905661">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="6905681">,</span>&nbsp;<span class="string" id="6905683">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="6905724">,</span>&nbsp;<span class="ident" id="6905726">hasError</span><span class="op" id="6905734">,</span>&nbsp;<span class="string" id="6905736">&#34;&#34;</span><span class="op" id="6905738">}</span><span class="op" id="6905739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6905742">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905802">{</span><span class="string" id="6905803">&#34;bug0a&#34;</span><span class="op" id="6905810">,</span>&nbsp;<span class="string" id="6905812">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6905831">,</span>&nbsp;<span class="ident" id="6905833">noError</span><span class="op" id="6905840">,</span>&nbsp;<span class="string" id="6905842">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6905861">}</span><span class="op" id="6905862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905865">{</span><span class="string" id="6905866">&#34;bug0b&#34;</span><span class="op" id="6905873">,</span>&nbsp;<span class="string" id="6905875">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="6905893">,</span>&nbsp;<span class="ident" id="6905895">hasError</span><span class="op" id="6905903">,</span>&nbsp;<span class="string" id="6905905">&#34;&#34;</span><span class="op" id="6905907">}</span><span class="op" id="6905908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905911">{</span><span class="string" id="6905912">&#34;bug0c&#34;</span><span class="op" id="6905919">,</span>&nbsp;<span class="string" id="6905921">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="6905939">,</span>&nbsp;<span class="ident" id="6905941">hasError</span><span class="op" id="6905949">,</span>&nbsp;<span class="string" id="6905951">&#34;&#34;</span><span class="op" id="6905953">}</span><span class="op" id="6905954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905957">{</span><span class="string" id="6905958">&#34;bug0d&#34;</span><span class="op" id="6905965">,</span>&nbsp;<span class="string" id="6905967">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="6905985">,</span>&nbsp;<span class="ident" id="6905987">hasError</span><span class="op" id="6905995">,</span>&nbsp;<span class="string" id="6905997">&#34;&#34;</span><span class="op" id="6905999">}</span><span class="op" id="6906000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6906003">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906055">{</span><span class="string" id="6906056">&#34;bug0e&#34;</span><span class="op" id="6906063">,</span>&nbsp;<span class="string" id="6906065">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6906097">,</span>&nbsp;<span class="ident" id="6906099">hasError</span><span class="op" id="6906107">,</span>&nbsp;<span class="string" id="6906109">&#34;&#34;</span><span class="op" id="6906111">}</span><span class="op" id="6906112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6906115">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906181">{</span><span class="string" id="6906182">&#34;bug1a&#34;</span><span class="op" id="6906189">,</span>&nbsp;<span class="string" id="6906191">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="6906210">,</span>&nbsp;<span class="ident" id="6906212">hasError</span><span class="op" id="6906220">,</span>&nbsp;<span class="string" id="6906222">&#34;&#34;</span><span class="op" id="6906224">}</span><span class="op" id="6906225">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6906247">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906275">{</span><span class="string" id="6906276">&#34;bug1b&#34;</span><span class="op" id="6906283">,</span>&nbsp;<span class="string" id="6906285">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="6906304">,</span>&nbsp;<span class="ident" id="6906306">hasError</span><span class="op" id="6906314">,</span>&nbsp;<span class="string" id="6906316">&#34;&#34;</span><span class="op" id="6906318">}</span><span class="op" id="6906319">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6906341">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906381">{</span><span class="string" id="6906382">&#34;bug1c&#34;</span><span class="op" id="6906389">,</span>&nbsp;<span class="string" id="6906391">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6906411">,</span>&nbsp;<span class="ident" id="6906413">noError</span><span class="op" id="6906420">,</span>&nbsp;<span class="string" id="6906422">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6906444">}</span><span class="op" id="6906445">,</span>&nbsp;<span class="comment" id="6906447">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="6906472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6906475">var</span>&nbsp;<span class="ident" id="6906479">builtins</span>&nbsp;<span class="op" id="6906488">=</span>&nbsp;<span class="keyword" id="6906490">map</span><span class="op" id="6906493">[</span><span class="builtintype" id="6906494">string</span><span class="op" id="6906500">]</span><span class="keyword" id="6906501">interface</span><span class="op" id="6906510">{</span><span class="op" id="6906511">}</span><span class="op" id="6906512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6906515">&#34;printf&#34;</span><span class="op" id="6906523">:</span>&nbsp;<span class="ident" id="6906525">fmt</span><span class="op" id="6906528">.</span><span class="ident" id="6906529">Sprintf</span><span class="op" id="6906536">,</span><br>
<span class="lineno"></span><span class="op" id="6906538">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="6906541">func</span>&nbsp;<span class="ident" id="6906546">testParse</span><span class="op" id="6906555">(</span><span class="ident" id="6906556">doCopy</span>&nbsp;<span class="builtintype" id="6906563">bool</span><span class="op" id="6906567">,</span>&nbsp;<span class="ident" id="6906569">t</span>&nbsp;<span class="op" id="6906571">*</span><span class="ident" id="6906572">testing</span><span class="op" id="6906579">.</span><span class="ident" id="6906580">T</span><span class="op" id="6906581">)</span>&nbsp;<span class="op" id="6906583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906586">textFormat</span>&nbsp;<span class="op" id="6906597">=</span>&nbsp;<span class="string" id="6906599">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906605">defer</span>&nbsp;<span class="keyword" id="6906611">func</span><span class="op" id="6906615">(</span><span class="op" id="6906616">)</span>&nbsp;<span class="op" id="6906618">{</span>&nbsp;<span class="ident" id="6906620">textFormat</span>&nbsp;<span class="op" id="6906631">=</span>&nbsp;<span class="string" id="6906633">&#34;%s&#34;</span>&nbsp;<span class="op" id="6906638">}</span><span class="op" id="6906639">(</span><span class="op" id="6906640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906643">for</span>&nbsp;<span class="ident" id="6906647">_</span><span class="op" id="6906648">,</span>&nbsp;<span class="ident" id="6906650">test</span>&nbsp;<span class="op" id="6906655">:=</span>&nbsp;<span class="keyword" id="6906658">range</span>&nbsp;<span class="ident" id="6906664">parseTests</span>&nbsp;<span class="op" id="6906675">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906679">tmpl</span><span class="op" id="6906683">,</span>&nbsp;<span class="ident" id="6906685">err</span>&nbsp;<span class="op" id="6906689">:=</span>&nbsp;<span class="ident" id="6906692">New</span><span class="op" id="6906695">(</span><span class="ident" id="6906696">test</span><span class="op" id="6906700">.</span><span class="ident" id="6906701">name</span><span class="op" id="6906705">)</span><span class="op" id="6906706">.</span><span class="ident" id="6906707">Parse</span><span class="op" id="6906712">(</span><span class="ident" id="6906713">test</span><span class="op" id="6906717">.</span><span class="ident" id="6906718">input</span><span class="op" id="6906723">,</span>&nbsp;<span class="string" id="6906725">&#34;&#34;</span><span class="op" id="6906727">,</span>&nbsp;<span class="string" id="6906729">&#34;&#34;</span><span class="op" id="6906731">,</span>&nbsp;<span class="builtinfunc" id="6906733">make</span><span class="op" id="6906737">(</span><span class="keyword" id="6906738">map</span><span class="op" id="6906741">[</span><span class="builtintype" id="6906742">string</span><span class="op" id="6906748">]</span><span class="op" id="6906749">*</span><span class="ident" id="6906750">Tree</span><span class="op" id="6906754">)</span><span class="op" id="6906755">,</span>&nbsp;<span class="ident" id="6906757">builtins</span><span class="op" id="6906765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906769">switch</span>&nbsp;<span class="op" id="6906776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906780">case</span>&nbsp;<span class="ident" id="6906785">err</span>&nbsp;<span class="op" id="6906789">==</span>&nbsp;<span class="ident" id="6906792">nil</span>&nbsp;<span class="op" id="6906796">&amp;&amp;</span>&nbsp;<span class="op" id="6906799">!</span><span class="ident" id="6906800">test</span><span class="op" id="6906804">.</span><span class="ident" id="6906805">ok</span><span class="op" id="6906807">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906812">t</span><span class="op" id="6906813">.</span><span class="ident" id="6906814">Errorf</span><span class="op" id="6906820">(</span><span class="string" id="6906821">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6906851">,</span>&nbsp;<span class="ident" id="6906853">test</span><span class="op" id="6906857">.</span><span class="ident" id="6906858">name</span><span class="op" id="6906862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906867">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906878">case</span>&nbsp;<span class="ident" id="6906883">err</span>&nbsp;<span class="op" id="6906887">!=</span>&nbsp;<span class="ident" id="6906890">nil</span>&nbsp;<span class="op" id="6906894">&amp;&amp;</span>&nbsp;<span class="ident" id="6906897">test</span><span class="op" id="6906901">.</span><span class="ident" id="6906902">ok</span><span class="op" id="6906904">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906909">t</span><span class="op" id="6906910">.</span><span class="ident" id="6906911">Errorf</span><span class="op" id="6906917">(</span><span class="string" id="6906918">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6906944">,</span>&nbsp;<span class="ident" id="6906946">test</span><span class="op" id="6906950">.</span><span class="ident" id="6906951">name</span><span class="op" id="6906955">,</span>&nbsp;<span class="ident" id="6906957">err</span><span class="op" id="6906960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906965">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906976">case</span>&nbsp;<span class="ident" id="6906981">err</span>&nbsp;<span class="op" id="6906985">!=</span>&nbsp;<span class="ident" id="6906988">nil</span>&nbsp;<span class="op" id="6906992">&amp;&amp;</span>&nbsp;<span class="op" id="6906995">!</span><span class="ident" id="6906996">test</span><span class="op" id="6907000">.</span><span class="ident" id="6907001">ok</span><span class="op" id="6907003">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6907008">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907038">if</span>&nbsp;<span class="op" id="6907041">*</span><span class="ident" id="6907042">debug</span>&nbsp;<span class="op" id="6907048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907054">fmt</span><span class="op" id="6907057">.</span><span class="ident" id="6907058">Printf</span><span class="op" id="6907064">(</span><span class="string" id="6907065">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="6907081">,</span>&nbsp;<span class="ident" id="6907083">test</span><span class="op" id="6907087">.</span><span class="ident" id="6907088">name</span><span class="op" id="6907092">,</span>&nbsp;<span class="ident" id="6907094">test</span><span class="op" id="6907098">.</span><span class="ident" id="6907099">input</span><span class="op" id="6907104">,</span>&nbsp;<span class="ident" id="6907106">err</span><span class="op" id="6907109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907119">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907130">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907134">var</span>&nbsp;<span class="ident" id="6907138">result</span>&nbsp;<span class="builtintype" id="6907145">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907154">if</span>&nbsp;<span class="ident" id="6907157">doCopy</span>&nbsp;<span class="op" id="6907164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907169">result</span>&nbsp;<span class="op" id="6907176">=</span>&nbsp;<span class="ident" id="6907178">tmpl</span><span class="op" id="6907182">.</span><span class="ident" id="6907183">Root</span><span class="op" id="6907187">.</span><span class="ident" id="6907188">Copy</span><span class="op" id="6907192">(</span><span class="op" id="6907193">)</span><span class="op" id="6907194">.</span><span class="ident" id="6907195">String</span><span class="op" id="6907201">(</span><span class="op" id="6907202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907206">}</span>&nbsp;<span class="keyword" id="6907208">else</span>&nbsp;<span class="op" id="6907213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907218">result</span>&nbsp;<span class="op" id="6907225">=</span>&nbsp;<span class="ident" id="6907227">tmpl</span><span class="op" id="6907231">.</span><span class="ident" id="6907232">Root</span><span class="op" id="6907236">.</span><span class="ident" id="6907237">String</span><span class="op" id="6907243">(</span><span class="op" id="6907244">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907252">if</span>&nbsp;<span class="ident" id="6907255">result</span>&nbsp;<span class="op" id="6907262">!=</span>&nbsp;<span class="ident" id="6907265">test</span><span class="op" id="6907269">.</span><span class="ident" id="6907270">result</span>&nbsp;<span class="op" id="6907277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907282">t</span><span class="op" id="6907283">.</span><span class="ident" id="6907284">Errorf</span><span class="op" id="6907290">(</span><span class="string" id="6907291">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="6907327">,</span>&nbsp;<span class="ident" id="6907329">test</span><span class="op" id="6907333">.</span><span class="ident" id="6907334">name</span><span class="op" id="6907338">,</span>&nbsp;<span class="ident" id="6907340">test</span><span class="op" id="6907344">.</span><span class="ident" id="6907345">input</span><span class="op" id="6907350">,</span>&nbsp;<span class="ident" id="6907352">result</span><span class="op" id="6907358">,</span>&nbsp;<span class="ident" id="6907360">test</span><span class="op" id="6907364">.</span><span class="ident" id="6907365">result</span><span class="op" id="6907371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907378">}</span><br>
<span class="lineno">295</span><span class="op" id="6907380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6907383">func</span>&nbsp;<span class="ident" id="6907388">TestParse</span><span class="op" id="6907397">(</span><span class="ident" id="6907398">t</span>&nbsp;<span class="op" id="6907400">*</span><span class="ident" id="6907401">testing</span><span class="op" id="6907408">.</span><span class="ident" id="6907409">T</span><span class="op" id="6907410">)</span>&nbsp;<span class="op" id="6907412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907415">testParse</span><span class="op" id="6907424">(</span><span class="builtintype" id="6907425">false</span><span class="op" id="6907430">,</span>&nbsp;<span class="ident" id="6907432">t</span><span class="op" id="6907433">)</span><br>
<span class="lineno"></span><span class="op" id="6907435">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="6907438">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="6907487">func</span>&nbsp;<span class="ident" id="6907492">TestParseCopy</span><span class="op" id="6907505">(</span><span class="ident" id="6907506">t</span>&nbsp;<span class="op" id="6907508">*</span><span class="ident" id="6907509">testing</span><span class="op" id="6907516">.</span><span class="ident" id="6907517">T</span><span class="op" id="6907518">)</span>&nbsp;<span class="op" id="6907520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907523">testParse</span><span class="op" id="6907532">(</span><span class="builtintype" id="6907533">true</span><span class="op" id="6907537">,</span>&nbsp;<span class="ident" id="6907539">t</span><span class="op" id="6907540">)</span><br>
<span class="lineno"></span><span class="op" id="6907542">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="6907545">type</span>&nbsp;<span class="ident" id="6907550">isEmptyTest</span>&nbsp;<span class="keyword" id="6907562">struct</span>&nbsp;<span class="op" id="6907569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907572">name</span>&nbsp;&nbsp;<span class="builtintype" id="6907578">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907586">input</span>&nbsp;<span class="builtintype" id="6907592">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907600">empty</span>&nbsp;<span class="builtintype" id="6907606">bool</span><br>
<span class="lineno">310</span><span class="op" id="6907611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6907614">var</span>&nbsp;<span class="ident" id="6907618">isEmptyTests</span>&nbsp;<span class="op" id="6907631">=</span>&nbsp;<span class="op" id="6907633">[</span><span class="op" id="6907634">]</span><span class="ident" id="6907635">isEmptyTest</span><span class="op" id="6907646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907649">{</span><span class="string" id="6907650">&#34;empty&#34;</span><span class="op" id="6907657">,</span>&nbsp;<span class="string" id="6907659">``</span><span class="op" id="6907661">,</span>&nbsp;<span class="builtintype" id="6907663">true</span><span class="op" id="6907667">}</span><span class="op" id="6907668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907671">{</span><span class="string" id="6907672">&#34;nonempty&#34;</span><span class="op" id="6907682">,</span>&nbsp;<span class="string" id="6907684">`hello`</span><span class="op" id="6907691">,</span>&nbsp;<span class="builtintype" id="6907693">false</span><span class="op" id="6907698">}</span><span class="op" id="6907699">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907702">{</span><span class="string" id="6907703">&#34;spaces&nbsp;only&#34;</span><span class="op" id="6907716">,</span>&nbsp;<span class="string" id="6907718">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="6907730">,</span>&nbsp;<span class="builtintype" id="6907732">true</span><span class="op" id="6907736">}</span><span class="op" id="6907737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907740">{</span><span class="string" id="6907741">&#34;definition&#34;</span><span class="op" id="6907753">,</span>&nbsp;<span class="string" id="6907755">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="6907787">,</span>&nbsp;<span class="builtintype" id="6907789">true</span><span class="op" id="6907793">}</span><span class="op" id="6907794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907797">{</span><span class="string" id="6907798">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="6907821">,</span>&nbsp;<span class="string" id="6907823">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="6907893">,</span>&nbsp;<span class="builtintype" id="6907895">true</span><span class="op" id="6907899">}</span><span class="op" id="6907900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907903">{</span><span class="string" id="6907904">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="6907926">,</span>&nbsp;<span class="string" id="6907928">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="6908000">,</span>&nbsp;<span class="builtintype" id="6908002">false</span><span class="op" id="6908007">}</span><span class="op" id="6908008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908011">{</span><span class="string" id="6908012">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="6908035">,</span>&nbsp;<span class="string" id="6908037">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="6908087">,</span>&nbsp;<span class="builtintype" id="6908089">false</span><span class="op" id="6908094">}</span><span class="op" id="6908095">,</span><br>
<span class="lineno">320</span><span class="op" id="6908097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6908100">func</span>&nbsp;<span class="ident" id="6908105">TestIsEmpty</span><span class="op" id="6908116">(</span><span class="ident" id="6908117">t</span>&nbsp;<span class="op" id="6908119">*</span><span class="ident" id="6908120">testing</span><span class="op" id="6908127">.</span><span class="ident" id="6908128">T</span><span class="op" id="6908129">)</span>&nbsp;<span class="op" id="6908131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908134">if</span>&nbsp;<span class="op" id="6908137">!</span><span class="ident" id="6908138">IsEmptyTree</span><span class="op" id="6908149">(</span><span class="ident" id="6908150">nil</span><span class="op" id="6908153">)</span>&nbsp;<span class="op" id="6908155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908159">t</span><span class="op" id="6908160">.</span><span class="ident" id="6908161">Errorf</span><span class="op" id="6908167">(</span><span class="string" id="6908168">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="6908191">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908197">for</span>&nbsp;<span class="ident" id="6908201">_</span><span class="op" id="6908202">,</span>&nbsp;<span class="ident" id="6908204">test</span>&nbsp;<span class="op" id="6908209">:=</span>&nbsp;<span class="keyword" id="6908212">range</span>&nbsp;<span class="ident" id="6908218">isEmptyTests</span>&nbsp;<span class="op" id="6908231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908235">tree</span><span class="op" id="6908239">,</span>&nbsp;<span class="ident" id="6908241">err</span>&nbsp;<span class="op" id="6908245">:=</span>&nbsp;<span class="ident" id="6908248">New</span><span class="op" id="6908251">(</span><span class="string" id="6908252">&#34;root&#34;</span><span class="op" id="6908258">)</span><span class="op" id="6908259">.</span><span class="ident" id="6908260">Parse</span><span class="op" id="6908265">(</span><span class="ident" id="6908266">test</span><span class="op" id="6908270">.</span><span class="ident" id="6908271">input</span><span class="op" id="6908276">,</span>&nbsp;<span class="string" id="6908278">&#34;&#34;</span><span class="op" id="6908280">,</span>&nbsp;<span class="string" id="6908282">&#34;&#34;</span><span class="op" id="6908284">,</span>&nbsp;<span class="builtinfunc" id="6908286">make</span><span class="op" id="6908290">(</span><span class="keyword" id="6908291">map</span><span class="op" id="6908294">[</span><span class="builtintype" id="6908295">string</span><span class="op" id="6908301">]</span><span class="op" id="6908302">*</span><span class="ident" id="6908303">Tree</span><span class="op" id="6908307">)</span><span class="op" id="6908308">,</span>&nbsp;<span class="ident" id="6908310">nil</span><span class="op" id="6908313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908317">if</span>&nbsp;<span class="ident" id="6908320">err</span>&nbsp;<span class="op" id="6908324">!=</span>&nbsp;<span class="ident" id="6908327">nil</span>&nbsp;<span class="op" id="6908331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908336">t</span><span class="op" id="6908337">.</span><span class="ident" id="6908338">Errorf</span><span class="op" id="6908344">(</span><span class="string" id="6908345">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6908371">,</span>&nbsp;<span class="ident" id="6908373">test</span><span class="op" id="6908377">.</span><span class="ident" id="6908378">name</span><span class="op" id="6908382">,</span>&nbsp;<span class="ident" id="6908384">err</span><span class="op" id="6908387">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908392">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908407">if</span>&nbsp;<span class="ident" id="6908410">empty</span>&nbsp;<span class="op" id="6908416">:=</span>&nbsp;<span class="ident" id="6908419">IsEmptyTree</span><span class="op" id="6908430">(</span><span class="ident" id="6908431">tree</span><span class="op" id="6908435">.</span><span class="ident" id="6908436">Root</span><span class="op" id="6908440">)</span><span class="op" id="6908441">;</span>&nbsp;<span class="ident" id="6908443">empty</span>&nbsp;<span class="op" id="6908449">!=</span>&nbsp;<span class="ident" id="6908452">test</span><span class="op" id="6908456">.</span><span class="ident" id="6908457">empty</span>&nbsp;<span class="op" id="6908463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908468">t</span><span class="op" id="6908469">.</span><span class="ident" id="6908470">Errorf</span><span class="op" id="6908476">(</span><span class="string" id="6908477">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="6908501">,</span>&nbsp;<span class="ident" id="6908503">test</span><span class="op" id="6908507">.</span><span class="ident" id="6908508">name</span><span class="op" id="6908512">,</span>&nbsp;<span class="ident" id="6908514">test</span><span class="op" id="6908518">.</span><span class="ident" id="6908519">empty</span><span class="op" id="6908524">,</span>&nbsp;<span class="ident" id="6908526">empty</span><span class="op" id="6908531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908535">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908538">}</span><br>
<span class="lineno"></span><span class="op" id="6908540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6908543">func</span>&nbsp;<span class="ident" id="6908548">TestErrorContextWithTreeCopy</span><span class="op" id="6908576">(</span><span class="ident" id="6908577">t</span>&nbsp;<span class="op" id="6908579">*</span><span class="ident" id="6908580">testing</span><span class="op" id="6908587">.</span><span class="ident" id="6908588">T</span><span class="op" id="6908589">)</span>&nbsp;<span class="op" id="6908591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908594">tree</span><span class="op" id="6908598">,</span>&nbsp;<span class="ident" id="6908600">err</span>&nbsp;<span class="op" id="6908604">:=</span>&nbsp;<span class="ident" id="6908607">New</span><span class="op" id="6908610">(</span><span class="string" id="6908611">&#34;root&#34;</span><span class="op" id="6908617">)</span><span class="op" id="6908618">.</span><span class="ident" id="6908619">Parse</span><span class="op" id="6908624">(</span><span class="string" id="6908625">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="6908645">,</span>&nbsp;<span class="string" id="6908647">&#34;&#34;</span><span class="op" id="6908649">,</span>&nbsp;<span class="string" id="6908651">&#34;&#34;</span><span class="op" id="6908653">,</span>&nbsp;<span class="builtinfunc" id="6908655">make</span><span class="op" id="6908659">(</span><span class="keyword" id="6908660">map</span><span class="op" id="6908663">[</span><span class="builtintype" id="6908664">string</span><span class="op" id="6908670">]</span><span class="op" id="6908671">*</span><span class="ident" id="6908672">Tree</span><span class="op" id="6908676">)</span><span class="op" id="6908677">,</span>&nbsp;<span class="ident" id="6908679">nil</span><span class="op" id="6908682">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908685">if</span>&nbsp;<span class="ident" id="6908688">err</span>&nbsp;<span class="op" id="6908692">!=</span>&nbsp;<span class="ident" id="6908695">nil</span>&nbsp;<span class="op" id="6908699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908703">t</span><span class="op" id="6908704">.</span><span class="ident" id="6908705">Fatalf</span><span class="op" id="6908711">(</span><span class="string" id="6908712">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="6908747">,</span>&nbsp;<span class="ident" id="6908749">err</span><span class="op" id="6908752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908758">treeCopy</span>&nbsp;<span class="op" id="6908767">:=</span>&nbsp;<span class="ident" id="6908770">tree</span><span class="op" id="6908774">.</span><span class="ident" id="6908775">Copy</span><span class="op" id="6908779">(</span><span class="op" id="6908780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908783">wantLocation</span><span class="op" id="6908795">,</span>&nbsp;<span class="ident" id="6908797">wantContext</span>&nbsp;<span class="op" id="6908809">:=</span>&nbsp;<span class="ident" id="6908812">tree</span><span class="op" id="6908816">.</span><span class="ident" id="6908817">ErrorContext</span><span class="op" id="6908829">(</span><span class="ident" id="6908830">tree</span><span class="op" id="6908834">.</span><span class="ident" id="6908835">Root</span><span class="op" id="6908839">.</span><span class="ident" id="6908840">Nodes</span><span class="op" id="6908845">[</span><span class="num" id="6908846">0</span><span class="op" id="6908847">]</span><span class="op" id="6908848">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908851">gotLocation</span><span class="op" id="6908862">,</span>&nbsp;<span class="ident" id="6908864">gotContext</span>&nbsp;<span class="op" id="6908875">:=</span>&nbsp;<span class="ident" id="6908878">treeCopy</span><span class="op" id="6908886">.</span><span class="ident" id="6908887">ErrorContext</span><span class="op" id="6908899">(</span><span class="ident" id="6908900">treeCopy</span><span class="op" id="6908908">.</span><span class="ident" id="6908909">Root</span><span class="op" id="6908913">.</span><span class="ident" id="6908914">Nodes</span><span class="op" id="6908919">[</span><span class="num" id="6908920">0</span><span class="op" id="6908921">]</span><span class="op" id="6908922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908925">if</span>&nbsp;<span class="ident" id="6908928">wantLocation</span>&nbsp;<span class="op" id="6908941">!=</span>&nbsp;<span class="ident" id="6908944">gotLocation</span>&nbsp;<span class="op" id="6908956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908960">t</span><span class="op" id="6908961">.</span><span class="ident" id="6908962">Errorf</span><span class="op" id="6908968">(</span><span class="string" id="6908969">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6909006">,</span>&nbsp;<span class="ident" id="6909008">wantLocation</span><span class="op" id="6909020">,</span>&nbsp;<span class="ident" id="6909022">gotLocation</span><span class="op" id="6909033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6909039">if</span>&nbsp;<span class="ident" id="6909042">wantContext</span>&nbsp;<span class="op" id="6909054">!=</span>&nbsp;<span class="ident" id="6909057">gotContext</span>&nbsp;<span class="op" id="6909068">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909072">t</span><span class="op" id="6909073">.</span><span class="ident" id="6909074">Errorf</span><span class="op" id="6909080">(</span><span class="string" id="6909081">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6909118">,</span>&nbsp;<span class="ident" id="6909120">wantContext</span><span class="op" id="6909131">,</span>&nbsp;<span class="ident" id="6909133">gotContext</span><span class="op" id="6909143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909146">}</span><br>
<span class="lineno"></span><span class="op" id="6909148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6909151">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="6909234">var</span>&nbsp;<span class="ident" id="6909238">errorTests</span>&nbsp;<span class="op" id="6909249">=</span>&nbsp;<span class="op" id="6909251">[</span><span class="op" id="6909252">]</span><span class="ident" id="6909253">parseTest</span><span class="op" id="6909262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6909265">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909302">{</span><span class="string" id="6909303">&#34;unclosed1&#34;</span><span class="op" id="6909314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909318">&#34;line1\n{{&#34;</span><span class="op" id="6909329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909333">hasError</span><span class="op" id="6909341">,</span>&nbsp;<span class="string" id="6909343">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6909395">}</span><span class="op" id="6909396">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909399">{</span><span class="string" id="6909400">&#34;unclosed2&#34;</span><span class="op" id="6909411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909415">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="6909447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909451">hasError</span><span class="op" id="6909459">,</span>&nbsp;<span class="string" id="6909461">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6909513">}</span><span class="op" id="6909514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6909517">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909538">{</span><span class="string" id="6909539">&#34;function&#34;</span><span class="op" id="6909549">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909553">&#34;{{foo}}&#34;</span><span class="op" id="6909562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909566">hasError</span><span class="op" id="6909574">,</span>&nbsp;<span class="string" id="6909576">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="6909604">}</span><span class="op" id="6909605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909608">{</span><span class="string" id="6909609">&#34;comment&#34;</span><span class="op" id="6909618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909622">&#34;{{/*}}&#34;</span><span class="op" id="6909630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909634">hasError</span><span class="op" id="6909642">,</span>&nbsp;<span class="string" id="6909644">`unclosed&nbsp;comment`</span><span class="op" id="6909662">}</span><span class="op" id="6909663">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909666">{</span><span class="string" id="6909667">&#34;lparen&#34;</span><span class="op" id="6909675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909679">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="6909694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909698">hasError</span><span class="op" id="6909706">,</span>&nbsp;<span class="string" id="6909708">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="6909729">}</span><span class="op" id="6909730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909733">{</span><span class="string" id="6909734">&#34;rparen&#34;</span><span class="op" id="6909742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909746">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="6909761">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909765">hasError</span><span class="op" id="6909773">,</span>&nbsp;<span class="string" id="6909775">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="6909791">}</span><span class="op" id="6909792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909795">{</span><span class="string" id="6909796">&#34;space&#34;</span><span class="op" id="6909803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909807">&#34;{{`x`3}}&#34;</span><span class="op" id="6909817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909821">hasError</span><span class="op" id="6909829">,</span>&nbsp;<span class="string" id="6909831">`missing&nbsp;space?`</span><span class="op" id="6909847">}</span><span class="op" id="6909848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909851">{</span><span class="string" id="6909852">&#34;idchar&#34;</span><span class="op" id="6909860">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909864">&#34;{{a#}}&#34;</span><span class="op" id="6909872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909876">hasError</span><span class="op" id="6909884">,</span>&nbsp;<span class="string" id="6909886">`&#39;#&#39;`</span><span class="op" id="6909891">}</span><span class="op" id="6909892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909895">{</span><span class="string" id="6909896">&#34;charconst&#34;</span><span class="op" id="6909907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909911">&#34;{{&#39;a}}&#34;</span><span class="op" id="6909919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909923">hasError</span><span class="op" id="6909931">,</span>&nbsp;<span class="string" id="6909933">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="6909966">}</span><span class="op" id="6909967">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909970">{</span><span class="string" id="6909971">&#34;stringconst&#34;</span><span class="op" id="6909984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6909988">`{{&#34;a}}`</span><span class="op" id="6909996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910000">hasError</span><span class="op" id="6910008">,</span>&nbsp;<span class="string" id="6910010">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="6910038">}</span><span class="op" id="6910039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910042">{</span><span class="string" id="6910043">&#34;rawstringconst&#34;</span><span class="op" id="6910059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6910063">&#34;{{`a}}&#34;</span><span class="op" id="6910071">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910075">hasError</span><span class="op" id="6910083">,</span>&nbsp;<span class="string" id="6910085">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="6910117">}</span><span class="op" id="6910118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910121">{</span><span class="string" id="6910122">&#34;number&#34;</span><span class="op" id="6910130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6910134">&#34;{{0xi}}&#34;</span><span class="op" id="6910143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910147">hasError</span><span class="op" id="6910155">,</span>&nbsp;<span class="string" id="6910157">`number&nbsp;syntax`</span><span class="op" id="6910172">}</span><span class="op" id="6910173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910176">{</span><span class="string" id="6910177">&#34;multidefine&#34;</span><span class="op" id="6910190">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6910194">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="6910240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910244">hasError</span><span class="op" id="6910252">,</span>&nbsp;<span class="string" id="6910254">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="6910287">}</span><span class="op" id="6910288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910291">{</span><span class="string" id="6910292">&#34;eof&#34;</span><span class="op" id="6910297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6910301">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="6910315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910319">hasError</span><span class="op" id="6910327">,</span>&nbsp;<span class="string" id="6910329">`unexpected&nbsp;EOF`</span><span class="op" id="6910345">}</span><span class="op" id="6910346">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910349">{</span><span class="string" id="6910350">&#34;variable&#34;</span><span class="op" id="6910360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6910364">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6910463">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6910511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910515">hasError</span><span class="op" id="6910523">,</span>&nbsp;<span class="string" id="6910525">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="6910542">}</span><span class="op" id="6910543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910546">{</span><span class="string" id="6910547">&#34;multidecl&#34;</span><span class="op" id="6910558">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6910562">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="6910582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910586">hasError</span><span class="op" id="6910594">,</span>&nbsp;<span class="string" id="6910596">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="6910619">}</span><span class="op" id="6910620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910623">{</span><span class="string" id="6910624">&#34;undefvar&#34;</span><span class="op" id="6910634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6910638">&#34;{{$a}}&#34;</span><span class="op" id="6910646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910650">hasError</span><span class="op" id="6910658">,</span>&nbsp;<span class="string" id="6910660">`undefined&nbsp;variable`</span><span class="op" id="6910680">}</span><span class="op" id="6910681">,</span><br>
<span class="lineno">410</span><span class="op" id="6910683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6910686">func</span>&nbsp;<span class="ident" id="6910691">TestErrors</span><span class="op" id="6910701">(</span><span class="ident" id="6910702">t</span>&nbsp;<span class="op" id="6910704">*</span><span class="ident" id="6910705">testing</span><span class="op" id="6910712">.</span><span class="ident" id="6910713">T</span><span class="op" id="6910714">)</span>&nbsp;<span class="op" id="6910716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910719">for</span>&nbsp;<span class="ident" id="6910723">_</span><span class="op" id="6910724">,</span>&nbsp;<span class="ident" id="6910726">test</span>&nbsp;<span class="op" id="6910731">:=</span>&nbsp;<span class="keyword" id="6910734">range</span>&nbsp;<span class="ident" id="6910740">errorTests</span>&nbsp;<span class="op" id="6910751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910755">_</span><span class="op" id="6910756">,</span>&nbsp;<span class="ident" id="6910758">err</span>&nbsp;<span class="op" id="6910762">:=</span>&nbsp;<span class="ident" id="6910765">New</span><span class="op" id="6910768">(</span><span class="ident" id="6910769">test</span><span class="op" id="6910773">.</span><span class="ident" id="6910774">name</span><span class="op" id="6910778">)</span><span class="op" id="6910779">.</span><span class="ident" id="6910780">Parse</span><span class="op" id="6910785">(</span><span class="ident" id="6910786">test</span><span class="op" id="6910790">.</span><span class="ident" id="6910791">input</span><span class="op" id="6910796">,</span>&nbsp;<span class="string" id="6910798">&#34;&#34;</span><span class="op" id="6910800">,</span>&nbsp;<span class="string" id="6910802">&#34;&#34;</span><span class="op" id="6910804">,</span>&nbsp;<span class="builtinfunc" id="6910806">make</span><span class="op" id="6910810">(</span><span class="keyword" id="6910811">map</span><span class="op" id="6910814">[</span><span class="builtintype" id="6910815">string</span><span class="op" id="6910821">]</span><span class="op" id="6910822">*</span><span class="ident" id="6910823">Tree</span><span class="op" id="6910827">)</span><span class="op" id="6910828">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910832">if</span>&nbsp;<span class="ident" id="6910835">err</span>&nbsp;<span class="op" id="6910839">==</span>&nbsp;<span class="ident" id="6910842">nil</span>&nbsp;<span class="op" id="6910846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910851">t</span><span class="op" id="6910852">.</span><span class="ident" id="6910853">Errorf</span><span class="op" id="6910859">(</span><span class="string" id="6910860">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="6910880">,</span>&nbsp;<span class="ident" id="6910882">test</span><span class="op" id="6910886">.</span><span class="ident" id="6910887">name</span><span class="op" id="6910891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910896">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910911">if</span>&nbsp;<span class="op" id="6910914">!</span><span class="ident" id="6910915">strings</span><span class="op" id="6910922">.</span><span class="ident" id="6910923">Contains</span><span class="op" id="6910931">(</span><span class="ident" id="6910932">err</span><span class="op" id="6910935">.</span><span class="ident" id="6910936">Error</span><span class="op" id="6910941">(</span><span class="op" id="6910942">)</span><span class="op" id="6910943">,</span>&nbsp;<span class="ident" id="6910945">test</span><span class="op" id="6910949">.</span><span class="ident" id="6910950">result</span><span class="op" id="6910956">)</span>&nbsp;<span class="op" id="6910958">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910963">t</span><span class="op" id="6910964">.</span><span class="ident" id="6910965">Errorf</span><span class="op" id="6910971">(</span><span class="string" id="6910972">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="6911006">,</span>&nbsp;<span class="ident" id="6911008">test</span><span class="op" id="6911012">.</span><span class="ident" id="6911013">name</span><span class="op" id="6911017">,</span>&nbsp;<span class="ident" id="6911019">err</span><span class="op" id="6911022">,</span>&nbsp;<span class="ident" id="6911024">test</span><span class="op" id="6911028">.</span><span class="ident" id="6911029">result</span><span class="op" id="6911035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911042">}</span><br>
<span class="lineno"></span><span class="op" id="6911044">}</span>
</div>
</body>
</html>
