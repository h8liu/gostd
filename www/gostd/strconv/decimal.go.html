<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strconv</h2>
<ul>
<li><a href="/gostd/strconv/atob.go.html">atob.go</a></li>
<li><a href="/gostd/strconv/atob_test.go.html">atob_test.go</a></li>
<li><a href="/gostd/strconv/atof.go.html">atof.go</a></li>
<li><a href="/gostd/strconv/atof_test.go.html">atof_test.go</a></li>
<li><a href="/gostd/strconv/atoi.go.html">atoi.go</a></li>
<li><a href="/gostd/strconv/atoi_test.go.html">atoi_test.go</a></li>
<li><a href="/gostd/strconv/decimal.go.html" class="current">decimal.go</a></li>
<li><a href="/gostd/strconv/decimal_test.go.html">decimal_test.go</a></li>
<li><a href="/gostd/strconv/extfloat.go.html">extfloat.go</a></li>
<li><a href="/gostd/strconv/fp_test.go.html">fp_test.go</a></li>
<li><a href="/gostd/strconv/ftoa.go.html">ftoa.go</a></li>
<li><a href="/gostd/strconv/ftoa_test.go.html">ftoa_test.go</a></li>
<li><a href="/gostd/strconv/internal_test.go.html">internal_test.go</a></li>
<li><a href="/gostd/strconv/isprint.go.html">isprint.go</a></li>
<li><a href="/gostd/strconv/itoa.go.html">itoa.go</a></li>
<li><a href="/gostd/strconv/itoa_test.go.html">itoa_test.go</a></li>
<li><a href="/gostd/strconv/quote.go.html">quote.go</a></li>
<li><a href="/gostd/strconv/quote_example_test.go.html">quote_example_test.go</a></li>
<li><a href="/gostd/strconv/quote_test.go.html">quote_test.go</a></li>
<li><a href="/gostd/strconv/strconv_test.go.html">strconv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2357125">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2357180">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2357234">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2357285">//&nbsp;Multiprecision&nbsp;decimal&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="comment" id="2357320">//&nbsp;For&nbsp;floating-point&nbsp;formatting&nbsp;only;&nbsp;not&nbsp;general&nbsp;purpose.</span><br>
<span class="lineno"></span><span class="comment" id="2357380">//&nbsp;Only&nbsp;operations&nbsp;are&nbsp;assign&nbsp;and&nbsp;(binary)&nbsp;left/right&nbsp;shift.</span><br>
<span class="lineno"></span><span class="comment" id="2357441">//&nbsp;Can&nbsp;do&nbsp;binary&nbsp;floating&nbsp;point&nbsp;in&nbsp;multiprecision&nbsp;decimal&nbsp;precisely</span><br>
<span class="lineno"></span><span class="comment" id="2357509">//&nbsp;because&nbsp;2&nbsp;divides&nbsp;10;&nbsp;cannot&nbsp;do&nbsp;decimal&nbsp;floating&nbsp;point</span><br>
<span class="lineno">10</span><span class="comment" id="2357567">//&nbsp;in&nbsp;multiprecision&nbsp;binary&nbsp;precisely.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2357607">package</span>&nbsp;<span class="ident" id="2357615">strconv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2357624">type</span>&nbsp;<span class="ident" id="2357629">decimal</span>&nbsp;<span class="keyword" id="2357637">struct</span>&nbsp;<span class="op" id="2357644">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357647">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2357653">[</span><span class="num" id="2357654">800</span><span class="op" id="2357657">]</span><span class="builtintype" id="2357658">byte</span>&nbsp;<span class="comment" id="2357663">//&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357674">nd</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2357680">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357690">//&nbsp;number&nbsp;of&nbsp;digits&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357716">dp</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2357722">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2357732">//&nbsp;decimal&nbsp;point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357750">neg</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2357756">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357762">trunc</span>&nbsp;<span class="builtintype" id="2357768">bool</span>&nbsp;<span class="comment" id="2357773">//&nbsp;discarded&nbsp;nonzero&nbsp;digits&nbsp;beyond&nbsp;d[:nd]</span><br>
<span class="lineno">20</span><span class="op" id="2357815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2357818">func</span>&nbsp;<span class="op" id="2357823">(</span><span class="ident" id="2357824">a</span>&nbsp;<span class="op" id="2357826">*</span><span class="ident" id="2357827"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2357834">)</span>&nbsp;<span class="ident" id="2357836">String</span><span class="op" id="2357842">(</span><span class="op" id="2357843">)</span>&nbsp;<span class="builtintype" id="2357845">string</span>&nbsp;<span class="op" id="2357852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357855">n</span>&nbsp;<span class="op" id="2357857">:=</span>&nbsp;<span class="num" id="2357860">10</span>&nbsp;<span class="op" id="2357863">+</span>&nbsp;<span class="ident" id="2357865"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2357866">.</span><span class="ident" id="2357867"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2357871">if</span>&nbsp;<span class="ident" id="2357874"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2357875">.</span><span class="ident" id="2357876"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2357879">&gt;</span>&nbsp;<span class="num" id="2357881">0</span>&nbsp;<span class="op" id="2357883">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357887"><a href="/gostd/strconv/decimal.go.html#2357855">n</a></span>&nbsp;<span class="op" id="2357889">+=</span>&nbsp;<span class="ident" id="2357892"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2357893">.</span><span class="ident" id="2357894"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2357898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2357901">if</span>&nbsp;<span class="ident" id="2357904"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2357905">.</span><span class="ident" id="2357906"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2357909">&lt;</span>&nbsp;<span class="num" id="2357911">0</span>&nbsp;<span class="op" id="2357913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357917"><a href="/gostd/strconv/decimal.go.html#2357855">n</a></span>&nbsp;<span class="op" id="2357919">+=</span>&nbsp;<span class="op" id="2357922">-</span><span class="ident" id="2357923"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2357924">.</span><span class="ident" id="2357925"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2357929">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357933">buf</span>&nbsp;<span class="op" id="2357937">:=</span>&nbsp;<span class="builtinfunc" id="2357940">make</span><span class="op" id="2357944">(</span><span class="op" id="2357945">[</span><span class="op" id="2357946">]</span><span class="builtintype" id="2357947">byte</span><span class="op" id="2357951">,</span>&nbsp;<span class="ident" id="2357953"><a href="/gostd/strconv/decimal.go.html#2357855">n</a></span><span class="op" id="2357954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2357957">w</span>&nbsp;<span class="op" id="2357959">:=</span>&nbsp;<span class="num" id="2357962">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2357965">switch</span>&nbsp;<span class="op" id="2357972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2357975">case</span>&nbsp;<span class="ident" id="2357980"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2357981">.</span><span class="ident" id="2357982"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2357985">==</span>&nbsp;<span class="num" id="2357988">0</span><span class="op" id="2357989">:</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2357993">return</span>&nbsp;<span class="string" id="2358000">&#34;0&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358006">case</span>&nbsp;<span class="ident" id="2358011"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358012">.</span><span class="ident" id="2358013"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2358016">&lt;=</span>&nbsp;<span class="num" id="2358019">0</span><span class="op" id="2358020">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358024">//&nbsp;zeros&nbsp;fill&nbsp;space&nbsp;between&nbsp;decimal&nbsp;point&nbsp;and&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358079"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358082">[</span><span class="ident" id="2358083"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358084">]</span>&nbsp;<span class="op" id="2358086">=</span>&nbsp;<span class="string" id="2358088">&#39;0&#39;</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358094"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358095">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358100"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358103">[</span><span class="ident" id="2358104"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358105">]</span>&nbsp;<span class="op" id="2358107">=</span>&nbsp;<span class="string" id="2358109">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358115"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358116">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358121"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span>&nbsp;<span class="op" id="2358123">+=</span>&nbsp;<span class="ident" id="2358126"><a href="/gostd/strconv/decimal.go.html#2358514">digitZero</a></span><span class="op" id="2358135">(</span><span class="ident" id="2358136"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358139">[</span><span class="ident" id="2358140"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span>&nbsp;<span class="op" id="2358142">:</span>&nbsp;<span class="ident" id="2358144"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358145">+</span><span class="op" id="2358146">-</span><span class="ident" id="2358147"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358148">.</span><span class="ident" id="2358149"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2358151">]</span><span class="op" id="2358152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358156"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span>&nbsp;<span class="op" id="2358158">+=</span>&nbsp;<span class="builtinfunc" id="2358161">copy</span><span class="op" id="2358165">(</span><span class="ident" id="2358166"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358169">[</span><span class="ident" id="2358170"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358171">:</span><span class="op" id="2358172">]</span><span class="op" id="2358173">,</span>&nbsp;<span class="ident" id="2358175"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358176">.</span><span class="ident" id="2358177"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2358178">[</span><span class="num" id="2358179">0</span><span class="op" id="2358180">:</span><span class="ident" id="2358181"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358182">.</span><span class="ident" id="2358183"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2358185">]</span><span class="op" id="2358186">)</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358190">case</span>&nbsp;<span class="ident" id="2358195"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358196">.</span><span class="ident" id="2358197"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2358200">&lt;</span>&nbsp;<span class="ident" id="2358202"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358203">.</span><span class="ident" id="2358204"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2358206">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358210">//&nbsp;decimal&nbsp;point&nbsp;in&nbsp;middle&nbsp;of&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358249"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span>&nbsp;<span class="op" id="2358251">+=</span>&nbsp;<span class="builtinfunc" id="2358254">copy</span><span class="op" id="2358258">(</span><span class="ident" id="2358259"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358262">[</span><span class="ident" id="2358263"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358264">:</span><span class="op" id="2358265">]</span><span class="op" id="2358266">,</span>&nbsp;<span class="ident" id="2358268"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358269">.</span><span class="ident" id="2358270"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2358271">[</span><span class="num" id="2358272">0</span><span class="op" id="2358273">:</span><span class="ident" id="2358274"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358275">.</span><span class="ident" id="2358276"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2358278">]</span><span class="op" id="2358279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358283"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358286">[</span><span class="ident" id="2358287"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358288">]</span>&nbsp;<span class="op" id="2358290">=</span>&nbsp;<span class="string" id="2358292">&#39;.&#39;</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358298"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358299">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358304"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span>&nbsp;<span class="op" id="2358306">+=</span>&nbsp;<span class="builtinfunc" id="2358309">copy</span><span class="op" id="2358313">(</span><span class="ident" id="2358314"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358317">[</span><span class="ident" id="2358318"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358319">:</span><span class="op" id="2358320">]</span><span class="op" id="2358321">,</span>&nbsp;<span class="ident" id="2358323"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358324">.</span><span class="ident" id="2358325"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2358326">[</span><span class="ident" id="2358327"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358328">.</span><span class="ident" id="2358329"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2358331">:</span><span class="ident" id="2358332"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358333">.</span><span class="ident" id="2358334"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2358336">]</span><span class="op" id="2358337">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358341">default</span><span class="op" id="2358348">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358352">//&nbsp;zeros&nbsp;fill&nbsp;space&nbsp;between&nbsp;digits&nbsp;and&nbsp;decimal&nbsp;point</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358407"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span>&nbsp;<span class="op" id="2358409">+=</span>&nbsp;<span class="builtinfunc" id="2358412">copy</span><span class="op" id="2358416">(</span><span class="ident" id="2358417"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358420">[</span><span class="ident" id="2358421"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358422">:</span><span class="op" id="2358423">]</span><span class="op" id="2358424">,</span>&nbsp;<span class="ident" id="2358426"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358427">.</span><span class="ident" id="2358428"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2358429">[</span><span class="num" id="2358430">0</span><span class="op" id="2358431">:</span><span class="ident" id="2358432"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358433">.</span><span class="ident" id="2358434"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2358436">]</span><span class="op" id="2358437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358441"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span>&nbsp;<span class="op" id="2358443">+=</span>&nbsp;<span class="ident" id="2358446"><a href="/gostd/strconv/decimal.go.html#2358514">digitZero</a></span><span class="op" id="2358455">(</span><span class="ident" id="2358456"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358459">[</span><span class="ident" id="2358460"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span>&nbsp;<span class="op" id="2358462">:</span>&nbsp;<span class="ident" id="2358464"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358465">+</span><span class="ident" id="2358466"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358467">.</span><span class="ident" id="2358468"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2358470">-</span><span class="ident" id="2358471"><a href="/gostd/strconv/decimal.go.html#2357824">a</a></span><span class="op" id="2358472">.</span><span class="ident" id="2358473"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2358475">]</span><span class="op" id="2358476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2358479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358482">return</span>&nbsp;<span class="builtintype" id="2358489">string</span><span class="op" id="2358495">(</span><span class="ident" id="2358496"><a href="/gostd/strconv/decimal.go.html#2357933">buf</a></span><span class="op" id="2358499">[</span><span class="num" id="2358500">0</span><span class="op" id="2358501">:</span><span class="ident" id="2358502"><a href="/gostd/strconv/decimal.go.html#2357957">w</a></span><span class="op" id="2358503">]</span><span class="op" id="2358504">)</span><br>
<span class="lineno"></span><span class="op" id="2358506">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="2358509">func</span>&nbsp;<span class="ident" id="2358514">digitZero</span><span class="op" id="2358523">(</span><span class="ident" id="2358524">dst</span>&nbsp;<span class="op" id="2358528">[</span><span class="op" id="2358529">]</span><span class="builtintype" id="2358530">byte</span><span class="op" id="2358534">)</span>&nbsp;<span class="builtintype" id="2358536">int</span>&nbsp;<span class="op" id="2358540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358543">for</span>&nbsp;<span class="ident" id="2358547">i</span>&nbsp;<span class="op" id="2358549">:=</span>&nbsp;<span class="keyword" id="2358552">range</span>&nbsp;<span class="ident" id="2358558"><a href="/gostd/strconv/decimal.go.html#2358524">dst</a></span>&nbsp;<span class="op" id="2358562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358566"><a href="/gostd/strconv/decimal.go.html#2358524">dst</a></span><span class="op" id="2358569">[</span><span class="ident" id="2358570"><a href="/gostd/strconv/decimal.go.html#2358547">i</a></span><span class="op" id="2358571">]</span>&nbsp;<span class="op" id="2358573">=</span>&nbsp;<span class="string" id="2358575">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2358580">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358583">return</span>&nbsp;<span class="builtinfunc" id="2358590">len</span><span class="op" id="2358593">(</span><span class="ident" id="2358594"><a href="/gostd/strconv/decimal.go.html#2358524">dst</a></span><span class="op" id="2358597">)</span><br>
<span class="lineno"></span><span class="op" id="2358599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2358602">//&nbsp;trim&nbsp;trailing&nbsp;zeros&nbsp;from&nbsp;number.</span><br>
<span class="lineno"></span><span class="comment" id="2358638">//&nbsp;(They&nbsp;are&nbsp;meaningless;&nbsp;the&nbsp;decimal&nbsp;point&nbsp;is&nbsp;tracked</span><br>
<span class="lineno">70</span><span class="comment" id="2358693">//&nbsp;independent&nbsp;of&nbsp;the&nbsp;number&nbsp;of&nbsp;digits.)</span><br>
<span class="lineno"></span><span class="keyword" id="2358734">func</span>&nbsp;<span class="ident" id="2358739">trim</span><span class="op" id="2358743">(</span><span class="ident" id="2358744">a</span>&nbsp;<span class="op" id="2358746">*</span><span class="ident" id="2358747"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2358754">)</span>&nbsp;<span class="op" id="2358756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358759">for</span>&nbsp;<span class="ident" id="2358763"><a href="/gostd/strconv/decimal.go.html#2358744">a</a></span><span class="op" id="2358764">.</span><span class="ident" id="2358765"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2358768">&gt;</span>&nbsp;<span class="num" id="2358770">0</span>&nbsp;<span class="op" id="2358772">&amp;&amp;</span>&nbsp;<span class="ident" id="2358775"><a href="/gostd/strconv/decimal.go.html#2358744">a</a></span><span class="op" id="2358776">.</span><span class="ident" id="2358777"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2358778">[</span><span class="ident" id="2358779"><a href="/gostd/strconv/decimal.go.html#2358744">a</a></span><span class="op" id="2358780">.</span><span class="ident" id="2358781"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2358783">-</span><span class="num" id="2358784">1</span><span class="op" id="2358785">]</span>&nbsp;<span class="op" id="2358787">==</span>&nbsp;<span class="string" id="2358790">&#39;0&#39;</span>&nbsp;<span class="op" id="2358794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358798"><a href="/gostd/strconv/decimal.go.html#2358744">a</a></span><span class="op" id="2358799">.</span><span class="ident" id="2358800"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2358802">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2358806">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358809">if</span>&nbsp;<span class="ident" id="2358812"><a href="/gostd/strconv/decimal.go.html#2358744">a</a></span><span class="op" id="2358813">.</span><span class="ident" id="2358814"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2358817">==</span>&nbsp;<span class="num" id="2358820">0</span>&nbsp;<span class="op" id="2358822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358826"><a href="/gostd/strconv/decimal.go.html#2358744">a</a></span><span class="op" id="2358827">.</span><span class="ident" id="2358828"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2358831">=</span>&nbsp;<span class="num" id="2358833">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2358836">}</span><br>
<span class="lineno"></span><span class="op" id="2358838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="2358841">//&nbsp;Assign&nbsp;v&nbsp;to&nbsp;a.</span><br>
<span class="lineno"></span><span class="keyword" id="2358859">func</span>&nbsp;<span class="op" id="2358864">(</span><span class="ident" id="2358865">a</span>&nbsp;<span class="op" id="2358867">*</span><span class="ident" id="2358868"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2358875">)</span>&nbsp;<span class="ident" id="2358877">Assign</span><span class="op" id="2358883">(</span><span class="ident" id="2358884">v</span>&nbsp;<span class="builtintype" id="2358886">uint64</span><span class="op" id="2358892">)</span>&nbsp;<span class="op" id="2358894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358897">var</span>&nbsp;<span class="ident" id="2358901">buf</span>&nbsp;<span class="op" id="2358905">[</span><span class="num" id="2358906">24</span><span class="op" id="2358908">]</span><span class="builtintype" id="2358909">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2358916">//&nbsp;Write&nbsp;reversed&nbsp;decimal&nbsp;in&nbsp;buf.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358951">n</span>&nbsp;<span class="op" id="2358953">:=</span>&nbsp;<span class="num" id="2358956">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2358959">for</span>&nbsp;<span class="ident" id="2358963"><a href="/gostd/strconv/decimal.go.html#2358884">v</a></span>&nbsp;<span class="op" id="2358965">&gt;</span>&nbsp;<span class="num" id="2358967">0</span>&nbsp;<span class="op" id="2358969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358973">v1</span>&nbsp;<span class="op" id="2358976">:=</span>&nbsp;<span class="ident" id="2358979"><a href="/gostd/strconv/decimal.go.html#2358884">v</a></span>&nbsp;<span class="op" id="2358981">/</span>&nbsp;<span class="num" id="2358983">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2358988"><a href="/gostd/strconv/decimal.go.html#2358884">v</a></span>&nbsp;<span class="op" id="2358990">-=</span>&nbsp;<span class="num" id="2358993">10</span>&nbsp;<span class="op" id="2358996">*</span>&nbsp;<span class="ident" id="2358998"><a href="/gostd/strconv/decimal.go.html#2358973">v1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359003"><a href="/gostd/strconv/decimal.go.html#2358901">buf</a></span><span class="op" id="2359006">[</span><span class="ident" id="2359007"><a href="/gostd/strconv/decimal.go.html#2358951">n</a></span><span class="op" id="2359008">]</span>&nbsp;<span class="op" id="2359010">=</span>&nbsp;<span class="builtintype" id="2359012">byte</span><span class="op" id="2359016">(</span><span class="ident" id="2359017"><a href="/gostd/strconv/decimal.go.html#2358884">v</a></span>&nbsp;<span class="op" id="2359019">+</span>&nbsp;<span class="string" id="2359021">&#39;0&#39;</span><span class="op" id="2359024">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359028"><a href="/gostd/strconv/decimal.go.html#2358951">n</a></span><span class="op" id="2359029">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359034"><a href="/gostd/strconv/decimal.go.html#2358884">v</a></span>&nbsp;<span class="op" id="2359036">=</span>&nbsp;<span class="ident" id="2359038"><a href="/gostd/strconv/decimal.go.html#2358973">v1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2359046">//&nbsp;Reverse&nbsp;again&nbsp;to&nbsp;produce&nbsp;forward&nbsp;decimal&nbsp;in&nbsp;a.d.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359099"><a href="/gostd/strconv/decimal.go.html#2358865">a</a></span><span class="op" id="2359100">.</span><span class="ident" id="2359101"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2359104">=</span>&nbsp;<span class="num" id="2359106">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359109">for</span>&nbsp;<span class="ident" id="2359113"><a href="/gostd/strconv/decimal.go.html#2358951">n</a></span><span class="op" id="2359114">--</span><span class="op" id="2359116">;</span>&nbsp;<span class="ident" id="2359118"><a href="/gostd/strconv/decimal.go.html#2358951">n</a></span>&nbsp;<span class="op" id="2359120">&gt;=</span>&nbsp;<span class="num" id="2359123">0</span><span class="op" id="2359124">;</span>&nbsp;<span class="ident" id="2359126"><a href="/gostd/strconv/decimal.go.html#2358951">n</a></span><span class="op" id="2359127">--</span>&nbsp;<span class="op" id="2359130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359134"><a href="/gostd/strconv/decimal.go.html#2358865">a</a></span><span class="op" id="2359135">.</span><span class="ident" id="2359136"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2359137">[</span><span class="ident" id="2359138"><a href="/gostd/strconv/decimal.go.html#2358865">a</a></span><span class="op" id="2359139">.</span><span class="ident" id="2359140"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2359142">]</span>&nbsp;<span class="op" id="2359144">=</span>&nbsp;<span class="ident" id="2359146"><a href="/gostd/strconv/decimal.go.html#2358901">buf</a></span><span class="op" id="2359149">[</span><span class="ident" id="2359150"><a href="/gostd/strconv/decimal.go.html#2358951">n</a></span><span class="op" id="2359151">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359155"><a href="/gostd/strconv/decimal.go.html#2358865">a</a></span><span class="op" id="2359156">.</span><span class="ident" id="2359157"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2359159">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359163">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359166"><a href="/gostd/strconv/decimal.go.html#2358865">a</a></span><span class="op" id="2359167">.</span><span class="ident" id="2359168"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2359171">=</span>&nbsp;<span class="ident" id="2359173"><a href="/gostd/strconv/decimal.go.html#2358865">a</a></span><span class="op" id="2359174">.</span><span class="ident" id="2359175"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359179"><a href="/gostd/strconv/decimal.go.html#2358739">trim</a></span><span class="op" id="2359183">(</span><span class="ident" id="2359184"><a href="/gostd/strconv/decimal.go.html#2358865">a</a></span><span class="op" id="2359185">)</span><br>
<span class="lineno"></span><span class="op" id="2359187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2359190">//&nbsp;Maximum&nbsp;shift&nbsp;that&nbsp;we&nbsp;can&nbsp;do&nbsp;in&nbsp;one&nbsp;pass&nbsp;without&nbsp;overflow.</span><br>
<span class="lineno">105</span><span class="comment" id="2359252">//&nbsp;Signed&nbsp;int&nbsp;has&nbsp;31&nbsp;bits,&nbsp;and&nbsp;we&nbsp;have&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;accommodate&nbsp;9&lt;&lt;k.</span><br>
<span class="lineno"></span><span class="keyword" id="2359323">const</span>&nbsp;<span class="ident" id="2359329">maxShift</span>&nbsp;<span class="op" id="2359338">=</span>&nbsp;<span class="num" id="2359340">27</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2359344">//&nbsp;Binary&nbsp;shift&nbsp;right&nbsp;(*&nbsp;2)&nbsp;by&nbsp;k&nbsp;bits.&nbsp;&nbsp;k&nbsp;&lt;=&nbsp;maxShift&nbsp;to&nbsp;avoid&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="keyword" id="2359417">func</span>&nbsp;<span class="ident" id="2359422">rightShift</span><span class="op" id="2359432">(</span><span class="ident" id="2359433">a</span>&nbsp;<span class="op" id="2359435">*</span><span class="ident" id="2359436"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2359443">,</span>&nbsp;<span class="ident" id="2359445">k</span>&nbsp;<span class="builtintype" id="2359447">uint</span><span class="op" id="2359451">)</span>&nbsp;<span class="op" id="2359453">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359456">r</span>&nbsp;<span class="op" id="2359458">:=</span>&nbsp;<span class="num" id="2359461">0</span>&nbsp;<span class="comment" id="2359463">//&nbsp;read&nbsp;pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359480">w</span>&nbsp;<span class="op" id="2359482">:=</span>&nbsp;<span class="num" id="2359485">0</span>&nbsp;<span class="comment" id="2359487">//&nbsp;write&nbsp;pointer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2359506">//&nbsp;Pick&nbsp;up&nbsp;enough&nbsp;leading&nbsp;digits&nbsp;to&nbsp;cover&nbsp;first&nbsp;shift.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359562">n</span>&nbsp;<span class="op" id="2359564">:=</span>&nbsp;<span class="num" id="2359567">0</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359570">for</span>&nbsp;<span class="op" id="2359574">;</span>&nbsp;<span class="ident" id="2359576"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span><span class="op" id="2359577">&gt;&gt;</span><span class="ident" id="2359579"><a href="/gostd/strconv/decimal.go.html#2359445">k</a></span>&nbsp;<span class="op" id="2359581">==</span>&nbsp;<span class="num" id="2359584">0</span><span class="op" id="2359585">;</span>&nbsp;<span class="ident" id="2359587"><a href="/gostd/strconv/decimal.go.html#2359456">r</a></span><span class="op" id="2359588">++</span>&nbsp;<span class="op" id="2359591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359595">if</span>&nbsp;<span class="ident" id="2359598"><a href="/gostd/strconv/decimal.go.html#2359456">r</a></span>&nbsp;<span class="op" id="2359600">&gt;=</span>&nbsp;<span class="ident" id="2359603"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2359604">.</span><span class="ident" id="2359605"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2359608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359613">if</span>&nbsp;<span class="ident" id="2359616"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2359618">==</span>&nbsp;<span class="num" id="2359621">0</span>&nbsp;<span class="op" id="2359623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2359629">//&nbsp;a&nbsp;==&nbsp;0;&nbsp;shouldn&#39;t&nbsp;get&nbsp;here,&nbsp;but&nbsp;handle&nbsp;anyway.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359683"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2359684">.</span><span class="ident" id="2359685"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2359688">=</span>&nbsp;<span class="num" id="2359690">0</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359696">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359711">for</span>&nbsp;<span class="ident" id="2359715"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span><span class="op" id="2359716">&gt;&gt;</span><span class="ident" id="2359718"><a href="/gostd/strconv/decimal.go.html#2359445">k</a></span>&nbsp;<span class="op" id="2359720">==</span>&nbsp;<span class="num" id="2359723">0</span>&nbsp;<span class="op" id="2359725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359731"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2359733">=</span>&nbsp;<span class="ident" id="2359735"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2359737">*</span>&nbsp;<span class="num" id="2359739">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359746"><a href="/gostd/strconv/decimal.go.html#2359456">r</a></span><span class="op" id="2359747">++</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359758">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359770">c</span>&nbsp;<span class="op" id="2359772">:=</span>&nbsp;<span class="builtintype" id="2359775">int</span><span class="op" id="2359778">(</span><span class="ident" id="2359779"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2359780">.</span><span class="ident" id="2359781"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2359782">[</span><span class="ident" id="2359783"><a href="/gostd/strconv/decimal.go.html#2359456">r</a></span><span class="op" id="2359784">]</span><span class="op" id="2359785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359789"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2359791">=</span>&nbsp;<span class="ident" id="2359793"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span><span class="op" id="2359794">*</span><span class="num" id="2359795">10</span>&nbsp;<span class="op" id="2359798">+</span>&nbsp;<span class="ident" id="2359800"><a href="/gostd/strconv/decimal.go.html#2359770">c</a></span>&nbsp;<span class="op" id="2359802">-</span>&nbsp;<span class="string" id="2359804">&#39;0&#39;</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359812"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2359813">.</span><span class="ident" id="2359814"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2359817">-=</span>&nbsp;<span class="ident" id="2359820"><a href="/gostd/strconv/decimal.go.html#2359456">r</a></span>&nbsp;<span class="op" id="2359822">-</span>&nbsp;<span class="num" id="2359824">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2359828">//&nbsp;Pick&nbsp;up&nbsp;a&nbsp;digit,&nbsp;put&nbsp;down&nbsp;a&nbsp;digit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2359867">for</span>&nbsp;<span class="op" id="2359871">;</span>&nbsp;<span class="ident" id="2359873"><a href="/gostd/strconv/decimal.go.html#2359456">r</a></span>&nbsp;<span class="op" id="2359875">&lt;</span>&nbsp;<span class="ident" id="2359877"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2359878">.</span><span class="ident" id="2359879"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2359881">;</span>&nbsp;<span class="ident" id="2359883"><a href="/gostd/strconv/decimal.go.html#2359456">r</a></span><span class="op" id="2359884">++</span>&nbsp;<span class="op" id="2359887">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359891">c</span>&nbsp;<span class="op" id="2359893">:=</span>&nbsp;<span class="builtintype" id="2359896">int</span><span class="op" id="2359899">(</span><span class="ident" id="2359900"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2359901">.</span><span class="ident" id="2359902"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2359903">[</span><span class="ident" id="2359904"><a href="/gostd/strconv/decimal.go.html#2359456">r</a></span><span class="op" id="2359905">]</span><span class="op" id="2359906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359910">dig</span>&nbsp;<span class="op" id="2359914">:=</span>&nbsp;<span class="ident" id="2359917"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2359919">&gt;&gt;</span>&nbsp;<span class="ident" id="2359922"><a href="/gostd/strconv/decimal.go.html#2359445">k</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359926"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2359928">-=</span>&nbsp;<span class="ident" id="2359931"><a href="/gostd/strconv/decimal.go.html#2359910">dig</a></span>&nbsp;<span class="op" id="2359935">&lt;&lt;</span>&nbsp;<span class="ident" id="2359938"><a href="/gostd/strconv/decimal.go.html#2359445">k</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359942"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2359943">.</span><span class="ident" id="2359944"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2359945">[</span><span class="ident" id="2359946"><a href="/gostd/strconv/decimal.go.html#2359480">w</a></span><span class="op" id="2359947">]</span>&nbsp;<span class="op" id="2359949">=</span>&nbsp;<span class="builtintype" id="2359951">byte</span><span class="op" id="2359955">(</span><span class="ident" id="2359956"><a href="/gostd/strconv/decimal.go.html#2359910">dig</a></span>&nbsp;<span class="op" id="2359960">+</span>&nbsp;<span class="string" id="2359962">&#39;0&#39;</span><span class="op" id="2359965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359969"><a href="/gostd/strconv/decimal.go.html#2359480">w</a></span><span class="op" id="2359970">++</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2359975"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2359977">=</span>&nbsp;<span class="ident" id="2359979"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span><span class="op" id="2359980">*</span><span class="num" id="2359981">10</span>&nbsp;<span class="op" id="2359984">+</span>&nbsp;<span class="ident" id="2359986"><a href="/gostd/strconv/decimal.go.html#2359891">c</a></span>&nbsp;<span class="op" id="2359988">-</span>&nbsp;<span class="string" id="2359990">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2359995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2359999">//&nbsp;Put&nbsp;down&nbsp;extra&nbsp;digits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360026">for</span>&nbsp;<span class="ident" id="2360030"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2360032">&gt;</span>&nbsp;<span class="num" id="2360034">0</span>&nbsp;<span class="op" id="2360036">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360040">dig</span>&nbsp;<span class="op" id="2360044">:=</span>&nbsp;<span class="ident" id="2360047"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2360049">&gt;&gt;</span>&nbsp;<span class="ident" id="2360052"><a href="/gostd/strconv/decimal.go.html#2359445">k</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360056"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2360058">-=</span>&nbsp;<span class="ident" id="2360061"><a href="/gostd/strconv/decimal.go.html#2360040">dig</a></span>&nbsp;<span class="op" id="2360065">&lt;&lt;</span>&nbsp;<span class="ident" id="2360068"><a href="/gostd/strconv/decimal.go.html#2359445">k</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2360072">if</span>&nbsp;<span class="ident" id="2360075"><a href="/gostd/strconv/decimal.go.html#2359480">w</a></span>&nbsp;<span class="op" id="2360077">&lt;</span>&nbsp;<span class="builtinfunc" id="2360079">len</span><span class="op" id="2360082">(</span><span class="ident" id="2360083"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2360084">.</span><span class="ident" id="2360085"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2360086">)</span>&nbsp;<span class="op" id="2360088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360093"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2360094">.</span><span class="ident" id="2360095"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2360096">[</span><span class="ident" id="2360097"><a href="/gostd/strconv/decimal.go.html#2359480">w</a></span><span class="op" id="2360098">]</span>&nbsp;<span class="op" id="2360100">=</span>&nbsp;<span class="builtintype" id="2360102">byte</span><span class="op" id="2360106">(</span><span class="ident" id="2360107"><a href="/gostd/strconv/decimal.go.html#2360040">dig</a></span>&nbsp;<span class="op" id="2360111">+</span>&nbsp;<span class="string" id="2360113">&#39;0&#39;</span><span class="op" id="2360116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360121"><a href="/gostd/strconv/decimal.go.html#2359480">w</a></span><span class="op" id="2360122">++</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2360127">}</span>&nbsp;<span class="keyword" id="2360129">else</span>&nbsp;<span class="keyword" id="2360134">if</span>&nbsp;<span class="ident" id="2360137"><a href="/gostd/strconv/decimal.go.html#2360040">dig</a></span>&nbsp;<span class="op" id="2360141">&gt;</span>&nbsp;<span class="num" id="2360143">0</span>&nbsp;<span class="op" id="2360145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360150"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2360151">.</span><span class="ident" id="2360152"><a href="/gostd/strconv/decimal.go.html#2357762">trunc</a></span>&nbsp;<span class="op" id="2360158">=</span>&nbsp;<span class="builtintype" id="2360160">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2360167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360171"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2360173">=</span>&nbsp;<span class="ident" id="2360175"><a href="/gostd/strconv/decimal.go.html#2359562">n</a></span>&nbsp;<span class="op" id="2360177">*</span>&nbsp;<span class="num" id="2360179">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2360183">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360187"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2360188">.</span><span class="ident" id="2360189"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2360192">=</span>&nbsp;<span class="ident" id="2360194"><a href="/gostd/strconv/decimal.go.html#2359480">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360197"><a href="/gostd/strconv/decimal.go.html#2358739">trim</a></span><span class="op" id="2360201">(</span><span class="ident" id="2360202"><a href="/gostd/strconv/decimal.go.html#2359433">a</a></span><span class="op" id="2360203">)</span><br>
<span class="lineno"></span><span class="op" id="2360205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="comment" id="2360208">//&nbsp;Cheat&nbsp;sheet&nbsp;for&nbsp;left&nbsp;shift:&nbsp;table&nbsp;indexed&nbsp;by&nbsp;shift&nbsp;count&nbsp;giving</span><br>
<span class="lineno"></span><span class="comment" id="2360275">//&nbsp;number&nbsp;of&nbsp;new&nbsp;digits&nbsp;that&nbsp;will&nbsp;be&nbsp;introduced&nbsp;by&nbsp;that&nbsp;shift.</span><br>
<span class="lineno"></span><span class="comment" id="2360338">//</span><br>
<span class="lineno"></span><span class="comment" id="2360341">//&nbsp;For&nbsp;example,&nbsp;leftcheats[4]&nbsp;=&nbsp;{2,&nbsp;&#34;625&#34;}.&nbsp;&nbsp;That&nbsp;means&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2360402">//&nbsp;if&nbsp;we&nbsp;are&nbsp;shifting&nbsp;by&nbsp;4&nbsp;(multiplying&nbsp;by&nbsp;16),&nbsp;it&nbsp;will&nbsp;add&nbsp;2&nbsp;digits</span><br>
<span class="lineno">165</span><span class="comment" id="2360471">//&nbsp;when&nbsp;the&nbsp;string&nbsp;prefix&nbsp;is&nbsp;&#34;625&#34;&nbsp;through&nbsp;&#34;999&#34;,&nbsp;and&nbsp;one&nbsp;fewer&nbsp;digit</span><br>
<span class="lineno"></span><span class="comment" id="2360541">//&nbsp;if&nbsp;the&nbsp;string&nbsp;prefix&nbsp;is&nbsp;&#34;000&#34;&nbsp;through&nbsp;&#34;624&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="2360589">//</span><br>
<span class="lineno"></span><span class="comment" id="2360592">//&nbsp;Credit&nbsp;for&nbsp;this&nbsp;trick&nbsp;goes&nbsp;to&nbsp;Ken.</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="2360631">type</span>&nbsp;<span class="ident" id="2360636">leftCheat</span>&nbsp;<span class="keyword" id="2360646">struct</span>&nbsp;<span class="op" id="2360653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360656">delta</span>&nbsp;&nbsp;<span class="builtintype" id="2360663">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2360670">//&nbsp;number&nbsp;of&nbsp;new&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2360695">cutoff</span>&nbsp;<span class="builtintype" id="2360702">string</span>&nbsp;<span class="comment" id="2360709">//&nbsp;&nbsp;&nbsp;minus&nbsp;one&nbsp;digit&nbsp;if&nbsp;original&nbsp;&lt;&nbsp;a.</span><br>
<span class="lineno"></span><span class="op" id="2360747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="keyword" id="2360750">var</span>&nbsp;<span class="ident" id="2360754">leftcheats</span>&nbsp;<span class="op" id="2360765">=</span>&nbsp;<span class="op" id="2360767">[</span><span class="op" id="2360768">]</span><span class="ident" id="2360769"><a href="/gostd/strconv/decimal.go.html#2360636">leftCheat</a></span><span class="op" id="2360778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2360781">//&nbsp;Leading&nbsp;digits&nbsp;of&nbsp;1/2^i&nbsp;=&nbsp;5^i.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2360816">//&nbsp;5^23&nbsp;is&nbsp;not&nbsp;an&nbsp;exact&nbsp;64-bit&nbsp;floating&nbsp;point&nbsp;number,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2360871">//&nbsp;so&nbsp;have&nbsp;to&nbsp;use&nbsp;bc&nbsp;for&nbsp;the&nbsp;math.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2360907">/*<br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seq&nbsp;27&nbsp;|&nbsp;sed&nbsp;&#39;s/^/5^/&#39;&nbsp;|&nbsp;bc&nbsp;|<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awk&nbsp;&#39;BEGIN{&nbsp;print&nbsp;&#34;\tleftCheat{&nbsp;0,&nbsp;\&#34;\&#34;&nbsp;},&#34;&nbsp;}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log2&nbsp;=&nbsp;log(2)/log(10)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&#34;\tleftCheat{&nbsp;%d,&nbsp;\&#34;%s\&#34;&nbsp;},\t//&nbsp;*&nbsp;%d\n&#34;,<br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int(log2*NR+1),&nbsp;$0,&nbsp;2**NR)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&#39;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361111">{</span><span class="num" id="2361112">0</span><span class="op" id="2361113">,</span>&nbsp;<span class="string" id="2361115">&#34;&#34;</span><span class="op" id="2361117">}</span><span class="op" id="2361118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361121">{</span><span class="num" id="2361122">1</span><span class="op" id="2361123">,</span>&nbsp;<span class="string" id="2361125">&#34;5&#34;</span><span class="op" id="2361128">}</span><span class="op" id="2361129">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361149">//&nbsp;*&nbsp;2</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361157">{</span><span class="num" id="2361158">1</span><span class="op" id="2361159">,</span>&nbsp;<span class="string" id="2361161">&#34;25&#34;</span><span class="op" id="2361165">}</span><span class="op" id="2361166">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361185">//&nbsp;*&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361193">{</span><span class="num" id="2361194">1</span><span class="op" id="2361195">,</span>&nbsp;<span class="string" id="2361197">&#34;125&#34;</span><span class="op" id="2361202">}</span><span class="op" id="2361203">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361221">//&nbsp;*&nbsp;8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361229">{</span><span class="num" id="2361230">2</span><span class="op" id="2361231">,</span>&nbsp;<span class="string" id="2361233">&#34;625&#34;</span><span class="op" id="2361238">}</span><span class="op" id="2361239">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361257">//&nbsp;*&nbsp;16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361266">{</span><span class="num" id="2361267">2</span><span class="op" id="2361268">,</span>&nbsp;<span class="string" id="2361270">&#34;3125&#34;</span><span class="op" id="2361276">}</span><span class="op" id="2361277">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361294">//&nbsp;*&nbsp;32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361303">{</span><span class="num" id="2361304">2</span><span class="op" id="2361305">,</span>&nbsp;<span class="string" id="2361307">&#34;15625&#34;</span><span class="op" id="2361314">}</span><span class="op" id="2361315">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361331">//&nbsp;*&nbsp;64</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361340">{</span><span class="num" id="2361341">3</span><span class="op" id="2361342">,</span>&nbsp;<span class="string" id="2361344">&#34;78125&#34;</span><span class="op" id="2361351">}</span><span class="op" id="2361352">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361368">//&nbsp;*&nbsp;128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361378">{</span><span class="num" id="2361379">3</span><span class="op" id="2361380">,</span>&nbsp;<span class="string" id="2361382">&#34;390625&#34;</span><span class="op" id="2361390">}</span><span class="op" id="2361391">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361406">//&nbsp;*&nbsp;256</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361416">{</span><span class="num" id="2361417">3</span><span class="op" id="2361418">,</span>&nbsp;<span class="string" id="2361420">&#34;1953125&#34;</span><span class="op" id="2361429">}</span><span class="op" id="2361430">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361444">//&nbsp;*&nbsp;512</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361454">{</span><span class="num" id="2361455">4</span><span class="op" id="2361456">,</span>&nbsp;<span class="string" id="2361458">&#34;9765625&#34;</span><span class="op" id="2361467">}</span><span class="op" id="2361468">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361482">//&nbsp;*&nbsp;1024</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361493">{</span><span class="num" id="2361494">4</span><span class="op" id="2361495">,</span>&nbsp;<span class="string" id="2361497">&#34;48828125&#34;</span><span class="op" id="2361507">}</span><span class="op" id="2361508">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361521">//&nbsp;*&nbsp;2048</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361532">{</span><span class="num" id="2361533">4</span><span class="op" id="2361534">,</span>&nbsp;<span class="string" id="2361536">&#34;244140625&#34;</span><span class="op" id="2361547">}</span><span class="op" id="2361548">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361560">//&nbsp;*&nbsp;4096</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361571">{</span><span class="num" id="2361572">4</span><span class="op" id="2361573">,</span>&nbsp;<span class="string" id="2361575">&#34;1220703125&#34;</span><span class="op" id="2361587">}</span><span class="op" id="2361588">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361599">//&nbsp;*&nbsp;8192</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361610">{</span><span class="num" id="2361611">5</span><span class="op" id="2361612">,</span>&nbsp;<span class="string" id="2361614">&#34;6103515625&#34;</span><span class="op" id="2361626">}</span><span class="op" id="2361627">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361638">//&nbsp;*&nbsp;16384</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361650">{</span><span class="num" id="2361651">5</span><span class="op" id="2361652">,</span>&nbsp;<span class="string" id="2361654">&#34;30517578125&#34;</span><span class="op" id="2361667">}</span><span class="op" id="2361668">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361678">//&nbsp;*&nbsp;32768</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361690">{</span><span class="num" id="2361691">5</span><span class="op" id="2361692">,</span>&nbsp;<span class="string" id="2361694">&#34;152587890625&#34;</span><span class="op" id="2361708">}</span><span class="op" id="2361709">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361718">//&nbsp;*&nbsp;65536</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361730">{</span><span class="num" id="2361731">6</span><span class="op" id="2361732">,</span>&nbsp;<span class="string" id="2361734">&#34;762939453125&#34;</span><span class="op" id="2361748">}</span><span class="op" id="2361749">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361758">//&nbsp;*&nbsp;131072</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361771">{</span><span class="num" id="2361772">6</span><span class="op" id="2361773">,</span>&nbsp;<span class="string" id="2361775">&#34;3814697265625&#34;</span><span class="op" id="2361790">}</span><span class="op" id="2361791">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361799">//&nbsp;*&nbsp;262144</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361812">{</span><span class="num" id="2361813">6</span><span class="op" id="2361814">,</span>&nbsp;<span class="string" id="2361816">&#34;19073486328125&#34;</span><span class="op" id="2361832">}</span><span class="op" id="2361833">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361840">//&nbsp;*&nbsp;524288</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361853">{</span><span class="num" id="2361854">7</span><span class="op" id="2361855">,</span>&nbsp;<span class="string" id="2361857">&#34;95367431640625&#34;</span><span class="op" id="2361873">}</span><span class="op" id="2361874">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361881">//&nbsp;*&nbsp;1048576</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361895">{</span><span class="num" id="2361896">7</span><span class="op" id="2361897">,</span>&nbsp;<span class="string" id="2361899">&#34;476837158203125&#34;</span><span class="op" id="2361916">}</span><span class="op" id="2361917">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361923">//&nbsp;*&nbsp;2097152</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361937">{</span><span class="num" id="2361938">7</span><span class="op" id="2361939">,</span>&nbsp;<span class="string" id="2361941">&#34;2384185791015625&#34;</span><span class="op" id="2361959">}</span><span class="op" id="2361960">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2361965">//&nbsp;*&nbsp;4194304</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2361979">{</span><span class="num" id="2361980">7</span><span class="op" id="2361981">,</span>&nbsp;<span class="string" id="2361983">&#34;11920928955078125&#34;</span><span class="op" id="2362002">}</span><span class="op" id="2362003">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2362007">//&nbsp;*&nbsp;8388608</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362021">{</span><span class="num" id="2362022">8</span><span class="op" id="2362023">,</span>&nbsp;<span class="string" id="2362025">&#34;59604644775390625&#34;</span><span class="op" id="2362044">}</span><span class="op" id="2362045">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2362049">//&nbsp;*&nbsp;16777216</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362064">{</span><span class="num" id="2362065">8</span><span class="op" id="2362066">,</span>&nbsp;<span class="string" id="2362068">&#34;298023223876953125&#34;</span><span class="op" id="2362088">}</span><span class="op" id="2362089">,</span>&nbsp;&nbsp;<span class="comment" id="2362092">//&nbsp;*&nbsp;33554432</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362107">{</span><span class="num" id="2362108">8</span><span class="op" id="2362109">,</span>&nbsp;<span class="string" id="2362111">&#34;1490116119384765625&#34;</span><span class="op" id="2362132">}</span><span class="op" id="2362133">,</span>&nbsp;<span class="comment" id="2362135">//&nbsp;*&nbsp;67108864</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362150">{</span><span class="num" id="2362151">9</span><span class="op" id="2362152">,</span>&nbsp;<span class="string" id="2362154">&#34;7450580596923828125&#34;</span><span class="op" id="2362175">}</span><span class="op" id="2362176">,</span>&nbsp;<span class="comment" id="2362178">//&nbsp;*&nbsp;134217728</span><br>
<span class="lineno"></span><span class="op" id="2362193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2362196">//&nbsp;Is&nbsp;the&nbsp;leading&nbsp;prefix&nbsp;of&nbsp;b&nbsp;lexicographically&nbsp;less&nbsp;than&nbsp;s?</span><br>
<span class="lineno"></span><span class="keyword" id="2362257">func</span>&nbsp;<span class="ident" id="2362262">prefixIsLessThan</span><span class="op" id="2362278">(</span><span class="ident" id="2362279">b</span>&nbsp;<span class="op" id="2362281">[</span><span class="op" id="2362282">]</span><span class="builtintype" id="2362283">byte</span><span class="op" id="2362287">,</span>&nbsp;<span class="ident" id="2362289">s</span>&nbsp;<span class="builtintype" id="2362291">string</span><span class="op" id="2362297">)</span>&nbsp;<span class="builtintype" id="2362299">bool</span>&nbsp;<span class="op" id="2362304">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362307">for</span>&nbsp;<span class="ident" id="2362311">i</span>&nbsp;<span class="op" id="2362313">:=</span>&nbsp;<span class="num" id="2362316">0</span><span class="op" id="2362317">;</span>&nbsp;<span class="ident" id="2362319"><a href="/gostd/strconv/decimal.go.html#2362311">i</a></span>&nbsp;<span class="op" id="2362321">&lt;</span>&nbsp;<span class="builtinfunc" id="2362323">len</span><span class="op" id="2362326">(</span><span class="ident" id="2362327"><a href="/gostd/strconv/decimal.go.html#2362289">s</a></span><span class="op" id="2362328">)</span><span class="op" id="2362329">;</span>&nbsp;<span class="ident" id="2362331"><a href="/gostd/strconv/decimal.go.html#2362311">i</a></span><span class="op" id="2362332">++</span>&nbsp;<span class="op" id="2362335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362339">if</span>&nbsp;<span class="ident" id="2362342"><a href="/gostd/strconv/decimal.go.html#2362311">i</a></span>&nbsp;<span class="op" id="2362344">&gt;=</span>&nbsp;<span class="builtinfunc" id="2362347">len</span><span class="op" id="2362350">(</span><span class="ident" id="2362351"><a href="/gostd/strconv/decimal.go.html#2362279">b</a></span><span class="op" id="2362352">)</span>&nbsp;<span class="op" id="2362354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362359">return</span>&nbsp;<span class="builtintype" id="2362366">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362377">if</span>&nbsp;<span class="ident" id="2362380"><a href="/gostd/strconv/decimal.go.html#2362279">b</a></span><span class="op" id="2362381">[</span><span class="ident" id="2362382"><a href="/gostd/strconv/decimal.go.html#2362311">i</a></span><span class="op" id="2362383">]</span>&nbsp;<span class="op" id="2362385">!=</span>&nbsp;<span class="ident" id="2362388"><a href="/gostd/strconv/decimal.go.html#2362289">s</a></span><span class="op" id="2362389">[</span><span class="ident" id="2362390"><a href="/gostd/strconv/decimal.go.html#2362311">i</a></span><span class="op" id="2362391">]</span>&nbsp;<span class="op" id="2362393">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362398">return</span>&nbsp;<span class="ident" id="2362405"><a href="/gostd/strconv/decimal.go.html#2362279">b</a></span><span class="op" id="2362406">[</span><span class="ident" id="2362407"><a href="/gostd/strconv/decimal.go.html#2362311">i</a></span><span class="op" id="2362408">]</span>&nbsp;<span class="op" id="2362410">&lt;</span>&nbsp;<span class="ident" id="2362412"><a href="/gostd/strconv/decimal.go.html#2362289">s</a></span><span class="op" id="2362413">[</span><span class="ident" id="2362414"><a href="/gostd/strconv/decimal.go.html#2362311">i</a></span><span class="op" id="2362415">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362425">return</span>&nbsp;<span class="builtintype" id="2362432">false</span><br>
<span class="lineno"></span><span class="op" id="2362438">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="comment" id="2362441">//&nbsp;Binary&nbsp;shift&nbsp;left&nbsp;(/&nbsp;2)&nbsp;by&nbsp;k&nbsp;bits.&nbsp;&nbsp;k&nbsp;&lt;=&nbsp;maxShift&nbsp;to&nbsp;avoid&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="keyword" id="2362513">func</span>&nbsp;<span class="ident" id="2362518">leftShift</span><span class="op" id="2362527">(</span><span class="ident" id="2362528">a</span>&nbsp;<span class="op" id="2362530">*</span><span class="ident" id="2362531"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2362538">,</span>&nbsp;<span class="ident" id="2362540">k</span>&nbsp;<span class="builtintype" id="2362542">uint</span><span class="op" id="2362546">)</span>&nbsp;<span class="op" id="2362548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362551">delta</span>&nbsp;<span class="op" id="2362557">:=</span>&nbsp;<span class="ident" id="2362560"><a href="/gostd/strconv/decimal.go.html#2360754">leftcheats</a></span><span class="op" id="2362570">[</span><span class="ident" id="2362571"><a href="/gostd/strconv/decimal.go.html#2362540">k</a></span><span class="op" id="2362572">]</span><span class="op" id="2362573">.</span><span class="ident" id="2362574"><a href="/gostd/strconv/decimal.go.html#2360656">delta</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362581">if</span>&nbsp;<span class="ident" id="2362584"><a href="/gostd/strconv/decimal.go.html#2362262">prefixIsLessThan</a></span><span class="op" id="2362600">(</span><span class="ident" id="2362601"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2362602">.</span><span class="ident" id="2362603"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2362604">[</span><span class="num" id="2362605">0</span><span class="op" id="2362606">:</span><span class="ident" id="2362607"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2362608">.</span><span class="ident" id="2362609"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2362611">]</span><span class="op" id="2362612">,</span>&nbsp;<span class="ident" id="2362614"><a href="/gostd/strconv/decimal.go.html#2360754">leftcheats</a></span><span class="op" id="2362624">[</span><span class="ident" id="2362625"><a href="/gostd/strconv/decimal.go.html#2362540">k</a></span><span class="op" id="2362626">]</span><span class="op" id="2362627">.</span><span class="ident" id="2362628"><a href="/gostd/strconv/decimal.go.html#2360695">cutoff</a></span><span class="op" id="2362634">)</span>&nbsp;<span class="op" id="2362636">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362640"><a href="/gostd/strconv/decimal.go.html#2362551">delta</a></span><span class="op" id="2362645">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362653">r</span>&nbsp;<span class="op" id="2362655">:=</span>&nbsp;<span class="ident" id="2362658"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2362659">.</span><span class="ident" id="2362660"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2362671">//&nbsp;read&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362686">w</span>&nbsp;<span class="op" id="2362688">:=</span>&nbsp;<span class="ident" id="2362691"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2362692">.</span><span class="ident" id="2362693"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2362696">+</span>&nbsp;<span class="ident" id="2362698"><a href="/gostd/strconv/decimal.go.html#2362551">delta</a></span>&nbsp;<span class="comment" id="2362704">//&nbsp;write&nbsp;index</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362720">n</span>&nbsp;<span class="op" id="2362722">:=</span>&nbsp;<span class="num" id="2362725">0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2362729">//&nbsp;Pick&nbsp;up&nbsp;a&nbsp;digit,&nbsp;put&nbsp;down&nbsp;a&nbsp;digit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362768">for</span>&nbsp;<span class="ident" id="2362772"><a href="/gostd/strconv/decimal.go.html#2362653">r</a></span><span class="op" id="2362773">--</span><span class="op" id="2362775">;</span>&nbsp;<span class="ident" id="2362777"><a href="/gostd/strconv/decimal.go.html#2362653">r</a></span>&nbsp;<span class="op" id="2362779">&gt;=</span>&nbsp;<span class="num" id="2362782">0</span><span class="op" id="2362783">;</span>&nbsp;<span class="ident" id="2362785"><a href="/gostd/strconv/decimal.go.html#2362653">r</a></span><span class="op" id="2362786">--</span>&nbsp;<span class="op" id="2362789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362793"><a href="/gostd/strconv/decimal.go.html#2362720">n</a></span>&nbsp;<span class="op" id="2362795">+=</span>&nbsp;<span class="op" id="2362798">(</span><span class="builtintype" id="2362799">int</span><span class="op" id="2362802">(</span><span class="ident" id="2362803"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2362804">.</span><span class="ident" id="2362805"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2362806">[</span><span class="ident" id="2362807"><a href="/gostd/strconv/decimal.go.html#2362653">r</a></span><span class="op" id="2362808">]</span><span class="op" id="2362809">)</span>&nbsp;<span class="op" id="2362811">-</span>&nbsp;<span class="string" id="2362813">&#39;0&#39;</span><span class="op" id="2362816">)</span>&nbsp;<span class="op" id="2362818">&lt;&lt;</span>&nbsp;<span class="ident" id="2362821"><a href="/gostd/strconv/decimal.go.html#2362540">k</a></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362825">quo</span>&nbsp;<span class="op" id="2362829">:=</span>&nbsp;<span class="ident" id="2362832"><a href="/gostd/strconv/decimal.go.html#2362720">n</a></span>&nbsp;<span class="op" id="2362834">/</span>&nbsp;<span class="num" id="2362836">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362841">rem</span>&nbsp;<span class="op" id="2362845">:=</span>&nbsp;<span class="ident" id="2362848"><a href="/gostd/strconv/decimal.go.html#2362720">n</a></span>&nbsp;<span class="op" id="2362850">-</span>&nbsp;<span class="num" id="2362852">10</span><span class="op" id="2362854">*</span><span class="ident" id="2362855"><a href="/gostd/strconv/decimal.go.html#2362825">quo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362861"><a href="/gostd/strconv/decimal.go.html#2362686">w</a></span><span class="op" id="2362862">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2362867">if</span>&nbsp;<span class="ident" id="2362870"><a href="/gostd/strconv/decimal.go.html#2362686">w</a></span>&nbsp;<span class="op" id="2362872">&lt;</span>&nbsp;<span class="builtinfunc" id="2362874">len</span><span class="op" id="2362877">(</span><span class="ident" id="2362878"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2362879">.</span><span class="ident" id="2362880"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2362881">)</span>&nbsp;<span class="op" id="2362883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362888"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2362889">.</span><span class="ident" id="2362890"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2362891">[</span><span class="ident" id="2362892"><a href="/gostd/strconv/decimal.go.html#2362686">w</a></span><span class="op" id="2362893">]</span>&nbsp;<span class="op" id="2362895">=</span>&nbsp;<span class="builtintype" id="2362897">byte</span><span class="op" id="2362901">(</span><span class="ident" id="2362902"><a href="/gostd/strconv/decimal.go.html#2362841">rem</a></span>&nbsp;<span class="op" id="2362906">+</span>&nbsp;<span class="string" id="2362908">&#39;0&#39;</span><span class="op" id="2362911">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362915">}</span>&nbsp;<span class="keyword" id="2362917">else</span>&nbsp;<span class="keyword" id="2362922">if</span>&nbsp;<span class="ident" id="2362925"><a href="/gostd/strconv/decimal.go.html#2362841">rem</a></span>&nbsp;<span class="op" id="2362929">!=</span>&nbsp;<span class="num" id="2362932">0</span>&nbsp;<span class="op" id="2362934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362939"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2362940">.</span><span class="ident" id="2362941"><a href="/gostd/strconv/decimal.go.html#2357762">trunc</a></span>&nbsp;<span class="op" id="2362947">=</span>&nbsp;<span class="builtintype" id="2362949">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2362960"><a href="/gostd/strconv/decimal.go.html#2362720">n</a></span>&nbsp;<span class="op" id="2362962">=</span>&nbsp;<span class="ident" id="2362964"><a href="/gostd/strconv/decimal.go.html#2362825">quo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2362969">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2362973">//&nbsp;Put&nbsp;down&nbsp;extra&nbsp;digits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363000">for</span>&nbsp;<span class="ident" id="2363004"><a href="/gostd/strconv/decimal.go.html#2362720">n</a></span>&nbsp;<span class="op" id="2363006">&gt;</span>&nbsp;<span class="num" id="2363008">0</span>&nbsp;<span class="op" id="2363010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363014">quo</span>&nbsp;<span class="op" id="2363018">:=</span>&nbsp;<span class="ident" id="2363021"><a href="/gostd/strconv/decimal.go.html#2362720">n</a></span>&nbsp;<span class="op" id="2363023">/</span>&nbsp;<span class="num" id="2363025">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363030">rem</span>&nbsp;<span class="op" id="2363034">:=</span>&nbsp;<span class="ident" id="2363037"><a href="/gostd/strconv/decimal.go.html#2362720">n</a></span>&nbsp;<span class="op" id="2363039">-</span>&nbsp;<span class="num" id="2363041">10</span><span class="op" id="2363043">*</span><span class="ident" id="2363044"><a href="/gostd/strconv/decimal.go.html#2363014">quo</a></span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363050"><a href="/gostd/strconv/decimal.go.html#2362686">w</a></span><span class="op" id="2363051">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363056">if</span>&nbsp;<span class="ident" id="2363059"><a href="/gostd/strconv/decimal.go.html#2362686">w</a></span>&nbsp;<span class="op" id="2363061">&lt;</span>&nbsp;<span class="builtinfunc" id="2363063">len</span><span class="op" id="2363066">(</span><span class="ident" id="2363067"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363068">.</span><span class="ident" id="2363069"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2363070">)</span>&nbsp;<span class="op" id="2363072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363077"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363078">.</span><span class="ident" id="2363079"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2363080">[</span><span class="ident" id="2363081"><a href="/gostd/strconv/decimal.go.html#2362686">w</a></span><span class="op" id="2363082">]</span>&nbsp;<span class="op" id="2363084">=</span>&nbsp;<span class="builtintype" id="2363086">byte</span><span class="op" id="2363090">(</span><span class="ident" id="2363091"><a href="/gostd/strconv/decimal.go.html#2363030">rem</a></span>&nbsp;<span class="op" id="2363095">+</span>&nbsp;<span class="string" id="2363097">&#39;0&#39;</span><span class="op" id="2363100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363104">}</span>&nbsp;<span class="keyword" id="2363106">else</span>&nbsp;<span class="keyword" id="2363111">if</span>&nbsp;<span class="ident" id="2363114"><a href="/gostd/strconv/decimal.go.html#2363030">rem</a></span>&nbsp;<span class="op" id="2363118">!=</span>&nbsp;<span class="num" id="2363121">0</span>&nbsp;<span class="op" id="2363123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363128"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363129">.</span><span class="ident" id="2363130"><a href="/gostd/strconv/decimal.go.html#2357762">trunc</a></span>&nbsp;<span class="op" id="2363136">=</span>&nbsp;<span class="builtintype" id="2363138">true</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363149"><a href="/gostd/strconv/decimal.go.html#2362720">n</a></span>&nbsp;<span class="op" id="2363151">=</span>&nbsp;<span class="ident" id="2363153"><a href="/gostd/strconv/decimal.go.html#2363014">quo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363162"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363163">.</span><span class="ident" id="2363164"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2363167">+=</span>&nbsp;<span class="ident" id="2363170"><a href="/gostd/strconv/decimal.go.html#2362551">delta</a></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363177">if</span>&nbsp;<span class="ident" id="2363180"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363181">.</span><span class="ident" id="2363182"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2363185">&gt;=</span>&nbsp;<span class="builtinfunc" id="2363188">len</span><span class="op" id="2363191">(</span><span class="ident" id="2363192"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363193">.</span><span class="ident" id="2363194"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2363195">)</span>&nbsp;<span class="op" id="2363197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363201"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363202">.</span><span class="ident" id="2363203"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2363206">=</span>&nbsp;<span class="builtinfunc" id="2363208">len</span><span class="op" id="2363211">(</span><span class="ident" id="2363212"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363213">.</span><span class="ident" id="2363214"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2363215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363221"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363222">.</span><span class="ident" id="2363223"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2363226">+=</span>&nbsp;<span class="ident" id="2363229"><a href="/gostd/strconv/decimal.go.html#2362551">delta</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363236"><a href="/gostd/strconv/decimal.go.html#2358739">trim</a></span><span class="op" id="2363240">(</span><span class="ident" id="2363241"><a href="/gostd/strconv/decimal.go.html#2362528">a</a></span><span class="op" id="2363242">)</span><br>
<span class="lineno">275</span><span class="op" id="2363244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2363247">//&nbsp;Binary&nbsp;shift&nbsp;left&nbsp;(k&nbsp;&gt;&nbsp;0)&nbsp;or&nbsp;right&nbsp;(k&nbsp;&lt;&nbsp;0).</span><br>
<span class="lineno"></span><span class="keyword" id="2363294">func</span>&nbsp;<span class="op" id="2363299">(</span><span class="ident" id="2363300">a</span>&nbsp;<span class="op" id="2363302">*</span><span class="ident" id="2363303"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2363310">)</span>&nbsp;<span class="ident" id="2363312">Shift</span><span class="op" id="2363317">(</span><span class="ident" id="2363318">k</span>&nbsp;<span class="builtintype" id="2363320">int</span><span class="op" id="2363323">)</span>&nbsp;<span class="op" id="2363325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363328">switch</span>&nbsp;<span class="op" id="2363335">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363338">case</span>&nbsp;<span class="ident" id="2363343"><a href="/gostd/strconv/decimal.go.html#2363300">a</a></span><span class="op" id="2363344">.</span><span class="ident" id="2363345"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2363348">==</span>&nbsp;<span class="num" id="2363351">0</span><span class="op" id="2363352">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2363356">//&nbsp;nothing&nbsp;to&nbsp;do:&nbsp;a&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363382">case</span>&nbsp;<span class="ident" id="2363387"><a href="/gostd/strconv/decimal.go.html#2363318">k</a></span>&nbsp;<span class="op" id="2363389">&gt;</span>&nbsp;<span class="num" id="2363391">0</span><span class="op" id="2363392">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363396">for</span>&nbsp;<span class="ident" id="2363400"><a href="/gostd/strconv/decimal.go.html#2363318">k</a></span>&nbsp;<span class="op" id="2363402">&gt;</span>&nbsp;<span class="ident" id="2363404"><a href="/gostd/strconv/decimal.go.html#2359329">maxShift</a></span>&nbsp;<span class="op" id="2363413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363418"><a href="/gostd/strconv/decimal.go.html#2362518">leftShift</a></span><span class="op" id="2363427">(</span><span class="ident" id="2363428"><a href="/gostd/strconv/decimal.go.html#2363300">a</a></span><span class="op" id="2363429">,</span>&nbsp;<span class="ident" id="2363431"><a href="/gostd/strconv/decimal.go.html#2359329">maxShift</a></span><span class="op" id="2363439">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363444"><a href="/gostd/strconv/decimal.go.html#2363318">k</a></span>&nbsp;<span class="op" id="2363446">-=</span>&nbsp;<span class="ident" id="2363449"><a href="/gostd/strconv/decimal.go.html#2359329">maxShift</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363464"><a href="/gostd/strconv/decimal.go.html#2362518">leftShift</a></span><span class="op" id="2363473">(</span><span class="ident" id="2363474"><a href="/gostd/strconv/decimal.go.html#2363300">a</a></span><span class="op" id="2363475">,</span>&nbsp;<span class="builtintype" id="2363477">uint</span><span class="op" id="2363481">(</span><span class="ident" id="2363482"><a href="/gostd/strconv/decimal.go.html#2363318">k</a></span><span class="op" id="2363483">)</span><span class="op" id="2363484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363487">case</span>&nbsp;<span class="ident" id="2363492"><a href="/gostd/strconv/decimal.go.html#2363318">k</a></span>&nbsp;<span class="op" id="2363494">&lt;</span>&nbsp;<span class="num" id="2363496">0</span><span class="op" id="2363497">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363501">for</span>&nbsp;<span class="ident" id="2363505"><a href="/gostd/strconv/decimal.go.html#2363318">k</a></span>&nbsp;<span class="op" id="2363507">&lt;</span>&nbsp;<span class="op" id="2363509">-</span><span class="ident" id="2363510"><a href="/gostd/strconv/decimal.go.html#2359329">maxShift</a></span>&nbsp;<span class="op" id="2363519">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363524"><a href="/gostd/strconv/decimal.go.html#2359422">rightShift</a></span><span class="op" id="2363534">(</span><span class="ident" id="2363535"><a href="/gostd/strconv/decimal.go.html#2363300">a</a></span><span class="op" id="2363536">,</span>&nbsp;<span class="ident" id="2363538"><a href="/gostd/strconv/decimal.go.html#2359329">maxShift</a></span><span class="op" id="2363546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363551"><a href="/gostd/strconv/decimal.go.html#2363318">k</a></span>&nbsp;<span class="op" id="2363553">+=</span>&nbsp;<span class="ident" id="2363556"><a href="/gostd/strconv/decimal.go.html#2359329">maxShift</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2363571"><a href="/gostd/strconv/decimal.go.html#2359422">rightShift</a></span><span class="op" id="2363581">(</span><span class="ident" id="2363582"><a href="/gostd/strconv/decimal.go.html#2363300">a</a></span><span class="op" id="2363583">,</span>&nbsp;<span class="builtintype" id="2363585">uint</span><span class="op" id="2363589">(</span><span class="op" id="2363590">-</span><span class="ident" id="2363591"><a href="/gostd/strconv/decimal.go.html#2363318">k</a></span><span class="op" id="2363592">)</span><span class="op" id="2363593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363596">}</span><br>
<span class="lineno">295</span><span class="op" id="2363598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2363601">//&nbsp;If&nbsp;we&nbsp;chop&nbsp;a&nbsp;at&nbsp;nd&nbsp;digits,&nbsp;should&nbsp;we&nbsp;round&nbsp;up?</span><br>
<span class="lineno"></span><span class="keyword" id="2363651">func</span>&nbsp;<span class="ident" id="2363656">shouldRoundUp</span><span class="op" id="2363669">(</span><span class="ident" id="2363670">a</span>&nbsp;<span class="op" id="2363672">*</span><span class="ident" id="2363673"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2363680">,</span>&nbsp;<span class="ident" id="2363682">nd</span>&nbsp;<span class="builtintype" id="2363685">int</span><span class="op" id="2363688">)</span>&nbsp;<span class="builtintype" id="2363690">bool</span>&nbsp;<span class="op" id="2363695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363698">if</span>&nbsp;<span class="ident" id="2363701"><a href="/gostd/strconv/decimal.go.html#2363682">nd</a></span>&nbsp;<span class="op" id="2363704">&lt;</span>&nbsp;<span class="num" id="2363706">0</span>&nbsp;<span class="op" id="2363708">||</span>&nbsp;<span class="ident" id="2363711"><a href="/gostd/strconv/decimal.go.html#2363682">nd</a></span>&nbsp;<span class="op" id="2363714">&gt;=</span>&nbsp;<span class="ident" id="2363717"><a href="/gostd/strconv/decimal.go.html#2363670">a</a></span><span class="op" id="2363718">.</span><span class="ident" id="2363719"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2363722">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363726">return</span>&nbsp;<span class="builtintype" id="2363733">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363743">if</span>&nbsp;<span class="ident" id="2363746"><a href="/gostd/strconv/decimal.go.html#2363670">a</a></span><span class="op" id="2363747">.</span><span class="ident" id="2363748"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2363749">[</span><span class="ident" id="2363750"><a href="/gostd/strconv/decimal.go.html#2363682">nd</a></span><span class="op" id="2363752">]</span>&nbsp;<span class="op" id="2363754">==</span>&nbsp;<span class="string" id="2363757">&#39;5&#39;</span>&nbsp;<span class="op" id="2363761">&amp;&amp;</span>&nbsp;<span class="ident" id="2363764"><a href="/gostd/strconv/decimal.go.html#2363682">nd</a></span><span class="op" id="2363766">+</span><span class="num" id="2363767">1</span>&nbsp;<span class="op" id="2363769">==</span>&nbsp;<span class="ident" id="2363772"><a href="/gostd/strconv/decimal.go.html#2363670">a</a></span><span class="op" id="2363773">.</span><span class="ident" id="2363774"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2363777">{</span>&nbsp;<span class="comment" id="2363779">//&nbsp;exactly&nbsp;halfway&nbsp;-&nbsp;round&nbsp;to&nbsp;even</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2363816">//&nbsp;if&nbsp;we&nbsp;truncated,&nbsp;a&nbsp;little&nbsp;higher&nbsp;than&nbsp;what&#39;s&nbsp;recorded&nbsp;-&nbsp;always&nbsp;round&nbsp;up</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363893">if</span>&nbsp;<span class="ident" id="2363896"><a href="/gostd/strconv/decimal.go.html#2363670">a</a></span><span class="op" id="2363897">.</span><span class="ident" id="2363898"><a href="/gostd/strconv/decimal.go.html#2357762">trunc</a></span>&nbsp;<span class="op" id="2363904">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363909">return</span>&nbsp;<span class="builtintype" id="2363916">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2363927">return</span>&nbsp;<span class="ident" id="2363934"><a href="/gostd/strconv/decimal.go.html#2363682">nd</a></span>&nbsp;<span class="op" id="2363937">&gt;</span>&nbsp;<span class="num" id="2363939">0</span>&nbsp;<span class="op" id="2363941">&amp;&amp;</span>&nbsp;<span class="op" id="2363944">(</span><span class="ident" id="2363945"><a href="/gostd/strconv/decimal.go.html#2363670">a</a></span><span class="op" id="2363946">.</span><span class="ident" id="2363947"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2363948">[</span><span class="ident" id="2363949"><a href="/gostd/strconv/decimal.go.html#2363682">nd</a></span><span class="op" id="2363951">-</span><span class="num" id="2363952">1</span><span class="op" id="2363953">]</span><span class="op" id="2363954">-</span><span class="string" id="2363955">&#39;0&#39;</span><span class="op" id="2363958">)</span><span class="op" id="2363959">%</span><span class="num" id="2363960">2</span>&nbsp;<span class="op" id="2363962">!=</span>&nbsp;<span class="num" id="2363965">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2363968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2363971">//&nbsp;not&nbsp;halfway&nbsp;-&nbsp;digit&nbsp;tells&nbsp;all</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364005">return</span>&nbsp;<span class="ident" id="2364012"><a href="/gostd/strconv/decimal.go.html#2363670">a</a></span><span class="op" id="2364013">.</span><span class="ident" id="2364014"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2364015">[</span><span class="ident" id="2364016"><a href="/gostd/strconv/decimal.go.html#2363682">nd</a></span><span class="op" id="2364018">]</span>&nbsp;<span class="op" id="2364020">&gt;=</span>&nbsp;<span class="string" id="2364023">&#39;5&#39;</span><br>
<span class="lineno"></span><span class="op" id="2364027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2364030">//&nbsp;Round&nbsp;a&nbsp;to&nbsp;nd&nbsp;digits&nbsp;(or&nbsp;fewer).</span><br>
<span class="lineno"></span><span class="comment" id="2364066">//&nbsp;If&nbsp;nd&nbsp;is&nbsp;zero,&nbsp;it&nbsp;means&nbsp;we&#39;re&nbsp;rounding</span><br>
<span class="lineno">315</span><span class="comment" id="2364108">//&nbsp;just&nbsp;to&nbsp;the&nbsp;left&nbsp;of&nbsp;the&nbsp;digits,&nbsp;as&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2364149">//&nbsp;0.09&nbsp;-&gt;&nbsp;0.1.</span><br>
<span class="lineno"></span><span class="keyword" id="2364165">func</span>&nbsp;<span class="op" id="2364170">(</span><span class="ident" id="2364171">a</span>&nbsp;<span class="op" id="2364173">*</span><span class="ident" id="2364174"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2364181">)</span>&nbsp;<span class="ident" id="2364183">Round</span><span class="op" id="2364188">(</span><span class="ident" id="2364189">nd</span>&nbsp;<span class="builtintype" id="2364192">int</span><span class="op" id="2364195">)</span>&nbsp;<span class="op" id="2364197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364200">if</span>&nbsp;<span class="ident" id="2364203"><a href="/gostd/strconv/decimal.go.html#2364189">nd</a></span>&nbsp;<span class="op" id="2364206">&lt;</span>&nbsp;<span class="num" id="2364208">0</span>&nbsp;<span class="op" id="2364210">||</span>&nbsp;<span class="ident" id="2364213"><a href="/gostd/strconv/decimal.go.html#2364189">nd</a></span>&nbsp;<span class="op" id="2364216">&gt;=</span>&nbsp;<span class="ident" id="2364219"><a href="/gostd/strconv/decimal.go.html#2364171">a</a></span><span class="op" id="2364220">.</span><span class="ident" id="2364221"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2364224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364228">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364239">if</span>&nbsp;<span class="ident" id="2364242"><a href="/gostd/strconv/decimal.go.html#2363656">shouldRoundUp</a></span><span class="op" id="2364255">(</span><span class="ident" id="2364256"><a href="/gostd/strconv/decimal.go.html#2364171">a</a></span><span class="op" id="2364257">,</span>&nbsp;<span class="ident" id="2364259"><a href="/gostd/strconv/decimal.go.html#2364189">nd</a></span><span class="op" id="2364261">)</span>&nbsp;<span class="op" id="2364263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364267"><a href="/gostd/strconv/decimal.go.html#2364171">a</a></span><span class="op" id="2364268">.</span><span class="ident" id="2364269"><a href="/gostd/strconv/decimal.go.html#2364513">RoundUp</a></span><span class="op" id="2364276">(</span><span class="ident" id="2364277"><a href="/gostd/strconv/decimal.go.html#2364189">nd</a></span><span class="op" id="2364279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364282">}</span>&nbsp;<span class="keyword" id="2364284">else</span>&nbsp;<span class="op" id="2364289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364293"><a href="/gostd/strconv/decimal.go.html#2364171">a</a></span><span class="op" id="2364294">.</span><span class="ident" id="2364295"><a href="/gostd/strconv/decimal.go.html#2364374">RoundDown</a></span><span class="op" id="2364304">(</span><span class="ident" id="2364305"><a href="/gostd/strconv/decimal.go.html#2364189">nd</a></span><span class="op" id="2364307">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364310">}</span><br>
<span class="lineno"></span><span class="op" id="2364312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2364315">//&nbsp;Round&nbsp;a&nbsp;down&nbsp;to&nbsp;nd&nbsp;digits&nbsp;(or&nbsp;fewer).</span><br>
<span class="lineno"></span><span class="keyword" id="2364356">func</span>&nbsp;<span class="op" id="2364361">(</span><span class="ident" id="2364362">a</span>&nbsp;<span class="op" id="2364364">*</span><span class="ident" id="2364365"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2364372">)</span>&nbsp;<span class="ident" id="2364374">RoundDown</span><span class="op" id="2364383">(</span><span class="ident" id="2364384">nd</span>&nbsp;<span class="builtintype" id="2364387">int</span><span class="op" id="2364390">)</span>&nbsp;<span class="op" id="2364392">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364395">if</span>&nbsp;<span class="ident" id="2364398"><a href="/gostd/strconv/decimal.go.html#2364384">nd</a></span>&nbsp;<span class="op" id="2364401">&lt;</span>&nbsp;<span class="num" id="2364403">0</span>&nbsp;<span class="op" id="2364405">||</span>&nbsp;<span class="ident" id="2364408"><a href="/gostd/strconv/decimal.go.html#2364384">nd</a></span>&nbsp;<span class="op" id="2364411">&gt;=</span>&nbsp;<span class="ident" id="2364414"><a href="/gostd/strconv/decimal.go.html#2364362">a</a></span><span class="op" id="2364415">.</span><span class="ident" id="2364416"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2364419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364423">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364434"><a href="/gostd/strconv/decimal.go.html#2364362">a</a></span><span class="op" id="2364435">.</span><span class="ident" id="2364436"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2364439">=</span>&nbsp;<span class="ident" id="2364441"><a href="/gostd/strconv/decimal.go.html#2364384">nd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364445"><a href="/gostd/strconv/decimal.go.html#2358739">trim</a></span><span class="op" id="2364449">(</span><span class="ident" id="2364450"><a href="/gostd/strconv/decimal.go.html#2364362">a</a></span><span class="op" id="2364451">)</span><br>
<span class="lineno">335</span><span class="op" id="2364453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2364456">//&nbsp;Round&nbsp;a&nbsp;up&nbsp;to&nbsp;nd&nbsp;digits&nbsp;(or&nbsp;fewer).</span><br>
<span class="lineno"></span><span class="keyword" id="2364495">func</span>&nbsp;<span class="op" id="2364500">(</span><span class="ident" id="2364501">a</span>&nbsp;<span class="op" id="2364503">*</span><span class="ident" id="2364504"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2364511">)</span>&nbsp;<span class="ident" id="2364513">RoundUp</span><span class="op" id="2364520">(</span><span class="ident" id="2364521">nd</span>&nbsp;<span class="builtintype" id="2364524">int</span><span class="op" id="2364527">)</span>&nbsp;<span class="op" id="2364529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364532">if</span>&nbsp;<span class="ident" id="2364535"><a href="/gostd/strconv/decimal.go.html#2364521">nd</a></span>&nbsp;<span class="op" id="2364538">&lt;</span>&nbsp;<span class="num" id="2364540">0</span>&nbsp;<span class="op" id="2364542">||</span>&nbsp;<span class="ident" id="2364545"><a href="/gostd/strconv/decimal.go.html#2364521">nd</a></span>&nbsp;<span class="op" id="2364548">&gt;=</span>&nbsp;<span class="ident" id="2364551"><a href="/gostd/strconv/decimal.go.html#2364501">a</a></span><span class="op" id="2364552">.</span><span class="ident" id="2364553"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2364556">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364560">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2364572">//&nbsp;round&nbsp;up</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364585">for</span>&nbsp;<span class="ident" id="2364589">i</span>&nbsp;<span class="op" id="2364591">:=</span>&nbsp;<span class="ident" id="2364594"><a href="/gostd/strconv/decimal.go.html#2364521">nd</a></span>&nbsp;<span class="op" id="2364597">-</span>&nbsp;<span class="num" id="2364599">1</span><span class="op" id="2364600">;</span>&nbsp;<span class="ident" id="2364602"><a href="/gostd/strconv/decimal.go.html#2364589">i</a></span>&nbsp;<span class="op" id="2364604">&gt;=</span>&nbsp;<span class="num" id="2364607">0</span><span class="op" id="2364608">;</span>&nbsp;<span class="ident" id="2364610"><a href="/gostd/strconv/decimal.go.html#2364589">i</a></span><span class="op" id="2364611">--</span>&nbsp;<span class="op" id="2364614">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364618">c</span>&nbsp;<span class="op" id="2364620">:=</span>&nbsp;<span class="ident" id="2364623"><a href="/gostd/strconv/decimal.go.html#2364501">a</a></span><span class="op" id="2364624">.</span><span class="ident" id="2364625"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2364626">[</span><span class="ident" id="2364627"><a href="/gostd/strconv/decimal.go.html#2364589">i</a></span><span class="op" id="2364628">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364632">if</span>&nbsp;<span class="ident" id="2364635"><a href="/gostd/strconv/decimal.go.html#2364618">c</a></span>&nbsp;<span class="op" id="2364637">&lt;</span>&nbsp;<span class="string" id="2364639">&#39;9&#39;</span>&nbsp;<span class="op" id="2364643">{</span>&nbsp;<span class="comment" id="2364645">//&nbsp;can&nbsp;stop&nbsp;after&nbsp;this&nbsp;digit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364677"><a href="/gostd/strconv/decimal.go.html#2364501">a</a></span><span class="op" id="2364678">.</span><span class="ident" id="2364679"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2364680">[</span><span class="ident" id="2364681"><a href="/gostd/strconv/decimal.go.html#2364589">i</a></span><span class="op" id="2364682">]</span><span class="op" id="2364683">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364689"><a href="/gostd/strconv/decimal.go.html#2364501">a</a></span><span class="op" id="2364690">.</span><span class="ident" id="2364691"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2364694">=</span>&nbsp;<span class="ident" id="2364696"><a href="/gostd/strconv/decimal.go.html#2364589">i</a></span>&nbsp;<span class="op" id="2364698">+</span>&nbsp;<span class="num" id="2364700">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364705">return</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2364721">//&nbsp;Number&nbsp;is&nbsp;all&nbsp;9s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2364743">//&nbsp;Change&nbsp;to&nbsp;single&nbsp;1&nbsp;with&nbsp;adjusted&nbsp;decimal&nbsp;point.</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364795"><a href="/gostd/strconv/decimal.go.html#2364501">a</a></span><span class="op" id="2364796">.</span><span class="ident" id="2364797"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2364798">[</span><span class="num" id="2364799">0</span><span class="op" id="2364800">]</span>&nbsp;<span class="op" id="2364802">=</span>&nbsp;<span class="string" id="2364804">&#39;1&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364809"><a href="/gostd/strconv/decimal.go.html#2364501">a</a></span><span class="op" id="2364810">.</span><span class="ident" id="2364811"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2364814">=</span>&nbsp;<span class="num" id="2364816">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2364819"><a href="/gostd/strconv/decimal.go.html#2364501">a</a></span><span class="op" id="2364820">.</span><span class="ident" id="2364821"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2364823">++</span><br>
<span class="lineno"></span><span class="op" id="2364826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="2364829">//&nbsp;Extract&nbsp;integer&nbsp;part,&nbsp;rounded&nbsp;appropriately.</span><br>
<span class="lineno"></span><span class="comment" id="2364877">//&nbsp;No&nbsp;guarantees&nbsp;about&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="keyword" id="2364910">func</span>&nbsp;<span class="op" id="2364915">(</span><span class="ident" id="2364916">a</span>&nbsp;<span class="op" id="2364918">*</span><span class="ident" id="2364919"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2364926">)</span>&nbsp;<span class="ident" id="2364928">RoundedInteger</span><span class="op" id="2364942">(</span><span class="op" id="2364943">)</span>&nbsp;<span class="builtintype" id="2364945">uint64</span>&nbsp;<span class="op" id="2364952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364955">if</span>&nbsp;<span class="ident" id="2364958"><a href="/gostd/strconv/decimal.go.html#2364916">a</a></span><span class="op" id="2364959">.</span><span class="ident" id="2364960"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2364963">&gt;</span>&nbsp;<span class="num" id="2364965">20</span>&nbsp;<span class="op" id="2364968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2364972">return</span>&nbsp;<span class="num" id="2364979">0xFFFFFFFFFFFFFFFF</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2364999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365002">var</span>&nbsp;<span class="ident" id="2365006">i</span>&nbsp;<span class="builtintype" id="2365008">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365013">n</span>&nbsp;<span class="op" id="2365015">:=</span>&nbsp;<span class="builtintype" id="2365018">uint64</span><span class="op" id="2365024">(</span><span class="num" id="2365025">0</span><span class="op" id="2365026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365029">for</span>&nbsp;<span class="ident" id="2365033"><a href="/gostd/strconv/decimal.go.html#2365006">i</a></span>&nbsp;<span class="op" id="2365035">=</span>&nbsp;<span class="num" id="2365037">0</span><span class="op" id="2365038">;</span>&nbsp;<span class="ident" id="2365040"><a href="/gostd/strconv/decimal.go.html#2365006">i</a></span>&nbsp;<span class="op" id="2365042">&lt;</span>&nbsp;<span class="ident" id="2365044"><a href="/gostd/strconv/decimal.go.html#2364916">a</a></span><span class="op" id="2365045">.</span><span class="ident" id="2365046"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2365049">&amp;&amp;</span>&nbsp;<span class="ident" id="2365052"><a href="/gostd/strconv/decimal.go.html#2365006">i</a></span>&nbsp;<span class="op" id="2365054">&lt;</span>&nbsp;<span class="ident" id="2365056"><a href="/gostd/strconv/decimal.go.html#2364916">a</a></span><span class="op" id="2365057">.</span><span class="ident" id="2365058"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2365060">;</span>&nbsp;<span class="ident" id="2365062"><a href="/gostd/strconv/decimal.go.html#2365006">i</a></span><span class="op" id="2365063">++</span>&nbsp;<span class="op" id="2365066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365070"><a href="/gostd/strconv/decimal.go.html#2365013">n</a></span>&nbsp;<span class="op" id="2365072">=</span>&nbsp;<span class="ident" id="2365074"><a href="/gostd/strconv/decimal.go.html#2365013">n</a></span><span class="op" id="2365075">*</span><span class="num" id="2365076">10</span>&nbsp;<span class="op" id="2365079">+</span>&nbsp;<span class="builtintype" id="2365081">uint64</span><span class="op" id="2365087">(</span><span class="ident" id="2365088"><a href="/gostd/strconv/decimal.go.html#2364916">a</a></span><span class="op" id="2365089">.</span><span class="ident" id="2365090"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2365091">[</span><span class="ident" id="2365092"><a href="/gostd/strconv/decimal.go.html#2365006">i</a></span><span class="op" id="2365093">]</span><span class="op" id="2365094">-</span><span class="string" id="2365095">&#39;0&#39;</span><span class="op" id="2365098">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365104">for</span>&nbsp;<span class="op" id="2365108">;</span>&nbsp;<span class="ident" id="2365110"><a href="/gostd/strconv/decimal.go.html#2365006">i</a></span>&nbsp;<span class="op" id="2365112">&lt;</span>&nbsp;<span class="ident" id="2365114"><a href="/gostd/strconv/decimal.go.html#2364916">a</a></span><span class="op" id="2365115">.</span><span class="ident" id="2365116"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2365118">;</span>&nbsp;<span class="ident" id="2365120"><a href="/gostd/strconv/decimal.go.html#2365006">i</a></span><span class="op" id="2365121">++</span>&nbsp;<span class="op" id="2365124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365128"><a href="/gostd/strconv/decimal.go.html#2365013">n</a></span>&nbsp;<span class="op" id="2365130">*=</span>&nbsp;<span class="num" id="2365133">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365140">if</span>&nbsp;<span class="ident" id="2365143"><a href="/gostd/strconv/decimal.go.html#2363656">shouldRoundUp</a></span><span class="op" id="2365156">(</span><span class="ident" id="2365157"><a href="/gostd/strconv/decimal.go.html#2364916">a</a></span><span class="op" id="2365158">,</span>&nbsp;<span class="ident" id="2365160"><a href="/gostd/strconv/decimal.go.html#2364916">a</a></span><span class="op" id="2365161">.</span><span class="ident" id="2365162"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2365164">)</span>&nbsp;<span class="op" id="2365166">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365170"><a href="/gostd/strconv/decimal.go.html#2365013">n</a></span><span class="op" id="2365171">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2365178">return</span>&nbsp;<span class="ident" id="2365185"><a href="/gostd/strconv/decimal.go.html#2365013">n</a></span><br>
<span class="lineno"></span><span class="op" id="2365187">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
