<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html" class="current">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7965745">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7965800">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7965854">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7965905">package</span>&nbsp;<span class="ident" id="7965913">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7965921">import</span>&nbsp;<span class="op" id="7965928">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7965931">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7965937">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7965947">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7965950">func</span>&nbsp;<span class="ident" id="7965955">checkSize</span><span class="op" id="7965964">(</span><span class="ident" id="7965965">t</span>&nbsp;<span class="op" id="7965967">*</span><span class="ident" id="7965968"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965937">testing</a></span><span class="op" id="7965975">.</span><span class="ident" id="7965976"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7965977">,</span>&nbsp;<span class="ident" id="7965979">path</span>&nbsp;<span class="builtintype" id="7965984">string</span><span class="op" id="7965990">,</span>&nbsp;<span class="ident" id="7965992">size</span>&nbsp;<span class="builtintype" id="7965997">int64</span><span class="op" id="7966002">)</span>&nbsp;<span class="op" id="7966004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966007">dir</span><span class="op" id="7966010">,</span>&nbsp;<span class="ident" id="7966012">err</span>&nbsp;<span class="op" id="7966016">:=</span>&nbsp;<span class="ident" id="7966019"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965931">os</a></span><span class="op" id="7966021">.</span><span class="ident" id="7966022"><a href="/gostd/os/file_unix.go.html#2455511">Stat</a></span><span class="op" id="7966026">(</span><span class="ident" id="7966027"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965979">path</a></span><span class="op" id="7966031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7966034">if</span>&nbsp;<span class="ident" id="7966037"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966012">err</a></span>&nbsp;<span class="op" id="7966041">!=</span>&nbsp;<span class="builtintype" id="7966044">nil</span>&nbsp;<span class="op" id="7966048">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966052"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965965">t</a></span><span class="op" id="7966053">.</span><span class="ident" id="7966054"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7966060">(</span><span class="string" id="7966061">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="7966096">,</span>&nbsp;<span class="ident" id="7966098"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965979">path</a></span><span class="op" id="7966102">,</span>&nbsp;<span class="ident" id="7966104"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965992">size</a></span><span class="op" id="7966108">,</span>&nbsp;<span class="ident" id="7966110"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966012">err</a></span><span class="op" id="7966113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7966116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7966119">if</span>&nbsp;<span class="ident" id="7966122"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966007">dir</a></span><span class="op" id="7966125">.</span><span class="ident" id="7966126"><a href="/gostd/os/types.go.html#2472528">Size</a></span><span class="op" id="7966130">(</span><span class="op" id="7966131">)</span>&nbsp;<span class="op" id="7966133">!=</span>&nbsp;<span class="ident" id="7966136"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965992">size</a></span>&nbsp;<span class="op" id="7966141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966145"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965965">t</a></span><span class="op" id="7966146">.</span><span class="ident" id="7966147"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7966153">(</span><span class="string" id="7966154">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7966180">,</span>&nbsp;<span class="ident" id="7966182"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965979">path</a></span><span class="op" id="7966186">,</span>&nbsp;<span class="ident" id="7966188"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966007">dir</a></span><span class="op" id="7966191">.</span><span class="ident" id="7966192"><a href="/gostd/os/types.go.html#2472528">Size</a></span><span class="op" id="7966196">(</span><span class="op" id="7966197">)</span><span class="op" id="7966198">,</span>&nbsp;<span class="ident" id="7966200"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965992">size</a></span><span class="op" id="7966204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7966207">}</span><br>
<span class="lineno">20</span><span class="op" id="7966209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7966212">func</span>&nbsp;<span class="ident" id="7966217">TestReadFile</span><span class="op" id="7966229">(</span><span class="ident" id="7966230">t</span>&nbsp;<span class="op" id="7966232">*</span><span class="ident" id="7966233"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965937">testing</a></span><span class="op" id="7966240">.</span><span class="ident" id="7966241"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7966242">)</span>&nbsp;<span class="op" id="7966244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966247">filename</span>&nbsp;<span class="op" id="7966256">:=</span>&nbsp;<span class="string" id="7966259">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966278">contents</span><span class="op" id="7966286">,</span>&nbsp;<span class="ident" id="7966288">err</span>&nbsp;<span class="op" id="7966292">:=</span>&nbsp;<span class="ident" id="7966295"><a href="/gostd/io/ioutil/ioutil.go.html#3765434">ReadFile</a></span><span class="op" id="7966303">(</span><span class="ident" id="7966304"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966247">filename</a></span><span class="op" id="7966312">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7966315">if</span>&nbsp;<span class="ident" id="7966318"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966288">err</a></span>&nbsp;<span class="op" id="7966322">==</span>&nbsp;<span class="builtintype" id="7966325">nil</span>&nbsp;<span class="op" id="7966329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966333"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966230">t</a></span><span class="op" id="7966334">.</span><span class="ident" id="7966335"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7966341">(</span><span class="string" id="7966342">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7966383">,</span>&nbsp;<span class="ident" id="7966385"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966247">filename</a></span><span class="op" id="7966393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7966396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966400"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966247">filename</a></span>&nbsp;<span class="op" id="7966409">=</span>&nbsp;<span class="string" id="7966411">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966429"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966278">contents</a></span><span class="op" id="7966437">,</span>&nbsp;<span class="ident" id="7966439"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966288">err</a></span>&nbsp;<span class="op" id="7966443">=</span>&nbsp;<span class="ident" id="7966445"><a href="/gostd/io/ioutil/ioutil.go.html#3765434">ReadFile</a></span><span class="op" id="7966453">(</span><span class="ident" id="7966454"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966247">filename</a></span><span class="op" id="7966462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7966465">if</span>&nbsp;<span class="ident" id="7966468"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966288">err</a></span>&nbsp;<span class="op" id="7966472">!=</span>&nbsp;<span class="builtintype" id="7966475">nil</span>&nbsp;<span class="op" id="7966479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966483"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966230">t</a></span><span class="op" id="7966484">.</span><span class="ident" id="7966485"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7966491">(</span><span class="string" id="7966492">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7966509">,</span>&nbsp;<span class="ident" id="7966511"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966247">filename</a></span><span class="op" id="7966519">,</span>&nbsp;<span class="ident" id="7966521"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966288">err</a></span><span class="op" id="7966524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7966527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966531"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965955">checkSize</a></span><span class="op" id="7966540">(</span><span class="ident" id="7966541"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966230">t</a></span><span class="op" id="7966542">,</span>&nbsp;<span class="ident" id="7966544"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966247">filename</a></span><span class="op" id="7966552">,</span>&nbsp;<span class="builtintype" id="7966554">int64</span><span class="op" id="7966559">(</span><span class="builtinfunc" id="7966560">len</span><span class="op" id="7966563">(</span><span class="ident" id="7966564"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966278">contents</a></span><span class="op" id="7966572">)</span><span class="op" id="7966573">)</span><span class="op" id="7966574">)</span><br>
<span class="lineno"></span><span class="op" id="7966576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7966579">func</span>&nbsp;<span class="ident" id="7966584">TestWriteFile</span><span class="op" id="7966597">(</span><span class="ident" id="7966598">t</span>&nbsp;<span class="op" id="7966600">*</span><span class="ident" id="7966601"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965937">testing</a></span><span class="op" id="7966608">.</span><span class="ident" id="7966609"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7966610">)</span>&nbsp;<span class="op" id="7966612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966615">f</span><span class="op" id="7966616">,</span>&nbsp;<span class="ident" id="7966618">err</span>&nbsp;<span class="op" id="7966622">:=</span>&nbsp;<span class="ident" id="7966625"><a href="/gostd/io/ioutil/tempfile.go.html#3769783">TempFile</a></span><span class="op" id="7966633">(</span><span class="string" id="7966634">&#34;&#34;</span><span class="op" id="7966636">,</span>&nbsp;<span class="string" id="7966638">&#34;ioutil-test&#34;</span><span class="op" id="7966651">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7966654">if</span>&nbsp;<span class="ident" id="7966657"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966618">err</a></span>&nbsp;<span class="op" id="7966661">!=</span>&nbsp;<span class="builtintype" id="7966664">nil</span>&nbsp;<span class="op" id="7966668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966672"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966598">t</a></span><span class="op" id="7966673">.</span><span class="ident" id="7966674"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7966679">(</span><span class="ident" id="7966680"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966618">err</a></span><span class="op" id="7966683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7966686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966689">filename</span>&nbsp;<span class="op" id="7966698">:=</span>&nbsp;<span class="ident" id="7966701"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966615">f</a></span><span class="op" id="7966702">.</span><span class="ident" id="7966703"><a href="/gostd/os/file.go.html#2441585">Name</a></span><span class="op" id="7966707">(</span><span class="op" id="7966708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7966711">data</span>&nbsp;<span class="op" id="7966716">:=</span>&nbsp;<span class="string" id="7966719">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="7966789">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7966793">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="7966866">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7966870">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7966944">if</span>&nbsp;<span class="ident" id="7966947">err</span>&nbsp;<span class="op" id="7966951">:=</span>&nbsp;<span class="ident" id="7966954"><a href="/gostd/io/ioutil/ioutil.go.html#3766490">WriteFile</a></span><span class="op" id="7966963">(</span><span class="ident" id="7966964"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966689">filename</a></span><span class="op" id="7966972">,</span>&nbsp;<span class="op" id="7966974">[</span><span class="op" id="7966975">]</span><span class="builtintype" id="7966976">byte</span><span class="op" id="7966980">(</span><span class="ident" id="7966981"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966711">data</a></span><span class="op" id="7966985">)</span><span class="op" id="7966986">,</span>&nbsp;<span class="num" id="7966988">0644</span><span class="op" id="7966992">)</span><span class="op" id="7966993">;</span>&nbsp;<span class="ident" id="7966995"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966947">err</a></span>&nbsp;<span class="op" id="7966999">!=</span>&nbsp;<span class="builtintype" id="7967002">nil</span>&nbsp;<span class="op" id="7967006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967010"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966598">t</a></span><span class="op" id="7967011">.</span><span class="ident" id="7967012"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7967018">(</span><span class="string" id="7967019">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7967037">,</span>&nbsp;<span class="ident" id="7967039"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966689">filename</a></span><span class="op" id="7967047">,</span>&nbsp;<span class="ident" id="7967049"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966947">err</a></span><span class="op" id="7967052">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7967055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967059">contents</span><span class="op" id="7967067">,</span>&nbsp;<span class="ident" id="7967069"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966618">err</a></span>&nbsp;<span class="op" id="7967073">:=</span>&nbsp;<span class="ident" id="7967076"><a href="/gostd/io/ioutil/ioutil.go.html#3765434">ReadFile</a></span><span class="op" id="7967084">(</span><span class="ident" id="7967085"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966689">filename</a></span><span class="op" id="7967093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967096">if</span>&nbsp;<span class="ident" id="7967099"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966618">err</a></span>&nbsp;<span class="op" id="7967103">!=</span>&nbsp;<span class="builtintype" id="7967106">nil</span>&nbsp;<span class="op" id="7967110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967114"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966598">t</a></span><span class="op" id="7967115">.</span><span class="ident" id="7967116"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7967122">(</span><span class="string" id="7967123">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7967140">,</span>&nbsp;<span class="ident" id="7967142"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966689">filename</a></span><span class="op" id="7967150">,</span>&nbsp;<span class="ident" id="7967152"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966618">err</a></span><span class="op" id="7967155">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7967158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967162">if</span>&nbsp;<span class="builtintype" id="7967165">string</span><span class="op" id="7967171">(</span><span class="ident" id="7967172"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967059">contents</a></span><span class="op" id="7967180">)</span>&nbsp;<span class="op" id="7967182">!=</span>&nbsp;<span class="ident" id="7967185"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966711">data</a></span>&nbsp;<span class="op" id="7967190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967194"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966598">t</a></span><span class="op" id="7967195">.</span><span class="ident" id="7967196"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7967202">(</span><span class="string" id="7967203">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="7967233">,</span>&nbsp;<span class="builtintype" id="7967235">string</span><span class="op" id="7967241">(</span><span class="ident" id="7967242"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967059">contents</a></span><span class="op" id="7967250">)</span><span class="op" id="7967251">,</span>&nbsp;<span class="ident" id="7967253"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966711">data</a></span><span class="op" id="7967257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7967260">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7967264">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967276"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966615">f</a></span><span class="op" id="7967277">.</span><span class="ident" id="7967278"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="7967283">(</span><span class="op" id="7967284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967287"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965931">os</a></span><span class="op" id="7967289">.</span><span class="ident" id="7967290"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="7967296">(</span><span class="ident" id="7967297"><a href="/gostd/io/ioutil/ioutil_test.go.html#7966689">filename</a></span><span class="op" id="7967305">)</span>&nbsp;<span class="comment" id="7967307">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="7967323">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7967326">func</span>&nbsp;<span class="ident" id="7967331">TestReadDir</span><span class="op" id="7967342">(</span><span class="ident" id="7967343">t</span>&nbsp;<span class="op" id="7967345">*</span><span class="ident" id="7967346"><a href="/gostd/io/ioutil/ioutil_test.go.html#7965937">testing</a></span><span class="op" id="7967353">.</span><span class="ident" id="7967354"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7967355">)</span>&nbsp;<span class="op" id="7967357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967360">dirname</span>&nbsp;<span class="op" id="7967368">:=</span>&nbsp;<span class="string" id="7967371">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967390">_</span><span class="op" id="7967391">,</span>&nbsp;<span class="ident" id="7967393">err</span>&nbsp;<span class="op" id="7967397">:=</span>&nbsp;<span class="ident" id="7967400"><a href="/gostd/io/ioutil/ioutil.go.html#3767178">ReadDir</a></span><span class="op" id="7967407">(</span><span class="ident" id="7967408"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967360">dirname</a></span><span class="op" id="7967415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967418">if</span>&nbsp;<span class="ident" id="7967421"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967393">err</a></span>&nbsp;<span class="op" id="7967425">==</span>&nbsp;<span class="builtintype" id="7967428">nil</span>&nbsp;<span class="op" id="7967432">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967436"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967343">t</a></span><span class="op" id="7967437">.</span><span class="ident" id="7967438"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7967444">(</span><span class="string" id="7967445">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7967485">,</span>&nbsp;<span class="ident" id="7967487"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967360">dirname</a></span><span class="op" id="7967494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7967497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967501"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967360">dirname</a></span>&nbsp;<span class="op" id="7967509">=</span>&nbsp;<span class="string" id="7967511">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967517">list</span><span class="op" id="7967521">,</span>&nbsp;<span class="ident" id="7967523"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967393">err</a></span>&nbsp;<span class="op" id="7967527">:=</span>&nbsp;<span class="ident" id="7967530"><a href="/gostd/io/ioutil/ioutil.go.html#3767178">ReadDir</a></span><span class="op" id="7967537">(</span><span class="ident" id="7967538"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967360">dirname</a></span><span class="op" id="7967545">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967548">if</span>&nbsp;<span class="ident" id="7967551"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967393">err</a></span>&nbsp;<span class="op" id="7967555">!=</span>&nbsp;<span class="builtintype" id="7967558">nil</span>&nbsp;<span class="op" id="7967562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967566"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967343">t</a></span><span class="op" id="7967567">.</span><span class="ident" id="7967568"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7967574">(</span><span class="string" id="7967575">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7967591">,</span>&nbsp;<span class="ident" id="7967593"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967360">dirname</a></span><span class="op" id="7967600">,</span>&nbsp;<span class="ident" id="7967602"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967393">err</a></span><span class="op" id="7967605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7967608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967612">foundFile</span>&nbsp;<span class="op" id="7967622">:=</span>&nbsp;<span class="builtintype" id="7967625">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967632">foundSubDir</span>&nbsp;<span class="op" id="7967644">:=</span>&nbsp;<span class="builtintype" id="7967647">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967654">for</span>&nbsp;<span class="ident" id="7967658">_</span><span class="op" id="7967659">,</span>&nbsp;<span class="ident" id="7967661">dir</span>&nbsp;<span class="op" id="7967665">:=</span>&nbsp;<span class="keyword" id="7967668">range</span>&nbsp;<span class="ident" id="7967674"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967517">list</a></span>&nbsp;<span class="op" id="7967679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967683">switch</span>&nbsp;<span class="op" id="7967690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967694">case</span>&nbsp;<span class="op" id="7967699">!</span><span class="ident" id="7967700"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967661">dir</a></span><span class="op" id="7967703">.</span><span class="ident" id="7967704"><a href="/gostd/os/types.go.html#2472696">IsDir</a></span><span class="op" id="7967709">(</span><span class="op" id="7967710">)</span>&nbsp;<span class="op" id="7967712">&amp;&amp;</span>&nbsp;<span class="ident" id="7967715"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967661">dir</a></span><span class="op" id="7967718">.</span><span class="ident" id="7967719"><a href="/gostd/os/types.go.html#2472482">Name</a></span><span class="op" id="7967723">(</span><span class="op" id="7967724">)</span>&nbsp;<span class="op" id="7967726">==</span>&nbsp;<span class="string" id="7967729">&#34;io_test.go&#34;</span><span class="op" id="7967741">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967746"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967612">foundFile</a></span>&nbsp;<span class="op" id="7967756">=</span>&nbsp;<span class="builtintype" id="7967758">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967765">case</span>&nbsp;<span class="ident" id="7967770"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967661">dir</a></span><span class="op" id="7967773">.</span><span class="ident" id="7967774"><a href="/gostd/os/types.go.html#2472696">IsDir</a></span><span class="op" id="7967779">(</span><span class="op" id="7967780">)</span>&nbsp;<span class="op" id="7967782">&amp;&amp;</span>&nbsp;<span class="ident" id="7967785"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967661">dir</a></span><span class="op" id="7967788">.</span><span class="ident" id="7967789"><a href="/gostd/os/types.go.html#2472482">Name</a></span><span class="op" id="7967793">(</span><span class="op" id="7967794">)</span>&nbsp;<span class="op" id="7967796">==</span>&nbsp;<span class="string" id="7967799">&#34;ioutil&#34;</span><span class="op" id="7967807">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967812"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967632">foundSubDir</a></span>&nbsp;<span class="op" id="7967824">=</span>&nbsp;<span class="builtintype" id="7967826">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7967833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7967836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967839">if</span>&nbsp;<span class="op" id="7967842">!</span><span class="ident" id="7967843"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967612">foundFile</a></span>&nbsp;<span class="op" id="7967853">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967857"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967343">t</a></span><span class="op" id="7967858">.</span><span class="ident" id="7967859"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7967865">(</span><span class="string" id="7967866">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="7967905">,</span>&nbsp;<span class="ident" id="7967907"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967360">dirname</a></span><span class="op" id="7967914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7967917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7967920">if</span>&nbsp;<span class="op" id="7967923">!</span><span class="ident" id="7967924"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967632">foundSubDir</a></span>&nbsp;<span class="op" id="7967936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7967940"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967343">t</a></span><span class="op" id="7967941">.</span><span class="ident" id="7967942"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7967948">(</span><span class="string" id="7967949">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="7967989">,</span>&nbsp;<span class="ident" id="7967991"><a href="/gostd/io/ioutil/ioutil_test.go.html#7967360">dirname</a></span><span class="op" id="7967998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7968001">}</span><br>
<span class="lineno">95</span><span class="op" id="7968003">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
