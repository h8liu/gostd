<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html" class="current">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1430866">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1430921">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1430975">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1431026">package</span>&nbsp;<span class="ident" id="1431034">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1431043">import</span>&nbsp;<span class="string" id="1431050">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1431060">const</span>&nbsp;<span class="op" id="1431066">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431069">c0</span>&nbsp;<span class="op" id="1431072">=</span>&nbsp;<span class="builtintype" id="1431074">uintptr</span><span class="op" id="1431081">(</span><span class="op" id="1431082">(</span><span class="num" id="1431083">8</span><span class="op" id="1431084">-</span><span class="ident" id="1431085">ptrSize</span><span class="op" id="1431092">)</span><span class="op" id="1431093">/</span><span class="num" id="1431094">4</span><span class="op" id="1431095">*</span><span class="num" id="1431096">2860486313</span>&nbsp;<span class="op" id="1431107">+</span>&nbsp;<span class="op" id="1431109">(</span><span class="ident" id="1431110">ptrSize</span><span class="op" id="1431117">-</span><span class="num" id="1431118">4</span><span class="op" id="1431119">)</span><span class="op" id="1431120">/</span><span class="num" id="1431121">4</span><span class="op" id="1431122">*</span><span class="num" id="1431123">33054211828000289</span><span class="op" id="1431140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431143">c1</span>&nbsp;<span class="op" id="1431146">=</span>&nbsp;<span class="builtintype" id="1431148">uintptr</span><span class="op" id="1431155">(</span><span class="op" id="1431156">(</span><span class="num" id="1431157">8</span><span class="op" id="1431158">-</span><span class="ident" id="1431159">ptrSize</span><span class="op" id="1431166">)</span><span class="op" id="1431167">/</span><span class="num" id="1431168">4</span><span class="op" id="1431169">*</span><span class="num" id="1431170">3267000013</span>&nbsp;<span class="op" id="1431181">+</span>&nbsp;<span class="op" id="1431183">(</span><span class="ident" id="1431184">ptrSize</span><span class="op" id="1431191">-</span><span class="num" id="1431192">4</span><span class="op" id="1431193">)</span><span class="op" id="1431194">/</span><span class="num" id="1431195">4</span><span class="op" id="1431196">*</span><span class="num" id="1431197">23344194077549503</span><span class="op" id="1431214">)</span><br>
<span class="lineno"></span><span class="op" id="1431216">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1431219">//&nbsp;type&nbsp;algorithms&nbsp;-&nbsp;known&nbsp;to&nbsp;compiler</span><br>
<span class="lineno">15</span><span class="keyword" id="1431258">const</span>&nbsp;<span class="op" id="1431264">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431267">alg_MEM</span>&nbsp;<span class="op" id="1431275">=</span>&nbsp;<span class="ident" id="1431277">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431283">alg_MEM0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431293">alg_MEM8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431303">alg_MEM16</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431314">alg_MEM32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431325">alg_MEM64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431336">alg_MEM128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431348">alg_NOEQ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431358">alg_NOEQ0</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431369">alg_NOEQ8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431380">alg_NOEQ16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431392">alg_NOEQ32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431404">alg_NOEQ64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431416">alg_NOEQ128</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431429">alg_STRING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431441">alg_INTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431452">alg_NILINTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431466">alg_SLICE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431477">alg_FLOAT32</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431490">alg_FLOAT64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431503">alg_CPLX64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431515">alg_CPLX128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431528">alg_max</span><br>
<span class="lineno"></span><span class="op" id="1431536">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1431539">type</span>&nbsp;<span class="ident" id="1431544">typeAlg</span>&nbsp;<span class="keyword" id="1431552">struct</span>&nbsp;<span class="op" id="1431559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1431562">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1431608">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431648">hash</span>&nbsp;<span class="keyword" id="1431653">func</span><span class="op" id="1431657">(</span><span class="ident" id="1431658">unsafe</span><span class="op" id="1431664">.</span><span class="ident" id="1431665">Pointer</span><span class="op" id="1431672">,</span>&nbsp;<span class="builtintype" id="1431674">uintptr</span><span class="op" id="1431681">,</span>&nbsp;<span class="builtintype" id="1431683">uintptr</span><span class="op" id="1431690">)</span>&nbsp;<span class="builtintype" id="1431692">uintptr</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1431701">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1431749">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431801">equal</span>&nbsp;<span class="keyword" id="1431807">func</span><span class="op" id="1431811">(</span><span class="ident" id="1431812">unsafe</span><span class="op" id="1431818">.</span><span class="ident" id="1431819">Pointer</span><span class="op" id="1431826">,</span>&nbsp;<span class="ident" id="1431828">unsafe</span><span class="op" id="1431834">.</span><span class="ident" id="1431835">Pointer</span><span class="op" id="1431842">,</span>&nbsp;<span class="builtintype" id="1431844">uintptr</span><span class="op" id="1431851">)</span>&nbsp;<span class="builtintype" id="1431853">bool</span><br>
<span class="lineno"></span><span class="op" id="1431858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="1431861">var</span>&nbsp;<span class="ident" id="1431865">algarray</span>&nbsp;<span class="op" id="1431874">=</span>&nbsp;<span class="op" id="1431876">[</span><span class="ident" id="1431877">alg_max</span><span class="op" id="1431884">]</span><span class="ident" id="1431885">typeAlg</span><span class="op" id="1431892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431895">alg_MEM</span><span class="op" id="1431902">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431909">{</span><span class="ident" id="1431910">memhash</span><span class="op" id="1431917">,</span>&nbsp;<span class="ident" id="1431919">memequal</span><span class="op" id="1431927">}</span><span class="op" id="1431928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431931">alg_MEM0</span><span class="op" id="1431939">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431945">{</span><span class="ident" id="1431946">memhash</span><span class="op" id="1431953">,</span>&nbsp;<span class="ident" id="1431955">memequal0</span><span class="op" id="1431964">}</span><span class="op" id="1431965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431968">alg_MEM8</span><span class="op" id="1431976">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431982">{</span><span class="ident" id="1431983">memhash</span><span class="op" id="1431990">,</span>&nbsp;<span class="ident" id="1431992">memequal8</span><span class="op" id="1432001">}</span><span class="op" id="1432002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432005">alg_MEM16</span><span class="op" id="1432014">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432019">{</span><span class="ident" id="1432020">memhash</span><span class="op" id="1432027">,</span>&nbsp;<span class="ident" id="1432029">memequal16</span><span class="op" id="1432039">}</span><span class="op" id="1432040">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432043">alg_MEM32</span><span class="op" id="1432052">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432057">{</span><span class="ident" id="1432058">memhash</span><span class="op" id="1432065">,</span>&nbsp;<span class="ident" id="1432067">memequal32</span><span class="op" id="1432077">}</span><span class="op" id="1432078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432081">alg_MEM64</span><span class="op" id="1432090">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432095">{</span><span class="ident" id="1432096">memhash</span><span class="op" id="1432103">,</span>&nbsp;<span class="ident" id="1432105">memequal64</span><span class="op" id="1432115">}</span><span class="op" id="1432116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432119">alg_MEM128</span><span class="op" id="1432129">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1432133">{</span><span class="ident" id="1432134">memhash</span><span class="op" id="1432141">,</span>&nbsp;<span class="ident" id="1432143">memequal128</span><span class="op" id="1432154">}</span><span class="op" id="1432155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432158">alg_NOEQ</span><span class="op" id="1432166">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432172">{</span><span class="builtintype" id="1432173">nil</span><span class="op" id="1432176">,</span>&nbsp;<span class="builtintype" id="1432178">nil</span><span class="op" id="1432181">}</span><span class="op" id="1432182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432185">alg_NOEQ0</span><span class="op" id="1432194">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432199">{</span><span class="builtintype" id="1432200">nil</span><span class="op" id="1432203">,</span>&nbsp;<span class="builtintype" id="1432205">nil</span><span class="op" id="1432208">}</span><span class="op" id="1432209">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432212">alg_NOEQ8</span><span class="op" id="1432221">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432226">{</span><span class="builtintype" id="1432227">nil</span><span class="op" id="1432230">,</span>&nbsp;<span class="builtintype" id="1432232">nil</span><span class="op" id="1432235">}</span><span class="op" id="1432236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432239">alg_NOEQ16</span><span class="op" id="1432249">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1432253">{</span><span class="builtintype" id="1432254">nil</span><span class="op" id="1432257">,</span>&nbsp;<span class="builtintype" id="1432259">nil</span><span class="op" id="1432262">}</span><span class="op" id="1432263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432266">alg_NOEQ32</span><span class="op" id="1432276">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1432280">{</span><span class="builtintype" id="1432281">nil</span><span class="op" id="1432284">,</span>&nbsp;<span class="builtintype" id="1432286">nil</span><span class="op" id="1432289">}</span><span class="op" id="1432290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432293">alg_NOEQ64</span><span class="op" id="1432303">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1432307">{</span><span class="builtintype" id="1432308">nil</span><span class="op" id="1432311">,</span>&nbsp;<span class="builtintype" id="1432313">nil</span><span class="op" id="1432316">}</span><span class="op" id="1432317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432320">alg_NOEQ128</span><span class="op" id="1432331">:</span>&nbsp;&nbsp;<span class="op" id="1432334">{</span><span class="builtintype" id="1432335">nil</span><span class="op" id="1432338">,</span>&nbsp;<span class="builtintype" id="1432340">nil</span><span class="op" id="1432343">}</span><span class="op" id="1432344">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432347">alg_STRING</span><span class="op" id="1432357">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1432361">{</span><span class="ident" id="1432362">strhash</span><span class="op" id="1432369">,</span>&nbsp;<span class="ident" id="1432371">strequal</span><span class="op" id="1432379">}</span><span class="op" id="1432380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432383">alg_INTER</span><span class="op" id="1432392">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432397">{</span><span class="ident" id="1432398">interhash</span><span class="op" id="1432407">,</span>&nbsp;<span class="ident" id="1432409">interequal</span><span class="op" id="1432419">}</span><span class="op" id="1432420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432423">alg_NILINTER</span><span class="op" id="1432435">:</span>&nbsp;<span class="op" id="1432437">{</span><span class="ident" id="1432438">nilinterhash</span><span class="op" id="1432450">,</span>&nbsp;<span class="ident" id="1432452">nilinterequal</span><span class="op" id="1432465">}</span><span class="op" id="1432466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432469">alg_SLICE</span><span class="op" id="1432478">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432483">{</span><span class="builtintype" id="1432484">nil</span><span class="op" id="1432487">,</span>&nbsp;<span class="builtintype" id="1432489">nil</span><span class="op" id="1432492">}</span><span class="op" id="1432493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432496">alg_FLOAT32</span><span class="op" id="1432507">:</span>&nbsp;&nbsp;<span class="op" id="1432510">{</span><span class="ident" id="1432511">f32hash</span><span class="op" id="1432518">,</span>&nbsp;<span class="ident" id="1432520">f32equal</span><span class="op" id="1432528">}</span><span class="op" id="1432529">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432532">alg_FLOAT64</span><span class="op" id="1432543">:</span>&nbsp;&nbsp;<span class="op" id="1432546">{</span><span class="ident" id="1432547">f64hash</span><span class="op" id="1432554">,</span>&nbsp;<span class="ident" id="1432556">f64equal</span><span class="op" id="1432564">}</span><span class="op" id="1432565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432568">alg_CPLX64</span><span class="op" id="1432578">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1432582">{</span><span class="ident" id="1432583">c64hash</span><span class="op" id="1432590">,</span>&nbsp;<span class="ident" id="1432592">c64equal</span><span class="op" id="1432600">}</span><span class="op" id="1432601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432604">alg_CPLX128</span><span class="op" id="1432615">:</span>&nbsp;&nbsp;<span class="op" id="1432618">{</span><span class="ident" id="1432619">c128hash</span><span class="op" id="1432627">,</span>&nbsp;<span class="ident" id="1432629">c128equal</span><span class="op" id="1432638">}</span><span class="op" id="1432639">,</span><br>
<span class="lineno"></span><span class="op" id="1432641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="1432644">const</span>&nbsp;<span class="ident" id="1432650">nacl</span>&nbsp;<span class="op" id="1432655">=</span>&nbsp;<span class="ident" id="1432657">GOOS</span>&nbsp;<span class="op" id="1432662">==</span>&nbsp;<span class="string" id="1432665">&#34;nacl&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1432673">var</span>&nbsp;<span class="ident" id="1432677">useAeshash</span>&nbsp;<span class="builtintype" id="1432688">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1432694">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">80</span><span class="keyword" id="1432708">func</span>&nbsp;<span class="ident" id="1432713">aeshash</span><span class="op" id="1432720">(</span><span class="ident" id="1432721">p</span>&nbsp;<span class="ident" id="1432723">unsafe</span><span class="op" id="1432729">.</span><span class="ident" id="1432730">Pointer</span><span class="op" id="1432737">,</span>&nbsp;<span class="ident" id="1432739">s</span><span class="op" id="1432740">,</span>&nbsp;<span class="ident" id="1432742">h</span>&nbsp;<span class="builtintype" id="1432744">uintptr</span><span class="op" id="1432751">)</span>&nbsp;<span class="builtintype" id="1432753">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1432761">func</span>&nbsp;<span class="ident" id="1432766">aeshash32</span><span class="op" id="1432775">(</span><span class="ident" id="1432776">p</span>&nbsp;<span class="ident" id="1432778">unsafe</span><span class="op" id="1432784">.</span><span class="ident" id="1432785">Pointer</span><span class="op" id="1432792">,</span>&nbsp;<span class="ident" id="1432794">s</span><span class="op" id="1432795">,</span>&nbsp;<span class="ident" id="1432797">h</span>&nbsp;<span class="builtintype" id="1432799">uintptr</span><span class="op" id="1432806">)</span>&nbsp;<span class="builtintype" id="1432808">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1432816">func</span>&nbsp;<span class="ident" id="1432821">aeshash64</span><span class="op" id="1432830">(</span><span class="ident" id="1432831">p</span>&nbsp;<span class="ident" id="1432833">unsafe</span><span class="op" id="1432839">.</span><span class="ident" id="1432840">Pointer</span><span class="op" id="1432847">,</span>&nbsp;<span class="ident" id="1432849">s</span><span class="op" id="1432850">,</span>&nbsp;<span class="ident" id="1432852">h</span>&nbsp;<span class="builtintype" id="1432854">uintptr</span><span class="op" id="1432861">)</span>&nbsp;<span class="builtintype" id="1432863">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1432871">func</span>&nbsp;<span class="ident" id="1432876">aeshashstr</span><span class="op" id="1432886">(</span><span class="ident" id="1432887">p</span>&nbsp;<span class="ident" id="1432889">unsafe</span><span class="op" id="1432895">.</span><span class="ident" id="1432896">Pointer</span><span class="op" id="1432903">,</span>&nbsp;<span class="ident" id="1432905">s</span><span class="op" id="1432906">,</span>&nbsp;<span class="ident" id="1432908">h</span>&nbsp;<span class="builtintype" id="1432910">uintptr</span><span class="op" id="1432917">)</span>&nbsp;<span class="builtintype" id="1432919">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="1432928">func</span>&nbsp;<span class="ident" id="1432933">memhash</span><span class="op" id="1432940">(</span><span class="ident" id="1432941">p</span>&nbsp;<span class="ident" id="1432943">unsafe</span><span class="op" id="1432949">.</span><span class="ident" id="1432950">Pointer</span><span class="op" id="1432957">,</span>&nbsp;<span class="ident" id="1432959">s</span><span class="op" id="1432960">,</span>&nbsp;<span class="ident" id="1432962">h</span>&nbsp;<span class="builtintype" id="1432964">uintptr</span><span class="op" id="1432971">)</span>&nbsp;<span class="builtintype" id="1432973">uintptr</span>&nbsp;<span class="op" id="1432981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432984">if</span>&nbsp;<span class="op" id="1432987">!</span><span class="ident" id="1432988">nacl</span>&nbsp;<span class="op" id="1432993">&amp;&amp;</span>&nbsp;<span class="ident" id="1432996">useAeshash</span>&nbsp;<span class="op" id="1433007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433011">return</span>&nbsp;<span class="ident" id="1433018">aeshash</span><span class="op" id="1433025">(</span><span class="ident" id="1433026">p</span><span class="op" id="1433027">,</span>&nbsp;<span class="ident" id="1433029">s</span><span class="op" id="1433030">,</span>&nbsp;<span class="ident" id="1433032">h</span><span class="op" id="1433033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1433036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433040">h</span>&nbsp;<span class="op" id="1433042">^=</span>&nbsp;<span class="ident" id="1433045">c0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433049">for</span>&nbsp;<span class="ident" id="1433053">s</span>&nbsp;<span class="op" id="1433055">&gt;</span>&nbsp;<span class="num" id="1433057">0</span>&nbsp;<span class="op" id="1433059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433063">h</span>&nbsp;<span class="op" id="1433065">=</span>&nbsp;<span class="op" id="1433067">(</span><span class="ident" id="1433068">h</span>&nbsp;<span class="op" id="1433070">^</span>&nbsp;<span class="builtintype" id="1433072">uintptr</span><span class="op" id="1433079">(</span><span class="op" id="1433080">*</span><span class="op" id="1433081">(</span><span class="op" id="1433082">*</span><span class="builtintype" id="1433083">byte</span><span class="op" id="1433087">)</span><span class="op" id="1433088">(</span><span class="ident" id="1433089">p</span><span class="op" id="1433090">)</span><span class="op" id="1433091">)</span><span class="op" id="1433092">)</span>&nbsp;<span class="op" id="1433094">*</span>&nbsp;<span class="ident" id="1433096">c1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433101">p</span>&nbsp;<span class="op" id="1433103">=</span>&nbsp;<span class="ident" id="1433105">add</span><span class="op" id="1433108">(</span><span class="ident" id="1433109">p</span><span class="op" id="1433110">,</span>&nbsp;<span class="num" id="1433112">1</span><span class="op" id="1433113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433117">s</span><span class="op" id="1433118">--</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1433122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433125">return</span>&nbsp;<span class="ident" id="1433132">h</span><br>
<span class="lineno"></span><span class="op" id="1433134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1433137">func</span>&nbsp;<span class="ident" id="1433142">strhash</span><span class="op" id="1433149">(</span><span class="ident" id="1433150">a</span>&nbsp;<span class="ident" id="1433152">unsafe</span><span class="op" id="1433158">.</span><span class="ident" id="1433159">Pointer</span><span class="op" id="1433166">,</span>&nbsp;<span class="ident" id="1433168">s</span><span class="op" id="1433169">,</span>&nbsp;<span class="ident" id="1433171">h</span>&nbsp;<span class="builtintype" id="1433173">uintptr</span><span class="op" id="1433180">)</span>&nbsp;<span class="builtintype" id="1433182">uintptr</span>&nbsp;<span class="op" id="1433190">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433193">return</span>&nbsp;<span class="ident" id="1433200">memhash</span><span class="op" id="1433207">(</span><span class="op" id="1433208">(</span><span class="op" id="1433209">*</span><span class="ident" id="1433210">stringStruct</span><span class="op" id="1433222">)</span><span class="op" id="1433223">(</span><span class="ident" id="1433224">a</span><span class="op" id="1433225">)</span><span class="op" id="1433226">.</span><span class="ident" id="1433227">str</span><span class="op" id="1433230">,</span>&nbsp;<span class="builtintype" id="1433232">uintptr</span><span class="op" id="1433239">(</span><span class="builtinfunc" id="1433240">len</span><span class="op" id="1433243">(</span><span class="op" id="1433244">*</span><span class="op" id="1433245">(</span><span class="op" id="1433246">*</span><span class="builtintype" id="1433247">string</span><span class="op" id="1433253">)</span><span class="op" id="1433254">(</span><span class="ident" id="1433255">a</span><span class="op" id="1433256">)</span><span class="op" id="1433257">)</span><span class="op" id="1433258">)</span><span class="op" id="1433259">,</span>&nbsp;<span class="ident" id="1433261">h</span><span class="op" id="1433262">)</span><br>
<span class="lineno"></span><span class="op" id="1433264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1433267">//&nbsp;NOTE:&nbsp;Because&nbsp;NaN&nbsp;!=&nbsp;NaN,&nbsp;a&nbsp;map&nbsp;can&nbsp;contain&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="1433318">//&nbsp;number&nbsp;of&nbsp;(mostly&nbsp;useless)&nbsp;entries&nbsp;keyed&nbsp;with&nbsp;NaNs.</span><br>
<span class="lineno">105</span><span class="comment" id="1433373">//&nbsp;To&nbsp;avoid&nbsp;long&nbsp;hash&nbsp;chains,&nbsp;we&nbsp;assign&nbsp;a&nbsp;random&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="1433429">//&nbsp;as&nbsp;the&nbsp;hash&nbsp;value&nbsp;for&nbsp;a&nbsp;NaN.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1433462">func</span>&nbsp;<span class="ident" id="1433467">f32hash</span><span class="op" id="1433474">(</span><span class="ident" id="1433475">p</span>&nbsp;<span class="ident" id="1433477">unsafe</span><span class="op" id="1433483">.</span><span class="ident" id="1433484">Pointer</span><span class="op" id="1433491">,</span>&nbsp;<span class="ident" id="1433493">s</span><span class="op" id="1433494">,</span>&nbsp;<span class="ident" id="1433496">h</span>&nbsp;<span class="builtintype" id="1433498">uintptr</span><span class="op" id="1433505">)</span>&nbsp;<span class="builtintype" id="1433507">uintptr</span>&nbsp;<span class="op" id="1433515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433518">f</span>&nbsp;<span class="op" id="1433520">:=</span>&nbsp;<span class="op" id="1433523">*</span><span class="op" id="1433524">(</span><span class="op" id="1433525">*</span><span class="builtintype" id="1433526">float32</span><span class="op" id="1433533">)</span><span class="op" id="1433534">(</span><span class="ident" id="1433535">p</span><span class="op" id="1433536">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433539">switch</span>&nbsp;<span class="op" id="1433546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433549">case</span>&nbsp;<span class="ident" id="1433554">f</span>&nbsp;<span class="op" id="1433556">==</span>&nbsp;<span class="num" id="1433559">0</span><span class="op" id="1433560">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433564">return</span>&nbsp;<span class="ident" id="1433571">c1</span>&nbsp;<span class="op" id="1433574">*</span>&nbsp;<span class="op" id="1433576">(</span><span class="ident" id="1433577">c0</span>&nbsp;<span class="op" id="1433580">^</span>&nbsp;<span class="ident" id="1433582">h</span><span class="op" id="1433583">)</span>&nbsp;<span class="comment" id="1433585">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433596">case</span>&nbsp;<span class="ident" id="1433601">f</span>&nbsp;<span class="op" id="1433603">!=</span>&nbsp;<span class="ident" id="1433606">f</span><span class="op" id="1433607">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433611">return</span>&nbsp;<span class="ident" id="1433618">c1</span>&nbsp;<span class="op" id="1433621">*</span>&nbsp;<span class="op" id="1433623">(</span><span class="ident" id="1433624">c0</span>&nbsp;<span class="op" id="1433627">^</span>&nbsp;<span class="ident" id="1433629">h</span>&nbsp;<span class="op" id="1433631">^</span>&nbsp;<span class="builtintype" id="1433633">uintptr</span><span class="op" id="1433640">(</span><span class="ident" id="1433641">fastrand1</span><span class="op" id="1433650">(</span><span class="op" id="1433651">)</span><span class="op" id="1433652">)</span><span class="op" id="1433653">)</span>&nbsp;<span class="comment" id="1433655">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433675">default</span><span class="op" id="1433682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433686">return</span>&nbsp;<span class="ident" id="1433693">memhash</span><span class="op" id="1433700">(</span><span class="ident" id="1433701">p</span><span class="op" id="1433702">,</span>&nbsp;<span class="num" id="1433704">4</span><span class="op" id="1433705">,</span>&nbsp;<span class="ident" id="1433707">h</span><span class="op" id="1433708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1433711">}</span><br>
<span class="lineno"></span><span class="op" id="1433713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="1433716">func</span>&nbsp;<span class="ident" id="1433721">f64hash</span><span class="op" id="1433728">(</span><span class="ident" id="1433729">p</span>&nbsp;<span class="ident" id="1433731">unsafe</span><span class="op" id="1433737">.</span><span class="ident" id="1433738">Pointer</span><span class="op" id="1433745">,</span>&nbsp;<span class="ident" id="1433747">s</span><span class="op" id="1433748">,</span>&nbsp;<span class="ident" id="1433750">h</span>&nbsp;<span class="builtintype" id="1433752">uintptr</span><span class="op" id="1433759">)</span>&nbsp;<span class="builtintype" id="1433761">uintptr</span>&nbsp;<span class="op" id="1433769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433772">f</span>&nbsp;<span class="op" id="1433774">:=</span>&nbsp;<span class="op" id="1433777">*</span><span class="op" id="1433778">(</span><span class="op" id="1433779">*</span><span class="builtintype" id="1433780">float64</span><span class="op" id="1433787">)</span><span class="op" id="1433788">(</span><span class="ident" id="1433789">p</span><span class="op" id="1433790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433793">switch</span>&nbsp;<span class="op" id="1433800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433803">case</span>&nbsp;<span class="ident" id="1433808">f</span>&nbsp;<span class="op" id="1433810">==</span>&nbsp;<span class="num" id="1433813">0</span><span class="op" id="1433814">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433818">return</span>&nbsp;<span class="ident" id="1433825">c1</span>&nbsp;<span class="op" id="1433828">*</span>&nbsp;<span class="op" id="1433830">(</span><span class="ident" id="1433831">c0</span>&nbsp;<span class="op" id="1433834">^</span>&nbsp;<span class="ident" id="1433836">h</span><span class="op" id="1433837">)</span>&nbsp;<span class="comment" id="1433839">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433850">case</span>&nbsp;<span class="ident" id="1433855">f</span>&nbsp;<span class="op" id="1433857">!=</span>&nbsp;<span class="ident" id="1433860">f</span><span class="op" id="1433861">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433865">return</span>&nbsp;<span class="ident" id="1433872">c1</span>&nbsp;<span class="op" id="1433875">*</span>&nbsp;<span class="op" id="1433877">(</span><span class="ident" id="1433878">c0</span>&nbsp;<span class="op" id="1433881">^</span>&nbsp;<span class="ident" id="1433883">h</span>&nbsp;<span class="op" id="1433885">^</span>&nbsp;<span class="builtintype" id="1433887">uintptr</span><span class="op" id="1433894">(</span><span class="ident" id="1433895">fastrand1</span><span class="op" id="1433904">(</span><span class="op" id="1433905">)</span><span class="op" id="1433906">)</span><span class="op" id="1433907">)</span>&nbsp;<span class="comment" id="1433909">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433929">default</span><span class="op" id="1433936">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433940">return</span>&nbsp;<span class="ident" id="1433947">memhash</span><span class="op" id="1433954">(</span><span class="ident" id="1433955">p</span><span class="op" id="1433956">,</span>&nbsp;<span class="num" id="1433958">8</span><span class="op" id="1433959">,</span>&nbsp;<span class="ident" id="1433961">h</span><span class="op" id="1433962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1433965">}</span><br>
<span class="lineno">130</span><span class="op" id="1433967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1433970">func</span>&nbsp;<span class="ident" id="1433975">c64hash</span><span class="op" id="1433982">(</span><span class="ident" id="1433983">p</span>&nbsp;<span class="ident" id="1433985">unsafe</span><span class="op" id="1433991">.</span><span class="ident" id="1433992">Pointer</span><span class="op" id="1433999">,</span>&nbsp;<span class="ident" id="1434001">s</span><span class="op" id="1434002">,</span>&nbsp;<span class="ident" id="1434004">h</span>&nbsp;<span class="builtintype" id="1434006">uintptr</span><span class="op" id="1434013">)</span>&nbsp;<span class="builtintype" id="1434015">uintptr</span>&nbsp;<span class="op" id="1434023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434026">x</span>&nbsp;<span class="op" id="1434028">:=</span>&nbsp;<span class="op" id="1434031">(</span><span class="op" id="1434032">*</span><span class="op" id="1434033">[</span><span class="num" id="1434034">2</span><span class="op" id="1434035">]</span><span class="builtintype" id="1434036">float32</span><span class="op" id="1434043">)</span><span class="op" id="1434044">(</span><span class="ident" id="1434045">p</span><span class="op" id="1434046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434049">return</span>&nbsp;<span class="ident" id="1434056">f32hash</span><span class="op" id="1434063">(</span><span class="ident" id="1434064">unsafe</span><span class="op" id="1434070">.</span><span class="ident" id="1434071">Pointer</span><span class="op" id="1434078">(</span><span class="op" id="1434079">&amp;</span><span class="ident" id="1434080">x</span><span class="op" id="1434081">[</span><span class="num" id="1434082">1</span><span class="op" id="1434083">]</span><span class="op" id="1434084">)</span><span class="op" id="1434085">,</span>&nbsp;<span class="num" id="1434087">4</span><span class="op" id="1434088">,</span>&nbsp;<span class="ident" id="1434090">f32hash</span><span class="op" id="1434097">(</span><span class="ident" id="1434098">unsafe</span><span class="op" id="1434104">.</span><span class="ident" id="1434105">Pointer</span><span class="op" id="1434112">(</span><span class="op" id="1434113">&amp;</span><span class="ident" id="1434114">x</span><span class="op" id="1434115">[</span><span class="num" id="1434116">0</span><span class="op" id="1434117">]</span><span class="op" id="1434118">)</span><span class="op" id="1434119">,</span>&nbsp;<span class="num" id="1434121">4</span><span class="op" id="1434122">,</span>&nbsp;<span class="ident" id="1434124">h</span><span class="op" id="1434125">)</span><span class="op" id="1434126">)</span><br>
<span class="lineno">135</span><span class="op" id="1434128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1434131">func</span>&nbsp;<span class="ident" id="1434136">c128hash</span><span class="op" id="1434144">(</span><span class="ident" id="1434145">p</span>&nbsp;<span class="ident" id="1434147">unsafe</span><span class="op" id="1434153">.</span><span class="ident" id="1434154">Pointer</span><span class="op" id="1434161">,</span>&nbsp;<span class="ident" id="1434163">s</span><span class="op" id="1434164">,</span>&nbsp;<span class="ident" id="1434166">h</span>&nbsp;<span class="builtintype" id="1434168">uintptr</span><span class="op" id="1434175">)</span>&nbsp;<span class="builtintype" id="1434177">uintptr</span>&nbsp;<span class="op" id="1434185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434188">x</span>&nbsp;<span class="op" id="1434190">:=</span>&nbsp;<span class="op" id="1434193">(</span><span class="op" id="1434194">*</span><span class="op" id="1434195">[</span><span class="num" id="1434196">2</span><span class="op" id="1434197">]</span><span class="builtintype" id="1434198">float64</span><span class="op" id="1434205">)</span><span class="op" id="1434206">(</span><span class="ident" id="1434207">p</span><span class="op" id="1434208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434211">return</span>&nbsp;<span class="ident" id="1434218">f64hash</span><span class="op" id="1434225">(</span><span class="ident" id="1434226">unsafe</span><span class="op" id="1434232">.</span><span class="ident" id="1434233">Pointer</span><span class="op" id="1434240">(</span><span class="op" id="1434241">&amp;</span><span class="ident" id="1434242">x</span><span class="op" id="1434243">[</span><span class="num" id="1434244">1</span><span class="op" id="1434245">]</span><span class="op" id="1434246">)</span><span class="op" id="1434247">,</span>&nbsp;<span class="num" id="1434249">8</span><span class="op" id="1434250">,</span>&nbsp;<span class="ident" id="1434252">f64hash</span><span class="op" id="1434259">(</span><span class="ident" id="1434260">unsafe</span><span class="op" id="1434266">.</span><span class="ident" id="1434267">Pointer</span><span class="op" id="1434274">(</span><span class="op" id="1434275">&amp;</span><span class="ident" id="1434276">x</span><span class="op" id="1434277">[</span><span class="num" id="1434278">0</span><span class="op" id="1434279">]</span><span class="op" id="1434280">)</span><span class="op" id="1434281">,</span>&nbsp;<span class="num" id="1434283">8</span><span class="op" id="1434284">,</span>&nbsp;<span class="ident" id="1434286">h</span><span class="op" id="1434287">)</span><span class="op" id="1434288">)</span><br>
<span class="lineno">140</span><span class="op" id="1434290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1434293">func</span>&nbsp;<span class="ident" id="1434298">interhash</span><span class="op" id="1434307">(</span><span class="ident" id="1434308">p</span>&nbsp;<span class="ident" id="1434310">unsafe</span><span class="op" id="1434316">.</span><span class="ident" id="1434317">Pointer</span><span class="op" id="1434324">,</span>&nbsp;<span class="ident" id="1434326">s</span><span class="op" id="1434327">,</span>&nbsp;<span class="ident" id="1434329">h</span>&nbsp;<span class="builtintype" id="1434331">uintptr</span><span class="op" id="1434338">)</span>&nbsp;<span class="builtintype" id="1434340">uintptr</span>&nbsp;<span class="op" id="1434348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434351">a</span>&nbsp;<span class="op" id="1434353">:=</span>&nbsp;<span class="op" id="1434356">(</span><span class="op" id="1434357">*</span><span class="ident" id="1434358">iface</span><span class="op" id="1434363">)</span><span class="op" id="1434364">(</span><span class="ident" id="1434365">p</span><span class="op" id="1434366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434369">tab</span>&nbsp;<span class="op" id="1434373">:=</span>&nbsp;<span class="ident" id="1434376">a</span><span class="op" id="1434377">.</span><span class="ident" id="1434378">tab</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434383">if</span>&nbsp;<span class="ident" id="1434386">tab</span>&nbsp;<span class="op" id="1434390">==</span>&nbsp;<span class="builtintype" id="1434393">nil</span>&nbsp;<span class="op" id="1434397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434401">return</span>&nbsp;<span class="ident" id="1434408">h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1434411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434414">t</span>&nbsp;<span class="op" id="1434416">:=</span>&nbsp;<span class="ident" id="1434419">tab</span><span class="op" id="1434422">.</span><span class="ident" id="1434423">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434430">fn</span>&nbsp;<span class="op" id="1434433">:=</span>&nbsp;<span class="ident" id="1434436">goalg</span><span class="op" id="1434441">(</span><span class="ident" id="1434442">t</span><span class="op" id="1434443">.</span><span class="ident" id="1434444">alg</span><span class="op" id="1434447">)</span><span class="op" id="1434448">.</span><span class="ident" id="1434449">hash</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434455">if</span>&nbsp;<span class="ident" id="1434458">fn</span>&nbsp;<span class="op" id="1434461">==</span>&nbsp;<span class="builtintype" id="1434464">nil</span>&nbsp;<span class="op" id="1434468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1434472">panic</span><span class="op" id="1434477">(</span><span class="ident" id="1434478">errorString</span><span class="op" id="1434489">(</span><span class="string" id="1434490">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1434517">+</span>&nbsp;<span class="op" id="1434519">*</span><span class="ident" id="1434520">t</span><span class="op" id="1434521">.</span><span class="ident" id="1434522">_string</span><span class="op" id="1434529">)</span><span class="op" id="1434530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1434533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434536">if</span>&nbsp;<span class="ident" id="1434539">isDirectIface</span><span class="op" id="1434552">(</span><span class="ident" id="1434553">t</span><span class="op" id="1434554">)</span>&nbsp;<span class="op" id="1434556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434560">return</span>&nbsp;<span class="ident" id="1434567">c1</span>&nbsp;<span class="op" id="1434570">*</span>&nbsp;<span class="ident" id="1434572">fn</span><span class="op" id="1434574">(</span><span class="ident" id="1434575">unsafe</span><span class="op" id="1434581">.</span><span class="ident" id="1434582">Pointer</span><span class="op" id="1434589">(</span><span class="op" id="1434590">&amp;</span><span class="ident" id="1434591">a</span><span class="op" id="1434592">.</span><span class="ident" id="1434593">data</span><span class="op" id="1434597">)</span><span class="op" id="1434598">,</span>&nbsp;<span class="builtintype" id="1434600">uintptr</span><span class="op" id="1434607">(</span><span class="ident" id="1434608">t</span><span class="op" id="1434609">.</span><span class="ident" id="1434610">size</span><span class="op" id="1434614">)</span><span class="op" id="1434615">,</span>&nbsp;<span class="ident" id="1434617">h</span><span class="op" id="1434618">^</span><span class="ident" id="1434619">c0</span><span class="op" id="1434621">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1434624">}</span>&nbsp;<span class="keyword" id="1434626">else</span>&nbsp;<span class="op" id="1434631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434635">return</span>&nbsp;<span class="ident" id="1434642">c1</span>&nbsp;<span class="op" id="1434645">*</span>&nbsp;<span class="ident" id="1434647">fn</span><span class="op" id="1434649">(</span><span class="ident" id="1434650">a</span><span class="op" id="1434651">.</span><span class="ident" id="1434652">data</span><span class="op" id="1434656">,</span>&nbsp;<span class="builtintype" id="1434658">uintptr</span><span class="op" id="1434665">(</span><span class="ident" id="1434666">t</span><span class="op" id="1434667">.</span><span class="ident" id="1434668">size</span><span class="op" id="1434672">)</span><span class="op" id="1434673">,</span>&nbsp;<span class="ident" id="1434675">h</span><span class="op" id="1434676">^</span><span class="ident" id="1434677">c0</span><span class="op" id="1434679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1434682">}</span><br>
<span class="lineno"></span><span class="op" id="1434684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="1434687">func</span>&nbsp;<span class="ident" id="1434692">nilinterhash</span><span class="op" id="1434704">(</span><span class="ident" id="1434705">p</span>&nbsp;<span class="ident" id="1434707">unsafe</span><span class="op" id="1434713">.</span><span class="ident" id="1434714">Pointer</span><span class="op" id="1434721">,</span>&nbsp;<span class="ident" id="1434723">s</span><span class="op" id="1434724">,</span>&nbsp;<span class="ident" id="1434726">h</span>&nbsp;<span class="builtintype" id="1434728">uintptr</span><span class="op" id="1434735">)</span>&nbsp;<span class="builtintype" id="1434737">uintptr</span>&nbsp;<span class="op" id="1434745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434748">a</span>&nbsp;<span class="op" id="1434750">:=</span>&nbsp;<span class="op" id="1434753">(</span><span class="op" id="1434754">*</span><span class="ident" id="1434755">eface</span><span class="op" id="1434760">)</span><span class="op" id="1434761">(</span><span class="ident" id="1434762">p</span><span class="op" id="1434763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434766">t</span>&nbsp;<span class="op" id="1434768">:=</span>&nbsp;<span class="ident" id="1434771">a</span><span class="op" id="1434772">.</span><span class="ident" id="1434773">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434780">if</span>&nbsp;<span class="ident" id="1434783">t</span>&nbsp;<span class="op" id="1434785">==</span>&nbsp;<span class="builtintype" id="1434788">nil</span>&nbsp;<span class="op" id="1434792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434796">return</span>&nbsp;<span class="ident" id="1434803">h</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1434806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434809">fn</span>&nbsp;<span class="op" id="1434812">:=</span>&nbsp;<span class="ident" id="1434815">goalg</span><span class="op" id="1434820">(</span><span class="ident" id="1434821">t</span><span class="op" id="1434822">.</span><span class="ident" id="1434823">alg</span><span class="op" id="1434826">)</span><span class="op" id="1434827">.</span><span class="ident" id="1434828">hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434834">if</span>&nbsp;<span class="ident" id="1434837">fn</span>&nbsp;<span class="op" id="1434840">==</span>&nbsp;<span class="builtintype" id="1434843">nil</span>&nbsp;<span class="op" id="1434847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1434851">panic</span><span class="op" id="1434856">(</span><span class="ident" id="1434857">errorString</span><span class="op" id="1434868">(</span><span class="string" id="1434869">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1434896">+</span>&nbsp;<span class="op" id="1434898">*</span><span class="ident" id="1434899">t</span><span class="op" id="1434900">.</span><span class="ident" id="1434901">_string</span><span class="op" id="1434908">)</span><span class="op" id="1434909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1434912">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434915">if</span>&nbsp;<span class="ident" id="1434918">isDirectIface</span><span class="op" id="1434931">(</span><span class="ident" id="1434932">t</span><span class="op" id="1434933">)</span>&nbsp;<span class="op" id="1434935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434939">return</span>&nbsp;<span class="ident" id="1434946">c1</span>&nbsp;<span class="op" id="1434949">*</span>&nbsp;<span class="ident" id="1434951">fn</span><span class="op" id="1434953">(</span><span class="ident" id="1434954">unsafe</span><span class="op" id="1434960">.</span><span class="ident" id="1434961">Pointer</span><span class="op" id="1434968">(</span><span class="op" id="1434969">&amp;</span><span class="ident" id="1434970">a</span><span class="op" id="1434971">.</span><span class="ident" id="1434972">data</span><span class="op" id="1434976">)</span><span class="op" id="1434977">,</span>&nbsp;<span class="builtintype" id="1434979">uintptr</span><span class="op" id="1434986">(</span><span class="ident" id="1434987">t</span><span class="op" id="1434988">.</span><span class="ident" id="1434989">size</span><span class="op" id="1434993">)</span><span class="op" id="1434994">,</span>&nbsp;<span class="ident" id="1434996">h</span><span class="op" id="1434997">^</span><span class="ident" id="1434998">c0</span><span class="op" id="1435000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1435003">}</span>&nbsp;<span class="keyword" id="1435005">else</span>&nbsp;<span class="op" id="1435010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435014">return</span>&nbsp;<span class="ident" id="1435021">c1</span>&nbsp;<span class="op" id="1435024">*</span>&nbsp;<span class="ident" id="1435026">fn</span><span class="op" id="1435028">(</span><span class="ident" id="1435029">a</span><span class="op" id="1435030">.</span><span class="ident" id="1435031">data</span><span class="op" id="1435035">,</span>&nbsp;<span class="builtintype" id="1435037">uintptr</span><span class="op" id="1435044">(</span><span class="ident" id="1435045">t</span><span class="op" id="1435046">.</span><span class="ident" id="1435047">size</span><span class="op" id="1435051">)</span><span class="op" id="1435052">,</span>&nbsp;<span class="ident" id="1435054">h</span><span class="op" id="1435055">^</span><span class="ident" id="1435056">c0</span><span class="op" id="1435058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1435061">}</span><br>
<span class="lineno">175</span><span class="op" id="1435063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1435066">func</span>&nbsp;<span class="ident" id="1435071">memequal</span><span class="op" id="1435079">(</span><span class="ident" id="1435080">p</span><span class="op" id="1435081">,</span>&nbsp;<span class="ident" id="1435083">q</span>&nbsp;<span class="ident" id="1435085">unsafe</span><span class="op" id="1435091">.</span><span class="ident" id="1435092">Pointer</span><span class="op" id="1435099">,</span>&nbsp;<span class="ident" id="1435101">size</span>&nbsp;<span class="builtintype" id="1435106">uintptr</span><span class="op" id="1435113">)</span>&nbsp;<span class="builtintype" id="1435115">bool</span>&nbsp;<span class="op" id="1435120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435123">if</span>&nbsp;<span class="ident" id="1435126">p</span>&nbsp;<span class="op" id="1435128">==</span>&nbsp;<span class="ident" id="1435131">q</span>&nbsp;<span class="op" id="1435133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435137">return</span>&nbsp;<span class="builtintype" id="1435144">true</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1435150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435153">return</span>&nbsp;<span class="ident" id="1435160">memeq</span><span class="op" id="1435165">(</span><span class="ident" id="1435166">p</span><span class="op" id="1435167">,</span>&nbsp;<span class="ident" id="1435169">q</span><span class="op" id="1435170">,</span>&nbsp;<span class="ident" id="1435172">size</span><span class="op" id="1435176">)</span><br>
<span class="lineno"></span><span class="op" id="1435178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1435181">func</span>&nbsp;<span class="ident" id="1435186">memequal0</span><span class="op" id="1435195">(</span><span class="ident" id="1435196">p</span><span class="op" id="1435197">,</span>&nbsp;<span class="ident" id="1435199">q</span>&nbsp;<span class="ident" id="1435201">unsafe</span><span class="op" id="1435207">.</span><span class="ident" id="1435208">Pointer</span><span class="op" id="1435215">,</span>&nbsp;<span class="ident" id="1435217">size</span>&nbsp;<span class="builtintype" id="1435222">uintptr</span><span class="op" id="1435229">)</span>&nbsp;<span class="builtintype" id="1435231">bool</span>&nbsp;<span class="op" id="1435236">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435239">return</span>&nbsp;<span class="builtintype" id="1435246">true</span><br>
<span class="lineno"></span><span class="op" id="1435251">}</span><br>
<span class="lineno"></span><span class="keyword" id="1435253">func</span>&nbsp;<span class="ident" id="1435258">memequal8</span><span class="op" id="1435267">(</span><span class="ident" id="1435268">p</span><span class="op" id="1435269">,</span>&nbsp;<span class="ident" id="1435271">q</span>&nbsp;<span class="ident" id="1435273">unsafe</span><span class="op" id="1435279">.</span><span class="ident" id="1435280">Pointer</span><span class="op" id="1435287">,</span>&nbsp;<span class="ident" id="1435289">size</span>&nbsp;<span class="builtintype" id="1435294">uintptr</span><span class="op" id="1435301">)</span>&nbsp;<span class="builtintype" id="1435303">bool</span>&nbsp;<span class="op" id="1435308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435311">return</span>&nbsp;<span class="op" id="1435318">*</span><span class="op" id="1435319">(</span><span class="op" id="1435320">*</span><span class="builtintype" id="1435321">int8</span><span class="op" id="1435325">)</span><span class="op" id="1435326">(</span><span class="ident" id="1435327">p</span><span class="op" id="1435328">)</span>&nbsp;<span class="op" id="1435330">==</span>&nbsp;<span class="op" id="1435333">*</span><span class="op" id="1435334">(</span><span class="op" id="1435335">*</span><span class="builtintype" id="1435336">int8</span><span class="op" id="1435340">)</span><span class="op" id="1435341">(</span><span class="ident" id="1435342">q</span><span class="op" id="1435343">)</span><br>
<span class="lineno"></span><span class="op" id="1435345">}</span><br>
<span class="lineno">190</span><span class="keyword" id="1435347">func</span>&nbsp;<span class="ident" id="1435352">memequal16</span><span class="op" id="1435362">(</span><span class="ident" id="1435363">p</span><span class="op" id="1435364">,</span>&nbsp;<span class="ident" id="1435366">q</span>&nbsp;<span class="ident" id="1435368">unsafe</span><span class="op" id="1435374">.</span><span class="ident" id="1435375">Pointer</span><span class="op" id="1435382">,</span>&nbsp;<span class="ident" id="1435384">size</span>&nbsp;<span class="builtintype" id="1435389">uintptr</span><span class="op" id="1435396">)</span>&nbsp;<span class="builtintype" id="1435398">bool</span>&nbsp;<span class="op" id="1435403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435406">return</span>&nbsp;<span class="op" id="1435413">*</span><span class="op" id="1435414">(</span><span class="op" id="1435415">*</span><span class="builtintype" id="1435416">int16</span><span class="op" id="1435421">)</span><span class="op" id="1435422">(</span><span class="ident" id="1435423">p</span><span class="op" id="1435424">)</span>&nbsp;<span class="op" id="1435426">==</span>&nbsp;<span class="op" id="1435429">*</span><span class="op" id="1435430">(</span><span class="op" id="1435431">*</span><span class="builtintype" id="1435432">int16</span><span class="op" id="1435437">)</span><span class="op" id="1435438">(</span><span class="ident" id="1435439">q</span><span class="op" id="1435440">)</span><br>
<span class="lineno"></span><span class="op" id="1435442">}</span><br>
<span class="lineno"></span><span class="keyword" id="1435444">func</span>&nbsp;<span class="ident" id="1435449">memequal32</span><span class="op" id="1435459">(</span><span class="ident" id="1435460">p</span><span class="op" id="1435461">,</span>&nbsp;<span class="ident" id="1435463">q</span>&nbsp;<span class="ident" id="1435465">unsafe</span><span class="op" id="1435471">.</span><span class="ident" id="1435472">Pointer</span><span class="op" id="1435479">,</span>&nbsp;<span class="ident" id="1435481">size</span>&nbsp;<span class="builtintype" id="1435486">uintptr</span><span class="op" id="1435493">)</span>&nbsp;<span class="builtintype" id="1435495">bool</span>&nbsp;<span class="op" id="1435500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435503">return</span>&nbsp;<span class="op" id="1435510">*</span><span class="op" id="1435511">(</span><span class="op" id="1435512">*</span><span class="builtintype" id="1435513">int32</span><span class="op" id="1435518">)</span><span class="op" id="1435519">(</span><span class="ident" id="1435520">p</span><span class="op" id="1435521">)</span>&nbsp;<span class="op" id="1435523">==</span>&nbsp;<span class="op" id="1435526">*</span><span class="op" id="1435527">(</span><span class="op" id="1435528">*</span><span class="builtintype" id="1435529">int32</span><span class="op" id="1435534">)</span><span class="op" id="1435535">(</span><span class="ident" id="1435536">q</span><span class="op" id="1435537">)</span><br>
<span class="lineno">195</span><span class="op" id="1435539">}</span><br>
<span class="lineno"></span><span class="keyword" id="1435541">func</span>&nbsp;<span class="ident" id="1435546">memequal64</span><span class="op" id="1435556">(</span><span class="ident" id="1435557">p</span><span class="op" id="1435558">,</span>&nbsp;<span class="ident" id="1435560">q</span>&nbsp;<span class="ident" id="1435562">unsafe</span><span class="op" id="1435568">.</span><span class="ident" id="1435569">Pointer</span><span class="op" id="1435576">,</span>&nbsp;<span class="ident" id="1435578">size</span>&nbsp;<span class="builtintype" id="1435583">uintptr</span><span class="op" id="1435590">)</span>&nbsp;<span class="builtintype" id="1435592">bool</span>&nbsp;<span class="op" id="1435597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435600">return</span>&nbsp;<span class="op" id="1435607">*</span><span class="op" id="1435608">(</span><span class="op" id="1435609">*</span><span class="ident" id="1435610">int64</span><span class="op" id="1435615">)</span><span class="op" id="1435616">(</span><span class="ident" id="1435617">p</span><span class="op" id="1435618">)</span>&nbsp;<span class="op" id="1435620">==</span>&nbsp;<span class="op" id="1435623">*</span><span class="op" id="1435624">(</span><span class="op" id="1435625">*</span><span class="ident" id="1435626">int64</span><span class="op" id="1435631">)</span><span class="op" id="1435632">(</span><span class="ident" id="1435633">q</span><span class="op" id="1435634">)</span><br>
<span class="lineno"></span><span class="op" id="1435636">}</span><br>
<span class="lineno"></span><span class="keyword" id="1435638">func</span>&nbsp;<span class="ident" id="1435643">memequal128</span><span class="op" id="1435654">(</span><span class="ident" id="1435655">p</span><span class="op" id="1435656">,</span>&nbsp;<span class="ident" id="1435658">q</span>&nbsp;<span class="ident" id="1435660">unsafe</span><span class="op" id="1435666">.</span><span class="ident" id="1435667">Pointer</span><span class="op" id="1435674">,</span>&nbsp;<span class="ident" id="1435676">size</span>&nbsp;<span class="builtintype" id="1435681">uintptr</span><span class="op" id="1435688">)</span>&nbsp;<span class="builtintype" id="1435690">bool</span>&nbsp;<span class="op" id="1435695">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435698">return</span>&nbsp;<span class="op" id="1435705">*</span><span class="op" id="1435706">(</span><span class="op" id="1435707">*</span><span class="op" id="1435708">[</span><span class="num" id="1435709">2</span><span class="op" id="1435710">]</span><span class="ident" id="1435711">int64</span><span class="op" id="1435716">)</span><span class="op" id="1435717">(</span><span class="ident" id="1435718">p</span><span class="op" id="1435719">)</span>&nbsp;<span class="op" id="1435721">==</span>&nbsp;<span class="op" id="1435724">*</span><span class="op" id="1435725">(</span><span class="op" id="1435726">*</span><span class="op" id="1435727">[</span><span class="num" id="1435728">2</span><span class="op" id="1435729">]</span><span class="ident" id="1435730">int64</span><span class="op" id="1435735">)</span><span class="op" id="1435736">(</span><span class="ident" id="1435737">q</span><span class="op" id="1435738">)</span><br>
<span class="lineno"></span><span class="op" id="1435740">}</span><br>
<span class="lineno"></span><span class="keyword" id="1435742">func</span>&nbsp;<span class="ident" id="1435747">f32equal</span><span class="op" id="1435755">(</span><span class="ident" id="1435756">p</span><span class="op" id="1435757">,</span>&nbsp;<span class="ident" id="1435759">q</span>&nbsp;<span class="ident" id="1435761">unsafe</span><span class="op" id="1435767">.</span><span class="ident" id="1435768">Pointer</span><span class="op" id="1435775">,</span>&nbsp;<span class="ident" id="1435777">size</span>&nbsp;<span class="builtintype" id="1435782">uintptr</span><span class="op" id="1435789">)</span>&nbsp;<span class="builtintype" id="1435791">bool</span>&nbsp;<span class="op" id="1435796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435799">return</span>&nbsp;<span class="op" id="1435806">*</span><span class="op" id="1435807">(</span><span class="op" id="1435808">*</span><span class="builtintype" id="1435809">float32</span><span class="op" id="1435816">)</span><span class="op" id="1435817">(</span><span class="ident" id="1435818">p</span><span class="op" id="1435819">)</span>&nbsp;<span class="op" id="1435821">==</span>&nbsp;<span class="op" id="1435824">*</span><span class="op" id="1435825">(</span><span class="op" id="1435826">*</span><span class="builtintype" id="1435827">float32</span><span class="op" id="1435834">)</span><span class="op" id="1435835">(</span><span class="ident" id="1435836">q</span><span class="op" id="1435837">)</span><br>
<span class="lineno"></span><span class="op" id="1435839">}</span><br>
<span class="lineno">205</span><span class="keyword" id="1435841">func</span>&nbsp;<span class="ident" id="1435846">f64equal</span><span class="op" id="1435854">(</span><span class="ident" id="1435855">p</span><span class="op" id="1435856">,</span>&nbsp;<span class="ident" id="1435858">q</span>&nbsp;<span class="ident" id="1435860">unsafe</span><span class="op" id="1435866">.</span><span class="ident" id="1435867">Pointer</span><span class="op" id="1435874">,</span>&nbsp;<span class="ident" id="1435876">size</span>&nbsp;<span class="builtintype" id="1435881">uintptr</span><span class="op" id="1435888">)</span>&nbsp;<span class="builtintype" id="1435890">bool</span>&nbsp;<span class="op" id="1435895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435898">return</span>&nbsp;<span class="op" id="1435905">*</span><span class="op" id="1435906">(</span><span class="op" id="1435907">*</span><span class="builtintype" id="1435908">float64</span><span class="op" id="1435915">)</span><span class="op" id="1435916">(</span><span class="ident" id="1435917">p</span><span class="op" id="1435918">)</span>&nbsp;<span class="op" id="1435920">==</span>&nbsp;<span class="op" id="1435923">*</span><span class="op" id="1435924">(</span><span class="op" id="1435925">*</span><span class="builtintype" id="1435926">float64</span><span class="op" id="1435933">)</span><span class="op" id="1435934">(</span><span class="ident" id="1435935">q</span><span class="op" id="1435936">)</span><br>
<span class="lineno"></span><span class="op" id="1435938">}</span><br>
<span class="lineno"></span><span class="keyword" id="1435940">func</span>&nbsp;<span class="ident" id="1435945">c64equal</span><span class="op" id="1435953">(</span><span class="ident" id="1435954">p</span><span class="op" id="1435955">,</span>&nbsp;<span class="ident" id="1435957">q</span>&nbsp;<span class="ident" id="1435959">unsafe</span><span class="op" id="1435965">.</span><span class="ident" id="1435966">Pointer</span><span class="op" id="1435973">,</span>&nbsp;<span class="ident" id="1435975">size</span>&nbsp;<span class="builtintype" id="1435980">uintptr</span><span class="op" id="1435987">)</span>&nbsp;<span class="builtintype" id="1435989">bool</span>&nbsp;<span class="op" id="1435994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1435997">return</span>&nbsp;<span class="op" id="1436004">*</span><span class="op" id="1436005">(</span><span class="op" id="1436006">*</span><span class="builtintype" id="1436007">complex64</span><span class="op" id="1436016">)</span><span class="op" id="1436017">(</span><span class="ident" id="1436018">p</span><span class="op" id="1436019">)</span>&nbsp;<span class="op" id="1436021">==</span>&nbsp;<span class="op" id="1436024">*</span><span class="op" id="1436025">(</span><span class="op" id="1436026">*</span><span class="builtintype" id="1436027">complex64</span><span class="op" id="1436036">)</span><span class="op" id="1436037">(</span><span class="ident" id="1436038">q</span><span class="op" id="1436039">)</span><br>
<span class="lineno">210</span><span class="op" id="1436041">}</span><br>
<span class="lineno"></span><span class="keyword" id="1436043">func</span>&nbsp;<span class="ident" id="1436048">c128equal</span><span class="op" id="1436057">(</span><span class="ident" id="1436058">p</span><span class="op" id="1436059">,</span>&nbsp;<span class="ident" id="1436061">q</span>&nbsp;<span class="ident" id="1436063">unsafe</span><span class="op" id="1436069">.</span><span class="ident" id="1436070">Pointer</span><span class="op" id="1436077">,</span>&nbsp;<span class="ident" id="1436079">size</span>&nbsp;<span class="builtintype" id="1436084">uintptr</span><span class="op" id="1436091">)</span>&nbsp;<span class="builtintype" id="1436093">bool</span>&nbsp;<span class="op" id="1436098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436101">return</span>&nbsp;<span class="op" id="1436108">*</span><span class="op" id="1436109">(</span><span class="op" id="1436110">*</span><span class="builtintype" id="1436111">complex128</span><span class="op" id="1436121">)</span><span class="op" id="1436122">(</span><span class="ident" id="1436123">p</span><span class="op" id="1436124">)</span>&nbsp;<span class="op" id="1436126">==</span>&nbsp;<span class="op" id="1436129">*</span><span class="op" id="1436130">(</span><span class="op" id="1436131">*</span><span class="builtintype" id="1436132">complex128</span><span class="op" id="1436142">)</span><span class="op" id="1436143">(</span><span class="ident" id="1436144">q</span><span class="op" id="1436145">)</span><br>
<span class="lineno"></span><span class="op" id="1436147">}</span><br>
<span class="lineno"></span><span class="keyword" id="1436149">func</span>&nbsp;<span class="ident" id="1436154">strequal</span><span class="op" id="1436162">(</span><span class="ident" id="1436163">p</span><span class="op" id="1436164">,</span>&nbsp;<span class="ident" id="1436166">q</span>&nbsp;<span class="ident" id="1436168">unsafe</span><span class="op" id="1436174">.</span><span class="ident" id="1436175">Pointer</span><span class="op" id="1436182">,</span>&nbsp;<span class="ident" id="1436184">size</span>&nbsp;<span class="builtintype" id="1436189">uintptr</span><span class="op" id="1436196">)</span>&nbsp;<span class="builtintype" id="1436198">bool</span>&nbsp;<span class="op" id="1436203">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436206">return</span>&nbsp;<span class="op" id="1436213">*</span><span class="op" id="1436214">(</span><span class="op" id="1436215">*</span><span class="builtintype" id="1436216">string</span><span class="op" id="1436222">)</span><span class="op" id="1436223">(</span><span class="ident" id="1436224">p</span><span class="op" id="1436225">)</span>&nbsp;<span class="op" id="1436227">==</span>&nbsp;<span class="op" id="1436230">*</span><span class="op" id="1436231">(</span><span class="op" id="1436232">*</span><span class="builtintype" id="1436233">string</span><span class="op" id="1436239">)</span><span class="op" id="1436240">(</span><span class="ident" id="1436241">q</span><span class="op" id="1436242">)</span><br>
<span class="lineno"></span><span class="op" id="1436244">}</span><br>
<span class="lineno"></span><span class="keyword" id="1436246">func</span>&nbsp;<span class="ident" id="1436251">interequal</span><span class="op" id="1436261">(</span><span class="ident" id="1436262">p</span><span class="op" id="1436263">,</span>&nbsp;<span class="ident" id="1436265">q</span>&nbsp;<span class="ident" id="1436267">unsafe</span><span class="op" id="1436273">.</span><span class="ident" id="1436274">Pointer</span><span class="op" id="1436281">,</span>&nbsp;<span class="ident" id="1436283">size</span>&nbsp;<span class="builtintype" id="1436288">uintptr</span><span class="op" id="1436295">)</span>&nbsp;<span class="builtintype" id="1436297">bool</span>&nbsp;<span class="op" id="1436302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436305">return</span>&nbsp;<span class="ident" id="1436312">ifaceeq</span><span class="op" id="1436319">(</span><span class="op" id="1436320">*</span><span class="op" id="1436321">(</span><span class="op" id="1436322">*</span><span class="keyword" id="1436323">interface</span>&nbsp;<span class="op" id="1436333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436337">f</span><span class="op" id="1436338">(</span><span class="op" id="1436339">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1436342">}</span><span class="op" id="1436343">)</span><span class="op" id="1436344">(</span><span class="ident" id="1436345">p</span><span class="op" id="1436346">)</span><span class="op" id="1436347">,</span>&nbsp;<span class="op" id="1436349">*</span><span class="op" id="1436350">(</span><span class="op" id="1436351">*</span><span class="keyword" id="1436352">interface</span>&nbsp;<span class="op" id="1436362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436366">f</span><span class="op" id="1436367">(</span><span class="op" id="1436368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1436371">}</span><span class="op" id="1436372">)</span><span class="op" id="1436373">(</span><span class="ident" id="1436374">q</span><span class="op" id="1436375">)</span><span class="op" id="1436376">)</span><br>
<span class="lineno"></span><span class="op" id="1436378">}</span><br>
<span class="lineno"></span><span class="keyword" id="1436380">func</span>&nbsp;<span class="ident" id="1436385">nilinterequal</span><span class="op" id="1436398">(</span><span class="ident" id="1436399">p</span><span class="op" id="1436400">,</span>&nbsp;<span class="ident" id="1436402">q</span>&nbsp;<span class="ident" id="1436404">unsafe</span><span class="op" id="1436410">.</span><span class="ident" id="1436411">Pointer</span><span class="op" id="1436418">,</span>&nbsp;<span class="ident" id="1436420">size</span>&nbsp;<span class="builtintype" id="1436425">uintptr</span><span class="op" id="1436432">)</span>&nbsp;<span class="builtintype" id="1436434">bool</span>&nbsp;<span class="op" id="1436439">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436442">return</span>&nbsp;<span class="ident" id="1436449">efaceeq</span><span class="op" id="1436456">(</span><span class="op" id="1436457">*</span><span class="op" id="1436458">(</span><span class="op" id="1436459">*</span><span class="keyword" id="1436460">interface</span><span class="op" id="1436469">{</span><span class="op" id="1436470">}</span><span class="op" id="1436471">)</span><span class="op" id="1436472">(</span><span class="ident" id="1436473">p</span><span class="op" id="1436474">)</span><span class="op" id="1436475">,</span>&nbsp;<span class="op" id="1436477">*</span><span class="op" id="1436478">(</span><span class="op" id="1436479">*</span><span class="keyword" id="1436480">interface</span><span class="op" id="1436489">{</span><span class="op" id="1436490">}</span><span class="op" id="1436491">)</span><span class="op" id="1436492">(</span><span class="ident" id="1436493">q</span><span class="op" id="1436494">)</span><span class="op" id="1436495">)</span><br>
<span class="lineno"></span><span class="op" id="1436497">}</span><br>
<span class="lineno"></span><span class="keyword" id="1436499">func</span>&nbsp;<span class="ident" id="1436504">efaceeq</span><span class="op" id="1436511">(</span><span class="ident" id="1436512">p</span><span class="op" id="1436513">,</span>&nbsp;<span class="ident" id="1436515">q</span>&nbsp;<span class="keyword" id="1436517">interface</span><span class="op" id="1436526">{</span><span class="op" id="1436527">}</span><span class="op" id="1436528">)</span>&nbsp;<span class="builtintype" id="1436530">bool</span>&nbsp;<span class="op" id="1436535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436538">x</span>&nbsp;<span class="op" id="1436540">:=</span>&nbsp;<span class="op" id="1436543">(</span><span class="op" id="1436544">*</span><span class="ident" id="1436545">eface</span><span class="op" id="1436550">)</span><span class="op" id="1436551">(</span><span class="ident" id="1436552">unsafe</span><span class="op" id="1436558">.</span><span class="ident" id="1436559">Pointer</span><span class="op" id="1436566">(</span><span class="op" id="1436567">&amp;</span><span class="ident" id="1436568">p</span><span class="op" id="1436569">)</span><span class="op" id="1436570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436573">y</span>&nbsp;<span class="op" id="1436575">:=</span>&nbsp;<span class="op" id="1436578">(</span><span class="op" id="1436579">*</span><span class="ident" id="1436580">eface</span><span class="op" id="1436585">)</span><span class="op" id="1436586">(</span><span class="ident" id="1436587">unsafe</span><span class="op" id="1436593">.</span><span class="ident" id="1436594">Pointer</span><span class="op" id="1436601">(</span><span class="op" id="1436602">&amp;</span><span class="ident" id="1436603">q</span><span class="op" id="1436604">)</span><span class="op" id="1436605">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436608">t</span>&nbsp;<span class="op" id="1436610">:=</span>&nbsp;<span class="ident" id="1436613">x</span><span class="op" id="1436614">.</span><span class="ident" id="1436615">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436622">if</span>&nbsp;<span class="ident" id="1436625">t</span>&nbsp;<span class="op" id="1436627">!=</span>&nbsp;<span class="ident" id="1436630">y</span><span class="op" id="1436631">.</span><span class="ident" id="1436632">_type</span>&nbsp;<span class="op" id="1436638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436642">return</span>&nbsp;<span class="builtintype" id="1436649">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1436656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436659">if</span>&nbsp;<span class="ident" id="1436662">t</span>&nbsp;<span class="op" id="1436664">==</span>&nbsp;<span class="builtintype" id="1436667">nil</span>&nbsp;<span class="op" id="1436671">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436675">return</span>&nbsp;<span class="builtintype" id="1436682">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1436688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436691">eq</span>&nbsp;<span class="op" id="1436694">:=</span>&nbsp;<span class="ident" id="1436697">goalg</span><span class="op" id="1436702">(</span><span class="ident" id="1436703">t</span><span class="op" id="1436704">.</span><span class="ident" id="1436705">alg</span><span class="op" id="1436708">)</span><span class="op" id="1436709">.</span><span class="ident" id="1436710">equal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436717">if</span>&nbsp;<span class="ident" id="1436720">eq</span>&nbsp;<span class="op" id="1436723">==</span>&nbsp;<span class="builtintype" id="1436726">nil</span>&nbsp;<span class="op" id="1436730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1436734">panic</span><span class="op" id="1436739">(</span><span class="ident" id="1436740">errorString</span><span class="op" id="1436751">(</span><span class="string" id="1436752">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1436783">+</span>&nbsp;<span class="op" id="1436785">*</span><span class="ident" id="1436786">t</span><span class="op" id="1436787">.</span><span class="ident" id="1436788">_string</span><span class="op" id="1436795">)</span><span class="op" id="1436796">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1436799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436802">if</span>&nbsp;<span class="ident" id="1436805">isDirectIface</span><span class="op" id="1436818">(</span><span class="ident" id="1436819">t</span><span class="op" id="1436820">)</span>&nbsp;<span class="op" id="1436822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436826">return</span>&nbsp;<span class="ident" id="1436833">eq</span><span class="op" id="1436835">(</span><span class="ident" id="1436836">noescape</span><span class="op" id="1436844">(</span><span class="ident" id="1436845">unsafe</span><span class="op" id="1436851">.</span><span class="ident" id="1436852">Pointer</span><span class="op" id="1436859">(</span><span class="op" id="1436860">&amp;</span><span class="ident" id="1436861">x</span><span class="op" id="1436862">.</span><span class="ident" id="1436863">data</span><span class="op" id="1436867">)</span><span class="op" id="1436868">)</span><span class="op" id="1436869">,</span>&nbsp;<span class="ident" id="1436871">noescape</span><span class="op" id="1436879">(</span><span class="ident" id="1436880">unsafe</span><span class="op" id="1436886">.</span><span class="ident" id="1436887">Pointer</span><span class="op" id="1436894">(</span><span class="op" id="1436895">&amp;</span><span class="ident" id="1436896">y</span><span class="op" id="1436897">.</span><span class="ident" id="1436898">data</span><span class="op" id="1436902">)</span><span class="op" id="1436903">)</span><span class="op" id="1436904">,</span>&nbsp;<span class="builtintype" id="1436906">uintptr</span><span class="op" id="1436913">(</span><span class="ident" id="1436914">t</span><span class="op" id="1436915">.</span><span class="ident" id="1436916">size</span><span class="op" id="1436920">)</span><span class="op" id="1436921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1436924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1436927">return</span>&nbsp;<span class="ident" id="1436934">eq</span><span class="op" id="1436936">(</span><span class="ident" id="1436937">x</span><span class="op" id="1436938">.</span><span class="ident" id="1436939">data</span><span class="op" id="1436943">,</span>&nbsp;<span class="ident" id="1436945">y</span><span class="op" id="1436946">.</span><span class="ident" id="1436947">data</span><span class="op" id="1436951">,</span>&nbsp;<span class="builtintype" id="1436953">uintptr</span><span class="op" id="1436960">(</span><span class="ident" id="1436961">t</span><span class="op" id="1436962">.</span><span class="ident" id="1436963">size</span><span class="op" id="1436967">)</span><span class="op" id="1436968">)</span><br>
<span class="lineno">245</span><span class="op" id="1436970">}</span><br>
<span class="lineno"></span><span class="keyword" id="1436972">func</span>&nbsp;<span class="ident" id="1436977">ifaceeq</span><span class="op" id="1436984">(</span><span class="ident" id="1436985">p</span><span class="op" id="1436986">,</span>&nbsp;<span class="ident" id="1436988">q</span>&nbsp;<span class="keyword" id="1436990">interface</span>&nbsp;<span class="op" id="1437000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437003">f</span><span class="op" id="1437004">(</span><span class="op" id="1437005">)</span><br>
<span class="lineno"></span><span class="op" id="1437007">}</span><span class="op" id="1437008">)</span>&nbsp;<span class="builtintype" id="1437010">bool</span>&nbsp;<span class="op" id="1437015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437018">x</span>&nbsp;<span class="op" id="1437020">:=</span>&nbsp;<span class="op" id="1437023">(</span><span class="op" id="1437024">*</span><span class="ident" id="1437025">iface</span><span class="op" id="1437030">)</span><span class="op" id="1437031">(</span><span class="ident" id="1437032">unsafe</span><span class="op" id="1437038">.</span><span class="ident" id="1437039">Pointer</span><span class="op" id="1437046">(</span><span class="op" id="1437047">&amp;</span><span class="ident" id="1437048">p</span><span class="op" id="1437049">)</span><span class="op" id="1437050">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437053">y</span>&nbsp;<span class="op" id="1437055">:=</span>&nbsp;<span class="op" id="1437058">(</span><span class="op" id="1437059">*</span><span class="ident" id="1437060">iface</span><span class="op" id="1437065">)</span><span class="op" id="1437066">(</span><span class="ident" id="1437067">unsafe</span><span class="op" id="1437073">.</span><span class="ident" id="1437074">Pointer</span><span class="op" id="1437081">(</span><span class="op" id="1437082">&amp;</span><span class="ident" id="1437083">q</span><span class="op" id="1437084">)</span><span class="op" id="1437085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437088">xtab</span>&nbsp;<span class="op" id="1437093">:=</span>&nbsp;<span class="ident" id="1437096">x</span><span class="op" id="1437097">.</span><span class="ident" id="1437098">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437103">if</span>&nbsp;<span class="ident" id="1437106">xtab</span>&nbsp;<span class="op" id="1437111">!=</span>&nbsp;<span class="ident" id="1437114">y</span><span class="op" id="1437115">.</span><span class="ident" id="1437116">tab</span>&nbsp;<span class="op" id="1437120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437124">return</span>&nbsp;<span class="builtintype" id="1437131">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437138">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437141">if</span>&nbsp;<span class="ident" id="1437144">xtab</span>&nbsp;<span class="op" id="1437149">==</span>&nbsp;<span class="builtintype" id="1437152">nil</span>&nbsp;<span class="op" id="1437156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437160">return</span>&nbsp;<span class="builtintype" id="1437167">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437176">t</span>&nbsp;<span class="op" id="1437178">:=</span>&nbsp;<span class="ident" id="1437181">xtab</span><span class="op" id="1437185">.</span><span class="ident" id="1437186">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437193">eq</span>&nbsp;<span class="op" id="1437196">:=</span>&nbsp;<span class="ident" id="1437199">goalg</span><span class="op" id="1437204">(</span><span class="ident" id="1437205">t</span><span class="op" id="1437206">.</span><span class="ident" id="1437207">alg</span><span class="op" id="1437210">)</span><span class="op" id="1437211">.</span><span class="ident" id="1437212">equal</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437219">if</span>&nbsp;<span class="ident" id="1437222">eq</span>&nbsp;<span class="op" id="1437225">==</span>&nbsp;<span class="builtintype" id="1437228">nil</span>&nbsp;<span class="op" id="1437232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1437236">panic</span><span class="op" id="1437241">(</span><span class="ident" id="1437242">errorString</span><span class="op" id="1437253">(</span><span class="string" id="1437254">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1437285">+</span>&nbsp;<span class="op" id="1437287">*</span><span class="ident" id="1437288">t</span><span class="op" id="1437289">.</span><span class="ident" id="1437290">_string</span><span class="op" id="1437297">)</span><span class="op" id="1437298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437304">if</span>&nbsp;<span class="ident" id="1437307">isDirectIface</span><span class="op" id="1437320">(</span><span class="ident" id="1437321">t</span><span class="op" id="1437322">)</span>&nbsp;<span class="op" id="1437324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437328">return</span>&nbsp;<span class="ident" id="1437335">eq</span><span class="op" id="1437337">(</span><span class="ident" id="1437338">noescape</span><span class="op" id="1437346">(</span><span class="ident" id="1437347">unsafe</span><span class="op" id="1437353">.</span><span class="ident" id="1437354">Pointer</span><span class="op" id="1437361">(</span><span class="op" id="1437362">&amp;</span><span class="ident" id="1437363">x</span><span class="op" id="1437364">.</span><span class="ident" id="1437365">data</span><span class="op" id="1437369">)</span><span class="op" id="1437370">)</span><span class="op" id="1437371">,</span>&nbsp;<span class="ident" id="1437373">noescape</span><span class="op" id="1437381">(</span><span class="ident" id="1437382">unsafe</span><span class="op" id="1437388">.</span><span class="ident" id="1437389">Pointer</span><span class="op" id="1437396">(</span><span class="op" id="1437397">&amp;</span><span class="ident" id="1437398">y</span><span class="op" id="1437399">.</span><span class="ident" id="1437400">data</span><span class="op" id="1437404">)</span><span class="op" id="1437405">)</span><span class="op" id="1437406">,</span>&nbsp;<span class="builtintype" id="1437408">uintptr</span><span class="op" id="1437415">(</span><span class="ident" id="1437416">t</span><span class="op" id="1437417">.</span><span class="ident" id="1437418">size</span><span class="op" id="1437422">)</span><span class="op" id="1437423">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437429">return</span>&nbsp;<span class="ident" id="1437436">eq</span><span class="op" id="1437438">(</span><span class="ident" id="1437439">x</span><span class="op" id="1437440">.</span><span class="ident" id="1437441">data</span><span class="op" id="1437445">,</span>&nbsp;<span class="ident" id="1437447">y</span><span class="op" id="1437448">.</span><span class="ident" id="1437449">data</span><span class="op" id="1437453">,</span>&nbsp;<span class="builtintype" id="1437455">uintptr</span><span class="op" id="1437462">(</span><span class="ident" id="1437463">t</span><span class="op" id="1437464">.</span><span class="ident" id="1437465">size</span><span class="op" id="1437469">)</span><span class="op" id="1437470">)</span><br>
<span class="lineno"></span><span class="op" id="1437472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1437475">//&nbsp;Testing&nbsp;adapters&nbsp;for&nbsp;hash&nbsp;quality&nbsp;tests&nbsp;(see&nbsp;hash_test.go)</span><br>
<span class="lineno">270</span><span class="keyword" id="1437537">func</span>&nbsp;<span class="ident" id="1437542">haveGoodHash</span><span class="op" id="1437554">(</span><span class="op" id="1437555">)</span>&nbsp;<span class="builtintype" id="1437557">bool</span>&nbsp;<span class="op" id="1437562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437565">return</span>&nbsp;<span class="ident" id="1437572">useAeshash</span><br>
<span class="lineno"></span><span class="op" id="1437583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1437586">func</span>&nbsp;<span class="ident" id="1437591">stringHash</span><span class="op" id="1437601">(</span><span class="ident" id="1437602">s</span>&nbsp;<span class="builtintype" id="1437604">string</span><span class="op" id="1437610">,</span>&nbsp;<span class="ident" id="1437612">seed</span>&nbsp;<span class="builtintype" id="1437617">uintptr</span><span class="op" id="1437624">)</span>&nbsp;<span class="builtintype" id="1437626">uintptr</span>&nbsp;<span class="op" id="1437634">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437637">return</span>&nbsp;<span class="ident" id="1437644">algarray</span><span class="op" id="1437652">[</span><span class="ident" id="1437653">alg_STRING</span><span class="op" id="1437663">]</span><span class="op" id="1437664">.</span><span class="ident" id="1437665">hash</span><span class="op" id="1437669">(</span><span class="ident" id="1437670">noescape</span><span class="op" id="1437678">(</span><span class="ident" id="1437679">unsafe</span><span class="op" id="1437685">.</span><span class="ident" id="1437686">Pointer</span><span class="op" id="1437693">(</span><span class="op" id="1437694">&amp;</span><span class="ident" id="1437695">s</span><span class="op" id="1437696">)</span><span class="op" id="1437697">)</span><span class="op" id="1437698">,</span>&nbsp;<span class="ident" id="1437700">unsafe</span><span class="op" id="1437706">.</span><span class="ident" id="1437707">Sizeof</span><span class="op" id="1437713">(</span><span class="ident" id="1437714">s</span><span class="op" id="1437715">)</span><span class="op" id="1437716">,</span>&nbsp;<span class="ident" id="1437718">seed</span><span class="op" id="1437722">)</span><br>
<span class="lineno"></span><span class="op" id="1437724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1437727">func</span>&nbsp;<span class="ident" id="1437732">bytesHash</span><span class="op" id="1437741">(</span><span class="ident" id="1437742">b</span>&nbsp;<span class="op" id="1437744">[</span><span class="op" id="1437745">]</span><span class="builtintype" id="1437746">byte</span><span class="op" id="1437750">,</span>&nbsp;<span class="ident" id="1437752">seed</span>&nbsp;<span class="builtintype" id="1437757">uintptr</span><span class="op" id="1437764">)</span>&nbsp;<span class="builtintype" id="1437766">uintptr</span>&nbsp;<span class="op" id="1437774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437777">s</span>&nbsp;<span class="op" id="1437779">:=</span>&nbsp;<span class="op" id="1437782">(</span><span class="op" id="1437783">*</span><span class="ident" id="1437784">sliceStruct</span><span class="op" id="1437795">)</span><span class="op" id="1437796">(</span><span class="ident" id="1437797">unsafe</span><span class="op" id="1437803">.</span><span class="ident" id="1437804">Pointer</span><span class="op" id="1437811">(</span><span class="op" id="1437812">&amp;</span><span class="ident" id="1437813">b</span><span class="op" id="1437814">)</span><span class="op" id="1437815">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437818">return</span>&nbsp;<span class="ident" id="1437825">algarray</span><span class="op" id="1437833">[</span><span class="ident" id="1437834">alg_MEM</span><span class="op" id="1437841">]</span><span class="op" id="1437842">.</span><span class="ident" id="1437843">hash</span><span class="op" id="1437847">(</span><span class="ident" id="1437848">s</span><span class="op" id="1437849">.</span><span class="ident" id="1437850">array</span><span class="op" id="1437855">,</span>&nbsp;<span class="builtintype" id="1437857">uintptr</span><span class="op" id="1437864">(</span><span class="ident" id="1437865">s</span><span class="op" id="1437866">.</span><span class="builtinfunc" id="1437867">len</span><span class="op" id="1437870">)</span><span class="op" id="1437871">,</span>&nbsp;<span class="ident" id="1437873">seed</span><span class="op" id="1437877">)</span><br>
<span class="lineno"></span><span class="op" id="1437879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1437882">func</span>&nbsp;<span class="ident" id="1437887">int32Hash</span><span class="op" id="1437896">(</span><span class="ident" id="1437897">i</span>&nbsp;<span class="builtintype" id="1437899">uint32</span><span class="op" id="1437905">,</span>&nbsp;<span class="ident" id="1437907">seed</span>&nbsp;<span class="builtintype" id="1437912">uintptr</span><span class="op" id="1437919">)</span>&nbsp;<span class="builtintype" id="1437921">uintptr</span>&nbsp;<span class="op" id="1437929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437932">return</span>&nbsp;<span class="ident" id="1437939">algarray</span><span class="op" id="1437947">[</span><span class="ident" id="1437948">alg_MEM32</span><span class="op" id="1437957">]</span><span class="op" id="1437958">.</span><span class="ident" id="1437959">hash</span><span class="op" id="1437963">(</span><span class="ident" id="1437964">noescape</span><span class="op" id="1437972">(</span><span class="ident" id="1437973">unsafe</span><span class="op" id="1437979">.</span><span class="ident" id="1437980">Pointer</span><span class="op" id="1437987">(</span><span class="op" id="1437988">&amp;</span><span class="ident" id="1437989">i</span><span class="op" id="1437990">)</span><span class="op" id="1437991">)</span><span class="op" id="1437992">,</span>&nbsp;<span class="num" id="1437994">4</span><span class="op" id="1437995">,</span>&nbsp;<span class="ident" id="1437997">seed</span><span class="op" id="1438001">)</span><br>
<span class="lineno">285</span><span class="op" id="1438003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1438006">func</span>&nbsp;<span class="ident" id="1438011">int64Hash</span><span class="op" id="1438020">(</span><span class="ident" id="1438021">i</span>&nbsp;<span class="ident" id="1438023">uint64</span><span class="op" id="1438029">,</span>&nbsp;<span class="ident" id="1438031">seed</span>&nbsp;<span class="builtintype" id="1438036">uintptr</span><span class="op" id="1438043">)</span>&nbsp;<span class="builtintype" id="1438045">uintptr</span>&nbsp;<span class="op" id="1438053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438056">return</span>&nbsp;<span class="ident" id="1438063">algarray</span><span class="op" id="1438071">[</span><span class="ident" id="1438072">alg_MEM64</span><span class="op" id="1438081">]</span><span class="op" id="1438082">.</span><span class="ident" id="1438083">hash</span><span class="op" id="1438087">(</span><span class="ident" id="1438088">noescape</span><span class="op" id="1438096">(</span><span class="ident" id="1438097">unsafe</span><span class="op" id="1438103">.</span><span class="ident" id="1438104">Pointer</span><span class="op" id="1438111">(</span><span class="op" id="1438112">&amp;</span><span class="ident" id="1438113">i</span><span class="op" id="1438114">)</span><span class="op" id="1438115">)</span><span class="op" id="1438116">,</span>&nbsp;<span class="num" id="1438118">8</span><span class="op" id="1438119">,</span>&nbsp;<span class="ident" id="1438121">seed</span><span class="op" id="1438125">)</span><br>
<span class="lineno"></span><span class="op" id="1438127">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="1438130">func</span>&nbsp;<span class="ident" id="1438135">efaceHash</span><span class="op" id="1438144">(</span><span class="ident" id="1438145">i</span>&nbsp;<span class="keyword" id="1438147">interface</span><span class="op" id="1438156">{</span><span class="op" id="1438157">}</span><span class="op" id="1438158">,</span>&nbsp;<span class="ident" id="1438160">seed</span>&nbsp;<span class="builtintype" id="1438165">uintptr</span><span class="op" id="1438172">)</span>&nbsp;<span class="builtintype" id="1438174">uintptr</span>&nbsp;<span class="op" id="1438182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438185">return</span>&nbsp;<span class="ident" id="1438192">algarray</span><span class="op" id="1438200">[</span><span class="ident" id="1438201">alg_NILINTER</span><span class="op" id="1438213">]</span><span class="op" id="1438214">.</span><span class="ident" id="1438215">hash</span><span class="op" id="1438219">(</span><span class="ident" id="1438220">noescape</span><span class="op" id="1438228">(</span><span class="ident" id="1438229">unsafe</span><span class="op" id="1438235">.</span><span class="ident" id="1438236">Pointer</span><span class="op" id="1438243">(</span><span class="op" id="1438244">&amp;</span><span class="ident" id="1438245">i</span><span class="op" id="1438246">)</span><span class="op" id="1438247">)</span><span class="op" id="1438248">,</span>&nbsp;<span class="ident" id="1438250">unsafe</span><span class="op" id="1438256">.</span><span class="ident" id="1438257">Sizeof</span><span class="op" id="1438263">(</span><span class="ident" id="1438264">i</span><span class="op" id="1438265">)</span><span class="op" id="1438266">,</span>&nbsp;<span class="ident" id="1438268">seed</span><span class="op" id="1438272">)</span><br>
<span class="lineno"></span><span class="op" id="1438274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="1438277">func</span>&nbsp;<span class="ident" id="1438282">ifaceHash</span><span class="op" id="1438291">(</span><span class="ident" id="1438292">i</span>&nbsp;<span class="keyword" id="1438294">interface</span>&nbsp;<span class="op" id="1438304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438307">F</span><span class="op" id="1438308">(</span><span class="op" id="1438309">)</span><br>
<span class="lineno"></span><span class="op" id="1438311">}</span><span class="op" id="1438312">,</span>&nbsp;<span class="ident" id="1438314">seed</span>&nbsp;<span class="builtintype" id="1438319">uintptr</span><span class="op" id="1438326">)</span>&nbsp;<span class="builtintype" id="1438328">uintptr</span>&nbsp;<span class="op" id="1438336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438339">return</span>&nbsp;<span class="ident" id="1438346">algarray</span><span class="op" id="1438354">[</span><span class="ident" id="1438355">alg_INTER</span><span class="op" id="1438364">]</span><span class="op" id="1438365">.</span><span class="ident" id="1438366">hash</span><span class="op" id="1438370">(</span><span class="ident" id="1438371">noescape</span><span class="op" id="1438379">(</span><span class="ident" id="1438380">unsafe</span><span class="op" id="1438386">.</span><span class="ident" id="1438387">Pointer</span><span class="op" id="1438394">(</span><span class="op" id="1438395">&amp;</span><span class="ident" id="1438396">i</span><span class="op" id="1438397">)</span><span class="op" id="1438398">)</span><span class="op" id="1438399">,</span>&nbsp;<span class="ident" id="1438401">unsafe</span><span class="op" id="1438407">.</span><span class="ident" id="1438408">Sizeof</span><span class="op" id="1438414">(</span><span class="ident" id="1438415">i</span><span class="op" id="1438416">)</span><span class="op" id="1438417">,</span>&nbsp;<span class="ident" id="1438419">seed</span><span class="op" id="1438423">)</span><br>
<span class="lineno"></span><span class="op" id="1438425">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="1438428">//&nbsp;Testing&nbsp;adapter&nbsp;for&nbsp;memclr</span><br>
<span class="lineno"></span><span class="keyword" id="1438458">func</span>&nbsp;<span class="ident" id="1438463">memclrBytes</span><span class="op" id="1438474">(</span><span class="ident" id="1438475">b</span>&nbsp;<span class="op" id="1438477">[</span><span class="op" id="1438478">]</span><span class="builtintype" id="1438479">byte</span><span class="op" id="1438483">)</span>&nbsp;<span class="op" id="1438485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438488">s</span>&nbsp;<span class="op" id="1438490">:=</span>&nbsp;<span class="op" id="1438493">(</span><span class="op" id="1438494">*</span><span class="ident" id="1438495">sliceStruct</span><span class="op" id="1438506">)</span><span class="op" id="1438507">(</span><span class="ident" id="1438508">unsafe</span><span class="op" id="1438514">.</span><span class="ident" id="1438515">Pointer</span><span class="op" id="1438522">(</span><span class="op" id="1438523">&amp;</span><span class="ident" id="1438524">b</span><span class="op" id="1438525">)</span><span class="op" id="1438526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438529">memclr</span><span class="op" id="1438535">(</span><span class="ident" id="1438536">s</span><span class="op" id="1438537">.</span><span class="ident" id="1438538">array</span><span class="op" id="1438543">,</span>&nbsp;<span class="builtintype" id="1438545">uintptr</span><span class="op" id="1438552">(</span><span class="ident" id="1438553">s</span><span class="op" id="1438554">.</span><span class="builtinfunc" id="1438555">len</span><span class="op" id="1438558">)</span><span class="op" id="1438559">)</span><br>
<span class="lineno">305</span><span class="op" id="1438561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1438564">//&nbsp;TODO(dvyukov):&nbsp;remove&nbsp;when&nbsp;Type&nbsp;is&nbsp;converted&nbsp;to&nbsp;Go&nbsp;and&nbsp;contains&nbsp;*typeAlg.</span><br>
<span class="lineno"></span><span class="keyword" id="1438641">func</span>&nbsp;<span class="ident" id="1438646">goalg</span><span class="op" id="1438651">(</span><span class="ident" id="1438652">a</span>&nbsp;<span class="ident" id="1438654">unsafe</span><span class="op" id="1438660">.</span><span class="ident" id="1438661">Pointer</span><span class="op" id="1438668">)</span>&nbsp;<span class="op" id="1438670">*</span><span class="ident" id="1438671">typeAlg</span>&nbsp;<span class="op" id="1438679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438682">return</span>&nbsp;<span class="op" id="1438689">(</span><span class="op" id="1438690">*</span><span class="ident" id="1438691">typeAlg</span><span class="op" id="1438698">)</span><span class="op" id="1438699">(</span><span class="ident" id="1438700">a</span><span class="op" id="1438701">)</span><br>
<span class="lineno">310</span><span class="op" id="1438703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1438706">//&nbsp;used&nbsp;in&nbsp;asm_{386,amd64}.s</span><br>
<span class="lineno"></span><span class="keyword" id="1438735">const</span>&nbsp;<span class="ident" id="1438741">hashRandomBytes</span>&nbsp;<span class="op" id="1438757">=</span>&nbsp;<span class="num" id="1438759">32</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1438763">var</span>&nbsp;<span class="ident" id="1438767">aeskeysched</span>&nbsp;<span class="op" id="1438779">[</span><span class="ident" id="1438780">hashRandomBytes</span><span class="op" id="1438795">]</span><span class="builtintype" id="1438796">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1438802">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1438816">func</span>&nbsp;<span class="ident" id="1438821">get_random_data</span><span class="op" id="1438836">(</span><span class="ident" id="1438837">rnd</span>&nbsp;<span class="op" id="1438841">*</span><span class="ident" id="1438842">unsafe</span><span class="op" id="1438848">.</span><span class="ident" id="1438849">Pointer</span><span class="op" id="1438856">,</span>&nbsp;<span class="ident" id="1438858">n</span>&nbsp;<span class="op" id="1438860">*</span><span class="builtintype" id="1438861">int32</span><span class="op" id="1438866">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1438869">func</span>&nbsp;<span class="ident" id="1438874">init</span><span class="op" id="1438878">(</span><span class="op" id="1438879">)</span>&nbsp;<span class="op" id="1438881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438884">if</span>&nbsp;<span class="ident" id="1438887">theGoos</span>&nbsp;<span class="op" id="1438895">==</span>&nbsp;<span class="string" id="1438898">&#34;nacl&#34;</span>&nbsp;<span class="op" id="1438905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438909">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1438917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1438921">//&nbsp;Install&nbsp;aes&nbsp;hash&nbsp;algorithm&nbsp;if&nbsp;we&nbsp;have&nbsp;the&nbsp;instructions&nbsp;we&nbsp;need</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438988">if</span>&nbsp;<span class="op" id="1438991">(</span><span class="ident" id="1438992">cpuid_ecx</span><span class="op" id="1439001">&amp;</span><span class="op" id="1439002">(</span><span class="num" id="1439003">1</span><span class="op" id="1439004">&lt;&lt;</span><span class="num" id="1439006">25</span><span class="op" id="1439008">)</span><span class="op" id="1439009">)</span>&nbsp;<span class="op" id="1439011">!=</span>&nbsp;<span class="num" id="1439014">0</span>&nbsp;<span class="op" id="1439016">&amp;&amp;</span>&nbsp;<span class="comment" id="1439019">//&nbsp;aes&nbsp;(aesenc)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1439037">(</span><span class="ident" id="1439038">cpuid_ecx</span><span class="op" id="1439047">&amp;</span><span class="op" id="1439048">(</span><span class="num" id="1439049">1</span><span class="op" id="1439050">&lt;&lt;</span><span class="num" id="1439052">9</span><span class="op" id="1439053">)</span><span class="op" id="1439054">)</span>&nbsp;<span class="op" id="1439056">!=</span>&nbsp;<span class="num" id="1439059">0</span>&nbsp;<span class="op" id="1439061">&amp;&amp;</span>&nbsp;<span class="comment" id="1439064">//&nbsp;sse3&nbsp;(pshufb)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1439083">(</span><span class="ident" id="1439084">cpuid_ecx</span><span class="op" id="1439093">&amp;</span><span class="op" id="1439094">(</span><span class="num" id="1439095">1</span><span class="op" id="1439096">&lt;&lt;</span><span class="num" id="1439098">19</span><span class="op" id="1439100">)</span><span class="op" id="1439101">)</span>&nbsp;<span class="op" id="1439103">!=</span>&nbsp;<span class="num" id="1439106">0</span>&nbsp;<span class="op" id="1439108">{</span>&nbsp;<span class="comment" id="1439110">//&nbsp;sse4.1&nbsp;(pinsr{d,q})</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439135">useAeshash</span>&nbsp;<span class="op" id="1439146">=</span>&nbsp;<span class="builtintype" id="1439148">true</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439155">algarray</span><span class="op" id="1439163">[</span><span class="ident" id="1439164">alg_MEM</span><span class="op" id="1439171">]</span><span class="op" id="1439172">.</span><span class="ident" id="1439173">hash</span>&nbsp;<span class="op" id="1439178">=</span>&nbsp;<span class="ident" id="1439180">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439190">algarray</span><span class="op" id="1439198">[</span><span class="ident" id="1439199">alg_MEM8</span><span class="op" id="1439207">]</span><span class="op" id="1439208">.</span><span class="ident" id="1439209">hash</span>&nbsp;<span class="op" id="1439214">=</span>&nbsp;<span class="ident" id="1439216">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439226">algarray</span><span class="op" id="1439234">[</span><span class="ident" id="1439235">alg_MEM16</span><span class="op" id="1439244">]</span><span class="op" id="1439245">.</span><span class="ident" id="1439246">hash</span>&nbsp;<span class="op" id="1439251">=</span>&nbsp;<span class="ident" id="1439253">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439263">algarray</span><span class="op" id="1439271">[</span><span class="ident" id="1439272">alg_MEM32</span><span class="op" id="1439281">]</span><span class="op" id="1439282">.</span><span class="ident" id="1439283">hash</span>&nbsp;<span class="op" id="1439288">=</span>&nbsp;<span class="ident" id="1439290">aeshash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439302">algarray</span><span class="op" id="1439310">[</span><span class="ident" id="1439311">alg_MEM64</span><span class="op" id="1439320">]</span><span class="op" id="1439321">.</span><span class="ident" id="1439322">hash</span>&nbsp;<span class="op" id="1439327">=</span>&nbsp;<span class="ident" id="1439329">aeshash64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439341">algarray</span><span class="op" id="1439349">[</span><span class="ident" id="1439350">alg_MEM128</span><span class="op" id="1439360">]</span><span class="op" id="1439361">.</span><span class="ident" id="1439362">hash</span>&nbsp;<span class="op" id="1439367">=</span>&nbsp;<span class="ident" id="1439369">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439379">algarray</span><span class="op" id="1439387">[</span><span class="ident" id="1439388">alg_STRING</span><span class="op" id="1439398">]</span><span class="op" id="1439399">.</span><span class="ident" id="1439400">hash</span>&nbsp;<span class="op" id="1439405">=</span>&nbsp;<span class="ident" id="1439407">aeshashstr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1439420">//&nbsp;Initialize&nbsp;with&nbsp;random&nbsp;data&nbsp;so&nbsp;hash&nbsp;collisions&nbsp;will&nbsp;be&nbsp;hard&nbsp;to&nbsp;engineer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439498">var</span>&nbsp;<span class="ident" id="1439502">rnd</span>&nbsp;<span class="ident" id="1439506">unsafe</span><span class="op" id="1439512">.</span><span class="ident" id="1439513">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439523">var</span>&nbsp;<span class="ident" id="1439527">n</span>&nbsp;<span class="builtintype" id="1439529">int32</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439537">get_random_data</span><span class="op" id="1439552">(</span><span class="op" id="1439553">&amp;</span><span class="ident" id="1439554">rnd</span><span class="op" id="1439557">,</span>&nbsp;<span class="op" id="1439559">&amp;</span><span class="ident" id="1439560">n</span><span class="op" id="1439561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439565">if</span>&nbsp;<span class="ident" id="1439568">n</span>&nbsp;<span class="op" id="1439570">&gt;</span>&nbsp;<span class="ident" id="1439572">hashRandomBytes</span>&nbsp;<span class="op" id="1439588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439593">n</span>&nbsp;<span class="op" id="1439595">=</span>&nbsp;<span class="ident" id="1439597">hashRandomBytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1439615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439619">memmove</span><span class="op" id="1439626">(</span><span class="ident" id="1439627">unsafe</span><span class="op" id="1439633">.</span><span class="ident" id="1439634">Pointer</span><span class="op" id="1439641">(</span><span class="op" id="1439642">&amp;</span><span class="ident" id="1439643">aeskeysched</span><span class="op" id="1439654">[</span><span class="num" id="1439655">0</span><span class="op" id="1439656">]</span><span class="op" id="1439657">)</span><span class="op" id="1439658">,</span>&nbsp;<span class="ident" id="1439660">rnd</span><span class="op" id="1439663">,</span>&nbsp;<span class="builtintype" id="1439665">uintptr</span><span class="op" id="1439672">(</span><span class="ident" id="1439673">n</span><span class="op" id="1439674">)</span><span class="op" id="1439675">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439679">if</span>&nbsp;<span class="ident" id="1439682">n</span>&nbsp;<span class="op" id="1439684">&lt;</span>&nbsp;<span class="ident" id="1439686">hashRandomBytes</span>&nbsp;<span class="op" id="1439702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1439707">//&nbsp;Not&nbsp;very&nbsp;random,&nbsp;but&nbsp;better&nbsp;than&nbsp;nothing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439755">for</span>&nbsp;<span class="ident" id="1439759">t</span>&nbsp;<span class="op" id="1439761">:=</span>&nbsp;<span class="ident" id="1439764">nanotime</span><span class="op" id="1439772">(</span><span class="op" id="1439773">)</span><span class="op" id="1439774">;</span>&nbsp;<span class="ident" id="1439776">n</span>&nbsp;<span class="op" id="1439778">&lt;</span>&nbsp;<span class="ident" id="1439780">hashRandomBytes</span><span class="op" id="1439795">;</span>&nbsp;<span class="ident" id="1439797">n</span><span class="op" id="1439798">++</span>&nbsp;<span class="op" id="1439801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439807">aeskeysched</span><span class="op" id="1439818">[</span><span class="ident" id="1439819">n</span><span class="op" id="1439820">]</span>&nbsp;<span class="op" id="1439822">=</span>&nbsp;<span class="builtintype" id="1439824">byte</span><span class="op" id="1439828">(</span><span class="ident" id="1439829">t</span>&nbsp;<span class="op" id="1439831">&gt;&gt;</span>&nbsp;<span class="builtintype" id="1439834">uint</span><span class="op" id="1439838">(</span><span class="num" id="1439839">8</span><span class="op" id="1439840">*</span><span class="op" id="1439841">(</span><span class="ident" id="1439842">n</span><span class="op" id="1439843">%</span><span class="num" id="1439844">8</span><span class="op" id="1439845">)</span><span class="op" id="1439846">)</span><span class="op" id="1439847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1439852">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1439856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1439859">}</span><br>
<span class="lineno"></span><span class="op" id="1439861">}</span>
</div>
</body>
</html>
