<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6771949">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6772005">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6772059">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6772110">//&nbsp;Large&nbsp;data&nbsp;benchmark.</span><br>
<span class="lineno"></span><span class="comment" id="6772135">//&nbsp;The&nbsp;JSON&nbsp;data&nbsp;is&nbsp;a&nbsp;summary&nbsp;of&nbsp;agl&#39;s&nbsp;changes&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6772189">//&nbsp;go,&nbsp;webkit,&nbsp;and&nbsp;chromium&nbsp;open&nbsp;source&nbsp;projects.</span><br>
<span class="lineno"></span><span class="comment" id="6772239">//&nbsp;We&nbsp;benchmark&nbsp;converting&nbsp;between&nbsp;the&nbsp;JSON&nbsp;form</span><br>
<span class="lineno"></span><span class="comment" id="6772288">//&nbsp;and&nbsp;in-memory&nbsp;data&nbsp;structures.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6772323">package</span>&nbsp;<span class="ident" id="6772331">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6772337">import</span>&nbsp;<span class="op" id="6772344">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6772347">&#34;bytes&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6772356">&#34;compress/gzip&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6772373">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6772386">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6772392">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6772402">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6772405">type</span>&nbsp;<span class="ident" id="6772410">codeResponse</span>&nbsp;<span class="keyword" id="6772423">struct</span>&nbsp;<span class="op" id="6772430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772433">Tree</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6772442">*</span><span class="ident" id="6772443">codeNode</span>&nbsp;<span class="string" id="6772452">`json:&#34;tree&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772467">Username</span>&nbsp;<span class="builtintype" id="6772476">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6772486">`json:&#34;username&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6772504">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6772507">type</span>&nbsp;<span class="ident" id="6772512">codeNode</span>&nbsp;<span class="keyword" id="6772521">struct</span>&nbsp;<span class="op" id="6772528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772531">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6772540">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6772552">`json:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772567">Kids</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6772576">[</span><span class="op" id="6772577">]</span><span class="op" id="6772578">*</span><span class="ident" id="6772579">codeNode</span>&nbsp;<span class="string" id="6772588">`json:&#34;kids&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772603">CLWeight</span>&nbsp;<span class="builtintype" id="6772612">float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6772624">`json:&#34;cl_weight&#34;`</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772644">Touches</span>&nbsp;&nbsp;<span class="builtintype" id="6772653">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6772665">`json:&#34;touches&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772683">MinT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6772692">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6772704">`json:&#34;min_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772720">MaxT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6772729">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6772741">`json:&#34;max_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772757">MeanT</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6772766">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6772778">`json:&#34;mean_t&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6772794">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="6772797">var</span>&nbsp;<span class="ident" id="6772801">codeJSON</span>&nbsp;<span class="op" id="6772810">[</span><span class="op" id="6772811">]</span><span class="builtintype" id="6772812">byte</span><br>
<span class="lineno"></span><span class="keyword" id="6772817">var</span>&nbsp;<span class="ident" id="6772821">codeStruct</span>&nbsp;<span class="ident" id="6772832">codeResponse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6772846">func</span>&nbsp;<span class="ident" id="6772851">codeInit</span><span class="op" id="6772859">(</span><span class="op" id="6772860">)</span>&nbsp;<span class="op" id="6772862">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772865">f</span><span class="op" id="6772866">,</span>&nbsp;<span class="ident" id="6772868">err</span>&nbsp;<span class="op" id="6772872">:=</span>&nbsp;<span class="ident" id="6772875">os</span><span class="op" id="6772877">.</span><span class="ident" id="6772878">Open</span><span class="op" id="6772882">(</span><span class="string" id="6772883">&#34;testdata/code.json.gz&#34;</span><span class="op" id="6772906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6772909">if</span>&nbsp;<span class="ident" id="6772912">err</span>&nbsp;<span class="op" id="6772916">!=</span>&nbsp;<span class="ident" id="6772919">nil</span>&nbsp;<span class="op" id="6772923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6772927">panic</span><span class="op" id="6772932">(</span><span class="ident" id="6772933">err</span><span class="op" id="6772936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6772939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6772942">defer</span>&nbsp;<span class="ident" id="6772948">f</span><span class="op" id="6772949">.</span><span class="ident" id="6772950">Close</span><span class="op" id="6772955">(</span><span class="op" id="6772956">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6772959">gz</span><span class="op" id="6772961">,</span>&nbsp;<span class="ident" id="6772963">err</span>&nbsp;<span class="op" id="6772967">:=</span>&nbsp;<span class="ident" id="6772970">gzip</span><span class="op" id="6772974">.</span><span class="ident" id="6772975">NewReader</span><span class="op" id="6772984">(</span><span class="ident" id="6772985">f</span><span class="op" id="6772986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6772989">if</span>&nbsp;<span class="ident" id="6772992">err</span>&nbsp;<span class="op" id="6772996">!=</span>&nbsp;<span class="ident" id="6772999">nil</span>&nbsp;<span class="op" id="6773003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6773007">panic</span><span class="op" id="6773012">(</span><span class="ident" id="6773013">err</span><span class="op" id="6773016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6773022">data</span><span class="op" id="6773026">,</span>&nbsp;<span class="ident" id="6773028">err</span>&nbsp;<span class="op" id="6773032">:=</span>&nbsp;<span class="ident" id="6773035">ioutil</span><span class="op" id="6773041">.</span><span class="ident" id="6773042">ReadAll</span><span class="op" id="6773049">(</span><span class="ident" id="6773050">gz</span><span class="op" id="6773052">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773055">if</span>&nbsp;<span class="ident" id="6773058">err</span>&nbsp;<span class="op" id="6773062">!=</span>&nbsp;<span class="ident" id="6773065">nil</span>&nbsp;<span class="op" id="6773069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6773073">panic</span><span class="op" id="6773078">(</span><span class="ident" id="6773079">err</span><span class="op" id="6773082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6773089">codeJSON</span>&nbsp;<span class="op" id="6773098">=</span>&nbsp;<span class="ident" id="6773100">data</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773107">if</span>&nbsp;<span class="ident" id="6773110">err</span>&nbsp;<span class="op" id="6773114">:=</span>&nbsp;<span class="ident" id="6773117">Unmarshal</span><span class="op" id="6773126">(</span><span class="ident" id="6773127">codeJSON</span><span class="op" id="6773135">,</span>&nbsp;<span class="op" id="6773137">&amp;</span><span class="ident" id="6773138">codeStruct</span><span class="op" id="6773148">)</span><span class="op" id="6773149">;</span>&nbsp;<span class="ident" id="6773151">err</span>&nbsp;<span class="op" id="6773155">!=</span>&nbsp;<span class="ident" id="6773158">nil</span>&nbsp;<span class="op" id="6773162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6773166">panic</span><span class="op" id="6773171">(</span><span class="string" id="6773172">&#34;unmarshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="6773196">+</span>&nbsp;<span class="ident" id="6773198">err</span><span class="op" id="6773201">.</span><span class="ident" id="6773202">Error</span><span class="op" id="6773207">(</span><span class="op" id="6773208">)</span><span class="op" id="6773209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773216">if</span>&nbsp;<span class="ident" id="6773219">data</span><span class="op" id="6773223">,</span>&nbsp;<span class="ident" id="6773225">err</span>&nbsp;<span class="op" id="6773229">=</span>&nbsp;<span class="ident" id="6773231">Marshal</span><span class="op" id="6773238">(</span><span class="op" id="6773239">&amp;</span><span class="ident" id="6773240">codeStruct</span><span class="op" id="6773250">)</span><span class="op" id="6773251">;</span>&nbsp;<span class="ident" id="6773253">err</span>&nbsp;<span class="op" id="6773257">!=</span>&nbsp;<span class="ident" id="6773260">nil</span>&nbsp;<span class="op" id="6773264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6773268">panic</span><span class="op" id="6773273">(</span><span class="string" id="6773274">&#34;marshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="6773296">+</span>&nbsp;<span class="ident" id="6773298">err</span><span class="op" id="6773301">.</span><span class="ident" id="6773302">Error</span><span class="op" id="6773307">(</span><span class="op" id="6773308">)</span><span class="op" id="6773309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773316">if</span>&nbsp;<span class="op" id="6773319">!</span><span class="ident" id="6773320">bytes</span><span class="op" id="6773325">.</span><span class="ident" id="6773326">Equal</span><span class="op" id="6773331">(</span><span class="ident" id="6773332">data</span><span class="op" id="6773336">,</span>&nbsp;<span class="ident" id="6773338">codeJSON</span><span class="op" id="6773346">)</span>&nbsp;<span class="op" id="6773348">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6773352">println</span><span class="op" id="6773359">(</span><span class="string" id="6773360">&#34;different&nbsp;lengths&#34;</span><span class="op" id="6773379">,</span>&nbsp;<span class="builtinfunc" id="6773381">len</span><span class="op" id="6773384">(</span><span class="ident" id="6773385">data</span><span class="op" id="6773389">)</span><span class="op" id="6773390">,</span>&nbsp;<span class="builtinfunc" id="6773392">len</span><span class="op" id="6773395">(</span><span class="ident" id="6773396">codeJSON</span><span class="op" id="6773404">)</span><span class="op" id="6773405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773409">for</span>&nbsp;<span class="ident" id="6773413">i</span>&nbsp;<span class="op" id="6773415">:=</span>&nbsp;<span class="num" id="6773418">0</span><span class="op" id="6773419">;</span>&nbsp;<span class="ident" id="6773421">i</span>&nbsp;<span class="op" id="6773423">&lt;</span>&nbsp;<span class="builtinfunc" id="6773425">len</span><span class="op" id="6773428">(</span><span class="ident" id="6773429">data</span><span class="op" id="6773433">)</span>&nbsp;<span class="op" id="6773435">&amp;&amp;</span>&nbsp;<span class="ident" id="6773438">i</span>&nbsp;<span class="op" id="6773440">&lt;</span>&nbsp;<span class="builtinfunc" id="6773442">len</span><span class="op" id="6773445">(</span><span class="ident" id="6773446">codeJSON</span><span class="op" id="6773454">)</span><span class="op" id="6773455">;</span>&nbsp;<span class="ident" id="6773457">i</span><span class="op" id="6773458">++</span>&nbsp;<span class="op" id="6773461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773466">if</span>&nbsp;<span class="ident" id="6773469">data</span><span class="op" id="6773473">[</span><span class="ident" id="6773474">i</span><span class="op" id="6773475">]</span>&nbsp;<span class="op" id="6773477">!=</span>&nbsp;<span class="ident" id="6773480">codeJSON</span><span class="op" id="6773488">[</span><span class="ident" id="6773489">i</span><span class="op" id="6773490">]</span>&nbsp;<span class="op" id="6773492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6773498">println</span><span class="op" id="6773505">(</span><span class="string" id="6773506">&#34;re-marshal:&nbsp;changed&nbsp;at&nbsp;byte&#34;</span><span class="op" id="6773535">,</span>&nbsp;<span class="ident" id="6773537">i</span><span class="op" id="6773538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6773544">println</span><span class="op" id="6773551">(</span><span class="string" id="6773552">&#34;orig:&nbsp;&#34;</span><span class="op" id="6773560">,</span>&nbsp;<span class="builtintype" id="6773562">string</span><span class="op" id="6773568">(</span><span class="ident" id="6773569">codeJSON</span><span class="op" id="6773577">[</span><span class="ident" id="6773578">i</span><span class="op" id="6773579">-</span><span class="num" id="6773580">10</span><span class="op" id="6773582">:</span><span class="ident" id="6773583">i</span><span class="op" id="6773584">+</span><span class="num" id="6773585">10</span><span class="op" id="6773587">]</span><span class="op" id="6773588">)</span><span class="op" id="6773589">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6773595">println</span><span class="op" id="6773602">(</span><span class="string" id="6773603">&#34;new:&nbsp;&#34;</span><span class="op" id="6773610">,</span>&nbsp;<span class="builtintype" id="6773612">string</span><span class="op" id="6773618">(</span><span class="ident" id="6773619">data</span><span class="op" id="6773623">[</span><span class="ident" id="6773624">i</span><span class="op" id="6773625">-</span><span class="num" id="6773626">10</span><span class="op" id="6773628">:</span><span class="ident" id="6773629">i</span><span class="op" id="6773630">+</span><span class="num" id="6773631">10</span><span class="op" id="6773633">]</span><span class="op" id="6773634">)</span><span class="op" id="6773635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773641">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6773658">panic</span><span class="op" id="6773663">(</span><span class="string" id="6773664">&#34;re-marshal&nbsp;code.json:&nbsp;different&nbsp;result&#34;</span><span class="op" id="6773704">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773707">}</span><br>
<span class="lineno"></span><span class="op" id="6773709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6773712">func</span>&nbsp;<span class="ident" id="6773717">BenchmarkCodeEncoder</span><span class="op" id="6773737">(</span><span class="ident" id="6773738">b</span>&nbsp;<span class="op" id="6773740">*</span><span class="ident" id="6773741">testing</span><span class="op" id="6773748">.</span><span class="ident" id="6773749">B</span><span class="op" id="6773750">)</span>&nbsp;<span class="op" id="6773752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773755">if</span>&nbsp;<span class="ident" id="6773758">codeJSON</span>&nbsp;<span class="op" id="6773767">==</span>&nbsp;<span class="ident" id="6773770">nil</span>&nbsp;<span class="op" id="6773774">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6773778">b</span><span class="op" id="6773779">.</span><span class="ident" id="6773780">StopTimer</span><span class="op" id="6773789">(</span><span class="op" id="6773790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6773794">codeInit</span><span class="op" id="6773802">(</span><span class="op" id="6773803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6773807">b</span><span class="op" id="6773808">.</span><span class="ident" id="6773809">StartTimer</span><span class="op" id="6773819">(</span><span class="op" id="6773820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6773826">enc</span>&nbsp;<span class="op" id="6773830">:=</span>&nbsp;<span class="ident" id="6773833">NewEncoder</span><span class="op" id="6773843">(</span><span class="ident" id="6773844">ioutil</span><span class="op" id="6773850">.</span><span class="ident" id="6773851">Discard</span><span class="op" id="6773858">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773861">for</span>&nbsp;<span class="ident" id="6773865">i</span>&nbsp;<span class="op" id="6773867">:=</span>&nbsp;<span class="num" id="6773870">0</span><span class="op" id="6773871">;</span>&nbsp;<span class="ident" id="6773873">i</span>&nbsp;<span class="op" id="6773875">&lt;</span>&nbsp;<span class="ident" id="6773877">b</span><span class="op" id="6773878">.</span><span class="ident" id="6773879">N</span><span class="op" id="6773880">;</span>&nbsp;<span class="ident" id="6773882">i</span><span class="op" id="6773883">++</span>&nbsp;<span class="op" id="6773886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6773890">if</span>&nbsp;<span class="ident" id="6773893">err</span>&nbsp;<span class="op" id="6773897">:=</span>&nbsp;<span class="ident" id="6773900">enc</span><span class="op" id="6773903">.</span><span class="ident" id="6773904">Encode</span><span class="op" id="6773910">(</span><span class="op" id="6773911">&amp;</span><span class="ident" id="6773912">codeStruct</span><span class="op" id="6773922">)</span><span class="op" id="6773923">;</span>&nbsp;<span class="ident" id="6773925">err</span>&nbsp;<span class="op" id="6773929">!=</span>&nbsp;<span class="ident" id="6773932">nil</span>&nbsp;<span class="op" id="6773936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6773941">b</span><span class="op" id="6773942">.</span><span class="ident" id="6773943">Fatal</span><span class="op" id="6773948">(</span><span class="string" id="6773949">&#34;Encode:&#34;</span><span class="op" id="6773958">,</span>&nbsp;<span class="ident" id="6773960">err</span><span class="op" id="6773963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6773970">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6773973">b</span><span class="op" id="6773974">.</span><span class="ident" id="6773975">SetBytes</span><span class="op" id="6773983">(</span><span class="ident" id="6773984">int64</span><span class="op" id="6773989">(</span><span class="builtinfunc" id="6773990">len</span><span class="op" id="6773993">(</span><span class="ident" id="6773994">codeJSON</span><span class="op" id="6774002">)</span><span class="op" id="6774003">)</span><span class="op" id="6774004">)</span><br>
<span class="lineno"></span><span class="op" id="6774006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6774009">func</span>&nbsp;<span class="ident" id="6774014">BenchmarkCodeMarshal</span><span class="op" id="6774034">(</span><span class="ident" id="6774035">b</span>&nbsp;<span class="op" id="6774037">*</span><span class="ident" id="6774038">testing</span><span class="op" id="6774045">.</span><span class="ident" id="6774046">B</span><span class="op" id="6774047">)</span>&nbsp;<span class="op" id="6774049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774052">if</span>&nbsp;<span class="ident" id="6774055">codeJSON</span>&nbsp;<span class="op" id="6774064">==</span>&nbsp;<span class="ident" id="6774067">nil</span>&nbsp;<span class="op" id="6774071">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774075">b</span><span class="op" id="6774076">.</span><span class="ident" id="6774077">StopTimer</span><span class="op" id="6774086">(</span><span class="op" id="6774087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774091">codeInit</span><span class="op" id="6774099">(</span><span class="op" id="6774100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774104">b</span><span class="op" id="6774105">.</span><span class="ident" id="6774106">StartTimer</span><span class="op" id="6774116">(</span><span class="op" id="6774117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6774120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774123">for</span>&nbsp;<span class="ident" id="6774127">i</span>&nbsp;<span class="op" id="6774129">:=</span>&nbsp;<span class="num" id="6774132">0</span><span class="op" id="6774133">;</span>&nbsp;<span class="ident" id="6774135">i</span>&nbsp;<span class="op" id="6774137">&lt;</span>&nbsp;<span class="ident" id="6774139">b</span><span class="op" id="6774140">.</span><span class="ident" id="6774141">N</span><span class="op" id="6774142">;</span>&nbsp;<span class="ident" id="6774144">i</span><span class="op" id="6774145">++</span>&nbsp;<span class="op" id="6774148">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774152">if</span>&nbsp;<span class="ident" id="6774155">_</span><span class="op" id="6774156">,</span>&nbsp;<span class="ident" id="6774158">err</span>&nbsp;<span class="op" id="6774162">:=</span>&nbsp;<span class="ident" id="6774165">Marshal</span><span class="op" id="6774172">(</span><span class="op" id="6774173">&amp;</span><span class="ident" id="6774174">codeStruct</span><span class="op" id="6774184">)</span><span class="op" id="6774185">;</span>&nbsp;<span class="ident" id="6774187">err</span>&nbsp;<span class="op" id="6774191">!=</span>&nbsp;<span class="ident" id="6774194">nil</span>&nbsp;<span class="op" id="6774198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774203">b</span><span class="op" id="6774204">.</span><span class="ident" id="6774205">Fatal</span><span class="op" id="6774210">(</span><span class="string" id="6774211">&#34;Marshal:&#34;</span><span class="op" id="6774221">,</span>&nbsp;<span class="ident" id="6774223">err</span><span class="op" id="6774226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6774230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6774233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774236">b</span><span class="op" id="6774237">.</span><span class="ident" id="6774238">SetBytes</span><span class="op" id="6774246">(</span><span class="ident" id="6774247">int64</span><span class="op" id="6774252">(</span><span class="builtinfunc" id="6774253">len</span><span class="op" id="6774256">(</span><span class="ident" id="6774257">codeJSON</span><span class="op" id="6774265">)</span><span class="op" id="6774266">)</span><span class="op" id="6774267">)</span><br>
<span class="lineno">105</span><span class="op" id="6774269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6774272">func</span>&nbsp;<span class="ident" id="6774277">BenchmarkCodeDecoder</span><span class="op" id="6774297">(</span><span class="ident" id="6774298">b</span>&nbsp;<span class="op" id="6774300">*</span><span class="ident" id="6774301">testing</span><span class="op" id="6774308">.</span><span class="ident" id="6774309">B</span><span class="op" id="6774310">)</span>&nbsp;<span class="op" id="6774312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774315">if</span>&nbsp;<span class="ident" id="6774318">codeJSON</span>&nbsp;<span class="op" id="6774327">==</span>&nbsp;<span class="ident" id="6774330">nil</span>&nbsp;<span class="op" id="6774334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774338">b</span><span class="op" id="6774339">.</span><span class="ident" id="6774340">StopTimer</span><span class="op" id="6774349">(</span><span class="op" id="6774350">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774354">codeInit</span><span class="op" id="6774362">(</span><span class="op" id="6774363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774367">b</span><span class="op" id="6774368">.</span><span class="ident" id="6774369">StartTimer</span><span class="op" id="6774379">(</span><span class="op" id="6774380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6774383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774386">var</span>&nbsp;<span class="ident" id="6774390">buf</span>&nbsp;<span class="ident" id="6774394">bytes</span><span class="op" id="6774399">.</span><span class="ident" id="6774400">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774408">dec</span>&nbsp;<span class="op" id="6774412">:=</span>&nbsp;<span class="ident" id="6774415">NewDecoder</span><span class="op" id="6774425">(</span><span class="op" id="6774426">&amp;</span><span class="ident" id="6774427">buf</span><span class="op" id="6774430">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774433">var</span>&nbsp;<span class="ident" id="6774437">r</span>&nbsp;<span class="ident" id="6774439">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774453">for</span>&nbsp;<span class="ident" id="6774457">i</span>&nbsp;<span class="op" id="6774459">:=</span>&nbsp;<span class="num" id="6774462">0</span><span class="op" id="6774463">;</span>&nbsp;<span class="ident" id="6774465">i</span>&nbsp;<span class="op" id="6774467">&lt;</span>&nbsp;<span class="ident" id="6774469">b</span><span class="op" id="6774470">.</span><span class="ident" id="6774471">N</span><span class="op" id="6774472">;</span>&nbsp;<span class="ident" id="6774474">i</span><span class="op" id="6774475">++</span>&nbsp;<span class="op" id="6774478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774482">buf</span><span class="op" id="6774485">.</span><span class="ident" id="6774486">Write</span><span class="op" id="6774491">(</span><span class="ident" id="6774492">codeJSON</span><span class="op" id="6774500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6774504">//&nbsp;hide&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774518">buf</span><span class="op" id="6774521">.</span><span class="ident" id="6774522">WriteByte</span><span class="op" id="6774531">(</span><span class="string" id="6774532">&#39;\n&#39;</span><span class="op" id="6774536">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774540">buf</span><span class="op" id="6774543">.</span><span class="ident" id="6774544">WriteByte</span><span class="op" id="6774553">(</span><span class="string" id="6774554">&#39;\n&#39;</span><span class="op" id="6774558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774562">buf</span><span class="op" id="6774565">.</span><span class="ident" id="6774566">WriteByte</span><span class="op" id="6774575">(</span><span class="string" id="6774576">&#39;\n&#39;</span><span class="op" id="6774580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774584">if</span>&nbsp;<span class="ident" id="6774587">err</span>&nbsp;<span class="op" id="6774591">:=</span>&nbsp;<span class="ident" id="6774594">dec</span><span class="op" id="6774597">.</span><span class="ident" id="6774598">Decode</span><span class="op" id="6774604">(</span><span class="op" id="6774605">&amp;</span><span class="ident" id="6774606">r</span><span class="op" id="6774607">)</span><span class="op" id="6774608">;</span>&nbsp;<span class="ident" id="6774610">err</span>&nbsp;<span class="op" id="6774614">!=</span>&nbsp;<span class="ident" id="6774617">nil</span>&nbsp;<span class="op" id="6774621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774626">b</span><span class="op" id="6774627">.</span><span class="ident" id="6774628">Fatal</span><span class="op" id="6774633">(</span><span class="string" id="6774634">&#34;Decode:&#34;</span><span class="op" id="6774643">,</span>&nbsp;<span class="ident" id="6774645">err</span><span class="op" id="6774648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6774652">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6774655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774658">b</span><span class="op" id="6774659">.</span><span class="ident" id="6774660">SetBytes</span><span class="op" id="6774668">(</span><span class="ident" id="6774669">int64</span><span class="op" id="6774674">(</span><span class="builtinfunc" id="6774675">len</span><span class="op" id="6774678">(</span><span class="ident" id="6774679">codeJSON</span><span class="op" id="6774687">)</span><span class="op" id="6774688">)</span><span class="op" id="6774689">)</span><br>
<span class="lineno"></span><span class="op" id="6774691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6774694">func</span>&nbsp;<span class="ident" id="6774699">BenchmarkCodeUnmarshal</span><span class="op" id="6774721">(</span><span class="ident" id="6774722">b</span>&nbsp;<span class="op" id="6774724">*</span><span class="ident" id="6774725">testing</span><span class="op" id="6774732">.</span><span class="ident" id="6774733">B</span><span class="op" id="6774734">)</span>&nbsp;<span class="op" id="6774736">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774739">if</span>&nbsp;<span class="ident" id="6774742">codeJSON</span>&nbsp;<span class="op" id="6774751">==</span>&nbsp;<span class="ident" id="6774754">nil</span>&nbsp;<span class="op" id="6774758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774762">b</span><span class="op" id="6774763">.</span><span class="ident" id="6774764">StopTimer</span><span class="op" id="6774773">(</span><span class="op" id="6774774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774778">codeInit</span><span class="op" id="6774786">(</span><span class="op" id="6774787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774791">b</span><span class="op" id="6774792">.</span><span class="ident" id="6774793">StartTimer</span><span class="op" id="6774803">(</span><span class="op" id="6774804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6774807">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774810">for</span>&nbsp;<span class="ident" id="6774814">i</span>&nbsp;<span class="op" id="6774816">:=</span>&nbsp;<span class="num" id="6774819">0</span><span class="op" id="6774820">;</span>&nbsp;<span class="ident" id="6774822">i</span>&nbsp;<span class="op" id="6774824">&lt;</span>&nbsp;<span class="ident" id="6774826">b</span><span class="op" id="6774827">.</span><span class="ident" id="6774828">N</span><span class="op" id="6774829">;</span>&nbsp;<span class="ident" id="6774831">i</span><span class="op" id="6774832">++</span>&nbsp;<span class="op" id="6774835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774839">var</span>&nbsp;<span class="ident" id="6774843">r</span>&nbsp;<span class="ident" id="6774845">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6774860">if</span>&nbsp;<span class="ident" id="6774863">err</span>&nbsp;<span class="op" id="6774867">:=</span>&nbsp;<span class="ident" id="6774870">Unmarshal</span><span class="op" id="6774879">(</span><span class="ident" id="6774880">codeJSON</span><span class="op" id="6774888">,</span>&nbsp;<span class="op" id="6774890">&amp;</span><span class="ident" id="6774891">r</span><span class="op" id="6774892">)</span><span class="op" id="6774893">;</span>&nbsp;<span class="ident" id="6774895">err</span>&nbsp;<span class="op" id="6774899">!=</span>&nbsp;<span class="ident" id="6774902">nil</span>&nbsp;<span class="op" id="6774906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774911">b</span><span class="op" id="6774912">.</span><span class="ident" id="6774913">Fatal</span><span class="op" id="6774918">(</span><span class="string" id="6774919">&#34;Unmmarshal:&#34;</span><span class="op" id="6774932">,</span>&nbsp;<span class="ident" id="6774934">err</span><span class="op" id="6774937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6774941">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6774944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6774947">b</span><span class="op" id="6774948">.</span><span class="ident" id="6774949">SetBytes</span><span class="op" id="6774957">(</span><span class="ident" id="6774958">int64</span><span class="op" id="6774963">(</span><span class="builtinfunc" id="6774964">len</span><span class="op" id="6774967">(</span><span class="ident" id="6774968">codeJSON</span><span class="op" id="6774976">)</span><span class="op" id="6774977">)</span><span class="op" id="6774978">)</span><br>
<span class="lineno"></span><span class="op" id="6774980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6774983">func</span>&nbsp;<span class="ident" id="6774988">BenchmarkCodeUnmarshalReuse</span><span class="op" id="6775015">(</span><span class="ident" id="6775016">b</span>&nbsp;<span class="op" id="6775018">*</span><span class="ident" id="6775019">testing</span><span class="op" id="6775026">.</span><span class="ident" id="6775027">B</span><span class="op" id="6775028">)</span>&nbsp;<span class="op" id="6775030">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775033">if</span>&nbsp;<span class="ident" id="6775036">codeJSON</span>&nbsp;<span class="op" id="6775045">==</span>&nbsp;<span class="ident" id="6775048">nil</span>&nbsp;<span class="op" id="6775052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775056">b</span><span class="op" id="6775057">.</span><span class="ident" id="6775058">StopTimer</span><span class="op" id="6775067">(</span><span class="op" id="6775068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775072">codeInit</span><span class="op" id="6775080">(</span><span class="op" id="6775081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775085">b</span><span class="op" id="6775086">.</span><span class="ident" id="6775087">StartTimer</span><span class="op" id="6775097">(</span><span class="op" id="6775098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6775101">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775104">var</span>&nbsp;<span class="ident" id="6775108">r</span>&nbsp;<span class="ident" id="6775110">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775124">for</span>&nbsp;<span class="ident" id="6775128">i</span>&nbsp;<span class="op" id="6775130">:=</span>&nbsp;<span class="num" id="6775133">0</span><span class="op" id="6775134">;</span>&nbsp;<span class="ident" id="6775136">i</span>&nbsp;<span class="op" id="6775138">&lt;</span>&nbsp;<span class="ident" id="6775140">b</span><span class="op" id="6775141">.</span><span class="ident" id="6775142">N</span><span class="op" id="6775143">;</span>&nbsp;<span class="ident" id="6775145">i</span><span class="op" id="6775146">++</span>&nbsp;<span class="op" id="6775149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775153">if</span>&nbsp;<span class="ident" id="6775156">err</span>&nbsp;<span class="op" id="6775160">:=</span>&nbsp;<span class="ident" id="6775163">Unmarshal</span><span class="op" id="6775172">(</span><span class="ident" id="6775173">codeJSON</span><span class="op" id="6775181">,</span>&nbsp;<span class="op" id="6775183">&amp;</span><span class="ident" id="6775184">r</span><span class="op" id="6775185">)</span><span class="op" id="6775186">;</span>&nbsp;<span class="ident" id="6775188">err</span>&nbsp;<span class="op" id="6775192">!=</span>&nbsp;<span class="ident" id="6775195">nil</span>&nbsp;<span class="op" id="6775199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775204">b</span><span class="op" id="6775205">.</span><span class="ident" id="6775206">Fatal</span><span class="op" id="6775211">(</span><span class="string" id="6775212">&#34;Unmmarshal:&#34;</span><span class="op" id="6775225">,</span>&nbsp;<span class="ident" id="6775227">err</span><span class="op" id="6775230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6775234">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6775237">}</span><br>
<span class="lineno"></span><span class="op" id="6775239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6775242">func</span>&nbsp;<span class="ident" id="6775247">BenchmarkUnmarshalString</span><span class="op" id="6775271">(</span><span class="ident" id="6775272">b</span>&nbsp;<span class="op" id="6775274">*</span><span class="ident" id="6775275">testing</span><span class="op" id="6775282">.</span><span class="ident" id="6775283">B</span><span class="op" id="6775284">)</span>&nbsp;<span class="op" id="6775286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775289">data</span>&nbsp;<span class="op" id="6775294">:=</span>&nbsp;<span class="op" id="6775297">[</span><span class="op" id="6775298">]</span><span class="builtintype" id="6775299">byte</span><span class="op" id="6775303">(</span><span class="string" id="6775304">`&#34;hello,&nbsp;world&#34;`</span><span class="op" id="6775320">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775323">var</span>&nbsp;<span class="ident" id="6775327">s</span>&nbsp;<span class="builtintype" id="6775329">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775338">for</span>&nbsp;<span class="ident" id="6775342">i</span>&nbsp;<span class="op" id="6775344">:=</span>&nbsp;<span class="num" id="6775347">0</span><span class="op" id="6775348">;</span>&nbsp;<span class="ident" id="6775350">i</span>&nbsp;<span class="op" id="6775352">&lt;</span>&nbsp;<span class="ident" id="6775354">b</span><span class="op" id="6775355">.</span><span class="ident" id="6775356">N</span><span class="op" id="6775357">;</span>&nbsp;<span class="ident" id="6775359">i</span><span class="op" id="6775360">++</span>&nbsp;<span class="op" id="6775363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775367">if</span>&nbsp;<span class="ident" id="6775370">err</span>&nbsp;<span class="op" id="6775374">:=</span>&nbsp;<span class="ident" id="6775377">Unmarshal</span><span class="op" id="6775386">(</span><span class="ident" id="6775387">data</span><span class="op" id="6775391">,</span>&nbsp;<span class="op" id="6775393">&amp;</span><span class="ident" id="6775394">s</span><span class="op" id="6775395">)</span><span class="op" id="6775396">;</span>&nbsp;<span class="ident" id="6775398">err</span>&nbsp;<span class="op" id="6775402">!=</span>&nbsp;<span class="ident" id="6775405">nil</span>&nbsp;<span class="op" id="6775409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775414">b</span><span class="op" id="6775415">.</span><span class="ident" id="6775416">Fatal</span><span class="op" id="6775421">(</span><span class="string" id="6775422">&#34;Unmarshal:&#34;</span><span class="op" id="6775434">,</span>&nbsp;<span class="ident" id="6775436">err</span><span class="op" id="6775439">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6775443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6775446">}</span><br>
<span class="lineno"></span><span class="op" id="6775448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6775451">func</span>&nbsp;<span class="ident" id="6775456">BenchmarkUnmarshalFloat64</span><span class="op" id="6775481">(</span><span class="ident" id="6775482">b</span>&nbsp;<span class="op" id="6775484">*</span><span class="ident" id="6775485">testing</span><span class="op" id="6775492">.</span><span class="ident" id="6775493">B</span><span class="op" id="6775494">)</span>&nbsp;<span class="op" id="6775496">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775499">var</span>&nbsp;<span class="ident" id="6775503">f</span>&nbsp;<span class="builtintype" id="6775505">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775514">data</span>&nbsp;<span class="op" id="6775519">:=</span>&nbsp;<span class="op" id="6775522">[</span><span class="op" id="6775523">]</span><span class="builtintype" id="6775524">byte</span><span class="op" id="6775528">(</span><span class="string" id="6775529">`3.14`</span><span class="op" id="6775535">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775539">for</span>&nbsp;<span class="ident" id="6775543">i</span>&nbsp;<span class="op" id="6775545">:=</span>&nbsp;<span class="num" id="6775548">0</span><span class="op" id="6775549">;</span>&nbsp;<span class="ident" id="6775551">i</span>&nbsp;<span class="op" id="6775553">&lt;</span>&nbsp;<span class="ident" id="6775555">b</span><span class="op" id="6775556">.</span><span class="ident" id="6775557">N</span><span class="op" id="6775558">;</span>&nbsp;<span class="ident" id="6775560">i</span><span class="op" id="6775561">++</span>&nbsp;<span class="op" id="6775564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775568">if</span>&nbsp;<span class="ident" id="6775571">err</span>&nbsp;<span class="op" id="6775575">:=</span>&nbsp;<span class="ident" id="6775578">Unmarshal</span><span class="op" id="6775587">(</span><span class="ident" id="6775588">data</span><span class="op" id="6775592">,</span>&nbsp;<span class="op" id="6775594">&amp;</span><span class="ident" id="6775595">f</span><span class="op" id="6775596">)</span><span class="op" id="6775597">;</span>&nbsp;<span class="ident" id="6775599">err</span>&nbsp;<span class="op" id="6775603">!=</span>&nbsp;<span class="ident" id="6775606">nil</span>&nbsp;<span class="op" id="6775610">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775615">b</span><span class="op" id="6775616">.</span><span class="ident" id="6775617">Fatal</span><span class="op" id="6775622">(</span><span class="string" id="6775623">&#34;Unmarshal:&#34;</span><span class="op" id="6775635">,</span>&nbsp;<span class="ident" id="6775637">err</span><span class="op" id="6775640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6775644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6775647">}</span><br>
<span class="lineno"></span><span class="op" id="6775649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="6775652">func</span>&nbsp;<span class="ident" id="6775657">BenchmarkUnmarshalInt64</span><span class="op" id="6775680">(</span><span class="ident" id="6775681">b</span>&nbsp;<span class="op" id="6775683">*</span><span class="ident" id="6775684">testing</span><span class="op" id="6775691">.</span><span class="ident" id="6775692">B</span><span class="op" id="6775693">)</span>&nbsp;<span class="op" id="6775695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775698">var</span>&nbsp;<span class="ident" id="6775702">x</span>&nbsp;<span class="ident" id="6775704">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775711">data</span>&nbsp;<span class="op" id="6775716">:=</span>&nbsp;<span class="op" id="6775719">[</span><span class="op" id="6775720">]</span><span class="builtintype" id="6775721">byte</span><span class="op" id="6775725">(</span><span class="string" id="6775726">`3`</span><span class="op" id="6775729">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775733">for</span>&nbsp;<span class="ident" id="6775737">i</span>&nbsp;<span class="op" id="6775739">:=</span>&nbsp;<span class="num" id="6775742">0</span><span class="op" id="6775743">;</span>&nbsp;<span class="ident" id="6775745">i</span>&nbsp;<span class="op" id="6775747">&lt;</span>&nbsp;<span class="ident" id="6775749">b</span><span class="op" id="6775750">.</span><span class="ident" id="6775751">N</span><span class="op" id="6775752">;</span>&nbsp;<span class="ident" id="6775754">i</span><span class="op" id="6775755">++</span>&nbsp;<span class="op" id="6775758">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6775762">if</span>&nbsp;<span class="ident" id="6775765">err</span>&nbsp;<span class="op" id="6775769">:=</span>&nbsp;<span class="ident" id="6775772">Unmarshal</span><span class="op" id="6775781">(</span><span class="ident" id="6775782">data</span><span class="op" id="6775786">,</span>&nbsp;<span class="op" id="6775788">&amp;</span><span class="ident" id="6775789">x</span><span class="op" id="6775790">)</span><span class="op" id="6775791">;</span>&nbsp;<span class="ident" id="6775793">err</span>&nbsp;<span class="op" id="6775797">!=</span>&nbsp;<span class="ident" id="6775800">nil</span>&nbsp;<span class="op" id="6775804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6775809">b</span><span class="op" id="6775810">.</span><span class="ident" id="6775811">Fatal</span><span class="op" id="6775816">(</span><span class="string" id="6775817">&#34;Unmarshal:&#34;</span><span class="op" id="6775829">,</span>&nbsp;<span class="ident" id="6775831">err</span><span class="op" id="6775834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6775838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6775841">}</span><br>
<span class="lineno"></span><span class="op" id="6775843">}</span>
</div>
</body>
</html>
