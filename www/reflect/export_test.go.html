<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6986767">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6986823">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6986877">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6986928">package</span>&nbsp;<span class="ident" id="6986936">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6986945">//&nbsp;MakeRO&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;v&nbsp;with&nbsp;the&nbsp;read-only&nbsp;flag&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="6987004">func</span>&nbsp;<span class="ident" id="6987009">MakeRO</span><span class="op" id="6987015">(</span><span class="ident" id="6987016">v</span>&nbsp;<span class="ident" id="6987018"><a href="/reflect/value.go.html#2875697">Value</a></span><span class="op" id="6987023">)</span>&nbsp;<span class="ident" id="6987025"><a href="/reflect/value.go.html#2875697">Value</a></span>&nbsp;<span class="op" id="6987031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987034"><a href="/reflect/export_test.go.html#6987016">v</a></span><span class="op" id="6987035">.</span><span class="ident" id="6987036">flag</span>&nbsp;<span class="op" id="6987041">|=</span>&nbsp;<span class="ident" id="6987044"><a href="/reflect/value.go.html#2876944">flagRO</a></span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987052">return</span>&nbsp;<span class="ident" id="6987059"><a href="/reflect/export_test.go.html#6987016">v</a></span><br>
<span class="lineno"></span><span class="op" id="6987061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6987064">//&nbsp;IsRO&nbsp;reports&nbsp;whether&nbsp;v&#39;s&nbsp;read-only&nbsp;flag&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="6987115">func</span>&nbsp;<span class="ident" id="6987120">IsRO</span><span class="op" id="6987124">(</span><span class="ident" id="6987125">v</span>&nbsp;<span class="ident" id="6987127"><a href="/reflect/value.go.html#2875697">Value</a></span><span class="op" id="6987132">)</span>&nbsp;<span class="builtintype" id="6987134">bool</span>&nbsp;<span class="op" id="6987139">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987142">return</span>&nbsp;<span class="ident" id="6987149"><a href="/reflect/export_test.go.html#6987125">v</a></span><span class="op" id="6987150">.</span><span class="ident" id="6987151">flag</span><span class="op" id="6987155">&amp;</span><span class="ident" id="6987156"><a href="/reflect/value.go.html#2876944">flagRO</a></span>&nbsp;<span class="op" id="6987163">!=</span>&nbsp;<span class="num" id="6987166">0</span><br>
<span class="lineno"></span><span class="op" id="6987168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6987171">var</span>&nbsp;<span class="ident" id="6987175">ArrayOf</span>&nbsp;<span class="op" id="6987183">=</span>&nbsp;<span class="ident" id="6987185"><a href="/reflect/type.go.html#2868394">arrayOf</a></span><br>
<span class="lineno"></span><span class="keyword" id="6987193">var</span>&nbsp;<span class="ident" id="6987197">CallGC</span>&nbsp;<span class="op" id="6987204">=</span>&nbsp;<span class="op" id="6987206">&amp;</span><span class="ident" id="6987207"><a href="/reflect/value.go.html#2884534">callGC</a></span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6987215">const</span>&nbsp;<span class="ident" id="6987221">PtrSize</span>&nbsp;<span class="op" id="6987229">=</span>&nbsp;<span class="ident" id="6987231"><a href="/reflect/value.go.html#2874739">ptrSize</a></span><br>
<span class="lineno"></span><span class="keyword" id="6987239">const</span>&nbsp;<span class="ident" id="6987245">BitsPointer</span>&nbsp;<span class="op" id="6987257">=</span>&nbsp;<span class="ident" id="6987259"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><br>
<span class="lineno"></span><span class="keyword" id="6987271">const</span>&nbsp;<span class="ident" id="6987277">BitsScalar</span>&nbsp;<span class="op" id="6987288">=</span>&nbsp;<span class="ident" id="6987290"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6987302">func</span>&nbsp;<span class="ident" id="6987307">FuncLayout</span><span class="op" id="6987317">(</span><span class="ident" id="6987318">t</span>&nbsp;<span class="ident" id="6987320"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="6987324">,</span>&nbsp;<span class="ident" id="6987326">rcvr</span>&nbsp;<span class="ident" id="6987331"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="6987335">)</span>&nbsp;<span class="op" id="6987337">(</span><span class="ident" id="6987338">frametype</span>&nbsp;<span class="ident" id="6987348"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="6987352">,</span>&nbsp;<span class="ident" id="6987354">argSize</span><span class="op" id="6987361">,</span>&nbsp;<span class="ident" id="6987363">retOffset</span>&nbsp;<span class="builtintype" id="6987373">uintptr</span><span class="op" id="6987380">,</span>&nbsp;<span class="ident" id="6987382">stack</span>&nbsp;<span class="op" id="6987388">[</span><span class="op" id="6987389">]</span><span class="builtintype" id="6987390">byte</span><span class="op" id="6987394">)</span>&nbsp;<span class="op" id="6987396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987399">var</span>&nbsp;<span class="ident" id="6987403">ft</span>&nbsp;<span class="op" id="6987406">*</span><span class="ident" id="6987407"><a href="/reflect/type.go.html#2830490">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987414">var</span>&nbsp;<span class="ident" id="6987418">s</span>&nbsp;<span class="op" id="6987420">*</span><span class="ident" id="6987421"><a href="/reflect/type.go.html#2873228">bitVector</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987432">if</span>&nbsp;<span class="ident" id="6987435"><a href="/reflect/export_test.go.html#6987326">rcvr</a></span>&nbsp;<span class="op" id="6987440">!=</span>&nbsp;<span class="ident" id="6987443">nil</span>&nbsp;<span class="op" id="6987447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987451"><a href="/reflect/export_test.go.html#6987403">ft</a></span><span class="op" id="6987453">,</span>&nbsp;<span class="ident" id="6987455"><a href="/reflect/export_test.go.html#6987354">argSize</a></span><span class="op" id="6987462">,</span>&nbsp;<span class="ident" id="6987464"><a href="/reflect/export_test.go.html#6987363">retOffset</a></span><span class="op" id="6987473">,</span>&nbsp;<span class="ident" id="6987475"><a href="/reflect/export_test.go.html#6987418">s</a></span>&nbsp;<span class="op" id="6987477">=</span>&nbsp;<span class="ident" id="6987479"><a href="/reflect/type.go.html#2870829">funcLayout</a></span><span class="op" id="6987489">(</span><span class="ident" id="6987490"><a href="/reflect/export_test.go.html#6987318">t</a></span><span class="op" id="6987491">.</span><span class="op" id="6987492">(</span><span class="op" id="6987493">*</span><span class="ident" id="6987494"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="6987499">)</span><span class="op" id="6987500">,</span>&nbsp;<span class="ident" id="6987502"><a href="/reflect/export_test.go.html#6987326">rcvr</a></span><span class="op" id="6987506">.</span><span class="op" id="6987507">(</span><span class="op" id="6987508">*</span><span class="ident" id="6987509"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="6987514">)</span><span class="op" id="6987515">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987518">}</span>&nbsp;<span class="keyword" id="6987520">else</span>&nbsp;<span class="op" id="6987525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987529"><a href="/reflect/export_test.go.html#6987403">ft</a></span><span class="op" id="6987531">,</span>&nbsp;<span class="ident" id="6987533"><a href="/reflect/export_test.go.html#6987354">argSize</a></span><span class="op" id="6987540">,</span>&nbsp;<span class="ident" id="6987542"><a href="/reflect/export_test.go.html#6987363">retOffset</a></span><span class="op" id="6987551">,</span>&nbsp;<span class="ident" id="6987553"><a href="/reflect/export_test.go.html#6987418">s</a></span>&nbsp;<span class="op" id="6987555">=</span>&nbsp;<span class="ident" id="6987557"><a href="/reflect/type.go.html#2870829">funcLayout</a></span><span class="op" id="6987567">(</span><span class="ident" id="6987568"><a href="/reflect/export_test.go.html#6987318">t</a></span><span class="op" id="6987569">.</span><span class="op" id="6987570">(</span><span class="op" id="6987571">*</span><span class="ident" id="6987572"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="6987577">)</span><span class="op" id="6987578">,</span>&nbsp;<span class="ident" id="6987580">nil</span><span class="op" id="6987583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987589"><a href="/reflect/export_test.go.html#6987338">frametype</a></span>&nbsp;<span class="op" id="6987599">=</span>&nbsp;<span class="ident" id="6987601"><a href="/reflect/export_test.go.html#6987403">ft</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987605">for</span>&nbsp;<span class="ident" id="6987609">i</span>&nbsp;<span class="op" id="6987611">:=</span>&nbsp;<span class="builtintype" id="6987614">uint32</span><span class="op" id="6987620">(</span><span class="num" id="6987621">0</span><span class="op" id="6987622">)</span><span class="op" id="6987623">;</span>&nbsp;<span class="ident" id="6987625"><a href="/reflect/export_test.go.html#6987609">i</a></span>&nbsp;<span class="op" id="6987627">&lt;</span>&nbsp;<span class="ident" id="6987629"><a href="/reflect/export_test.go.html#6987418">s</a></span><span class="op" id="6987630">.</span><span class="ident" id="6987631">n</span><span class="op" id="6987632">;</span>&nbsp;<span class="ident" id="6987634"><a href="/reflect/export_test.go.html#6987609">i</a></span>&nbsp;<span class="op" id="6987636">+=</span>&nbsp;<span class="num" id="6987639">2</span>&nbsp;<span class="op" id="6987641">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987645"><a href="/reflect/export_test.go.html#6987382">stack</a></span>&nbsp;<span class="op" id="6987651">=</span>&nbsp;<span class="builtinfunc" id="6987653">append</span><span class="op" id="6987659">(</span><span class="ident" id="6987660"><a href="/reflect/export_test.go.html#6987382">stack</a></span><span class="op" id="6987665">,</span>&nbsp;<span class="ident" id="6987667"><a href="/reflect/export_test.go.html#6987418">s</a></span><span class="op" id="6987668">.</span><span class="ident" id="6987669">data</span><span class="op" id="6987673">[</span><span class="ident" id="6987674"><a href="/reflect/export_test.go.html#6987609">i</a></span><span class="op" id="6987675">/</span><span class="num" id="6987676">8</span><span class="op" id="6987677">]</span><span class="op" id="6987678">&gt;&gt;</span><span class="op" id="6987680">(</span><span class="ident" id="6987681"><a href="/reflect/export_test.go.html#6987609">i</a></span><span class="op" id="6987682">%</span><span class="num" id="6987683">8</span><span class="op" id="6987684">)</span><span class="op" id="6987685">&amp;</span><span class="num" id="6987686">3</span><span class="op" id="6987687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987693">return</span><br>
<span class="lineno"></span><span class="op" id="6987700">}</span>
</div>
</body>
</html>
