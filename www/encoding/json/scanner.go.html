<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4785653">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4785709">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4785763">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4785814">package</span>&nbsp;<span class="ident" id="4785822">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4785828">//&nbsp;JSON&nbsp;value&nbsp;parser&nbsp;state&nbsp;machine.</span><br>
<span class="lineno"></span><span class="comment" id="4785864">//&nbsp;Just&nbsp;about&nbsp;at&nbsp;the&nbsp;limit&nbsp;of&nbsp;what&nbsp;is&nbsp;reasonable&nbsp;to&nbsp;write&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="comment" id="4785931">//&nbsp;Some&nbsp;parts&nbsp;are&nbsp;a&nbsp;bit&nbsp;tedious,&nbsp;but&nbsp;overall&nbsp;it&nbsp;nicely&nbsp;factors&nbsp;out&nbsp;the</span><br>
<span class="lineno">10</span><span class="comment" id="4786002">//&nbsp;otherwise&nbsp;common&nbsp;code&nbsp;from&nbsp;the&nbsp;multiple&nbsp;scanning&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="4786064">//&nbsp;in&nbsp;this&nbsp;package&nbsp;(Compact,&nbsp;Indent,&nbsp;checkValid,&nbsp;nextValue,&nbsp;etc).</span><br>
<span class="lineno"></span><span class="comment" id="4786130">//</span><br>
<span class="lineno"></span><span class="comment" id="4786133">//&nbsp;This&nbsp;file&nbsp;starts&nbsp;with&nbsp;two&nbsp;simple&nbsp;examples&nbsp;using&nbsp;the&nbsp;scanner</span><br>
<span class="lineno"></span><span class="comment" id="4786196">//&nbsp;before&nbsp;diving&nbsp;into&nbsp;the&nbsp;scanner&nbsp;itself.</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="4786239">import</span>&nbsp;<span class="string" id="4786246">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4786257">//&nbsp;checkValid&nbsp;verifies&nbsp;that&nbsp;data&nbsp;is&nbsp;valid&nbsp;JSON-encoded&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="4786318">//&nbsp;scan&nbsp;is&nbsp;passed&nbsp;in&nbsp;for&nbsp;use&nbsp;by&nbsp;checkValid&nbsp;to&nbsp;avoid&nbsp;an&nbsp;allocation.</span><br>
<span class="lineno">20</span><span class="keyword" id="4786385">func</span>&nbsp;<span class="ident" id="4786390">checkValid</span><span class="op" id="4786400">(</span><span class="ident" id="4786401">data</span>&nbsp;<span class="op" id="4786406">[</span><span class="op" id="4786407">]</span><span class="builtintype" id="4786408">byte</span><span class="op" id="4786412">,</span>&nbsp;<span class="ident" id="4786414">scan</span>&nbsp;<span class="op" id="4786419">*</span><span class="ident" id="4786420"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4786427">)</span>&nbsp;<span class="builtintype" id="4786429">error</span>&nbsp;<span class="op" id="4786435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4786438"><a href="/encoding/json/scanner.go.html#4786414">scan</a></span><span class="op" id="4786442">.</span><span class="ident" id="4786443">reset</span><span class="op" id="4786448">(</span><span class="op" id="4786449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4786452">for</span>&nbsp;<span class="ident" id="4786456">_</span><span class="op" id="4786457">,</span>&nbsp;<span class="ident" id="4786459">c</span>&nbsp;<span class="op" id="4786461">:=</span>&nbsp;<span class="keyword" id="4786464">range</span>&nbsp;<span class="ident" id="4786470"><a href="/encoding/json/scanner.go.html#4786401">data</a></span>&nbsp;<span class="op" id="4786475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4786479"><a href="/encoding/json/scanner.go.html#4786414">scan</a></span><span class="op" id="4786483">.</span><span class="ident" id="4786484">bytes</span><span class="op" id="4786489">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4786494">if</span>&nbsp;<span class="ident" id="4786497"><a href="/encoding/json/scanner.go.html#4786414">scan</a></span><span class="op" id="4786501">.</span><span class="ident" id="4786502">step</span><span class="op" id="4786506">(</span><span class="ident" id="4786507"><a href="/encoding/json/scanner.go.html#4786414">scan</a></span><span class="op" id="4786511">,</span>&nbsp;<span class="builtintype" id="4786513">int</span><span class="op" id="4786516">(</span><span class="ident" id="4786517"><a href="/encoding/json/scanner.go.html#4786459">c</a></span><span class="op" id="4786518">)</span><span class="op" id="4786519">)</span>&nbsp;<span class="op" id="4786521">==</span>&nbsp;<span class="ident" id="4786524"><a href="/encoding/json/scanner.go.html#4789894">scanError</a></span>&nbsp;<span class="op" id="4786534">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4786539">return</span>&nbsp;<span class="ident" id="4786546"><a href="/encoding/json/scanner.go.html#4786414">scan</a></span><span class="op" id="4786550">.</span><span class="ident" id="4786551">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4786557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4786560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4786563">if</span>&nbsp;<span class="ident" id="4786566"><a href="/encoding/json/scanner.go.html#4786414">scan</a></span><span class="op" id="4786570">.</span><span class="ident" id="4786571">eof</span><span class="op" id="4786574">(</span><span class="op" id="4786575">)</span>&nbsp;<span class="op" id="4786577">==</span>&nbsp;<span class="ident" id="4786580"><a href="/encoding/json/scanner.go.html#4789894">scanError</a></span>&nbsp;<span class="op" id="4786590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4786594">return</span>&nbsp;<span class="ident" id="4786601"><a href="/encoding/json/scanner.go.html#4786414">scan</a></span><span class="op" id="4786605">.</span><span class="ident" id="4786606">err</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4786611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4786614">return</span>&nbsp;<span class="ident" id="4786621">nil</span><br>
<span class="lineno"></span><span class="op" id="4786625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4786628">//&nbsp;nextValue&nbsp;splits&nbsp;data&nbsp;after&nbsp;the&nbsp;next&nbsp;whole&nbsp;JSON&nbsp;value,</span><br>
<span class="lineno">35</span><span class="comment" id="4786686">//&nbsp;returning&nbsp;that&nbsp;value&nbsp;and&nbsp;the&nbsp;bytes&nbsp;that&nbsp;follow&nbsp;it&nbsp;as&nbsp;separate&nbsp;slices.</span><br>
<span class="lineno"></span><span class="comment" id="4786759">//&nbsp;scan&nbsp;is&nbsp;passed&nbsp;in&nbsp;for&nbsp;use&nbsp;by&nbsp;nextValue&nbsp;to&nbsp;avoid&nbsp;an&nbsp;allocation.</span><br>
<span class="lineno"></span><span class="keyword" id="4786825">func</span>&nbsp;<span class="ident" id="4786830">nextValue</span><span class="op" id="4786839">(</span><span class="ident" id="4786840">data</span>&nbsp;<span class="op" id="4786845">[</span><span class="op" id="4786846">]</span><span class="builtintype" id="4786847">byte</span><span class="op" id="4786851">,</span>&nbsp;<span class="ident" id="4786853">scan</span>&nbsp;<span class="op" id="4786858">*</span><span class="ident" id="4786859"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4786866">)</span>&nbsp;<span class="op" id="4786868">(</span><span class="ident" id="4786869">value</span><span class="op" id="4786874">,</span>&nbsp;<span class="ident" id="4786876">rest</span>&nbsp;<span class="op" id="4786881">[</span><span class="op" id="4786882">]</span><span class="builtintype" id="4786883">byte</span><span class="op" id="4786887">,</span>&nbsp;<span class="ident" id="4786889">err</span>&nbsp;<span class="builtintype" id="4786893">error</span><span class="op" id="4786898">)</span>&nbsp;<span class="op" id="4786900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4786903"><a href="/encoding/json/scanner.go.html#4786853">scan</a></span><span class="op" id="4786907">.</span><span class="ident" id="4786908">reset</span><span class="op" id="4786913">(</span><span class="op" id="4786914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4786917">for</span>&nbsp;<span class="ident" id="4786921">i</span><span class="op" id="4786922">,</span>&nbsp;<span class="ident" id="4786924">c</span>&nbsp;<span class="op" id="4786926">:=</span>&nbsp;<span class="keyword" id="4786929">range</span>&nbsp;<span class="ident" id="4786935"><a href="/encoding/json/scanner.go.html#4786840">data</a></span>&nbsp;<span class="op" id="4786940">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4786944">v</span>&nbsp;<span class="op" id="4786946">:=</span>&nbsp;<span class="ident" id="4786949"><a href="/encoding/json/scanner.go.html#4786853">scan</a></span><span class="op" id="4786953">.</span><span class="ident" id="4786954">step</span><span class="op" id="4786958">(</span><span class="ident" id="4786959"><a href="/encoding/json/scanner.go.html#4786853">scan</a></span><span class="op" id="4786963">,</span>&nbsp;<span class="builtintype" id="4786965">int</span><span class="op" id="4786968">(</span><span class="ident" id="4786969"><a href="/encoding/json/scanner.go.html#4786924">c</a></span><span class="op" id="4786970">)</span><span class="op" id="4786971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4786975">if</span>&nbsp;<span class="ident" id="4786978"><a href="/encoding/json/scanner.go.html#4786944">v</a></span>&nbsp;<span class="op" id="4786980">&gt;=</span>&nbsp;<span class="ident" id="4786983"><a href="/encoding/json/scanner.go.html#4789806">scanEnd</a></span>&nbsp;<span class="op" id="4786991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4786996">switch</span>&nbsp;<span class="ident" id="4787003"><a href="/encoding/json/scanner.go.html#4786944">v</a></span>&nbsp;<span class="op" id="4787005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4787010">case</span>&nbsp;<span class="ident" id="4787015"><a href="/encoding/json/scanner.go.html#4789894">scanError</a></span><span class="op" id="4787024">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4787030">return</span>&nbsp;<span class="ident" id="4787037">nil</span><span class="op" id="4787040">,</span>&nbsp;<span class="ident" id="4787042">nil</span><span class="op" id="4787045">,</span>&nbsp;<span class="ident" id="4787047"><a href="/encoding/json/scanner.go.html#4786853">scan</a></span><span class="op" id="4787051">.</span><span class="ident" id="4787052">err</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4787059">case</span>&nbsp;<span class="ident" id="4787064"><a href="/encoding/json/scanner.go.html#4789806">scanEnd</a></span><span class="op" id="4787071">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4787077">return</span>&nbsp;<span class="ident" id="4787084"><a href="/encoding/json/scanner.go.html#4786840">data</a></span><span class="op" id="4787088">[</span><span class="num" id="4787089">0</span><span class="op" id="4787090">:</span><span class="ident" id="4787091"><a href="/encoding/json/scanner.go.html#4786921">i</a></span><span class="op" id="4787092">]</span><span class="op" id="4787093">,</span>&nbsp;<span class="ident" id="4787095"><a href="/encoding/json/scanner.go.html#4786840">data</a></span><span class="op" id="4787099">[</span><span class="ident" id="4787100"><a href="/encoding/json/scanner.go.html#4786921">i</a></span><span class="op" id="4787101">:</span><span class="op" id="4787102">]</span><span class="op" id="4787103">,</span>&nbsp;<span class="ident" id="4787105">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4787112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4787116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4787119">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4787122">if</span>&nbsp;<span class="ident" id="4787125"><a href="/encoding/json/scanner.go.html#4786853">scan</a></span><span class="op" id="4787129">.</span><span class="ident" id="4787130">eof</span><span class="op" id="4787133">(</span><span class="op" id="4787134">)</span>&nbsp;<span class="op" id="4787136">==</span>&nbsp;<span class="ident" id="4787139"><a href="/encoding/json/scanner.go.html#4789894">scanError</a></span>&nbsp;<span class="op" id="4787149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4787153">return</span>&nbsp;<span class="ident" id="4787160">nil</span><span class="op" id="4787163">,</span>&nbsp;<span class="ident" id="4787165">nil</span><span class="op" id="4787168">,</span>&nbsp;<span class="ident" id="4787170"><a href="/encoding/json/scanner.go.html#4786853">scan</a></span><span class="op" id="4787174">.</span><span class="ident" id="4787175">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4787180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4787183">return</span>&nbsp;<span class="ident" id="4787190"><a href="/encoding/json/scanner.go.html#4786840">data</a></span><span class="op" id="4787194">,</span>&nbsp;<span class="ident" id="4787196">nil</span><span class="op" id="4787199">,</span>&nbsp;<span class="ident" id="4787201">nil</span><br>
<span class="lineno"></span><span class="op" id="4787205">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="4787208">//&nbsp;A&nbsp;SyntaxError&nbsp;is&nbsp;a&nbsp;description&nbsp;of&nbsp;a&nbsp;JSON&nbsp;syntax&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="4787266">type</span>&nbsp;<span class="ident" id="4787271">SyntaxError</span>&nbsp;<span class="keyword" id="4787283">struct</span>&nbsp;<span class="op" id="4787290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4787293">msg</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4787300">string</span>&nbsp;<span class="comment" id="4787307">//&nbsp;description&nbsp;of&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4787332">Offset</span>&nbsp;<span class="ident" id="4787339">int64</span>&nbsp;&nbsp;<span class="comment" id="4787346">//&nbsp;error&nbsp;occurred&nbsp;after&nbsp;reading&nbsp;Offset&nbsp;bytes</span><br>
<span class="lineno">60</span><span class="op" id="4787391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4787394">func</span>&nbsp;<span class="op" id="4787399">(</span><span class="ident" id="4787400">e</span>&nbsp;<span class="op" id="4787402">*</span><span class="ident" id="4787403"><a href="/encoding/json/scanner.go.html#4787271">SyntaxError</a></span><span class="op" id="4787414">)</span>&nbsp;<span class="ident" id="4787416">Error</span><span class="op" id="4787421">(</span><span class="op" id="4787422">)</span>&nbsp;<span class="builtintype" id="4787424">string</span>&nbsp;<span class="op" id="4787431">{</span>&nbsp;<span class="keyword" id="4787433">return</span>&nbsp;<span class="ident" id="4787440"><a href="/encoding/json/scanner.go.html#4787400">e</a></span><span class="op" id="4787441">.</span><span class="ident" id="4787442">msg</span>&nbsp;<span class="op" id="4787446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4787449">//&nbsp;A&nbsp;scanner&nbsp;is&nbsp;a&nbsp;JSON&nbsp;scanning&nbsp;state&nbsp;machine.</span><br>
<span class="lineno">65</span><span class="comment" id="4787496">//&nbsp;Callers&nbsp;call&nbsp;scan.reset()&nbsp;and&nbsp;then&nbsp;pass&nbsp;bytes&nbsp;in&nbsp;one&nbsp;at&nbsp;a&nbsp;time</span><br>
<span class="lineno"></span><span class="comment" id="4787562">//&nbsp;by&nbsp;calling&nbsp;scan.step(&amp;scan,&nbsp;c)&nbsp;for&nbsp;each&nbsp;byte.</span><br>
<span class="lineno"></span><span class="comment" id="4787611">//&nbsp;The&nbsp;return&nbsp;value,&nbsp;referred&nbsp;to&nbsp;as&nbsp;an&nbsp;opcode,&nbsp;tells&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4787668">//&nbsp;caller&nbsp;about&nbsp;significant&nbsp;parsing&nbsp;events&nbsp;like&nbsp;beginning</span><br>
<span class="lineno"></span><span class="comment" id="4787726">//&nbsp;and&nbsp;ending&nbsp;literals,&nbsp;objects,&nbsp;and&nbsp;arrays,&nbsp;so&nbsp;that&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="4787783">//&nbsp;caller&nbsp;can&nbsp;follow&nbsp;along&nbsp;if&nbsp;it&nbsp;wishes.</span><br>
<span class="lineno"></span><span class="comment" id="4787824">//&nbsp;The&nbsp;return&nbsp;value&nbsp;scanEnd&nbsp;indicates&nbsp;that&nbsp;a&nbsp;single&nbsp;top-level</span><br>
<span class="lineno"></span><span class="comment" id="4787886">//&nbsp;JSON&nbsp;value&nbsp;has&nbsp;been&nbsp;completed,&nbsp;*before*&nbsp;the&nbsp;byte&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="4787943">//&nbsp;just&nbsp;got&nbsp;passed&nbsp;in.&nbsp;&nbsp;(The&nbsp;indication&nbsp;must&nbsp;be&nbsp;delayed&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span><span class="comment" id="4788008">//&nbsp;to&nbsp;recognize&nbsp;the&nbsp;end&nbsp;of&nbsp;numbers:&nbsp;is&nbsp;123&nbsp;a&nbsp;whole&nbsp;value&nbsp;or</span><br>
<span class="lineno">75</span><span class="comment" id="4788068">//&nbsp;the&nbsp;beginning&nbsp;of&nbsp;12345e+6?).</span><br>
<span class="lineno"></span><span class="keyword" id="4788100">type</span>&nbsp;<span class="ident" id="4788105">scanner</span>&nbsp;<span class="keyword" id="4788113">struct</span>&nbsp;<span class="op" id="4788120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4788123">//&nbsp;The&nbsp;step&nbsp;is&nbsp;a&nbsp;func&nbsp;to&nbsp;be&nbsp;called&nbsp;to&nbsp;execute&nbsp;the&nbsp;next&nbsp;transition.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4788191">//&nbsp;Also&nbsp;tried&nbsp;using&nbsp;an&nbsp;integer&nbsp;constant&nbsp;and&nbsp;a&nbsp;single&nbsp;func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4788250">//&nbsp;with&nbsp;a&nbsp;switch,&nbsp;but&nbsp;using&nbsp;the&nbsp;func&nbsp;directly&nbsp;was&nbsp;10%&nbsp;faster</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4788312">//&nbsp;on&nbsp;a&nbsp;64-bit&nbsp;Mac&nbsp;Mini,&nbsp;and&nbsp;it&#39;s&nbsp;nicer&nbsp;to&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4788362">step</span>&nbsp;<span class="keyword" id="4788367">func</span><span class="op" id="4788371">(</span><span class="op" id="4788372">*</span><span class="ident" id="4788373"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4788380">,</span>&nbsp;<span class="builtintype" id="4788382">int</span><span class="op" id="4788385">)</span>&nbsp;<span class="builtintype" id="4788387">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4788393">//&nbsp;Reached&nbsp;end&nbsp;of&nbsp;top-level&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4788429">endTop</span>&nbsp;<span class="builtintype" id="4788436">bool</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4788443">//&nbsp;Stack&nbsp;of&nbsp;what&nbsp;we&#39;re&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;-&nbsp;array&nbsp;values,&nbsp;object&nbsp;keys,&nbsp;object&nbsp;values.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4788528">parseState</span>&nbsp;<span class="op" id="4788539">[</span><span class="op" id="4788540">]</span><span class="builtintype" id="4788541">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4788547">//&nbsp;Error&nbsp;that&nbsp;happened,&nbsp;if&nbsp;any.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4788580">err</span>&nbsp;<span class="builtintype" id="4788584">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4788592">//&nbsp;1-byte&nbsp;redo&nbsp;(see&nbsp;undo&nbsp;method)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4788626">redo</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4788636">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4788642">redoCode</span>&nbsp;&nbsp;<span class="builtintype" id="4788652">int</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4788657">redoState</span>&nbsp;<span class="keyword" id="4788667">func</span><span class="op" id="4788671">(</span><span class="op" id="4788672">*</span><span class="ident" id="4788673"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4788680">,</span>&nbsp;<span class="builtintype" id="4788682">int</span><span class="op" id="4788685">)</span>&nbsp;<span class="builtintype" id="4788687">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4788693">//&nbsp;total&nbsp;bytes&nbsp;consumed,&nbsp;updated&nbsp;by&nbsp;decoder.Decode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4788745">bytes</span>&nbsp;<span class="ident" id="4788751">int64</span><br>
<span class="lineno"></span><span class="op" id="4788757">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4788760">//&nbsp;These&nbsp;values&nbsp;are&nbsp;returned&nbsp;by&nbsp;the&nbsp;state&nbsp;transition&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="4788823">//&nbsp;assigned&nbsp;to&nbsp;scanner.state&nbsp;and&nbsp;the&nbsp;method&nbsp;scanner.eof.</span><br>
<span class="lineno"></span><span class="comment" id="4788880">//&nbsp;They&nbsp;give&nbsp;details&nbsp;about&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;the&nbsp;scan&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="4788942">//&nbsp;callers&nbsp;might&nbsp;be&nbsp;interested&nbsp;to&nbsp;know&nbsp;about.</span><br>
<span class="lineno">105</span><span class="comment" id="4788988">//&nbsp;It&nbsp;is&nbsp;okay&nbsp;to&nbsp;ignore&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;any&nbsp;particular</span><br>
<span class="lineno"></span><span class="comment" id="4789047">//&nbsp;call&nbsp;to&nbsp;scanner.state:&nbsp;if&nbsp;one&nbsp;call&nbsp;returns&nbsp;scanError,</span><br>
<span class="lineno"></span><span class="comment" id="4789104">//&nbsp;every&nbsp;subsequent&nbsp;call&nbsp;will&nbsp;return&nbsp;scanError&nbsp;too.</span><br>
<span class="lineno"></span><span class="keyword" id="4789156">const</span>&nbsp;<span class="op" id="4789162">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4789165">//&nbsp;Continue.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789179">scanContinue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4789196">=</span>&nbsp;<span class="ident" id="4789198">iota</span>&nbsp;<span class="comment" id="4789203">//&nbsp;uninteresting&nbsp;byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789226">scanBeginLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4789250">//&nbsp;end&nbsp;implied&nbsp;by&nbsp;next&nbsp;result&nbsp;!=&nbsp;scanContinue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789297">scanBeginObject</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4789321">//&nbsp;begin&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789338">scanObjectKey</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4789362">//&nbsp;just&nbsp;finished&nbsp;object&nbsp;key&nbsp;(string)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789400">scanObjectValue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4789424">//&nbsp;just&nbsp;finished&nbsp;non-last&nbsp;object&nbsp;value</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789464">scanEndObject</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4789488">//&nbsp;end&nbsp;object&nbsp;(implies&nbsp;scanObjectValue&nbsp;if&nbsp;possible)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789541">scanBeginArray</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4789565">//&nbsp;begin&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789581">scanArrayValue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4789605">//&nbsp;just&nbsp;finished&nbsp;array&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789635">scanEndArray</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4789659">//&nbsp;end&nbsp;array&nbsp;(implies&nbsp;scanArrayValue&nbsp;if&nbsp;possible)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789710">scanSkipSpace</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4789734">//&nbsp;space&nbsp;byte;&nbsp;can&nbsp;skip;&nbsp;known&nbsp;to&nbsp;be&nbsp;last&nbsp;&#34;continue&#34;&nbsp;result</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4789796">//&nbsp;Stop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789806">scanEnd</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4789816">//&nbsp;top-level&nbsp;value&nbsp;ended&nbsp;*before*&nbsp;this&nbsp;byte;&nbsp;known&nbsp;to&nbsp;be&nbsp;first&nbsp;&#34;stop&#34;&nbsp;result</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789894">scanError</span>&nbsp;<span class="comment" id="4789904">//&nbsp;hit&nbsp;an&nbsp;error,&nbsp;scanner.err.</span><br>
<span class="lineno"></span><span class="op" id="4789934">)</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="4789937">//&nbsp;These&nbsp;values&nbsp;are&nbsp;stored&nbsp;in&nbsp;the&nbsp;parseState&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="4789989">//&nbsp;They&nbsp;give&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;a&nbsp;composite&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="4790041">//&nbsp;being&nbsp;scanned.&nbsp;&nbsp;If&nbsp;the&nbsp;parser&nbsp;is&nbsp;inside&nbsp;a&nbsp;nested&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="4790099">//&nbsp;the&nbsp;parseState&nbsp;describes&nbsp;the&nbsp;nested&nbsp;state,&nbsp;outermost&nbsp;at&nbsp;entry&nbsp;0.</span><br>
<span class="lineno">130</span><span class="keyword" id="4790167">const</span>&nbsp;<span class="op" id="4790173">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790176">parseObjectKey</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4790193">=</span>&nbsp;<span class="ident" id="4790195">iota</span>&nbsp;<span class="comment" id="4790200">//&nbsp;parsing&nbsp;object&nbsp;key&nbsp;(before&nbsp;colon)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790238">parseObjectValue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4790262">//&nbsp;parsing&nbsp;object&nbsp;value&nbsp;(after&nbsp;colon)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790301">parseArrayValue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4790325">//&nbsp;parsing&nbsp;array&nbsp;value</span><br>
<span class="lineno"></span><span class="op" id="4790348">)</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="comment" id="4790351">//&nbsp;reset&nbsp;prepares&nbsp;the&nbsp;scanner&nbsp;for&nbsp;use.</span><br>
<span class="lineno"></span><span class="comment" id="4790390">//&nbsp;It&nbsp;must&nbsp;be&nbsp;called&nbsp;before&nbsp;calling&nbsp;s.step.</span><br>
<span class="lineno"></span><span class="keyword" id="4790434">func</span>&nbsp;<span class="op" id="4790439">(</span><span class="ident" id="4790440">s</span>&nbsp;<span class="op" id="4790442">*</span><span class="ident" id="4790443"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4790450">)</span>&nbsp;<span class="ident" id="4790452">reset</span><span class="op" id="4790457">(</span><span class="op" id="4790458">)</span>&nbsp;<span class="op" id="4790460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790463"><a href="/encoding/json/scanner.go.html#4790440">s</a></span><span class="op" id="4790464">.</span><span class="ident" id="4790465">step</span>&nbsp;<span class="op" id="4790470">=</span>&nbsp;<span class="ident" id="4790472"><a href="/encoding/json/scanner.go.html#4791822">stateBeginValue</a></span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790489"><a href="/encoding/json/scanner.go.html#4790440">s</a></span><span class="op" id="4790490">.</span><span class="ident" id="4790491">parseState</span>&nbsp;<span class="op" id="4790502">=</span>&nbsp;<span class="ident" id="4790504"><a href="/encoding/json/scanner.go.html#4790440">s</a></span><span class="op" id="4790505">.</span><span class="ident" id="4790506">parseState</span><span class="op" id="4790516">[</span><span class="num" id="4790517">0</span><span class="op" id="4790518">:</span><span class="num" id="4790519">0</span><span class="op" id="4790520">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790523"><a href="/encoding/json/scanner.go.html#4790440">s</a></span><span class="op" id="4790524">.</span><span class="ident" id="4790525">err</span>&nbsp;<span class="op" id="4790529">=</span>&nbsp;<span class="ident" id="4790531">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790536"><a href="/encoding/json/scanner.go.html#4790440">s</a></span><span class="op" id="4790537">.</span><span class="ident" id="4790538">redo</span>&nbsp;<span class="op" id="4790543">=</span>&nbsp;<span class="builtintype" id="4790545">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790552"><a href="/encoding/json/scanner.go.html#4790440">s</a></span><span class="op" id="4790553">.</span><span class="ident" id="4790554">endTop</span>&nbsp;<span class="op" id="4790561">=</span>&nbsp;<span class="builtintype" id="4790563">false</span><br>
<span class="lineno"></span><span class="op" id="4790569">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="4790572">//&nbsp;eof&nbsp;tells&nbsp;the&nbsp;scanner&nbsp;that&nbsp;the&nbsp;end&nbsp;of&nbsp;input&nbsp;has&nbsp;been&nbsp;reached.</span><br>
<span class="lineno"></span><span class="comment" id="4790637">//&nbsp;It&nbsp;returns&nbsp;a&nbsp;scan&nbsp;status&nbsp;just&nbsp;as&nbsp;s.step&nbsp;does.</span><br>
<span class="lineno"></span><span class="keyword" id="4790686">func</span>&nbsp;<span class="op" id="4790691">(</span><span class="ident" id="4790692">s</span>&nbsp;<span class="op" id="4790694">*</span><span class="ident" id="4790695"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4790702">)</span>&nbsp;<span class="ident" id="4790704">eof</span><span class="op" id="4790707">(</span><span class="op" id="4790708">)</span>&nbsp;<span class="builtintype" id="4790710">int</span>&nbsp;<span class="op" id="4790714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790717">if</span>&nbsp;<span class="ident" id="4790720"><a href="/encoding/json/scanner.go.html#4790692">s</a></span><span class="op" id="4790721">.</span><span class="ident" id="4790722">err</span>&nbsp;<span class="op" id="4790726">!=</span>&nbsp;<span class="ident" id="4790729">nil</span>&nbsp;<span class="op" id="4790733">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790737">return</span>&nbsp;<span class="ident" id="4790744"><a href="/encoding/json/scanner.go.html#4789894">scanError</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4790755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790758">if</span>&nbsp;<span class="ident" id="4790761"><a href="/encoding/json/scanner.go.html#4790692">s</a></span><span class="op" id="4790762">.</span><span class="ident" id="4790763">endTop</span>&nbsp;<span class="op" id="4790770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790774">return</span>&nbsp;<span class="ident" id="4790781"><a href="/encoding/json/scanner.go.html#4789806">scanEnd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4790790">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790793"><a href="/encoding/json/scanner.go.html#4790692">s</a></span><span class="op" id="4790794">.</span><span class="ident" id="4790795">step</span><span class="op" id="4790799">(</span><span class="ident" id="4790800"><a href="/encoding/json/scanner.go.html#4790692">s</a></span><span class="op" id="4790801">,</span>&nbsp;<span class="string" id="4790803">&#39;&nbsp;&#39;</span><span class="op" id="4790806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790809">if</span>&nbsp;<span class="ident" id="4790812"><a href="/encoding/json/scanner.go.html#4790692">s</a></span><span class="op" id="4790813">.</span><span class="ident" id="4790814">endTop</span>&nbsp;<span class="op" id="4790821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790825">return</span>&nbsp;<span class="ident" id="4790832"><a href="/encoding/json/scanner.go.html#4789806">scanEnd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4790841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790844">if</span>&nbsp;<span class="ident" id="4790847"><a href="/encoding/json/scanner.go.html#4790692">s</a></span><span class="op" id="4790848">.</span><span class="ident" id="4790849">err</span>&nbsp;<span class="op" id="4790853">==</span>&nbsp;<span class="ident" id="4790856">nil</span>&nbsp;<span class="op" id="4790860">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790864"><a href="/encoding/json/scanner.go.html#4790692">s</a></span><span class="op" id="4790865">.</span><span class="ident" id="4790866">err</span>&nbsp;<span class="op" id="4790870">=</span>&nbsp;<span class="op" id="4790872">&amp;</span><span class="ident" id="4790873"><a href="/encoding/json/scanner.go.html#4787271">SyntaxError</a></span><span class="op" id="4790884">{</span><span class="string" id="4790885">&#34;unexpected&nbsp;end&nbsp;of&nbsp;JSON&nbsp;input&#34;</span><span class="op" id="4790915">,</span>&nbsp;<span class="ident" id="4790917"><a href="/encoding/json/scanner.go.html#4790692">s</a></span><span class="op" id="4790918">.</span><span class="ident" id="4790919">bytes</span><span class="op" id="4790924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4790927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790930">return</span>&nbsp;<span class="ident" id="4790937"><a href="/encoding/json/scanner.go.html#4789894">scanError</a></span><br>
<span class="lineno"></span><span class="op" id="4790947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="4790950">//&nbsp;pushParseState&nbsp;pushes&nbsp;a&nbsp;new&nbsp;parse&nbsp;state&nbsp;p&nbsp;onto&nbsp;the&nbsp;parse&nbsp;stack.</span><br>
<span class="lineno"></span><span class="keyword" id="4791017">func</span>&nbsp;<span class="op" id="4791022">(</span><span class="ident" id="4791023">s</span>&nbsp;<span class="op" id="4791025">*</span><span class="ident" id="4791026"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4791033">)</span>&nbsp;<span class="ident" id="4791035">pushParseState</span><span class="op" id="4791049">(</span><span class="ident" id="4791050">p</span>&nbsp;<span class="builtintype" id="4791052">int</span><span class="op" id="4791055">)</span>&nbsp;<span class="op" id="4791057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791060"><a href="/encoding/json/scanner.go.html#4791023">s</a></span><span class="op" id="4791061">.</span><span class="ident" id="4791062">parseState</span>&nbsp;<span class="op" id="4791073">=</span>&nbsp;<span class="builtinfunc" id="4791075">append</span><span class="op" id="4791081">(</span><span class="ident" id="4791082"><a href="/encoding/json/scanner.go.html#4791023">s</a></span><span class="op" id="4791083">.</span><span class="ident" id="4791084">parseState</span><span class="op" id="4791094">,</span>&nbsp;<span class="ident" id="4791096"><a href="/encoding/json/scanner.go.html#4791050">p</a></span><span class="op" id="4791097">)</span><br>
<span class="lineno"></span><span class="op" id="4791099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="comment" id="4791102">//&nbsp;popParseState&nbsp;pops&nbsp;a&nbsp;parse&nbsp;state&nbsp;(already&nbsp;obtained)&nbsp;off&nbsp;the&nbsp;stack</span><br>
<span class="lineno"></span><span class="comment" id="4791171">//&nbsp;and&nbsp;updates&nbsp;s.step&nbsp;accordingly.</span><br>
<span class="lineno"></span><span class="keyword" id="4791206">func</span>&nbsp;<span class="op" id="4791211">(</span><span class="ident" id="4791212">s</span>&nbsp;<span class="op" id="4791214">*</span><span class="ident" id="4791215"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4791222">)</span>&nbsp;<span class="ident" id="4791224">popParseState</span><span class="op" id="4791237">(</span><span class="op" id="4791238">)</span>&nbsp;<span class="op" id="4791240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791243">n</span>&nbsp;<span class="op" id="4791245">:=</span>&nbsp;<span class="builtinfunc" id="4791248">len</span><span class="op" id="4791251">(</span><span class="ident" id="4791252"><a href="/encoding/json/scanner.go.html#4791212">s</a></span><span class="op" id="4791253">.</span><span class="ident" id="4791254">parseState</span><span class="op" id="4791264">)</span>&nbsp;<span class="op" id="4791266">-</span>&nbsp;<span class="num" id="4791268">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791271"><a href="/encoding/json/scanner.go.html#4791212">s</a></span><span class="op" id="4791272">.</span><span class="ident" id="4791273">parseState</span>&nbsp;<span class="op" id="4791284">=</span>&nbsp;<span class="ident" id="4791286"><a href="/encoding/json/scanner.go.html#4791212">s</a></span><span class="op" id="4791287">.</span><span class="ident" id="4791288">parseState</span><span class="op" id="4791298">[</span><span class="num" id="4791299">0</span><span class="op" id="4791300">:</span><span class="ident" id="4791301"><a href="/encoding/json/scanner.go.html#4791243">n</a></span><span class="op" id="4791302">]</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791305"><a href="/encoding/json/scanner.go.html#4791212">s</a></span><span class="op" id="4791306">.</span><span class="ident" id="4791307">redo</span>&nbsp;<span class="op" id="4791312">=</span>&nbsp;<span class="builtintype" id="4791314">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791321">if</span>&nbsp;<span class="ident" id="4791324"><a href="/encoding/json/scanner.go.html#4791243">n</a></span>&nbsp;<span class="op" id="4791326">==</span>&nbsp;<span class="num" id="4791329">0</span>&nbsp;<span class="op" id="4791331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791335"><a href="/encoding/json/scanner.go.html#4791212">s</a></span><span class="op" id="4791336">.</span><span class="ident" id="4791337">step</span>&nbsp;<span class="op" id="4791342">=</span>&nbsp;<span class="ident" id="4791344"><a href="/encoding/json/scanner.go.html#4794608">stateEndTop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791358"><a href="/encoding/json/scanner.go.html#4791212">s</a></span><span class="op" id="4791359">.</span><span class="ident" id="4791360">endTop</span>&nbsp;<span class="op" id="4791367">=</span>&nbsp;<span class="builtintype" id="4791369">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4791375">}</span>&nbsp;<span class="keyword" id="4791377">else</span>&nbsp;<span class="op" id="4791382">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791386"><a href="/encoding/json/scanner.go.html#4791212">s</a></span><span class="op" id="4791387">.</span><span class="ident" id="4791388">step</span>&nbsp;<span class="op" id="4791393">=</span>&nbsp;<span class="ident" id="4791395"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4791410">}</span><br>
<span class="lineno"></span><span class="op" id="4791412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4791415">func</span>&nbsp;<span class="ident" id="4791420">isSpace</span><span class="op" id="4791427">(</span><span class="ident" id="4791428">c</span>&nbsp;<span class="builtintype" id="4791430">rune</span><span class="op" id="4791434">)</span>&nbsp;<span class="builtintype" id="4791436">bool</span>&nbsp;<span class="op" id="4791441">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791444">return</span>&nbsp;<span class="ident" id="4791451"><a href="/encoding/json/scanner.go.html#4791428">c</a></span>&nbsp;<span class="op" id="4791453">==</span>&nbsp;<span class="string" id="4791456">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4791460">||</span>&nbsp;<span class="ident" id="4791463"><a href="/encoding/json/scanner.go.html#4791428">c</a></span>&nbsp;<span class="op" id="4791465">==</span>&nbsp;<span class="string" id="4791468">&#39;\t&#39;</span>&nbsp;<span class="op" id="4791473">||</span>&nbsp;<span class="ident" id="4791476"><a href="/encoding/json/scanner.go.html#4791428">c</a></span>&nbsp;<span class="op" id="4791478">==</span>&nbsp;<span class="string" id="4791481">&#39;\r&#39;</span>&nbsp;<span class="op" id="4791486">||</span>&nbsp;<span class="ident" id="4791489"><a href="/encoding/json/scanner.go.html#4791428">c</a></span>&nbsp;<span class="op" id="4791491">==</span>&nbsp;<span class="string" id="4791494">&#39;\n&#39;</span><br>
<span class="lineno"></span><span class="op" id="4791499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4791502">//&nbsp;stateBeginValueOrEmpty&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`[`.</span><br>
<span class="lineno"></span><span class="keyword" id="4791560">func</span>&nbsp;<span class="ident" id="4791565">stateBeginValueOrEmpty</span><span class="op" id="4791587">(</span><span class="ident" id="4791588">s</span>&nbsp;<span class="op" id="4791590">*</span><span class="ident" id="4791591"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4791598">,</span>&nbsp;<span class="ident" id="4791600">c</span>&nbsp;<span class="builtintype" id="4791602">int</span><span class="op" id="4791605">)</span>&nbsp;<span class="builtintype" id="4791607">int</span>&nbsp;<span class="op" id="4791611">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791614">if</span>&nbsp;<span class="ident" id="4791617"><a href="/encoding/json/scanner.go.html#4791600">c</a></span>&nbsp;<span class="op" id="4791619">&lt;=</span>&nbsp;<span class="string" id="4791622">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4791626">&amp;&amp;</span>&nbsp;<span class="ident" id="4791629"><a href="/encoding/json/scanner.go.html#4791420">isSpace</a></span><span class="op" id="4791636">(</span><span class="builtintype" id="4791637">rune</span><span class="op" id="4791641">(</span><span class="ident" id="4791642"><a href="/encoding/json/scanner.go.html#4791600">c</a></span><span class="op" id="4791643">)</span><span class="op" id="4791644">)</span>&nbsp;<span class="op" id="4791646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791650">return</span>&nbsp;<span class="ident" id="4791657"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4791672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791675">if</span>&nbsp;<span class="ident" id="4791678"><a href="/encoding/json/scanner.go.html#4791600">c</a></span>&nbsp;<span class="op" id="4791680">==</span>&nbsp;<span class="string" id="4791683">&#39;]&#39;</span>&nbsp;<span class="op" id="4791687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791691">return</span>&nbsp;<span class="ident" id="4791698"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><span class="op" id="4791711">(</span><span class="ident" id="4791712"><a href="/encoding/json/scanner.go.html#4791588">s</a></span><span class="op" id="4791713">,</span>&nbsp;<span class="ident" id="4791715"><a href="/encoding/json/scanner.go.html#4791600">c</a></span><span class="op" id="4791716">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4791719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791722">return</span>&nbsp;<span class="ident" id="4791729"><a href="/encoding/json/scanner.go.html#4791822">stateBeginValue</a></span><span class="op" id="4791744">(</span><span class="ident" id="4791745"><a href="/encoding/json/scanner.go.html#4791588">s</a></span><span class="op" id="4791746">,</span>&nbsp;<span class="ident" id="4791748"><a href="/encoding/json/scanner.go.html#4791600">c</a></span><span class="op" id="4791749">)</span><br>
<span class="lineno"></span><span class="op" id="4791751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4791754">//&nbsp;stateBeginValue&nbsp;is&nbsp;the&nbsp;state&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;input.</span><br>
<span class="lineno">200</span><span class="keyword" id="4791817">func</span>&nbsp;<span class="ident" id="4791822">stateBeginValue</span><span class="op" id="4791837">(</span><span class="ident" id="4791838">s</span>&nbsp;<span class="op" id="4791840">*</span><span class="ident" id="4791841"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4791848">,</span>&nbsp;<span class="ident" id="4791850">c</span>&nbsp;<span class="builtintype" id="4791852">int</span><span class="op" id="4791855">)</span>&nbsp;<span class="builtintype" id="4791857">int</span>&nbsp;<span class="op" id="4791861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791864">if</span>&nbsp;<span class="ident" id="4791867"><a href="/encoding/json/scanner.go.html#4791850">c</a></span>&nbsp;<span class="op" id="4791869">&lt;=</span>&nbsp;<span class="string" id="4791872">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4791876">&amp;&amp;</span>&nbsp;<span class="ident" id="4791879"><a href="/encoding/json/scanner.go.html#4791420">isSpace</a></span><span class="op" id="4791886">(</span><span class="builtintype" id="4791887">rune</span><span class="op" id="4791891">(</span><span class="ident" id="4791892"><a href="/encoding/json/scanner.go.html#4791850">c</a></span><span class="op" id="4791893">)</span><span class="op" id="4791894">)</span>&nbsp;<span class="op" id="4791896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791900">return</span>&nbsp;<span class="ident" id="4791907"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4791922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791925">switch</span>&nbsp;<span class="ident" id="4791932"><a href="/encoding/json/scanner.go.html#4791850">c</a></span>&nbsp;<span class="op" id="4791934">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791937">case</span>&nbsp;<span class="string" id="4791942">&#39;{&#39;</span><span class="op" id="4791945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791949"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4791950">.</span><span class="ident" id="4791951">step</span>&nbsp;<span class="op" id="4791956">=</span>&nbsp;<span class="ident" id="4791958"><a href="/encoding/json/scanner.go.html#4792792">stateBeginStringOrEmpty</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791984"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4791985">.</span><span class="ident" id="4791986">pushParseState</span><span class="op" id="4792000">(</span><span class="ident" id="4792001"><a href="/encoding/json/scanner.go.html#4790176">parseObjectKey</a></span><span class="op" id="4792015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792019">return</span>&nbsp;<span class="ident" id="4792026"><a href="/encoding/json/scanner.go.html#4789297">scanBeginObject</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792043">case</span>&nbsp;<span class="string" id="4792048">&#39;[&#39;</span><span class="op" id="4792051">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792055"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792056">.</span><span class="ident" id="4792057">step</span>&nbsp;<span class="op" id="4792062">=</span>&nbsp;<span class="ident" id="4792064"><a href="/encoding/json/scanner.go.html#4791565">stateBeginValueOrEmpty</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792089"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792090">.</span><span class="ident" id="4792091">pushParseState</span><span class="op" id="4792105">(</span><span class="ident" id="4792106"><a href="/encoding/json/scanner.go.html#4790301">parseArrayValue</a></span><span class="op" id="4792121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792125">return</span>&nbsp;<span class="ident" id="4792132"><a href="/encoding/json/scanner.go.html#4789541">scanBeginArray</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792148">case</span>&nbsp;<span class="string" id="4792153">&#39;&#34;&#39;</span><span class="op" id="4792156">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792160"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792161">.</span><span class="ident" id="4792162">step</span>&nbsp;<span class="op" id="4792167">=</span>&nbsp;<span class="ident" id="4792169"><a href="/encoding/json/scanner.go.html#4794862">stateInString</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792185">return</span>&nbsp;<span class="ident" id="4792192"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792210">case</span>&nbsp;<span class="string" id="4792215">&#39;-&#39;</span><span class="op" id="4792218">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792222"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792223">.</span><span class="ident" id="4792224">step</span>&nbsp;<span class="op" id="4792229">=</span>&nbsp;<span class="ident" id="4792231"><a href="/encoding/json/scanner.go.html#4796863">stateNeg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792242">return</span>&nbsp;<span class="ident" id="4792249"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792267">case</span>&nbsp;<span class="string" id="4792272">&#39;0&#39;</span><span class="op" id="4792275">:</span>&nbsp;<span class="comment" id="4792277">//&nbsp;beginning&nbsp;of&nbsp;0.123</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792301"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792302">.</span><span class="ident" id="4792303">step</span>&nbsp;<span class="op" id="4792308">=</span>&nbsp;<span class="ident" id="4792310"><a href="/encoding/json/scanner.go.html#4797387">state0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792319">return</span>&nbsp;<span class="ident" id="4792326"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792344">case</span>&nbsp;<span class="string" id="4792349">&#39;t&#39;</span><span class="op" id="4792352">:</span>&nbsp;<span class="comment" id="4792354">//&nbsp;beginning&nbsp;of&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792377"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792378">.</span><span class="ident" id="4792379">step</span>&nbsp;<span class="op" id="4792384">=</span>&nbsp;<span class="ident" id="4792386"><a href="/encoding/json/scanner.go.html#4799190">stateT</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792395">return</span>&nbsp;<span class="ident" id="4792402"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792420">case</span>&nbsp;<span class="string" id="4792425">&#39;f&#39;</span><span class="op" id="4792428">:</span>&nbsp;<span class="comment" id="4792430">//&nbsp;beginning&nbsp;of&nbsp;false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792454"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792455">.</span><span class="ident" id="4792456">step</span>&nbsp;<span class="op" id="4792461">=</span>&nbsp;<span class="ident" id="4792463"><a href="/encoding/json/scanner.go.html#4799791">stateF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792472">return</span>&nbsp;<span class="ident" id="4792479"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792497">case</span>&nbsp;<span class="string" id="4792502">&#39;n&#39;</span><span class="op" id="4792505">:</span>&nbsp;<span class="comment" id="4792507">//&nbsp;beginning&nbsp;of&nbsp;null</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792530"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792531">.</span><span class="ident" id="4792532">step</span>&nbsp;<span class="op" id="4792537">=</span>&nbsp;<span class="ident" id="4792539"><a href="/encoding/json/scanner.go.html#4800602">stateN</a></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792548">return</span>&nbsp;<span class="ident" id="4792555"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792576">if</span>&nbsp;<span class="string" id="4792579">&#39;1&#39;</span>&nbsp;<span class="op" id="4792583">&lt;=</span>&nbsp;<span class="ident" id="4792586"><a href="/encoding/json/scanner.go.html#4791850">c</a></span>&nbsp;<span class="op" id="4792588">&amp;&amp;</span>&nbsp;<span class="ident" id="4792591"><a href="/encoding/json/scanner.go.html#4791850">c</a></span>&nbsp;<span class="op" id="4792593">&lt;=</span>&nbsp;<span class="string" id="4792596">&#39;9&#39;</span>&nbsp;<span class="op" id="4792600">{</span>&nbsp;<span class="comment" id="4792602">//&nbsp;beginning&nbsp;of&nbsp;1234.5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792627"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792628">.</span><span class="ident" id="4792629">step</span>&nbsp;<span class="op" id="4792634">=</span>&nbsp;<span class="ident" id="4792636"><a href="/encoding/json/scanner.go.html#4797198">state1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792645">return</span>&nbsp;<span class="ident" id="4792652"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792673">return</span>&nbsp;<span class="ident" id="4792680"><a href="/encoding/json/scanner.go.html#4791838">s</a></span><span class="op" id="4792681">.</span><span class="builtintype" id="4792682">error</span><span class="op" id="4792687">(</span><span class="ident" id="4792688"><a href="/encoding/json/scanner.go.html#4791850">c</a></span><span class="op" id="4792689">,</span>&nbsp;<span class="string" id="4792691">&#34;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="4792723">)</span><br>
<span class="lineno"></span><span class="op" id="4792725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4792728">//&nbsp;stateBeginStringOrEmpty&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`{`.</span><br>
<span class="lineno">240</span><span class="keyword" id="4792787">func</span>&nbsp;<span class="ident" id="4792792">stateBeginStringOrEmpty</span><span class="op" id="4792815">(</span><span class="ident" id="4792816">s</span>&nbsp;<span class="op" id="4792818">*</span><span class="ident" id="4792819"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4792826">,</span>&nbsp;<span class="ident" id="4792828">c</span>&nbsp;<span class="builtintype" id="4792830">int</span><span class="op" id="4792833">)</span>&nbsp;<span class="builtintype" id="4792835">int</span>&nbsp;<span class="op" id="4792839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792842">if</span>&nbsp;<span class="ident" id="4792845"><a href="/encoding/json/scanner.go.html#4792828">c</a></span>&nbsp;<span class="op" id="4792847">&lt;=</span>&nbsp;<span class="string" id="4792850">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4792854">&amp;&amp;</span>&nbsp;<span class="ident" id="4792857"><a href="/encoding/json/scanner.go.html#4791420">isSpace</a></span><span class="op" id="4792864">(</span><span class="builtintype" id="4792865">rune</span><span class="op" id="4792869">(</span><span class="ident" id="4792870"><a href="/encoding/json/scanner.go.html#4792828">c</a></span><span class="op" id="4792871">)</span><span class="op" id="4792872">)</span>&nbsp;<span class="op" id="4792874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792878">return</span>&nbsp;<span class="ident" id="4792885"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792903">if</span>&nbsp;<span class="ident" id="4792906"><a href="/encoding/json/scanner.go.html#4792828">c</a></span>&nbsp;<span class="op" id="4792908">==</span>&nbsp;<span class="string" id="4792911">&#39;}&#39;</span>&nbsp;<span class="op" id="4792915">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792919">n</span>&nbsp;<span class="op" id="4792921">:=</span>&nbsp;<span class="builtinfunc" id="4792924">len</span><span class="op" id="4792927">(</span><span class="ident" id="4792928"><a href="/encoding/json/scanner.go.html#4792816">s</a></span><span class="op" id="4792929">.</span><span class="ident" id="4792930">parseState</span><span class="op" id="4792940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792944"><a href="/encoding/json/scanner.go.html#4792816">s</a></span><span class="op" id="4792945">.</span><span class="ident" id="4792946">parseState</span><span class="op" id="4792956">[</span><span class="ident" id="4792957"><a href="/encoding/json/scanner.go.html#4792919">n</a></span><span class="op" id="4792958">-</span><span class="num" id="4792959">1</span><span class="op" id="4792960">]</span>&nbsp;<span class="op" id="4792962">=</span>&nbsp;<span class="ident" id="4792964"><a href="/encoding/json/scanner.go.html#4790238">parseObjectValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792983">return</span>&nbsp;<span class="ident" id="4792990"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><span class="op" id="4793003">(</span><span class="ident" id="4793004"><a href="/encoding/json/scanner.go.html#4792816">s</a></span><span class="op" id="4793005">,</span>&nbsp;<span class="ident" id="4793007"><a href="/encoding/json/scanner.go.html#4792828">c</a></span><span class="op" id="4793008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793014">return</span>&nbsp;<span class="ident" id="4793021"><a href="/encoding/json/scanner.go.html#4793117">stateBeginString</a></span><span class="op" id="4793037">(</span><span class="ident" id="4793038"><a href="/encoding/json/scanner.go.html#4792816">s</a></span><span class="op" id="4793039">,</span>&nbsp;<span class="ident" id="4793041"><a href="/encoding/json/scanner.go.html#4792828">c</a></span><span class="op" id="4793042">)</span><br>
<span class="lineno">250</span><span class="op" id="4793044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4793047">//&nbsp;stateBeginString&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`{&#34;key&#34;:&nbsp;value,`.</span><br>
<span class="lineno"></span><span class="keyword" id="4793112">func</span>&nbsp;<span class="ident" id="4793117">stateBeginString</span><span class="op" id="4793133">(</span><span class="ident" id="4793134">s</span>&nbsp;<span class="op" id="4793136">*</span><span class="ident" id="4793137"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4793144">,</span>&nbsp;<span class="ident" id="4793146">c</span>&nbsp;<span class="builtintype" id="4793148">int</span><span class="op" id="4793151">)</span>&nbsp;<span class="builtintype" id="4793153">int</span>&nbsp;<span class="op" id="4793157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793160">if</span>&nbsp;<span class="ident" id="4793163"><a href="/encoding/json/scanner.go.html#4793146">c</a></span>&nbsp;<span class="op" id="4793165">&lt;=</span>&nbsp;<span class="string" id="4793168">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4793172">&amp;&amp;</span>&nbsp;<span class="ident" id="4793175"><a href="/encoding/json/scanner.go.html#4791420">isSpace</a></span><span class="op" id="4793182">(</span><span class="builtintype" id="4793183">rune</span><span class="op" id="4793187">(</span><span class="ident" id="4793188"><a href="/encoding/json/scanner.go.html#4793146">c</a></span><span class="op" id="4793189">)</span><span class="op" id="4793190">)</span>&nbsp;<span class="op" id="4793192">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793196">return</span>&nbsp;<span class="ident" id="4793203"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793221">if</span>&nbsp;<span class="ident" id="4793224"><a href="/encoding/json/scanner.go.html#4793146">c</a></span>&nbsp;<span class="op" id="4793226">==</span>&nbsp;<span class="string" id="4793229">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="4793233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793237"><a href="/encoding/json/scanner.go.html#4793134">s</a></span><span class="op" id="4793238">.</span><span class="ident" id="4793239">step</span>&nbsp;<span class="op" id="4793244">=</span>&nbsp;<span class="ident" id="4793246"><a href="/encoding/json/scanner.go.html#4794862">stateInString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793262">return</span>&nbsp;<span class="ident" id="4793269"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793290">return</span>&nbsp;<span class="ident" id="4793297"><a href="/encoding/json/scanner.go.html#4793134">s</a></span><span class="op" id="4793298">.</span><span class="builtintype" id="4793299">error</span><span class="op" id="4793304">(</span><span class="ident" id="4793305"><a href="/encoding/json/scanner.go.html#4793146">c</a></span><span class="op" id="4793306">,</span>&nbsp;<span class="string" id="4793308">&#34;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;object&nbsp;key&nbsp;string&#34;</span><span class="op" id="4793352">)</span><br>
<span class="lineno"></span><span class="op" id="4793354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4793357">//&nbsp;stateEndValue&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;completing&nbsp;a&nbsp;value,</span><br>
<span class="lineno">265</span><span class="comment" id="4793413">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`{}`&nbsp;or&nbsp;`true`&nbsp;or&nbsp;`[&#34;x&#34;`.</span><br>
<span class="lineno"></span><span class="keyword" id="4793464">func</span>&nbsp;<span class="ident" id="4793469">stateEndValue</span><span class="op" id="4793482">(</span><span class="ident" id="4793483">s</span>&nbsp;<span class="op" id="4793485">*</span><span class="ident" id="4793486"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4793493">,</span>&nbsp;<span class="ident" id="4793495">c</span>&nbsp;<span class="builtintype" id="4793497">int</span><span class="op" id="4793500">)</span>&nbsp;<span class="builtintype" id="4793502">int</span>&nbsp;<span class="op" id="4793506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793509">n</span>&nbsp;<span class="op" id="4793511">:=</span>&nbsp;<span class="builtinfunc" id="4793514">len</span><span class="op" id="4793517">(</span><span class="ident" id="4793518"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4793519">.</span><span class="ident" id="4793520">parseState</span><span class="op" id="4793530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793533">if</span>&nbsp;<span class="ident" id="4793536"><a href="/encoding/json/scanner.go.html#4793509">n</a></span>&nbsp;<span class="op" id="4793538">==</span>&nbsp;<span class="num" id="4793541">0</span>&nbsp;<span class="op" id="4793543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4793547">//&nbsp;Completed&nbsp;top-level&nbsp;before&nbsp;the&nbsp;current&nbsp;byte.</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793597"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4793598">.</span><span class="ident" id="4793599">step</span>&nbsp;<span class="op" id="4793604">=</span>&nbsp;<span class="ident" id="4793606"><a href="/encoding/json/scanner.go.html#4794608">stateEndTop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793620"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4793621">.</span><span class="ident" id="4793622">endTop</span>&nbsp;<span class="op" id="4793629">=</span>&nbsp;<span class="builtintype" id="4793631">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793638">return</span>&nbsp;<span class="ident" id="4793645"><a href="/encoding/json/scanner.go.html#4794608">stateEndTop</a></span><span class="op" id="4793656">(</span><span class="ident" id="4793657"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4793658">,</span>&nbsp;<span class="ident" id="4793660"><a href="/encoding/json/scanner.go.html#4793495">c</a></span><span class="op" id="4793661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793667">if</span>&nbsp;<span class="ident" id="4793670"><a href="/encoding/json/scanner.go.html#4793495">c</a></span>&nbsp;<span class="op" id="4793672">&lt;=</span>&nbsp;<span class="string" id="4793675">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4793679">&amp;&amp;</span>&nbsp;<span class="ident" id="4793682"><a href="/encoding/json/scanner.go.html#4791420">isSpace</a></span><span class="op" id="4793689">(</span><span class="builtintype" id="4793690">rune</span><span class="op" id="4793694">(</span><span class="ident" id="4793695"><a href="/encoding/json/scanner.go.html#4793495">c</a></span><span class="op" id="4793696">)</span><span class="op" id="4793697">)</span>&nbsp;<span class="op" id="4793699">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793703"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4793704">.</span><span class="ident" id="4793705">step</span>&nbsp;<span class="op" id="4793710">=</span>&nbsp;<span class="ident" id="4793712"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793728">return</span>&nbsp;<span class="ident" id="4793735"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793753">ps</span>&nbsp;<span class="op" id="4793756">:=</span>&nbsp;<span class="ident" id="4793759"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4793760">.</span><span class="ident" id="4793761">parseState</span><span class="op" id="4793771">[</span><span class="ident" id="4793772"><a href="/encoding/json/scanner.go.html#4793509">n</a></span><span class="op" id="4793773">-</span><span class="num" id="4793774">1</span><span class="op" id="4793775">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793778">switch</span>&nbsp;<span class="ident" id="4793785"><a href="/encoding/json/scanner.go.html#4793753">ps</a></span>&nbsp;<span class="op" id="4793788">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793791">case</span>&nbsp;<span class="ident" id="4793796"><a href="/encoding/json/scanner.go.html#4790176">parseObjectKey</a></span><span class="op" id="4793810">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793814">if</span>&nbsp;<span class="ident" id="4793817"><a href="/encoding/json/scanner.go.html#4793495">c</a></span>&nbsp;<span class="op" id="4793819">==</span>&nbsp;<span class="string" id="4793822">&#39;:&#39;</span>&nbsp;<span class="op" id="4793826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793831"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4793832">.</span><span class="ident" id="4793833">parseState</span><span class="op" id="4793843">[</span><span class="ident" id="4793844"><a href="/encoding/json/scanner.go.html#4793509">n</a></span><span class="op" id="4793845">-</span><span class="num" id="4793846">1</span><span class="op" id="4793847">]</span>&nbsp;<span class="op" id="4793849">=</span>&nbsp;<span class="ident" id="4793851"><a href="/encoding/json/scanner.go.html#4790238">parseObjectValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793871"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4793872">.</span><span class="ident" id="4793873">step</span>&nbsp;<span class="op" id="4793878">=</span>&nbsp;<span class="ident" id="4793880"><a href="/encoding/json/scanner.go.html#4791822">stateBeginValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793899">return</span>&nbsp;<span class="ident" id="4793906"><a href="/encoding/json/scanner.go.html#4789338">scanObjectKey</a></span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793926">return</span>&nbsp;<span class="ident" id="4793933"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4793934">.</span><span class="builtintype" id="4793935">error</span><span class="op" id="4793940">(</span><span class="ident" id="4793941"><a href="/encoding/json/scanner.go.html#4793495">c</a></span><span class="op" id="4793942">,</span>&nbsp;<span class="string" id="4793944">&#34;after&nbsp;object&nbsp;key&#34;</span><span class="op" id="4793962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793965">case</span>&nbsp;<span class="ident" id="4793970"><a href="/encoding/json/scanner.go.html#4790238">parseObjectValue</a></span><span class="op" id="4793986">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793990">if</span>&nbsp;<span class="ident" id="4793993"><a href="/encoding/json/scanner.go.html#4793495">c</a></span>&nbsp;<span class="op" id="4793995">==</span>&nbsp;<span class="string" id="4793998">&#39;,&#39;</span>&nbsp;<span class="op" id="4794002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794007"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4794008">.</span><span class="ident" id="4794009">parseState</span><span class="op" id="4794019">[</span><span class="ident" id="4794020"><a href="/encoding/json/scanner.go.html#4793509">n</a></span><span class="op" id="4794021">-</span><span class="num" id="4794022">1</span><span class="op" id="4794023">]</span>&nbsp;<span class="op" id="4794025">=</span>&nbsp;<span class="ident" id="4794027"><a href="/encoding/json/scanner.go.html#4790176">parseObjectKey</a></span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794045"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4794046">.</span><span class="ident" id="4794047">step</span>&nbsp;<span class="op" id="4794052">=</span>&nbsp;<span class="ident" id="4794054"><a href="/encoding/json/scanner.go.html#4793117">stateBeginString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794074">return</span>&nbsp;<span class="ident" id="4794081"><a href="/encoding/json/scanner.go.html#4789400">scanObjectValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794103">if</span>&nbsp;<span class="ident" id="4794106"><a href="/encoding/json/scanner.go.html#4793495">c</a></span>&nbsp;<span class="op" id="4794108">==</span>&nbsp;<span class="string" id="4794111">&#39;}&#39;</span>&nbsp;<span class="op" id="4794115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794120"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4794121">.</span><span class="ident" id="4794122">popParseState</span><span class="op" id="4794135">(</span><span class="op" id="4794136">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794141">return</span>&nbsp;<span class="ident" id="4794148"><a href="/encoding/json/scanner.go.html#4789464">scanEndObject</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794168">return</span>&nbsp;<span class="ident" id="4794175"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4794176">.</span><span class="builtintype" id="4794177">error</span><span class="op" id="4794182">(</span><span class="ident" id="4794183"><a href="/encoding/json/scanner.go.html#4793495">c</a></span><span class="op" id="4794184">,</span>&nbsp;<span class="string" id="4794186">&#34;after&nbsp;object&nbsp;key:value&nbsp;pair&#34;</span><span class="op" id="4794215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794218">case</span>&nbsp;<span class="ident" id="4794223"><a href="/encoding/json/scanner.go.html#4790301">parseArrayValue</a></span><span class="op" id="4794238">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794242">if</span>&nbsp;<span class="ident" id="4794245"><a href="/encoding/json/scanner.go.html#4793495">c</a></span>&nbsp;<span class="op" id="4794247">==</span>&nbsp;<span class="string" id="4794250">&#39;,&#39;</span>&nbsp;<span class="op" id="4794254">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794259"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4794260">.</span><span class="ident" id="4794261">step</span>&nbsp;<span class="op" id="4794266">=</span>&nbsp;<span class="ident" id="4794268"><a href="/encoding/json/scanner.go.html#4791822">stateBeginValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794287">return</span>&nbsp;<span class="ident" id="4794294"><a href="/encoding/json/scanner.go.html#4789581">scanArrayValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794315">if</span>&nbsp;<span class="ident" id="4794318"><a href="/encoding/json/scanner.go.html#4793495">c</a></span>&nbsp;<span class="op" id="4794320">==</span>&nbsp;<span class="string" id="4794323">&#39;]&#39;</span>&nbsp;<span class="op" id="4794327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794332"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4794333">.</span><span class="ident" id="4794334">popParseState</span><span class="op" id="4794347">(</span><span class="op" id="4794348">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794353">return</span>&nbsp;<span class="ident" id="4794360"><a href="/encoding/json/scanner.go.html#4789635">scanEndArray</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794379">return</span>&nbsp;<span class="ident" id="4794386"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4794387">.</span><span class="builtintype" id="4794388">error</span><span class="op" id="4794393">(</span><span class="ident" id="4794394"><a href="/encoding/json/scanner.go.html#4793495">c</a></span><span class="op" id="4794395">,</span>&nbsp;<span class="string" id="4794397">&#34;after&nbsp;array&nbsp;element&#34;</span><span class="op" id="4794418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794424">return</span>&nbsp;<span class="ident" id="4794431"><a href="/encoding/json/scanner.go.html#4793483">s</a></span><span class="op" id="4794432">.</span><span class="builtintype" id="4794433">error</span><span class="op" id="4794438">(</span><span class="ident" id="4794439"><a href="/encoding/json/scanner.go.html#4793495">c</a></span><span class="op" id="4794440">,</span>&nbsp;<span class="string" id="4794442">&#34;&#34;</span><span class="op" id="4794444">)</span><br>
<span class="lineno">310</span><span class="op" id="4794446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4794449">//&nbsp;stateEndTop&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;finishing&nbsp;the&nbsp;top-level&nbsp;value,</span><br>
<span class="lineno"></span><span class="comment" id="4794514">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`{}`&nbsp;or&nbsp;`[1,2,3]`.</span><br>
<span class="lineno"></span><span class="comment" id="4794558">//&nbsp;Only&nbsp;space&nbsp;characters&nbsp;should&nbsp;be&nbsp;seen&nbsp;now.</span><br>
<span class="lineno">315</span><span class="keyword" id="4794603">func</span>&nbsp;<span class="ident" id="4794608">stateEndTop</span><span class="op" id="4794619">(</span><span class="ident" id="4794620">s</span>&nbsp;<span class="op" id="4794622">*</span><span class="ident" id="4794623"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4794630">,</span>&nbsp;<span class="ident" id="4794632">c</span>&nbsp;<span class="builtintype" id="4794634">int</span><span class="op" id="4794637">)</span>&nbsp;<span class="builtintype" id="4794639">int</span>&nbsp;<span class="op" id="4794643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794646">if</span>&nbsp;<span class="ident" id="4794649"><a href="/encoding/json/scanner.go.html#4794632">c</a></span>&nbsp;<span class="op" id="4794651">!=</span>&nbsp;<span class="string" id="4794654">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4794658">&amp;&amp;</span>&nbsp;<span class="ident" id="4794661"><a href="/encoding/json/scanner.go.html#4794632">c</a></span>&nbsp;<span class="op" id="4794663">!=</span>&nbsp;<span class="string" id="4794666">&#39;\t&#39;</span>&nbsp;<span class="op" id="4794671">&amp;&amp;</span>&nbsp;<span class="ident" id="4794674"><a href="/encoding/json/scanner.go.html#4794632">c</a></span>&nbsp;<span class="op" id="4794676">!=</span>&nbsp;<span class="string" id="4794679">&#39;\r&#39;</span>&nbsp;<span class="op" id="4794684">&amp;&amp;</span>&nbsp;<span class="ident" id="4794687"><a href="/encoding/json/scanner.go.html#4794632">c</a></span>&nbsp;<span class="op" id="4794689">!=</span>&nbsp;<span class="string" id="4794692">&#39;\n&#39;</span>&nbsp;<span class="op" id="4794697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4794701">//&nbsp;Complain&nbsp;about&nbsp;non-space&nbsp;byte&nbsp;on&nbsp;next&nbsp;call.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794750"><a href="/encoding/json/scanner.go.html#4794620">s</a></span><span class="op" id="4794751">.</span><span class="builtintype" id="4794752">error</span><span class="op" id="4794757">(</span><span class="ident" id="4794758"><a href="/encoding/json/scanner.go.html#4794632">c</a></span><span class="op" id="4794759">,</span>&nbsp;<span class="string" id="4794761">&#34;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="4794784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794787">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794790">return</span>&nbsp;<span class="ident" id="4794797"><a href="/encoding/json/scanner.go.html#4789806">scanEnd</a></span><br>
<span class="lineno"></span><span class="op" id="4794805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4794808">//&nbsp;stateInString&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;`.</span><br>
<span class="lineno"></span><span class="keyword" id="4794857">func</span>&nbsp;<span class="ident" id="4794862">stateInString</span><span class="op" id="4794875">(</span><span class="ident" id="4794876">s</span>&nbsp;<span class="op" id="4794878">*</span><span class="ident" id="4794879"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4794886">,</span>&nbsp;<span class="ident" id="4794888">c</span>&nbsp;<span class="builtintype" id="4794890">int</span><span class="op" id="4794893">)</span>&nbsp;<span class="builtintype" id="4794895">int</span>&nbsp;<span class="op" id="4794899">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794902">if</span>&nbsp;<span class="ident" id="4794905"><a href="/encoding/json/scanner.go.html#4794888">c</a></span>&nbsp;<span class="op" id="4794907">==</span>&nbsp;<span class="string" id="4794910">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="4794914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794918"><a href="/encoding/json/scanner.go.html#4794876">s</a></span><span class="op" id="4794919">.</span><span class="ident" id="4794920">step</span>&nbsp;<span class="op" id="4794925">=</span>&nbsp;<span class="ident" id="4794927"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794943">return</span>&nbsp;<span class="ident" id="4794950"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794967">if</span>&nbsp;<span class="ident" id="4794970"><a href="/encoding/json/scanner.go.html#4794888">c</a></span>&nbsp;<span class="op" id="4794972">==</span>&nbsp;<span class="string" id="4794975">&#39;\\&#39;</span>&nbsp;<span class="op" id="4794980">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794984"><a href="/encoding/json/scanner.go.html#4794876">s</a></span><span class="op" id="4794985">.</span><span class="ident" id="4794986">step</span>&nbsp;<span class="op" id="4794991">=</span>&nbsp;<span class="ident" id="4794993"><a href="/encoding/json/scanner.go.html#4795199">stateInStringEsc</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795012">return</span>&nbsp;<span class="ident" id="4795019"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795036">if</span>&nbsp;<span class="ident" id="4795039"><a href="/encoding/json/scanner.go.html#4794888">c</a></span>&nbsp;<span class="op" id="4795041">&lt;</span>&nbsp;<span class="num" id="4795043">0x20</span>&nbsp;<span class="op" id="4795048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795052">return</span>&nbsp;<span class="ident" id="4795059"><a href="/encoding/json/scanner.go.html#4794876">s</a></span><span class="op" id="4795060">.</span><span class="builtintype" id="4795061">error</span><span class="op" id="4795066">(</span><span class="ident" id="4795067"><a href="/encoding/json/scanner.go.html#4794888">c</a></span><span class="op" id="4795068">,</span>&nbsp;<span class="string" id="4795070">&#34;in&nbsp;string&nbsp;literal&#34;</span><span class="op" id="4795089">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795095">return</span>&nbsp;<span class="ident" id="4795102"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span><span class="op" id="4795115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4795118">//&nbsp;stateInStringEsc&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno">340</span><span class="keyword" id="4795194">func</span>&nbsp;<span class="ident" id="4795199">stateInStringEsc</span><span class="op" id="4795215">(</span><span class="ident" id="4795216">s</span>&nbsp;<span class="op" id="4795218">*</span><span class="ident" id="4795219"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4795226">,</span>&nbsp;<span class="ident" id="4795228">c</span>&nbsp;<span class="builtintype" id="4795230">int</span><span class="op" id="4795233">)</span>&nbsp;<span class="builtintype" id="4795235">int</span>&nbsp;<span class="op" id="4795239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795242">switch</span>&nbsp;<span class="ident" id="4795249"><a href="/encoding/json/scanner.go.html#4795228">c</a></span>&nbsp;<span class="op" id="4795251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795254">case</span>&nbsp;<span class="string" id="4795259">&#39;b&#39;</span><span class="op" id="4795262">,</span>&nbsp;<span class="string" id="4795264">&#39;f&#39;</span><span class="op" id="4795267">,</span>&nbsp;<span class="string" id="4795269">&#39;n&#39;</span><span class="op" id="4795272">,</span>&nbsp;<span class="string" id="4795274">&#39;r&#39;</span><span class="op" id="4795277">,</span>&nbsp;<span class="string" id="4795279">&#39;t&#39;</span><span class="op" id="4795282">,</span>&nbsp;<span class="string" id="4795284">&#39;\\&#39;</span><span class="op" id="4795288">,</span>&nbsp;<span class="string" id="4795290">&#39;/&#39;</span><span class="op" id="4795293">,</span>&nbsp;<span class="string" id="4795295">&#39;&#34;&#39;</span><span class="op" id="4795298">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795302"><a href="/encoding/json/scanner.go.html#4795216">s</a></span><span class="op" id="4795303">.</span><span class="ident" id="4795304">step</span>&nbsp;<span class="op" id="4795309">=</span>&nbsp;<span class="ident" id="4795311"><a href="/encoding/json/scanner.go.html#4794862">stateInString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795327">return</span>&nbsp;<span class="ident" id="4795334"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795351">if</span>&nbsp;<span class="ident" id="4795354"><a href="/encoding/json/scanner.go.html#4795228">c</a></span>&nbsp;<span class="op" id="4795356">==</span>&nbsp;<span class="string" id="4795359">&#39;u&#39;</span>&nbsp;<span class="op" id="4795363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795367"><a href="/encoding/json/scanner.go.html#4795216">s</a></span><span class="op" id="4795368">.</span><span class="ident" id="4795369">step</span>&nbsp;<span class="op" id="4795374">=</span>&nbsp;<span class="ident" id="4795376"><a href="/encoding/json/scanner.go.html#4795549">stateInStringEscU</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795396">return</span>&nbsp;<span class="ident" id="4795403"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795417">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795420">return</span>&nbsp;<span class="ident" id="4795427"><a href="/encoding/json/scanner.go.html#4795216">s</a></span><span class="op" id="4795428">.</span><span class="builtintype" id="4795429">error</span><span class="op" id="4795434">(</span><span class="ident" id="4795435"><a href="/encoding/json/scanner.go.html#4795228">c</a></span><span class="op" id="4795436">,</span>&nbsp;<span class="string" id="4795438">&#34;in&nbsp;string&nbsp;escape&nbsp;code&#34;</span><span class="op" id="4795461">)</span><br>
<span class="lineno"></span><span class="op" id="4795463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4795466">//&nbsp;stateInStringEscU&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\u`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4795544">func</span>&nbsp;<span class="ident" id="4795549">stateInStringEscU</span><span class="op" id="4795566">(</span><span class="ident" id="4795567">s</span>&nbsp;<span class="op" id="4795569">*</span><span class="ident" id="4795570"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4795577">,</span>&nbsp;<span class="ident" id="4795579">c</span>&nbsp;<span class="builtintype" id="4795581">int</span><span class="op" id="4795584">)</span>&nbsp;<span class="builtintype" id="4795586">int</span>&nbsp;<span class="op" id="4795590">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795593">if</span>&nbsp;<span class="string" id="4795596">&#39;0&#39;</span>&nbsp;<span class="op" id="4795600">&lt;=</span>&nbsp;<span class="ident" id="4795603"><a href="/encoding/json/scanner.go.html#4795579">c</a></span>&nbsp;<span class="op" id="4795605">&amp;&amp;</span>&nbsp;<span class="ident" id="4795608"><a href="/encoding/json/scanner.go.html#4795579">c</a></span>&nbsp;<span class="op" id="4795610">&lt;=</span>&nbsp;<span class="string" id="4795613">&#39;9&#39;</span>&nbsp;<span class="op" id="4795617">||</span>&nbsp;<span class="string" id="4795620">&#39;a&#39;</span>&nbsp;<span class="op" id="4795624">&lt;=</span>&nbsp;<span class="ident" id="4795627"><a href="/encoding/json/scanner.go.html#4795579">c</a></span>&nbsp;<span class="op" id="4795629">&amp;&amp;</span>&nbsp;<span class="ident" id="4795632"><a href="/encoding/json/scanner.go.html#4795579">c</a></span>&nbsp;<span class="op" id="4795634">&lt;=</span>&nbsp;<span class="string" id="4795637">&#39;f&#39;</span>&nbsp;<span class="op" id="4795641">||</span>&nbsp;<span class="string" id="4795644">&#39;A&#39;</span>&nbsp;<span class="op" id="4795648">&lt;=</span>&nbsp;<span class="ident" id="4795651"><a href="/encoding/json/scanner.go.html#4795579">c</a></span>&nbsp;<span class="op" id="4795653">&amp;&amp;</span>&nbsp;<span class="ident" id="4795656"><a href="/encoding/json/scanner.go.html#4795579">c</a></span>&nbsp;<span class="op" id="4795658">&lt;=</span>&nbsp;<span class="string" id="4795661">&#39;F&#39;</span>&nbsp;<span class="op" id="4795665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795669"><a href="/encoding/json/scanner.go.html#4795567">s</a></span><span class="op" id="4795670">.</span><span class="ident" id="4795671">step</span>&nbsp;<span class="op" id="4795676">=</span>&nbsp;<span class="ident" id="4795678"><a href="/encoding/json/scanner.go.html#4795880">stateInStringEscU1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795699">return</span>&nbsp;<span class="ident" id="4795706"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4795723">//&nbsp;numbers</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795735">return</span>&nbsp;<span class="ident" id="4795742"><a href="/encoding/json/scanner.go.html#4795567">s</a></span><span class="op" id="4795743">.</span><span class="builtintype" id="4795744">error</span><span class="op" id="4795749">(</span><span class="ident" id="4795750"><a href="/encoding/json/scanner.go.html#4795579">c</a></span><span class="op" id="4795751">,</span>&nbsp;<span class="string" id="4795753">&#34;in&nbsp;\\u&nbsp;hexadecimal&nbsp;character&nbsp;escape&#34;</span><span class="op" id="4795790">)</span><br>
<span class="lineno"></span><span class="op" id="4795792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4795795">//&nbsp;stateInStringEscU1&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\u1`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4795875">func</span>&nbsp;<span class="ident" id="4795880">stateInStringEscU1</span><span class="op" id="4795898">(</span><span class="ident" id="4795899">s</span>&nbsp;<span class="op" id="4795901">*</span><span class="ident" id="4795902"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4795909">,</span>&nbsp;<span class="ident" id="4795911">c</span>&nbsp;<span class="builtintype" id="4795913">int</span><span class="op" id="4795916">)</span>&nbsp;<span class="builtintype" id="4795918">int</span>&nbsp;<span class="op" id="4795922">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795925">if</span>&nbsp;<span class="string" id="4795928">&#39;0&#39;</span>&nbsp;<span class="op" id="4795932">&lt;=</span>&nbsp;<span class="ident" id="4795935"><a href="/encoding/json/scanner.go.html#4795911">c</a></span>&nbsp;<span class="op" id="4795937">&amp;&amp;</span>&nbsp;<span class="ident" id="4795940"><a href="/encoding/json/scanner.go.html#4795911">c</a></span>&nbsp;<span class="op" id="4795942">&lt;=</span>&nbsp;<span class="string" id="4795945">&#39;9&#39;</span>&nbsp;<span class="op" id="4795949">||</span>&nbsp;<span class="string" id="4795952">&#39;a&#39;</span>&nbsp;<span class="op" id="4795956">&lt;=</span>&nbsp;<span class="ident" id="4795959"><a href="/encoding/json/scanner.go.html#4795911">c</a></span>&nbsp;<span class="op" id="4795961">&amp;&amp;</span>&nbsp;<span class="ident" id="4795964"><a href="/encoding/json/scanner.go.html#4795911">c</a></span>&nbsp;<span class="op" id="4795966">&lt;=</span>&nbsp;<span class="string" id="4795969">&#39;f&#39;</span>&nbsp;<span class="op" id="4795973">||</span>&nbsp;<span class="string" id="4795976">&#39;A&#39;</span>&nbsp;<span class="op" id="4795980">&lt;=</span>&nbsp;<span class="ident" id="4795983"><a href="/encoding/json/scanner.go.html#4795911">c</a></span>&nbsp;<span class="op" id="4795985">&amp;&amp;</span>&nbsp;<span class="ident" id="4795988"><a href="/encoding/json/scanner.go.html#4795911">c</a></span>&nbsp;<span class="op" id="4795990">&lt;=</span>&nbsp;<span class="string" id="4795993">&#39;F&#39;</span>&nbsp;<span class="op" id="4795997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796001"><a href="/encoding/json/scanner.go.html#4795899">s</a></span><span class="op" id="4796002">.</span><span class="ident" id="4796003">step</span>&nbsp;<span class="op" id="4796008">=</span>&nbsp;<span class="ident" id="4796010"><a href="/encoding/json/scanner.go.html#4796215">stateInStringEscU12</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796032">return</span>&nbsp;<span class="ident" id="4796039"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4796056">//&nbsp;numbers</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796068">return</span>&nbsp;<span class="ident" id="4796075"><a href="/encoding/json/scanner.go.html#4795899">s</a></span><span class="op" id="4796076">.</span><span class="builtintype" id="4796077">error</span><span class="op" id="4796082">(</span><span class="ident" id="4796083"><a href="/encoding/json/scanner.go.html#4795911">c</a></span><span class="op" id="4796084">,</span>&nbsp;<span class="string" id="4796086">&#34;in&nbsp;\\u&nbsp;hexadecimal&nbsp;character&nbsp;escape&#34;</span><span class="op" id="4796123">)</span><br>
<span class="lineno"></span><span class="op" id="4796125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4796128">//&nbsp;stateInStringEscU12&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\u12`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4796210">func</span>&nbsp;<span class="ident" id="4796215">stateInStringEscU12</span><span class="op" id="4796234">(</span><span class="ident" id="4796235">s</span>&nbsp;<span class="op" id="4796237">*</span><span class="ident" id="4796238"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4796245">,</span>&nbsp;<span class="ident" id="4796247">c</span>&nbsp;<span class="builtintype" id="4796249">int</span><span class="op" id="4796252">)</span>&nbsp;<span class="builtintype" id="4796254">int</span>&nbsp;<span class="op" id="4796258">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796261">if</span>&nbsp;<span class="string" id="4796264">&#39;0&#39;</span>&nbsp;<span class="op" id="4796268">&lt;=</span>&nbsp;<span class="ident" id="4796271"><a href="/encoding/json/scanner.go.html#4796247">c</a></span>&nbsp;<span class="op" id="4796273">&amp;&amp;</span>&nbsp;<span class="ident" id="4796276"><a href="/encoding/json/scanner.go.html#4796247">c</a></span>&nbsp;<span class="op" id="4796278">&lt;=</span>&nbsp;<span class="string" id="4796281">&#39;9&#39;</span>&nbsp;<span class="op" id="4796285">||</span>&nbsp;<span class="string" id="4796288">&#39;a&#39;</span>&nbsp;<span class="op" id="4796292">&lt;=</span>&nbsp;<span class="ident" id="4796295"><a href="/encoding/json/scanner.go.html#4796247">c</a></span>&nbsp;<span class="op" id="4796297">&amp;&amp;</span>&nbsp;<span class="ident" id="4796300"><a href="/encoding/json/scanner.go.html#4796247">c</a></span>&nbsp;<span class="op" id="4796302">&lt;=</span>&nbsp;<span class="string" id="4796305">&#39;f&#39;</span>&nbsp;<span class="op" id="4796309">||</span>&nbsp;<span class="string" id="4796312">&#39;A&#39;</span>&nbsp;<span class="op" id="4796316">&lt;=</span>&nbsp;<span class="ident" id="4796319"><a href="/encoding/json/scanner.go.html#4796247">c</a></span>&nbsp;<span class="op" id="4796321">&amp;&amp;</span>&nbsp;<span class="ident" id="4796324"><a href="/encoding/json/scanner.go.html#4796247">c</a></span>&nbsp;<span class="op" id="4796326">&lt;=</span>&nbsp;<span class="string" id="4796329">&#39;F&#39;</span>&nbsp;<span class="op" id="4796333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796337"><a href="/encoding/json/scanner.go.html#4796235">s</a></span><span class="op" id="4796338">.</span><span class="ident" id="4796339">step</span>&nbsp;<span class="op" id="4796344">=</span>&nbsp;<span class="ident" id="4796346"><a href="/encoding/json/scanner.go.html#4796554">stateInStringEscU123</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796369">return</span>&nbsp;<span class="ident" id="4796376"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4796393">//&nbsp;numbers</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796405">return</span>&nbsp;<span class="ident" id="4796412"><a href="/encoding/json/scanner.go.html#4796235">s</a></span><span class="op" id="4796413">.</span><span class="builtintype" id="4796414">error</span><span class="op" id="4796419">(</span><span class="ident" id="4796420"><a href="/encoding/json/scanner.go.html#4796247">c</a></span><span class="op" id="4796421">,</span>&nbsp;<span class="string" id="4796423">&#34;in&nbsp;\\u&nbsp;hexadecimal&nbsp;character&nbsp;escape&#34;</span><span class="op" id="4796460">)</span><br>
<span class="lineno"></span><span class="op" id="4796462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4796465">//&nbsp;stateInStringEscU123&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\u123`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4796549">func</span>&nbsp;<span class="ident" id="4796554">stateInStringEscU123</span><span class="op" id="4796574">(</span><span class="ident" id="4796575">s</span>&nbsp;<span class="op" id="4796577">*</span><span class="ident" id="4796578"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4796585">,</span>&nbsp;<span class="ident" id="4796587">c</span>&nbsp;<span class="builtintype" id="4796589">int</span><span class="op" id="4796592">)</span>&nbsp;<span class="builtintype" id="4796594">int</span>&nbsp;<span class="op" id="4796598">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796601">if</span>&nbsp;<span class="string" id="4796604">&#39;0&#39;</span>&nbsp;<span class="op" id="4796608">&lt;=</span>&nbsp;<span class="ident" id="4796611"><a href="/encoding/json/scanner.go.html#4796587">c</a></span>&nbsp;<span class="op" id="4796613">&amp;&amp;</span>&nbsp;<span class="ident" id="4796616"><a href="/encoding/json/scanner.go.html#4796587">c</a></span>&nbsp;<span class="op" id="4796618">&lt;=</span>&nbsp;<span class="string" id="4796621">&#39;9&#39;</span>&nbsp;<span class="op" id="4796625">||</span>&nbsp;<span class="string" id="4796628">&#39;a&#39;</span>&nbsp;<span class="op" id="4796632">&lt;=</span>&nbsp;<span class="ident" id="4796635"><a href="/encoding/json/scanner.go.html#4796587">c</a></span>&nbsp;<span class="op" id="4796637">&amp;&amp;</span>&nbsp;<span class="ident" id="4796640"><a href="/encoding/json/scanner.go.html#4796587">c</a></span>&nbsp;<span class="op" id="4796642">&lt;=</span>&nbsp;<span class="string" id="4796645">&#39;f&#39;</span>&nbsp;<span class="op" id="4796649">||</span>&nbsp;<span class="string" id="4796652">&#39;A&#39;</span>&nbsp;<span class="op" id="4796656">&lt;=</span>&nbsp;<span class="ident" id="4796659"><a href="/encoding/json/scanner.go.html#4796587">c</a></span>&nbsp;<span class="op" id="4796661">&amp;&amp;</span>&nbsp;<span class="ident" id="4796664"><a href="/encoding/json/scanner.go.html#4796587">c</a></span>&nbsp;<span class="op" id="4796666">&lt;=</span>&nbsp;<span class="string" id="4796669">&#39;F&#39;</span>&nbsp;<span class="op" id="4796673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796677"><a href="/encoding/json/scanner.go.html#4796575">s</a></span><span class="op" id="4796678">.</span><span class="ident" id="4796679">step</span>&nbsp;<span class="op" id="4796684">=</span>&nbsp;<span class="ident" id="4796686"><a href="/encoding/json/scanner.go.html#4794862">stateInString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796702">return</span>&nbsp;<span class="ident" id="4796709"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4796726">//&nbsp;numbers</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796738">return</span>&nbsp;<span class="ident" id="4796745"><a href="/encoding/json/scanner.go.html#4796575">s</a></span><span class="op" id="4796746">.</span><span class="builtintype" id="4796747">error</span><span class="op" id="4796752">(</span><span class="ident" id="4796753"><a href="/encoding/json/scanner.go.html#4796587">c</a></span><span class="op" id="4796754">,</span>&nbsp;<span class="string" id="4796756">&#34;in&nbsp;\\u&nbsp;hexadecimal&nbsp;character&nbsp;escape&#34;</span><span class="op" id="4796793">)</span><br>
<span class="lineno"></span><span class="op" id="4796795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4796798">//&nbsp;stateNeg&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`-`&nbsp;during&nbsp;a&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="4796858">func</span>&nbsp;<span class="ident" id="4796863">stateNeg</span><span class="op" id="4796871">(</span><span class="ident" id="4796872">s</span>&nbsp;<span class="op" id="4796874">*</span><span class="ident" id="4796875"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4796882">,</span>&nbsp;<span class="ident" id="4796884">c</span>&nbsp;<span class="builtintype" id="4796886">int</span><span class="op" id="4796889">)</span>&nbsp;<span class="builtintype" id="4796891">int</span>&nbsp;<span class="op" id="4796895">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796898">if</span>&nbsp;<span class="ident" id="4796901"><a href="/encoding/json/scanner.go.html#4796884">c</a></span>&nbsp;<span class="op" id="4796903">==</span>&nbsp;<span class="string" id="4796906">&#39;0&#39;</span>&nbsp;<span class="op" id="4796910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796914"><a href="/encoding/json/scanner.go.html#4796872">s</a></span><span class="op" id="4796915">.</span><span class="ident" id="4796916">step</span>&nbsp;<span class="op" id="4796921">=</span>&nbsp;<span class="ident" id="4796923"><a href="/encoding/json/scanner.go.html#4797387">state0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796932">return</span>&nbsp;<span class="ident" id="4796939"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796956">if</span>&nbsp;<span class="string" id="4796959">&#39;1&#39;</span>&nbsp;<span class="op" id="4796963">&lt;=</span>&nbsp;<span class="ident" id="4796966"><a href="/encoding/json/scanner.go.html#4796884">c</a></span>&nbsp;<span class="op" id="4796968">&amp;&amp;</span>&nbsp;<span class="ident" id="4796971"><a href="/encoding/json/scanner.go.html#4796884">c</a></span>&nbsp;<span class="op" id="4796973">&lt;=</span>&nbsp;<span class="string" id="4796976">&#39;9&#39;</span>&nbsp;<span class="op" id="4796980">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796984"><a href="/encoding/json/scanner.go.html#4796872">s</a></span><span class="op" id="4796985">.</span><span class="ident" id="4796986">step</span>&nbsp;<span class="op" id="4796991">=</span>&nbsp;<span class="ident" id="4796993"><a href="/encoding/json/scanner.go.html#4797198">state1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797002">return</span>&nbsp;<span class="ident" id="4797009"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797026">return</span>&nbsp;<span class="ident" id="4797033"><a href="/encoding/json/scanner.go.html#4796872">s</a></span><span class="op" id="4797034">.</span><span class="builtintype" id="4797035">error</span><span class="op" id="4797040">(</span><span class="ident" id="4797041"><a href="/encoding/json/scanner.go.html#4796884">c</a></span><span class="op" id="4797042">,</span>&nbsp;<span class="string" id="4797044">&#34;in&nbsp;numeric&nbsp;literal&#34;</span><span class="op" id="4797064">)</span><br>
<span class="lineno"></span><span class="op" id="4797066">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="comment" id="4797069">//&nbsp;state1&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;a&nbsp;non-zero&nbsp;integer&nbsp;during&nbsp;a&nbsp;number,</span><br>
<span class="lineno"></span><span class="comment" id="4797142">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`1`&nbsp;or&nbsp;`100`&nbsp;but&nbsp;not&nbsp;`0`.</span><br>
<span class="lineno"></span><span class="keyword" id="4797193">func</span>&nbsp;<span class="ident" id="4797198">state1</span><span class="op" id="4797204">(</span><span class="ident" id="4797205">s</span>&nbsp;<span class="op" id="4797207">*</span><span class="ident" id="4797208"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4797215">,</span>&nbsp;<span class="ident" id="4797217">c</span>&nbsp;<span class="builtintype" id="4797219">int</span><span class="op" id="4797222">)</span>&nbsp;<span class="builtintype" id="4797224">int</span>&nbsp;<span class="op" id="4797228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797231">if</span>&nbsp;<span class="string" id="4797234">&#39;0&#39;</span>&nbsp;<span class="op" id="4797238">&lt;=</span>&nbsp;<span class="ident" id="4797241"><a href="/encoding/json/scanner.go.html#4797217">c</a></span>&nbsp;<span class="op" id="4797243">&amp;&amp;</span>&nbsp;<span class="ident" id="4797246"><a href="/encoding/json/scanner.go.html#4797217">c</a></span>&nbsp;<span class="op" id="4797248">&lt;=</span>&nbsp;<span class="string" id="4797251">&#39;9&#39;</span>&nbsp;<span class="op" id="4797255">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4797259"><a href="/encoding/json/scanner.go.html#4797205">s</a></span><span class="op" id="4797260">.</span><span class="ident" id="4797261">step</span>&nbsp;<span class="op" id="4797266">=</span>&nbsp;<span class="ident" id="4797268"><a href="/encoding/json/scanner.go.html#4797198">state1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797277">return</span>&nbsp;<span class="ident" id="4797284"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797301">return</span>&nbsp;<span class="ident" id="4797308"><a href="/encoding/json/scanner.go.html#4797387">state0</a></span><span class="op" id="4797314">(</span><span class="ident" id="4797315"><a href="/encoding/json/scanner.go.html#4797205">s</a></span><span class="op" id="4797316">,</span>&nbsp;<span class="ident" id="4797318"><a href="/encoding/json/scanner.go.html#4797217">c</a></span><span class="op" id="4797319">)</span><br>
<span class="lineno"></span><span class="op" id="4797321">}</span><br>
<span class="lineno">415</span><br>
<span class="lineno"></span><span class="comment" id="4797324">//&nbsp;state0&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`0`&nbsp;during&nbsp;a&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="4797382">func</span>&nbsp;<span class="ident" id="4797387">state0</span><span class="op" id="4797393">(</span><span class="ident" id="4797394">s</span>&nbsp;<span class="op" id="4797396">*</span><span class="ident" id="4797397"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4797404">,</span>&nbsp;<span class="ident" id="4797406">c</span>&nbsp;<span class="builtintype" id="4797408">int</span><span class="op" id="4797411">)</span>&nbsp;<span class="builtintype" id="4797413">int</span>&nbsp;<span class="op" id="4797417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797420">if</span>&nbsp;<span class="ident" id="4797423"><a href="/encoding/json/scanner.go.html#4797406">c</a></span>&nbsp;<span class="op" id="4797425">==</span>&nbsp;<span class="string" id="4797428">&#39;.&#39;</span>&nbsp;<span class="op" id="4797432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4797436"><a href="/encoding/json/scanner.go.html#4797394">s</a></span><span class="op" id="4797437">.</span><span class="ident" id="4797438">step</span>&nbsp;<span class="op" id="4797443">=</span>&nbsp;<span class="ident" id="4797445"><a href="/encoding/json/scanner.go.html#4797698">stateDot</a></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797456">return</span>&nbsp;<span class="ident" id="4797463"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797480">if</span>&nbsp;<span class="ident" id="4797483"><a href="/encoding/json/scanner.go.html#4797406">c</a></span>&nbsp;<span class="op" id="4797485">==</span>&nbsp;<span class="string" id="4797488">&#39;e&#39;</span>&nbsp;<span class="op" id="4797492">||</span>&nbsp;<span class="ident" id="4797495"><a href="/encoding/json/scanner.go.html#4797406">c</a></span>&nbsp;<span class="op" id="4797497">==</span>&nbsp;<span class="string" id="4797500">&#39;E&#39;</span>&nbsp;<span class="op" id="4797504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4797508"><a href="/encoding/json/scanner.go.html#4797394">s</a></span><span class="op" id="4797509">.</span><span class="ident" id="4797510">step</span>&nbsp;<span class="op" id="4797515">=</span>&nbsp;<span class="ident" id="4797517"><a href="/encoding/json/scanner.go.html#4798338">stateE</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797526">return</span>&nbsp;<span class="ident" id="4797533"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797550">return</span>&nbsp;<span class="ident" id="4797557"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><span class="op" id="4797570">(</span><span class="ident" id="4797571"><a href="/encoding/json/scanner.go.html#4797394">s</a></span><span class="op" id="4797572">,</span>&nbsp;<span class="ident" id="4797574"><a href="/encoding/json/scanner.go.html#4797406">c</a></span><span class="op" id="4797575">)</span><br>
<span class="lineno"></span><span class="op" id="4797577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4797580">//&nbsp;stateDot&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;integer&nbsp;and&nbsp;decimal&nbsp;point&nbsp;in&nbsp;a&nbsp;number,</span><br>
<span class="lineno">430</span><span class="comment" id="4797662">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`1.`.</span><br>
<span class="lineno"></span><span class="keyword" id="4797693">func</span>&nbsp;<span class="ident" id="4797698">stateDot</span><span class="op" id="4797706">(</span><span class="ident" id="4797707">s</span>&nbsp;<span class="op" id="4797709">*</span><span class="ident" id="4797710"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4797717">,</span>&nbsp;<span class="ident" id="4797719">c</span>&nbsp;<span class="builtintype" id="4797721">int</span><span class="op" id="4797724">)</span>&nbsp;<span class="builtintype" id="4797726">int</span>&nbsp;<span class="op" id="4797730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797733">if</span>&nbsp;<span class="string" id="4797736">&#39;0&#39;</span>&nbsp;<span class="op" id="4797740">&lt;=</span>&nbsp;<span class="ident" id="4797743"><a href="/encoding/json/scanner.go.html#4797719">c</a></span>&nbsp;<span class="op" id="4797745">&amp;&amp;</span>&nbsp;<span class="ident" id="4797748"><a href="/encoding/json/scanner.go.html#4797719">c</a></span>&nbsp;<span class="op" id="4797750">&lt;=</span>&nbsp;<span class="string" id="4797753">&#39;9&#39;</span>&nbsp;<span class="op" id="4797757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4797761"><a href="/encoding/json/scanner.go.html#4797707">s</a></span><span class="op" id="4797762">.</span><span class="ident" id="4797763">step</span>&nbsp;<span class="op" id="4797768">=</span>&nbsp;<span class="ident" id="4797770"><a href="/encoding/json/scanner.go.html#4798010">stateDot0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797782">return</span>&nbsp;<span class="ident" id="4797789"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797806">return</span>&nbsp;<span class="ident" id="4797813"><a href="/encoding/json/scanner.go.html#4797707">s</a></span><span class="op" id="4797814">.</span><span class="builtintype" id="4797815">error</span><span class="op" id="4797820">(</span><span class="ident" id="4797821"><a href="/encoding/json/scanner.go.html#4797719">c</a></span><span class="op" id="4797822">,</span>&nbsp;<span class="string" id="4797824">&#34;after&nbsp;decimal&nbsp;point&nbsp;in&nbsp;numeric&nbsp;literal&#34;</span><span class="op" id="4797864">)</span><br>
<span class="lineno"></span><span class="op" id="4797866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4797869">//&nbsp;stateDot0&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;integer,&nbsp;decimal&nbsp;point,&nbsp;and&nbsp;subsequent</span><br>
<span class="lineno">440</span><span class="comment" id="4797952">//&nbsp;digits&nbsp;of&nbsp;a&nbsp;number,&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`3.14`.</span><br>
<span class="lineno"></span><span class="keyword" id="4798005">func</span>&nbsp;<span class="ident" id="4798010">stateDot0</span><span class="op" id="4798019">(</span><span class="ident" id="4798020">s</span>&nbsp;<span class="op" id="4798022">*</span><span class="ident" id="4798023"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4798030">,</span>&nbsp;<span class="ident" id="4798032">c</span>&nbsp;<span class="builtintype" id="4798034">int</span><span class="op" id="4798037">)</span>&nbsp;<span class="builtintype" id="4798039">int</span>&nbsp;<span class="op" id="4798043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798046">if</span>&nbsp;<span class="string" id="4798049">&#39;0&#39;</span>&nbsp;<span class="op" id="4798053">&lt;=</span>&nbsp;<span class="ident" id="4798056"><a href="/encoding/json/scanner.go.html#4798032">c</a></span>&nbsp;<span class="op" id="4798058">&amp;&amp;</span>&nbsp;<span class="ident" id="4798061"><a href="/encoding/json/scanner.go.html#4798032">c</a></span>&nbsp;<span class="op" id="4798063">&lt;=</span>&nbsp;<span class="string" id="4798066">&#39;9&#39;</span>&nbsp;<span class="op" id="4798070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798074"><a href="/encoding/json/scanner.go.html#4798020">s</a></span><span class="op" id="4798075">.</span><span class="ident" id="4798076">step</span>&nbsp;<span class="op" id="4798081">=</span>&nbsp;<span class="ident" id="4798083"><a href="/encoding/json/scanner.go.html#4798010">stateDot0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798095">return</span>&nbsp;<span class="ident" id="4798102"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798119">if</span>&nbsp;<span class="ident" id="4798122"><a href="/encoding/json/scanner.go.html#4798032">c</a></span>&nbsp;<span class="op" id="4798124">==</span>&nbsp;<span class="string" id="4798127">&#39;e&#39;</span>&nbsp;<span class="op" id="4798131">||</span>&nbsp;<span class="ident" id="4798134"><a href="/encoding/json/scanner.go.html#4798032">c</a></span>&nbsp;<span class="op" id="4798136">==</span>&nbsp;<span class="string" id="4798139">&#39;E&#39;</span>&nbsp;<span class="op" id="4798143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798147"><a href="/encoding/json/scanner.go.html#4798020">s</a></span><span class="op" id="4798148">.</span><span class="ident" id="4798149">step</span>&nbsp;<span class="op" id="4798154">=</span>&nbsp;<span class="ident" id="4798156"><a href="/encoding/json/scanner.go.html#4798338">stateE</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798165">return</span>&nbsp;<span class="ident" id="4798172"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798186">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798189">return</span>&nbsp;<span class="ident" id="4798196"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><span class="op" id="4798209">(</span><span class="ident" id="4798210"><a href="/encoding/json/scanner.go.html#4798020">s</a></span><span class="op" id="4798211">,</span>&nbsp;<span class="ident" id="4798213"><a href="/encoding/json/scanner.go.html#4798032">c</a></span><span class="op" id="4798214">)</span><br>
<span class="lineno"></span><span class="op" id="4798216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4798219">//&nbsp;stateE&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;mantissa&nbsp;and&nbsp;e&nbsp;in&nbsp;a&nbsp;number,</span><br>
<span class="lineno"></span><span class="comment" id="4798288">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`314e`&nbsp;or&nbsp;`0.314e`.</span><br>
<span class="lineno">455</span><span class="keyword" id="4798333">func</span>&nbsp;<span class="ident" id="4798338">stateE</span><span class="op" id="4798344">(</span><span class="ident" id="4798345">s</span>&nbsp;<span class="op" id="4798347">*</span><span class="ident" id="4798348"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4798355">,</span>&nbsp;<span class="ident" id="4798357">c</span>&nbsp;<span class="builtintype" id="4798359">int</span><span class="op" id="4798362">)</span>&nbsp;<span class="builtintype" id="4798364">int</span>&nbsp;<span class="op" id="4798368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798371">if</span>&nbsp;<span class="ident" id="4798374"><a href="/encoding/json/scanner.go.html#4798357">c</a></span>&nbsp;<span class="op" id="4798376">==</span>&nbsp;<span class="string" id="4798379">&#39;+&#39;</span>&nbsp;<span class="op" id="4798383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798387"><a href="/encoding/json/scanner.go.html#4798345">s</a></span><span class="op" id="4798388">.</span><span class="ident" id="4798389">step</span>&nbsp;<span class="op" id="4798394">=</span>&nbsp;<span class="ident" id="4798396"><a href="/encoding/json/scanner.go.html#4798654">stateESign</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798409">return</span>&nbsp;<span class="ident" id="4798416"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798430">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798433">if</span>&nbsp;<span class="ident" id="4798436"><a href="/encoding/json/scanner.go.html#4798357">c</a></span>&nbsp;<span class="op" id="4798438">==</span>&nbsp;<span class="string" id="4798441">&#39;-&#39;</span>&nbsp;<span class="op" id="4798445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798449"><a href="/encoding/json/scanner.go.html#4798345">s</a></span><span class="op" id="4798450">.</span><span class="ident" id="4798451">step</span>&nbsp;<span class="op" id="4798456">=</span>&nbsp;<span class="ident" id="4798458"><a href="/encoding/json/scanner.go.html#4798654">stateESign</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798471">return</span>&nbsp;<span class="ident" id="4798478"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798495">return</span>&nbsp;<span class="ident" id="4798502"><a href="/encoding/json/scanner.go.html#4798654">stateESign</a></span><span class="op" id="4798512">(</span><span class="ident" id="4798513"><a href="/encoding/json/scanner.go.html#4798345">s</a></span><span class="op" id="4798514">,</span>&nbsp;<span class="ident" id="4798516"><a href="/encoding/json/scanner.go.html#4798357">c</a></span><span class="op" id="4798517">)</span><br>
<span class="lineno">465</span><span class="op" id="4798519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4798522">//&nbsp;stateESign&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;mantissa,&nbsp;e,&nbsp;and&nbsp;sign&nbsp;in&nbsp;a&nbsp;number,</span><br>
<span class="lineno"></span><span class="comment" id="4798602">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`314e-`&nbsp;or&nbsp;`0.314e+`.</span><br>
<span class="lineno"></span><span class="keyword" id="4798649">func</span>&nbsp;<span class="ident" id="4798654">stateESign</span><span class="op" id="4798664">(</span><span class="ident" id="4798665">s</span>&nbsp;<span class="op" id="4798667">*</span><span class="ident" id="4798668"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4798675">,</span>&nbsp;<span class="ident" id="4798677">c</span>&nbsp;<span class="builtintype" id="4798679">int</span><span class="op" id="4798682">)</span>&nbsp;<span class="builtintype" id="4798684">int</span>&nbsp;<span class="op" id="4798688">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798691">if</span>&nbsp;<span class="string" id="4798694">&#39;0&#39;</span>&nbsp;<span class="op" id="4798698">&lt;=</span>&nbsp;<span class="ident" id="4798701"><a href="/encoding/json/scanner.go.html#4798677">c</a></span>&nbsp;<span class="op" id="4798703">&amp;&amp;</span>&nbsp;<span class="ident" id="4798706"><a href="/encoding/json/scanner.go.html#4798677">c</a></span>&nbsp;<span class="op" id="4798708">&lt;=</span>&nbsp;<span class="string" id="4798711">&#39;9&#39;</span>&nbsp;<span class="op" id="4798715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798719"><a href="/encoding/json/scanner.go.html#4798665">s</a></span><span class="op" id="4798720">.</span><span class="ident" id="4798721">step</span>&nbsp;<span class="op" id="4798726">=</span>&nbsp;<span class="ident" id="4798728"><a href="/encoding/json/scanner.go.html#4799008">stateE0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798738">return</span>&nbsp;<span class="ident" id="4798745"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798762">return</span>&nbsp;<span class="ident" id="4798769"><a href="/encoding/json/scanner.go.html#4798665">s</a></span><span class="op" id="4798770">.</span><span class="builtintype" id="4798771">error</span><span class="op" id="4798776">(</span><span class="ident" id="4798777"><a href="/encoding/json/scanner.go.html#4798677">c</a></span><span class="op" id="4798778">,</span>&nbsp;<span class="string" id="4798780">&#34;in&nbsp;exponent&nbsp;of&nbsp;numeric&nbsp;literal&#34;</span><span class="op" id="4798812">)</span><br>
<span class="lineno">475</span><span class="op" id="4798814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4798817">//&nbsp;stateE0&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;mantissa,&nbsp;e,&nbsp;optional&nbsp;sign,</span><br>
<span class="lineno"></span><span class="comment" id="4798887">//&nbsp;and&nbsp;at&nbsp;least&nbsp;one&nbsp;digit&nbsp;of&nbsp;the&nbsp;exponent&nbsp;in&nbsp;a&nbsp;number,</span><br>
<span class="lineno"></span><span class="comment" id="4798942">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`314e-2`&nbsp;or&nbsp;`0.314e+1`&nbsp;or&nbsp;`3.14e0`.</span><br>
<span class="lineno">480</span><span class="keyword" id="4799003">func</span>&nbsp;<span class="ident" id="4799008">stateE0</span><span class="op" id="4799015">(</span><span class="ident" id="4799016">s</span>&nbsp;<span class="op" id="4799018">*</span><span class="ident" id="4799019"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4799026">,</span>&nbsp;<span class="ident" id="4799028">c</span>&nbsp;<span class="builtintype" id="4799030">int</span><span class="op" id="4799033">)</span>&nbsp;<span class="builtintype" id="4799035">int</span>&nbsp;<span class="op" id="4799039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799042">if</span>&nbsp;<span class="string" id="4799045">&#39;0&#39;</span>&nbsp;<span class="op" id="4799049">&lt;=</span>&nbsp;<span class="ident" id="4799052"><a href="/encoding/json/scanner.go.html#4799028">c</a></span>&nbsp;<span class="op" id="4799054">&amp;&amp;</span>&nbsp;<span class="ident" id="4799057"><a href="/encoding/json/scanner.go.html#4799028">c</a></span>&nbsp;<span class="op" id="4799059">&lt;=</span>&nbsp;<span class="string" id="4799062">&#39;9&#39;</span>&nbsp;<span class="op" id="4799066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799070"><a href="/encoding/json/scanner.go.html#4799016">s</a></span><span class="op" id="4799071">.</span><span class="ident" id="4799072">step</span>&nbsp;<span class="op" id="4799077">=</span>&nbsp;<span class="ident" id="4799079"><a href="/encoding/json/scanner.go.html#4799008">stateE0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799089">return</span>&nbsp;<span class="ident" id="4799096"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4799110">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799113">return</span>&nbsp;<span class="ident" id="4799120"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><span class="op" id="4799133">(</span><span class="ident" id="4799134"><a href="/encoding/json/scanner.go.html#4799016">s</a></span><span class="op" id="4799135">,</span>&nbsp;<span class="ident" id="4799137"><a href="/encoding/json/scanner.go.html#4799028">c</a></span><span class="op" id="4799138">)</span><br>
<span class="lineno"></span><span class="op" id="4799140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4799143">//&nbsp;stateT&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`t`.</span><br>
<span class="lineno"></span><span class="keyword" id="4799185">func</span>&nbsp;<span class="ident" id="4799190">stateT</span><span class="op" id="4799196">(</span><span class="ident" id="4799197">s</span>&nbsp;<span class="op" id="4799199">*</span><span class="ident" id="4799200"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4799207">,</span>&nbsp;<span class="ident" id="4799209">c</span>&nbsp;<span class="builtintype" id="4799211">int</span><span class="op" id="4799214">)</span>&nbsp;<span class="builtintype" id="4799216">int</span>&nbsp;<span class="op" id="4799220">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799223">if</span>&nbsp;<span class="ident" id="4799226"><a href="/encoding/json/scanner.go.html#4799209">c</a></span>&nbsp;<span class="op" id="4799228">==</span>&nbsp;<span class="string" id="4799231">&#39;r&#39;</span>&nbsp;<span class="op" id="4799235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799239"><a href="/encoding/json/scanner.go.html#4799197">s</a></span><span class="op" id="4799240">.</span><span class="ident" id="4799241">step</span>&nbsp;<span class="op" id="4799246">=</span>&nbsp;<span class="ident" id="4799248"><a href="/encoding/json/scanner.go.html#4799387">stateTr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799258">return</span>&nbsp;<span class="ident" id="4799265"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4799279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799282">return</span>&nbsp;<span class="ident" id="4799289"><a href="/encoding/json/scanner.go.html#4799197">s</a></span><span class="op" id="4799290">.</span><span class="builtintype" id="4799291">error</span><span class="op" id="4799296">(</span><span class="ident" id="4799297"><a href="/encoding/json/scanner.go.html#4799209">c</a></span><span class="op" id="4799298">,</span>&nbsp;<span class="string" id="4799300">&#34;in&nbsp;literal&nbsp;true&nbsp;(expecting&nbsp;&#39;r&#39;)&#34;</span><span class="op" id="4799333">)</span><br>
<span class="lineno">495</span><span class="op" id="4799335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4799338">//&nbsp;stateTr&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`tr`.</span><br>
<span class="lineno"></span><span class="keyword" id="4799382">func</span>&nbsp;<span class="ident" id="4799387">stateTr</span><span class="op" id="4799394">(</span><span class="ident" id="4799395">s</span>&nbsp;<span class="op" id="4799397">*</span><span class="ident" id="4799398"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4799405">,</span>&nbsp;<span class="ident" id="4799407">c</span>&nbsp;<span class="builtintype" id="4799409">int</span><span class="op" id="4799412">)</span>&nbsp;<span class="builtintype" id="4799414">int</span>&nbsp;<span class="op" id="4799418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799421">if</span>&nbsp;<span class="ident" id="4799424"><a href="/encoding/json/scanner.go.html#4799407">c</a></span>&nbsp;<span class="op" id="4799426">==</span>&nbsp;<span class="string" id="4799429">&#39;u&#39;</span>&nbsp;<span class="op" id="4799433">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799437"><a href="/encoding/json/scanner.go.html#4799395">s</a></span><span class="op" id="4799438">.</span><span class="ident" id="4799439">step</span>&nbsp;<span class="op" id="4799444">=</span>&nbsp;<span class="ident" id="4799446"><a href="/encoding/json/scanner.go.html#4799588">stateTru</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799457">return</span>&nbsp;<span class="ident" id="4799464"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4799478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799481">return</span>&nbsp;<span class="ident" id="4799488"><a href="/encoding/json/scanner.go.html#4799395">s</a></span><span class="op" id="4799489">.</span><span class="builtintype" id="4799490">error</span><span class="op" id="4799495">(</span><span class="ident" id="4799496"><a href="/encoding/json/scanner.go.html#4799407">c</a></span><span class="op" id="4799497">,</span>&nbsp;<span class="string" id="4799499">&#34;in&nbsp;literal&nbsp;true&nbsp;(expecting&nbsp;&#39;u&#39;)&#34;</span><span class="op" id="4799532">)</span><br>
<span class="lineno"></span><span class="op" id="4799534">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="comment" id="4799537">//&nbsp;stateTru&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`tru`.</span><br>
<span class="lineno"></span><span class="keyword" id="4799583">func</span>&nbsp;<span class="ident" id="4799588">stateTru</span><span class="op" id="4799596">(</span><span class="ident" id="4799597">s</span>&nbsp;<span class="op" id="4799599">*</span><span class="ident" id="4799600"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4799607">,</span>&nbsp;<span class="ident" id="4799609">c</span>&nbsp;<span class="builtintype" id="4799611">int</span><span class="op" id="4799614">)</span>&nbsp;<span class="builtintype" id="4799616">int</span>&nbsp;<span class="op" id="4799620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799623">if</span>&nbsp;<span class="ident" id="4799626"><a href="/encoding/json/scanner.go.html#4799609">c</a></span>&nbsp;<span class="op" id="4799628">==</span>&nbsp;<span class="string" id="4799631">&#39;e&#39;</span>&nbsp;<span class="op" id="4799635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799639"><a href="/encoding/json/scanner.go.html#4799597">s</a></span><span class="op" id="4799640">.</span><span class="ident" id="4799641">step</span>&nbsp;<span class="op" id="4799646">=</span>&nbsp;<span class="ident" id="4799648"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799664">return</span>&nbsp;<span class="ident" id="4799671"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4799685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799688">return</span>&nbsp;<span class="ident" id="4799695"><a href="/encoding/json/scanner.go.html#4799597">s</a></span><span class="op" id="4799696">.</span><span class="builtintype" id="4799697">error</span><span class="op" id="4799702">(</span><span class="ident" id="4799703"><a href="/encoding/json/scanner.go.html#4799609">c</a></span><span class="op" id="4799704">,</span>&nbsp;<span class="string" id="4799706">&#34;in&nbsp;literal&nbsp;true&nbsp;(expecting&nbsp;&#39;e&#39;)&#34;</span><span class="op" id="4799739">)</span><br>
<span class="lineno"></span><span class="op" id="4799741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="4799744">//&nbsp;stateF&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`f`.</span><br>
<span class="lineno"></span><span class="keyword" id="4799786">func</span>&nbsp;<span class="ident" id="4799791">stateF</span><span class="op" id="4799797">(</span><span class="ident" id="4799798">s</span>&nbsp;<span class="op" id="4799800">*</span><span class="ident" id="4799801"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4799808">,</span>&nbsp;<span class="ident" id="4799810">c</span>&nbsp;<span class="builtintype" id="4799812">int</span><span class="op" id="4799815">)</span>&nbsp;<span class="builtintype" id="4799817">int</span>&nbsp;<span class="op" id="4799821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799824">if</span>&nbsp;<span class="ident" id="4799827"><a href="/encoding/json/scanner.go.html#4799810">c</a></span>&nbsp;<span class="op" id="4799829">==</span>&nbsp;<span class="string" id="4799832">&#39;a&#39;</span>&nbsp;<span class="op" id="4799836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799840"><a href="/encoding/json/scanner.go.html#4799798">s</a></span><span class="op" id="4799841">.</span><span class="ident" id="4799842">step</span>&nbsp;<span class="op" id="4799847">=</span>&nbsp;<span class="ident" id="4799849"><a href="/encoding/json/scanner.go.html#4799989">stateFa</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799859">return</span>&nbsp;<span class="ident" id="4799866"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4799880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799883">return</span>&nbsp;<span class="ident" id="4799890"><a href="/encoding/json/scanner.go.html#4799798">s</a></span><span class="op" id="4799891">.</span><span class="builtintype" id="4799892">error</span><span class="op" id="4799897">(</span><span class="ident" id="4799898"><a href="/encoding/json/scanner.go.html#4799810">c</a></span><span class="op" id="4799899">,</span>&nbsp;<span class="string" id="4799901">&#34;in&nbsp;literal&nbsp;false&nbsp;(expecting&nbsp;&#39;a&#39;)&#34;</span><span class="op" id="4799935">)</span><br>
<span class="lineno"></span><span class="op" id="4799937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4799940">//&nbsp;stateFa&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`fa`.</span><br>
<span class="lineno">525</span><span class="keyword" id="4799984">func</span>&nbsp;<span class="ident" id="4799989">stateFa</span><span class="op" id="4799996">(</span><span class="ident" id="4799997">s</span>&nbsp;<span class="op" id="4799999">*</span><span class="ident" id="4800000"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4800007">,</span>&nbsp;<span class="ident" id="4800009">c</span>&nbsp;<span class="builtintype" id="4800011">int</span><span class="op" id="4800014">)</span>&nbsp;<span class="builtintype" id="4800016">int</span>&nbsp;<span class="op" id="4800020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800023">if</span>&nbsp;<span class="ident" id="4800026"><a href="/encoding/json/scanner.go.html#4800009">c</a></span>&nbsp;<span class="op" id="4800028">==</span>&nbsp;<span class="string" id="4800031">&#39;l&#39;</span>&nbsp;<span class="op" id="4800035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800039"><a href="/encoding/json/scanner.go.html#4799997">s</a></span><span class="op" id="4800040">.</span><span class="ident" id="4800041">step</span>&nbsp;<span class="op" id="4800046">=</span>&nbsp;<span class="ident" id="4800048"><a href="/encoding/json/scanner.go.html#4800191">stateFal</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800059">return</span>&nbsp;<span class="ident" id="4800066"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4800080">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800083">return</span>&nbsp;<span class="ident" id="4800090"><a href="/encoding/json/scanner.go.html#4799997">s</a></span><span class="op" id="4800091">.</span><span class="builtintype" id="4800092">error</span><span class="op" id="4800097">(</span><span class="ident" id="4800098"><a href="/encoding/json/scanner.go.html#4800009">c</a></span><span class="op" id="4800099">,</span>&nbsp;<span class="string" id="4800101">&#34;in&nbsp;literal&nbsp;false&nbsp;(expecting&nbsp;&#39;l&#39;)&#34;</span><span class="op" id="4800135">)</span><br>
<span class="lineno"></span><span class="op" id="4800137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4800140">//&nbsp;stateFal&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`fal`.</span><br>
<span class="lineno"></span><span class="keyword" id="4800186">func</span>&nbsp;<span class="ident" id="4800191">stateFal</span><span class="op" id="4800199">(</span><span class="ident" id="4800200">s</span>&nbsp;<span class="op" id="4800202">*</span><span class="ident" id="4800203"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4800210">,</span>&nbsp;<span class="ident" id="4800212">c</span>&nbsp;<span class="builtintype" id="4800214">int</span><span class="op" id="4800217">)</span>&nbsp;<span class="builtintype" id="4800219">int</span>&nbsp;<span class="op" id="4800223">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800226">if</span>&nbsp;<span class="ident" id="4800229"><a href="/encoding/json/scanner.go.html#4800212">c</a></span>&nbsp;<span class="op" id="4800231">==</span>&nbsp;<span class="string" id="4800234">&#39;s&#39;</span>&nbsp;<span class="op" id="4800238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800242"><a href="/encoding/json/scanner.go.html#4800200">s</a></span><span class="op" id="4800243">.</span><span class="ident" id="4800244">step</span>&nbsp;<span class="op" id="4800249">=</span>&nbsp;<span class="ident" id="4800251"><a href="/encoding/json/scanner.go.html#4800397">stateFals</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800263">return</span>&nbsp;<span class="ident" id="4800270"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4800284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800287">return</span>&nbsp;<span class="ident" id="4800294"><a href="/encoding/json/scanner.go.html#4800200">s</a></span><span class="op" id="4800295">.</span><span class="builtintype" id="4800296">error</span><span class="op" id="4800301">(</span><span class="ident" id="4800302"><a href="/encoding/json/scanner.go.html#4800212">c</a></span><span class="op" id="4800303">,</span>&nbsp;<span class="string" id="4800305">&#34;in&nbsp;literal&nbsp;false&nbsp;(expecting&nbsp;&#39;s&#39;)&#34;</span><span class="op" id="4800339">)</span><br>
<span class="lineno">540</span><span class="op" id="4800341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4800344">//&nbsp;stateFals&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`fals`.</span><br>
<span class="lineno"></span><span class="keyword" id="4800392">func</span>&nbsp;<span class="ident" id="4800397">stateFals</span><span class="op" id="4800406">(</span><span class="ident" id="4800407">s</span>&nbsp;<span class="op" id="4800409">*</span><span class="ident" id="4800410"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4800417">,</span>&nbsp;<span class="ident" id="4800419">c</span>&nbsp;<span class="builtintype" id="4800421">int</span><span class="op" id="4800424">)</span>&nbsp;<span class="builtintype" id="4800426">int</span>&nbsp;<span class="op" id="4800430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800433">if</span>&nbsp;<span class="ident" id="4800436"><a href="/encoding/json/scanner.go.html#4800419">c</a></span>&nbsp;<span class="op" id="4800438">==</span>&nbsp;<span class="string" id="4800441">&#39;e&#39;</span>&nbsp;<span class="op" id="4800445">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800449"><a href="/encoding/json/scanner.go.html#4800407">s</a></span><span class="op" id="4800450">.</span><span class="ident" id="4800451">step</span>&nbsp;<span class="op" id="4800456">=</span>&nbsp;<span class="ident" id="4800458"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800474">return</span>&nbsp;<span class="ident" id="4800481"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4800495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800498">return</span>&nbsp;<span class="ident" id="4800505"><a href="/encoding/json/scanner.go.html#4800407">s</a></span><span class="op" id="4800506">.</span><span class="builtintype" id="4800507">error</span><span class="op" id="4800512">(</span><span class="ident" id="4800513"><a href="/encoding/json/scanner.go.html#4800419">c</a></span><span class="op" id="4800514">,</span>&nbsp;<span class="string" id="4800516">&#34;in&nbsp;literal&nbsp;false&nbsp;(expecting&nbsp;&#39;e&#39;)&#34;</span><span class="op" id="4800550">)</span><br>
<span class="lineno"></span><span class="op" id="4800552">}</span><br>
<span class="lineno">550</span><br>
<span class="lineno"></span><span class="comment" id="4800555">//&nbsp;stateN&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`n`.</span><br>
<span class="lineno"></span><span class="keyword" id="4800597">func</span>&nbsp;<span class="ident" id="4800602">stateN</span><span class="op" id="4800608">(</span><span class="ident" id="4800609">s</span>&nbsp;<span class="op" id="4800611">*</span><span class="ident" id="4800612"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4800619">,</span>&nbsp;<span class="ident" id="4800621">c</span>&nbsp;<span class="builtintype" id="4800623">int</span><span class="op" id="4800626">)</span>&nbsp;<span class="builtintype" id="4800628">int</span>&nbsp;<span class="op" id="4800632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800635">if</span>&nbsp;<span class="ident" id="4800638"><a href="/encoding/json/scanner.go.html#4800621">c</a></span>&nbsp;<span class="op" id="4800640">==</span>&nbsp;<span class="string" id="4800643">&#39;u&#39;</span>&nbsp;<span class="op" id="4800647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800651"><a href="/encoding/json/scanner.go.html#4800609">s</a></span><span class="op" id="4800652">.</span><span class="ident" id="4800653">step</span>&nbsp;<span class="op" id="4800658">=</span>&nbsp;<span class="ident" id="4800660"><a href="/encoding/json/scanner.go.html#4800799">stateNu</a></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800670">return</span>&nbsp;<span class="ident" id="4800677"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4800691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800694">return</span>&nbsp;<span class="ident" id="4800701"><a href="/encoding/json/scanner.go.html#4800609">s</a></span><span class="op" id="4800702">.</span><span class="builtintype" id="4800703">error</span><span class="op" id="4800708">(</span><span class="ident" id="4800709"><a href="/encoding/json/scanner.go.html#4800621">c</a></span><span class="op" id="4800710">,</span>&nbsp;<span class="string" id="4800712">&#34;in&nbsp;literal&nbsp;null&nbsp;(expecting&nbsp;&#39;u&#39;)&#34;</span><span class="op" id="4800745">)</span><br>
<span class="lineno"></span><span class="op" id="4800747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span><span class="comment" id="4800750">//&nbsp;stateNu&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`nu`.</span><br>
<span class="lineno"></span><span class="keyword" id="4800794">func</span>&nbsp;<span class="ident" id="4800799">stateNu</span><span class="op" id="4800806">(</span><span class="ident" id="4800807">s</span>&nbsp;<span class="op" id="4800809">*</span><span class="ident" id="4800810"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4800817">,</span>&nbsp;<span class="ident" id="4800819">c</span>&nbsp;<span class="builtintype" id="4800821">int</span><span class="op" id="4800824">)</span>&nbsp;<span class="builtintype" id="4800826">int</span>&nbsp;<span class="op" id="4800830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800833">if</span>&nbsp;<span class="ident" id="4800836"><a href="/encoding/json/scanner.go.html#4800819">c</a></span>&nbsp;<span class="op" id="4800838">==</span>&nbsp;<span class="string" id="4800841">&#39;l&#39;</span>&nbsp;<span class="op" id="4800845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800849"><a href="/encoding/json/scanner.go.html#4800807">s</a></span><span class="op" id="4800850">.</span><span class="ident" id="4800851">step</span>&nbsp;<span class="op" id="4800856">=</span>&nbsp;<span class="ident" id="4800858"><a href="/encoding/json/scanner.go.html#4801000">stateNul</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800869">return</span>&nbsp;<span class="ident" id="4800876"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4800890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4800893">return</span>&nbsp;<span class="ident" id="4800900"><a href="/encoding/json/scanner.go.html#4800807">s</a></span><span class="op" id="4800901">.</span><span class="builtintype" id="4800902">error</span><span class="op" id="4800907">(</span><span class="ident" id="4800908"><a href="/encoding/json/scanner.go.html#4800819">c</a></span><span class="op" id="4800909">,</span>&nbsp;<span class="string" id="4800911">&#34;in&nbsp;literal&nbsp;null&nbsp;(expecting&nbsp;&#39;l&#39;)&#34;</span><span class="op" id="4800944">)</span><br>
<span class="lineno"></span><span class="op" id="4800946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4800949">//&nbsp;stateNul&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`nul`.</span><br>
<span class="lineno">570</span><span class="keyword" id="4800995">func</span>&nbsp;<span class="ident" id="4801000">stateNul</span><span class="op" id="4801008">(</span><span class="ident" id="4801009">s</span>&nbsp;<span class="op" id="4801011">*</span><span class="ident" id="4801012"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4801019">,</span>&nbsp;<span class="ident" id="4801021">c</span>&nbsp;<span class="builtintype" id="4801023">int</span><span class="op" id="4801026">)</span>&nbsp;<span class="builtintype" id="4801028">int</span>&nbsp;<span class="op" id="4801032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801035">if</span>&nbsp;<span class="ident" id="4801038"><a href="/encoding/json/scanner.go.html#4801021">c</a></span>&nbsp;<span class="op" id="4801040">==</span>&nbsp;<span class="string" id="4801043">&#39;l&#39;</span>&nbsp;<span class="op" id="4801047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801051"><a href="/encoding/json/scanner.go.html#4801009">s</a></span><span class="op" id="4801052">.</span><span class="ident" id="4801053">step</span>&nbsp;<span class="op" id="4801058">=</span>&nbsp;<span class="ident" id="4801060"><a href="/encoding/json/scanner.go.html#4793469">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801076">return</span>&nbsp;<span class="ident" id="4801083"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4801097">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801100">return</span>&nbsp;<span class="ident" id="4801107"><a href="/encoding/json/scanner.go.html#4801009">s</a></span><span class="op" id="4801108">.</span><span class="builtintype" id="4801109">error</span><span class="op" id="4801114">(</span><span class="ident" id="4801115"><a href="/encoding/json/scanner.go.html#4801021">c</a></span><span class="op" id="4801116">,</span>&nbsp;<span class="string" id="4801118">&#34;in&nbsp;literal&nbsp;null&nbsp;(expecting&nbsp;&#39;l&#39;)&#34;</span><span class="op" id="4801151">)</span><br>
<span class="lineno"></span><span class="op" id="4801153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4801156">//&nbsp;stateError&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reaching&nbsp;a&nbsp;syntax&nbsp;error,</span><br>
<span class="lineno"></span><span class="comment" id="4801214">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`[1}`&nbsp;or&nbsp;`5.1.2`.</span><br>
<span class="lineno">580</span><span class="keyword" id="4801257">func</span>&nbsp;<span class="ident" id="4801262">stateError</span><span class="op" id="4801272">(</span><span class="ident" id="4801273">s</span>&nbsp;<span class="op" id="4801275">*</span><span class="ident" id="4801276"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4801283">,</span>&nbsp;<span class="ident" id="4801285">c</span>&nbsp;<span class="builtintype" id="4801287">int</span><span class="op" id="4801290">)</span>&nbsp;<span class="builtintype" id="4801292">int</span>&nbsp;<span class="op" id="4801296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801299">return</span>&nbsp;<span class="ident" id="4801306"><a href="/encoding/json/scanner.go.html#4789894">scanError</a></span><br>
<span class="lineno"></span><span class="op" id="4801316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4801319">//&nbsp;error&nbsp;records&nbsp;an&nbsp;error&nbsp;and&nbsp;switches&nbsp;to&nbsp;the&nbsp;error&nbsp;state.</span><br>
<span class="lineno">585</span><span class="keyword" id="4801378">func</span>&nbsp;<span class="op" id="4801383">(</span><span class="ident" id="4801384">s</span>&nbsp;<span class="op" id="4801386">*</span><span class="ident" id="4801387"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4801394">)</span>&nbsp;<span class="builtintype" id="4801396">error</span><span class="op" id="4801401">(</span><span class="ident" id="4801402">c</span>&nbsp;<span class="builtintype" id="4801404">int</span><span class="op" id="4801407">,</span>&nbsp;<span class="ident" id="4801409">context</span>&nbsp;<span class="builtintype" id="4801417">string</span><span class="op" id="4801423">)</span>&nbsp;<span class="builtintype" id="4801425">int</span>&nbsp;<span class="op" id="4801429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801432"><a href="/encoding/json/scanner.go.html#4801384">s</a></span><span class="op" id="4801433">.</span><span class="ident" id="4801434">step</span>&nbsp;<span class="op" id="4801439">=</span>&nbsp;<span class="ident" id="4801441"><a href="/encoding/json/scanner.go.html#4801262">stateError</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801453"><a href="/encoding/json/scanner.go.html#4801384">s</a></span><span class="op" id="4801454">.</span><span class="ident" id="4801455">err</span>&nbsp;<span class="op" id="4801459">=</span>&nbsp;<span class="op" id="4801461">&amp;</span><span class="ident" id="4801462"><a href="/encoding/json/scanner.go.html#4787271">SyntaxError</a></span><span class="op" id="4801473">{</span><span class="string" id="4801474">&#34;invalid&nbsp;character&nbsp;&#34;</span>&nbsp;<span class="op" id="4801495">+</span>&nbsp;<span class="ident" id="4801497"><a href="/encoding/json/scanner.go.html#4801615">quoteChar</a></span><span class="op" id="4801506">(</span><span class="ident" id="4801507"><a href="/encoding/json/scanner.go.html#4801402">c</a></span><span class="op" id="4801508">)</span>&nbsp;<span class="op" id="4801510">+</span>&nbsp;<span class="string" id="4801512">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="4801516">+</span>&nbsp;<span class="ident" id="4801518"><a href="/encoding/json/scanner.go.html#4801409">context</a></span><span class="op" id="4801525">,</span>&nbsp;<span class="ident" id="4801527"><a href="/encoding/json/scanner.go.html#4801384">s</a></span><span class="op" id="4801528">.</span><span class="ident" id="4801529">bytes</span><span class="op" id="4801534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801537">return</span>&nbsp;<span class="ident" id="4801544"><a href="/encoding/json/scanner.go.html#4789894">scanError</a></span><br>
<span class="lineno"></span><span class="op" id="4801554">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="4801557">//&nbsp;quoteChar&nbsp;formats&nbsp;c&nbsp;as&nbsp;a&nbsp;quoted&nbsp;character&nbsp;literal</span><br>
<span class="lineno"></span><span class="keyword" id="4801610">func</span>&nbsp;<span class="ident" id="4801615">quoteChar</span><span class="op" id="4801624">(</span><span class="ident" id="4801625">c</span>&nbsp;<span class="builtintype" id="4801627">int</span><span class="op" id="4801630">)</span>&nbsp;<span class="builtintype" id="4801632">string</span>&nbsp;<span class="op" id="4801639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4801642">//&nbsp;special&nbsp;cases&nbsp;-&nbsp;different&nbsp;from&nbsp;quoted&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801692">if</span>&nbsp;<span class="ident" id="4801695"><a href="/encoding/json/scanner.go.html#4801625">c</a></span>&nbsp;<span class="op" id="4801697">==</span>&nbsp;<span class="string" id="4801700">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="4801705">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801709">return</span>&nbsp;<span class="string" id="4801716">`&#39;\&#39;&#39;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4801724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801727">if</span>&nbsp;<span class="ident" id="4801730"><a href="/encoding/json/scanner.go.html#4801625">c</a></span>&nbsp;<span class="op" id="4801732">==</span>&nbsp;<span class="string" id="4801735">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="4801739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801743">return</span>&nbsp;<span class="string" id="4801750">`&#39;&#34;&#39;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4801757">}</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4801761">//&nbsp;use&nbsp;quoted&nbsp;string&nbsp;with&nbsp;different&nbsp;quotation&nbsp;marks</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801814">s</span>&nbsp;<span class="op" id="4801816">:=</span>&nbsp;<span class="ident" id="4801819"><a href="/encoding/json/scanner.go.html#4786246">strconv</a></span><span class="op" id="4801826">.</span><span class="ident" id="4801827">Quote</span><span class="op" id="4801832">(</span><span class="builtintype" id="4801833">string</span><span class="op" id="4801839">(</span><span class="ident" id="4801840"><a href="/encoding/json/scanner.go.html#4801625">c</a></span><span class="op" id="4801841">)</span><span class="op" id="4801842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4801845">return</span>&nbsp;<span class="string" id="4801852">&#34;&#39;&#34;</span>&nbsp;<span class="op" id="4801856">+</span>&nbsp;<span class="ident" id="4801858"><a href="/encoding/json/scanner.go.html#4801814">s</a></span><span class="op" id="4801859">[</span><span class="num" id="4801860">1</span><span class="op" id="4801861">:</span><span class="builtinfunc" id="4801862">len</span><span class="op" id="4801865">(</span><span class="ident" id="4801866"><a href="/encoding/json/scanner.go.html#4801814">s</a></span><span class="op" id="4801867">)</span><span class="op" id="4801868">-</span><span class="num" id="4801869">1</span><span class="op" id="4801870">]</span>&nbsp;<span class="op" id="4801872">+</span>&nbsp;<span class="string" id="4801874">&#34;&#39;&#34;</span><br>
<span class="lineno"></span><span class="op" id="4801878">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span><span class="comment" id="4801881">//&nbsp;undo&nbsp;causes&nbsp;the&nbsp;scanner&nbsp;to&nbsp;return&nbsp;scanCode&nbsp;from&nbsp;the&nbsp;next&nbsp;state&nbsp;transition.</span><br>
<span class="lineno"></span><span class="comment" id="4801959">//&nbsp;This&nbsp;gives&nbsp;callers&nbsp;a&nbsp;simple&nbsp;1-byte&nbsp;undo&nbsp;mechanism.</span><br>
<span class="lineno"></span><span class="keyword" id="4802013">func</span>&nbsp;<span class="op" id="4802018">(</span><span class="ident" id="4802019">s</span>&nbsp;<span class="op" id="4802021">*</span><span class="ident" id="4802022"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4802029">)</span>&nbsp;<span class="ident" id="4802031">undo</span><span class="op" id="4802035">(</span><span class="ident" id="4802036">scanCode</span>&nbsp;<span class="builtintype" id="4802045">int</span><span class="op" id="4802048">)</span>&nbsp;<span class="op" id="4802050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802053">if</span>&nbsp;<span class="ident" id="4802056"><a href="/encoding/json/scanner.go.html#4802019">s</a></span><span class="op" id="4802057">.</span><span class="ident" id="4802058">redo</span>&nbsp;<span class="op" id="4802063">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4802067">panic</span><span class="op" id="4802072">(</span><span class="string" id="4802073">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;scanner&#34;</span><span class="op" id="4802103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4802109"><a href="/encoding/json/scanner.go.html#4802019">s</a></span><span class="op" id="4802110">.</span><span class="ident" id="4802111">redoCode</span>&nbsp;<span class="op" id="4802120">=</span>&nbsp;<span class="ident" id="4802122"><a href="/encoding/json/scanner.go.html#4802036">scanCode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4802132"><a href="/encoding/json/scanner.go.html#4802019">s</a></span><span class="op" id="4802133">.</span><span class="ident" id="4802134">redoState</span>&nbsp;<span class="op" id="4802144">=</span>&nbsp;<span class="ident" id="4802146"><a href="/encoding/json/scanner.go.html#4802019">s</a></span><span class="op" id="4802147">.</span><span class="ident" id="4802148">step</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4802154"><a href="/encoding/json/scanner.go.html#4802019">s</a></span><span class="op" id="4802155">.</span><span class="ident" id="4802156">step</span>&nbsp;<span class="op" id="4802161">=</span>&nbsp;<span class="ident" id="4802163"><a href="/encoding/json/scanner.go.html#4802252">stateRedo</a></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4802174"><a href="/encoding/json/scanner.go.html#4802019">s</a></span><span class="op" id="4802175">.</span><span class="ident" id="4802176">redo</span>&nbsp;<span class="op" id="4802181">=</span>&nbsp;<span class="builtintype" id="4802183">true</span><br>
<span class="lineno"></span><span class="op" id="4802188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4802191">//&nbsp;stateRedo&nbsp;helps&nbsp;implement&nbsp;the&nbsp;scanner&#39;s&nbsp;1-byte&nbsp;undo.</span><br>
<span class="lineno"></span><span class="keyword" id="4802247">func</span>&nbsp;<span class="ident" id="4802252">stateRedo</span><span class="op" id="4802261">(</span><span class="ident" id="4802262">s</span>&nbsp;<span class="op" id="4802264">*</span><span class="ident" id="4802265"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><span class="op" id="4802272">,</span>&nbsp;<span class="ident" id="4802274">c</span>&nbsp;<span class="builtintype" id="4802276">int</span><span class="op" id="4802279">)</span>&nbsp;<span class="builtintype" id="4802281">int</span>&nbsp;<span class="op" id="4802285">{</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4802288"><a href="/encoding/json/scanner.go.html#4802262">s</a></span><span class="op" id="4802289">.</span><span class="ident" id="4802290">redo</span>&nbsp;<span class="op" id="4802295">=</span>&nbsp;<span class="builtintype" id="4802297">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4802304"><a href="/encoding/json/scanner.go.html#4802262">s</a></span><span class="op" id="4802305">.</span><span class="ident" id="4802306">step</span>&nbsp;<span class="op" id="4802311">=</span>&nbsp;<span class="ident" id="4802313"><a href="/encoding/json/scanner.go.html#4802262">s</a></span><span class="op" id="4802314">.</span><span class="ident" id="4802315">redoState</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802326">return</span>&nbsp;<span class="ident" id="4802333"><a href="/encoding/json/scanner.go.html#4802262">s</a></span><span class="op" id="4802334">.</span><span class="ident" id="4802335">redoCode</span><br>
<span class="lineno"></span><span class="op" id="4802344">}</span>
</div>
</body>
</html>
