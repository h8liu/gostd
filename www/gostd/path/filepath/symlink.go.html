<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path/filepath</h2>
<ul>
<li><a href="/gostd/path/filepath/example_unix_test.go.html">example_unix_test.go</a></li>
<li><a href="/gostd/path/filepath/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/path/filepath/match.go.html">match.go</a></li>
<li><a href="/gostd/path/filepath/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/filepath/path.go.html">path.go</a></li>
<li><a href="/gostd/path/filepath/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/path/filepath/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/path/filepath/symlink.go.html" class="current">symlink.go</a></li>
<li><a href="/gostd/path/filepath/symlink_unix.go.html">symlink_unix.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3332225">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3332280">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3332334">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3332385">package</span>&nbsp;<span class="ident" id="3332393">filepath</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3332403">import</span>&nbsp;<span class="op" id="3332410">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3332413">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3332422">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3332432">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3332437">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3332440">const</span>&nbsp;<span class="ident" id="3332446">utf8RuneSelf</span>&nbsp;<span class="op" id="3332459">=</span>&nbsp;<span class="num" id="3332461">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3332467">func</span>&nbsp;<span class="ident" id="3332472">walkSymlinks</span><span class="op" id="3332484">(</span><span class="ident" id="3332485">path</span>&nbsp;<span class="builtintype" id="3332490">string</span><span class="op" id="3332496">)</span>&nbsp;<span class="op" id="3332498">(</span><span class="builtintype" id="3332499">string</span><span class="op" id="3332505">,</span>&nbsp;<span class="builtintype" id="3332507">error</span><span class="op" id="3332512">)</span>&nbsp;<span class="op" id="3332514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332517">const</span>&nbsp;<span class="ident" id="3332523">maxIter</span>&nbsp;<span class="op" id="3332531">=</span>&nbsp;<span class="num" id="3332533">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332538">originalPath</span>&nbsp;<span class="op" id="3332551">:=</span>&nbsp;<span class="ident" id="3332554">path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3332560">//&nbsp;consume&nbsp;path&nbsp;by&nbsp;taking&nbsp;each&nbsp;frontmost&nbsp;path&nbsp;element,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3332616">//&nbsp;expanding&nbsp;it&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;and&nbsp;appending&nbsp;it&nbsp;to&nbsp;b</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332674">var</span>&nbsp;<span class="ident" id="3332678">b</span>&nbsp;<span class="ident" id="3332680">bytes</span><span class="op" id="3332685">.</span><span class="ident" id="3332686">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332694">for</span>&nbsp;<span class="ident" id="3332698">n</span>&nbsp;<span class="op" id="3332700">:=</span>&nbsp;<span class="num" id="3332703">0</span><span class="op" id="3332704">;</span>&nbsp;<span class="ident" id="3332706">path</span>&nbsp;<span class="op" id="3332711">!=</span>&nbsp;<span class="string" id="3332714">&#34;&#34;</span><span class="op" id="3332716">;</span>&nbsp;<span class="ident" id="3332718">n</span><span class="op" id="3332719">++</span>&nbsp;<span class="op" id="3332722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332726">if</span>&nbsp;<span class="ident" id="3332729">n</span>&nbsp;<span class="op" id="3332731">&gt;</span>&nbsp;<span class="ident" id="3332733">maxIter</span>&nbsp;<span class="op" id="3332741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332746">return</span>&nbsp;<span class="string" id="3332753">&#34;&#34;</span><span class="op" id="3332755">,</span>&nbsp;<span class="ident" id="3332757">errors</span><span class="op" id="3332763">.</span><span class="ident" id="3332764">New</span><span class="op" id="3332767">(</span><span class="string" id="3332768">&#34;EvalSymlinks:&nbsp;too&nbsp;many&nbsp;links&nbsp;in&nbsp;&#34;</span>&nbsp;<span class="op" id="3332803">+</span>&nbsp;<span class="ident" id="3332805">originalPath</span><span class="op" id="3332817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3332821">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3332826">//&nbsp;find&nbsp;next&nbsp;path&nbsp;component,&nbsp;p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332859">var</span>&nbsp;<span class="ident" id="3332863">i</span>&nbsp;<span class="op" id="3332865">=</span>&nbsp;<span class="op" id="3332867">-</span><span class="num" id="3332868">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332872">for</span>&nbsp;<span class="ident" id="3332876">j</span><span class="op" id="3332877">,</span>&nbsp;<span class="ident" id="3332879">c</span>&nbsp;<span class="op" id="3332881">:=</span>&nbsp;<span class="keyword" id="3332884">range</span>&nbsp;<span class="ident" id="3332890">path</span>&nbsp;<span class="op" id="3332895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332900">if</span>&nbsp;<span class="ident" id="3332903">c</span>&nbsp;<span class="op" id="3332905">&lt;</span>&nbsp;<span class="ident" id="3332907">utf8RuneSelf</span>&nbsp;<span class="op" id="3332920">&amp;&amp;</span>&nbsp;<span class="ident" id="3332923">os</span><span class="op" id="3332925">.</span><span class="ident" id="3332926">IsPathSeparator</span><span class="op" id="3332941">(</span><span class="builtintype" id="3332942">uint8</span><span class="op" id="3332947">(</span><span class="ident" id="3332948">c</span><span class="op" id="3332949">)</span><span class="op" id="3332950">)</span>&nbsp;<span class="op" id="3332952">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3332958">i</span>&nbsp;<span class="op" id="3332960">=</span>&nbsp;<span class="ident" id="3332962">j</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332968">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3332977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3332981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3332985">var</span>&nbsp;<span class="ident" id="3332989">p</span>&nbsp;<span class="builtintype" id="3332991">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333000">if</span>&nbsp;<span class="ident" id="3333003">i</span>&nbsp;<span class="op" id="3333005">==</span>&nbsp;<span class="op" id="3333008">-</span><span class="num" id="3333009">1</span>&nbsp;<span class="op" id="3333011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333016">p</span><span class="op" id="3333017">,</span>&nbsp;<span class="ident" id="3333019">path</span>&nbsp;<span class="op" id="3333024">=</span>&nbsp;<span class="ident" id="3333026">path</span><span class="op" id="3333030">,</span>&nbsp;<span class="string" id="3333032">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333037">}</span>&nbsp;<span class="keyword" id="3333039">else</span>&nbsp;<span class="op" id="3333044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333049">p</span><span class="op" id="3333050">,</span>&nbsp;<span class="ident" id="3333052">path</span>&nbsp;<span class="op" id="3333057">=</span>&nbsp;<span class="ident" id="3333059">path</span><span class="op" id="3333063">[</span><span class="op" id="3333064">:</span><span class="ident" id="3333065">i</span><span class="op" id="3333066">]</span><span class="op" id="3333067">,</span>&nbsp;<span class="ident" id="3333069">path</span><span class="op" id="3333073">[</span><span class="ident" id="3333074">i</span><span class="op" id="3333075">+</span><span class="num" id="3333076">1</span><span class="op" id="3333077">:</span><span class="op" id="3333078">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333082">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333087">if</span>&nbsp;<span class="ident" id="3333090">p</span>&nbsp;<span class="op" id="3333092">==</span>&nbsp;<span class="string" id="3333095">&#34;&#34;</span>&nbsp;<span class="op" id="3333098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333103">if</span>&nbsp;<span class="ident" id="3333106">b</span><span class="op" id="3333107">.</span><span class="ident" id="3333108">Len</span><span class="op" id="3333111">(</span><span class="op" id="3333112">)</span>&nbsp;<span class="op" id="3333114">==</span>&nbsp;<span class="num" id="3333117">0</span>&nbsp;<span class="op" id="3333119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3333125">//&nbsp;must&nbsp;be&nbsp;absolute&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333154">b</span><span class="op" id="3333155">.</span><span class="ident" id="3333156">WriteRune</span><span class="op" id="3333165">(</span><span class="ident" id="3333166">Separator</span><span class="op" id="3333175">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333185">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333201">fi</span><span class="op" id="3333203">,</span>&nbsp;<span class="ident" id="3333205">err</span>&nbsp;<span class="op" id="3333209">:=</span>&nbsp;<span class="ident" id="3333212">os</span><span class="op" id="3333214">.</span><span class="ident" id="3333215">Lstat</span><span class="op" id="3333220">(</span><span class="ident" id="3333221">b</span><span class="op" id="3333222">.</span><span class="ident" id="3333223">String</span><span class="op" id="3333229">(</span><span class="op" id="3333230">)</span>&nbsp;<span class="op" id="3333232">+</span>&nbsp;<span class="ident" id="3333234">p</span><span class="op" id="3333235">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333239">if</span>&nbsp;<span class="ident" id="3333242">err</span>&nbsp;<span class="op" id="3333246">!=</span>&nbsp;<span class="builtintype" id="3333249">nil</span>&nbsp;<span class="op" id="3333253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333258">return</span>&nbsp;<span class="string" id="3333265">&#34;&#34;</span><span class="op" id="3333267">,</span>&nbsp;<span class="ident" id="3333269">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333279">if</span>&nbsp;<span class="ident" id="3333282">fi</span><span class="op" id="3333284">.</span><span class="ident" id="3333285">Mode</span><span class="op" id="3333289">(</span><span class="op" id="3333290">)</span><span class="op" id="3333291">&amp;</span><span class="ident" id="3333292">os</span><span class="op" id="3333294">.</span><span class="ident" id="3333295">ModeSymlink</span>&nbsp;<span class="op" id="3333307">==</span>&nbsp;<span class="num" id="3333310">0</span>&nbsp;<span class="op" id="3333312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333317">b</span><span class="op" id="3333318">.</span><span class="ident" id="3333319">WriteString</span><span class="op" id="3333330">(</span><span class="ident" id="3333331">p</span><span class="op" id="3333332">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333337">if</span>&nbsp;<span class="ident" id="3333340">path</span>&nbsp;<span class="op" id="3333345">!=</span>&nbsp;<span class="string" id="3333348">&#34;&#34;</span>&nbsp;<span class="op" id="3333351">||</span>&nbsp;<span class="op" id="3333354">(</span><span class="ident" id="3333355">b</span><span class="op" id="3333356">.</span><span class="ident" id="3333357">Len</span><span class="op" id="3333360">(</span><span class="op" id="3333361">)</span>&nbsp;<span class="op" id="3333363">==</span>&nbsp;<span class="num" id="3333366">2</span>&nbsp;<span class="op" id="3333368">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3333371">len</span><span class="op" id="3333374">(</span><span class="ident" id="3333375">p</span><span class="op" id="3333376">)</span>&nbsp;<span class="op" id="3333378">==</span>&nbsp;<span class="num" id="3333381">2</span>&nbsp;<span class="op" id="3333383">&amp;&amp;</span>&nbsp;<span class="ident" id="3333386">p</span><span class="op" id="3333387">[</span><span class="num" id="3333388">1</span><span class="op" id="3333389">]</span>&nbsp;<span class="op" id="3333391">==</span>&nbsp;<span class="string" id="3333394">&#39;:&#39;</span><span class="op" id="3333397">)</span>&nbsp;<span class="op" id="3333399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333405">b</span><span class="op" id="3333406">.</span><span class="ident" id="3333407">WriteRune</span><span class="op" id="3333416">(</span><span class="ident" id="3333417">Separator</span><span class="op" id="3333426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333436">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333447">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3333452">//&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;put&nbsp;it&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333501">dest</span><span class="op" id="3333505">,</span>&nbsp;<span class="ident" id="3333507">err</span>&nbsp;<span class="op" id="3333511">:=</span>&nbsp;<span class="ident" id="3333514">os</span><span class="op" id="3333516">.</span><span class="ident" id="3333517">Readlink</span><span class="op" id="3333525">(</span><span class="ident" id="3333526">b</span><span class="op" id="3333527">.</span><span class="ident" id="3333528">String</span><span class="op" id="3333534">(</span><span class="op" id="3333535">)</span>&nbsp;<span class="op" id="3333537">+</span>&nbsp;<span class="ident" id="3333539">p</span><span class="op" id="3333540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333544">if</span>&nbsp;<span class="ident" id="3333547">err</span>&nbsp;<span class="op" id="3333551">!=</span>&nbsp;<span class="builtintype" id="3333554">nil</span>&nbsp;<span class="op" id="3333558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333563">return</span>&nbsp;<span class="string" id="3333570">&#34;&#34;</span><span class="op" id="3333572">,</span>&nbsp;<span class="ident" id="3333574">err</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333584">if</span>&nbsp;<span class="ident" id="3333587">IsAbs</span><span class="op" id="3333592">(</span><span class="ident" id="3333593">dest</span><span class="op" id="3333597">)</span>&nbsp;<span class="op" id="3333599">||</span>&nbsp;<span class="ident" id="3333602">os</span><span class="op" id="3333604">.</span><span class="ident" id="3333605">IsPathSeparator</span><span class="op" id="3333620">(</span><span class="ident" id="3333621">dest</span><span class="op" id="3333625">[</span><span class="num" id="3333626">0</span><span class="op" id="3333627">]</span><span class="op" id="3333628">)</span>&nbsp;<span class="op" id="3333630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333635">b</span><span class="op" id="3333636">.</span><span class="ident" id="3333637">Reset</span><span class="op" id="3333642">(</span><span class="op" id="3333643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3333651">path</span>&nbsp;<span class="op" id="3333656">=</span>&nbsp;<span class="ident" id="3333658">dest</span>&nbsp;<span class="op" id="3333663">+</span>&nbsp;<span class="builtintype" id="3333665">string</span><span class="op" id="3333671">(</span><span class="ident" id="3333672">Separator</span><span class="op" id="3333681">)</span>&nbsp;<span class="op" id="3333683">+</span>&nbsp;<span class="ident" id="3333685">path</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3333691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3333694">return</span>&nbsp;<span class="ident" id="3333701">Clean</span><span class="op" id="3333706">(</span><span class="ident" id="3333707">b</span><span class="op" id="3333708">.</span><span class="ident" id="3333709">String</span><span class="op" id="3333715">(</span><span class="op" id="3333716">)</span><span class="op" id="3333717">)</span><span class="op" id="3333718">,</span>&nbsp;<span class="builtintype" id="3333720">nil</span><br>
<span class="lineno"></span><span class="op" id="3333724">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
