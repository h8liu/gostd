<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3284141">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3284196">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3284250">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3284301">//&nbsp;Package&nbsp;color&nbsp;implements&nbsp;a&nbsp;basic&nbsp;color&nbsp;library.</span><br>
<span class="lineno"></span><span class="keyword" id="3284352">package</span>&nbsp;<span class="ident" id="3284360">color</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3284367">//&nbsp;Color&nbsp;can&nbsp;convert&nbsp;itself&nbsp;to&nbsp;alpha-premultiplied&nbsp;16-bits&nbsp;per&nbsp;channel&nbsp;RGBA.</span><br>
<span class="lineno"></span><span class="comment" id="3284444">//&nbsp;The&nbsp;conversion&nbsp;may&nbsp;be&nbsp;lossy.</span><br>
<span class="lineno">10</span><span class="keyword" id="3284476">type</span>&nbsp;<span class="ident" id="3284481">Color</span>&nbsp;<span class="keyword" id="3284487">interface</span>&nbsp;<span class="op" id="3284497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3284500">//&nbsp;RGBA&nbsp;returns&nbsp;the&nbsp;alpha-premultiplied&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3284575">//&nbsp;for&nbsp;the&nbsp;color.&nbsp;Each&nbsp;value&nbsp;ranges&nbsp;within&nbsp;[0,&nbsp;0xFFFF],&nbsp;but&nbsp;is&nbsp;represented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3284651">//&nbsp;by&nbsp;a&nbsp;uint32&nbsp;so&nbsp;that&nbsp;multiplying&nbsp;by&nbsp;a&nbsp;blend&nbsp;factor&nbsp;up&nbsp;to&nbsp;0xFFFF&nbsp;will&nbsp;not</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3284727">//&nbsp;overflow.</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3284741">RGBA</span><span class="op" id="3284745">(</span><span class="op" id="3284746">)</span>&nbsp;<span class="op" id="3284748">(</span><span class="ident" id="3284749">r</span><span class="op" id="3284750">,</span>&nbsp;<span class="ident" id="3284752">g</span><span class="op" id="3284753">,</span>&nbsp;<span class="ident" id="3284755">b</span><span class="op" id="3284756">,</span>&nbsp;<span class="ident" id="3284758">a</span>&nbsp;<span class="builtintype" id="3284760">uint32</span><span class="op" id="3284766">)</span><br>
<span class="lineno"></span><span class="op" id="3284768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3284771">//&nbsp;RGBA&nbsp;represents&nbsp;a&nbsp;traditional&nbsp;32-bit&nbsp;alpha-premultiplied&nbsp;color,</span><br>
<span class="lineno"></span><span class="comment" id="3284838">//&nbsp;having&nbsp;8&nbsp;bits&nbsp;for&nbsp;each&nbsp;of&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha.</span><br>
<span class="lineno">20</span><span class="keyword" id="3284895">type</span>&nbsp;<span class="ident" id="3284900">RGBA</span>&nbsp;<span class="keyword" id="3284905">struct</span>&nbsp;<span class="op" id="3284912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3284915">R</span><span class="op" id="3284916">,</span>&nbsp;<span class="ident" id="3284918">G</span><span class="op" id="3284919">,</span>&nbsp;<span class="ident" id="3284921">B</span><span class="op" id="3284922">,</span>&nbsp;<span class="ident" id="3284924">A</span>&nbsp;<span class="builtintype" id="3284926">uint8</span><br>
<span class="lineno"></span><span class="op" id="3284932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3284935">func</span>&nbsp;<span class="op" id="3284940">(</span><span class="ident" id="3284941">c</span>&nbsp;<span class="ident" id="3284943"><a href="/image/color/color.go.html#3284900">RGBA</a></span><span class="op" id="3284947">)</span>&nbsp;<span class="ident" id="3284949">RGBA</span><span class="op" id="3284953">(</span><span class="op" id="3284954">)</span>&nbsp;<span class="op" id="3284956">(</span><span class="ident" id="3284957">r</span><span class="op" id="3284958">,</span>&nbsp;<span class="ident" id="3284960">g</span><span class="op" id="3284961">,</span>&nbsp;<span class="ident" id="3284963">b</span><span class="op" id="3284964">,</span>&nbsp;<span class="ident" id="3284966">a</span>&nbsp;<span class="builtintype" id="3284968">uint32</span><span class="op" id="3284974">)</span>&nbsp;<span class="op" id="3284976">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3284979"><a href="/image/color/color.go.html#3284957">r</a></span>&nbsp;<span class="op" id="3284981">=</span>&nbsp;<span class="builtintype" id="3284983">uint32</span><span class="op" id="3284989">(</span><span class="ident" id="3284990"><a href="/image/color/color.go.html#3284941">c</a></span><span class="op" id="3284991">.</span><span class="ident" id="3284992">R</span><span class="op" id="3284993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3284996"><a href="/image/color/color.go.html#3284957">r</a></span>&nbsp;<span class="op" id="3284998">|=</span>&nbsp;<span class="ident" id="3285001"><a href="/image/color/color.go.html#3284957">r</a></span>&nbsp;<span class="op" id="3285003">&lt;&lt;</span>&nbsp;<span class="num" id="3285006">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285009"><a href="/image/color/color.go.html#3284960">g</a></span>&nbsp;<span class="op" id="3285011">=</span>&nbsp;<span class="builtintype" id="3285013">uint32</span><span class="op" id="3285019">(</span><span class="ident" id="3285020"><a href="/image/color/color.go.html#3284941">c</a></span><span class="op" id="3285021">.</span><span class="ident" id="3285022">G</span><span class="op" id="3285023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285026"><a href="/image/color/color.go.html#3284960">g</a></span>&nbsp;<span class="op" id="3285028">|=</span>&nbsp;<span class="ident" id="3285031"><a href="/image/color/color.go.html#3284960">g</a></span>&nbsp;<span class="op" id="3285033">&lt;&lt;</span>&nbsp;<span class="num" id="3285036">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285039"><a href="/image/color/color.go.html#3284963">b</a></span>&nbsp;<span class="op" id="3285041">=</span>&nbsp;<span class="builtintype" id="3285043">uint32</span><span class="op" id="3285049">(</span><span class="ident" id="3285050"><a href="/image/color/color.go.html#3284941">c</a></span><span class="op" id="3285051">.</span><span class="ident" id="3285052">B</span><span class="op" id="3285053">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285056"><a href="/image/color/color.go.html#3284963">b</a></span>&nbsp;<span class="op" id="3285058">|=</span>&nbsp;<span class="ident" id="3285061"><a href="/image/color/color.go.html#3284963">b</a></span>&nbsp;<span class="op" id="3285063">&lt;&lt;</span>&nbsp;<span class="num" id="3285066">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285069"><a href="/image/color/color.go.html#3284966">a</a></span>&nbsp;<span class="op" id="3285071">=</span>&nbsp;<span class="builtintype" id="3285073">uint32</span><span class="op" id="3285079">(</span><span class="ident" id="3285080"><a href="/image/color/color.go.html#3284941">c</a></span><span class="op" id="3285081">.</span><span class="ident" id="3285082">A</span><span class="op" id="3285083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285086"><a href="/image/color/color.go.html#3284966">a</a></span>&nbsp;<span class="op" id="3285088">|=</span>&nbsp;<span class="ident" id="3285091"><a href="/image/color/color.go.html#3284966">a</a></span>&nbsp;<span class="op" id="3285093">&lt;&lt;</span>&nbsp;<span class="num" id="3285096">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3285099">return</span><br>
<span class="lineno"></span><span class="op" id="3285106">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3285109">//&nbsp;RGBA64&nbsp;represents&nbsp;a&nbsp;64-bit&nbsp;alpha-premultiplied&nbsp;color,</span><br>
<span class="lineno"></span><span class="comment" id="3285166">//&nbsp;having&nbsp;16&nbsp;bits&nbsp;for&nbsp;each&nbsp;of&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha.</span><br>
<span class="lineno"></span><span class="keyword" id="3285224">type</span>&nbsp;<span class="ident" id="3285229">RGBA64</span>&nbsp;<span class="keyword" id="3285236">struct</span>&nbsp;<span class="op" id="3285243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285246">R</span><span class="op" id="3285247">,</span>&nbsp;<span class="ident" id="3285249">G</span><span class="op" id="3285250">,</span>&nbsp;<span class="ident" id="3285252">B</span><span class="op" id="3285253">,</span>&nbsp;<span class="ident" id="3285255">A</span>&nbsp;<span class="builtintype" id="3285257">uint16</span><br>
<span class="lineno">40</span><span class="op" id="3285264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3285267">func</span>&nbsp;<span class="op" id="3285272">(</span><span class="ident" id="3285273">c</span>&nbsp;<span class="ident" id="3285275"><a href="/image/color/color.go.html#3285229">RGBA64</a></span><span class="op" id="3285281">)</span>&nbsp;<span class="ident" id="3285283">RGBA</span><span class="op" id="3285287">(</span><span class="op" id="3285288">)</span>&nbsp;<span class="op" id="3285290">(</span><span class="ident" id="3285291">r</span><span class="op" id="3285292">,</span>&nbsp;<span class="ident" id="3285294">g</span><span class="op" id="3285295">,</span>&nbsp;<span class="ident" id="3285297">b</span><span class="op" id="3285298">,</span>&nbsp;<span class="ident" id="3285300">a</span>&nbsp;<span class="builtintype" id="3285302">uint32</span><span class="op" id="3285308">)</span>&nbsp;<span class="op" id="3285310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3285313">return</span>&nbsp;<span class="builtintype" id="3285320">uint32</span><span class="op" id="3285326">(</span><span class="ident" id="3285327"><a href="/image/color/color.go.html#3285273">c</a></span><span class="op" id="3285328">.</span><span class="ident" id="3285329">R</span><span class="op" id="3285330">)</span><span class="op" id="3285331">,</span>&nbsp;<span class="builtintype" id="3285333">uint32</span><span class="op" id="3285339">(</span><span class="ident" id="3285340"><a href="/image/color/color.go.html#3285273">c</a></span><span class="op" id="3285341">.</span><span class="ident" id="3285342">G</span><span class="op" id="3285343">)</span><span class="op" id="3285344">,</span>&nbsp;<span class="builtintype" id="3285346">uint32</span><span class="op" id="3285352">(</span><span class="ident" id="3285353"><a href="/image/color/color.go.html#3285273">c</a></span><span class="op" id="3285354">.</span><span class="ident" id="3285355">B</span><span class="op" id="3285356">)</span><span class="op" id="3285357">,</span>&nbsp;<span class="builtintype" id="3285359">uint32</span><span class="op" id="3285365">(</span><span class="ident" id="3285366"><a href="/image/color/color.go.html#3285273">c</a></span><span class="op" id="3285367">.</span><span class="ident" id="3285368">A</span><span class="op" id="3285369">)</span><br>
<span class="lineno"></span><span class="op" id="3285371">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3285374">//&nbsp;NRGBA&nbsp;represents&nbsp;a&nbsp;non-alpha-premultiplied&nbsp;32-bit&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="3285434">type</span>&nbsp;<span class="ident" id="3285439">NRGBA</span>&nbsp;<span class="keyword" id="3285445">struct</span>&nbsp;<span class="op" id="3285452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285455">R</span><span class="op" id="3285456">,</span>&nbsp;<span class="ident" id="3285458">G</span><span class="op" id="3285459">,</span>&nbsp;<span class="ident" id="3285461">B</span><span class="op" id="3285462">,</span>&nbsp;<span class="ident" id="3285464">A</span>&nbsp;<span class="builtintype" id="3285466">uint8</span><br>
<span class="lineno"></span><span class="op" id="3285472">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="3285475">func</span>&nbsp;<span class="op" id="3285480">(</span><span class="ident" id="3285481">c</span>&nbsp;<span class="ident" id="3285483"><a href="/image/color/color.go.html#3285439">NRGBA</a></span><span class="op" id="3285488">)</span>&nbsp;<span class="ident" id="3285490">RGBA</span><span class="op" id="3285494">(</span><span class="op" id="3285495">)</span>&nbsp;<span class="op" id="3285497">(</span><span class="ident" id="3285498">r</span><span class="op" id="3285499">,</span>&nbsp;<span class="ident" id="3285501">g</span><span class="op" id="3285502">,</span>&nbsp;<span class="ident" id="3285504">b</span><span class="op" id="3285505">,</span>&nbsp;<span class="ident" id="3285507">a</span>&nbsp;<span class="builtintype" id="3285509">uint32</span><span class="op" id="3285515">)</span>&nbsp;<span class="op" id="3285517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285520"><a href="/image/color/color.go.html#3285498">r</a></span>&nbsp;<span class="op" id="3285522">=</span>&nbsp;<span class="builtintype" id="3285524">uint32</span><span class="op" id="3285530">(</span><span class="ident" id="3285531"><a href="/image/color/color.go.html#3285481">c</a></span><span class="op" id="3285532">.</span><span class="ident" id="3285533">R</span><span class="op" id="3285534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285537"><a href="/image/color/color.go.html#3285498">r</a></span>&nbsp;<span class="op" id="3285539">|=</span>&nbsp;<span class="ident" id="3285542"><a href="/image/color/color.go.html#3285498">r</a></span>&nbsp;<span class="op" id="3285544">&lt;&lt;</span>&nbsp;<span class="num" id="3285547">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285550"><a href="/image/color/color.go.html#3285498">r</a></span>&nbsp;<span class="op" id="3285552">*=</span>&nbsp;<span class="builtintype" id="3285555">uint32</span><span class="op" id="3285561">(</span><span class="ident" id="3285562"><a href="/image/color/color.go.html#3285481">c</a></span><span class="op" id="3285563">.</span><span class="ident" id="3285564">A</span><span class="op" id="3285565">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285568"><a href="/image/color/color.go.html#3285498">r</a></span>&nbsp;<span class="op" id="3285570">/=</span>&nbsp;<span class="num" id="3285573">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285579"><a href="/image/color/color.go.html#3285501">g</a></span>&nbsp;<span class="op" id="3285581">=</span>&nbsp;<span class="builtintype" id="3285583">uint32</span><span class="op" id="3285589">(</span><span class="ident" id="3285590"><a href="/image/color/color.go.html#3285481">c</a></span><span class="op" id="3285591">.</span><span class="ident" id="3285592">G</span><span class="op" id="3285593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285596"><a href="/image/color/color.go.html#3285501">g</a></span>&nbsp;<span class="op" id="3285598">|=</span>&nbsp;<span class="ident" id="3285601"><a href="/image/color/color.go.html#3285501">g</a></span>&nbsp;<span class="op" id="3285603">&lt;&lt;</span>&nbsp;<span class="num" id="3285606">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285609"><a href="/image/color/color.go.html#3285501">g</a></span>&nbsp;<span class="op" id="3285611">*=</span>&nbsp;<span class="builtintype" id="3285614">uint32</span><span class="op" id="3285620">(</span><span class="ident" id="3285621"><a href="/image/color/color.go.html#3285481">c</a></span><span class="op" id="3285622">.</span><span class="ident" id="3285623">A</span><span class="op" id="3285624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285627"><a href="/image/color/color.go.html#3285501">g</a></span>&nbsp;<span class="op" id="3285629">/=</span>&nbsp;<span class="num" id="3285632">0xff</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285638"><a href="/image/color/color.go.html#3285504">b</a></span>&nbsp;<span class="op" id="3285640">=</span>&nbsp;<span class="builtintype" id="3285642">uint32</span><span class="op" id="3285648">(</span><span class="ident" id="3285649"><a href="/image/color/color.go.html#3285481">c</a></span><span class="op" id="3285650">.</span><span class="ident" id="3285651">B</span><span class="op" id="3285652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285655"><a href="/image/color/color.go.html#3285504">b</a></span>&nbsp;<span class="op" id="3285657">|=</span>&nbsp;<span class="ident" id="3285660"><a href="/image/color/color.go.html#3285504">b</a></span>&nbsp;<span class="op" id="3285662">&lt;&lt;</span>&nbsp;<span class="num" id="3285665">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285668"><a href="/image/color/color.go.html#3285504">b</a></span>&nbsp;<span class="op" id="3285670">*=</span>&nbsp;<span class="builtintype" id="3285673">uint32</span><span class="op" id="3285679">(</span><span class="ident" id="3285680"><a href="/image/color/color.go.html#3285481">c</a></span><span class="op" id="3285681">.</span><span class="ident" id="3285682">A</span><span class="op" id="3285683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285686"><a href="/image/color/color.go.html#3285504">b</a></span>&nbsp;<span class="op" id="3285688">/=</span>&nbsp;<span class="num" id="3285691">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285697"><a href="/image/color/color.go.html#3285507">a</a></span>&nbsp;<span class="op" id="3285699">=</span>&nbsp;<span class="builtintype" id="3285701">uint32</span><span class="op" id="3285707">(</span><span class="ident" id="3285708"><a href="/image/color/color.go.html#3285481">c</a></span><span class="op" id="3285709">.</span><span class="ident" id="3285710">A</span><span class="op" id="3285711">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285714"><a href="/image/color/color.go.html#3285507">a</a></span>&nbsp;<span class="op" id="3285716">|=</span>&nbsp;<span class="ident" id="3285719"><a href="/image/color/color.go.html#3285507">a</a></span>&nbsp;<span class="op" id="3285721">&lt;&lt;</span>&nbsp;<span class="num" id="3285724">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3285727">return</span><br>
<span class="lineno"></span><span class="op" id="3285734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3285737">//&nbsp;NRGBA64&nbsp;represents&nbsp;a&nbsp;non-alpha-premultiplied&nbsp;64-bit&nbsp;color,</span><br>
<span class="lineno">70</span><span class="comment" id="3285799">//&nbsp;having&nbsp;16&nbsp;bits&nbsp;for&nbsp;each&nbsp;of&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha.</span><br>
<span class="lineno"></span><span class="keyword" id="3285857">type</span>&nbsp;<span class="ident" id="3285862">NRGBA64</span>&nbsp;<span class="keyword" id="3285870">struct</span>&nbsp;<span class="op" id="3285877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285880">R</span><span class="op" id="3285881">,</span>&nbsp;<span class="ident" id="3285883">G</span><span class="op" id="3285884">,</span>&nbsp;<span class="ident" id="3285886">B</span><span class="op" id="3285887">,</span>&nbsp;<span class="ident" id="3285889">A</span>&nbsp;<span class="builtintype" id="3285891">uint16</span><br>
<span class="lineno"></span><span class="op" id="3285898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="3285901">func</span>&nbsp;<span class="op" id="3285906">(</span><span class="ident" id="3285907">c</span>&nbsp;<span class="ident" id="3285909"><a href="/image/color/color.go.html#3285862">NRGBA64</a></span><span class="op" id="3285916">)</span>&nbsp;<span class="ident" id="3285918">RGBA</span><span class="op" id="3285922">(</span><span class="op" id="3285923">)</span>&nbsp;<span class="op" id="3285925">(</span><span class="ident" id="3285926">r</span><span class="op" id="3285927">,</span>&nbsp;<span class="ident" id="3285929">g</span><span class="op" id="3285930">,</span>&nbsp;<span class="ident" id="3285932">b</span><span class="op" id="3285933">,</span>&nbsp;<span class="ident" id="3285935">a</span>&nbsp;<span class="builtintype" id="3285937">uint32</span><span class="op" id="3285943">)</span>&nbsp;<span class="op" id="3285945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285948"><a href="/image/color/color.go.html#3285926">r</a></span>&nbsp;<span class="op" id="3285950">=</span>&nbsp;<span class="builtintype" id="3285952">uint32</span><span class="op" id="3285958">(</span><span class="ident" id="3285959"><a href="/image/color/color.go.html#3285907">c</a></span><span class="op" id="3285960">.</span><span class="ident" id="3285961">R</span><span class="op" id="3285962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285965"><a href="/image/color/color.go.html#3285926">r</a></span>&nbsp;<span class="op" id="3285967">*=</span>&nbsp;<span class="builtintype" id="3285970">uint32</span><span class="op" id="3285976">(</span><span class="ident" id="3285977"><a href="/image/color/color.go.html#3285907">c</a></span><span class="op" id="3285978">.</span><span class="ident" id="3285979">A</span><span class="op" id="3285980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285983"><a href="/image/color/color.go.html#3285926">r</a></span>&nbsp;<span class="op" id="3285985">/=</span>&nbsp;<span class="num" id="3285988">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3285996"><a href="/image/color/color.go.html#3285929">g</a></span>&nbsp;<span class="op" id="3285998">=</span>&nbsp;<span class="builtintype" id="3286000">uint32</span><span class="op" id="3286006">(</span><span class="ident" id="3286007"><a href="/image/color/color.go.html#3285907">c</a></span><span class="op" id="3286008">.</span><span class="ident" id="3286009">G</span><span class="op" id="3286010">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286013"><a href="/image/color/color.go.html#3285929">g</a></span>&nbsp;<span class="op" id="3286015">*=</span>&nbsp;<span class="builtintype" id="3286018">uint32</span><span class="op" id="3286024">(</span><span class="ident" id="3286025"><a href="/image/color/color.go.html#3285907">c</a></span><span class="op" id="3286026">.</span><span class="ident" id="3286027">A</span><span class="op" id="3286028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286031"><a href="/image/color/color.go.html#3285929">g</a></span>&nbsp;<span class="op" id="3286033">/=</span>&nbsp;<span class="num" id="3286036">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286044"><a href="/image/color/color.go.html#3285932">b</a></span>&nbsp;<span class="op" id="3286046">=</span>&nbsp;<span class="builtintype" id="3286048">uint32</span><span class="op" id="3286054">(</span><span class="ident" id="3286055"><a href="/image/color/color.go.html#3285907">c</a></span><span class="op" id="3286056">.</span><span class="ident" id="3286057">B</span><span class="op" id="3286058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286061"><a href="/image/color/color.go.html#3285932">b</a></span>&nbsp;<span class="op" id="3286063">*=</span>&nbsp;<span class="builtintype" id="3286066">uint32</span><span class="op" id="3286072">(</span><span class="ident" id="3286073"><a href="/image/color/color.go.html#3285907">c</a></span><span class="op" id="3286074">.</span><span class="ident" id="3286075">A</span><span class="op" id="3286076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286079"><a href="/image/color/color.go.html#3285932">b</a></span>&nbsp;<span class="op" id="3286081">/=</span>&nbsp;<span class="num" id="3286084">0xffff</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286092"><a href="/image/color/color.go.html#3285935">a</a></span>&nbsp;<span class="op" id="3286094">=</span>&nbsp;<span class="builtintype" id="3286096">uint32</span><span class="op" id="3286102">(</span><span class="ident" id="3286103"><a href="/image/color/color.go.html#3285907">c</a></span><span class="op" id="3286104">.</span><span class="ident" id="3286105">A</span><span class="op" id="3286106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3286109">return</span><br>
<span class="lineno"></span><span class="op" id="3286116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3286119">//&nbsp;Alpha&nbsp;represents&nbsp;an&nbsp;8-bit&nbsp;alpha&nbsp;color.</span><br>
<span class="lineno">90</span><span class="keyword" id="3286161">type</span>&nbsp;<span class="ident" id="3286166">Alpha</span>&nbsp;<span class="keyword" id="3286172">struct</span>&nbsp;<span class="op" id="3286179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286182">A</span>&nbsp;<span class="builtintype" id="3286184">uint8</span><br>
<span class="lineno"></span><span class="op" id="3286190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3286193">func</span>&nbsp;<span class="op" id="3286198">(</span><span class="ident" id="3286199">c</span>&nbsp;<span class="ident" id="3286201"><a href="/image/color/color.go.html#3286166">Alpha</a></span><span class="op" id="3286206">)</span>&nbsp;<span class="ident" id="3286208">RGBA</span><span class="op" id="3286212">(</span><span class="op" id="3286213">)</span>&nbsp;<span class="op" id="3286215">(</span><span class="ident" id="3286216">r</span><span class="op" id="3286217">,</span>&nbsp;<span class="ident" id="3286219">g</span><span class="op" id="3286220">,</span>&nbsp;<span class="ident" id="3286222">b</span><span class="op" id="3286223">,</span>&nbsp;<span class="ident" id="3286225">a</span>&nbsp;<span class="builtintype" id="3286227">uint32</span><span class="op" id="3286233">)</span>&nbsp;<span class="op" id="3286235">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286238"><a href="/image/color/color.go.html#3286225">a</a></span>&nbsp;<span class="op" id="3286240">=</span>&nbsp;<span class="builtintype" id="3286242">uint32</span><span class="op" id="3286248">(</span><span class="ident" id="3286249"><a href="/image/color/color.go.html#3286199">c</a></span><span class="op" id="3286250">.</span><span class="ident" id="3286251">A</span><span class="op" id="3286252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286255"><a href="/image/color/color.go.html#3286225">a</a></span>&nbsp;<span class="op" id="3286257">|=</span>&nbsp;<span class="ident" id="3286260"><a href="/image/color/color.go.html#3286225">a</a></span>&nbsp;<span class="op" id="3286262">&lt;&lt;</span>&nbsp;<span class="num" id="3286265">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3286268">return</span>&nbsp;<span class="ident" id="3286275"><a href="/image/color/color.go.html#3286225">a</a></span><span class="op" id="3286276">,</span>&nbsp;<span class="ident" id="3286278"><a href="/image/color/color.go.html#3286225">a</a></span><span class="op" id="3286279">,</span>&nbsp;<span class="ident" id="3286281"><a href="/image/color/color.go.html#3286225">a</a></span><span class="op" id="3286282">,</span>&nbsp;<span class="ident" id="3286284"><a href="/image/color/color.go.html#3286225">a</a></span><br>
<span class="lineno"></span><span class="op" id="3286286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="comment" id="3286289">//&nbsp;Alpha16&nbsp;represents&nbsp;a&nbsp;16-bit&nbsp;alpha&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="3286333">type</span>&nbsp;<span class="ident" id="3286338">Alpha16</span>&nbsp;<span class="keyword" id="3286346">struct</span>&nbsp;<span class="op" id="3286353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286356">A</span>&nbsp;<span class="builtintype" id="3286358">uint16</span><br>
<span class="lineno"></span><span class="op" id="3286365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="3286368">func</span>&nbsp;<span class="op" id="3286373">(</span><span class="ident" id="3286374">c</span>&nbsp;<span class="ident" id="3286376"><a href="/image/color/color.go.html#3286338">Alpha16</a></span><span class="op" id="3286383">)</span>&nbsp;<span class="ident" id="3286385">RGBA</span><span class="op" id="3286389">(</span><span class="op" id="3286390">)</span>&nbsp;<span class="op" id="3286392">(</span><span class="ident" id="3286393">r</span><span class="op" id="3286394">,</span>&nbsp;<span class="ident" id="3286396">g</span><span class="op" id="3286397">,</span>&nbsp;<span class="ident" id="3286399">b</span><span class="op" id="3286400">,</span>&nbsp;<span class="ident" id="3286402">a</span>&nbsp;<span class="builtintype" id="3286404">uint32</span><span class="op" id="3286410">)</span>&nbsp;<span class="op" id="3286412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286415"><a href="/image/color/color.go.html#3286402">a</a></span>&nbsp;<span class="op" id="3286417">=</span>&nbsp;<span class="builtintype" id="3286419">uint32</span><span class="op" id="3286425">(</span><span class="ident" id="3286426"><a href="/image/color/color.go.html#3286374">c</a></span><span class="op" id="3286427">.</span><span class="ident" id="3286428">A</span><span class="op" id="3286429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3286432">return</span>&nbsp;<span class="ident" id="3286439"><a href="/image/color/color.go.html#3286402">a</a></span><span class="op" id="3286440">,</span>&nbsp;<span class="ident" id="3286442"><a href="/image/color/color.go.html#3286402">a</a></span><span class="op" id="3286443">,</span>&nbsp;<span class="ident" id="3286445"><a href="/image/color/color.go.html#3286402">a</a></span><span class="op" id="3286446">,</span>&nbsp;<span class="ident" id="3286448"><a href="/image/color/color.go.html#3286402">a</a></span><br>
<span class="lineno"></span><span class="op" id="3286450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="3286453">//&nbsp;Gray&nbsp;represents&nbsp;an&nbsp;8-bit&nbsp;grayscale&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="3286498">type</span>&nbsp;<span class="ident" id="3286503">Gray</span>&nbsp;<span class="keyword" id="3286508">struct</span>&nbsp;<span class="op" id="3286515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286518">Y</span>&nbsp;<span class="builtintype" id="3286520">uint8</span><br>
<span class="lineno"></span><span class="op" id="3286526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="3286529">func</span>&nbsp;<span class="op" id="3286534">(</span><span class="ident" id="3286535">c</span>&nbsp;<span class="ident" id="3286537"><a href="/image/color/color.go.html#3286503">Gray</a></span><span class="op" id="3286541">)</span>&nbsp;<span class="ident" id="3286543">RGBA</span><span class="op" id="3286547">(</span><span class="op" id="3286548">)</span>&nbsp;<span class="op" id="3286550">(</span><span class="ident" id="3286551">r</span><span class="op" id="3286552">,</span>&nbsp;<span class="ident" id="3286554">g</span><span class="op" id="3286555">,</span>&nbsp;<span class="ident" id="3286557">b</span><span class="op" id="3286558">,</span>&nbsp;<span class="ident" id="3286560">a</span>&nbsp;<span class="builtintype" id="3286562">uint32</span><span class="op" id="3286568">)</span>&nbsp;<span class="op" id="3286570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286573">y</span>&nbsp;<span class="op" id="3286575">:=</span>&nbsp;<span class="builtintype" id="3286578">uint32</span><span class="op" id="3286584">(</span><span class="ident" id="3286585"><a href="/image/color/color.go.html#3286535">c</a></span><span class="op" id="3286586">.</span><span class="ident" id="3286587">Y</span><span class="op" id="3286588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286591"><a href="/image/color/color.go.html#3286573">y</a></span>&nbsp;<span class="op" id="3286593">|=</span>&nbsp;<span class="ident" id="3286596"><a href="/image/color/color.go.html#3286573">y</a></span>&nbsp;<span class="op" id="3286598">&lt;&lt;</span>&nbsp;<span class="num" id="3286601">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3286604">return</span>&nbsp;<span class="ident" id="3286611"><a href="/image/color/color.go.html#3286573">y</a></span><span class="op" id="3286612">,</span>&nbsp;<span class="ident" id="3286614"><a href="/image/color/color.go.html#3286573">y</a></span><span class="op" id="3286615">,</span>&nbsp;<span class="ident" id="3286617"><a href="/image/color/color.go.html#3286573">y</a></span><span class="op" id="3286618">,</span>&nbsp;<span class="num" id="3286620">0xffff</span><br>
<span class="lineno"></span><span class="op" id="3286627">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="3286630">//&nbsp;Gray16&nbsp;represents&nbsp;a&nbsp;16-bit&nbsp;grayscale&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="3286677">type</span>&nbsp;<span class="ident" id="3286682">Gray16</span>&nbsp;<span class="keyword" id="3286689">struct</span>&nbsp;<span class="op" id="3286696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286699">Y</span>&nbsp;<span class="builtintype" id="3286701">uint16</span><br>
<span class="lineno"></span><span class="op" id="3286708">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="3286711">func</span>&nbsp;<span class="op" id="3286716">(</span><span class="ident" id="3286717">c</span>&nbsp;<span class="ident" id="3286719"><a href="/image/color/color.go.html#3286682">Gray16</a></span><span class="op" id="3286725">)</span>&nbsp;<span class="ident" id="3286727">RGBA</span><span class="op" id="3286731">(</span><span class="op" id="3286732">)</span>&nbsp;<span class="op" id="3286734">(</span><span class="ident" id="3286735">r</span><span class="op" id="3286736">,</span>&nbsp;<span class="ident" id="3286738">g</span><span class="op" id="3286739">,</span>&nbsp;<span class="ident" id="3286741">b</span><span class="op" id="3286742">,</span>&nbsp;<span class="ident" id="3286744">a</span>&nbsp;<span class="builtintype" id="3286746">uint32</span><span class="op" id="3286752">)</span>&nbsp;<span class="op" id="3286754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286757">y</span>&nbsp;<span class="op" id="3286759">:=</span>&nbsp;<span class="builtintype" id="3286762">uint32</span><span class="op" id="3286768">(</span><span class="ident" id="3286769"><a href="/image/color/color.go.html#3286717">c</a></span><span class="op" id="3286770">.</span><span class="ident" id="3286771">Y</span><span class="op" id="3286772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3286775">return</span>&nbsp;<span class="ident" id="3286782"><a href="/image/color/color.go.html#3286757">y</a></span><span class="op" id="3286783">,</span>&nbsp;<span class="ident" id="3286785"><a href="/image/color/color.go.html#3286757">y</a></span><span class="op" id="3286786">,</span>&nbsp;<span class="ident" id="3286788"><a href="/image/color/color.go.html#3286757">y</a></span><span class="op" id="3286789">,</span>&nbsp;<span class="num" id="3286791">0xffff</span><br>
<span class="lineno"></span><span class="op" id="3286798">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="3286801">//&nbsp;Model&nbsp;can&nbsp;convert&nbsp;any&nbsp;Color&nbsp;to&nbsp;one&nbsp;from&nbsp;its&nbsp;own&nbsp;color&nbsp;model.&nbsp;The&nbsp;conversion</span><br>
<span class="lineno"></span><span class="comment" id="3286880">//&nbsp;may&nbsp;be&nbsp;lossy.</span><br>
<span class="lineno"></span><span class="keyword" id="3286897">type</span>&nbsp;<span class="ident" id="3286902">Model</span>&nbsp;<span class="keyword" id="3286908">interface</span>&nbsp;<span class="op" id="3286918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3286921">Convert</span><span class="op" id="3286928">(</span><span class="ident" id="3286929">c</span>&nbsp;<span class="ident" id="3286931"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3286936">)</span>&nbsp;<span class="ident" id="3286938"><a href="/image/color/color.go.html#3284481">Color</a></span><br>
<span class="lineno">135</span><span class="op" id="3286944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3286947">//&nbsp;ModelFunc&nbsp;returns&nbsp;a&nbsp;Model&nbsp;that&nbsp;invokes&nbsp;f&nbsp;to&nbsp;implement&nbsp;the&nbsp;conversion.</span><br>
<span class="lineno"></span><span class="keyword" id="3287020">func</span>&nbsp;<span class="ident" id="3287025">ModelFunc</span><span class="op" id="3287034">(</span><span class="ident" id="3287035">f</span>&nbsp;<span class="keyword" id="3287037">func</span><span class="op" id="3287041">(</span><span class="ident" id="3287042"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3287047">)</span>&nbsp;<span class="ident" id="3287049"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3287054">)</span>&nbsp;<span class="ident" id="3287056"><a href="/image/color/color.go.html#3286902">Model</a></span>&nbsp;<span class="op" id="3287062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3287065">//&nbsp;Note:&nbsp;using&nbsp;*modelFunc&nbsp;as&nbsp;the&nbsp;implementation</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3287114">//&nbsp;means&nbsp;that&nbsp;callers&nbsp;can&nbsp;still&nbsp;use&nbsp;comparisons</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3287163">//&nbsp;like&nbsp;m&nbsp;==&nbsp;RGBAModel.&nbsp;&nbsp;This&nbsp;is&nbsp;not&nbsp;possible&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3287213">//&nbsp;we&nbsp;use&nbsp;the&nbsp;func&nbsp;value&nbsp;directly,&nbsp;because&nbsp;funcs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3287263">//&nbsp;are&nbsp;no&nbsp;longer&nbsp;comparable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3287293">return</span>&nbsp;<span class="op" id="3287300">&amp;</span><span class="ident" id="3287301"><a href="/image/color/color.go.html#3287322">modelFunc</a></span><span class="op" id="3287310">{</span><span class="ident" id="3287311"><a href="/image/color/color.go.html#3287035">f</a></span><span class="op" id="3287312">}</span><br>
<span class="lineno">145</span><span class="op" id="3287314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3287317">type</span>&nbsp;<span class="ident" id="3287322">modelFunc</span>&nbsp;<span class="keyword" id="3287332">struct</span>&nbsp;<span class="op" id="3287339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287342">f</span>&nbsp;<span class="keyword" id="3287344">func</span><span class="op" id="3287348">(</span><span class="ident" id="3287349"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3287354">)</span>&nbsp;<span class="ident" id="3287356"><a href="/image/color/color.go.html#3284481">Color</a></span><br>
<span class="lineno"></span><span class="op" id="3287362">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="3287365">func</span>&nbsp;<span class="op" id="3287370">(</span><span class="ident" id="3287371">m</span>&nbsp;<span class="op" id="3287373">*</span><span class="ident" id="3287374"><a href="/image/color/color.go.html#3287322">modelFunc</a></span><span class="op" id="3287383">)</span>&nbsp;<span class="ident" id="3287385">Convert</span><span class="op" id="3287392">(</span><span class="ident" id="3287393">c</span>&nbsp;<span class="ident" id="3287395"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3287400">)</span>&nbsp;<span class="ident" id="3287402"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3287408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3287411">return</span>&nbsp;<span class="ident" id="3287418"><a href="/image/color/color.go.html#3287371">m</a></span><span class="op" id="3287419">.</span><span class="ident" id="3287420">f</span><span class="op" id="3287421">(</span><span class="ident" id="3287422"><a href="/image/color/color.go.html#3287393">c</a></span><span class="op" id="3287423">)</span><br>
<span class="lineno"></span><span class="op" id="3287425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="3287428">//&nbsp;Models&nbsp;for&nbsp;the&nbsp;standard&nbsp;color&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="3287468">var</span>&nbsp;<span class="op" id="3287472">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287475">RGBAModel</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3287488"><a href="/image/color/color.go.html#3286902">Model</a></span>&nbsp;<span class="op" id="3287494">=</span>&nbsp;<span class="ident" id="3287496"><a href="/image/color/color.go.html#3287025">ModelFunc</a></span><span class="op" id="3287505">(</span><span class="ident" id="3287506"><a href="/image/color/color.go.html#3287838">rgbaModel</a></span><span class="op" id="3287515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287518">RGBA64Model</span>&nbsp;&nbsp;<span class="ident" id="3287531"><a href="/image/color/color.go.html#3286902">Model</a></span>&nbsp;<span class="op" id="3287537">=</span>&nbsp;<span class="ident" id="3287539"><a href="/image/color/color.go.html#3287025">ModelFunc</a></span><span class="op" id="3287548">(</span><span class="ident" id="3287549"><a href="/image/color/color.go.html#3288012">rgba64Model</a></span><span class="op" id="3287560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287563">NRGBAModel</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3287576"><a href="/image/color/color.go.html#3286902">Model</a></span>&nbsp;<span class="op" id="3287582">=</span>&nbsp;<span class="ident" id="3287584"><a href="/image/color/color.go.html#3287025">ModelFunc</a></span><span class="op" id="3287593">(</span><span class="ident" id="3287594"><a href="/image/color/color.go.html#3288176">nrgbaModel</a></span><span class="op" id="3287604">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287607">NRGBA64Model</span>&nbsp;<span class="ident" id="3287620"><a href="/image/color/color.go.html#3286902">Model</a></span>&nbsp;<span class="op" id="3287626">=</span>&nbsp;<span class="ident" id="3287628"><a href="/image/color/color.go.html#3287025">ModelFunc</a></span><span class="op" id="3287637">(</span><span class="ident" id="3287638"><a href="/image/color/color.go.html#3288650">nrgba64Model</a></span><span class="op" id="3287650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287653">AlphaModel</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3287666"><a href="/image/color/color.go.html#3286902">Model</a></span>&nbsp;<span class="op" id="3287672">=</span>&nbsp;<span class="ident" id="3287674"><a href="/image/color/color.go.html#3287025">ModelFunc</a></span><span class="op" id="3287683">(</span><span class="ident" id="3287684"><a href="/image/color/color.go.html#3289108">alphaModel</a></span><span class="op" id="3287694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287697">Alpha16Model</span>&nbsp;<span class="ident" id="3287710"><a href="/image/color/color.go.html#3286902">Model</a></span>&nbsp;<span class="op" id="3287716">=</span>&nbsp;<span class="ident" id="3287718"><a href="/image/color/color.go.html#3287025">ModelFunc</a></span><span class="op" id="3287727">(</span><span class="ident" id="3287728"><a href="/image/color/color.go.html#3289240">alpha16Model</a></span><span class="op" id="3287740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287743">GrayModel</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3287756"><a href="/image/color/color.go.html#3286902">Model</a></span>&nbsp;<span class="op" id="3287762">=</span>&nbsp;<span class="ident" id="3287764"><a href="/image/color/color.go.html#3287025">ModelFunc</a></span><span class="op" id="3287773">(</span><span class="ident" id="3287774"><a href="/image/color/color.go.html#3289374">grayModel</a></span><span class="op" id="3287783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287786">Gray16Model</span>&nbsp;&nbsp;<span class="ident" id="3287799"><a href="/image/color/color.go.html#3286902">Model</a></span>&nbsp;<span class="op" id="3287805">=</span>&nbsp;<span class="ident" id="3287807"><a href="/image/color/color.go.html#3287025">ModelFunc</a></span><span class="op" id="3287816">(</span><span class="ident" id="3287817"><a href="/image/color/color.go.html#3289546">gray16Model</a></span><span class="op" id="3287828">)</span><br>
<span class="lineno">165</span><span class="op" id="3287830">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3287833">func</span>&nbsp;<span class="ident" id="3287838">rgbaModel</span><span class="op" id="3287847">(</span><span class="ident" id="3287848">c</span>&nbsp;<span class="ident" id="3287850"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3287855">)</span>&nbsp;<span class="ident" id="3287857"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3287863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3287866">if</span>&nbsp;<span class="ident" id="3287869">_</span><span class="op" id="3287870">,</span>&nbsp;<span class="ident" id="3287872">ok</span>&nbsp;<span class="op" id="3287875">:=</span>&nbsp;<span class="ident" id="3287878"><a href="/image/color/color.go.html#3287848">c</a></span><span class="op" id="3287879">.</span><span class="op" id="3287880">(</span><span class="ident" id="3287881"><a href="/image/color/color.go.html#3284900">RGBA</a></span><span class="op" id="3287885">)</span><span class="op" id="3287886">;</span>&nbsp;<span class="ident" id="3287888"><a href="/image/color/color.go.html#3287872">ok</a></span>&nbsp;<span class="op" id="3287891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3287895">return</span>&nbsp;<span class="ident" id="3287902"><a href="/image/color/color.go.html#3287848">c</a></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3287905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3287908">r</span><span class="op" id="3287909">,</span>&nbsp;<span class="ident" id="3287911">g</span><span class="op" id="3287912">,</span>&nbsp;<span class="ident" id="3287914">b</span><span class="op" id="3287915">,</span>&nbsp;<span class="ident" id="3287917">a</span>&nbsp;<span class="op" id="3287919">:=</span>&nbsp;<span class="ident" id="3287922"><a href="/image/color/color.go.html#3287848">c</a></span><span class="op" id="3287923">.</span><span class="ident" id="3287924">RGBA</span><span class="op" id="3287928">(</span><span class="op" id="3287929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3287932">return</span>&nbsp;<span class="ident" id="3287939"><a href="/image/color/color.go.html#3284900">RGBA</a></span><span class="op" id="3287943">{</span><span class="builtintype" id="3287944">uint8</span><span class="op" id="3287949">(</span><span class="ident" id="3287950"><a href="/image/color/color.go.html#3287908">r</a></span>&nbsp;<span class="op" id="3287952">&gt;&gt;</span>&nbsp;<span class="num" id="3287955">8</span><span class="op" id="3287956">)</span><span class="op" id="3287957">,</span>&nbsp;<span class="builtintype" id="3287959">uint8</span><span class="op" id="3287964">(</span><span class="ident" id="3287965"><a href="/image/color/color.go.html#3287911">g</a></span>&nbsp;<span class="op" id="3287967">&gt;&gt;</span>&nbsp;<span class="num" id="3287970">8</span><span class="op" id="3287971">)</span><span class="op" id="3287972">,</span>&nbsp;<span class="builtintype" id="3287974">uint8</span><span class="op" id="3287979">(</span><span class="ident" id="3287980"><a href="/image/color/color.go.html#3287914">b</a></span>&nbsp;<span class="op" id="3287982">&gt;&gt;</span>&nbsp;<span class="num" id="3287985">8</span><span class="op" id="3287986">)</span><span class="op" id="3287987">,</span>&nbsp;<span class="builtintype" id="3287989">uint8</span><span class="op" id="3287994">(</span><span class="ident" id="3287995"><a href="/image/color/color.go.html#3287917">a</a></span>&nbsp;<span class="op" id="3287997">&gt;&gt;</span>&nbsp;<span class="num" id="3288000">8</span><span class="op" id="3288001">)</span><span class="op" id="3288002">}</span><br>
<span class="lineno"></span><span class="op" id="3288004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="keyword" id="3288007">func</span>&nbsp;<span class="ident" id="3288012">rgba64Model</span><span class="op" id="3288023">(</span><span class="ident" id="3288024">c</span>&nbsp;<span class="ident" id="3288026"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3288031">)</span>&nbsp;<span class="ident" id="3288033"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3288039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288042">if</span>&nbsp;<span class="ident" id="3288045">_</span><span class="op" id="3288046">,</span>&nbsp;<span class="ident" id="3288048">ok</span>&nbsp;<span class="op" id="3288051">:=</span>&nbsp;<span class="ident" id="3288054"><a href="/image/color/color.go.html#3288024">c</a></span><span class="op" id="3288055">.</span><span class="op" id="3288056">(</span><span class="ident" id="3288057"><a href="/image/color/color.go.html#3285229">RGBA64</a></span><span class="op" id="3288063">)</span><span class="op" id="3288064">;</span>&nbsp;<span class="ident" id="3288066"><a href="/image/color/color.go.html#3288048">ok</a></span>&nbsp;<span class="op" id="3288069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288073">return</span>&nbsp;<span class="ident" id="3288080"><a href="/image/color/color.go.html#3288024">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3288083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3288086">r</span><span class="op" id="3288087">,</span>&nbsp;<span class="ident" id="3288089">g</span><span class="op" id="3288090">,</span>&nbsp;<span class="ident" id="3288092">b</span><span class="op" id="3288093">,</span>&nbsp;<span class="ident" id="3288095">a</span>&nbsp;<span class="op" id="3288097">:=</span>&nbsp;<span class="ident" id="3288100"><a href="/image/color/color.go.html#3288024">c</a></span><span class="op" id="3288101">.</span><span class="ident" id="3288102">RGBA</span><span class="op" id="3288106">(</span><span class="op" id="3288107">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288110">return</span>&nbsp;<span class="ident" id="3288117"><a href="/image/color/color.go.html#3285229">RGBA64</a></span><span class="op" id="3288123">{</span><span class="builtintype" id="3288124">uint16</span><span class="op" id="3288130">(</span><span class="ident" id="3288131"><a href="/image/color/color.go.html#3288086">r</a></span><span class="op" id="3288132">)</span><span class="op" id="3288133">,</span>&nbsp;<span class="builtintype" id="3288135">uint16</span><span class="op" id="3288141">(</span><span class="ident" id="3288142"><a href="/image/color/color.go.html#3288089">g</a></span><span class="op" id="3288143">)</span><span class="op" id="3288144">,</span>&nbsp;<span class="builtintype" id="3288146">uint16</span><span class="op" id="3288152">(</span><span class="ident" id="3288153"><a href="/image/color/color.go.html#3288092">b</a></span><span class="op" id="3288154">)</span><span class="op" id="3288155">,</span>&nbsp;<span class="builtintype" id="3288157">uint16</span><span class="op" id="3288163">(</span><span class="ident" id="3288164"><a href="/image/color/color.go.html#3288095">a</a></span><span class="op" id="3288165">)</span><span class="op" id="3288166">}</span><br>
<span class="lineno"></span><span class="op" id="3288168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3288171">func</span>&nbsp;<span class="ident" id="3288176">nrgbaModel</span><span class="op" id="3288186">(</span><span class="ident" id="3288187">c</span>&nbsp;<span class="ident" id="3288189"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3288194">)</span>&nbsp;<span class="ident" id="3288196"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3288202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288205">if</span>&nbsp;<span class="ident" id="3288208">_</span><span class="op" id="3288209">,</span>&nbsp;<span class="ident" id="3288211">ok</span>&nbsp;<span class="op" id="3288214">:=</span>&nbsp;<span class="ident" id="3288217"><a href="/image/color/color.go.html#3288187">c</a></span><span class="op" id="3288218">.</span><span class="op" id="3288219">(</span><span class="ident" id="3288220"><a href="/image/color/color.go.html#3285439">NRGBA</a></span><span class="op" id="3288225">)</span><span class="op" id="3288226">;</span>&nbsp;<span class="ident" id="3288228"><a href="/image/color/color.go.html#3288211">ok</a></span>&nbsp;<span class="op" id="3288231">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288235">return</span>&nbsp;<span class="ident" id="3288242"><a href="/image/color/color.go.html#3288187">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3288245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3288248">r</span><span class="op" id="3288249">,</span>&nbsp;<span class="ident" id="3288251">g</span><span class="op" id="3288252">,</span>&nbsp;<span class="ident" id="3288254">b</span><span class="op" id="3288255">,</span>&nbsp;<span class="ident" id="3288257">a</span>&nbsp;<span class="op" id="3288259">:=</span>&nbsp;<span class="ident" id="3288262"><a href="/image/color/color.go.html#3288187">c</a></span><span class="op" id="3288263">.</span><span class="ident" id="3288264">RGBA</span><span class="op" id="3288268">(</span><span class="op" id="3288269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288272">if</span>&nbsp;<span class="ident" id="3288275"><a href="/image/color/color.go.html#3288257">a</a></span>&nbsp;<span class="op" id="3288277">==</span>&nbsp;<span class="num" id="3288280">0xffff</span>&nbsp;<span class="op" id="3288287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288291">return</span>&nbsp;<span class="ident" id="3288298"><a href="/image/color/color.go.html#3285439">NRGBA</a></span><span class="op" id="3288303">{</span><span class="builtintype" id="3288304">uint8</span><span class="op" id="3288309">(</span><span class="ident" id="3288310"><a href="/image/color/color.go.html#3288248">r</a></span>&nbsp;<span class="op" id="3288312">&gt;&gt;</span>&nbsp;<span class="num" id="3288315">8</span><span class="op" id="3288316">)</span><span class="op" id="3288317">,</span>&nbsp;<span class="builtintype" id="3288319">uint8</span><span class="op" id="3288324">(</span><span class="ident" id="3288325"><a href="/image/color/color.go.html#3288251">g</a></span>&nbsp;<span class="op" id="3288327">&gt;&gt;</span>&nbsp;<span class="num" id="3288330">8</span><span class="op" id="3288331">)</span><span class="op" id="3288332">,</span>&nbsp;<span class="builtintype" id="3288334">uint8</span><span class="op" id="3288339">(</span><span class="ident" id="3288340"><a href="/image/color/color.go.html#3288254">b</a></span>&nbsp;<span class="op" id="3288342">&gt;&gt;</span>&nbsp;<span class="num" id="3288345">8</span><span class="op" id="3288346">)</span><span class="op" id="3288347">,</span>&nbsp;<span class="num" id="3288349">0xff</span><span class="op" id="3288353">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3288356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288359">if</span>&nbsp;<span class="ident" id="3288362"><a href="/image/color/color.go.html#3288257">a</a></span>&nbsp;<span class="op" id="3288364">==</span>&nbsp;<span class="num" id="3288367">0</span>&nbsp;<span class="op" id="3288369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288373">return</span>&nbsp;<span class="ident" id="3288380"><a href="/image/color/color.go.html#3285439">NRGBA</a></span><span class="op" id="3288385">{</span><span class="num" id="3288386">0</span><span class="op" id="3288387">,</span>&nbsp;<span class="num" id="3288389">0</span><span class="op" id="3288390">,</span>&nbsp;<span class="num" id="3288392">0</span><span class="op" id="3288393">,</span>&nbsp;<span class="num" id="3288395">0</span><span class="op" id="3288396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3288399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3288402">//&nbsp;Since&nbsp;Color.RGBA&nbsp;returns&nbsp;a&nbsp;alpha-premultiplied&nbsp;color,&nbsp;we&nbsp;should&nbsp;have&nbsp;r&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;g&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;b&nbsp;&lt;=&nbsp;a.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3288503"><a href="/image/color/color.go.html#3288248">r</a></span>&nbsp;<span class="op" id="3288505">=</span>&nbsp;<span class="op" id="3288507">(</span><span class="ident" id="3288508"><a href="/image/color/color.go.html#3288248">r</a></span>&nbsp;<span class="op" id="3288510">*</span>&nbsp;<span class="num" id="3288512">0xffff</span><span class="op" id="3288518">)</span>&nbsp;<span class="op" id="3288520">/</span>&nbsp;<span class="ident" id="3288522"><a href="/image/color/color.go.html#3288257">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3288525"><a href="/image/color/color.go.html#3288251">g</a></span>&nbsp;<span class="op" id="3288527">=</span>&nbsp;<span class="op" id="3288529">(</span><span class="ident" id="3288530"><a href="/image/color/color.go.html#3288251">g</a></span>&nbsp;<span class="op" id="3288532">*</span>&nbsp;<span class="num" id="3288534">0xffff</span><span class="op" id="3288540">)</span>&nbsp;<span class="op" id="3288542">/</span>&nbsp;<span class="ident" id="3288544"><a href="/image/color/color.go.html#3288257">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3288547"><a href="/image/color/color.go.html#3288254">b</a></span>&nbsp;<span class="op" id="3288549">=</span>&nbsp;<span class="op" id="3288551">(</span><span class="ident" id="3288552"><a href="/image/color/color.go.html#3288254">b</a></span>&nbsp;<span class="op" id="3288554">*</span>&nbsp;<span class="num" id="3288556">0xffff</span><span class="op" id="3288562">)</span>&nbsp;<span class="op" id="3288564">/</span>&nbsp;<span class="ident" id="3288566"><a href="/image/color/color.go.html#3288257">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288569">return</span>&nbsp;<span class="ident" id="3288576"><a href="/image/color/color.go.html#3285439">NRGBA</a></span><span class="op" id="3288581">{</span><span class="builtintype" id="3288582">uint8</span><span class="op" id="3288587">(</span><span class="ident" id="3288588"><a href="/image/color/color.go.html#3288248">r</a></span>&nbsp;<span class="op" id="3288590">&gt;&gt;</span>&nbsp;<span class="num" id="3288593">8</span><span class="op" id="3288594">)</span><span class="op" id="3288595">,</span>&nbsp;<span class="builtintype" id="3288597">uint8</span><span class="op" id="3288602">(</span><span class="ident" id="3288603"><a href="/image/color/color.go.html#3288251">g</a></span>&nbsp;<span class="op" id="3288605">&gt;&gt;</span>&nbsp;<span class="num" id="3288608">8</span><span class="op" id="3288609">)</span><span class="op" id="3288610">,</span>&nbsp;<span class="builtintype" id="3288612">uint8</span><span class="op" id="3288617">(</span><span class="ident" id="3288618"><a href="/image/color/color.go.html#3288254">b</a></span>&nbsp;<span class="op" id="3288620">&gt;&gt;</span>&nbsp;<span class="num" id="3288623">8</span><span class="op" id="3288624">)</span><span class="op" id="3288625">,</span>&nbsp;<span class="builtintype" id="3288627">uint8</span><span class="op" id="3288632">(</span><span class="ident" id="3288633"><a href="/image/color/color.go.html#3288257">a</a></span>&nbsp;<span class="op" id="3288635">&gt;&gt;</span>&nbsp;<span class="num" id="3288638">8</span><span class="op" id="3288639">)</span><span class="op" id="3288640">}</span><br>
<span class="lineno"></span><span class="op" id="3288642">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="3288645">func</span>&nbsp;<span class="ident" id="3288650">nrgba64Model</span><span class="op" id="3288662">(</span><span class="ident" id="3288663">c</span>&nbsp;<span class="ident" id="3288665"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3288670">)</span>&nbsp;<span class="ident" id="3288672"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3288678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288681">if</span>&nbsp;<span class="ident" id="3288684">_</span><span class="op" id="3288685">,</span>&nbsp;<span class="ident" id="3288687">ok</span>&nbsp;<span class="op" id="3288690">:=</span>&nbsp;<span class="ident" id="3288693"><a href="/image/color/color.go.html#3288663">c</a></span><span class="op" id="3288694">.</span><span class="op" id="3288695">(</span><span class="ident" id="3288696"><a href="/image/color/color.go.html#3285862">NRGBA64</a></span><span class="op" id="3288703">)</span><span class="op" id="3288704">;</span>&nbsp;<span class="ident" id="3288706"><a href="/image/color/color.go.html#3288687">ok</a></span>&nbsp;<span class="op" id="3288709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288713">return</span>&nbsp;<span class="ident" id="3288720"><a href="/image/color/color.go.html#3288663">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3288723">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3288726">r</span><span class="op" id="3288727">,</span>&nbsp;<span class="ident" id="3288729">g</span><span class="op" id="3288730">,</span>&nbsp;<span class="ident" id="3288732">b</span><span class="op" id="3288733">,</span>&nbsp;<span class="ident" id="3288735">a</span>&nbsp;<span class="op" id="3288737">:=</span>&nbsp;<span class="ident" id="3288740"><a href="/image/color/color.go.html#3288663">c</a></span><span class="op" id="3288741">.</span><span class="ident" id="3288742">RGBA</span><span class="op" id="3288746">(</span><span class="op" id="3288747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288750">if</span>&nbsp;<span class="ident" id="3288753"><a href="/image/color/color.go.html#3288735">a</a></span>&nbsp;<span class="op" id="3288755">==</span>&nbsp;<span class="num" id="3288758">0xffff</span>&nbsp;<span class="op" id="3288765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288769">return</span>&nbsp;<span class="ident" id="3288776"><a href="/image/color/color.go.html#3285862">NRGBA64</a></span><span class="op" id="3288783">{</span><span class="builtintype" id="3288784">uint16</span><span class="op" id="3288790">(</span><span class="ident" id="3288791"><a href="/image/color/color.go.html#3288726">r</a></span><span class="op" id="3288792">)</span><span class="op" id="3288793">,</span>&nbsp;<span class="builtintype" id="3288795">uint16</span><span class="op" id="3288801">(</span><span class="ident" id="3288802"><a href="/image/color/color.go.html#3288729">g</a></span><span class="op" id="3288803">)</span><span class="op" id="3288804">,</span>&nbsp;<span class="builtintype" id="3288806">uint16</span><span class="op" id="3288812">(</span><span class="ident" id="3288813"><a href="/image/color/color.go.html#3288732">b</a></span><span class="op" id="3288814">)</span><span class="op" id="3288815">,</span>&nbsp;<span class="num" id="3288817">0xffff</span><span class="op" id="3288823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3288826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288829">if</span>&nbsp;<span class="ident" id="3288832"><a href="/image/color/color.go.html#3288735">a</a></span>&nbsp;<span class="op" id="3288834">==</span>&nbsp;<span class="num" id="3288837">0</span>&nbsp;<span class="op" id="3288839">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3288843">return</span>&nbsp;<span class="ident" id="3288850"><a href="/image/color/color.go.html#3285862">NRGBA64</a></span><span class="op" id="3288857">{</span><span class="num" id="3288858">0</span><span class="op" id="3288859">,</span>&nbsp;<span class="num" id="3288861">0</span><span class="op" id="3288862">,</span>&nbsp;<span class="num" id="3288864">0</span><span class="op" id="3288865">,</span>&nbsp;<span class="num" id="3288867">0</span><span class="op" id="3288868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3288871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3288874">//&nbsp;Since&nbsp;Color.RGBA&nbsp;returns&nbsp;a&nbsp;alpha-premultiplied&nbsp;color,&nbsp;we&nbsp;should&nbsp;have&nbsp;r&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;g&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;b&nbsp;&lt;=&nbsp;a.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3288975"><a href="/image/color/color.go.html#3288726">r</a></span>&nbsp;<span class="op" id="3288977">=</span>&nbsp;<span class="op" id="3288979">(</span><span class="ident" id="3288980"><a href="/image/color/color.go.html#3288726">r</a></span>&nbsp;<span class="op" id="3288982">*</span>&nbsp;<span class="num" id="3288984">0xffff</span><span class="op" id="3288990">)</span>&nbsp;<span class="op" id="3288992">/</span>&nbsp;<span class="ident" id="3288994"><a href="/image/color/color.go.html#3288735">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3288997"><a href="/image/color/color.go.html#3288729">g</a></span>&nbsp;<span class="op" id="3288999">=</span>&nbsp;<span class="op" id="3289001">(</span><span class="ident" id="3289002"><a href="/image/color/color.go.html#3288729">g</a></span>&nbsp;<span class="op" id="3289004">*</span>&nbsp;<span class="num" id="3289006">0xffff</span><span class="op" id="3289012">)</span>&nbsp;<span class="op" id="3289014">/</span>&nbsp;<span class="ident" id="3289016"><a href="/image/color/color.go.html#3288735">a</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3289019"><a href="/image/color/color.go.html#3288732">b</a></span>&nbsp;<span class="op" id="3289021">=</span>&nbsp;<span class="op" id="3289023">(</span><span class="ident" id="3289024"><a href="/image/color/color.go.html#3288732">b</a></span>&nbsp;<span class="op" id="3289026">*</span>&nbsp;<span class="num" id="3289028">0xffff</span><span class="op" id="3289034">)</span>&nbsp;<span class="op" id="3289036">/</span>&nbsp;<span class="ident" id="3289038"><a href="/image/color/color.go.html#3288735">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289041">return</span>&nbsp;<span class="ident" id="3289048"><a href="/image/color/color.go.html#3285862">NRGBA64</a></span><span class="op" id="3289055">{</span><span class="builtintype" id="3289056">uint16</span><span class="op" id="3289062">(</span><span class="ident" id="3289063"><a href="/image/color/color.go.html#3288726">r</a></span><span class="op" id="3289064">)</span><span class="op" id="3289065">,</span>&nbsp;<span class="builtintype" id="3289067">uint16</span><span class="op" id="3289073">(</span><span class="ident" id="3289074"><a href="/image/color/color.go.html#3288729">g</a></span><span class="op" id="3289075">)</span><span class="op" id="3289076">,</span>&nbsp;<span class="builtintype" id="3289078">uint16</span><span class="op" id="3289084">(</span><span class="ident" id="3289085"><a href="/image/color/color.go.html#3288732">b</a></span><span class="op" id="3289086">)</span><span class="op" id="3289087">,</span>&nbsp;<span class="builtintype" id="3289089">uint16</span><span class="op" id="3289095">(</span><span class="ident" id="3289096"><a href="/image/color/color.go.html#3288735">a</a></span><span class="op" id="3289097">)</span><span class="op" id="3289098">}</span><br>
<span class="lineno"></span><span class="op" id="3289100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3289103">func</span>&nbsp;<span class="ident" id="3289108">alphaModel</span><span class="op" id="3289118">(</span><span class="ident" id="3289119">c</span>&nbsp;<span class="ident" id="3289121"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3289126">)</span>&nbsp;<span class="ident" id="3289128"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3289134">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289137">if</span>&nbsp;<span class="ident" id="3289140">_</span><span class="op" id="3289141">,</span>&nbsp;<span class="ident" id="3289143">ok</span>&nbsp;<span class="op" id="3289146">:=</span>&nbsp;<span class="ident" id="3289149"><a href="/image/color/color.go.html#3289119">c</a></span><span class="op" id="3289150">.</span><span class="op" id="3289151">(</span><span class="ident" id="3289152"><a href="/image/color/color.go.html#3286166">Alpha</a></span><span class="op" id="3289157">)</span><span class="op" id="3289158">;</span>&nbsp;<span class="ident" id="3289160"><a href="/image/color/color.go.html#3289143">ok</a></span>&nbsp;<span class="op" id="3289163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289167">return</span>&nbsp;<span class="ident" id="3289174"><a href="/image/color/color.go.html#3289119">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3289177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3289180">_</span><span class="op" id="3289181">,</span>&nbsp;<span class="ident" id="3289183">_</span><span class="op" id="3289184">,</span>&nbsp;<span class="ident" id="3289186">_</span><span class="op" id="3289187">,</span>&nbsp;<span class="ident" id="3289189">a</span>&nbsp;<span class="op" id="3289191">:=</span>&nbsp;<span class="ident" id="3289194"><a href="/image/color/color.go.html#3289119">c</a></span><span class="op" id="3289195">.</span><span class="ident" id="3289196">RGBA</span><span class="op" id="3289200">(</span><span class="op" id="3289201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289204">return</span>&nbsp;<span class="ident" id="3289211"><a href="/image/color/color.go.html#3286166">Alpha</a></span><span class="op" id="3289216">{</span><span class="builtintype" id="3289217">uint8</span><span class="op" id="3289222">(</span><span class="ident" id="3289223"><a href="/image/color/color.go.html#3289189">a</a></span>&nbsp;<span class="op" id="3289225">&gt;&gt;</span>&nbsp;<span class="num" id="3289228">8</span><span class="op" id="3289229">)</span><span class="op" id="3289230">}</span><br>
<span class="lineno">225</span><span class="op" id="3289232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3289235">func</span>&nbsp;<span class="ident" id="3289240">alpha16Model</span><span class="op" id="3289252">(</span><span class="ident" id="3289253">c</span>&nbsp;<span class="ident" id="3289255"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3289260">)</span>&nbsp;<span class="ident" id="3289262"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3289268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289271">if</span>&nbsp;<span class="ident" id="3289274">_</span><span class="op" id="3289275">,</span>&nbsp;<span class="ident" id="3289277">ok</span>&nbsp;<span class="op" id="3289280">:=</span>&nbsp;<span class="ident" id="3289283"><a href="/image/color/color.go.html#3289253">c</a></span><span class="op" id="3289284">.</span><span class="op" id="3289285">(</span><span class="ident" id="3289286"><a href="/image/color/color.go.html#3286338">Alpha16</a></span><span class="op" id="3289293">)</span><span class="op" id="3289294">;</span>&nbsp;<span class="ident" id="3289296"><a href="/image/color/color.go.html#3289277">ok</a></span>&nbsp;<span class="op" id="3289299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289303">return</span>&nbsp;<span class="ident" id="3289310"><a href="/image/color/color.go.html#3289253">c</a></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3289313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3289316">_</span><span class="op" id="3289317">,</span>&nbsp;<span class="ident" id="3289319">_</span><span class="op" id="3289320">,</span>&nbsp;<span class="ident" id="3289322">_</span><span class="op" id="3289323">,</span>&nbsp;<span class="ident" id="3289325">a</span>&nbsp;<span class="op" id="3289327">:=</span>&nbsp;<span class="ident" id="3289330"><a href="/image/color/color.go.html#3289253">c</a></span><span class="op" id="3289331">.</span><span class="ident" id="3289332">RGBA</span><span class="op" id="3289336">(</span><span class="op" id="3289337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289340">return</span>&nbsp;<span class="ident" id="3289347"><a href="/image/color/color.go.html#3286338">Alpha16</a></span><span class="op" id="3289354">{</span><span class="builtintype" id="3289355">uint16</span><span class="op" id="3289361">(</span><span class="ident" id="3289362"><a href="/image/color/color.go.html#3289325">a</a></span><span class="op" id="3289363">)</span><span class="op" id="3289364">}</span><br>
<span class="lineno"></span><span class="op" id="3289366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="3289369">func</span>&nbsp;<span class="ident" id="3289374">grayModel</span><span class="op" id="3289383">(</span><span class="ident" id="3289384">c</span>&nbsp;<span class="ident" id="3289386"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3289391">)</span>&nbsp;<span class="ident" id="3289393"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3289399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289402">if</span>&nbsp;<span class="ident" id="3289405">_</span><span class="op" id="3289406">,</span>&nbsp;<span class="ident" id="3289408">ok</span>&nbsp;<span class="op" id="3289411">:=</span>&nbsp;<span class="ident" id="3289414"><a href="/image/color/color.go.html#3289384">c</a></span><span class="op" id="3289415">.</span><span class="op" id="3289416">(</span><span class="ident" id="3289417"><a href="/image/color/color.go.html#3286503">Gray</a></span><span class="op" id="3289421">)</span><span class="op" id="3289422">;</span>&nbsp;<span class="ident" id="3289424"><a href="/image/color/color.go.html#3289408">ok</a></span>&nbsp;<span class="op" id="3289427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289431">return</span>&nbsp;<span class="ident" id="3289438"><a href="/image/color/color.go.html#3289384">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3289441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3289444">r</span><span class="op" id="3289445">,</span>&nbsp;<span class="ident" id="3289447">g</span><span class="op" id="3289448">,</span>&nbsp;<span class="ident" id="3289450">b</span><span class="op" id="3289451">,</span>&nbsp;<span class="ident" id="3289453">_</span>&nbsp;<span class="op" id="3289455">:=</span>&nbsp;<span class="ident" id="3289458"><a href="/image/color/color.go.html#3289384">c</a></span><span class="op" id="3289459">.</span><span class="ident" id="3289460">RGBA</span><span class="op" id="3289464">(</span><span class="op" id="3289465">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3289468">y</span>&nbsp;<span class="op" id="3289470">:=</span>&nbsp;<span class="op" id="3289473">(</span><span class="num" id="3289474">299</span><span class="op" id="3289477">*</span><span class="ident" id="3289478"><a href="/image/color/color.go.html#3289444">r</a></span>&nbsp;<span class="op" id="3289480">+</span>&nbsp;<span class="num" id="3289482">587</span><span class="op" id="3289485">*</span><span class="ident" id="3289486"><a href="/image/color/color.go.html#3289447">g</a></span>&nbsp;<span class="op" id="3289488">+</span>&nbsp;<span class="num" id="3289490">114</span><span class="op" id="3289493">*</span><span class="ident" id="3289494"><a href="/image/color/color.go.html#3289450">b</a></span>&nbsp;<span class="op" id="3289496">+</span>&nbsp;<span class="num" id="3289498">500</span><span class="op" id="3289501">)</span>&nbsp;<span class="op" id="3289503">/</span>&nbsp;<span class="num" id="3289505">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289511">return</span>&nbsp;<span class="ident" id="3289518"><a href="/image/color/color.go.html#3286503">Gray</a></span><span class="op" id="3289522">{</span><span class="builtintype" id="3289523">uint8</span><span class="op" id="3289528">(</span><span class="ident" id="3289529"><a href="/image/color/color.go.html#3289468">y</a></span>&nbsp;<span class="op" id="3289531">&gt;&gt;</span>&nbsp;<span class="num" id="3289534">8</span><span class="op" id="3289535">)</span><span class="op" id="3289536">}</span><br>
<span class="lineno"></span><span class="op" id="3289538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3289541">func</span>&nbsp;<span class="ident" id="3289546">gray16Model</span><span class="op" id="3289557">(</span><span class="ident" id="3289558">c</span>&nbsp;<span class="ident" id="3289560"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3289565">)</span>&nbsp;<span class="ident" id="3289567"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3289573">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289576">if</span>&nbsp;<span class="ident" id="3289579">_</span><span class="op" id="3289580">,</span>&nbsp;<span class="ident" id="3289582">ok</span>&nbsp;<span class="op" id="3289585">:=</span>&nbsp;<span class="ident" id="3289588"><a href="/image/color/color.go.html#3289558">c</a></span><span class="op" id="3289589">.</span><span class="op" id="3289590">(</span><span class="ident" id="3289591"><a href="/image/color/color.go.html#3286682">Gray16</a></span><span class="op" id="3289597">)</span><span class="op" id="3289598">;</span>&nbsp;<span class="ident" id="3289600"><a href="/image/color/color.go.html#3289582">ok</a></span>&nbsp;<span class="op" id="3289603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289607">return</span>&nbsp;<span class="ident" id="3289614"><a href="/image/color/color.go.html#3289558">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3289617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3289620">r</span><span class="op" id="3289621">,</span>&nbsp;<span class="ident" id="3289623">g</span><span class="op" id="3289624">,</span>&nbsp;<span class="ident" id="3289626">b</span><span class="op" id="3289627">,</span>&nbsp;<span class="ident" id="3289629">_</span>&nbsp;<span class="op" id="3289631">:=</span>&nbsp;<span class="ident" id="3289634"><a href="/image/color/color.go.html#3289558">c</a></span><span class="op" id="3289635">.</span><span class="ident" id="3289636">RGBA</span><span class="op" id="3289640">(</span><span class="op" id="3289641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3289644">y</span>&nbsp;<span class="op" id="3289646">:=</span>&nbsp;<span class="op" id="3289649">(</span><span class="num" id="3289650">299</span><span class="op" id="3289653">*</span><span class="ident" id="3289654"><a href="/image/color/color.go.html#3289620">r</a></span>&nbsp;<span class="op" id="3289656">+</span>&nbsp;<span class="num" id="3289658">587</span><span class="op" id="3289661">*</span><span class="ident" id="3289662"><a href="/image/color/color.go.html#3289623">g</a></span>&nbsp;<span class="op" id="3289664">+</span>&nbsp;<span class="num" id="3289666">114</span><span class="op" id="3289669">*</span><span class="ident" id="3289670"><a href="/image/color/color.go.html#3289626">b</a></span>&nbsp;<span class="op" id="3289672">+</span>&nbsp;<span class="num" id="3289674">500</span><span class="op" id="3289677">)</span>&nbsp;<span class="op" id="3289679">/</span>&nbsp;<span class="num" id="3289681">1000</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289687">return</span>&nbsp;<span class="ident" id="3289694"><a href="/image/color/color.go.html#3286682">Gray16</a></span><span class="op" id="3289700">{</span><span class="builtintype" id="3289701">uint16</span><span class="op" id="3289707">(</span><span class="ident" id="3289708"><a href="/image/color/color.go.html#3289644">y</a></span><span class="op" id="3289709">)</span><span class="op" id="3289710">}</span><br>
<span class="lineno"></span><span class="op" id="3289712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3289715">//&nbsp;Palette&nbsp;is&nbsp;a&nbsp;palette&nbsp;of&nbsp;colors.</span><br>
<span class="lineno"></span><span class="keyword" id="3289750">type</span>&nbsp;<span class="ident" id="3289755">Palette</span>&nbsp;<span class="op" id="3289763">[</span><span class="op" id="3289764">]</span><span class="ident" id="3289765"><a href="/image/color/color.go.html#3284481">Color</a></span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="comment" id="3289772">//&nbsp;Convert&nbsp;returns&nbsp;the&nbsp;palette&nbsp;color&nbsp;closest&nbsp;to&nbsp;c&nbsp;in&nbsp;Euclidean&nbsp;R,G,B&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="3289848">func</span>&nbsp;<span class="op" id="3289853">(</span><span class="ident" id="3289854">p</span>&nbsp;<span class="ident" id="3289856"><a href="/image/color/color.go.html#3289755">Palette</a></span><span class="op" id="3289863">)</span>&nbsp;<span class="ident" id="3289865">Convert</span><span class="op" id="3289872">(</span><span class="ident" id="3289873">c</span>&nbsp;<span class="ident" id="3289875"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3289880">)</span>&nbsp;<span class="ident" id="3289882"><a href="/image/color/color.go.html#3284481">Color</a></span>&nbsp;<span class="op" id="3289888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289891">if</span>&nbsp;<span class="builtinfunc" id="3289894">len</span><span class="op" id="3289897">(</span><span class="ident" id="3289898"><a href="/image/color/color.go.html#3289854">p</a></span><span class="op" id="3289899">)</span>&nbsp;<span class="op" id="3289901">==</span>&nbsp;<span class="num" id="3289904">0</span>&nbsp;<span class="op" id="3289906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289910">return</span>&nbsp;<span class="ident" id="3289917">nil</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3289922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3289925">return</span>&nbsp;<span class="ident" id="3289932"><a href="/image/color/color.go.html#3289854">p</a></span><span class="op" id="3289933">[</span><span class="ident" id="3289934"><a href="/image/color/color.go.html#3289854">p</a></span><span class="op" id="3289935">.</span><span class="ident" id="3289936">Index</span><span class="op" id="3289941">(</span><span class="ident" id="3289942"><a href="/image/color/color.go.html#3289873">c</a></span><span class="op" id="3289943">)</span><span class="op" id="3289944">]</span><br>
<span class="lineno"></span><span class="op" id="3289946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3289949">//&nbsp;Index&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;palette&nbsp;color&nbsp;closest&nbsp;to&nbsp;c&nbsp;in&nbsp;Euclidean</span><br>
<span class="lineno">265</span><span class="comment" id="3290023">//&nbsp;R,G,B&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="3290039">func</span>&nbsp;<span class="op" id="3290044">(</span><span class="ident" id="3290045">p</span>&nbsp;<span class="ident" id="3290047"><a href="/image/color/color.go.html#3289755">Palette</a></span><span class="op" id="3290054">)</span>&nbsp;<span class="ident" id="3290056">Index</span><span class="op" id="3290061">(</span><span class="ident" id="3290062">c</span>&nbsp;<span class="ident" id="3290064"><a href="/image/color/color.go.html#3284481">Color</a></span><span class="op" id="3290069">)</span>&nbsp;<span class="builtintype" id="3290071">int</span>&nbsp;<span class="op" id="3290075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3290078">//&nbsp;A&nbsp;batch&nbsp;version&nbsp;of&nbsp;this&nbsp;computation&nbsp;is&nbsp;in&nbsp;image/draw/draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290145">cr</span><span class="op" id="3290147">,</span>&nbsp;<span class="ident" id="3290149">cg</span><span class="op" id="3290151">,</span>&nbsp;<span class="ident" id="3290153">cb</span><span class="op" id="3290155">,</span>&nbsp;<span class="ident" id="3290157">_</span>&nbsp;<span class="op" id="3290159">:=</span>&nbsp;<span class="ident" id="3290162"><a href="/image/color/color.go.html#3290062">c</a></span><span class="op" id="3290163">.</span><span class="ident" id="3290164">RGBA</span><span class="op" id="3290168">(</span><span class="op" id="3290169">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290172">ret</span><span class="op" id="3290175">,</span>&nbsp;<span class="ident" id="3290177">bestSSD</span>&nbsp;<span class="op" id="3290185">:=</span>&nbsp;<span class="num" id="3290188">0</span><span class="op" id="3290189">,</span>&nbsp;<span class="builtintype" id="3290191">uint32</span><span class="op" id="3290197">(</span><span class="num" id="3290198">1</span><span class="op" id="3290199">&lt;&lt;</span><span class="num" id="3290201">32</span><span class="op" id="3290203">-</span><span class="num" id="3290204">1</span><span class="op" id="3290205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3290208">for</span>&nbsp;<span class="ident" id="3290212">i</span><span class="op" id="3290213">,</span>&nbsp;<span class="ident" id="3290215">v</span>&nbsp;<span class="op" id="3290217">:=</span>&nbsp;<span class="keyword" id="3290220">range</span>&nbsp;<span class="ident" id="3290226"><a href="/image/color/color.go.html#3290045">p</a></span>&nbsp;<span class="op" id="3290228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290232">vr</span><span class="op" id="3290234">,</span>&nbsp;<span class="ident" id="3290236">vg</span><span class="op" id="3290238">,</span>&nbsp;<span class="ident" id="3290240">vb</span><span class="op" id="3290242">,</span>&nbsp;<span class="ident" id="3290244">_</span>&nbsp;<span class="op" id="3290246">:=</span>&nbsp;<span class="ident" id="3290249"><a href="/image/color/color.go.html#3290215">v</a></span><span class="op" id="3290250">.</span><span class="ident" id="3290251">RGBA</span><span class="op" id="3290255">(</span><span class="op" id="3290256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3290260">//&nbsp;We&nbsp;shift&nbsp;by&nbsp;1&nbsp;bit&nbsp;to&nbsp;avoid&nbsp;potential&nbsp;uint32&nbsp;overflow&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3290321">//&nbsp;sum-squared-difference.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290350">delta</span>&nbsp;<span class="op" id="3290356">:=</span>&nbsp;<span class="op" id="3290359">(</span><span class="builtintype" id="3290360">int32</span><span class="op" id="3290365">(</span><span class="ident" id="3290366"><a href="/image/color/color.go.html#3290145">cr</a></span><span class="op" id="3290368">)</span>&nbsp;<span class="op" id="3290370">-</span>&nbsp;<span class="builtintype" id="3290372">int32</span><span class="op" id="3290377">(</span><span class="ident" id="3290378"><a href="/image/color/color.go.html#3290232">vr</a></span><span class="op" id="3290380">)</span><span class="op" id="3290381">)</span>&nbsp;<span class="op" id="3290383">&gt;&gt;</span>&nbsp;<span class="num" id="3290386">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290390">ssd</span>&nbsp;<span class="op" id="3290394">:=</span>&nbsp;<span class="builtintype" id="3290397">uint32</span><span class="op" id="3290403">(</span><span class="ident" id="3290404"><a href="/image/color/color.go.html#3290350">delta</a></span>&nbsp;<span class="op" id="3290410">*</span>&nbsp;<span class="ident" id="3290412"><a href="/image/color/color.go.html#3290350">delta</a></span><span class="op" id="3290417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290421"><a href="/image/color/color.go.html#3290350">delta</a></span>&nbsp;<span class="op" id="3290427">=</span>&nbsp;<span class="op" id="3290429">(</span><span class="builtintype" id="3290430">int32</span><span class="op" id="3290435">(</span><span class="ident" id="3290436"><a href="/image/color/color.go.html#3290149">cg</a></span><span class="op" id="3290438">)</span>&nbsp;<span class="op" id="3290440">-</span>&nbsp;<span class="builtintype" id="3290442">int32</span><span class="op" id="3290447">(</span><span class="ident" id="3290448"><a href="/image/color/color.go.html#3290236">vg</a></span><span class="op" id="3290450">)</span><span class="op" id="3290451">)</span>&nbsp;<span class="op" id="3290453">&gt;&gt;</span>&nbsp;<span class="num" id="3290456">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290460"><a href="/image/color/color.go.html#3290390">ssd</a></span>&nbsp;<span class="op" id="3290464">+=</span>&nbsp;<span class="builtintype" id="3290467">uint32</span><span class="op" id="3290473">(</span><span class="ident" id="3290474"><a href="/image/color/color.go.html#3290350">delta</a></span>&nbsp;<span class="op" id="3290480">*</span>&nbsp;<span class="ident" id="3290482"><a href="/image/color/color.go.html#3290350">delta</a></span><span class="op" id="3290487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290491"><a href="/image/color/color.go.html#3290350">delta</a></span>&nbsp;<span class="op" id="3290497">=</span>&nbsp;<span class="op" id="3290499">(</span><span class="builtintype" id="3290500">int32</span><span class="op" id="3290505">(</span><span class="ident" id="3290506"><a href="/image/color/color.go.html#3290153">cb</a></span><span class="op" id="3290508">)</span>&nbsp;<span class="op" id="3290510">-</span>&nbsp;<span class="builtintype" id="3290512">int32</span><span class="op" id="3290517">(</span><span class="ident" id="3290518"><a href="/image/color/color.go.html#3290240">vb</a></span><span class="op" id="3290520">)</span><span class="op" id="3290521">)</span>&nbsp;<span class="op" id="3290523">&gt;&gt;</span>&nbsp;<span class="num" id="3290526">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290530"><a href="/image/color/color.go.html#3290390">ssd</a></span>&nbsp;<span class="op" id="3290534">+=</span>&nbsp;<span class="builtintype" id="3290537">uint32</span><span class="op" id="3290543">(</span><span class="ident" id="3290544"><a href="/image/color/color.go.html#3290350">delta</a></span>&nbsp;<span class="op" id="3290550">*</span>&nbsp;<span class="ident" id="3290552"><a href="/image/color/color.go.html#3290350">delta</a></span><span class="op" id="3290557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3290561">if</span>&nbsp;<span class="ident" id="3290564"><a href="/image/color/color.go.html#3290390">ssd</a></span>&nbsp;<span class="op" id="3290568">&lt;</span>&nbsp;<span class="ident" id="3290570"><a href="/image/color/color.go.html#3290177">bestSSD</a></span>&nbsp;<span class="op" id="3290578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3290583">if</span>&nbsp;<span class="ident" id="3290586"><a href="/image/color/color.go.html#3290390">ssd</a></span>&nbsp;<span class="op" id="3290590">==</span>&nbsp;<span class="num" id="3290593">0</span>&nbsp;<span class="op" id="3290595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3290601">return</span>&nbsp;<span class="ident" id="3290608"><a href="/image/color/color.go.html#3290212">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3290613">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290618"><a href="/image/color/color.go.html#3290172">ret</a></span><span class="op" id="3290621">,</span>&nbsp;<span class="ident" id="3290623"><a href="/image/color/color.go.html#3290177">bestSSD</a></span>&nbsp;<span class="op" id="3290631">=</span>&nbsp;<span class="ident" id="3290633"><a href="/image/color/color.go.html#3290212">i</a></span><span class="op" id="3290634">,</span>&nbsp;<span class="ident" id="3290636"><a href="/image/color/color.go.html#3290390">ssd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3290642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3290645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3290648">return</span>&nbsp;<span class="ident" id="3290655"><a href="/image/color/color.go.html#3290172">ret</a></span><br>
<span class="lineno"></span><span class="op" id="3290659">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="3290662">//&nbsp;Standard&nbsp;colors.</span><br>
<span class="lineno"></span><span class="keyword" id="3290682">var</span>&nbsp;<span class="op" id="3290686">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290689">Black</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3290701">=</span>&nbsp;<span class="ident" id="3290703"><a href="/image/color/color.go.html#3286682">Gray16</a></span><span class="op" id="3290709">{</span><span class="num" id="3290710">0</span><span class="op" id="3290711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290714">White</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3290726">=</span>&nbsp;<span class="ident" id="3290728"><a href="/image/color/color.go.html#3286682">Gray16</a></span><span class="op" id="3290734">{</span><span class="num" id="3290735">0xffff</span><span class="op" id="3290741">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290744">Transparent</span>&nbsp;<span class="op" id="3290756">=</span>&nbsp;<span class="ident" id="3290758"><a href="/image/color/color.go.html#3286338">Alpha16</a></span><span class="op" id="3290765">{</span><span class="num" id="3290766">0</span><span class="op" id="3290767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3290770">Opaque</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3290782">=</span>&nbsp;<span class="ident" id="3290784"><a href="/image/color/color.go.html#3286338">Alpha16</a></span><span class="op" id="3290791">{</span><span class="num" id="3290792">0xffff</span><span class="op" id="3290798">}</span><br>
<span class="lineno"></span><span class="op" id="3290800">)</span>
</div>
</body>
</html>
