<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strconv</h2>
<ul>
<li><a href="/gostd/strconv/atob.go.html">atob.go</a></li>
<li><a href="/gostd/strconv/atob_test.go.html">atob_test.go</a></li>
<li><a href="/gostd/strconv/atof.go.html">atof.go</a></li>
<li><a href="/gostd/strconv/atof_test.go.html">atof_test.go</a></li>
<li><a href="/gostd/strconv/atoi.go.html">atoi.go</a></li>
<li><a href="/gostd/strconv/atoi_test.go.html">atoi_test.go</a></li>
<li><a href="/gostd/strconv/decimal.go.html">decimal.go</a></li>
<li><a href="/gostd/strconv/decimal_test.go.html">decimal_test.go</a></li>
<li><a href="/gostd/strconv/extfloat.go.html">extfloat.go</a></li>
<li><a href="/gostd/strconv/fp_test.go.html" class="current">fp_test.go</a></li>
<li><a href="/gostd/strconv/ftoa.go.html">ftoa.go</a></li>
<li><a href="/gostd/strconv/ftoa_test.go.html">ftoa_test.go</a></li>
<li><a href="/gostd/strconv/internal_test.go.html">internal_test.go</a></li>
<li><a href="/gostd/strconv/isprint.go.html">isprint.go</a></li>
<li><a href="/gostd/strconv/itoa.go.html">itoa.go</a></li>
<li><a href="/gostd/strconv/itoa_test.go.html">itoa_test.go</a></li>
<li><a href="/gostd/strconv/quote.go.html">quote.go</a></li>
<li><a href="/gostd/strconv/quote_example_test.go.html">quote_example_test.go</a></li>
<li><a href="/gostd/strconv/quote_test.go.html">quote_test.go</a></li>
<li><a href="/gostd/strconv/strconv_test.go.html">strconv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1045083">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1045138">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1045192">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1045243">package</span>&nbsp;<span class="ident" id="1045251">strconv_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1045265">import</span>&nbsp;<span class="op" id="1045272">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1045275">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1045284">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1045291">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1045297">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1045308">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1045319">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="1045329">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="1045332">func</span>&nbsp;<span class="ident" id="1045337">pow2</span><span class="op" id="1045341">(</span><span class="ident" id="1045342">i</span>&nbsp;<span class="builtintype" id="1045344">int</span><span class="op" id="1045347">)</span>&nbsp;<span class="builtintype" id="1045349">float64</span>&nbsp;<span class="op" id="1045357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045360">switch</span>&nbsp;<span class="op" id="1045367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045370">case</span>&nbsp;<span class="ident" id="1045375">i</span>&nbsp;<span class="op" id="1045377">&lt;</span>&nbsp;<span class="num" id="1045379">0</span><span class="op" id="1045380">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045384">return</span>&nbsp;<span class="num" id="1045391">1</span>&nbsp;<span class="op" id="1045393">/</span>&nbsp;<span class="ident" id="1045395">pow2</span><span class="op" id="1045399">(</span><span class="op" id="1045400">-</span><span class="ident" id="1045401">i</span><span class="op" id="1045402">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045405">case</span>&nbsp;<span class="ident" id="1045410">i</span>&nbsp;<span class="op" id="1045412">==</span>&nbsp;<span class="num" id="1045415">0</span><span class="op" id="1045416">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045420">return</span>&nbsp;<span class="num" id="1045427">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045430">case</span>&nbsp;<span class="ident" id="1045435">i</span>&nbsp;<span class="op" id="1045437">==</span>&nbsp;<span class="num" id="1045440">1</span><span class="op" id="1045441">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045445">return</span>&nbsp;<span class="num" id="1045452">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1045455">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045458">return</span>&nbsp;<span class="ident" id="1045465">pow2</span><span class="op" id="1045469">(</span><span class="ident" id="1045470">i</span><span class="op" id="1045471">/</span><span class="num" id="1045472">2</span><span class="op" id="1045473">)</span>&nbsp;<span class="op" id="1045475">*</span>&nbsp;<span class="ident" id="1045477">pow2</span><span class="op" id="1045481">(</span><span class="ident" id="1045482">i</span><span class="op" id="1045483">-</span><span class="ident" id="1045484">i</span><span class="op" id="1045485">/</span><span class="num" id="1045486">2</span><span class="op" id="1045487">)</span><br>
<span class="lineno"></span><span class="op" id="1045489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1045492">//&nbsp;Wrapper&nbsp;around&nbsp;strconv.ParseFloat(x,&nbsp;64).&nbsp;&nbsp;Handles&nbsp;dddddp+ddd&nbsp;(binary&nbsp;exponent)</span><br>
<span class="lineno"></span><span class="comment" id="1045575">//&nbsp;itself,&nbsp;passes&nbsp;the&nbsp;rest&nbsp;on&nbsp;to&nbsp;strconv.ParseFloat.</span><br>
<span class="lineno">30</span><span class="keyword" id="1045628">func</span>&nbsp;<span class="ident" id="1045633">myatof64</span><span class="op" id="1045641">(</span><span class="ident" id="1045642">s</span>&nbsp;<span class="builtintype" id="1045644">string</span><span class="op" id="1045650">)</span>&nbsp;<span class="op" id="1045652">(</span><span class="ident" id="1045653">f</span>&nbsp;<span class="builtintype" id="1045655">float64</span><span class="op" id="1045662">,</span>&nbsp;<span class="ident" id="1045664">ok</span>&nbsp;<span class="builtintype" id="1045667">bool</span><span class="op" id="1045671">)</span>&nbsp;<span class="op" id="1045673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1045676">a</span>&nbsp;<span class="op" id="1045678">:=</span>&nbsp;<span class="ident" id="1045681">strings</span><span class="op" id="1045688">.</span><span class="ident" id="1045689">SplitN</span><span class="op" id="1045695">(</span><span class="ident" id="1045696">s</span><span class="op" id="1045697">,</span>&nbsp;<span class="string" id="1045699">&#34;p&#34;</span><span class="op" id="1045702">,</span>&nbsp;<span class="num" id="1045704">2</span><span class="op" id="1045705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045708">if</span>&nbsp;<span class="builtinfunc" id="1045711">len</span><span class="op" id="1045714">(</span><span class="ident" id="1045715">a</span><span class="op" id="1045716">)</span>&nbsp;<span class="op" id="1045718">==</span>&nbsp;<span class="num" id="1045721">2</span>&nbsp;<span class="op" id="1045723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1045727">n</span><span class="op" id="1045728">,</span>&nbsp;<span class="ident" id="1045730">err</span>&nbsp;<span class="op" id="1045734">:=</span>&nbsp;<span class="ident" id="1045737">strconv</span><span class="op" id="1045744">.</span><span class="ident" id="1045745">ParseInt</span><span class="op" id="1045753">(</span><span class="ident" id="1045754">a</span><span class="op" id="1045755">[</span><span class="num" id="1045756">0</span><span class="op" id="1045757">]</span><span class="op" id="1045758">,</span>&nbsp;<span class="num" id="1045760">10</span><span class="op" id="1045762">,</span>&nbsp;<span class="num" id="1045764">64</span><span class="op" id="1045766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045770">if</span>&nbsp;<span class="ident" id="1045773">err</span>&nbsp;<span class="op" id="1045777">!=</span>&nbsp;<span class="builtintype" id="1045780">nil</span>&nbsp;<span class="op" id="1045784">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045789">return</span>&nbsp;<span class="num" id="1045796">0</span><span class="op" id="1045797">,</span>&nbsp;<span class="builtintype" id="1045799">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1045807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1045811">e</span><span class="op" id="1045812">,</span>&nbsp;<span class="ident" id="1045814">err1</span>&nbsp;<span class="op" id="1045819">:=</span>&nbsp;<span class="ident" id="1045822">strconv</span><span class="op" id="1045829">.</span><span class="ident" id="1045830">Atoi</span><span class="op" id="1045834">(</span><span class="ident" id="1045835">a</span><span class="op" id="1045836">[</span><span class="num" id="1045837">1</span><span class="op" id="1045838">]</span><span class="op" id="1045839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045843">if</span>&nbsp;<span class="ident" id="1045846">err1</span>&nbsp;<span class="op" id="1045851">!=</span>&nbsp;<span class="builtintype" id="1045854">nil</span>&nbsp;<span class="op" id="1045858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1045863">println</span><span class="op" id="1045870">(</span><span class="string" id="1045871">&#34;bad&nbsp;e&#34;</span><span class="op" id="1045878">,</span>&nbsp;<span class="ident" id="1045880">a</span><span class="op" id="1045881">[</span><span class="num" id="1045882">1</span><span class="op" id="1045883">]</span><span class="op" id="1045884">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1045889">return</span>&nbsp;<span class="num" id="1045896">0</span><span class="op" id="1045897">,</span>&nbsp;<span class="builtintype" id="1045899">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1045907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1045911">v</span>&nbsp;<span class="op" id="1045913">:=</span>&nbsp;<span class="builtintype" id="1045916">float64</span><span class="op" id="1045923">(</span><span class="ident" id="1045924">n</span><span class="op" id="1045925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1045929">//&nbsp;We&nbsp;expect&nbsp;that&nbsp;v*pow2(e)&nbsp;fits&nbsp;in&nbsp;a&nbsp;float64,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1045978">//&nbsp;but&nbsp;pow2(e)&nbsp;by&nbsp;itself&nbsp;may&nbsp;not.&nbsp;&nbsp;Be&nbsp;careful.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046027">if</span>&nbsp;<span class="ident" id="1046030">e</span>&nbsp;<span class="op" id="1046032">&lt;=</span>&nbsp;<span class="op" id="1046035">-</span><span class="num" id="1046036">1000</span>&nbsp;<span class="op" id="1046041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046046">v</span>&nbsp;<span class="op" id="1046048">*=</span>&nbsp;<span class="ident" id="1046051">pow2</span><span class="op" id="1046055">(</span><span class="op" id="1046056">-</span><span class="num" id="1046057">1000</span><span class="op" id="1046061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046066">e</span>&nbsp;<span class="op" id="1046068">+=</span>&nbsp;<span class="num" id="1046071">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046079">for</span>&nbsp;<span class="ident" id="1046083">e</span>&nbsp;<span class="op" id="1046085">&lt;</span>&nbsp;<span class="num" id="1046087">0</span>&nbsp;<span class="op" id="1046089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046095">v</span>&nbsp;<span class="op" id="1046097">/=</span>&nbsp;<span class="num" id="1046100">2</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046106">e</span><span class="op" id="1046107">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046118">return</span>&nbsp;<span class="ident" id="1046125">v</span><span class="op" id="1046126">,</span>&nbsp;<span class="builtintype" id="1046128">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046139">if</span>&nbsp;<span class="ident" id="1046142">e</span>&nbsp;<span class="op" id="1046144">&gt;=</span>&nbsp;<span class="num" id="1046147">1000</span>&nbsp;<span class="op" id="1046152">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046157">v</span>&nbsp;<span class="op" id="1046159">*=</span>&nbsp;<span class="ident" id="1046162">pow2</span><span class="op" id="1046166">(</span><span class="num" id="1046167">1000</span><span class="op" id="1046171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046176">e</span>&nbsp;<span class="op" id="1046178">-=</span>&nbsp;<span class="num" id="1046181">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046189">for</span>&nbsp;<span class="ident" id="1046193">e</span>&nbsp;<span class="op" id="1046195">&gt;</span>&nbsp;<span class="num" id="1046197">0</span>&nbsp;<span class="op" id="1046199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046205">v</span>&nbsp;<span class="op" id="1046207">*=</span>&nbsp;<span class="num" id="1046210">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046216">e</span><span class="op" id="1046217">--</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046228">return</span>&nbsp;<span class="ident" id="1046235">v</span><span class="op" id="1046236">,</span>&nbsp;<span class="builtintype" id="1046238">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046249">return</span>&nbsp;<span class="ident" id="1046256">v</span>&nbsp;<span class="op" id="1046258">*</span>&nbsp;<span class="ident" id="1046260">pow2</span><span class="op" id="1046264">(</span><span class="ident" id="1046265">e</span><span class="op" id="1046266">)</span><span class="op" id="1046267">,</span>&nbsp;<span class="builtintype" id="1046269">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046275">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046278">f1</span><span class="op" id="1046280">,</span>&nbsp;<span class="ident" id="1046282">err</span>&nbsp;<span class="op" id="1046286">:=</span>&nbsp;<span class="ident" id="1046289">strconv</span><span class="op" id="1046296">.</span><span class="ident" id="1046297">ParseFloat</span><span class="op" id="1046307">(</span><span class="ident" id="1046308">s</span><span class="op" id="1046309">,</span>&nbsp;<span class="num" id="1046311">64</span><span class="op" id="1046313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046316">if</span>&nbsp;<span class="ident" id="1046319">err</span>&nbsp;<span class="op" id="1046323">!=</span>&nbsp;<span class="builtintype" id="1046326">nil</span>&nbsp;<span class="op" id="1046330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046334">return</span>&nbsp;<span class="num" id="1046341">0</span><span class="op" id="1046342">,</span>&nbsp;<span class="builtintype" id="1046344">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046354">return</span>&nbsp;<span class="ident" id="1046361">f1</span><span class="op" id="1046363">,</span>&nbsp;<span class="builtintype" id="1046365">true</span><br>
<span class="lineno">70</span><span class="op" id="1046370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1046373">//&nbsp;Wrapper&nbsp;around&nbsp;strconv.ParseFloat(x,&nbsp;32).&nbsp;&nbsp;Handles&nbsp;dddddp+ddd&nbsp;(binary&nbsp;exponent)</span><br>
<span class="lineno"></span><span class="comment" id="1046456">//&nbsp;itself,&nbsp;passes&nbsp;the&nbsp;rest&nbsp;on&nbsp;to&nbsp;strconv.ParseFloat.</span><br>
<span class="lineno"></span><span class="keyword" id="1046509">func</span>&nbsp;<span class="ident" id="1046514">myatof32</span><span class="op" id="1046522">(</span><span class="ident" id="1046523">s</span>&nbsp;<span class="builtintype" id="1046525">string</span><span class="op" id="1046531">)</span>&nbsp;<span class="op" id="1046533">(</span><span class="ident" id="1046534">f</span>&nbsp;<span class="builtintype" id="1046536">float32</span><span class="op" id="1046543">,</span>&nbsp;<span class="ident" id="1046545">ok</span>&nbsp;<span class="builtintype" id="1046548">bool</span><span class="op" id="1046552">)</span>&nbsp;<span class="op" id="1046554">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046557">a</span>&nbsp;<span class="op" id="1046559">:=</span>&nbsp;<span class="ident" id="1046562">strings</span><span class="op" id="1046569">.</span><span class="ident" id="1046570">SplitN</span><span class="op" id="1046576">(</span><span class="ident" id="1046577">s</span><span class="op" id="1046578">,</span>&nbsp;<span class="string" id="1046580">&#34;p&#34;</span><span class="op" id="1046583">,</span>&nbsp;<span class="num" id="1046585">2</span><span class="op" id="1046586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046589">if</span>&nbsp;<span class="builtinfunc" id="1046592">len</span><span class="op" id="1046595">(</span><span class="ident" id="1046596">a</span><span class="op" id="1046597">)</span>&nbsp;<span class="op" id="1046599">==</span>&nbsp;<span class="num" id="1046602">2</span>&nbsp;<span class="op" id="1046604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046608">n</span><span class="op" id="1046609">,</span>&nbsp;<span class="ident" id="1046611">err</span>&nbsp;<span class="op" id="1046615">:=</span>&nbsp;<span class="ident" id="1046618">strconv</span><span class="op" id="1046625">.</span><span class="ident" id="1046626">Atoi</span><span class="op" id="1046630">(</span><span class="ident" id="1046631">a</span><span class="op" id="1046632">[</span><span class="num" id="1046633">0</span><span class="op" id="1046634">]</span><span class="op" id="1046635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046639">if</span>&nbsp;<span class="ident" id="1046642">err</span>&nbsp;<span class="op" id="1046646">!=</span>&nbsp;<span class="builtintype" id="1046649">nil</span>&nbsp;<span class="op" id="1046653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1046658">println</span><span class="op" id="1046665">(</span><span class="string" id="1046666">&#34;bad&nbsp;n&#34;</span><span class="op" id="1046673">,</span>&nbsp;<span class="ident" id="1046675">a</span><span class="op" id="1046676">[</span><span class="num" id="1046677">0</span><span class="op" id="1046678">]</span><span class="op" id="1046679">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046684">return</span>&nbsp;<span class="num" id="1046691">0</span><span class="op" id="1046692">,</span>&nbsp;<span class="builtintype" id="1046694">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046706">e</span><span class="op" id="1046707">,</span>&nbsp;<span class="ident" id="1046709">err1</span>&nbsp;<span class="op" id="1046714">:=</span>&nbsp;<span class="ident" id="1046717">strconv</span><span class="op" id="1046724">.</span><span class="ident" id="1046725">Atoi</span><span class="op" id="1046729">(</span><span class="ident" id="1046730">a</span><span class="op" id="1046731">[</span><span class="num" id="1046732">1</span><span class="op" id="1046733">]</span><span class="op" id="1046734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046738">if</span>&nbsp;<span class="ident" id="1046741">err1</span>&nbsp;<span class="op" id="1046746">!=</span>&nbsp;<span class="builtintype" id="1046749">nil</span>&nbsp;<span class="op" id="1046753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1046758">println</span><span class="op" id="1046765">(</span><span class="string" id="1046766">&#34;bad&nbsp;p&#34;</span><span class="op" id="1046773">,</span>&nbsp;<span class="ident" id="1046775">a</span><span class="op" id="1046776">[</span><span class="num" id="1046777">1</span><span class="op" id="1046778">]</span><span class="op" id="1046779">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046784">return</span>&nbsp;<span class="num" id="1046791">0</span><span class="op" id="1046792">,</span>&nbsp;<span class="builtintype" id="1046794">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046806">return</span>&nbsp;<span class="builtintype" id="1046813">float32</span><span class="op" id="1046820">(</span><span class="builtintype" id="1046821">float64</span><span class="op" id="1046828">(</span><span class="ident" id="1046829">n</span><span class="op" id="1046830">)</span>&nbsp;<span class="op" id="1046832">*</span>&nbsp;<span class="ident" id="1046834">pow2</span><span class="op" id="1046838">(</span><span class="ident" id="1046839">e</span><span class="op" id="1046840">)</span><span class="op" id="1046841">)</span><span class="op" id="1046842">,</span>&nbsp;<span class="builtintype" id="1046844">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046853">f64</span><span class="op" id="1046856">,</span>&nbsp;<span class="ident" id="1046858">err1</span>&nbsp;<span class="op" id="1046863">:=</span>&nbsp;<span class="ident" id="1046866">strconv</span><span class="op" id="1046873">.</span><span class="ident" id="1046874">ParseFloat</span><span class="op" id="1046884">(</span><span class="ident" id="1046885">s</span><span class="op" id="1046886">,</span>&nbsp;<span class="num" id="1046888">32</span><span class="op" id="1046890">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1046893">f1</span>&nbsp;<span class="op" id="1046896">:=</span>&nbsp;<span class="builtintype" id="1046899">float32</span><span class="op" id="1046906">(</span><span class="ident" id="1046907">f64</span><span class="op" id="1046910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046913">if</span>&nbsp;<span class="ident" id="1046916">err1</span>&nbsp;<span class="op" id="1046921">!=</span>&nbsp;<span class="builtintype" id="1046924">nil</span>&nbsp;<span class="op" id="1046928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046932">return</span>&nbsp;<span class="num" id="1046939">0</span><span class="op" id="1046940">,</span>&nbsp;<span class="builtintype" id="1046942">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1046949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1046952">return</span>&nbsp;<span class="ident" id="1046959">f1</span><span class="op" id="1046961">,</span>&nbsp;<span class="builtintype" id="1046963">true</span><br>
<span class="lineno">95</span><span class="op" id="1046968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1046971">func</span>&nbsp;<span class="ident" id="1046976">TestFp</span><span class="op" id="1046982">(</span><span class="ident" id="1046983">t</span>&nbsp;<span class="op" id="1046985">*</span><span class="ident" id="1046986">testing</span><span class="op" id="1046993">.</span><span class="ident" id="1046994">T</span><span class="op" id="1046995">)</span>&nbsp;<span class="op" id="1046997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047000">f</span><span class="op" id="1047001">,</span>&nbsp;<span class="ident" id="1047003">err</span>&nbsp;<span class="op" id="1047007">:=</span>&nbsp;<span class="ident" id="1047010">os</span><span class="op" id="1047012">.</span><span class="ident" id="1047013">Open</span><span class="op" id="1047017">(</span><span class="string" id="1047018">&#34;testdata/testfp.txt&#34;</span><span class="op" id="1047039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047042">if</span>&nbsp;<span class="ident" id="1047045">err</span>&nbsp;<span class="op" id="1047049">!=</span>&nbsp;<span class="builtintype" id="1047052">nil</span>&nbsp;<span class="op" id="1047056">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047060">t</span><span class="op" id="1047061">.</span><span class="ident" id="1047062">Fatal</span><span class="op" id="1047067">(</span><span class="string" id="1047068">&#34;testfp:&nbsp;open&nbsp;testdata/testfp.txt:&#34;</span><span class="op" id="1047103">,</span>&nbsp;<span class="ident" id="1047105">err</span><span class="op" id="1047108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1047111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047114">defer</span>&nbsp;<span class="ident" id="1047120">f</span><span class="op" id="1047121">.</span><span class="ident" id="1047122">Close</span><span class="op" id="1047127">(</span><span class="op" id="1047128">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047132">s</span>&nbsp;<span class="op" id="1047134">:=</span>&nbsp;<span class="ident" id="1047137">bufio</span><span class="op" id="1047142">.</span><span class="ident" id="1047143">NewScanner</span><span class="op" id="1047153">(</span><span class="ident" id="1047154">f</span><span class="op" id="1047155">)</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047159">for</span>&nbsp;<span class="ident" id="1047163">lineno</span>&nbsp;<span class="op" id="1047170">:=</span>&nbsp;<span class="num" id="1047173">1</span><span class="op" id="1047174">;</span>&nbsp;<span class="ident" id="1047176">s</span><span class="op" id="1047177">.</span><span class="ident" id="1047178">Scan</span><span class="op" id="1047182">(</span><span class="op" id="1047183">)</span><span class="op" id="1047184">;</span>&nbsp;<span class="ident" id="1047186">lineno</span><span class="op" id="1047192">++</span>&nbsp;<span class="op" id="1047195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047199">line</span>&nbsp;<span class="op" id="1047204">:=</span>&nbsp;<span class="ident" id="1047207">s</span><span class="op" id="1047208">.</span><span class="ident" id="1047209">Text</span><span class="op" id="1047213">(</span><span class="op" id="1047214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047218">if</span>&nbsp;<span class="builtinfunc" id="1047221">len</span><span class="op" id="1047224">(</span><span class="ident" id="1047225">line</span><span class="op" id="1047229">)</span>&nbsp;<span class="op" id="1047231">==</span>&nbsp;<span class="num" id="1047234">0</span>&nbsp;<span class="op" id="1047236">||</span>&nbsp;<span class="ident" id="1047239">line</span><span class="op" id="1047243">[</span><span class="num" id="1047244">0</span><span class="op" id="1047245">]</span>&nbsp;<span class="op" id="1047247">==</span>&nbsp;<span class="string" id="1047250">&#39;#&#39;</span>&nbsp;<span class="op" id="1047254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047259">continue</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1047270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047274">a</span>&nbsp;<span class="op" id="1047276">:=</span>&nbsp;<span class="ident" id="1047279">strings</span><span class="op" id="1047286">.</span><span class="ident" id="1047287">Split</span><span class="op" id="1047292">(</span><span class="ident" id="1047293">line</span><span class="op" id="1047297">,</span>&nbsp;<span class="string" id="1047299">&#34;&nbsp;&#34;</span><span class="op" id="1047302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047306">if</span>&nbsp;<span class="builtinfunc" id="1047309">len</span><span class="op" id="1047312">(</span><span class="ident" id="1047313">a</span><span class="op" id="1047314">)</span>&nbsp;<span class="op" id="1047316">!=</span>&nbsp;<span class="num" id="1047319">4</span>&nbsp;<span class="op" id="1047321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047326">t</span><span class="op" id="1047327">.</span><span class="ident" id="1047328">Error</span><span class="op" id="1047333">(</span><span class="string" id="1047334">&#34;testdata/testfp.txt:&#34;</span><span class="op" id="1047356">,</span>&nbsp;<span class="ident" id="1047358">lineno</span><span class="op" id="1047364">,</span>&nbsp;<span class="string" id="1047366">&#34;:&nbsp;wrong&nbsp;field&nbsp;count&#34;</span><span class="op" id="1047387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047392">continue</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1047403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047407">var</span>&nbsp;<span class="ident" id="1047411">s</span>&nbsp;<span class="builtintype" id="1047413">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047422">var</span>&nbsp;<span class="ident" id="1047426">v</span>&nbsp;<span class="builtintype" id="1047428">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047438">switch</span>&nbsp;<span class="ident" id="1047445">a</span><span class="op" id="1047446">[</span><span class="num" id="1047447">0</span><span class="op" id="1047448">]</span>&nbsp;<span class="op" id="1047450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047454">case</span>&nbsp;<span class="string" id="1047459">&#34;float64&#34;</span><span class="op" id="1047468">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047473">var</span>&nbsp;<span class="ident" id="1047477">ok</span>&nbsp;<span class="builtintype" id="1047480">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047488">v</span><span class="op" id="1047489">,</span>&nbsp;<span class="ident" id="1047491">ok</span>&nbsp;<span class="op" id="1047494">=</span>&nbsp;<span class="ident" id="1047496">myatof64</span><span class="op" id="1047504">(</span><span class="ident" id="1047505">a</span><span class="op" id="1047506">[</span><span class="num" id="1047507">2</span><span class="op" id="1047508">]</span><span class="op" id="1047509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047514">if</span>&nbsp;<span class="op" id="1047517">!</span><span class="ident" id="1047518">ok</span>&nbsp;<span class="op" id="1047521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047527">t</span><span class="op" id="1047528">.</span><span class="ident" id="1047529">Error</span><span class="op" id="1047534">(</span><span class="string" id="1047535">&#34;testdata/testfp.txt:&#34;</span><span class="op" id="1047557">,</span>&nbsp;<span class="ident" id="1047559">lineno</span><span class="op" id="1047565">,</span>&nbsp;<span class="string" id="1047567">&#34;:&nbsp;cannot&nbsp;atof64&nbsp;&#34;</span><span class="op" id="1047585">,</span>&nbsp;<span class="ident" id="1047587">a</span><span class="op" id="1047588">[</span><span class="num" id="1047589">2</span><span class="op" id="1047590">]</span><span class="op" id="1047591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047597">continue</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1047609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047614">s</span>&nbsp;<span class="op" id="1047616">=</span>&nbsp;<span class="ident" id="1047618">fmt</span><span class="op" id="1047621">.</span><span class="ident" id="1047622">Sprintf</span><span class="op" id="1047629">(</span><span class="ident" id="1047630">a</span><span class="op" id="1047631">[</span><span class="num" id="1047632">1</span><span class="op" id="1047633">]</span><span class="op" id="1047634">,</span>&nbsp;<span class="ident" id="1047636">v</span><span class="op" id="1047637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047641">case</span>&nbsp;<span class="string" id="1047646">&#34;float32&#34;</span><span class="op" id="1047655">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047660">v1</span><span class="op" id="1047662">,</span>&nbsp;<span class="ident" id="1047664">ok</span>&nbsp;<span class="op" id="1047667">:=</span>&nbsp;<span class="ident" id="1047670">myatof32</span><span class="op" id="1047678">(</span><span class="ident" id="1047679">a</span><span class="op" id="1047680">[</span><span class="num" id="1047681">2</span><span class="op" id="1047682">]</span><span class="op" id="1047683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047688">if</span>&nbsp;<span class="op" id="1047691">!</span><span class="ident" id="1047692">ok</span>&nbsp;<span class="op" id="1047695">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047701">t</span><span class="op" id="1047702">.</span><span class="ident" id="1047703">Error</span><span class="op" id="1047708">(</span><span class="string" id="1047709">&#34;testdata/testfp.txt:&#34;</span><span class="op" id="1047731">,</span>&nbsp;<span class="ident" id="1047733">lineno</span><span class="op" id="1047739">,</span>&nbsp;<span class="string" id="1047741">&#34;:&nbsp;cannot&nbsp;atof32&nbsp;&#34;</span><span class="op" id="1047759">,</span>&nbsp;<span class="ident" id="1047761">a</span><span class="op" id="1047762">[</span><span class="num" id="1047763">2</span><span class="op" id="1047764">]</span><span class="op" id="1047765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047771">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1047783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047788">s</span>&nbsp;<span class="op" id="1047790">=</span>&nbsp;<span class="ident" id="1047792">fmt</span><span class="op" id="1047795">.</span><span class="ident" id="1047796">Sprintf</span><span class="op" id="1047803">(</span><span class="ident" id="1047804">a</span><span class="op" id="1047805">[</span><span class="num" id="1047806">1</span><span class="op" id="1047807">]</span><span class="op" id="1047808">,</span>&nbsp;<span class="ident" id="1047810">v1</span><span class="op" id="1047812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047817">v</span>&nbsp;<span class="op" id="1047819">=</span>&nbsp;<span class="builtintype" id="1047821">float64</span><span class="op" id="1047828">(</span><span class="ident" id="1047829">v1</span><span class="op" id="1047831">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1047835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047839">if</span>&nbsp;<span class="ident" id="1047842">s</span>&nbsp;<span class="op" id="1047844">!=</span>&nbsp;<span class="ident" id="1047847">a</span><span class="op" id="1047848">[</span><span class="num" id="1047849">3</span><span class="op" id="1047850">]</span>&nbsp;<span class="op" id="1047852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1047857">t</span><span class="op" id="1047858">.</span><span class="ident" id="1047859">Error</span><span class="op" id="1047864">(</span><span class="string" id="1047865">&#34;testdata/testfp.txt:&#34;</span><span class="op" id="1047887">,</span>&nbsp;<span class="ident" id="1047889">lineno</span><span class="op" id="1047895">,</span>&nbsp;<span class="string" id="1047897">&#34;:&nbsp;&#34;</span><span class="op" id="1047901">,</span>&nbsp;<span class="ident" id="1047903">a</span><span class="op" id="1047904">[</span><span class="num" id="1047905">0</span><span class="op" id="1047906">]</span><span class="op" id="1047907">,</span>&nbsp;<span class="string" id="1047909">&#34;&nbsp;&#34;</span><span class="op" id="1047912">,</span>&nbsp;<span class="ident" id="1047914">a</span><span class="op" id="1047915">[</span><span class="num" id="1047916">1</span><span class="op" id="1047917">]</span><span class="op" id="1047918">,</span>&nbsp;<span class="string" id="1047920">&#34;&nbsp;&#34;</span><span class="op" id="1047923">,</span>&nbsp;<span class="ident" id="1047925">a</span><span class="op" id="1047926">[</span><span class="num" id="1047927">2</span><span class="op" id="1047928">]</span><span class="op" id="1047929">,</span>&nbsp;<span class="string" id="1047931">&#34;&nbsp;(&#34;</span><span class="op" id="1047935">,</span>&nbsp;<span class="ident" id="1047937">v</span><span class="op" id="1047938">,</span>&nbsp;<span class="string" id="1047940">&#34;)&nbsp;&#34;</span><span class="op" id="1047944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1047950">&#34;want&nbsp;&#34;</span><span class="op" id="1047957">,</span>&nbsp;<span class="ident" id="1047959">a</span><span class="op" id="1047960">[</span><span class="num" id="1047961">3</span><span class="op" id="1047962">]</span><span class="op" id="1047963">,</span>&nbsp;<span class="string" id="1047965">&#34;&nbsp;got&nbsp;&#34;</span><span class="op" id="1047972">,</span>&nbsp;<span class="ident" id="1047974">s</span><span class="op" id="1047975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1047979">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1047982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1047985">if</span>&nbsp;<span class="ident" id="1047988">s</span><span class="op" id="1047989">.</span><span class="ident" id="1047990">Err</span><span class="op" id="1047993">(</span><span class="op" id="1047994">)</span>&nbsp;<span class="op" id="1047996">!=</span>&nbsp;<span class="builtintype" id="1047999">nil</span>&nbsp;<span class="op" id="1048003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1048007">t</span><span class="op" id="1048008">.</span><span class="ident" id="1048009">Fatal</span><span class="op" id="1048014">(</span><span class="string" id="1048015">&#34;testfp:&nbsp;read&nbsp;testdata/testfp.txt:&nbsp;&#34;</span><span class="op" id="1048051">,</span>&nbsp;<span class="ident" id="1048053">s</span><span class="op" id="1048054">.</span><span class="ident" id="1048055">Err</span><span class="op" id="1048058">(</span><span class="op" id="1048059">)</span><span class="op" id="1048060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1048063">}</span><br>
<span class="lineno"></span><span class="op" id="1048065">}</span>
</div>
</body>
</html>
