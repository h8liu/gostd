<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4398182">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4398238">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4398292">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4398343">package</span>&nbsp;<span class="ident" id="4398351">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4398358">import</span>&nbsp;<span class="string" id="4398365">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4398376">//&nbsp;DWARF&nbsp;debug&nbsp;info&nbsp;is&nbsp;split&nbsp;into&nbsp;a&nbsp;sequence&nbsp;of&nbsp;compilation&nbsp;units.</span><br>
<span class="lineno">10</span><span class="comment" id="4398443">//&nbsp;Each&nbsp;unit&nbsp;has&nbsp;its&nbsp;own&nbsp;abbreviation&nbsp;table&nbsp;and&nbsp;address&nbsp;size.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4398506">type</span>&nbsp;<span class="ident" id="4398511">unit</span>&nbsp;<span class="keyword" id="4398516">struct</span>&nbsp;<span class="op" id="4398523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398526">base</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4398533">Offset</span>&nbsp;<span class="comment" id="4398540">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;header&nbsp;within&nbsp;the&nbsp;aggregate&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398592">off</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4398599">Offset</span>&nbsp;<span class="comment" id="4398606">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;data&nbsp;within&nbsp;the&nbsp;aggregate&nbsp;info</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398656">data</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4398663">[</span><span class="op" id="4398664">]</span><span class="builtintype" id="4398665">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398671">atable</span>&nbsp;<span class="ident" id="4398678">abbrevTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398691">asize</span>&nbsp;&nbsp;<span class="builtintype" id="4398698">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398703">vers</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4398710">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398715">is64</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4398722">bool</span>&nbsp;<span class="comment" id="4398727">//&nbsp;True&nbsp;for&nbsp;64-bit&nbsp;DWARF&nbsp;format</span><br>
<span class="lineno">20</span><span class="op" id="4398759">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4398762">//&nbsp;Implement&nbsp;the&nbsp;dataFormat&nbsp;interface.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4398802">func</span>&nbsp;<span class="op" id="4398807">(</span><span class="ident" id="4398808">u</span>&nbsp;<span class="op" id="4398810">*</span><span class="ident" id="4398811">unit</span><span class="op" id="4398815">)</span>&nbsp;<span class="ident" id="4398817">version</span><span class="op" id="4398824">(</span><span class="op" id="4398825">)</span>&nbsp;<span class="builtintype" id="4398827">int</span>&nbsp;<span class="op" id="4398831">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398834">return</span>&nbsp;<span class="ident" id="4398841">u</span><span class="op" id="4398842">.</span><span class="ident" id="4398843">vers</span><br>
<span class="lineno"></span><span class="op" id="4398848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4398851">func</span>&nbsp;<span class="op" id="4398856">(</span><span class="ident" id="4398857">u</span>&nbsp;<span class="op" id="4398859">*</span><span class="ident" id="4398860">unit</span><span class="op" id="4398864">)</span>&nbsp;<span class="ident" id="4398866">dwarf64</span><span class="op" id="4398873">(</span><span class="op" id="4398874">)</span>&nbsp;<span class="op" id="4398876">(</span><span class="builtintype" id="4398877">bool</span><span class="op" id="4398881">,</span>&nbsp;<span class="builtintype" id="4398883">bool</span><span class="op" id="4398887">)</span>&nbsp;<span class="op" id="4398889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398892">return</span>&nbsp;<span class="ident" id="4398899">u</span><span class="op" id="4398900">.</span><span class="ident" id="4398901">is64</span><span class="op" id="4398905">,</span>&nbsp;<span class="builtintype" id="4398907">true</span><br>
<span class="lineno">30</span><span class="op" id="4398912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4398915">func</span>&nbsp;<span class="op" id="4398920">(</span><span class="ident" id="4398921">u</span>&nbsp;<span class="op" id="4398923">*</span><span class="ident" id="4398924">unit</span><span class="op" id="4398928">)</span>&nbsp;<span class="ident" id="4398930">addrsize</span><span class="op" id="4398938">(</span><span class="op" id="4398939">)</span>&nbsp;<span class="builtintype" id="4398941">int</span>&nbsp;<span class="op" id="4398945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398948">return</span>&nbsp;<span class="ident" id="4398955">u</span><span class="op" id="4398956">.</span><span class="ident" id="4398957">asize</span><br>
<span class="lineno"></span><span class="op" id="4398963">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="4398966">func</span>&nbsp;<span class="op" id="4398971">(</span><span class="ident" id="4398972">d</span>&nbsp;<span class="op" id="4398974">*</span><span class="ident" id="4398975">Data</span><span class="op" id="4398979">)</span>&nbsp;<span class="ident" id="4398981">parseUnits</span><span class="op" id="4398991">(</span><span class="op" id="4398992">)</span>&nbsp;<span class="op" id="4398994">(</span><span class="op" id="4398995">[</span><span class="op" id="4398996">]</span><span class="ident" id="4398997">unit</span><span class="op" id="4399001">,</span>&nbsp;<span class="builtintype" id="4399003">error</span><span class="op" id="4399008">)</span>&nbsp;<span class="op" id="4399010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4399013">//&nbsp;Count&nbsp;units.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399030">nunit</span>&nbsp;<span class="op" id="4399036">:=</span>&nbsp;<span class="num" id="4399039">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399042">b</span>&nbsp;<span class="op" id="4399044">:=</span>&nbsp;<span class="ident" id="4399047">makeBuf</span><span class="op" id="4399054">(</span><span class="ident" id="4399055">d</span><span class="op" id="4399056">,</span>&nbsp;<span class="ident" id="4399058">unknownFormat</span><span class="op" id="4399071">{</span><span class="op" id="4399072">}</span><span class="op" id="4399073">,</span>&nbsp;<span class="string" id="4399075">&#34;info&#34;</span><span class="op" id="4399081">,</span>&nbsp;<span class="num" id="4399083">0</span><span class="op" id="4399084">,</span>&nbsp;<span class="ident" id="4399086">d</span><span class="op" id="4399087">.</span><span class="ident" id="4399088">info</span><span class="op" id="4399092">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399095">for</span>&nbsp;<span class="builtinfunc" id="4399099">len</span><span class="op" id="4399102">(</span><span class="ident" id="4399103">b</span><span class="op" id="4399104">.</span><span class="ident" id="4399105">data</span><span class="op" id="4399109">)</span>&nbsp;<span class="op" id="4399111">&gt;</span>&nbsp;<span class="num" id="4399113">0</span>&nbsp;<span class="op" id="4399115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4399119">len</span>&nbsp;<span class="op" id="4399123">:=</span>&nbsp;<span class="ident" id="4399126">b</span><span class="op" id="4399127">.</span><span class="builtintype" id="4399128">uint32</span><span class="op" id="4399134">(</span><span class="op" id="4399135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399139">if</span>&nbsp;<span class="builtinfunc" id="4399142">len</span>&nbsp;<span class="op" id="4399146">==</span>&nbsp;<span class="num" id="4399149">0xffffffff</span>&nbsp;<span class="op" id="4399160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399165">len64</span>&nbsp;<span class="op" id="4399171">:=</span>&nbsp;<span class="ident" id="4399174">b</span><span class="op" id="4399175">.</span><span class="ident" id="4399176">uint64</span><span class="op" id="4399182">(</span><span class="op" id="4399183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399188">if</span>&nbsp;<span class="ident" id="4399191">len64</span>&nbsp;<span class="op" id="4399197">!=</span>&nbsp;<span class="ident" id="4399200">uint64</span><span class="op" id="4399206">(</span><span class="builtintype" id="4399207">uint32</span><span class="op" id="4399213">(</span><span class="ident" id="4399214">len64</span><span class="op" id="4399219">)</span><span class="op" id="4399220">)</span>&nbsp;<span class="op" id="4399222">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399228">b</span><span class="op" id="4399229">.</span><span class="builtintype" id="4399230">error</span><span class="op" id="4399235">(</span><span class="string" id="4399236">&#34;unit&nbsp;length&nbsp;overflow&#34;</span><span class="op" id="4399258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399264">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4399278">len</span>&nbsp;<span class="op" id="4399282">=</span>&nbsp;<span class="builtintype" id="4399284">uint32</span><span class="op" id="4399290">(</span><span class="ident" id="4399291">len64</span><span class="op" id="4399296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399300">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399304">b</span><span class="op" id="4399305">.</span><span class="ident" id="4399306">skip</span><span class="op" id="4399310">(</span><span class="builtintype" id="4399311">int</span><span class="op" id="4399314">(</span><span class="builtinfunc" id="4399315">len</span><span class="op" id="4399318">)</span><span class="op" id="4399319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399323">nunit</span><span class="op" id="4399328">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399335">if</span>&nbsp;<span class="ident" id="4399338">b</span><span class="op" id="4399339">.</span><span class="ident" id="4399340">err</span>&nbsp;<span class="op" id="4399344">!=</span>&nbsp;<span class="ident" id="4399347">nil</span>&nbsp;<span class="op" id="4399351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399355">return</span>&nbsp;<span class="ident" id="4399362">nil</span><span class="op" id="4399365">,</span>&nbsp;<span class="ident" id="4399367">b</span><span class="op" id="4399368">.</span><span class="ident" id="4399369">err</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4399378">//&nbsp;Again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399418">b</span>&nbsp;<span class="op" id="4399420">=</span>&nbsp;<span class="ident" id="4399422">makeBuf</span><span class="op" id="4399429">(</span><span class="ident" id="4399430">d</span><span class="op" id="4399431">,</span>&nbsp;<span class="ident" id="4399433">unknownFormat</span><span class="op" id="4399446">{</span><span class="op" id="4399447">}</span><span class="op" id="4399448">,</span>&nbsp;<span class="string" id="4399450">&#34;info&#34;</span><span class="op" id="4399456">,</span>&nbsp;<span class="num" id="4399458">0</span><span class="op" id="4399459">,</span>&nbsp;<span class="ident" id="4399461">d</span><span class="op" id="4399462">.</span><span class="ident" id="4399463">info</span><span class="op" id="4399467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399470">units</span>&nbsp;<span class="op" id="4399476">:=</span>&nbsp;<span class="builtinfunc" id="4399479">make</span><span class="op" id="4399483">(</span><span class="op" id="4399484">[</span><span class="op" id="4399485">]</span><span class="ident" id="4399486">unit</span><span class="op" id="4399490">,</span>&nbsp;<span class="ident" id="4399492">nunit</span><span class="op" id="4399497">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399500">for</span>&nbsp;<span class="ident" id="4399504">i</span>&nbsp;<span class="op" id="4399506">:=</span>&nbsp;<span class="keyword" id="4399509">range</span>&nbsp;<span class="ident" id="4399515">units</span>&nbsp;<span class="op" id="4399521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399525">u</span>&nbsp;<span class="op" id="4399527">:=</span>&nbsp;<span class="op" id="4399530">&amp;</span><span class="ident" id="4399531">units</span><span class="op" id="4399536">[</span><span class="ident" id="4399537">i</span><span class="op" id="4399538">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399542">u</span><span class="op" id="4399543">.</span><span class="ident" id="4399544">base</span>&nbsp;<span class="op" id="4399549">=</span>&nbsp;<span class="ident" id="4399551">b</span><span class="op" id="4399552">.</span><span class="ident" id="4399553">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399559">n</span>&nbsp;<span class="op" id="4399561">:=</span>&nbsp;<span class="ident" id="4399564">b</span><span class="op" id="4399565">.</span><span class="builtintype" id="4399566">uint32</span><span class="op" id="4399572">(</span><span class="op" id="4399573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399577">if</span>&nbsp;<span class="ident" id="4399580">n</span>&nbsp;<span class="op" id="4399582">==</span>&nbsp;<span class="num" id="4399585">0xffffffff</span>&nbsp;<span class="op" id="4399596">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399601">u</span><span class="op" id="4399602">.</span><span class="ident" id="4399603">is64</span>&nbsp;<span class="op" id="4399608">=</span>&nbsp;<span class="builtintype" id="4399610">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399618">n</span>&nbsp;<span class="op" id="4399620">=</span>&nbsp;<span class="builtintype" id="4399622">uint32</span><span class="op" id="4399628">(</span><span class="ident" id="4399629">b</span><span class="op" id="4399630">.</span><span class="ident" id="4399631">uint64</span><span class="op" id="4399637">(</span><span class="op" id="4399638">)</span><span class="op" id="4399639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399647">vers</span>&nbsp;<span class="op" id="4399652">:=</span>&nbsp;<span class="ident" id="4399655">b</span><span class="op" id="4399656">.</span><span class="builtintype" id="4399657">uint16</span><span class="op" id="4399663">(</span><span class="op" id="4399664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399668">if</span>&nbsp;<span class="ident" id="4399671">vers</span>&nbsp;<span class="op" id="4399676">!=</span>&nbsp;<span class="num" id="4399679">2</span>&nbsp;<span class="op" id="4399681">&amp;&amp;</span>&nbsp;<span class="ident" id="4399684">vers</span>&nbsp;<span class="op" id="4399689">!=</span>&nbsp;<span class="num" id="4399692">3</span>&nbsp;<span class="op" id="4399694">&amp;&amp;</span>&nbsp;<span class="ident" id="4399697">vers</span>&nbsp;<span class="op" id="4399702">!=</span>&nbsp;<span class="num" id="4399705">4</span>&nbsp;<span class="op" id="4399707">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399712">b</span><span class="op" id="4399713">.</span><span class="builtintype" id="4399714">error</span><span class="op" id="4399719">(</span><span class="string" id="4399720">&#34;unsupported&nbsp;DWARF&nbsp;version&nbsp;&#34;</span>&nbsp;<span class="op" id="4399749">+</span>&nbsp;<span class="ident" id="4399751">strconv</span><span class="op" id="4399758">.</span><span class="ident" id="4399759">Itoa</span><span class="op" id="4399763">(</span><span class="builtintype" id="4399764">int</span><span class="op" id="4399767">(</span><span class="ident" id="4399768">vers</span><span class="op" id="4399772">)</span><span class="op" id="4399773">)</span><span class="op" id="4399774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399779">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399791">u</span><span class="op" id="4399792">.</span><span class="ident" id="4399793">vers</span>&nbsp;<span class="op" id="4399798">=</span>&nbsp;<span class="builtintype" id="4399800">int</span><span class="op" id="4399803">(</span><span class="ident" id="4399804">vers</span><span class="op" id="4399808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399812">atable</span><span class="op" id="4399818">,</span>&nbsp;<span class="ident" id="4399820">err</span>&nbsp;<span class="op" id="4399824">:=</span>&nbsp;<span class="ident" id="4399827">d</span><span class="op" id="4399828">.</span><span class="ident" id="4399829">parseAbbrev</span><span class="op" id="4399840">(</span><span class="ident" id="4399841">b</span><span class="op" id="4399842">.</span><span class="builtintype" id="4399843">uint32</span><span class="op" id="4399849">(</span><span class="op" id="4399850">)</span><span class="op" id="4399851">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399855">if</span>&nbsp;<span class="ident" id="4399858">err</span>&nbsp;<span class="op" id="4399862">!=</span>&nbsp;<span class="ident" id="4399865">nil</span>&nbsp;<span class="op" id="4399869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399874">if</span>&nbsp;<span class="ident" id="4399877">b</span><span class="op" id="4399878">.</span><span class="ident" id="4399879">err</span>&nbsp;<span class="op" id="4399883">==</span>&nbsp;<span class="ident" id="4399886">nil</span>&nbsp;<span class="op" id="4399890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399896">b</span><span class="op" id="4399897">.</span><span class="ident" id="4399898">err</span>&nbsp;<span class="op" id="4399902">=</span>&nbsp;<span class="ident" id="4399904">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399916">break</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399928">u</span><span class="op" id="4399929">.</span><span class="ident" id="4399930">atable</span>&nbsp;<span class="op" id="4399937">=</span>&nbsp;<span class="ident" id="4399939">atable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399948">u</span><span class="op" id="4399949">.</span><span class="ident" id="4399950">asize</span>&nbsp;<span class="op" id="4399956">=</span>&nbsp;<span class="builtintype" id="4399958">int</span><span class="op" id="4399961">(</span><span class="ident" id="4399962">b</span><span class="op" id="4399963">.</span><span class="builtintype" id="4399964">uint8</span><span class="op" id="4399969">(</span><span class="op" id="4399970">)</span><span class="op" id="4399971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399975">u</span><span class="op" id="4399976">.</span><span class="ident" id="4399977">off</span>&nbsp;<span class="op" id="4399981">=</span>&nbsp;<span class="ident" id="4399983">b</span><span class="op" id="4399984">.</span><span class="ident" id="4399985">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399991">u</span><span class="op" id="4399992">.</span><span class="ident" id="4399993">data</span>&nbsp;<span class="op" id="4399998">=</span>&nbsp;<span class="ident" id="4400000">b</span><span class="op" id="4400001">.</span><span class="ident" id="4400002">bytes</span><span class="op" id="4400007">(</span><span class="builtintype" id="4400008">int</span><span class="op" id="4400011">(</span><span class="ident" id="4400012">n</span>&nbsp;<span class="op" id="4400014">-</span>&nbsp;<span class="op" id="4400016">(</span><span class="num" id="4400017">2</span>&nbsp;<span class="op" id="4400019">+</span>&nbsp;<span class="num" id="4400021">4</span>&nbsp;<span class="op" id="4400023">+</span>&nbsp;<span class="num" id="4400025">1</span><span class="op" id="4400026">)</span><span class="op" id="4400027">)</span><span class="op" id="4400028">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400034">if</span>&nbsp;<span class="ident" id="4400037">b</span><span class="op" id="4400038">.</span><span class="ident" id="4400039">err</span>&nbsp;<span class="op" id="4400043">!=</span>&nbsp;<span class="ident" id="4400046">nil</span>&nbsp;<span class="op" id="4400050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400054">return</span>&nbsp;<span class="ident" id="4400061">nil</span><span class="op" id="4400064">,</span>&nbsp;<span class="ident" id="4400066">b</span><span class="op" id="4400067">.</span><span class="ident" id="4400068">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400076">return</span>&nbsp;<span class="ident" id="4400083">units</span><span class="op" id="4400088">,</span>&nbsp;<span class="ident" id="4400090">nil</span><br>
<span class="lineno">90</span><span class="op" id="4400094">}</span>
</div>
</body>
</html>
