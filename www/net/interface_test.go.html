<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7876146">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7876202">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7876256">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7876307">package</span>&nbsp;<span class="ident" id="7876315">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7876320">import</span>&nbsp;<span class="op" id="7876327">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876330">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876341">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7876351">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7876354">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="7876422">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="7876489">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="7876499">func</span>&nbsp;<span class="ident" id="7876504">loopbackInterface</span><span class="op" id="7876521">(</span><span class="op" id="7876522">)</span>&nbsp;<span class="op" id="7876524">*</span><span class="ident" id="7876525"><a href="/net/interface.go.html#1406383">Interface</a></span>&nbsp;<span class="op" id="7876535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876538">ift</span><span class="op" id="7876541">,</span>&nbsp;<span class="ident" id="7876543">err</span>&nbsp;<span class="op" id="7876547">:=</span>&nbsp;<span class="ident" id="7876550"><a href="/net/interface.go.html#1407961">Interfaces</a></span><span class="op" id="7876560">(</span><span class="op" id="7876561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876564">if</span>&nbsp;<span class="ident" id="7876567"><a href="/net/interface_test.go.html#7876543">err</a></span>&nbsp;<span class="op" id="7876571">!=</span>&nbsp;<span class="ident" id="7876574">nil</span>&nbsp;<span class="op" id="7876578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876582">return</span>&nbsp;<span class="ident" id="7876589">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876594">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876597">for</span>&nbsp;<span class="ident" id="7876601">_</span><span class="op" id="7876602">,</span>&nbsp;<span class="ident" id="7876604">ifi</span>&nbsp;<span class="op" id="7876608">:=</span>&nbsp;<span class="keyword" id="7876611">range</span>&nbsp;<span class="ident" id="7876617"><a href="/net/interface_test.go.html#7876538">ift</a></span>&nbsp;<span class="op" id="7876621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876625">if</span>&nbsp;<span class="ident" id="7876628"><a href="/net/interface_test.go.html#7876604">ifi</a></span><span class="op" id="7876631">.</span><span class="ident" id="7876632">Flags</span><span class="op" id="7876637">&amp;</span><span class="ident" id="7876638"><a href="/net/interface.go.html#1406913">FlagLoopback</a></span>&nbsp;<span class="op" id="7876651">!=</span>&nbsp;<span class="num" id="7876654">0</span>&nbsp;<span class="op" id="7876656">&amp;&amp;</span>&nbsp;<span class="ident" id="7876659"><a href="/net/interface_test.go.html#7876604">ifi</a></span><span class="op" id="7876662">.</span><span class="ident" id="7876663">Flags</span><span class="op" id="7876668">&amp;</span><span class="ident" id="7876669"><a href="/net/interface.go.html#1406772">FlagUp</a></span>&nbsp;<span class="op" id="7876676">!=</span>&nbsp;<span class="num" id="7876679">0</span>&nbsp;<span class="op" id="7876681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876686">return</span>&nbsp;<span class="op" id="7876693">&amp;</span><span class="ident" id="7876694"><a href="/net/interface_test.go.html#7876604">ifi</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876703">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876706">return</span>&nbsp;<span class="ident" id="7876713">nil</span><br>
<span class="lineno"></span><span class="op" id="7876717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7876720">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="7876791">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="7876856">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="7876886">func</span>&nbsp;<span class="ident" id="7876891">ipv6LinkLocalUnicastAddr</span><span class="op" id="7876915">(</span><span class="ident" id="7876916">ifi</span>&nbsp;<span class="op" id="7876920">*</span><span class="ident" id="7876921"><a href="/net/interface.go.html#1406383">Interface</a></span><span class="op" id="7876930">)</span>&nbsp;<span class="builtintype" id="7876932">string</span>&nbsp;<span class="op" id="7876939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876942">if</span>&nbsp;<span class="ident" id="7876945"><a href="/net/interface_test.go.html#7876916">ifi</a></span>&nbsp;<span class="op" id="7876949">==</span>&nbsp;<span class="ident" id="7876952">nil</span>&nbsp;<span class="op" id="7876956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876960">return</span>&nbsp;<span class="string" id="7876967">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876971">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876974">ifat</span><span class="op" id="7876978">,</span>&nbsp;<span class="ident" id="7876980">err</span>&nbsp;<span class="op" id="7876984">:=</span>&nbsp;<span class="ident" id="7876987"><a href="/net/interface_test.go.html#7876916">ifi</a></span><span class="op" id="7876990">.</span><span class="ident" id="7876991">Addrs</span><span class="op" id="7876996">(</span><span class="op" id="7876997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877000">if</span>&nbsp;<span class="ident" id="7877003"><a href="/net/interface_test.go.html#7876980">err</a></span>&nbsp;<span class="op" id="7877007">!=</span>&nbsp;<span class="ident" id="7877010">nil</span>&nbsp;<span class="op" id="7877014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877018">return</span>&nbsp;<span class="string" id="7877025">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877032">for</span>&nbsp;<span class="ident" id="7877036">_</span><span class="op" id="7877037">,</span>&nbsp;<span class="ident" id="7877039">ifa</span>&nbsp;<span class="op" id="7877043">:=</span>&nbsp;<span class="keyword" id="7877046">range</span>&nbsp;<span class="ident" id="7877052"><a href="/net/interface_test.go.html#7876974">ifat</a></span>&nbsp;<span class="op" id="7877057">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877061">switch</span>&nbsp;<span class="ident" id="7877068">ifa</span>&nbsp;<span class="op" id="7877072">:=</span>&nbsp;<span class="ident" id="7877075"><a href="/net/interface_test.go.html#7877039">ifa</a></span><span class="op" id="7877078">.</span><span class="op" id="7877079">(</span><span class="keyword" id="7877080">type</span><span class="op" id="7877084">)</span>&nbsp;<span class="op" id="7877086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877090">case</span>&nbsp;<span class="op" id="7877095">*</span><span class="ident" id="7877096"><a href="/net/iprawsock.go.html#1432036">IPAddr</a></span><span class="op" id="7877102">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877107">if</span>&nbsp;<span class="ident" id="7877110"><a href="/net/interface_test.go.html#7877068">ifa</a></span><span class="op" id="7877113">.</span><span class="ident" id="7877114">IP</span><span class="op" id="7877116">.</span><span class="ident" id="7877117">To4</span><span class="op" id="7877120">(</span><span class="op" id="7877121">)</span>&nbsp;<span class="op" id="7877123">==</span>&nbsp;<span class="ident" id="7877126">nil</span>&nbsp;<span class="op" id="7877130">&amp;&amp;</span>&nbsp;<span class="ident" id="7877133"><a href="/net/interface_test.go.html#7877068">ifa</a></span><span class="op" id="7877136">.</span><span class="ident" id="7877137">IP</span><span class="op" id="7877139">.</span><span class="ident" id="7877140">IsLinkLocalUnicast</span><span class="op" id="7877158">(</span><span class="op" id="7877159">)</span>&nbsp;<span class="op" id="7877161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877167">return</span>&nbsp;<span class="ident" id="7877174"><a href="/net/interface_test.go.html#7877068">ifa</a></span><span class="op" id="7877177">.</span><span class="ident" id="7877178">IP</span><span class="op" id="7877180">.</span><span class="ident" id="7877181">String</span><span class="op" id="7877187">(</span><span class="op" id="7877188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877193">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877197">case</span>&nbsp;<span class="op" id="7877202">*</span><span class="ident" id="7877203"><a href="/net/ip.go.html#1417295">IPNet</a></span><span class="op" id="7877208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877213">if</span>&nbsp;<span class="ident" id="7877216"><a href="/net/interface_test.go.html#7877068">ifa</a></span><span class="op" id="7877219">.</span><span class="ident" id="7877220">IP</span><span class="op" id="7877222">.</span><span class="ident" id="7877223">To4</span><span class="op" id="7877226">(</span><span class="op" id="7877227">)</span>&nbsp;<span class="op" id="7877229">==</span>&nbsp;<span class="ident" id="7877232">nil</span>&nbsp;<span class="op" id="7877236">&amp;&amp;</span>&nbsp;<span class="ident" id="7877239"><a href="/net/interface_test.go.html#7877068">ifa</a></span><span class="op" id="7877242">.</span><span class="ident" id="7877243">IP</span><span class="op" id="7877245">.</span><span class="ident" id="7877246">IsLinkLocalUnicast</span><span class="op" id="7877264">(</span><span class="op" id="7877265">)</span>&nbsp;<span class="op" id="7877267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877273">return</span>&nbsp;<span class="ident" id="7877280"><a href="/net/interface_test.go.html#7877068">ifa</a></span><span class="op" id="7877283">.</span><span class="ident" id="7877284">IP</span><span class="op" id="7877286">.</span><span class="ident" id="7877287">String</span><span class="op" id="7877293">(</span><span class="op" id="7877294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877303">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877309">return</span>&nbsp;<span class="string" id="7877316">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7877319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7877322">func</span>&nbsp;<span class="ident" id="7877327">TestInterfaces</span><span class="op" id="7877341">(</span><span class="ident" id="7877342">t</span>&nbsp;<span class="op" id="7877344">*</span><span class="ident" id="7877345"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7877352">.</span><span class="ident" id="7877353">T</span><span class="op" id="7877354">)</span>&nbsp;<span class="op" id="7877356">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877359">ift</span><span class="op" id="7877362">,</span>&nbsp;<span class="ident" id="7877364">err</span>&nbsp;<span class="op" id="7877368">:=</span>&nbsp;<span class="ident" id="7877371"><a href="/net/interface.go.html#1407961">Interfaces</a></span><span class="op" id="7877381">(</span><span class="op" id="7877382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877385">if</span>&nbsp;<span class="ident" id="7877388"><a href="/net/interface_test.go.html#7877364">err</a></span>&nbsp;<span class="op" id="7877392">!=</span>&nbsp;<span class="ident" id="7877395">nil</span>&nbsp;<span class="op" id="7877399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877403"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7877404">.</span><span class="ident" id="7877405">Fatalf</span><span class="op" id="7877411">(</span><span class="string" id="7877412">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7877435">,</span>&nbsp;<span class="ident" id="7877437"><a href="/net/interface_test.go.html#7877364">err</a></span><span class="op" id="7877440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877446"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7877447">.</span><span class="ident" id="7877448">Logf</span><span class="op" id="7877452">(</span><span class="string" id="7877453">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7877477">,</span>&nbsp;<span class="builtinfunc" id="7877479">len</span><span class="op" id="7877482">(</span><span class="ident" id="7877483"><a href="/net/interface_test.go.html#7877359">ift</a></span><span class="op" id="7877486">)</span><span class="op" id="7877487">,</span>&nbsp;<span class="builtinfunc" id="7877489">cap</span><span class="op" id="7877492">(</span><span class="ident" id="7877493"><a href="/net/interface_test.go.html#7877359">ift</a></span><span class="op" id="7877496">)</span><span class="op" id="7877497">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877501">for</span>&nbsp;<span class="ident" id="7877505">_</span><span class="op" id="7877506">,</span>&nbsp;<span class="ident" id="7877508">ifi</span>&nbsp;<span class="op" id="7877512">:=</span>&nbsp;<span class="keyword" id="7877515">range</span>&nbsp;<span class="ident" id="7877521"><a href="/net/interface_test.go.html#7877359">ift</a></span>&nbsp;<span class="op" id="7877525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877529">ifxi</span><span class="op" id="7877533">,</span>&nbsp;<span class="ident" id="7877535">err</span>&nbsp;<span class="op" id="7877539">:=</span>&nbsp;<span class="ident" id="7877542"><a href="/net/interface.go.html#1408249">InterfaceByIndex</a></span><span class="op" id="7877558">(</span><span class="ident" id="7877559"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877562">.</span><span class="ident" id="7877563">Index</span><span class="op" id="7877568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877572">if</span>&nbsp;<span class="ident" id="7877575"><a href="/net/interface_test.go.html#7877535">err</a></span>&nbsp;<span class="op" id="7877579">!=</span>&nbsp;<span class="ident" id="7877582">nil</span>&nbsp;<span class="op" id="7877586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877591"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7877592">.</span><span class="ident" id="7877593">Fatalf</span><span class="op" id="7877599">(</span><span class="string" id="7877600">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7877633">,</span>&nbsp;<span class="ident" id="7877635"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877638">.</span><span class="ident" id="7877639">Index</span><span class="op" id="7877644">,</span>&nbsp;<span class="ident" id="7877646"><a href="/net/interface_test.go.html#7877535">err</a></span><span class="op" id="7877649">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877657">if</span>&nbsp;<span class="op" id="7877660">!</span><span class="ident" id="7877661"><a href="/net/interface_test.go.html#7876330">reflect</a></span><span class="op" id="7877668">.</span><span class="ident" id="7877669">DeepEqual</span><span class="op" id="7877678">(</span><span class="ident" id="7877679"><a href="/net/interface_test.go.html#7877529">ifxi</a></span><span class="op" id="7877683">,</span>&nbsp;<span class="op" id="7877685">&amp;</span><span class="ident" id="7877686"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877689">)</span>&nbsp;<span class="op" id="7877691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877696"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7877697">.</span><span class="ident" id="7877698">Fatalf</span><span class="op" id="7877704">(</span><span class="string" id="7877705">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7877741">,</span>&nbsp;<span class="ident" id="7877743"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877746">.</span><span class="ident" id="7877747">Index</span><span class="op" id="7877752">,</span>&nbsp;<span class="ident" id="7877754"><a href="/net/interface_test.go.html#7877529">ifxi</a></span><span class="op" id="7877758">,</span>&nbsp;<span class="ident" id="7877760"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877771">ifxn</span><span class="op" id="7877775">,</span>&nbsp;<span class="ident" id="7877777"><a href="/net/interface_test.go.html#7877535">err</a></span>&nbsp;<span class="op" id="7877781">:=</span>&nbsp;<span class="ident" id="7877784"><a href="/net/interface.go.html#1408723">InterfaceByName</a></span><span class="op" id="7877799">(</span><span class="ident" id="7877800"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877803">.</span><span class="ident" id="7877804">Name</span><span class="op" id="7877808">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877812">if</span>&nbsp;<span class="ident" id="7877815"><a href="/net/interface_test.go.html#7877535">err</a></span>&nbsp;<span class="op" id="7877819">!=</span>&nbsp;<span class="ident" id="7877822">nil</span>&nbsp;<span class="op" id="7877826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877831"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7877832">.</span><span class="ident" id="7877833">Fatalf</span><span class="op" id="7877839">(</span><span class="string" id="7877840">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7877872">,</span>&nbsp;<span class="ident" id="7877874"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877877">.</span><span class="ident" id="7877878">Name</span><span class="op" id="7877882">,</span>&nbsp;<span class="ident" id="7877884"><a href="/net/interface_test.go.html#7877535">err</a></span><span class="op" id="7877887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877895">if</span>&nbsp;<span class="op" id="7877898">!</span><span class="ident" id="7877899"><a href="/net/interface_test.go.html#7876330">reflect</a></span><span class="op" id="7877906">.</span><span class="ident" id="7877907">DeepEqual</span><span class="op" id="7877916">(</span><span class="ident" id="7877917"><a href="/net/interface_test.go.html#7877771">ifxn</a></span><span class="op" id="7877921">,</span>&nbsp;<span class="op" id="7877923">&amp;</span><span class="ident" id="7877924"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877927">)</span>&nbsp;<span class="op" id="7877929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877934"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7877935">.</span><span class="ident" id="7877936">Fatalf</span><span class="op" id="7877942">(</span><span class="string" id="7877943">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7877978">,</span>&nbsp;<span class="ident" id="7877980"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877983">.</span><span class="ident" id="7877984">Name</span><span class="op" id="7877988">,</span>&nbsp;<span class="ident" id="7877990"><a href="/net/interface_test.go.html#7877771">ifxn</a></span><span class="op" id="7877994">,</span>&nbsp;<span class="ident" id="7877996"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7877999">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878007"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7878008">.</span><span class="ident" id="7878009">Logf</span><span class="op" id="7878013">(</span><span class="string" id="7878014">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="7878048">,</span>&nbsp;<span class="ident" id="7878050"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7878053">.</span><span class="ident" id="7878054">Name</span><span class="op" id="7878058">,</span>&nbsp;<span class="ident" id="7878060"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7878063">.</span><span class="ident" id="7878064">Flags</span><span class="op" id="7878069">.</span><span class="ident" id="7878070">String</span><span class="op" id="7878076">(</span><span class="op" id="7878077">)</span><span class="op" id="7878078">,</span>&nbsp;<span class="ident" id="7878080"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7878083">.</span><span class="ident" id="7878084">Index</span><span class="op" id="7878089">,</span>&nbsp;<span class="ident" id="7878091"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7878094">.</span><span class="ident" id="7878095">MTU</span><span class="op" id="7878098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878102"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7878103">.</span><span class="ident" id="7878104">Logf</span><span class="op" id="7878108">(</span><span class="string" id="7878109">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7878132">,</span>&nbsp;<span class="ident" id="7878134"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7878137">.</span><span class="ident" id="7878138">HardwareAddr</span><span class="op" id="7878150">.</span><span class="ident" id="7878151">String</span><span class="op" id="7878157">(</span><span class="op" id="7878158">)</span><span class="op" id="7878159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878163"><a href="/net/interface_test.go.html#7878456">testInterfaceAddrs</a></span><span class="op" id="7878181">(</span><span class="ident" id="7878182"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7878183">,</span>&nbsp;<span class="op" id="7878185">&amp;</span><span class="ident" id="7878186"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7878189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878193"><a href="/net/interface_test.go.html#7878627">testInterfaceMulticastAddrs</a></span><span class="op" id="7878220">(</span><span class="ident" id="7878221"><a href="/net/interface_test.go.html#7877342">t</a></span><span class="op" id="7878222">,</span>&nbsp;<span class="op" id="7878224">&amp;</span><span class="ident" id="7878225"><a href="/net/interface_test.go.html#7877508">ifi</a></span><span class="op" id="7878228">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878231">}</span><br>
<span class="lineno"></span><span class="op" id="7878233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878236">func</span>&nbsp;<span class="ident" id="7878241">TestInterfaceAddrs</span><span class="op" id="7878259">(</span><span class="ident" id="7878260">t</span>&nbsp;<span class="op" id="7878262">*</span><span class="ident" id="7878263"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7878270">.</span><span class="ident" id="7878271">T</span><span class="op" id="7878272">)</span>&nbsp;<span class="op" id="7878274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878277">ifat</span><span class="op" id="7878281">,</span>&nbsp;<span class="ident" id="7878283">err</span>&nbsp;<span class="op" id="7878287">:=</span>&nbsp;<span class="ident" id="7878290"><a href="/net/interface.go.html#1408112">InterfaceAddrs</a></span><span class="op" id="7878304">(</span><span class="op" id="7878305">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878308">if</span>&nbsp;<span class="ident" id="7878311"><a href="/net/interface_test.go.html#7878283">err</a></span>&nbsp;<span class="op" id="7878315">!=</span>&nbsp;<span class="ident" id="7878318">nil</span>&nbsp;<span class="op" id="7878322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878326"><a href="/net/interface_test.go.html#7878260">t</a></span><span class="op" id="7878327">.</span><span class="ident" id="7878328">Fatalf</span><span class="op" id="7878334">(</span><span class="string" id="7878335">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7878362">,</span>&nbsp;<span class="ident" id="7878364"><a href="/net/interface_test.go.html#7878283">err</a></span><span class="op" id="7878367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878373"><a href="/net/interface_test.go.html#7878260">t</a></span><span class="op" id="7878374">.</span><span class="ident" id="7878375">Logf</span><span class="op" id="7878379">(</span><span class="string" id="7878380">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7878404">,</span>&nbsp;<span class="builtinfunc" id="7878406">len</span><span class="op" id="7878409">(</span><span class="ident" id="7878410"><a href="/net/interface_test.go.html#7878277">ifat</a></span><span class="op" id="7878414">)</span><span class="op" id="7878415">,</span>&nbsp;<span class="builtinfunc" id="7878417">cap</span><span class="op" id="7878420">(</span><span class="ident" id="7878421"><a href="/net/interface_test.go.html#7878277">ifat</a></span><span class="op" id="7878425">)</span><span class="op" id="7878426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878429"><a href="/net/interface_test.go.html#7878836">testAddrs</a></span><span class="op" id="7878438">(</span><span class="ident" id="7878439"><a href="/net/interface_test.go.html#7878260">t</a></span><span class="op" id="7878440">,</span>&nbsp;<span class="ident" id="7878442"><a href="/net/interface_test.go.html#7878277">ifat</a></span><span class="op" id="7878446">)</span><br>
<span class="lineno">90</span><span class="op" id="7878448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878451">func</span>&nbsp;<span class="ident" id="7878456">testInterfaceAddrs</span><span class="op" id="7878474">(</span><span class="ident" id="7878475">t</span>&nbsp;<span class="op" id="7878477">*</span><span class="ident" id="7878478"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7878485">.</span><span class="ident" id="7878486">T</span><span class="op" id="7878487">,</span>&nbsp;<span class="ident" id="7878489">ifi</span>&nbsp;<span class="op" id="7878493">*</span><span class="ident" id="7878494"><a href="/net/interface.go.html#1406383">Interface</a></span><span class="op" id="7878503">)</span>&nbsp;<span class="op" id="7878505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878508">ifat</span><span class="op" id="7878512">,</span>&nbsp;<span class="ident" id="7878514">err</span>&nbsp;<span class="op" id="7878518">:=</span>&nbsp;<span class="ident" id="7878521"><a href="/net/interface_test.go.html#7878489">ifi</a></span><span class="op" id="7878524">.</span><span class="ident" id="7878525">Addrs</span><span class="op" id="7878530">(</span><span class="op" id="7878531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878534">if</span>&nbsp;<span class="ident" id="7878537"><a href="/net/interface_test.go.html#7878514">err</a></span>&nbsp;<span class="op" id="7878541">!=</span>&nbsp;<span class="ident" id="7878544">nil</span>&nbsp;<span class="op" id="7878548">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878552"><a href="/net/interface_test.go.html#7878475">t</a></span><span class="op" id="7878553">.</span><span class="ident" id="7878554">Fatalf</span><span class="op" id="7878560">(</span><span class="string" id="7878561">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7878589">,</span>&nbsp;<span class="ident" id="7878591"><a href="/net/interface_test.go.html#7878514">err</a></span><span class="op" id="7878594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878600"><a href="/net/interface_test.go.html#7878836">testAddrs</a></span><span class="op" id="7878609">(</span><span class="ident" id="7878610"><a href="/net/interface_test.go.html#7878475">t</a></span><span class="op" id="7878611">,</span>&nbsp;<span class="ident" id="7878613"><a href="/net/interface_test.go.html#7878508">ifat</a></span><span class="op" id="7878617">)</span><br>
<span class="lineno"></span><span class="op" id="7878619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7878622">func</span>&nbsp;<span class="ident" id="7878627">testInterfaceMulticastAddrs</span><span class="op" id="7878654">(</span><span class="ident" id="7878655">t</span>&nbsp;<span class="op" id="7878657">*</span><span class="ident" id="7878658"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7878665">.</span><span class="ident" id="7878666">T</span><span class="op" id="7878667">,</span>&nbsp;<span class="ident" id="7878669">ifi</span>&nbsp;<span class="op" id="7878673">*</span><span class="ident" id="7878674"><a href="/net/interface.go.html#1406383">Interface</a></span><span class="op" id="7878683">)</span>&nbsp;<span class="op" id="7878685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878688">ifmat</span><span class="op" id="7878693">,</span>&nbsp;<span class="ident" id="7878695">err</span>&nbsp;<span class="op" id="7878699">:=</span>&nbsp;<span class="ident" id="7878702"><a href="/net/interface_test.go.html#7878669">ifi</a></span><span class="op" id="7878705">.</span><span class="ident" id="7878706">MulticastAddrs</span><span class="op" id="7878720">(</span><span class="op" id="7878721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878724">if</span>&nbsp;<span class="ident" id="7878727"><a href="/net/interface_test.go.html#7878695">err</a></span>&nbsp;<span class="op" id="7878731">!=</span>&nbsp;<span class="ident" id="7878734">nil</span>&nbsp;<span class="op" id="7878738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878742"><a href="/net/interface_test.go.html#7878655">t</a></span><span class="op" id="7878743">.</span><span class="ident" id="7878744">Fatalf</span><span class="op" id="7878750">(</span><span class="string" id="7878751">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7878788">,</span>&nbsp;<span class="ident" id="7878790"><a href="/net/interface_test.go.html#7878695">err</a></span><span class="op" id="7878793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878796">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878799"><a href="/net/interface_test.go.html#7879654">testMulticastAddrs</a></span><span class="op" id="7878817">(</span><span class="ident" id="7878818"><a href="/net/interface_test.go.html#7878655">t</a></span><span class="op" id="7878819">,</span>&nbsp;<span class="ident" id="7878821"><a href="/net/interface_test.go.html#7878688">ifmat</a></span><span class="op" id="7878826">)</span><br>
<span class="lineno"></span><span class="op" id="7878828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878831">func</span>&nbsp;<span class="ident" id="7878836">testAddrs</span><span class="op" id="7878845">(</span><span class="ident" id="7878846">t</span>&nbsp;<span class="op" id="7878848">*</span><span class="ident" id="7878849"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7878856">.</span><span class="ident" id="7878857">T</span><span class="op" id="7878858">,</span>&nbsp;<span class="ident" id="7878860">ifat</span>&nbsp;<span class="op" id="7878865">[</span><span class="op" id="7878866">]</span><span class="ident" id="7878867"><a href="/net/net.go.html#1465097">Addr</a></span><span class="op" id="7878871">)</span>&nbsp;<span class="op" id="7878873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878876">for</span>&nbsp;<span class="ident" id="7878880">_</span><span class="op" id="7878881">,</span>&nbsp;<span class="ident" id="7878883">ifa</span>&nbsp;<span class="op" id="7878887">:=</span>&nbsp;<span class="keyword" id="7878890">range</span>&nbsp;<span class="ident" id="7878896"><a href="/net/interface_test.go.html#7878860">ifat</a></span>&nbsp;<span class="op" id="7878901">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878905">switch</span>&nbsp;<span class="ident" id="7878912">ifa</span>&nbsp;<span class="op" id="7878916">:=</span>&nbsp;<span class="ident" id="7878919"><a href="/net/interface_test.go.html#7878883">ifa</a></span><span class="op" id="7878922">.</span><span class="op" id="7878923">(</span><span class="keyword" id="7878924">type</span><span class="op" id="7878928">)</span>&nbsp;<span class="op" id="7878930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878934">case</span>&nbsp;<span class="op" id="7878939">*</span><span class="ident" id="7878940"><a href="/net/iprawsock.go.html#1432036">IPAddr</a></span><span class="op" id="7878946">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878951">if</span>&nbsp;<span class="ident" id="7878954"><a href="/net/interface_test.go.html#7878912">ifa</a></span>&nbsp;<span class="op" id="7878958">==</span>&nbsp;<span class="ident" id="7878961">nil</span>&nbsp;<span class="op" id="7878965">||</span>&nbsp;<span class="ident" id="7878968"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7878971">.</span><span class="ident" id="7878972">IP</span>&nbsp;<span class="op" id="7878975">==</span>&nbsp;<span class="ident" id="7878978">nil</span>&nbsp;<span class="op" id="7878982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878988"><a href="/net/interface_test.go.html#7878846">t</a></span><span class="op" id="7878989">.</span><span class="ident" id="7878990">Errorf</span><span class="op" id="7878996">(</span><span class="string" id="7878997">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7879025">,</span>&nbsp;<span class="ident" id="7879027"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879030">,</span>&nbsp;<span class="ident" id="7879032"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879035">.</span><span class="ident" id="7879036">IP</span><span class="op" id="7879038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879043">}</span>&nbsp;<span class="keyword" id="7879045">else</span>&nbsp;<span class="op" id="7879050">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879056"><a href="/net/interface_test.go.html#7878846">t</a></span><span class="op" id="7879057">.</span><span class="ident" id="7879058">Logf</span><span class="op" id="7879062">(</span><span class="string" id="7879063">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7879087">,</span>&nbsp;<span class="ident" id="7879089"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879092">.</span><span class="ident" id="7879093">String</span><span class="op" id="7879099">(</span><span class="op" id="7879100">)</span><span class="op" id="7879101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879110">case</span>&nbsp;<span class="op" id="7879115">*</span><span class="ident" id="7879116"><a href="/net/ip.go.html#1417295">IPNet</a></span><span class="op" id="7879121">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879126">if</span>&nbsp;<span class="ident" id="7879129"><a href="/net/interface_test.go.html#7878912">ifa</a></span>&nbsp;<span class="op" id="7879133">==</span>&nbsp;<span class="ident" id="7879136">nil</span>&nbsp;<span class="op" id="7879140">||</span>&nbsp;<span class="ident" id="7879143"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879146">.</span><span class="ident" id="7879147">IP</span>&nbsp;<span class="op" id="7879150">==</span>&nbsp;<span class="ident" id="7879153">nil</span>&nbsp;<span class="op" id="7879157">||</span>&nbsp;<span class="ident" id="7879160"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879163">.</span><span class="ident" id="7879164">Mask</span>&nbsp;<span class="op" id="7879169">==</span>&nbsp;<span class="ident" id="7879172">nil</span>&nbsp;<span class="op" id="7879176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879182"><a href="/net/interface_test.go.html#7878846">t</a></span><span class="op" id="7879183">.</span><span class="ident" id="7879184">Errorf</span><span class="op" id="7879190">(</span><span class="string" id="7879191">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7879223">,</span>&nbsp;<span class="ident" id="7879225"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879228">,</span>&nbsp;<span class="ident" id="7879230"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879233">.</span><span class="ident" id="7879234">IP</span><span class="op" id="7879236">,</span>&nbsp;<span class="ident" id="7879238"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879241">.</span><span class="ident" id="7879242">Mask</span><span class="op" id="7879246">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879251">}</span>&nbsp;<span class="keyword" id="7879253">else</span>&nbsp;<span class="op" id="7879258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879264">_</span><span class="op" id="7879265">,</span>&nbsp;<span class="ident" id="7879267">prefixLen</span>&nbsp;<span class="op" id="7879277">:=</span>&nbsp;<span class="ident" id="7879280"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879283">.</span><span class="ident" id="7879284">Mask</span><span class="op" id="7879288">.</span><span class="ident" id="7879289">Size</span><span class="op" id="7879293">(</span><span class="op" id="7879294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879300">if</span>&nbsp;<span class="ident" id="7879303"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879306">.</span><span class="ident" id="7879307">IP</span><span class="op" id="7879309">.</span><span class="ident" id="7879310">To4</span><span class="op" id="7879313">(</span><span class="op" id="7879314">)</span>&nbsp;<span class="op" id="7879316">!=</span>&nbsp;<span class="ident" id="7879319">nil</span>&nbsp;<span class="op" id="7879323">&amp;&amp;</span>&nbsp;<span class="ident" id="7879326"><a href="/net/interface_test.go.html#7879267">prefixLen</a></span>&nbsp;<span class="op" id="7879336">!=</span>&nbsp;<span class="num" id="7879339">8</span><span class="op" id="7879340">*</span><span class="ident" id="7879341"><a href="/net/ip.go.html#1416769">IPv4len</a></span>&nbsp;<span class="op" id="7879349">||</span>&nbsp;<span class="ident" id="7879352"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879355">.</span><span class="ident" id="7879356">IP</span><span class="op" id="7879358">.</span><span class="ident" id="7879359">To16</span><span class="op" id="7879363">(</span><span class="op" id="7879364">)</span>&nbsp;<span class="op" id="7879366">!=</span>&nbsp;<span class="ident" id="7879369">nil</span>&nbsp;<span class="op" id="7879373">&amp;&amp;</span>&nbsp;<span class="ident" id="7879376"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879379">.</span><span class="ident" id="7879380">IP</span><span class="op" id="7879382">.</span><span class="ident" id="7879383">To4</span><span class="op" id="7879386">(</span><span class="op" id="7879387">)</span>&nbsp;<span class="op" id="7879389">==</span>&nbsp;<span class="ident" id="7879392">nil</span>&nbsp;<span class="op" id="7879396">&amp;&amp;</span>&nbsp;<span class="ident" id="7879399"><a href="/net/interface_test.go.html#7879267">prefixLen</a></span>&nbsp;<span class="op" id="7879409">!=</span>&nbsp;<span class="num" id="7879412">8</span><span class="op" id="7879413">*</span><span class="ident" id="7879414"><a href="/net/ip.go.html#1416782">IPv6len</a></span>&nbsp;<span class="op" id="7879422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879429"><a href="/net/interface_test.go.html#7878846">t</a></span><span class="op" id="7879430">.</span><span class="ident" id="7879431">Errorf</span><span class="op" id="7879437">(</span><span class="string" id="7879438">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7879474">,</span>&nbsp;<span class="ident" id="7879476"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879479">,</span>&nbsp;<span class="ident" id="7879481"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879484">.</span><span class="ident" id="7879485">IP</span><span class="op" id="7879487">,</span>&nbsp;<span class="ident" id="7879489"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879492">.</span><span class="ident" id="7879493">Mask</span><span class="op" id="7879497">,</span>&nbsp;<span class="ident" id="7879499"><a href="/net/interface_test.go.html#7879267">prefixLen</a></span><span class="op" id="7879508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879514">}</span>&nbsp;<span class="keyword" id="7879516">else</span>&nbsp;<span class="op" id="7879521">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879528"><a href="/net/interface_test.go.html#7878846">t</a></span><span class="op" id="7879529">.</span><span class="ident" id="7879530">Logf</span><span class="op" id="7879534">(</span><span class="string" id="7879535">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7879559">,</span>&nbsp;<span class="ident" id="7879561"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879564">.</span><span class="ident" id="7879565">String</span><span class="op" id="7879571">(</span><span class="op" id="7879572">)</span><span class="op" id="7879573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879588">default</span><span class="op" id="7879595">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879600"><a href="/net/interface_test.go.html#7878846">t</a></span><span class="op" id="7879601">.</span><span class="ident" id="7879602">Errorf</span><span class="op" id="7879608">(</span><span class="string" id="7879609">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7879632">,</span>&nbsp;<span class="ident" id="7879634"><a href="/net/interface_test.go.html#7878912">ifa</a></span><span class="op" id="7879637">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879644">}</span><br>
<span class="lineno"></span><span class="op" id="7879646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7879649">func</span>&nbsp;<span class="ident" id="7879654">testMulticastAddrs</span><span class="op" id="7879672">(</span><span class="ident" id="7879673">t</span>&nbsp;<span class="op" id="7879675">*</span><span class="ident" id="7879676"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7879683">.</span><span class="ident" id="7879684">T</span><span class="op" id="7879685">,</span>&nbsp;<span class="ident" id="7879687">ifmat</span>&nbsp;<span class="op" id="7879693">[</span><span class="op" id="7879694">]</span><span class="ident" id="7879695"><a href="/net/net.go.html#1465097">Addr</a></span><span class="op" id="7879699">)</span>&nbsp;<span class="op" id="7879701">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879704">for</span>&nbsp;<span class="ident" id="7879708">_</span><span class="op" id="7879709">,</span>&nbsp;<span class="ident" id="7879711">ifma</span>&nbsp;<span class="op" id="7879716">:=</span>&nbsp;<span class="keyword" id="7879719">range</span>&nbsp;<span class="ident" id="7879725"><a href="/net/interface_test.go.html#7879687">ifmat</a></span>&nbsp;<span class="op" id="7879731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879735">switch</span>&nbsp;<span class="ident" id="7879742">ifma</span>&nbsp;<span class="op" id="7879747">:=</span>&nbsp;<span class="ident" id="7879750"><a href="/net/interface_test.go.html#7879711">ifma</a></span><span class="op" id="7879754">.</span><span class="op" id="7879755">(</span><span class="keyword" id="7879756">type</span><span class="op" id="7879760">)</span>&nbsp;<span class="op" id="7879762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879766">case</span>&nbsp;<span class="op" id="7879771">*</span><span class="ident" id="7879772"><a href="/net/iprawsock.go.html#1432036">IPAddr</a></span><span class="op" id="7879778">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879783">if</span>&nbsp;<span class="ident" id="7879786"><a href="/net/interface_test.go.html#7879742">ifma</a></span>&nbsp;<span class="op" id="7879791">==</span>&nbsp;<span class="ident" id="7879794">nil</span>&nbsp;<span class="op" id="7879798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879804"><a href="/net/interface_test.go.html#7879673">t</a></span><span class="op" id="7879805">.</span><span class="ident" id="7879806">Errorf</span><span class="op" id="7879812">(</span><span class="string" id="7879813">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="7879837">,</span>&nbsp;<span class="ident" id="7879839"><a href="/net/interface_test.go.html#7879742">ifma</a></span><span class="op" id="7879843">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879848">}</span>&nbsp;<span class="keyword" id="7879850">else</span>&nbsp;<span class="op" id="7879855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879861"><a href="/net/interface_test.go.html#7879673">t</a></span><span class="op" id="7879862">.</span><span class="ident" id="7879863">Logf</span><span class="op" id="7879867">(</span><span class="string" id="7879868">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7879895">,</span>&nbsp;<span class="ident" id="7879897"><a href="/net/interface_test.go.html#7879742">ifma</a></span><span class="op" id="7879901">.</span><span class="ident" id="7879902">String</span><span class="op" id="7879908">(</span><span class="op" id="7879909">)</span><span class="op" id="7879910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879919">default</span><span class="op" id="7879926">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879931"><a href="/net/interface_test.go.html#7879673">t</a></span><span class="op" id="7879932">.</span><span class="ident" id="7879933">Errorf</span><span class="op" id="7879939">(</span><span class="string" id="7879940">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7879963">,</span>&nbsp;<span class="ident" id="7879965"><a href="/net/interface_test.go.html#7879742">ifma</a></span><span class="op" id="7879969">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879976">}</span><br>
<span class="lineno"></span><span class="op" id="7879978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7879981">func</span>&nbsp;<span class="ident" id="7879986">BenchmarkInterfaces</span><span class="op" id="7880005">(</span><span class="ident" id="7880006">b</span>&nbsp;<span class="op" id="7880008">*</span><span class="ident" id="7880009"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7880016">.</span><span class="ident" id="7880017">B</span><span class="op" id="7880018">)</span>&nbsp;<span class="op" id="7880020">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880023">for</span>&nbsp;<span class="ident" id="7880027">i</span>&nbsp;<span class="op" id="7880029">:=</span>&nbsp;<span class="num" id="7880032">0</span><span class="op" id="7880033">;</span>&nbsp;<span class="ident" id="7880035"><a href="/net/interface_test.go.html#7880027">i</a></span>&nbsp;<span class="op" id="7880037">&lt;</span>&nbsp;<span class="ident" id="7880039"><a href="/net/interface_test.go.html#7880006">b</a></span><span class="op" id="7880040">.</span><span class="ident" id="7880041">N</span><span class="op" id="7880042">;</span>&nbsp;<span class="ident" id="7880044"><a href="/net/interface_test.go.html#7880027">i</a></span><span class="op" id="7880045">++</span>&nbsp;<span class="op" id="7880048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880052">if</span>&nbsp;<span class="ident" id="7880055">_</span><span class="op" id="7880056">,</span>&nbsp;<span class="ident" id="7880058">err</span>&nbsp;<span class="op" id="7880062">:=</span>&nbsp;<span class="ident" id="7880065"><a href="/net/interface.go.html#1407961">Interfaces</a></span><span class="op" id="7880075">(</span><span class="op" id="7880076">)</span><span class="op" id="7880077">;</span>&nbsp;<span class="ident" id="7880079"><a href="/net/interface_test.go.html#7880058">err</a></span>&nbsp;<span class="op" id="7880083">!=</span>&nbsp;<span class="ident" id="7880086">nil</span>&nbsp;<span class="op" id="7880090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880095"><a href="/net/interface_test.go.html#7880006">b</a></span><span class="op" id="7880096">.</span><span class="ident" id="7880097">Fatalf</span><span class="op" id="7880103">(</span><span class="string" id="7880104">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7880127">,</span>&nbsp;<span class="ident" id="7880129"><a href="/net/interface_test.go.html#7880058">err</a></span><span class="op" id="7880132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880139">}</span><br>
<span class="lineno">155</span><span class="op" id="7880141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7880144">func</span>&nbsp;<span class="ident" id="7880149">BenchmarkInterfaceByIndex</span><span class="op" id="7880174">(</span><span class="ident" id="7880175">b</span>&nbsp;<span class="op" id="7880177">*</span><span class="ident" id="7880178"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7880185">.</span><span class="ident" id="7880186">B</span><span class="op" id="7880187">)</span>&nbsp;<span class="op" id="7880189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880192">ifi</span>&nbsp;<span class="op" id="7880196">:=</span>&nbsp;<span class="ident" id="7880199"><a href="/net/interface_test.go.html#7876504">loopbackInterface</a></span><span class="op" id="7880216">(</span><span class="op" id="7880217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880220">if</span>&nbsp;<span class="ident" id="7880223"><a href="/net/interface_test.go.html#7880192">ifi</a></span>&nbsp;<span class="op" id="7880227">==</span>&nbsp;<span class="ident" id="7880230">nil</span>&nbsp;<span class="op" id="7880234">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880238"><a href="/net/interface_test.go.html#7880175">b</a></span><span class="op" id="7880239">.</span><span class="ident" id="7880240">Skip</span><span class="op" id="7880244">(</span><span class="string" id="7880245">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7880275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880281">for</span>&nbsp;<span class="ident" id="7880285">i</span>&nbsp;<span class="op" id="7880287">:=</span>&nbsp;<span class="num" id="7880290">0</span><span class="op" id="7880291">;</span>&nbsp;<span class="ident" id="7880293"><a href="/net/interface_test.go.html#7880285">i</a></span>&nbsp;<span class="op" id="7880295">&lt;</span>&nbsp;<span class="ident" id="7880297"><a href="/net/interface_test.go.html#7880175">b</a></span><span class="op" id="7880298">.</span><span class="ident" id="7880299">N</span><span class="op" id="7880300">;</span>&nbsp;<span class="ident" id="7880302"><a href="/net/interface_test.go.html#7880285">i</a></span><span class="op" id="7880303">++</span>&nbsp;<span class="op" id="7880306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880310">if</span>&nbsp;<span class="ident" id="7880313">_</span><span class="op" id="7880314">,</span>&nbsp;<span class="ident" id="7880316">err</span>&nbsp;<span class="op" id="7880320">:=</span>&nbsp;<span class="ident" id="7880323"><a href="/net/interface.go.html#1408249">InterfaceByIndex</a></span><span class="op" id="7880339">(</span><span class="ident" id="7880340"><a href="/net/interface_test.go.html#7880192">ifi</a></span><span class="op" id="7880343">.</span><span class="ident" id="7880344">Index</span><span class="op" id="7880349">)</span><span class="op" id="7880350">;</span>&nbsp;<span class="ident" id="7880352"><a href="/net/interface_test.go.html#7880316">err</a></span>&nbsp;<span class="op" id="7880356">!=</span>&nbsp;<span class="ident" id="7880359">nil</span>&nbsp;<span class="op" id="7880363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880368"><a href="/net/interface_test.go.html#7880175">b</a></span><span class="op" id="7880369">.</span><span class="ident" id="7880370">Fatalf</span><span class="op" id="7880376">(</span><span class="string" id="7880377">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7880406">,</span>&nbsp;<span class="ident" id="7880408"><a href="/net/interface_test.go.html#7880316">err</a></span><span class="op" id="7880411">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880418">}</span><br>
<span class="lineno"></span><span class="op" id="7880420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7880423">func</span>&nbsp;<span class="ident" id="7880428">BenchmarkInterfaceByName</span><span class="op" id="7880452">(</span><span class="ident" id="7880453">b</span>&nbsp;<span class="op" id="7880455">*</span><span class="ident" id="7880456"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7880463">.</span><span class="ident" id="7880464">B</span><span class="op" id="7880465">)</span>&nbsp;<span class="op" id="7880467">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880470">ifi</span>&nbsp;<span class="op" id="7880474">:=</span>&nbsp;<span class="ident" id="7880477"><a href="/net/interface_test.go.html#7876504">loopbackInterface</a></span><span class="op" id="7880494">(</span><span class="op" id="7880495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880498">if</span>&nbsp;<span class="ident" id="7880501"><a href="/net/interface_test.go.html#7880470">ifi</a></span>&nbsp;<span class="op" id="7880505">==</span>&nbsp;<span class="ident" id="7880508">nil</span>&nbsp;<span class="op" id="7880512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880516"><a href="/net/interface_test.go.html#7880453">b</a></span><span class="op" id="7880517">.</span><span class="ident" id="7880518">Skip</span><span class="op" id="7880522">(</span><span class="string" id="7880523">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7880553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880559">for</span>&nbsp;<span class="ident" id="7880563">i</span>&nbsp;<span class="op" id="7880565">:=</span>&nbsp;<span class="num" id="7880568">0</span><span class="op" id="7880569">;</span>&nbsp;<span class="ident" id="7880571"><a href="/net/interface_test.go.html#7880563">i</a></span>&nbsp;<span class="op" id="7880573">&lt;</span>&nbsp;<span class="ident" id="7880575"><a href="/net/interface_test.go.html#7880453">b</a></span><span class="op" id="7880576">.</span><span class="ident" id="7880577">N</span><span class="op" id="7880578">;</span>&nbsp;<span class="ident" id="7880580"><a href="/net/interface_test.go.html#7880563">i</a></span><span class="op" id="7880581">++</span>&nbsp;<span class="op" id="7880584">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880588">if</span>&nbsp;<span class="ident" id="7880591">_</span><span class="op" id="7880592">,</span>&nbsp;<span class="ident" id="7880594">err</span>&nbsp;<span class="op" id="7880598">:=</span>&nbsp;<span class="ident" id="7880601"><a href="/net/interface.go.html#1408723">InterfaceByName</a></span><span class="op" id="7880616">(</span><span class="ident" id="7880617"><a href="/net/interface_test.go.html#7880470">ifi</a></span><span class="op" id="7880620">.</span><span class="ident" id="7880621">Name</span><span class="op" id="7880625">)</span><span class="op" id="7880626">;</span>&nbsp;<span class="ident" id="7880628"><a href="/net/interface_test.go.html#7880594">err</a></span>&nbsp;<span class="op" id="7880632">!=</span>&nbsp;<span class="ident" id="7880635">nil</span>&nbsp;<span class="op" id="7880639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880644"><a href="/net/interface_test.go.html#7880453">b</a></span><span class="op" id="7880645">.</span><span class="ident" id="7880646">Fatalf</span><span class="op" id="7880652">(</span><span class="string" id="7880653">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7880681">,</span>&nbsp;<span class="ident" id="7880683"><a href="/net/interface_test.go.html#7880594">err</a></span><span class="op" id="7880686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880693">}</span><br>
<span class="lineno"></span><span class="op" id="7880695">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="7880698">func</span>&nbsp;<span class="ident" id="7880703">BenchmarkInterfaceAddrs</span><span class="op" id="7880726">(</span><span class="ident" id="7880727">b</span>&nbsp;<span class="op" id="7880729">*</span><span class="ident" id="7880730"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7880737">.</span><span class="ident" id="7880738">B</span><span class="op" id="7880739">)</span>&nbsp;<span class="op" id="7880741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880744">for</span>&nbsp;<span class="ident" id="7880748">i</span>&nbsp;<span class="op" id="7880750">:=</span>&nbsp;<span class="num" id="7880753">0</span><span class="op" id="7880754">;</span>&nbsp;<span class="ident" id="7880756"><a href="/net/interface_test.go.html#7880748">i</a></span>&nbsp;<span class="op" id="7880758">&lt;</span>&nbsp;<span class="ident" id="7880760"><a href="/net/interface_test.go.html#7880727">b</a></span><span class="op" id="7880761">.</span><span class="ident" id="7880762">N</span><span class="op" id="7880763">;</span>&nbsp;<span class="ident" id="7880765"><a href="/net/interface_test.go.html#7880748">i</a></span><span class="op" id="7880766">++</span>&nbsp;<span class="op" id="7880769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880773">if</span>&nbsp;<span class="ident" id="7880776">_</span><span class="op" id="7880777">,</span>&nbsp;<span class="ident" id="7880779">err</span>&nbsp;<span class="op" id="7880783">:=</span>&nbsp;<span class="ident" id="7880786"><a href="/net/interface.go.html#1408112">InterfaceAddrs</a></span><span class="op" id="7880800">(</span><span class="op" id="7880801">)</span><span class="op" id="7880802">;</span>&nbsp;<span class="ident" id="7880804"><a href="/net/interface_test.go.html#7880779">err</a></span>&nbsp;<span class="op" id="7880808">!=</span>&nbsp;<span class="ident" id="7880811">nil</span>&nbsp;<span class="op" id="7880815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880820"><a href="/net/interface_test.go.html#7880727">b</a></span><span class="op" id="7880821">.</span><span class="ident" id="7880822">Fatalf</span><span class="op" id="7880828">(</span><span class="string" id="7880829">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7880856">,</span>&nbsp;<span class="ident" id="7880858"><a href="/net/interface_test.go.html#7880779">err</a></span><span class="op" id="7880861">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880868">}</span><br>
<span class="lineno"></span><span class="op" id="7880870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7880873">func</span>&nbsp;<span class="ident" id="7880878">BenchmarkInterfacesAndAddrs</span><span class="op" id="7880905">(</span><span class="ident" id="7880906">b</span>&nbsp;<span class="op" id="7880908">*</span><span class="ident" id="7880909"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7880916">.</span><span class="ident" id="7880917">B</span><span class="op" id="7880918">)</span>&nbsp;<span class="op" id="7880920">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880923">ifi</span>&nbsp;<span class="op" id="7880927">:=</span>&nbsp;<span class="ident" id="7880930"><a href="/net/interface_test.go.html#7876504">loopbackInterface</a></span><span class="op" id="7880947">(</span><span class="op" id="7880948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880951">if</span>&nbsp;<span class="ident" id="7880954"><a href="/net/interface_test.go.html#7880923">ifi</a></span>&nbsp;<span class="op" id="7880958">==</span>&nbsp;<span class="ident" id="7880961">nil</span>&nbsp;<span class="op" id="7880965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880969"><a href="/net/interface_test.go.html#7880906">b</a></span><span class="op" id="7880970">.</span><span class="ident" id="7880971">Skip</span><span class="op" id="7880975">(</span><span class="string" id="7880976">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7881006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881012">for</span>&nbsp;<span class="ident" id="7881016">i</span>&nbsp;<span class="op" id="7881018">:=</span>&nbsp;<span class="num" id="7881021">0</span><span class="op" id="7881022">;</span>&nbsp;<span class="ident" id="7881024"><a href="/net/interface_test.go.html#7881016">i</a></span>&nbsp;<span class="op" id="7881026">&lt;</span>&nbsp;<span class="ident" id="7881028"><a href="/net/interface_test.go.html#7880906">b</a></span><span class="op" id="7881029">.</span><span class="ident" id="7881030">N</span><span class="op" id="7881031">;</span>&nbsp;<span class="ident" id="7881033"><a href="/net/interface_test.go.html#7881016">i</a></span><span class="op" id="7881034">++</span>&nbsp;<span class="op" id="7881037">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881041">if</span>&nbsp;<span class="ident" id="7881044">_</span><span class="op" id="7881045">,</span>&nbsp;<span class="ident" id="7881047">err</span>&nbsp;<span class="op" id="7881051">:=</span>&nbsp;<span class="ident" id="7881054"><a href="/net/interface_test.go.html#7880923">ifi</a></span><span class="op" id="7881057">.</span><span class="ident" id="7881058">Addrs</span><span class="op" id="7881063">(</span><span class="op" id="7881064">)</span><span class="op" id="7881065">;</span>&nbsp;<span class="ident" id="7881067"><a href="/net/interface_test.go.html#7881047">err</a></span>&nbsp;<span class="op" id="7881071">!=</span>&nbsp;<span class="ident" id="7881074">nil</span>&nbsp;<span class="op" id="7881078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881083"><a href="/net/interface_test.go.html#7880906">b</a></span><span class="op" id="7881084">.</span><span class="ident" id="7881085">Fatalf</span><span class="op" id="7881091">(</span><span class="string" id="7881092">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7881120">,</span>&nbsp;<span class="ident" id="7881122"><a href="/net/interface_test.go.html#7881047">err</a></span><span class="op" id="7881125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881132">}</span><br>
<span class="lineno"></span><span class="op" id="7881134">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="7881137">func</span>&nbsp;<span class="ident" id="7881142">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="7881178">(</span><span class="ident" id="7881179">b</span>&nbsp;<span class="op" id="7881181">*</span><span class="ident" id="7881182"><a href="/net/interface_test.go.html#7876341">testing</a></span><span class="op" id="7881189">.</span><span class="ident" id="7881190">B</span><span class="op" id="7881191">)</span>&nbsp;<span class="op" id="7881193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881196">ifi</span>&nbsp;<span class="op" id="7881200">:=</span>&nbsp;<span class="ident" id="7881203"><a href="/net/interface_test.go.html#7876504">loopbackInterface</a></span><span class="op" id="7881220">(</span><span class="op" id="7881221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881224">if</span>&nbsp;<span class="ident" id="7881227"><a href="/net/interface_test.go.html#7881196">ifi</a></span>&nbsp;<span class="op" id="7881231">==</span>&nbsp;<span class="ident" id="7881234">nil</span>&nbsp;<span class="op" id="7881238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881242"><a href="/net/interface_test.go.html#7881179">b</a></span><span class="op" id="7881243">.</span><span class="ident" id="7881244">Skip</span><span class="op" id="7881248">(</span><span class="string" id="7881249">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7881279">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881285">for</span>&nbsp;<span class="ident" id="7881289">i</span>&nbsp;<span class="op" id="7881291">:=</span>&nbsp;<span class="num" id="7881294">0</span><span class="op" id="7881295">;</span>&nbsp;<span class="ident" id="7881297"><a href="/net/interface_test.go.html#7881289">i</a></span>&nbsp;<span class="op" id="7881299">&lt;</span>&nbsp;<span class="ident" id="7881301"><a href="/net/interface_test.go.html#7881179">b</a></span><span class="op" id="7881302">.</span><span class="ident" id="7881303">N</span><span class="op" id="7881304">;</span>&nbsp;<span class="ident" id="7881306"><a href="/net/interface_test.go.html#7881289">i</a></span><span class="op" id="7881307">++</span>&nbsp;<span class="op" id="7881310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881314">if</span>&nbsp;<span class="ident" id="7881317">_</span><span class="op" id="7881318">,</span>&nbsp;<span class="ident" id="7881320">err</span>&nbsp;<span class="op" id="7881324">:=</span>&nbsp;<span class="ident" id="7881327"><a href="/net/interface_test.go.html#7881196">ifi</a></span><span class="op" id="7881330">.</span><span class="ident" id="7881331">MulticastAddrs</span><span class="op" id="7881345">(</span><span class="op" id="7881346">)</span><span class="op" id="7881347">;</span>&nbsp;<span class="ident" id="7881349"><a href="/net/interface_test.go.html#7881320">err</a></span>&nbsp;<span class="op" id="7881353">!=</span>&nbsp;<span class="ident" id="7881356">nil</span>&nbsp;<span class="op" id="7881360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881365"><a href="/net/interface_test.go.html#7881179">b</a></span><span class="op" id="7881366">.</span><span class="ident" id="7881367">Fatalf</span><span class="op" id="7881373">(</span><span class="string" id="7881374">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7881411">,</span>&nbsp;<span class="ident" id="7881413"><a href="/net/interface_test.go.html#7881320">err</a></span><span class="op" id="7881416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881420">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881423">}</span><br>
<span class="lineno"></span><span class="op" id="7881425">}</span>
</div>
</body>
</html>
