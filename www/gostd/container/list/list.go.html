<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/list</h2>
<ul>
<li><a href="/gostd/container/list/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/container/list/list.go.html" class="current">list.go</a></li>
<li><a href="/gostd/container/list/list_test.go.html">list_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4748665">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4748720">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4748774">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4748825">//&nbsp;Package&nbsp;list&nbsp;implements&nbsp;a&nbsp;doubly&nbsp;linked&nbsp;list.</span><br>
<span class="lineno"></span><span class="comment" id="4748874">//</span><br>
<span class="lineno"></span><span class="comment" id="4748877">//&nbsp;To&nbsp;iterate&nbsp;over&nbsp;a&nbsp;list&nbsp;(where&nbsp;l&nbsp;is&nbsp;a&nbsp;*List):</span><br>
<span class="lineno"></span><span class="comment" id="4748925">//&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;e&nbsp;:=&nbsp;l.Front();&nbsp;e&nbsp;!=&nbsp;nil;&nbsp;e&nbsp;=&nbsp;e.Next()&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="4748973">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;do&nbsp;something&nbsp;with&nbsp;e.Value</span><br>
<span class="lineno">10</span><span class="comment" id="4749006">//&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="lineno"></span><span class="comment" id="4749011">//</span><br>
<span class="lineno"></span><span class="keyword" id="4749014">package</span>&nbsp;<span class="ident" id="4749022">list</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4749028">//&nbsp;Element&nbsp;is&nbsp;an&nbsp;element&nbsp;of&nbsp;a&nbsp;linked&nbsp;list.</span><br>
<span class="lineno">15</span><span class="keyword" id="4749071">type</span>&nbsp;<span class="ident" id="4749076">Element</span>&nbsp;<span class="keyword" id="4749084">struct</span>&nbsp;<span class="op" id="4749091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749094">//&nbsp;Next&nbsp;and&nbsp;previous&nbsp;pointers&nbsp;in&nbsp;the&nbsp;doubly-linked&nbsp;list&nbsp;of&nbsp;elements.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749164">//&nbsp;To&nbsp;simplify&nbsp;the&nbsp;implementation,&nbsp;internally&nbsp;a&nbsp;list&nbsp;l&nbsp;is&nbsp;implemented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749235">//&nbsp;as&nbsp;a&nbsp;ring,&nbsp;such&nbsp;that&nbsp;&amp;l.root&nbsp;is&nbsp;both&nbsp;the&nbsp;next&nbsp;element&nbsp;of&nbsp;the&nbsp;last</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749305">//&nbsp;list&nbsp;element&nbsp;(l.Back())&nbsp;and&nbsp;the&nbsp;previous&nbsp;element&nbsp;of&nbsp;the&nbsp;first&nbsp;list</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749376">//&nbsp;element&nbsp;(l.Front()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749401">next</span><span class="op" id="4749405">,</span>&nbsp;<span class="ident" id="4749407">prev</span>&nbsp;<span class="op" id="4749412">*</span><span class="ident" id="4749413">Element</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749423">//&nbsp;The&nbsp;list&nbsp;to&nbsp;which&nbsp;this&nbsp;element&nbsp;belongs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749467">list</span>&nbsp;<span class="op" id="4749472">*</span><span class="ident" id="4749473">List</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4749480">//&nbsp;The&nbsp;value&nbsp;stored&nbsp;with&nbsp;this&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749520">Value</span>&nbsp;<span class="keyword" id="4749526">interface</span><span class="op" id="4749535">{</span><span class="op" id="4749536">}</span><br>
<span class="lineno"></span><span class="op" id="4749538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="4749541">//&nbsp;Next&nbsp;returns&nbsp;the&nbsp;next&nbsp;list&nbsp;element&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4749587">func</span>&nbsp;<span class="op" id="4749592">(</span><span class="ident" id="4749593">e</span>&nbsp;<span class="op" id="4749595">*</span><span class="ident" id="4749596">Element</span><span class="op" id="4749603">)</span>&nbsp;<span class="ident" id="4749605">Next</span><span class="op" id="4749609">(</span><span class="op" id="4749610">)</span>&nbsp;<span class="op" id="4749612">*</span><span class="ident" id="4749613">Element</span>&nbsp;<span class="op" id="4749621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749624">if</span>&nbsp;<span class="ident" id="4749627">p</span>&nbsp;<span class="op" id="4749629">:=</span>&nbsp;<span class="ident" id="4749632">e</span><span class="op" id="4749633">.</span><span class="ident" id="4749634">next</span><span class="op" id="4749638">;</span>&nbsp;<span class="ident" id="4749640">e</span><span class="op" id="4749641">.</span><span class="ident" id="4749642">list</span>&nbsp;<span class="op" id="4749647">!=</span>&nbsp;<span class="builtintype" id="4749650">nil</span>&nbsp;<span class="op" id="4749654">&amp;&amp;</span>&nbsp;<span class="ident" id="4749657">p</span>&nbsp;<span class="op" id="4749659">!=</span>&nbsp;<span class="op" id="4749662">&amp;</span><span class="ident" id="4749663">e</span><span class="op" id="4749664">.</span><span class="ident" id="4749665">list</span><span class="op" id="4749669">.</span><span class="ident" id="4749670">root</span>&nbsp;<span class="op" id="4749675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749679">return</span>&nbsp;<span class="ident" id="4749686">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4749689">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749692">return</span>&nbsp;<span class="builtintype" id="4749699">nil</span><br>
<span class="lineno"></span><span class="op" id="4749703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4749706">//&nbsp;Prev&nbsp;returns&nbsp;the&nbsp;previous&nbsp;list&nbsp;element&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4749756">func</span>&nbsp;<span class="op" id="4749761">(</span><span class="ident" id="4749762">e</span>&nbsp;<span class="op" id="4749764">*</span><span class="ident" id="4749765">Element</span><span class="op" id="4749772">)</span>&nbsp;<span class="ident" id="4749774">Prev</span><span class="op" id="4749778">(</span><span class="op" id="4749779">)</span>&nbsp;<span class="op" id="4749781">*</span><span class="ident" id="4749782">Element</span>&nbsp;<span class="op" id="4749790">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749793">if</span>&nbsp;<span class="ident" id="4749796">p</span>&nbsp;<span class="op" id="4749798">:=</span>&nbsp;<span class="ident" id="4749801">e</span><span class="op" id="4749802">.</span><span class="ident" id="4749803">prev</span><span class="op" id="4749807">;</span>&nbsp;<span class="ident" id="4749809">e</span><span class="op" id="4749810">.</span><span class="ident" id="4749811">list</span>&nbsp;<span class="op" id="4749816">!=</span>&nbsp;<span class="builtintype" id="4749819">nil</span>&nbsp;<span class="op" id="4749823">&amp;&amp;</span>&nbsp;<span class="ident" id="4749826">p</span>&nbsp;<span class="op" id="4749828">!=</span>&nbsp;<span class="op" id="4749831">&amp;</span><span class="ident" id="4749832">e</span><span class="op" id="4749833">.</span><span class="ident" id="4749834">list</span><span class="op" id="4749838">.</span><span class="ident" id="4749839">root</span>&nbsp;<span class="op" id="4749844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749848">return</span>&nbsp;<span class="ident" id="4749855">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4749858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4749861">return</span>&nbsp;<span class="builtintype" id="4749868">nil</span><br>
<span class="lineno"></span><span class="op" id="4749872">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="4749875">//&nbsp;List&nbsp;represents&nbsp;a&nbsp;doubly&nbsp;linked&nbsp;list.</span><br>
<span class="lineno"></span><span class="comment" id="4749916">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;List&nbsp;is&nbsp;an&nbsp;empty&nbsp;list&nbsp;ready&nbsp;to&nbsp;use.</span><br>
<span class="lineno"></span><span class="keyword" id="4749974">type</span>&nbsp;<span class="ident" id="4749979">List</span>&nbsp;<span class="keyword" id="4749984">struct</span>&nbsp;<span class="op" id="4749991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4749994">root</span>&nbsp;<span class="ident" id="4749999">Element</span>&nbsp;<span class="comment" id="4750007">//&nbsp;sentinel&nbsp;list&nbsp;element,&nbsp;only&nbsp;&amp;root,&nbsp;root.prev,&nbsp;and&nbsp;root.next&nbsp;are&nbsp;used</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4750080">len</span>&nbsp;&nbsp;<span class="builtintype" id="4750085">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4750093">//&nbsp;current&nbsp;list&nbsp;length&nbsp;excluding&nbsp;(this)&nbsp;sentinel&nbsp;element</span><br>
<span class="lineno"></span><span class="op" id="4750150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4750153">//&nbsp;Init&nbsp;initializes&nbsp;or&nbsp;clears&nbsp;list&nbsp;l.</span><br>
<span class="lineno"></span><span class="keyword" id="4750191">func</span>&nbsp;<span class="op" id="4750196">(</span><span class="ident" id="4750197">l</span>&nbsp;<span class="op" id="4750199">*</span><span class="ident" id="4750200">List</span><span class="op" id="4750204">)</span>&nbsp;<span class="ident" id="4750206">Init</span><span class="op" id="4750210">(</span><span class="op" id="4750211">)</span>&nbsp;<span class="op" id="4750213">*</span><span class="ident" id="4750214">List</span>&nbsp;<span class="op" id="4750219">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750222">l</span><span class="op" id="4750223">.</span><span class="ident" id="4750224">root</span><span class="op" id="4750228">.</span><span class="ident" id="4750229">next</span>&nbsp;<span class="op" id="4750234">=</span>&nbsp;<span class="op" id="4750236">&amp;</span><span class="ident" id="4750237">l</span><span class="op" id="4750238">.</span><span class="ident" id="4750239">root</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750245">l</span><span class="op" id="4750246">.</span><span class="ident" id="4750247">root</span><span class="op" id="4750251">.</span><span class="ident" id="4750252">prev</span>&nbsp;<span class="op" id="4750257">=</span>&nbsp;<span class="op" id="4750259">&amp;</span><span class="ident" id="4750260">l</span><span class="op" id="4750261">.</span><span class="ident" id="4750262">root</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750268">l</span><span class="op" id="4750269">.</span><span class="builtinfunc" id="4750270">len</span>&nbsp;<span class="op" id="4750274">=</span>&nbsp;<span class="num" id="4750276">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750279">return</span>&nbsp;<span class="ident" id="4750286">l</span><br>
<span class="lineno"></span><span class="op" id="4750288">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4750291">//&nbsp;New&nbsp;returns&nbsp;an&nbsp;initialized&nbsp;list.</span><br>
<span class="lineno"></span><span class="keyword" id="4750327">func</span>&nbsp;<span class="ident" id="4750332">New</span><span class="op" id="4750335">(</span><span class="op" id="4750336">)</span>&nbsp;<span class="op" id="4750338">*</span><span class="ident" id="4750339">List</span>&nbsp;<span class="op" id="4750344">{</span>&nbsp;<span class="keyword" id="4750346">return</span>&nbsp;<span class="builtinfunc" id="4750353">new</span><span class="op" id="4750356">(</span><span class="ident" id="4750357">List</span><span class="op" id="4750361">)</span><span class="op" id="4750362">.</span><span class="ident" id="4750363">Init</span><span class="op" id="4750367">(</span><span class="op" id="4750368">)</span>&nbsp;<span class="op" id="4750370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4750373">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;elements&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno">65</span><span class="comment" id="4750422">//&nbsp;The&nbsp;complexity&nbsp;is&nbsp;O(1).</span><br>
<span class="lineno"></span><span class="keyword" id="4750449">func</span>&nbsp;<span class="op" id="4750454">(</span><span class="ident" id="4750455">l</span>&nbsp;<span class="op" id="4750457">*</span><span class="ident" id="4750458">List</span><span class="op" id="4750462">)</span>&nbsp;<span class="ident" id="4750464">Len</span><span class="op" id="4750467">(</span><span class="op" id="4750468">)</span>&nbsp;<span class="builtintype" id="4750470">int</span>&nbsp;<span class="op" id="4750474">{</span>&nbsp;<span class="keyword" id="4750476">return</span>&nbsp;<span class="ident" id="4750483">l</span><span class="op" id="4750484">.</span><span class="builtinfunc" id="4750485">len</span>&nbsp;<span class="op" id="4750489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4750492">//&nbsp;Front&nbsp;returns&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;list&nbsp;l&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4750545">func</span>&nbsp;<span class="op" id="4750550">(</span><span class="ident" id="4750551">l</span>&nbsp;<span class="op" id="4750553">*</span><span class="ident" id="4750554">List</span><span class="op" id="4750558">)</span>&nbsp;<span class="ident" id="4750560">Front</span><span class="op" id="4750565">(</span><span class="op" id="4750566">)</span>&nbsp;<span class="op" id="4750568">*</span><span class="ident" id="4750569">Element</span>&nbsp;<span class="op" id="4750577">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750580">if</span>&nbsp;<span class="ident" id="4750583">l</span><span class="op" id="4750584">.</span><span class="builtinfunc" id="4750585">len</span>&nbsp;<span class="op" id="4750589">==</span>&nbsp;<span class="num" id="4750592">0</span>&nbsp;<span class="op" id="4750594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750598">return</span>&nbsp;<span class="builtintype" id="4750605">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750613">return</span>&nbsp;<span class="ident" id="4750620">l</span><span class="op" id="4750621">.</span><span class="ident" id="4750622">root</span><span class="op" id="4750626">.</span><span class="ident" id="4750627">next</span><br>
<span class="lineno"></span><span class="op" id="4750632">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="4750635">//&nbsp;Back&nbsp;returns&nbsp;the&nbsp;last&nbsp;element&nbsp;of&nbsp;list&nbsp;l&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4750686">func</span>&nbsp;<span class="op" id="4750691">(</span><span class="ident" id="4750692">l</span>&nbsp;<span class="op" id="4750694">*</span><span class="ident" id="4750695">List</span><span class="op" id="4750699">)</span>&nbsp;<span class="ident" id="4750701">Back</span><span class="op" id="4750705">(</span><span class="op" id="4750706">)</span>&nbsp;<span class="op" id="4750708">*</span><span class="ident" id="4750709">Element</span>&nbsp;<span class="op" id="4750717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750720">if</span>&nbsp;<span class="ident" id="4750723">l</span><span class="op" id="4750724">.</span><span class="builtinfunc" id="4750725">len</span>&nbsp;<span class="op" id="4750729">==</span>&nbsp;<span class="num" id="4750732">0</span>&nbsp;<span class="op" id="4750734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750738">return</span>&nbsp;<span class="builtintype" id="4750745">nil</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750753">return</span>&nbsp;<span class="ident" id="4750760">l</span><span class="op" id="4750761">.</span><span class="ident" id="4750762">root</span><span class="op" id="4750766">.</span><span class="ident" id="4750767">prev</span><br>
<span class="lineno"></span><span class="op" id="4750772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4750775">//&nbsp;lazyInit&nbsp;lazily&nbsp;initializes&nbsp;a&nbsp;zero&nbsp;List&nbsp;value.</span><br>
<span class="lineno">85</span><span class="keyword" id="4750825">func</span>&nbsp;<span class="op" id="4750830">(</span><span class="ident" id="4750831">l</span>&nbsp;<span class="op" id="4750833">*</span><span class="ident" id="4750834">List</span><span class="op" id="4750838">)</span>&nbsp;<span class="ident" id="4750840">lazyInit</span><span class="op" id="4750848">(</span><span class="op" id="4750849">)</span>&nbsp;<span class="op" id="4750851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4750854">if</span>&nbsp;<span class="ident" id="4750857">l</span><span class="op" id="4750858">.</span><span class="ident" id="4750859">root</span><span class="op" id="4750863">.</span><span class="ident" id="4750864">next</span>&nbsp;<span class="op" id="4750869">==</span>&nbsp;<span class="builtintype" id="4750872">nil</span>&nbsp;<span class="op" id="4750876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4750880">l</span><span class="op" id="4750881">.</span><span class="ident" id="4750882">Init</span><span class="op" id="4750886">(</span><span class="op" id="4750887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4750890">}</span><br>
<span class="lineno"></span><span class="op" id="4750892">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="4750895">//&nbsp;insert&nbsp;inserts&nbsp;e&nbsp;after&nbsp;at,&nbsp;increments&nbsp;l.len,&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="keyword" id="4750958">func</span>&nbsp;<span class="op" id="4750963">(</span><span class="ident" id="4750964">l</span>&nbsp;<span class="op" id="4750966">*</span><span class="ident" id="4750967">List</span><span class="op" id="4750971">)</span>&nbsp;<span class="ident" id="4750973">insert</span><span class="op" id="4750979">(</span><span class="ident" id="4750980">e</span><span class="op" id="4750981">,</span>&nbsp;<span class="ident" id="4750983">at</span>&nbsp;<span class="op" id="4750986">*</span><span class="ident" id="4750987">Element</span><span class="op" id="4750994">)</span>&nbsp;<span class="op" id="4750996">*</span><span class="ident" id="4750997">Element</span>&nbsp;<span class="op" id="4751005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751008">n</span>&nbsp;<span class="op" id="4751010">:=</span>&nbsp;<span class="ident" id="4751013">at</span><span class="op" id="4751015">.</span><span class="ident" id="4751016">next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751022">at</span><span class="op" id="4751024">.</span><span class="ident" id="4751025">next</span>&nbsp;<span class="op" id="4751030">=</span>&nbsp;<span class="ident" id="4751032">e</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751035">e</span><span class="op" id="4751036">.</span><span class="ident" id="4751037">prev</span>&nbsp;<span class="op" id="4751042">=</span>&nbsp;<span class="ident" id="4751044">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751048">e</span><span class="op" id="4751049">.</span><span class="ident" id="4751050">next</span>&nbsp;<span class="op" id="4751055">=</span>&nbsp;<span class="ident" id="4751057">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751060">n</span><span class="op" id="4751061">.</span><span class="ident" id="4751062">prev</span>&nbsp;<span class="op" id="4751067">=</span>&nbsp;<span class="ident" id="4751069">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751072">e</span><span class="op" id="4751073">.</span><span class="ident" id="4751074">list</span>&nbsp;<span class="op" id="4751079">=</span>&nbsp;<span class="ident" id="4751081">l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751084">l</span><span class="op" id="4751085">.</span><span class="builtinfunc" id="4751086">len</span><span class="op" id="4751089">++</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751093">return</span>&nbsp;<span class="ident" id="4751100">e</span><br>
<span class="lineno"></span><span class="op" id="4751102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4751105">//&nbsp;insertValue&nbsp;is&nbsp;a&nbsp;convenience&nbsp;wrapper&nbsp;for&nbsp;insert(&amp;Element{Value:&nbsp;v},&nbsp;at).</span><br>
<span class="lineno"></span><span class="keyword" id="4751181">func</span>&nbsp;<span class="op" id="4751186">(</span><span class="ident" id="4751187">l</span>&nbsp;<span class="op" id="4751189">*</span><span class="ident" id="4751190">List</span><span class="op" id="4751194">)</span>&nbsp;<span class="ident" id="4751196">insertValue</span><span class="op" id="4751207">(</span><span class="ident" id="4751208">v</span>&nbsp;<span class="keyword" id="4751210">interface</span><span class="op" id="4751219">{</span><span class="op" id="4751220">}</span><span class="op" id="4751221">,</span>&nbsp;<span class="ident" id="4751223">at</span>&nbsp;<span class="op" id="4751226">*</span><span class="ident" id="4751227">Element</span><span class="op" id="4751234">)</span>&nbsp;<span class="op" id="4751236">*</span><span class="ident" id="4751237">Element</span>&nbsp;<span class="op" id="4751245">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751248">return</span>&nbsp;<span class="ident" id="4751255">l</span><span class="op" id="4751256">.</span><span class="ident" id="4751257">insert</span><span class="op" id="4751263">(</span><span class="op" id="4751264">&amp;</span><span class="ident" id="4751265">Element</span><span class="op" id="4751272">{</span><span class="ident" id="4751273">Value</span><span class="op" id="4751278">:</span>&nbsp;<span class="ident" id="4751280">v</span><span class="op" id="4751281">}</span><span class="op" id="4751282">,</span>&nbsp;<span class="ident" id="4751284">at</span><span class="op" id="4751286">)</span><br>
<span class="lineno"></span><span class="op" id="4751288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4751291">//&nbsp;remove&nbsp;removes&nbsp;e&nbsp;from&nbsp;its&nbsp;list,&nbsp;decrements&nbsp;l.len,&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="keyword" id="4751359">func</span>&nbsp;<span class="op" id="4751364">(</span><span class="ident" id="4751365">l</span>&nbsp;<span class="op" id="4751367">*</span><span class="ident" id="4751368">List</span><span class="op" id="4751372">)</span>&nbsp;<span class="ident" id="4751374">remove</span><span class="op" id="4751380">(</span><span class="ident" id="4751381">e</span>&nbsp;<span class="op" id="4751383">*</span><span class="ident" id="4751384">Element</span><span class="op" id="4751391">)</span>&nbsp;<span class="op" id="4751393">*</span><span class="ident" id="4751394">Element</span>&nbsp;<span class="op" id="4751402">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751405">e</span><span class="op" id="4751406">.</span><span class="ident" id="4751407">prev</span><span class="op" id="4751411">.</span><span class="ident" id="4751412">next</span>&nbsp;<span class="op" id="4751417">=</span>&nbsp;<span class="ident" id="4751419">e</span><span class="op" id="4751420">.</span><span class="ident" id="4751421">next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751427">e</span><span class="op" id="4751428">.</span><span class="ident" id="4751429">next</span><span class="op" id="4751433">.</span><span class="ident" id="4751434">prev</span>&nbsp;<span class="op" id="4751439">=</span>&nbsp;<span class="ident" id="4751441">e</span><span class="op" id="4751442">.</span><span class="ident" id="4751443">prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751449">e</span><span class="op" id="4751450">.</span><span class="ident" id="4751451">next</span>&nbsp;<span class="op" id="4751456">=</span>&nbsp;<span class="builtintype" id="4751458">nil</span>&nbsp;<span class="comment" id="4751462">//&nbsp;avoid&nbsp;memory&nbsp;leaks</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751485">e</span><span class="op" id="4751486">.</span><span class="ident" id="4751487">prev</span>&nbsp;<span class="op" id="4751492">=</span>&nbsp;<span class="builtintype" id="4751494">nil</span>&nbsp;<span class="comment" id="4751498">//&nbsp;avoid&nbsp;memory&nbsp;leaks</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751521">e</span><span class="op" id="4751522">.</span><span class="ident" id="4751523">list</span>&nbsp;<span class="op" id="4751528">=</span>&nbsp;<span class="builtintype" id="4751530">nil</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751535">l</span><span class="op" id="4751536">.</span><span class="builtinfunc" id="4751537">len</span><span class="op" id="4751540">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751544">return</span>&nbsp;<span class="ident" id="4751551">e</span><br>
<span class="lineno"></span><span class="op" id="4751553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4751556">//&nbsp;Remove&nbsp;removes&nbsp;e&nbsp;from&nbsp;l&nbsp;if&nbsp;e&nbsp;is&nbsp;an&nbsp;element&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno">120</span><span class="comment" id="4751613">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;element&nbsp;value&nbsp;e.Value.</span><br>
<span class="lineno"></span><span class="keyword" id="4751654">func</span>&nbsp;<span class="op" id="4751659">(</span><span class="ident" id="4751660">l</span>&nbsp;<span class="op" id="4751662">*</span><span class="ident" id="4751663">List</span><span class="op" id="4751667">)</span>&nbsp;<span class="ident" id="4751669">Remove</span><span class="op" id="4751675">(</span><span class="ident" id="4751676">e</span>&nbsp;<span class="op" id="4751678">*</span><span class="ident" id="4751679">Element</span><span class="op" id="4751686">)</span>&nbsp;<span class="keyword" id="4751688">interface</span><span class="op" id="4751697">{</span><span class="op" id="4751698">}</span>&nbsp;<span class="op" id="4751700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751703">if</span>&nbsp;<span class="ident" id="4751706">e</span><span class="op" id="4751707">.</span><span class="ident" id="4751708">list</span>&nbsp;<span class="op" id="4751713">==</span>&nbsp;<span class="ident" id="4751716">l</span>&nbsp;<span class="op" id="4751718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751722">//&nbsp;if&nbsp;e.list&nbsp;==&nbsp;l,&nbsp;l&nbsp;must&nbsp;have&nbsp;been&nbsp;initialized&nbsp;when&nbsp;e&nbsp;was&nbsp;inserted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4751792">//&nbsp;in&nbsp;l&nbsp;or&nbsp;l&nbsp;==&nbsp;nil&nbsp;(e&nbsp;is&nbsp;a&nbsp;zero&nbsp;Element)&nbsp;and&nbsp;l.remove&nbsp;will&nbsp;crash</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4751860">l</span><span class="op" id="4751861">.</span><span class="ident" id="4751862">remove</span><span class="op" id="4751868">(</span><span class="ident" id="4751869">e</span><span class="op" id="4751870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4751873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4751876">return</span>&nbsp;<span class="ident" id="4751883">e</span><span class="op" id="4751884">.</span><span class="ident" id="4751885">Value</span><br>
<span class="lineno"></span><span class="op" id="4751891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4751894">//&nbsp;PushFront&nbsp;inserts&nbsp;a&nbsp;new&nbsp;element&nbsp;e&nbsp;with&nbsp;value&nbsp;v&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;list&nbsp;l&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="keyword" id="4751982">func</span>&nbsp;<span class="op" id="4751987">(</span><span class="ident" id="4751988">l</span>&nbsp;<span class="op" id="4751990">*</span><span class="ident" id="4751991">List</span><span class="op" id="4751995">)</span>&nbsp;<span class="ident" id="4751997">PushFront</span><span class="op" id="4752006">(</span><span class="ident" id="4752007">v</span>&nbsp;<span class="keyword" id="4752009">interface</span><span class="op" id="4752018">{</span><span class="op" id="4752019">}</span><span class="op" id="4752020">)</span>&nbsp;<span class="op" id="4752022">*</span><span class="ident" id="4752023">Element</span>&nbsp;<span class="op" id="4752031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752034">l</span><span class="op" id="4752035">.</span><span class="ident" id="4752036">lazyInit</span><span class="op" id="4752044">(</span><span class="op" id="4752045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752048">return</span>&nbsp;<span class="ident" id="4752055">l</span><span class="op" id="4752056">.</span><span class="ident" id="4752057">insertValue</span><span class="op" id="4752068">(</span><span class="ident" id="4752069">v</span><span class="op" id="4752070">,</span>&nbsp;<span class="op" id="4752072">&amp;</span><span class="ident" id="4752073">l</span><span class="op" id="4752074">.</span><span class="ident" id="4752075">root</span><span class="op" id="4752079">)</span><br>
<span class="lineno"></span><span class="op" id="4752081">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="comment" id="4752084">//&nbsp;PushBack&nbsp;inserts&nbsp;a&nbsp;new&nbsp;element&nbsp;e&nbsp;with&nbsp;value&nbsp;v&nbsp;at&nbsp;the&nbsp;back&nbsp;of&nbsp;list&nbsp;l&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="keyword" id="4752170">func</span>&nbsp;<span class="op" id="4752175">(</span><span class="ident" id="4752176">l</span>&nbsp;<span class="op" id="4752178">*</span><span class="ident" id="4752179">List</span><span class="op" id="4752183">)</span>&nbsp;<span class="ident" id="4752185">PushBack</span><span class="op" id="4752193">(</span><span class="ident" id="4752194">v</span>&nbsp;<span class="keyword" id="4752196">interface</span><span class="op" id="4752205">{</span><span class="op" id="4752206">}</span><span class="op" id="4752207">)</span>&nbsp;<span class="op" id="4752209">*</span><span class="ident" id="4752210">Element</span>&nbsp;<span class="op" id="4752218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4752221">l</span><span class="op" id="4752222">.</span><span class="ident" id="4752223">lazyInit</span><span class="op" id="4752231">(</span><span class="op" id="4752232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752235">return</span>&nbsp;<span class="ident" id="4752242">l</span><span class="op" id="4752243">.</span><span class="ident" id="4752244">insertValue</span><span class="op" id="4752255">(</span><span class="ident" id="4752256">v</span><span class="op" id="4752257">,</span>&nbsp;<span class="ident" id="4752259">l</span><span class="op" id="4752260">.</span><span class="ident" id="4752261">root</span><span class="op" id="4752265">.</span><span class="ident" id="4752266">prev</span><span class="op" id="4752270">)</span><br>
<span class="lineno">140</span><span class="op" id="4752272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4752275">//&nbsp;InsertBefore&nbsp;inserts&nbsp;a&nbsp;new&nbsp;element&nbsp;e&nbsp;with&nbsp;value&nbsp;v&nbsp;immediately&nbsp;before&nbsp;mark&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="4752367">//&nbsp;If&nbsp;mark&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4752428">func</span>&nbsp;<span class="op" id="4752433">(</span><span class="ident" id="4752434">l</span>&nbsp;<span class="op" id="4752436">*</span><span class="ident" id="4752437">List</span><span class="op" id="4752441">)</span>&nbsp;<span class="ident" id="4752443">InsertBefore</span><span class="op" id="4752455">(</span><span class="ident" id="4752456">v</span>&nbsp;<span class="keyword" id="4752458">interface</span><span class="op" id="4752467">{</span><span class="op" id="4752468">}</span><span class="op" id="4752469">,</span>&nbsp;<span class="ident" id="4752471">mark</span>&nbsp;<span class="op" id="4752476">*</span><span class="ident" id="4752477">Element</span><span class="op" id="4752484">)</span>&nbsp;<span class="op" id="4752486">*</span><span class="ident" id="4752487">Element</span>&nbsp;<span class="op" id="4752495">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752498">if</span>&nbsp;<span class="ident" id="4752501">mark</span><span class="op" id="4752505">.</span><span class="ident" id="4752506">list</span>&nbsp;<span class="op" id="4752511">!=</span>&nbsp;<span class="ident" id="4752514">l</span>&nbsp;<span class="op" id="4752516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752520">return</span>&nbsp;<span class="builtintype" id="4752527">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4752532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752535">//&nbsp;see&nbsp;comment&nbsp;in&nbsp;List.Remove&nbsp;about&nbsp;initialization&nbsp;of&nbsp;l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752592">return</span>&nbsp;<span class="ident" id="4752599">l</span><span class="op" id="4752600">.</span><span class="ident" id="4752601">insertValue</span><span class="op" id="4752612">(</span><span class="ident" id="4752613">v</span><span class="op" id="4752614">,</span>&nbsp;<span class="ident" id="4752616">mark</span><span class="op" id="4752620">.</span><span class="ident" id="4752621">prev</span><span class="op" id="4752625">)</span><br>
<span class="lineno">150</span><span class="op" id="4752627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4752630">//&nbsp;InsertAfter&nbsp;inserts&nbsp;a&nbsp;new&nbsp;element&nbsp;e&nbsp;with&nbsp;value&nbsp;v&nbsp;immediately&nbsp;after&nbsp;mark&nbsp;and&nbsp;returns&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="4752720">//&nbsp;If&nbsp;mark&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4752781">func</span>&nbsp;<span class="op" id="4752786">(</span><span class="ident" id="4752787">l</span>&nbsp;<span class="op" id="4752789">*</span><span class="ident" id="4752790">List</span><span class="op" id="4752794">)</span>&nbsp;<span class="ident" id="4752796">InsertAfter</span><span class="op" id="4752807">(</span><span class="ident" id="4752808">v</span>&nbsp;<span class="keyword" id="4752810">interface</span><span class="op" id="4752819">{</span><span class="op" id="4752820">}</span><span class="op" id="4752821">,</span>&nbsp;<span class="ident" id="4752823">mark</span>&nbsp;<span class="op" id="4752828">*</span><span class="ident" id="4752829">Element</span><span class="op" id="4752836">)</span>&nbsp;<span class="op" id="4752838">*</span><span class="ident" id="4752839">Element</span>&nbsp;<span class="op" id="4752847">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752850">if</span>&nbsp;<span class="ident" id="4752853">mark</span><span class="op" id="4752857">.</span><span class="ident" id="4752858">list</span>&nbsp;<span class="op" id="4752863">!=</span>&nbsp;<span class="ident" id="4752866">l</span>&nbsp;<span class="op" id="4752868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752872">return</span>&nbsp;<span class="builtintype" id="4752879">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4752884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4752887">//&nbsp;see&nbsp;comment&nbsp;in&nbsp;List.Remove&nbsp;about&nbsp;initialization&nbsp;of&nbsp;l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4752944">return</span>&nbsp;<span class="ident" id="4752951">l</span><span class="op" id="4752952">.</span><span class="ident" id="4752953">insertValue</span><span class="op" id="4752964">(</span><span class="ident" id="4752965">v</span><span class="op" id="4752966">,</span>&nbsp;<span class="ident" id="4752968">mark</span><span class="op" id="4752972">)</span><br>
<span class="lineno">160</span><span class="op" id="4752974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4752977">//&nbsp;MoveToFront&nbsp;moves&nbsp;element&nbsp;e&nbsp;to&nbsp;the&nbsp;front&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno"></span><span class="comment" id="4753032">//&nbsp;If&nbsp;e&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4753090">func</span>&nbsp;<span class="op" id="4753095">(</span><span class="ident" id="4753096">l</span>&nbsp;<span class="op" id="4753098">*</span><span class="ident" id="4753099">List</span><span class="op" id="4753103">)</span>&nbsp;<span class="ident" id="4753105">MoveToFront</span><span class="op" id="4753116">(</span><span class="ident" id="4753117">e</span>&nbsp;<span class="op" id="4753119">*</span><span class="ident" id="4753120">Element</span><span class="op" id="4753127">)</span>&nbsp;<span class="op" id="4753129">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753132">if</span>&nbsp;<span class="ident" id="4753135">e</span><span class="op" id="4753136">.</span><span class="ident" id="4753137">list</span>&nbsp;<span class="op" id="4753142">!=</span>&nbsp;<span class="ident" id="4753145">l</span>&nbsp;<span class="op" id="4753147">||</span>&nbsp;<span class="ident" id="4753150">l</span><span class="op" id="4753151">.</span><span class="ident" id="4753152">root</span><span class="op" id="4753156">.</span><span class="ident" id="4753157">next</span>&nbsp;<span class="op" id="4753162">==</span>&nbsp;<span class="ident" id="4753165">e</span>&nbsp;<span class="op" id="4753167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753171">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753182">//&nbsp;see&nbsp;comment&nbsp;in&nbsp;List.Remove&nbsp;about&nbsp;initialization&nbsp;of&nbsp;l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753239">l</span><span class="op" id="4753240">.</span><span class="ident" id="4753241">insert</span><span class="op" id="4753247">(</span><span class="ident" id="4753248">l</span><span class="op" id="4753249">.</span><span class="ident" id="4753250">remove</span><span class="op" id="4753256">(</span><span class="ident" id="4753257">e</span><span class="op" id="4753258">)</span><span class="op" id="4753259">,</span>&nbsp;<span class="op" id="4753261">&amp;</span><span class="ident" id="4753262">l</span><span class="op" id="4753263">.</span><span class="ident" id="4753264">root</span><span class="op" id="4753268">)</span><br>
<span class="lineno">170</span><span class="op" id="4753270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4753273">//&nbsp;MoveToBack&nbsp;moves&nbsp;element&nbsp;e&nbsp;to&nbsp;the&nbsp;back&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno"></span><span class="comment" id="4753326">//&nbsp;If&nbsp;e&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4753384">func</span>&nbsp;<span class="op" id="4753389">(</span><span class="ident" id="4753390">l</span>&nbsp;<span class="op" id="4753392">*</span><span class="ident" id="4753393">List</span><span class="op" id="4753397">)</span>&nbsp;<span class="ident" id="4753399">MoveToBack</span><span class="op" id="4753409">(</span><span class="ident" id="4753410">e</span>&nbsp;<span class="op" id="4753412">*</span><span class="ident" id="4753413">Element</span><span class="op" id="4753420">)</span>&nbsp;<span class="op" id="4753422">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753425">if</span>&nbsp;<span class="ident" id="4753428">e</span><span class="op" id="4753429">.</span><span class="ident" id="4753430">list</span>&nbsp;<span class="op" id="4753435">!=</span>&nbsp;<span class="ident" id="4753438">l</span>&nbsp;<span class="op" id="4753440">||</span>&nbsp;<span class="ident" id="4753443">l</span><span class="op" id="4753444">.</span><span class="ident" id="4753445">root</span><span class="op" id="4753449">.</span><span class="ident" id="4753450">prev</span>&nbsp;<span class="op" id="4753455">==</span>&nbsp;<span class="ident" id="4753458">e</span>&nbsp;<span class="op" id="4753460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753464">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4753475">//&nbsp;see&nbsp;comment&nbsp;in&nbsp;List.Remove&nbsp;about&nbsp;initialization&nbsp;of&nbsp;l</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753532">l</span><span class="op" id="4753533">.</span><span class="ident" id="4753534">insert</span><span class="op" id="4753540">(</span><span class="ident" id="4753541">l</span><span class="op" id="4753542">.</span><span class="ident" id="4753543">remove</span><span class="op" id="4753549">(</span><span class="ident" id="4753550">e</span><span class="op" id="4753551">)</span><span class="op" id="4753552">,</span>&nbsp;<span class="ident" id="4753554">l</span><span class="op" id="4753555">.</span><span class="ident" id="4753556">root</span><span class="op" id="4753560">.</span><span class="ident" id="4753561">prev</span><span class="op" id="4753565">)</span><br>
<span class="lineno">180</span><span class="op" id="4753567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4753570">//&nbsp;MoveBefore&nbsp;moves&nbsp;element&nbsp;e&nbsp;to&nbsp;its&nbsp;new&nbsp;position&nbsp;before&nbsp;mark.</span><br>
<span class="lineno"></span><span class="comment" id="4753633">//&nbsp;If&nbsp;e&nbsp;or&nbsp;mark&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;or&nbsp;e&nbsp;==&nbsp;mark,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4753713">func</span>&nbsp;<span class="op" id="4753718">(</span><span class="ident" id="4753719">l</span>&nbsp;<span class="op" id="4753721">*</span><span class="ident" id="4753722">List</span><span class="op" id="4753726">)</span>&nbsp;<span class="ident" id="4753728">MoveBefore</span><span class="op" id="4753738">(</span><span class="ident" id="4753739">e</span><span class="op" id="4753740">,</span>&nbsp;<span class="ident" id="4753742">mark</span>&nbsp;<span class="op" id="4753747">*</span><span class="ident" id="4753748">Element</span><span class="op" id="4753755">)</span>&nbsp;<span class="op" id="4753757">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753760">if</span>&nbsp;<span class="ident" id="4753763">e</span><span class="op" id="4753764">.</span><span class="ident" id="4753765">list</span>&nbsp;<span class="op" id="4753770">!=</span>&nbsp;<span class="ident" id="4753773">l</span>&nbsp;<span class="op" id="4753775">||</span>&nbsp;<span class="ident" id="4753778">e</span>&nbsp;<span class="op" id="4753780">==</span>&nbsp;<span class="ident" id="4753783">mark</span>&nbsp;<span class="op" id="4753788">||</span>&nbsp;<span class="ident" id="4753791">mark</span><span class="op" id="4753795">.</span><span class="ident" id="4753796">list</span>&nbsp;<span class="op" id="4753801">!=</span>&nbsp;<span class="ident" id="4753804">l</span>&nbsp;<span class="op" id="4753806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4753810">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4753818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4753821">l</span><span class="op" id="4753822">.</span><span class="ident" id="4753823">insert</span><span class="op" id="4753829">(</span><span class="ident" id="4753830">l</span><span class="op" id="4753831">.</span><span class="ident" id="4753832">remove</span><span class="op" id="4753838">(</span><span class="ident" id="4753839">e</span><span class="op" id="4753840">)</span><span class="op" id="4753841">,</span>&nbsp;<span class="ident" id="4753843">mark</span><span class="op" id="4753847">.</span><span class="ident" id="4753848">prev</span><span class="op" id="4753852">)</span><br>
<span class="lineno"></span><span class="op" id="4753854">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="4753857">//&nbsp;MoveAfter&nbsp;moves&nbsp;element&nbsp;e&nbsp;to&nbsp;its&nbsp;new&nbsp;position&nbsp;after&nbsp;mark.</span><br>
<span class="lineno"></span><span class="comment" id="4753918">//&nbsp;If&nbsp;e&nbsp;or&nbsp;mark&nbsp;is&nbsp;not&nbsp;an&nbsp;element&nbsp;of&nbsp;l,&nbsp;or&nbsp;e&nbsp;==&nbsp;mark,&nbsp;the&nbsp;list&nbsp;is&nbsp;not&nbsp;modified.</span><br>
<span class="lineno"></span><span class="keyword" id="4753998">func</span>&nbsp;<span class="op" id="4754003">(</span><span class="ident" id="4754004">l</span>&nbsp;<span class="op" id="4754006">*</span><span class="ident" id="4754007">List</span><span class="op" id="4754011">)</span>&nbsp;<span class="ident" id="4754013">MoveAfter</span><span class="op" id="4754022">(</span><span class="ident" id="4754023">e</span><span class="op" id="4754024">,</span>&nbsp;<span class="ident" id="4754026">mark</span>&nbsp;<span class="op" id="4754031">*</span><span class="ident" id="4754032">Element</span><span class="op" id="4754039">)</span>&nbsp;<span class="op" id="4754041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4754044">if</span>&nbsp;<span class="ident" id="4754047">e</span><span class="op" id="4754048">.</span><span class="ident" id="4754049">list</span>&nbsp;<span class="op" id="4754054">!=</span>&nbsp;<span class="ident" id="4754057">l</span>&nbsp;<span class="op" id="4754059">||</span>&nbsp;<span class="ident" id="4754062">e</span>&nbsp;<span class="op" id="4754064">==</span>&nbsp;<span class="ident" id="4754067">mark</span>&nbsp;<span class="op" id="4754072">||</span>&nbsp;<span class="ident" id="4754075">mark</span><span class="op" id="4754079">.</span><span class="ident" id="4754080">list</span>&nbsp;<span class="op" id="4754085">!=</span>&nbsp;<span class="ident" id="4754088">l</span>&nbsp;<span class="op" id="4754090">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4754094">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4754102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4754105">l</span><span class="op" id="4754106">.</span><span class="ident" id="4754107">insert</span><span class="op" id="4754113">(</span><span class="ident" id="4754114">l</span><span class="op" id="4754115">.</span><span class="ident" id="4754116">remove</span><span class="op" id="4754122">(</span><span class="ident" id="4754123">e</span><span class="op" id="4754124">)</span><span class="op" id="4754125">,</span>&nbsp;<span class="ident" id="4754127">mark</span><span class="op" id="4754131">)</span><br>
<span class="lineno"></span><span class="op" id="4754133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="4754136">//&nbsp;PushBackList&nbsp;inserts&nbsp;a&nbsp;copy&nbsp;of&nbsp;an&nbsp;other&nbsp;list&nbsp;at&nbsp;the&nbsp;back&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno"></span><span class="comment" id="4754207">//&nbsp;The&nbsp;lists&nbsp;l&nbsp;and&nbsp;other&nbsp;may&nbsp;be&nbsp;the&nbsp;same.</span><br>
<span class="lineno"></span><span class="keyword" id="4754249">func</span>&nbsp;<span class="op" id="4754254">(</span><span class="ident" id="4754255">l</span>&nbsp;<span class="op" id="4754257">*</span><span class="ident" id="4754258">List</span><span class="op" id="4754262">)</span>&nbsp;<span class="ident" id="4754264">PushBackList</span><span class="op" id="4754276">(</span><span class="ident" id="4754277">other</span>&nbsp;<span class="op" id="4754283">*</span><span class="ident" id="4754284">List</span><span class="op" id="4754288">)</span>&nbsp;<span class="op" id="4754290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4754293">l</span><span class="op" id="4754294">.</span><span class="ident" id="4754295">lazyInit</span><span class="op" id="4754303">(</span><span class="op" id="4754304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4754307">for</span>&nbsp;<span class="ident" id="4754311">i</span><span class="op" id="4754312">,</span>&nbsp;<span class="ident" id="4754314">e</span>&nbsp;<span class="op" id="4754316">:=</span>&nbsp;<span class="ident" id="4754319">other</span><span class="op" id="4754324">.</span><span class="ident" id="4754325">Len</span><span class="op" id="4754328">(</span><span class="op" id="4754329">)</span><span class="op" id="4754330">,</span>&nbsp;<span class="ident" id="4754332">other</span><span class="op" id="4754337">.</span><span class="ident" id="4754338">Front</span><span class="op" id="4754343">(</span><span class="op" id="4754344">)</span><span class="op" id="4754345">;</span>&nbsp;<span class="ident" id="4754347">i</span>&nbsp;<span class="op" id="4754349">&gt;</span>&nbsp;<span class="num" id="4754351">0</span><span class="op" id="4754352">;</span>&nbsp;<span class="ident" id="4754354">i</span><span class="op" id="4754355">,</span>&nbsp;<span class="ident" id="4754357">e</span>&nbsp;<span class="op" id="4754359">=</span>&nbsp;<span class="ident" id="4754361">i</span><span class="op" id="4754362">-</span><span class="num" id="4754363">1</span><span class="op" id="4754364">,</span>&nbsp;<span class="ident" id="4754366">e</span><span class="op" id="4754367">.</span><span class="ident" id="4754368">Next</span><span class="op" id="4754372">(</span><span class="op" id="4754373">)</span>&nbsp;<span class="op" id="4754375">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4754379">l</span><span class="op" id="4754380">.</span><span class="ident" id="4754381">insertValue</span><span class="op" id="4754392">(</span><span class="ident" id="4754393">e</span><span class="op" id="4754394">.</span><span class="ident" id="4754395">Value</span><span class="op" id="4754400">,</span>&nbsp;<span class="ident" id="4754402">l</span><span class="op" id="4754403">.</span><span class="ident" id="4754404">root</span><span class="op" id="4754408">.</span><span class="ident" id="4754409">prev</span><span class="op" id="4754413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4754416">}</span><br>
<span class="lineno"></span><span class="op" id="4754418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4754421">//&nbsp;PushFrontList&nbsp;inserts&nbsp;a&nbsp;copy&nbsp;of&nbsp;an&nbsp;other&nbsp;list&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;list&nbsp;l.</span><br>
<span class="lineno">210</span><span class="comment" id="4754494">//&nbsp;The&nbsp;lists&nbsp;l&nbsp;and&nbsp;other&nbsp;may&nbsp;be&nbsp;the&nbsp;same.</span><br>
<span class="lineno"></span><span class="keyword" id="4754536">func</span>&nbsp;<span class="op" id="4754541">(</span><span class="ident" id="4754542">l</span>&nbsp;<span class="op" id="4754544">*</span><span class="ident" id="4754545">List</span><span class="op" id="4754549">)</span>&nbsp;<span class="ident" id="4754551">PushFrontList</span><span class="op" id="4754564">(</span><span class="ident" id="4754565">other</span>&nbsp;<span class="op" id="4754571">*</span><span class="ident" id="4754572">List</span><span class="op" id="4754576">)</span>&nbsp;<span class="op" id="4754578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4754581">l</span><span class="op" id="4754582">.</span><span class="ident" id="4754583">lazyInit</span><span class="op" id="4754591">(</span><span class="op" id="4754592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4754595">for</span>&nbsp;<span class="ident" id="4754599">i</span><span class="op" id="4754600">,</span>&nbsp;<span class="ident" id="4754602">e</span>&nbsp;<span class="op" id="4754604">:=</span>&nbsp;<span class="ident" id="4754607">other</span><span class="op" id="4754612">.</span><span class="ident" id="4754613">Len</span><span class="op" id="4754616">(</span><span class="op" id="4754617">)</span><span class="op" id="4754618">,</span>&nbsp;<span class="ident" id="4754620">other</span><span class="op" id="4754625">.</span><span class="ident" id="4754626">Back</span><span class="op" id="4754630">(</span><span class="op" id="4754631">)</span><span class="op" id="4754632">;</span>&nbsp;<span class="ident" id="4754634">i</span>&nbsp;<span class="op" id="4754636">&gt;</span>&nbsp;<span class="num" id="4754638">0</span><span class="op" id="4754639">;</span>&nbsp;<span class="ident" id="4754641">i</span><span class="op" id="4754642">,</span>&nbsp;<span class="ident" id="4754644">e</span>&nbsp;<span class="op" id="4754646">=</span>&nbsp;<span class="ident" id="4754648">i</span><span class="op" id="4754649">-</span><span class="num" id="4754650">1</span><span class="op" id="4754651">,</span>&nbsp;<span class="ident" id="4754653">e</span><span class="op" id="4754654">.</span><span class="ident" id="4754655">Prev</span><span class="op" id="4754659">(</span><span class="op" id="4754660">)</span>&nbsp;<span class="op" id="4754662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4754666">l</span><span class="op" id="4754667">.</span><span class="ident" id="4754668">insertValue</span><span class="op" id="4754679">(</span><span class="ident" id="4754680">e</span><span class="op" id="4754681">.</span><span class="ident" id="4754682">Value</span><span class="op" id="4754687">,</span>&nbsp;<span class="op" id="4754689">&amp;</span><span class="ident" id="4754690">l</span><span class="op" id="4754691">.</span><span class="ident" id="4754692">root</span><span class="op" id="4754696">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4754699">}</span><br>
<span class="lineno"></span><span class="op" id="4754701">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
