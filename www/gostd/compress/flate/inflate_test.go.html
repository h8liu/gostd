<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7693211">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7693266">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7693320">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7693371">package</span>&nbsp;<span class="ident" id="7693379">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7693386">import</span>&nbsp;<span class="op" id="7693393">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7693396">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7693405">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7693411">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7693421">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7693424">func</span>&nbsp;<span class="ident" id="7693429">TestReset</span><span class="op" id="7693438">(</span><span class="ident" id="7693439">t</span>&nbsp;<span class="op" id="7693441">*</span><span class="ident" id="7693442">testing</span><span class="op" id="7693449">.</span><span class="ident" id="7693450">T</span><span class="op" id="7693451">)</span>&nbsp;<span class="op" id="7693453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693456">ss</span>&nbsp;<span class="op" id="7693459">:=</span>&nbsp;<span class="op" id="7693462">[</span><span class="op" id="7693463">]</span><span class="builtintype" id="7693464">string</span><span class="op" id="7693470">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7693474">&#34;lorem&nbsp;ipsum&nbsp;izzle&nbsp;fo&nbsp;rizzle&#34;</span><span class="op" id="7693503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7693507">&#34;the&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&#34;</span><span class="op" id="7693540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7693543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693547">deflated</span>&nbsp;<span class="op" id="7693556">:=</span>&nbsp;<span class="builtinfunc" id="7693559">make</span><span class="op" id="7693563">(</span><span class="op" id="7693564">[</span><span class="op" id="7693565">]</span><span class="ident" id="7693566">bytes</span><span class="op" id="7693571">.</span><span class="ident" id="7693572">Buffer</span><span class="op" id="7693578">,</span>&nbsp;<span class="num" id="7693580">2</span><span class="op" id="7693581">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7693584">for</span>&nbsp;<span class="ident" id="7693588">i</span><span class="op" id="7693589">,</span>&nbsp;<span class="ident" id="7693591">s</span>&nbsp;<span class="op" id="7693593">:=</span>&nbsp;<span class="keyword" id="7693596">range</span>&nbsp;<span class="ident" id="7693602">ss</span>&nbsp;<span class="op" id="7693605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693609">w</span><span class="op" id="7693610">,</span>&nbsp;<span class="ident" id="7693612">_</span>&nbsp;<span class="op" id="7693614">:=</span>&nbsp;<span class="ident" id="7693617">NewWriter</span><span class="op" id="7693626">(</span><span class="op" id="7693627">&amp;</span><span class="ident" id="7693628">deflated</span><span class="op" id="7693636">[</span><span class="ident" id="7693637">i</span><span class="op" id="7693638">]</span><span class="op" id="7693639">,</span>&nbsp;<span class="num" id="7693641">1</span><span class="op" id="7693642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693646">w</span><span class="op" id="7693647">.</span><span class="ident" id="7693648">Write</span><span class="op" id="7693653">(</span><span class="op" id="7693654">[</span><span class="op" id="7693655">]</span><span class="builtintype" id="7693656">byte</span><span class="op" id="7693660">(</span><span class="ident" id="7693661">s</span><span class="op" id="7693662">)</span><span class="op" id="7693663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693667">w</span><span class="op" id="7693668">.</span><span class="ident" id="7693669">Close</span><span class="op" id="7693674">(</span><span class="op" id="7693675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7693678">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693682">inflated</span>&nbsp;<span class="op" id="7693691">:=</span>&nbsp;<span class="builtinfunc" id="7693694">make</span><span class="op" id="7693698">(</span><span class="op" id="7693699">[</span><span class="op" id="7693700">]</span><span class="ident" id="7693701">bytes</span><span class="op" id="7693706">.</span><span class="ident" id="7693707">Buffer</span><span class="op" id="7693713">,</span>&nbsp;<span class="num" id="7693715">2</span><span class="op" id="7693716">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693720">f</span>&nbsp;<span class="op" id="7693722">:=</span>&nbsp;<span class="ident" id="7693725">NewReader</span><span class="op" id="7693734">(</span><span class="op" id="7693735">&amp;</span><span class="ident" id="7693736">deflated</span><span class="op" id="7693744">[</span><span class="num" id="7693745">0</span><span class="op" id="7693746">]</span><span class="op" id="7693747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693750">io</span><span class="op" id="7693752">.</span><span class="ident" id="7693753">Copy</span><span class="op" id="7693757">(</span><span class="op" id="7693758">&amp;</span><span class="ident" id="7693759">inflated</span><span class="op" id="7693767">[</span><span class="num" id="7693768">0</span><span class="op" id="7693769">]</span><span class="op" id="7693770">,</span>&nbsp;<span class="ident" id="7693772">f</span><span class="op" id="7693773">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693776">f</span><span class="op" id="7693777">.</span><span class="op" id="7693778">(</span><span class="ident" id="7693779">Resetter</span><span class="op" id="7693787">)</span><span class="op" id="7693788">.</span><span class="ident" id="7693789">Reset</span><span class="op" id="7693794">(</span><span class="op" id="7693795">&amp;</span><span class="ident" id="7693796">deflated</span><span class="op" id="7693804">[</span><span class="num" id="7693805">1</span><span class="op" id="7693806">]</span><span class="op" id="7693807">,</span>&nbsp;<span class="ident" id="7693809">nil</span><span class="op" id="7693812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693815">io</span><span class="op" id="7693817">.</span><span class="ident" id="7693818">Copy</span><span class="op" id="7693822">(</span><span class="op" id="7693823">&amp;</span><span class="ident" id="7693824">inflated</span><span class="op" id="7693832">[</span><span class="num" id="7693833">1</span><span class="op" id="7693834">]</span><span class="op" id="7693835">,</span>&nbsp;<span class="ident" id="7693837">f</span><span class="op" id="7693838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693841">f</span><span class="op" id="7693842">.</span><span class="ident" id="7693843">Close</span><span class="op" id="7693848">(</span><span class="op" id="7693849">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7693853">for</span>&nbsp;<span class="ident" id="7693857">i</span><span class="op" id="7693858">,</span>&nbsp;<span class="ident" id="7693860">s</span>&nbsp;<span class="op" id="7693862">:=</span>&nbsp;<span class="keyword" id="7693865">range</span>&nbsp;<span class="ident" id="7693871">ss</span>&nbsp;<span class="op" id="7693874">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7693878">if</span>&nbsp;<span class="ident" id="7693881">s</span>&nbsp;<span class="op" id="7693883">!=</span>&nbsp;<span class="ident" id="7693886">inflated</span><span class="op" id="7693894">[</span><span class="ident" id="7693895">i</span><span class="op" id="7693896">]</span><span class="op" id="7693897">.</span><span class="ident" id="7693898">String</span><span class="op" id="7693904">(</span><span class="op" id="7693905">)</span>&nbsp;<span class="op" id="7693907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7693912">t</span><span class="op" id="7693913">.</span><span class="ident" id="7693914">Errorf</span><span class="op" id="7693920">(</span><span class="string" id="7693921">&#34;inflated[%d]:\ngot&nbsp;&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="7693954">,</span>&nbsp;<span class="ident" id="7693956">i</span><span class="op" id="7693957">,</span>&nbsp;<span class="ident" id="7693959">inflated</span><span class="op" id="7693967">[</span><span class="ident" id="7693968">i</span><span class="op" id="7693969">]</span><span class="op" id="7693970">,</span>&nbsp;<span class="ident" id="7693972">s</span><span class="op" id="7693973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7693977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7693980">}</span><br>
<span class="lineno"></span><span class="op" id="7693982">}</span>
</div>
</body>
</html>
