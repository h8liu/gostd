<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7760743">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7760798">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7760852">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7760903">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7760968">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7761027">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7761085">package</span>&nbsp;<span class="ident" id="7761093">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7761098">import</span>&nbsp;<span class="op" id="7761105">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7761108">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7761115">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7761125">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7761128">type</span>&nbsp;<span class="ident" id="7761133">matrix</span>&nbsp;<span class="keyword" id="7761140">struct</span>&nbsp;<span class="op" id="7761147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761150">n</span><span class="op" id="7761151">,</span>&nbsp;<span class="ident" id="7761153">m</span>&nbsp;<span class="builtintype" id="7761155">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761160">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761165">[</span><span class="op" id="7761166">]</span><span class="op" id="7761167">*</span><span class="ident" id="7761168">Rat</span><br>
<span class="lineno"></span><span class="op" id="7761172">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7761175">func</span>&nbsp;<span class="op" id="7761180">(</span><span class="ident" id="7761181">a</span>&nbsp;<span class="op" id="7761183">*</span><span class="ident" id="7761184">matrix</span><span class="op" id="7761190">)</span>&nbsp;<span class="ident" id="7761192">at</span><span class="op" id="7761194">(</span><span class="ident" id="7761195">i</span><span class="op" id="7761196">,</span>&nbsp;<span class="ident" id="7761198">j</span>&nbsp;<span class="builtintype" id="7761200">int</span><span class="op" id="7761203">)</span>&nbsp;<span class="op" id="7761205">*</span><span class="ident" id="7761206">Rat</span>&nbsp;<span class="op" id="7761210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761213">if</span>&nbsp;<span class="op" id="7761216">!</span><span class="op" id="7761217">(</span><span class="num" id="7761218">0</span>&nbsp;<span class="op" id="7761220">&lt;=</span>&nbsp;<span class="ident" id="7761223">i</span>&nbsp;<span class="op" id="7761225">&amp;&amp;</span>&nbsp;<span class="ident" id="7761228">i</span>&nbsp;<span class="op" id="7761230">&lt;</span>&nbsp;<span class="ident" id="7761232">a</span><span class="op" id="7761233">.</span><span class="ident" id="7761234">n</span>&nbsp;<span class="op" id="7761236">&amp;&amp;</span>&nbsp;<span class="num" id="7761239">0</span>&nbsp;<span class="op" id="7761241">&lt;=</span>&nbsp;<span class="ident" id="7761244">j</span>&nbsp;<span class="op" id="7761246">&amp;&amp;</span>&nbsp;<span class="ident" id="7761249">j</span>&nbsp;<span class="op" id="7761251">&lt;</span>&nbsp;<span class="ident" id="7761253">a</span><span class="op" id="7761254">.</span><span class="ident" id="7761255">m</span><span class="op" id="7761256">)</span>&nbsp;<span class="op" id="7761258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7761262">panic</span><span class="op" id="7761267">(</span><span class="string" id="7761268">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7761288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761291">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761294">return</span>&nbsp;<span class="ident" id="7761301">a</span><span class="op" id="7761302">.</span><span class="ident" id="7761303">a</span><span class="op" id="7761304">[</span><span class="ident" id="7761305">i</span><span class="op" id="7761306">*</span><span class="ident" id="7761307">a</span><span class="op" id="7761308">.</span><span class="ident" id="7761309">m</span><span class="op" id="7761310">+</span><span class="ident" id="7761311">j</span><span class="op" id="7761312">]</span><br>
<span class="lineno"></span><span class="op" id="7761314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7761317">func</span>&nbsp;<span class="op" id="7761322">(</span><span class="ident" id="7761323">a</span>&nbsp;<span class="op" id="7761325">*</span><span class="ident" id="7761326">matrix</span><span class="op" id="7761332">)</span>&nbsp;<span class="ident" id="7761334">set</span><span class="op" id="7761337">(</span><span class="ident" id="7761338">i</span><span class="op" id="7761339">,</span>&nbsp;<span class="ident" id="7761341">j</span>&nbsp;<span class="builtintype" id="7761343">int</span><span class="op" id="7761346">,</span>&nbsp;<span class="ident" id="7761348">x</span>&nbsp;<span class="op" id="7761350">*</span><span class="ident" id="7761351">Rat</span><span class="op" id="7761354">)</span>&nbsp;<span class="op" id="7761356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761359">if</span>&nbsp;<span class="op" id="7761362">!</span><span class="op" id="7761363">(</span><span class="num" id="7761364">0</span>&nbsp;<span class="op" id="7761366">&lt;=</span>&nbsp;<span class="ident" id="7761369">i</span>&nbsp;<span class="op" id="7761371">&amp;&amp;</span>&nbsp;<span class="ident" id="7761374">i</span>&nbsp;<span class="op" id="7761376">&lt;</span>&nbsp;<span class="ident" id="7761378">a</span><span class="op" id="7761379">.</span><span class="ident" id="7761380">n</span>&nbsp;<span class="op" id="7761382">&amp;&amp;</span>&nbsp;<span class="num" id="7761385">0</span>&nbsp;<span class="op" id="7761387">&lt;=</span>&nbsp;<span class="ident" id="7761390">j</span>&nbsp;<span class="op" id="7761392">&amp;&amp;</span>&nbsp;<span class="ident" id="7761395">j</span>&nbsp;<span class="op" id="7761397">&lt;</span>&nbsp;<span class="ident" id="7761399">a</span><span class="op" id="7761400">.</span><span class="ident" id="7761401">m</span><span class="op" id="7761402">)</span>&nbsp;<span class="op" id="7761404">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7761408">panic</span><span class="op" id="7761413">(</span><span class="string" id="7761414">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7761434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761440">a</span><span class="op" id="7761441">.</span><span class="ident" id="7761442">a</span><span class="op" id="7761443">[</span><span class="ident" id="7761444">i</span><span class="op" id="7761445">*</span><span class="ident" id="7761446">a</span><span class="op" id="7761447">.</span><span class="ident" id="7761448">m</span><span class="op" id="7761449">+</span><span class="ident" id="7761450">j</span><span class="op" id="7761451">]</span>&nbsp;<span class="op" id="7761453">=</span>&nbsp;<span class="ident" id="7761455">x</span><br>
<span class="lineno"></span><span class="op" id="7761457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7761460">func</span>&nbsp;<span class="ident" id="7761465">newMatrix</span><span class="op" id="7761474">(</span><span class="ident" id="7761475">n</span><span class="op" id="7761476">,</span>&nbsp;<span class="ident" id="7761478">m</span>&nbsp;<span class="builtintype" id="7761480">int</span><span class="op" id="7761483">)</span>&nbsp;<span class="op" id="7761485">*</span><span class="ident" id="7761486">matrix</span>&nbsp;<span class="op" id="7761493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761496">if</span>&nbsp;<span class="op" id="7761499">!</span><span class="op" id="7761500">(</span><span class="num" id="7761501">0</span>&nbsp;<span class="op" id="7761503">&lt;=</span>&nbsp;<span class="ident" id="7761506">n</span>&nbsp;<span class="op" id="7761508">&amp;&amp;</span>&nbsp;<span class="num" id="7761511">0</span>&nbsp;<span class="op" id="7761513">&lt;=</span>&nbsp;<span class="ident" id="7761516">m</span><span class="op" id="7761517">)</span>&nbsp;<span class="op" id="7761519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7761523">panic</span><span class="op" id="7761528">(</span><span class="string" id="7761529">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7761545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761551">a</span>&nbsp;<span class="op" id="7761553">:=</span>&nbsp;<span class="builtinfunc" id="7761556">new</span><span class="op" id="7761559">(</span><span class="ident" id="7761560">matrix</span><span class="op" id="7761566">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761569">a</span><span class="op" id="7761570">.</span><span class="ident" id="7761571">n</span>&nbsp;<span class="op" id="7761573">=</span>&nbsp;<span class="ident" id="7761575">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761578">a</span><span class="op" id="7761579">.</span><span class="ident" id="7761580">m</span>&nbsp;<span class="op" id="7761582">=</span>&nbsp;<span class="ident" id="7761584">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761587">a</span><span class="op" id="7761588">.</span><span class="ident" id="7761589">a</span>&nbsp;<span class="op" id="7761591">=</span>&nbsp;<span class="builtinfunc" id="7761593">make</span><span class="op" id="7761597">(</span><span class="op" id="7761598">[</span><span class="op" id="7761599">]</span><span class="op" id="7761600">*</span><span class="ident" id="7761601">Rat</span><span class="op" id="7761604">,</span>&nbsp;<span class="ident" id="7761606">n</span><span class="op" id="7761607">*</span><span class="ident" id="7761608">m</span><span class="op" id="7761609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761612">return</span>&nbsp;<span class="ident" id="7761619">a</span><br>
<span class="lineno"></span><span class="op" id="7761621">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7761624">func</span>&nbsp;<span class="ident" id="7761629">newUnit</span><span class="op" id="7761636">(</span><span class="ident" id="7761637">n</span>&nbsp;<span class="builtintype" id="7761639">int</span><span class="op" id="7761642">)</span>&nbsp;<span class="op" id="7761644">*</span><span class="ident" id="7761645">matrix</span>&nbsp;<span class="op" id="7761652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761655">a</span>&nbsp;<span class="op" id="7761657">:=</span>&nbsp;<span class="ident" id="7761660">newMatrix</span><span class="op" id="7761669">(</span><span class="ident" id="7761670">n</span><span class="op" id="7761671">,</span>&nbsp;<span class="ident" id="7761673">n</span><span class="op" id="7761674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761677">for</span>&nbsp;<span class="ident" id="7761681">i</span>&nbsp;<span class="op" id="7761683">:=</span>&nbsp;<span class="num" id="7761686">0</span><span class="op" id="7761687">;</span>&nbsp;<span class="ident" id="7761689">i</span>&nbsp;<span class="op" id="7761691">&lt;</span>&nbsp;<span class="ident" id="7761693">n</span><span class="op" id="7761694">;</span>&nbsp;<span class="ident" id="7761696">i</span><span class="op" id="7761697">++</span>&nbsp;<span class="op" id="7761700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761704">for</span>&nbsp;<span class="ident" id="7761708">j</span>&nbsp;<span class="op" id="7761710">:=</span>&nbsp;<span class="num" id="7761713">0</span><span class="op" id="7761714">;</span>&nbsp;<span class="ident" id="7761716">j</span>&nbsp;<span class="op" id="7761718">&lt;</span>&nbsp;<span class="ident" id="7761720">n</span><span class="op" id="7761721">;</span>&nbsp;<span class="ident" id="7761723">j</span><span class="op" id="7761724">++</span>&nbsp;<span class="op" id="7761727">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761732">x</span>&nbsp;<span class="op" id="7761734">:=</span>&nbsp;<span class="ident" id="7761737">NewRat</span><span class="op" id="7761743">(</span><span class="num" id="7761744">0</span><span class="op" id="7761745">,</span>&nbsp;<span class="num" id="7761747">1</span><span class="op" id="7761748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761753">if</span>&nbsp;<span class="ident" id="7761756">i</span>&nbsp;<span class="op" id="7761758">==</span>&nbsp;<span class="ident" id="7761761">j</span>&nbsp;<span class="op" id="7761763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761769">x</span><span class="op" id="7761770">.</span><span class="ident" id="7761771">SetInt64</span><span class="op" id="7761779">(</span><span class="num" id="7761780">1</span><span class="op" id="7761781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761791">a</span><span class="op" id="7761792">.</span><span class="ident" id="7761793">set</span><span class="op" id="7761796">(</span><span class="ident" id="7761797">i</span><span class="op" id="7761798">,</span>&nbsp;<span class="ident" id="7761800">j</span><span class="op" id="7761801">,</span>&nbsp;<span class="ident" id="7761803">x</span><span class="op" id="7761804">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761814">return</span>&nbsp;<span class="ident" id="7761821">a</span><br>
<span class="lineno"></span><span class="op" id="7761823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7761826">func</span>&nbsp;<span class="ident" id="7761831">newHilbert</span><span class="op" id="7761841">(</span><span class="ident" id="7761842">n</span>&nbsp;<span class="builtintype" id="7761844">int</span><span class="op" id="7761847">)</span>&nbsp;<span class="op" id="7761849">*</span><span class="ident" id="7761850">matrix</span>&nbsp;<span class="op" id="7761857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761860">a</span>&nbsp;<span class="op" id="7761862">:=</span>&nbsp;<span class="ident" id="7761865">newMatrix</span><span class="op" id="7761874">(</span><span class="ident" id="7761875">n</span><span class="op" id="7761876">,</span>&nbsp;<span class="ident" id="7761878">n</span><span class="op" id="7761879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761882">for</span>&nbsp;<span class="ident" id="7761886">i</span>&nbsp;<span class="op" id="7761888">:=</span>&nbsp;<span class="num" id="7761891">0</span><span class="op" id="7761892">;</span>&nbsp;<span class="ident" id="7761894">i</span>&nbsp;<span class="op" id="7761896">&lt;</span>&nbsp;<span class="ident" id="7761898">n</span><span class="op" id="7761899">;</span>&nbsp;<span class="ident" id="7761901">i</span><span class="op" id="7761902">++</span>&nbsp;<span class="op" id="7761905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761909">for</span>&nbsp;<span class="ident" id="7761913">j</span>&nbsp;<span class="op" id="7761915">:=</span>&nbsp;<span class="num" id="7761918">0</span><span class="op" id="7761919">;</span>&nbsp;<span class="ident" id="7761921">j</span>&nbsp;<span class="op" id="7761923">&lt;</span>&nbsp;<span class="ident" id="7761925">n</span><span class="op" id="7761926">;</span>&nbsp;<span class="ident" id="7761928">j</span><span class="op" id="7761929">++</span>&nbsp;<span class="op" id="7761932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761937">a</span><span class="op" id="7761938">.</span><span class="ident" id="7761939">set</span><span class="op" id="7761942">(</span><span class="ident" id="7761943">i</span><span class="op" id="7761944">,</span>&nbsp;<span class="ident" id="7761946">j</span><span class="op" id="7761947">,</span>&nbsp;<span class="ident" id="7761949">NewRat</span><span class="op" id="7761955">(</span><span class="num" id="7761956">1</span><span class="op" id="7761957">,</span>&nbsp;<span class="ident" id="7761959">int64</span><span class="op" id="7761964">(</span><span class="ident" id="7761965">i</span><span class="op" id="7761966">+</span><span class="ident" id="7761967">j</span><span class="op" id="7761968">+</span><span class="num" id="7761969">1</span><span class="op" id="7761970">)</span><span class="op" id="7761971">)</span><span class="op" id="7761972">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761982">return</span>&nbsp;<span class="ident" id="7761989">a</span><br>
<span class="lineno"></span><span class="op" id="7761991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7761994">func</span>&nbsp;<span class="ident" id="7761999">newInverseHilbert</span><span class="op" id="7762016">(</span><span class="ident" id="7762017">n</span>&nbsp;<span class="builtintype" id="7762019">int</span><span class="op" id="7762022">)</span>&nbsp;<span class="op" id="7762024">*</span><span class="ident" id="7762025">matrix</span>&nbsp;<span class="op" id="7762032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762035">a</span>&nbsp;<span class="op" id="7762037">:=</span>&nbsp;<span class="ident" id="7762040">newMatrix</span><span class="op" id="7762049">(</span><span class="ident" id="7762050">n</span><span class="op" id="7762051">,</span>&nbsp;<span class="ident" id="7762053">n</span><span class="op" id="7762054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762057">for</span>&nbsp;<span class="ident" id="7762061">i</span>&nbsp;<span class="op" id="7762063">:=</span>&nbsp;<span class="num" id="7762066">0</span><span class="op" id="7762067">;</span>&nbsp;<span class="ident" id="7762069">i</span>&nbsp;<span class="op" id="7762071">&lt;</span>&nbsp;<span class="ident" id="7762073">n</span><span class="op" id="7762074">;</span>&nbsp;<span class="ident" id="7762076">i</span><span class="op" id="7762077">++</span>&nbsp;<span class="op" id="7762080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762084">for</span>&nbsp;<span class="ident" id="7762088">j</span>&nbsp;<span class="op" id="7762090">:=</span>&nbsp;<span class="num" id="7762093">0</span><span class="op" id="7762094">;</span>&nbsp;<span class="ident" id="7762096">j</span>&nbsp;<span class="op" id="7762098">&lt;</span>&nbsp;<span class="ident" id="7762100">n</span><span class="op" id="7762101">;</span>&nbsp;<span class="ident" id="7762103">j</span><span class="op" id="7762104">++</span>&nbsp;<span class="op" id="7762107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762112">x1</span>&nbsp;<span class="op" id="7762115">:=</span>&nbsp;<span class="builtinfunc" id="7762118">new</span><span class="op" id="7762121">(</span><span class="ident" id="7762122">Rat</span><span class="op" id="7762125">)</span><span class="op" id="7762126">.</span><span class="ident" id="7762127">SetInt64</span><span class="op" id="7762135">(</span><span class="ident" id="7762136">int64</span><span class="op" id="7762141">(</span><span class="ident" id="7762142">i</span>&nbsp;<span class="op" id="7762144">+</span>&nbsp;<span class="ident" id="7762146">j</span>&nbsp;<span class="op" id="7762148">+</span>&nbsp;<span class="num" id="7762150">1</span><span class="op" id="7762151">)</span><span class="op" id="7762152">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762157">x2</span>&nbsp;<span class="op" id="7762160">:=</span>&nbsp;<span class="builtinfunc" id="7762163">new</span><span class="op" id="7762166">(</span><span class="ident" id="7762167">Rat</span><span class="op" id="7762170">)</span><span class="op" id="7762171">.</span><span class="ident" id="7762172">SetInt</span><span class="op" id="7762178">(</span><span class="builtinfunc" id="7762179">new</span><span class="op" id="7762182">(</span><span class="ident" id="7762183">Int</span><span class="op" id="7762186">)</span><span class="op" id="7762187">.</span><span class="ident" id="7762188">Binomial</span><span class="op" id="7762196">(</span><span class="ident" id="7762197">int64</span><span class="op" id="7762202">(</span><span class="ident" id="7762203">n</span><span class="op" id="7762204">+</span><span class="ident" id="7762205">i</span><span class="op" id="7762206">)</span><span class="op" id="7762207">,</span>&nbsp;<span class="ident" id="7762209">int64</span><span class="op" id="7762214">(</span><span class="ident" id="7762215">n</span><span class="op" id="7762216">-</span><span class="ident" id="7762217">j</span><span class="op" id="7762218">-</span><span class="num" id="7762219">1</span><span class="op" id="7762220">)</span><span class="op" id="7762221">)</span><span class="op" id="7762222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762227">x3</span>&nbsp;<span class="op" id="7762230">:=</span>&nbsp;<span class="builtinfunc" id="7762233">new</span><span class="op" id="7762236">(</span><span class="ident" id="7762237">Rat</span><span class="op" id="7762240">)</span><span class="op" id="7762241">.</span><span class="ident" id="7762242">SetInt</span><span class="op" id="7762248">(</span><span class="builtinfunc" id="7762249">new</span><span class="op" id="7762252">(</span><span class="ident" id="7762253">Int</span><span class="op" id="7762256">)</span><span class="op" id="7762257">.</span><span class="ident" id="7762258">Binomial</span><span class="op" id="7762266">(</span><span class="ident" id="7762267">int64</span><span class="op" id="7762272">(</span><span class="ident" id="7762273">n</span><span class="op" id="7762274">+</span><span class="ident" id="7762275">j</span><span class="op" id="7762276">)</span><span class="op" id="7762277">,</span>&nbsp;<span class="ident" id="7762279">int64</span><span class="op" id="7762284">(</span><span class="ident" id="7762285">n</span><span class="op" id="7762286">-</span><span class="ident" id="7762287">i</span><span class="op" id="7762288">-</span><span class="num" id="7762289">1</span><span class="op" id="7762290">)</span><span class="op" id="7762291">)</span><span class="op" id="7762292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762297">x4</span>&nbsp;<span class="op" id="7762300">:=</span>&nbsp;<span class="builtinfunc" id="7762303">new</span><span class="op" id="7762306">(</span><span class="ident" id="7762307">Rat</span><span class="op" id="7762310">)</span><span class="op" id="7762311">.</span><span class="ident" id="7762312">SetInt</span><span class="op" id="7762318">(</span><span class="builtinfunc" id="7762319">new</span><span class="op" id="7762322">(</span><span class="ident" id="7762323">Int</span><span class="op" id="7762326">)</span><span class="op" id="7762327">.</span><span class="ident" id="7762328">Binomial</span><span class="op" id="7762336">(</span><span class="ident" id="7762337">int64</span><span class="op" id="7762342">(</span><span class="ident" id="7762343">i</span><span class="op" id="7762344">+</span><span class="ident" id="7762345">j</span><span class="op" id="7762346">)</span><span class="op" id="7762347">,</span>&nbsp;<span class="ident" id="7762349">int64</span><span class="op" id="7762354">(</span><span class="ident" id="7762355">i</span><span class="op" id="7762356">)</span><span class="op" id="7762357">)</span><span class="op" id="7762358">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762364">x1</span><span class="op" id="7762366">.</span><span class="ident" id="7762367">Mul</span><span class="op" id="7762370">(</span><span class="ident" id="7762371">x1</span><span class="op" id="7762373">,</span>&nbsp;<span class="ident" id="7762375">x2</span><span class="op" id="7762377">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762382">x1</span><span class="op" id="7762384">.</span><span class="ident" id="7762385">Mul</span><span class="op" id="7762388">(</span><span class="ident" id="7762389">x1</span><span class="op" id="7762391">,</span>&nbsp;<span class="ident" id="7762393">x3</span><span class="op" id="7762395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762400">x1</span><span class="op" id="7762402">.</span><span class="ident" id="7762403">Mul</span><span class="op" id="7762406">(</span><span class="ident" id="7762407">x1</span><span class="op" id="7762409">,</span>&nbsp;<span class="ident" id="7762411">x4</span><span class="op" id="7762413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762418">x1</span><span class="op" id="7762420">.</span><span class="ident" id="7762421">Mul</span><span class="op" id="7762424">(</span><span class="ident" id="7762425">x1</span><span class="op" id="7762427">,</span>&nbsp;<span class="ident" id="7762429">x4</span><span class="op" id="7762431">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762437">if</span>&nbsp;<span class="op" id="7762440">(</span><span class="ident" id="7762441">i</span><span class="op" id="7762442">+</span><span class="ident" id="7762443">j</span><span class="op" id="7762444">)</span><span class="op" id="7762445">&amp;</span><span class="num" id="7762446">1</span>&nbsp;<span class="op" id="7762448">!=</span>&nbsp;<span class="num" id="7762451">0</span>&nbsp;<span class="op" id="7762453">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762459">x1</span><span class="op" id="7762461">.</span><span class="ident" id="7762462">Neg</span><span class="op" id="7762465">(</span><span class="ident" id="7762466">x1</span><span class="op" id="7762468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762479">a</span><span class="op" id="7762480">.</span><span class="ident" id="7762481">set</span><span class="op" id="7762484">(</span><span class="ident" id="7762485">i</span><span class="op" id="7762486">,</span>&nbsp;<span class="ident" id="7762488">j</span><span class="op" id="7762489">,</span>&nbsp;<span class="ident" id="7762491">x1</span><span class="op" id="7762493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762497">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762503">return</span>&nbsp;<span class="ident" id="7762510">a</span><br>
<span class="lineno"></span><span class="op" id="7762512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7762515">func</span>&nbsp;<span class="op" id="7762520">(</span><span class="ident" id="7762521">a</span>&nbsp;<span class="op" id="7762523">*</span><span class="ident" id="7762524">matrix</span><span class="op" id="7762530">)</span>&nbsp;<span class="ident" id="7762532">mul</span><span class="op" id="7762535">(</span><span class="ident" id="7762536">b</span>&nbsp;<span class="op" id="7762538">*</span><span class="ident" id="7762539">matrix</span><span class="op" id="7762545">)</span>&nbsp;<span class="op" id="7762547">*</span><span class="ident" id="7762548">matrix</span>&nbsp;<span class="op" id="7762555">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762558">if</span>&nbsp;<span class="ident" id="7762561">a</span><span class="op" id="7762562">.</span><span class="ident" id="7762563">m</span>&nbsp;<span class="op" id="7762565">!=</span>&nbsp;<span class="ident" id="7762568">b</span><span class="op" id="7762569">.</span><span class="ident" id="7762570">n</span>&nbsp;<span class="op" id="7762572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7762576">panic</span><span class="op" id="7762581">(</span><span class="string" id="7762582">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7762607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762613">c</span>&nbsp;<span class="op" id="7762615">:=</span>&nbsp;<span class="ident" id="7762618">newMatrix</span><span class="op" id="7762627">(</span><span class="ident" id="7762628">a</span><span class="op" id="7762629">.</span><span class="ident" id="7762630">n</span><span class="op" id="7762631">,</span>&nbsp;<span class="ident" id="7762633">b</span><span class="op" id="7762634">.</span><span class="ident" id="7762635">m</span><span class="op" id="7762636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762639">for</span>&nbsp;<span class="ident" id="7762643">i</span>&nbsp;<span class="op" id="7762645">:=</span>&nbsp;<span class="num" id="7762648">0</span><span class="op" id="7762649">;</span>&nbsp;<span class="ident" id="7762651">i</span>&nbsp;<span class="op" id="7762653">&lt;</span>&nbsp;<span class="ident" id="7762655">c</span><span class="op" id="7762656">.</span><span class="ident" id="7762657">n</span><span class="op" id="7762658">;</span>&nbsp;<span class="ident" id="7762660">i</span><span class="op" id="7762661">++</span>&nbsp;<span class="op" id="7762664">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762668">for</span>&nbsp;<span class="ident" id="7762672">j</span>&nbsp;<span class="op" id="7762674">:=</span>&nbsp;<span class="num" id="7762677">0</span><span class="op" id="7762678">;</span>&nbsp;<span class="ident" id="7762680">j</span>&nbsp;<span class="op" id="7762682">&lt;</span>&nbsp;<span class="ident" id="7762684">c</span><span class="op" id="7762685">.</span><span class="ident" id="7762686">m</span><span class="op" id="7762687">;</span>&nbsp;<span class="ident" id="7762689">j</span><span class="op" id="7762690">++</span>&nbsp;<span class="op" id="7762693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762698">x</span>&nbsp;<span class="op" id="7762700">:=</span>&nbsp;<span class="ident" id="7762703">NewRat</span><span class="op" id="7762709">(</span><span class="num" id="7762710">0</span><span class="op" id="7762711">,</span>&nbsp;<span class="num" id="7762713">1</span><span class="op" id="7762714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762719">for</span>&nbsp;<span class="ident" id="7762723">k</span>&nbsp;<span class="op" id="7762725">:=</span>&nbsp;<span class="num" id="7762728">0</span><span class="op" id="7762729">;</span>&nbsp;<span class="ident" id="7762731">k</span>&nbsp;<span class="op" id="7762733">&lt;</span>&nbsp;<span class="ident" id="7762735">a</span><span class="op" id="7762736">.</span><span class="ident" id="7762737">m</span><span class="op" id="7762738">;</span>&nbsp;<span class="ident" id="7762740">k</span><span class="op" id="7762741">++</span>&nbsp;<span class="op" id="7762744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762750">x</span><span class="op" id="7762751">.</span><span class="ident" id="7762752">Add</span><span class="op" id="7762755">(</span><span class="ident" id="7762756">x</span><span class="op" id="7762757">,</span>&nbsp;<span class="builtinfunc" id="7762759">new</span><span class="op" id="7762762">(</span><span class="ident" id="7762763">Rat</span><span class="op" id="7762766">)</span><span class="op" id="7762767">.</span><span class="ident" id="7762768">Mul</span><span class="op" id="7762771">(</span><span class="ident" id="7762772">a</span><span class="op" id="7762773">.</span><span class="ident" id="7762774">at</span><span class="op" id="7762776">(</span><span class="ident" id="7762777">i</span><span class="op" id="7762778">,</span>&nbsp;<span class="ident" id="7762780">k</span><span class="op" id="7762781">)</span><span class="op" id="7762782">,</span>&nbsp;<span class="ident" id="7762784">b</span><span class="op" id="7762785">.</span><span class="ident" id="7762786">at</span><span class="op" id="7762788">(</span><span class="ident" id="7762789">k</span><span class="op" id="7762790">,</span>&nbsp;<span class="ident" id="7762792">j</span><span class="op" id="7762793">)</span><span class="op" id="7762794">)</span><span class="op" id="7762795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762800">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762805">c</span><span class="op" id="7762806">.</span><span class="ident" id="7762807">set</span><span class="op" id="7762810">(</span><span class="ident" id="7762811">i</span><span class="op" id="7762812">,</span>&nbsp;<span class="ident" id="7762814">j</span><span class="op" id="7762815">,</span>&nbsp;<span class="ident" id="7762817">x</span><span class="op" id="7762818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762828">return</span>&nbsp;<span class="ident" id="7762835">c</span><br>
<span class="lineno"></span><span class="op" id="7762837">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7762840">func</span>&nbsp;<span class="op" id="7762845">(</span><span class="ident" id="7762846">a</span>&nbsp;<span class="op" id="7762848">*</span><span class="ident" id="7762849">matrix</span><span class="op" id="7762855">)</span>&nbsp;<span class="ident" id="7762857">eql</span><span class="op" id="7762860">(</span><span class="ident" id="7762861">b</span>&nbsp;<span class="op" id="7762863">*</span><span class="ident" id="7762864">matrix</span><span class="op" id="7762870">)</span>&nbsp;<span class="builtintype" id="7762872">bool</span>&nbsp;<span class="op" id="7762877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762880">if</span>&nbsp;<span class="ident" id="7762883">a</span><span class="op" id="7762884">.</span><span class="ident" id="7762885">n</span>&nbsp;<span class="op" id="7762887">!=</span>&nbsp;<span class="ident" id="7762890">b</span><span class="op" id="7762891">.</span><span class="ident" id="7762892">n</span>&nbsp;<span class="op" id="7762894">||</span>&nbsp;<span class="ident" id="7762897">a</span><span class="op" id="7762898">.</span><span class="ident" id="7762899">m</span>&nbsp;<span class="op" id="7762901">!=</span>&nbsp;<span class="ident" id="7762904">b</span><span class="op" id="7762905">.</span><span class="ident" id="7762906">m</span>&nbsp;<span class="op" id="7762908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762912">return</span>&nbsp;<span class="builtintype" id="7762919">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762926">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762929">for</span>&nbsp;<span class="ident" id="7762933">i</span>&nbsp;<span class="op" id="7762935">:=</span>&nbsp;<span class="num" id="7762938">0</span><span class="op" id="7762939">;</span>&nbsp;<span class="ident" id="7762941">i</span>&nbsp;<span class="op" id="7762943">&lt;</span>&nbsp;<span class="ident" id="7762945">a</span><span class="op" id="7762946">.</span><span class="ident" id="7762947">n</span><span class="op" id="7762948">;</span>&nbsp;<span class="ident" id="7762950">i</span><span class="op" id="7762951">++</span>&nbsp;<span class="op" id="7762954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762958">for</span>&nbsp;<span class="ident" id="7762962">j</span>&nbsp;<span class="op" id="7762964">:=</span>&nbsp;<span class="num" id="7762967">0</span><span class="op" id="7762968">;</span>&nbsp;<span class="ident" id="7762970">j</span>&nbsp;<span class="op" id="7762972">&lt;</span>&nbsp;<span class="ident" id="7762974">a</span><span class="op" id="7762975">.</span><span class="ident" id="7762976">m</span><span class="op" id="7762977">;</span>&nbsp;<span class="ident" id="7762979">j</span><span class="op" id="7762980">++</span>&nbsp;<span class="op" id="7762983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762988">if</span>&nbsp;<span class="ident" id="7762991">a</span><span class="op" id="7762992">.</span><span class="ident" id="7762993">at</span><span class="op" id="7762995">(</span><span class="ident" id="7762996">i</span><span class="op" id="7762997">,</span>&nbsp;<span class="ident" id="7762999">j</span><span class="op" id="7763000">)</span><span class="op" id="7763001">.</span><span class="ident" id="7763002">Cmp</span><span class="op" id="7763005">(</span><span class="ident" id="7763006">b</span><span class="op" id="7763007">.</span><span class="ident" id="7763008">at</span><span class="op" id="7763010">(</span><span class="ident" id="7763011">i</span><span class="op" id="7763012">,</span>&nbsp;<span class="ident" id="7763014">j</span><span class="op" id="7763015">)</span><span class="op" id="7763016">)</span>&nbsp;<span class="op" id="7763018">!=</span>&nbsp;<span class="num" id="7763021">0</span>&nbsp;<span class="op" id="7763023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763029">return</span>&nbsp;<span class="builtintype" id="7763036">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763045">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763055">return</span>&nbsp;<span class="builtintype" id="7763062">true</span><br>
<span class="lineno"></span><span class="op" id="7763067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7763070">func</span>&nbsp;<span class="op" id="7763075">(</span><span class="ident" id="7763076">a</span>&nbsp;<span class="op" id="7763078">*</span><span class="ident" id="7763079">matrix</span><span class="op" id="7763085">)</span>&nbsp;<span class="ident" id="7763087">String</span><span class="op" id="7763093">(</span><span class="op" id="7763094">)</span>&nbsp;<span class="builtintype" id="7763096">string</span>&nbsp;<span class="op" id="7763103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763106">s</span>&nbsp;<span class="op" id="7763108">:=</span>&nbsp;<span class="string" id="7763111">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763115">for</span>&nbsp;<span class="ident" id="7763119">i</span>&nbsp;<span class="op" id="7763121">:=</span>&nbsp;<span class="num" id="7763124">0</span><span class="op" id="7763125">;</span>&nbsp;<span class="ident" id="7763127">i</span>&nbsp;<span class="op" id="7763129">&lt;</span>&nbsp;<span class="ident" id="7763131">a</span><span class="op" id="7763132">.</span><span class="ident" id="7763133">n</span><span class="op" id="7763134">;</span>&nbsp;<span class="ident" id="7763136">i</span><span class="op" id="7763137">++</span>&nbsp;<span class="op" id="7763140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763144">for</span>&nbsp;<span class="ident" id="7763148">j</span>&nbsp;<span class="op" id="7763150">:=</span>&nbsp;<span class="num" id="7763153">0</span><span class="op" id="7763154">;</span>&nbsp;<span class="ident" id="7763156">j</span>&nbsp;<span class="op" id="7763158">&lt;</span>&nbsp;<span class="ident" id="7763160">a</span><span class="op" id="7763161">.</span><span class="ident" id="7763162">m</span><span class="op" id="7763163">;</span>&nbsp;<span class="ident" id="7763165">j</span><span class="op" id="7763166">++</span>&nbsp;<span class="op" id="7763169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763174">s</span>&nbsp;<span class="op" id="7763176">+=</span>&nbsp;<span class="ident" id="7763179">fmt</span><span class="op" id="7763182">.</span><span class="ident" id="7763183">Sprintf</span><span class="op" id="7763190">(</span><span class="string" id="7763191">&#34;\t%s&#34;</span><span class="op" id="7763197">,</span>&nbsp;<span class="ident" id="7763199">a</span><span class="op" id="7763200">.</span><span class="ident" id="7763201">at</span><span class="op" id="7763203">(</span><span class="ident" id="7763204">i</span><span class="op" id="7763205">,</span>&nbsp;<span class="ident" id="7763207">j</span><span class="op" id="7763208">)</span><span class="op" id="7763209">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763217">s</span>&nbsp;<span class="op" id="7763219">+=</span>&nbsp;<span class="string" id="7763222">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763231">return</span>&nbsp;<span class="ident" id="7763238">s</span><br>
<span class="lineno"></span><span class="op" id="7763240">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7763243">func</span>&nbsp;<span class="ident" id="7763248">doHilbert</span><span class="op" id="7763257">(</span><span class="ident" id="7763258">t</span>&nbsp;<span class="op" id="7763260">*</span><span class="ident" id="7763261">testing</span><span class="op" id="7763268">.</span><span class="ident" id="7763269">T</span><span class="op" id="7763270">,</span>&nbsp;<span class="ident" id="7763272">n</span>&nbsp;<span class="builtintype" id="7763274">int</span><span class="op" id="7763277">)</span>&nbsp;<span class="op" id="7763279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763282">a</span>&nbsp;<span class="op" id="7763284">:=</span>&nbsp;<span class="ident" id="7763287">newHilbert</span><span class="op" id="7763297">(</span><span class="ident" id="7763298">n</span><span class="op" id="7763299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763302">b</span>&nbsp;<span class="op" id="7763304">:=</span>&nbsp;<span class="ident" id="7763307">newInverseHilbert</span><span class="op" id="7763324">(</span><span class="ident" id="7763325">n</span><span class="op" id="7763326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763329">I</span>&nbsp;<span class="op" id="7763331">:=</span>&nbsp;<span class="ident" id="7763334">newUnit</span><span class="op" id="7763341">(</span><span class="ident" id="7763342">n</span><span class="op" id="7763343">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763346">ab</span>&nbsp;<span class="op" id="7763349">:=</span>&nbsp;<span class="ident" id="7763352">a</span><span class="op" id="7763353">.</span><span class="ident" id="7763354">mul</span><span class="op" id="7763357">(</span><span class="ident" id="7763358">b</span><span class="op" id="7763359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763362">if</span>&nbsp;<span class="op" id="7763365">!</span><span class="ident" id="7763366">ab</span><span class="op" id="7763368">.</span><span class="ident" id="7763369">eql</span><span class="op" id="7763372">(</span><span class="ident" id="7763373">I</span><span class="op" id="7763374">)</span>&nbsp;<span class="op" id="7763376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763380">if</span>&nbsp;<span class="ident" id="7763383">t</span>&nbsp;<span class="op" id="7763385">==</span>&nbsp;<span class="ident" id="7763388">nil</span>&nbsp;<span class="op" id="7763392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7763397">panic</span><span class="op" id="7763402">(</span><span class="string" id="7763403">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7763419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763423">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763427">t</span><span class="op" id="7763428">.</span><span class="ident" id="7763429">Errorf</span><span class="op" id="7763435">(</span><span class="string" id="7763436">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7763448">,</span>&nbsp;<span class="ident" id="7763450">a</span><span class="op" id="7763451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763455">t</span><span class="op" id="7763456">.</span><span class="ident" id="7763457">Errorf</span><span class="op" id="7763463">(</span><span class="string" id="7763464">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7763476">,</span>&nbsp;<span class="ident" id="7763478">b</span><span class="op" id="7763479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763483">t</span><span class="op" id="7763484">.</span><span class="ident" id="7763485">Errorf</span><span class="op" id="7763491">(</span><span class="string" id="7763492">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7763504">,</span>&nbsp;<span class="ident" id="7763506">ab</span><span class="op" id="7763508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763512">t</span><span class="op" id="7763513">.</span><span class="ident" id="7763514">Errorf</span><span class="op" id="7763520">(</span><span class="string" id="7763521">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7763533">,</span>&nbsp;<span class="ident" id="7763535">I</span><span class="op" id="7763536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763539">}</span><br>
<span class="lineno">150</span><span class="op" id="7763541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7763544">func</span>&nbsp;<span class="ident" id="7763549">TestHilbert</span><span class="op" id="7763560">(</span><span class="ident" id="7763561">t</span>&nbsp;<span class="op" id="7763563">*</span><span class="ident" id="7763564">testing</span><span class="op" id="7763571">.</span><span class="ident" id="7763572">T</span><span class="op" id="7763573">)</span>&nbsp;<span class="op" id="7763575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763578">doHilbert</span><span class="op" id="7763587">(</span><span class="ident" id="7763588">t</span><span class="op" id="7763589">,</span>&nbsp;<span class="num" id="7763591">10</span><span class="op" id="7763593">)</span><br>
<span class="lineno"></span><span class="op" id="7763595">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7763598">func</span>&nbsp;<span class="ident" id="7763603">BenchmarkHilbert</span><span class="op" id="7763619">(</span><span class="ident" id="7763620">b</span>&nbsp;<span class="op" id="7763622">*</span><span class="ident" id="7763623">testing</span><span class="op" id="7763630">.</span><span class="ident" id="7763631">B</span><span class="op" id="7763632">)</span>&nbsp;<span class="op" id="7763634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763637">for</span>&nbsp;<span class="ident" id="7763641">i</span>&nbsp;<span class="op" id="7763643">:=</span>&nbsp;<span class="num" id="7763646">0</span><span class="op" id="7763647">;</span>&nbsp;<span class="ident" id="7763649">i</span>&nbsp;<span class="op" id="7763651">&lt;</span>&nbsp;<span class="ident" id="7763653">b</span><span class="op" id="7763654">.</span><span class="ident" id="7763655">N</span><span class="op" id="7763656">;</span>&nbsp;<span class="ident" id="7763658">i</span><span class="op" id="7763659">++</span>&nbsp;<span class="op" id="7763662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763666">doHilbert</span><span class="op" id="7763675">(</span><span class="ident" id="7763676">nil</span><span class="op" id="7763679">,</span>&nbsp;<span class="num" id="7763681">10</span><span class="op" id="7763683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763686">}</span><br>
<span class="lineno">160</span><span class="op" id="7763688">}</span>
</div>
</body>
</html>
