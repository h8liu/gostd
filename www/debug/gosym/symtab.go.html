<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5655270">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5655326">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5655380">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5655431">//&nbsp;Package&nbsp;gosym&nbsp;implements&nbsp;access&nbsp;to&nbsp;the&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="5655483">//&nbsp;and&nbsp;line&nbsp;number&nbsp;tables&nbsp;embedded&nbsp;in&nbsp;Go&nbsp;binaries&nbsp;generated</span><br>
<span class="lineno"></span><span class="comment" id="5655543">//&nbsp;by&nbsp;the&nbsp;gc&nbsp;compilers.</span><br>
<span class="lineno"></span><span class="keyword" id="5655567">package</span>&nbsp;<span class="ident" id="5655575">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="5655582">//&nbsp;The&nbsp;table&nbsp;format&nbsp;is&nbsp;a&nbsp;variant&nbsp;of&nbsp;the&nbsp;format&nbsp;used&nbsp;in&nbsp;Plan&nbsp;9&#39;s&nbsp;a.out</span><br>
<span class="lineno"></span><span class="comment" id="5655652">//&nbsp;format,&nbsp;documented&nbsp;at&nbsp;http://plan9.bell-labs.com/magic/man2html/6/a.out.</span><br>
<span class="lineno"></span><span class="comment" id="5655728">//&nbsp;The&nbsp;best&nbsp;reference&nbsp;for&nbsp;the&nbsp;differences&nbsp;between&nbsp;the&nbsp;Plan&nbsp;9&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="5655796">//&nbsp;and&nbsp;the&nbsp;Go&nbsp;format&nbsp;is&nbsp;the&nbsp;runtime&nbsp;source,&nbsp;specifically&nbsp;../../runtime/symtab.c.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="5655878">import</span>&nbsp;<span class="op" id="5655885">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5655888">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5655897">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5655916">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5655923">&#34;strconv&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5655934">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="5655944">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5655947">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbols<br>
<span class="lineno">25</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5655966">//&nbsp;A&nbsp;Sym&nbsp;represents&nbsp;a&nbsp;single&nbsp;symbol&nbsp;table&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5656015">type</span>&nbsp;<span class="ident" id="5656020">Sym</span>&nbsp;<span class="keyword" id="5656024">struct</span>&nbsp;<span class="op" id="5656031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5656034">Value</span>&nbsp;&nbsp;<span class="ident" id="5656041">uint64</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5656049">Type</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5656056">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5656062">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5656069">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5656077">GoType</span>&nbsp;<span class="ident" id="5656084">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5656092">//&nbsp;If&nbsp;this&nbsp;symbol&nbsp;if&nbsp;a&nbsp;function&nbsp;symbol,&nbsp;the&nbsp;corresponding&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5656156">Func</span>&nbsp;<span class="op" id="5656161">*</span><span class="ident" id="5656162">Func</span><br>
<span class="lineno">35</span><span class="op" id="5656167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5656170">//&nbsp;Static&nbsp;reports&nbsp;whether&nbsp;this&nbsp;symbol&nbsp;is&nbsp;static&nbsp;(not&nbsp;visible&nbsp;outside&nbsp;its&nbsp;file).</span><br>
<span class="lineno"></span><span class="keyword" id="5656250">func</span>&nbsp;<span class="op" id="5656255">(</span><span class="ident" id="5656256">s</span>&nbsp;<span class="op" id="5656258">*</span><span class="ident" id="5656259">Sym</span><span class="op" id="5656262">)</span>&nbsp;<span class="ident" id="5656264">Static</span><span class="op" id="5656270">(</span><span class="op" id="5656271">)</span>&nbsp;<span class="builtintype" id="5656273">bool</span>&nbsp;<span class="op" id="5656278">{</span>&nbsp;<span class="keyword" id="5656280">return</span>&nbsp;<span class="ident" id="5656287">s</span><span class="op" id="5656288">.</span><span class="ident" id="5656289">Type</span>&nbsp;<span class="op" id="5656294">&gt;=</span>&nbsp;<span class="string" id="5656297">&#39;a&#39;</span>&nbsp;<span class="op" id="5656301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="5656304">//&nbsp;PackageName&nbsp;returns&nbsp;the&nbsp;package&nbsp;part&nbsp;of&nbsp;the&nbsp;symbol&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5656364">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5656405">func</span>&nbsp;<span class="op" id="5656410">(</span><span class="ident" id="5656411">s</span>&nbsp;<span class="op" id="5656413">*</span><span class="ident" id="5656414">Sym</span><span class="op" id="5656417">)</span>&nbsp;<span class="ident" id="5656419">PackageName</span><span class="op" id="5656430">(</span><span class="op" id="5656431">)</span>&nbsp;<span class="builtintype" id="5656433">string</span>&nbsp;<span class="op" id="5656440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5656443">if</span>&nbsp;<span class="ident" id="5656446">i</span>&nbsp;<span class="op" id="5656448">:=</span>&nbsp;<span class="ident" id="5656451">strings</span><span class="op" id="5656458">.</span><span class="ident" id="5656459">Index</span><span class="op" id="5656464">(</span><span class="ident" id="5656465">s</span><span class="op" id="5656466">.</span><span class="ident" id="5656467">Name</span><span class="op" id="5656471">,</span>&nbsp;<span class="string" id="5656473">&#34;.&#34;</span><span class="op" id="5656476">)</span><span class="op" id="5656477">;</span>&nbsp;<span class="ident" id="5656479">i</span>&nbsp;<span class="op" id="5656481">!=</span>&nbsp;<span class="op" id="5656484">-</span><span class="num" id="5656485">1</span>&nbsp;<span class="op" id="5656487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5656491">return</span>&nbsp;<span class="ident" id="5656498">s</span><span class="op" id="5656499">.</span><span class="ident" id="5656500">Name</span><span class="op" id="5656504">[</span><span class="num" id="5656505">0</span><span class="op" id="5656506">:</span><span class="ident" id="5656507">i</span><span class="op" id="5656508">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5656511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5656514">return</span>&nbsp;<span class="string" id="5656521">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="5656524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5656527">//&nbsp;ReceiverName&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;name&nbsp;of&nbsp;this&nbsp;symbol,</span><br>
<span class="lineno">50</span><span class="comment" id="5656590">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5656631">func</span>&nbsp;<span class="op" id="5656636">(</span><span class="ident" id="5656637">s</span>&nbsp;<span class="op" id="5656639">*</span><span class="ident" id="5656640">Sym</span><span class="op" id="5656643">)</span>&nbsp;<span class="ident" id="5656645">ReceiverName</span><span class="op" id="5656657">(</span><span class="op" id="5656658">)</span>&nbsp;<span class="builtintype" id="5656660">string</span>&nbsp;<span class="op" id="5656667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5656670">l</span>&nbsp;<span class="op" id="5656672">:=</span>&nbsp;<span class="ident" id="5656675">strings</span><span class="op" id="5656682">.</span><span class="ident" id="5656683">Index</span><span class="op" id="5656688">(</span><span class="ident" id="5656689">s</span><span class="op" id="5656690">.</span><span class="ident" id="5656691">Name</span><span class="op" id="5656695">,</span>&nbsp;<span class="string" id="5656697">&#34;.&#34;</span><span class="op" id="5656700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5656703">r</span>&nbsp;<span class="op" id="5656705">:=</span>&nbsp;<span class="ident" id="5656708">strings</span><span class="op" id="5656715">.</span><span class="ident" id="5656716">LastIndex</span><span class="op" id="5656725">(</span><span class="ident" id="5656726">s</span><span class="op" id="5656727">.</span><span class="ident" id="5656728">Name</span><span class="op" id="5656732">,</span>&nbsp;<span class="string" id="5656734">&#34;.&#34;</span><span class="op" id="5656737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5656740">if</span>&nbsp;<span class="ident" id="5656743">l</span>&nbsp;<span class="op" id="5656745">==</span>&nbsp;<span class="op" id="5656748">-</span><span class="num" id="5656749">1</span>&nbsp;<span class="op" id="5656751">||</span>&nbsp;<span class="ident" id="5656754">r</span>&nbsp;<span class="op" id="5656756">==</span>&nbsp;<span class="op" id="5656759">-</span><span class="num" id="5656760">1</span>&nbsp;<span class="op" id="5656762">||</span>&nbsp;<span class="ident" id="5656765">l</span>&nbsp;<span class="op" id="5656767">==</span>&nbsp;<span class="ident" id="5656770">r</span>&nbsp;<span class="op" id="5656772">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5656776">return</span>&nbsp;<span class="string" id="5656783">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5656787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5656790">return</span>&nbsp;<span class="ident" id="5656797">s</span><span class="op" id="5656798">.</span><span class="ident" id="5656799">Name</span><span class="op" id="5656803">[</span><span class="ident" id="5656804">l</span><span class="op" id="5656805">+</span><span class="num" id="5656806">1</span>&nbsp;<span class="op" id="5656808">:</span>&nbsp;<span class="ident" id="5656810">r</span><span class="op" id="5656811">]</span><br>
<span class="lineno"></span><span class="op" id="5656813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="5656816">//&nbsp;BaseName&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;name&nbsp;without&nbsp;the&nbsp;package&nbsp;or&nbsp;receiver&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="5656890">func</span>&nbsp;<span class="op" id="5656895">(</span><span class="ident" id="5656896">s</span>&nbsp;<span class="op" id="5656898">*</span><span class="ident" id="5656899">Sym</span><span class="op" id="5656902">)</span>&nbsp;<span class="ident" id="5656904">BaseName</span><span class="op" id="5656912">(</span><span class="op" id="5656913">)</span>&nbsp;<span class="builtintype" id="5656915">string</span>&nbsp;<span class="op" id="5656922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5656925">if</span>&nbsp;<span class="ident" id="5656928">i</span>&nbsp;<span class="op" id="5656930">:=</span>&nbsp;<span class="ident" id="5656933">strings</span><span class="op" id="5656940">.</span><span class="ident" id="5656941">LastIndex</span><span class="op" id="5656950">(</span><span class="ident" id="5656951">s</span><span class="op" id="5656952">.</span><span class="ident" id="5656953">Name</span><span class="op" id="5656957">,</span>&nbsp;<span class="string" id="5656959">&#34;.&#34;</span><span class="op" id="5656962">)</span><span class="op" id="5656963">;</span>&nbsp;<span class="ident" id="5656965">i</span>&nbsp;<span class="op" id="5656967">!=</span>&nbsp;<span class="op" id="5656970">-</span><span class="num" id="5656971">1</span>&nbsp;<span class="op" id="5656973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5656977">return</span>&nbsp;<span class="ident" id="5656984">s</span><span class="op" id="5656985">.</span><span class="ident" id="5656986">Name</span><span class="op" id="5656990">[</span><span class="ident" id="5656991">i</span><span class="op" id="5656992">+</span><span class="num" id="5656993">1</span><span class="op" id="5656994">:</span><span class="op" id="5656995">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5656998">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5657001">return</span>&nbsp;<span class="ident" id="5657008">s</span><span class="op" id="5657009">.</span><span class="ident" id="5657010">Name</span><br>
<span class="lineno"></span><span class="op" id="5657015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5657018">//&nbsp;A&nbsp;Func&nbsp;collects&nbsp;information&nbsp;about&nbsp;a&nbsp;single&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5657074">type</span>&nbsp;<span class="ident" id="5657079">Func</span>&nbsp;<span class="keyword" id="5657084">struct</span>&nbsp;<span class="op" id="5657091">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5657094">Entry</span>&nbsp;<span class="ident" id="5657100">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5657108">*</span><span class="ident" id="5657109">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5657114">End</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5657124">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5657132">Params</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5657142">[</span><span class="op" id="5657143">]</span><span class="op" id="5657144">*</span><span class="ident" id="5657145">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5657150">Locals</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5657160">[</span><span class="op" id="5657161">]</span><span class="op" id="5657162">*</span><span class="ident" id="5657163">Sym</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5657168">FrameSize</span>&nbsp;<span class="builtintype" id="5657178">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5657183">LineTable</span>&nbsp;<span class="op" id="5657193">*</span><span class="ident" id="5657194">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5657205">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5657215">*</span><span class="ident" id="5657216">Obj</span><br>
<span class="lineno"></span><span class="op" id="5657220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="5657223">//&nbsp;An&nbsp;Obj&nbsp;represents&nbsp;a&nbsp;collection&nbsp;of&nbsp;functions&nbsp;in&nbsp;a&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="5657289">//</span><br>
<span class="lineno"></span><span class="comment" id="5657292">//&nbsp;The&nbsp;exact&nbsp;method&nbsp;of&nbsp;division&nbsp;of&nbsp;a&nbsp;binary&nbsp;into&nbsp;separate&nbsp;Objs&nbsp;is&nbsp;an&nbsp;internal&nbsp;detail</span><br>
<span class="lineno"></span><span class="comment" id="5657377">//&nbsp;of&nbsp;the&nbsp;symbol&nbsp;table&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5657408">//</span><br>
<span class="lineno">85</span><span class="comment" id="5657411">//&nbsp;In&nbsp;early&nbsp;versions&nbsp;of&nbsp;Go&nbsp;each&nbsp;source&nbsp;file&nbsp;became&nbsp;a&nbsp;different&nbsp;Obj.</span><br>
<span class="lineno"></span><span class="comment" id="5657479">//</span><br>
<span class="lineno"></span><span class="comment" id="5657482">//&nbsp;In&nbsp;Go&nbsp;1&nbsp;and&nbsp;Go&nbsp;1.1,&nbsp;each&nbsp;package&nbsp;produced&nbsp;one&nbsp;Obj&nbsp;for&nbsp;all&nbsp;Go&nbsp;sources</span><br>
<span class="lineno"></span><span class="comment" id="5657554">//&nbsp;and&nbsp;one&nbsp;Obj&nbsp;per&nbsp;C&nbsp;source&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="5657588">//</span><br>
<span class="lineno">90</span><span class="comment" id="5657591">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;there&nbsp;is&nbsp;a&nbsp;single&nbsp;Obj&nbsp;for&nbsp;the&nbsp;entire&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="5657651">type</span>&nbsp;<span class="ident" id="5657656">Obj</span>&nbsp;<span class="keyword" id="5657660">struct</span>&nbsp;<span class="op" id="5657667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5657670">//&nbsp;Funcs&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;functions&nbsp;in&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5657715">Funcs</span>&nbsp;<span class="op" id="5657721">[</span><span class="op" id="5657722">]</span><span class="ident" id="5657723">Func</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5657730">//&nbsp;In&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;Paths&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;symbols&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5657798">//&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;names&nbsp;that&nbsp;produced&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5657850">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;Paths&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5657879">//&nbsp;Use&nbsp;the&nbsp;keys&nbsp;of&nbsp;Table.Files&nbsp;to&nbsp;obtain&nbsp;a&nbsp;list&nbsp;of&nbsp;source&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5657945">Paths</span>&nbsp;<span class="op" id="5657951">[</span><span class="op" id="5657952">]</span><span class="ident" id="5657953">Sym</span>&nbsp;<span class="comment" id="5657957">//&nbsp;meta</span><br>
<span class="lineno">100</span><span class="op" id="5657965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5657968">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbol&nbsp;tables<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="5657993">//&nbsp;Table&nbsp;represents&nbsp;a&nbsp;Go&nbsp;symbol&nbsp;table.&nbsp;&nbsp;It&nbsp;stores&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5658054">//&nbsp;symbols&nbsp;decoded&nbsp;from&nbsp;the&nbsp;program&nbsp;and&nbsp;provides&nbsp;methods&nbsp;to&nbsp;translate</span><br>
<span class="lineno"></span><span class="comment" id="5658124">//&nbsp;between&nbsp;symbols,&nbsp;names,&nbsp;and&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="5658166">type</span>&nbsp;<span class="ident" id="5658171">Table</span>&nbsp;<span class="keyword" id="5658177">struct</span>&nbsp;<span class="op" id="5658184">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658187">Syms</span>&nbsp;&nbsp;<span class="op" id="5658193">[</span><span class="op" id="5658194">]</span><span class="ident" id="5658195">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658200">Funcs</span>&nbsp;<span class="op" id="5658206">[</span><span class="op" id="5658207">]</span><span class="ident" id="5658208">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658214">Files</span>&nbsp;<span class="keyword" id="5658220">map</span><span class="op" id="5658223">[</span><span class="builtintype" id="5658224">string</span><span class="op" id="5658230">]</span><span class="op" id="5658231">*</span><span class="ident" id="5658232">Obj</span>&nbsp;<span class="comment" id="5658236">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658274">Objs</span>&nbsp;&nbsp;<span class="op" id="5658280">[</span><span class="op" id="5658281">]</span><span class="ident" id="5658282">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5658296">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658335">go12line</span>&nbsp;<span class="op" id="5658344">*</span><span class="ident" id="5658345">LineTable</span>&nbsp;<span class="comment" id="5658355">//&nbsp;Go&nbsp;1.2&nbsp;line&nbsp;number&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="5658383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5658386">type</span>&nbsp;<span class="ident" id="5658391">sym</span>&nbsp;<span class="keyword" id="5658395">struct</span>&nbsp;<span class="op" id="5658402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658405">value</span>&nbsp;&nbsp;<span class="ident" id="5658412">uint64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658420">gotype</span>&nbsp;<span class="ident" id="5658427">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658435">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5658442">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658448">name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5658455">[</span><span class="op" id="5658456">]</span><span class="builtintype" id="5658457">byte</span><br>
<span class="lineno"></span><span class="op" id="5658462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="5658465">var</span>&nbsp;<span class="op" id="5658469">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658472">littleEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5658494">=</span>&nbsp;<span class="op" id="5658496">[</span><span class="op" id="5658497">]</span><span class="builtintype" id="5658498">byte</span><span class="op" id="5658502">{</span><span class="num" id="5658503">0xFD</span><span class="op" id="5658507">,</span>&nbsp;<span class="num" id="5658509">0xFF</span><span class="op" id="5658513">,</span>&nbsp;<span class="num" id="5658515">0xFF</span><span class="op" id="5658519">,</span>&nbsp;<span class="num" id="5658521">0xFF</span><span class="op" id="5658525">,</span>&nbsp;<span class="num" id="5658527">0x00</span><span class="op" id="5658531">,</span>&nbsp;<span class="num" id="5658533">0x00</span><span class="op" id="5658537">,</span>&nbsp;<span class="num" id="5658539">0x00</span><span class="op" id="5658543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658546">bigEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5658568">=</span>&nbsp;<span class="op" id="5658570">[</span><span class="op" id="5658571">]</span><span class="builtintype" id="5658572">byte</span><span class="op" id="5658576">{</span><span class="num" id="5658577">0xFF</span><span class="op" id="5658581">,</span>&nbsp;<span class="num" id="5658583">0xFF</span><span class="op" id="5658587">,</span>&nbsp;<span class="num" id="5658589">0xFF</span><span class="op" id="5658593">,</span>&nbsp;<span class="num" id="5658595">0xFD</span><span class="op" id="5658599">,</span>&nbsp;<span class="num" id="5658601">0x00</span><span class="op" id="5658605">,</span>&nbsp;<span class="num" id="5658607">0x00</span><span class="op" id="5658611">,</span>&nbsp;<span class="num" id="5658613">0x00</span><span class="op" id="5658617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658620">oldLittleEndianSymtab</span>&nbsp;<span class="op" id="5658642">=</span>&nbsp;<span class="op" id="5658644">[</span><span class="op" id="5658645">]</span><span class="builtintype" id="5658646">byte</span><span class="op" id="5658650">{</span><span class="num" id="5658651">0xFE</span><span class="op" id="5658655">,</span>&nbsp;<span class="num" id="5658657">0xFF</span><span class="op" id="5658661">,</span>&nbsp;<span class="num" id="5658663">0xFF</span><span class="op" id="5658667">,</span>&nbsp;<span class="num" id="5658669">0xFF</span><span class="op" id="5658673">,</span>&nbsp;<span class="num" id="5658675">0x00</span><span class="op" id="5658679">,</span>&nbsp;<span class="num" id="5658681">0x00</span><span class="op" id="5658685">}</span><br>
<span class="lineno"></span><span class="op" id="5658687">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="5658690">func</span>&nbsp;<span class="ident" id="5658695">walksymtab</span><span class="op" id="5658705">(</span><span class="ident" id="5658706">data</span>&nbsp;<span class="op" id="5658711">[</span><span class="op" id="5658712">]</span><span class="builtintype" id="5658713">byte</span><span class="op" id="5658717">,</span>&nbsp;<span class="ident" id="5658719">fn</span>&nbsp;<span class="keyword" id="5658722">func</span><span class="op" id="5658726">(</span><span class="ident" id="5658727">sym</span><span class="op" id="5658730">)</span>&nbsp;<span class="builtintype" id="5658732">error</span><span class="op" id="5658737">)</span>&nbsp;<span class="builtintype" id="5658739">error</span>&nbsp;<span class="op" id="5658745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5658748">if</span>&nbsp;<span class="builtinfunc" id="5658751">len</span><span class="op" id="5658754">(</span><span class="ident" id="5658755">data</span><span class="op" id="5658759">)</span>&nbsp;<span class="op" id="5658761">==</span>&nbsp;<span class="num" id="5658764">0</span>&nbsp;<span class="op" id="5658766">{</span>&nbsp;<span class="comment" id="5658768">//&nbsp;missing&nbsp;symtab&nbsp;is&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5658796">return</span>&nbsp;<span class="ident" id="5658803">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5658808">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5658811">var</span>&nbsp;<span class="ident" id="5658815">order</span>&nbsp;<span class="ident" id="5658821">binary</span><span class="op" id="5658827">.</span><span class="ident" id="5658828">ByteOrder</span>&nbsp;<span class="op" id="5658838">=</span>&nbsp;<span class="ident" id="5658840">binary</span><span class="op" id="5658846">.</span><span class="ident" id="5658847">BigEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5658858">newTable</span>&nbsp;<span class="op" id="5658867">:=</span>&nbsp;<span class="ident" id="5658870">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5658877">switch</span>&nbsp;<span class="op" id="5658884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5658887">case</span>&nbsp;<span class="ident" id="5658892">bytes</span><span class="op" id="5658897">.</span><span class="ident" id="5658898">HasPrefix</span><span class="op" id="5658907">(</span><span class="ident" id="5658908">data</span><span class="op" id="5658912">,</span>&nbsp;<span class="ident" id="5658914">oldLittleEndianSymtab</span><span class="op" id="5658935">)</span><span class="op" id="5658936">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5658940">//&nbsp;Same&nbsp;as&nbsp;Go&nbsp;1.0,&nbsp;but&nbsp;little&nbsp;endian.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5658980">//&nbsp;Format&nbsp;was&nbsp;used&nbsp;during&nbsp;interim&nbsp;development&nbsp;between&nbsp;Go&nbsp;1.0&nbsp;and&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5659055">//&nbsp;Should&nbsp;not&nbsp;be&nbsp;widespread,&nbsp;but&nbsp;easy&nbsp;to&nbsp;support.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659107">data</span>&nbsp;<span class="op" id="5659112">=</span>&nbsp;<span class="ident" id="5659114">data</span><span class="op" id="5659118">[</span><span class="num" id="5659119">6</span><span class="op" id="5659120">:</span><span class="op" id="5659121">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659125">order</span>&nbsp;<span class="op" id="5659131">=</span>&nbsp;<span class="ident" id="5659133">binary</span><span class="op" id="5659139">.</span><span class="ident" id="5659140">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659154">case</span>&nbsp;<span class="ident" id="5659159">bytes</span><span class="op" id="5659164">.</span><span class="ident" id="5659165">HasPrefix</span><span class="op" id="5659174">(</span><span class="ident" id="5659175">data</span><span class="op" id="5659179">,</span>&nbsp;<span class="ident" id="5659181">bigEndianSymtab</span><span class="op" id="5659196">)</span><span class="op" id="5659197">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659201">newTable</span>&nbsp;<span class="op" id="5659210">=</span>&nbsp;<span class="ident" id="5659212">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659218">case</span>&nbsp;<span class="ident" id="5659223">bytes</span><span class="op" id="5659228">.</span><span class="ident" id="5659229">HasPrefix</span><span class="op" id="5659238">(</span><span class="ident" id="5659239">data</span><span class="op" id="5659243">,</span>&nbsp;<span class="ident" id="5659245">littleEndianSymtab</span><span class="op" id="5659263">)</span><span class="op" id="5659264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659268">newTable</span>&nbsp;<span class="op" id="5659277">=</span>&nbsp;<span class="ident" id="5659279">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659286">order</span>&nbsp;<span class="op" id="5659292">=</span>&nbsp;<span class="ident" id="5659294">binary</span><span class="op" id="5659300">.</span><span class="ident" id="5659301">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5659315">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659318">var</span>&nbsp;<span class="ident" id="5659322">ptrsz</span>&nbsp;<span class="builtintype" id="5659328">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659333">if</span>&nbsp;<span class="ident" id="5659336">newTable</span>&nbsp;<span class="op" id="5659345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659349">if</span>&nbsp;<span class="builtinfunc" id="5659352">len</span><span class="op" id="5659355">(</span><span class="ident" id="5659356">data</span><span class="op" id="5659360">)</span>&nbsp;<span class="op" id="5659362">&lt;</span>&nbsp;<span class="num" id="5659364">8</span>&nbsp;<span class="op" id="5659366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659371">return</span>&nbsp;<span class="op" id="5659378">&amp;</span><span class="ident" id="5659379">DecodingError</span><span class="op" id="5659392">{</span><span class="builtinfunc" id="5659393">len</span><span class="op" id="5659396">(</span><span class="ident" id="5659397">data</span><span class="op" id="5659401">)</span><span class="op" id="5659402">,</span>&nbsp;<span class="string" id="5659404">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5659420">,</span>&nbsp;<span class="ident" id="5659422">nil</span><span class="op" id="5659425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5659429">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659433">ptrsz</span>&nbsp;<span class="op" id="5659439">=</span>&nbsp;<span class="builtintype" id="5659441">int</span><span class="op" id="5659444">(</span><span class="ident" id="5659445">data</span><span class="op" id="5659449">[</span><span class="num" id="5659450">7</span><span class="op" id="5659451">]</span><span class="op" id="5659452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659456">if</span>&nbsp;<span class="ident" id="5659459">ptrsz</span>&nbsp;<span class="op" id="5659465">!=</span>&nbsp;<span class="num" id="5659468">4</span>&nbsp;<span class="op" id="5659470">&amp;&amp;</span>&nbsp;<span class="ident" id="5659473">ptrsz</span>&nbsp;<span class="op" id="5659479">!=</span>&nbsp;<span class="num" id="5659482">8</span>&nbsp;<span class="op" id="5659484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659489">return</span>&nbsp;<span class="op" id="5659496">&amp;</span><span class="ident" id="5659497">DecodingError</span><span class="op" id="5659510">{</span><span class="num" id="5659511">7</span><span class="op" id="5659512">,</span>&nbsp;<span class="string" id="5659514">&#34;invalid&nbsp;pointer&nbsp;size&#34;</span><span class="op" id="5659536">,</span>&nbsp;<span class="ident" id="5659538">ptrsz</span><span class="op" id="5659543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5659547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659551">data</span>&nbsp;<span class="op" id="5659556">=</span>&nbsp;<span class="ident" id="5659558">data</span><span class="op" id="5659562">[</span><span class="num" id="5659563">8</span><span class="op" id="5659564">:</span><span class="op" id="5659565">]</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5659568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659571">var</span>&nbsp;<span class="ident" id="5659575">s</span>&nbsp;<span class="ident" id="5659577">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659582">p</span>&nbsp;<span class="op" id="5659584">:=</span>&nbsp;<span class="ident" id="5659587">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659593">for</span>&nbsp;<span class="builtinfunc" id="5659597">len</span><span class="op" id="5659600">(</span><span class="ident" id="5659601">p</span><span class="op" id="5659602">)</span>&nbsp;<span class="op" id="5659604">&gt;=</span>&nbsp;<span class="num" id="5659607">4</span>&nbsp;<span class="op" id="5659609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659613">var</span>&nbsp;<span class="ident" id="5659617">typ</span>&nbsp;<span class="builtintype" id="5659621">byte</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659628">if</span>&nbsp;<span class="ident" id="5659631">newTable</span>&nbsp;<span class="op" id="5659640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5659645">//&nbsp;Symbol&nbsp;type,&nbsp;value,&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659680">typ</span>&nbsp;<span class="op" id="5659684">=</span>&nbsp;<span class="ident" id="5659686">p</span><span class="op" id="5659687">[</span><span class="num" id="5659688">0</span><span class="op" id="5659689">]</span>&nbsp;<span class="op" id="5659691">&amp;</span>&nbsp;<span class="num" id="5659693">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659701">wideValue</span>&nbsp;<span class="op" id="5659711">:=</span>&nbsp;<span class="ident" id="5659714">p</span><span class="op" id="5659715">[</span><span class="num" id="5659716">0</span><span class="op" id="5659717">]</span><span class="op" id="5659718">&amp;</span><span class="num" id="5659719">0x40</span>&nbsp;<span class="op" id="5659724">!=</span>&nbsp;<span class="num" id="5659727">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659732">goType</span>&nbsp;<span class="op" id="5659739">:=</span>&nbsp;<span class="ident" id="5659742">p</span><span class="op" id="5659743">[</span><span class="num" id="5659744">0</span><span class="op" id="5659745">]</span><span class="op" id="5659746">&amp;</span><span class="num" id="5659747">0x80</span>&nbsp;<span class="op" id="5659752">!=</span>&nbsp;<span class="num" id="5659755">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659760">if</span>&nbsp;<span class="ident" id="5659763">typ</span>&nbsp;<span class="op" id="5659767">&lt;</span>&nbsp;<span class="num" id="5659769">26</span>&nbsp;<span class="op" id="5659772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659778">typ</span>&nbsp;<span class="op" id="5659782">+=</span>&nbsp;<span class="string" id="5659785">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5659792">}</span>&nbsp;<span class="keyword" id="5659794">else</span>&nbsp;<span class="op" id="5659799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659805">typ</span>&nbsp;<span class="op" id="5659809">+=</span>&nbsp;<span class="string" id="5659812">&#39;a&#39;</span>&nbsp;<span class="op" id="5659816">-</span>&nbsp;<span class="num" id="5659818">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5659824">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659829">s</span><span class="op" id="5659830">.</span><span class="ident" id="5659831">typ</span>&nbsp;<span class="op" id="5659835">=</span>&nbsp;<span class="ident" id="5659837">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5659844">p</span>&nbsp;<span class="op" id="5659846">=</span>&nbsp;<span class="ident" id="5659848">p</span><span class="op" id="5659849">[</span><span class="num" id="5659850">1</span><span class="op" id="5659851">:</span><span class="op" id="5659852">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659857">if</span>&nbsp;<span class="ident" id="5659860">wideValue</span>&nbsp;<span class="op" id="5659870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659876">if</span>&nbsp;<span class="builtinfunc" id="5659879">len</span><span class="op" id="5659882">(</span><span class="ident" id="5659883">p</span><span class="op" id="5659884">)</span>&nbsp;<span class="op" id="5659886">&lt;</span>&nbsp;<span class="ident" id="5659888">ptrsz</span>&nbsp;<span class="op" id="5659894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659901">return</span>&nbsp;<span class="op" id="5659908">&amp;</span><span class="ident" id="5659909">DecodingError</span><span class="op" id="5659922">{</span><span class="builtinfunc" id="5659923">len</span><span class="op" id="5659926">(</span><span class="ident" id="5659927">data</span><span class="op" id="5659931">)</span><span class="op" id="5659932">,</span>&nbsp;<span class="string" id="5659934">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5659950">,</span>&nbsp;<span class="ident" id="5659952">nil</span><span class="op" id="5659955">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5659961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5659967">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5659992">if</span>&nbsp;<span class="ident" id="5659995">ptrsz</span>&nbsp;<span class="op" id="5660001">==</span>&nbsp;<span class="num" id="5660004">8</span>&nbsp;<span class="op" id="5660006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660013">s</span><span class="op" id="5660014">.</span><span class="ident" id="5660015">value</span>&nbsp;<span class="op" id="5660021">=</span>&nbsp;<span class="ident" id="5660023">order</span><span class="op" id="5660028">.</span><span class="ident" id="5660029">Uint64</span><span class="op" id="5660035">(</span><span class="ident" id="5660036">p</span><span class="op" id="5660037">[</span><span class="num" id="5660038">0</span><span class="op" id="5660039">:</span><span class="num" id="5660040">8</span><span class="op" id="5660041">]</span><span class="op" id="5660042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660049">p</span>&nbsp;<span class="op" id="5660051">=</span>&nbsp;<span class="ident" id="5660053">p</span><span class="op" id="5660054">[</span><span class="num" id="5660055">8</span><span class="op" id="5660056">:</span><span class="op" id="5660057">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660063">}</span>&nbsp;<span class="keyword" id="5660065">else</span>&nbsp;<span class="op" id="5660070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660077">s</span><span class="op" id="5660078">.</span><span class="ident" id="5660079">value</span>&nbsp;<span class="op" id="5660085">=</span>&nbsp;<span class="ident" id="5660087">uint64</span><span class="op" id="5660093">(</span><span class="ident" id="5660094">order</span><span class="op" id="5660099">.</span><span class="ident" id="5660100">Uint32</span><span class="op" id="5660106">(</span><span class="ident" id="5660107">p</span><span class="op" id="5660108">[</span><span class="num" id="5660109">0</span><span class="op" id="5660110">:</span><span class="num" id="5660111">4</span><span class="op" id="5660112">]</span><span class="op" id="5660113">)</span><span class="op" id="5660114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660121">p</span>&nbsp;<span class="op" id="5660123">=</span>&nbsp;<span class="ident" id="5660125">p</span><span class="op" id="5660126">[</span><span class="num" id="5660127">4</span><span class="op" id="5660128">:</span><span class="op" id="5660129">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660140">}</span>&nbsp;<span class="keyword" id="5660142">else</span>&nbsp;<span class="op" id="5660147">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5660153">//&nbsp;varint&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660173">s</span><span class="op" id="5660174">.</span><span class="ident" id="5660175">value</span>&nbsp;<span class="op" id="5660181">=</span>&nbsp;<span class="num" id="5660183">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660189">shift</span>&nbsp;<span class="op" id="5660195">:=</span>&nbsp;<span class="builtintype" id="5660198">uint</span><span class="op" id="5660202">(</span><span class="num" id="5660203">0</span><span class="op" id="5660204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660210">for</span>&nbsp;<span class="builtinfunc" id="5660214">len</span><span class="op" id="5660217">(</span><span class="ident" id="5660218">p</span><span class="op" id="5660219">)</span>&nbsp;<span class="op" id="5660221">&gt;</span>&nbsp;<span class="num" id="5660223">0</span>&nbsp;<span class="op" id="5660225">&amp;&amp;</span>&nbsp;<span class="ident" id="5660228">p</span><span class="op" id="5660229">[</span><span class="num" id="5660230">0</span><span class="op" id="5660231">]</span><span class="op" id="5660232">&amp;</span><span class="num" id="5660233">0x80</span>&nbsp;<span class="op" id="5660238">!=</span>&nbsp;<span class="num" id="5660241">0</span>&nbsp;<span class="op" id="5660243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660250">s</span><span class="op" id="5660251">.</span><span class="ident" id="5660252">value</span>&nbsp;<span class="op" id="5660258">|=</span>&nbsp;<span class="ident" id="5660261">uint64</span><span class="op" id="5660267">(</span><span class="ident" id="5660268">p</span><span class="op" id="5660269">[</span><span class="num" id="5660270">0</span><span class="op" id="5660271">]</span><span class="op" id="5660272">&amp;</span><span class="num" id="5660273">0x7F</span><span class="op" id="5660277">)</span>&nbsp;<span class="op" id="5660279">&lt;&lt;</span>&nbsp;<span class="ident" id="5660282">shift</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660293">shift</span>&nbsp;<span class="op" id="5660299">+=</span>&nbsp;<span class="num" id="5660302">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660309">p</span>&nbsp;<span class="op" id="5660311">=</span>&nbsp;<span class="ident" id="5660313">p</span><span class="op" id="5660314">[</span><span class="num" id="5660315">1</span><span class="op" id="5660316">:</span><span class="op" id="5660317">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660329">if</span>&nbsp;<span class="builtinfunc" id="5660332">len</span><span class="op" id="5660335">(</span><span class="ident" id="5660336">p</span><span class="op" id="5660337">)</span>&nbsp;<span class="op" id="5660339">==</span>&nbsp;<span class="num" id="5660342">0</span>&nbsp;<span class="op" id="5660344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660351">return</span>&nbsp;<span class="op" id="5660358">&amp;</span><span class="ident" id="5660359">DecodingError</span><span class="op" id="5660372">{</span><span class="builtinfunc" id="5660373">len</span><span class="op" id="5660376">(</span><span class="ident" id="5660377">data</span><span class="op" id="5660381">)</span><span class="op" id="5660382">,</span>&nbsp;<span class="string" id="5660384">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5660400">,</span>&nbsp;<span class="ident" id="5660402">nil</span><span class="op" id="5660405">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660417">s</span><span class="op" id="5660418">.</span><span class="ident" id="5660419">value</span>&nbsp;<span class="op" id="5660425">|=</span>&nbsp;<span class="ident" id="5660428">uint64</span><span class="op" id="5660434">(</span><span class="ident" id="5660435">p</span><span class="op" id="5660436">[</span><span class="num" id="5660437">0</span><span class="op" id="5660438">]</span><span class="op" id="5660439">)</span>&nbsp;<span class="op" id="5660441">&lt;&lt;</span>&nbsp;<span class="ident" id="5660444">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660454">p</span>&nbsp;<span class="op" id="5660456">=</span>&nbsp;<span class="ident" id="5660458">p</span><span class="op" id="5660459">[</span><span class="num" id="5660460">1</span><span class="op" id="5660461">:</span><span class="op" id="5660462">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660472">if</span>&nbsp;<span class="ident" id="5660475">goType</span>&nbsp;<span class="op" id="5660482">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660488">if</span>&nbsp;<span class="builtinfunc" id="5660491">len</span><span class="op" id="5660494">(</span><span class="ident" id="5660495">p</span><span class="op" id="5660496">)</span>&nbsp;<span class="op" id="5660498">&lt;</span>&nbsp;<span class="ident" id="5660500">ptrsz</span>&nbsp;<span class="op" id="5660506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660513">return</span>&nbsp;<span class="op" id="5660520">&amp;</span><span class="ident" id="5660521">DecodingError</span><span class="op" id="5660534">{</span><span class="builtinfunc" id="5660535">len</span><span class="op" id="5660538">(</span><span class="ident" id="5660539">data</span><span class="op" id="5660543">)</span><span class="op" id="5660544">,</span>&nbsp;<span class="string" id="5660546">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5660562">,</span>&nbsp;<span class="ident" id="5660564">nil</span><span class="op" id="5660567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5660579">//&nbsp;fixed-width&nbsp;go&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660606">if</span>&nbsp;<span class="ident" id="5660609">ptrsz</span>&nbsp;<span class="op" id="5660615">==</span>&nbsp;<span class="num" id="5660618">8</span>&nbsp;<span class="op" id="5660620">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660627">s</span><span class="op" id="5660628">.</span><span class="ident" id="5660629">gotype</span>&nbsp;<span class="op" id="5660636">=</span>&nbsp;<span class="ident" id="5660638">order</span><span class="op" id="5660643">.</span><span class="ident" id="5660644">Uint64</span><span class="op" id="5660650">(</span><span class="ident" id="5660651">p</span><span class="op" id="5660652">[</span><span class="num" id="5660653">0</span><span class="op" id="5660654">:</span><span class="num" id="5660655">8</span><span class="op" id="5660656">]</span><span class="op" id="5660657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660664">p</span>&nbsp;<span class="op" id="5660666">=</span>&nbsp;<span class="ident" id="5660668">p</span><span class="op" id="5660669">[</span><span class="num" id="5660670">8</span><span class="op" id="5660671">:</span><span class="op" id="5660672">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660678">}</span>&nbsp;<span class="keyword" id="5660680">else</span>&nbsp;<span class="op" id="5660685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660692">s</span><span class="op" id="5660693">.</span><span class="ident" id="5660694">gotype</span>&nbsp;<span class="op" id="5660701">=</span>&nbsp;<span class="ident" id="5660703">uint64</span><span class="op" id="5660709">(</span><span class="ident" id="5660710">order</span><span class="op" id="5660715">.</span><span class="ident" id="5660716">Uint32</span><span class="op" id="5660722">(</span><span class="ident" id="5660723">p</span><span class="op" id="5660724">[</span><span class="num" id="5660725">0</span><span class="op" id="5660726">:</span><span class="num" id="5660727">4</span><span class="op" id="5660728">]</span><span class="op" id="5660729">)</span><span class="op" id="5660730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660737">p</span>&nbsp;<span class="op" id="5660739">=</span>&nbsp;<span class="ident" id="5660741">p</span><span class="op" id="5660742">[</span><span class="num" id="5660743">4</span><span class="op" id="5660744">:</span><span class="op" id="5660745">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660760">}</span>&nbsp;<span class="keyword" id="5660762">else</span>&nbsp;<span class="op" id="5660767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5660772">//&nbsp;Value,&nbsp;symbol&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660798">s</span><span class="op" id="5660799">.</span><span class="ident" id="5660800">value</span>&nbsp;<span class="op" id="5660806">=</span>&nbsp;<span class="ident" id="5660808">uint64</span><span class="op" id="5660814">(</span><span class="ident" id="5660815">order</span><span class="op" id="5660820">.</span><span class="ident" id="5660821">Uint32</span><span class="op" id="5660827">(</span><span class="ident" id="5660828">p</span><span class="op" id="5660829">[</span><span class="num" id="5660830">0</span><span class="op" id="5660831">:</span><span class="num" id="5660832">4</span><span class="op" id="5660833">]</span><span class="op" id="5660834">)</span><span class="op" id="5660835">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660840">if</span>&nbsp;<span class="builtinfunc" id="5660843">len</span><span class="op" id="5660846">(</span><span class="ident" id="5660847">p</span><span class="op" id="5660848">)</span>&nbsp;<span class="op" id="5660850">&lt;</span>&nbsp;<span class="num" id="5660852">5</span>&nbsp;<span class="op" id="5660854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660860">return</span>&nbsp;<span class="op" id="5660867">&amp;</span><span class="ident" id="5660868">DecodingError</span><span class="op" id="5660881">{</span><span class="builtinfunc" id="5660882">len</span><span class="op" id="5660885">(</span><span class="ident" id="5660886">data</span><span class="op" id="5660890">)</span><span class="op" id="5660891">,</span>&nbsp;<span class="string" id="5660893">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5660909">,</span>&nbsp;<span class="ident" id="5660911">nil</span><span class="op" id="5660914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5660919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5660924">typ</span>&nbsp;<span class="op" id="5660928">=</span>&nbsp;<span class="ident" id="5660930">p</span><span class="op" id="5660931">[</span><span class="num" id="5660932">4</span><span class="op" id="5660933">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660938">if</span>&nbsp;<span class="ident" id="5660941">typ</span><span class="op" id="5660944">&amp;</span><span class="num" id="5660945">0x80</span>&nbsp;<span class="op" id="5660950">==</span>&nbsp;<span class="num" id="5660953">0</span>&nbsp;<span class="op" id="5660955">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5660961">return</span>&nbsp;<span class="op" id="5660968">&amp;</span><span class="ident" id="5660969">DecodingError</span><span class="op" id="5660982">{</span><span class="builtinfunc" id="5660983">len</span><span class="op" id="5660986">(</span><span class="ident" id="5660987">data</span><span class="op" id="5660991">)</span>&nbsp;<span class="op" id="5660993">-</span>&nbsp;<span class="builtinfunc" id="5660995">len</span><span class="op" id="5660998">(</span><span class="ident" id="5660999">p</span><span class="op" id="5661000">)</span>&nbsp;<span class="op" id="5661002">+</span>&nbsp;<span class="num" id="5661004">4</span><span class="op" id="5661005">,</span>&nbsp;<span class="string" id="5661007">&#34;bad&nbsp;symbol&nbsp;type&#34;</span><span class="op" id="5661024">,</span>&nbsp;<span class="ident" id="5661026">typ</span><span class="op" id="5661029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661039">typ</span>&nbsp;<span class="op" id="5661043">&amp;^=</span>&nbsp;<span class="num" id="5661047">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661055">s</span><span class="op" id="5661056">.</span><span class="ident" id="5661057">typ</span>&nbsp;<span class="op" id="5661061">=</span>&nbsp;<span class="ident" id="5661063">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661070">p</span>&nbsp;<span class="op" id="5661072">=</span>&nbsp;<span class="ident" id="5661074">p</span><span class="op" id="5661075">[</span><span class="num" id="5661076">5</span><span class="op" id="5661077">:</span><span class="op" id="5661078">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5661087">//&nbsp;Name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661098">var</span>&nbsp;<span class="ident" id="5661102">i</span>&nbsp;<span class="builtintype" id="5661104">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661110">var</span>&nbsp;<span class="ident" id="5661114">nnul</span>&nbsp;<span class="builtintype" id="5661119">int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661125">for</span>&nbsp;<span class="ident" id="5661129">i</span>&nbsp;<span class="op" id="5661131">=</span>&nbsp;<span class="num" id="5661133">0</span><span class="op" id="5661134">;</span>&nbsp;<span class="ident" id="5661136">i</span>&nbsp;<span class="op" id="5661138">&lt;</span>&nbsp;<span class="builtinfunc" id="5661140">len</span><span class="op" id="5661143">(</span><span class="ident" id="5661144">p</span><span class="op" id="5661145">)</span><span class="op" id="5661146">;</span>&nbsp;<span class="ident" id="5661148">i</span><span class="op" id="5661149">++</span>&nbsp;<span class="op" id="5661152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661157">if</span>&nbsp;<span class="ident" id="5661160">p</span><span class="op" id="5661161">[</span><span class="ident" id="5661162">i</span><span class="op" id="5661163">]</span>&nbsp;<span class="op" id="5661165">==</span>&nbsp;<span class="num" id="5661168">0</span>&nbsp;<span class="op" id="5661170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661176">nnul</span>&nbsp;<span class="op" id="5661181">=</span>&nbsp;<span class="num" id="5661183">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661189">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661198">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661206">switch</span>&nbsp;<span class="ident" id="5661213">typ</span>&nbsp;<span class="op" id="5661217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661221">case</span>&nbsp;<span class="string" id="5661226">&#39;z&#39;</span><span class="op" id="5661229">,</span>&nbsp;<span class="string" id="5661231">&#39;Z&#39;</span><span class="op" id="5661234">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661239">p</span>&nbsp;<span class="op" id="5661241">=</span>&nbsp;<span class="ident" id="5661243">p</span><span class="op" id="5661244">[</span><span class="ident" id="5661245">i</span><span class="op" id="5661246">+</span><span class="ident" id="5661247">nnul</span><span class="op" id="5661251">:</span><span class="op" id="5661252">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661257">for</span>&nbsp;<span class="ident" id="5661261">i</span>&nbsp;<span class="op" id="5661263">=</span>&nbsp;<span class="num" id="5661265">0</span><span class="op" id="5661266">;</span>&nbsp;<span class="ident" id="5661268">i</span><span class="op" id="5661269">+</span><span class="num" id="5661270">2</span>&nbsp;<span class="op" id="5661272">&lt;=</span>&nbsp;<span class="builtinfunc" id="5661275">len</span><span class="op" id="5661278">(</span><span class="ident" id="5661279">p</span><span class="op" id="5661280">)</span><span class="op" id="5661281">;</span>&nbsp;<span class="ident" id="5661283">i</span>&nbsp;<span class="op" id="5661285">+=</span>&nbsp;<span class="num" id="5661288">2</span>&nbsp;<span class="op" id="5661290">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661296">if</span>&nbsp;<span class="ident" id="5661299">p</span><span class="op" id="5661300">[</span><span class="ident" id="5661301">i</span><span class="op" id="5661302">]</span>&nbsp;<span class="op" id="5661304">==</span>&nbsp;<span class="num" id="5661307">0</span>&nbsp;<span class="op" id="5661309">&amp;&amp;</span>&nbsp;<span class="ident" id="5661312">p</span><span class="op" id="5661313">[</span><span class="ident" id="5661314">i</span><span class="op" id="5661315">+</span><span class="num" id="5661316">1</span><span class="op" id="5661317">]</span>&nbsp;<span class="op" id="5661319">==</span>&nbsp;<span class="num" id="5661322">0</span>&nbsp;<span class="op" id="5661324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661331">nnul</span>&nbsp;<span class="op" id="5661336">=</span>&nbsp;<span class="num" id="5661338">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661345">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661360">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661368">if</span>&nbsp;<span class="builtinfunc" id="5661371">len</span><span class="op" id="5661374">(</span><span class="ident" id="5661375">p</span><span class="op" id="5661376">)</span>&nbsp;<span class="op" id="5661378">&lt;</span>&nbsp;<span class="ident" id="5661380">i</span><span class="op" id="5661381">+</span><span class="ident" id="5661382">nnul</span>&nbsp;<span class="op" id="5661387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661392">return</span>&nbsp;<span class="op" id="5661399">&amp;</span><span class="ident" id="5661400">DecodingError</span><span class="op" id="5661413">{</span><span class="builtinfunc" id="5661414">len</span><span class="op" id="5661417">(</span><span class="ident" id="5661418">data</span><span class="op" id="5661422">)</span><span class="op" id="5661423">,</span>&nbsp;<span class="string" id="5661425">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5661441">,</span>&nbsp;<span class="ident" id="5661443">nil</span><span class="op" id="5661446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661454">s</span><span class="op" id="5661455">.</span><span class="ident" id="5661456">name</span>&nbsp;<span class="op" id="5661461">=</span>&nbsp;<span class="ident" id="5661463">p</span><span class="op" id="5661464">[</span><span class="num" id="5661465">0</span><span class="op" id="5661466">:</span><span class="ident" id="5661467">i</span><span class="op" id="5661468">]</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661472">i</span>&nbsp;<span class="op" id="5661474">+=</span>&nbsp;<span class="ident" id="5661477">nnul</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661484">p</span>&nbsp;<span class="op" id="5661486">=</span>&nbsp;<span class="ident" id="5661488">p</span><span class="op" id="5661489">[</span><span class="ident" id="5661490">i</span><span class="op" id="5661491">:</span><span class="op" id="5661492">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661497">if</span>&nbsp;<span class="op" id="5661500">!</span><span class="ident" id="5661501">newTable</span>&nbsp;<span class="op" id="5661510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661515">if</span>&nbsp;<span class="builtinfunc" id="5661518">len</span><span class="op" id="5661521">(</span><span class="ident" id="5661522">p</span><span class="op" id="5661523">)</span>&nbsp;<span class="op" id="5661525">&lt;</span>&nbsp;<span class="num" id="5661527">4</span>&nbsp;<span class="op" id="5661529">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661535">return</span>&nbsp;<span class="op" id="5661542">&amp;</span><span class="ident" id="5661543">DecodingError</span><span class="op" id="5661556">{</span><span class="builtinfunc" id="5661557">len</span><span class="op" id="5661560">(</span><span class="ident" id="5661561">data</span><span class="op" id="5661565">)</span><span class="op" id="5661566">,</span>&nbsp;<span class="string" id="5661568">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5661584">,</span>&nbsp;<span class="ident" id="5661586">nil</span><span class="op" id="5661589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5661599">//&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661614">s</span><span class="op" id="5661615">.</span><span class="ident" id="5661616">gotype</span>&nbsp;<span class="op" id="5661623">=</span>&nbsp;<span class="ident" id="5661625">uint64</span><span class="op" id="5661631">(</span><span class="ident" id="5661632">order</span><span class="op" id="5661637">.</span><span class="ident" id="5661638">Uint32</span><span class="op" id="5661644">(</span><span class="ident" id="5661645">p</span><span class="op" id="5661646">[</span><span class="op" id="5661647">:</span><span class="num" id="5661648">4</span><span class="op" id="5661649">]</span><span class="op" id="5661650">)</span><span class="op" id="5661651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661656">p</span>&nbsp;<span class="op" id="5661658">=</span>&nbsp;<span class="ident" id="5661660">p</span><span class="op" id="5661661">[</span><span class="num" id="5661662">4</span><span class="op" id="5661663">:</span><span class="op" id="5661664">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661672">fn</span><span class="op" id="5661674">(</span><span class="ident" id="5661675">s</span><span class="op" id="5661676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661682">return</span>&nbsp;<span class="ident" id="5661689">nil</span><br>
<span class="lineno"></span><span class="op" id="5661693">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="5661696">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="5661745">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="5661787">func</span>&nbsp;<span class="ident" id="5661792">NewTable</span><span class="op" id="5661800">(</span><span class="ident" id="5661801">symtab</span>&nbsp;<span class="op" id="5661808">[</span><span class="op" id="5661809">]</span><span class="builtintype" id="5661810">byte</span><span class="op" id="5661814">,</span>&nbsp;<span class="ident" id="5661816">pcln</span>&nbsp;<span class="op" id="5661821">*</span><span class="ident" id="5661822">LineTable</span><span class="op" id="5661831">)</span>&nbsp;<span class="op" id="5661833">(</span><span class="op" id="5661834">*</span><span class="ident" id="5661835">Table</span><span class="op" id="5661840">,</span>&nbsp;<span class="builtintype" id="5661842">error</span><span class="op" id="5661847">)</span>&nbsp;<span class="op" id="5661849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661852">var</span>&nbsp;<span class="ident" id="5661856">n</span>&nbsp;<span class="builtintype" id="5661858">int</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661863">err</span>&nbsp;<span class="op" id="5661867">:=</span>&nbsp;<span class="ident" id="5661870">walksymtab</span><span class="op" id="5661880">(</span><span class="ident" id="5661881">symtab</span><span class="op" id="5661887">,</span>&nbsp;<span class="keyword" id="5661889">func</span><span class="op" id="5661893">(</span><span class="ident" id="5661894">s</span>&nbsp;<span class="ident" id="5661896">sym</span><span class="op" id="5661899">)</span>&nbsp;<span class="builtintype" id="5661901">error</span>&nbsp;<span class="op" id="5661907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5661911">n</span><span class="op" id="5661912">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661917">return</span>&nbsp;<span class="ident" id="5661924">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661929">}</span><span class="op" id="5661930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661933">if</span>&nbsp;<span class="ident" id="5661936">err</span>&nbsp;<span class="op" id="5661940">!=</span>&nbsp;<span class="ident" id="5661943">nil</span>&nbsp;<span class="op" id="5661947">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661951">return</span>&nbsp;<span class="ident" id="5661958">nil</span><span class="op" id="5661961">,</span>&nbsp;<span class="ident" id="5661963">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5661968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661972">var</span>&nbsp;<span class="ident" id="5661976">t</span>&nbsp;<span class="ident" id="5661978">Table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5661985">if</span>&nbsp;<span class="ident" id="5661988">pcln</span><span class="op" id="5661992">.</span><span class="ident" id="5661993">isGo12</span><span class="op" id="5661999">(</span><span class="op" id="5662000">)</span>&nbsp;<span class="op" id="5662002">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662006">t</span><span class="op" id="5662007">.</span><span class="ident" id="5662008">go12line</span>&nbsp;<span class="op" id="5662017">=</span>&nbsp;<span class="ident" id="5662019">pcln</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5662025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662028">fname</span>&nbsp;<span class="op" id="5662034">:=</span>&nbsp;<span class="builtinfunc" id="5662037">make</span><span class="op" id="5662041">(</span><span class="keyword" id="5662042">map</span><span class="op" id="5662045">[</span><span class="builtintype" id="5662046">uint16</span><span class="op" id="5662052">]</span><span class="builtintype" id="5662053">string</span><span class="op" id="5662059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662062">t</span><span class="op" id="5662063">.</span><span class="ident" id="5662064">Syms</span>&nbsp;<span class="op" id="5662069">=</span>&nbsp;<span class="builtinfunc" id="5662071">make</span><span class="op" id="5662075">(</span><span class="op" id="5662076">[</span><span class="op" id="5662077">]</span><span class="ident" id="5662078">Sym</span><span class="op" id="5662081">,</span>&nbsp;<span class="num" id="5662083">0</span><span class="op" id="5662084">,</span>&nbsp;<span class="ident" id="5662086">n</span><span class="op" id="5662087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662090">nf</span>&nbsp;<span class="op" id="5662093">:=</span>&nbsp;<span class="num" id="5662096">0</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662099">nz</span>&nbsp;<span class="op" id="5662102">:=</span>&nbsp;<span class="num" id="5662105">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662108">lasttyp</span>&nbsp;<span class="op" id="5662116">:=</span>&nbsp;<span class="builtintype" id="5662119">uint8</span><span class="op" id="5662124">(</span><span class="num" id="5662125">0</span><span class="op" id="5662126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662129">err</span>&nbsp;<span class="op" id="5662133">=</span>&nbsp;<span class="ident" id="5662135">walksymtab</span><span class="op" id="5662145">(</span><span class="ident" id="5662146">symtab</span><span class="op" id="5662152">,</span>&nbsp;<span class="keyword" id="5662154">func</span><span class="op" id="5662158">(</span><span class="ident" id="5662159">s</span>&nbsp;<span class="ident" id="5662161">sym</span><span class="op" id="5662164">)</span>&nbsp;<span class="builtintype" id="5662166">error</span>&nbsp;<span class="op" id="5662172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662176">n</span>&nbsp;<span class="op" id="5662178">:=</span>&nbsp;<span class="builtinfunc" id="5662181">len</span><span class="op" id="5662184">(</span><span class="ident" id="5662185">t</span><span class="op" id="5662186">.</span><span class="ident" id="5662187">Syms</span><span class="op" id="5662191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662195">t</span><span class="op" id="5662196">.</span><span class="ident" id="5662197">Syms</span>&nbsp;<span class="op" id="5662202">=</span>&nbsp;<span class="ident" id="5662204">t</span><span class="op" id="5662205">.</span><span class="ident" id="5662206">Syms</span><span class="op" id="5662210">[</span><span class="num" id="5662211">0</span>&nbsp;<span class="op" id="5662213">:</span>&nbsp;<span class="ident" id="5662215">n</span><span class="op" id="5662216">+</span><span class="num" id="5662217">1</span><span class="op" id="5662218">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662222">ts</span>&nbsp;<span class="op" id="5662225">:=</span>&nbsp;<span class="op" id="5662228">&amp;</span><span class="ident" id="5662229">t</span><span class="op" id="5662230">.</span><span class="ident" id="5662231">Syms</span><span class="op" id="5662235">[</span><span class="ident" id="5662236">n</span><span class="op" id="5662237">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662241">ts</span><span class="op" id="5662243">.</span><span class="ident" id="5662244">Type</span>&nbsp;<span class="op" id="5662249">=</span>&nbsp;<span class="ident" id="5662251">s</span><span class="op" id="5662252">.</span><span class="ident" id="5662253">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662259">ts</span><span class="op" id="5662261">.</span><span class="ident" id="5662262">Value</span>&nbsp;<span class="op" id="5662268">=</span>&nbsp;<span class="ident" id="5662270">uint64</span><span class="op" id="5662276">(</span><span class="ident" id="5662277">s</span><span class="op" id="5662278">.</span><span class="ident" id="5662279">value</span><span class="op" id="5662284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662288">ts</span><span class="op" id="5662290">.</span><span class="ident" id="5662291">GoType</span>&nbsp;<span class="op" id="5662298">=</span>&nbsp;<span class="ident" id="5662300">uint64</span><span class="op" id="5662306">(</span><span class="ident" id="5662307">s</span><span class="op" id="5662308">.</span><span class="ident" id="5662309">gotype</span><span class="op" id="5662315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662319">switch</span>&nbsp;<span class="ident" id="5662326">s</span><span class="op" id="5662327">.</span><span class="ident" id="5662328">typ</span>&nbsp;<span class="op" id="5662332">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662336">default</span><span class="op" id="5662343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5662348">//&nbsp;rewrite&nbsp;name&nbsp;to&nbsp;use&nbsp;.&nbsp;instead&nbsp;of&nbsp;·&nbsp;(c2&nbsp;b7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662398">w</span>&nbsp;<span class="op" id="5662400">:=</span>&nbsp;<span class="num" id="5662403">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662408">b</span>&nbsp;<span class="op" id="5662410">:=</span>&nbsp;<span class="ident" id="5662413">s</span><span class="op" id="5662414">.</span><span class="ident" id="5662415">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662423">for</span>&nbsp;<span class="ident" id="5662427">i</span>&nbsp;<span class="op" id="5662429">:=</span>&nbsp;<span class="num" id="5662432">0</span><span class="op" id="5662433">;</span>&nbsp;<span class="ident" id="5662435">i</span>&nbsp;<span class="op" id="5662437">&lt;</span>&nbsp;<span class="builtinfunc" id="5662439">len</span><span class="op" id="5662442">(</span><span class="ident" id="5662443">b</span><span class="op" id="5662444">)</span><span class="op" id="5662445">;</span>&nbsp;<span class="ident" id="5662447">i</span><span class="op" id="5662448">++</span>&nbsp;<span class="op" id="5662451">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662457">if</span>&nbsp;<span class="ident" id="5662460">b</span><span class="op" id="5662461">[</span><span class="ident" id="5662462">i</span><span class="op" id="5662463">]</span>&nbsp;<span class="op" id="5662465">==</span>&nbsp;<span class="num" id="5662468">0xc2</span>&nbsp;<span class="op" id="5662473">&amp;&amp;</span>&nbsp;<span class="ident" id="5662476">i</span><span class="op" id="5662477">+</span><span class="num" id="5662478">1</span>&nbsp;<span class="op" id="5662480">&lt;</span>&nbsp;<span class="builtinfunc" id="5662482">len</span><span class="op" id="5662485">(</span><span class="ident" id="5662486">b</span><span class="op" id="5662487">)</span>&nbsp;<span class="op" id="5662489">&amp;&amp;</span>&nbsp;<span class="ident" id="5662492">b</span><span class="op" id="5662493">[</span><span class="ident" id="5662494">i</span><span class="op" id="5662495">+</span><span class="num" id="5662496">1</span><span class="op" id="5662497">]</span>&nbsp;<span class="op" id="5662499">==</span>&nbsp;<span class="num" id="5662502">0xb7</span>&nbsp;<span class="op" id="5662507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662514">i</span><span class="op" id="5662515">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662523">b</span><span class="op" id="5662524">[</span><span class="ident" id="5662525">i</span><span class="op" id="5662526">]</span>&nbsp;<span class="op" id="5662528">=</span>&nbsp;<span class="string" id="5662530">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5662538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662544">b</span><span class="op" id="5662545">[</span><span class="ident" id="5662546">w</span><span class="op" id="5662547">]</span>&nbsp;<span class="op" id="5662549">=</span>&nbsp;<span class="ident" id="5662551">b</span><span class="op" id="5662552">[</span><span class="ident" id="5662553">i</span><span class="op" id="5662554">]</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662560">w</span><span class="op" id="5662561">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5662567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662572">ts</span><span class="op" id="5662574">.</span><span class="ident" id="5662575">Name</span>&nbsp;<span class="op" id="5662580">=</span>&nbsp;<span class="builtintype" id="5662582">string</span><span class="op" id="5662588">(</span><span class="ident" id="5662589">s</span><span class="op" id="5662590">.</span><span class="ident" id="5662591">name</span><span class="op" id="5662595">[</span><span class="num" id="5662596">0</span><span class="op" id="5662597">:</span><span class="ident" id="5662598">w</span><span class="op" id="5662599">]</span><span class="op" id="5662600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662604">case</span>&nbsp;<span class="string" id="5662609">&#39;z&#39;</span><span class="op" id="5662612">,</span>&nbsp;<span class="string" id="5662614">&#39;Z&#39;</span><span class="op" id="5662617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662622">if</span>&nbsp;<span class="ident" id="5662625">lasttyp</span>&nbsp;<span class="op" id="5662633">!=</span>&nbsp;<span class="string" id="5662636">&#39;z&#39;</span>&nbsp;<span class="op" id="5662640">&amp;&amp;</span>&nbsp;<span class="ident" id="5662643">lasttyp</span>&nbsp;<span class="op" id="5662651">!=</span>&nbsp;<span class="string" id="5662654">&#39;Z&#39;</span>&nbsp;<span class="op" id="5662658">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662664">nz</span><span class="op" id="5662666">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5662672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662677">for</span>&nbsp;<span class="ident" id="5662681">i</span>&nbsp;<span class="op" id="5662683">:=</span>&nbsp;<span class="num" id="5662686">0</span><span class="op" id="5662687">;</span>&nbsp;<span class="ident" id="5662689">i</span>&nbsp;<span class="op" id="5662691">&lt;</span>&nbsp;<span class="builtinfunc" id="5662693">len</span><span class="op" id="5662696">(</span><span class="ident" id="5662697">s</span><span class="op" id="5662698">.</span><span class="ident" id="5662699">name</span><span class="op" id="5662703">)</span><span class="op" id="5662704">;</span>&nbsp;<span class="ident" id="5662706">i</span>&nbsp;<span class="op" id="5662708">+=</span>&nbsp;<span class="num" id="5662711">2</span>&nbsp;<span class="op" id="5662713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662719">eltIdx</span>&nbsp;<span class="op" id="5662726">:=</span>&nbsp;<span class="ident" id="5662729">binary</span><span class="op" id="5662735">.</span><span class="ident" id="5662736">BigEndian</span><span class="op" id="5662745">.</span><span class="ident" id="5662746">Uint16</span><span class="op" id="5662752">(</span><span class="ident" id="5662753">s</span><span class="op" id="5662754">.</span><span class="ident" id="5662755">name</span><span class="op" id="5662759">[</span><span class="ident" id="5662760">i</span>&nbsp;<span class="op" id="5662762">:</span>&nbsp;<span class="ident" id="5662764">i</span><span class="op" id="5662765">+</span><span class="num" id="5662766">2</span><span class="op" id="5662767">]</span><span class="op" id="5662768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662774">elt</span><span class="op" id="5662777">,</span>&nbsp;<span class="ident" id="5662779">ok</span>&nbsp;<span class="op" id="5662782">:=</span>&nbsp;<span class="ident" id="5662785">fname</span><span class="op" id="5662790">[</span><span class="ident" id="5662791">eltIdx</span><span class="op" id="5662797">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662803">if</span>&nbsp;<span class="op" id="5662806">!</span><span class="ident" id="5662807">ok</span>&nbsp;<span class="op" id="5662810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662817">return</span>&nbsp;<span class="op" id="5662824">&amp;</span><span class="ident" id="5662825">DecodingError</span><span class="op" id="5662838">{</span><span class="op" id="5662839">-</span><span class="num" id="5662840">1</span><span class="op" id="5662841">,</span>&nbsp;<span class="string" id="5662843">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="5662862">,</span>&nbsp;<span class="ident" id="5662864">eltIdx</span><span class="op" id="5662870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5662876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662882">if</span>&nbsp;<span class="ident" id="5662885">n</span>&nbsp;<span class="op" id="5662887">:=</span>&nbsp;<span class="builtinfunc" id="5662890">len</span><span class="op" id="5662893">(</span><span class="ident" id="5662894">ts</span><span class="op" id="5662896">.</span><span class="ident" id="5662897">Name</span><span class="op" id="5662901">)</span><span class="op" id="5662902">;</span>&nbsp;<span class="ident" id="5662904">n</span>&nbsp;<span class="op" id="5662906">&gt;</span>&nbsp;<span class="num" id="5662908">0</span>&nbsp;<span class="op" id="5662910">&amp;&amp;</span>&nbsp;<span class="ident" id="5662913">ts</span><span class="op" id="5662915">.</span><span class="ident" id="5662916">Name</span><span class="op" id="5662920">[</span><span class="ident" id="5662921">n</span><span class="op" id="5662922">-</span><span class="num" id="5662923">1</span><span class="op" id="5662924">]</span>&nbsp;<span class="op" id="5662926">!=</span>&nbsp;<span class="string" id="5662929">&#39;/&#39;</span>&nbsp;<span class="op" id="5662933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662940">ts</span><span class="op" id="5662942">.</span><span class="ident" id="5662943">Name</span>&nbsp;<span class="op" id="5662948">+=</span>&nbsp;<span class="string" id="5662951">&#34;/&#34;</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5662959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5662965">ts</span><span class="op" id="5662967">.</span><span class="ident" id="5662968">Name</span>&nbsp;<span class="op" id="5662973">+=</span>&nbsp;<span class="ident" id="5662976">elt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5662983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5662987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5662991">switch</span>&nbsp;<span class="ident" id="5662998">s</span><span class="op" id="5662999">.</span><span class="ident" id="5663000">typ</span>&nbsp;<span class="op" id="5663004">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663008">case</span>&nbsp;<span class="string" id="5663013">&#39;T&#39;</span><span class="op" id="5663016">,</span>&nbsp;<span class="string" id="5663018">&#39;t&#39;</span><span class="op" id="5663021">,</span>&nbsp;<span class="string" id="5663023">&#39;L&#39;</span><span class="op" id="5663026">,</span>&nbsp;<span class="string" id="5663028">&#39;l&#39;</span><span class="op" id="5663031">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663036">nf</span><span class="op" id="5663038">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663043">case</span>&nbsp;<span class="string" id="5663048">&#39;f&#39;</span><span class="op" id="5663051">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663056">fname</span><span class="op" id="5663061">[</span><span class="builtintype" id="5663062">uint16</span><span class="op" id="5663068">(</span><span class="ident" id="5663069">s</span><span class="op" id="5663070">.</span><span class="ident" id="5663071">value</span><span class="op" id="5663076">)</span><span class="op" id="5663077">]</span>&nbsp;<span class="op" id="5663079">=</span>&nbsp;<span class="ident" id="5663081">ts</span><span class="op" id="5663083">.</span><span class="ident" id="5663084">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5663091">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663095">lasttyp</span>&nbsp;<span class="op" id="5663103">=</span>&nbsp;<span class="ident" id="5663105">s</span><span class="op" id="5663106">.</span><span class="ident" id="5663107">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663113">return</span>&nbsp;<span class="ident" id="5663120">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5663125">}</span><span class="op" id="5663126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663129">if</span>&nbsp;<span class="ident" id="5663132">err</span>&nbsp;<span class="op" id="5663136">!=</span>&nbsp;<span class="ident" id="5663139">nil</span>&nbsp;<span class="op" id="5663143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663147">return</span>&nbsp;<span class="ident" id="5663154">nil</span><span class="op" id="5663157">,</span>&nbsp;<span class="ident" id="5663159">err</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5663164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663168">t</span><span class="op" id="5663169">.</span><span class="ident" id="5663170">Funcs</span>&nbsp;<span class="op" id="5663176">=</span>&nbsp;<span class="builtinfunc" id="5663178">make</span><span class="op" id="5663182">(</span><span class="op" id="5663183">[</span><span class="op" id="5663184">]</span><span class="ident" id="5663185">Func</span><span class="op" id="5663189">,</span>&nbsp;<span class="num" id="5663191">0</span><span class="op" id="5663192">,</span>&nbsp;<span class="ident" id="5663194">nf</span><span class="op" id="5663196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663199">t</span><span class="op" id="5663200">.</span><span class="ident" id="5663201">Files</span>&nbsp;<span class="op" id="5663207">=</span>&nbsp;<span class="builtinfunc" id="5663209">make</span><span class="op" id="5663213">(</span><span class="keyword" id="5663214">map</span><span class="op" id="5663217">[</span><span class="builtintype" id="5663218">string</span><span class="op" id="5663224">]</span><span class="op" id="5663225">*</span><span class="ident" id="5663226">Obj</span><span class="op" id="5663229">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663233">var</span>&nbsp;<span class="ident" id="5663237">obj</span>&nbsp;<span class="op" id="5663241">*</span><span class="ident" id="5663242">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663247">if</span>&nbsp;<span class="ident" id="5663250">t</span><span class="op" id="5663251">.</span><span class="ident" id="5663252">go12line</span>&nbsp;<span class="op" id="5663261">!=</span>&nbsp;<span class="ident" id="5663264">nil</span>&nbsp;<span class="op" id="5663268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5663272">//&nbsp;Put&nbsp;all&nbsp;functions&nbsp;into&nbsp;one&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663309">t</span><span class="op" id="5663310">.</span><span class="ident" id="5663311">Objs</span>&nbsp;<span class="op" id="5663316">=</span>&nbsp;<span class="builtinfunc" id="5663318">make</span><span class="op" id="5663322">(</span><span class="op" id="5663323">[</span><span class="op" id="5663324">]</span><span class="ident" id="5663325">Obj</span><span class="op" id="5663328">,</span>&nbsp;<span class="num" id="5663330">1</span><span class="op" id="5663331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663335">obj</span>&nbsp;<span class="op" id="5663339">=</span>&nbsp;<span class="op" id="5663341">&amp;</span><span class="ident" id="5663342">t</span><span class="op" id="5663343">.</span><span class="ident" id="5663344">Objs</span><span class="op" id="5663348">[</span><span class="num" id="5663349">0</span><span class="op" id="5663350">]</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663354">t</span><span class="op" id="5663355">.</span><span class="ident" id="5663356">go12line</span><span class="op" id="5663364">.</span><span class="ident" id="5663365">go12MapFiles</span><span class="op" id="5663377">(</span><span class="ident" id="5663378">t</span><span class="op" id="5663379">.</span><span class="ident" id="5663380">Files</span><span class="op" id="5663385">,</span>&nbsp;<span class="ident" id="5663387">obj</span><span class="op" id="5663390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5663393">}</span>&nbsp;<span class="keyword" id="5663395">else</span>&nbsp;<span class="op" id="5663400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663404">t</span><span class="op" id="5663405">.</span><span class="ident" id="5663406">Objs</span>&nbsp;<span class="op" id="5663411">=</span>&nbsp;<span class="builtinfunc" id="5663413">make</span><span class="op" id="5663417">(</span><span class="op" id="5663418">[</span><span class="op" id="5663419">]</span><span class="ident" id="5663420">Obj</span><span class="op" id="5663423">,</span>&nbsp;<span class="num" id="5663425">0</span><span class="op" id="5663426">,</span>&nbsp;<span class="ident" id="5663428">nz</span><span class="op" id="5663430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5663433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5663437">//&nbsp;Count&nbsp;text&nbsp;symbols&nbsp;and&nbsp;attach&nbsp;frame&nbsp;sizes,&nbsp;parameters,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5663500">//&nbsp;locals&nbsp;to&nbsp;them.&nbsp;&nbsp;Also,&nbsp;find&nbsp;object&nbsp;file&nbsp;boundaries.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663556">lastf</span>&nbsp;<span class="op" id="5663562">:=</span>&nbsp;<span class="num" id="5663565">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663568">for</span>&nbsp;<span class="ident" id="5663572">i</span>&nbsp;<span class="op" id="5663574">:=</span>&nbsp;<span class="num" id="5663577">0</span><span class="op" id="5663578">;</span>&nbsp;<span class="ident" id="5663580">i</span>&nbsp;<span class="op" id="5663582">&lt;</span>&nbsp;<span class="builtinfunc" id="5663584">len</span><span class="op" id="5663587">(</span><span class="ident" id="5663588">t</span><span class="op" id="5663589">.</span><span class="ident" id="5663590">Syms</span><span class="op" id="5663594">)</span><span class="op" id="5663595">;</span>&nbsp;<span class="ident" id="5663597">i</span><span class="op" id="5663598">++</span>&nbsp;<span class="op" id="5663601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663605">sym</span>&nbsp;<span class="op" id="5663609">:=</span>&nbsp;<span class="op" id="5663612">&amp;</span><span class="ident" id="5663613">t</span><span class="op" id="5663614">.</span><span class="ident" id="5663615">Syms</span><span class="op" id="5663619">[</span><span class="ident" id="5663620">i</span><span class="op" id="5663621">]</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663625">switch</span>&nbsp;<span class="ident" id="5663632">sym</span><span class="op" id="5663635">.</span><span class="ident" id="5663636">Type</span>&nbsp;<span class="op" id="5663641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663645">case</span>&nbsp;<span class="string" id="5663650">&#39;Z&#39;</span><span class="op" id="5663653">,</span>&nbsp;<span class="string" id="5663655">&#39;z&#39;</span><span class="op" id="5663658">:</span>&nbsp;<span class="comment" id="5663660">//&nbsp;path&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663678">if</span>&nbsp;<span class="ident" id="5663681">t</span><span class="op" id="5663682">.</span><span class="ident" id="5663683">go12line</span>&nbsp;<span class="op" id="5663692">!=</span>&nbsp;<span class="ident" id="5663695">nil</span>&nbsp;<span class="op" id="5663699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5663705">//&nbsp;Go&nbsp;1.2&nbsp;binaries&nbsp;have&nbsp;the&nbsp;file&nbsp;information&nbsp;elsewhere.&nbsp;Ignore.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663773">break</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5663782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5663787">//&nbsp;Finish&nbsp;the&nbsp;current&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5663819">if</span>&nbsp;<span class="ident" id="5663822">obj</span>&nbsp;<span class="op" id="5663826">!=</span>&nbsp;<span class="ident" id="5663829">nil</span>&nbsp;<span class="op" id="5663833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663839">obj</span><span class="op" id="5663842">.</span><span class="ident" id="5663843">Funcs</span>&nbsp;<span class="op" id="5663849">=</span>&nbsp;<span class="ident" id="5663851">t</span><span class="op" id="5663852">.</span><span class="ident" id="5663853">Funcs</span><span class="op" id="5663858">[</span><span class="ident" id="5663859">lastf</span><span class="op" id="5663864">:</span><span class="op" id="5663865">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5663870">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663875">lastf</span>&nbsp;<span class="op" id="5663881">=</span>&nbsp;<span class="builtinfunc" id="5663883">len</span><span class="op" id="5663886">(</span><span class="ident" id="5663887">t</span><span class="op" id="5663888">.</span><span class="ident" id="5663889">Funcs</span><span class="op" id="5663894">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5663900">//&nbsp;Start&nbsp;new&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663923">n</span>&nbsp;<span class="op" id="5663925">:=</span>&nbsp;<span class="builtinfunc" id="5663928">len</span><span class="op" id="5663931">(</span><span class="ident" id="5663932">t</span><span class="op" id="5663933">.</span><span class="ident" id="5663934">Objs</span><span class="op" id="5663938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663943">t</span><span class="op" id="5663944">.</span><span class="ident" id="5663945">Objs</span>&nbsp;<span class="op" id="5663950">=</span>&nbsp;<span class="ident" id="5663952">t</span><span class="op" id="5663953">.</span><span class="ident" id="5663954">Objs</span><span class="op" id="5663958">[</span><span class="num" id="5663959">0</span>&nbsp;<span class="op" id="5663961">:</span>&nbsp;<span class="ident" id="5663963">n</span><span class="op" id="5663964">+</span><span class="num" id="5663965">1</span><span class="op" id="5663966">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5663971">obj</span>&nbsp;<span class="op" id="5663975">=</span>&nbsp;<span class="op" id="5663977">&amp;</span><span class="ident" id="5663978">t</span><span class="op" id="5663979">.</span><span class="ident" id="5663980">Objs</span><span class="op" id="5663984">[</span><span class="ident" id="5663985">n</span><span class="op" id="5663986">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5663992">//&nbsp;Count&nbsp;&amp;&nbsp;copy&nbsp;path&nbsp;symbols</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664024">var</span>&nbsp;<span class="ident" id="5664028">end</span>&nbsp;<span class="builtintype" id="5664032">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664039">for</span>&nbsp;<span class="ident" id="5664043">end</span>&nbsp;<span class="op" id="5664047">=</span>&nbsp;<span class="ident" id="5664049">i</span>&nbsp;<span class="op" id="5664051">+</span>&nbsp;<span class="num" id="5664053">1</span><span class="op" id="5664054">;</span>&nbsp;<span class="ident" id="5664056">end</span>&nbsp;<span class="op" id="5664060">&lt;</span>&nbsp;<span class="builtinfunc" id="5664062">len</span><span class="op" id="5664065">(</span><span class="ident" id="5664066">t</span><span class="op" id="5664067">.</span><span class="ident" id="5664068">Syms</span><span class="op" id="5664072">)</span><span class="op" id="5664073">;</span>&nbsp;<span class="ident" id="5664075">end</span><span class="op" id="5664078">++</span>&nbsp;<span class="op" id="5664081">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664087">if</span>&nbsp;<span class="ident" id="5664090">c</span>&nbsp;<span class="op" id="5664092">:=</span>&nbsp;<span class="ident" id="5664095">t</span><span class="op" id="5664096">.</span><span class="ident" id="5664097">Syms</span><span class="op" id="5664101">[</span><span class="ident" id="5664102">end</span><span class="op" id="5664105">]</span><span class="op" id="5664106">.</span><span class="ident" id="5664107">Type</span><span class="op" id="5664111">;</span>&nbsp;<span class="ident" id="5664113">c</span>&nbsp;<span class="op" id="5664115">!=</span>&nbsp;<span class="string" id="5664118">&#39;Z&#39;</span>&nbsp;<span class="op" id="5664122">&amp;&amp;</span>&nbsp;<span class="ident" id="5664125">c</span>&nbsp;<span class="op" id="5664127">!=</span>&nbsp;<span class="string" id="5664130">&#39;z&#39;</span>&nbsp;<span class="op" id="5664134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664141">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664161">obj</span><span class="op" id="5664164">.</span><span class="ident" id="5664165">Paths</span>&nbsp;<span class="op" id="5664171">=</span>&nbsp;<span class="ident" id="5664173">t</span><span class="op" id="5664174">.</span><span class="ident" id="5664175">Syms</span><span class="op" id="5664179">[</span><span class="ident" id="5664180">i</span><span class="op" id="5664181">:</span><span class="ident" id="5664182">end</span><span class="op" id="5664185">]</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664190">i</span>&nbsp;<span class="op" id="5664192">=</span>&nbsp;<span class="ident" id="5664194">end</span>&nbsp;<span class="op" id="5664198">-</span>&nbsp;<span class="num" id="5664200">1</span>&nbsp;<span class="comment" id="5664202">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5664223">//&nbsp;Record&nbsp;file&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664247">depth</span>&nbsp;<span class="op" id="5664253">:=</span>&nbsp;<span class="num" id="5664256">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664261">for</span>&nbsp;<span class="ident" id="5664265">j</span>&nbsp;<span class="op" id="5664267">:=</span>&nbsp;<span class="keyword" id="5664270">range</span>&nbsp;<span class="ident" id="5664276">obj</span><span class="op" id="5664279">.</span><span class="ident" id="5664280">Paths</span>&nbsp;<span class="op" id="5664286">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664292">s</span>&nbsp;<span class="op" id="5664294">:=</span>&nbsp;<span class="op" id="5664297">&amp;</span><span class="ident" id="5664298">obj</span><span class="op" id="5664301">.</span><span class="ident" id="5664302">Paths</span><span class="op" id="5664307">[</span><span class="ident" id="5664308">j</span><span class="op" id="5664309">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664315">if</span>&nbsp;<span class="ident" id="5664318">s</span><span class="op" id="5664319">.</span><span class="ident" id="5664320">Name</span>&nbsp;<span class="op" id="5664325">==</span>&nbsp;<span class="string" id="5664328">&#34;&#34;</span>&nbsp;<span class="op" id="5664331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664338">depth</span><span class="op" id="5664343">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664350">}</span>&nbsp;<span class="keyword" id="5664352">else</span>&nbsp;<span class="op" id="5664357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664364">if</span>&nbsp;<span class="ident" id="5664367">depth</span>&nbsp;<span class="op" id="5664373">==</span>&nbsp;<span class="num" id="5664376">0</span>&nbsp;<span class="op" id="5664378">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664386">t</span><span class="op" id="5664387">.</span><span class="ident" id="5664388">Files</span><span class="op" id="5664393">[</span><span class="ident" id="5664394">s</span><span class="op" id="5664395">.</span><span class="ident" id="5664396">Name</span><span class="op" id="5664400">]</span>&nbsp;<span class="op" id="5664402">=</span>&nbsp;<span class="ident" id="5664404">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664420">depth</span><span class="op" id="5664425">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664437">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664442">case</span>&nbsp;<span class="string" id="5664447">&#39;T&#39;</span><span class="op" id="5664450">,</span>&nbsp;<span class="string" id="5664452">&#39;t&#39;</span><span class="op" id="5664455">,</span>&nbsp;<span class="string" id="5664457">&#39;L&#39;</span><span class="op" id="5664460">,</span>&nbsp;<span class="string" id="5664462">&#39;l&#39;</span><span class="op" id="5664465">:</span>&nbsp;<span class="comment" id="5664467">//&nbsp;text&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664485">if</span>&nbsp;<span class="ident" id="5664488">n</span>&nbsp;<span class="op" id="5664490">:=</span>&nbsp;<span class="builtinfunc" id="5664493">len</span><span class="op" id="5664496">(</span><span class="ident" id="5664497">t</span><span class="op" id="5664498">.</span><span class="ident" id="5664499">Funcs</span><span class="op" id="5664504">)</span><span class="op" id="5664505">;</span>&nbsp;<span class="ident" id="5664507">n</span>&nbsp;<span class="op" id="5664509">&gt;</span>&nbsp;<span class="num" id="5664511">0</span>&nbsp;<span class="op" id="5664513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664519">t</span><span class="op" id="5664520">.</span><span class="ident" id="5664521">Funcs</span><span class="op" id="5664526">[</span><span class="ident" id="5664527">n</span><span class="op" id="5664528">-</span><span class="num" id="5664529">1</span><span class="op" id="5664530">]</span><span class="op" id="5664531">.</span><span class="ident" id="5664532">End</span>&nbsp;<span class="op" id="5664536">=</span>&nbsp;<span class="ident" id="5664538">sym</span><span class="op" id="5664541">.</span><span class="ident" id="5664542">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664551">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664556">if</span>&nbsp;<span class="ident" id="5664559">sym</span><span class="op" id="5664562">.</span><span class="ident" id="5664563">Name</span>&nbsp;<span class="op" id="5664568">==</span>&nbsp;<span class="string" id="5664571">&#34;runtime.etext&#34;</span>&nbsp;<span class="op" id="5664587">||</span>&nbsp;<span class="ident" id="5664590">sym</span><span class="op" id="5664593">.</span><span class="ident" id="5664594">Name</span>&nbsp;<span class="op" id="5664599">==</span>&nbsp;<span class="string" id="5664602">&#34;etext&#34;</span>&nbsp;<span class="op" id="5664610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664616">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5664634">//&nbsp;Count&nbsp;parameter&nbsp;and&nbsp;local&nbsp;(auto)&nbsp;syms</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664678">var</span>&nbsp;<span class="ident" id="5664682">np</span><span class="op" id="5664684">,</span>&nbsp;<span class="ident" id="5664686">na</span>&nbsp;<span class="builtintype" id="5664689">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664696">var</span>&nbsp;<span class="ident" id="5664700">end</span>&nbsp;<span class="builtintype" id="5664704">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664710">countloop</span><span class="op" id="5664719">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664724">for</span>&nbsp;<span class="ident" id="5664728">end</span>&nbsp;<span class="op" id="5664732">=</span>&nbsp;<span class="ident" id="5664734">i</span>&nbsp;<span class="op" id="5664736">+</span>&nbsp;<span class="num" id="5664738">1</span><span class="op" id="5664739">;</span>&nbsp;<span class="ident" id="5664741">end</span>&nbsp;<span class="op" id="5664745">&lt;</span>&nbsp;<span class="builtinfunc" id="5664747">len</span><span class="op" id="5664750">(</span><span class="ident" id="5664751">t</span><span class="op" id="5664752">.</span><span class="ident" id="5664753">Syms</span><span class="op" id="5664757">)</span><span class="op" id="5664758">;</span>&nbsp;<span class="ident" id="5664760">end</span><span class="op" id="5664763">++</span>&nbsp;<span class="op" id="5664766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664772">switch</span>&nbsp;<span class="ident" id="5664779">t</span><span class="op" id="5664780">.</span><span class="ident" id="5664781">Syms</span><span class="op" id="5664785">[</span><span class="ident" id="5664786">end</span><span class="op" id="5664789">]</span><span class="op" id="5664790">.</span><span class="ident" id="5664791">Type</span>&nbsp;<span class="op" id="5664796">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664802">case</span>&nbsp;<span class="string" id="5664807">&#39;T&#39;</span><span class="op" id="5664810">,</span>&nbsp;<span class="string" id="5664812">&#39;t&#39;</span><span class="op" id="5664815">,</span>&nbsp;<span class="string" id="5664817">&#39;L&#39;</span><span class="op" id="5664820">,</span>&nbsp;<span class="string" id="5664822">&#39;l&#39;</span><span class="op" id="5664825">,</span>&nbsp;<span class="string" id="5664827">&#39;Z&#39;</span><span class="op" id="5664830">,</span>&nbsp;<span class="string" id="5664832">&#39;z&#39;</span><span class="op" id="5664835">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664842">break</span>&nbsp;<span class="ident" id="5664848">countloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664862">case</span>&nbsp;<span class="string" id="5664867">&#39;p&#39;</span><span class="op" id="5664870">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664877">np</span><span class="op" id="5664879">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5664886">case</span>&nbsp;<span class="string" id="5664891">&#39;a&#39;</span><span class="op" id="5664894">:</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664901">na</span><span class="op" id="5664903">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5664915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5664921">//&nbsp;Fill&nbsp;in&nbsp;the&nbsp;function&nbsp;symbol</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664955">n</span>&nbsp;<span class="op" id="5664957">:=</span>&nbsp;<span class="builtinfunc" id="5664960">len</span><span class="op" id="5664963">(</span><span class="ident" id="5664964">t</span><span class="op" id="5664965">.</span><span class="ident" id="5664966">Funcs</span><span class="op" id="5664971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5664976">t</span><span class="op" id="5664977">.</span><span class="ident" id="5664978">Funcs</span>&nbsp;<span class="op" id="5664984">=</span>&nbsp;<span class="ident" id="5664986">t</span><span class="op" id="5664987">.</span><span class="ident" id="5664988">Funcs</span><span class="op" id="5664993">[</span><span class="num" id="5664994">0</span>&nbsp;<span class="op" id="5664996">:</span>&nbsp;<span class="ident" id="5664998">n</span><span class="op" id="5664999">+</span><span class="num" id="5665000">1</span><span class="op" id="5665001">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665006">fn</span>&nbsp;<span class="op" id="5665009">:=</span>&nbsp;<span class="op" id="5665012">&amp;</span><span class="ident" id="5665013">t</span><span class="op" id="5665014">.</span><span class="ident" id="5665015">Funcs</span><span class="op" id="5665020">[</span><span class="ident" id="5665021">n</span><span class="op" id="5665022">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665027">sym</span><span class="op" id="5665030">.</span><span class="ident" id="5665031">Func</span>&nbsp;<span class="op" id="5665036">=</span>&nbsp;<span class="ident" id="5665038">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665044">fn</span><span class="op" id="5665046">.</span><span class="ident" id="5665047">Params</span>&nbsp;<span class="op" id="5665054">=</span>&nbsp;<span class="builtinfunc" id="5665056">make</span><span class="op" id="5665060">(</span><span class="op" id="5665061">[</span><span class="op" id="5665062">]</span><span class="op" id="5665063">*</span><span class="ident" id="5665064">Sym</span><span class="op" id="5665067">,</span>&nbsp;<span class="num" id="5665069">0</span><span class="op" id="5665070">,</span>&nbsp;<span class="ident" id="5665072">np</span><span class="op" id="5665074">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665079">fn</span><span class="op" id="5665081">.</span><span class="ident" id="5665082">Locals</span>&nbsp;<span class="op" id="5665089">=</span>&nbsp;<span class="builtinfunc" id="5665091">make</span><span class="op" id="5665095">(</span><span class="op" id="5665096">[</span><span class="op" id="5665097">]</span><span class="op" id="5665098">*</span><span class="ident" id="5665099">Sym</span><span class="op" id="5665102">,</span>&nbsp;<span class="num" id="5665104">0</span><span class="op" id="5665105">,</span>&nbsp;<span class="ident" id="5665107">na</span><span class="op" id="5665109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665114">fn</span><span class="op" id="5665116">.</span><span class="ident" id="5665117">Sym</span>&nbsp;<span class="op" id="5665121">=</span>&nbsp;<span class="ident" id="5665123">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665130">fn</span><span class="op" id="5665132">.</span><span class="ident" id="5665133">Entry</span>&nbsp;<span class="op" id="5665139">=</span>&nbsp;<span class="ident" id="5665141">sym</span><span class="op" id="5665144">.</span><span class="ident" id="5665145">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665154">fn</span><span class="op" id="5665156">.</span><span class="ident" id="5665157">Obj</span>&nbsp;<span class="op" id="5665161">=</span>&nbsp;<span class="ident" id="5665163">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5665170">if</span>&nbsp;<span class="ident" id="5665173">t</span><span class="op" id="5665174">.</span><span class="ident" id="5665175">go12line</span>&nbsp;<span class="op" id="5665184">!=</span>&nbsp;<span class="ident" id="5665187">nil</span>&nbsp;<span class="op" id="5665191">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5665197">//&nbsp;All&nbsp;functions&nbsp;share&nbsp;the&nbsp;same&nbsp;line&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5665245">//&nbsp;It&nbsp;knows&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;to&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5665294">//&nbsp;function&nbsp;quickly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665319">fn</span><span class="op" id="5665321">.</span><span class="ident" id="5665322">LineTable</span>&nbsp;<span class="op" id="5665332">=</span>&nbsp;<span class="ident" id="5665334">t</span><span class="op" id="5665335">.</span><span class="ident" id="5665336">go12line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5665348">}</span>&nbsp;<span class="keyword" id="5665350">else</span>&nbsp;<span class="keyword" id="5665355">if</span>&nbsp;<span class="ident" id="5665358">pcln</span>&nbsp;<span class="op" id="5665363">!=</span>&nbsp;<span class="ident" id="5665366">nil</span>&nbsp;<span class="op" id="5665370">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665376">fn</span><span class="op" id="5665378">.</span><span class="ident" id="5665379">LineTable</span>&nbsp;<span class="op" id="5665389">=</span>&nbsp;<span class="ident" id="5665391">pcln</span><span class="op" id="5665395">.</span><span class="ident" id="5665396">slice</span><span class="op" id="5665401">(</span><span class="ident" id="5665402">fn</span><span class="op" id="5665404">.</span><span class="ident" id="5665405">Entry</span><span class="op" id="5665410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665416">pcln</span>&nbsp;<span class="op" id="5665421">=</span>&nbsp;<span class="ident" id="5665423">fn</span><span class="op" id="5665425">.</span><span class="ident" id="5665426">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5665439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5665444">for</span>&nbsp;<span class="ident" id="5665448">j</span>&nbsp;<span class="op" id="5665450">:=</span>&nbsp;<span class="ident" id="5665453">i</span><span class="op" id="5665454">;</span>&nbsp;<span class="ident" id="5665456">j</span>&nbsp;<span class="op" id="5665458">&lt;</span>&nbsp;<span class="ident" id="5665460">end</span><span class="op" id="5665463">;</span>&nbsp;<span class="ident" id="5665465">j</span><span class="op" id="5665466">++</span>&nbsp;<span class="op" id="5665469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665475">s</span>&nbsp;<span class="op" id="5665477">:=</span>&nbsp;<span class="op" id="5665480">&amp;</span><span class="ident" id="5665481">t</span><span class="op" id="5665482">.</span><span class="ident" id="5665483">Syms</span><span class="op" id="5665487">[</span><span class="ident" id="5665488">j</span><span class="op" id="5665489">]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5665495">switch</span>&nbsp;<span class="ident" id="5665502">s</span><span class="op" id="5665503">.</span><span class="ident" id="5665504">Type</span>&nbsp;<span class="op" id="5665509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5665515">case</span>&nbsp;<span class="string" id="5665520">&#39;m&#39;</span><span class="op" id="5665523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665530">fn</span><span class="op" id="5665532">.</span><span class="ident" id="5665533">FrameSize</span>&nbsp;<span class="op" id="5665543">=</span>&nbsp;<span class="builtintype" id="5665545">int</span><span class="op" id="5665548">(</span><span class="ident" id="5665549">s</span><span class="op" id="5665550">.</span><span class="ident" id="5665551">Value</span><span class="op" id="5665556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5665562">case</span>&nbsp;<span class="string" id="5665567">&#39;p&#39;</span><span class="op" id="5665570">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665577">n</span>&nbsp;<span class="op" id="5665579">:=</span>&nbsp;<span class="builtinfunc" id="5665582">len</span><span class="op" id="5665585">(</span><span class="ident" id="5665586">fn</span><span class="op" id="5665588">.</span><span class="ident" id="5665589">Params</span><span class="op" id="5665595">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665602">fn</span><span class="op" id="5665604">.</span><span class="ident" id="5665605">Params</span>&nbsp;<span class="op" id="5665612">=</span>&nbsp;<span class="ident" id="5665614">fn</span><span class="op" id="5665616">.</span><span class="ident" id="5665617">Params</span><span class="op" id="5665623">[</span><span class="num" id="5665624">0</span>&nbsp;<span class="op" id="5665626">:</span>&nbsp;<span class="ident" id="5665628">n</span><span class="op" id="5665629">+</span><span class="num" id="5665630">1</span><span class="op" id="5665631">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665638">fn</span><span class="op" id="5665640">.</span><span class="ident" id="5665641">Params</span><span class="op" id="5665647">[</span><span class="ident" id="5665648">n</span><span class="op" id="5665649">]</span>&nbsp;<span class="op" id="5665651">=</span>&nbsp;<span class="ident" id="5665653">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5665659">case</span>&nbsp;<span class="string" id="5665664">&#39;a&#39;</span><span class="op" id="5665667">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665674">n</span>&nbsp;<span class="op" id="5665676">:=</span>&nbsp;<span class="builtinfunc" id="5665679">len</span><span class="op" id="5665682">(</span><span class="ident" id="5665683">fn</span><span class="op" id="5665685">.</span><span class="ident" id="5665686">Locals</span><span class="op" id="5665692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665699">fn</span><span class="op" id="5665701">.</span><span class="ident" id="5665702">Locals</span>&nbsp;<span class="op" id="5665709">=</span>&nbsp;<span class="ident" id="5665711">fn</span><span class="op" id="5665713">.</span><span class="ident" id="5665714">Locals</span><span class="op" id="5665720">[</span><span class="num" id="5665721">0</span>&nbsp;<span class="op" id="5665723">:</span>&nbsp;<span class="ident" id="5665725">n</span><span class="op" id="5665726">+</span><span class="num" id="5665727">1</span><span class="op" id="5665728">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665735">fn</span><span class="op" id="5665737">.</span><span class="ident" id="5665738">Locals</span><span class="op" id="5665744">[</span><span class="ident" id="5665745">n</span><span class="op" id="5665746">]</span>&nbsp;<span class="op" id="5665748">=</span>&nbsp;<span class="ident" id="5665750">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5665756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5665761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665766">i</span>&nbsp;<span class="op" id="5665768">=</span>&nbsp;<span class="ident" id="5665770">end</span>&nbsp;<span class="op" id="5665774">-</span>&nbsp;<span class="num" id="5665776">1</span>&nbsp;<span class="comment" id="5665778">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5665797">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5665800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5665804">if</span>&nbsp;<span class="ident" id="5665807">t</span><span class="op" id="5665808">.</span><span class="ident" id="5665809">go12line</span>&nbsp;<span class="op" id="5665818">!=</span>&nbsp;<span class="ident" id="5665821">nil</span>&nbsp;<span class="op" id="5665825">&amp;&amp;</span>&nbsp;<span class="ident" id="5665828">nf</span>&nbsp;<span class="op" id="5665831">==</span>&nbsp;<span class="num" id="5665834">0</span>&nbsp;<span class="op" id="5665836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665840">t</span><span class="op" id="5665841">.</span><span class="ident" id="5665842">Funcs</span>&nbsp;<span class="op" id="5665848">=</span>&nbsp;<span class="ident" id="5665850">t</span><span class="op" id="5665851">.</span><span class="ident" id="5665852">go12line</span><span class="op" id="5665860">.</span><span class="ident" id="5665861">go12Funcs</span><span class="op" id="5665870">(</span><span class="op" id="5665871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5665874">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5665877">if</span>&nbsp;<span class="ident" id="5665880">obj</span>&nbsp;<span class="op" id="5665884">!=</span>&nbsp;<span class="ident" id="5665887">nil</span>&nbsp;<span class="op" id="5665891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5665895">obj</span><span class="op" id="5665898">.</span><span class="ident" id="5665899">Funcs</span>&nbsp;<span class="op" id="5665905">=</span>&nbsp;<span class="ident" id="5665907">t</span><span class="op" id="5665908">.</span><span class="ident" id="5665909">Funcs</span><span class="op" id="5665914">[</span><span class="ident" id="5665915">lastf</span><span class="op" id="5665920">:</span><span class="op" id="5665921">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5665924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5665927">return</span>&nbsp;<span class="op" id="5665934">&amp;</span><span class="ident" id="5665935">t</span><span class="op" id="5665936">,</span>&nbsp;<span class="ident" id="5665938">nil</span><br>
<span class="lineno"></span><span class="op" id="5665942">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="5665945">//&nbsp;PCToFunc&nbsp;returns&nbsp;the&nbsp;function&nbsp;containing&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc,</span><br>
<span class="lineno"></span><span class="comment" id="5666013">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5666053">func</span>&nbsp;<span class="op" id="5666058">(</span><span class="ident" id="5666059">t</span>&nbsp;<span class="op" id="5666061">*</span><span class="ident" id="5666062">Table</span><span class="op" id="5666067">)</span>&nbsp;<span class="ident" id="5666069">PCToFunc</span><span class="op" id="5666077">(</span><span class="ident" id="5666078">pc</span>&nbsp;<span class="ident" id="5666081">uint64</span><span class="op" id="5666087">)</span>&nbsp;<span class="op" id="5666089">*</span><span class="ident" id="5666090">Func</span>&nbsp;<span class="op" id="5666095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5666098">funcs</span>&nbsp;<span class="op" id="5666104">:=</span>&nbsp;<span class="ident" id="5666107">t</span><span class="op" id="5666108">.</span><span class="ident" id="5666109">Funcs</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666116">for</span>&nbsp;<span class="builtinfunc" id="5666120">len</span><span class="op" id="5666123">(</span><span class="ident" id="5666124">funcs</span><span class="op" id="5666129">)</span>&nbsp;<span class="op" id="5666131">&gt;</span>&nbsp;<span class="num" id="5666133">0</span>&nbsp;<span class="op" id="5666135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5666139">m</span>&nbsp;<span class="op" id="5666141">:=</span>&nbsp;<span class="builtinfunc" id="5666144">len</span><span class="op" id="5666147">(</span><span class="ident" id="5666148">funcs</span><span class="op" id="5666153">)</span>&nbsp;<span class="op" id="5666155">/</span>&nbsp;<span class="num" id="5666157">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5666161">fn</span>&nbsp;<span class="op" id="5666164">:=</span>&nbsp;<span class="op" id="5666167">&amp;</span><span class="ident" id="5666168">funcs</span><span class="op" id="5666173">[</span><span class="ident" id="5666174">m</span><span class="op" id="5666175">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666179">switch</span>&nbsp;<span class="op" id="5666186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666190">case</span>&nbsp;<span class="ident" id="5666195">pc</span>&nbsp;<span class="op" id="5666198">&lt;</span>&nbsp;<span class="ident" id="5666200">fn</span><span class="op" id="5666202">.</span><span class="ident" id="5666203">Entry</span><span class="op" id="5666208">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5666213">funcs</span>&nbsp;<span class="op" id="5666219">=</span>&nbsp;<span class="ident" id="5666221">funcs</span><span class="op" id="5666226">[</span><span class="num" id="5666227">0</span><span class="op" id="5666228">:</span><span class="ident" id="5666229">m</span><span class="op" id="5666230">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666234">case</span>&nbsp;<span class="ident" id="5666239">fn</span><span class="op" id="5666241">.</span><span class="ident" id="5666242">Entry</span>&nbsp;<span class="op" id="5666248">&lt;=</span>&nbsp;<span class="ident" id="5666251">pc</span>&nbsp;<span class="op" id="5666254">&amp;&amp;</span>&nbsp;<span class="ident" id="5666257">pc</span>&nbsp;<span class="op" id="5666260">&lt;</span>&nbsp;<span class="ident" id="5666262">fn</span><span class="op" id="5666264">.</span><span class="ident" id="5666265">End</span><span class="op" id="5666268">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666273">return</span>&nbsp;<span class="ident" id="5666280">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666285">default</span><span class="op" id="5666292">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5666297">funcs</span>&nbsp;<span class="op" id="5666303">=</span>&nbsp;<span class="ident" id="5666305">funcs</span><span class="op" id="5666310">[</span><span class="ident" id="5666311">m</span><span class="op" id="5666312">+</span><span class="num" id="5666313">1</span><span class="op" id="5666314">:</span><span class="op" id="5666315">]</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5666319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5666322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666325">return</span>&nbsp;<span class="ident" id="5666332">nil</span><br>
<span class="lineno"></span><span class="op" id="5666336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="5666339">//&nbsp;PCToLine&nbsp;looks&nbsp;up&nbsp;line&nbsp;number&nbsp;information&nbsp;for&nbsp;a&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span><span class="comment" id="5666407">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;information,&nbsp;it&nbsp;returns&nbsp;fn&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="5666460">func</span>&nbsp;<span class="op" id="5666465">(</span><span class="ident" id="5666466">t</span>&nbsp;<span class="op" id="5666468">*</span><span class="ident" id="5666469">Table</span><span class="op" id="5666474">)</span>&nbsp;<span class="ident" id="5666476">PCToLine</span><span class="op" id="5666484">(</span><span class="ident" id="5666485">pc</span>&nbsp;<span class="ident" id="5666488">uint64</span><span class="op" id="5666494">)</span>&nbsp;<span class="op" id="5666496">(</span><span class="ident" id="5666497">file</span>&nbsp;<span class="builtintype" id="5666502">string</span><span class="op" id="5666508">,</span>&nbsp;<span class="ident" id="5666510">line</span>&nbsp;<span class="builtintype" id="5666515">int</span><span class="op" id="5666518">,</span>&nbsp;<span class="ident" id="5666520">fn</span>&nbsp;<span class="op" id="5666523">*</span><span class="ident" id="5666524">Func</span><span class="op" id="5666528">)</span>&nbsp;<span class="op" id="5666530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666533">if</span>&nbsp;<span class="ident" id="5666536">fn</span>&nbsp;<span class="op" id="5666539">=</span>&nbsp;<span class="ident" id="5666541">t</span><span class="op" id="5666542">.</span><span class="ident" id="5666543">PCToFunc</span><span class="op" id="5666551">(</span><span class="ident" id="5666552">pc</span><span class="op" id="5666554">)</span><span class="op" id="5666555">;</span>&nbsp;<span class="ident" id="5666557">fn</span>&nbsp;<span class="op" id="5666560">==</span>&nbsp;<span class="ident" id="5666563">nil</span>&nbsp;<span class="op" id="5666567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666571">return</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5666579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666582">if</span>&nbsp;<span class="ident" id="5666585">t</span><span class="op" id="5666586">.</span><span class="ident" id="5666587">go12line</span>&nbsp;<span class="op" id="5666596">!=</span>&nbsp;<span class="ident" id="5666599">nil</span>&nbsp;<span class="op" id="5666603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5666607">file</span>&nbsp;<span class="op" id="5666612">=</span>&nbsp;<span class="ident" id="5666614">t</span><span class="op" id="5666615">.</span><span class="ident" id="5666616">go12line</span><span class="op" id="5666624">.</span><span class="ident" id="5666625">go12PCToFile</span><span class="op" id="5666637">(</span><span class="ident" id="5666638">pc</span><span class="op" id="5666640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5666644">line</span>&nbsp;<span class="op" id="5666649">=</span>&nbsp;<span class="ident" id="5666651">t</span><span class="op" id="5666652">.</span><span class="ident" id="5666653">go12line</span><span class="op" id="5666661">.</span><span class="ident" id="5666662">go12PCToLine</span><span class="op" id="5666674">(</span><span class="ident" id="5666675">pc</span><span class="op" id="5666677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5666680">}</span>&nbsp;<span class="keyword" id="5666682">else</span>&nbsp;<span class="op" id="5666687">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5666691">file</span><span class="op" id="5666695">,</span>&nbsp;<span class="ident" id="5666697">line</span>&nbsp;<span class="op" id="5666702">=</span>&nbsp;<span class="ident" id="5666704">fn</span><span class="op" id="5666706">.</span><span class="ident" id="5666707">Obj</span><span class="op" id="5666710">.</span><span class="ident" id="5666711">lineFromAline</span><span class="op" id="5666724">(</span><span class="ident" id="5666725">fn</span><span class="op" id="5666727">.</span><span class="ident" id="5666728">LineTable</span><span class="op" id="5666737">.</span><span class="ident" id="5666738">PCToLine</span><span class="op" id="5666746">(</span><span class="ident" id="5666747">pc</span><span class="op" id="5666749">)</span><span class="op" id="5666750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5666753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5666756">return</span><br>
<span class="lineno"></span><span class="op" id="5666763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="comment" id="5666766">//&nbsp;LineToPC&nbsp;looks&nbsp;up&nbsp;the&nbsp;first&nbsp;program&nbsp;counter&nbsp;on&nbsp;the&nbsp;given&nbsp;line&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5666834">//&nbsp;the&nbsp;named&nbsp;file.&nbsp;&nbsp;It&nbsp;returns&nbsp;UnknownPathError&nbsp;or&nbsp;UnknownLineError&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5666905">//&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;looking&nbsp;up&nbsp;this&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5666948">func</span>&nbsp;<span class="op" id="5666953">(</span><span class="ident" id="5666954">t</span>&nbsp;<span class="op" id="5666956">*</span><span class="ident" id="5666957">Table</span><span class="op" id="5666962">)</span>&nbsp;<span class="ident" id="5666964">LineToPC</span><span class="op" id="5666972">(</span><span class="ident" id="5666973">file</span>&nbsp;<span class="builtintype" id="5666978">string</span><span class="op" id="5666984">,</span>&nbsp;<span class="ident" id="5666986">line</span>&nbsp;<span class="builtintype" id="5666991">int</span><span class="op" id="5666994">)</span>&nbsp;<span class="op" id="5666996">(</span><span class="ident" id="5666997">pc</span>&nbsp;<span class="ident" id="5667000">uint64</span><span class="op" id="5667006">,</span>&nbsp;<span class="ident" id="5667008">fn</span>&nbsp;<span class="op" id="5667011">*</span><span class="ident" id="5667012">Func</span><span class="op" id="5667016">,</span>&nbsp;<span class="ident" id="5667018">err</span>&nbsp;<span class="builtintype" id="5667022">error</span><span class="op" id="5667027">)</span>&nbsp;<span class="op" id="5667029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5667032">obj</span><span class="op" id="5667035">,</span>&nbsp;<span class="ident" id="5667037">ok</span>&nbsp;<span class="op" id="5667040">:=</span>&nbsp;<span class="ident" id="5667043">t</span><span class="op" id="5667044">.</span><span class="ident" id="5667045">Files</span><span class="op" id="5667050">[</span><span class="ident" id="5667051">file</span><span class="op" id="5667055">]</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667058">if</span>&nbsp;<span class="op" id="5667061">!</span><span class="ident" id="5667062">ok</span>&nbsp;<span class="op" id="5667065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667069">return</span>&nbsp;<span class="num" id="5667076">0</span><span class="op" id="5667077">,</span>&nbsp;<span class="ident" id="5667079">nil</span><span class="op" id="5667082">,</span>&nbsp;<span class="ident" id="5667084">UnknownFileError</span><span class="op" id="5667100">(</span><span class="ident" id="5667101">file</span><span class="op" id="5667105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5667108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667112">if</span>&nbsp;<span class="ident" id="5667115">t</span><span class="op" id="5667116">.</span><span class="ident" id="5667117">go12line</span>&nbsp;<span class="op" id="5667126">!=</span>&nbsp;<span class="ident" id="5667129">nil</span>&nbsp;<span class="op" id="5667133">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5667137">pc</span>&nbsp;<span class="op" id="5667140">:=</span>&nbsp;<span class="ident" id="5667143">t</span><span class="op" id="5667144">.</span><span class="ident" id="5667145">go12line</span><span class="op" id="5667153">.</span><span class="ident" id="5667154">go12LineToPC</span><span class="op" id="5667166">(</span><span class="ident" id="5667167">file</span><span class="op" id="5667171">,</span>&nbsp;<span class="ident" id="5667173">line</span><span class="op" id="5667177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667181">if</span>&nbsp;<span class="ident" id="5667184">pc</span>&nbsp;<span class="op" id="5667187">==</span>&nbsp;<span class="num" id="5667190">0</span>&nbsp;<span class="op" id="5667192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667197">return</span>&nbsp;<span class="num" id="5667204">0</span><span class="op" id="5667205">,</span>&nbsp;<span class="ident" id="5667207">nil</span><span class="op" id="5667210">,</span>&nbsp;<span class="op" id="5667212">&amp;</span><span class="ident" id="5667213">UnknownLineError</span><span class="op" id="5667229">{</span><span class="ident" id="5667230">file</span><span class="op" id="5667234">,</span>&nbsp;<span class="ident" id="5667236">line</span><span class="op" id="5667240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5667244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667248">return</span>&nbsp;<span class="ident" id="5667255">pc</span><span class="op" id="5667257">,</span>&nbsp;<span class="ident" id="5667259">t</span><span class="op" id="5667260">.</span><span class="ident" id="5667261">PCToFunc</span><span class="op" id="5667269">(</span><span class="ident" id="5667270">pc</span><span class="op" id="5667272">)</span><span class="op" id="5667273">,</span>&nbsp;<span class="ident" id="5667275">nil</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5667280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5667284">abs</span><span class="op" id="5667287">,</span>&nbsp;<span class="ident" id="5667289">err</span>&nbsp;<span class="op" id="5667293">:=</span>&nbsp;<span class="ident" id="5667296">obj</span><span class="op" id="5667299">.</span><span class="ident" id="5667300">alineFromLine</span><span class="op" id="5667313">(</span><span class="ident" id="5667314">file</span><span class="op" id="5667318">,</span>&nbsp;<span class="ident" id="5667320">line</span><span class="op" id="5667324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667327">if</span>&nbsp;<span class="ident" id="5667330">err</span>&nbsp;<span class="op" id="5667334">!=</span>&nbsp;<span class="ident" id="5667337">nil</span>&nbsp;<span class="op" id="5667341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667345">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5667353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667356">for</span>&nbsp;<span class="ident" id="5667360">i</span>&nbsp;<span class="op" id="5667362">:=</span>&nbsp;<span class="keyword" id="5667365">range</span>&nbsp;<span class="ident" id="5667371">obj</span><span class="op" id="5667374">.</span><span class="ident" id="5667375">Funcs</span>&nbsp;<span class="op" id="5667381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5667385">f</span>&nbsp;<span class="op" id="5667387">:=</span>&nbsp;<span class="op" id="5667390">&amp;</span><span class="ident" id="5667391">obj</span><span class="op" id="5667394">.</span><span class="ident" id="5667395">Funcs</span><span class="op" id="5667400">[</span><span class="ident" id="5667401">i</span><span class="op" id="5667402">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5667406">pc</span>&nbsp;<span class="op" id="5667409">:=</span>&nbsp;<span class="ident" id="5667412">f</span><span class="op" id="5667413">.</span><span class="ident" id="5667414">LineTable</span><span class="op" id="5667423">.</span><span class="ident" id="5667424">LineToPC</span><span class="op" id="5667432">(</span><span class="ident" id="5667433">abs</span><span class="op" id="5667436">,</span>&nbsp;<span class="ident" id="5667438">f</span><span class="op" id="5667439">.</span><span class="ident" id="5667440">End</span><span class="op" id="5667443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667447">if</span>&nbsp;<span class="ident" id="5667450">pc</span>&nbsp;<span class="op" id="5667453">!=</span>&nbsp;<span class="num" id="5667456">0</span>&nbsp;<span class="op" id="5667458">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667463">return</span>&nbsp;<span class="ident" id="5667470">pc</span><span class="op" id="5667472">,</span>&nbsp;<span class="ident" id="5667474">f</span><span class="op" id="5667475">,</span>&nbsp;<span class="ident" id="5667477">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5667483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5667486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667489">return</span>&nbsp;<span class="num" id="5667496">0</span><span class="op" id="5667497">,</span>&nbsp;<span class="ident" id="5667499">nil</span><span class="op" id="5667502">,</span>&nbsp;<span class="op" id="5667504">&amp;</span><span class="ident" id="5667505">UnknownLineError</span><span class="op" id="5667521">{</span><span class="ident" id="5667522">file</span><span class="op" id="5667526">,</span>&nbsp;<span class="ident" id="5667528">line</span><span class="op" id="5667532">}</span><br>
<span class="lineno"></span><span class="op" id="5667534">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="comment" id="5667537">//&nbsp;LookupSym&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5667609">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5667647">func</span>&nbsp;<span class="op" id="5667652">(</span><span class="ident" id="5667653">t</span>&nbsp;<span class="op" id="5667655">*</span><span class="ident" id="5667656">Table</span><span class="op" id="5667661">)</span>&nbsp;<span class="ident" id="5667663">LookupSym</span><span class="op" id="5667672">(</span><span class="ident" id="5667673">name</span>&nbsp;<span class="builtintype" id="5667678">string</span><span class="op" id="5667684">)</span>&nbsp;<span class="op" id="5667686">*</span><span class="ident" id="5667687">Sym</span>&nbsp;<span class="op" id="5667691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5667694">//&nbsp;TODO(austin)&nbsp;Maybe&nbsp;make&nbsp;a&nbsp;map</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667728">for</span>&nbsp;<span class="ident" id="5667732">i</span>&nbsp;<span class="op" id="5667734">:=</span>&nbsp;<span class="keyword" id="5667737">range</span>&nbsp;<span class="ident" id="5667743">t</span><span class="op" id="5667744">.</span><span class="ident" id="5667745">Syms</span>&nbsp;<span class="op" id="5667750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5667754">s</span>&nbsp;<span class="op" id="5667756">:=</span>&nbsp;<span class="op" id="5667759">&amp;</span><span class="ident" id="5667760">t</span><span class="op" id="5667761">.</span><span class="ident" id="5667762">Syms</span><span class="op" id="5667766">[</span><span class="ident" id="5667767">i</span><span class="op" id="5667768">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667772">switch</span>&nbsp;<span class="ident" id="5667779">s</span><span class="op" id="5667780">.</span><span class="ident" id="5667781">Type</span>&nbsp;<span class="op" id="5667786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667790">case</span>&nbsp;<span class="string" id="5667795">&#39;T&#39;</span><span class="op" id="5667798">,</span>&nbsp;<span class="string" id="5667800">&#39;t&#39;</span><span class="op" id="5667803">,</span>&nbsp;<span class="string" id="5667805">&#39;L&#39;</span><span class="op" id="5667808">,</span>&nbsp;<span class="string" id="5667810">&#39;l&#39;</span><span class="op" id="5667813">,</span>&nbsp;<span class="string" id="5667815">&#39;D&#39;</span><span class="op" id="5667818">,</span>&nbsp;<span class="string" id="5667820">&#39;d&#39;</span><span class="op" id="5667823">,</span>&nbsp;<span class="string" id="5667825">&#39;B&#39;</span><span class="op" id="5667828">,</span>&nbsp;<span class="string" id="5667830">&#39;b&#39;</span><span class="op" id="5667833">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667838">if</span>&nbsp;<span class="ident" id="5667841">s</span><span class="op" id="5667842">.</span><span class="ident" id="5667843">Name</span>&nbsp;<span class="op" id="5667848">==</span>&nbsp;<span class="ident" id="5667851">name</span>&nbsp;<span class="op" id="5667856">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667862">return</span>&nbsp;<span class="ident" id="5667869">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5667874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5667878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5667881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5667884">return</span>&nbsp;<span class="ident" id="5667891">nil</span><br>
<span class="lineno">550</span><span class="op" id="5667895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5667898">//&nbsp;LookupFunc&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5667971">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5668009">func</span>&nbsp;<span class="op" id="5668014">(</span><span class="ident" id="5668015">t</span>&nbsp;<span class="op" id="5668017">*</span><span class="ident" id="5668018">Table</span><span class="op" id="5668023">)</span>&nbsp;<span class="ident" id="5668025">LookupFunc</span><span class="op" id="5668035">(</span><span class="ident" id="5668036">name</span>&nbsp;<span class="builtintype" id="5668041">string</span><span class="op" id="5668047">)</span>&nbsp;<span class="op" id="5668049">*</span><span class="ident" id="5668050">Func</span>&nbsp;<span class="op" id="5668055">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668058">for</span>&nbsp;<span class="ident" id="5668062">i</span>&nbsp;<span class="op" id="5668064">:=</span>&nbsp;<span class="keyword" id="5668067">range</span>&nbsp;<span class="ident" id="5668073">t</span><span class="op" id="5668074">.</span><span class="ident" id="5668075">Funcs</span>&nbsp;<span class="op" id="5668081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5668085">f</span>&nbsp;<span class="op" id="5668087">:=</span>&nbsp;<span class="op" id="5668090">&amp;</span><span class="ident" id="5668091">t</span><span class="op" id="5668092">.</span><span class="ident" id="5668093">Funcs</span><span class="op" id="5668098">[</span><span class="ident" id="5668099">i</span><span class="op" id="5668100">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668104">if</span>&nbsp;<span class="ident" id="5668107">f</span><span class="op" id="5668108">.</span><span class="ident" id="5668109">Sym</span><span class="op" id="5668112">.</span><span class="ident" id="5668113">Name</span>&nbsp;<span class="op" id="5668118">==</span>&nbsp;<span class="ident" id="5668121">name</span>&nbsp;<span class="op" id="5668126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668131">return</span>&nbsp;<span class="ident" id="5668138">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5668142">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5668145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668148">return</span>&nbsp;<span class="ident" id="5668155">nil</span><br>
<span class="lineno"></span><span class="op" id="5668159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5668162">//&nbsp;SymByAddr&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;starting&nbsp;at&nbsp;the&nbsp;given&nbsp;address.</span><br>
<span class="lineno">565</span><span class="keyword" id="5668244">func</span>&nbsp;<span class="op" id="5668249">(</span><span class="ident" id="5668250">t</span>&nbsp;<span class="op" id="5668252">*</span><span class="ident" id="5668253">Table</span><span class="op" id="5668258">)</span>&nbsp;<span class="ident" id="5668260">SymByAddr</span><span class="op" id="5668269">(</span><span class="ident" id="5668270">addr</span>&nbsp;<span class="ident" id="5668275">uint64</span><span class="op" id="5668281">)</span>&nbsp;<span class="op" id="5668283">*</span><span class="ident" id="5668284">Sym</span>&nbsp;<span class="op" id="5668288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668291">for</span>&nbsp;<span class="ident" id="5668295">i</span>&nbsp;<span class="op" id="5668297">:=</span>&nbsp;<span class="keyword" id="5668300">range</span>&nbsp;<span class="ident" id="5668306">t</span><span class="op" id="5668307">.</span><span class="ident" id="5668308">Syms</span>&nbsp;<span class="op" id="5668313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5668317">s</span>&nbsp;<span class="op" id="5668319">:=</span>&nbsp;<span class="op" id="5668322">&amp;</span><span class="ident" id="5668323">t</span><span class="op" id="5668324">.</span><span class="ident" id="5668325">Syms</span><span class="op" id="5668329">[</span><span class="ident" id="5668330">i</span><span class="op" id="5668331">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668335">switch</span>&nbsp;<span class="ident" id="5668342">s</span><span class="op" id="5668343">.</span><span class="ident" id="5668344">Type</span>&nbsp;<span class="op" id="5668349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668353">case</span>&nbsp;<span class="string" id="5668358">&#39;T&#39;</span><span class="op" id="5668361">,</span>&nbsp;<span class="string" id="5668363">&#39;t&#39;</span><span class="op" id="5668366">,</span>&nbsp;<span class="string" id="5668368">&#39;L&#39;</span><span class="op" id="5668371">,</span>&nbsp;<span class="string" id="5668373">&#39;l&#39;</span><span class="op" id="5668376">,</span>&nbsp;<span class="string" id="5668378">&#39;D&#39;</span><span class="op" id="5668381">,</span>&nbsp;<span class="string" id="5668383">&#39;d&#39;</span><span class="op" id="5668386">,</span>&nbsp;<span class="string" id="5668388">&#39;B&#39;</span><span class="op" id="5668391">,</span>&nbsp;<span class="string" id="5668393">&#39;b&#39;</span><span class="op" id="5668396">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668401">if</span>&nbsp;<span class="ident" id="5668404">s</span><span class="op" id="5668405">.</span><span class="ident" id="5668406">Value</span>&nbsp;<span class="op" id="5668412">==</span>&nbsp;<span class="ident" id="5668415">addr</span>&nbsp;<span class="op" id="5668420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668426">return</span>&nbsp;<span class="ident" id="5668433">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5668438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5668442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5668445">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668448">return</span>&nbsp;<span class="ident" id="5668455">nil</span><br>
<span class="lineno"></span><span class="op" id="5668459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5668462">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Object&nbsp;files<br>
<span class="lineno">580</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5668486">//&nbsp;This&nbsp;is&nbsp;legacy&nbsp;code&nbsp;for&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;which&nbsp;used&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5668548">//&nbsp;Plan&nbsp;9&nbsp;format&nbsp;for&nbsp;pc-line&nbsp;tables.&nbsp;This&nbsp;code&nbsp;was&nbsp;never&nbsp;quite</span><br>
<span class="lineno"></span><span class="comment" id="5668611">//&nbsp;correct.&nbsp;It&#39;s&nbsp;probably&nbsp;very&nbsp;close,&nbsp;and&nbsp;it&#39;s&nbsp;usually&nbsp;correct,&nbsp;but</span><br>
<span class="lineno">585</span><span class="comment" id="5668679">//&nbsp;we&nbsp;never&nbsp;quite&nbsp;found&nbsp;all&nbsp;the&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="5668725">//</span><br>
<span class="lineno"></span><span class="comment" id="5668728">//&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;use&nbsp;a&nbsp;simpler&nbsp;format,&nbsp;documented&nbsp;at&nbsp;golang.org/s/go12symtab.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5668810">func</span>&nbsp;<span class="op" id="5668815">(</span><span class="ident" id="5668816">o</span>&nbsp;<span class="op" id="5668818">*</span><span class="ident" id="5668819">Obj</span><span class="op" id="5668822">)</span>&nbsp;<span class="ident" id="5668824">lineFromAline</span><span class="op" id="5668837">(</span><span class="ident" id="5668838">aline</span>&nbsp;<span class="builtintype" id="5668844">int</span><span class="op" id="5668847">)</span>&nbsp;<span class="op" id="5668849">(</span><span class="builtintype" id="5668850">string</span><span class="op" id="5668856">,</span>&nbsp;<span class="builtintype" id="5668858">int</span><span class="op" id="5668861">)</span>&nbsp;<span class="op" id="5668863">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5668866">type</span>&nbsp;<span class="ident" id="5668871">stackEnt</span>&nbsp;<span class="keyword" id="5668880">struct</span>&nbsp;<span class="op" id="5668887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5668891">path</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5668898">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5668907">start</span>&nbsp;&nbsp;<span class="builtintype" id="5668914">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5668920">offset</span>&nbsp;<span class="builtintype" id="5668927">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5668933">prev</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5668940">*</span><span class="ident" id="5668941">stackEnt</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5668951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5668955">noPath</span>&nbsp;<span class="op" id="5668962">:=</span>&nbsp;<span class="op" id="5668965">&amp;</span><span class="ident" id="5668966">stackEnt</span><span class="op" id="5668974">{</span><span class="string" id="5668975">&#34;&#34;</span><span class="op" id="5668977">,</span>&nbsp;<span class="num" id="5668979">0</span><span class="op" id="5668980">,</span>&nbsp;<span class="num" id="5668982">0</span><span class="op" id="5668983">,</span>&nbsp;<span class="ident" id="5668985">nil</span><span class="op" id="5668988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5668991">tos</span>&nbsp;<span class="op" id="5668995">:=</span>&nbsp;<span class="ident" id="5668998">noPath</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="ident" id="5669006">pathloop</span><span class="op" id="5669014">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669017">for</span>&nbsp;<span class="ident" id="5669021">_</span><span class="op" id="5669022">,</span>&nbsp;<span class="ident" id="5669024">s</span>&nbsp;<span class="op" id="5669026">:=</span>&nbsp;<span class="keyword" id="5669029">range</span>&nbsp;<span class="ident" id="5669035">o</span><span class="op" id="5669036">.</span><span class="ident" id="5669037">Paths</span>&nbsp;<span class="op" id="5669043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669047">val</span>&nbsp;<span class="op" id="5669051">:=</span>&nbsp;<span class="builtintype" id="5669054">int</span><span class="op" id="5669057">(</span><span class="ident" id="5669058">s</span><span class="op" id="5669059">.</span><span class="ident" id="5669060">Value</span><span class="op" id="5669065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669069">switch</span>&nbsp;<span class="op" id="5669076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669080">case</span>&nbsp;<span class="ident" id="5669085">val</span>&nbsp;<span class="op" id="5669089">&gt;</span>&nbsp;<span class="ident" id="5669091">aline</span><span class="op" id="5669096">:</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669101">break</span>&nbsp;<span class="ident" id="5669107">pathloop</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669119">case</span>&nbsp;<span class="ident" id="5669124">val</span>&nbsp;<span class="op" id="5669128">==</span>&nbsp;<span class="num" id="5669131">1</span><span class="op" id="5669132">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5669137">//&nbsp;Start&nbsp;a&nbsp;new&nbsp;stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669161">tos</span>&nbsp;<span class="op" id="5669165">=</span>&nbsp;<span class="op" id="5669167">&amp;</span><span class="ident" id="5669168">stackEnt</span><span class="op" id="5669176">{</span><span class="ident" id="5669177">s</span><span class="op" id="5669178">.</span><span class="ident" id="5669179">Name</span><span class="op" id="5669183">,</span>&nbsp;<span class="ident" id="5669185">val</span><span class="op" id="5669188">,</span>&nbsp;<span class="num" id="5669190">0</span><span class="op" id="5669191">,</span>&nbsp;<span class="ident" id="5669193">noPath</span><span class="op" id="5669199">}</span><br>
<span class="lineno">610</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669204">case</span>&nbsp;<span class="ident" id="5669209">s</span><span class="op" id="5669210">.</span><span class="ident" id="5669211">Name</span>&nbsp;<span class="op" id="5669216">==</span>&nbsp;<span class="string" id="5669219">&#34;&#34;</span><span class="op" id="5669221">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5669226">//&nbsp;Pop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669236">if</span>&nbsp;<span class="ident" id="5669239">tos</span>&nbsp;<span class="op" id="5669243">==</span>&nbsp;<span class="ident" id="5669246">noPath</span>&nbsp;<span class="op" id="5669253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669259">return</span>&nbsp;<span class="string" id="5669266">&#34;&lt;malformed&nbsp;symbol&nbsp;table&gt;&#34;</span><span class="op" id="5669292">,</span>&nbsp;<span class="num" id="5669294">0</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5669299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669304">tos</span><span class="op" id="5669307">.</span><span class="ident" id="5669308">prev</span><span class="op" id="5669312">.</span><span class="ident" id="5669313">offset</span>&nbsp;<span class="op" id="5669320">+=</span>&nbsp;<span class="ident" id="5669323">val</span>&nbsp;<span class="op" id="5669327">-</span>&nbsp;<span class="ident" id="5669329">tos</span><span class="op" id="5669332">.</span><span class="ident" id="5669333">start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669342">tos</span>&nbsp;<span class="op" id="5669346">=</span>&nbsp;<span class="ident" id="5669348">tos</span><span class="op" id="5669351">.</span><span class="ident" id="5669352">prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669360">default</span><span class="op" id="5669367">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5669372">//&nbsp;Push</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669383">tos</span>&nbsp;<span class="op" id="5669387">=</span>&nbsp;<span class="op" id="5669389">&amp;</span><span class="ident" id="5669390">stackEnt</span><span class="op" id="5669398">{</span><span class="ident" id="5669399">s</span><span class="op" id="5669400">.</span><span class="ident" id="5669401">Name</span><span class="op" id="5669405">,</span>&nbsp;<span class="ident" id="5669407">val</span><span class="op" id="5669410">,</span>&nbsp;<span class="num" id="5669412">0</span><span class="op" id="5669413">,</span>&nbsp;<span class="ident" id="5669415">tos</span><span class="op" id="5669418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5669422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5669425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669429">if</span>&nbsp;<span class="ident" id="5669432">tos</span>&nbsp;<span class="op" id="5669436">==</span>&nbsp;<span class="ident" id="5669439">noPath</span>&nbsp;<span class="op" id="5669446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669450">return</span>&nbsp;<span class="string" id="5669457">&#34;&#34;</span><span class="op" id="5669459">,</span>&nbsp;<span class="num" id="5669461">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5669464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669467">return</span>&nbsp;<span class="ident" id="5669474">tos</span><span class="op" id="5669477">.</span><span class="ident" id="5669478">path</span><span class="op" id="5669482">,</span>&nbsp;<span class="ident" id="5669484">aline</span>&nbsp;<span class="op" id="5669490">-</span>&nbsp;<span class="ident" id="5669492">tos</span><span class="op" id="5669495">.</span><span class="ident" id="5669496">start</span>&nbsp;<span class="op" id="5669502">-</span>&nbsp;<span class="ident" id="5669504">tos</span><span class="op" id="5669507">.</span><span class="ident" id="5669508">offset</span>&nbsp;<span class="op" id="5669515">+</span>&nbsp;<span class="num" id="5669517">1</span><br>
<span class="lineno"></span><span class="op" id="5669519">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="5669522">func</span>&nbsp;<span class="op" id="5669527">(</span><span class="ident" id="5669528">o</span>&nbsp;<span class="op" id="5669530">*</span><span class="ident" id="5669531">Obj</span><span class="op" id="5669534">)</span>&nbsp;<span class="ident" id="5669536">alineFromLine</span><span class="op" id="5669549">(</span><span class="ident" id="5669550">path</span>&nbsp;<span class="builtintype" id="5669555">string</span><span class="op" id="5669561">,</span>&nbsp;<span class="ident" id="5669563">line</span>&nbsp;<span class="builtintype" id="5669568">int</span><span class="op" id="5669571">)</span>&nbsp;<span class="op" id="5669573">(</span><span class="builtintype" id="5669574">int</span><span class="op" id="5669577">,</span>&nbsp;<span class="builtintype" id="5669579">error</span><span class="op" id="5669584">)</span>&nbsp;<span class="op" id="5669586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669589">if</span>&nbsp;<span class="ident" id="5669592">line</span>&nbsp;<span class="op" id="5669597">&lt;</span>&nbsp;<span class="num" id="5669599">1</span>&nbsp;<span class="op" id="5669601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669605">return</span>&nbsp;<span class="num" id="5669612">0</span><span class="op" id="5669613">,</span>&nbsp;<span class="op" id="5669615">&amp;</span><span class="ident" id="5669616">UnknownLineError</span><span class="op" id="5669632">{</span><span class="ident" id="5669633">path</span><span class="op" id="5669637">,</span>&nbsp;<span class="ident" id="5669639">line</span><span class="op" id="5669643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5669646">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669650">for</span>&nbsp;<span class="ident" id="5669654">i</span><span class="op" id="5669655">,</span>&nbsp;<span class="ident" id="5669657">s</span>&nbsp;<span class="op" id="5669659">:=</span>&nbsp;<span class="keyword" id="5669662">range</span>&nbsp;<span class="ident" id="5669668">o</span><span class="op" id="5669669">.</span><span class="ident" id="5669670">Paths</span>&nbsp;<span class="op" id="5669676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5669680">//&nbsp;Find&nbsp;this&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669700">if</span>&nbsp;<span class="ident" id="5669703">s</span><span class="op" id="5669704">.</span><span class="ident" id="5669705">Name</span>&nbsp;<span class="op" id="5669710">!=</span>&nbsp;<span class="ident" id="5669713">path</span>&nbsp;<span class="op" id="5669718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669723">continue</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5669734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5669739">//&nbsp;Find&nbsp;this&nbsp;line&nbsp;at&nbsp;this&nbsp;stack&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669779">depth</span>&nbsp;<span class="op" id="5669785">:=</span>&nbsp;<span class="num" id="5669788">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669792">var</span>&nbsp;<span class="ident" id="5669796">incstart</span>&nbsp;<span class="builtintype" id="5669805">int</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669811">line</span>&nbsp;<span class="op" id="5669816">+=</span>&nbsp;<span class="builtintype" id="5669819">int</span><span class="op" id="5669822">(</span><span class="ident" id="5669823">s</span><span class="op" id="5669824">.</span><span class="ident" id="5669825">Value</span><span class="op" id="5669830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669833">pathloop</span><span class="op" id="5669841">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669845">for</span>&nbsp;<span class="ident" id="5669849">_</span><span class="op" id="5669850">,</span>&nbsp;<span class="ident" id="5669852">s</span>&nbsp;<span class="op" id="5669854">:=</span>&nbsp;<span class="keyword" id="5669857">range</span>&nbsp;<span class="ident" id="5669863">o</span><span class="op" id="5669864">.</span><span class="ident" id="5669865">Paths</span><span class="op" id="5669870">[</span><span class="ident" id="5669871">i</span><span class="op" id="5669872">:</span><span class="op" id="5669873">]</span>&nbsp;<span class="op" id="5669875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669880">val</span>&nbsp;<span class="op" id="5669884">:=</span>&nbsp;<span class="builtintype" id="5669887">int</span><span class="op" id="5669890">(</span><span class="ident" id="5669891">s</span><span class="op" id="5669892">.</span><span class="ident" id="5669893">Value</span><span class="op" id="5669898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669903">switch</span>&nbsp;<span class="op" id="5669910">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669915">case</span>&nbsp;<span class="ident" id="5669920">depth</span>&nbsp;<span class="op" id="5669926">==</span>&nbsp;<span class="num" id="5669929">1</span>&nbsp;<span class="op" id="5669931">&amp;&amp;</span>&nbsp;<span class="ident" id="5669934">val</span>&nbsp;<span class="op" id="5669938">&gt;=</span>&nbsp;<span class="ident" id="5669941">line</span><span class="op" id="5669945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669951">return</span>&nbsp;<span class="ident" id="5669958">line</span>&nbsp;<span class="op" id="5669963">-</span>&nbsp;<span class="num" id="5669965">1</span><span class="op" id="5669966">,</span>&nbsp;<span class="ident" id="5669968">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5669976">case</span>&nbsp;<span class="ident" id="5669981">s</span><span class="op" id="5669982">.</span><span class="ident" id="5669983">Name</span>&nbsp;<span class="op" id="5669988">==</span>&nbsp;<span class="string" id="5669991">&#34;&#34;</span><span class="op" id="5669993">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5669999">depth</span><span class="op" id="5670004">--</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5670011">if</span>&nbsp;<span class="ident" id="5670014">depth</span>&nbsp;<span class="op" id="5670020">==</span>&nbsp;<span class="num" id="5670023">0</span>&nbsp;<span class="op" id="5670025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5670032">break</span>&nbsp;<span class="ident" id="5670038">pathloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5670051">}</span>&nbsp;<span class="keyword" id="5670053">else</span>&nbsp;<span class="keyword" id="5670058">if</span>&nbsp;<span class="ident" id="5670061">depth</span>&nbsp;<span class="op" id="5670067">==</span>&nbsp;<span class="num" id="5670070">1</span>&nbsp;<span class="op" id="5670072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5670079">line</span>&nbsp;<span class="op" id="5670084">+=</span>&nbsp;<span class="ident" id="5670087">val</span>&nbsp;<span class="op" id="5670091">-</span>&nbsp;<span class="ident" id="5670093">incstart</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5670106">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5670112">default</span><span class="op" id="5670119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5670125">if</span>&nbsp;<span class="ident" id="5670128">depth</span>&nbsp;<span class="op" id="5670134">==</span>&nbsp;<span class="num" id="5670137">1</span>&nbsp;<span class="op" id="5670139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5670146">incstart</span>&nbsp;<span class="op" id="5670155">=</span>&nbsp;<span class="ident" id="5670157">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5670165">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5670171">depth</span><span class="op" id="5670176">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5670182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5670186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5670190">return</span>&nbsp;<span class="num" id="5670197">0</span><span class="op" id="5670198">,</span>&nbsp;<span class="op" id="5670200">&amp;</span><span class="ident" id="5670201">UnknownLineError</span><span class="op" id="5670217">{</span><span class="ident" id="5670218">path</span><span class="op" id="5670222">,</span>&nbsp;<span class="ident" id="5670224">line</span><span class="op" id="5670228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5670231">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5670234">return</span>&nbsp;<span class="num" id="5670241">0</span><span class="op" id="5670242">,</span>&nbsp;<span class="ident" id="5670244">UnknownFileError</span><span class="op" id="5670260">(</span><span class="ident" id="5670261">path</span><span class="op" id="5670265">)</span><br>
<span class="lineno"></span><span class="op" id="5670267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5670270">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Errors<br>
<span class="lineno">675</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5670288">//&nbsp;UnknownFileError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;find&nbsp;the&nbsp;specific&nbsp;file&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5670358">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5670379">type</span>&nbsp;<span class="ident" id="5670384">UnknownFileError</span>&nbsp;<span class="builtintype" id="5670401">string</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="5670409">func</span>&nbsp;<span class="op" id="5670414">(</span><span class="ident" id="5670415">e</span>&nbsp;<span class="ident" id="5670417">UnknownFileError</span><span class="op" id="5670433">)</span>&nbsp;<span class="ident" id="5670435">Error</span><span class="op" id="5670440">(</span><span class="op" id="5670441">)</span>&nbsp;<span class="builtintype" id="5670443">string</span>&nbsp;<span class="op" id="5670450">{</span>&nbsp;<span class="keyword" id="5670452">return</span>&nbsp;<span class="string" id="5670459">&#34;unknown&nbsp;file:&nbsp;&#34;</span>&nbsp;<span class="op" id="5670476">+</span>&nbsp;<span class="builtintype" id="5670478">string</span><span class="op" id="5670484">(</span><span class="ident" id="5670485">e</span><span class="op" id="5670486">)</span>&nbsp;<span class="op" id="5670488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5670491">//&nbsp;UnknownLineError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;map&nbsp;a&nbsp;line&nbsp;to&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="5670559">//&nbsp;counter,&nbsp;either&nbsp;because&nbsp;the&nbsp;line&nbsp;is&nbsp;beyond&nbsp;the&nbsp;bounds&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno">685</span><span class="comment" id="5670628">//&nbsp;or&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;on&nbsp;the&nbsp;given&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5670678">type</span>&nbsp;<span class="ident" id="5670683">UnknownLineError</span>&nbsp;<span class="keyword" id="5670700">struct</span>&nbsp;<span class="op" id="5670707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5670710">File</span>&nbsp;<span class="builtintype" id="5670715">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5670723">Line</span>&nbsp;<span class="builtintype" id="5670728">int</span><br>
<span class="lineno"></span><span class="op" id="5670732">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="5670735">func</span>&nbsp;<span class="op" id="5670740">(</span><span class="ident" id="5670741">e</span>&nbsp;<span class="op" id="5670743">*</span><span class="ident" id="5670744">UnknownLineError</span><span class="op" id="5670760">)</span>&nbsp;<span class="ident" id="5670762">Error</span><span class="op" id="5670767">(</span><span class="op" id="5670768">)</span>&nbsp;<span class="builtintype" id="5670770">string</span>&nbsp;<span class="op" id="5670777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5670780">return</span>&nbsp;<span class="string" id="5670787">&#34;no&nbsp;code&nbsp;at&nbsp;&#34;</span>&nbsp;<span class="op" id="5670801">+</span>&nbsp;<span class="ident" id="5670803">e</span><span class="op" id="5670804">.</span><span class="ident" id="5670805">File</span>&nbsp;<span class="op" id="5670810">+</span>&nbsp;<span class="string" id="5670812">&#34;:&#34;</span>&nbsp;<span class="op" id="5670816">+</span>&nbsp;<span class="ident" id="5670818">strconv</span><span class="op" id="5670825">.</span><span class="ident" id="5670826">Itoa</span><span class="op" id="5670830">(</span><span class="ident" id="5670831">e</span><span class="op" id="5670832">.</span><span class="ident" id="5670833">Line</span><span class="op" id="5670837">)</span><br>
<span class="lineno"></span><span class="op" id="5670839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="5670842">//&nbsp;DecodingError&nbsp;represents&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;decoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5670902">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5670923">type</span>&nbsp;<span class="ident" id="5670928">DecodingError</span>&nbsp;<span class="keyword" id="5670942">struct</span>&nbsp;<span class="op" id="5670949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5670952">off</span>&nbsp;<span class="builtintype" id="5670956">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5670961">msg</span>&nbsp;<span class="builtintype" id="5670965">string</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5670973">val</span>&nbsp;<span class="keyword" id="5670977">interface</span><span class="op" id="5670986">{</span><span class="op" id="5670987">}</span><br>
<span class="lineno"></span><span class="op" id="5670989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5670992">func</span>&nbsp;<span class="op" id="5670997">(</span><span class="ident" id="5670998">e</span>&nbsp;<span class="op" id="5671000">*</span><span class="ident" id="5671001">DecodingError</span><span class="op" id="5671014">)</span>&nbsp;<span class="ident" id="5671016">Error</span><span class="op" id="5671021">(</span><span class="op" id="5671022">)</span>&nbsp;<span class="builtintype" id="5671024">string</span>&nbsp;<span class="op" id="5671031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5671034">msg</span>&nbsp;<span class="op" id="5671038">:=</span>&nbsp;<span class="ident" id="5671041">e</span><span class="op" id="5671042">.</span><span class="ident" id="5671043">msg</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5671048">if</span>&nbsp;<span class="ident" id="5671051">e</span><span class="op" id="5671052">.</span><span class="ident" id="5671053">val</span>&nbsp;<span class="op" id="5671057">!=</span>&nbsp;<span class="ident" id="5671060">nil</span>&nbsp;<span class="op" id="5671064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5671068">msg</span>&nbsp;<span class="op" id="5671072">+=</span>&nbsp;<span class="ident" id="5671075">fmt</span><span class="op" id="5671078">.</span><span class="ident" id="5671079">Sprintf</span><span class="op" id="5671086">(</span><span class="string" id="5671087">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="5671094">,</span>&nbsp;<span class="ident" id="5671096">e</span><span class="op" id="5671097">.</span><span class="ident" id="5671098">val</span><span class="op" id="5671101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5671104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5671107">msg</span>&nbsp;<span class="op" id="5671111">+=</span>&nbsp;<span class="ident" id="5671114">fmt</span><span class="op" id="5671117">.</span><span class="ident" id="5671118">Sprintf</span><span class="op" id="5671125">(</span><span class="string" id="5671126">&#34;&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="5671140">,</span>&nbsp;<span class="ident" id="5671142">e</span><span class="op" id="5671143">.</span><span class="ident" id="5671144">off</span><span class="op" id="5671147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5671150">return</span>&nbsp;<span class="ident" id="5671157">msg</span><br>
<span class="lineno">710</span><span class="op" id="5671161">}</span>
</div>
</body>
</html>
