<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4496032">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4496087">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4496141">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4496192">package</span>&nbsp;<span class="ident" id="4496200">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4496207">import</span>&nbsp;<span class="op" id="4496214">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4496217">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4496224">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4496235">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4496246">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4496261">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4496264">//&nbsp;item&nbsp;represents&nbsp;a&nbsp;token&nbsp;or&nbsp;text&nbsp;string&nbsp;returned&nbsp;from&nbsp;the&nbsp;scanner.</span><br>
<span class="lineno">15</span><span class="keyword" id="4496333">type</span>&nbsp;<span class="ident" id="4496338">item</span>&nbsp;<span class="keyword" id="4496343">struct</span>&nbsp;<span class="op" id="4496350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4496353">typ</span>&nbsp;<span class="ident" id="4496357"><a href="/text/template/parse/lex.go.html#4496858">itemType</a></span>&nbsp;<span class="comment" id="4496366">//&nbsp;The&nbsp;type&nbsp;of&nbsp;this&nbsp;item.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4496393">pos</span>&nbsp;<span class="ident" id="4496397"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4496406">//&nbsp;The&nbsp;starting&nbsp;position,&nbsp;in&nbsp;bytes,&nbsp;of&nbsp;this&nbsp;item&nbsp;in&nbsp;the&nbsp;input&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4496477">val</span>&nbsp;<span class="builtintype" id="4496481">string</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4496490">//&nbsp;The&nbsp;value&nbsp;of&nbsp;this&nbsp;item.</span><br>
<span class="lineno"></span><span class="op" id="4496517">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="4496520">func</span>&nbsp;<span class="op" id="4496525">(</span><span class="ident" id="4496526">i</span>&nbsp;<span class="ident" id="4496528"><a href="/text/template/parse/lex.go.html#4496338">item</a></span><span class="op" id="4496532">)</span>&nbsp;<span class="ident" id="4496534">String</span><span class="op" id="4496540">(</span><span class="op" id="4496541">)</span>&nbsp;<span class="builtintype" id="4496543">string</span>&nbsp;<span class="op" id="4496550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496553">switch</span>&nbsp;<span class="op" id="4496560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496563">case</span>&nbsp;<span class="ident" id="4496568"><a href="/text/template/parse/lex.go.html#4496526">i</a></span><span class="op" id="4496569">.</span><span class="ident" id="4496570">typ</span>&nbsp;<span class="op" id="4496574">==</span>&nbsp;<span class="ident" id="4496577"><a href="/text/template/parse/lex.go.html#4497327">itemEOF</a></span><span class="op" id="4496584">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496588">return</span>&nbsp;<span class="string" id="4496595">&#34;EOF&#34;</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496602">case</span>&nbsp;<span class="ident" id="4496607"><a href="/text/template/parse/lex.go.html#4496526">i</a></span><span class="op" id="4496608">.</span><span class="ident" id="4496609">typ</span>&nbsp;<span class="op" id="4496613">==</span>&nbsp;<span class="ident" id="4496616"><a href="/text/template/parse/lex.go.html#4496881">itemError</a></span><span class="op" id="4496625">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496629">return</span>&nbsp;<span class="ident" id="4496636"><a href="/text/template/parse/lex.go.html#4496526">i</a></span><span class="op" id="4496637">.</span><span class="ident" id="4496638">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496643">case</span>&nbsp;<span class="ident" id="4496648"><a href="/text/template/parse/lex.go.html#4496526">i</a></span><span class="op" id="4496649">.</span><span class="ident" id="4496650">typ</span>&nbsp;<span class="op" id="4496654">&gt;</span>&nbsp;<span class="ident" id="4496656"><a href="/text/template/parse/lex.go.html#4498014">itemKeyword</a></span><span class="op" id="4496667">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496671">return</span>&nbsp;<span class="ident" id="4496678"><a href="/text/template/parse/lex.go.html#4496217">fmt</a></span><span class="op" id="4496681">.</span><span class="ident" id="4496682">Sprintf</span><span class="op" id="4496689">(</span><span class="string" id="4496690">&#34;&lt;%s&gt;&#34;</span><span class="op" id="4496696">,</span>&nbsp;<span class="ident" id="4496698"><a href="/text/template/parse/lex.go.html#4496526">i</a></span><span class="op" id="4496699">.</span><span class="ident" id="4496700">val</span><span class="op" id="4496703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496706">case</span>&nbsp;<span class="builtinfunc" id="4496711">len</span><span class="op" id="4496714">(</span><span class="ident" id="4496715"><a href="/text/template/parse/lex.go.html#4496526">i</a></span><span class="op" id="4496716">.</span><span class="ident" id="4496717">val</span><span class="op" id="4496720">)</span>&nbsp;<span class="op" id="4496722">&gt;</span>&nbsp;<span class="num" id="4496724">10</span><span class="op" id="4496726">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496730">return</span>&nbsp;<span class="ident" id="4496737"><a href="/text/template/parse/lex.go.html#4496217">fmt</a></span><span class="op" id="4496740">.</span><span class="ident" id="4496741">Sprintf</span><span class="op" id="4496748">(</span><span class="string" id="4496749">&#34;%.10q...&#34;</span><span class="op" id="4496759">,</span>&nbsp;<span class="ident" id="4496761"><a href="/text/template/parse/lex.go.html#4496526">i</a></span><span class="op" id="4496762">.</span><span class="ident" id="4496763">val</span><span class="op" id="4496766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4496769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4496772">return</span>&nbsp;<span class="ident" id="4496779"><a href="/text/template/parse/lex.go.html#4496217">fmt</a></span><span class="op" id="4496782">.</span><span class="ident" id="4496783">Sprintf</span><span class="op" id="4496790">(</span><span class="string" id="4496791">&#34;%q&#34;</span><span class="op" id="4496795">,</span>&nbsp;<span class="ident" id="4496797"><a href="/text/template/parse/lex.go.html#4496526">i</a></span><span class="op" id="4496798">.</span><span class="ident" id="4496799">val</span><span class="op" id="4496802">)</span><br>
<span class="lineno"></span><span class="op" id="4496804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="4496807">//&nbsp;itemType&nbsp;identifies&nbsp;the&nbsp;type&nbsp;of&nbsp;lex&nbsp;items.</span><br>
<span class="lineno"></span><span class="keyword" id="4496853">type</span>&nbsp;<span class="ident" id="4496858">itemType</span>&nbsp;<span class="builtintype" id="4496867">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4496872">const</span>&nbsp;<span class="op" id="4496878">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4496881">itemError</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4496898"><a href="/text/template/parse/lex.go.html#4496858">itemType</a></span>&nbsp;<span class="op" id="4496907">=</span>&nbsp;<span class="ident" id="4496909">iota</span>&nbsp;<span class="comment" id="4496914">//&nbsp;error&nbsp;occurred;&nbsp;value&nbsp;is&nbsp;text&nbsp;of&nbsp;error</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4496957">itemBool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4496990">//&nbsp;boolean&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497011">itemChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497044">//&nbsp;printable&nbsp;ASCII&nbsp;character;&nbsp;grab&nbsp;bag&nbsp;for&nbsp;comma&nbsp;etc.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497099">itemCharConstant</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497132">//&nbsp;character&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497155">itemComplex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497188">//&nbsp;complex&nbsp;constant&nbsp;(1+2i);&nbsp;imaginary&nbsp;is&nbsp;just&nbsp;a&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497244">itemColonEquals</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497277">//&nbsp;colon-equals&nbsp;(&#39;:=&#39;)&nbsp;introducing&nbsp;a&nbsp;declaration</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497327">itemEOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497336">itemField</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497351">//&nbsp;alphanumeric&nbsp;identifier&nbsp;starting&nbsp;with&nbsp;&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497397">itemIdentifier</span>&nbsp;<span class="comment" id="4497412">//&nbsp;alphanumeric&nbsp;identifier&nbsp;not&nbsp;starting&nbsp;with&nbsp;&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497462">itemLeftDelim</span>&nbsp;&nbsp;<span class="comment" id="4497477">//&nbsp;left&nbsp;action&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497503">itemLeftParen</span>&nbsp;&nbsp;<span class="comment" id="4497518">//&nbsp;&#39;(&#39;&nbsp;inside&nbsp;action</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497540">itemNumber</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497555">//&nbsp;simple&nbsp;number,&nbsp;including&nbsp;imaginary</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497594">itemPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497609">//&nbsp;pipe&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497625">itemRawString</span>&nbsp;&nbsp;<span class="comment" id="4497640">//&nbsp;raw&nbsp;quoted&nbsp;string&nbsp;(includes&nbsp;quotes)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497680">itemRightDelim</span>&nbsp;<span class="comment" id="4497695">//&nbsp;right&nbsp;action&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497722">itemRightParen</span>&nbsp;<span class="comment" id="4497737">//&nbsp;&#39;)&#39;&nbsp;inside&nbsp;action</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497759">itemSpace</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497774">//&nbsp;run&nbsp;of&nbsp;spaces&nbsp;separating&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497813">itemString</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497828">//&nbsp;quoted&nbsp;string&nbsp;(includes&nbsp;quotes)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497864">itemText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4497879">//&nbsp;plain&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4497894">itemVariable</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4497909">//&nbsp;variable&nbsp;starting&nbsp;with&nbsp;&#39;$&#39;,&nbsp;such&nbsp;as&nbsp;&#39;$&#39;&nbsp;or&nbsp;&nbsp;&#39;$1&#39;&nbsp;or&nbsp;&#39;$hello&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4497974">//&nbsp;Keywords&nbsp;appear&nbsp;after&nbsp;all&nbsp;the&nbsp;rest.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498014">itemKeyword</span>&nbsp;&nbsp;<span class="comment" id="4498027">//&nbsp;used&nbsp;only&nbsp;to&nbsp;delimit&nbsp;the&nbsp;keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498065">itemDot</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498078">//&nbsp;the&nbsp;cursor,&nbsp;spelled&nbsp;&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498106">itemDefine</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4498119">//&nbsp;define&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498138">itemElse</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498151">//&nbsp;else&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498168">itemEnd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498181">//&nbsp;end&nbsp;keyword</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498197">itemIf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498210">//&nbsp;if&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498225">itemNil</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498238">//&nbsp;the&nbsp;untyped&nbsp;nil&nbsp;constant,&nbsp;easiest&nbsp;to&nbsp;treat&nbsp;as&nbsp;a&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498298">itemRange</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498311">//&nbsp;range&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498329">itemTemplate</span>&nbsp;<span class="comment" id="4498342">//&nbsp;template&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498363">itemWith</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498376">//&nbsp;with&nbsp;keyword</span><br>
<span class="lineno">70</span><span class="op" id="4498392">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4498395">var</span>&nbsp;<span class="ident" id="4498399">key</span>&nbsp;<span class="op" id="4498403">=</span>&nbsp;<span class="keyword" id="4498405">map</span><span class="op" id="4498408">[</span><span class="builtintype" id="4498409">string</span><span class="op" id="4498415">]</span><span class="ident" id="4498416"><a href="/text/template/parse/lex.go.html#4496858">itemType</a></span><span class="op" id="4498424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4498427">&#34;.&#34;</span><span class="op" id="4498430">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4498439"><a href="/text/template/parse/lex.go.html#4498065">itemDot</a></span><span class="op" id="4498446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4498449">&#34;define&#34;</span><span class="op" id="4498457">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4498461"><a href="/text/template/parse/lex.go.html#4498106">itemDefine</a></span><span class="op" id="4498471">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4498474">&#34;else&#34;</span><span class="op" id="4498480">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4498486"><a href="/text/template/parse/lex.go.html#4498138">itemElse</a></span><span class="op" id="4498494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4498497">&#34;end&#34;</span><span class="op" id="4498502">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4498509"><a href="/text/template/parse/lex.go.html#4498168">itemEnd</a></span><span class="op" id="4498516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4498519">&#34;if&#34;</span><span class="op" id="4498523">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4498531"><a href="/text/template/parse/lex.go.html#4498197">itemIf</a></span><span class="op" id="4498537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4498540">&#34;range&#34;</span><span class="op" id="4498547">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4498552"><a href="/text/template/parse/lex.go.html#4498298">itemRange</a></span><span class="op" id="4498561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4498564">&#34;nil&#34;</span><span class="op" id="4498569">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4498576"><a href="/text/template/parse/lex.go.html#4498225">itemNil</a></span><span class="op" id="4498583">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4498586">&#34;template&#34;</span><span class="op" id="4498596">:</span>&nbsp;<span class="ident" id="4498598"><a href="/text/template/parse/lex.go.html#4498329">itemTemplate</a></span><span class="op" id="4498610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4498613">&#34;with&#34;</span><span class="op" id="4498619">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4498625"><a href="/text/template/parse/lex.go.html#4498363">itemWith</a></span><span class="op" id="4498633">,</span><br>
<span class="lineno"></span><span class="op" id="4498635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4498638">const</span>&nbsp;<span class="ident" id="4498644">eof</span>&nbsp;<span class="op" id="4498648">=</span>&nbsp;<span class="op" id="4498650">-</span><span class="num" id="4498651">1</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="4498654">//&nbsp;stateFn&nbsp;represents&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;scanner&nbsp;as&nbsp;a&nbsp;function&nbsp;that&nbsp;returns&nbsp;the&nbsp;next&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="4498744">type</span>&nbsp;<span class="ident" id="4498749">stateFn</span>&nbsp;<span class="keyword" id="4498757">func</span><span class="op" id="4498761">(</span><span class="op" id="4498762">*</span><span class="ident" id="4498763"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4498768">)</span>&nbsp;<span class="ident" id="4498770"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4498779">//&nbsp;lexer&nbsp;holds&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;scanner.</span><br>
<span class="lineno">90</span><span class="keyword" id="4498820">type</span>&nbsp;<span class="ident" id="4498825">lexer</span>&nbsp;<span class="keyword" id="4498831">struct</span>&nbsp;<span class="op" id="4498838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498841">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4498852">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498862">//&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;input;&nbsp;used&nbsp;only&nbsp;for&nbsp;error&nbsp;reports</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498917">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4498928">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498938">//&nbsp;the&nbsp;string&nbsp;being&nbsp;scanned</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4498967">leftDelim</span>&nbsp;&nbsp;<span class="builtintype" id="4498978">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4498988">//&nbsp;start&nbsp;of&nbsp;action</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499008">rightDelim</span>&nbsp;<span class="builtintype" id="4499019">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4499029">//&nbsp;end&nbsp;of&nbsp;action</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499047">state</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4499058"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4499068">//&nbsp;the&nbsp;next&nbsp;lexing&nbsp;function&nbsp;to&nbsp;enter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499106">pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4499117"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4499127">//&nbsp;current&nbsp;position&nbsp;in&nbsp;the&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499161">start</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4499172"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4499182">//&nbsp;start&nbsp;position&nbsp;of&nbsp;this&nbsp;item</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499214">width</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4499225"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4499235">//&nbsp;width&nbsp;of&nbsp;last&nbsp;rune&nbsp;read&nbsp;from&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499274">lastPos</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4499285"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4499295">//&nbsp;position&nbsp;of&nbsp;most&nbsp;recent&nbsp;item&nbsp;returned&nbsp;by&nbsp;nextItem</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499349">items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4499360">chan</span>&nbsp;<span class="ident" id="4499365"><a href="/text/template/parse/lex.go.html#4496338">item</a></span>&nbsp;<span class="comment" id="4499370">//&nbsp;channel&nbsp;of&nbsp;scanned&nbsp;items</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499399">parenDepth</span>&nbsp;<span class="builtintype" id="4499410">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4499420">//&nbsp;nesting&nbsp;depth&nbsp;of&nbsp;(&nbsp;)&nbsp;exprs</span><br>
<span class="lineno"></span><span class="op" id="4499450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4499453">//&nbsp;next&nbsp;returns&nbsp;the&nbsp;next&nbsp;rune&nbsp;in&nbsp;the&nbsp;input.</span><br>
<span class="lineno">105</span><span class="keyword" id="4499497">func</span>&nbsp;<span class="op" id="4499502">(</span><span class="ident" id="4499503">l</span>&nbsp;<span class="op" id="4499505">*</span><span class="ident" id="4499506"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4499511">)</span>&nbsp;<span class="ident" id="4499513">next</span><span class="op" id="4499517">(</span><span class="op" id="4499518">)</span>&nbsp;<span class="builtintype" id="4499520">rune</span>&nbsp;<span class="op" id="4499525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4499528">if</span>&nbsp;<span class="builtintype" id="4499531">int</span><span class="op" id="4499534">(</span><span class="ident" id="4499535"><a href="/text/template/parse/lex.go.html#4499503">l</a></span><span class="op" id="4499536">.</span><span class="ident" id="4499537">pos</span><span class="op" id="4499540">)</span>&nbsp;<span class="op" id="4499542">&gt;=</span>&nbsp;<span class="builtinfunc" id="4499545">len</span><span class="op" id="4499548">(</span><span class="ident" id="4499549"><a href="/text/template/parse/lex.go.html#4499503">l</a></span><span class="op" id="4499550">.</span><span class="ident" id="4499551">input</span><span class="op" id="4499556">)</span>&nbsp;<span class="op" id="4499558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499562"><a href="/text/template/parse/lex.go.html#4499503">l</a></span><span class="op" id="4499563">.</span><span class="ident" id="4499564">width</span>&nbsp;<span class="op" id="4499570">=</span>&nbsp;<span class="num" id="4499572">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4499576">return</span>&nbsp;<span class="ident" id="4499583"><a href="/text/template/parse/lex.go.html#4498644">eof</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4499588">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499591">r</span><span class="op" id="4499592">,</span>&nbsp;<span class="ident" id="4499594">w</span>&nbsp;<span class="op" id="4499596">:=</span>&nbsp;<span class="ident" id="4499599"><a href="/text/template/parse/lex.go.html#4496246">utf8</a></span><span class="op" id="4499603">.</span><span class="ident" id="4499604">DecodeRuneInString</span><span class="op" id="4499622">(</span><span class="ident" id="4499623"><a href="/text/template/parse/lex.go.html#4499503">l</a></span><span class="op" id="4499624">.</span><span class="ident" id="4499625">input</span><span class="op" id="4499630">[</span><span class="ident" id="4499631"><a href="/text/template/parse/lex.go.html#4499503">l</a></span><span class="op" id="4499632">.</span><span class="ident" id="4499633">pos</span><span class="op" id="4499636">:</span><span class="op" id="4499637">]</span><span class="op" id="4499638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499641"><a href="/text/template/parse/lex.go.html#4499503">l</a></span><span class="op" id="4499642">.</span><span class="ident" id="4499643">width</span>&nbsp;<span class="op" id="4499649">=</span>&nbsp;<span class="ident" id="4499651"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span><span class="op" id="4499654">(</span><span class="ident" id="4499655"><a href="/text/template/parse/lex.go.html#4499594">w</a></span><span class="op" id="4499656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499659"><a href="/text/template/parse/lex.go.html#4499503">l</a></span><span class="op" id="4499660">.</span><span class="ident" id="4499661">pos</span>&nbsp;<span class="op" id="4499665">+=</span>&nbsp;<span class="ident" id="4499668"><a href="/text/template/parse/lex.go.html#4499503">l</a></span><span class="op" id="4499669">.</span><span class="ident" id="4499670">width</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4499677">return</span>&nbsp;<span class="ident" id="4499684"><a href="/text/template/parse/lex.go.html#4499591">r</a></span><br>
<span class="lineno"></span><span class="op" id="4499686">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="4499689">//&nbsp;peek&nbsp;returns&nbsp;but&nbsp;does&nbsp;not&nbsp;consume&nbsp;the&nbsp;next&nbsp;rune&nbsp;in&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span><span class="keyword" id="4499754">func</span>&nbsp;<span class="op" id="4499759">(</span><span class="ident" id="4499760">l</span>&nbsp;<span class="op" id="4499762">*</span><span class="ident" id="4499763"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4499768">)</span>&nbsp;<span class="ident" id="4499770">peek</span><span class="op" id="4499774">(</span><span class="op" id="4499775">)</span>&nbsp;<span class="builtintype" id="4499777">rune</span>&nbsp;<span class="op" id="4499782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499785">r</span>&nbsp;<span class="op" id="4499787">:=</span>&nbsp;<span class="ident" id="4499790"><a href="/text/template/parse/lex.go.html#4499760">l</a></span><span class="op" id="4499791">.</span><span class="ident" id="4499792">next</span><span class="op" id="4499796">(</span><span class="op" id="4499797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499800"><a href="/text/template/parse/lex.go.html#4499760">l</a></span><span class="op" id="4499801">.</span><span class="ident" id="4499802">backup</span><span class="op" id="4499808">(</span><span class="op" id="4499809">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4499812">return</span>&nbsp;<span class="ident" id="4499819"><a href="/text/template/parse/lex.go.html#4499785">r</a></span><br>
<span class="lineno"></span><span class="op" id="4499821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4499824">//&nbsp;backup&nbsp;steps&nbsp;back&nbsp;one&nbsp;rune.&nbsp;Can&nbsp;only&nbsp;be&nbsp;called&nbsp;once&nbsp;per&nbsp;call&nbsp;of&nbsp;next.</span><br>
<span class="lineno"></span><span class="keyword" id="4499897">func</span>&nbsp;<span class="op" id="4499902">(</span><span class="ident" id="4499903">l</span>&nbsp;<span class="op" id="4499905">*</span><span class="ident" id="4499906"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4499911">)</span>&nbsp;<span class="ident" id="4499913">backup</span><span class="op" id="4499919">(</span><span class="op" id="4499920">)</span>&nbsp;<span class="op" id="4499922">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4499925"><a href="/text/template/parse/lex.go.html#4499903">l</a></span><span class="op" id="4499926">.</span><span class="ident" id="4499927">pos</span>&nbsp;<span class="op" id="4499931">-=</span>&nbsp;<span class="ident" id="4499934"><a href="/text/template/parse/lex.go.html#4499903">l</a></span><span class="op" id="4499935">.</span><span class="ident" id="4499936">width</span><br>
<span class="lineno"></span><span class="op" id="4499942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4499945">//&nbsp;emit&nbsp;passes&nbsp;an&nbsp;item&nbsp;back&nbsp;to&nbsp;the&nbsp;client.</span><br>
<span class="lineno"></span><span class="keyword" id="4499988">func</span>&nbsp;<span class="op" id="4499993">(</span><span class="ident" id="4499994">l</span>&nbsp;<span class="op" id="4499996">*</span><span class="ident" id="4499997"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4500002">)</span>&nbsp;<span class="ident" id="4500004">emit</span><span class="op" id="4500008">(</span><span class="ident" id="4500009">t</span>&nbsp;<span class="ident" id="4500011"><a href="/text/template/parse/lex.go.html#4496858">itemType</a></span><span class="op" id="4500019">)</span>&nbsp;<span class="op" id="4500021">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4500024"><a href="/text/template/parse/lex.go.html#4499994">l</a></span><span class="op" id="4500025">.</span><span class="ident" id="4500026">items</span>&nbsp;<span class="op" id="4500032">&lt;-</span>&nbsp;<span class="ident" id="4500035"><a href="/text/template/parse/lex.go.html#4496338">item</a></span><span class="op" id="4500039">{</span><span class="ident" id="4500040"><a href="/text/template/parse/lex.go.html#4500009">t</a></span><span class="op" id="4500041">,</span>&nbsp;<span class="ident" id="4500043"><a href="/text/template/parse/lex.go.html#4499994">l</a></span><span class="op" id="4500044">.</span><span class="ident" id="4500045">start</span><span class="op" id="4500050">,</span>&nbsp;<span class="ident" id="4500052"><a href="/text/template/parse/lex.go.html#4499994">l</a></span><span class="op" id="4500053">.</span><span class="ident" id="4500054">input</span><span class="op" id="4500059">[</span><span class="ident" id="4500060"><a href="/text/template/parse/lex.go.html#4499994">l</a></span><span class="op" id="4500061">.</span><span class="ident" id="4500062">start</span><span class="op" id="4500067">:</span><span class="ident" id="4500068"><a href="/text/template/parse/lex.go.html#4499994">l</a></span><span class="op" id="4500069">.</span><span class="ident" id="4500070">pos</span><span class="op" id="4500073">]</span><span class="op" id="4500074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4500077"><a href="/text/template/parse/lex.go.html#4499994">l</a></span><span class="op" id="4500078">.</span><span class="ident" id="4500079">start</span>&nbsp;<span class="op" id="4500085">=</span>&nbsp;<span class="ident" id="4500087"><a href="/text/template/parse/lex.go.html#4499994">l</a></span><span class="op" id="4500088">.</span><span class="ident" id="4500089">pos</span><br>
<span class="lineno"></span><span class="op" id="4500093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4500096">//&nbsp;ignore&nbsp;skips&nbsp;over&nbsp;the&nbsp;pending&nbsp;input&nbsp;before&nbsp;this&nbsp;point.</span><br>
<span class="lineno">135</span><span class="keyword" id="4500154">func</span>&nbsp;<span class="op" id="4500159">(</span><span class="ident" id="4500160">l</span>&nbsp;<span class="op" id="4500162">*</span><span class="ident" id="4500163"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4500168">)</span>&nbsp;<span class="ident" id="4500170">ignore</span><span class="op" id="4500176">(</span><span class="op" id="4500177">)</span>&nbsp;<span class="op" id="4500179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4500182"><a href="/text/template/parse/lex.go.html#4500160">l</a></span><span class="op" id="4500183">.</span><span class="ident" id="4500184">start</span>&nbsp;<span class="op" id="4500190">=</span>&nbsp;<span class="ident" id="4500192"><a href="/text/template/parse/lex.go.html#4500160">l</a></span><span class="op" id="4500193">.</span><span class="ident" id="4500194">pos</span><br>
<span class="lineno"></span><span class="op" id="4500198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4500201">//&nbsp;accept&nbsp;consumes&nbsp;the&nbsp;next&nbsp;rune&nbsp;if&nbsp;it&#39;s&nbsp;from&nbsp;the&nbsp;valid&nbsp;set.</span><br>
<span class="lineno">140</span><span class="keyword" id="4500262">func</span>&nbsp;<span class="op" id="4500267">(</span><span class="ident" id="4500268">l</span>&nbsp;<span class="op" id="4500270">*</span><span class="ident" id="4500271"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4500276">)</span>&nbsp;<span class="ident" id="4500278">accept</span><span class="op" id="4500284">(</span><span class="ident" id="4500285">valid</span>&nbsp;<span class="builtintype" id="4500291">string</span><span class="op" id="4500297">)</span>&nbsp;<span class="builtintype" id="4500299">bool</span>&nbsp;<span class="op" id="4500304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4500307">if</span>&nbsp;<span class="ident" id="4500310"><a href="/text/template/parse/lex.go.html#4496224">strings</a></span><span class="op" id="4500317">.</span><span class="ident" id="4500318">IndexRune</span><span class="op" id="4500327">(</span><span class="ident" id="4500328"><a href="/text/template/parse/lex.go.html#4500285">valid</a></span><span class="op" id="4500333">,</span>&nbsp;<span class="ident" id="4500335"><a href="/text/template/parse/lex.go.html#4500268">l</a></span><span class="op" id="4500336">.</span><span class="ident" id="4500337">next</span><span class="op" id="4500341">(</span><span class="op" id="4500342">)</span><span class="op" id="4500343">)</span>&nbsp;<span class="op" id="4500345">&gt;=</span>&nbsp;<span class="num" id="4500348">0</span>&nbsp;<span class="op" id="4500350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4500354">return</span>&nbsp;<span class="builtintype" id="4500361">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4500367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4500370"><a href="/text/template/parse/lex.go.html#4500268">l</a></span><span class="op" id="4500371">.</span><span class="ident" id="4500372">backup</span><span class="op" id="4500378">(</span><span class="op" id="4500379">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4500382">return</span>&nbsp;<span class="builtintype" id="4500389">false</span><br>
<span class="lineno"></span><span class="op" id="4500395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4500398">//&nbsp;acceptRun&nbsp;consumes&nbsp;a&nbsp;run&nbsp;of&nbsp;runes&nbsp;from&nbsp;the&nbsp;valid&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="4500455">func</span>&nbsp;<span class="op" id="4500460">(</span><span class="ident" id="4500461">l</span>&nbsp;<span class="op" id="4500463">*</span><span class="ident" id="4500464"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4500469">)</span>&nbsp;<span class="ident" id="4500471">acceptRun</span><span class="op" id="4500480">(</span><span class="ident" id="4500481">valid</span>&nbsp;<span class="builtintype" id="4500487">string</span><span class="op" id="4500493">)</span>&nbsp;<span class="op" id="4500495">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4500498">for</span>&nbsp;<span class="ident" id="4500502"><a href="/text/template/parse/lex.go.html#4496224">strings</a></span><span class="op" id="4500509">.</span><span class="ident" id="4500510">IndexRune</span><span class="op" id="4500519">(</span><span class="ident" id="4500520"><a href="/text/template/parse/lex.go.html#4500481">valid</a></span><span class="op" id="4500525">,</span>&nbsp;<span class="ident" id="4500527"><a href="/text/template/parse/lex.go.html#4500461">l</a></span><span class="op" id="4500528">.</span><span class="ident" id="4500529">next</span><span class="op" id="4500533">(</span><span class="op" id="4500534">)</span><span class="op" id="4500535">)</span>&nbsp;<span class="op" id="4500537">&gt;=</span>&nbsp;<span class="num" id="4500540">0</span>&nbsp;<span class="op" id="4500542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4500545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4500548"><a href="/text/template/parse/lex.go.html#4500461">l</a></span><span class="op" id="4500549">.</span><span class="ident" id="4500550">backup</span><span class="op" id="4500556">(</span><span class="op" id="4500557">)</span><br>
<span class="lineno"></span><span class="op" id="4500559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="4500562">//&nbsp;lineNumber&nbsp;reports&nbsp;which&nbsp;line&nbsp;we&#39;re&nbsp;on,&nbsp;based&nbsp;on&nbsp;the&nbsp;position&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4500630">//&nbsp;the&nbsp;previous&nbsp;item&nbsp;returned&nbsp;by&nbsp;nextItem.&nbsp;Doing&nbsp;it&nbsp;this&nbsp;way</span><br>
<span class="lineno"></span><span class="comment" id="4500691">//&nbsp;means&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;to&nbsp;worry&nbsp;about&nbsp;peek&nbsp;double&nbsp;counting.</span><br>
<span class="lineno"></span><span class="keyword" id="4500751">func</span>&nbsp;<span class="op" id="4500756">(</span><span class="ident" id="4500757">l</span>&nbsp;<span class="op" id="4500759">*</span><span class="ident" id="4500760"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4500765">)</span>&nbsp;<span class="ident" id="4500767">lineNumber</span><span class="op" id="4500777">(</span><span class="op" id="4500778">)</span>&nbsp;<span class="builtintype" id="4500780">int</span>&nbsp;<span class="op" id="4500784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4500787">return</span>&nbsp;<span class="num" id="4500794">1</span>&nbsp;<span class="op" id="4500796">+</span>&nbsp;<span class="ident" id="4500798"><a href="/text/template/parse/lex.go.html#4496224">strings</a></span><span class="op" id="4500805">.</span><span class="ident" id="4500806">Count</span><span class="op" id="4500811">(</span><span class="ident" id="4500812"><a href="/text/template/parse/lex.go.html#4500757">l</a></span><span class="op" id="4500813">.</span><span class="ident" id="4500814">input</span><span class="op" id="4500819">[</span><span class="op" id="4500820">:</span><span class="ident" id="4500821"><a href="/text/template/parse/lex.go.html#4500757">l</a></span><span class="op" id="4500822">.</span><span class="ident" id="4500823">lastPos</span><span class="op" id="4500830">]</span><span class="op" id="4500831">,</span>&nbsp;<span class="string" id="4500833">&#34;\n&#34;</span><span class="op" id="4500837">)</span><br>
<span class="lineno">160</span><span class="op" id="4500839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4500842">//&nbsp;errorf&nbsp;returns&nbsp;an&nbsp;error&nbsp;token&nbsp;and&nbsp;terminates&nbsp;the&nbsp;scan&nbsp;by&nbsp;passing</span><br>
<span class="lineno"></span><span class="comment" id="4500910">//&nbsp;back&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;that&nbsp;will&nbsp;be&nbsp;the&nbsp;next&nbsp;state,&nbsp;terminating&nbsp;l.nextItem.</span><br>
<span class="lineno"></span><span class="keyword" id="4500985">func</span>&nbsp;<span class="op" id="4500990">(</span><span class="ident" id="4500991">l</span>&nbsp;<span class="op" id="4500993">*</span><span class="ident" id="4500994"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4500999">)</span>&nbsp;<span class="ident" id="4501001">errorf</span><span class="op" id="4501007">(</span><span class="ident" id="4501008">format</span>&nbsp;<span class="builtintype" id="4501015">string</span><span class="op" id="4501021">,</span>&nbsp;<span class="ident" id="4501023">args</span>&nbsp;<span class="op" id="4501028">...</span><span class="keyword" id="4501031">interface</span><span class="op" id="4501040">{</span><span class="op" id="4501041">}</span><span class="op" id="4501042">)</span>&nbsp;<span class="ident" id="4501044"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4501052">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501055"><a href="/text/template/parse/lex.go.html#4500991">l</a></span><span class="op" id="4501056">.</span><span class="ident" id="4501057">items</span>&nbsp;<span class="op" id="4501063">&lt;-</span>&nbsp;<span class="ident" id="4501066"><a href="/text/template/parse/lex.go.html#4496338">item</a></span><span class="op" id="4501070">{</span><span class="ident" id="4501071"><a href="/text/template/parse/lex.go.html#4496881">itemError</a></span><span class="op" id="4501080">,</span>&nbsp;<span class="ident" id="4501082"><a href="/text/template/parse/lex.go.html#4500991">l</a></span><span class="op" id="4501083">.</span><span class="ident" id="4501084">start</span><span class="op" id="4501089">,</span>&nbsp;<span class="ident" id="4501091"><a href="/text/template/parse/lex.go.html#4496217">fmt</a></span><span class="op" id="4501094">.</span><span class="ident" id="4501095">Sprintf</span><span class="op" id="4501102">(</span><span class="ident" id="4501103"><a href="/text/template/parse/lex.go.html#4501008">format</a></span><span class="op" id="4501109">,</span>&nbsp;<span class="ident" id="4501111"><a href="/text/template/parse/lex.go.html#4501023">args</a></span><span class="op" id="4501115">...</span><span class="op" id="4501118">)</span><span class="op" id="4501119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4501122">return</span>&nbsp;<span class="ident" id="4501129">nil</span><br>
<span class="lineno"></span><span class="op" id="4501133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4501136">//&nbsp;nextItem&nbsp;returns&nbsp;the&nbsp;next&nbsp;item&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno">170</span><span class="keyword" id="4501186">func</span>&nbsp;<span class="op" id="4501191">(</span><span class="ident" id="4501192">l</span>&nbsp;<span class="op" id="4501194">*</span><span class="ident" id="4501195"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4501200">)</span>&nbsp;<span class="ident" id="4501202">nextItem</span><span class="op" id="4501210">(</span><span class="op" id="4501211">)</span>&nbsp;<span class="ident" id="4501213"><a href="/text/template/parse/lex.go.html#4496338">item</a></span>&nbsp;<span class="op" id="4501218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501221">item</span>&nbsp;<span class="op" id="4501226">:=</span>&nbsp;<span class="op" id="4501229">&lt;-</span><span class="ident" id="4501231"><a href="/text/template/parse/lex.go.html#4501192">l</a></span><span class="op" id="4501232">.</span><span class="ident" id="4501233">items</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501240"><a href="/text/template/parse/lex.go.html#4501192">l</a></span><span class="op" id="4501241">.</span><span class="ident" id="4501242">lastPos</span>&nbsp;<span class="op" id="4501250">=</span>&nbsp;<span class="ident" id="4501252"><a href="/text/template/parse/lex.go.html#4501221">item</a></span><span class="op" id="4501256">.</span><span class="ident" id="4501257">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4501262">return</span>&nbsp;<span class="ident" id="4501269"><a href="/text/template/parse/lex.go.html#4501221">item</a></span><br>
<span class="lineno"></span><span class="op" id="4501274">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="4501277">//&nbsp;lex&nbsp;creates&nbsp;a&nbsp;new&nbsp;scanner&nbsp;for&nbsp;the&nbsp;input&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4501328">func</span>&nbsp;<span class="ident" id="4501333">lex</span><span class="op" id="4501336">(</span><span class="ident" id="4501337">name</span><span class="op" id="4501341">,</span>&nbsp;<span class="ident" id="4501343">input</span><span class="op" id="4501348">,</span>&nbsp;<span class="ident" id="4501350">left</span><span class="op" id="4501354">,</span>&nbsp;<span class="ident" id="4501356">right</span>&nbsp;<span class="builtintype" id="4501362">string</span><span class="op" id="4501368">)</span>&nbsp;<span class="op" id="4501370">*</span><span class="ident" id="4501371"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span>&nbsp;<span class="op" id="4501377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4501380">if</span>&nbsp;<span class="ident" id="4501383"><a href="/text/template/parse/lex.go.html#4501350">left</a></span>&nbsp;<span class="op" id="4501388">==</span>&nbsp;<span class="string" id="4501391">&#34;&#34;</span>&nbsp;<span class="op" id="4501394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501398"><a href="/text/template/parse/lex.go.html#4501350">left</a></span>&nbsp;<span class="op" id="4501403">=</span>&nbsp;<span class="ident" id="4501405"><a href="/text/template/parse/lex.go.html#4501784">leftDelim</a></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4501416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4501419">if</span>&nbsp;<span class="ident" id="4501422"><a href="/text/template/parse/lex.go.html#4501356">right</a></span>&nbsp;<span class="op" id="4501428">==</span>&nbsp;<span class="string" id="4501431">&#34;&#34;</span>&nbsp;<span class="op" id="4501434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501438"><a href="/text/template/parse/lex.go.html#4501356">right</a></span>&nbsp;<span class="op" id="4501444">=</span>&nbsp;<span class="ident" id="4501446"><a href="/text/template/parse/lex.go.html#4501805">rightDelim</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4501458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501461">l</span>&nbsp;<span class="op" id="4501463">:=</span>&nbsp;<span class="op" id="4501466">&amp;</span><span class="ident" id="4501467"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4501472">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501476">name</span><span class="op" id="4501480">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4501488"><a href="/text/template/parse/lex.go.html#4501337">name</a></span><span class="op" id="4501492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501496">input</span><span class="op" id="4501501">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4501508"><a href="/text/template/parse/lex.go.html#4501343">input</a></span><span class="op" id="4501513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501517">leftDelim</span><span class="op" id="4501526">:</span>&nbsp;&nbsp;<span class="ident" id="4501529"><a href="/text/template/parse/lex.go.html#4501350">left</a></span><span class="op" id="4501533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501537">rightDelim</span><span class="op" id="4501547">:</span>&nbsp;<span class="ident" id="4501549"><a href="/text/template/parse/lex.go.html#4501356">right</a></span><span class="op" id="4501554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501558">items</span><span class="op" id="4501563">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4501570">make</span><span class="op" id="4501574">(</span><span class="keyword" id="4501575">chan</span>&nbsp;<span class="ident" id="4501580"><a href="/text/template/parse/lex.go.html#4496338">item</a></span><span class="op" id="4501584">)</span><span class="op" id="4501585">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4501588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4501591">go</span>&nbsp;<span class="ident" id="4501594"><a href="/text/template/parse/lex.go.html#4501461">l</a></span><span class="op" id="4501595">.</span><span class="ident" id="4501596">run</span><span class="op" id="4501599">(</span><span class="op" id="4501600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4501603">return</span>&nbsp;<span class="ident" id="4501610"><a href="/text/template/parse/lex.go.html#4501461">l</a></span><br>
<span class="lineno"></span><span class="op" id="4501612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="4501615">//&nbsp;run&nbsp;runs&nbsp;the&nbsp;state&nbsp;machine&nbsp;for&nbsp;the&nbsp;lexer.</span><br>
<span class="lineno"></span><span class="keyword" id="4501660">func</span>&nbsp;<span class="op" id="4501665">(</span><span class="ident" id="4501666">l</span>&nbsp;<span class="op" id="4501668">*</span><span class="ident" id="4501669"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4501674">)</span>&nbsp;<span class="ident" id="4501676">run</span><span class="op" id="4501679">(</span><span class="op" id="4501680">)</span>&nbsp;<span class="op" id="4501682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4501685">for</span>&nbsp;<span class="ident" id="4501689"><a href="/text/template/parse/lex.go.html#4501666">l</a></span><span class="op" id="4501690">.</span><span class="ident" id="4501691">state</span>&nbsp;<span class="op" id="4501697">=</span>&nbsp;<span class="ident" id="4501699"><a href="/text/template/parse/lex.go.html#4501933">lexText</a></span><span class="op" id="4501706">;</span>&nbsp;<span class="ident" id="4501708"><a href="/text/template/parse/lex.go.html#4501666">l</a></span><span class="op" id="4501709">.</span><span class="ident" id="4501710">state</span>&nbsp;<span class="op" id="4501716">!=</span>&nbsp;<span class="ident" id="4501719">nil</span><span class="op" id="4501722">;</span>&nbsp;<span class="op" id="4501724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501728"><a href="/text/template/parse/lex.go.html#4501666">l</a></span><span class="op" id="4501729">.</span><span class="ident" id="4501730">state</span>&nbsp;<span class="op" id="4501736">=</span>&nbsp;<span class="ident" id="4501738"><a href="/text/template/parse/lex.go.html#4501666">l</a></span><span class="op" id="4501739">.</span><span class="ident" id="4501740">state</span><span class="op" id="4501745">(</span><span class="ident" id="4501746"><a href="/text/template/parse/lex.go.html#4501666">l</a></span><span class="op" id="4501747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4501750">}</span><br>
<span class="lineno">200</span><span class="op" id="4501752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4501755">//&nbsp;state&nbsp;functions</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4501775">const</span>&nbsp;<span class="op" id="4501781">(</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501784">leftDelim</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4501797">=</span>&nbsp;<span class="string" id="4501799">&#34;{{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501805">rightDelim</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4501818">=</span>&nbsp;<span class="string" id="4501820">&#34;}}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501826">leftComment</span>&nbsp;&nbsp;<span class="op" id="4501839">=</span>&nbsp;<span class="string" id="4501841">&#34;/*&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4501847">rightComment</span>&nbsp;<span class="op" id="4501860">=</span>&nbsp;<span class="string" id="4501862">&#34;*/&#34;</span><br>
<span class="lineno"></span><span class="op" id="4501867">)</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="4501870">//&nbsp;lexText&nbsp;scans&nbsp;until&nbsp;an&nbsp;opening&nbsp;action&nbsp;delimiter,&nbsp;&#34;{{&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="4501928">func</span>&nbsp;<span class="ident" id="4501933">lexText</span><span class="op" id="4501940">(</span><span class="ident" id="4501941">l</span>&nbsp;<span class="op" id="4501943">*</span><span class="ident" id="4501944"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4501949">)</span>&nbsp;<span class="ident" id="4501951"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4501959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4501962">for</span>&nbsp;<span class="op" id="4501966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4501970">if</span>&nbsp;<span class="ident" id="4501973"><a href="/text/template/parse/lex.go.html#4496224">strings</a></span><span class="op" id="4501980">.</span><span class="ident" id="4501981">HasPrefix</span><span class="op" id="4501990">(</span><span class="ident" id="4501991"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4501992">.</span><span class="ident" id="4501993">input</span><span class="op" id="4501998">[</span><span class="ident" id="4501999"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502000">.</span><span class="ident" id="4502001">pos</span><span class="op" id="4502004">:</span><span class="op" id="4502005">]</span><span class="op" id="4502006">,</span>&nbsp;<span class="ident" id="4502008"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502009">.</span><span class="ident" id="4502010">leftDelim</span><span class="op" id="4502019">)</span>&nbsp;<span class="op" id="4502021">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502026">if</span>&nbsp;<span class="ident" id="4502029"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502030">.</span><span class="ident" id="4502031">pos</span>&nbsp;<span class="op" id="4502035">&gt;</span>&nbsp;<span class="ident" id="4502037"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502038">.</span><span class="ident" id="4502039">start</span>&nbsp;<span class="op" id="4502045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502051"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502052">.</span><span class="ident" id="4502053">emit</span><span class="op" id="4502057">(</span><span class="ident" id="4502058"><a href="/text/template/parse/lex.go.html#4497864">itemText</a></span><span class="op" id="4502066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4502071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502076">return</span>&nbsp;<span class="ident" id="4502083"><a href="/text/template/parse/lex.go.html#4502319">lexLeftDelim</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4502098">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502102">if</span>&nbsp;<span class="ident" id="4502105"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502106">.</span><span class="ident" id="4502107">next</span><span class="op" id="4502111">(</span><span class="op" id="4502112">)</span>&nbsp;<span class="op" id="4502114">==</span>&nbsp;<span class="ident" id="4502117"><a href="/text/template/parse/lex.go.html#4498644">eof</a></span>&nbsp;<span class="op" id="4502121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502126">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4502134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4502137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4502140">//&nbsp;Correctly&nbsp;reached&nbsp;EOF.</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502167">if</span>&nbsp;<span class="ident" id="4502170"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502171">.</span><span class="ident" id="4502172">pos</span>&nbsp;<span class="op" id="4502176">&gt;</span>&nbsp;<span class="ident" id="4502178"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502179">.</span><span class="ident" id="4502180">start</span>&nbsp;<span class="op" id="4502186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502190"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502191">.</span><span class="ident" id="4502192">emit</span><span class="op" id="4502196">(</span><span class="ident" id="4502197"><a href="/text/template/parse/lex.go.html#4497864">itemText</a></span><span class="op" id="4502205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4502208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502211"><a href="/text/template/parse/lex.go.html#4501941">l</a></span><span class="op" id="4502212">.</span><span class="ident" id="4502213">emit</span><span class="op" id="4502217">(</span><span class="ident" id="4502218"><a href="/text/template/parse/lex.go.html#4497327">itemEOF</a></span><span class="op" id="4502225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502228">return</span>&nbsp;<span class="ident" id="4502235">nil</span><br>
<span class="lineno">230</span><span class="op" id="4502239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4502242">//&nbsp;lexLeftDelim&nbsp;scans&nbsp;the&nbsp;left&nbsp;delimiter,&nbsp;which&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="4502314">func</span>&nbsp;<span class="ident" id="4502319">lexLeftDelim</span><span class="op" id="4502331">(</span><span class="ident" id="4502332">l</span>&nbsp;<span class="op" id="4502334">*</span><span class="ident" id="4502335"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4502340">)</span>&nbsp;<span class="ident" id="4502342"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4502350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502353"><a href="/text/template/parse/lex.go.html#4502332">l</a></span><span class="op" id="4502354">.</span><span class="ident" id="4502355">pos</span>&nbsp;<span class="op" id="4502359">+=</span>&nbsp;<span class="ident" id="4502362"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span><span class="op" id="4502365">(</span><span class="builtinfunc" id="4502366">len</span><span class="op" id="4502369">(</span><span class="ident" id="4502370"><a href="/text/template/parse/lex.go.html#4502332">l</a></span><span class="op" id="4502371">.</span><span class="ident" id="4502372">leftDelim</span><span class="op" id="4502381">)</span><span class="op" id="4502382">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502385">if</span>&nbsp;<span class="ident" id="4502388"><a href="/text/template/parse/lex.go.html#4496224">strings</a></span><span class="op" id="4502395">.</span><span class="ident" id="4502396">HasPrefix</span><span class="op" id="4502405">(</span><span class="ident" id="4502406"><a href="/text/template/parse/lex.go.html#4502332">l</a></span><span class="op" id="4502407">.</span><span class="ident" id="4502408">input</span><span class="op" id="4502413">[</span><span class="ident" id="4502414"><a href="/text/template/parse/lex.go.html#4502332">l</a></span><span class="op" id="4502415">.</span><span class="ident" id="4502416">pos</span><span class="op" id="4502419">:</span><span class="op" id="4502420">]</span><span class="op" id="4502421">,</span>&nbsp;<span class="ident" id="4502423"><a href="/text/template/parse/lex.go.html#4501826">leftComment</a></span><span class="op" id="4502434">)</span>&nbsp;<span class="op" id="4502436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502440">return</span>&nbsp;<span class="ident" id="4502447"><a href="/text/template/parse/lex.go.html#4502613">lexComment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4502459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502462"><a href="/text/template/parse/lex.go.html#4502332">l</a></span><span class="op" id="4502463">.</span><span class="ident" id="4502464">emit</span><span class="op" id="4502468">(</span><span class="ident" id="4502469"><a href="/text/template/parse/lex.go.html#4497462">itemLeftDelim</a></span><span class="op" id="4502482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502485"><a href="/text/template/parse/lex.go.html#4502332">l</a></span><span class="op" id="4502486">.</span><span class="ident" id="4502487">parenDepth</span>&nbsp;<span class="op" id="4502498">=</span>&nbsp;<span class="num" id="4502500">0</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502503">return</span>&nbsp;<span class="ident" id="4502510"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="4502526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4502529">//&nbsp;lexComment&nbsp;scans&nbsp;a&nbsp;comment.&nbsp;The&nbsp;left&nbsp;comment&nbsp;marker&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="4502608">func</span>&nbsp;<span class="ident" id="4502613">lexComment</span><span class="op" id="4502623">(</span><span class="ident" id="4502624">l</span>&nbsp;<span class="op" id="4502626">*</span><span class="ident" id="4502627"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4502632">)</span>&nbsp;<span class="ident" id="4502634"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4502642">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502645"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502646">.</span><span class="ident" id="4502647">pos</span>&nbsp;<span class="op" id="4502651">+=</span>&nbsp;<span class="ident" id="4502654"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span><span class="op" id="4502657">(</span><span class="builtinfunc" id="4502658">len</span><span class="op" id="4502661">(</span><span class="ident" id="4502662"><a href="/text/template/parse/lex.go.html#4501826">leftComment</a></span><span class="op" id="4502673">)</span><span class="op" id="4502674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502677">i</span>&nbsp;<span class="op" id="4502679">:=</span>&nbsp;<span class="ident" id="4502682"><a href="/text/template/parse/lex.go.html#4496224">strings</a></span><span class="op" id="4502689">.</span><span class="ident" id="4502690">Index</span><span class="op" id="4502695">(</span><span class="ident" id="4502696"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502697">.</span><span class="ident" id="4502698">input</span><span class="op" id="4502703">[</span><span class="ident" id="4502704"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502705">.</span><span class="ident" id="4502706">pos</span><span class="op" id="4502709">:</span><span class="op" id="4502710">]</span><span class="op" id="4502711">,</span>&nbsp;<span class="ident" id="4502713"><a href="/text/template/parse/lex.go.html#4501847">rightComment</a></span><span class="op" id="4502725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502728">if</span>&nbsp;<span class="ident" id="4502731"><a href="/text/template/parse/lex.go.html#4502677">i</a></span>&nbsp;<span class="op" id="4502733">&lt;</span>&nbsp;<span class="num" id="4502735">0</span>&nbsp;<span class="op" id="4502737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502741">return</span>&nbsp;<span class="ident" id="4502748"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502749">.</span><span class="ident" id="4502750">errorf</span><span class="op" id="4502756">(</span><span class="string" id="4502757">&#34;unclosed&nbsp;comment&#34;</span><span class="op" id="4502775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4502778">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502781"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502782">.</span><span class="ident" id="4502783">pos</span>&nbsp;<span class="op" id="4502787">+=</span>&nbsp;<span class="ident" id="4502790"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span><span class="op" id="4502793">(</span><span class="ident" id="4502794"><a href="/text/template/parse/lex.go.html#4502677">i</a></span>&nbsp;<span class="op" id="4502796">+</span>&nbsp;<span class="builtinfunc" id="4502798">len</span><span class="op" id="4502801">(</span><span class="ident" id="4502802"><a href="/text/template/parse/lex.go.html#4501847">rightComment</a></span><span class="op" id="4502814">)</span><span class="op" id="4502815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502818">if</span>&nbsp;<span class="op" id="4502821">!</span><span class="ident" id="4502822"><a href="/text/template/parse/lex.go.html#4496224">strings</a></span><span class="op" id="4502829">.</span><span class="ident" id="4502830">HasPrefix</span><span class="op" id="4502839">(</span><span class="ident" id="4502840"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502841">.</span><span class="ident" id="4502842">input</span><span class="op" id="4502847">[</span><span class="ident" id="4502848"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502849">.</span><span class="ident" id="4502850">pos</span><span class="op" id="4502853">:</span><span class="op" id="4502854">]</span><span class="op" id="4502855">,</span>&nbsp;<span class="ident" id="4502857"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502858">.</span><span class="ident" id="4502859">rightDelim</span><span class="op" id="4502869">)</span>&nbsp;<span class="op" id="4502871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502875">return</span>&nbsp;<span class="ident" id="4502882"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502883">.</span><span class="ident" id="4502884">errorf</span><span class="op" id="4502890">(</span><span class="string" id="4502891">&#34;comment&nbsp;ends&nbsp;before&nbsp;closing&nbsp;delimiter&#34;</span><span class="op" id="4502930">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4502934">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502937"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502938">.</span><span class="ident" id="4502939">pos</span>&nbsp;<span class="op" id="4502943">+=</span>&nbsp;<span class="ident" id="4502946"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span><span class="op" id="4502949">(</span><span class="builtinfunc" id="4502950">len</span><span class="op" id="4502953">(</span><span class="ident" id="4502954"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502955">.</span><span class="ident" id="4502956">rightDelim</span><span class="op" id="4502966">)</span><span class="op" id="4502967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4502970"><a href="/text/template/parse/lex.go.html#4502624">l</a></span><span class="op" id="4502971">.</span><span class="ident" id="4502972">ignore</span><span class="op" id="4502978">(</span><span class="op" id="4502979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4502982">return</span>&nbsp;<span class="ident" id="4502989"><a href="/text/template/parse/lex.go.html#4501933">lexText</a></span><br>
<span class="lineno"></span><span class="op" id="4502997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="4503000">//&nbsp;lexRightDelim&nbsp;scans&nbsp;the&nbsp;right&nbsp;delimiter,&nbsp;which&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="4503074">func</span>&nbsp;<span class="ident" id="4503079">lexRightDelim</span><span class="op" id="4503092">(</span><span class="ident" id="4503093">l</span>&nbsp;<span class="op" id="4503095">*</span><span class="ident" id="4503096"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4503101">)</span>&nbsp;<span class="ident" id="4503103"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4503111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4503114"><a href="/text/template/parse/lex.go.html#4503093">l</a></span><span class="op" id="4503115">.</span><span class="ident" id="4503116">pos</span>&nbsp;<span class="op" id="4503120">+=</span>&nbsp;<span class="ident" id="4503123"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span><span class="op" id="4503126">(</span><span class="builtinfunc" id="4503127">len</span><span class="op" id="4503130">(</span><span class="ident" id="4503131"><a href="/text/template/parse/lex.go.html#4503093">l</a></span><span class="op" id="4503132">.</span><span class="ident" id="4503133">rightDelim</span><span class="op" id="4503143">)</span><span class="op" id="4503144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4503147"><a href="/text/template/parse/lex.go.html#4503093">l</a></span><span class="op" id="4503148">.</span><span class="ident" id="4503149">emit</span><span class="op" id="4503153">(</span><span class="ident" id="4503154"><a href="/text/template/parse/lex.go.html#4497680">itemRightDelim</a></span><span class="op" id="4503168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503171">return</span>&nbsp;<span class="ident" id="4503178"><a href="/text/template/parse/lex.go.html#4501933">lexText</a></span><br>
<span class="lineno">265</span><span class="op" id="4503186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4503189">//&nbsp;lexInsideAction&nbsp;scans&nbsp;the&nbsp;elements&nbsp;inside&nbsp;action&nbsp;delimiters.</span><br>
<span class="lineno"></span><span class="keyword" id="4503253">func</span>&nbsp;<span class="ident" id="4503258">lexInsideAction</span><span class="op" id="4503273">(</span><span class="ident" id="4503274">l</span>&nbsp;<span class="op" id="4503276">*</span><span class="ident" id="4503277"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4503282">)</span>&nbsp;<span class="ident" id="4503284"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4503292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4503295">//&nbsp;Either&nbsp;number,&nbsp;quoted&nbsp;string,&nbsp;or&nbsp;identifier.</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4503344">//&nbsp;Spaces&nbsp;separate&nbsp;arguments;&nbsp;runs&nbsp;of&nbsp;spaces&nbsp;turn&nbsp;into&nbsp;itemSpace.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4503411">//&nbsp;Pipe&nbsp;symbols&nbsp;separate&nbsp;and&nbsp;are&nbsp;emitted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503454">if</span>&nbsp;<span class="ident" id="4503457"><a href="/text/template/parse/lex.go.html#4496224">strings</a></span><span class="op" id="4503464">.</span><span class="ident" id="4503465">HasPrefix</span><span class="op" id="4503474">(</span><span class="ident" id="4503475"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503476">.</span><span class="ident" id="4503477">input</span><span class="op" id="4503482">[</span><span class="ident" id="4503483"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503484">.</span><span class="ident" id="4503485">pos</span><span class="op" id="4503488">:</span><span class="op" id="4503489">]</span><span class="op" id="4503490">,</span>&nbsp;<span class="ident" id="4503492"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503493">.</span><span class="ident" id="4503494">rightDelim</span><span class="op" id="4503504">)</span>&nbsp;<span class="op" id="4503506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503510">if</span>&nbsp;<span class="ident" id="4503513"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503514">.</span><span class="ident" id="4503515">parenDepth</span>&nbsp;<span class="op" id="4503526">==</span>&nbsp;<span class="num" id="4503529">0</span>&nbsp;<span class="op" id="4503531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503536">return</span>&nbsp;<span class="ident" id="4503543"><a href="/text/template/parse/lex.go.html#4503079">lexRightDelim</a></span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4503559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503563">return</span>&nbsp;<span class="ident" id="4503570"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503571">.</span><span class="ident" id="4503572">errorf</span><span class="op" id="4503578">(</span><span class="string" id="4503579">&#34;unclosed&nbsp;left&nbsp;paren&#34;</span><span class="op" id="4503600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4503603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503606">switch</span>&nbsp;<span class="ident" id="4503613">r</span>&nbsp;<span class="op" id="4503615">:=</span>&nbsp;<span class="ident" id="4503618"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503619">.</span><span class="ident" id="4503620">next</span><span class="op" id="4503624">(</span><span class="op" id="4503625">)</span><span class="op" id="4503626">;</span>&nbsp;<span class="op" id="4503628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503631">case</span>&nbsp;<span class="ident" id="4503636"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4503638">==</span>&nbsp;<span class="ident" id="4503641"><a href="/text/template/parse/lex.go.html#4498644">eof</a></span>&nbsp;<span class="op" id="4503645">||</span>&nbsp;<span class="ident" id="4503648"><a href="/text/template/parse/lex.go.html#4509661">isEndOfLine</a></span><span class="op" id="4503659">(</span><span class="ident" id="4503660"><a href="/text/template/parse/lex.go.html#4503613">r</a></span><span class="op" id="4503661">)</span><span class="op" id="4503662">:</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503666">return</span>&nbsp;<span class="ident" id="4503673"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503674">.</span><span class="ident" id="4503675">errorf</span><span class="op" id="4503681">(</span><span class="string" id="4503682">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="4503699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503702">case</span>&nbsp;<span class="ident" id="4503707"><a href="/text/template/parse/lex.go.html#4509538">isSpace</a></span><span class="op" id="4503714">(</span><span class="ident" id="4503715"><a href="/text/template/parse/lex.go.html#4503613">r</a></span><span class="op" id="4503716">)</span><span class="op" id="4503717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503721">return</span>&nbsp;<span class="ident" id="4503728"><a href="/text/template/parse/lex.go.html#4504928">lexSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503738">case</span>&nbsp;<span class="ident" id="4503743"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4503745">==</span>&nbsp;<span class="string" id="4503748">&#39;:&#39;</span><span class="op" id="4503751">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503755">if</span>&nbsp;<span class="ident" id="4503758"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503759">.</span><span class="ident" id="4503760">next</span><span class="op" id="4503764">(</span><span class="op" id="4503765">)</span>&nbsp;<span class="op" id="4503767">!=</span>&nbsp;<span class="string" id="4503770">&#39;=&#39;</span>&nbsp;<span class="op" id="4503774">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503779">return</span>&nbsp;<span class="ident" id="4503786"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503787">.</span><span class="ident" id="4503788">errorf</span><span class="op" id="4503794">(</span><span class="string" id="4503795">&#34;expected&nbsp;:=&#34;</span><span class="op" id="4503808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4503812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4503816"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503817">.</span><span class="ident" id="4503818">emit</span><span class="op" id="4503822">(</span><span class="ident" id="4503823"><a href="/text/template/parse/lex.go.html#4497244">itemColonEquals</a></span><span class="op" id="4503838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503841">case</span>&nbsp;<span class="ident" id="4503846"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4503848">==</span>&nbsp;<span class="string" id="4503851">&#39;|&#39;</span><span class="op" id="4503854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4503858"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4503859">.</span><span class="ident" id="4503860">emit</span><span class="op" id="4503864">(</span><span class="ident" id="4503865"><a href="/text/template/parse/lex.go.html#4497594">itemPipe</a></span><span class="op" id="4503873">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503876">case</span>&nbsp;<span class="ident" id="4503881"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4503883">==</span>&nbsp;<span class="string" id="4503886">&#39;&#34;&#39;</span><span class="op" id="4503889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503893">return</span>&nbsp;<span class="ident" id="4503900"><a href="/text/template/parse/lex.go.html#4508919">lexQuote</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503910">case</span>&nbsp;<span class="ident" id="4503915"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4503917">==</span>&nbsp;<span class="string" id="4503920">&#39;`&#39;</span><span class="op" id="4503923">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503927">return</span>&nbsp;<span class="ident" id="4503934"><a href="/text/template/parse/lex.go.html#4509263">lexRawQuote</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503947">case</span>&nbsp;<span class="ident" id="4503952"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4503954">==</span>&nbsp;<span class="string" id="4503957">&#39;$&#39;</span><span class="op" id="4503960">:</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503964">return</span>&nbsp;<span class="ident" id="4503971"><a href="/text/template/parse/lex.go.html#4505828">lexVariable</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4503984">case</span>&nbsp;<span class="ident" id="4503989"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4503991">==</span>&nbsp;<span class="string" id="4503994">&#39;\&#39;&#39;</span><span class="op" id="4503998">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504002">return</span>&nbsp;<span class="ident" id="4504009"><a href="/text/template/parse/lex.go.html#4507405">lexChar</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504018">case</span>&nbsp;<span class="ident" id="4504023"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4504025">==</span>&nbsp;<span class="string" id="4504028">&#39;.&#39;</span><span class="op" id="4504031">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4504035">//&nbsp;special&nbsp;look-ahead&nbsp;for&nbsp;&#34;.field&#34;&nbsp;so&nbsp;we&nbsp;don&#39;t&nbsp;break&nbsp;l.backup().</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504102">if</span>&nbsp;<span class="ident" id="4504105"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504106">.</span><span class="ident" id="4504107">pos</span>&nbsp;<span class="op" id="4504111">&lt;</span>&nbsp;<span class="ident" id="4504113"><a href="/text/template/parse/node.go.html#4511021">Pos</a></span><span class="op" id="4504116">(</span><span class="builtinfunc" id="4504117">len</span><span class="op" id="4504120">(</span><span class="ident" id="4504121"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504122">.</span><span class="ident" id="4504123">input</span><span class="op" id="4504128">)</span><span class="op" id="4504129">)</span>&nbsp;<span class="op" id="4504131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504136">r</span>&nbsp;<span class="op" id="4504138">:=</span>&nbsp;<span class="ident" id="4504141"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504142">.</span><span class="ident" id="4504143">input</span><span class="op" id="4504148">[</span><span class="ident" id="4504149"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504150">.</span><span class="ident" id="4504151">pos</span><span class="op" id="4504154">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504159">if</span>&nbsp;<span class="ident" id="4504162"><a href="/text/template/parse/lex.go.html#4504136">r</a></span>&nbsp;<span class="op" id="4504164">&lt;</span>&nbsp;<span class="string" id="4504166">&#39;0&#39;</span>&nbsp;<span class="op" id="4504170">||</span>&nbsp;<span class="string" id="4504173">&#39;9&#39;</span>&nbsp;<span class="op" id="4504177">&lt;</span>&nbsp;<span class="ident" id="4504179"><a href="/text/template/parse/lex.go.html#4504136">r</a></span>&nbsp;<span class="op" id="4504181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504187">return</span>&nbsp;<span class="ident" id="4504194"><a href="/text/template/parse/lex.go.html#4505675">lexField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4504206">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4504210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504214">fallthrough</span>&nbsp;<span class="comment" id="4504226">//&nbsp;&#39;.&#39;&nbsp;can&nbsp;start&nbsp;a&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504254">case</span>&nbsp;<span class="ident" id="4504259"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4504261">==</span>&nbsp;<span class="string" id="4504264">&#39;+&#39;</span>&nbsp;<span class="op" id="4504268">||</span>&nbsp;<span class="ident" id="4504271"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4504273">==</span>&nbsp;<span class="string" id="4504276">&#39;-&#39;</span>&nbsp;<span class="op" id="4504280">||</span>&nbsp;<span class="op" id="4504283">(</span><span class="string" id="4504284">&#39;0&#39;</span>&nbsp;<span class="op" id="4504288">&lt;=</span>&nbsp;<span class="ident" id="4504291"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4504293">&amp;&amp;</span>&nbsp;<span class="ident" id="4504296"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4504298">&lt;=</span>&nbsp;<span class="string" id="4504301">&#39;9&#39;</span><span class="op" id="4504304">)</span><span class="op" id="4504305">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504309"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504310">.</span><span class="ident" id="4504311">backup</span><span class="op" id="4504317">(</span><span class="op" id="4504318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504322">return</span>&nbsp;<span class="ident" id="4504329"><a href="/text/template/parse/lex.go.html#4507971">lexNumber</a></span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504340">case</span>&nbsp;<span class="ident" id="4504345"><a href="/text/template/parse/lex.go.html#4509803">isAlphaNumeric</a></span><span class="op" id="4504359">(</span><span class="ident" id="4504360"><a href="/text/template/parse/lex.go.html#4503613">r</a></span><span class="op" id="4504361">)</span><span class="op" id="4504362">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504366"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504367">.</span><span class="ident" id="4504368">backup</span><span class="op" id="4504374">(</span><span class="op" id="4504375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504379">return</span>&nbsp;<span class="ident" id="4504386"><a href="/text/template/parse/lex.go.html#4505087">lexIdentifier</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504401">case</span>&nbsp;<span class="ident" id="4504406"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4504408">==</span>&nbsp;<span class="string" id="4504411">&#39;(&#39;</span><span class="op" id="4504414">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504418"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504419">.</span><span class="ident" id="4504420">emit</span><span class="op" id="4504424">(</span><span class="ident" id="4504425"><a href="/text/template/parse/lex.go.html#4497503">itemLeftParen</a></span><span class="op" id="4504438">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504442"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504443">.</span><span class="ident" id="4504444">parenDepth</span><span class="op" id="4504454">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504459">return</span>&nbsp;<span class="ident" id="4504466"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504483">case</span>&nbsp;<span class="ident" id="4504488"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4504490">==</span>&nbsp;<span class="string" id="4504493">&#39;)&#39;</span><span class="op" id="4504496">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504500"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504501">.</span><span class="ident" id="4504502">emit</span><span class="op" id="4504506">(</span><span class="ident" id="4504507"><a href="/text/template/parse/lex.go.html#4497722">itemRightParen</a></span><span class="op" id="4504521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504525"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504526">.</span><span class="ident" id="4504527">parenDepth</span><span class="op" id="4504537">--</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504542">if</span>&nbsp;<span class="ident" id="4504545"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504546">.</span><span class="ident" id="4504547">parenDepth</span>&nbsp;<span class="op" id="4504558">&lt;</span>&nbsp;<span class="num" id="4504560">0</span>&nbsp;<span class="op" id="4504562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504567">return</span>&nbsp;<span class="ident" id="4504574"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504575">.</span><span class="ident" id="4504576">errorf</span><span class="op" id="4504582">(</span><span class="string" id="4504583">&#34;unexpected&nbsp;right&nbsp;paren&nbsp;%#U&#34;</span><span class="op" id="4504611">,</span>&nbsp;<span class="ident" id="4504613"><a href="/text/template/parse/lex.go.html#4503613">r</a></span><span class="op" id="4504614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4504618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504622">return</span>&nbsp;<span class="ident" id="4504629"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504646">case</span>&nbsp;<span class="ident" id="4504651"><a href="/text/template/parse/lex.go.html#4503613">r</a></span>&nbsp;<span class="op" id="4504653">&lt;=</span>&nbsp;<span class="ident" id="4504656"><a href="/text/template/parse/lex.go.html#4496235">unicode</a></span><span class="op" id="4504663">.</span><span class="ident" id="4504664">MaxASCII</span>&nbsp;<span class="op" id="4504673">&amp;&amp;</span>&nbsp;<span class="ident" id="4504676"><a href="/text/template/parse/lex.go.html#4496235">unicode</a></span><span class="op" id="4504683">.</span><span class="ident" id="4504684">IsPrint</span><span class="op" id="4504691">(</span><span class="ident" id="4504692"><a href="/text/template/parse/lex.go.html#4503613">r</a></span><span class="op" id="4504693">)</span><span class="op" id="4504694">:</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504698"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504699">.</span><span class="ident" id="4504700">emit</span><span class="op" id="4504704">(</span><span class="ident" id="4504705"><a href="/text/template/parse/lex.go.html#4497011">itemChar</a></span><span class="op" id="4504713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504717">return</span>&nbsp;<span class="ident" id="4504724"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504741">default</span><span class="op" id="4504748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504752">return</span>&nbsp;<span class="ident" id="4504759"><a href="/text/template/parse/lex.go.html#4503274">l</a></span><span class="op" id="4504760">.</span><span class="ident" id="4504761">errorf</span><span class="op" id="4504767">(</span><span class="string" id="4504768">&#34;unrecognized&nbsp;character&nbsp;in&nbsp;action:&nbsp;%#U&#34;</span><span class="op" id="4504807">,</span>&nbsp;<span class="ident" id="4504809"><a href="/text/template/parse/lex.go.html#4503613">r</a></span><span class="op" id="4504810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4504813">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504816">return</span>&nbsp;<span class="ident" id="4504823"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="4504839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4504842">//&nbsp;lexSpace&nbsp;scans&nbsp;a&nbsp;run&nbsp;of&nbsp;space&nbsp;characters.</span><br>
<span class="lineno"></span><span class="comment" id="4504887">//&nbsp;One&nbsp;space&nbsp;has&nbsp;already&nbsp;been&nbsp;seen.</span><br>
<span class="lineno">335</span><span class="keyword" id="4504923">func</span>&nbsp;<span class="ident" id="4504928">lexSpace</span><span class="op" id="4504936">(</span><span class="ident" id="4504937">l</span>&nbsp;<span class="op" id="4504939">*</span><span class="ident" id="4504940"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4504945">)</span>&nbsp;<span class="ident" id="4504947"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4504955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4504958">for</span>&nbsp;<span class="ident" id="4504962"><a href="/text/template/parse/lex.go.html#4509538">isSpace</a></span><span class="op" id="4504969">(</span><span class="ident" id="4504970"><a href="/text/template/parse/lex.go.html#4504937">l</a></span><span class="op" id="4504971">.</span><span class="ident" id="4504972">peek</span><span class="op" id="4504976">(</span><span class="op" id="4504977">)</span><span class="op" id="4504978">)</span>&nbsp;<span class="op" id="4504980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504984"><a href="/text/template/parse/lex.go.html#4504937">l</a></span><span class="op" id="4504985">.</span><span class="ident" id="4504986">next</span><span class="op" id="4504990">(</span><span class="op" id="4504991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4504994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4504997"><a href="/text/template/parse/lex.go.html#4504937">l</a></span><span class="op" id="4504998">.</span><span class="ident" id="4504999">emit</span><span class="op" id="4505003">(</span><span class="ident" id="4505004"><a href="/text/template/parse/lex.go.html#4497759">itemSpace</a></span><span class="op" id="4505013">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505016">return</span>&nbsp;<span class="ident" id="4505023"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="4505039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4505042">//&nbsp;lexIdentifier&nbsp;scans&nbsp;an&nbsp;alphanumeric.</span><br>
<span class="lineno"></span><span class="keyword" id="4505082">func</span>&nbsp;<span class="ident" id="4505087">lexIdentifier</span><span class="op" id="4505100">(</span><span class="ident" id="4505101">l</span>&nbsp;<span class="op" id="4505103">*</span><span class="ident" id="4505104"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4505109">)</span>&nbsp;<span class="ident" id="4505111"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4505119">{</span><br>
<span class="lineno">345</span><span class="ident" id="4505121">Loop</span><span class="op" id="4505125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505128">for</span>&nbsp;<span class="op" id="4505132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505136">switch</span>&nbsp;<span class="ident" id="4505143">r</span>&nbsp;<span class="op" id="4505145">:=</span>&nbsp;<span class="ident" id="4505148"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505149">.</span><span class="ident" id="4505150">next</span><span class="op" id="4505154">(</span><span class="op" id="4505155">)</span><span class="op" id="4505156">;</span>&nbsp;<span class="op" id="4505158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505162">case</span>&nbsp;<span class="ident" id="4505167"><a href="/text/template/parse/lex.go.html#4509803">isAlphaNumeric</a></span><span class="op" id="4505181">(</span><span class="ident" id="4505182"><a href="/text/template/parse/lex.go.html#4505143">r</a></span><span class="op" id="4505183">)</span><span class="op" id="4505184">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4505189">//&nbsp;absorb.</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505202">default</span><span class="op" id="4505209">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4505214"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505215">.</span><span class="ident" id="4505216">backup</span><span class="op" id="4505222">(</span><span class="op" id="4505223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4505228">word</span>&nbsp;<span class="op" id="4505233">:=</span>&nbsp;<span class="ident" id="4505236"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505237">.</span><span class="ident" id="4505238">input</span><span class="op" id="4505243">[</span><span class="ident" id="4505244"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505245">.</span><span class="ident" id="4505246">start</span><span class="op" id="4505251">:</span><span class="ident" id="4505252"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505253">.</span><span class="ident" id="4505254">pos</span><span class="op" id="4505257">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505262">if</span>&nbsp;<span class="op" id="4505265">!</span><span class="ident" id="4505266"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505267">.</span><span class="ident" id="4505268">atTerminator</span><span class="op" id="4505280">(</span><span class="op" id="4505281">)</span>&nbsp;<span class="op" id="4505283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505289">return</span>&nbsp;<span class="ident" id="4505296"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505297">.</span><span class="ident" id="4505298">errorf</span><span class="op" id="4505304">(</span><span class="string" id="4505305">&#34;bad&nbsp;character&nbsp;%#U&#34;</span><span class="op" id="4505324">,</span>&nbsp;<span class="ident" id="4505326"><a href="/text/template/parse/lex.go.html#4505143">r</a></span><span class="op" id="4505327">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4505332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505337">switch</span>&nbsp;<span class="op" id="4505344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505349">case</span>&nbsp;<span class="ident" id="4505354"><a href="/text/template/parse/lex.go.html#4498399">key</a></span><span class="op" id="4505357">[</span><span class="ident" id="4505358"><a href="/text/template/parse/lex.go.html#4505228">word</a></span><span class="op" id="4505362">]</span>&nbsp;<span class="op" id="4505364">&gt;</span>&nbsp;<span class="ident" id="4505366"><a href="/text/template/parse/lex.go.html#4498014">itemKeyword</a></span><span class="op" id="4505377">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4505383"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505384">.</span><span class="ident" id="4505385">emit</span><span class="op" id="4505389">(</span><span class="ident" id="4505390"><a href="/text/template/parse/lex.go.html#4498399">key</a></span><span class="op" id="4505393">[</span><span class="ident" id="4505394"><a href="/text/template/parse/lex.go.html#4505228">word</a></span><span class="op" id="4505398">]</span><span class="op" id="4505399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505404">case</span>&nbsp;<span class="ident" id="4505409"><a href="/text/template/parse/lex.go.html#4505228">word</a></span><span class="op" id="4505413">[</span><span class="num" id="4505414">0</span><span class="op" id="4505415">]</span>&nbsp;<span class="op" id="4505417">==</span>&nbsp;<span class="string" id="4505420">&#39;.&#39;</span><span class="op" id="4505423">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4505429"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505430">.</span><span class="ident" id="4505431">emit</span><span class="op" id="4505435">(</span><span class="ident" id="4505436"><a href="/text/template/parse/lex.go.html#4497336">itemField</a></span><span class="op" id="4505445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505450">case</span>&nbsp;<span class="ident" id="4505455"><a href="/text/template/parse/lex.go.html#4505228">word</a></span>&nbsp;<span class="op" id="4505460">==</span>&nbsp;<span class="string" id="4505463">&#34;true&#34;</span><span class="op" id="4505469">,</span>&nbsp;<span class="ident" id="4505471"><a href="/text/template/parse/lex.go.html#4505228">word</a></span>&nbsp;<span class="op" id="4505476">==</span>&nbsp;<span class="string" id="4505479">&#34;false&#34;</span><span class="op" id="4505486">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4505492"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505493">.</span><span class="ident" id="4505494">emit</span><span class="op" id="4505498">(</span><span class="ident" id="4505499"><a href="/text/template/parse/lex.go.html#4496957">itemBool</a></span><span class="op" id="4505507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505512">default</span><span class="op" id="4505519">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4505525"><a href="/text/template/parse/lex.go.html#4505101">l</a></span><span class="op" id="4505526">.</span><span class="ident" id="4505527">emit</span><span class="op" id="4505531">(</span><span class="ident" id="4505532"><a href="/text/template/parse/lex.go.html#4497397">itemIdentifier</a></span><span class="op" id="4505546">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4505551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505556">break</span>&nbsp;<span class="ident" id="4505562">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4505569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4505572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505575">return</span>&nbsp;<span class="ident" id="4505582"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno">370</span><span class="op" id="4505598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4505601">//&nbsp;lexField&nbsp;scans&nbsp;a&nbsp;field:&nbsp;.Alphanumeric.</span><br>
<span class="lineno"></span><span class="comment" id="4505643">//&nbsp;The&nbsp;.&nbsp;has&nbsp;been&nbsp;scanned.</span><br>
<span class="lineno"></span><span class="keyword" id="4505670">func</span>&nbsp;<span class="ident" id="4505675">lexField</span><span class="op" id="4505683">(</span><span class="ident" id="4505684">l</span>&nbsp;<span class="op" id="4505686">*</span><span class="ident" id="4505687"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4505692">)</span>&nbsp;<span class="ident" id="4505694"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4505702">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505705">return</span>&nbsp;<span class="ident" id="4505712"><a href="/text/template/parse/lex.go.html#4506117">lexFieldOrVariable</a></span><span class="op" id="4505730">(</span><span class="ident" id="4505731"><a href="/text/template/parse/lex.go.html#4505684">l</a></span><span class="op" id="4505732">,</span>&nbsp;<span class="ident" id="4505734"><a href="/text/template/parse/lex.go.html#4497336">itemField</a></span><span class="op" id="4505743">)</span><br>
<span class="lineno"></span><span class="op" id="4505745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4505748">//&nbsp;lexVariable&nbsp;scans&nbsp;a&nbsp;Variable:&nbsp;$Alphanumeric.</span><br>
<span class="lineno"></span><span class="comment" id="4505796">//&nbsp;The&nbsp;$&nbsp;has&nbsp;been&nbsp;scanned.</span><br>
<span class="lineno">380</span><span class="keyword" id="4505823">func</span>&nbsp;<span class="ident" id="4505828">lexVariable</span><span class="op" id="4505839">(</span><span class="ident" id="4505840">l</span>&nbsp;<span class="op" id="4505842">*</span><span class="ident" id="4505843"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4505848">)</span>&nbsp;<span class="ident" id="4505850"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4505858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505861">if</span>&nbsp;<span class="ident" id="4505864"><a href="/text/template/parse/lex.go.html#4505840">l</a></span><span class="op" id="4505865">.</span><span class="ident" id="4505866">atTerminator</span><span class="op" id="4505878">(</span><span class="op" id="4505879">)</span>&nbsp;<span class="op" id="4505881">{</span>&nbsp;<span class="comment" id="4505883">//&nbsp;Nothing&nbsp;interesting&nbsp;follows&nbsp;-&gt;&nbsp;&#34;$&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4505924"><a href="/text/template/parse/lex.go.html#4505840">l</a></span><span class="op" id="4505925">.</span><span class="ident" id="4505926">emit</span><span class="op" id="4505930">(</span><span class="ident" id="4505931"><a href="/text/template/parse/lex.go.html#4497894">itemVariable</a></span><span class="op" id="4505943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505947">return</span>&nbsp;<span class="ident" id="4505954"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4505971">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4505974">return</span>&nbsp;<span class="ident" id="4505981"><a href="/text/template/parse/lex.go.html#4506117">lexFieldOrVariable</a></span><span class="op" id="4505999">(</span><span class="ident" id="4506000"><a href="/text/template/parse/lex.go.html#4505840">l</a></span><span class="op" id="4506001">,</span>&nbsp;<span class="ident" id="4506003"><a href="/text/template/parse/lex.go.html#4497894">itemVariable</a></span><span class="op" id="4506015">)</span><br>
<span class="lineno"></span><span class="op" id="4506017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4506020">//&nbsp;lexVariable&nbsp;scans&nbsp;a&nbsp;field&nbsp;or&nbsp;variable:&nbsp;[.$]Alphanumeric.</span><br>
<span class="lineno"></span><span class="comment" id="4506080">//&nbsp;The&nbsp;.&nbsp;or&nbsp;$&nbsp;has&nbsp;been&nbsp;scanned.</span><br>
<span class="lineno">390</span><span class="keyword" id="4506112">func</span>&nbsp;<span class="ident" id="4506117">lexFieldOrVariable</span><span class="op" id="4506135">(</span><span class="ident" id="4506136">l</span>&nbsp;<span class="op" id="4506138">*</span><span class="ident" id="4506139"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4506144">,</span>&nbsp;<span class="ident" id="4506146">typ</span>&nbsp;<span class="ident" id="4506150"><a href="/text/template/parse/lex.go.html#4496858">itemType</a></span><span class="op" id="4506158">)</span>&nbsp;<span class="ident" id="4506160"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4506168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506171">if</span>&nbsp;<span class="ident" id="4506174"><a href="/text/template/parse/lex.go.html#4506136">l</a></span><span class="op" id="4506175">.</span><span class="ident" id="4506176">atTerminator</span><span class="op" id="4506188">(</span><span class="op" id="4506189">)</span>&nbsp;<span class="op" id="4506191">{</span>&nbsp;<span class="comment" id="4506193">//&nbsp;Nothing&nbsp;interesting&nbsp;follows&nbsp;-&gt;&nbsp;&#34;.&#34;&nbsp;or&nbsp;&#34;$&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506241">if</span>&nbsp;<span class="ident" id="4506244"><a href="/text/template/parse/lex.go.html#4506146">typ</a></span>&nbsp;<span class="op" id="4506248">==</span>&nbsp;<span class="ident" id="4506251"><a href="/text/template/parse/lex.go.html#4497894">itemVariable</a></span>&nbsp;<span class="op" id="4506264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4506269"><a href="/text/template/parse/lex.go.html#4506136">l</a></span><span class="op" id="4506270">.</span><span class="ident" id="4506271">emit</span><span class="op" id="4506275">(</span><span class="ident" id="4506276"><a href="/text/template/parse/lex.go.html#4497894">itemVariable</a></span><span class="op" id="4506288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4506292">}</span>&nbsp;<span class="keyword" id="4506294">else</span>&nbsp;<span class="op" id="4506299">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4506304"><a href="/text/template/parse/lex.go.html#4506136">l</a></span><span class="op" id="4506305">.</span><span class="ident" id="4506306">emit</span><span class="op" id="4506310">(</span><span class="ident" id="4506311"><a href="/text/template/parse/lex.go.html#4498065">itemDot</a></span><span class="op" id="4506318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4506322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506326">return</span>&nbsp;<span class="ident" id="4506333"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4506350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506353">var</span>&nbsp;<span class="ident" id="4506357">r</span>&nbsp;<span class="builtintype" id="4506359">rune</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506365">for</span>&nbsp;<span class="op" id="4506369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4506373"><a href="/text/template/parse/lex.go.html#4506357">r</a></span>&nbsp;<span class="op" id="4506375">=</span>&nbsp;<span class="ident" id="4506377"><a href="/text/template/parse/lex.go.html#4506136">l</a></span><span class="op" id="4506378">.</span><span class="ident" id="4506379">next</span><span class="op" id="4506383">(</span><span class="op" id="4506384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506388">if</span>&nbsp;<span class="op" id="4506391">!</span><span class="ident" id="4506392"><a href="/text/template/parse/lex.go.html#4509803">isAlphaNumeric</a></span><span class="op" id="4506406">(</span><span class="ident" id="4506407"><a href="/text/template/parse/lex.go.html#4506357">r</a></span><span class="op" id="4506408">)</span>&nbsp;<span class="op" id="4506410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4506415"><a href="/text/template/parse/lex.go.html#4506136">l</a></span><span class="op" id="4506416">.</span><span class="ident" id="4506417">backup</span><span class="op" id="4506423">(</span><span class="op" id="4506424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506429">break</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4506437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4506440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506443">if</span>&nbsp;<span class="op" id="4506446">!</span><span class="ident" id="4506447"><a href="/text/template/parse/lex.go.html#4506136">l</a></span><span class="op" id="4506448">.</span><span class="ident" id="4506449">atTerminator</span><span class="op" id="4506461">(</span><span class="op" id="4506462">)</span>&nbsp;<span class="op" id="4506464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506468">return</span>&nbsp;<span class="ident" id="4506475"><a href="/text/template/parse/lex.go.html#4506136">l</a></span><span class="op" id="4506476">.</span><span class="ident" id="4506477">errorf</span><span class="op" id="4506483">(</span><span class="string" id="4506484">&#34;bad&nbsp;character&nbsp;%#U&#34;</span><span class="op" id="4506503">,</span>&nbsp;<span class="ident" id="4506505"><a href="/text/template/parse/lex.go.html#4506357">r</a></span><span class="op" id="4506506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4506509">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4506512"><a href="/text/template/parse/lex.go.html#4506136">l</a></span><span class="op" id="4506513">.</span><span class="ident" id="4506514">emit</span><span class="op" id="4506518">(</span><span class="ident" id="4506519"><a href="/text/template/parse/lex.go.html#4506146">typ</a></span><span class="op" id="4506522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506525">return</span>&nbsp;<span class="ident" id="4506532"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="4506548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4506551">//&nbsp;atTerminator&nbsp;reports&nbsp;whether&nbsp;the&nbsp;input&nbsp;is&nbsp;at&nbsp;valid&nbsp;termination&nbsp;character&nbsp;to</span><br>
<span class="lineno">415</span><span class="comment" id="4506630">//&nbsp;appear&nbsp;after&nbsp;an&nbsp;identifier.&nbsp;Breaks&nbsp;.X.Y&nbsp;into&nbsp;two&nbsp;pieces.&nbsp;Also&nbsp;catches&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="4506709">//&nbsp;like&nbsp;&#34;$x+2&#34;&nbsp;not&nbsp;being&nbsp;acceptable&nbsp;without&nbsp;a&nbsp;space,&nbsp;in&nbsp;case&nbsp;we&nbsp;decide&nbsp;one</span><br>
<span class="lineno"></span><span class="comment" id="4506784">//&nbsp;day&nbsp;to&nbsp;implement&nbsp;arithmetic.</span><br>
<span class="lineno"></span><span class="keyword" id="4506816">func</span>&nbsp;<span class="op" id="4506821">(</span><span class="ident" id="4506822">l</span>&nbsp;<span class="op" id="4506824">*</span><span class="ident" id="4506825"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4506830">)</span>&nbsp;<span class="ident" id="4506832">atTerminator</span><span class="op" id="4506844">(</span><span class="op" id="4506845">)</span>&nbsp;<span class="builtintype" id="4506847">bool</span>&nbsp;<span class="op" id="4506852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4506855">r</span>&nbsp;<span class="op" id="4506857">:=</span>&nbsp;<span class="ident" id="4506860"><a href="/text/template/parse/lex.go.html#4506822">l</a></span><span class="op" id="4506861">.</span><span class="ident" id="4506862">peek</span><span class="op" id="4506866">(</span><span class="op" id="4506867">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506870">if</span>&nbsp;<span class="ident" id="4506873"><a href="/text/template/parse/lex.go.html#4509538">isSpace</a></span><span class="op" id="4506880">(</span><span class="ident" id="4506881"><a href="/text/template/parse/lex.go.html#4506855">r</a></span><span class="op" id="4506882">)</span>&nbsp;<span class="op" id="4506884">||</span>&nbsp;<span class="ident" id="4506887"><a href="/text/template/parse/lex.go.html#4509661">isEndOfLine</a></span><span class="op" id="4506898">(</span><span class="ident" id="4506899"><a href="/text/template/parse/lex.go.html#4506855">r</a></span><span class="op" id="4506900">)</span>&nbsp;<span class="op" id="4506902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506906">return</span>&nbsp;<span class="builtintype" id="4506913">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4506919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506922">switch</span>&nbsp;<span class="ident" id="4506929"><a href="/text/template/parse/lex.go.html#4506855">r</a></span>&nbsp;<span class="op" id="4506931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506934">case</span>&nbsp;<span class="ident" id="4506939"><a href="/text/template/parse/lex.go.html#4498644">eof</a></span><span class="op" id="4506942">,</span>&nbsp;<span class="string" id="4506944">&#39;.&#39;</span><span class="op" id="4506947">,</span>&nbsp;<span class="string" id="4506949">&#39;,&#39;</span><span class="op" id="4506952">,</span>&nbsp;<span class="string" id="4506954">&#39;|&#39;</span><span class="op" id="4506957">,</span>&nbsp;<span class="string" id="4506959">&#39;:&#39;</span><span class="op" id="4506962">,</span>&nbsp;<span class="string" id="4506964">&#39;)&#39;</span><span class="op" id="4506967">,</span>&nbsp;<span class="string" id="4506969">&#39;(&#39;</span><span class="op" id="4506972">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4506976">return</span>&nbsp;<span class="builtintype" id="4506983">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4506989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4506992">//&nbsp;Does&nbsp;r&nbsp;start&nbsp;the&nbsp;delimiter?&nbsp;This&nbsp;can&nbsp;be&nbsp;ambiguous&nbsp;(with&nbsp;delim==&#34;//&#34;,&nbsp;$x/2&nbsp;will</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4507075">//&nbsp;succeed&nbsp;but&nbsp;should&nbsp;fail)&nbsp;but&nbsp;only&nbsp;in&nbsp;extremely&nbsp;rare&nbsp;cases&nbsp;caused&nbsp;by&nbsp;willfully</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4507157">//&nbsp;bad&nbsp;choice&nbsp;of&nbsp;delimiter.</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507186">if</span>&nbsp;<span class="ident" id="4507189">rd</span><span class="op" id="4507191">,</span>&nbsp;<span class="ident" id="4507193">_</span>&nbsp;<span class="op" id="4507195">:=</span>&nbsp;<span class="ident" id="4507198"><a href="/text/template/parse/lex.go.html#4496246">utf8</a></span><span class="op" id="4507202">.</span><span class="ident" id="4507203">DecodeRuneInString</span><span class="op" id="4507221">(</span><span class="ident" id="4507222"><a href="/text/template/parse/lex.go.html#4506822">l</a></span><span class="op" id="4507223">.</span><span class="ident" id="4507224">rightDelim</span><span class="op" id="4507234">)</span><span class="op" id="4507235">;</span>&nbsp;<span class="ident" id="4507237"><a href="/text/template/parse/lex.go.html#4507189">rd</a></span>&nbsp;<span class="op" id="4507240">==</span>&nbsp;<span class="ident" id="4507243"><a href="/text/template/parse/lex.go.html#4506855">r</a></span>&nbsp;<span class="op" id="4507245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507249">return</span>&nbsp;<span class="builtintype" id="4507256">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4507262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507265">return</span>&nbsp;<span class="builtintype" id="4507272">false</span><br>
<span class="lineno"></span><span class="op" id="4507278">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="comment" id="4507281">//&nbsp;lexChar&nbsp;scans&nbsp;a&nbsp;character&nbsp;constant.&nbsp;The&nbsp;initial&nbsp;quote&nbsp;is&nbsp;already</span><br>
<span class="lineno"></span><span class="comment" id="4507349">//&nbsp;scanned.&nbsp;Syntax&nbsp;checking&nbsp;is&nbsp;done&nbsp;by&nbsp;the&nbsp;parser.</span><br>
<span class="lineno"></span><span class="keyword" id="4507400">func</span>&nbsp;<span class="ident" id="4507405">lexChar</span><span class="op" id="4507412">(</span><span class="ident" id="4507413">l</span>&nbsp;<span class="op" id="4507415">*</span><span class="ident" id="4507416"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4507421">)</span>&nbsp;<span class="ident" id="4507423"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4507431">{</span><br>
<span class="lineno"></span><span class="ident" id="4507433">Loop</span><span class="op" id="4507437">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507440">for</span>&nbsp;<span class="op" id="4507444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507448">switch</span>&nbsp;<span class="ident" id="4507455"><a href="/text/template/parse/lex.go.html#4507413">l</a></span><span class="op" id="4507456">.</span><span class="ident" id="4507457">next</span><span class="op" id="4507461">(</span><span class="op" id="4507462">)</span>&nbsp;<span class="op" id="4507464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507468">case</span>&nbsp;<span class="string" id="4507473">&#39;\\&#39;</span><span class="op" id="4507477">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507482">if</span>&nbsp;<span class="ident" id="4507485">r</span>&nbsp;<span class="op" id="4507487">:=</span>&nbsp;<span class="ident" id="4507490"><a href="/text/template/parse/lex.go.html#4507413">l</a></span><span class="op" id="4507491">.</span><span class="ident" id="4507492">next</span><span class="op" id="4507496">(</span><span class="op" id="4507497">)</span><span class="op" id="4507498">;</span>&nbsp;<span class="ident" id="4507500"><a href="/text/template/parse/lex.go.html#4507485">r</a></span>&nbsp;<span class="op" id="4507502">!=</span>&nbsp;<span class="ident" id="4507505"><a href="/text/template/parse/lex.go.html#4498644">eof</a></span>&nbsp;<span class="op" id="4507509">&amp;&amp;</span>&nbsp;<span class="ident" id="4507512"><a href="/text/template/parse/lex.go.html#4507485">r</a></span>&nbsp;<span class="op" id="4507514">!=</span>&nbsp;<span class="string" id="4507517">&#39;\n&#39;</span>&nbsp;<span class="op" id="4507522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507528">break</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4507537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507542">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507556">case</span>&nbsp;<span class="ident" id="4507561"><a href="/text/template/parse/lex.go.html#4498644">eof</a></span><span class="op" id="4507564">,</span>&nbsp;<span class="string" id="4507566">&#39;\n&#39;</span><span class="op" id="4507570">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507575">return</span>&nbsp;<span class="ident" id="4507582"><a href="/text/template/parse/lex.go.html#4507413">l</a></span><span class="op" id="4507583">.</span><span class="ident" id="4507584">errorf</span><span class="op" id="4507590">(</span><span class="string" id="4507591">&#34;unterminated&nbsp;character&nbsp;constant&#34;</span><span class="op" id="4507624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507628">case</span>&nbsp;<span class="string" id="4507633">&#39;\&#39;&#39;</span><span class="op" id="4507637">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507642">break</span>&nbsp;<span class="ident" id="4507648">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4507655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4507658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4507661"><a href="/text/template/parse/lex.go.html#4507413">l</a></span><span class="op" id="4507662">.</span><span class="ident" id="4507663">emit</span><span class="op" id="4507667">(</span><span class="ident" id="4507668"><a href="/text/template/parse/lex.go.html#4497099">itemCharConstant</a></span><span class="op" id="4507684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4507687">return</span>&nbsp;<span class="ident" id="4507694"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno">455</span><span class="op" id="4507710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4507713">//&nbsp;lexNumber&nbsp;scans&nbsp;a&nbsp;number:&nbsp;decimal,&nbsp;octal,&nbsp;hex,&nbsp;float,&nbsp;or&nbsp;imaginary.&nbsp;This</span><br>
<span class="lineno"></span><span class="comment" id="4507789">//&nbsp;isn&#39;t&nbsp;a&nbsp;perfect&nbsp;number&nbsp;scanner&nbsp;-&nbsp;for&nbsp;instance&nbsp;it&nbsp;accepts&nbsp;&#34;.&#34;&nbsp;and&nbsp;&#34;0x0.2&#34;</span><br>
<span class="lineno"></span><span class="comment" id="4507865">//&nbsp;and&nbsp;&#34;089&#34;&nbsp;-&nbsp;but&nbsp;when&nbsp;it&#39;s&nbsp;wrong&nbsp;the&nbsp;input&nbsp;is&nbsp;invalid&nbsp;and&nbsp;the&nbsp;parser&nbsp;(via</span><br>
<span class="lineno">460</span><span class="comment" id="4507941">//&nbsp;strconv)&nbsp;will&nbsp;notice.</span><br>
<span class="lineno"></span><span class="keyword" id="4507966">func</span>&nbsp;<span class="ident" id="4507971">lexNumber</span><span class="op" id="4507980">(</span><span class="ident" id="4507981">l</span>&nbsp;<span class="op" id="4507983">*</span><span class="ident" id="4507984"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4507989">)</span>&nbsp;<span class="ident" id="4507991"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4507999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508002">if</span>&nbsp;<span class="op" id="4508005">!</span><span class="ident" id="4508006"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508007">.</span><span class="ident" id="4508008">scanNumber</span><span class="op" id="4508018">(</span><span class="op" id="4508019">)</span>&nbsp;<span class="op" id="4508021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508025">return</span>&nbsp;<span class="ident" id="4508032"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508033">.</span><span class="ident" id="4508034">errorf</span><span class="op" id="4508040">(</span><span class="string" id="4508041">&#34;bad&nbsp;number&nbsp;syntax:&nbsp;%q&#34;</span><span class="op" id="4508064">,</span>&nbsp;<span class="ident" id="4508066"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508067">.</span><span class="ident" id="4508068">input</span><span class="op" id="4508073">[</span><span class="ident" id="4508074"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508075">.</span><span class="ident" id="4508076">start</span><span class="op" id="4508081">:</span><span class="ident" id="4508082"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508083">.</span><span class="ident" id="4508084">pos</span><span class="op" id="4508087">]</span><span class="op" id="4508088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4508091">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508094">if</span>&nbsp;<span class="ident" id="4508097">sign</span>&nbsp;<span class="op" id="4508102">:=</span>&nbsp;<span class="ident" id="4508105"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508106">.</span><span class="ident" id="4508107">peek</span><span class="op" id="4508111">(</span><span class="op" id="4508112">)</span><span class="op" id="4508113">;</span>&nbsp;<span class="ident" id="4508115"><a href="/text/template/parse/lex.go.html#4508097">sign</a></span>&nbsp;<span class="op" id="4508120">==</span>&nbsp;<span class="string" id="4508123">&#39;+&#39;</span>&nbsp;<span class="op" id="4508127">||</span>&nbsp;<span class="ident" id="4508130"><a href="/text/template/parse/lex.go.html#4508097">sign</a></span>&nbsp;<span class="op" id="4508135">==</span>&nbsp;<span class="string" id="4508138">&#39;-&#39;</span>&nbsp;<span class="op" id="4508142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4508146">//&nbsp;Complex:&nbsp;1+2i.&nbsp;No&nbsp;spaces,&nbsp;must&nbsp;end&nbsp;in&nbsp;&#39;i&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508194">if</span>&nbsp;<span class="op" id="4508197">!</span><span class="ident" id="4508198"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508199">.</span><span class="ident" id="4508200">scanNumber</span><span class="op" id="4508210">(</span><span class="op" id="4508211">)</span>&nbsp;<span class="op" id="4508213">||</span>&nbsp;<span class="ident" id="4508216"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508217">.</span><span class="ident" id="4508218">input</span><span class="op" id="4508223">[</span><span class="ident" id="4508224"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508225">.</span><span class="ident" id="4508226">pos</span><span class="op" id="4508229">-</span><span class="num" id="4508230">1</span><span class="op" id="4508231">]</span>&nbsp;<span class="op" id="4508233">!=</span>&nbsp;<span class="string" id="4508236">&#39;i&#39;</span>&nbsp;<span class="op" id="4508240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508245">return</span>&nbsp;<span class="ident" id="4508252"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508253">.</span><span class="ident" id="4508254">errorf</span><span class="op" id="4508260">(</span><span class="string" id="4508261">&#34;bad&nbsp;number&nbsp;syntax:&nbsp;%q&#34;</span><span class="op" id="4508284">,</span>&nbsp;<span class="ident" id="4508286"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508287">.</span><span class="ident" id="4508288">input</span><span class="op" id="4508293">[</span><span class="ident" id="4508294"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508295">.</span><span class="ident" id="4508296">start</span><span class="op" id="4508301">:</span><span class="ident" id="4508302"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508303">.</span><span class="ident" id="4508304">pos</span><span class="op" id="4508307">]</span><span class="op" id="4508308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4508312">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508316"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508317">.</span><span class="ident" id="4508318">emit</span><span class="op" id="4508322">(</span><span class="ident" id="4508323"><a href="/text/template/parse/lex.go.html#4497155">itemComplex</a></span><span class="op" id="4508334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4508337">}</span>&nbsp;<span class="keyword" id="4508339">else</span>&nbsp;<span class="op" id="4508344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508348"><a href="/text/template/parse/lex.go.html#4507981">l</a></span><span class="op" id="4508349">.</span><span class="ident" id="4508350">emit</span><span class="op" id="4508354">(</span><span class="ident" id="4508355"><a href="/text/template/parse/lex.go.html#4497540">itemNumber</a></span><span class="op" id="4508365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4508368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508371">return</span>&nbsp;<span class="ident" id="4508378"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno">475</span><span class="op" id="4508394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4508397">func</span>&nbsp;<span class="op" id="4508402">(</span><span class="ident" id="4508403">l</span>&nbsp;<span class="op" id="4508405">*</span><span class="ident" id="4508406"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4508411">)</span>&nbsp;<span class="ident" id="4508413">scanNumber</span><span class="op" id="4508423">(</span><span class="op" id="4508424">)</span>&nbsp;<span class="builtintype" id="4508426">bool</span>&nbsp;<span class="op" id="4508431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4508434">//&nbsp;Optional&nbsp;leading&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508461"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508462">.</span><span class="ident" id="4508463">accept</span><span class="op" id="4508469">(</span><span class="string" id="4508470">&#34;+-&#34;</span><span class="op" id="4508474">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4508477">//&nbsp;Is&nbsp;it&nbsp;hex?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508492">digits</span>&nbsp;<span class="op" id="4508499">:=</span>&nbsp;<span class="string" id="4508502">&#34;0123456789&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508516">if</span>&nbsp;<span class="ident" id="4508519"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508520">.</span><span class="ident" id="4508521">accept</span><span class="op" id="4508527">(</span><span class="string" id="4508528">&#34;0&#34;</span><span class="op" id="4508531">)</span>&nbsp;<span class="op" id="4508533">&amp;&amp;</span>&nbsp;<span class="ident" id="4508536"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508537">.</span><span class="ident" id="4508538">accept</span><span class="op" id="4508544">(</span><span class="string" id="4508545">&#34;xX&#34;</span><span class="op" id="4508549">)</span>&nbsp;<span class="op" id="4508551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508555"><a href="/text/template/parse/lex.go.html#4508492">digits</a></span>&nbsp;<span class="op" id="4508562">=</span>&nbsp;<span class="string" id="4508564">&#34;0123456789abcdefABCDEF&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4508590">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508593"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508594">.</span><span class="ident" id="4508595">acceptRun</span><span class="op" id="4508604">(</span><span class="ident" id="4508605"><a href="/text/template/parse/lex.go.html#4508492">digits</a></span><span class="op" id="4508611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508614">if</span>&nbsp;<span class="ident" id="4508617"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508618">.</span><span class="ident" id="4508619">accept</span><span class="op" id="4508625">(</span><span class="string" id="4508626">&#34;.&#34;</span><span class="op" id="4508629">)</span>&nbsp;<span class="op" id="4508631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508635"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508636">.</span><span class="ident" id="4508637">acceptRun</span><span class="op" id="4508646">(</span><span class="ident" id="4508647"><a href="/text/template/parse/lex.go.html#4508492">digits</a></span><span class="op" id="4508653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4508656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508659">if</span>&nbsp;<span class="ident" id="4508662"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508663">.</span><span class="ident" id="4508664">accept</span><span class="op" id="4508670">(</span><span class="string" id="4508671">&#34;eE&#34;</span><span class="op" id="4508675">)</span>&nbsp;<span class="op" id="4508677">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508681"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508682">.</span><span class="ident" id="4508683">accept</span><span class="op" id="4508689">(</span><span class="string" id="4508690">&#34;+-&#34;</span><span class="op" id="4508694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508698"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508699">.</span><span class="ident" id="4508700">acceptRun</span><span class="op" id="4508709">(</span><span class="string" id="4508710">&#34;0123456789&#34;</span><span class="op" id="4508722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4508725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4508728">//&nbsp;Is&nbsp;it&nbsp;imaginary?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508749"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508750">.</span><span class="ident" id="4508751">accept</span><span class="op" id="4508757">(</span><span class="string" id="4508758">&#34;i&#34;</span><span class="op" id="4508761">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4508764">//&nbsp;Next&nbsp;thing&nbsp;mustn&#39;t&nbsp;be&nbsp;alphanumeric.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508804">if</span>&nbsp;<span class="ident" id="4508807"><a href="/text/template/parse/lex.go.html#4509803">isAlphaNumeric</a></span><span class="op" id="4508821">(</span><span class="ident" id="4508822"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508823">.</span><span class="ident" id="4508824">peek</span><span class="op" id="4508828">(</span><span class="op" id="4508829">)</span><span class="op" id="4508830">)</span>&nbsp;<span class="op" id="4508832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4508836"><a href="/text/template/parse/lex.go.html#4508403">l</a></span><span class="op" id="4508837">.</span><span class="ident" id="4508838">next</span><span class="op" id="4508842">(</span><span class="op" id="4508843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508847">return</span>&nbsp;<span class="builtintype" id="4508854">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4508861">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508864">return</span>&nbsp;<span class="builtintype" id="4508871">true</span><br>
<span class="lineno"></span><span class="op" id="4508876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4508879">//&nbsp;lexQuote&nbsp;scans&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4508914">func</span>&nbsp;<span class="ident" id="4508919">lexQuote</span><span class="op" id="4508927">(</span><span class="ident" id="4508928">l</span>&nbsp;<span class="op" id="4508930">*</span><span class="ident" id="4508931"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4508936">)</span>&nbsp;<span class="ident" id="4508938"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4508946">{</span><br>
<span class="lineno">505</span><span class="ident" id="4508948">Loop</span><span class="op" id="4508952">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508955">for</span>&nbsp;<span class="op" id="4508959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508963">switch</span>&nbsp;<span class="ident" id="4508970"><a href="/text/template/parse/lex.go.html#4508928">l</a></span><span class="op" id="4508971">.</span><span class="ident" id="4508972">next</span><span class="op" id="4508976">(</span><span class="op" id="4508977">)</span>&nbsp;<span class="op" id="4508979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508983">case</span>&nbsp;<span class="string" id="4508988">&#39;\\&#39;</span><span class="op" id="4508992">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4508997">if</span>&nbsp;<span class="ident" id="4509000">r</span>&nbsp;<span class="op" id="4509002">:=</span>&nbsp;<span class="ident" id="4509005"><a href="/text/template/parse/lex.go.html#4508928">l</a></span><span class="op" id="4509006">.</span><span class="ident" id="4509007">next</span><span class="op" id="4509011">(</span><span class="op" id="4509012">)</span><span class="op" id="4509013">;</span>&nbsp;<span class="ident" id="4509015"><a href="/text/template/parse/lex.go.html#4509000">r</a></span>&nbsp;<span class="op" id="4509017">!=</span>&nbsp;<span class="ident" id="4509020"><a href="/text/template/parse/lex.go.html#4498644">eof</a></span>&nbsp;<span class="op" id="4509024">&amp;&amp;</span>&nbsp;<span class="ident" id="4509027"><a href="/text/template/parse/lex.go.html#4509000">r</a></span>&nbsp;<span class="op" id="4509029">!=</span>&nbsp;<span class="string" id="4509032">&#39;\n&#39;</span>&nbsp;<span class="op" id="4509037">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509043">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4509052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509057">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509071">case</span>&nbsp;<span class="ident" id="4509076"><a href="/text/template/parse/lex.go.html#4498644">eof</a></span><span class="op" id="4509079">,</span>&nbsp;<span class="string" id="4509081">&#39;\n&#39;</span><span class="op" id="4509085">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509090">return</span>&nbsp;<span class="ident" id="4509097"><a href="/text/template/parse/lex.go.html#4508928">l</a></span><span class="op" id="4509098">.</span><span class="ident" id="4509099">errorf</span><span class="op" id="4509105">(</span><span class="string" id="4509106">&#34;unterminated&nbsp;quoted&nbsp;string&#34;</span><span class="op" id="4509134">)</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509138">case</span>&nbsp;<span class="string" id="4509143">&#39;&#34;&#39;</span><span class="op" id="4509146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509151">break</span>&nbsp;<span class="ident" id="4509157">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4509164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4509167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4509170"><a href="/text/template/parse/lex.go.html#4508928">l</a></span><span class="op" id="4509171">.</span><span class="ident" id="4509172">emit</span><span class="op" id="4509176">(</span><span class="ident" id="4509177"><a href="/text/template/parse/lex.go.html#4497813">itemString</a></span><span class="op" id="4509187">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509190">return</span>&nbsp;<span class="ident" id="4509197"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="4509213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4509216">//&nbsp;lexRawQuote&nbsp;scans&nbsp;a&nbsp;raw&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4509258">func</span>&nbsp;<span class="ident" id="4509263">lexRawQuote</span><span class="op" id="4509274">(</span><span class="ident" id="4509275">l</span>&nbsp;<span class="op" id="4509277">*</span><span class="ident" id="4509278"><a href="/text/template/parse/lex.go.html#4498825">lexer</a></span><span class="op" id="4509283">)</span>&nbsp;<span class="ident" id="4509285"><a href="/text/template/parse/lex.go.html#4498749">stateFn</a></span>&nbsp;<span class="op" id="4509293">{</span><br>
<span class="lineno">525</span><span class="ident" id="4509295">Loop</span><span class="op" id="4509299">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509302">for</span>&nbsp;<span class="op" id="4509306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509310">switch</span>&nbsp;<span class="ident" id="4509317"><a href="/text/template/parse/lex.go.html#4509275">l</a></span><span class="op" id="4509318">.</span><span class="ident" id="4509319">next</span><span class="op" id="4509323">(</span><span class="op" id="4509324">)</span>&nbsp;<span class="op" id="4509326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509330">case</span>&nbsp;<span class="ident" id="4509335"><a href="/text/template/parse/lex.go.html#4498644">eof</a></span><span class="op" id="4509338">,</span>&nbsp;<span class="string" id="4509340">&#39;\n&#39;</span><span class="op" id="4509344">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509349">return</span>&nbsp;<span class="ident" id="4509356"><a href="/text/template/parse/lex.go.html#4509275">l</a></span><span class="op" id="4509357">.</span><span class="ident" id="4509358">errorf</span><span class="op" id="4509364">(</span><span class="string" id="4509365">&#34;unterminated&nbsp;raw&nbsp;quoted&nbsp;string&#34;</span><span class="op" id="4509397">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509401">case</span>&nbsp;<span class="string" id="4509406">&#39;`&#39;</span><span class="op" id="4509409">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509414">break</span>&nbsp;<span class="ident" id="4509420">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4509427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4509430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4509433"><a href="/text/template/parse/lex.go.html#4509275">l</a></span><span class="op" id="4509434">.</span><span class="ident" id="4509435">emit</span><span class="op" id="4509439">(</span><span class="ident" id="4509440"><a href="/text/template/parse/lex.go.html#4497625">itemRawString</a></span><span class="op" id="4509453">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509456">return</span>&nbsp;<span class="ident" id="4509463"><a href="/text/template/parse/lex.go.html#4503258">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="4509479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4509482">//&nbsp;isSpace&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;a&nbsp;space&nbsp;character.</span><br>
<span class="lineno"></span><span class="keyword" id="4509533">func</span>&nbsp;<span class="ident" id="4509538">isSpace</span><span class="op" id="4509545">(</span><span class="ident" id="4509546">r</span>&nbsp;<span class="builtintype" id="4509548">rune</span><span class="op" id="4509552">)</span>&nbsp;<span class="builtintype" id="4509554">bool</span>&nbsp;<span class="op" id="4509559">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509562">return</span>&nbsp;<span class="ident" id="4509569"><a href="/text/template/parse/lex.go.html#4509546">r</a></span>&nbsp;<span class="op" id="4509571">==</span>&nbsp;<span class="string" id="4509574">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4509578">||</span>&nbsp;<span class="ident" id="4509581"><a href="/text/template/parse/lex.go.html#4509546">r</a></span>&nbsp;<span class="op" id="4509583">==</span>&nbsp;<span class="string" id="4509586">&#39;\t&#39;</span><br>
<span class="lineno"></span><span class="op" id="4509591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4509594">//&nbsp;isEndOfLine&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;an&nbsp;end-of-line&nbsp;character.</span><br>
<span class="lineno"></span><span class="keyword" id="4509656">func</span>&nbsp;<span class="ident" id="4509661">isEndOfLine</span><span class="op" id="4509672">(</span><span class="ident" id="4509673">r</span>&nbsp;<span class="builtintype" id="4509675">rune</span><span class="op" id="4509679">)</span>&nbsp;<span class="builtintype" id="4509681">bool</span>&nbsp;<span class="op" id="4509686">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509689">return</span>&nbsp;<span class="ident" id="4509696"><a href="/text/template/parse/lex.go.html#4509673">r</a></span>&nbsp;<span class="op" id="4509698">==</span>&nbsp;<span class="string" id="4509701">&#39;\r&#39;</span>&nbsp;<span class="op" id="4509706">||</span>&nbsp;<span class="ident" id="4509709"><a href="/text/template/parse/lex.go.html#4509673">r</a></span>&nbsp;<span class="op" id="4509711">==</span>&nbsp;<span class="string" id="4509714">&#39;\n&#39;</span><br>
<span class="lineno"></span><span class="op" id="4509719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4509722">//&nbsp;isAlphaNumeric&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;an&nbsp;alphabetic,&nbsp;digit,&nbsp;or&nbsp;underscore.</span><br>
<span class="lineno"></span><span class="keyword" id="4509798">func</span>&nbsp;<span class="ident" id="4509803">isAlphaNumeric</span><span class="op" id="4509817">(</span><span class="ident" id="4509818">r</span>&nbsp;<span class="builtintype" id="4509820">rune</span><span class="op" id="4509824">)</span>&nbsp;<span class="builtintype" id="4509826">bool</span>&nbsp;<span class="op" id="4509831">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4509834">return</span>&nbsp;<span class="ident" id="4509841"><a href="/text/template/parse/lex.go.html#4509818">r</a></span>&nbsp;<span class="op" id="4509843">==</span>&nbsp;<span class="string" id="4509846">&#39;_&#39;</span>&nbsp;<span class="op" id="4509850">||</span>&nbsp;<span class="ident" id="4509853"><a href="/text/template/parse/lex.go.html#4496235">unicode</a></span><span class="op" id="4509860">.</span><span class="ident" id="4509861">IsLetter</span><span class="op" id="4509869">(</span><span class="ident" id="4509870"><a href="/text/template/parse/lex.go.html#4509818">r</a></span><span class="op" id="4509871">)</span>&nbsp;<span class="op" id="4509873">||</span>&nbsp;<span class="ident" id="4509876"><a href="/text/template/parse/lex.go.html#4496235">unicode</a></span><span class="op" id="4509883">.</span><span class="ident" id="4509884">IsDigit</span><span class="op" id="4509891">(</span><span class="ident" id="4509892"><a href="/text/template/parse/lex.go.html#4509818">r</a></span><span class="op" id="4509893">)</span><br>
<span class="lineno"></span><span class="op" id="4509895">}</span>
</div>
</body>
</html>
