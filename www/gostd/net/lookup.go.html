<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html" class="current">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3323140">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3323196">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3323250">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3323301">package</span>&nbsp;<span class="ident" id="3323309">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3323314">import</span>&nbsp;<span class="string" id="3323321">&#34;time&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3323329">//&nbsp;protocols&nbsp;contains&nbsp;minimal&nbsp;mappings&nbsp;between&nbsp;internet&nbsp;protocol</span><br>
<span class="lineno">10</span><span class="comment" id="3323394">//&nbsp;names&nbsp;and&nbsp;numbers&nbsp;for&nbsp;platforms&nbsp;that&nbsp;don&#39;t&nbsp;have&nbsp;a&nbsp;complete&nbsp;list&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3323464">//&nbsp;protocol&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="comment" id="3323485">//</span><br>
<span class="lineno"></span><span class="comment" id="3323488">//&nbsp;See&nbsp;http://www.iana.org/assignments/protocol-numbers</span><br>
<span class="lineno"></span><span class="keyword" id="3323544">var</span>&nbsp;<span class="ident" id="3323548">protocols</span>&nbsp;<span class="op" id="3323558">=</span>&nbsp;<span class="keyword" id="3323560">map</span><span class="op" id="3323563">[</span><span class="builtintype" id="3323564">string</span><span class="op" id="3323570">]</span><span class="builtintype" id="3323571">int</span><span class="op" id="3323574">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3323577">&#34;icmp&#34;</span><span class="op" id="3323583">:</span>&nbsp;<span class="num" id="3323585">1</span><span class="op" id="3323586">,</span>&nbsp;<span class="string" id="3323588">&#34;ICMP&#34;</span><span class="op" id="3323594">:</span>&nbsp;<span class="num" id="3323596">1</span><span class="op" id="3323597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3323600">&#34;igmp&#34;</span><span class="op" id="3323606">:</span>&nbsp;<span class="num" id="3323608">2</span><span class="op" id="3323609">,</span>&nbsp;<span class="string" id="3323611">&#34;IGMP&#34;</span><span class="op" id="3323617">:</span>&nbsp;<span class="num" id="3323619">2</span><span class="op" id="3323620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3323623">&#34;tcp&#34;</span><span class="op" id="3323628">:</span>&nbsp;<span class="num" id="3323630">6</span><span class="op" id="3323631">,</span>&nbsp;<span class="string" id="3323633">&#34;TCP&#34;</span><span class="op" id="3323638">:</span>&nbsp;<span class="num" id="3323640">6</span><span class="op" id="3323641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3323644">&#34;udp&#34;</span><span class="op" id="3323649">:</span>&nbsp;<span class="num" id="3323651">17</span><span class="op" id="3323653">,</span>&nbsp;<span class="string" id="3323655">&#34;UDP&#34;</span><span class="op" id="3323660">:</span>&nbsp;<span class="num" id="3323662">17</span><span class="op" id="3323664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3323667">&#34;ipv6-icmp&#34;</span><span class="op" id="3323678">:</span>&nbsp;<span class="num" id="3323680">58</span><span class="op" id="3323682">,</span>&nbsp;<span class="string" id="3323684">&#34;IPV6-ICMP&#34;</span><span class="op" id="3323695">:</span>&nbsp;<span class="num" id="3323697">58</span><span class="op" id="3323699">,</span>&nbsp;<span class="string" id="3323701">&#34;IPv6-ICMP&#34;</span><span class="op" id="3323712">:</span>&nbsp;<span class="num" id="3323714">58</span><span class="op" id="3323716">,</span><br>
<span class="lineno">20</span><span class="op" id="3323718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3323721">//&nbsp;LookupHost&nbsp;looks&nbsp;up&nbsp;the&nbsp;given&nbsp;host&nbsp;using&nbsp;the&nbsp;local&nbsp;resolver.</span><br>
<span class="lineno"></span><span class="comment" id="3323785">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;that&nbsp;host&#39;s&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="3323834">func</span>&nbsp;<span class="ident" id="3323839">LookupHost</span><span class="op" id="3323849">(</span><span class="ident" id="3323850">host</span>&nbsp;<span class="builtintype" id="3323855">string</span><span class="op" id="3323861">)</span>&nbsp;<span class="op" id="3323863">(</span><span class="ident" id="3323864">addrs</span>&nbsp;<span class="op" id="3323870">[</span><span class="op" id="3323871">]</span><span class="builtintype" id="3323872">string</span><span class="op" id="3323878">,</span>&nbsp;<span class="ident" id="3323880">err</span>&nbsp;<span class="builtintype" id="3323884">error</span><span class="op" id="3323889">)</span>&nbsp;<span class="op" id="3323891">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3323894">return</span>&nbsp;<span class="ident" id="3323901"><a href="/gostd/net/lookup_unix.go.html#3328904">lookupHost</a></span><span class="op" id="3323911">(</span><span class="ident" id="3323912"><a href="/gostd/net/lookup.go.html#3323850">host</a></span><span class="op" id="3323916">)</span><br>
<span class="lineno"></span><span class="op" id="3323918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3323921">//&nbsp;LookupIP&nbsp;looks&nbsp;up&nbsp;host&nbsp;using&nbsp;the&nbsp;local&nbsp;resolver.</span><br>
<span class="lineno"></span><span class="comment" id="3323973">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;that&nbsp;host&#39;s&nbsp;IPv4&nbsp;and&nbsp;IPv6&nbsp;addresses.</span><br>
<span class="lineno">30</span><span class="keyword" id="3324036">func</span>&nbsp;<span class="ident" id="3324041">LookupIP</span><span class="op" id="3324049">(</span><span class="ident" id="3324050">host</span>&nbsp;<span class="builtintype" id="3324055">string</span><span class="op" id="3324061">)</span>&nbsp;<span class="op" id="3324063">(</span><span class="ident" id="3324064">addrs</span>&nbsp;<span class="op" id="3324070">[</span><span class="op" id="3324071">]</span><span class="ident" id="3324072"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3324074">,</span>&nbsp;<span class="ident" id="3324076">err</span>&nbsp;<span class="builtintype" id="3324080">error</span><span class="op" id="3324085">)</span>&nbsp;<span class="op" id="3324087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3324090">return</span>&nbsp;<span class="ident" id="3324097"><a href="/gostd/net/lookup.go.html#3324325">lookupIPMerge</a></span><span class="op" id="3324110">(</span><span class="ident" id="3324111"><a href="/gostd/net/lookup.go.html#3324050">host</a></span><span class="op" id="3324115">)</span><br>
<span class="lineno"></span><span class="op" id="3324117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3324120">var</span>&nbsp;<span class="ident" id="3324124">lookupGroup</span>&nbsp;<span class="ident" id="3324136"><a href="/gostd/net/singleflight.go.html#3355377">singleflight</a></span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3324150">//&nbsp;lookupIPMerge&nbsp;wraps&nbsp;lookupIP,&nbsp;but&nbsp;makes&nbsp;sure&nbsp;that&nbsp;for&nbsp;any&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="3324217">//&nbsp;host,&nbsp;only&nbsp;one&nbsp;lookup&nbsp;is&nbsp;in-flight&nbsp;at&nbsp;a&nbsp;time.&nbsp;The&nbsp;returned&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="3324286">//&nbsp;is&nbsp;always&nbsp;owned&nbsp;by&nbsp;the&nbsp;caller.</span><br>
<span class="lineno"></span><span class="keyword" id="3324320">func</span>&nbsp;<span class="ident" id="3324325">lookupIPMerge</span><span class="op" id="3324338">(</span><span class="ident" id="3324339">host</span>&nbsp;<span class="builtintype" id="3324344">string</span><span class="op" id="3324350">)</span>&nbsp;<span class="op" id="3324352">(</span><span class="ident" id="3324353">addrs</span>&nbsp;<span class="op" id="3324359">[</span><span class="op" id="3324360">]</span><span class="ident" id="3324361"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3324363">,</span>&nbsp;<span class="ident" id="3324365">err</span>&nbsp;<span class="builtintype" id="3324369">error</span><span class="op" id="3324374">)</span>&nbsp;<span class="op" id="3324376">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3324379">addrsi</span><span class="op" id="3324385">,</span>&nbsp;<span class="ident" id="3324387"><a href="/gostd/net/lookup.go.html#3324365">err</a></span><span class="op" id="3324390">,</span>&nbsp;<span class="ident" id="3324392">shared</span>&nbsp;<span class="op" id="3324399">:=</span>&nbsp;<span class="ident" id="3324402"><a href="/gostd/net/lookup.go.html#3324124">lookupGroup</a></span><span class="op" id="3324413">.</span><span class="ident" id="3324414"><a href="/gostd/net/singleflight.go.html#3356009">Do</a></span><span class="op" id="3324416">(</span><span class="ident" id="3324417"><a href="/gostd/net/lookup.go.html#3324339">host</a></span><span class="op" id="3324421">,</span>&nbsp;<span class="keyword" id="3324423">func</span><span class="op" id="3324427">(</span><span class="op" id="3324428">)</span>&nbsp;<span class="op" id="3324430">(</span><span class="keyword" id="3324431">interface</span><span class="op" id="3324440">{</span><span class="op" id="3324441">}</span><span class="op" id="3324442">,</span>&nbsp;<span class="builtintype" id="3324444">error</span><span class="op" id="3324449">)</span>&nbsp;<span class="op" id="3324451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3324455">return</span>&nbsp;<span class="ident" id="3324462"><a href="/gostd/net/lookup_unix.go.html#3329060">lookupIP</a></span><span class="op" id="3324470">(</span><span class="ident" id="3324471"><a href="/gostd/net/lookup.go.html#3324339">host</a></span><span class="op" id="3324475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3324478">}</span><span class="op" id="3324479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3324482">return</span>&nbsp;<span class="ident" id="3324489"><a href="/gostd/net/lookup.go.html#3324637">lookupIPReturn</a></span><span class="op" id="3324503">(</span><span class="ident" id="3324504"><a href="/gostd/net/lookup.go.html#3324379">addrsi</a></span><span class="op" id="3324510">,</span>&nbsp;<span class="ident" id="3324512"><a href="/gostd/net/lookup.go.html#3324365">err</a></span><span class="op" id="3324515">,</span>&nbsp;<span class="ident" id="3324517"><a href="/gostd/net/lookup.go.html#3324392">shared</a></span><span class="op" id="3324523">)</span><br>
<span class="lineno"></span><span class="op" id="3324525">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3324528">//&nbsp;lookupIPReturn&nbsp;turns&nbsp;the&nbsp;return&nbsp;values&nbsp;from&nbsp;singleflight.Do&nbsp;into</span><br>
<span class="lineno"></span><span class="comment" id="3324596">//&nbsp;the&nbsp;return&nbsp;values&nbsp;from&nbsp;LookupIP.</span><br>
<span class="lineno"></span><span class="keyword" id="3324632">func</span>&nbsp;<span class="ident" id="3324637">lookupIPReturn</span><span class="op" id="3324651">(</span><span class="ident" id="3324652">addrsi</span>&nbsp;<span class="keyword" id="3324659">interface</span><span class="op" id="3324668">{</span><span class="op" id="3324669">}</span><span class="op" id="3324670">,</span>&nbsp;<span class="ident" id="3324672">err</span>&nbsp;<span class="builtintype" id="3324676">error</span><span class="op" id="3324681">,</span>&nbsp;<span class="ident" id="3324683">shared</span>&nbsp;<span class="builtintype" id="3324690">bool</span><span class="op" id="3324694">)</span>&nbsp;<span class="op" id="3324696">(</span><span class="op" id="3324697">[</span><span class="op" id="3324698">]</span><span class="ident" id="3324699"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3324701">,</span>&nbsp;<span class="builtintype" id="3324703">error</span><span class="op" id="3324708">)</span>&nbsp;<span class="op" id="3324710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3324713">if</span>&nbsp;<span class="ident" id="3324716"><a href="/gostd/net/lookup.go.html#3324672">err</a></span>&nbsp;<span class="op" id="3324720">!=</span>&nbsp;<span class="builtintype" id="3324723">nil</span>&nbsp;<span class="op" id="3324727">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3324731">return</span>&nbsp;<span class="builtintype" id="3324738">nil</span><span class="op" id="3324741">,</span>&nbsp;<span class="ident" id="3324743"><a href="/gostd/net/lookup.go.html#3324672">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3324748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3324751">addrs</span>&nbsp;<span class="op" id="3324757">:=</span>&nbsp;<span class="ident" id="3324760"><a href="/gostd/net/lookup.go.html#3324652">addrsi</a></span><span class="op" id="3324766">.</span><span class="op" id="3324767">(</span><span class="op" id="3324768">[</span><span class="op" id="3324769">]</span><span class="ident" id="3324770"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3324772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3324775">if</span>&nbsp;<span class="ident" id="3324778"><a href="/gostd/net/lookup.go.html#3324683">shared</a></span>&nbsp;<span class="op" id="3324785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3324789">clone</span>&nbsp;<span class="op" id="3324795">:=</span>&nbsp;<span class="builtinfunc" id="3324798">make</span><span class="op" id="3324802">(</span><span class="op" id="3324803">[</span><span class="op" id="3324804">]</span><span class="ident" id="3324805"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3324807">,</span>&nbsp;<span class="builtinfunc" id="3324809">len</span><span class="op" id="3324812">(</span><span class="ident" id="3324813"><a href="/gostd/net/lookup.go.html#3324751">addrs</a></span><span class="op" id="3324818">)</span><span class="op" id="3324819">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3324823">copy</span><span class="op" id="3324827">(</span><span class="ident" id="3324828"><a href="/gostd/net/lookup.go.html#3324789">clone</a></span><span class="op" id="3324833">,</span>&nbsp;<span class="ident" id="3324835"><a href="/gostd/net/lookup.go.html#3324751">addrs</a></span><span class="op" id="3324840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3324844"><a href="/gostd/net/lookup.go.html#3324751">addrs</a></span>&nbsp;<span class="op" id="3324850">=</span>&nbsp;<span class="ident" id="3324852"><a href="/gostd/net/lookup.go.html#3324789">clone</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3324859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3324862">return</span>&nbsp;<span class="ident" id="3324869"><a href="/gostd/net/lookup.go.html#3324751">addrs</a></span><span class="op" id="3324874">,</span>&nbsp;<span class="builtintype" id="3324876">nil</span><br>
<span class="lineno"></span><span class="op" id="3324880">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3324883">//&nbsp;lookupIPDeadline&nbsp;looks&nbsp;up&nbsp;a&nbsp;hostname&nbsp;with&nbsp;a&nbsp;deadline.</span><br>
<span class="lineno"></span><span class="keyword" id="3324940">func</span>&nbsp;<span class="ident" id="3324945">lookupIPDeadline</span><span class="op" id="3324961">(</span><span class="ident" id="3324962">host</span>&nbsp;<span class="builtintype" id="3324967">string</span><span class="op" id="3324973">,</span>&nbsp;<span class="ident" id="3324975">deadline</span>&nbsp;<span class="ident" id="3324984"><a href="/gostd/net/lookup.go.html#3323321">time</a></span><span class="op" id="3324988">.</span><span class="ident" id="3324989"><a href="/gostd/time/time.go.html#2722087">Time</a></span><span class="op" id="3324993">)</span>&nbsp;<span class="op" id="3324995">(</span><span class="ident" id="3324996">addrs</span>&nbsp;<span class="op" id="3325002">[</span><span class="op" id="3325003">]</span><span class="ident" id="3325004"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3325006">,</span>&nbsp;<span class="ident" id="3325008">err</span>&nbsp;<span class="builtintype" id="3325012">error</span><span class="op" id="3325017">)</span>&nbsp;<span class="op" id="3325019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325022">if</span>&nbsp;<span class="ident" id="3325025"><a href="/gostd/net/lookup.go.html#3324975">deadline</a></span><span class="op" id="3325033">.</span><span class="ident" id="3325034"><a href="/gostd/time/time.go.html#2728744">IsZero</a></span><span class="op" id="3325040">(</span><span class="op" id="3325041">)</span>&nbsp;<span class="op" id="3325043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325047">return</span>&nbsp;<span class="ident" id="3325054"><a href="/gostd/net/lookup.go.html#3324325">lookupIPMerge</a></span><span class="op" id="3325067">(</span><span class="ident" id="3325068"><a href="/gostd/net/lookup.go.html#3324962">host</a></span><span class="op" id="3325072">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3325075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3325079">//&nbsp;We&nbsp;could&nbsp;push&nbsp;the&nbsp;deadline&nbsp;down&nbsp;into&nbsp;the&nbsp;name&nbsp;resolution</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3325140">//&nbsp;functions.&nbsp;&nbsp;However,&nbsp;the&nbsp;most&nbsp;commonly&nbsp;used&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3325203">//&nbsp;calls&nbsp;getaddrinfo,&nbsp;which&nbsp;has&nbsp;no&nbsp;timeout.</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3325249">timeout</span>&nbsp;<span class="op" id="3325257">:=</span>&nbsp;<span class="ident" id="3325260"><a href="/gostd/net/lookup.go.html#3324975">deadline</a></span><span class="op" id="3325268">.</span><span class="ident" id="3325269"><a href="/gostd/time/time.go.html#2739063">Sub</a></span><span class="op" id="3325272">(</span><span class="ident" id="3325273"><a href="/gostd/net/lookup.go.html#3323321">time</a></span><span class="op" id="3325277">.</span><span class="ident" id="3325278"><a href="/gostd/time/time.go.html#2743088">Now</a></span><span class="op" id="3325281">(</span><span class="op" id="3325282">)</span><span class="op" id="3325283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325286">if</span>&nbsp;<span class="ident" id="3325289"><a href="/gostd/net/lookup.go.html#3325249">timeout</a></span>&nbsp;<span class="op" id="3325297">&lt;=</span>&nbsp;<span class="num" id="3325300">0</span>&nbsp;<span class="op" id="3325302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325306">return</span>&nbsp;<span class="builtintype" id="3325313">nil</span><span class="op" id="3325316">,</span>&nbsp;<span class="ident" id="3325318"><a href="/gostd/net/net.go.html#3341194">errTimeout</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3325330">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3325333">t</span>&nbsp;<span class="op" id="3325335">:=</span>&nbsp;<span class="ident" id="3325338"><a href="/gostd/net/lookup.go.html#3323321">time</a></span><span class="op" id="3325342">.</span><span class="ident" id="3325343"><a href="/gostd/time/sleep.go.html#2715618">NewTimer</a></span><span class="op" id="3325351">(</span><span class="ident" id="3325352"><a href="/gostd/net/lookup.go.html#3325249">timeout</a></span><span class="op" id="3325359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325362">defer</span>&nbsp;<span class="ident" id="3325368"><a href="/gostd/net/lookup.go.html#3325333">t</a></span><span class="op" id="3325369">.</span><span class="ident" id="3325370"><a href="/gostd/time/sleep.go.html#2715389">Stop</a></span><span class="op" id="3325374">(</span><span class="op" id="3325375">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3325379">ch</span>&nbsp;<span class="op" id="3325382">:=</span>&nbsp;<span class="ident" id="3325385"><a href="/gostd/net/lookup.go.html#3324124">lookupGroup</a></span><span class="op" id="3325396">.</span><span class="ident" id="3325397"><a href="/gostd/net/singleflight.go.html#3356499">DoChan</a></span><span class="op" id="3325403">(</span><span class="ident" id="3325404"><a href="/gostd/net/lookup.go.html#3324962">host</a></span><span class="op" id="3325408">,</span>&nbsp;<span class="keyword" id="3325410">func</span><span class="op" id="3325414">(</span><span class="op" id="3325415">)</span>&nbsp;<span class="op" id="3325417">(</span><span class="keyword" id="3325418">interface</span><span class="op" id="3325427">{</span><span class="op" id="3325428">}</span><span class="op" id="3325429">,</span>&nbsp;<span class="builtintype" id="3325431">error</span><span class="op" id="3325436">)</span>&nbsp;<span class="op" id="3325438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325442">return</span>&nbsp;<span class="ident" id="3325449"><a href="/gostd/net/lookup_unix.go.html#3329060">lookupIP</a></span><span class="op" id="3325457">(</span><span class="ident" id="3325458"><a href="/gostd/net/lookup.go.html#3324962">host</a></span><span class="op" id="3325462">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3325465">}</span><span class="op" id="3325466">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325470">select</span>&nbsp;<span class="op" id="3325477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325480">case</span>&nbsp;<span class="op" id="3325485">&lt;-</span><span class="ident" id="3325487"><a href="/gostd/net/lookup.go.html#3325333">t</a></span><span class="op" id="3325488">.</span><span class="ident" id="3325489"><a href="/gostd/time/sleep.go.html#2715095">C</a></span><span class="op" id="3325490">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3325494">//&nbsp;The&nbsp;DNS&nbsp;lookup&nbsp;timed&nbsp;out&nbsp;for&nbsp;some&nbsp;reason.&nbsp;&nbsp;Force</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3325548">//&nbsp;future&nbsp;requests&nbsp;to&nbsp;start&nbsp;the&nbsp;DNS&nbsp;lookup&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3325599">//&nbsp;rather&nbsp;than&nbsp;waiting&nbsp;for&nbsp;the&nbsp;current&nbsp;lookup&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3325650">//&nbsp;complete.&nbsp;&nbsp;See&nbsp;issue&nbsp;8602.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3325682"><a href="/gostd/net/lookup.go.html#3324124">lookupGroup</a></span><span class="op" id="3325693">.</span><span class="ident" id="3325694"><a href="/gostd/net/singleflight.go.html#3357413">Forget</a></span><span class="op" id="3325700">(</span><span class="ident" id="3325701"><a href="/gostd/net/lookup.go.html#3324962">host</a></span><span class="op" id="3325705">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325710">return</span>&nbsp;<span class="builtintype" id="3325717">nil</span><span class="op" id="3325720">,</span>&nbsp;<span class="ident" id="3325722"><a href="/gostd/net/net.go.html#3341194">errTimeout</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325735">case</span>&nbsp;<span class="ident" id="3325740">r</span>&nbsp;<span class="op" id="3325742">:=</span>&nbsp;<span class="op" id="3325745">&lt;-</span><span class="ident" id="3325747"><a href="/gostd/net/lookup.go.html#3325379">ch</a></span><span class="op" id="3325749">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325753">return</span>&nbsp;<span class="ident" id="3325760"><a href="/gostd/net/lookup.go.html#3324637">lookupIPReturn</a></span><span class="op" id="3325774">(</span><span class="ident" id="3325775"><a href="/gostd/net/lookup.go.html#3325740">r</a></span><span class="op" id="3325776">.</span><span class="ident" id="3325777"><a href="/gostd/net/singleflight.go.html#3355600">v</a></span><span class="op" id="3325778">,</span>&nbsp;<span class="ident" id="3325780"><a href="/gostd/net/lookup.go.html#3325740">r</a></span><span class="op" id="3325781">.</span><span class="ident" id="3325782"><a href="/gostd/net/singleflight.go.html#3355620">err</a></span><span class="op" id="3325785">,</span>&nbsp;<span class="ident" id="3325787"><a href="/gostd/net/lookup.go.html#3325740">r</a></span><span class="op" id="3325788">.</span><span class="ident" id="3325789"><a href="/gostd/net/singleflight.go.html#3355634">shared</a></span><span class="op" id="3325795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3325798">}</span><br>
<span class="lineno">95</span><span class="op" id="3325800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3325803">//&nbsp;LookupPort&nbsp;looks&nbsp;up&nbsp;the&nbsp;port&nbsp;for&nbsp;the&nbsp;given&nbsp;network&nbsp;and&nbsp;service.</span><br>
<span class="lineno"></span><span class="keyword" id="3325870">func</span>&nbsp;<span class="ident" id="3325875">LookupPort</span><span class="op" id="3325885">(</span><span class="ident" id="3325886">network</span><span class="op" id="3325893">,</span>&nbsp;<span class="ident" id="3325895">service</span>&nbsp;<span class="builtintype" id="3325903">string</span><span class="op" id="3325909">)</span>&nbsp;<span class="op" id="3325911">(</span><span class="ident" id="3325912">port</span>&nbsp;<span class="builtintype" id="3325917">int</span><span class="op" id="3325920">,</span>&nbsp;<span class="ident" id="3325922">err</span>&nbsp;<span class="builtintype" id="3325926">error</span><span class="op" id="3325931">)</span>&nbsp;<span class="op" id="3325933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3325936">return</span>&nbsp;<span class="ident" id="3325943"><a href="/gostd/net/lookup_unix.go.html#3329206">lookupPort</a></span><span class="op" id="3325953">(</span><span class="ident" id="3325954"><a href="/gostd/net/lookup.go.html#3325886">network</a></span><span class="op" id="3325961">,</span>&nbsp;<span class="ident" id="3325963"><a href="/gostd/net/lookup.go.html#3325895">service</a></span><span class="op" id="3325970">)</span><br>
<span class="lineno">100</span><span class="op" id="3325972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3325975">//&nbsp;LookupCNAME&nbsp;returns&nbsp;the&nbsp;canonical&nbsp;DNS&nbsp;host&nbsp;for&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3326041">//&nbsp;Callers&nbsp;that&nbsp;do&nbsp;not&nbsp;care&nbsp;about&nbsp;the&nbsp;canonical&nbsp;name&nbsp;can&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="3326103">//&nbsp;LookupHost&nbsp;or&nbsp;LookupIP&nbsp;directly;&nbsp;both&nbsp;take&nbsp;care&nbsp;of&nbsp;resolving</span><br>
<span class="lineno">105</span><span class="comment" id="3326167">//&nbsp;the&nbsp;canonical&nbsp;name&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;lookup.</span><br>
<span class="lineno"></span><span class="keyword" id="3326212">func</span>&nbsp;<span class="ident" id="3326217">LookupCNAME</span><span class="op" id="3326228">(</span><span class="ident" id="3326229">name</span>&nbsp;<span class="builtintype" id="3326234">string</span><span class="op" id="3326240">)</span>&nbsp;<span class="op" id="3326242">(</span><span class="ident" id="3326243">cname</span>&nbsp;<span class="builtintype" id="3326249">string</span><span class="op" id="3326255">,</span>&nbsp;<span class="ident" id="3326257">err</span>&nbsp;<span class="builtintype" id="3326261">error</span><span class="op" id="3326266">)</span>&nbsp;<span class="op" id="3326268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3326271">return</span>&nbsp;<span class="ident" id="3326278"><a href="/gostd/net/lookup_unix.go.html#3329390">lookupCNAME</a></span><span class="op" id="3326289">(</span><span class="ident" id="3326290"><a href="/gostd/net/lookup.go.html#3326229">name</a></span><span class="op" id="3326294">)</span><br>
<span class="lineno"></span><span class="op" id="3326296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="3326299">//&nbsp;LookupSRV&nbsp;tries&nbsp;to&nbsp;resolve&nbsp;an&nbsp;SRV&nbsp;query&nbsp;of&nbsp;the&nbsp;given&nbsp;service,</span><br>
<span class="lineno"></span><span class="comment" id="3326364">//&nbsp;protocol,&nbsp;and&nbsp;domain&nbsp;name.&nbsp;&nbsp;The&nbsp;proto&nbsp;is&nbsp;&#34;tcp&#34;&nbsp;or&nbsp;&#34;udp&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3326424">//&nbsp;The&nbsp;returned&nbsp;records&nbsp;are&nbsp;sorted&nbsp;by&nbsp;priority&nbsp;and&nbsp;randomized</span><br>
<span class="lineno"></span><span class="comment" id="3326486">//&nbsp;by&nbsp;weight&nbsp;within&nbsp;a&nbsp;priority.</span><br>
<span class="lineno"></span><span class="comment" id="3326518">//</span><br>
<span class="lineno">115</span><span class="comment" id="3326521">//&nbsp;LookupSRV&nbsp;constructs&nbsp;the&nbsp;DNS&nbsp;name&nbsp;to&nbsp;look&nbsp;up&nbsp;following&nbsp;RFC&nbsp;2782.</span><br>
<span class="lineno"></span><span class="comment" id="3326589">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;looks&nbsp;up&nbsp;_service._proto.name.&nbsp;&nbsp;To&nbsp;accommodate&nbsp;services</span><br>
<span class="lineno"></span><span class="comment" id="3326660">//&nbsp;publishing&nbsp;SRV&nbsp;records&nbsp;under&nbsp;non-standard&nbsp;names,&nbsp;if&nbsp;both&nbsp;service</span><br>
<span class="lineno"></span><span class="comment" id="3326728">//&nbsp;and&nbsp;proto&nbsp;are&nbsp;empty&nbsp;strings,&nbsp;LookupSRV&nbsp;looks&nbsp;up&nbsp;name&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="3326794">func</span>&nbsp;<span class="ident" id="3326799">LookupSRV</span><span class="op" id="3326808">(</span><span class="ident" id="3326809">service</span><span class="op" id="3326816">,</span>&nbsp;<span class="ident" id="3326818">proto</span><span class="op" id="3326823">,</span>&nbsp;<span class="ident" id="3326825">name</span>&nbsp;<span class="builtintype" id="3326830">string</span><span class="op" id="3326836">)</span>&nbsp;<span class="op" id="3326838">(</span><span class="ident" id="3326839">cname</span>&nbsp;<span class="builtintype" id="3326845">string</span><span class="op" id="3326851">,</span>&nbsp;<span class="ident" id="3326853">addrs</span>&nbsp;<span class="op" id="3326859">[</span><span class="op" id="3326860">]</span><span class="op" id="3326861">*</span><span class="ident" id="3326862"><a href="/gostd/net/dnsclient.go.html#3212752">SRV</a></span><span class="op" id="3326865">,</span>&nbsp;<span class="ident" id="3326867">err</span>&nbsp;<span class="builtintype" id="3326871">error</span><span class="op" id="3326876">)</span>&nbsp;<span class="op" id="3326878">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3326881">return</span>&nbsp;<span class="ident" id="3326888"><a href="/gostd/net/lookup_unix.go.html#3329547">lookupSRV</a></span><span class="op" id="3326897">(</span><span class="ident" id="3326898"><a href="/gostd/net/lookup.go.html#3326809">service</a></span><span class="op" id="3326905">,</span>&nbsp;<span class="ident" id="3326907"><a href="/gostd/net/lookup.go.html#3326818">proto</a></span><span class="op" id="3326912">,</span>&nbsp;<span class="ident" id="3326914"><a href="/gostd/net/lookup.go.html#3326825">name</a></span><span class="op" id="3326918">)</span><br>
<span class="lineno"></span><span class="op" id="3326920">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3326923">//&nbsp;LookupMX&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;MX&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name&nbsp;sorted&nbsp;by&nbsp;preference.</span><br>
<span class="lineno"></span><span class="keyword" id="3327010">func</span>&nbsp;<span class="ident" id="3327015">LookupMX</span><span class="op" id="3327023">(</span><span class="ident" id="3327024">name</span>&nbsp;<span class="builtintype" id="3327029">string</span><span class="op" id="3327035">)</span>&nbsp;<span class="op" id="3327037">(</span><span class="ident" id="3327038">mx</span>&nbsp;<span class="op" id="3327041">[</span><span class="op" id="3327042">]</span><span class="op" id="3327043">*</span><span class="ident" id="3327044"><a href="/gostd/net/dnsclient.go.html#3214037">MX</a></span><span class="op" id="3327046">,</span>&nbsp;<span class="ident" id="3327048">err</span>&nbsp;<span class="builtintype" id="3327052">error</span><span class="op" id="3327057">)</span>&nbsp;<span class="op" id="3327059">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3327062">return</span>&nbsp;<span class="ident" id="3327069"><a href="/gostd/net/lookup_unix.go.html#3330062">lookupMX</a></span><span class="op" id="3327077">(</span><span class="ident" id="3327078"><a href="/gostd/net/lookup.go.html#3327024">name</a></span><span class="op" id="3327082">)</span><br>
<span class="lineno"></span><span class="op" id="3327084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3327087">//&nbsp;LookupNS&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;NS&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3327153">func</span>&nbsp;<span class="ident" id="3327158">LookupNS</span><span class="op" id="3327166">(</span><span class="ident" id="3327167">name</span>&nbsp;<span class="builtintype" id="3327172">string</span><span class="op" id="3327178">)</span>&nbsp;<span class="op" id="3327180">(</span><span class="ident" id="3327181">ns</span>&nbsp;<span class="op" id="3327184">[</span><span class="op" id="3327185">]</span><span class="op" id="3327186">*</span><span class="ident" id="3327187"><a href="/gostd/net/dnsclient.go.html#3214559">NS</a></span><span class="op" id="3327189">,</span>&nbsp;<span class="ident" id="3327191">err</span>&nbsp;<span class="builtintype" id="3327195">error</span><span class="op" id="3327200">)</span>&nbsp;<span class="op" id="3327202">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3327205">return</span>&nbsp;<span class="ident" id="3327212"><a href="/gostd/net/lookup_unix.go.html#3330331">lookupNS</a></span><span class="op" id="3327220">(</span><span class="ident" id="3327221"><a href="/gostd/net/lookup.go.html#3327167">name</a></span><span class="op" id="3327225">)</span><br>
<span class="lineno"></span><span class="op" id="3327227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3327230">//&nbsp;LookupTXT&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;TXT&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3327298">func</span>&nbsp;<span class="ident" id="3327303">LookupTXT</span><span class="op" id="3327312">(</span><span class="ident" id="3327313">name</span>&nbsp;<span class="builtintype" id="3327318">string</span><span class="op" id="3327324">)</span>&nbsp;<span class="op" id="3327326">(</span><span class="ident" id="3327327">txt</span>&nbsp;<span class="op" id="3327331">[</span><span class="op" id="3327332">]</span><span class="builtintype" id="3327333">string</span><span class="op" id="3327339">,</span>&nbsp;<span class="ident" id="3327341">err</span>&nbsp;<span class="builtintype" id="3327345">error</span><span class="op" id="3327350">)</span>&nbsp;<span class="op" id="3327352">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3327355">return</span>&nbsp;<span class="ident" id="3327362"><a href="/gostd/net/lookup_unix.go.html#3330571">lookupTXT</a></span><span class="op" id="3327371">(</span><span class="ident" id="3327372"><a href="/gostd/net/lookup.go.html#3327313">name</a></span><span class="op" id="3327376">)</span><br>
<span class="lineno"></span><span class="op" id="3327378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3327381">//&nbsp;LookupAddr&nbsp;performs&nbsp;a&nbsp;reverse&nbsp;lookup&nbsp;for&nbsp;the&nbsp;given&nbsp;address,&nbsp;returning&nbsp;a&nbsp;list</span><br>
<span class="lineno"></span><span class="comment" id="3327461">//&nbsp;of&nbsp;names&nbsp;mapping&nbsp;to&nbsp;that&nbsp;address.</span><br>
<span class="lineno">140</span><span class="keyword" id="3327498">func</span>&nbsp;<span class="ident" id="3327503">LookupAddr</span><span class="op" id="3327513">(</span><span class="ident" id="3327514">addr</span>&nbsp;<span class="builtintype" id="3327519">string</span><span class="op" id="3327525">)</span>&nbsp;<span class="op" id="3327527">(</span><span class="ident" id="3327528">name</span>&nbsp;<span class="op" id="3327533">[</span><span class="op" id="3327534">]</span><span class="builtintype" id="3327535">string</span><span class="op" id="3327541">,</span>&nbsp;<span class="ident" id="3327543">err</span>&nbsp;<span class="builtintype" id="3327547">error</span><span class="op" id="3327552">)</span>&nbsp;<span class="op" id="3327554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3327557">return</span>&nbsp;<span class="ident" id="3327564"><a href="/gostd/net/lookup_unix.go.html#3330810">lookupAddr</a></span><span class="op" id="3327574">(</span><span class="ident" id="3327575"><a href="/gostd/net/lookup.go.html#3327514">addr</a></span><span class="op" id="3327579">)</span><br>
<span class="lineno"></span><span class="op" id="3327581">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
