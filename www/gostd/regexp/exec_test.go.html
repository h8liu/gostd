<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html" class="current">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7465096">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7465151">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7465205">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7465256">package</span>&nbsp;<span class="ident" id="7465264">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7465272">import</span>&nbsp;<span class="op" id="7465279">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465282">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465291">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465309">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465316">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465322">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465328">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465345">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465362">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465373">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465384">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465395">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7465410">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7465413">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="7465475">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="7465543">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="7465609">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="7465673">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7465741">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="7465805">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="7465877">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="7465948">//</span><br>
<span class="lineno">30</span><span class="comment" id="7465951">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="7466006">//</span><br>
<span class="lineno"></span><span class="comment" id="7466009">//&nbsp;&nbsp;&nbsp;&nbspstrings</span><br>
<span class="lineno"></span><span class="comment" id="7466020">//&nbsp;&nbsp;&nbsp;&nbsp&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7466029">//&nbsp;&nbsp;&nbsp;&nbsp&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="7466039">//&nbsp;&nbsp;&nbsp;&nbspregexps</span><br>
<span class="lineno"></span><span class="comment" id="7466050">//&nbsp;&nbsp;&nbsp;&nbsp&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7466062">//&nbsp;&nbsp;&nbsp;&nbsp0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="7466073">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7466080">//&nbsp;&nbsp;&nbsp;&nbsp&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="7466107">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7466114">//&nbsp;&nbsp;&nbsp;&nbsp-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="7466135">//</span><br>
<span class="lineno"></span><span class="comment" id="7466138">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="7466196">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="7466253">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="7466310">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="7466373">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="7466431">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7466474">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="7466540">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="7466598">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="7466655">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="7466715">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7466772">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="7466839">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="7466904">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7466953">//</span><br>
<span class="lineno"></span><span class="comment" id="7466956">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="7467018">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="7467085">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="7467133">//</span><br>
<span class="lineno"></span><span class="comment" id="7467136">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="7467202">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="7467276">//</span><br>
<span class="lineno">65</span><span class="keyword" id="7467279">func</span>&nbsp;<span class="ident" id="7467284">TestRE2Search</span><span class="op" id="7467297">(</span><span class="ident" id="7467298">t</span>&nbsp;<span class="op" id="7467300">*</span><span class="ident" id="7467301">testing</span><span class="op" id="7467308">.</span><span class="ident" id="7467309">T</span><span class="op" id="7467310">)</span>&nbsp;<span class="op" id="7467312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467315">testRE2</span><span class="op" id="7467322">(</span><span class="ident" id="7467323">t</span><span class="op" id="7467324">,</span>&nbsp;<span class="string" id="7467326">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="7467351">)</span><br>
<span class="lineno"></span><span class="op" id="7467353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7467356">func</span>&nbsp;<span class="ident" id="7467361">testRE2</span><span class="op" id="7467368">(</span><span class="ident" id="7467369">t</span>&nbsp;<span class="op" id="7467371">*</span><span class="ident" id="7467372">testing</span><span class="op" id="7467379">.</span><span class="ident" id="7467380">T</span><span class="op" id="7467381">,</span>&nbsp;<span class="ident" id="7467383">file</span>&nbsp;<span class="builtintype" id="7467388">string</span><span class="op" id="7467394">)</span>&nbsp;<span class="op" id="7467396">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467399">f</span><span class="op" id="7467400">,</span>&nbsp;<span class="ident" id="7467402">err</span>&nbsp;<span class="op" id="7467406">:=</span>&nbsp;<span class="ident" id="7467409">os</span><span class="op" id="7467411">.</span><span class="ident" id="7467412">Open</span><span class="op" id="7467416">(</span><span class="ident" id="7467417">file</span><span class="op" id="7467421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467424">if</span>&nbsp;<span class="ident" id="7467427">err</span>&nbsp;<span class="op" id="7467431">!=</span>&nbsp;<span class="ident" id="7467434">nil</span>&nbsp;<span class="op" id="7467438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467442">t</span><span class="op" id="7467443">.</span><span class="ident" id="7467444">Fatal</span><span class="op" id="7467449">(</span><span class="ident" id="7467450">err</span><span class="op" id="7467453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467459">defer</span>&nbsp;<span class="ident" id="7467465">f</span><span class="op" id="7467466">.</span><span class="ident" id="7467467">Close</span><span class="op" id="7467472">(</span><span class="op" id="7467473">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467476">var</span>&nbsp;<span class="ident" id="7467480">txt</span>&nbsp;<span class="ident" id="7467484">io</span><span class="op" id="7467486">.</span><span class="ident" id="7467487">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467495">if</span>&nbsp;<span class="ident" id="7467498">strings</span><span class="op" id="7467505">.</span><span class="ident" id="7467506">HasSuffix</span><span class="op" id="7467515">(</span><span class="ident" id="7467516">file</span><span class="op" id="7467520">,</span>&nbsp;<span class="string" id="7467522">&#34;.bz2&#34;</span><span class="op" id="7467528">)</span>&nbsp;<span class="op" id="7467530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467534">z</span>&nbsp;<span class="op" id="7467536">:=</span>&nbsp;<span class="ident" id="7467539">bzip2</span><span class="op" id="7467544">.</span><span class="ident" id="7467545">NewReader</span><span class="op" id="7467554">(</span><span class="ident" id="7467555">f</span><span class="op" id="7467556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467560">txt</span>&nbsp;<span class="op" id="7467564">=</span>&nbsp;<span class="ident" id="7467566">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467570">file</span>&nbsp;<span class="op" id="7467575">=</span>&nbsp;<span class="ident" id="7467577">file</span><span class="op" id="7467581">[</span><span class="op" id="7467582">:</span><span class="builtinfunc" id="7467583">len</span><span class="op" id="7467586">(</span><span class="ident" id="7467587">file</span><span class="op" id="7467591">)</span><span class="op" id="7467592">-</span><span class="builtinfunc" id="7467593">len</span><span class="op" id="7467596">(</span><span class="string" id="7467597">&#34;.bz2&#34;</span><span class="op" id="7467603">)</span><span class="op" id="7467604">]</span>&nbsp;<span class="comment" id="7467606">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467629">}</span>&nbsp;<span class="keyword" id="7467631">else</span>&nbsp;<span class="op" id="7467636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467640">txt</span>&nbsp;<span class="op" id="7467644">=</span>&nbsp;<span class="ident" id="7467646">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467652">lineno</span>&nbsp;<span class="op" id="7467659">:=</span>&nbsp;<span class="num" id="7467662">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467665">scanner</span>&nbsp;<span class="op" id="7467673">:=</span>&nbsp;<span class="ident" id="7467676">bufio</span><span class="op" id="7467681">.</span><span class="ident" id="7467682">NewScanner</span><span class="op" id="7467692">(</span><span class="ident" id="7467693">txt</span><span class="op" id="7467696">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467699">var</span>&nbsp;<span class="op" id="7467703">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467707">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7467717">[</span><span class="op" id="7467718">]</span><span class="builtintype" id="7467719">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467728">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7467738">[</span><span class="op" id="7467739">]</span><span class="builtintype" id="7467740">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467749">inStrings</span>&nbsp;<span class="builtintype" id="7467759">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467766">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7467776">*</span><span class="ident" id="7467777">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467786">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7467796">*</span><span class="ident" id="7467797">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467806">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7467816">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467822">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7467832">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467840">for</span>&nbsp;<span class="ident" id="7467844">lineno</span>&nbsp;<span class="op" id="7467851">:=</span>&nbsp;<span class="num" id="7467854">1</span><span class="op" id="7467855">;</span>&nbsp;<span class="ident" id="7467857">scanner</span><span class="op" id="7467864">.</span><span class="ident" id="7467865">Scan</span><span class="op" id="7467869">(</span><span class="op" id="7467870">)</span><span class="op" id="7467871">;</span>&nbsp;<span class="ident" id="7467873">lineno</span><span class="op" id="7467879">++</span>&nbsp;<span class="op" id="7467882">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467886">line</span>&nbsp;<span class="op" id="7467891">:=</span>&nbsp;<span class="ident" id="7467894">scanner</span><span class="op" id="7467901">.</span><span class="ident" id="7467902">Text</span><span class="op" id="7467906">(</span><span class="op" id="7467907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467911">switch</span>&nbsp;<span class="op" id="7467918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467922">case</span>&nbsp;<span class="ident" id="7467927">line</span>&nbsp;<span class="op" id="7467932">==</span>&nbsp;<span class="string" id="7467935">&#34;&#34;</span><span class="op" id="7467937">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467942">t</span><span class="op" id="7467943">.</span><span class="ident" id="7467944">Fatalf</span><span class="op" id="7467950">(</span><span class="string" id="7467951">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="7467981">,</span>&nbsp;<span class="ident" id="7467983">file</span><span class="op" id="7467987">,</span>&nbsp;<span class="ident" id="7467989">lineno</span><span class="op" id="7467995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467999">case</span>&nbsp;<span class="ident" id="7468004">line</span><span class="op" id="7468008">[</span><span class="num" id="7468009">0</span><span class="op" id="7468010">]</span>&nbsp;<span class="op" id="7468012">==</span>&nbsp;<span class="string" id="7468015">&#39;#&#39;</span><span class="op" id="7468018">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468023">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468034">case</span>&nbsp;<span class="string" id="7468039">&#39;A&#39;</span>&nbsp;<span class="op" id="7468043">&lt;=</span>&nbsp;<span class="ident" id="7468046">line</span><span class="op" id="7468050">[</span><span class="num" id="7468051">0</span><span class="op" id="7468052">]</span>&nbsp;<span class="op" id="7468054">&amp;&amp;</span>&nbsp;<span class="ident" id="7468057">line</span><span class="op" id="7468061">[</span><span class="num" id="7468062">0</span><span class="op" id="7468063">]</span>&nbsp;<span class="op" id="7468065">&lt;=</span>&nbsp;<span class="string" id="7468068">&#39;Z&#39;</span><span class="op" id="7468071">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7468076">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468093">t</span><span class="op" id="7468094">.</span><span class="ident" id="7468095">Logf</span><span class="op" id="7468099">(</span><span class="string" id="7468100">&#34;%s\n&#34;</span><span class="op" id="7468106">,</span>&nbsp;<span class="ident" id="7468108">line</span><span class="op" id="7468112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468117">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468128">case</span>&nbsp;<span class="ident" id="7468133">line</span>&nbsp;<span class="op" id="7468138">==</span>&nbsp;<span class="string" id="7468141">&#34;strings&#34;</span><span class="op" id="7468150">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468155">str</span>&nbsp;<span class="op" id="7468159">=</span>&nbsp;<span class="ident" id="7468161">str</span><span class="op" id="7468164">[</span><span class="op" id="7468165">:</span><span class="num" id="7468166">0</span><span class="op" id="7468167">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468172">inStrings</span>&nbsp;<span class="op" id="7468182">=</span>&nbsp;<span class="builtintype" id="7468184">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468191">case</span>&nbsp;<span class="ident" id="7468196">line</span>&nbsp;<span class="op" id="7468201">==</span>&nbsp;<span class="string" id="7468204">&#34;regexps&#34;</span><span class="op" id="7468213">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468218">inStrings</span>&nbsp;<span class="op" id="7468228">=</span>&nbsp;<span class="builtintype" id="7468230">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468238">case</span>&nbsp;<span class="ident" id="7468243">line</span><span class="op" id="7468247">[</span><span class="num" id="7468248">0</span><span class="op" id="7468249">]</span>&nbsp;<span class="op" id="7468251">==</span>&nbsp;<span class="string" id="7468254">&#39;&#34;&#39;</span><span class="op" id="7468257">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468262">q</span><span class="op" id="7468263">,</span>&nbsp;<span class="ident" id="7468265">err</span>&nbsp;<span class="op" id="7468269">:=</span>&nbsp;<span class="ident" id="7468272">strconv</span><span class="op" id="7468279">.</span><span class="ident" id="7468280">Unquote</span><span class="op" id="7468287">(</span><span class="ident" id="7468288">line</span><span class="op" id="7468292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468297">if</span>&nbsp;<span class="ident" id="7468300">err</span>&nbsp;<span class="op" id="7468304">!=</span>&nbsp;<span class="ident" id="7468307">nil</span>&nbsp;<span class="op" id="7468311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7468317">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468361">t</span><span class="op" id="7468362">.</span><span class="ident" id="7468363">Fatalf</span><span class="op" id="7468369">(</span><span class="string" id="7468370">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7468393">,</span>&nbsp;<span class="ident" id="7468395">file</span><span class="op" id="7468399">,</span>&nbsp;<span class="ident" id="7468401">lineno</span><span class="op" id="7468407">,</span>&nbsp;<span class="ident" id="7468409">line</span><span class="op" id="7468413">,</span>&nbsp;<span class="ident" id="7468415">err</span><span class="op" id="7468418">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468428">if</span>&nbsp;<span class="ident" id="7468431">inStrings</span>&nbsp;<span class="op" id="7468441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468447">str</span>&nbsp;<span class="op" id="7468451">=</span>&nbsp;<span class="builtinfunc" id="7468453">append</span><span class="op" id="7468459">(</span><span class="ident" id="7468460">str</span><span class="op" id="7468463">,</span>&nbsp;<span class="ident" id="7468465">q</span><span class="op" id="7468466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468472">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468484">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7468489">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468508">if</span>&nbsp;<span class="builtinfunc" id="7468511">len</span><span class="op" id="7468514">(</span><span class="ident" id="7468515">input</span><span class="op" id="7468520">)</span>&nbsp;<span class="op" id="7468522">!=</span>&nbsp;<span class="num" id="7468525">0</span>&nbsp;<span class="op" id="7468527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468533">t</span><span class="op" id="7468534">.</span><span class="ident" id="7468535">Fatalf</span><span class="op" id="7468541">(</span><span class="string" id="7468542">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="7468595">,</span>&nbsp;<span class="ident" id="7468597">file</span><span class="op" id="7468601">,</span>&nbsp;<span class="ident" id="7468603">lineno</span><span class="op" id="7468609">,</span>&nbsp;<span class="builtinfunc" id="7468611">len</span><span class="op" id="7468614">(</span><span class="ident" id="7468615">input</span><span class="op" id="7468620">)</span><span class="op" id="7468621">,</span>&nbsp;<span class="ident" id="7468623">q</span><span class="op" id="7468624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468634">re</span><span class="op" id="7468636">,</span>&nbsp;<span class="ident" id="7468638">err</span>&nbsp;<span class="op" id="7468642">=</span>&nbsp;<span class="ident" id="7468644">tryCompile</span><span class="op" id="7468654">(</span><span class="ident" id="7468655">q</span><span class="op" id="7468656">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468661">if</span>&nbsp;<span class="ident" id="7468664">err</span>&nbsp;<span class="op" id="7468668">!=</span>&nbsp;<span class="ident" id="7468671">nil</span>&nbsp;<span class="op" id="7468675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468681">if</span>&nbsp;<span class="ident" id="7468684">err</span><span class="op" id="7468687">.</span><span class="ident" id="7468688">Error</span><span class="op" id="7468693">(</span><span class="op" id="7468694">)</span>&nbsp;<span class="op" id="7468696">==</span>&nbsp;<span class="string" id="7468699">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="7468754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7468761">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468824">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468837">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468843">t</span><span class="op" id="7468844">.</span><span class="ident" id="7468845">Errorf</span><span class="op" id="7468851">(</span><span class="string" id="7468852">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7468876">,</span>&nbsp;<span class="ident" id="7468878">file</span><span class="op" id="7468882">,</span>&nbsp;<span class="ident" id="7468884">lineno</span><span class="op" id="7468890">,</span>&nbsp;<span class="ident" id="7468892">q</span><span class="op" id="7468893">,</span>&nbsp;<span class="ident" id="7468895">err</span><span class="op" id="7468898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468904">if</span>&nbsp;<span class="ident" id="7468907">nfail</span><span class="op" id="7468912">++</span><span class="op" id="7468914">;</span>&nbsp;<span class="ident" id="7468916">nfail</span>&nbsp;<span class="op" id="7468922">&gt;=</span>&nbsp;<span class="num" id="7468925">100</span>&nbsp;<span class="op" id="7468929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468936">t</span><span class="op" id="7468937">.</span><span class="ident" id="7468938">Fatalf</span><span class="op" id="7468944">(</span><span class="string" id="7468945">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7468971">,</span>&nbsp;<span class="ident" id="7468973">nfail</span><span class="op" id="7468978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468990">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469007">full</span>&nbsp;<span class="op" id="7469012">:=</span>&nbsp;<span class="string" id="7469015">`\A(?:`</span>&nbsp;<span class="op" id="7469023">+</span>&nbsp;<span class="ident" id="7469025">q</span>&nbsp;<span class="op" id="7469027">+</span>&nbsp;<span class="string" id="7469029">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469038">refull</span><span class="op" id="7469044">,</span>&nbsp;<span class="ident" id="7469046">err</span>&nbsp;<span class="op" id="7469050">=</span>&nbsp;<span class="ident" id="7469052">tryCompile</span><span class="op" id="7469062">(</span><span class="ident" id="7469063">full</span><span class="op" id="7469067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469072">if</span>&nbsp;<span class="ident" id="7469075">err</span>&nbsp;<span class="op" id="7469079">!=</span>&nbsp;<span class="ident" id="7469082">nil</span>&nbsp;<span class="op" id="7469086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7469092">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469151">t</span><span class="op" id="7469152">.</span><span class="ident" id="7469153">Fatalf</span><span class="op" id="7469159">(</span><span class="string" id="7469160">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7469189">,</span>&nbsp;<span class="ident" id="7469191">file</span><span class="op" id="7469195">,</span>&nbsp;<span class="ident" id="7469197">lineno</span><span class="op" id="7469203">,</span>&nbsp;<span class="ident" id="7469205">full</span><span class="op" id="7469209">,</span>&nbsp;<span class="ident" id="7469211">err</span><span class="op" id="7469214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469224">input</span>&nbsp;<span class="op" id="7469230">=</span>&nbsp;<span class="ident" id="7469232">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469238">case</span>&nbsp;<span class="ident" id="7469243">line</span><span class="op" id="7469247">[</span><span class="num" id="7469248">0</span><span class="op" id="7469249">]</span>&nbsp;<span class="op" id="7469251">==</span>&nbsp;<span class="string" id="7469254">&#39;-&#39;</span>&nbsp;<span class="op" id="7469258">||</span>&nbsp;<span class="string" id="7469261">&#39;0&#39;</span>&nbsp;<span class="op" id="7469265">&lt;=</span>&nbsp;<span class="ident" id="7469268">line</span><span class="op" id="7469272">[</span><span class="num" id="7469273">0</span><span class="op" id="7469274">]</span>&nbsp;<span class="op" id="7469276">&amp;&amp;</span>&nbsp;<span class="ident" id="7469279">line</span><span class="op" id="7469283">[</span><span class="num" id="7469284">0</span><span class="op" id="7469285">]</span>&nbsp;<span class="op" id="7469287">&lt;=</span>&nbsp;<span class="string" id="7469290">&#39;9&#39;</span><span class="op" id="7469293">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7469298">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469333">ncase</span><span class="op" id="7469338">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469344">if</span>&nbsp;<span class="ident" id="7469347">re</span>&nbsp;<span class="op" id="7469350">==</span>&nbsp;<span class="ident" id="7469353">nil</span>&nbsp;<span class="op" id="7469357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7469363">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469403">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469415">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469420">if</span>&nbsp;<span class="builtinfunc" id="7469423">len</span><span class="op" id="7469426">(</span><span class="ident" id="7469427">input</span><span class="op" id="7469432">)</span>&nbsp;<span class="op" id="7469434">==</span>&nbsp;<span class="num" id="7469437">0</span>&nbsp;<span class="op" id="7469439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469445">t</span><span class="op" id="7469446">.</span><span class="ident" id="7469447">Fatalf</span><span class="op" id="7469453">(</span><span class="string" id="7469454">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="7469494">,</span>&nbsp;<span class="ident" id="7469496">file</span><span class="op" id="7469500">,</span>&nbsp;<span class="ident" id="7469502">lineno</span><span class="op" id="7469508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469518">var</span>&nbsp;<span class="ident" id="7469522">text</span>&nbsp;<span class="builtintype" id="7469527">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469537">text</span><span class="op" id="7469541">,</span>&nbsp;<span class="ident" id="7469543">input</span>&nbsp;<span class="op" id="7469549">=</span>&nbsp;<span class="ident" id="7469551">input</span><span class="op" id="7469556">[</span><span class="num" id="7469557">0</span><span class="op" id="7469558">]</span><span class="op" id="7469559">,</span>&nbsp;<span class="ident" id="7469561">input</span><span class="op" id="7469566">[</span><span class="num" id="7469567">1</span><span class="op" id="7469568">:</span><span class="op" id="7469569">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469574">if</span>&nbsp;<span class="op" id="7469577">!</span><span class="ident" id="7469578">isSingleBytes</span><span class="op" id="7469591">(</span><span class="ident" id="7469592">text</span><span class="op" id="7469596">)</span>&nbsp;<span class="op" id="7469598">&amp;&amp;</span>&nbsp;<span class="ident" id="7469601">strings</span><span class="op" id="7469608">.</span><span class="ident" id="7469609">Contains</span><span class="op" id="7469617">(</span><span class="ident" id="7469618">re</span><span class="op" id="7469620">.</span><span class="ident" id="7469621">String</span><span class="op" id="7469627">(</span><span class="op" id="7469628">)</span><span class="op" id="7469629">,</span>&nbsp;<span class="string" id="7469631">`\B`</span><span class="op" id="7469635">)</span>&nbsp;<span class="op" id="7469637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7469643">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7469690">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7469735">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7469783">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7469834">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469877">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469894">res</span>&nbsp;<span class="op" id="7469898">:=</span>&nbsp;<span class="ident" id="7469901">strings</span><span class="op" id="7469908">.</span><span class="ident" id="7469909">Split</span><span class="op" id="7469914">(</span><span class="ident" id="7469915">line</span><span class="op" id="7469919">,</span>&nbsp;<span class="string" id="7469921">&#34;;&#34;</span><span class="op" id="7469924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469929">if</span>&nbsp;<span class="builtinfunc" id="7469932">len</span><span class="op" id="7469935">(</span><span class="ident" id="7469936">res</span><span class="op" id="7469939">)</span>&nbsp;<span class="op" id="7469941">!=</span>&nbsp;<span class="builtinfunc" id="7469944">len</span><span class="op" id="7469947">(</span><span class="ident" id="7469948">run</span><span class="op" id="7469951">)</span>&nbsp;<span class="op" id="7469953">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469959">t</span><span class="op" id="7469960">.</span><span class="ident" id="7469961">Fatalf</span><span class="op" id="7469967">(</span><span class="string" id="7469968">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7470006">,</span>&nbsp;<span class="ident" id="7470008">file</span><span class="op" id="7470012">,</span>&nbsp;<span class="ident" id="7470014">lineno</span><span class="op" id="7470020">,</span>&nbsp;<span class="builtinfunc" id="7470022">len</span><span class="op" id="7470025">(</span><span class="ident" id="7470026">res</span><span class="op" id="7470029">)</span><span class="op" id="7470030">,</span>&nbsp;<span class="builtinfunc" id="7470032">len</span><span class="op" id="7470035">(</span><span class="ident" id="7470036">run</span><span class="op" id="7470039">)</span><span class="op" id="7470040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470050">for</span>&nbsp;<span class="ident" id="7470054">i</span>&nbsp;<span class="op" id="7470056">:=</span>&nbsp;<span class="keyword" id="7470059">range</span>&nbsp;<span class="ident" id="7470065">res</span>&nbsp;<span class="op" id="7470069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470075">have</span><span class="op" id="7470079">,</span>&nbsp;<span class="ident" id="7470081">suffix</span>&nbsp;<span class="op" id="7470088">:=</span>&nbsp;<span class="ident" id="7470091">run</span><span class="op" id="7470094">[</span><span class="ident" id="7470095">i</span><span class="op" id="7470096">]</span><span class="op" id="7470097">(</span><span class="ident" id="7470098">re</span><span class="op" id="7470100">,</span>&nbsp;<span class="ident" id="7470102">refull</span><span class="op" id="7470108">,</span>&nbsp;<span class="ident" id="7470110">text</span><span class="op" id="7470114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470120">want</span>&nbsp;<span class="op" id="7470125">:=</span>&nbsp;<span class="ident" id="7470128">parseResult</span><span class="op" id="7470139">(</span><span class="ident" id="7470140">t</span><span class="op" id="7470141">,</span>&nbsp;<span class="ident" id="7470143">file</span><span class="op" id="7470147">,</span>&nbsp;<span class="ident" id="7470149">lineno</span><span class="op" id="7470155">,</span>&nbsp;<span class="ident" id="7470157">res</span><span class="op" id="7470160">[</span><span class="ident" id="7470161">i</span><span class="op" id="7470162">]</span><span class="op" id="7470163">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470169">if</span>&nbsp;<span class="op" id="7470172">!</span><span class="ident" id="7470173">same</span><span class="op" id="7470177">(</span><span class="ident" id="7470178">have</span><span class="op" id="7470182">,</span>&nbsp;<span class="ident" id="7470184">want</span><span class="op" id="7470188">)</span>&nbsp;<span class="op" id="7470190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470197">t</span><span class="op" id="7470198">.</span><span class="ident" id="7470199">Errorf</span><span class="op" id="7470205">(</span><span class="string" id="7470206">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7470257">,</span>&nbsp;<span class="ident" id="7470259">file</span><span class="op" id="7470263">,</span>&nbsp;<span class="ident" id="7470265">lineno</span><span class="op" id="7470271">,</span>&nbsp;<span class="ident" id="7470273">re</span><span class="op" id="7470275">,</span>&nbsp;<span class="ident" id="7470277">suffix</span><span class="op" id="7470283">,</span>&nbsp;<span class="ident" id="7470285">text</span><span class="op" id="7470289">,</span>&nbsp;<span class="ident" id="7470291">have</span><span class="op" id="7470295">,</span>&nbsp;<span class="ident" id="7470297">want</span><span class="op" id="7470301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470308">if</span>&nbsp;<span class="ident" id="7470311">nfail</span><span class="op" id="7470316">++</span><span class="op" id="7470318">;</span>&nbsp;<span class="ident" id="7470320">nfail</span>&nbsp;<span class="op" id="7470326">&gt;=</span>&nbsp;<span class="num" id="7470329">100</span>&nbsp;<span class="op" id="7470333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470341">t</span><span class="op" id="7470342">.</span><span class="ident" id="7470343">Fatalf</span><span class="op" id="7470349">(</span><span class="string" id="7470350">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7470376">,</span>&nbsp;<span class="ident" id="7470378">nfail</span><span class="op" id="7470383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470390">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470397">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470416">b</span><span class="op" id="7470417">,</span>&nbsp;<span class="ident" id="7470419">suffix</span>&nbsp;<span class="op" id="7470426">:=</span>&nbsp;<span class="ident" id="7470429">match</span><span class="op" id="7470434">[</span><span class="ident" id="7470435">i</span><span class="op" id="7470436">]</span><span class="op" id="7470437">(</span><span class="ident" id="7470438">re</span><span class="op" id="7470440">,</span>&nbsp;<span class="ident" id="7470442">refull</span><span class="op" id="7470448">,</span>&nbsp;<span class="ident" id="7470450">text</span><span class="op" id="7470454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470460">if</span>&nbsp;<span class="ident" id="7470463">b</span>&nbsp;<span class="op" id="7470465">!=</span>&nbsp;<span class="op" id="7470468">(</span><span class="ident" id="7470469">want</span>&nbsp;<span class="op" id="7470474">!=</span>&nbsp;<span class="ident" id="7470477">nil</span><span class="op" id="7470480">)</span>&nbsp;<span class="op" id="7470482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470489">t</span><span class="op" id="7470490">.</span><span class="ident" id="7470491">Errorf</span><span class="op" id="7470497">(</span><span class="string" id="7470498">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7470543">,</span>&nbsp;<span class="ident" id="7470545">file</span><span class="op" id="7470549">,</span>&nbsp;<span class="ident" id="7470551">lineno</span><span class="op" id="7470557">,</span>&nbsp;<span class="ident" id="7470559">re</span><span class="op" id="7470561">,</span>&nbsp;<span class="ident" id="7470563">suffix</span><span class="op" id="7470569">,</span>&nbsp;<span class="ident" id="7470571">text</span><span class="op" id="7470575">,</span>&nbsp;<span class="ident" id="7470577">b</span><span class="op" id="7470578">,</span>&nbsp;<span class="op" id="7470580">!</span><span class="ident" id="7470581">b</span><span class="op" id="7470582">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470589">if</span>&nbsp;<span class="ident" id="7470592">nfail</span><span class="op" id="7470597">++</span><span class="op" id="7470599">;</span>&nbsp;<span class="ident" id="7470601">nfail</span>&nbsp;<span class="op" id="7470607">&gt;=</span>&nbsp;<span class="num" id="7470610">100</span>&nbsp;<span class="op" id="7470614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470622">t</span><span class="op" id="7470623">.</span><span class="ident" id="7470624">Fatalf</span><span class="op" id="7470630">(</span><span class="string" id="7470631">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7470657">,</span>&nbsp;<span class="ident" id="7470659">nfail</span><span class="op" id="7470664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470678">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470691">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470701">default</span><span class="op" id="7470708">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470713">t</span><span class="op" id="7470714">.</span><span class="ident" id="7470715">Fatalf</span><span class="op" id="7470721">(</span><span class="string" id="7470722">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="7470748">,</span>&nbsp;<span class="ident" id="7470750">file</span><span class="op" id="7470754">,</span>&nbsp;<span class="ident" id="7470756">lineno</span><span class="op" id="7470762">,</span>&nbsp;<span class="ident" id="7470764">line</span><span class="op" id="7470768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470772">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470778">if</span>&nbsp;<span class="ident" id="7470781">err</span>&nbsp;<span class="op" id="7470785">:=</span>&nbsp;<span class="ident" id="7470788">scanner</span><span class="op" id="7470795">.</span><span class="ident" id="7470796">Err</span><span class="op" id="7470799">(</span><span class="op" id="7470800">)</span><span class="op" id="7470801">;</span>&nbsp;<span class="ident" id="7470803">err</span>&nbsp;<span class="op" id="7470807">!=</span>&nbsp;<span class="ident" id="7470810">nil</span>&nbsp;<span class="op" id="7470814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470818">t</span><span class="op" id="7470819">.</span><span class="ident" id="7470820">Fatalf</span><span class="op" id="7470826">(</span><span class="string" id="7470827">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7470838">,</span>&nbsp;<span class="ident" id="7470840">file</span><span class="op" id="7470844">,</span>&nbsp;<span class="ident" id="7470846">lineno</span><span class="op" id="7470852">,</span>&nbsp;<span class="ident" id="7470854">err</span><span class="op" id="7470857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470863">if</span>&nbsp;<span class="builtinfunc" id="7470866">len</span><span class="op" id="7470869">(</span><span class="ident" id="7470870">input</span><span class="op" id="7470875">)</span>&nbsp;<span class="op" id="7470877">!=</span>&nbsp;<span class="num" id="7470880">0</span>&nbsp;<span class="op" id="7470882">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470886">t</span><span class="op" id="7470887">.</span><span class="ident" id="7470888">Fatalf</span><span class="op" id="7470894">(</span><span class="string" id="7470895">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="7470944">,</span>&nbsp;<span class="ident" id="7470946">file</span><span class="op" id="7470950">,</span>&nbsp;<span class="ident" id="7470952">lineno</span><span class="op" id="7470958">,</span>&nbsp;<span class="builtinfunc" id="7470960">len</span><span class="op" id="7470963">(</span><span class="ident" id="7470964">input</span><span class="op" id="7470969">)</span><span class="op" id="7470970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470976">t</span><span class="op" id="7470977">.</span><span class="ident" id="7470978">Logf</span><span class="op" id="7470982">(</span><span class="string" id="7470983">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="7471000">,</span>&nbsp;<span class="ident" id="7471002">ncase</span><span class="op" id="7471007">)</span><br>
<span class="lineno"></span><span class="op" id="7471009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="7471012">var</span>&nbsp;<span class="ident" id="7471016">run</span>&nbsp;<span class="op" id="7471020">=</span>&nbsp;<span class="op" id="7471022">[</span><span class="op" id="7471023">]</span><span class="keyword" id="7471024">func</span><span class="op" id="7471028">(</span><span class="op" id="7471029">*</span><span class="ident" id="7471030">Regexp</span><span class="op" id="7471036">,</span>&nbsp;<span class="op" id="7471038">*</span><span class="ident" id="7471039">Regexp</span><span class="op" id="7471045">,</span>&nbsp;<span class="builtintype" id="7471047">string</span><span class="op" id="7471053">)</span>&nbsp;<span class="op" id="7471055">(</span><span class="op" id="7471056">[</span><span class="op" id="7471057">]</span><span class="builtintype" id="7471058">int</span><span class="op" id="7471061">,</span>&nbsp;<span class="builtintype" id="7471063">string</span><span class="op" id="7471069">)</span><span class="op" id="7471070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471073">runFull</span><span class="op" id="7471080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471083">runPartial</span><span class="op" id="7471093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471096">runFullLongest</span><span class="op" id="7471110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471113">runPartialLongest</span><span class="op" id="7471130">,</span><br>
<span class="lineno">205</span><span class="op" id="7471132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7471135">func</span>&nbsp;<span class="ident" id="7471140">runFull</span><span class="op" id="7471147">(</span><span class="ident" id="7471148">re</span><span class="op" id="7471150">,</span>&nbsp;<span class="ident" id="7471152">refull</span>&nbsp;<span class="op" id="7471159">*</span><span class="ident" id="7471160">Regexp</span><span class="op" id="7471166">,</span>&nbsp;<span class="ident" id="7471168">text</span>&nbsp;<span class="builtintype" id="7471173">string</span><span class="op" id="7471179">)</span>&nbsp;<span class="op" id="7471181">(</span><span class="op" id="7471182">[</span><span class="op" id="7471183">]</span><span class="builtintype" id="7471184">int</span><span class="op" id="7471187">,</span>&nbsp;<span class="builtintype" id="7471189">string</span><span class="op" id="7471195">)</span>&nbsp;<span class="op" id="7471197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471200">refull</span><span class="op" id="7471206">.</span><span class="ident" id="7471207">longest</span>&nbsp;<span class="op" id="7471215">=</span>&nbsp;<span class="builtintype" id="7471217">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471224">return</span>&nbsp;<span class="ident" id="7471231">refull</span><span class="op" id="7471237">.</span><span class="ident" id="7471238">FindStringSubmatchIndex</span><span class="op" id="7471261">(</span><span class="ident" id="7471262">text</span><span class="op" id="7471266">)</span><span class="op" id="7471267">,</span>&nbsp;<span class="string" id="7471269">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="7471278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7471281">func</span>&nbsp;<span class="ident" id="7471286">runPartial</span><span class="op" id="7471296">(</span><span class="ident" id="7471297">re</span><span class="op" id="7471299">,</span>&nbsp;<span class="ident" id="7471301">refull</span>&nbsp;<span class="op" id="7471308">*</span><span class="ident" id="7471309">Regexp</span><span class="op" id="7471315">,</span>&nbsp;<span class="ident" id="7471317">text</span>&nbsp;<span class="builtintype" id="7471322">string</span><span class="op" id="7471328">)</span>&nbsp;<span class="op" id="7471330">(</span><span class="op" id="7471331">[</span><span class="op" id="7471332">]</span><span class="builtintype" id="7471333">int</span><span class="op" id="7471336">,</span>&nbsp;<span class="builtintype" id="7471338">string</span><span class="op" id="7471344">)</span>&nbsp;<span class="op" id="7471346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471349">re</span><span class="op" id="7471351">.</span><span class="ident" id="7471352">longest</span>&nbsp;<span class="op" id="7471360">=</span>&nbsp;<span class="builtintype" id="7471362">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471369">return</span>&nbsp;<span class="ident" id="7471376">re</span><span class="op" id="7471378">.</span><span class="ident" id="7471379">FindStringSubmatchIndex</span><span class="op" id="7471402">(</span><span class="ident" id="7471403">text</span><span class="op" id="7471407">)</span><span class="op" id="7471408">,</span>&nbsp;<span class="string" id="7471410">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="7471413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7471416">func</span>&nbsp;<span class="ident" id="7471421">runFullLongest</span><span class="op" id="7471435">(</span><span class="ident" id="7471436">re</span><span class="op" id="7471438">,</span>&nbsp;<span class="ident" id="7471440">refull</span>&nbsp;<span class="op" id="7471447">*</span><span class="ident" id="7471448">Regexp</span><span class="op" id="7471454">,</span>&nbsp;<span class="ident" id="7471456">text</span>&nbsp;<span class="builtintype" id="7471461">string</span><span class="op" id="7471467">)</span>&nbsp;<span class="op" id="7471469">(</span><span class="op" id="7471470">[</span><span class="op" id="7471471">]</span><span class="builtintype" id="7471472">int</span><span class="op" id="7471475">,</span>&nbsp;<span class="builtintype" id="7471477">string</span><span class="op" id="7471483">)</span>&nbsp;<span class="op" id="7471485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471488">refull</span><span class="op" id="7471494">.</span><span class="ident" id="7471495">longest</span>&nbsp;<span class="op" id="7471503">=</span>&nbsp;<span class="builtintype" id="7471505">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471511">return</span>&nbsp;<span class="ident" id="7471518">refull</span><span class="op" id="7471524">.</span><span class="ident" id="7471525">FindStringSubmatchIndex</span><span class="op" id="7471548">(</span><span class="ident" id="7471549">text</span><span class="op" id="7471553">)</span><span class="op" id="7471554">,</span>&nbsp;<span class="string" id="7471556">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="7471573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7471576">func</span>&nbsp;<span class="ident" id="7471581">runPartialLongest</span><span class="op" id="7471598">(</span><span class="ident" id="7471599">re</span><span class="op" id="7471601">,</span>&nbsp;<span class="ident" id="7471603">refull</span>&nbsp;<span class="op" id="7471610">*</span><span class="ident" id="7471611">Regexp</span><span class="op" id="7471617">,</span>&nbsp;<span class="ident" id="7471619">text</span>&nbsp;<span class="builtintype" id="7471624">string</span><span class="op" id="7471630">)</span>&nbsp;<span class="op" id="7471632">(</span><span class="op" id="7471633">[</span><span class="op" id="7471634">]</span><span class="builtintype" id="7471635">int</span><span class="op" id="7471638">,</span>&nbsp;<span class="builtintype" id="7471640">string</span><span class="op" id="7471646">)</span>&nbsp;<span class="op" id="7471648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471651">re</span><span class="op" id="7471653">.</span><span class="ident" id="7471654">longest</span>&nbsp;<span class="op" id="7471662">=</span>&nbsp;<span class="builtintype" id="7471664">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471670">return</span>&nbsp;<span class="ident" id="7471677">re</span><span class="op" id="7471679">.</span><span class="ident" id="7471680">FindStringSubmatchIndex</span><span class="op" id="7471703">(</span><span class="ident" id="7471704">text</span><span class="op" id="7471708">)</span><span class="op" id="7471709">,</span>&nbsp;<span class="string" id="7471711">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="7471723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7471726">var</span>&nbsp;<span class="ident" id="7471730">match</span>&nbsp;<span class="op" id="7471736">=</span>&nbsp;<span class="op" id="7471738">[</span><span class="op" id="7471739">]</span><span class="keyword" id="7471740">func</span><span class="op" id="7471744">(</span><span class="op" id="7471745">*</span><span class="ident" id="7471746">Regexp</span><span class="op" id="7471752">,</span>&nbsp;<span class="op" id="7471754">*</span><span class="ident" id="7471755">Regexp</span><span class="op" id="7471761">,</span>&nbsp;<span class="builtintype" id="7471763">string</span><span class="op" id="7471769">)</span>&nbsp;<span class="op" id="7471771">(</span><span class="builtintype" id="7471772">bool</span><span class="op" id="7471776">,</span>&nbsp;<span class="builtintype" id="7471778">string</span><span class="op" id="7471784">)</span><span class="op" id="7471785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471788">matchFull</span><span class="op" id="7471797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471800">matchPartial</span><span class="op" id="7471812">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471815">matchFullLongest</span><span class="op" id="7471831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471834">matchPartialLongest</span><span class="op" id="7471853">,</span><br>
<span class="lineno"></span><span class="op" id="7471855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7471858">func</span>&nbsp;<span class="ident" id="7471863">matchFull</span><span class="op" id="7471872">(</span><span class="ident" id="7471873">re</span><span class="op" id="7471875">,</span>&nbsp;<span class="ident" id="7471877">refull</span>&nbsp;<span class="op" id="7471884">*</span><span class="ident" id="7471885">Regexp</span><span class="op" id="7471891">,</span>&nbsp;<span class="ident" id="7471893">text</span>&nbsp;<span class="builtintype" id="7471898">string</span><span class="op" id="7471904">)</span>&nbsp;<span class="op" id="7471906">(</span><span class="builtintype" id="7471907">bool</span><span class="op" id="7471911">,</span>&nbsp;<span class="builtintype" id="7471913">string</span><span class="op" id="7471919">)</span>&nbsp;<span class="op" id="7471921">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7471924">refull</span><span class="op" id="7471930">.</span><span class="ident" id="7471931">longest</span>&nbsp;<span class="op" id="7471939">=</span>&nbsp;<span class="builtintype" id="7471941">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7471948">return</span>&nbsp;<span class="ident" id="7471955">refull</span><span class="op" id="7471961">.</span><span class="ident" id="7471962">MatchString</span><span class="op" id="7471973">(</span><span class="ident" id="7471974">text</span><span class="op" id="7471978">)</span><span class="op" id="7471979">,</span>&nbsp;<span class="string" id="7471981">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7471990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7471993">func</span>&nbsp;<span class="ident" id="7471998">matchPartial</span><span class="op" id="7472010">(</span><span class="ident" id="7472011">re</span><span class="op" id="7472013">,</span>&nbsp;<span class="ident" id="7472015">refull</span>&nbsp;<span class="op" id="7472022">*</span><span class="ident" id="7472023">Regexp</span><span class="op" id="7472029">,</span>&nbsp;<span class="ident" id="7472031">text</span>&nbsp;<span class="builtintype" id="7472036">string</span><span class="op" id="7472042">)</span>&nbsp;<span class="op" id="7472044">(</span><span class="builtintype" id="7472045">bool</span><span class="op" id="7472049">,</span>&nbsp;<span class="builtintype" id="7472051">string</span><span class="op" id="7472057">)</span>&nbsp;<span class="op" id="7472059">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472062">re</span><span class="op" id="7472064">.</span><span class="ident" id="7472065">longest</span>&nbsp;<span class="op" id="7472073">=</span>&nbsp;<span class="builtintype" id="7472075">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472082">return</span>&nbsp;<span class="ident" id="7472089">re</span><span class="op" id="7472091">.</span><span class="ident" id="7472092">MatchString</span><span class="op" id="7472103">(</span><span class="ident" id="7472104">text</span><span class="op" id="7472108">)</span><span class="op" id="7472109">,</span>&nbsp;<span class="string" id="7472111">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7472114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7472117">func</span>&nbsp;<span class="ident" id="7472122">matchFullLongest</span><span class="op" id="7472138">(</span><span class="ident" id="7472139">re</span><span class="op" id="7472141">,</span>&nbsp;<span class="ident" id="7472143">refull</span>&nbsp;<span class="op" id="7472150">*</span><span class="ident" id="7472151">Regexp</span><span class="op" id="7472157">,</span>&nbsp;<span class="ident" id="7472159">text</span>&nbsp;<span class="builtintype" id="7472164">string</span><span class="op" id="7472170">)</span>&nbsp;<span class="op" id="7472172">(</span><span class="builtintype" id="7472173">bool</span><span class="op" id="7472177">,</span>&nbsp;<span class="builtintype" id="7472179">string</span><span class="op" id="7472185">)</span>&nbsp;<span class="op" id="7472187">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472190">refull</span><span class="op" id="7472196">.</span><span class="ident" id="7472197">longest</span>&nbsp;<span class="op" id="7472205">=</span>&nbsp;<span class="builtintype" id="7472207">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472213">return</span>&nbsp;<span class="ident" id="7472220">refull</span><span class="op" id="7472226">.</span><span class="ident" id="7472227">MatchString</span><span class="op" id="7472238">(</span><span class="ident" id="7472239">text</span><span class="op" id="7472243">)</span><span class="op" id="7472244">,</span>&nbsp;<span class="string" id="7472246">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7472263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7472266">func</span>&nbsp;<span class="ident" id="7472271">matchPartialLongest</span><span class="op" id="7472290">(</span><span class="ident" id="7472291">re</span><span class="op" id="7472293">,</span>&nbsp;<span class="ident" id="7472295">refull</span>&nbsp;<span class="op" id="7472302">*</span><span class="ident" id="7472303">Regexp</span><span class="op" id="7472309">,</span>&nbsp;<span class="ident" id="7472311">text</span>&nbsp;<span class="builtintype" id="7472316">string</span><span class="op" id="7472322">)</span>&nbsp;<span class="op" id="7472324">(</span><span class="builtintype" id="7472325">bool</span><span class="op" id="7472329">,</span>&nbsp;<span class="builtintype" id="7472331">string</span><span class="op" id="7472337">)</span>&nbsp;<span class="op" id="7472339">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472342">re</span><span class="op" id="7472344">.</span><span class="ident" id="7472345">longest</span>&nbsp;<span class="op" id="7472353">=</span>&nbsp;<span class="builtintype" id="7472355">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472361">return</span>&nbsp;<span class="ident" id="7472368">re</span><span class="op" id="7472370">.</span><span class="ident" id="7472371">MatchString</span><span class="op" id="7472382">(</span><span class="ident" id="7472383">text</span><span class="op" id="7472387">)</span><span class="op" id="7472388">,</span>&nbsp;<span class="string" id="7472390">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7472402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7472405">func</span>&nbsp;<span class="ident" id="7472410">isSingleBytes</span><span class="op" id="7472423">(</span><span class="ident" id="7472424">s</span>&nbsp;<span class="builtintype" id="7472426">string</span><span class="op" id="7472432">)</span>&nbsp;<span class="builtintype" id="7472434">bool</span>&nbsp;<span class="op" id="7472439">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472442">for</span>&nbsp;<span class="ident" id="7472446">_</span><span class="op" id="7472447">,</span>&nbsp;<span class="ident" id="7472449">c</span>&nbsp;<span class="op" id="7472451">:=</span>&nbsp;<span class="keyword" id="7472454">range</span>&nbsp;<span class="ident" id="7472460">s</span>&nbsp;<span class="op" id="7472462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472466">if</span>&nbsp;<span class="ident" id="7472469">c</span>&nbsp;<span class="op" id="7472471">&gt;=</span>&nbsp;<span class="ident" id="7472474">utf8</span><span class="op" id="7472478">.</span><span class="ident" id="7472479">RuneSelf</span>&nbsp;<span class="op" id="7472488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472493">return</span>&nbsp;<span class="builtintype" id="7472500">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472511">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472514">return</span>&nbsp;<span class="builtintype" id="7472521">true</span><br>
<span class="lineno"></span><span class="op" id="7472526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7472529">func</span>&nbsp;<span class="ident" id="7472534">tryCompile</span><span class="op" id="7472544">(</span><span class="ident" id="7472545">s</span>&nbsp;<span class="builtintype" id="7472547">string</span><span class="op" id="7472553">)</span>&nbsp;<span class="op" id="7472555">(</span><span class="ident" id="7472556">re</span>&nbsp;<span class="op" id="7472559">*</span><span class="ident" id="7472560">Regexp</span><span class="op" id="7472566">,</span>&nbsp;<span class="ident" id="7472568">err</span>&nbsp;<span class="builtintype" id="7472572">error</span><span class="op" id="7472577">)</span>&nbsp;<span class="op" id="7472579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7472582">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472624">defer</span>&nbsp;<span class="keyword" id="7472630">func</span><span class="op" id="7472634">(</span><span class="op" id="7472635">)</span>&nbsp;<span class="op" id="7472637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472641">if</span>&nbsp;<span class="ident" id="7472644">r</span>&nbsp;<span class="op" id="7472646">:=</span>&nbsp;<span class="builtinfunc" id="7472649">recover</span><span class="op" id="7472656">(</span><span class="op" id="7472657">)</span><span class="op" id="7472658">;</span>&nbsp;<span class="ident" id="7472660">r</span>&nbsp;<span class="op" id="7472662">!=</span>&nbsp;<span class="ident" id="7472665">nil</span>&nbsp;<span class="op" id="7472669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472674">err</span>&nbsp;<span class="op" id="7472678">=</span>&nbsp;<span class="ident" id="7472680">fmt</span><span class="op" id="7472683">.</span><span class="ident" id="7472684">Errorf</span><span class="op" id="7472690">(</span><span class="string" id="7472691">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="7472702">,</span>&nbsp;<span class="ident" id="7472704">r</span><span class="op" id="7472705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472712">}</span><span class="op" id="7472713">(</span><span class="op" id="7472714">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472717">return</span>&nbsp;<span class="ident" id="7472724">Compile</span><span class="op" id="7472731">(</span><span class="ident" id="7472732">s</span><span class="op" id="7472733">)</span><br>
<span class="lineno"></span><span class="op" id="7472735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7472738">func</span>&nbsp;<span class="ident" id="7472743">parseResult</span><span class="op" id="7472754">(</span><span class="ident" id="7472755">t</span>&nbsp;<span class="op" id="7472757">*</span><span class="ident" id="7472758">testing</span><span class="op" id="7472765">.</span><span class="ident" id="7472766">T</span><span class="op" id="7472767">,</span>&nbsp;<span class="ident" id="7472769">file</span>&nbsp;<span class="builtintype" id="7472774">string</span><span class="op" id="7472780">,</span>&nbsp;<span class="ident" id="7472782">lineno</span>&nbsp;<span class="builtintype" id="7472789">int</span><span class="op" id="7472792">,</span>&nbsp;<span class="ident" id="7472794">res</span>&nbsp;<span class="builtintype" id="7472798">string</span><span class="op" id="7472804">)</span>&nbsp;<span class="op" id="7472806">[</span><span class="op" id="7472807">]</span><span class="builtintype" id="7472808">int</span>&nbsp;<span class="op" id="7472812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7472815">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472850">if</span>&nbsp;<span class="ident" id="7472853">res</span>&nbsp;<span class="op" id="7472857">==</span>&nbsp;<span class="string" id="7472860">&#34;-&#34;</span>&nbsp;<span class="op" id="7472864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472868">return</span>&nbsp;<span class="ident" id="7472875">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7472880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7472883">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472931">n</span>&nbsp;<span class="op" id="7472933">:=</span>&nbsp;<span class="num" id="7472936">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472939">for</span>&nbsp;<span class="ident" id="7472943">j</span>&nbsp;<span class="op" id="7472945">:=</span>&nbsp;<span class="num" id="7472948">0</span><span class="op" id="7472949">;</span>&nbsp;<span class="ident" id="7472951">j</span>&nbsp;<span class="op" id="7472953">&lt;</span>&nbsp;<span class="builtinfunc" id="7472955">len</span><span class="op" id="7472958">(</span><span class="ident" id="7472959">res</span><span class="op" id="7472962">)</span><span class="op" id="7472963">;</span>&nbsp;<span class="ident" id="7472965">j</span><span class="op" id="7472966">++</span>&nbsp;<span class="op" id="7472969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7472973">if</span>&nbsp;<span class="ident" id="7472976">res</span><span class="op" id="7472979">[</span><span class="ident" id="7472980">j</span><span class="op" id="7472981">]</span>&nbsp;<span class="op" id="7472983">==</span>&nbsp;<span class="string" id="7472986">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7472990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7472995">n</span><span class="op" id="7472996">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473004">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473007">out</span>&nbsp;<span class="op" id="7473011">:=</span>&nbsp;<span class="builtinfunc" id="7473014">make</span><span class="op" id="7473018">(</span><span class="op" id="7473019">[</span><span class="op" id="7473020">]</span><span class="builtintype" id="7473021">int</span><span class="op" id="7473024">,</span>&nbsp;<span class="num" id="7473026">2</span><span class="op" id="7473027">*</span><span class="ident" id="7473028">n</span><span class="op" id="7473029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473032">i</span>&nbsp;<span class="op" id="7473034">:=</span>&nbsp;<span class="num" id="7473037">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473040">n</span>&nbsp;<span class="op" id="7473042">=</span>&nbsp;<span class="num" id="7473044">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473047">for</span>&nbsp;<span class="ident" id="7473051">j</span>&nbsp;<span class="op" id="7473053">:=</span>&nbsp;<span class="num" id="7473056">0</span><span class="op" id="7473057">;</span>&nbsp;<span class="ident" id="7473059">j</span>&nbsp;<span class="op" id="7473061">&lt;=</span>&nbsp;<span class="builtinfunc" id="7473064">len</span><span class="op" id="7473067">(</span><span class="ident" id="7473068">res</span><span class="op" id="7473071">)</span><span class="op" id="7473072">;</span>&nbsp;<span class="ident" id="7473074">j</span><span class="op" id="7473075">++</span>&nbsp;<span class="op" id="7473078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473082">if</span>&nbsp;<span class="ident" id="7473085">j</span>&nbsp;<span class="op" id="7473087">==</span>&nbsp;<span class="builtinfunc" id="7473090">len</span><span class="op" id="7473093">(</span><span class="ident" id="7473094">res</span><span class="op" id="7473097">)</span>&nbsp;<span class="op" id="7473099">||</span>&nbsp;<span class="ident" id="7473102">res</span><span class="op" id="7473105">[</span><span class="ident" id="7473106">j</span><span class="op" id="7473107">]</span>&nbsp;<span class="op" id="7473109">==</span>&nbsp;<span class="string" id="7473112">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7473116">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7473121">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473172">pair</span>&nbsp;<span class="op" id="7473177">:=</span>&nbsp;<span class="ident" id="7473180">res</span><span class="op" id="7473183">[</span><span class="ident" id="7473184">i</span><span class="op" id="7473185">:</span><span class="ident" id="7473186">j</span><span class="op" id="7473187">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473192">if</span>&nbsp;<span class="ident" id="7473195">pair</span>&nbsp;<span class="op" id="7473200">==</span>&nbsp;<span class="string" id="7473203">&#34;-&#34;</span>&nbsp;<span class="op" id="7473207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473213">out</span><span class="op" id="7473216">[</span><span class="ident" id="7473217">n</span><span class="op" id="7473218">]</span>&nbsp;<span class="op" id="7473220">=</span>&nbsp;<span class="op" id="7473222">-</span><span class="num" id="7473223">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473229">out</span><span class="op" id="7473232">[</span><span class="ident" id="7473233">n</span><span class="op" id="7473234">+</span><span class="num" id="7473235">1</span><span class="op" id="7473236">]</span>&nbsp;<span class="op" id="7473238">=</span>&nbsp;<span class="op" id="7473240">-</span><span class="num" id="7473241">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473246">}</span>&nbsp;<span class="keyword" id="7473248">else</span>&nbsp;<span class="op" id="7473253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473259">k</span>&nbsp;<span class="op" id="7473261">:=</span>&nbsp;<span class="ident" id="7473264">strings</span><span class="op" id="7473271">.</span><span class="ident" id="7473272">Index</span><span class="op" id="7473277">(</span><span class="ident" id="7473278">pair</span><span class="op" id="7473282">,</span>&nbsp;<span class="string" id="7473284">&#34;-&#34;</span><span class="op" id="7473287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473293">if</span>&nbsp;<span class="ident" id="7473296">k</span>&nbsp;<span class="op" id="7473298">&lt;</span>&nbsp;<span class="num" id="7473300">0</span>&nbsp;<span class="op" id="7473302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473309">t</span><span class="op" id="7473310">.</span><span class="ident" id="7473311">Fatalf</span><span class="op" id="7473317">(</span><span class="string" id="7473318">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7473342">,</span>&nbsp;<span class="ident" id="7473344">file</span><span class="op" id="7473348">,</span>&nbsp;<span class="ident" id="7473350">lineno</span><span class="op" id="7473356">,</span>&nbsp;<span class="ident" id="7473358">pair</span><span class="op" id="7473362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473368">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473374">lo</span><span class="op" id="7473376">,</span>&nbsp;<span class="ident" id="7473378">err1</span>&nbsp;<span class="op" id="7473383">:=</span>&nbsp;<span class="ident" id="7473386">strconv</span><span class="op" id="7473393">.</span><span class="ident" id="7473394">Atoi</span><span class="op" id="7473398">(</span><span class="ident" id="7473399">pair</span><span class="op" id="7473403">[</span><span class="op" id="7473404">:</span><span class="ident" id="7473405">k</span><span class="op" id="7473406">]</span><span class="op" id="7473407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473413">hi</span><span class="op" id="7473415">,</span>&nbsp;<span class="ident" id="7473417">err2</span>&nbsp;<span class="op" id="7473422">:=</span>&nbsp;<span class="ident" id="7473425">strconv</span><span class="op" id="7473432">.</span><span class="ident" id="7473433">Atoi</span><span class="op" id="7473437">(</span><span class="ident" id="7473438">pair</span><span class="op" id="7473442">[</span><span class="ident" id="7473443">k</span><span class="op" id="7473444">+</span><span class="num" id="7473445">1</span><span class="op" id="7473446">:</span><span class="op" id="7473447">]</span><span class="op" id="7473448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473454">if</span>&nbsp;<span class="ident" id="7473457">err1</span>&nbsp;<span class="op" id="7473462">!=</span>&nbsp;<span class="ident" id="7473465">nil</span>&nbsp;<span class="op" id="7473469">||</span>&nbsp;<span class="ident" id="7473472">err2</span>&nbsp;<span class="op" id="7473477">!=</span>&nbsp;<span class="ident" id="7473480">nil</span>&nbsp;<span class="op" id="7473484">||</span>&nbsp;<span class="ident" id="7473487">lo</span>&nbsp;<span class="op" id="7473490">&gt;</span>&nbsp;<span class="ident" id="7473492">hi</span>&nbsp;<span class="op" id="7473495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473502">t</span><span class="op" id="7473503">.</span><span class="ident" id="7473504">Fatalf</span><span class="op" id="7473510">(</span><span class="string" id="7473511">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7473535">,</span>&nbsp;<span class="ident" id="7473537">file</span><span class="op" id="7473541">,</span>&nbsp;<span class="ident" id="7473543">lineno</span><span class="op" id="7473549">,</span>&nbsp;<span class="ident" id="7473551">pair</span><span class="op" id="7473555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473561">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473567">out</span><span class="op" id="7473570">[</span><span class="ident" id="7473571">n</span><span class="op" id="7473572">]</span>&nbsp;<span class="op" id="7473574">=</span>&nbsp;<span class="ident" id="7473576">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473583">out</span><span class="op" id="7473586">[</span><span class="ident" id="7473587">n</span><span class="op" id="7473588">+</span><span class="num" id="7473589">1</span><span class="op" id="7473590">]</span>&nbsp;<span class="op" id="7473592">=</span>&nbsp;<span class="ident" id="7473594">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473605">n</span>&nbsp;<span class="op" id="7473607">+=</span>&nbsp;<span class="num" id="7473610">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7473615">i</span>&nbsp;<span class="op" id="7473617">=</span>&nbsp;<span class="ident" id="7473619">j</span>&nbsp;<span class="op" id="7473621">+</span>&nbsp;<span class="num" id="7473623">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473633">return</span>&nbsp;<span class="ident" id="7473640">out</span><br>
<span class="lineno"></span><span class="op" id="7473644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7473647">func</span>&nbsp;<span class="ident" id="7473652">same</span><span class="op" id="7473656">(</span><span class="ident" id="7473657">x</span><span class="op" id="7473658">,</span>&nbsp;<span class="ident" id="7473660">y</span>&nbsp;<span class="op" id="7473662">[</span><span class="op" id="7473663">]</span><span class="builtintype" id="7473664">int</span><span class="op" id="7473667">)</span>&nbsp;<span class="builtintype" id="7473669">bool</span>&nbsp;<span class="op" id="7473674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473677">if</span>&nbsp;<span class="builtinfunc" id="7473680">len</span><span class="op" id="7473683">(</span><span class="ident" id="7473684">x</span><span class="op" id="7473685">)</span>&nbsp;<span class="op" id="7473687">!=</span>&nbsp;<span class="builtinfunc" id="7473690">len</span><span class="op" id="7473693">(</span><span class="ident" id="7473694">y</span><span class="op" id="7473695">)</span>&nbsp;<span class="op" id="7473697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473701">return</span>&nbsp;<span class="builtintype" id="7473708">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473718">for</span>&nbsp;<span class="ident" id="7473722">i</span><span class="op" id="7473723">,</span>&nbsp;<span class="ident" id="7473725">xi</span>&nbsp;<span class="op" id="7473728">:=</span>&nbsp;<span class="keyword" id="7473731">range</span>&nbsp;<span class="ident" id="7473737">x</span>&nbsp;<span class="op" id="7473739">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473743">if</span>&nbsp;<span class="ident" id="7473746">xi</span>&nbsp;<span class="op" id="7473749">!=</span>&nbsp;<span class="ident" id="7473752">y</span><span class="op" id="7473753">[</span><span class="ident" id="7473754">i</span><span class="op" id="7473755">]</span>&nbsp;<span class="op" id="7473757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473762">return</span>&nbsp;<span class="builtintype" id="7473769">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7473780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7473783">return</span>&nbsp;<span class="builtintype" id="7473790">true</span><br>
<span class="lineno">325</span><span class="op" id="7473795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7473798">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7473855">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="7473915">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="7473967">func</span>&nbsp;<span class="ident" id="7473972">TestFowler</span><span class="op" id="7473982">(</span><span class="ident" id="7473983">t</span>&nbsp;<span class="op" id="7473985">*</span><span class="ident" id="7473986">testing</span><span class="op" id="7473993">.</span><span class="ident" id="7473994">T</span><span class="op" id="7473995">)</span>&nbsp;<span class="op" id="7473997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474000">files</span><span class="op" id="7474005">,</span>&nbsp;<span class="ident" id="7474007">err</span>&nbsp;<span class="op" id="7474011">:=</span>&nbsp;<span class="ident" id="7474014">filepath</span><span class="op" id="7474022">.</span><span class="ident" id="7474023">Glob</span><span class="op" id="7474027">(</span><span class="string" id="7474028">&#34;testdata/*.dat&#34;</span><span class="op" id="7474044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474047">if</span>&nbsp;<span class="ident" id="7474050">err</span>&nbsp;<span class="op" id="7474054">!=</span>&nbsp;<span class="ident" id="7474057">nil</span>&nbsp;<span class="op" id="7474061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474065">t</span><span class="op" id="7474066">.</span><span class="ident" id="7474067">Fatal</span><span class="op" id="7474072">(</span><span class="ident" id="7474073">err</span><span class="op" id="7474076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474079">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474082">for</span>&nbsp;<span class="ident" id="7474086">_</span><span class="op" id="7474087">,</span>&nbsp;<span class="ident" id="7474089">file</span>&nbsp;<span class="op" id="7474094">:=</span>&nbsp;<span class="keyword" id="7474097">range</span>&nbsp;<span class="ident" id="7474103">files</span>&nbsp;<span class="op" id="7474109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474113">t</span><span class="op" id="7474114">.</span><span class="ident" id="7474115">Log</span><span class="op" id="7474118">(</span><span class="ident" id="7474119">file</span><span class="op" id="7474123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474127">testFowler</span><span class="op" id="7474137">(</span><span class="ident" id="7474138">t</span><span class="op" id="7474139">,</span>&nbsp;<span class="ident" id="7474141">file</span><span class="op" id="7474145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474148">}</span><br>
<span class="lineno"></span><span class="op" id="7474150">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7474153">var</span>&nbsp;<span class="ident" id="7474157">notab</span>&nbsp;<span class="op" id="7474163">=</span>&nbsp;<span class="ident" id="7474165">MustCompilePOSIX</span><span class="op" id="7474181">(</span><span class="string" id="7474182">`[^\t]+`</span><span class="op" id="7474190">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7474193">func</span>&nbsp;<span class="ident" id="7474198">testFowler</span><span class="op" id="7474208">(</span><span class="ident" id="7474209">t</span>&nbsp;<span class="op" id="7474211">*</span><span class="ident" id="7474212">testing</span><span class="op" id="7474219">.</span><span class="ident" id="7474220">T</span><span class="op" id="7474221">,</span>&nbsp;<span class="ident" id="7474223">file</span>&nbsp;<span class="builtintype" id="7474228">string</span><span class="op" id="7474234">)</span>&nbsp;<span class="op" id="7474236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474239">f</span><span class="op" id="7474240">,</span>&nbsp;<span class="ident" id="7474242">err</span>&nbsp;<span class="op" id="7474246">:=</span>&nbsp;<span class="ident" id="7474249">os</span><span class="op" id="7474251">.</span><span class="ident" id="7474252">Open</span><span class="op" id="7474256">(</span><span class="ident" id="7474257">file</span><span class="op" id="7474261">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474264">if</span>&nbsp;<span class="ident" id="7474267">err</span>&nbsp;<span class="op" id="7474271">!=</span>&nbsp;<span class="ident" id="7474274">nil</span>&nbsp;<span class="op" id="7474278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474282">t</span><span class="op" id="7474283">.</span><span class="ident" id="7474284">Error</span><span class="op" id="7474289">(</span><span class="ident" id="7474290">err</span><span class="op" id="7474293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474297">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474308">defer</span>&nbsp;<span class="ident" id="7474314">f</span><span class="op" id="7474315">.</span><span class="ident" id="7474316">Close</span><span class="op" id="7474321">(</span><span class="op" id="7474322">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474325">b</span>&nbsp;<span class="op" id="7474327">:=</span>&nbsp;<span class="ident" id="7474330">bufio</span><span class="op" id="7474335">.</span><span class="ident" id="7474336">NewReader</span><span class="op" id="7474345">(</span><span class="ident" id="7474346">f</span><span class="op" id="7474347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474350">lineno</span>&nbsp;<span class="op" id="7474357">:=</span>&nbsp;<span class="num" id="7474360">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474363">lastRegexp</span>&nbsp;<span class="op" id="7474374">:=</span>&nbsp;<span class="string" id="7474377">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="7474380">Reading</span><span class="op" id="7474387">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474390">for</span>&nbsp;<span class="op" id="7474394">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474398">lineno</span><span class="op" id="7474404">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474409">line</span><span class="op" id="7474413">,</span>&nbsp;<span class="ident" id="7474415">err</span>&nbsp;<span class="op" id="7474419">:=</span>&nbsp;<span class="ident" id="7474422">b</span><span class="op" id="7474423">.</span><span class="ident" id="7474424">ReadString</span><span class="op" id="7474434">(</span><span class="string" id="7474435">&#39;\n&#39;</span><span class="op" id="7474439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474443">if</span>&nbsp;<span class="ident" id="7474446">err</span>&nbsp;<span class="op" id="7474450">!=</span>&nbsp;<span class="ident" id="7474453">nil</span>&nbsp;<span class="op" id="7474457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474462">if</span>&nbsp;<span class="ident" id="7474465">err</span>&nbsp;<span class="op" id="7474469">!=</span>&nbsp;<span class="ident" id="7474472">io</span><span class="op" id="7474474">.</span><span class="ident" id="7474475">EOF</span>&nbsp;<span class="op" id="7474479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474485">t</span><span class="op" id="7474486">.</span><span class="ident" id="7474487">Errorf</span><span class="op" id="7474493">(</span><span class="string" id="7474494">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7474505">,</span>&nbsp;<span class="ident" id="7474507">file</span><span class="op" id="7474511">,</span>&nbsp;<span class="ident" id="7474513">lineno</span><span class="op" id="7474519">,</span>&nbsp;<span class="ident" id="7474521">err</span><span class="op" id="7474524">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474534">break</span>&nbsp;<span class="ident" id="7474540">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7474555">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7474618">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7474623">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7474641">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7474712">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7474782">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7474853">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474871">if</span>&nbsp;<span class="ident" id="7474874">line</span><span class="op" id="7474878">[</span><span class="num" id="7474879">0</span><span class="op" id="7474880">]</span>&nbsp;<span class="op" id="7474882">==</span>&nbsp;<span class="string" id="7474885">&#39;#&#39;</span>&nbsp;<span class="op" id="7474889">||</span>&nbsp;<span class="ident" id="7474892">line</span><span class="op" id="7474896">[</span><span class="num" id="7474897">0</span><span class="op" id="7474898">]</span>&nbsp;<span class="op" id="7474900">==</span>&nbsp;<span class="string" id="7474903">&#39;\n&#39;</span>&nbsp;<span class="op" id="7474908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7474913">continue</span>&nbsp;<span class="ident" id="7474922">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7474932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474936">line</span>&nbsp;<span class="op" id="7474941">=</span>&nbsp;<span class="ident" id="7474943">line</span><span class="op" id="7474947">[</span><span class="op" id="7474948">:</span><span class="builtinfunc" id="7474949">len</span><span class="op" id="7474952">(</span><span class="ident" id="7474953">line</span><span class="op" id="7474957">)</span><span class="op" id="7474958">-</span><span class="num" id="7474959">1</span><span class="op" id="7474960">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7474964">field</span>&nbsp;<span class="op" id="7474970">:=</span>&nbsp;<span class="ident" id="7474973">notab</span><span class="op" id="7474978">.</span><span class="ident" id="7474979">FindAllString</span><span class="op" id="7474992">(</span><span class="ident" id="7474993">line</span><span class="op" id="7474997">,</span>&nbsp;<span class="op" id="7474999">-</span><span class="num" id="7475000">1</span><span class="op" id="7475001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475005">for</span>&nbsp;<span class="ident" id="7475009">i</span><span class="op" id="7475010">,</span>&nbsp;<span class="ident" id="7475012">f</span>&nbsp;<span class="op" id="7475014">:=</span>&nbsp;<span class="keyword" id="7475017">range</span>&nbsp;<span class="ident" id="7475023">field</span>&nbsp;<span class="op" id="7475029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475034">if</span>&nbsp;<span class="ident" id="7475037">f</span>&nbsp;<span class="op" id="7475039">==</span>&nbsp;<span class="string" id="7475042">&#34;NULL&#34;</span>&nbsp;<span class="op" id="7475049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475055">field</span><span class="op" id="7475060">[</span><span class="ident" id="7475061">i</span><span class="op" id="7475062">]</span>&nbsp;<span class="op" id="7475064">=</span>&nbsp;<span class="string" id="7475066">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475072">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475077">if</span>&nbsp;<span class="ident" id="7475080">f</span>&nbsp;<span class="op" id="7475082">==</span>&nbsp;<span class="string" id="7475085">&#34;NIL&#34;</span>&nbsp;<span class="op" id="7475091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475097">t</span><span class="op" id="7475098">.</span><span class="ident" id="7475099">Logf</span><span class="op" id="7475103">(</span><span class="string" id="7475104">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="7475121">,</span>&nbsp;<span class="ident" id="7475123">file</span><span class="op" id="7475127">,</span>&nbsp;<span class="ident" id="7475129">lineno</span><span class="op" id="7475135">,</span>&nbsp;<span class="ident" id="7475137">line</span><span class="op" id="7475141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475147">continue</span>&nbsp;<span class="ident" id="7475156">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475171">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475175">if</span>&nbsp;<span class="builtinfunc" id="7475178">len</span><span class="op" id="7475181">(</span><span class="ident" id="7475182">field</span><span class="op" id="7475187">)</span>&nbsp;<span class="op" id="7475189">==</span>&nbsp;<span class="num" id="7475192">0</span>&nbsp;<span class="op" id="7475194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7475199">continue</span>&nbsp;<span class="ident" id="7475208">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475223">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475298">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475370">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475442">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475521">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475580">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475585">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbspbasic&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspBRE&nbsp;&nbsp;&nbsp;&nbsp(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475625">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbspREG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspERE&nbsp;&nbsp;&nbsp;&nbsp(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475663">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbspREG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspARE&nbsp;&nbsp;&nbsp;&nbsp(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475715">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbspREG_SHELL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspSRE&nbsp;&nbsp;&nbsp;&nbsp(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475751">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbspREG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbspKRE&nbsp;&nbsp;&nbsp;&nbsp(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475801">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbspREG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspLRE&nbsp;&nbsp;&nbsp;&nbsp(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475837">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475842">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbspREG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475887">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbspREG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475931">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbspREG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7475979">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476030">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbspREG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsprhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476074">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbspREG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476130">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbspFNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsptestfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476192">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbspREG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476240">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbspREG_ICASE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476274">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbspREG_SPAN&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476308">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbspREG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476358">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476393">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbspREG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspminimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476431">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbspREG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476473">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbspREG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476527">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476571">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbspREG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspdelimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476615">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbspREG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476651">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476694">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbspREG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspall&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476753">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbspstandard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476816">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbspREG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476867">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbspREG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspno&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476918">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbspREG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplet&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7476964">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspregexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477009">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbspREG_NULL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspNULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477053">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477126">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477198">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477269">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477274">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477304">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477309">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspset&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477370">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477375">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477453">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477518">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477590">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477639">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspskip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477681">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspend&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477705">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477710">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477760">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477801">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477855">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477887">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7477892">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspuse&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477947">flag</span>&nbsp;<span class="op" id="7477952">:=</span>&nbsp;<span class="ident" id="7477955">field</span><span class="op" id="7477960">[</span><span class="num" id="7477961">0</span><span class="op" id="7477962">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477966">switch</span>&nbsp;<span class="ident" id="7477973">flag</span><span class="op" id="7477977">[</span><span class="num" id="7477978">0</span><span class="op" id="7477979">]</span>&nbsp;<span class="op" id="7477981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477985">case</span>&nbsp;<span class="string" id="7477990">&#39;?&#39;</span><span class="op" id="7477993">,</span>&nbsp;<span class="string" id="7477995">&#39;&amp;&#39;</span><span class="op" id="7477998">,</span>&nbsp;<span class="string" id="7478000">&#39;|&#39;</span><span class="op" id="7478003">,</span>&nbsp;<span class="string" id="7478005">&#39;;&#39;</span><span class="op" id="7478008">,</span>&nbsp;<span class="string" id="7478010">&#39;{&#39;</span><span class="op" id="7478013">,</span>&nbsp;<span class="string" id="7478015">&#39;}&#39;</span><span class="op" id="7478018">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7478023">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7478063">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478090">flag</span>&nbsp;<span class="op" id="7478095">=</span>&nbsp;<span class="ident" id="7478097">flag</span><span class="op" id="7478101">[</span><span class="num" id="7478102">1</span><span class="op" id="7478103">:</span><span class="op" id="7478104">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478109">if</span>&nbsp;<span class="ident" id="7478112">flag</span>&nbsp;<span class="op" id="7478117">==</span>&nbsp;<span class="string" id="7478120">&#34;&#34;</span>&nbsp;<span class="op" id="7478123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478129">continue</span>&nbsp;<span class="ident" id="7478138">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478153">case</span>&nbsp;<span class="string" id="7478158">&#39;:&#39;</span><span class="op" id="7478161">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478166">i</span>&nbsp;<span class="op" id="7478168">:=</span>&nbsp;<span class="ident" id="7478171">strings</span><span class="op" id="7478178">.</span><span class="ident" id="7478179">Index</span><span class="op" id="7478184">(</span><span class="ident" id="7478185">flag</span><span class="op" id="7478189">[</span><span class="num" id="7478190">1</span><span class="op" id="7478191">:</span><span class="op" id="7478192">]</span><span class="op" id="7478193">,</span>&nbsp;<span class="string" id="7478195">&#34;:&#34;</span><span class="op" id="7478198">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478203">if</span>&nbsp;<span class="ident" id="7478206">i</span>&nbsp;<span class="op" id="7478208">&lt;</span>&nbsp;<span class="num" id="7478210">0</span>&nbsp;<span class="op" id="7478212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478218">t</span><span class="op" id="7478219">.</span><span class="ident" id="7478220">Logf</span><span class="op" id="7478224">(</span><span class="string" id="7478225">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7478235">,</span>&nbsp;<span class="ident" id="7478237">line</span><span class="op" id="7478241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478247">continue</span>&nbsp;<span class="ident" id="7478256">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478272">flag</span>&nbsp;<span class="op" id="7478277">=</span>&nbsp;<span class="ident" id="7478279">flag</span><span class="op" id="7478283">[</span><span class="num" id="7478284">1</span><span class="op" id="7478285">+</span><span class="ident" id="7478286">i</span><span class="op" id="7478287">+</span><span class="num" id="7478288">1</span><span class="op" id="7478289">:</span><span class="op" id="7478290">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478294">case</span>&nbsp;<span class="string" id="7478299">&#39;C&#39;</span><span class="op" id="7478302">,</span>&nbsp;<span class="string" id="7478304">&#39;N&#39;</span><span class="op" id="7478307">,</span>&nbsp;<span class="string" id="7478309">&#39;T&#39;</span><span class="op" id="7478312">,</span>&nbsp;<span class="string" id="7478314">&#39;0&#39;</span><span class="op" id="7478317">,</span>&nbsp;<span class="string" id="7478319">&#39;1&#39;</span><span class="op" id="7478322">,</span>&nbsp;<span class="string" id="7478324">&#39;2&#39;</span><span class="op" id="7478327">,</span>&nbsp;<span class="string" id="7478329">&#39;3&#39;</span><span class="op" id="7478332">,</span>&nbsp;<span class="string" id="7478334">&#39;4&#39;</span><span class="op" id="7478337">,</span>&nbsp;<span class="string" id="7478339">&#39;5&#39;</span><span class="op" id="7478342">,</span>&nbsp;<span class="string" id="7478344">&#39;6&#39;</span><span class="op" id="7478347">,</span>&nbsp;<span class="string" id="7478349">&#39;7&#39;</span><span class="op" id="7478352">,</span>&nbsp;<span class="string" id="7478354">&#39;8&#39;</span><span class="op" id="7478357">,</span>&nbsp;<span class="string" id="7478359">&#39;9&#39;</span><span class="op" id="7478362">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478367">t</span><span class="op" id="7478368">.</span><span class="ident" id="7478369">Logf</span><span class="op" id="7478373">(</span><span class="string" id="7478374">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7478384">,</span>&nbsp;<span class="ident" id="7478386">line</span><span class="op" id="7478390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478395">continue</span>&nbsp;<span class="ident" id="7478404">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7478419">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478497">if</span>&nbsp;<span class="builtinfunc" id="7478500">len</span><span class="op" id="7478503">(</span><span class="ident" id="7478504">field</span><span class="op" id="7478509">)</span>&nbsp;<span class="op" id="7478511">&lt;</span>&nbsp;<span class="num" id="7478513">4</span>&nbsp;<span class="op" id="7478515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478520">t</span><span class="op" id="7478521">.</span><span class="ident" id="7478522">Errorf</span><span class="op" id="7478528">(</span><span class="string" id="7478529">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="7478556">,</span>&nbsp;<span class="ident" id="7478558">file</span><span class="op" id="7478562">,</span>&nbsp;<span class="ident" id="7478564">lineno</span><span class="op" id="7478570">,</span>&nbsp;<span class="ident" id="7478572">line</span><span class="op" id="7478576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478581">continue</span>&nbsp;<span class="ident" id="7478590">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478600">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7478605">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478648">if</span>&nbsp;<span class="ident" id="7478651">strings</span><span class="op" id="7478658">.</span><span class="ident" id="7478659">Contains</span><span class="op" id="7478667">(</span><span class="ident" id="7478668">flag</span><span class="op" id="7478672">,</span>&nbsp;<span class="string" id="7478674">&#34;$&#34;</span><span class="op" id="7478677">)</span>&nbsp;<span class="op" id="7478679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478684">f</span>&nbsp;<span class="op" id="7478686">:=</span>&nbsp;<span class="string" id="7478689">`&#34;`</span>&nbsp;<span class="op" id="7478693">+</span>&nbsp;<span class="ident" id="7478695">field</span><span class="op" id="7478700">[</span><span class="num" id="7478701">1</span><span class="op" id="7478702">]</span>&nbsp;<span class="op" id="7478704">+</span>&nbsp;<span class="string" id="7478706">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478713">if</span>&nbsp;<span class="ident" id="7478716">field</span><span class="op" id="7478721">[</span><span class="num" id="7478722">1</span><span class="op" id="7478723">]</span><span class="op" id="7478724">,</span>&nbsp;<span class="ident" id="7478726">err</span>&nbsp;<span class="op" id="7478730">=</span>&nbsp;<span class="ident" id="7478732">strconv</span><span class="op" id="7478739">.</span><span class="ident" id="7478740">Unquote</span><span class="op" id="7478747">(</span><span class="ident" id="7478748">f</span><span class="op" id="7478749">)</span><span class="op" id="7478750">;</span>&nbsp;<span class="ident" id="7478752">err</span>&nbsp;<span class="op" id="7478756">!=</span>&nbsp;<span class="ident" id="7478759">nil</span>&nbsp;<span class="op" id="7478763">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478769">t</span><span class="op" id="7478770">.</span><span class="ident" id="7478771">Errorf</span><span class="op" id="7478777">(</span><span class="string" id="7478778">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7478804">,</span>&nbsp;<span class="ident" id="7478806">file</span><span class="op" id="7478810">,</span>&nbsp;<span class="ident" id="7478812">lineno</span><span class="op" id="7478818">,</span>&nbsp;<span class="ident" id="7478820">f</span><span class="op" id="7478821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478831">f</span>&nbsp;<span class="op" id="7478833">=</span>&nbsp;<span class="string" id="7478835">`&#34;`</span>&nbsp;<span class="op" id="7478839">+</span>&nbsp;<span class="ident" id="7478841">field</span><span class="op" id="7478846">[</span><span class="num" id="7478847">2</span><span class="op" id="7478848">]</span>&nbsp;<span class="op" id="7478850">+</span>&nbsp;<span class="string" id="7478852">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478859">if</span>&nbsp;<span class="ident" id="7478862">field</span><span class="op" id="7478867">[</span><span class="num" id="7478868">2</span><span class="op" id="7478869">]</span><span class="op" id="7478870">,</span>&nbsp;<span class="ident" id="7478872">err</span>&nbsp;<span class="op" id="7478876">=</span>&nbsp;<span class="ident" id="7478878">strconv</span><span class="op" id="7478885">.</span><span class="ident" id="7478886">Unquote</span><span class="op" id="7478893">(</span><span class="ident" id="7478894">f</span><span class="op" id="7478895">)</span><span class="op" id="7478896">;</span>&nbsp;<span class="ident" id="7478898">err</span>&nbsp;<span class="op" id="7478902">!=</span>&nbsp;<span class="ident" id="7478905">nil</span>&nbsp;<span class="op" id="7478909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478915">t</span><span class="op" id="7478916">.</span><span class="ident" id="7478917">Errorf</span><span class="op" id="7478923">(</span><span class="string" id="7478924">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7478950">,</span>&nbsp;<span class="ident" id="7478952">file</span><span class="op" id="7478956">,</span>&nbsp;<span class="ident" id="7478958">lineno</span><span class="op" id="7478964">,</span>&nbsp;<span class="ident" id="7478966">f</span><span class="op" id="7478967">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7478981">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7479056">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7479093">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479098">if</span>&nbsp;<span class="ident" id="7479101">field</span><span class="op" id="7479106">[</span><span class="num" id="7479107">1</span><span class="op" id="7479108">]</span>&nbsp;<span class="op" id="7479110">==</span>&nbsp;<span class="string" id="7479113">&#34;SAME&#34;</span>&nbsp;<span class="op" id="7479120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479125">field</span><span class="op" id="7479130">[</span><span class="num" id="7479131">1</span><span class="op" id="7479132">]</span>&nbsp;<span class="op" id="7479134">=</span>&nbsp;<span class="ident" id="7479136">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479153">lastRegexp</span>&nbsp;<span class="op" id="7479164">=</span>&nbsp;<span class="ident" id="7479166">field</span><span class="op" id="7479171">[</span><span class="num" id="7479172">1</span><span class="op" id="7479173">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7479178">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479215">text</span>&nbsp;<span class="op" id="7479220">:=</span>&nbsp;<span class="ident" id="7479223">field</span><span class="op" id="7479228">[</span><span class="num" id="7479229">2</span><span class="op" id="7479230">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7479235">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479271">ok</span><span class="op" id="7479273">,</span>&nbsp;<span class="ident" id="7479275">shouldCompile</span><span class="op" id="7479288">,</span>&nbsp;<span class="ident" id="7479290">shouldMatch</span><span class="op" id="7479301">,</span>&nbsp;<span class="ident" id="7479303">pos</span>&nbsp;<span class="op" id="7479307">:=</span>&nbsp;<span class="ident" id="7479310">parseFowlerResult</span><span class="op" id="7479327">(</span><span class="ident" id="7479328">field</span><span class="op" id="7479333">[</span><span class="num" id="7479334">3</span><span class="op" id="7479335">]</span><span class="op" id="7479336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479340">if</span>&nbsp;<span class="op" id="7479343">!</span><span class="ident" id="7479344">ok</span>&nbsp;<span class="op" id="7479347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479352">t</span><span class="op" id="7479353">.</span><span class="ident" id="7479354">Errorf</span><span class="op" id="7479360">(</span><span class="string" id="7479361">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="7479393">,</span>&nbsp;<span class="ident" id="7479395">file</span><span class="op" id="7479399">,</span>&nbsp;<span class="ident" id="7479401">lineno</span><span class="op" id="7479407">,</span>&nbsp;<span class="ident" id="7479409">field</span><span class="op" id="7479414">[</span><span class="num" id="7479415">3</span><span class="op" id="7479416">]</span><span class="op" id="7479417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479422">continue</span>&nbsp;<span class="ident" id="7479431">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479441">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7479446">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479503">Testing</span><span class="op" id="7479510">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7479514">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479589">for</span>&nbsp;<span class="ident" id="7479593">_</span><span class="op" id="7479594">,</span>&nbsp;<span class="ident" id="7479596">c</span>&nbsp;<span class="op" id="7479598">:=</span>&nbsp;<span class="keyword" id="7479601">range</span>&nbsp;<span class="ident" id="7479607">flag</span>&nbsp;<span class="op" id="7479612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479617">pattern</span>&nbsp;<span class="op" id="7479625">:=</span>&nbsp;<span class="ident" id="7479628">field</span><span class="op" id="7479633">[</span><span class="num" id="7479634">1</span><span class="op" id="7479635">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479640">syn</span>&nbsp;<span class="op" id="7479644">:=</span>&nbsp;<span class="ident" id="7479647">syntax</span><span class="op" id="7479653">.</span><span class="ident" id="7479654">POSIX</span>&nbsp;<span class="op" id="7479660">|</span>&nbsp;<span class="ident" id="7479662">syntax</span><span class="op" id="7479668">.</span><span class="ident" id="7479669">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479680">switch</span>&nbsp;<span class="ident" id="7479687">c</span>&nbsp;<span class="op" id="7479689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479694">default</span><span class="op" id="7479701">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479707">continue</span>&nbsp;<span class="ident" id="7479716">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479727">case</span>&nbsp;<span class="string" id="7479732">&#39;E&#39;</span><span class="op" id="7479735">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7479741">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479781">case</span>&nbsp;<span class="string" id="7479786">&#39;L&#39;</span><span class="op" id="7479789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7479795">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479810">pattern</span>&nbsp;<span class="op" id="7479818">=</span>&nbsp;<span class="ident" id="7479820">QuoteMeta</span><span class="op" id="7479829">(</span><span class="ident" id="7479830">pattern</span><span class="op" id="7479837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479848">for</span>&nbsp;<span class="ident" id="7479852">_</span><span class="op" id="7479853">,</span>&nbsp;<span class="ident" id="7479855">c</span>&nbsp;<span class="op" id="7479857">:=</span>&nbsp;<span class="keyword" id="7479860">range</span>&nbsp;<span class="ident" id="7479866">flag</span>&nbsp;<span class="op" id="7479871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479877">switch</span>&nbsp;<span class="ident" id="7479884">c</span>&nbsp;<span class="op" id="7479886">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479892">case</span>&nbsp;<span class="string" id="7479897">&#39;i&#39;</span><span class="op" id="7479900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479907">syn</span>&nbsp;<span class="op" id="7479911">|=</span>&nbsp;<span class="ident" id="7479914">syntax</span><span class="op" id="7479920">.</span><span class="ident" id="7479921">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479945">re</span><span class="op" id="7479947">,</span>&nbsp;<span class="ident" id="7479949">err</span>&nbsp;<span class="op" id="7479953">:=</span>&nbsp;<span class="ident" id="7479956">compile</span><span class="op" id="7479963">(</span><span class="ident" id="7479964">pattern</span><span class="op" id="7479971">,</span>&nbsp;<span class="ident" id="7479973">syn</span><span class="op" id="7479976">,</span>&nbsp;<span class="builtintype" id="7479978">true</span><span class="op" id="7479982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479987">if</span>&nbsp;<span class="ident" id="7479990">err</span>&nbsp;<span class="op" id="7479994">!=</span>&nbsp;<span class="ident" id="7479997">nil</span>&nbsp;<span class="op" id="7480001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480007">if</span>&nbsp;<span class="ident" id="7480010">shouldCompile</span>&nbsp;<span class="op" id="7480024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480031">t</span><span class="op" id="7480032">.</span><span class="ident" id="7480033">Errorf</span><span class="op" id="7480039">(</span><span class="string" id="7480040">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7480068">,</span>&nbsp;<span class="ident" id="7480070">file</span><span class="op" id="7480074">,</span>&nbsp;<span class="ident" id="7480076">lineno</span><span class="op" id="7480082">,</span>&nbsp;<span class="ident" id="7480084">pattern</span><span class="op" id="7480091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480097">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480103">continue</span>&nbsp;<span class="ident" id="7480112">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480128">if</span>&nbsp;<span class="op" id="7480131">!</span><span class="ident" id="7480132">shouldCompile</span>&nbsp;<span class="op" id="7480146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480152">t</span><span class="op" id="7480153">.</span><span class="ident" id="7480154">Errorf</span><span class="op" id="7480160">(</span><span class="string" id="7480161">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7480192">,</span>&nbsp;<span class="ident" id="7480194">file</span><span class="op" id="7480198">,</span>&nbsp;<span class="ident" id="7480200">lineno</span><span class="op" id="7480206">,</span>&nbsp;<span class="ident" id="7480208">pattern</span><span class="op" id="7480215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480221">continue</span>&nbsp;<span class="ident" id="7480230">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480246">match</span>&nbsp;<span class="op" id="7480252">:=</span>&nbsp;<span class="ident" id="7480255">re</span><span class="op" id="7480257">.</span><span class="ident" id="7480258">MatchString</span><span class="op" id="7480269">(</span><span class="ident" id="7480270">text</span><span class="op" id="7480274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480279">if</span>&nbsp;<span class="ident" id="7480282">match</span>&nbsp;<span class="op" id="7480288">!=</span>&nbsp;<span class="ident" id="7480291">shouldMatch</span>&nbsp;<span class="op" id="7480303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480309">t</span><span class="op" id="7480310">.</span><span class="ident" id="7480311">Errorf</span><span class="op" id="7480317">(</span><span class="string" id="7480318">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7480355">,</span>&nbsp;<span class="ident" id="7480357">file</span><span class="op" id="7480361">,</span>&nbsp;<span class="ident" id="7480363">lineno</span><span class="op" id="7480369">,</span>&nbsp;<span class="ident" id="7480371">pattern</span><span class="op" id="7480378">,</span>&nbsp;<span class="ident" id="7480380">text</span><span class="op" id="7480384">,</span>&nbsp;<span class="ident" id="7480386">match</span><span class="op" id="7480391">,</span>&nbsp;<span class="ident" id="7480393">shouldMatch</span><span class="op" id="7480404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480410">continue</span>&nbsp;<span class="ident" id="7480419">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480435">have</span>&nbsp;<span class="op" id="7480440">:=</span>&nbsp;<span class="ident" id="7480443">re</span><span class="op" id="7480445">.</span><span class="ident" id="7480446">FindStringSubmatchIndex</span><span class="op" id="7480469">(</span><span class="ident" id="7480470">text</span><span class="op" id="7480474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480479">if</span>&nbsp;<span class="op" id="7480482">(</span><span class="builtinfunc" id="7480483">len</span><span class="op" id="7480486">(</span><span class="ident" id="7480487">have</span><span class="op" id="7480491">)</span>&nbsp;<span class="op" id="7480493">&gt;</span>&nbsp;<span class="num" id="7480495">0</span><span class="op" id="7480496">)</span>&nbsp;<span class="op" id="7480498">!=</span>&nbsp;<span class="ident" id="7480501">match</span>&nbsp;<span class="op" id="7480507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480513">t</span><span class="op" id="7480514">.</span><span class="ident" id="7480515">Errorf</span><span class="op" id="7480521">(</span><span class="string" id="7480522">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7480587">,</span>&nbsp;<span class="ident" id="7480589">file</span><span class="op" id="7480593">,</span>&nbsp;<span class="ident" id="7480595">lineno</span><span class="op" id="7480601">,</span>&nbsp;<span class="ident" id="7480603">pattern</span><span class="op" id="7480610">,</span>&nbsp;<span class="ident" id="7480612">text</span><span class="op" id="7480616">,</span>&nbsp;<span class="ident" id="7480618">match</span><span class="op" id="7480623">,</span>&nbsp;<span class="ident" id="7480625">pattern</span><span class="op" id="7480632">,</span>&nbsp;<span class="ident" id="7480634">text</span><span class="op" id="7480638">,</span>&nbsp;<span class="ident" id="7480640">have</span><span class="op" id="7480644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480650">continue</span>&nbsp;<span class="ident" id="7480659">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480675">if</span>&nbsp;<span class="builtinfunc" id="7480678">len</span><span class="op" id="7480681">(</span><span class="ident" id="7480682">have</span><span class="op" id="7480686">)</span>&nbsp;<span class="op" id="7480688">&gt;</span>&nbsp;<span class="builtinfunc" id="7480690">len</span><span class="op" id="7480693">(</span><span class="ident" id="7480694">pos</span><span class="op" id="7480697">)</span>&nbsp;<span class="op" id="7480699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480705">have</span>&nbsp;<span class="op" id="7480710">=</span>&nbsp;<span class="ident" id="7480712">have</span><span class="op" id="7480716">[</span><span class="op" id="7480717">:</span><span class="builtinfunc" id="7480718">len</span><span class="op" id="7480721">(</span><span class="ident" id="7480722">pos</span><span class="op" id="7480725">)</span><span class="op" id="7480726">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480736">if</span>&nbsp;<span class="op" id="7480739">!</span><span class="ident" id="7480740">same</span><span class="op" id="7480744">(</span><span class="ident" id="7480745">have</span><span class="op" id="7480749">,</span>&nbsp;<span class="ident" id="7480751">pos</span><span class="op" id="7480754">)</span>&nbsp;<span class="op" id="7480756">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480762">t</span><span class="op" id="7480763">.</span><span class="ident" id="7480764">Errorf</span><span class="op" id="7480770">(</span><span class="string" id="7480771">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7480820">,</span>&nbsp;<span class="ident" id="7480822">file</span><span class="op" id="7480826">,</span>&nbsp;<span class="ident" id="7480828">lineno</span><span class="op" id="7480834">,</span>&nbsp;<span class="ident" id="7480836">pattern</span><span class="op" id="7480843">,</span>&nbsp;<span class="ident" id="7480845">text</span><span class="op" id="7480849">,</span>&nbsp;<span class="ident" id="7480851">have</span><span class="op" id="7480855">,</span>&nbsp;<span class="ident" id="7480857">pos</span><span class="op" id="7480860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480872">}</span><br>
<span class="lineno"></span><span class="op" id="7480874">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="7480877">func</span>&nbsp;<span class="ident" id="7480882">parseFowlerResult</span><span class="op" id="7480899">(</span><span class="ident" id="7480900">s</span>&nbsp;<span class="builtintype" id="7480902">string</span><span class="op" id="7480908">)</span>&nbsp;<span class="op" id="7480910">(</span><span class="ident" id="7480911">ok</span><span class="op" id="7480913">,</span>&nbsp;<span class="ident" id="7480915">compiled</span><span class="op" id="7480923">,</span>&nbsp;<span class="ident" id="7480925">matched</span>&nbsp;<span class="builtintype" id="7480933">bool</span><span class="op" id="7480937">,</span>&nbsp;<span class="ident" id="7480939">pos</span>&nbsp;<span class="op" id="7480943">[</span><span class="op" id="7480944">]</span><span class="builtintype" id="7480945">int</span><span class="op" id="7480948">)</span>&nbsp;<span class="op" id="7480950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7480953">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481024">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481094">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481163">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481233">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481302">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481373">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481448">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481524">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481597">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481673">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481749">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481821">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481896">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481914">switch</span>&nbsp;<span class="op" id="7481921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481924">case</span>&nbsp;<span class="ident" id="7481929">s</span>&nbsp;<span class="op" id="7481931">==</span>&nbsp;<span class="string" id="7481934">&#34;&#34;</span><span class="op" id="7481936">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481940">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481981">ok</span>&nbsp;<span class="op" id="7481984">=</span>&nbsp;<span class="builtintype" id="7481986">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481993">compiled</span>&nbsp;<span class="op" id="7482002">=</span>&nbsp;<span class="builtintype" id="7482004">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482011">matched</span>&nbsp;<span class="op" id="7482019">=</span>&nbsp;<span class="builtintype" id="7482021">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482028">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482036">case</span>&nbsp;<span class="ident" id="7482041">s</span>&nbsp;<span class="op" id="7482043">==</span>&nbsp;<span class="string" id="7482046">&#34;NOMATCH&#34;</span><span class="op" id="7482055">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482059">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482079">ok</span>&nbsp;<span class="op" id="7482082">=</span>&nbsp;<span class="builtintype" id="7482084">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482091">compiled</span>&nbsp;<span class="op" id="7482100">=</span>&nbsp;<span class="builtintype" id="7482102">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482109">matched</span>&nbsp;<span class="op" id="7482117">=</span>&nbsp;<span class="builtintype" id="7482119">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482127">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482135">case</span>&nbsp;<span class="string" id="7482140">&#39;A&#39;</span>&nbsp;<span class="op" id="7482144">&lt;=</span>&nbsp;<span class="ident" id="7482147">s</span><span class="op" id="7482148">[</span><span class="num" id="7482149">0</span><span class="op" id="7482150">]</span>&nbsp;<span class="op" id="7482152">&amp;&amp;</span>&nbsp;<span class="ident" id="7482155">s</span><span class="op" id="7482156">[</span><span class="num" id="7482157">0</span><span class="op" id="7482158">]</span>&nbsp;<span class="op" id="7482160">&lt;=</span>&nbsp;<span class="string" id="7482163">&#39;Z&#39;</span><span class="op" id="7482166">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7482170">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482221">ok</span>&nbsp;<span class="op" id="7482224">=</span>&nbsp;<span class="builtintype" id="7482226">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482233">compiled</span>&nbsp;<span class="op" id="7482242">=</span>&nbsp;<span class="builtintype" id="7482244">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482252">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482260">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482263">compiled</span>&nbsp;<span class="op" id="7482272">=</span>&nbsp;<span class="builtintype" id="7482274">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482281">var</span>&nbsp;<span class="ident" id="7482285">x</span>&nbsp;<span class="op" id="7482287">[</span><span class="op" id="7482288">]</span><span class="builtintype" id="7482289">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482294">for</span>&nbsp;<span class="ident" id="7482298">s</span>&nbsp;<span class="op" id="7482300">!=</span>&nbsp;<span class="string" id="7482303">&#34;&#34;</span>&nbsp;<span class="op" id="7482306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482310">var</span>&nbsp;<span class="ident" id="7482314">end</span>&nbsp;<span class="builtintype" id="7482318">byte</span>&nbsp;<span class="op" id="7482323">=</span>&nbsp;<span class="string" id="7482325">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482331">if</span>&nbsp;<span class="builtinfunc" id="7482334">len</span><span class="op" id="7482337">(</span><span class="ident" id="7482338">x</span><span class="op" id="7482339">)</span><span class="op" id="7482340">%</span><span class="num" id="7482341">2</span>&nbsp;<span class="op" id="7482343">==</span>&nbsp;<span class="num" id="7482346">0</span>&nbsp;<span class="op" id="7482348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482353">if</span>&nbsp;<span class="ident" id="7482356">s</span><span class="op" id="7482357">[</span><span class="num" id="7482358">0</span><span class="op" id="7482359">]</span>&nbsp;<span class="op" id="7482361">!=</span>&nbsp;<span class="string" id="7482364">&#39;(&#39;</span>&nbsp;<span class="op" id="7482368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482374">ok</span>&nbsp;<span class="op" id="7482377">=</span>&nbsp;<span class="builtintype" id="7482379">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482389">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482399">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482404">s</span>&nbsp;<span class="op" id="7482406">=</span>&nbsp;<span class="ident" id="7482408">s</span><span class="op" id="7482409">[</span><span class="num" id="7482410">1</span><span class="op" id="7482411">:</span><span class="op" id="7482412">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482417">end</span>&nbsp;<span class="op" id="7482421">=</span>&nbsp;<span class="string" id="7482423">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482433">i</span>&nbsp;<span class="op" id="7482435">:=</span>&nbsp;<span class="num" id="7482438">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482442">for</span>&nbsp;<span class="ident" id="7482446">i</span>&nbsp;<span class="op" id="7482448">&lt;</span>&nbsp;<span class="builtinfunc" id="7482450">len</span><span class="op" id="7482453">(</span><span class="ident" id="7482454">s</span><span class="op" id="7482455">)</span>&nbsp;<span class="op" id="7482457">&amp;&amp;</span>&nbsp;<span class="ident" id="7482460">s</span><span class="op" id="7482461">[</span><span class="ident" id="7482462">i</span><span class="op" id="7482463">]</span>&nbsp;<span class="op" id="7482465">!=</span>&nbsp;<span class="ident" id="7482468">end</span>&nbsp;<span class="op" id="7482472">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482477">i</span><span class="op" id="7482478">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482487">if</span>&nbsp;<span class="ident" id="7482490">i</span>&nbsp;<span class="op" id="7482492">==</span>&nbsp;<span class="num" id="7482495">0</span>&nbsp;<span class="op" id="7482497">||</span>&nbsp;<span class="ident" id="7482500">i</span>&nbsp;<span class="op" id="7482502">==</span>&nbsp;<span class="builtinfunc" id="7482505">len</span><span class="op" id="7482508">(</span><span class="ident" id="7482509">s</span><span class="op" id="7482510">)</span>&nbsp;<span class="op" id="7482512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482517">ok</span>&nbsp;<span class="op" id="7482520">=</span>&nbsp;<span class="builtintype" id="7482522">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482531">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482544">var</span>&nbsp;<span class="ident" id="7482548">v</span>&nbsp;<span class="op" id="7482550">=</span>&nbsp;<span class="op" id="7482552">-</span><span class="num" id="7482553">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482557">var</span>&nbsp;<span class="ident" id="7482561">err</span>&nbsp;<span class="builtintype" id="7482565">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482573">if</span>&nbsp;<span class="ident" id="7482576">s</span><span class="op" id="7482577">[</span><span class="op" id="7482578">:</span><span class="ident" id="7482579">i</span><span class="op" id="7482580">]</span>&nbsp;<span class="op" id="7482582">!=</span>&nbsp;<span class="string" id="7482585">&#34;?&#34;</span>&nbsp;<span class="op" id="7482589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482594">v</span><span class="op" id="7482595">,</span>&nbsp;<span class="ident" id="7482597">err</span>&nbsp;<span class="op" id="7482601">=</span>&nbsp;<span class="ident" id="7482603">strconv</span><span class="op" id="7482610">.</span><span class="ident" id="7482611">Atoi</span><span class="op" id="7482615">(</span><span class="ident" id="7482616">s</span><span class="op" id="7482617">[</span><span class="op" id="7482618">:</span><span class="ident" id="7482619">i</span><span class="op" id="7482620">]</span><span class="op" id="7482621">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482626">if</span>&nbsp;<span class="ident" id="7482629">err</span>&nbsp;<span class="op" id="7482633">!=</span>&nbsp;<span class="ident" id="7482636">nil</span>&nbsp;<span class="op" id="7482640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482646">ok</span>&nbsp;<span class="op" id="7482649">=</span>&nbsp;<span class="builtintype" id="7482651">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482661">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482675">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482679">x</span>&nbsp;<span class="op" id="7482681">=</span>&nbsp;<span class="builtinfunc" id="7482683">append</span><span class="op" id="7482689">(</span><span class="ident" id="7482690">x</span><span class="op" id="7482691">,</span>&nbsp;<span class="ident" id="7482693">v</span><span class="op" id="7482694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482698">s</span>&nbsp;<span class="op" id="7482700">=</span>&nbsp;<span class="ident" id="7482702">s</span><span class="op" id="7482703">[</span><span class="ident" id="7482704">i</span><span class="op" id="7482705">+</span><span class="num" id="7482706">1</span><span class="op" id="7482707">:</span><span class="op" id="7482708">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482714">if</span>&nbsp;<span class="builtinfunc" id="7482717">len</span><span class="op" id="7482720">(</span><span class="ident" id="7482721">x</span><span class="op" id="7482722">)</span><span class="op" id="7482723">%</span><span class="num" id="7482724">2</span>&nbsp;<span class="op" id="7482726">!=</span>&nbsp;<span class="num" id="7482729">0</span>&nbsp;<span class="op" id="7482731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482735">ok</span>&nbsp;<span class="op" id="7482738">=</span>&nbsp;<span class="builtintype" id="7482740">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482748">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482759">ok</span>&nbsp;<span class="op" id="7482762">=</span>&nbsp;<span class="builtintype" id="7482764">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482770">matched</span>&nbsp;<span class="op" id="7482778">=</span>&nbsp;<span class="builtintype" id="7482780">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482786">pos</span>&nbsp;<span class="op" id="7482790">=</span>&nbsp;<span class="ident" id="7482792">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482795">return</span><br>
<span class="lineno"></span><span class="op" id="7482802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7482805">var</span>&nbsp;<span class="ident" id="7482809">text</span>&nbsp;<span class="op" id="7482814">[</span><span class="op" id="7482815">]</span><span class="builtintype" id="7482816">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="7482822">func</span>&nbsp;<span class="ident" id="7482827">makeText</span><span class="op" id="7482835">(</span><span class="ident" id="7482836">n</span>&nbsp;<span class="builtintype" id="7482838">int</span><span class="op" id="7482841">)</span>&nbsp;<span class="op" id="7482843">[</span><span class="op" id="7482844">]</span><span class="builtintype" id="7482845">byte</span>&nbsp;<span class="op" id="7482850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482853">if</span>&nbsp;<span class="builtinfunc" id="7482856">len</span><span class="op" id="7482859">(</span><span class="ident" id="7482860">text</span><span class="op" id="7482864">)</span>&nbsp;<span class="op" id="7482866">&gt;=</span>&nbsp;<span class="ident" id="7482869">n</span>&nbsp;<span class="op" id="7482871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482875">return</span>&nbsp;<span class="ident" id="7482882">text</span><span class="op" id="7482886">[</span><span class="op" id="7482887">:</span><span class="ident" id="7482888">n</span><span class="op" id="7482889">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482895">text</span>&nbsp;<span class="op" id="7482900">=</span>&nbsp;<span class="builtinfunc" id="7482902">make</span><span class="op" id="7482906">(</span><span class="op" id="7482907">[</span><span class="op" id="7482908">]</span><span class="builtintype" id="7482909">byte</span><span class="op" id="7482913">,</span>&nbsp;<span class="ident" id="7482915">n</span><span class="op" id="7482916">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482919">x</span>&nbsp;<span class="op" id="7482921">:=</span>&nbsp;<span class="op" id="7482924">^</span><span class="builtintype" id="7482925">uint32</span><span class="op" id="7482931">(</span><span class="num" id="7482932">0</span><span class="op" id="7482933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482936">for</span>&nbsp;<span class="ident" id="7482940">i</span>&nbsp;<span class="op" id="7482942">:=</span>&nbsp;<span class="keyword" id="7482945">range</span>&nbsp;<span class="ident" id="7482951">text</span>&nbsp;<span class="op" id="7482956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482960">x</span>&nbsp;<span class="op" id="7482962">+=</span>&nbsp;<span class="ident" id="7482965">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482969">x</span>&nbsp;<span class="op" id="7482971">^=</span>&nbsp;<span class="num" id="7482974">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482978">if</span>&nbsp;<span class="builtintype" id="7482981">int32</span><span class="op" id="7482986">(</span><span class="ident" id="7482987">x</span><span class="op" id="7482988">)</span>&nbsp;<span class="op" id="7482990">&lt;</span>&nbsp;<span class="num" id="7482992">0</span>&nbsp;<span class="op" id="7482994">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482999">x</span>&nbsp;<span class="op" id="7483001">^=</span>&nbsp;<span class="num" id="7483004">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483021">if</span>&nbsp;<span class="ident" id="7483024">x</span><span class="op" id="7483025">%</span><span class="num" id="7483026">31</span>&nbsp;<span class="op" id="7483029">==</span>&nbsp;<span class="num" id="7483032">0</span>&nbsp;<span class="op" id="7483034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483039">text</span><span class="op" id="7483043">[</span><span class="ident" id="7483044">i</span><span class="op" id="7483045">]</span>&nbsp;<span class="op" id="7483047">=</span>&nbsp;<span class="string" id="7483049">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483056">}</span>&nbsp;<span class="keyword" id="7483058">else</span>&nbsp;<span class="op" id="7483063">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483068">text</span><span class="op" id="7483072">[</span><span class="ident" id="7483073">i</span><span class="op" id="7483074">]</span>&nbsp;<span class="op" id="7483076">=</span>&nbsp;<span class="builtintype" id="7483078">byte</span><span class="op" id="7483082">(</span><span class="ident" id="7483083">x</span><span class="op" id="7483084">%</span><span class="op" id="7483085">(</span><span class="num" id="7483086">0x7E</span><span class="op" id="7483090">+</span><span class="num" id="7483091">1</span><span class="op" id="7483092">-</span><span class="num" id="7483093">0x20</span><span class="op" id="7483097">)</span>&nbsp;<span class="op" id="7483099">+</span>&nbsp;<span class="num" id="7483101">0x20</span><span class="op" id="7483105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483115">return</span>&nbsp;<span class="ident" id="7483122">text</span><br>
<span class="lineno"></span><span class="op" id="7483127">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7483130">func</span>&nbsp;<span class="ident" id="7483135">benchmark</span><span class="op" id="7483144">(</span><span class="ident" id="7483145">b</span>&nbsp;<span class="op" id="7483147">*</span><span class="ident" id="7483148">testing</span><span class="op" id="7483155">.</span><span class="ident" id="7483156">B</span><span class="op" id="7483157">,</span>&nbsp;<span class="ident" id="7483159">re</span>&nbsp;<span class="builtintype" id="7483162">string</span><span class="op" id="7483168">,</span>&nbsp;<span class="ident" id="7483170">n</span>&nbsp;<span class="builtintype" id="7483172">int</span><span class="op" id="7483175">)</span>&nbsp;<span class="op" id="7483177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483180">r</span>&nbsp;<span class="op" id="7483182">:=</span>&nbsp;<span class="ident" id="7483185">MustCompile</span><span class="op" id="7483196">(</span><span class="ident" id="7483197">re</span><span class="op" id="7483199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483202">t</span>&nbsp;<span class="op" id="7483204">:=</span>&nbsp;<span class="ident" id="7483207">makeText</span><span class="op" id="7483215">(</span><span class="ident" id="7483216">n</span><span class="op" id="7483217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483220">b</span><span class="op" id="7483221">.</span><span class="ident" id="7483222">ResetTimer</span><span class="op" id="7483232">(</span><span class="op" id="7483233">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483236">b</span><span class="op" id="7483237">.</span><span class="ident" id="7483238">SetBytes</span><span class="op" id="7483246">(</span><span class="ident" id="7483247">int64</span><span class="op" id="7483252">(</span><span class="ident" id="7483253">n</span><span class="op" id="7483254">)</span><span class="op" id="7483255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483258">for</span>&nbsp;<span class="ident" id="7483262">i</span>&nbsp;<span class="op" id="7483264">:=</span>&nbsp;<span class="num" id="7483267">0</span><span class="op" id="7483268">;</span>&nbsp;<span class="ident" id="7483270">i</span>&nbsp;<span class="op" id="7483272">&lt;</span>&nbsp;<span class="ident" id="7483274">b</span><span class="op" id="7483275">.</span><span class="ident" id="7483276">N</span><span class="op" id="7483277">;</span>&nbsp;<span class="ident" id="7483279">i</span><span class="op" id="7483280">++</span>&nbsp;<span class="op" id="7483283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483287">if</span>&nbsp;<span class="ident" id="7483290">r</span><span class="op" id="7483291">.</span><span class="ident" id="7483292">Match</span><span class="op" id="7483297">(</span><span class="ident" id="7483298">t</span><span class="op" id="7483299">)</span>&nbsp;<span class="op" id="7483301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483306">b</span><span class="op" id="7483307">.</span><span class="ident" id="7483308">Fatal</span><span class="op" id="7483313">(</span><span class="string" id="7483314">&#34;match!&#34;</span><span class="op" id="7483322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483326">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7483329">}</span><br>
<span class="lineno"></span><span class="op" id="7483331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483334">const</span>&nbsp;<span class="op" id="7483340">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483343">easy0</span>&nbsp;&nbsp;<span class="op" id="7483350">=</span>&nbsp;<span class="string" id="7483352">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483383">easy1</span>&nbsp;&nbsp;<span class="op" id="7483390">=</span>&nbsp;<span class="string" id="7483392">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483443">medium</span>&nbsp;<span class="op" id="7483450">=</span>&nbsp;<span class="string" id="7483452">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483488">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7483495">=</span>&nbsp;<span class="string" id="7483497">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483534">parens</span>&nbsp;<span class="op" id="7483541">=</span>&nbsp;<span class="string" id="7483543">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="7483593">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7483597">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="7483640">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483643">func</span>&nbsp;<span class="ident" id="7483648">BenchmarkMatchEasy0_32</span><span class="op" id="7483670">(</span><span class="ident" id="7483671">b</span>&nbsp;<span class="op" id="7483673">*</span><span class="ident" id="7483674">testing</span><span class="op" id="7483681">.</span><span class="ident" id="7483682">B</span><span class="op" id="7483683">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7483687">{</span>&nbsp;<span class="ident" id="7483689">benchmark</span><span class="op" id="7483698">(</span><span class="ident" id="7483699">b</span><span class="op" id="7483700">,</span>&nbsp;<span class="ident" id="7483702">easy0</span><span class="op" id="7483707">,</span>&nbsp;<span class="num" id="7483709">32</span><span class="op" id="7483711">&lt;&lt;</span><span class="num" id="7483713">0</span><span class="op" id="7483714">)</span>&nbsp;<span class="op" id="7483716">}</span><br>
<span class="lineno"></span><span class="keyword" id="7483718">func</span>&nbsp;<span class="ident" id="7483723">BenchmarkMatchEasy0_1K</span><span class="op" id="7483745">(</span><span class="ident" id="7483746">b</span>&nbsp;<span class="op" id="7483748">*</span><span class="ident" id="7483749">testing</span><span class="op" id="7483756">.</span><span class="ident" id="7483757">B</span><span class="op" id="7483758">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7483762">{</span>&nbsp;<span class="ident" id="7483764">benchmark</span><span class="op" id="7483773">(</span><span class="ident" id="7483774">b</span><span class="op" id="7483775">,</span>&nbsp;<span class="ident" id="7483777">easy0</span><span class="op" id="7483782">,</span>&nbsp;<span class="num" id="7483784">1</span><span class="op" id="7483785">&lt;&lt;</span><span class="num" id="7483787">10</span><span class="op" id="7483789">)</span>&nbsp;<span class="op" id="7483791">}</span><br>
<span class="lineno"></span><span class="keyword" id="7483793">func</span>&nbsp;<span class="ident" id="7483798">BenchmarkMatchEasy0_32K</span><span class="op" id="7483821">(</span><span class="ident" id="7483822">b</span>&nbsp;<span class="op" id="7483824">*</span><span class="ident" id="7483825">testing</span><span class="op" id="7483832">.</span><span class="ident" id="7483833">B</span><span class="op" id="7483834">)</span>&nbsp;&nbsp;<span class="op" id="7483837">{</span>&nbsp;<span class="ident" id="7483839">benchmark</span><span class="op" id="7483848">(</span><span class="ident" id="7483849">b</span><span class="op" id="7483850">,</span>&nbsp;<span class="ident" id="7483852">easy0</span><span class="op" id="7483857">,</span>&nbsp;<span class="num" id="7483859">32</span><span class="op" id="7483861">&lt;&lt;</span><span class="num" id="7483863">10</span><span class="op" id="7483865">)</span>&nbsp;<span class="op" id="7483867">}</span><br>
<span class="lineno">685</span><span class="keyword" id="7483869">func</span>&nbsp;<span class="ident" id="7483874">BenchmarkMatchEasy0_1M</span><span class="op" id="7483896">(</span><span class="ident" id="7483897">b</span>&nbsp;<span class="op" id="7483899">*</span><span class="ident" id="7483900">testing</span><span class="op" id="7483907">.</span><span class="ident" id="7483908">B</span><span class="op" id="7483909">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7483913">{</span>&nbsp;<span class="ident" id="7483915">benchmark</span><span class="op" id="7483924">(</span><span class="ident" id="7483925">b</span><span class="op" id="7483926">,</span>&nbsp;<span class="ident" id="7483928">easy0</span><span class="op" id="7483933">,</span>&nbsp;<span class="num" id="7483935">1</span><span class="op" id="7483936">&lt;&lt;</span><span class="num" id="7483938">20</span><span class="op" id="7483940">)</span>&nbsp;<span class="op" id="7483942">}</span><br>
<span class="lineno"></span><span class="keyword" id="7483944">func</span>&nbsp;<span class="ident" id="7483949">BenchmarkMatchEasy0_32M</span><span class="op" id="7483972">(</span><span class="ident" id="7483973">b</span>&nbsp;<span class="op" id="7483975">*</span><span class="ident" id="7483976">testing</span><span class="op" id="7483983">.</span><span class="ident" id="7483984">B</span><span class="op" id="7483985">)</span>&nbsp;&nbsp;<span class="op" id="7483988">{</span>&nbsp;<span class="ident" id="7483990">benchmark</span><span class="op" id="7483999">(</span><span class="ident" id="7484000">b</span><span class="op" id="7484001">,</span>&nbsp;<span class="ident" id="7484003">easy0</span><span class="op" id="7484008">,</span>&nbsp;<span class="num" id="7484010">32</span><span class="op" id="7484012">&lt;&lt;</span><span class="num" id="7484014">20</span><span class="op" id="7484016">)</span>&nbsp;<span class="op" id="7484018">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484020">func</span>&nbsp;<span class="ident" id="7484025">BenchmarkMatchEasy1_32</span><span class="op" id="7484047">(</span><span class="ident" id="7484048">b</span>&nbsp;<span class="op" id="7484050">*</span><span class="ident" id="7484051">testing</span><span class="op" id="7484058">.</span><span class="ident" id="7484059">B</span><span class="op" id="7484060">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7484064">{</span>&nbsp;<span class="ident" id="7484066">benchmark</span><span class="op" id="7484075">(</span><span class="ident" id="7484076">b</span><span class="op" id="7484077">,</span>&nbsp;<span class="ident" id="7484079">easy1</span><span class="op" id="7484084">,</span>&nbsp;<span class="num" id="7484086">32</span><span class="op" id="7484088">&lt;&lt;</span><span class="num" id="7484090">0</span><span class="op" id="7484091">)</span>&nbsp;<span class="op" id="7484093">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484095">func</span>&nbsp;<span class="ident" id="7484100">BenchmarkMatchEasy1_1K</span><span class="op" id="7484122">(</span><span class="ident" id="7484123">b</span>&nbsp;<span class="op" id="7484125">*</span><span class="ident" id="7484126">testing</span><span class="op" id="7484133">.</span><span class="ident" id="7484134">B</span><span class="op" id="7484135">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7484139">{</span>&nbsp;<span class="ident" id="7484141">benchmark</span><span class="op" id="7484150">(</span><span class="ident" id="7484151">b</span><span class="op" id="7484152">,</span>&nbsp;<span class="ident" id="7484154">easy1</span><span class="op" id="7484159">,</span>&nbsp;<span class="num" id="7484161">1</span><span class="op" id="7484162">&lt;&lt;</span><span class="num" id="7484164">10</span><span class="op" id="7484166">)</span>&nbsp;<span class="op" id="7484168">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484170">func</span>&nbsp;<span class="ident" id="7484175">BenchmarkMatchEasy1_32K</span><span class="op" id="7484198">(</span><span class="ident" id="7484199">b</span>&nbsp;<span class="op" id="7484201">*</span><span class="ident" id="7484202">testing</span><span class="op" id="7484209">.</span><span class="ident" id="7484210">B</span><span class="op" id="7484211">)</span>&nbsp;&nbsp;<span class="op" id="7484214">{</span>&nbsp;<span class="ident" id="7484216">benchmark</span><span class="op" id="7484225">(</span><span class="ident" id="7484226">b</span><span class="op" id="7484227">,</span>&nbsp;<span class="ident" id="7484229">easy1</span><span class="op" id="7484234">,</span>&nbsp;<span class="num" id="7484236">32</span><span class="op" id="7484238">&lt;&lt;</span><span class="num" id="7484240">10</span><span class="op" id="7484242">)</span>&nbsp;<span class="op" id="7484244">}</span><br>
<span class="lineno">690</span><span class="keyword" id="7484246">func</span>&nbsp;<span class="ident" id="7484251">BenchmarkMatchEasy1_1M</span><span class="op" id="7484273">(</span><span class="ident" id="7484274">b</span>&nbsp;<span class="op" id="7484276">*</span><span class="ident" id="7484277">testing</span><span class="op" id="7484284">.</span><span class="ident" id="7484285">B</span><span class="op" id="7484286">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7484290">{</span>&nbsp;<span class="ident" id="7484292">benchmark</span><span class="op" id="7484301">(</span><span class="ident" id="7484302">b</span><span class="op" id="7484303">,</span>&nbsp;<span class="ident" id="7484305">easy1</span><span class="op" id="7484310">,</span>&nbsp;<span class="num" id="7484312">1</span><span class="op" id="7484313">&lt;&lt;</span><span class="num" id="7484315">20</span><span class="op" id="7484317">)</span>&nbsp;<span class="op" id="7484319">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484321">func</span>&nbsp;<span class="ident" id="7484326">BenchmarkMatchEasy1_32M</span><span class="op" id="7484349">(</span><span class="ident" id="7484350">b</span>&nbsp;<span class="op" id="7484352">*</span><span class="ident" id="7484353">testing</span><span class="op" id="7484360">.</span><span class="ident" id="7484361">B</span><span class="op" id="7484362">)</span>&nbsp;&nbsp;<span class="op" id="7484365">{</span>&nbsp;<span class="ident" id="7484367">benchmark</span><span class="op" id="7484376">(</span><span class="ident" id="7484377">b</span><span class="op" id="7484378">,</span>&nbsp;<span class="ident" id="7484380">easy1</span><span class="op" id="7484385">,</span>&nbsp;<span class="num" id="7484387">32</span><span class="op" id="7484389">&lt;&lt;</span><span class="num" id="7484391">20</span><span class="op" id="7484393">)</span>&nbsp;<span class="op" id="7484395">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484397">func</span>&nbsp;<span class="ident" id="7484402">BenchmarkMatchMedium_32</span><span class="op" id="7484425">(</span><span class="ident" id="7484426">b</span>&nbsp;<span class="op" id="7484428">*</span><span class="ident" id="7484429">testing</span><span class="op" id="7484436">.</span><span class="ident" id="7484437">B</span><span class="op" id="7484438">)</span>&nbsp;&nbsp;<span class="op" id="7484441">{</span>&nbsp;<span class="ident" id="7484443">benchmark</span><span class="op" id="7484452">(</span><span class="ident" id="7484453">b</span><span class="op" id="7484454">,</span>&nbsp;<span class="ident" id="7484456">medium</span><span class="op" id="7484462">,</span>&nbsp;<span class="num" id="7484464">32</span><span class="op" id="7484466">&lt;&lt;</span><span class="num" id="7484468">0</span><span class="op" id="7484469">)</span>&nbsp;<span class="op" id="7484471">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484473">func</span>&nbsp;<span class="ident" id="7484478">BenchmarkMatchMedium_1K</span><span class="op" id="7484501">(</span><span class="ident" id="7484502">b</span>&nbsp;<span class="op" id="7484504">*</span><span class="ident" id="7484505">testing</span><span class="op" id="7484512">.</span><span class="ident" id="7484513">B</span><span class="op" id="7484514">)</span>&nbsp;&nbsp;<span class="op" id="7484517">{</span>&nbsp;<span class="ident" id="7484519">benchmark</span><span class="op" id="7484528">(</span><span class="ident" id="7484529">b</span><span class="op" id="7484530">,</span>&nbsp;<span class="ident" id="7484532">medium</span><span class="op" id="7484538">,</span>&nbsp;<span class="num" id="7484540">1</span><span class="op" id="7484541">&lt;&lt;</span><span class="num" id="7484543">10</span><span class="op" id="7484545">)</span>&nbsp;<span class="op" id="7484547">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484549">func</span>&nbsp;<span class="ident" id="7484554">BenchmarkMatchMedium_32K</span><span class="op" id="7484578">(</span><span class="ident" id="7484579">b</span>&nbsp;<span class="op" id="7484581">*</span><span class="ident" id="7484582">testing</span><span class="op" id="7484589">.</span><span class="ident" id="7484590">B</span><span class="op" id="7484591">)</span>&nbsp;<span class="op" id="7484593">{</span>&nbsp;<span class="ident" id="7484595">benchmark</span><span class="op" id="7484604">(</span><span class="ident" id="7484605">b</span><span class="op" id="7484606">,</span>&nbsp;<span class="ident" id="7484608">medium</span><span class="op" id="7484614">,</span>&nbsp;<span class="num" id="7484616">32</span><span class="op" id="7484618">&lt;&lt;</span><span class="num" id="7484620">10</span><span class="op" id="7484622">)</span>&nbsp;<span class="op" id="7484624">}</span><br>
<span class="lineno">695</span><span class="keyword" id="7484626">func</span>&nbsp;<span class="ident" id="7484631">BenchmarkMatchMedium_1M</span><span class="op" id="7484654">(</span><span class="ident" id="7484655">b</span>&nbsp;<span class="op" id="7484657">*</span><span class="ident" id="7484658">testing</span><span class="op" id="7484665">.</span><span class="ident" id="7484666">B</span><span class="op" id="7484667">)</span>&nbsp;&nbsp;<span class="op" id="7484670">{</span>&nbsp;<span class="ident" id="7484672">benchmark</span><span class="op" id="7484681">(</span><span class="ident" id="7484682">b</span><span class="op" id="7484683">,</span>&nbsp;<span class="ident" id="7484685">medium</span><span class="op" id="7484691">,</span>&nbsp;<span class="num" id="7484693">1</span><span class="op" id="7484694">&lt;&lt;</span><span class="num" id="7484696">20</span><span class="op" id="7484698">)</span>&nbsp;<span class="op" id="7484700">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484702">func</span>&nbsp;<span class="ident" id="7484707">BenchmarkMatchMedium_32M</span><span class="op" id="7484731">(</span><span class="ident" id="7484732">b</span>&nbsp;<span class="op" id="7484734">*</span><span class="ident" id="7484735">testing</span><span class="op" id="7484742">.</span><span class="ident" id="7484743">B</span><span class="op" id="7484744">)</span>&nbsp;<span class="op" id="7484746">{</span>&nbsp;<span class="ident" id="7484748">benchmark</span><span class="op" id="7484757">(</span><span class="ident" id="7484758">b</span><span class="op" id="7484759">,</span>&nbsp;<span class="ident" id="7484761">medium</span><span class="op" id="7484767">,</span>&nbsp;<span class="num" id="7484769">32</span><span class="op" id="7484771">&lt;&lt;</span><span class="num" id="7484773">20</span><span class="op" id="7484775">)</span>&nbsp;<span class="op" id="7484777">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484779">func</span>&nbsp;<span class="ident" id="7484784">BenchmarkMatchHard_32</span><span class="op" id="7484805">(</span><span class="ident" id="7484806">b</span>&nbsp;<span class="op" id="7484808">*</span><span class="ident" id="7484809">testing</span><span class="op" id="7484816">.</span><span class="ident" id="7484817">B</span><span class="op" id="7484818">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7484823">{</span>&nbsp;<span class="ident" id="7484825">benchmark</span><span class="op" id="7484834">(</span><span class="ident" id="7484835">b</span><span class="op" id="7484836">,</span>&nbsp;<span class="ident" id="7484838">hard</span><span class="op" id="7484842">,</span>&nbsp;<span class="num" id="7484844">32</span><span class="op" id="7484846">&lt;&lt;</span><span class="num" id="7484848">0</span><span class="op" id="7484849">)</span>&nbsp;<span class="op" id="7484851">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484853">func</span>&nbsp;<span class="ident" id="7484858">BenchmarkMatchHard_1K</span><span class="op" id="7484879">(</span><span class="ident" id="7484880">b</span>&nbsp;<span class="op" id="7484882">*</span><span class="ident" id="7484883">testing</span><span class="op" id="7484890">.</span><span class="ident" id="7484891">B</span><span class="op" id="7484892">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7484897">{</span>&nbsp;<span class="ident" id="7484899">benchmark</span><span class="op" id="7484908">(</span><span class="ident" id="7484909">b</span><span class="op" id="7484910">,</span>&nbsp;<span class="ident" id="7484912">hard</span><span class="op" id="7484916">,</span>&nbsp;<span class="num" id="7484918">1</span><span class="op" id="7484919">&lt;&lt;</span><span class="num" id="7484921">10</span><span class="op" id="7484923">)</span>&nbsp;<span class="op" id="7484925">}</span><br>
<span class="lineno"></span><span class="keyword" id="7484927">func</span>&nbsp;<span class="ident" id="7484932">BenchmarkMatchHard_32K</span><span class="op" id="7484954">(</span><span class="ident" id="7484955">b</span>&nbsp;<span class="op" id="7484957">*</span><span class="ident" id="7484958">testing</span><span class="op" id="7484965">.</span><span class="ident" id="7484966">B</span><span class="op" id="7484967">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7484971">{</span>&nbsp;<span class="ident" id="7484973">benchmark</span><span class="op" id="7484982">(</span><span class="ident" id="7484983">b</span><span class="op" id="7484984">,</span>&nbsp;<span class="ident" id="7484986">hard</span><span class="op" id="7484990">,</span>&nbsp;<span class="num" id="7484992">32</span><span class="op" id="7484994">&lt;&lt;</span><span class="num" id="7484996">10</span><span class="op" id="7484998">)</span>&nbsp;<span class="op" id="7485000">}</span><br>
<span class="lineno">700</span><span class="keyword" id="7485002">func</span>&nbsp;<span class="ident" id="7485007">BenchmarkMatchHard_1M</span><span class="op" id="7485028">(</span><span class="ident" id="7485029">b</span>&nbsp;<span class="op" id="7485031">*</span><span class="ident" id="7485032">testing</span><span class="op" id="7485039">.</span><span class="ident" id="7485040">B</span><span class="op" id="7485041">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7485046">{</span>&nbsp;<span class="ident" id="7485048">benchmark</span><span class="op" id="7485057">(</span><span class="ident" id="7485058">b</span><span class="op" id="7485059">,</span>&nbsp;<span class="ident" id="7485061">hard</span><span class="op" id="7485065">,</span>&nbsp;<span class="num" id="7485067">1</span><span class="op" id="7485068">&lt;&lt;</span><span class="num" id="7485070">20</span><span class="op" id="7485072">)</span>&nbsp;<span class="op" id="7485074">}</span><br>
<span class="lineno"></span><span class="keyword" id="7485076">func</span>&nbsp;<span class="ident" id="7485081">BenchmarkMatchHard_32M</span><span class="op" id="7485103">(</span><span class="ident" id="7485104">b</span>&nbsp;<span class="op" id="7485106">*</span><span class="ident" id="7485107">testing</span><span class="op" id="7485114">.</span><span class="ident" id="7485115">B</span><span class="op" id="7485116">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7485120">{</span>&nbsp;<span class="ident" id="7485122">benchmark</span><span class="op" id="7485131">(</span><span class="ident" id="7485132">b</span><span class="op" id="7485133">,</span>&nbsp;<span class="ident" id="7485135">hard</span><span class="op" id="7485139">,</span>&nbsp;<span class="num" id="7485141">32</span><span class="op" id="7485143">&lt;&lt;</span><span class="num" id="7485145">20</span><span class="op" id="7485147">)</span>&nbsp;<span class="op" id="7485149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7485152">func</span>&nbsp;<span class="ident" id="7485157">TestLongest</span><span class="op" id="7485168">(</span><span class="ident" id="7485169">t</span>&nbsp;<span class="op" id="7485171">*</span><span class="ident" id="7485172">testing</span><span class="op" id="7485179">.</span><span class="ident" id="7485180">T</span><span class="op" id="7485181">)</span>&nbsp;<span class="op" id="7485183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485186">re</span><span class="op" id="7485188">,</span>&nbsp;<span class="ident" id="7485190">err</span>&nbsp;<span class="op" id="7485194">:=</span>&nbsp;<span class="ident" id="7485197">Compile</span><span class="op" id="7485204">(</span><span class="string" id="7485205">`a(|b)`</span><span class="op" id="7485212">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485215">if</span>&nbsp;<span class="ident" id="7485218">err</span>&nbsp;<span class="op" id="7485222">!=</span>&nbsp;<span class="ident" id="7485225">nil</span>&nbsp;<span class="op" id="7485229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485233">t</span><span class="op" id="7485234">.</span><span class="ident" id="7485235">Fatal</span><span class="op" id="7485240">(</span><span class="ident" id="7485241">err</span><span class="op" id="7485244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485250">if</span>&nbsp;<span class="ident" id="7485253">g</span><span class="op" id="7485254">,</span>&nbsp;<span class="ident" id="7485256">w</span>&nbsp;<span class="op" id="7485258">:=</span>&nbsp;<span class="ident" id="7485261">re</span><span class="op" id="7485263">.</span><span class="ident" id="7485264">FindString</span><span class="op" id="7485274">(</span><span class="string" id="7485275">&#34;ab&#34;</span><span class="op" id="7485279">)</span><span class="op" id="7485280">,</span>&nbsp;<span class="string" id="7485282">&#34;a&#34;</span><span class="op" id="7485285">;</span>&nbsp;<span class="ident" id="7485287">g</span>&nbsp;<span class="op" id="7485289">!=</span>&nbsp;<span class="ident" id="7485292">w</span>&nbsp;<span class="op" id="7485294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485298">t</span><span class="op" id="7485299">.</span><span class="ident" id="7485300">Errorf</span><span class="op" id="7485306">(</span><span class="string" id="7485307">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7485336">,</span>&nbsp;<span class="ident" id="7485338">g</span><span class="op" id="7485339">,</span>&nbsp;<span class="ident" id="7485341">w</span><span class="op" id="7485342">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485348">re</span><span class="op" id="7485350">.</span><span class="ident" id="7485351">Longest</span><span class="op" id="7485358">(</span><span class="op" id="7485359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485362">if</span>&nbsp;<span class="ident" id="7485365">g</span><span class="op" id="7485366">,</span>&nbsp;<span class="ident" id="7485368">w</span>&nbsp;<span class="op" id="7485370">:=</span>&nbsp;<span class="ident" id="7485373">re</span><span class="op" id="7485375">.</span><span class="ident" id="7485376">FindString</span><span class="op" id="7485386">(</span><span class="string" id="7485387">&#34;ab&#34;</span><span class="op" id="7485391">)</span><span class="op" id="7485392">,</span>&nbsp;<span class="string" id="7485394">&#34;ab&#34;</span><span class="op" id="7485398">;</span>&nbsp;<span class="ident" id="7485400">g</span>&nbsp;<span class="op" id="7485402">!=</span>&nbsp;<span class="ident" id="7485405">w</span>&nbsp;<span class="op" id="7485407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485411">t</span><span class="op" id="7485412">.</span><span class="ident" id="7485413">Errorf</span><span class="op" id="7485419">(</span><span class="string" id="7485420">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7485451">,</span>&nbsp;<span class="ident" id="7485453">g</span><span class="op" id="7485454">,</span>&nbsp;<span class="ident" id="7485456">w</span><span class="op" id="7485457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485460">}</span><br>
<span class="lineno">715</span><span class="op" id="7485462">}</span>
</div>
</body>
</html>
