<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3604770">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3604825">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3604879">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3604930">//&nbsp;Package&nbsp;ioutil&nbsp;implements&nbsp;some&nbsp;I/O&nbsp;utility&nbsp;functions.</span><br>
<span class="lineno"></span><span class="keyword" id="3604987">package</span>&nbsp;<span class="ident" id="3604995">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3605003">import</span>&nbsp;<span class="op" id="3605010">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3605013">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3605022">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3605028">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3605034">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3605042">&#34;sync&#34;</span><br>
<span class="lineno"></span><span class="op" id="3605049">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3605052">//&nbsp;readAll&nbsp;reads&nbsp;from&nbsp;r&nbsp;until&nbsp;an&nbsp;error&nbsp;or&nbsp;EOF&nbsp;and&nbsp;returns&nbsp;the&nbsp;data&nbsp;it&nbsp;read</span><br>
<span class="lineno"></span><span class="comment" id="3605127">//&nbsp;from&nbsp;the&nbsp;internal&nbsp;buffer&nbsp;allocated&nbsp;with&nbsp;a&nbsp;specified&nbsp;capacity.</span><br>
<span class="lineno"></span><span class="keyword" id="3605192">func</span>&nbsp;<span class="ident" id="3605197">readAll</span><span class="op" id="3605204">(</span><span class="ident" id="3605205">r</span>&nbsp;<span class="ident" id="3605207"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3605209">.</span><span class="ident" id="3605210">Reader</span><span class="op" id="3605216">,</span>&nbsp;<span class="ident" id="3605218">capacity</span>&nbsp;<span class="ident" id="3605227">int64</span><span class="op" id="3605232">)</span>&nbsp;<span class="op" id="3605234">(</span><span class="ident" id="3605235">b</span>&nbsp;<span class="op" id="3605237">[</span><span class="op" id="3605238">]</span><span class="builtintype" id="3605239">byte</span><span class="op" id="3605243">,</span>&nbsp;<span class="ident" id="3605245">err</span>&nbsp;<span class="builtintype" id="3605249">error</span><span class="op" id="3605254">)</span>&nbsp;<span class="op" id="3605256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3605259">buf</span>&nbsp;<span class="op" id="3605263">:=</span>&nbsp;<span class="ident" id="3605266"><a href="/io/ioutil/ioutil.go.html#3605013">bytes</a></span><span class="op" id="3605271">.</span><span class="ident" id="3605272">NewBuffer</span><span class="op" id="3605281">(</span><span class="builtinfunc" id="3605282">make</span><span class="op" id="3605286">(</span><span class="op" id="3605287">[</span><span class="op" id="3605288">]</span><span class="builtintype" id="3605289">byte</span><span class="op" id="3605293">,</span>&nbsp;<span class="num" id="3605295">0</span><span class="op" id="3605296">,</span>&nbsp;<span class="ident" id="3605298"><a href="/io/ioutil/ioutil.go.html#3605218">capacity</a></span><span class="op" id="3605306">)</span><span class="op" id="3605307">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3605310">//&nbsp;If&nbsp;the&nbsp;buffer&nbsp;overflows,&nbsp;we&nbsp;will&nbsp;get&nbsp;bytes.ErrTooLarge.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3605370">//&nbsp;Return&nbsp;that&nbsp;as&nbsp;an&nbsp;error.&nbsp;Any&nbsp;other&nbsp;panic&nbsp;remains.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3605424">defer</span>&nbsp;<span class="keyword" id="3605430">func</span><span class="op" id="3605434">(</span><span class="op" id="3605435">)</span>&nbsp;<span class="op" id="3605437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3605441">e</span>&nbsp;<span class="op" id="3605443">:=</span>&nbsp;<span class="builtinfunc" id="3605446">recover</span><span class="op" id="3605453">(</span><span class="op" id="3605454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3605458">if</span>&nbsp;<span class="ident" id="3605461"><a href="/io/ioutil/ioutil.go.html#3605441">e</a></span>&nbsp;<span class="op" id="3605463">==</span>&nbsp;<span class="ident" id="3605466">nil</span>&nbsp;<span class="op" id="3605470">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3605475">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3605484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3605488">if</span>&nbsp;<span class="ident" id="3605491">panicErr</span><span class="op" id="3605499">,</span>&nbsp;<span class="ident" id="3605501">ok</span>&nbsp;<span class="op" id="3605504">:=</span>&nbsp;<span class="ident" id="3605507"><a href="/io/ioutil/ioutil.go.html#3605441">e</a></span><span class="op" id="3605508">.</span><span class="op" id="3605509">(</span><span class="builtintype" id="3605510">error</span><span class="op" id="3605515">)</span><span class="op" id="3605516">;</span>&nbsp;<span class="ident" id="3605518"><a href="/io/ioutil/ioutil.go.html#3605501">ok</a></span>&nbsp;<span class="op" id="3605521">&amp;&amp;</span>&nbsp;<span class="ident" id="3605524"><a href="/io/ioutil/ioutil.go.html#3605491">panicErr</a></span>&nbsp;<span class="op" id="3605533">==</span>&nbsp;<span class="ident" id="3605536"><a href="/io/ioutil/ioutil.go.html#3605013">bytes</a></span><span class="op" id="3605541">.</span><span class="ident" id="3605542">ErrTooLarge</span>&nbsp;<span class="op" id="3605554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3605559"><a href="/io/ioutil/ioutil.go.html#3605245">err</a></span>&nbsp;<span class="op" id="3605563">=</span>&nbsp;<span class="ident" id="3605565"><a href="/io/ioutil/ioutil.go.html#3605491">panicErr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3605576">}</span>&nbsp;<span class="keyword" id="3605578">else</span>&nbsp;<span class="op" id="3605583">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3605588">panic</span><span class="op" id="3605593">(</span><span class="ident" id="3605594"><a href="/io/ioutil/ioutil.go.html#3605441">e</a></span><span class="op" id="3605595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3605599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3605602">}</span><span class="op" id="3605603">(</span><span class="op" id="3605604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3605607">_</span><span class="op" id="3605608">,</span>&nbsp;<span class="ident" id="3605610"><a href="/io/ioutil/ioutil.go.html#3605245">err</a></span>&nbsp;<span class="op" id="3605614">=</span>&nbsp;<span class="ident" id="3605616"><a href="/io/ioutil/ioutil.go.html#3605259">buf</a></span><span class="op" id="3605619">.</span><span class="ident" id="3605620">ReadFrom</span><span class="op" id="3605628">(</span><span class="ident" id="3605629"><a href="/io/ioutil/ioutil.go.html#3605205">r</a></span><span class="op" id="3605630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3605633">return</span>&nbsp;<span class="ident" id="3605640"><a href="/io/ioutil/ioutil.go.html#3605259">buf</a></span><span class="op" id="3605643">.</span><span class="ident" id="3605644">Bytes</span><span class="op" id="3605649">(</span><span class="op" id="3605650">)</span><span class="op" id="3605651">,</span>&nbsp;<span class="ident" id="3605653"><a href="/io/ioutil/ioutil.go.html#3605245">err</a></span><br>
<span class="lineno">35</span><span class="op" id="3605657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3605660">//&nbsp;ReadAll&nbsp;reads&nbsp;from&nbsp;r&nbsp;until&nbsp;an&nbsp;error&nbsp;or&nbsp;EOF&nbsp;and&nbsp;returns&nbsp;the&nbsp;data&nbsp;it&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="3605736">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadAll&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3605812">//&nbsp;defined&nbsp;to&nbsp;read&nbsp;from&nbsp;src&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;an&nbsp;EOF&nbsp;from&nbsp;Read</span><br>
<span class="lineno">40</span><span class="comment" id="3605886">//&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="3605917">func</span>&nbsp;<span class="ident" id="3605922">ReadAll</span><span class="op" id="3605929">(</span><span class="ident" id="3605930">r</span>&nbsp;<span class="ident" id="3605932"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3605934">.</span><span class="ident" id="3605935">Reader</span><span class="op" id="3605941">)</span>&nbsp;<span class="op" id="3605943">(</span><span class="op" id="3605944">[</span><span class="op" id="3605945">]</span><span class="builtintype" id="3605946">byte</span><span class="op" id="3605950">,</span>&nbsp;<span class="builtintype" id="3605952">error</span><span class="op" id="3605957">)</span>&nbsp;<span class="op" id="3605959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3605962">return</span>&nbsp;<span class="ident" id="3605969"><a href="/io/ioutil/ioutil.go.html#3605197">readAll</a></span><span class="op" id="3605976">(</span><span class="ident" id="3605977"><a href="/io/ioutil/ioutil.go.html#3605930">r</a></span><span class="op" id="3605978">,</span>&nbsp;<span class="ident" id="3605980"><a href="/io/ioutil/ioutil.go.html#3605013">bytes</a></span><span class="op" id="3605985">.</span><span class="ident" id="3605986">MinRead</span><span class="op" id="3605993">)</span><br>
<span class="lineno"></span><span class="op" id="3605995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3605998">//&nbsp;ReadFile&nbsp;reads&nbsp;the&nbsp;file&nbsp;named&nbsp;by&nbsp;filename&nbsp;and&nbsp;returns&nbsp;the&nbsp;contents.</span><br>
<span class="lineno"></span><span class="comment" id="3606069">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadFile</span><br>
<span class="lineno"></span><span class="comment" id="3606143">//&nbsp;reads&nbsp;the&nbsp;whole&nbsp;file,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;an&nbsp;EOF&nbsp;from&nbsp;Read&nbsp;as&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="3606215">//&nbsp;to&nbsp;be&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="3606234">func</span>&nbsp;<span class="ident" id="3606239">ReadFile</span><span class="op" id="3606247">(</span><span class="ident" id="3606248">filename</span>&nbsp;<span class="builtintype" id="3606257">string</span><span class="op" id="3606263">)</span>&nbsp;<span class="op" id="3606265">(</span><span class="op" id="3606266">[</span><span class="op" id="3606267">]</span><span class="builtintype" id="3606268">byte</span><span class="op" id="3606272">,</span>&nbsp;<span class="builtintype" id="3606274">error</span><span class="op" id="3606279">)</span>&nbsp;<span class="op" id="3606281">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3606284">f</span><span class="op" id="3606285">,</span>&nbsp;<span class="ident" id="3606287">err</span>&nbsp;<span class="op" id="3606291">:=</span>&nbsp;<span class="ident" id="3606294"><a href="/io/ioutil/ioutil.go.html#3605028">os</a></span><span class="op" id="3606296">.</span><span class="ident" id="3606297">Open</span><span class="op" id="3606301">(</span><span class="ident" id="3606302"><a href="/io/ioutil/ioutil.go.html#3606248">filename</a></span><span class="op" id="3606310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3606313">if</span>&nbsp;<span class="ident" id="3606316"><a href="/io/ioutil/ioutil.go.html#3606287">err</a></span>&nbsp;<span class="op" id="3606320">!=</span>&nbsp;<span class="ident" id="3606323">nil</span>&nbsp;<span class="op" id="3606327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3606331">return</span>&nbsp;<span class="ident" id="3606338">nil</span><span class="op" id="3606341">,</span>&nbsp;<span class="ident" id="3606343"><a href="/io/ioutil/ioutil.go.html#3606287">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3606348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3606351">defer</span>&nbsp;<span class="ident" id="3606357"><a href="/io/ioutil/ioutil.go.html#3606284">f</a></span><span class="op" id="3606358">.</span><span class="ident" id="3606359">Close</span><span class="op" id="3606364">(</span><span class="op" id="3606365">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3606368">//&nbsp;It&#39;s&nbsp;a&nbsp;good&nbsp;but&nbsp;not&nbsp;certain&nbsp;bet&nbsp;that&nbsp;FileInfo&nbsp;will&nbsp;tell&nbsp;us&nbsp;exactly&nbsp;how&nbsp;much&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3606451">//&nbsp;read,&nbsp;so&nbsp;let&#39;s&nbsp;try&nbsp;it&nbsp;but&nbsp;be&nbsp;prepared&nbsp;for&nbsp;the&nbsp;answer&nbsp;to&nbsp;be&nbsp;wrong.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3606521">var</span>&nbsp;<span class="ident" id="3606525">n</span>&nbsp;<span class="ident" id="3606527">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3606535">if</span>&nbsp;<span class="ident" id="3606538">fi</span><span class="op" id="3606540">,</span>&nbsp;<span class="ident" id="3606542">err</span>&nbsp;<span class="op" id="3606546">:=</span>&nbsp;<span class="ident" id="3606549"><a href="/io/ioutil/ioutil.go.html#3606284">f</a></span><span class="op" id="3606550">.</span><span class="ident" id="3606551">Stat</span><span class="op" id="3606555">(</span><span class="op" id="3606556">)</span><span class="op" id="3606557">;</span>&nbsp;<span class="ident" id="3606559"><a href="/io/ioutil/ioutil.go.html#3606542">err</a></span>&nbsp;<span class="op" id="3606563">==</span>&nbsp;<span class="ident" id="3606566">nil</span>&nbsp;<span class="op" id="3606570">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3606574">//&nbsp;Don&#39;t&nbsp;preallocate&nbsp;a&nbsp;huge&nbsp;buffer,&nbsp;just&nbsp;in&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3606626">if</span>&nbsp;<span class="ident" id="3606629">size</span>&nbsp;<span class="op" id="3606634">:=</span>&nbsp;<span class="ident" id="3606637"><a href="/io/ioutil/ioutil.go.html#3606538">fi</a></span><span class="op" id="3606639">.</span><span class="ident" id="3606640">Size</span><span class="op" id="3606644">(</span><span class="op" id="3606645">)</span><span class="op" id="3606646">;</span>&nbsp;<span class="ident" id="3606648"><a href="/io/ioutil/ioutil.go.html#3606629">size</a></span>&nbsp;<span class="op" id="3606653">&lt;</span>&nbsp;<span class="num" id="3606655">1e9</span>&nbsp;<span class="op" id="3606659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3606664"><a href="/io/ioutil/ioutil.go.html#3606525">n</a></span>&nbsp;<span class="op" id="3606666">=</span>&nbsp;<span class="ident" id="3606668"><a href="/io/ioutil/ioutil.go.html#3606629">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3606675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3606678">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3606681">//&nbsp;As&nbsp;initial&nbsp;capacity&nbsp;for&nbsp;readAll,&nbsp;use&nbsp;n&nbsp;+&nbsp;a&nbsp;little&nbsp;extra&nbsp;in&nbsp;case&nbsp;Size&nbsp;is&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3606763">//&nbsp;and&nbsp;to&nbsp;avoid&nbsp;another&nbsp;allocation&nbsp;after&nbsp;Read&nbsp;has&nbsp;filled&nbsp;the&nbsp;buffer.&nbsp;&nbsp;The&nbsp;readAll</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3606846">//&nbsp;call&nbsp;will&nbsp;read&nbsp;into&nbsp;its&nbsp;allocated&nbsp;internal&nbsp;buffer&nbsp;cheaply.&nbsp;&nbsp;If&nbsp;the&nbsp;size&nbsp;was</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3606926">//&nbsp;wrong,&nbsp;we&#39;ll&nbsp;either&nbsp;waste&nbsp;some&nbsp;space&nbsp;off&nbsp;the&nbsp;end&nbsp;or&nbsp;reallocate&nbsp;as&nbsp;needed,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3607008">//&nbsp;in&nbsp;the&nbsp;overwhelmingly&nbsp;common&nbsp;case&nbsp;we&#39;ll&nbsp;get&nbsp;it&nbsp;just&nbsp;right.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3607071">return</span>&nbsp;<span class="ident" id="3607078"><a href="/io/ioutil/ioutil.go.html#3605197">readAll</a></span><span class="op" id="3607085">(</span><span class="ident" id="3607086"><a href="/io/ioutil/ioutil.go.html#3606284">f</a></span><span class="op" id="3607087">,</span>&nbsp;<span class="ident" id="3607089"><a href="/io/ioutil/ioutil.go.html#3606525">n</a></span><span class="op" id="3607090">+</span><span class="ident" id="3607091"><a href="/io/ioutil/ioutil.go.html#3605013">bytes</a></span><span class="op" id="3607096">.</span><span class="ident" id="3607097">MinRead</span><span class="op" id="3607104">)</span><br>
<span class="lineno"></span><span class="op" id="3607106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3607109">//&nbsp;WriteFile&nbsp;writes&nbsp;data&nbsp;to&nbsp;a&nbsp;file&nbsp;named&nbsp;by&nbsp;filename.</span><br>
<span class="lineno"></span><span class="comment" id="3607163">//&nbsp;If&nbsp;the&nbsp;file&nbsp;does&nbsp;not&nbsp;exist,&nbsp;WriteFile&nbsp;creates&nbsp;it&nbsp;with&nbsp;permissions&nbsp;perm;</span><br>
<span class="lineno">75</span><span class="comment" id="3607238">//&nbsp;otherwise&nbsp;WriteFile&nbsp;truncates&nbsp;it&nbsp;before&nbsp;writing.</span><br>
<span class="lineno"></span><span class="keyword" id="3607290">func</span>&nbsp;<span class="ident" id="3607295">WriteFile</span><span class="op" id="3607304">(</span><span class="ident" id="3607305">filename</span>&nbsp;<span class="builtintype" id="3607314">string</span><span class="op" id="3607320">,</span>&nbsp;<span class="ident" id="3607322">data</span>&nbsp;<span class="op" id="3607327">[</span><span class="op" id="3607328">]</span><span class="builtintype" id="3607329">byte</span><span class="op" id="3607333">,</span>&nbsp;<span class="ident" id="3607335">perm</span>&nbsp;<span class="ident" id="3607340"><a href="/io/ioutil/ioutil.go.html#3605028">os</a></span><span class="op" id="3607342">.</span><span class="ident" id="3607343">FileMode</span><span class="op" id="3607351">)</span>&nbsp;<span class="builtintype" id="3607353">error</span>&nbsp;<span class="op" id="3607359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3607362">f</span><span class="op" id="3607363">,</span>&nbsp;<span class="ident" id="3607365">err</span>&nbsp;<span class="op" id="3607369">:=</span>&nbsp;<span class="ident" id="3607372"><a href="/io/ioutil/ioutil.go.html#3605028">os</a></span><span class="op" id="3607374">.</span><span class="ident" id="3607375">OpenFile</span><span class="op" id="3607383">(</span><span class="ident" id="3607384"><a href="/io/ioutil/ioutil.go.html#3607305">filename</a></span><span class="op" id="3607392">,</span>&nbsp;<span class="ident" id="3607394"><a href="/io/ioutil/ioutil.go.html#3605028">os</a></span><span class="op" id="3607396">.</span><span class="ident" id="3607397">O_WRONLY</span><span class="op" id="3607405">|</span><span class="ident" id="3607406"><a href="/io/ioutil/ioutil.go.html#3605028">os</a></span><span class="op" id="3607408">.</span><span class="ident" id="3607409">O_CREATE</span><span class="op" id="3607417">|</span><span class="ident" id="3607418"><a href="/io/ioutil/ioutil.go.html#3605028">os</a></span><span class="op" id="3607420">.</span><span class="ident" id="3607421">O_TRUNC</span><span class="op" id="3607428">,</span>&nbsp;<span class="ident" id="3607430"><a href="/io/ioutil/ioutil.go.html#3607335">perm</a></span><span class="op" id="3607434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3607437">if</span>&nbsp;<span class="ident" id="3607440"><a href="/io/ioutil/ioutil.go.html#3607365">err</a></span>&nbsp;<span class="op" id="3607444">!=</span>&nbsp;<span class="ident" id="3607447">nil</span>&nbsp;<span class="op" id="3607451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3607455">return</span>&nbsp;<span class="ident" id="3607462"><a href="/io/ioutil/ioutil.go.html#3607365">err</a></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3607467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3607470">n</span><span class="op" id="3607471">,</span>&nbsp;<span class="ident" id="3607473"><a href="/io/ioutil/ioutil.go.html#3607365">err</a></span>&nbsp;<span class="op" id="3607477">:=</span>&nbsp;<span class="ident" id="3607480"><a href="/io/ioutil/ioutil.go.html#3607362">f</a></span><span class="op" id="3607481">.</span><span class="ident" id="3607482">Write</span><span class="op" id="3607487">(</span><span class="ident" id="3607488"><a href="/io/ioutil/ioutil.go.html#3607322">data</a></span><span class="op" id="3607492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3607495">if</span>&nbsp;<span class="ident" id="3607498"><a href="/io/ioutil/ioutil.go.html#3607365">err</a></span>&nbsp;<span class="op" id="3607502">==</span>&nbsp;<span class="ident" id="3607505">nil</span>&nbsp;<span class="op" id="3607509">&amp;&amp;</span>&nbsp;<span class="ident" id="3607512"><a href="/io/ioutil/ioutil.go.html#3607470">n</a></span>&nbsp;<span class="op" id="3607514">&lt;</span>&nbsp;<span class="builtinfunc" id="3607516">len</span><span class="op" id="3607519">(</span><span class="ident" id="3607520"><a href="/io/ioutil/ioutil.go.html#3607322">data</a></span><span class="op" id="3607524">)</span>&nbsp;<span class="op" id="3607526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3607530"><a href="/io/ioutil/ioutil.go.html#3607365">err</a></span>&nbsp;<span class="op" id="3607534">=</span>&nbsp;<span class="ident" id="3607536"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3607538">.</span><span class="ident" id="3607539">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3607554">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3607557">if</span>&nbsp;<span class="ident" id="3607560">err1</span>&nbsp;<span class="op" id="3607565">:=</span>&nbsp;<span class="ident" id="3607568"><a href="/io/ioutil/ioutil.go.html#3607362">f</a></span><span class="op" id="3607569">.</span><span class="ident" id="3607570">Close</span><span class="op" id="3607575">(</span><span class="op" id="3607576">)</span><span class="op" id="3607577">;</span>&nbsp;<span class="ident" id="3607579"><a href="/io/ioutil/ioutil.go.html#3607365">err</a></span>&nbsp;<span class="op" id="3607583">==</span>&nbsp;<span class="ident" id="3607586">nil</span>&nbsp;<span class="op" id="3607590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3607594"><a href="/io/ioutil/ioutil.go.html#3607365">err</a></span>&nbsp;<span class="op" id="3607598">=</span>&nbsp;<span class="ident" id="3607600"><a href="/io/ioutil/ioutil.go.html#3607560">err1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3607606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3607609">return</span>&nbsp;<span class="ident" id="3607616"><a href="/io/ioutil/ioutil.go.html#3607365">err</a></span><br>
<span class="lineno"></span><span class="op" id="3607620">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="3607623">//&nbsp;byName&nbsp;implements&nbsp;sort.Interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3607660">type</span>&nbsp;<span class="ident" id="3607665">byName</span>&nbsp;<span class="op" id="3607672">[</span><span class="op" id="3607673">]</span><span class="ident" id="3607674"><a href="/io/ioutil/ioutil.go.html#3605028">os</a></span><span class="op" id="3607676">.</span><span class="ident" id="3607677">FileInfo</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3607687">func</span>&nbsp;<span class="op" id="3607692">(</span><span class="ident" id="3607693">f</span>&nbsp;<span class="ident" id="3607695"><a href="/io/ioutil/ioutil.go.html#3607665">byName</a></span><span class="op" id="3607701">)</span>&nbsp;<span class="ident" id="3607703">Len</span><span class="op" id="3607706">(</span><span class="op" id="3607707">)</span>&nbsp;<span class="builtintype" id="3607709">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3607723">{</span>&nbsp;<span class="keyword" id="3607725">return</span>&nbsp;<span class="builtinfunc" id="3607732">len</span><span class="op" id="3607735">(</span><span class="ident" id="3607736"><a href="/io/ioutil/ioutil.go.html#3607693">f</a></span><span class="op" id="3607737">)</span>&nbsp;<span class="op" id="3607739">}</span><br>
<span class="lineno">95</span><span class="keyword" id="3607741">func</span>&nbsp;<span class="op" id="3607746">(</span><span class="ident" id="3607747">f</span>&nbsp;<span class="ident" id="3607749"><a href="/io/ioutil/ioutil.go.html#3607665">byName</a></span><span class="op" id="3607755">)</span>&nbsp;<span class="ident" id="3607757">Less</span><span class="op" id="3607761">(</span><span class="ident" id="3607762">i</span><span class="op" id="3607763">,</span>&nbsp;<span class="ident" id="3607765">j</span>&nbsp;<span class="builtintype" id="3607767">int</span><span class="op" id="3607770">)</span>&nbsp;<span class="builtintype" id="3607772">bool</span>&nbsp;<span class="op" id="3607777">{</span>&nbsp;<span class="keyword" id="3607779">return</span>&nbsp;<span class="ident" id="3607786"><a href="/io/ioutil/ioutil.go.html#3607747">f</a></span><span class="op" id="3607787">[</span><span class="ident" id="3607788"><a href="/io/ioutil/ioutil.go.html#3607762">i</a></span><span class="op" id="3607789">]</span><span class="op" id="3607790">.</span><span class="ident" id="3607791">Name</span><span class="op" id="3607795">(</span><span class="op" id="3607796">)</span>&nbsp;<span class="op" id="3607798">&lt;</span>&nbsp;<span class="ident" id="3607800"><a href="/io/ioutil/ioutil.go.html#3607747">f</a></span><span class="op" id="3607801">[</span><span class="ident" id="3607802"><a href="/io/ioutil/ioutil.go.html#3607765">j</a></span><span class="op" id="3607803">]</span><span class="op" id="3607804">.</span><span class="ident" id="3607805">Name</span><span class="op" id="3607809">(</span><span class="op" id="3607810">)</span>&nbsp;<span class="op" id="3607812">}</span><br>
<span class="lineno"></span><span class="keyword" id="3607814">func</span>&nbsp;<span class="op" id="3607819">(</span><span class="ident" id="3607820">f</span>&nbsp;<span class="ident" id="3607822"><a href="/io/ioutil/ioutil.go.html#3607665">byName</a></span><span class="op" id="3607828">)</span>&nbsp;<span class="ident" id="3607830">Swap</span><span class="op" id="3607834">(</span><span class="ident" id="3607835">i</span><span class="op" id="3607836">,</span>&nbsp;<span class="ident" id="3607838">j</span>&nbsp;<span class="builtintype" id="3607840">int</span><span class="op" id="3607843">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3607850">{</span>&nbsp;<span class="ident" id="3607852"><a href="/io/ioutil/ioutil.go.html#3607820">f</a></span><span class="op" id="3607853">[</span><span class="ident" id="3607854"><a href="/io/ioutil/ioutil.go.html#3607835">i</a></span><span class="op" id="3607855">]</span><span class="op" id="3607856">,</span>&nbsp;<span class="ident" id="3607858"><a href="/io/ioutil/ioutil.go.html#3607820">f</a></span><span class="op" id="3607859">[</span><span class="ident" id="3607860"><a href="/io/ioutil/ioutil.go.html#3607838">j</a></span><span class="op" id="3607861">]</span>&nbsp;<span class="op" id="3607863">=</span>&nbsp;<span class="ident" id="3607865"><a href="/io/ioutil/ioutil.go.html#3607820">f</a></span><span class="op" id="3607866">[</span><span class="ident" id="3607867"><a href="/io/ioutil/ioutil.go.html#3607838">j</a></span><span class="op" id="3607868">]</span><span class="op" id="3607869">,</span>&nbsp;<span class="ident" id="3607871"><a href="/io/ioutil/ioutil.go.html#3607820">f</a></span><span class="op" id="3607872">[</span><span class="ident" id="3607873"><a href="/io/ioutil/ioutil.go.html#3607835">i</a></span><span class="op" id="3607874">]</span>&nbsp;<span class="op" id="3607876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3607879">//&nbsp;ReadDir&nbsp;reads&nbsp;the&nbsp;directory&nbsp;named&nbsp;by&nbsp;dirname&nbsp;and&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3607939">//&nbsp;a&nbsp;list&nbsp;of&nbsp;sorted&nbsp;directory&nbsp;entries.</span><br>
<span class="lineno">100</span><span class="keyword" id="3607978">func</span>&nbsp;<span class="ident" id="3607983">ReadDir</span><span class="op" id="3607990">(</span><span class="ident" id="3607991">dirname</span>&nbsp;<span class="builtintype" id="3607999">string</span><span class="op" id="3608005">)</span>&nbsp;<span class="op" id="3608007">(</span><span class="op" id="3608008">[</span><span class="op" id="3608009">]</span><span class="ident" id="3608010"><a href="/io/ioutil/ioutil.go.html#3605028">os</a></span><span class="op" id="3608012">.</span><span class="ident" id="3608013">FileInfo</span><span class="op" id="3608021">,</span>&nbsp;<span class="builtintype" id="3608023">error</span><span class="op" id="3608028">)</span>&nbsp;<span class="op" id="3608030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3608033">f</span><span class="op" id="3608034">,</span>&nbsp;<span class="ident" id="3608036">err</span>&nbsp;<span class="op" id="3608040">:=</span>&nbsp;<span class="ident" id="3608043"><a href="/io/ioutil/ioutil.go.html#3605028">os</a></span><span class="op" id="3608045">.</span><span class="ident" id="3608046">Open</span><span class="op" id="3608050">(</span><span class="ident" id="3608051"><a href="/io/ioutil/ioutil.go.html#3607991">dirname</a></span><span class="op" id="3608058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3608061">if</span>&nbsp;<span class="ident" id="3608064"><a href="/io/ioutil/ioutil.go.html#3608036">err</a></span>&nbsp;<span class="op" id="3608068">!=</span>&nbsp;<span class="ident" id="3608071">nil</span>&nbsp;<span class="op" id="3608075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3608079">return</span>&nbsp;<span class="ident" id="3608086">nil</span><span class="op" id="3608089">,</span>&nbsp;<span class="ident" id="3608091"><a href="/io/ioutil/ioutil.go.html#3608036">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3608096">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3608099">list</span><span class="op" id="3608103">,</span>&nbsp;<span class="ident" id="3608105"><a href="/io/ioutil/ioutil.go.html#3608036">err</a></span>&nbsp;<span class="op" id="3608109">:=</span>&nbsp;<span class="ident" id="3608112"><a href="/io/ioutil/ioutil.go.html#3608033">f</a></span><span class="op" id="3608113">.</span><span class="ident" id="3608114">Readdir</span><span class="op" id="3608121">(</span><span class="op" id="3608122">-</span><span class="num" id="3608123">1</span><span class="op" id="3608124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3608127"><a href="/io/ioutil/ioutil.go.html#3608033">f</a></span><span class="op" id="3608128">.</span><span class="ident" id="3608129">Close</span><span class="op" id="3608134">(</span><span class="op" id="3608135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3608138">if</span>&nbsp;<span class="ident" id="3608141"><a href="/io/ioutil/ioutil.go.html#3608036">err</a></span>&nbsp;<span class="op" id="3608145">!=</span>&nbsp;<span class="ident" id="3608148">nil</span>&nbsp;<span class="op" id="3608152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3608156">return</span>&nbsp;<span class="ident" id="3608163">nil</span><span class="op" id="3608166">,</span>&nbsp;<span class="ident" id="3608168"><a href="/io/ioutil/ioutil.go.html#3608036">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3608173">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3608176"><a href="/io/ioutil/ioutil.go.html#3605034">sort</a></span><span class="op" id="3608180">.</span><span class="ident" id="3608181">Sort</span><span class="op" id="3608185">(</span><span class="ident" id="3608186"><a href="/io/ioutil/ioutil.go.html#3607665">byName</a></span><span class="op" id="3608192">(</span><span class="ident" id="3608193"><a href="/io/ioutil/ioutil.go.html#3608099">list</a></span><span class="op" id="3608197">)</span><span class="op" id="3608198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3608201">return</span>&nbsp;<span class="ident" id="3608208"><a href="/io/ioutil/ioutil.go.html#3608099">list</a></span><span class="op" id="3608212">,</span>&nbsp;<span class="ident" id="3608214">nil</span><br>
<span class="lineno"></span><span class="op" id="3608218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3608221">type</span>&nbsp;<span class="ident" id="3608226">nopCloser</span>&nbsp;<span class="keyword" id="3608236">struct</span>&nbsp;<span class="op" id="3608243">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3608246"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3608248">.</span><span class="ident" id="3608249">Reader</span><br>
<span class="lineno"></span><span class="op" id="3608256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3608259">func</span>&nbsp;<span class="op" id="3608264">(</span><span class="ident" id="3608265"><a href="/io/ioutil/ioutil.go.html#3608226">nopCloser</a></span><span class="op" id="3608274">)</span>&nbsp;<span class="ident" id="3608276">Close</span><span class="op" id="3608281">(</span><span class="op" id="3608282">)</span>&nbsp;<span class="builtintype" id="3608284">error</span>&nbsp;<span class="op" id="3608290">{</span>&nbsp;<span class="keyword" id="3608292">return</span>&nbsp;<span class="ident" id="3608299">nil</span>&nbsp;<span class="op" id="3608303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="comment" id="3608306">//&nbsp;NopCloser&nbsp;returns&nbsp;a&nbsp;ReadCloser&nbsp;with&nbsp;a&nbsp;no-op&nbsp;Close&nbsp;method&nbsp;wrapping</span><br>
<span class="lineno"></span><span class="comment" id="3608375">//&nbsp;the&nbsp;provided&nbsp;Reader&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="3608401">func</span>&nbsp;<span class="ident" id="3608406">NopCloser</span><span class="op" id="3608415">(</span><span class="ident" id="3608416">r</span>&nbsp;<span class="ident" id="3608418"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3608420">.</span><span class="ident" id="3608421">Reader</span><span class="op" id="3608427">)</span>&nbsp;<span class="ident" id="3608429"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3608431">.</span><span class="ident" id="3608432">ReadCloser</span>&nbsp;<span class="op" id="3608443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3608446">return</span>&nbsp;<span class="ident" id="3608453"><a href="/io/ioutil/ioutil.go.html#3608226">nopCloser</a></span><span class="op" id="3608462">{</span><span class="ident" id="3608463"><a href="/io/ioutil/ioutil.go.html#3608416">r</a></span><span class="op" id="3608464">}</span><br>
<span class="lineno"></span><span class="op" id="3608466">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="3608469">type</span>&nbsp;<span class="ident" id="3608474">devNull</span>&nbsp;<span class="builtintype" id="3608482">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3608487">//&nbsp;devNull&nbsp;implements&nbsp;ReaderFrom&nbsp;as&nbsp;an&nbsp;optimization&nbsp;so&nbsp;io.Copy&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3608553">//&nbsp;ioutil.Discard&nbsp;can&nbsp;avoid&nbsp;doing&nbsp;unnecessary&nbsp;work.</span><br>
<span class="lineno">130</span><span class="keyword" id="3608605">var</span>&nbsp;<span class="ident" id="3608609">_</span>&nbsp;<span class="ident" id="3608611"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3608613">.</span><span class="ident" id="3608614">ReaderFrom</span>&nbsp;<span class="op" id="3608625">=</span>&nbsp;<span class="ident" id="3608627"><a href="/io/ioutil/ioutil.go.html#3608474">devNull</a></span><span class="op" id="3608634">(</span><span class="num" id="3608635">0</span><span class="op" id="3608636">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3608639">func</span>&nbsp;<span class="op" id="3608644">(</span><span class="ident" id="3608645"><a href="/io/ioutil/ioutil.go.html#3608474">devNull</a></span><span class="op" id="3608652">)</span>&nbsp;<span class="ident" id="3608654">Write</span><span class="op" id="3608659">(</span><span class="ident" id="3608660">p</span>&nbsp;<span class="op" id="3608662">[</span><span class="op" id="3608663">]</span><span class="builtintype" id="3608664">byte</span><span class="op" id="3608668">)</span>&nbsp;<span class="op" id="3608670">(</span><span class="builtintype" id="3608671">int</span><span class="op" id="3608674">,</span>&nbsp;<span class="builtintype" id="3608676">error</span><span class="op" id="3608681">)</span>&nbsp;<span class="op" id="3608683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3608686">return</span>&nbsp;<span class="builtinfunc" id="3608693">len</span><span class="op" id="3608696">(</span><span class="ident" id="3608697"><a href="/io/ioutil/ioutil.go.html#3608660">p</a></span><span class="op" id="3608698">)</span><span class="op" id="3608699">,</span>&nbsp;<span class="ident" id="3608701">nil</span><br>
<span class="lineno"></span><span class="op" id="3608705">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="3608708">func</span>&nbsp;<span class="op" id="3608713">(</span><span class="ident" id="3608714"><a href="/io/ioutil/ioutil.go.html#3608474">devNull</a></span><span class="op" id="3608721">)</span>&nbsp;<span class="ident" id="3608723">WriteString</span><span class="op" id="3608734">(</span><span class="ident" id="3608735">s</span>&nbsp;<span class="builtintype" id="3608737">string</span><span class="op" id="3608743">)</span>&nbsp;<span class="op" id="3608745">(</span><span class="builtintype" id="3608746">int</span><span class="op" id="3608749">,</span>&nbsp;<span class="builtintype" id="3608751">error</span><span class="op" id="3608756">)</span>&nbsp;<span class="op" id="3608758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3608761">return</span>&nbsp;<span class="builtinfunc" id="3608768">len</span><span class="op" id="3608771">(</span><span class="ident" id="3608772"><a href="/io/ioutil/ioutil.go.html#3608735">s</a></span><span class="op" id="3608773">)</span><span class="op" id="3608774">,</span>&nbsp;<span class="ident" id="3608776">nil</span><br>
<span class="lineno"></span><span class="op" id="3608780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="3608783">var</span>&nbsp;<span class="ident" id="3608787">blackHolePool</span>&nbsp;<span class="op" id="3608801">=</span>&nbsp;<span class="ident" id="3608803"><a href="/io/ioutil/ioutil.go.html#3605042">sync</a></span><span class="op" id="3608807">.</span><span class="ident" id="3608808">Pool</span><span class="op" id="3608812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3608815">New</span><span class="op" id="3608818">:</span>&nbsp;<span class="keyword" id="3608820">func</span><span class="op" id="3608824">(</span><span class="op" id="3608825">)</span>&nbsp;<span class="keyword" id="3608827">interface</span><span class="op" id="3608836">{</span><span class="op" id="3608837">}</span>&nbsp;<span class="op" id="3608839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3608843">b</span>&nbsp;<span class="op" id="3608845">:=</span>&nbsp;<span class="builtinfunc" id="3608848">make</span><span class="op" id="3608852">(</span><span class="op" id="3608853">[</span><span class="op" id="3608854">]</span><span class="builtintype" id="3608855">byte</span><span class="op" id="3608859">,</span>&nbsp;<span class="num" id="3608861">8192</span><span class="op" id="3608865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3608869">return</span>&nbsp;<span class="op" id="3608876">&amp;</span><span class="ident" id="3608877"><a href="/io/ioutil/ioutil.go.html#3608843">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3608880">}</span><span class="op" id="3608881">,</span><br>
<span class="lineno">145</span><span class="op" id="3608883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3608886">func</span>&nbsp;<span class="op" id="3608891">(</span><span class="ident" id="3608892"><a href="/io/ioutil/ioutil.go.html#3608474">devNull</a></span><span class="op" id="3608899">)</span>&nbsp;<span class="ident" id="3608901">ReadFrom</span><span class="op" id="3608909">(</span><span class="ident" id="3608910">r</span>&nbsp;<span class="ident" id="3608912"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3608914">.</span><span class="ident" id="3608915">Reader</span><span class="op" id="3608921">)</span>&nbsp;<span class="op" id="3608923">(</span><span class="ident" id="3608924">n</span>&nbsp;<span class="ident" id="3608926">int64</span><span class="op" id="3608931">,</span>&nbsp;<span class="ident" id="3608933">err</span>&nbsp;<span class="builtintype" id="3608937">error</span><span class="op" id="3608942">)</span>&nbsp;<span class="op" id="3608944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3608947">bufp</span>&nbsp;<span class="op" id="3608952">:=</span>&nbsp;<span class="ident" id="3608955"><a href="/io/ioutil/ioutil.go.html#3608787">blackHolePool</a></span><span class="op" id="3608968">.</span><span class="ident" id="3608969">Get</span><span class="op" id="3608972">(</span><span class="op" id="3608973">)</span><span class="op" id="3608974">.</span><span class="op" id="3608975">(</span><span class="op" id="3608976">*</span><span class="op" id="3608977">[</span><span class="op" id="3608978">]</span><span class="builtintype" id="3608979">byte</span><span class="op" id="3608983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3608986">readSize</span>&nbsp;<span class="op" id="3608995">:=</span>&nbsp;<span class="num" id="3608998">0</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3609001">for</span>&nbsp;<span class="op" id="3609005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3609009"><a href="/io/ioutil/ioutil.go.html#3608986">readSize</a></span><span class="op" id="3609017">,</span>&nbsp;<span class="ident" id="3609019"><a href="/io/ioutil/ioutil.go.html#3608933">err</a></span>&nbsp;<span class="op" id="3609023">=</span>&nbsp;<span class="ident" id="3609025"><a href="/io/ioutil/ioutil.go.html#3608910">r</a></span><span class="op" id="3609026">.</span><span class="ident" id="3609027">Read</span><span class="op" id="3609031">(</span><span class="op" id="3609032">*</span><span class="ident" id="3609033"><a href="/io/ioutil/ioutil.go.html#3608947">bufp</a></span><span class="op" id="3609037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3609041"><a href="/io/ioutil/ioutil.go.html#3608924">n</a></span>&nbsp;<span class="op" id="3609043">+=</span>&nbsp;<span class="ident" id="3609046">int64</span><span class="op" id="3609051">(</span><span class="ident" id="3609052"><a href="/io/ioutil/ioutil.go.html#3608986">readSize</a></span><span class="op" id="3609060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3609064">if</span>&nbsp;<span class="ident" id="3609067"><a href="/io/ioutil/ioutil.go.html#3608933">err</a></span>&nbsp;<span class="op" id="3609071">!=</span>&nbsp;<span class="ident" id="3609074">nil</span>&nbsp;<span class="op" id="3609078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3609083"><a href="/io/ioutil/ioutil.go.html#3608787">blackHolePool</a></span><span class="op" id="3609096">.</span><span class="ident" id="3609097">Put</span><span class="op" id="3609100">(</span><span class="ident" id="3609101"><a href="/io/ioutil/ioutil.go.html#3608947">bufp</a></span><span class="op" id="3609105">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3609110">if</span>&nbsp;<span class="ident" id="3609113"><a href="/io/ioutil/ioutil.go.html#3608933">err</a></span>&nbsp;<span class="op" id="3609117">==</span>&nbsp;<span class="ident" id="3609120"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3609122">.</span><span class="ident" id="3609123">EOF</span>&nbsp;<span class="op" id="3609127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3609133">return</span>&nbsp;<span class="ident" id="3609140"><a href="/io/ioutil/ioutil.go.html#3608924">n</a></span><span class="op" id="3609141">,</span>&nbsp;<span class="ident" id="3609143">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3609150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3609155">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3609164">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3609167">}</span><br>
<span class="lineno"></span><span class="op" id="3609169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3609172">//&nbsp;Discard&nbsp;is&nbsp;an&nbsp;io.Writer&nbsp;on&nbsp;which&nbsp;all&nbsp;Write&nbsp;calls&nbsp;succeed</span><br>
<span class="lineno"></span><span class="comment" id="3609232">//&nbsp;without&nbsp;doing&nbsp;anything.</span><br>
<span class="lineno">165</span><span class="keyword" id="3609259">var</span>&nbsp;<span class="ident" id="3609263">Discard</span>&nbsp;<span class="ident" id="3609271"><a href="/io/ioutil/ioutil.go.html#3605022">io</a></span><span class="op" id="3609273">.</span><span class="ident" id="3609274">Writer</span>&nbsp;<span class="op" id="3609281">=</span>&nbsp;<span class="ident" id="3609283"><a href="/io/ioutil/ioutil.go.html#3608474">devNull</a></span><span class="op" id="3609290">(</span><span class="num" id="3609291">0</span><span class="op" id="3609292">)</span>
</div>
</body>
</html>
