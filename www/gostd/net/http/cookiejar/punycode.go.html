<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http/cookiejar</h2>
<ul>
<li><a href="/gostd/net/http/cookiejar/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/cookiejar/jar_test.go.html">jar_test.go</a></li>
<li><a href="/gostd/net/http/cookiejar/punycode.go.html">punycode.go</a></li>
<li><a href="/gostd/net/http/cookiejar/punycode_test.go.html">punycode_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5674059">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5674114">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5674168">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5674219">package</span>&nbsp;<span class="ident" id="5674227">cookiejar</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5674238">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;the&nbsp;Punycode&nbsp;algorithm&nbsp;from&nbsp;RFC&nbsp;3492.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5674301">import</span>&nbsp;<span class="op" id="5674308">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5674311">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5674318">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5674329">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="5674344">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5674347">//&nbsp;These&nbsp;parameter&nbsp;values&nbsp;are&nbsp;specified&nbsp;in&nbsp;section&nbsp;5.</span><br>
<span class="lineno"></span><span class="comment" id="5674401">//</span><br>
<span class="lineno"></span><span class="comment" id="5674404">//&nbsp;All&nbsp;computation&nbsp;is&nbsp;done&nbsp;with&nbsp;int32s,&nbsp;so&nbsp;that&nbsp;overflow&nbsp;behavior&nbsp;is&nbsp;identical</span><br>
<span class="lineno"></span><span class="comment" id="5674483">//&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;int&nbsp;is&nbsp;32-bit&nbsp;or&nbsp;64-bit.</span><br>
<span class="lineno"></span><span class="keyword" id="5674533">const</span>&nbsp;<span class="op" id="5674539">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674542">base</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5674554">int32</span>&nbsp;<span class="op" id="5674560">=</span>&nbsp;<span class="num" id="5674562">36</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674566">damp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5674578">int32</span>&nbsp;<span class="op" id="5674584">=</span>&nbsp;<span class="num" id="5674586">700</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674591">initialBias</span>&nbsp;<span class="builtintype" id="5674603">int32</span>&nbsp;<span class="op" id="5674609">=</span>&nbsp;<span class="num" id="5674611">72</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674615">initialN</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5674627">int32</span>&nbsp;<span class="op" id="5674633">=</span>&nbsp;<span class="num" id="5674635">128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674640">skew</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5674652">int32</span>&nbsp;<span class="op" id="5674658">=</span>&nbsp;<span class="num" id="5674660">38</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674664">tmax</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5674676">int32</span>&nbsp;<span class="op" id="5674682">=</span>&nbsp;<span class="num" id="5674684">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5674688">tmin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5674700">int32</span>&nbsp;<span class="op" id="5674706">=</span>&nbsp;<span class="num" id="5674708">1</span><br>
<span class="lineno"></span><span class="op" id="5674710">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5674713">//&nbsp;encode&nbsp;encodes&nbsp;a&nbsp;string&nbsp;as&nbsp;specified&nbsp;in&nbsp;section&nbsp;6.3&nbsp;and&nbsp;prepends&nbsp;prefix&nbsp;to</span><br>
<span class="lineno">30</span><span class="comment" id="5674791">//&nbsp;the&nbsp;result.</span><br>
<span class="lineno"></span><span class="comment" id="5674806">//</span><br>
<span class="lineno"></span><span class="comment" id="5674809">//&nbsp;The&nbsp;&#34;while&nbsp;h&nbsp;&lt;&nbsp;length(input)&#34;&nbsp;line&nbsp;in&nbsp;the&nbsp;specification&nbsp;becomes&nbsp;&#34;for</span><br>
<span class="lineno"></span><span class="comment" id="5674881">//&nbsp;remaining&nbsp;!=&nbsp;0&#34;&nbsp;in&nbsp;the&nbsp;Go&nbsp;code,&nbsp;because&nbsp;len(s)&nbsp;in&nbsp;Go&nbsp;is&nbsp;in&nbsp;bytes,&nbsp;not&nbsp;runes.</span><br>
<span class="lineno"></span><span class="keyword" id="5674961">func</span>&nbsp;<span class="ident" id="5674966">encode</span><span class="op" id="5674972">(</span><span class="ident" id="5674973">prefix</span><span class="op" id="5674979">,</span>&nbsp;<span class="ident" id="5674981">s</span>&nbsp;<span class="builtintype" id="5674983">string</span><span class="op" id="5674989">)</span>&nbsp;<span class="op" id="5674991">(</span><span class="builtintype" id="5674992">string</span><span class="op" id="5674998">,</span>&nbsp;<span class="builtintype" id="5675000">error</span><span class="op" id="5675005">)</span>&nbsp;<span class="op" id="5675007">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675010">output</span>&nbsp;<span class="op" id="5675017">:=</span>&nbsp;<span class="builtinfunc" id="5675020">make</span><span class="op" id="5675024">(</span><span class="op" id="5675025">[</span><span class="op" id="5675026">]</span><span class="builtintype" id="5675027">byte</span><span class="op" id="5675031">,</span>&nbsp;<span class="builtinfunc" id="5675033">len</span><span class="op" id="5675036">(</span><span class="ident" id="5675037">prefix</span><span class="op" id="5675043">)</span><span class="op" id="5675044">,</span>&nbsp;<span class="builtinfunc" id="5675046">len</span><span class="op" id="5675049">(</span><span class="ident" id="5675050">prefix</span><span class="op" id="5675056">)</span><span class="op" id="5675057">+</span><span class="num" id="5675058">1</span><span class="op" id="5675059">+</span><span class="num" id="5675060">2</span><span class="op" id="5675061">*</span><span class="builtinfunc" id="5675062">len</span><span class="op" id="5675065">(</span><span class="ident" id="5675066">s</span><span class="op" id="5675067">)</span><span class="op" id="5675068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5675071">copy</span><span class="op" id="5675075">(</span><span class="ident" id="5675076">output</span><span class="op" id="5675082">,</span>&nbsp;<span class="ident" id="5675084">prefix</span><span class="op" id="5675090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675093">delta</span><span class="op" id="5675098">,</span>&nbsp;<span class="ident" id="5675100">n</span><span class="op" id="5675101">,</span>&nbsp;<span class="ident" id="5675103">bias</span>&nbsp;<span class="op" id="5675108">:=</span>&nbsp;<span class="builtintype" id="5675111">int32</span><span class="op" id="5675116">(</span><span class="num" id="5675117">0</span><span class="op" id="5675118">)</span><span class="op" id="5675119">,</span>&nbsp;<span class="ident" id="5675121">initialN</span><span class="op" id="5675129">,</span>&nbsp;<span class="ident" id="5675131">initialBias</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675144">b</span><span class="op" id="5675145">,</span>&nbsp;<span class="ident" id="5675147">remaining</span>&nbsp;<span class="op" id="5675157">:=</span>&nbsp;<span class="builtintype" id="5675160">int32</span><span class="op" id="5675165">(</span><span class="num" id="5675166">0</span><span class="op" id="5675167">)</span><span class="op" id="5675168">,</span>&nbsp;<span class="builtintype" id="5675170">int32</span><span class="op" id="5675175">(</span><span class="num" id="5675176">0</span><span class="op" id="5675177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675180">for</span>&nbsp;<span class="ident" id="5675184">_</span><span class="op" id="5675185">,</span>&nbsp;<span class="ident" id="5675187">r</span>&nbsp;<span class="op" id="5675189">:=</span>&nbsp;<span class="keyword" id="5675192">range</span>&nbsp;<span class="ident" id="5675198">s</span>&nbsp;<span class="op" id="5675200">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675204">if</span>&nbsp;<span class="ident" id="5675207">r</span>&nbsp;<span class="op" id="5675209">&lt;</span>&nbsp;<span class="num" id="5675211">0x80</span>&nbsp;<span class="op" id="5675216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675221">b</span><span class="op" id="5675222">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675228">output</span>&nbsp;<span class="op" id="5675235">=</span>&nbsp;<span class="builtinfunc" id="5675237">append</span><span class="op" id="5675243">(</span><span class="ident" id="5675244">output</span><span class="op" id="5675250">,</span>&nbsp;<span class="builtintype" id="5675252">byte</span><span class="op" id="5675256">(</span><span class="ident" id="5675257">r</span><span class="op" id="5675258">)</span><span class="op" id="5675259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675263">}</span>&nbsp;<span class="keyword" id="5675265">else</span>&nbsp;<span class="op" id="5675270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675275">remaining</span><span class="op" id="5675284">++</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675295">h</span>&nbsp;<span class="op" id="5675297">:=</span>&nbsp;<span class="ident" id="5675300">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675303">if</span>&nbsp;<span class="ident" id="5675306">b</span>&nbsp;<span class="op" id="5675308">&gt;</span>&nbsp;<span class="num" id="5675310">0</span>&nbsp;<span class="op" id="5675312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675316">output</span>&nbsp;<span class="op" id="5675323">=</span>&nbsp;<span class="builtinfunc" id="5675325">append</span><span class="op" id="5675331">(</span><span class="ident" id="5675332">output</span><span class="op" id="5675338">,</span>&nbsp;<span class="string" id="5675340">&#39;-&#39;</span><span class="op" id="5675343">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675349">for</span>&nbsp;<span class="ident" id="5675353">remaining</span>&nbsp;<span class="op" id="5675363">!=</span>&nbsp;<span class="num" id="5675366">0</span>&nbsp;<span class="op" id="5675368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675372">m</span>&nbsp;<span class="op" id="5675374">:=</span>&nbsp;<span class="builtintype" id="5675377">int32</span><span class="op" id="5675382">(</span><span class="num" id="5675383">0x7fffffff</span><span class="op" id="5675393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675397">for</span>&nbsp;<span class="ident" id="5675401">_</span><span class="op" id="5675402">,</span>&nbsp;<span class="ident" id="5675404">r</span>&nbsp;<span class="op" id="5675406">:=</span>&nbsp;<span class="keyword" id="5675409">range</span>&nbsp;<span class="ident" id="5675415">s</span>&nbsp;<span class="op" id="5675417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675422">if</span>&nbsp;<span class="ident" id="5675425">m</span>&nbsp;<span class="op" id="5675427">&gt;</span>&nbsp;<span class="ident" id="5675429">r</span>&nbsp;<span class="op" id="5675431">&amp;&amp;</span>&nbsp;<span class="ident" id="5675434">r</span>&nbsp;<span class="op" id="5675436">&gt;=</span>&nbsp;<span class="ident" id="5675439">n</span>&nbsp;<span class="op" id="5675441">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675447">m</span>&nbsp;<span class="op" id="5675449">=</span>&nbsp;<span class="ident" id="5675451">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675464">delta</span>&nbsp;<span class="op" id="5675470">+=</span>&nbsp;<span class="op" id="5675473">(</span><span class="ident" id="5675474">m</span>&nbsp;<span class="op" id="5675476">-</span>&nbsp;<span class="ident" id="5675478">n</span><span class="op" id="5675479">)</span>&nbsp;<span class="op" id="5675481">*</span>&nbsp;<span class="op" id="5675483">(</span><span class="ident" id="5675484">h</span>&nbsp;<span class="op" id="5675486">+</span>&nbsp;<span class="num" id="5675488">1</span><span class="op" id="5675489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675493">if</span>&nbsp;<span class="ident" id="5675496">delta</span>&nbsp;<span class="op" id="5675502">&lt;</span>&nbsp;<span class="num" id="5675504">0</span>&nbsp;<span class="op" id="5675506">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675511">return</span>&nbsp;<span class="string" id="5675518">&#34;&#34;</span><span class="op" id="5675520">,</span>&nbsp;<span class="ident" id="5675522">fmt</span><span class="op" id="5675525">.</span><span class="ident" id="5675526">Errorf</span><span class="op" id="5675532">(</span><span class="string" id="5675533">&#34;cookiejar:&nbsp;invalid&nbsp;label&nbsp;%q&#34;</span><span class="op" id="5675562">,</span>&nbsp;<span class="ident" id="5675564">s</span><span class="op" id="5675565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675573">n</span>&nbsp;<span class="op" id="5675575">=</span>&nbsp;<span class="ident" id="5675577">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675581">for</span>&nbsp;<span class="ident" id="5675585">_</span><span class="op" id="5675586">,</span>&nbsp;<span class="ident" id="5675588">r</span>&nbsp;<span class="op" id="5675590">:=</span>&nbsp;<span class="keyword" id="5675593">range</span>&nbsp;<span class="ident" id="5675599">s</span>&nbsp;<span class="op" id="5675601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675606">if</span>&nbsp;<span class="ident" id="5675609">r</span>&nbsp;<span class="op" id="5675611">&lt;</span>&nbsp;<span class="ident" id="5675613">n</span>&nbsp;<span class="op" id="5675615">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675621">delta</span><span class="op" id="5675626">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675633">if</span>&nbsp;<span class="ident" id="5675636">delta</span>&nbsp;<span class="op" id="5675642">&lt;</span>&nbsp;<span class="num" id="5675644">0</span>&nbsp;<span class="op" id="5675646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675653">return</span>&nbsp;<span class="string" id="5675660">&#34;&#34;</span><span class="op" id="5675662">,</span>&nbsp;<span class="ident" id="5675664">fmt</span><span class="op" id="5675667">.</span><span class="ident" id="5675668">Errorf</span><span class="op" id="5675674">(</span><span class="string" id="5675675">&#34;cookiejar:&nbsp;invalid&nbsp;label&nbsp;%q&#34;</span><span class="op" id="5675704">,</span>&nbsp;<span class="ident" id="5675706">s</span><span class="op" id="5675707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675719">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675736">if</span>&nbsp;<span class="ident" id="5675739">r</span>&nbsp;<span class="op" id="5675741">&gt;</span>&nbsp;<span class="ident" id="5675743">n</span>&nbsp;<span class="op" id="5675745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675751">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675768">q</span>&nbsp;<span class="op" id="5675770">:=</span>&nbsp;<span class="ident" id="5675773">delta</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675782">for</span>&nbsp;<span class="ident" id="5675786">k</span>&nbsp;<span class="op" id="5675788">:=</span>&nbsp;<span class="ident" id="5675791">base</span><span class="op" id="5675795">;</span>&nbsp;<span class="op" id="5675797">;</span>&nbsp;<span class="ident" id="5675799">k</span>&nbsp;<span class="op" id="5675801">+=</span>&nbsp;<span class="ident" id="5675804">base</span>&nbsp;<span class="op" id="5675809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675815">t</span>&nbsp;<span class="op" id="5675817">:=</span>&nbsp;<span class="ident" id="5675820">k</span>&nbsp;<span class="op" id="5675822">-</span>&nbsp;<span class="ident" id="5675824">bias</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675833">if</span>&nbsp;<span class="ident" id="5675836">t</span>&nbsp;<span class="op" id="5675838">&lt;</span>&nbsp;<span class="ident" id="5675840">tmin</span>&nbsp;<span class="op" id="5675845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675852">t</span>&nbsp;<span class="op" id="5675854">=</span>&nbsp;<span class="ident" id="5675856">tmin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675865">}</span>&nbsp;<span class="keyword" id="5675867">else</span>&nbsp;<span class="keyword" id="5675872">if</span>&nbsp;<span class="ident" id="5675875">t</span>&nbsp;<span class="op" id="5675877">&gt;</span>&nbsp;<span class="ident" id="5675879">tmax</span>&nbsp;<span class="op" id="5675884">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675891">t</span>&nbsp;<span class="op" id="5675893">=</span>&nbsp;<span class="ident" id="5675895">tmax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675910">if</span>&nbsp;<span class="ident" id="5675913">q</span>&nbsp;<span class="op" id="5675915">&lt;</span>&nbsp;<span class="ident" id="5675917">t</span>&nbsp;<span class="op" id="5675919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5675926">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5675936">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5675942">output</span>&nbsp;<span class="op" id="5675949">=</span>&nbsp;<span class="builtinfunc" id="5675951">append</span><span class="op" id="5675957">(</span><span class="ident" id="5675958">output</span><span class="op" id="5675964">,</span>&nbsp;<span class="ident" id="5675966">encodeDigit</span><span class="op" id="5675977">(</span><span class="ident" id="5675978">t</span><span class="op" id="5675979">+</span><span class="op" id="5675980">(</span><span class="ident" id="5675981">q</span><span class="op" id="5675982">-</span><span class="ident" id="5675983">t</span><span class="op" id="5675984">)</span><span class="op" id="5675985">%</span><span class="op" id="5675986">(</span><span class="ident" id="5675987">base</span><span class="op" id="5675991">-</span><span class="ident" id="5675992">t</span><span class="op" id="5675993">)</span><span class="op" id="5675994">)</span><span class="op" id="5675995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676001">q</span>&nbsp;<span class="op" id="5676003">=</span>&nbsp;<span class="op" id="5676005">(</span><span class="ident" id="5676006">q</span>&nbsp;<span class="op" id="5676008">-</span>&nbsp;<span class="ident" id="5676010">t</span><span class="op" id="5676011">)</span>&nbsp;<span class="op" id="5676013">/</span>&nbsp;<span class="op" id="5676015">(</span><span class="ident" id="5676016">base</span>&nbsp;<span class="op" id="5676021">-</span>&nbsp;<span class="ident" id="5676023">t</span><span class="op" id="5676024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676034">output</span>&nbsp;<span class="op" id="5676041">=</span>&nbsp;<span class="builtinfunc" id="5676043">append</span><span class="op" id="5676049">(</span><span class="ident" id="5676050">output</span><span class="op" id="5676056">,</span>&nbsp;<span class="ident" id="5676058">encodeDigit</span><span class="op" id="5676069">(</span><span class="ident" id="5676070">q</span><span class="op" id="5676071">)</span><span class="op" id="5676072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676077">bias</span>&nbsp;<span class="op" id="5676082">=</span>&nbsp;<span class="ident" id="5676084">adapt</span><span class="op" id="5676089">(</span><span class="ident" id="5676090">delta</span><span class="op" id="5676095">,</span>&nbsp;<span class="ident" id="5676097">h</span><span class="op" id="5676098">+</span><span class="num" id="5676099">1</span><span class="op" id="5676100">,</span>&nbsp;<span class="ident" id="5676102">h</span>&nbsp;<span class="op" id="5676104">==</span>&nbsp;<span class="ident" id="5676107">b</span><span class="op" id="5676108">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676113">delta</span>&nbsp;<span class="op" id="5676119">=</span>&nbsp;<span class="num" id="5676121">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676126">h</span><span class="op" id="5676127">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676133">remaining</span><span class="op" id="5676142">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676151">delta</span><span class="op" id="5676156">++</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676161">n</span><span class="op" id="5676162">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676169">return</span>&nbsp;<span class="builtintype" id="5676176">string</span><span class="op" id="5676182">(</span><span class="ident" id="5676183">output</span><span class="op" id="5676189">)</span><span class="op" id="5676190">,</span>&nbsp;<span class="ident" id="5676192">nil</span><br>
<span class="lineno"></span><span class="op" id="5676196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="5676199">func</span>&nbsp;<span class="ident" id="5676204">encodeDigit</span><span class="op" id="5676215">(</span><span class="ident" id="5676216">digit</span>&nbsp;<span class="builtintype" id="5676222">int32</span><span class="op" id="5676227">)</span>&nbsp;<span class="builtintype" id="5676229">byte</span>&nbsp;<span class="op" id="5676234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676237">switch</span>&nbsp;<span class="op" id="5676244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676247">case</span>&nbsp;<span class="num" id="5676252">0</span>&nbsp;<span class="op" id="5676254">&lt;=</span>&nbsp;<span class="ident" id="5676257">digit</span>&nbsp;<span class="op" id="5676263">&amp;&amp;</span>&nbsp;<span class="ident" id="5676266">digit</span>&nbsp;<span class="op" id="5676272">&lt;</span>&nbsp;<span class="num" id="5676274">26</span><span class="op" id="5676276">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676280">return</span>&nbsp;<span class="builtintype" id="5676287">byte</span><span class="op" id="5676291">(</span><span class="ident" id="5676292">digit</span>&nbsp;<span class="op" id="5676298">+</span>&nbsp;<span class="string" id="5676300">&#39;a&#39;</span><span class="op" id="5676303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676306">case</span>&nbsp;<span class="num" id="5676311">26</span>&nbsp;<span class="op" id="5676314">&lt;=</span>&nbsp;<span class="ident" id="5676317">digit</span>&nbsp;<span class="op" id="5676323">&amp;&amp;</span>&nbsp;<span class="ident" id="5676326">digit</span>&nbsp;<span class="op" id="5676332">&lt;</span>&nbsp;<span class="num" id="5676334">36</span><span class="op" id="5676336">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676340">return</span>&nbsp;<span class="builtintype" id="5676347">byte</span><span class="op" id="5676351">(</span><span class="ident" id="5676352">digit</span>&nbsp;<span class="op" id="5676358">+</span>&nbsp;<span class="op" id="5676360">(</span><span class="string" id="5676361">&#39;0&#39;</span>&nbsp;<span class="op" id="5676365">-</span>&nbsp;<span class="num" id="5676367">26</span><span class="op" id="5676369">)</span><span class="op" id="5676370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5676376">panic</span><span class="op" id="5676381">(</span><span class="string" id="5676382">&#34;cookiejar:&nbsp;internal&nbsp;error&nbsp;in&nbsp;punycode&nbsp;encoding&#34;</span><span class="op" id="5676430">)</span><br>
<span class="lineno"></span><span class="op" id="5676432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="5676435">//&nbsp;adapt&nbsp;is&nbsp;the&nbsp;bias&nbsp;adaptation&nbsp;function&nbsp;specified&nbsp;in&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span><span class="keyword" id="5676502">func</span>&nbsp;<span class="ident" id="5676507">adapt</span><span class="op" id="5676512">(</span><span class="ident" id="5676513">delta</span><span class="op" id="5676518">,</span>&nbsp;<span class="ident" id="5676520">numPoints</span>&nbsp;<span class="builtintype" id="5676530">int32</span><span class="op" id="5676535">,</span>&nbsp;<span class="ident" id="5676537">firstTime</span>&nbsp;<span class="builtintype" id="5676547">bool</span><span class="op" id="5676551">)</span>&nbsp;<span class="builtintype" id="5676553">int32</span>&nbsp;<span class="op" id="5676559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676562">if</span>&nbsp;<span class="ident" id="5676565">firstTime</span>&nbsp;<span class="op" id="5676575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676579">delta</span>&nbsp;<span class="op" id="5676585">/=</span>&nbsp;<span class="ident" id="5676588">damp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676594">}</span>&nbsp;<span class="keyword" id="5676596">else</span>&nbsp;<span class="op" id="5676601">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676605">delta</span>&nbsp;<span class="op" id="5676611">/=</span>&nbsp;<span class="num" id="5676614">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676620">delta</span>&nbsp;<span class="op" id="5676626">+=</span>&nbsp;<span class="ident" id="5676629">delta</span>&nbsp;<span class="op" id="5676635">/</span>&nbsp;<span class="ident" id="5676637">numPoints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676648">k</span>&nbsp;<span class="op" id="5676650">:=</span>&nbsp;<span class="builtintype" id="5676653">int32</span><span class="op" id="5676658">(</span><span class="num" id="5676659">0</span><span class="op" id="5676660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676663">for</span>&nbsp;<span class="ident" id="5676667">delta</span>&nbsp;<span class="op" id="5676673">&gt;</span>&nbsp;<span class="op" id="5676675">(</span><span class="op" id="5676676">(</span><span class="ident" id="5676677">base</span><span class="op" id="5676681">-</span><span class="ident" id="5676682">tmin</span><span class="op" id="5676686">)</span><span class="op" id="5676687">*</span><span class="ident" id="5676688">tmax</span><span class="op" id="5676692">)</span><span class="op" id="5676693">/</span><span class="num" id="5676694">2</span>&nbsp;<span class="op" id="5676696">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676700">delta</span>&nbsp;<span class="op" id="5676706">/=</span>&nbsp;<span class="ident" id="5676709">base</span>&nbsp;<span class="op" id="5676714">-</span>&nbsp;<span class="ident" id="5676716">tmin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5676723">k</span>&nbsp;<span class="op" id="5676725">+=</span>&nbsp;<span class="ident" id="5676728">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5676734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5676737">return</span>&nbsp;<span class="ident" id="5676744">k</span>&nbsp;<span class="op" id="5676746">+</span>&nbsp;<span class="op" id="5676748">(</span><span class="ident" id="5676749">base</span><span class="op" id="5676753">-</span><span class="ident" id="5676754">tmin</span><span class="op" id="5676758">+</span><span class="num" id="5676759">1</span><span class="op" id="5676760">)</span><span class="op" id="5676761">*</span><span class="ident" id="5676762">delta</span><span class="op" id="5676767">/</span><span class="op" id="5676768">(</span><span class="ident" id="5676769">delta</span><span class="op" id="5676774">+</span><span class="ident" id="5676775">skew</span><span class="op" id="5676779">)</span><br>
<span class="lineno"></span><span class="op" id="5676781">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="5676784">//&nbsp;Strictly&nbsp;speaking,&nbsp;the&nbsp;remaining&nbsp;code&nbsp;below&nbsp;deals&nbsp;with&nbsp;IDNA&nbsp;(RFC&nbsp;5890&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5676861">//&nbsp;friends)&nbsp;and&nbsp;not&nbsp;Punycode&nbsp;(RFC&nbsp;3492)&nbsp;per&nbsp;se.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5676910">//&nbsp;acePrefix&nbsp;is&nbsp;the&nbsp;ASCII&nbsp;Compatible&nbsp;Encoding&nbsp;prefix.</span><br>
<span class="lineno">130</span><span class="keyword" id="5676964">const</span>&nbsp;<span class="ident" id="5676970">acePrefix</span>&nbsp;<span class="op" id="5676980">=</span>&nbsp;<span class="string" id="5676982">&#34;xn--&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5676990">//&nbsp;toASCII&nbsp;converts&nbsp;a&nbsp;domain&nbsp;or&nbsp;domain&nbsp;label&nbsp;to&nbsp;its&nbsp;ASCII&nbsp;form.&nbsp;For&nbsp;example,</span><br>
<span class="lineno"></span><span class="comment" id="5677067">//&nbsp;toASCII(&#34;b√ºcher.example.com&#34;)&nbsp;is&nbsp;&#34;xn--bcher-kva.example.com&#34;,&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5677137">//&nbsp;toASCII(&#34;golang&#34;)&nbsp;is&nbsp;&#34;golang&#34;.</span><br>
<span class="lineno">135</span><span class="keyword" id="5677171">func</span>&nbsp;<span class="ident" id="5677176">toASCII</span><span class="op" id="5677183">(</span><span class="ident" id="5677184">s</span>&nbsp;<span class="builtintype" id="5677186">string</span><span class="op" id="5677192">)</span>&nbsp;<span class="op" id="5677194">(</span><span class="builtintype" id="5677195">string</span><span class="op" id="5677201">,</span>&nbsp;<span class="builtintype" id="5677203">error</span><span class="op" id="5677208">)</span>&nbsp;<span class="op" id="5677210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677213">if</span>&nbsp;<span class="ident" id="5677216">ascii</span><span class="op" id="5677221">(</span><span class="ident" id="5677222">s</span><span class="op" id="5677223">)</span>&nbsp;<span class="op" id="5677225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677229">return</span>&nbsp;<span class="ident" id="5677236">s</span><span class="op" id="5677237">,</span>&nbsp;<span class="ident" id="5677239">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5677244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5677247">labels</span>&nbsp;<span class="op" id="5677254">:=</span>&nbsp;<span class="ident" id="5677257">strings</span><span class="op" id="5677264">.</span><span class="ident" id="5677265">Split</span><span class="op" id="5677270">(</span><span class="ident" id="5677271">s</span><span class="op" id="5677272">,</span>&nbsp;<span class="string" id="5677274">&#34;.&#34;</span><span class="op" id="5677277">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677280">for</span>&nbsp;<span class="ident" id="5677284">i</span><span class="op" id="5677285">,</span>&nbsp;<span class="ident" id="5677287">label</span>&nbsp;<span class="op" id="5677293">:=</span>&nbsp;<span class="keyword" id="5677296">range</span>&nbsp;<span class="ident" id="5677302">labels</span>&nbsp;<span class="op" id="5677309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677313">if</span>&nbsp;<span class="op" id="5677316">!</span><span class="ident" id="5677317">ascii</span><span class="op" id="5677322">(</span><span class="ident" id="5677323">label</span><span class="op" id="5677328">)</span>&nbsp;<span class="op" id="5677330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5677335">a</span><span class="op" id="5677336">,</span>&nbsp;<span class="ident" id="5677338">err</span>&nbsp;<span class="op" id="5677342">:=</span>&nbsp;<span class="ident" id="5677345">encode</span><span class="op" id="5677351">(</span><span class="ident" id="5677352">acePrefix</span><span class="op" id="5677361">,</span>&nbsp;<span class="ident" id="5677363">label</span><span class="op" id="5677368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677373">if</span>&nbsp;<span class="ident" id="5677376">err</span>&nbsp;<span class="op" id="5677380">!=</span>&nbsp;<span class="ident" id="5677383">nil</span>&nbsp;<span class="op" id="5677387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677393">return</span>&nbsp;<span class="string" id="5677400">&#34;&#34;</span><span class="op" id="5677402">,</span>&nbsp;<span class="ident" id="5677404">err</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5677411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5677416">labels</span><span class="op" id="5677422">[</span><span class="ident" id="5677423">i</span><span class="op" id="5677424">]</span>&nbsp;<span class="op" id="5677426">=</span>&nbsp;<span class="ident" id="5677428">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5677432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5677435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677438">return</span>&nbsp;<span class="ident" id="5677445">strings</span><span class="op" id="5677452">.</span><span class="ident" id="5677453">Join</span><span class="op" id="5677457">(</span><span class="ident" id="5677458">labels</span><span class="op" id="5677464">,</span>&nbsp;<span class="string" id="5677466">&#34;.&#34;</span><span class="op" id="5677469">)</span><span class="op" id="5677470">,</span>&nbsp;<span class="ident" id="5677472">nil</span><br>
<span class="lineno">150</span><span class="op" id="5677476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5677479">func</span>&nbsp;<span class="ident" id="5677484">ascii</span><span class="op" id="5677489">(</span><span class="ident" id="5677490">s</span>&nbsp;<span class="builtintype" id="5677492">string</span><span class="op" id="5677498">)</span>&nbsp;<span class="builtintype" id="5677500">bool</span>&nbsp;<span class="op" id="5677505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677508">for</span>&nbsp;<span class="ident" id="5677512">i</span>&nbsp;<span class="op" id="5677514">:=</span>&nbsp;<span class="num" id="5677517">0</span><span class="op" id="5677518">;</span>&nbsp;<span class="ident" id="5677520">i</span>&nbsp;<span class="op" id="5677522">&lt;</span>&nbsp;<span class="builtinfunc" id="5677524">len</span><span class="op" id="5677527">(</span><span class="ident" id="5677528">s</span><span class="op" id="5677529">)</span><span class="op" id="5677530">;</span>&nbsp;<span class="ident" id="5677532">i</span><span class="op" id="5677533">++</span>&nbsp;<span class="op" id="5677536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677540">if</span>&nbsp;<span class="ident" id="5677543">s</span><span class="op" id="5677544">[</span><span class="ident" id="5677545">i</span><span class="op" id="5677546">]</span>&nbsp;<span class="op" id="5677548">&gt;=</span>&nbsp;<span class="ident" id="5677551">utf8</span><span class="op" id="5677555">.</span><span class="ident" id="5677556">RuneSelf</span>&nbsp;<span class="op" id="5677565">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677570">return</span>&nbsp;<span class="builtintype" id="5677577">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5677585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5677588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5677591">return</span>&nbsp;<span class="builtintype" id="5677598">true</span><br>
<span class="lineno"></span><span class="op" id="5677603">}</span>
</div>
</body>
</html>
