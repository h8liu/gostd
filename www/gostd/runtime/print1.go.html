<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1654329">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1654384">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1654438">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1654489">package</span>&nbsp;<span class="ident" id="1654497">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1654506">import</span>&nbsp;<span class="string" id="1654513">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1654523">//&nbsp;The&nbsp;compiler&nbsp;knows&nbsp;that&nbsp;a&nbsp;print&nbsp;of&nbsp;a&nbsp;value&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno">10</span><span class="comment" id="1654582">//&nbsp;should&nbsp;use&nbsp;printhex&nbsp;instead&nbsp;of&nbsp;printuint&nbsp;(decimal).</span><br>
<span class="lineno"></span><span class="keyword" id="1654637">type</span>&nbsp;<span class="ident" id="1654642">hex</span>&nbsp;<span class="ident" id="1654646">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1654654">func</span>&nbsp;<span class="ident" id="1654659">bytes</span><span class="op" id="1654664">(</span><span class="ident" id="1654665">s</span>&nbsp;<span class="builtintype" id="1654667">string</span><span class="op" id="1654673">)</span>&nbsp;<span class="op" id="1654675">(</span><span class="ident" id="1654676">ret</span>&nbsp;<span class="op" id="1654680">[</span><span class="op" id="1654681">]</span><span class="builtintype" id="1654682">byte</span><span class="op" id="1654686">)</span>&nbsp;<span class="op" id="1654688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654691">rp</span>&nbsp;<span class="op" id="1654694">:=</span>&nbsp;<span class="op" id="1654697">(</span><span class="op" id="1654698">*</span><span class="ident" id="1654699">slice</span><span class="op" id="1654704">)</span><span class="op" id="1654705">(</span><span class="ident" id="1654706">unsafe</span><span class="op" id="1654712">.</span><span class="ident" id="1654713">Pointer</span><span class="op" id="1654720">(</span><span class="op" id="1654721">&amp;</span><span class="ident" id="1654722">ret</span><span class="op" id="1654725">)</span><span class="op" id="1654726">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654729">sp</span>&nbsp;<span class="op" id="1654732">:=</span>&nbsp;<span class="op" id="1654735">(</span><span class="op" id="1654736">*</span><span class="ident" id="1654737">_string</span><span class="op" id="1654744">)</span><span class="op" id="1654745">(</span><span class="ident" id="1654746">noescape</span><span class="op" id="1654754">(</span><span class="ident" id="1654755">unsafe</span><span class="op" id="1654761">.</span><span class="ident" id="1654762">Pointer</span><span class="op" id="1654769">(</span><span class="op" id="1654770">&amp;</span><span class="ident" id="1654771">s</span><span class="op" id="1654772">)</span><span class="op" id="1654773">)</span><span class="op" id="1654774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654777">rp</span><span class="op" id="1654779">.</span><span class="ident" id="1654780">array</span>&nbsp;<span class="op" id="1654786">=</span>&nbsp;<span class="ident" id="1654788">sp</span><span class="op" id="1654790">.</span><span class="ident" id="1654791">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654796">rp</span><span class="op" id="1654798">.</span><span class="builtinfunc" id="1654799">len</span>&nbsp;<span class="op" id="1654803">=</span>&nbsp;<span class="builtintype" id="1654805">uint</span><span class="op" id="1654809">(</span><span class="ident" id="1654810">sp</span><span class="op" id="1654812">.</span><span class="builtinfunc" id="1654813">len</span><span class="op" id="1654816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654819">rp</span><span class="op" id="1654821">.</span><span class="builtinfunc" id="1654822">cap</span>&nbsp;<span class="op" id="1654826">=</span>&nbsp;<span class="builtintype" id="1654828">uint</span><span class="op" id="1654832">(</span><span class="ident" id="1654833">sp</span><span class="op" id="1654835">.</span><span class="builtinfunc" id="1654836">len</span><span class="op" id="1654839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1654842">return</span><br>
<span class="lineno">20</span><span class="op" id="1654849">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1654852">//&nbsp;printf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1654931">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1655002">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno">25</span><span class="comment" id="1655046">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1655059">func</span>&nbsp;<span class="ident" id="1655064">printf</span><span class="op" id="1655070">(</span><span class="ident" id="1655071">s</span>&nbsp;<span class="op" id="1655073">*</span><span class="builtintype" id="1655074">byte</span><span class="op" id="1655078">)</span>&nbsp;<span class="op" id="1655080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655083">vprintf</span><span class="op" id="1655090">(</span><span class="ident" id="1655091">gostringnocopy</span><span class="op" id="1655105">(</span><span class="ident" id="1655106">s</span><span class="op" id="1655107">)</span><span class="op" id="1655108">,</span>&nbsp;<span class="ident" id="1655110">add</span><span class="op" id="1655113">(</span><span class="ident" id="1655114">unsafe</span><span class="op" id="1655120">.</span><span class="ident" id="1655121">Pointer</span><span class="op" id="1655128">(</span><span class="op" id="1655129">&amp;</span><span class="ident" id="1655130">s</span><span class="op" id="1655131">)</span><span class="op" id="1655132">,</span>&nbsp;<span class="ident" id="1655134">unsafe</span><span class="op" id="1655140">.</span><span class="ident" id="1655141">Sizeof</span><span class="op" id="1655147">(</span><span class="ident" id="1655148">s</span><span class="op" id="1655149">)</span><span class="op" id="1655150">)</span><span class="op" id="1655151">)</span><br>
<span class="lineno"></span><span class="op" id="1655153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="1655156">//&nbsp;sprintf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1655236">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1655307">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno"></span><span class="comment" id="1655351">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1655364">func</span>&nbsp;<span class="ident" id="1655369">snprintf</span><span class="op" id="1655377">(</span><span class="ident" id="1655378">dst</span>&nbsp;<span class="op" id="1655382">*</span><span class="builtintype" id="1655383">byte</span><span class="op" id="1655387">,</span>&nbsp;<span class="ident" id="1655389">n</span>&nbsp;<span class="builtintype" id="1655391">int32</span><span class="op" id="1655396">,</span>&nbsp;<span class="ident" id="1655398">s</span>&nbsp;<span class="op" id="1655400">*</span><span class="builtintype" id="1655401">byte</span><span class="op" id="1655405">)</span>&nbsp;<span class="op" id="1655407">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655410">buf</span>&nbsp;<span class="op" id="1655414">:=</span>&nbsp;<span class="op" id="1655417">(</span><span class="op" id="1655418">*</span><span class="op" id="1655419">[</span><span class="num" id="1655420">1</span>&nbsp;<span class="op" id="1655422">&lt;&lt;</span>&nbsp;<span class="num" id="1655425">30</span><span class="op" id="1655427">]</span><span class="builtintype" id="1655428">byte</span><span class="op" id="1655432">)</span><span class="op" id="1655433">(</span><span class="ident" id="1655434">unsafe</span><span class="op" id="1655440">.</span><span class="ident" id="1655441">Pointer</span><span class="op" id="1655448">(</span><span class="ident" id="1655449">dst</span><span class="op" id="1655452">)</span><span class="op" id="1655453">)</span><span class="op" id="1655454">[</span><span class="num" id="1655455">0</span><span class="op" id="1655456">:</span><span class="ident" id="1655457">n</span><span class="op" id="1655458">:</span><span class="ident" id="1655459">n</span><span class="op" id="1655460">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655464">gp</span>&nbsp;<span class="op" id="1655467">:=</span>&nbsp;<span class="ident" id="1655470">getg</span><span class="op" id="1655474">(</span><span class="op" id="1655475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655478">gp</span><span class="op" id="1655480">.</span><span class="ident" id="1655481">writebuf</span>&nbsp;<span class="op" id="1655490">=</span>&nbsp;<span class="ident" id="1655492">buf</span><span class="op" id="1655495">[</span><span class="num" id="1655496">0</span><span class="op" id="1655497">:</span><span class="num" id="1655498">0</span>&nbsp;<span class="op" id="1655500">:</span>&nbsp;<span class="ident" id="1655502">n</span><span class="op" id="1655503">-</span><span class="num" id="1655504">1</span><span class="op" id="1655505">]</span>&nbsp;<span class="comment" id="1655507">//&nbsp;leave&nbsp;room&nbsp;for&nbsp;NUL,&nbsp;this&nbsp;is&nbsp;called&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655553">vprintf</span><span class="op" id="1655560">(</span><span class="ident" id="1655561">gostringnocopy</span><span class="op" id="1655575">(</span><span class="ident" id="1655576">s</span><span class="op" id="1655577">)</span><span class="op" id="1655578">,</span>&nbsp;<span class="ident" id="1655580">add</span><span class="op" id="1655583">(</span><span class="ident" id="1655584">unsafe</span><span class="op" id="1655590">.</span><span class="ident" id="1655591">Pointer</span><span class="op" id="1655598">(</span><span class="op" id="1655599">&amp;</span><span class="ident" id="1655600">s</span><span class="op" id="1655601">)</span><span class="op" id="1655602">,</span>&nbsp;<span class="ident" id="1655604">unsafe</span><span class="op" id="1655610">.</span><span class="ident" id="1655611">Sizeof</span><span class="op" id="1655617">(</span><span class="ident" id="1655618">s</span><span class="op" id="1655619">)</span><span class="op" id="1655620">)</span><span class="op" id="1655621">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655624">buf</span><span class="op" id="1655627">[</span><span class="builtinfunc" id="1655628">len</span><span class="op" id="1655631">(</span><span class="ident" id="1655632">gp</span><span class="op" id="1655634">.</span><span class="ident" id="1655635">writebuf</span><span class="op" id="1655643">)</span><span class="op" id="1655644">]</span>&nbsp;<span class="op" id="1655646">=</span>&nbsp;<span class="string" id="1655648">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655656">gp</span><span class="op" id="1655658">.</span><span class="ident" id="1655659">writebuf</span>&nbsp;<span class="op" id="1655668">=</span>&nbsp;<span class="ident" id="1655670">nil</span><br>
<span class="lineno"></span><span class="op" id="1655674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1655677">//var&nbsp;debuglock&nbsp;mutex</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1655700">//&nbsp;write&nbsp;to&nbsp;goroutine-local&nbsp;buffer&nbsp;if&nbsp;diverting&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="1655756">//&nbsp;or&nbsp;else&nbsp;standard&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1655783">func</span>&nbsp;<span class="ident" id="1655788">gwrite</span><span class="op" id="1655794">(</span><span class="ident" id="1655795">b</span>&nbsp;<span class="op" id="1655797">[</span><span class="op" id="1655798">]</span><span class="builtintype" id="1655799">byte</span><span class="op" id="1655803">)</span>&nbsp;<span class="op" id="1655805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1655808">if</span>&nbsp;<span class="builtinfunc" id="1655811">len</span><span class="op" id="1655814">(</span><span class="ident" id="1655815">b</span><span class="op" id="1655816">)</span>&nbsp;<span class="op" id="1655818">==</span>&nbsp;<span class="num" id="1655821">0</span>&nbsp;<span class="op" id="1655823">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1655827">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1655835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655838">gp</span>&nbsp;<span class="op" id="1655841">:=</span>&nbsp;<span class="ident" id="1655844">getg</span><span class="op" id="1655848">(</span><span class="op" id="1655849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1655852">if</span>&nbsp;<span class="ident" id="1655855">gp</span>&nbsp;<span class="op" id="1655858">==</span>&nbsp;<span class="ident" id="1655861">nil</span>&nbsp;<span class="op" id="1655865">||</span>&nbsp;<span class="ident" id="1655868">gp</span><span class="op" id="1655870">.</span><span class="ident" id="1655871">writebuf</span>&nbsp;<span class="op" id="1655880">==</span>&nbsp;<span class="ident" id="1655883">nil</span>&nbsp;<span class="op" id="1655887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655891">write</span><span class="op" id="1655896">(</span><span class="num" id="1655897">2</span><span class="op" id="1655898">,</span>&nbsp;<span class="ident" id="1655900">unsafe</span><span class="op" id="1655906">.</span><span class="ident" id="1655907">Pointer</span><span class="op" id="1655914">(</span><span class="op" id="1655915">&amp;</span><span class="ident" id="1655916">b</span><span class="op" id="1655917">[</span><span class="num" id="1655918">0</span><span class="op" id="1655919">]</span><span class="op" id="1655920">)</span><span class="op" id="1655921">,</span>&nbsp;<span class="builtintype" id="1655923">int32</span><span class="op" id="1655928">(</span><span class="builtinfunc" id="1655929">len</span><span class="op" id="1655932">(</span><span class="ident" id="1655933">b</span><span class="op" id="1655934">)</span><span class="op" id="1655935">)</span><span class="op" id="1655936">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1655940">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1655948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655952">n</span>&nbsp;<span class="op" id="1655954">:=</span>&nbsp;<span class="builtinfunc" id="1655957">copy</span><span class="op" id="1655961">(</span><span class="ident" id="1655962">gp</span><span class="op" id="1655964">.</span><span class="ident" id="1655965">writebuf</span><span class="op" id="1655973">[</span><span class="builtinfunc" id="1655974">len</span><span class="op" id="1655977">(</span><span class="ident" id="1655978">gp</span><span class="op" id="1655980">.</span><span class="ident" id="1655981">writebuf</span><span class="op" id="1655989">)</span><span class="op" id="1655990">:</span><span class="builtinfunc" id="1655991">cap</span><span class="op" id="1655994">(</span><span class="ident" id="1655995">gp</span><span class="op" id="1655997">.</span><span class="ident" id="1655998">writebuf</span><span class="op" id="1656006">)</span><span class="op" id="1656007">]</span><span class="op" id="1656008">,</span>&nbsp;<span class="ident" id="1656010">b</span><span class="op" id="1656011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656014">gp</span><span class="op" id="1656016">.</span><span class="ident" id="1656017">writebuf</span>&nbsp;<span class="op" id="1656026">=</span>&nbsp;<span class="ident" id="1656028">gp</span><span class="op" id="1656030">.</span><span class="ident" id="1656031">writebuf</span><span class="op" id="1656039">[</span><span class="op" id="1656040">:</span><span class="builtinfunc" id="1656041">len</span><span class="op" id="1656044">(</span><span class="ident" id="1656045">gp</span><span class="op" id="1656047">.</span><span class="ident" id="1656048">writebuf</span><span class="op" id="1656056">)</span><span class="op" id="1656057">+</span><span class="ident" id="1656058">n</span><span class="op" id="1656059">]</span><br>
<span class="lineno">60</span><span class="op" id="1656061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1656064">func</span>&nbsp;<span class="ident" id="1656069">prints</span><span class="op" id="1656075">(</span><span class="ident" id="1656076">s</span>&nbsp;<span class="op" id="1656078">*</span><span class="builtintype" id="1656079">byte</span><span class="op" id="1656083">)</span>&nbsp;<span class="op" id="1656085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656088">b</span>&nbsp;<span class="op" id="1656090">:=</span>&nbsp;<span class="op" id="1656093">(</span><span class="op" id="1656094">*</span><span class="op" id="1656095">[</span><span class="num" id="1656096">1</span>&nbsp;<span class="op" id="1656098">&lt;&lt;</span>&nbsp;<span class="num" id="1656101">30</span><span class="op" id="1656103">]</span><span class="builtintype" id="1656104">byte</span><span class="op" id="1656108">)</span><span class="op" id="1656109">(</span><span class="ident" id="1656110">unsafe</span><span class="op" id="1656116">.</span><span class="ident" id="1656117">Pointer</span><span class="op" id="1656124">(</span><span class="ident" id="1656125">s</span><span class="op" id="1656126">)</span><span class="op" id="1656127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656130">for</span>&nbsp;<span class="ident" id="1656134">i</span>&nbsp;<span class="op" id="1656136">:=</span>&nbsp;<span class="num" id="1656139">0</span><span class="op" id="1656140">;</span>&nbsp;<span class="op" id="1656142">;</span>&nbsp;<span class="ident" id="1656144">i</span><span class="op" id="1656145">++</span>&nbsp;<span class="op" id="1656148">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656152">if</span>&nbsp;<span class="ident" id="1656155">b</span><span class="op" id="1656156">[</span><span class="ident" id="1656157">i</span><span class="op" id="1656158">]</span>&nbsp;<span class="op" id="1656160">==</span>&nbsp;<span class="num" id="1656163">0</span>&nbsp;<span class="op" id="1656165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656170">gwrite</span><span class="op" id="1656176">(</span><span class="ident" id="1656177">b</span><span class="op" id="1656178">[</span><span class="op" id="1656179">:</span><span class="ident" id="1656180">i</span><span class="op" id="1656181">]</span><span class="op" id="1656182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656187">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1656196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1656199">}</span><br>
<span class="lineno">70</span><span class="op" id="1656201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1656204">func</span>&nbsp;<span class="ident" id="1656209">printsp</span><span class="op" id="1656216">(</span><span class="op" id="1656217">)</span>&nbsp;<span class="op" id="1656219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1656222">print</span><span class="op" id="1656227">(</span><span class="string" id="1656228">&#34;&nbsp;&#34;</span><span class="op" id="1656231">)</span><br>
<span class="lineno"></span><span class="op" id="1656233">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="1656236">func</span>&nbsp;<span class="ident" id="1656241">printnl</span><span class="op" id="1656248">(</span><span class="op" id="1656249">)</span>&nbsp;<span class="op" id="1656251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1656254">print</span><span class="op" id="1656259">(</span><span class="string" id="1656260">&#34;\n&#34;</span><span class="op" id="1656264">)</span><br>
<span class="lineno"></span><span class="op" id="1656266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="1656269">//&nbsp;Very&nbsp;simple&nbsp;printf.&nbsp;&nbsp;Only&nbsp;for&nbsp;debugging&nbsp;prints.</span><br>
<span class="lineno"></span><span class="comment" id="1656320">//&nbsp;Do&nbsp;not&nbsp;add&nbsp;to&nbsp;this&nbsp;without&nbsp;checking&nbsp;with&nbsp;Rob.</span><br>
<span class="lineno"></span><span class="keyword" id="1656369">func</span>&nbsp;<span class="ident" id="1656374">vprintf</span><span class="op" id="1656381">(</span><span class="ident" id="1656382">str</span>&nbsp;<span class="builtintype" id="1656386">string</span><span class="op" id="1656392">,</span>&nbsp;<span class="ident" id="1656394">arg</span>&nbsp;<span class="ident" id="1656398">unsafe</span><span class="op" id="1656404">.</span><span class="ident" id="1656405">Pointer</span><span class="op" id="1656412">)</span>&nbsp;<span class="op" id="1656414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1656417">//lock(&amp;debuglock);</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656439">s</span>&nbsp;<span class="op" id="1656441">:=</span>&nbsp;<span class="ident" id="1656444">bytes</span><span class="op" id="1656449">(</span><span class="ident" id="1656450">str</span><span class="op" id="1656453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656456">start</span>&nbsp;<span class="op" id="1656462">:=</span>&nbsp;<span class="num" id="1656465">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656468">i</span>&nbsp;<span class="op" id="1656470">:=</span>&nbsp;<span class="num" id="1656473">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656476">for</span>&nbsp;<span class="op" id="1656480">;</span>&nbsp;<span class="ident" id="1656482">i</span>&nbsp;<span class="op" id="1656484">&lt;</span>&nbsp;<span class="builtinfunc" id="1656486">len</span><span class="op" id="1656489">(</span><span class="ident" id="1656490">s</span><span class="op" id="1656491">)</span><span class="op" id="1656492">;</span>&nbsp;<span class="ident" id="1656494">i</span><span class="op" id="1656495">++</span>&nbsp;<span class="op" id="1656498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656502">if</span>&nbsp;<span class="ident" id="1656505">s</span><span class="op" id="1656506">[</span><span class="ident" id="1656507">i</span><span class="op" id="1656508">]</span>&nbsp;<span class="op" id="1656510">!=</span>&nbsp;<span class="string" id="1656513">&#39;%&#39;</span>&nbsp;<span class="op" id="1656517">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656522">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1656533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656537">if</span>&nbsp;<span class="ident" id="1656540">i</span>&nbsp;<span class="op" id="1656542">&gt;</span>&nbsp;<span class="ident" id="1656544">start</span>&nbsp;<span class="op" id="1656550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656555">gwrite</span><span class="op" id="1656561">(</span><span class="ident" id="1656562">s</span><span class="op" id="1656563">[</span><span class="ident" id="1656564">start</span><span class="op" id="1656569">:</span><span class="ident" id="1656570">i</span><span class="op" id="1656571">]</span><span class="op" id="1656572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1656576">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656580">if</span>&nbsp;<span class="ident" id="1656583">i</span><span class="op" id="1656584">++</span><span class="op" id="1656586">;</span>&nbsp;<span class="ident" id="1656588">i</span>&nbsp;<span class="op" id="1656590">&gt;=</span>&nbsp;<span class="builtinfunc" id="1656593">len</span><span class="op" id="1656596">(</span><span class="ident" id="1656597">s</span><span class="op" id="1656598">)</span>&nbsp;<span class="op" id="1656600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656605">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1656613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656617">var</span>&nbsp;<span class="ident" id="1656621">siz</span>&nbsp;<span class="builtintype" id="1656625">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656635">switch</span>&nbsp;<span class="ident" id="1656642">s</span><span class="op" id="1656643">[</span><span class="ident" id="1656644">i</span><span class="op" id="1656645">]</span>&nbsp;<span class="op" id="1656647">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656651">case</span>&nbsp;<span class="string" id="1656656">&#39;t&#39;</span><span class="op" id="1656659">,</span>&nbsp;<span class="string" id="1656661">&#39;c&#39;</span><span class="op" id="1656664">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656669">siz</span>&nbsp;<span class="op" id="1656673">=</span>&nbsp;<span class="num" id="1656675">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656679">case</span>&nbsp;<span class="string" id="1656684">&#39;d&#39;</span><span class="op" id="1656687">,</span>&nbsp;<span class="string" id="1656689">&#39;x&#39;</span><span class="op" id="1656692">:</span>&nbsp;<span class="comment" id="1656694">//&nbsp;32-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656707">arg</span>&nbsp;<span class="op" id="1656711">=</span>&nbsp;<span class="ident" id="1656713">roundup</span><span class="op" id="1656720">(</span><span class="ident" id="1656721">arg</span><span class="op" id="1656724">,</span>&nbsp;<span class="num" id="1656726">4</span><span class="op" id="1656727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656732">siz</span>&nbsp;<span class="op" id="1656736">=</span>&nbsp;<span class="num" id="1656738">4</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656742">case</span>&nbsp;<span class="string" id="1656747">&#39;D&#39;</span><span class="op" id="1656750">,</span>&nbsp;<span class="string" id="1656752">&#39;U&#39;</span><span class="op" id="1656755">,</span>&nbsp;<span class="string" id="1656757">&#39;X&#39;</span><span class="op" id="1656760">,</span>&nbsp;<span class="string" id="1656762">&#39;f&#39;</span><span class="op" id="1656765">:</span>&nbsp;<span class="comment" id="1656767">//&nbsp;64-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656780">arg</span>&nbsp;<span class="op" id="1656784">=</span>&nbsp;<span class="ident" id="1656786">roundup</span><span class="op" id="1656793">(</span><span class="ident" id="1656794">arg</span><span class="op" id="1656797">,</span>&nbsp;<span class="ident" id="1656799">unsafe</span><span class="op" id="1656805">.</span><span class="ident" id="1656806">Sizeof</span><span class="op" id="1656812">(</span><span class="ident" id="1656813">uintreg</span><span class="op" id="1656820">(</span><span class="num" id="1656821">0</span><span class="op" id="1656822">)</span><span class="op" id="1656823">)</span><span class="op" id="1656824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656829">siz</span>&nbsp;<span class="op" id="1656833">=</span>&nbsp;<span class="num" id="1656835">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656839">case</span>&nbsp;<span class="string" id="1656844">&#39;C&#39;</span><span class="op" id="1656847">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656852">arg</span>&nbsp;<span class="op" id="1656856">=</span>&nbsp;<span class="ident" id="1656858">roundup</span><span class="op" id="1656865">(</span><span class="ident" id="1656866">arg</span><span class="op" id="1656869">,</span>&nbsp;<span class="ident" id="1656871">unsafe</span><span class="op" id="1656877">.</span><span class="ident" id="1656878">Sizeof</span><span class="op" id="1656884">(</span><span class="ident" id="1656885">uintreg</span><span class="op" id="1656892">(</span><span class="num" id="1656893">0</span><span class="op" id="1656894">)</span><span class="op" id="1656895">)</span><span class="op" id="1656896">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656901">siz</span>&nbsp;<span class="op" id="1656905">=</span>&nbsp;<span class="num" id="1656907">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1656912">case</span>&nbsp;<span class="string" id="1656917">&#39;p&#39;</span><span class="op" id="1656920">,</span>&nbsp;<span class="string" id="1656922">&#39;s&#39;</span><span class="op" id="1656925">:</span>&nbsp;<span class="comment" id="1656927">//&nbsp;pointer-sized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656947">arg</span>&nbsp;<span class="op" id="1656951">=</span>&nbsp;<span class="ident" id="1656953">roundup</span><span class="op" id="1656960">(</span><span class="ident" id="1656961">arg</span><span class="op" id="1656964">,</span>&nbsp;<span class="ident" id="1656966">unsafe</span><span class="op" id="1656972">.</span><span class="ident" id="1656973">Sizeof</span><span class="op" id="1656979">(</span><span class="builtintype" id="1656980">uintptr</span><span class="op" id="1656987">(</span><span class="num" id="1656988">0</span><span class="op" id="1656989">)</span><span class="op" id="1656990">)</span><span class="op" id="1656991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656996">siz</span>&nbsp;<span class="op" id="1657000">=</span>&nbsp;<span class="ident" id="1657002">unsafe</span><span class="op" id="1657008">.</span><span class="ident" id="1657009">Sizeof</span><span class="op" id="1657015">(</span><span class="builtintype" id="1657016">uintptr</span><span class="op" id="1657023">(</span><span class="num" id="1657024">0</span><span class="op" id="1657025">)</span><span class="op" id="1657026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657030">case</span>&nbsp;<span class="string" id="1657035">&#39;S&#39;</span><span class="op" id="1657038">:</span>&nbsp;<span class="comment" id="1657040">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657073">arg</span>&nbsp;<span class="op" id="1657077">=</span>&nbsp;<span class="ident" id="1657079">roundup</span><span class="op" id="1657086">(</span><span class="ident" id="1657087">arg</span><span class="op" id="1657090">,</span>&nbsp;<span class="ident" id="1657092">unsafe</span><span class="op" id="1657098">.</span><span class="ident" id="1657099">Sizeof</span><span class="op" id="1657105">(</span><span class="builtintype" id="1657106">uintptr</span><span class="op" id="1657113">(</span><span class="num" id="1657114">0</span><span class="op" id="1657115">)</span><span class="op" id="1657116">)</span><span class="op" id="1657117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657122">siz</span>&nbsp;<span class="op" id="1657126">=</span>&nbsp;<span class="ident" id="1657128">unsafe</span><span class="op" id="1657134">.</span><span class="ident" id="1657135">Sizeof</span><span class="op" id="1657141">(</span><span class="builtintype" id="1657142">string</span><span class="op" id="1657148">(</span><span class="string" id="1657149">&#34;&#34;</span><span class="op" id="1657151">)</span><span class="op" id="1657152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657156">case</span>&nbsp;<span class="string" id="1657161">&#39;a&#39;</span><span class="op" id="1657164">:</span>&nbsp;<span class="comment" id="1657166">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657199">arg</span>&nbsp;<span class="op" id="1657203">=</span>&nbsp;<span class="ident" id="1657205">roundup</span><span class="op" id="1657212">(</span><span class="ident" id="1657213">arg</span><span class="op" id="1657216">,</span>&nbsp;<span class="ident" id="1657218">unsafe</span><span class="op" id="1657224">.</span><span class="ident" id="1657225">Sizeof</span><span class="op" id="1657231">(</span><span class="builtintype" id="1657232">uintptr</span><span class="op" id="1657239">(</span><span class="num" id="1657240">0</span><span class="op" id="1657241">)</span><span class="op" id="1657242">)</span><span class="op" id="1657243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657248">siz</span>&nbsp;<span class="op" id="1657252">=</span>&nbsp;<span class="ident" id="1657254">unsafe</span><span class="op" id="1657260">.</span><span class="ident" id="1657261">Sizeof</span><span class="op" id="1657267">(</span><span class="op" id="1657268">[</span><span class="op" id="1657269">]</span><span class="builtintype" id="1657270">byte</span><span class="op" id="1657274">{</span><span class="op" id="1657275">}</span><span class="op" id="1657276">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657280">case</span>&nbsp;<span class="string" id="1657285">&#39;i&#39;</span><span class="op" id="1657288">,</span>&nbsp;<span class="string" id="1657290">&#39;e&#39;</span><span class="op" id="1657293">:</span>&nbsp;<span class="comment" id="1657295">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657328">arg</span>&nbsp;<span class="op" id="1657332">=</span>&nbsp;<span class="ident" id="1657334">roundup</span><span class="op" id="1657341">(</span><span class="ident" id="1657342">arg</span><span class="op" id="1657345">,</span>&nbsp;<span class="ident" id="1657347">unsafe</span><span class="op" id="1657353">.</span><span class="ident" id="1657354">Sizeof</span><span class="op" id="1657360">(</span><span class="builtintype" id="1657361">uintptr</span><span class="op" id="1657368">(</span><span class="num" id="1657369">0</span><span class="op" id="1657370">)</span><span class="op" id="1657371">)</span><span class="op" id="1657372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657377">siz</span>&nbsp;<span class="op" id="1657381">=</span>&nbsp;<span class="ident" id="1657383">unsafe</span><span class="op" id="1657389">.</span><span class="ident" id="1657390">Sizeof</span><span class="op" id="1657396">(</span><span class="keyword" id="1657397">interface</span><span class="op" id="1657406">{</span><span class="op" id="1657407">}</span><span class="op" id="1657408">(</span><span class="ident" id="1657409">nil</span><span class="op" id="1657412">)</span><span class="op" id="1657413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1657417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657421">switch</span>&nbsp;<span class="ident" id="1657428">s</span><span class="op" id="1657429">[</span><span class="ident" id="1657430">i</span><span class="op" id="1657431">]</span>&nbsp;<span class="op" id="1657433">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657437">case</span>&nbsp;<span class="string" id="1657442">&#39;a&#39;</span><span class="op" id="1657445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657450">printslice</span><span class="op" id="1657460">(</span><span class="op" id="1657461">*</span><span class="op" id="1657462">(</span><span class="op" id="1657463">*</span><span class="op" id="1657464">[</span><span class="op" id="1657465">]</span><span class="builtintype" id="1657466">byte</span><span class="op" id="1657470">)</span><span class="op" id="1657471">(</span><span class="ident" id="1657472">arg</span><span class="op" id="1657475">)</span><span class="op" id="1657476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657480">case</span>&nbsp;<span class="string" id="1657485">&#39;c&#39;</span><span class="op" id="1657488">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657493">printbyte</span><span class="op" id="1657502">(</span><span class="op" id="1657503">*</span><span class="op" id="1657504">(</span><span class="op" id="1657505">*</span><span class="builtintype" id="1657506">byte</span><span class="op" id="1657510">)</span><span class="op" id="1657511">(</span><span class="ident" id="1657512">arg</span><span class="op" id="1657515">)</span><span class="op" id="1657516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657520">case</span>&nbsp;<span class="string" id="1657525">&#39;d&#39;</span><span class="op" id="1657528">:</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657533">printint</span><span class="op" id="1657541">(</span><span class="ident" id="1657542">int64</span><span class="op" id="1657547">(</span><span class="op" id="1657548">*</span><span class="op" id="1657549">(</span><span class="op" id="1657550">*</span><span class="builtintype" id="1657551">int32</span><span class="op" id="1657556">)</span><span class="op" id="1657557">(</span><span class="ident" id="1657558">arg</span><span class="op" id="1657561">)</span><span class="op" id="1657562">)</span><span class="op" id="1657563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657567">case</span>&nbsp;<span class="string" id="1657572">&#39;D&#39;</span><span class="op" id="1657575">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657580">printint</span><span class="op" id="1657588">(</span><span class="ident" id="1657589">int64</span><span class="op" id="1657594">(</span><span class="op" id="1657595">*</span><span class="op" id="1657596">(</span><span class="op" id="1657597">*</span><span class="ident" id="1657598">int64</span><span class="op" id="1657603">)</span><span class="op" id="1657604">(</span><span class="ident" id="1657605">arg</span><span class="op" id="1657608">)</span><span class="op" id="1657609">)</span><span class="op" id="1657610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657614">case</span>&nbsp;<span class="string" id="1657619">&#39;e&#39;</span><span class="op" id="1657622">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657627">printeface</span><span class="op" id="1657637">(</span><span class="op" id="1657638">*</span><span class="op" id="1657639">(</span><span class="op" id="1657640">*</span><span class="keyword" id="1657641">interface</span><span class="op" id="1657650">{</span><span class="op" id="1657651">}</span><span class="op" id="1657652">)</span><span class="op" id="1657653">(</span><span class="ident" id="1657654">arg</span><span class="op" id="1657657">)</span><span class="op" id="1657658">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657662">case</span>&nbsp;<span class="string" id="1657667">&#39;f&#39;</span><span class="op" id="1657670">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657675">printfloat</span><span class="op" id="1657685">(</span><span class="op" id="1657686">*</span><span class="op" id="1657687">(</span><span class="op" id="1657688">*</span><span class="builtintype" id="1657689">float64</span><span class="op" id="1657696">)</span><span class="op" id="1657697">(</span><span class="ident" id="1657698">arg</span><span class="op" id="1657701">)</span><span class="op" id="1657702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657706">case</span>&nbsp;<span class="string" id="1657711">&#39;C&#39;</span><span class="op" id="1657714">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657719">printcomplex</span><span class="op" id="1657731">(</span><span class="op" id="1657732">*</span><span class="op" id="1657733">(</span><span class="op" id="1657734">*</span><span class="builtintype" id="1657735">complex128</span><span class="op" id="1657745">)</span><span class="op" id="1657746">(</span><span class="ident" id="1657747">arg</span><span class="op" id="1657750">)</span><span class="op" id="1657751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657755">case</span>&nbsp;<span class="string" id="1657760">&#39;i&#39;</span><span class="op" id="1657763">:</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657768">printiface</span><span class="op" id="1657778">(</span><span class="op" id="1657779">*</span><span class="op" id="1657780">(</span><span class="op" id="1657781">*</span><span class="ident" id="1657782">fInterface</span><span class="op" id="1657792">)</span><span class="op" id="1657793">(</span><span class="ident" id="1657794">arg</span><span class="op" id="1657797">)</span><span class="op" id="1657798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657802">case</span>&nbsp;<span class="string" id="1657807">&#39;p&#39;</span><span class="op" id="1657810">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657815">printpointer</span><span class="op" id="1657827">(</span><span class="op" id="1657828">*</span><span class="op" id="1657829">(</span><span class="op" id="1657830">*</span><span class="ident" id="1657831">unsafe</span><span class="op" id="1657837">.</span><span class="ident" id="1657838">Pointer</span><span class="op" id="1657845">)</span><span class="op" id="1657846">(</span><span class="ident" id="1657847">arg</span><span class="op" id="1657850">)</span><span class="op" id="1657851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657855">case</span>&nbsp;<span class="string" id="1657860">&#39;s&#39;</span><span class="op" id="1657863">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657868">prints</span><span class="op" id="1657874">(</span><span class="op" id="1657875">*</span><span class="op" id="1657876">(</span><span class="op" id="1657877">*</span><span class="op" id="1657878">*</span><span class="builtintype" id="1657879">byte</span><span class="op" id="1657883">)</span><span class="op" id="1657884">(</span><span class="ident" id="1657885">arg</span><span class="op" id="1657888">)</span><span class="op" id="1657889">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657893">case</span>&nbsp;<span class="string" id="1657898">&#39;S&#39;</span><span class="op" id="1657901">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657906">printstring</span><span class="op" id="1657917">(</span><span class="op" id="1657918">*</span><span class="op" id="1657919">(</span><span class="op" id="1657920">*</span><span class="builtintype" id="1657921">string</span><span class="op" id="1657927">)</span><span class="op" id="1657928">(</span><span class="ident" id="1657929">arg</span><span class="op" id="1657932">)</span><span class="op" id="1657933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657937">case</span>&nbsp;<span class="string" id="1657942">&#39;t&#39;</span><span class="op" id="1657945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657950">printbool</span><span class="op" id="1657959">(</span><span class="op" id="1657960">*</span><span class="op" id="1657961">(</span><span class="op" id="1657962">*</span><span class="builtintype" id="1657963">bool</span><span class="op" id="1657967">)</span><span class="op" id="1657968">(</span><span class="ident" id="1657969">arg</span><span class="op" id="1657972">)</span><span class="op" id="1657973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1657977">case</span>&nbsp;<span class="string" id="1657982">&#39;U&#39;</span><span class="op" id="1657985">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657990">printuint</span><span class="op" id="1657999">(</span><span class="op" id="1658000">*</span><span class="op" id="1658001">(</span><span class="op" id="1658002">*</span><span class="ident" id="1658003">uint64</span><span class="op" id="1658009">)</span><span class="op" id="1658010">(</span><span class="ident" id="1658011">arg</span><span class="op" id="1658014">)</span><span class="op" id="1658015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658019">case</span>&nbsp;<span class="string" id="1658024">&#39;x&#39;</span><span class="op" id="1658027">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658032">printhex</span><span class="op" id="1658040">(</span><span class="ident" id="1658041">uint64</span><span class="op" id="1658047">(</span><span class="op" id="1658048">*</span><span class="op" id="1658049">(</span><span class="op" id="1658050">*</span><span class="builtintype" id="1658051">uint32</span><span class="op" id="1658057">)</span><span class="op" id="1658058">(</span><span class="ident" id="1658059">arg</span><span class="op" id="1658062">)</span><span class="op" id="1658063">)</span><span class="op" id="1658064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658068">case</span>&nbsp;<span class="string" id="1658073">&#39;X&#39;</span><span class="op" id="1658076">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658081">printhex</span><span class="op" id="1658089">(</span><span class="op" id="1658090">*</span><span class="op" id="1658091">(</span><span class="op" id="1658092">*</span><span class="ident" id="1658093">uint64</span><span class="op" id="1658099">)</span><span class="op" id="1658100">(</span><span class="ident" id="1658101">arg</span><span class="op" id="1658104">)</span><span class="op" id="1658105">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658113">arg</span>&nbsp;<span class="op" id="1658117">=</span>&nbsp;<span class="ident" id="1658119">add</span><span class="op" id="1658122">(</span><span class="ident" id="1658123">arg</span><span class="op" id="1658126">,</span>&nbsp;<span class="ident" id="1658128">siz</span><span class="op" id="1658131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658135">start</span>&nbsp;<span class="op" id="1658141">=</span>&nbsp;<span class="ident" id="1658143">i</span>&nbsp;<span class="op" id="1658145">+</span>&nbsp;<span class="num" id="1658147">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658153">if</span>&nbsp;<span class="ident" id="1658156">start</span>&nbsp;<span class="op" id="1658162">&lt;</span>&nbsp;<span class="ident" id="1658164">i</span>&nbsp;<span class="op" id="1658166">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658170">gwrite</span><span class="op" id="1658176">(</span><span class="ident" id="1658177">s</span><span class="op" id="1658178">[</span><span class="ident" id="1658179">start</span><span class="op" id="1658184">:</span><span class="ident" id="1658185">i</span><span class="op" id="1658186">]</span><span class="op" id="1658187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1658194">//unlock(&amp;debuglock);</span><br>
<span class="lineno"></span><span class="op" id="1658216">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="1658219">func</span>&nbsp;<span class="ident" id="1658224">printpc</span><span class="op" id="1658231">(</span><span class="ident" id="1658232">p</span>&nbsp;<span class="ident" id="1658234">unsafe</span><span class="op" id="1658240">.</span><span class="ident" id="1658241">Pointer</span><span class="op" id="1658248">)</span>&nbsp;<span class="op" id="1658250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1658253">print</span><span class="op" id="1658258">(</span><span class="string" id="1658259">&#34;PC=&#34;</span><span class="op" id="1658264">,</span>&nbsp;<span class="ident" id="1658266">hex</span><span class="op" id="1658269">(</span><span class="builtintype" id="1658270">uintptr</span><span class="op" id="1658277">(</span><span class="ident" id="1658278">p</span><span class="op" id="1658279">)</span><span class="op" id="1658280">)</span><span class="op" id="1658281">)</span><br>
<span class="lineno"></span><span class="op" id="1658283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="1658286">func</span>&nbsp;<span class="ident" id="1658291">printbool</span><span class="op" id="1658300">(</span><span class="ident" id="1658301">v</span>&nbsp;<span class="builtintype" id="1658303">bool</span><span class="op" id="1658307">)</span>&nbsp;<span class="op" id="1658309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658312">if</span>&nbsp;<span class="ident" id="1658315">v</span>&nbsp;<span class="op" id="1658317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1658321">print</span><span class="op" id="1658326">(</span><span class="string" id="1658327">&#34;true&#34;</span><span class="op" id="1658333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658336">}</span>&nbsp;<span class="keyword" id="1658338">else</span>&nbsp;<span class="op" id="1658343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1658347">print</span><span class="op" id="1658352">(</span><span class="string" id="1658353">&#34;false&#34;</span><span class="op" id="1658360">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658363">}</span><br>
<span class="lineno"></span><span class="op" id="1658365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1658368">func</span>&nbsp;<span class="ident" id="1658373">printbyte</span><span class="op" id="1658382">(</span><span class="ident" id="1658383">c</span>&nbsp;<span class="builtintype" id="1658385">byte</span><span class="op" id="1658389">)</span>&nbsp;<span class="op" id="1658391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658394">gwrite</span><span class="op" id="1658400">(</span><span class="op" id="1658401">(</span><span class="op" id="1658402">*</span><span class="op" id="1658403">[</span><span class="num" id="1658404">1</span><span class="op" id="1658405">]</span><span class="builtintype" id="1658406">byte</span><span class="op" id="1658410">)</span><span class="op" id="1658411">(</span><span class="ident" id="1658412">unsafe</span><span class="op" id="1658418">.</span><span class="ident" id="1658419">Pointer</span><span class="op" id="1658426">(</span><span class="op" id="1658427">&amp;</span><span class="ident" id="1658428">c</span><span class="op" id="1658429">)</span><span class="op" id="1658430">)</span><span class="op" id="1658431">[</span><span class="op" id="1658432">:</span><span class="op" id="1658433">]</span><span class="op" id="1658434">)</span><br>
<span class="lineno">180</span><span class="op" id="1658436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1658439">func</span>&nbsp;<span class="ident" id="1658444">printfloat</span><span class="op" id="1658454">(</span><span class="ident" id="1658455">v</span>&nbsp;<span class="builtintype" id="1658457">float64</span><span class="op" id="1658464">)</span>&nbsp;<span class="op" id="1658466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658469">switch</span>&nbsp;<span class="op" id="1658476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658479">case</span>&nbsp;<span class="ident" id="1658484">v</span>&nbsp;<span class="op" id="1658486">!=</span>&nbsp;<span class="ident" id="1658489">v</span><span class="op" id="1658490">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1658494">print</span><span class="op" id="1658499">(</span><span class="string" id="1658500">&#34;NaN&#34;</span><span class="op" id="1658505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658509">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658517">case</span>&nbsp;<span class="ident" id="1658522">v</span><span class="op" id="1658523">+</span><span class="ident" id="1658524">v</span>&nbsp;<span class="op" id="1658526">==</span>&nbsp;<span class="ident" id="1658529">v</span>&nbsp;<span class="op" id="1658531">&amp;&amp;</span>&nbsp;<span class="ident" id="1658534">v</span>&nbsp;<span class="op" id="1658536">&gt;</span>&nbsp;<span class="num" id="1658538">0</span><span class="op" id="1658539">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1658543">print</span><span class="op" id="1658548">(</span><span class="string" id="1658549">&#34;+Inf&#34;</span><span class="op" id="1658555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658559">return</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658567">case</span>&nbsp;<span class="ident" id="1658572">v</span><span class="op" id="1658573">+</span><span class="ident" id="1658574">v</span>&nbsp;<span class="op" id="1658576">==</span>&nbsp;<span class="ident" id="1658579">v</span>&nbsp;<span class="op" id="1658581">&amp;&amp;</span>&nbsp;<span class="ident" id="1658584">v</span>&nbsp;<span class="op" id="1658586">&lt;</span>&nbsp;<span class="num" id="1658588">0</span><span class="op" id="1658589">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1658593">print</span><span class="op" id="1658598">(</span><span class="string" id="1658599">&#34;-Inf&#34;</span><span class="op" id="1658605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658609">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658621">const</span>&nbsp;<span class="ident" id="1658627">n</span>&nbsp;<span class="op" id="1658629">=</span>&nbsp;<span class="num" id="1658631">7</span>&nbsp;<span class="comment" id="1658633">//&nbsp;digits&nbsp;printed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658652">var</span>&nbsp;<span class="ident" id="1658656">buf</span>&nbsp;<span class="op" id="1658660">[</span><span class="ident" id="1658661">n</span>&nbsp;<span class="op" id="1658663">+</span>&nbsp;<span class="num" id="1658665">7</span><span class="op" id="1658666">]</span><span class="builtintype" id="1658667">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658673">buf</span><span class="op" id="1658676">[</span><span class="num" id="1658677">0</span><span class="op" id="1658678">]</span>&nbsp;<span class="op" id="1658680">=</span>&nbsp;<span class="string" id="1658682">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658687">e</span>&nbsp;<span class="op" id="1658689">:=</span>&nbsp;<span class="num" id="1658692">0</span>&nbsp;<span class="comment" id="1658694">//&nbsp;exp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658702">if</span>&nbsp;<span class="ident" id="1658705">v</span>&nbsp;<span class="op" id="1658707">==</span>&nbsp;<span class="num" id="1658710">0</span>&nbsp;<span class="op" id="1658712">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658716">if</span>&nbsp;<span class="num" id="1658719">1</span><span class="op" id="1658720">/</span><span class="ident" id="1658721">v</span>&nbsp;<span class="op" id="1658723">&lt;</span>&nbsp;<span class="num" id="1658725">0</span>&nbsp;<span class="op" id="1658727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658732">buf</span><span class="op" id="1658735">[</span><span class="num" id="1658736">0</span><span class="op" id="1658737">]</span>&nbsp;<span class="op" id="1658739">=</span>&nbsp;<span class="string" id="1658741">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658750">}</span>&nbsp;<span class="keyword" id="1658752">else</span>&nbsp;<span class="op" id="1658757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658761">if</span>&nbsp;<span class="ident" id="1658764">v</span>&nbsp;<span class="op" id="1658766">&lt;</span>&nbsp;<span class="num" id="1658768">0</span>&nbsp;<span class="op" id="1658770">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658775">v</span>&nbsp;<span class="op" id="1658777">=</span>&nbsp;<span class="op" id="1658779">-</span><span class="ident" id="1658780">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658785">buf</span><span class="op" id="1658788">[</span><span class="num" id="1658789">0</span><span class="op" id="1658790">]</span>&nbsp;<span class="op" id="1658792">=</span>&nbsp;<span class="string" id="1658794">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1658805">//&nbsp;normalize</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658820">for</span>&nbsp;<span class="ident" id="1658824">v</span>&nbsp;<span class="op" id="1658826">&gt;=</span>&nbsp;<span class="num" id="1658829">10</span>&nbsp;<span class="op" id="1658832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658837">e</span><span class="op" id="1658838">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658844">v</span>&nbsp;<span class="op" id="1658846">/=</span>&nbsp;<span class="num" id="1658849">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658858">for</span>&nbsp;<span class="ident" id="1658862">v</span>&nbsp;<span class="op" id="1658864">&lt;</span>&nbsp;<span class="num" id="1658866">1</span>&nbsp;<span class="op" id="1658868">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658873">e</span><span class="op" id="1658874">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658880">v</span>&nbsp;<span class="op" id="1658882">*=</span>&nbsp;<span class="num" id="1658885">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1658895">//&nbsp;round</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658906">h</span>&nbsp;<span class="op" id="1658908">:=</span>&nbsp;<span class="num" id="1658911">5.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658917">for</span>&nbsp;<span class="ident" id="1658921">i</span>&nbsp;<span class="op" id="1658923">:=</span>&nbsp;<span class="num" id="1658926">0</span><span class="op" id="1658927">;</span>&nbsp;<span class="ident" id="1658929">i</span>&nbsp;<span class="op" id="1658931">&lt;</span>&nbsp;<span class="ident" id="1658933">n</span><span class="op" id="1658934">;</span>&nbsp;<span class="ident" id="1658936">i</span><span class="op" id="1658937">++</span>&nbsp;<span class="op" id="1658940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658945">h</span>&nbsp;<span class="op" id="1658947">/=</span>&nbsp;<span class="num" id="1658950">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658959">v</span>&nbsp;<span class="op" id="1658961">+=</span>&nbsp;<span class="ident" id="1658964">h</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658968">if</span>&nbsp;<span class="ident" id="1658971">v</span>&nbsp;<span class="op" id="1658973">&gt;=</span>&nbsp;<span class="num" id="1658976">10</span>&nbsp;<span class="op" id="1658979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658984">e</span><span class="op" id="1658985">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658991">v</span>&nbsp;<span class="op" id="1658993">/=</span>&nbsp;<span class="num" id="1658996">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659004">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1659008">//&nbsp;format&nbsp;+d.dddd+edd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659031">for</span>&nbsp;<span class="ident" id="1659035">i</span>&nbsp;<span class="op" id="1659037">:=</span>&nbsp;<span class="num" id="1659040">0</span><span class="op" id="1659041">;</span>&nbsp;<span class="ident" id="1659043">i</span>&nbsp;<span class="op" id="1659045">&lt;</span>&nbsp;<span class="ident" id="1659047">n</span><span class="op" id="1659048">;</span>&nbsp;<span class="ident" id="1659050">i</span><span class="op" id="1659051">++</span>&nbsp;<span class="op" id="1659054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659058">s</span>&nbsp;<span class="op" id="1659060">:=</span>&nbsp;<span class="builtintype" id="1659063">int</span><span class="op" id="1659066">(</span><span class="ident" id="1659067">v</span><span class="op" id="1659068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659072">buf</span><span class="op" id="1659075">[</span><span class="ident" id="1659076">i</span><span class="op" id="1659077">+</span><span class="num" id="1659078">2</span><span class="op" id="1659079">]</span>&nbsp;<span class="op" id="1659081">=</span>&nbsp;<span class="builtintype" id="1659083">byte</span><span class="op" id="1659087">(</span><span class="ident" id="1659088">s</span>&nbsp;<span class="op" id="1659090">+</span>&nbsp;<span class="string" id="1659092">&#39;0&#39;</span><span class="op" id="1659095">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659099">v</span>&nbsp;<span class="op" id="1659101">-=</span>&nbsp;<span class="builtintype" id="1659104">float64</span><span class="op" id="1659111">(</span><span class="ident" id="1659112">s</span><span class="op" id="1659113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659117">v</span>&nbsp;<span class="op" id="1659119">*=</span>&nbsp;<span class="num" id="1659122">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659129">buf</span><span class="op" id="1659132">[</span><span class="num" id="1659133">1</span><span class="op" id="1659134">]</span>&nbsp;<span class="op" id="1659136">=</span>&nbsp;<span class="ident" id="1659138">buf</span><span class="op" id="1659141">[</span><span class="num" id="1659142">2</span><span class="op" id="1659143">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659146">buf</span><span class="op" id="1659149">[</span><span class="num" id="1659150">2</span><span class="op" id="1659151">]</span>&nbsp;<span class="op" id="1659153">=</span>&nbsp;<span class="string" id="1659155">&#39;.&#39;</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659161">buf</span><span class="op" id="1659164">[</span><span class="ident" id="1659165">n</span><span class="op" id="1659166">+</span><span class="num" id="1659167">2</span><span class="op" id="1659168">]</span>&nbsp;<span class="op" id="1659170">=</span>&nbsp;<span class="string" id="1659172">&#39;e&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659177">buf</span><span class="op" id="1659180">[</span><span class="ident" id="1659181">n</span><span class="op" id="1659182">+</span><span class="num" id="1659183">3</span><span class="op" id="1659184">]</span>&nbsp;<span class="op" id="1659186">=</span>&nbsp;<span class="string" id="1659188">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659193">if</span>&nbsp;<span class="ident" id="1659196">e</span>&nbsp;<span class="op" id="1659198">&lt;</span>&nbsp;<span class="num" id="1659200">0</span>&nbsp;<span class="op" id="1659202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659206">e</span>&nbsp;<span class="op" id="1659208">=</span>&nbsp;<span class="op" id="1659210">-</span><span class="ident" id="1659211">e</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659215">buf</span><span class="op" id="1659218">[</span><span class="ident" id="1659219">n</span><span class="op" id="1659220">+</span><span class="num" id="1659221">3</span><span class="op" id="1659222">]</span>&nbsp;<span class="op" id="1659224">=</span>&nbsp;<span class="string" id="1659226">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659235">buf</span><span class="op" id="1659238">[</span><span class="ident" id="1659239">n</span><span class="op" id="1659240">+</span><span class="num" id="1659241">4</span><span class="op" id="1659242">]</span>&nbsp;<span class="op" id="1659244">=</span>&nbsp;<span class="builtintype" id="1659246">byte</span><span class="op" id="1659250">(</span><span class="ident" id="1659251">e</span><span class="op" id="1659252">/</span><span class="num" id="1659253">100</span><span class="op" id="1659256">)</span>&nbsp;<span class="op" id="1659258">+</span>&nbsp;<span class="string" id="1659260">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659265">buf</span><span class="op" id="1659268">[</span><span class="ident" id="1659269">n</span><span class="op" id="1659270">+</span><span class="num" id="1659271">5</span><span class="op" id="1659272">]</span>&nbsp;<span class="op" id="1659274">=</span>&nbsp;<span class="builtintype" id="1659276">byte</span><span class="op" id="1659280">(</span><span class="ident" id="1659281">e</span><span class="op" id="1659282">/</span><span class="num" id="1659283">10</span><span class="op" id="1659285">)</span><span class="op" id="1659286">%</span><span class="num" id="1659287">10</span>&nbsp;<span class="op" id="1659290">+</span>&nbsp;<span class="string" id="1659292">&#39;0&#39;</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659297">buf</span><span class="op" id="1659300">[</span><span class="ident" id="1659301">n</span><span class="op" id="1659302">+</span><span class="num" id="1659303">6</span><span class="op" id="1659304">]</span>&nbsp;<span class="op" id="1659306">=</span>&nbsp;<span class="builtintype" id="1659308">byte</span><span class="op" id="1659312">(</span><span class="ident" id="1659313">e</span><span class="op" id="1659314">%</span><span class="num" id="1659315">10</span><span class="op" id="1659317">)</span>&nbsp;<span class="op" id="1659319">+</span>&nbsp;<span class="string" id="1659321">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659326">gwrite</span><span class="op" id="1659332">(</span><span class="ident" id="1659333">buf</span><span class="op" id="1659336">[</span><span class="op" id="1659337">:</span><span class="op" id="1659338">]</span><span class="op" id="1659339">)</span><br>
<span class="lineno"></span><span class="op" id="1659341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1659344">func</span>&nbsp;<span class="ident" id="1659349">printcomplex</span><span class="op" id="1659361">(</span><span class="ident" id="1659362">c</span>&nbsp;<span class="builtintype" id="1659364">complex128</span><span class="op" id="1659374">)</span>&nbsp;<span class="op" id="1659376">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1659379">print</span><span class="op" id="1659384">(</span><span class="string" id="1659385">&#34;(&#34;</span><span class="op" id="1659388">,</span>&nbsp;<span class="builtinfunc" id="1659390">real</span><span class="op" id="1659394">(</span><span class="ident" id="1659395">c</span><span class="op" id="1659396">)</span><span class="op" id="1659397">,</span>&nbsp;<span class="builtinfunc" id="1659399">imag</span><span class="op" id="1659403">(</span><span class="ident" id="1659404">c</span><span class="op" id="1659405">)</span><span class="op" id="1659406">,</span>&nbsp;<span class="string" id="1659408">&#34;i)&#34;</span><span class="op" id="1659412">)</span><br>
<span class="lineno"></span><span class="op" id="1659414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1659417">func</span>&nbsp;<span class="ident" id="1659422">printuint</span><span class="op" id="1659431">(</span><span class="ident" id="1659432">v</span>&nbsp;<span class="ident" id="1659434">uint64</span><span class="op" id="1659440">)</span>&nbsp;<span class="op" id="1659442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659445">var</span>&nbsp;<span class="ident" id="1659449">buf</span>&nbsp;<span class="op" id="1659453">[</span><span class="num" id="1659454">100</span><span class="op" id="1659457">]</span><span class="builtintype" id="1659458">byte</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659464">i</span>&nbsp;<span class="op" id="1659466">:=</span>&nbsp;<span class="builtinfunc" id="1659469">len</span><span class="op" id="1659472">(</span><span class="ident" id="1659473">buf</span><span class="op" id="1659476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659479">for</span>&nbsp;<span class="ident" id="1659483">i</span><span class="op" id="1659484">--</span><span class="op" id="1659486">;</span>&nbsp;<span class="ident" id="1659488">i</span>&nbsp;<span class="op" id="1659490">&gt;</span>&nbsp;<span class="num" id="1659492">0</span><span class="op" id="1659493">;</span>&nbsp;<span class="ident" id="1659495">i</span><span class="op" id="1659496">--</span>&nbsp;<span class="op" id="1659499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659503">buf</span><span class="op" id="1659506">[</span><span class="ident" id="1659507">i</span><span class="op" id="1659508">]</span>&nbsp;<span class="op" id="1659510">=</span>&nbsp;<span class="builtintype" id="1659512">byte</span><span class="op" id="1659516">(</span><span class="ident" id="1659517">v</span><span class="op" id="1659518">%</span><span class="num" id="1659519">10</span>&nbsp;<span class="op" id="1659522">+</span>&nbsp;<span class="string" id="1659524">&#39;0&#39;</span><span class="op" id="1659527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659531">if</span>&nbsp;<span class="ident" id="1659534">v</span>&nbsp;<span class="op" id="1659536">&lt;</span>&nbsp;<span class="num" id="1659538">10</span>&nbsp;<span class="op" id="1659541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659546">break</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659558">v</span>&nbsp;<span class="op" id="1659560">/=</span>&nbsp;<span class="num" id="1659563">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659570">gwrite</span><span class="op" id="1659576">(</span><span class="ident" id="1659577">buf</span><span class="op" id="1659580">[</span><span class="ident" id="1659581">i</span><span class="op" id="1659582">:</span><span class="op" id="1659583">]</span><span class="op" id="1659584">)</span><br>
<span class="lineno"></span><span class="op" id="1659586">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1659589">func</span>&nbsp;<span class="ident" id="1659594">printint</span><span class="op" id="1659602">(</span><span class="ident" id="1659603">v</span>&nbsp;<span class="ident" id="1659605">int64</span><span class="op" id="1659610">)</span>&nbsp;<span class="op" id="1659612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659615">if</span>&nbsp;<span class="ident" id="1659618">v</span>&nbsp;<span class="op" id="1659620">&lt;</span>&nbsp;<span class="num" id="1659622">0</span>&nbsp;<span class="op" id="1659624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1659628">print</span><span class="op" id="1659633">(</span><span class="string" id="1659634">&#34;-&#34;</span><span class="op" id="1659637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659641">v</span>&nbsp;<span class="op" id="1659643">=</span>&nbsp;<span class="op" id="1659645">-</span><span class="ident" id="1659646">v</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659652">printuint</span><span class="op" id="1659661">(</span><span class="ident" id="1659662">uint64</span><span class="op" id="1659668">(</span><span class="ident" id="1659669">v</span><span class="op" id="1659670">)</span><span class="op" id="1659671">)</span><br>
<span class="lineno"></span><span class="op" id="1659673">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1659676">func</span>&nbsp;<span class="ident" id="1659681">printhex</span><span class="op" id="1659689">(</span><span class="ident" id="1659690">v</span>&nbsp;<span class="ident" id="1659692">uint64</span><span class="op" id="1659698">)</span>&nbsp;<span class="op" id="1659700">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659703">const</span>&nbsp;<span class="ident" id="1659709">dig</span>&nbsp;<span class="op" id="1659713">=</span>&nbsp;<span class="string" id="1659715">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659735">var</span>&nbsp;<span class="ident" id="1659739">buf</span>&nbsp;<span class="op" id="1659743">[</span><span class="num" id="1659744">100</span><span class="op" id="1659747">]</span><span class="builtintype" id="1659748">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659754">i</span>&nbsp;<span class="op" id="1659756">:=</span>&nbsp;<span class="builtinfunc" id="1659759">len</span><span class="op" id="1659762">(</span><span class="ident" id="1659763">buf</span><span class="op" id="1659766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659769">for</span>&nbsp;<span class="ident" id="1659773">i</span><span class="op" id="1659774">--</span><span class="op" id="1659776">;</span>&nbsp;<span class="ident" id="1659778">i</span>&nbsp;<span class="op" id="1659780">&gt;</span>&nbsp;<span class="num" id="1659782">0</span><span class="op" id="1659783">;</span>&nbsp;<span class="ident" id="1659785">i</span><span class="op" id="1659786">--</span>&nbsp;<span class="op" id="1659789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659793">buf</span><span class="op" id="1659796">[</span><span class="ident" id="1659797">i</span><span class="op" id="1659798">]</span>&nbsp;<span class="op" id="1659800">=</span>&nbsp;<span class="ident" id="1659802">dig</span><span class="op" id="1659805">[</span><span class="ident" id="1659806">v</span><span class="op" id="1659807">%</span><span class="num" id="1659808">16</span><span class="op" id="1659810">]</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659814">if</span>&nbsp;<span class="ident" id="1659817">v</span>&nbsp;<span class="op" id="1659819">&lt;</span>&nbsp;<span class="num" id="1659821">16</span>&nbsp;<span class="op" id="1659824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659829">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659841">v</span>&nbsp;<span class="op" id="1659843">/=</span>&nbsp;<span class="num" id="1659846">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659850">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659853">i</span><span class="op" id="1659854">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659858">buf</span><span class="op" id="1659861">[</span><span class="ident" id="1659862">i</span><span class="op" id="1659863">]</span>&nbsp;<span class="op" id="1659865">=</span>&nbsp;<span class="string" id="1659867">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659872">i</span><span class="op" id="1659873">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659877">buf</span><span class="op" id="1659880">[</span><span class="ident" id="1659881">i</span><span class="op" id="1659882">]</span>&nbsp;<span class="op" id="1659884">=</span>&nbsp;<span class="string" id="1659886">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659891">gwrite</span><span class="op" id="1659897">(</span><span class="ident" id="1659898">buf</span><span class="op" id="1659901">[</span><span class="ident" id="1659902">i</span><span class="op" id="1659903">:</span><span class="op" id="1659904">]</span><span class="op" id="1659905">)</span><br>
<span class="lineno">295</span><span class="op" id="1659907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1659910">func</span>&nbsp;<span class="ident" id="1659915">printpointer</span><span class="op" id="1659927">(</span><span class="ident" id="1659928">p</span>&nbsp;<span class="ident" id="1659930">unsafe</span><span class="op" id="1659936">.</span><span class="ident" id="1659937">Pointer</span><span class="op" id="1659944">)</span>&nbsp;<span class="op" id="1659946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659949">printhex</span><span class="op" id="1659957">(</span><span class="ident" id="1659958">uint64</span><span class="op" id="1659964">(</span><span class="builtintype" id="1659965">uintptr</span><span class="op" id="1659972">(</span><span class="ident" id="1659973">p</span><span class="op" id="1659974">)</span><span class="op" id="1659975">)</span><span class="op" id="1659976">)</span><br>
<span class="lineno"></span><span class="op" id="1659978">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="keyword" id="1659981">func</span>&nbsp;<span class="ident" id="1659986">printstring</span><span class="op" id="1659997">(</span><span class="ident" id="1659998">s</span>&nbsp;<span class="builtintype" id="1660000">string</span><span class="op" id="1660006">)</span>&nbsp;<span class="op" id="1660008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1660011">if</span>&nbsp;<span class="builtintype" id="1660014">uintptr</span><span class="op" id="1660021">(</span><span class="builtinfunc" id="1660022">len</span><span class="op" id="1660025">(</span><span class="ident" id="1660026">s</span><span class="op" id="1660027">)</span><span class="op" id="1660028">)</span>&nbsp;<span class="op" id="1660030">&gt;</span>&nbsp;<span class="ident" id="1660032">maxstring</span>&nbsp;<span class="op" id="1660042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1660046">gwrite</span><span class="op" id="1660052">(</span><span class="ident" id="1660053">bytes</span><span class="op" id="1660058">(</span><span class="string" id="1660059">&#34;[string&nbsp;too&nbsp;long]&#34;</span><span class="op" id="1660078">)</span><span class="op" id="1660079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1660083">return</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1660091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1660094">gwrite</span><span class="op" id="1660100">(</span><span class="ident" id="1660101">bytes</span><span class="op" id="1660106">(</span><span class="ident" id="1660107">s</span><span class="op" id="1660108">)</span><span class="op" id="1660109">)</span><br>
<span class="lineno"></span><span class="op" id="1660111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1660114">func</span>&nbsp;<span class="ident" id="1660119">printslice</span><span class="op" id="1660129">(</span><span class="ident" id="1660130">s</span>&nbsp;<span class="op" id="1660132">[</span><span class="op" id="1660133">]</span><span class="builtintype" id="1660134">byte</span><span class="op" id="1660138">)</span>&nbsp;<span class="op" id="1660140">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1660143">sp</span>&nbsp;<span class="op" id="1660146">:=</span>&nbsp;<span class="op" id="1660149">(</span><span class="op" id="1660150">*</span><span class="ident" id="1660151">slice</span><span class="op" id="1660156">)</span><span class="op" id="1660157">(</span><span class="ident" id="1660158">unsafe</span><span class="op" id="1660164">.</span><span class="ident" id="1660165">Pointer</span><span class="op" id="1660172">(</span><span class="op" id="1660173">&amp;</span><span class="ident" id="1660174">s</span><span class="op" id="1660175">)</span><span class="op" id="1660176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1660179">print</span><span class="op" id="1660184">(</span><span class="string" id="1660185">&#34;[&#34;</span><span class="op" id="1660188">,</span>&nbsp;<span class="builtinfunc" id="1660190">len</span><span class="op" id="1660193">(</span><span class="ident" id="1660194">s</span><span class="op" id="1660195">)</span><span class="op" id="1660196">,</span>&nbsp;<span class="string" id="1660198">&#34;/&#34;</span><span class="op" id="1660201">,</span>&nbsp;<span class="builtinfunc" id="1660203">cap</span><span class="op" id="1660206">(</span><span class="ident" id="1660207">s</span><span class="op" id="1660208">)</span><span class="op" id="1660209">,</span>&nbsp;<span class="string" id="1660211">&#34;]&#34;</span><span class="op" id="1660214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1660217">printpointer</span><span class="op" id="1660229">(</span><span class="ident" id="1660230">unsafe</span><span class="op" id="1660236">.</span><span class="ident" id="1660237">Pointer</span><span class="op" id="1660244">(</span><span class="ident" id="1660245">sp</span><span class="op" id="1660247">.</span><span class="ident" id="1660248">array</span><span class="op" id="1660253">)</span><span class="op" id="1660254">)</span><br>
<span class="lineno"></span><span class="op" id="1660256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1660259">func</span>&nbsp;<span class="ident" id="1660264">printeface</span><span class="op" id="1660274">(</span><span class="ident" id="1660275">e</span>&nbsp;<span class="keyword" id="1660277">interface</span><span class="op" id="1660286">{</span><span class="op" id="1660287">}</span><span class="op" id="1660288">)</span>&nbsp;<span class="op" id="1660290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1660293">ep</span>&nbsp;<span class="op" id="1660296">:=</span>&nbsp;<span class="op" id="1660299">(</span><span class="op" id="1660300">*</span><span class="ident" id="1660301">eface</span><span class="op" id="1660306">)</span><span class="op" id="1660307">(</span><span class="ident" id="1660308">unsafe</span><span class="op" id="1660314">.</span><span class="ident" id="1660315">Pointer</span><span class="op" id="1660322">(</span><span class="op" id="1660323">&amp;</span><span class="ident" id="1660324">e</span><span class="op" id="1660325">)</span><span class="op" id="1660326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1660329">print</span><span class="op" id="1660334">(</span><span class="string" id="1660335">&#34;(&#34;</span><span class="op" id="1660338">,</span>&nbsp;<span class="ident" id="1660340">ep</span><span class="op" id="1660342">.</span><span class="ident" id="1660343">_type</span><span class="op" id="1660348">,</span>&nbsp;<span class="string" id="1660350">&#34;,&#34;</span><span class="op" id="1660353">,</span>&nbsp;<span class="ident" id="1660355">ep</span><span class="op" id="1660357">.</span><span class="ident" id="1660358">data</span><span class="op" id="1660362">,</span>&nbsp;<span class="string" id="1660364">&#34;)&#34;</span><span class="op" id="1660367">)</span><br>
<span class="lineno"></span><span class="op" id="1660369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1660372">func</span>&nbsp;<span class="ident" id="1660377">printiface</span><span class="op" id="1660387">(</span><span class="ident" id="1660388">i</span>&nbsp;<span class="ident" id="1660390">fInterface</span><span class="op" id="1660400">)</span>&nbsp;<span class="op" id="1660402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1660405">ip</span>&nbsp;<span class="op" id="1660408">:=</span>&nbsp;<span class="op" id="1660411">(</span><span class="op" id="1660412">*</span><span class="ident" id="1660413">iface</span><span class="op" id="1660418">)</span><span class="op" id="1660419">(</span><span class="ident" id="1660420">unsafe</span><span class="op" id="1660426">.</span><span class="ident" id="1660427">Pointer</span><span class="op" id="1660434">(</span><span class="op" id="1660435">&amp;</span><span class="ident" id="1660436">i</span><span class="op" id="1660437">)</span><span class="op" id="1660438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1660441">print</span><span class="op" id="1660446">(</span><span class="string" id="1660447">&#34;(&#34;</span><span class="op" id="1660450">,</span>&nbsp;<span class="ident" id="1660452">ip</span><span class="op" id="1660454">.</span><span class="ident" id="1660455">tab</span><span class="op" id="1660458">,</span>&nbsp;<span class="string" id="1660460">&#34;,&#34;</span><span class="op" id="1660463">,</span>&nbsp;<span class="ident" id="1660465">ip</span><span class="op" id="1660467">.</span><span class="ident" id="1660468">data</span><span class="op" id="1660472">,</span>&nbsp;<span class="string" id="1660474">&#34;)&#34;</span><span class="op" id="1660477">)</span><br>
<span class="lineno"></span><span class="op" id="1660479">}</span>
</div>
</body>
</html>
