<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3495531">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3495587">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3495641">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3495692">package</span>&nbsp;<span class="ident" id="3495700">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3495706">import</span>&nbsp;<span class="op" id="3495713">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3495716">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3495725">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3495743">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3495746">//&nbsp;The&nbsp;algorithm&nbsp;uses&nbsp;at&nbsp;most&nbsp;sniffLen&nbsp;bytes&nbsp;to&nbsp;make&nbsp;its&nbsp;decision.</span><br>
<span class="lineno"></span><span class="keyword" id="3495813">const</span>&nbsp;<span class="ident" id="3495819">sniffLen</span>&nbsp;<span class="op" id="3495828">=</span>&nbsp;<span class="num" id="3495830">512</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3495835">//&nbsp;DetectContentType&nbsp;implements&nbsp;the&nbsp;algorithm&nbsp;described</span><br>
<span class="lineno"></span><span class="comment" id="3495891">//&nbsp;at&nbsp;http://mimesniff.spec.whatwg.org/&nbsp;to&nbsp;determine&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3495948">//&nbsp;Content-Type&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;&nbsp;It&nbsp;considers&nbsp;at&nbsp;most&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3496009">//&nbsp;first&nbsp;512&nbsp;bytes&nbsp;of&nbsp;data.&nbsp;&nbsp;DetectContentType&nbsp;always&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3496071">//&nbsp;a&nbsp;valid&nbsp;MIME&nbsp;type:&nbsp;if&nbsp;it&nbsp;cannot&nbsp;determine&nbsp;a&nbsp;more&nbsp;specific&nbsp;one,&nbsp;it</span><br>
<span class="lineno">20</span><span class="comment" id="3496140">//&nbsp;returns&nbsp;&#34;application/octet-stream&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3496179">func</span>&nbsp;<span class="ident" id="3496184">DetectContentType</span><span class="op" id="3496201">(</span><span class="ident" id="3496202">data</span>&nbsp;<span class="op" id="3496207">[</span><span class="op" id="3496208">]</span><span class="builtintype" id="3496209">byte</span><span class="op" id="3496213">)</span>&nbsp;<span class="builtintype" id="3496215">string</span>&nbsp;<span class="op" id="3496222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3496225">if</span>&nbsp;<span class="builtinfunc" id="3496228">len</span><span class="op" id="3496231">(</span><span class="ident" id="3496232">data</span><span class="op" id="3496236">)</span>&nbsp;<span class="op" id="3496238">&gt;</span>&nbsp;<span class="ident" id="3496240">sniffLen</span>&nbsp;<span class="op" id="3496249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496253">data</span>&nbsp;<span class="op" id="3496258">=</span>&nbsp;<span class="ident" id="3496260">data</span><span class="op" id="3496264">[</span><span class="op" id="3496265">:</span><span class="ident" id="3496266">sniffLen</span><span class="op" id="3496274">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3496277">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3496281">//&nbsp;Index&nbsp;of&nbsp;the&nbsp;first&nbsp;non-whitespace&nbsp;byte&nbsp;in&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496333">firstNonWS</span>&nbsp;<span class="op" id="3496344">:=</span>&nbsp;<span class="num" id="3496347">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3496350">for</span>&nbsp;<span class="op" id="3496354">;</span>&nbsp;<span class="ident" id="3496356">firstNonWS</span>&nbsp;<span class="op" id="3496367">&lt;</span>&nbsp;<span class="builtinfunc" id="3496369">len</span><span class="op" id="3496372">(</span><span class="ident" id="3496373">data</span><span class="op" id="3496377">)</span>&nbsp;<span class="op" id="3496379">&amp;&amp;</span>&nbsp;<span class="ident" id="3496382">isWS</span><span class="op" id="3496386">(</span><span class="ident" id="3496387">data</span><span class="op" id="3496391">[</span><span class="ident" id="3496392">firstNonWS</span><span class="op" id="3496402">]</span><span class="op" id="3496403">)</span><span class="op" id="3496404">;</span>&nbsp;<span class="ident" id="3496406">firstNonWS</span><span class="op" id="3496416">++</span>&nbsp;<span class="op" id="3496419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3496422">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3496426">for</span>&nbsp;<span class="ident" id="3496430">_</span><span class="op" id="3496431">,</span>&nbsp;<span class="ident" id="3496433">sig</span>&nbsp;<span class="op" id="3496437">:=</span>&nbsp;<span class="keyword" id="3496440">range</span>&nbsp;<span class="ident" id="3496446">sniffSignatures</span>&nbsp;<span class="op" id="3496462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3496466">if</span>&nbsp;<span class="ident" id="3496469">ct</span>&nbsp;<span class="op" id="3496472">:=</span>&nbsp;<span class="ident" id="3496475">sig</span><span class="op" id="3496478">.</span><span class="ident" id="3496479">match</span><span class="op" id="3496484">(</span><span class="ident" id="3496485">data</span><span class="op" id="3496489">,</span>&nbsp;<span class="ident" id="3496491">firstNonWS</span><span class="op" id="3496501">)</span><span class="op" id="3496502">;</span>&nbsp;<span class="ident" id="3496504">ct</span>&nbsp;<span class="op" id="3496507">!=</span>&nbsp;<span class="string" id="3496510">&#34;&#34;</span>&nbsp;<span class="op" id="3496513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3496518">return</span>&nbsp;<span class="ident" id="3496525">ct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3496530">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3496533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3496537">return</span>&nbsp;<span class="string" id="3496544">&#34;application/octet-stream&#34;</span>&nbsp;<span class="comment" id="3496571">//&nbsp;fallback</span><br>
<span class="lineno"></span><span class="op" id="3496583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3496586">func</span>&nbsp;<span class="ident" id="3496591">isWS</span><span class="op" id="3496595">(</span><span class="ident" id="3496596">b</span>&nbsp;<span class="builtintype" id="3496598">byte</span><span class="op" id="3496602">)</span>&nbsp;<span class="builtintype" id="3496604">bool</span>&nbsp;<span class="op" id="3496609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3496612">return</span>&nbsp;<span class="ident" id="3496619">bytes</span><span class="op" id="3496624">.</span><span class="ident" id="3496625">IndexByte</span><span class="op" id="3496634">(</span><span class="op" id="3496635">[</span><span class="op" id="3496636">]</span><span class="builtintype" id="3496637">byte</span><span class="op" id="3496641">(</span><span class="string" id="3496642">&#34;\t\n\x0C\r&nbsp;&#34;</span><span class="op" id="3496655">)</span><span class="op" id="3496656">,</span>&nbsp;<span class="ident" id="3496658">b</span><span class="op" id="3496659">)</span>&nbsp;<span class="op" id="3496661">!=</span>&nbsp;<span class="op" id="3496664">-</span><span class="num" id="3496665">1</span><br>
<span class="lineno"></span><span class="op" id="3496667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3496670">type</span>&nbsp;<span class="ident" id="3496675">sniffSig</span>&nbsp;<span class="keyword" id="3496684">interface</span>&nbsp;<span class="op" id="3496694">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3496697">//&nbsp;match&nbsp;returns&nbsp;the&nbsp;MIME&nbsp;type&nbsp;of&nbsp;the&nbsp;data,&nbsp;or&nbsp;&#34;&#34;&nbsp;if&nbsp;unknown.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496760">match</span><span class="op" id="3496765">(</span><span class="ident" id="3496766">data</span>&nbsp;<span class="op" id="3496771">[</span><span class="op" id="3496772">]</span><span class="builtintype" id="3496773">byte</span><span class="op" id="3496777">,</span>&nbsp;<span class="ident" id="3496779">firstNonWS</span>&nbsp;<span class="builtintype" id="3496790">int</span><span class="op" id="3496793">)</span>&nbsp;<span class="builtintype" id="3496795">string</span><br>
<span class="lineno"></span><span class="op" id="3496802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3496805">//&nbsp;Data&nbsp;matching&nbsp;the&nbsp;table&nbsp;in&nbsp;section&nbsp;6.</span><br>
<span class="lineno">50</span><span class="keyword" id="3496846">var</span>&nbsp;<span class="ident" id="3496850">sniffSignatures</span>&nbsp;<span class="op" id="3496866">=</span>&nbsp;<span class="op" id="3496868">[</span><span class="op" id="3496869">]</span><span class="ident" id="3496870">sniffSig</span><span class="op" id="3496878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496881">htmlSig</span><span class="op" id="3496888">(</span><span class="string" id="3496889">&#34;&lt;!DOCTYPE&nbsp;HTML&#34;</span><span class="op" id="3496905">)</span><span class="op" id="3496906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496909">htmlSig</span><span class="op" id="3496916">(</span><span class="string" id="3496917">&#34;&lt;HTML&#34;</span><span class="op" id="3496924">)</span><span class="op" id="3496925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496928">htmlSig</span><span class="op" id="3496935">(</span><span class="string" id="3496936">&#34;&lt;HEAD&#34;</span><span class="op" id="3496943">)</span><span class="op" id="3496944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496947">htmlSig</span><span class="op" id="3496954">(</span><span class="string" id="3496955">&#34;&lt;SCRIPT&#34;</span><span class="op" id="3496964">)</span><span class="op" id="3496965">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496968">htmlSig</span><span class="op" id="3496975">(</span><span class="string" id="3496976">&#34;&lt;IFRAME&#34;</span><span class="op" id="3496985">)</span><span class="op" id="3496986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496989">htmlSig</span><span class="op" id="3496996">(</span><span class="string" id="3496997">&#34;&lt;H1&#34;</span><span class="op" id="3497002">)</span><span class="op" id="3497003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497006">htmlSig</span><span class="op" id="3497013">(</span><span class="string" id="3497014">&#34;&lt;DIV&#34;</span><span class="op" id="3497020">)</span><span class="op" id="3497021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497024">htmlSig</span><span class="op" id="3497031">(</span><span class="string" id="3497032">&#34;&lt;FONT&#34;</span><span class="op" id="3497039">)</span><span class="op" id="3497040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497043">htmlSig</span><span class="op" id="3497050">(</span><span class="string" id="3497051">&#34;&lt;TABLE&#34;</span><span class="op" id="3497059">)</span><span class="op" id="3497060">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497063">htmlSig</span><span class="op" id="3497070">(</span><span class="string" id="3497071">&#34;&lt;A&#34;</span><span class="op" id="3497075">)</span><span class="op" id="3497076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497079">htmlSig</span><span class="op" id="3497086">(</span><span class="string" id="3497087">&#34;&lt;STYLE&#34;</span><span class="op" id="3497095">)</span><span class="op" id="3497096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497099">htmlSig</span><span class="op" id="3497106">(</span><span class="string" id="3497107">&#34;&lt;TITLE&#34;</span><span class="op" id="3497115">)</span><span class="op" id="3497116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497119">htmlSig</span><span class="op" id="3497126">(</span><span class="string" id="3497127">&#34;&lt;B&#34;</span><span class="op" id="3497131">)</span><span class="op" id="3497132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497135">htmlSig</span><span class="op" id="3497142">(</span><span class="string" id="3497143">&#34;&lt;BODY&#34;</span><span class="op" id="3497150">)</span><span class="op" id="3497151">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497154">htmlSig</span><span class="op" id="3497161">(</span><span class="string" id="3497162">&#34;&lt;BR&#34;</span><span class="op" id="3497167">)</span><span class="op" id="3497168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497171">htmlSig</span><span class="op" id="3497178">(</span><span class="string" id="3497179">&#34;&lt;P&#34;</span><span class="op" id="3497183">)</span><span class="op" id="3497184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497187">htmlSig</span><span class="op" id="3497194">(</span><span class="string" id="3497195">&#34;&lt;!--&#34;</span><span class="op" id="3497201">)</span><span class="op" id="3497202">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497206">&amp;</span><span class="ident" id="3497207">maskedSig</span><span class="op" id="3497216">{</span><span class="ident" id="3497217">mask</span><span class="op" id="3497221">:</span>&nbsp;<span class="op" id="3497223">[</span><span class="op" id="3497224">]</span><span class="builtintype" id="3497225">byte</span><span class="op" id="3497229">(</span><span class="string" id="3497230">&#34;\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3497252">)</span><span class="op" id="3497253">,</span>&nbsp;<span class="ident" id="3497255">pat</span><span class="op" id="3497258">:</span>&nbsp;<span class="op" id="3497260">[</span><span class="op" id="3497261">]</span><span class="builtintype" id="3497262">byte</span><span class="op" id="3497266">(</span><span class="string" id="3497267">&#34;&lt;?xml&#34;</span><span class="op" id="3497274">)</span><span class="op" id="3497275">,</span>&nbsp;<span class="ident" id="3497277">skipWS</span><span class="op" id="3497283">:</span>&nbsp;<span class="builtintype" id="3497285">true</span><span class="op" id="3497289">,</span>&nbsp;<span class="ident" id="3497291">ct</span><span class="op" id="3497293">:</span>&nbsp;<span class="string" id="3497295">&#34;text/xml;&nbsp;charset=utf-8&#34;</span><span class="op" id="3497320">}</span><span class="op" id="3497321">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497325">&amp;</span><span class="ident" id="3497326">exactSig</span><span class="op" id="3497334">{</span><span class="op" id="3497335">[</span><span class="op" id="3497336">]</span><span class="builtintype" id="3497337">byte</span><span class="op" id="3497341">(</span><span class="string" id="3497342">&#34;%PDF-&#34;</span><span class="op" id="3497349">)</span><span class="op" id="3497350">,</span>&nbsp;<span class="string" id="3497352">&#34;application/pdf&#34;</span><span class="op" id="3497369">}</span><span class="op" id="3497370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497373">&amp;</span><span class="ident" id="3497374">exactSig</span><span class="op" id="3497382">{</span><span class="op" id="3497383">[</span><span class="op" id="3497384">]</span><span class="builtintype" id="3497385">byte</span><span class="op" id="3497389">(</span><span class="string" id="3497390">&#34;%!PS-Adobe-&#34;</span><span class="op" id="3497403">)</span><span class="op" id="3497404">,</span>&nbsp;<span class="string" id="3497406">&#34;application/postscript&#34;</span><span class="op" id="3497430">}</span><span class="op" id="3497431">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3497435">//&nbsp;UTF&nbsp;BOMs.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497449">&amp;</span><span class="ident" id="3497450">maskedSig</span><span class="op" id="3497459">{</span><span class="ident" id="3497460">mask</span><span class="op" id="3497464">:</span>&nbsp;<span class="op" id="3497466">[</span><span class="op" id="3497467">]</span><span class="builtintype" id="3497468">byte</span><span class="op" id="3497472">(</span><span class="string" id="3497473">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3497491">)</span><span class="op" id="3497492">,</span>&nbsp;<span class="ident" id="3497494">pat</span><span class="op" id="3497497">:</span>&nbsp;<span class="op" id="3497499">[</span><span class="op" id="3497500">]</span><span class="builtintype" id="3497501">byte</span><span class="op" id="3497505">(</span><span class="string" id="3497506">&#34;\xFE\xFF\x00\x00&#34;</span><span class="op" id="3497524">)</span><span class="op" id="3497525">,</span>&nbsp;<span class="ident" id="3497527">ct</span><span class="op" id="3497529">:</span>&nbsp;<span class="string" id="3497531">&#34;text/plain;&nbsp;charset=utf-16be&#34;</span><span class="op" id="3497561">}</span><span class="op" id="3497562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497565">&amp;</span><span class="ident" id="3497566">maskedSig</span><span class="op" id="3497575">{</span><span class="ident" id="3497576">mask</span><span class="op" id="3497580">:</span>&nbsp;<span class="op" id="3497582">[</span><span class="op" id="3497583">]</span><span class="builtintype" id="3497584">byte</span><span class="op" id="3497588">(</span><span class="string" id="3497589">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3497607">)</span><span class="op" id="3497608">,</span>&nbsp;<span class="ident" id="3497610">pat</span><span class="op" id="3497613">:</span>&nbsp;<span class="op" id="3497615">[</span><span class="op" id="3497616">]</span><span class="builtintype" id="3497617">byte</span><span class="op" id="3497621">(</span><span class="string" id="3497622">&#34;\xFF\xFE\x00\x00&#34;</span><span class="op" id="3497640">)</span><span class="op" id="3497641">,</span>&nbsp;<span class="ident" id="3497643">ct</span><span class="op" id="3497645">:</span>&nbsp;<span class="string" id="3497647">&#34;text/plain;&nbsp;charset=utf-16le&#34;</span><span class="op" id="3497677">}</span><span class="op" id="3497678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497681">&amp;</span><span class="ident" id="3497682">maskedSig</span><span class="op" id="3497691">{</span><span class="ident" id="3497692">mask</span><span class="op" id="3497696">:</span>&nbsp;<span class="op" id="3497698">[</span><span class="op" id="3497699">]</span><span class="builtintype" id="3497700">byte</span><span class="op" id="3497704">(</span><span class="string" id="3497705">&#34;\xFF\xFF\xFF\x00&#34;</span><span class="op" id="3497723">)</span><span class="op" id="3497724">,</span>&nbsp;<span class="ident" id="3497726">pat</span><span class="op" id="3497729">:</span>&nbsp;<span class="op" id="3497731">[</span><span class="op" id="3497732">]</span><span class="builtintype" id="3497733">byte</span><span class="op" id="3497737">(</span><span class="string" id="3497738">&#34;\xEF\xBB\xBF\x00&#34;</span><span class="op" id="3497756">)</span><span class="op" id="3497757">,</span>&nbsp;<span class="ident" id="3497759">ct</span><span class="op" id="3497761">:</span>&nbsp;<span class="string" id="3497763">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><span class="op" id="3497790">}</span><span class="op" id="3497791">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497795">&amp;</span><span class="ident" id="3497796">exactSig</span><span class="op" id="3497804">{</span><span class="op" id="3497805">[</span><span class="op" id="3497806">]</span><span class="builtintype" id="3497807">byte</span><span class="op" id="3497811">(</span><span class="string" id="3497812">&#34;GIF87a&#34;</span><span class="op" id="3497820">)</span><span class="op" id="3497821">,</span>&nbsp;<span class="string" id="3497823">&#34;image/gif&#34;</span><span class="op" id="3497834">}</span><span class="op" id="3497835">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497838">&amp;</span><span class="ident" id="3497839">exactSig</span><span class="op" id="3497847">{</span><span class="op" id="3497848">[</span><span class="op" id="3497849">]</span><span class="builtintype" id="3497850">byte</span><span class="op" id="3497854">(</span><span class="string" id="3497855">&#34;GIF89a&#34;</span><span class="op" id="3497863">)</span><span class="op" id="3497864">,</span>&nbsp;<span class="string" id="3497866">&#34;image/gif&#34;</span><span class="op" id="3497877">}</span><span class="op" id="3497878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497881">&amp;</span><span class="ident" id="3497882">exactSig</span><span class="op" id="3497890">{</span><span class="op" id="3497891">[</span><span class="op" id="3497892">]</span><span class="builtintype" id="3497893">byte</span><span class="op" id="3497897">(</span><span class="string" id="3497898">&#34;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&#34;</span><span class="op" id="3497932">)</span><span class="op" id="3497933">,</span>&nbsp;<span class="string" id="3497935">&#34;image/png&#34;</span><span class="op" id="3497946">}</span><span class="op" id="3497947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497950">&amp;</span><span class="ident" id="3497951">exactSig</span><span class="op" id="3497959">{</span><span class="op" id="3497960">[</span><span class="op" id="3497961">]</span><span class="builtintype" id="3497962">byte</span><span class="op" id="3497966">(</span><span class="string" id="3497967">&#34;\xFF\xD8\xFF&#34;</span><span class="op" id="3497981">)</span><span class="op" id="3497982">,</span>&nbsp;<span class="string" id="3497984">&#34;image/jpeg&#34;</span><span class="op" id="3497996">}</span><span class="op" id="3497997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498000">&amp;</span><span class="ident" id="3498001">exactSig</span><span class="op" id="3498009">{</span><span class="op" id="3498010">[</span><span class="op" id="3498011">]</span><span class="builtintype" id="3498012">byte</span><span class="op" id="3498016">(</span><span class="string" id="3498017">&#34;BM&#34;</span><span class="op" id="3498021">)</span><span class="op" id="3498022">,</span>&nbsp;<span class="string" id="3498024">&#34;image/bmp&#34;</span><span class="op" id="3498035">}</span><span class="op" id="3498036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498039">&amp;</span><span class="ident" id="3498040">maskedSig</span><span class="op" id="3498049">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498053">mask</span><span class="op" id="3498057">:</span>&nbsp;<span class="op" id="3498059">[</span><span class="op" id="3498060">]</span><span class="builtintype" id="3498061">byte</span><span class="op" id="3498065">(</span><span class="string" id="3498066">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3498124">)</span><span class="op" id="3498125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498129">pat</span><span class="op" id="3498132">:</span>&nbsp;&nbsp;<span class="op" id="3498135">[</span><span class="op" id="3498136">]</span><span class="builtintype" id="3498137">byte</span><span class="op" id="3498141">(</span><span class="string" id="3498142">&#34;RIFF\x00\x00\x00\x00WEBPVP&#34;</span><span class="op" id="3498170">)</span><span class="op" id="3498171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498175">ct</span><span class="op" id="3498177">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3498181">&#34;image/webp&#34;</span><span class="op" id="3498193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498196">}</span><span class="op" id="3498197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498200">&amp;</span><span class="ident" id="3498201">exactSig</span><span class="op" id="3498209">{</span><span class="op" id="3498210">[</span><span class="op" id="3498211">]</span><span class="builtintype" id="3498212">byte</span><span class="op" id="3498216">(</span><span class="string" id="3498217">&#34;\x00\x00\x01\x00&#34;</span><span class="op" id="3498235">)</span><span class="op" id="3498236">,</span>&nbsp;<span class="string" id="3498238">&#34;image/vnd.microsoft.icon&#34;</span><span class="op" id="3498264">}</span><span class="op" id="3498265">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498268">&amp;</span><span class="ident" id="3498269">exactSig</span><span class="op" id="3498277">{</span><span class="op" id="3498278">[</span><span class="op" id="3498279">]</span><span class="builtintype" id="3498280">byte</span><span class="op" id="3498284">(</span><span class="string" id="3498285">&#34;\x4F\x67\x67\x53\x00&#34;</span><span class="op" id="3498307">)</span><span class="op" id="3498308">,</span>&nbsp;<span class="string" id="3498310">&#34;application/ogg&#34;</span><span class="op" id="3498327">}</span><span class="op" id="3498328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498331">&amp;</span><span class="ident" id="3498332">maskedSig</span><span class="op" id="3498341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498345">mask</span><span class="op" id="3498349">:</span>&nbsp;<span class="op" id="3498351">[</span><span class="op" id="3498352">]</span><span class="builtintype" id="3498353">byte</span><span class="op" id="3498357">(</span><span class="string" id="3498358">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3498408">)</span><span class="op" id="3498409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498413">pat</span><span class="op" id="3498416">:</span>&nbsp;&nbsp;<span class="op" id="3498419">[</span><span class="op" id="3498420">]</span><span class="builtintype" id="3498421">byte</span><span class="op" id="3498425">(</span><span class="string" id="3498426">&#34;RIFF\x00\x00\x00\x00WAVE&#34;</span><span class="op" id="3498452">)</span><span class="op" id="3498453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498457">ct</span><span class="op" id="3498459">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3498463">&#34;audio/wave&#34;</span><span class="op" id="3498475">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498478">}</span><span class="op" id="3498479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498482">&amp;</span><span class="ident" id="3498483">exactSig</span><span class="op" id="3498491">{</span><span class="op" id="3498492">[</span><span class="op" id="3498493">]</span><span class="builtintype" id="3498494">byte</span><span class="op" id="3498498">(</span><span class="string" id="3498499">&#34;\x1A\x45\xDF\xA3&#34;</span><span class="op" id="3498517">)</span><span class="op" id="3498518">,</span>&nbsp;<span class="string" id="3498520">&#34;video/webm&#34;</span><span class="op" id="3498532">}</span><span class="op" id="3498533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498536">&amp;</span><span class="ident" id="3498537">exactSig</span><span class="op" id="3498545">{</span><span class="op" id="3498546">[</span><span class="op" id="3498547">]</span><span class="builtintype" id="3498548">byte</span><span class="op" id="3498552">(</span><span class="string" id="3498553">&#34;\x52\x61\x72\x20\x1A\x07\x00&#34;</span><span class="op" id="3498583">)</span><span class="op" id="3498584">,</span>&nbsp;<span class="string" id="3498586">&#34;application/x-rar-compressed&#34;</span><span class="op" id="3498616">}</span><span class="op" id="3498617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498620">&amp;</span><span class="ident" id="3498621">exactSig</span><span class="op" id="3498629">{</span><span class="op" id="3498630">[</span><span class="op" id="3498631">]</span><span class="builtintype" id="3498632">byte</span><span class="op" id="3498636">(</span><span class="string" id="3498637">&#34;\x50\x4B\x03\x04&#34;</span><span class="op" id="3498655">)</span><span class="op" id="3498656">,</span>&nbsp;<span class="string" id="3498658">&#34;application/zip&#34;</span><span class="op" id="3498675">}</span><span class="op" id="3498676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498679">&amp;</span><span class="ident" id="3498680">exactSig</span><span class="op" id="3498688">{</span><span class="op" id="3498689">[</span><span class="op" id="3498690">]</span><span class="builtintype" id="3498691">byte</span><span class="op" id="3498695">(</span><span class="string" id="3498696">&#34;\x1F\x8B\x08&#34;</span><span class="op" id="3498710">)</span><span class="op" id="3498711">,</span>&nbsp;<span class="string" id="3498713">&#34;application/x-gzip&#34;</span><span class="op" id="3498733">}</span><span class="op" id="3498734">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3498738">//&nbsp;TODO(dsymonds):&nbsp;Re-enable&nbsp;this&nbsp;when&nbsp;the&nbsp;spec&nbsp;is&nbsp;sorted&nbsp;w.r.t.&nbsp;MP4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3498809">//mp4Sig(0),</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498824">textSig</span><span class="op" id="3498831">(</span><span class="num" id="3498832">0</span><span class="op" id="3498833">)</span><span class="op" id="3498834">,</span>&nbsp;<span class="comment" id="3498836">//&nbsp;should&nbsp;be&nbsp;last</span><br>
<span class="lineno">105</span><span class="op" id="3498854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3498857">type</span>&nbsp;<span class="ident" id="3498862">exactSig</span>&nbsp;<span class="keyword" id="3498871">struct</span>&nbsp;<span class="op" id="3498878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498881">sig</span>&nbsp;<span class="op" id="3498885">[</span><span class="op" id="3498886">]</span><span class="builtintype" id="3498887">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498893">ct</span>&nbsp;&nbsp;<span class="builtintype" id="3498897">string</span><br>
<span class="lineno">110</span><span class="op" id="3498904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3498907">func</span>&nbsp;<span class="op" id="3498912">(</span><span class="ident" id="3498913">e</span>&nbsp;<span class="op" id="3498915">*</span><span class="ident" id="3498916">exactSig</span><span class="op" id="3498924">)</span>&nbsp;<span class="ident" id="3498926">match</span><span class="op" id="3498931">(</span><span class="ident" id="3498932">data</span>&nbsp;<span class="op" id="3498937">[</span><span class="op" id="3498938">]</span><span class="builtintype" id="3498939">byte</span><span class="op" id="3498943">,</span>&nbsp;<span class="ident" id="3498945">firstNonWS</span>&nbsp;<span class="builtintype" id="3498956">int</span><span class="op" id="3498959">)</span>&nbsp;<span class="builtintype" id="3498961">string</span>&nbsp;<span class="op" id="3498968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498971">if</span>&nbsp;<span class="ident" id="3498974">bytes</span><span class="op" id="3498979">.</span><span class="ident" id="3498980">HasPrefix</span><span class="op" id="3498989">(</span><span class="ident" id="3498990">data</span><span class="op" id="3498994">,</span>&nbsp;<span class="ident" id="3498996">e</span><span class="op" id="3498997">.</span><span class="ident" id="3498998">sig</span><span class="op" id="3499001">)</span>&nbsp;<span class="op" id="3499003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499007">return</span>&nbsp;<span class="ident" id="3499014">e</span><span class="op" id="3499015">.</span><span class="ident" id="3499016">ct</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499023">return</span>&nbsp;<span class="string" id="3499030">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3499033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3499036">type</span>&nbsp;<span class="ident" id="3499041">maskedSig</span>&nbsp;<span class="keyword" id="3499051">struct</span>&nbsp;<span class="op" id="3499058">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499061">mask</span><span class="op" id="3499065">,</span>&nbsp;<span class="ident" id="3499067">pat</span>&nbsp;<span class="op" id="3499071">[</span><span class="op" id="3499072">]</span><span class="builtintype" id="3499073">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499079">skipWS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3499089">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499095">ct</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3499105">string</span><br>
<span class="lineno"></span><span class="op" id="3499112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="3499115">func</span>&nbsp;<span class="op" id="3499120">(</span><span class="ident" id="3499121">m</span>&nbsp;<span class="op" id="3499123">*</span><span class="ident" id="3499124">maskedSig</span><span class="op" id="3499133">)</span>&nbsp;<span class="ident" id="3499135">match</span><span class="op" id="3499140">(</span><span class="ident" id="3499141">data</span>&nbsp;<span class="op" id="3499146">[</span><span class="op" id="3499147">]</span><span class="builtintype" id="3499148">byte</span><span class="op" id="3499152">,</span>&nbsp;<span class="ident" id="3499154">firstNonWS</span>&nbsp;<span class="builtintype" id="3499165">int</span><span class="op" id="3499168">)</span>&nbsp;<span class="builtintype" id="3499170">string</span>&nbsp;<span class="op" id="3499177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499180">if</span>&nbsp;<span class="ident" id="3499183">m</span><span class="op" id="3499184">.</span><span class="ident" id="3499185">skipWS</span>&nbsp;<span class="op" id="3499192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499196">data</span>&nbsp;<span class="op" id="3499201">=</span>&nbsp;<span class="ident" id="3499203">data</span><span class="op" id="3499207">[</span><span class="ident" id="3499208">firstNonWS</span><span class="op" id="3499218">:</span><span class="op" id="3499219">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499225">if</span>&nbsp;<span class="builtinfunc" id="3499228">len</span><span class="op" id="3499231">(</span><span class="ident" id="3499232">data</span><span class="op" id="3499236">)</span>&nbsp;<span class="op" id="3499238">&lt;</span>&nbsp;<span class="builtinfunc" id="3499240">len</span><span class="op" id="3499243">(</span><span class="ident" id="3499244">m</span><span class="op" id="3499245">.</span><span class="ident" id="3499246">mask</span><span class="op" id="3499250">)</span>&nbsp;<span class="op" id="3499252">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499256">return</span>&nbsp;<span class="string" id="3499263">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499270">for</span>&nbsp;<span class="ident" id="3499274">i</span><span class="op" id="3499275">,</span>&nbsp;<span class="ident" id="3499277">mask</span>&nbsp;<span class="op" id="3499282">:=</span>&nbsp;<span class="keyword" id="3499285">range</span>&nbsp;<span class="ident" id="3499291">m</span><span class="op" id="3499292">.</span><span class="ident" id="3499293">mask</span>&nbsp;<span class="op" id="3499298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499302">db</span>&nbsp;<span class="op" id="3499305">:=</span>&nbsp;<span class="ident" id="3499308">data</span><span class="op" id="3499312">[</span><span class="ident" id="3499313">i</span><span class="op" id="3499314">]</span>&nbsp;<span class="op" id="3499316">&amp;</span>&nbsp;<span class="ident" id="3499318">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499325">if</span>&nbsp;<span class="ident" id="3499328">db</span>&nbsp;<span class="op" id="3499331">!=</span>&nbsp;<span class="ident" id="3499334">m</span><span class="op" id="3499335">.</span><span class="ident" id="3499336">pat</span><span class="op" id="3499339">[</span><span class="ident" id="3499340">i</span><span class="op" id="3499341">]</span>&nbsp;<span class="op" id="3499343">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499348">return</span>&nbsp;<span class="string" id="3499355">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499366">return</span>&nbsp;<span class="ident" id="3499373">m</span><span class="op" id="3499374">.</span><span class="ident" id="3499375">ct</span><br>
<span class="lineno"></span><span class="op" id="3499378">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="3499381">type</span>&nbsp;<span class="ident" id="3499386">htmlSig</span>&nbsp;<span class="op" id="3499394">[</span><span class="op" id="3499395">]</span><span class="builtintype" id="3499396">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3499402">func</span>&nbsp;<span class="op" id="3499407">(</span><span class="ident" id="3499408">h</span>&nbsp;<span class="ident" id="3499410">htmlSig</span><span class="op" id="3499417">)</span>&nbsp;<span class="ident" id="3499419">match</span><span class="op" id="3499424">(</span><span class="ident" id="3499425">data</span>&nbsp;<span class="op" id="3499430">[</span><span class="op" id="3499431">]</span><span class="builtintype" id="3499432">byte</span><span class="op" id="3499436">,</span>&nbsp;<span class="ident" id="3499438">firstNonWS</span>&nbsp;<span class="builtintype" id="3499449">int</span><span class="op" id="3499452">)</span>&nbsp;<span class="builtintype" id="3499454">string</span>&nbsp;<span class="op" id="3499461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499464">data</span>&nbsp;<span class="op" id="3499469">=</span>&nbsp;<span class="ident" id="3499471">data</span><span class="op" id="3499475">[</span><span class="ident" id="3499476">firstNonWS</span><span class="op" id="3499486">:</span><span class="op" id="3499487">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499490">if</span>&nbsp;<span class="builtinfunc" id="3499493">len</span><span class="op" id="3499496">(</span><span class="ident" id="3499497">data</span><span class="op" id="3499501">)</span>&nbsp;<span class="op" id="3499503">&lt;</span>&nbsp;<span class="builtinfunc" id="3499505">len</span><span class="op" id="3499508">(</span><span class="ident" id="3499509">h</span><span class="op" id="3499510">)</span><span class="op" id="3499511">+</span><span class="num" id="3499512">1</span>&nbsp;<span class="op" id="3499514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499518">return</span>&nbsp;<span class="string" id="3499525">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499532">for</span>&nbsp;<span class="ident" id="3499536">i</span><span class="op" id="3499537">,</span>&nbsp;<span class="ident" id="3499539">b</span>&nbsp;<span class="op" id="3499541">:=</span>&nbsp;<span class="keyword" id="3499544">range</span>&nbsp;<span class="ident" id="3499550">h</span>&nbsp;<span class="op" id="3499552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499556">db</span>&nbsp;<span class="op" id="3499559">:=</span>&nbsp;<span class="ident" id="3499562">data</span><span class="op" id="3499566">[</span><span class="ident" id="3499567">i</span><span class="op" id="3499568">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499572">if</span>&nbsp;<span class="string" id="3499575">&#39;A&#39;</span>&nbsp;<span class="op" id="3499579">&lt;=</span>&nbsp;<span class="ident" id="3499582">b</span>&nbsp;<span class="op" id="3499584">&amp;&amp;</span>&nbsp;<span class="ident" id="3499587">b</span>&nbsp;<span class="op" id="3499589">&lt;=</span>&nbsp;<span class="string" id="3499592">&#39;Z&#39;</span>&nbsp;<span class="op" id="3499596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499601">db</span>&nbsp;<span class="op" id="3499604">&amp;=</span>&nbsp;<span class="num" id="3499607">0xDF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499618">if</span>&nbsp;<span class="ident" id="3499621">b</span>&nbsp;<span class="op" id="3499623">!=</span>&nbsp;<span class="ident" id="3499626">db</span>&nbsp;<span class="op" id="3499629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499634">return</span>&nbsp;<span class="string" id="3499641">&#34;&#34;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3499652">//&nbsp;Next&nbsp;byte&nbsp;must&nbsp;be&nbsp;space&nbsp;or&nbsp;right&nbsp;angle&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499704">if</span>&nbsp;<span class="ident" id="3499707">db</span>&nbsp;<span class="op" id="3499710">:=</span>&nbsp;<span class="ident" id="3499713">data</span><span class="op" id="3499717">[</span><span class="builtinfunc" id="3499718">len</span><span class="op" id="3499721">(</span><span class="ident" id="3499722">h</span><span class="op" id="3499723">)</span><span class="op" id="3499724">]</span><span class="op" id="3499725">;</span>&nbsp;<span class="ident" id="3499727">db</span>&nbsp;<span class="op" id="3499730">!=</span>&nbsp;<span class="string" id="3499733">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3499737">&amp;&amp;</span>&nbsp;<span class="ident" id="3499740">db</span>&nbsp;<span class="op" id="3499743">!=</span>&nbsp;<span class="string" id="3499746">&#39;&gt;&#39;</span>&nbsp;<span class="op" id="3499750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499754">return</span>&nbsp;<span class="string" id="3499761">&#34;&#34;</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499768">return</span>&nbsp;<span class="string" id="3499775">&#34;text/html;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3499802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3499805">type</span>&nbsp;<span class="ident" id="3499810">mp4Sig</span>&nbsp;<span class="builtintype" id="3499817">int</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="3499822">func</span>&nbsp;<span class="op" id="3499827">(</span><span class="ident" id="3499828">mp4Sig</span><span class="op" id="3499834">)</span>&nbsp;<span class="ident" id="3499836">match</span><span class="op" id="3499841">(</span><span class="ident" id="3499842">data</span>&nbsp;<span class="op" id="3499847">[</span><span class="op" id="3499848">]</span><span class="builtintype" id="3499849">byte</span><span class="op" id="3499853">,</span>&nbsp;<span class="ident" id="3499855">firstNonWS</span>&nbsp;<span class="builtintype" id="3499866">int</span><span class="op" id="3499869">)</span>&nbsp;<span class="builtintype" id="3499871">string</span>&nbsp;<span class="op" id="3499878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3499881">//&nbsp;c.f.&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499903">if</span>&nbsp;<span class="builtinfunc" id="3499906">len</span><span class="op" id="3499909">(</span><span class="ident" id="3499910">data</span><span class="op" id="3499914">)</span>&nbsp;<span class="op" id="3499916">&lt;</span>&nbsp;<span class="num" id="3499918">8</span>&nbsp;<span class="op" id="3499920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499924">return</span>&nbsp;<span class="string" id="3499931">&#34;&#34;</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499938">boxSize</span>&nbsp;<span class="op" id="3499946">:=</span>&nbsp;<span class="builtintype" id="3499949">int</span><span class="op" id="3499952">(</span><span class="ident" id="3499953">binary</span><span class="op" id="3499959">.</span><span class="ident" id="3499960">BigEndian</span><span class="op" id="3499969">.</span><span class="ident" id="3499970">Uint32</span><span class="op" id="3499976">(</span><span class="ident" id="3499977">data</span><span class="op" id="3499981">[</span><span class="op" id="3499982">:</span><span class="num" id="3499983">4</span><span class="op" id="3499984">]</span><span class="op" id="3499985">)</span><span class="op" id="3499986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499989">if</span>&nbsp;<span class="ident" id="3499992">boxSize</span><span class="op" id="3499999">%</span><span class="num" id="3500000">4</span>&nbsp;<span class="op" id="3500002">!=</span>&nbsp;<span class="num" id="3500005">0</span>&nbsp;<span class="op" id="3500007">||</span>&nbsp;<span class="builtinfunc" id="3500010">len</span><span class="op" id="3500013">(</span><span class="ident" id="3500014">data</span><span class="op" id="3500018">)</span>&nbsp;<span class="op" id="3500020">&lt;</span>&nbsp;<span class="ident" id="3500022">boxSize</span>&nbsp;<span class="op" id="3500030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500034">return</span>&nbsp;<span class="string" id="3500041">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500045">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500048">if</span>&nbsp;<span class="op" id="3500051">!</span><span class="ident" id="3500052">bytes</span><span class="op" id="3500057">.</span><span class="ident" id="3500058">Equal</span><span class="op" id="3500063">(</span><span class="ident" id="3500064">data</span><span class="op" id="3500068">[</span><span class="num" id="3500069">4</span><span class="op" id="3500070">:</span><span class="num" id="3500071">8</span><span class="op" id="3500072">]</span><span class="op" id="3500073">,</span>&nbsp;<span class="op" id="3500075">[</span><span class="op" id="3500076">]</span><span class="builtintype" id="3500077">byte</span><span class="op" id="3500081">(</span><span class="string" id="3500082">&#34;ftyp&#34;</span><span class="op" id="3500088">)</span><span class="op" id="3500089">)</span>&nbsp;<span class="op" id="3500091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500095">return</span>&nbsp;<span class="string" id="3500102">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500109">for</span>&nbsp;<span class="ident" id="3500113">st</span>&nbsp;<span class="op" id="3500116">:=</span>&nbsp;<span class="num" id="3500119">8</span><span class="op" id="3500120">;</span>&nbsp;<span class="ident" id="3500122">st</span>&nbsp;<span class="op" id="3500125">&lt;</span>&nbsp;<span class="ident" id="3500127">boxSize</span><span class="op" id="3500134">;</span>&nbsp;<span class="ident" id="3500136">st</span>&nbsp;<span class="op" id="3500139">+=</span>&nbsp;<span class="num" id="3500142">4</span>&nbsp;<span class="op" id="3500144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500148">if</span>&nbsp;<span class="ident" id="3500151">st</span>&nbsp;<span class="op" id="3500154">==</span>&nbsp;<span class="num" id="3500157">12</span>&nbsp;<span class="op" id="3500160">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3500165">//&nbsp;minor&nbsp;version&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500192">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500207">seg</span>&nbsp;<span class="op" id="3500211">:=</span>&nbsp;<span class="builtintype" id="3500214">string</span><span class="op" id="3500220">(</span><span class="ident" id="3500221">data</span><span class="op" id="3500225">[</span><span class="ident" id="3500226">st</span>&nbsp;<span class="op" id="3500229">:</span>&nbsp;<span class="ident" id="3500231">st</span><span class="op" id="3500233">+</span><span class="num" id="3500234">3</span><span class="op" id="3500235">]</span><span class="op" id="3500236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500240">switch</span>&nbsp;<span class="ident" id="3500247">seg</span>&nbsp;<span class="op" id="3500251">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500255">case</span>&nbsp;<span class="string" id="3500260">&#34;mp4&#34;</span><span class="op" id="3500265">,</span>&nbsp;<span class="string" id="3500267">&#34;iso&#34;</span><span class="op" id="3500272">,</span>&nbsp;<span class="string" id="3500274">&#34;M4V&#34;</span><span class="op" id="3500279">,</span>&nbsp;<span class="string" id="3500281">&#34;M4P&#34;</span><span class="op" id="3500286">,</span>&nbsp;<span class="string" id="3500288">&#34;M4B&#34;</span><span class="op" id="3500293">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500298">return</span>&nbsp;<span class="string" id="3500305">&#34;video/mp4&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3500320">/*&nbsp;The&nbsp;remainder&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;spec.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;M4A&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;audio/mp4&#34;<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;3gp&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;video/3gpp&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;jp2&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;image/jp2&#34;&nbsp;//&nbsp;JPEG&nbsp;2000<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp*/</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500500">return</span>&nbsp;<span class="string" id="3500507">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3500510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="3500513">type</span>&nbsp;<span class="ident" id="3500518">textSig</span>&nbsp;<span class="builtintype" id="3500526">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3500531">func</span>&nbsp;<span class="op" id="3500536">(</span><span class="ident" id="3500537">textSig</span><span class="op" id="3500544">)</span>&nbsp;<span class="ident" id="3500546">match</span><span class="op" id="3500551">(</span><span class="ident" id="3500552">data</span>&nbsp;<span class="op" id="3500557">[</span><span class="op" id="3500558">]</span><span class="builtintype" id="3500559">byte</span><span class="op" id="3500563">,</span>&nbsp;<span class="ident" id="3500565">firstNonWS</span>&nbsp;<span class="builtintype" id="3500576">int</span><span class="op" id="3500579">)</span>&nbsp;<span class="builtintype" id="3500581">string</span>&nbsp;<span class="op" id="3500588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3500591">//&nbsp;c.f.&nbsp;section&nbsp;5,&nbsp;step&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500619">for</span>&nbsp;<span class="ident" id="3500623">_</span><span class="op" id="3500624">,</span>&nbsp;<span class="ident" id="3500626">b</span>&nbsp;<span class="op" id="3500628">:=</span>&nbsp;<span class="keyword" id="3500631">range</span>&nbsp;<span class="ident" id="3500637">data</span><span class="op" id="3500641">[</span><span class="ident" id="3500642">firstNonWS</span><span class="op" id="3500652">:</span><span class="op" id="3500653">]</span>&nbsp;<span class="op" id="3500655">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500659">switch</span>&nbsp;<span class="op" id="3500666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500670">case</span>&nbsp;<span class="num" id="3500675">0x00</span>&nbsp;<span class="op" id="3500680">&lt;=</span>&nbsp;<span class="ident" id="3500683">b</span>&nbsp;<span class="op" id="3500685">&amp;&amp;</span>&nbsp;<span class="ident" id="3500688">b</span>&nbsp;<span class="op" id="3500690">&lt;=</span>&nbsp;<span class="num" id="3500693">0x08</span><span class="op" id="3500697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500702">b</span>&nbsp;<span class="op" id="3500704">==</span>&nbsp;<span class="num" id="3500707">0x0B</span><span class="op" id="3500711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="3500716">0x0E</span>&nbsp;<span class="op" id="3500721">&lt;=</span>&nbsp;<span class="ident" id="3500724">b</span>&nbsp;<span class="op" id="3500726">&amp;&amp;</span>&nbsp;<span class="ident" id="3500729">b</span>&nbsp;<span class="op" id="3500731">&lt;=</span>&nbsp;<span class="num" id="3500734">0x1A</span><span class="op" id="3500738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="3500743">0x1C</span>&nbsp;<span class="op" id="3500748">&lt;=</span>&nbsp;<span class="ident" id="3500751">b</span>&nbsp;<span class="op" id="3500753">&amp;&amp;</span>&nbsp;<span class="ident" id="3500756">b</span>&nbsp;<span class="op" id="3500758">&lt;=</span>&nbsp;<span class="num" id="3500761">0x1F</span><span class="op" id="3500765">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500770">return</span>&nbsp;<span class="string" id="3500777">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500788">return</span>&nbsp;<span class="string" id="3500795">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3500823">}</span>
</div>
</body>
</html>
