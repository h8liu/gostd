<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html" class="current">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7540467">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7540523">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7540577">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7540628">package</span>&nbsp;<span class="ident" id="7540636">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7540642">import</span>&nbsp;<span class="op" id="7540649">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540652">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540661">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540670">&#34;compress/gzip&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540687">&#34;crypto/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540702">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540709">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540715">&#34;io/ioutil&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540728">&#34;net/http/internal&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540749">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540760">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540771">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540781">&#34;strings&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7540792">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7540802">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7540805">type</span>&nbsp;<span class="ident" id="7540810">respTest</span>&nbsp;<span class="keyword" id="7540819">struct</span>&nbsp;<span class="op" id="7540826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7540829">Raw</span>&nbsp;&nbsp;<span class="builtintype" id="7540834">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7540842">Resp</span>&nbsp;<span class="ident" id="7540847"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7540857">Body</span>&nbsp;<span class="builtintype" id="7540862">string</span><br>
<span class="lineno"></span><span class="op" id="7540869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7540872">func</span>&nbsp;<span class="ident" id="7540877">dummyReq</span><span class="op" id="7540885">(</span><span class="ident" id="7540886">method</span>&nbsp;<span class="builtintype" id="7540893">string</span><span class="op" id="7540899">)</span>&nbsp;<span class="op" id="7540901">*</span><span class="ident" id="7540902"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span>&nbsp;<span class="op" id="7540910">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7540913">return</span>&nbsp;<span class="op" id="7540920">&amp;</span><span class="ident" id="7540921"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7540928">{</span><span class="ident" id="7540929"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7540935">:</span>&nbsp;<span class="ident" id="7540937"><a href="/gostd/net/http/response_test.go.html#7540886">method</a></span><span class="op" id="7540943">}</span><br>
<span class="lineno"></span><span class="op" id="7540945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7540948">func</span>&nbsp;<span class="ident" id="7540953">dummyReq11</span><span class="op" id="7540963">(</span><span class="ident" id="7540964">method</span>&nbsp;<span class="builtintype" id="7540971">string</span><span class="op" id="7540977">)</span>&nbsp;<span class="op" id="7540979">*</span><span class="ident" id="7540980"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span>&nbsp;<span class="op" id="7540988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7540991">return</span>&nbsp;<span class="op" id="7540998">&amp;</span><span class="ident" id="7540999"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7541006">{</span><span class="ident" id="7541007"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7541013">:</span>&nbsp;<span class="ident" id="7541015"><a href="/gostd/net/http/response_test.go.html#7540964">method</a></span><span class="op" id="7541021">,</span>&nbsp;<span class="ident" id="7541023"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7541028">:</span>&nbsp;<span class="string" id="7541030">&#34;HTTP/1.1&#34;</span><span class="op" id="7541040">,</span>&nbsp;<span class="ident" id="7541042"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7541052">:</span>&nbsp;<span class="num" id="7541054">1</span><span class="op" id="7541055">,</span>&nbsp;<span class="ident" id="7541057"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7541067">:</span>&nbsp;<span class="num" id="7541069">1</span><span class="op" id="7541070">}</span><br>
<span class="lineno">35</span><span class="op" id="7541072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7541075">var</span>&nbsp;<span class="ident" id="7541079">respTests</span>&nbsp;<span class="op" id="7541089">=</span>&nbsp;<span class="op" id="7541091">[</span><span class="op" id="7541092">]</span><span class="ident" id="7541093"><a href="/gostd/net/http/response_test.go.html#7540810">respTest</a></span><span class="op" id="7541101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7541104">//&nbsp;Unchunked&nbsp;response&nbsp;without&nbsp;Content-Length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7541151">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541155">&#34;HTTP/1.0&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7541177">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541182">&#34;Connection:&nbsp;close\r\n&#34;</span>&nbsp;<span class="op" id="7541206">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541211">&#34;\r\n&#34;</span>&nbsp;<span class="op" id="7541218">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541223">&#34;Body&nbsp;here\n&#34;</span><span class="op" id="7541236">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541241"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7541249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541254"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7541260">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541266">&#34;200&nbsp;OK&#34;</span><span class="op" id="7541274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541279"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7541289">:</span>&nbsp;<span class="num" id="7541291">200</span><span class="op" id="7541294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541299"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7541304">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541311">&#34;HTTP/1.0&#34;</span><span class="op" id="7541321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541326"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7541336">:</span>&nbsp;<span class="num" id="7541338">1</span><span class="op" id="7541339">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541344"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7541354">:</span>&nbsp;<span class="num" id="7541356">0</span><span class="op" id="7541357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541362"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7541369">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541374"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7541382">(</span><span class="string" id="7541383">&#34;GET&#34;</span><span class="op" id="7541388">)</span><span class="op" id="7541389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541394"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7541400">:</span>&nbsp;<span class="ident" id="7541402"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7541408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541414">&#34;Connection&#34;</span><span class="op" id="7541426">:</span>&nbsp;<span class="op" id="7541428">{</span><span class="string" id="7541429">&#34;close&#34;</span><span class="op" id="7541436">}</span><span class="op" id="7541437">,</span>&nbsp;<span class="comment" id="7541439">//&nbsp;TODO(rsc):&nbsp;Delete?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7541464">}</span><span class="op" id="7541465">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541470"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7541475">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7541485">true</span><span class="op" id="7541489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541494"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7541507">:</span>&nbsp;<span class="op" id="7541509">-</span><span class="num" id="7541510">1</span><span class="op" id="7541511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7541515">}</span><span class="op" id="7541516">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541521">&#34;Body&nbsp;here\n&#34;</span><span class="op" id="7541534">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7541537">}</span><span class="op" id="7541538">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7541542">//&nbsp;Unchunked&nbsp;HTTP/1.1&nbsp;response&nbsp;without&nbsp;Content-Length&nbsp;or</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7541600">//&nbsp;Connection&nbsp;headers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7541624">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541628">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7541650">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541655">&#34;\r\n&#34;</span>&nbsp;<span class="op" id="7541662">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541667">&#34;Body&nbsp;here\n&#34;</span><span class="op" id="7541680">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541685"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7541693">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541698"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7541704">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541713">&#34;200&nbsp;OK&#34;</span><span class="op" id="7541721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541726"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7541736">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7541741">200</span><span class="op" id="7541744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541749"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7541754">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541764">&#34;HTTP/1.1&#34;</span><span class="op" id="7541774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541779"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7541789">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7541794">1</span><span class="op" id="7541795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541800"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7541810">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7541815">1</span><span class="op" id="7541816">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541821"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7541827">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541836"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7541842">{</span><span class="op" id="7541843">}</span><span class="op" id="7541844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541849"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7541856">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541864"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7541872">(</span><span class="string" id="7541873">&#34;GET&#34;</span><span class="op" id="7541878">)</span><span class="op" id="7541879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541884"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7541889">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7541899">true</span><span class="op" id="7541903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7541908"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7541921">:</span>&nbsp;<span class="op" id="7541923">-</span><span class="num" id="7541924">1</span><span class="op" id="7541925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7541929">}</span><span class="op" id="7541930">,</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7541935">&#34;Body&nbsp;here\n&#34;</span><span class="op" id="7541948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7541951">}</span><span class="op" id="7541952">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7541956">//&nbsp;Unchunked&nbsp;HTTP/1.1&nbsp;204&nbsp;response&nbsp;without&nbsp;Content-Length.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7542016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542020">&#34;HTTP/1.1&nbsp;204&nbsp;No&nbsp;Content\r\n&#34;</span>&nbsp;<span class="op" id="7542050">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542055">&#34;\r\n&#34;</span>&nbsp;<span class="op" id="7542062">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542067">&#34;Body&nbsp;should&nbsp;not&nbsp;be&nbsp;read!\n&#34;</span><span class="op" id="7542095">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542100"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7542108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542113"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7542119">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542128">&#34;204&nbsp;No&nbsp;Content&#34;</span><span class="op" id="7542144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542149"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7542159">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7542164">204</span><span class="op" id="7542167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542172"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7542177">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542187">&#34;HTTP/1.1&#34;</span><span class="op" id="7542197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542202"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7542212">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7542217">1</span><span class="op" id="7542218">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542223"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7542233">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7542238">1</span><span class="op" id="7542239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542244"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7542250">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542259"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7542265">{</span><span class="op" id="7542266">}</span><span class="op" id="7542267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542272"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7542279">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542287"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7542295">(</span><span class="string" id="7542296">&#34;GET&#34;</span><span class="op" id="7542301">)</span><span class="op" id="7542302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542307"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7542312">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7542322">false</span><span class="op" id="7542327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542332"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7542345">:</span>&nbsp;<span class="num" id="7542347">0</span><span class="op" id="7542348">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7542352">}</span><span class="op" id="7542353">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542358">&#34;&#34;</span><span class="op" id="7542360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7542363">}</span><span class="op" id="7542364">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7542368">//&nbsp;Unchunked&nbsp;response&nbsp;with&nbsp;Content-Length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7542412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542416">&#34;HTTP/1.0&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7542438">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542443">&#34;Content-Length:&nbsp;10\r\n&#34;</span>&nbsp;<span class="op" id="7542468">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542473">&#34;Connection:&nbsp;close\r\n&#34;</span>&nbsp;<span class="op" id="7542497">+</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542502">&#34;\r\n&#34;</span>&nbsp;<span class="op" id="7542509">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542514">&#34;Body&nbsp;here\n&#34;</span><span class="op" id="7542527">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542532"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7542540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542545"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7542551">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542557">&#34;200&nbsp;OK&#34;</span><span class="op" id="7542565">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542570"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7542580">:</span>&nbsp;<span class="num" id="7542582">200</span><span class="op" id="7542585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542590"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7542595">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542602">&#34;HTTP/1.0&#34;</span><span class="op" id="7542612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542617"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7542627">:</span>&nbsp;<span class="num" id="7542629">1</span><span class="op" id="7542630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542635"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7542645">:</span>&nbsp;<span class="num" id="7542647">0</span><span class="op" id="7542648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542653"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7542660">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542665"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7542673">(</span><span class="string" id="7542674">&#34;GET&#34;</span><span class="op" id="7542679">)</span><span class="op" id="7542680">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542685"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7542691">:</span>&nbsp;<span class="ident" id="7542693"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7542699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542705">&#34;Connection&#34;</span><span class="op" id="7542717">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7542723">{</span><span class="string" id="7542724">&#34;close&#34;</span><span class="op" id="7542731">}</span><span class="op" id="7542732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542738">&#34;Content-Length&#34;</span><span class="op" id="7542754">:</span>&nbsp;<span class="op" id="7542756">{</span><span class="string" id="7542757">&#34;10&#34;</span><span class="op" id="7542761">}</span><span class="op" id="7542762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7542767">}</span><span class="op" id="7542768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542773"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7542778">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7542788">true</span><span class="op" id="7542792">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7542797"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7542810">:</span>&nbsp;<span class="num" id="7542812">10</span><span class="op" id="7542814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7542818">}</span><span class="op" id="7542819">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542824">&#34;Body&nbsp;here\n&#34;</span><span class="op" id="7542837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7542840">}</span><span class="op" id="7542841">,</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7542845">//&nbsp;Chunked&nbsp;response&nbsp;without&nbsp;Content-Length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7542890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542894">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7542916">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542921">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span>&nbsp;<span class="op" id="7542954">+</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542959">&#34;\r\n&#34;</span>&nbsp;<span class="op" id="7542966">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542971">&#34;0a\r\n&#34;</span>&nbsp;<span class="op" id="7542980">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7542985">&#34;Body&nbsp;here\n\r\n&#34;</span>&nbsp;<span class="op" id="7543003">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543008">&#34;09\r\n&#34;</span>&nbsp;<span class="op" id="7543017">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543022">&#34;continued\r\n&#34;</span>&nbsp;<span class="op" id="7543038">+</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543043">&#34;0\r\n&#34;</span>&nbsp;<span class="op" id="7543051">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543056">&#34;\r\n&#34;</span><span class="op" id="7543062">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543067"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7543075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543080"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7543086">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543098">&#34;200&nbsp;OK&#34;</span><span class="op" id="7543106">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543111"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7543121">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7543129">200</span><span class="op" id="7543132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543137"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7543142">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543155">&#34;HTTP/1.1&#34;</span><span class="op" id="7543165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543170"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7543180">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7543188">1</span><span class="op" id="7543189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543194"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7543204">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7543212">1</span><span class="op" id="7543213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543218"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7543225">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543236"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7543244">(</span><span class="string" id="7543245">&#34;GET&#34;</span><span class="op" id="7543250">)</span><span class="op" id="7543251">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543256"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7543262">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543274"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7543280">{</span><span class="op" id="7543281">}</span><span class="op" id="7543282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543287"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7543292">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7543305">false</span><span class="op" id="7543310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543315"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7543328">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7543333">-</span><span class="num" id="7543334">1</span><span class="op" id="7543335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543340"><a href="/gostd/net/http/response.go.html#4162908">TransferEncoding</a></span><span class="op" id="7543356">:</span>&nbsp;<span class="op" id="7543358">[</span><span class="op" id="7543359">]</span><span class="builtintype" id="7543360">string</span><span class="op" id="7543366">{</span><span class="string" id="7543367">&#34;chunked&#34;</span><span class="op" id="7543376">}</span><span class="op" id="7543377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7543381">}</span><span class="op" id="7543382">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543387">&#34;Body&nbsp;here\ncontinued&#34;</span><span class="op" id="7543409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7543412">}</span><span class="op" id="7543413">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7543417">//&nbsp;Chunked&nbsp;response&nbsp;with&nbsp;Content-Length.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7543459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543463">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7543485">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543490">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span>&nbsp;<span class="op" id="7543523">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543528">&#34;Content-Length:&nbsp;10\r\n&#34;</span>&nbsp;<span class="op" id="7543553">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543558">&#34;\r\n&#34;</span>&nbsp;<span class="op" id="7543565">+</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543570">&#34;0a\r\n&#34;</span>&nbsp;<span class="op" id="7543579">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543584">&#34;Body&nbsp;here\n\r\n&#34;</span>&nbsp;<span class="op" id="7543602">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543607">&#34;0\r\n&#34;</span>&nbsp;<span class="op" id="7543615">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543620">&#34;\r\n&#34;</span><span class="op" id="7543626">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543631"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7543639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543644"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7543650">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543662">&#34;200&nbsp;OK&#34;</span><span class="op" id="7543670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543675"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7543685">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7543693">200</span><span class="op" id="7543696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543701"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7543706">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543719">&#34;HTTP/1.1&#34;</span><span class="op" id="7543729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543734"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7543744">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7543752">1</span><span class="op" id="7543753">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543758"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7543768">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7543776">1</span><span class="op" id="7543777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543782"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7543789">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543800"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7543808">(</span><span class="string" id="7543809">&#34;GET&#34;</span><span class="op" id="7543814">)</span><span class="op" id="7543815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543820"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7543826">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543838"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7543844">{</span><span class="op" id="7543845">}</span><span class="op" id="7543846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543851"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7543856">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7543869">false</span><span class="op" id="7543874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543879"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7543892">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7543897">-</span><span class="num" id="7543898">1</span><span class="op" id="7543899">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7543904"><a href="/gostd/net/http/response.go.html#4162908">TransferEncoding</a></span><span class="op" id="7543920">:</span>&nbsp;<span class="op" id="7543922">[</span><span class="op" id="7543923">]</span><span class="builtintype" id="7543924">string</span><span class="op" id="7543930">{</span><span class="string" id="7543931">&#34;chunked&#34;</span><span class="op" id="7543940">}</span><span class="op" id="7543941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7543945">}</span><span class="op" id="7543946">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7543951">&#34;Body&nbsp;here\n&#34;</span><span class="op" id="7543964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7543967">}</span><span class="op" id="7543968">,</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7543972">//&nbsp;Chunked&nbsp;response&nbsp;in&nbsp;response&nbsp;to&nbsp;a&nbsp;HEAD&nbsp;request</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7544023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544027">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7544049">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544054">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span>&nbsp;<span class="op" id="7544087">+</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544092">&#34;\r\n&#34;</span><span class="op" id="7544098">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544103"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7544111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544116"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7544122">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544134">&#34;200&nbsp;OK&#34;</span><span class="op" id="7544142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544147"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7544157">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7544165">200</span><span class="op" id="7544168">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544173"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7544178">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544191">&#34;HTTP/1.1&#34;</span><span class="op" id="7544201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544206"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7544216">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7544224">1</span><span class="op" id="7544225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544230"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7544240">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7544248">1</span><span class="op" id="7544249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544254"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7544261">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544272"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7544280">(</span><span class="string" id="7544281">&#34;HEAD&#34;</span><span class="op" id="7544287">)</span><span class="op" id="7544288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544293"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7544299">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544311"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7544317">{</span><span class="op" id="7544318">}</span><span class="op" id="7544319">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544324"><a href="/gostd/net/http/response.go.html#4162908">TransferEncoding</a></span><span class="op" id="7544340">:</span>&nbsp;<span class="op" id="7544342">[</span><span class="op" id="7544343">]</span><span class="builtintype" id="7544344">string</span><span class="op" id="7544350">{</span><span class="string" id="7544351">&#34;chunked&#34;</span><span class="op" id="7544360">}</span><span class="op" id="7544361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544366"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7544371">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7544384">false</span><span class="op" id="7544389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544394"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7544407">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7544412">-</span><span class="num" id="7544413">1</span><span class="op" id="7544414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7544418">}</span><span class="op" id="7544419">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544424">&#34;&#34;</span><span class="op" id="7544426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7544429">}</span><span class="op" id="7544430">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7544434">//&nbsp;Content-Length&nbsp;in&nbsp;response&nbsp;to&nbsp;a&nbsp;HEAD&nbsp;request</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7544483">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544487">&#34;HTTP/1.0&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7544509">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544514">&#34;Content-Length:&nbsp;256\r\n&#34;</span>&nbsp;<span class="op" id="7544540">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544545">&#34;\r\n&#34;</span><span class="op" id="7544551">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544556"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7544564">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544569"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7544575">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544587">&#34;200&nbsp;OK&#34;</span><span class="op" id="7544595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544600"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7544610">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7544618">200</span><span class="op" id="7544621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544626"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7544631">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544644">&#34;HTTP/1.0&#34;</span><span class="op" id="7544654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544659"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7544669">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7544677">1</span><span class="op" id="7544678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544683"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7544693">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7544701">0</span><span class="op" id="7544702">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544707"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7544714">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544725"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7544733">(</span><span class="string" id="7544734">&#34;HEAD&#34;</span><span class="op" id="7544740">)</span><span class="op" id="7544741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544746"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7544752">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544764"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7544770">{</span><span class="string" id="7544771">&#34;Content-Length&#34;</span><span class="op" id="7544787">:</span>&nbsp;<span class="op" id="7544789">{</span><span class="string" id="7544790">&#34;256&#34;</span><span class="op" id="7544795">}</span><span class="op" id="7544796">}</span><span class="op" id="7544797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544802"><a href="/gostd/net/http/response.go.html#4162908">TransferEncoding</a></span><span class="op" id="7544818">:</span>&nbsp;<span class="builtintype" id="7544820">nil</span><span class="op" id="7544823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544828"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7544833">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7544846">true</span><span class="op" id="7544850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7544855"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7544868">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7544873">256</span><span class="op" id="7544876">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7544880">}</span><span class="op" id="7544881">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544886">&#34;&#34;</span><span class="op" id="7544888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7544891">}</span><span class="op" id="7544892">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7544896">//&nbsp;Content-Length&nbsp;in&nbsp;response&nbsp;to&nbsp;a&nbsp;HEAD&nbsp;request&nbsp;with&nbsp;HTTP/1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7544959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544963">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7544985">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7544990">&#34;Content-Length:&nbsp;256\r\n&#34;</span>&nbsp;<span class="op" id="7545016">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545021">&#34;\r\n&#34;</span><span class="op" id="7545027">,</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545032"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7545040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545045"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7545051">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545063">&#34;200&nbsp;OK&#34;</span><span class="op" id="7545071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545076"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7545086">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7545094">200</span><span class="op" id="7545097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545102"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7545107">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545120">&#34;HTTP/1.1&#34;</span><span class="op" id="7545130">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545135"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7545145">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7545153">1</span><span class="op" id="7545154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545159"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7545169">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7545177">1</span><span class="op" id="7545178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545183"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7545190">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545201"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7545209">(</span><span class="string" id="7545210">&#34;HEAD&#34;</span><span class="op" id="7545216">)</span><span class="op" id="7545217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545222"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7545228">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545240"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7545246">{</span><span class="string" id="7545247">&#34;Content-Length&#34;</span><span class="op" id="7545263">:</span>&nbsp;<span class="op" id="7545265">{</span><span class="string" id="7545266">&#34;256&#34;</span><span class="op" id="7545271">}</span><span class="op" id="7545272">}</span><span class="op" id="7545273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545278"><a href="/gostd/net/http/response.go.html#4162908">TransferEncoding</a></span><span class="op" id="7545294">:</span>&nbsp;<span class="builtintype" id="7545296">nil</span><span class="op" id="7545299">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545304"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7545309">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7545322">false</span><span class="op" id="7545327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545332"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7545345">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7545350">256</span><span class="op" id="7545353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7545357">}</span><span class="op" id="7545358">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545363">&#34;&#34;</span><span class="op" id="7545365">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7545368">}</span><span class="op" id="7545369">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7545373">//&nbsp;No&nbsp;Content-Length&nbsp;or&nbsp;Chunked&nbsp;in&nbsp;response&nbsp;to&nbsp;a&nbsp;HEAD&nbsp;request</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7545436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545440">&#34;HTTP/1.0&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7545462">+</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545467">&#34;\r\n&#34;</span><span class="op" id="7545473">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545478"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7545486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545491"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7545497">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545509">&#34;200&nbsp;OK&#34;</span><span class="op" id="7545517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545522"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7545532">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7545540">200</span><span class="op" id="7545543">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545548"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7545553">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545566">&#34;HTTP/1.0&#34;</span><span class="op" id="7545576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545581"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7545591">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7545599">1</span><span class="op" id="7545600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545605"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7545615">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7545623">0</span><span class="op" id="7545624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545629"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7545636">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545647"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7545655">(</span><span class="string" id="7545656">&#34;HEAD&#34;</span><span class="op" id="7545662">)</span><span class="op" id="7545663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545668"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7545674">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545686"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7545692">{</span><span class="op" id="7545693">}</span><span class="op" id="7545694">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545699"><a href="/gostd/net/http/response.go.html#4162908">TransferEncoding</a></span><span class="op" id="7545715">:</span>&nbsp;<span class="builtintype" id="7545717">nil</span><span class="op" id="7545720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545725"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7545730">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7545743">true</span><span class="op" id="7545747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545752"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7545765">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7545770">-</span><span class="num" id="7545771">1</span><span class="op" id="7545772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7545776">}</span><span class="op" id="7545777">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545782">&#34;&#34;</span><span class="op" id="7545784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7545787">}</span><span class="op" id="7545788">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7545792">//&nbsp;explicit&nbsp;Content-Length&nbsp;of&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7545826">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545830">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7545852">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545857">&#34;Content-Length:&nbsp;0\r\n&#34;</span>&nbsp;<span class="op" id="7545881">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545886">&#34;\r\n&#34;</span><span class="op" id="7545892">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545897"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7545905">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545910"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7545916">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545922">&#34;200&nbsp;OK&#34;</span><span class="op" id="7545930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545935"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7545945">:</span>&nbsp;<span class="num" id="7545947">200</span><span class="op" id="7545950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545955"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7545960">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7545967">&#34;HTTP/1.1&#34;</span><span class="op" id="7545977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7545982"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7545992">:</span>&nbsp;<span class="num" id="7545994">1</span><span class="op" id="7545995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546000"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7546010">:</span>&nbsp;<span class="num" id="7546012">1</span><span class="op" id="7546013">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546018"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7546025">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546030"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7546038">(</span><span class="string" id="7546039">&#34;GET&#34;</span><span class="op" id="7546044">)</span><span class="op" id="7546045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546050"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7546056">:</span>&nbsp;<span class="ident" id="7546058"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7546064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546070">&#34;Content-Length&#34;</span><span class="op" id="7546086">:</span>&nbsp;<span class="op" id="7546088">{</span><span class="string" id="7546089">&#34;0&#34;</span><span class="op" id="7546092">}</span><span class="op" id="7546093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7546098">}</span><span class="op" id="7546099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546104"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7546109">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7546119">false</span><span class="op" id="7546124">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546129"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7546142">:</span>&nbsp;<span class="num" id="7546144">0</span><span class="op" id="7546145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7546149">}</span><span class="op" id="7546150">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546155">&#34;&#34;</span><span class="op" id="7546157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7546160">}</span><span class="op" id="7546161">,</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7546165">//&nbsp;Status&nbsp;line&nbsp;without&nbsp;a&nbsp;Reason-Phrase,&nbsp;but&nbsp;trailing&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7546226">//&nbsp;(permitted&nbsp;by&nbsp;RFC&nbsp;2616)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7546254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546258">&#34;HTTP/1.0&nbsp;303&nbsp;\r\n\r\n&#34;</span><span class="op" id="7546281">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546285"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7546293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546298"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7546304">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546313">&#34;303&nbsp;&#34;</span><span class="op" id="7546319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546324"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7546334">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7546339">303</span><span class="op" id="7546342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546347"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7546352">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546362">&#34;HTTP/1.0&#34;</span><span class="op" id="7546372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546377"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7546387">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7546392">1</span><span class="op" id="7546393">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546398"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7546408">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7546413">0</span><span class="op" id="7546414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546419"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7546426">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546434"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7546442">(</span><span class="string" id="7546443">&#34;GET&#34;</span><span class="op" id="7546448">)</span><span class="op" id="7546449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546454"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7546460">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546469"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7546475">{</span><span class="op" id="7546476">}</span><span class="op" id="7546477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546482"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7546487">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7546497">true</span><span class="op" id="7546501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546506"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7546519">:</span>&nbsp;<span class="op" id="7546521">-</span><span class="num" id="7546522">1</span><span class="op" id="7546523">,</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7546527">}</span><span class="op" id="7546528">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546533">&#34;&#34;</span><span class="op" id="7546535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7546538">}</span><span class="op" id="7546539">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7546543">//&nbsp;Status&nbsp;line&nbsp;without&nbsp;a&nbsp;Reason-Phrase,&nbsp;and&nbsp;no&nbsp;trailing&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7546607">//&nbsp;(not&nbsp;permitted&nbsp;by&nbsp;RFC&nbsp;2616,&nbsp;but&nbsp;we&#39;ll&nbsp;accept&nbsp;it&nbsp;anyway)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7546667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546671">&#34;HTTP/1.0&nbsp;303\r\n\r\n&#34;</span><span class="op" id="7546693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546697"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7546705">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546710"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7546716">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546725">&#34;303&nbsp;&#34;</span><span class="op" id="7546731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546736"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7546746">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7546751">303</span><span class="op" id="7546754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546759"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7546764">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546774">&#34;HTTP/1.0&#34;</span><span class="op" id="7546784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546789"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7546799">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7546804">1</span><span class="op" id="7546805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546810"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7546820">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7546825">0</span><span class="op" id="7546826">,</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546831"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7546838">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546846"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7546854">(</span><span class="string" id="7546855">&#34;GET&#34;</span><span class="op" id="7546860">)</span><span class="op" id="7546861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546866"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7546872">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546881"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7546887">{</span><span class="op" id="7546888">}</span><span class="op" id="7546889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546894"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7546899">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7546909">true</span><span class="op" id="7546913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7546918"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7546931">:</span>&nbsp;<span class="op" id="7546933">-</span><span class="num" id="7546934">1</span><span class="op" id="7546935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7546939">}</span><span class="op" id="7546940">,</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7546945">&#34;&#34;</span><span class="op" id="7546947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7546950">}</span><span class="op" id="7546951">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7546955">//&nbsp;golang.org/issue/4767:&nbsp;don&#39;t&nbsp;special-case&nbsp;multipart/byteranges&nbsp;responses</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7547032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547036">`HTTP/1.1&nbsp;206&nbsp;Partial&nbsp;Content<br>
<span class="lineno"></span>Connection:&nbsp;close<br>
<span class="lineno"></span>Content-Type:&nbsp;multipart/byteranges;&nbsp;boundary=18a75608c8f47cef<br>
<span class="lineno"></span><br>
<span class="lineno">340</span>some&nbsp;body`</span><span class="op" id="7547157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547161"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7547169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547174"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7547180">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547186">&#34;206&nbsp;Partial&nbsp;Content&#34;</span><span class="op" id="7547207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547212"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7547222">:</span>&nbsp;<span class="num" id="7547224">206</span><span class="op" id="7547227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547232"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7547237">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547244">&#34;HTTP/1.1&#34;</span><span class="op" id="7547254">,</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547259"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7547269">:</span>&nbsp;<span class="num" id="7547271">1</span><span class="op" id="7547272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547277"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7547287">:</span>&nbsp;<span class="num" id="7547289">1</span><span class="op" id="7547290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547295"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7547302">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547307"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7547315">(</span><span class="string" id="7547316">&#34;GET&#34;</span><span class="op" id="7547321">)</span><span class="op" id="7547322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547327"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7547333">:</span>&nbsp;<span class="ident" id="7547335"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7547341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547347">&#34;Content-Type&#34;</span><span class="op" id="7547361">:</span>&nbsp;<span class="op" id="7547363">[</span><span class="op" id="7547364">]</span><span class="builtintype" id="7547365">string</span><span class="op" id="7547371">{</span><span class="string" id="7547372">&#34;multipart/byteranges;&nbsp;boundary=18a75608c8f47cef&#34;</span><span class="op" id="7547421">}</span><span class="op" id="7547422">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7547427">}</span><span class="op" id="7547428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547433"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7547438">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7547448">true</span><span class="op" id="7547452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547457"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7547470">:</span>&nbsp;<span class="op" id="7547472">-</span><span class="num" id="7547473">1</span><span class="op" id="7547474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7547478">}</span><span class="op" id="7547479">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547484">&#34;some&nbsp;body&#34;</span><span class="op" id="7547495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7547498">}</span><span class="op" id="7547499">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7547503">//&nbsp;Unchunked&nbsp;response&nbsp;without&nbsp;Content-Length,&nbsp;Request&nbsp;is&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7547565">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547569">&#34;HTTP/1.0&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7547591">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547596">&#34;Connection:&nbsp;close\r\n&#34;</span>&nbsp;<span class="op" id="7547620">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547625">&#34;\r\n&#34;</span>&nbsp;<span class="op" id="7547632">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547637">&#34;Body&nbsp;here\n&#34;</span><span class="op" id="7547650">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547655"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7547663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547668"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7547674">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547680">&#34;200&nbsp;OK&#34;</span><span class="op" id="7547688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547693"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7547703">:</span>&nbsp;<span class="num" id="7547705">200</span><span class="op" id="7547708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547713"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7547718">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547725">&#34;HTTP/1.0&#34;</span><span class="op" id="7547735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547740"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7547750">:</span>&nbsp;<span class="num" id="7547752">1</span><span class="op" id="7547753">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547758"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7547768">:</span>&nbsp;<span class="num" id="7547770">0</span><span class="op" id="7547771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547776"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7547782">:</span>&nbsp;<span class="ident" id="7547784"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7547790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547796">&#34;Connection&#34;</span><span class="op" id="7547808">:</span>&nbsp;<span class="op" id="7547810">{</span><span class="string" id="7547811">&#34;close&#34;</span><span class="op" id="7547818">}</span><span class="op" id="7547819">,</span>&nbsp;<span class="comment" id="7547821">//&nbsp;TODO(rsc):&nbsp;Delete?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7547846">}</span><span class="op" id="7547847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547852"><a href="/gostd/net/http/response.go.html#4163140">Close</a></span><span class="op" id="7547857">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7547867">true</span><span class="op" id="7547871">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7547876"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7547889">:</span>&nbsp;<span class="op" id="7547891">-</span><span class="num" id="7547892">1</span><span class="op" id="7547893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7547897">}</span><span class="op" id="7547898">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547903">&#34;Body&nbsp;here\n&#34;</span><span class="op" id="7547916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7547919">}</span><span class="op" id="7547920">,</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7547924">//&nbsp;206&nbsp;Partial&nbsp;Content.&nbsp;golang.org/issue/8923</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7547971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7547975">&#34;HTTP/1.1&nbsp;206&nbsp;Partial&nbsp;Content\r\n&#34;</span>&nbsp;<span class="op" id="7548010">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548015">&#34;Content-Type:&nbsp;text/plain;&nbsp;charset=utf-8\r\n&#34;</span>&nbsp;<span class="op" id="7548061">+</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548066">&#34;Accept-Ranges:&nbsp;bytes\r\n&#34;</span>&nbsp;<span class="op" id="7548093">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548098">&#34;Content-Range:&nbsp;bytes&nbsp;0-5/1862\r\n&#34;</span>&nbsp;<span class="op" id="7548134">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548139">&#34;Content-Length:&nbsp;6\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7548167">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548172">&#34;foobar&#34;</span><span class="op" id="7548180">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548185"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7548193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548198"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7548204">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548210">&#34;206&nbsp;Partial&nbsp;Content&#34;</span><span class="op" id="7548231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548236"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7548246">:</span>&nbsp;<span class="num" id="7548248">206</span><span class="op" id="7548251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548256"><a href="/gostd/net/http/response.go.html#4161595">Proto</a></span><span class="op" id="7548261">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548268">&#34;HTTP/1.1&#34;</span><span class="op" id="7548278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548283"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7548293">:</span>&nbsp;<span class="num" id="7548295">1</span><span class="op" id="7548296">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548301"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7548311">:</span>&nbsp;<span class="num" id="7548313">1</span><span class="op" id="7548314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548319"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7548326">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548331"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7548339">(</span><span class="string" id="7548340">&#34;GET&#34;</span><span class="op" id="7548345">)</span><span class="op" id="7548346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548351"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7548357">:</span>&nbsp;<span class="ident" id="7548359"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7548365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548371">&#34;Accept-Ranges&#34;</span><span class="op" id="7548386">:</span>&nbsp;&nbsp;<span class="op" id="7548389">[</span><span class="op" id="7548390">]</span><span class="builtintype" id="7548391">string</span><span class="op" id="7548397">{</span><span class="string" id="7548398">&#34;bytes&#34;</span><span class="op" id="7548405">}</span><span class="op" id="7548406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548412">&#34;Content-Length&#34;</span><span class="op" id="7548428">:</span>&nbsp;<span class="op" id="7548430">[</span><span class="op" id="7548431">]</span><span class="builtintype" id="7548432">string</span><span class="op" id="7548438">{</span><span class="string" id="7548439">&#34;6&#34;</span><span class="op" id="7548442">}</span><span class="op" id="7548443">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548449">&#34;Content-Type&#34;</span><span class="op" id="7548463">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7548467">[</span><span class="op" id="7548468">]</span><span class="builtintype" id="7548469">string</span><span class="op" id="7548475">{</span><span class="string" id="7548476">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><span class="op" id="7548503">}</span><span class="op" id="7548504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548510">&#34;Content-Range&#34;</span><span class="op" id="7548525">:</span>&nbsp;&nbsp;<span class="op" id="7548528">[</span><span class="op" id="7548529">]</span><span class="builtintype" id="7548530">string</span><span class="op" id="7548536">{</span><span class="string" id="7548537">&#34;bytes&nbsp;0-5/1862&#34;</span><span class="op" id="7548553">}</span><span class="op" id="7548554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7548559">}</span><span class="op" id="7548560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548565"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7548578">:</span>&nbsp;<span class="num" id="7548580">6</span><span class="op" id="7548581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7548585">}</span><span class="op" id="7548586">,</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7548591">&#34;foobar&#34;</span><span class="op" id="7548599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7548602">}</span><span class="op" id="7548603">,</span><br>
<span class="lineno"></span><span class="op" id="7548605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="7548608">func</span>&nbsp;<span class="ident" id="7548613">TestReadResponse</span><span class="op" id="7548629">(</span><span class="ident" id="7548630">t</span>&nbsp;<span class="op" id="7548632">*</span><span class="ident" id="7548633"><a href="/gostd/net/http/response_test.go.html#7540792">testing</a></span><span class="op" id="7548640">.</span><span class="ident" id="7548641"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7548642">)</span>&nbsp;<span class="op" id="7548644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7548647">for</span>&nbsp;<span class="ident" id="7548651">i</span><span class="op" id="7548652">,</span>&nbsp;<span class="ident" id="7548654">tt</span>&nbsp;<span class="op" id="7548657">:=</span>&nbsp;<span class="keyword" id="7548660">range</span>&nbsp;<span class="ident" id="7548666"><a href="/gostd/net/http/response_test.go.html#7541079">respTests</a></span>&nbsp;<span class="op" id="7548676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548680">resp</span><span class="op" id="7548684">,</span>&nbsp;<span class="ident" id="7548686">err</span>&nbsp;<span class="op" id="7548690">:=</span>&nbsp;<span class="ident" id="7548693"><a href="/gostd/net/http/response.go.html#4164712">ReadResponse</a></span><span class="op" id="7548705">(</span><span class="ident" id="7548706"><a href="/gostd/net/http/response_test.go.html#7540652">bufio</a></span><span class="op" id="7548711">.</span><span class="ident" id="7548712"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7548721">(</span><span class="ident" id="7548722"><a href="/gostd/net/http/response_test.go.html#7540781">strings</a></span><span class="op" id="7548729">.</span><span class="ident" id="7548730"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7548739">(</span><span class="ident" id="7548740"><a href="/gostd/net/http/response_test.go.html#7548654">tt</a></span><span class="op" id="7548742">.</span><span class="ident" id="7548743"><a href="/gostd/net/http/response_test.go.html#7540829">Raw</a></span><span class="op" id="7548746">)</span><span class="op" id="7548747">)</span><span class="op" id="7548748">,</span>&nbsp;<span class="ident" id="7548750"><a href="/gostd/net/http/response_test.go.html#7548654">tt</a></span><span class="op" id="7548752">.</span><span class="ident" id="7548753"><a href="/gostd/net/http/response_test.go.html#7540842">Resp</a></span><span class="op" id="7548757">.</span><span class="ident" id="7548758"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7548765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7548769">if</span>&nbsp;<span class="ident" id="7548772"><a href="/gostd/net/http/response_test.go.html#7548686">err</a></span>&nbsp;<span class="op" id="7548776">!=</span>&nbsp;<span class="builtintype" id="7548779">nil</span>&nbsp;<span class="op" id="7548783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548788"><a href="/gostd/net/http/response_test.go.html#7548630">t</a></span><span class="op" id="7548789">.</span><span class="ident" id="7548790"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7548796">(</span><span class="string" id="7548797">&#34;#%d:&nbsp;%v&#34;</span><span class="op" id="7548806">,</span>&nbsp;<span class="ident" id="7548808"><a href="/gostd/net/http/response_test.go.html#7548651">i</a></span><span class="op" id="7548809">,</span>&nbsp;<span class="ident" id="7548811"><a href="/gostd/net/http/response_test.go.html#7548686">err</a></span><span class="op" id="7548814">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7548819">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7548830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548834">rbody</span>&nbsp;<span class="op" id="7548840">:=</span>&nbsp;<span class="ident" id="7548843"><a href="/gostd/net/http/response_test.go.html#7548680">resp</a></span><span class="op" id="7548847">.</span><span class="ident" id="7548848"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548855"><a href="/gostd/net/http/response_test.go.html#7548680">resp</a></span><span class="op" id="7548859">.</span><span class="ident" id="7548860"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span>&nbsp;<span class="op" id="7548865">=</span>&nbsp;<span class="builtintype" id="7548867">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548873"><a href="/gostd/net/http/response_test.go.html#7552373">diff</a></span><span class="op" id="7548877">(</span><span class="ident" id="7548878"><a href="/gostd/net/http/response_test.go.html#7548630">t</a></span><span class="op" id="7548879">,</span>&nbsp;<span class="ident" id="7548881"><a href="/gostd/net/http/response_test.go.html#7540702">fmt</a></span><span class="op" id="7548884">.</span><span class="ident" id="7548885"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="7548892">(</span><span class="string" id="7548893">&#34;#%d&nbsp;Response&#34;</span><span class="op" id="7548907">,</span>&nbsp;<span class="ident" id="7548909"><a href="/gostd/net/http/response_test.go.html#7548651">i</a></span><span class="op" id="7548910">)</span><span class="op" id="7548911">,</span>&nbsp;<span class="ident" id="7548913"><a href="/gostd/net/http/response_test.go.html#7548680">resp</a></span><span class="op" id="7548917">,</span>&nbsp;<span class="op" id="7548919">&amp;</span><span class="ident" id="7548920"><a href="/gostd/net/http/response_test.go.html#7548654">tt</a></span><span class="op" id="7548922">.</span><span class="ident" id="7548923"><a href="/gostd/net/http/response_test.go.html#7540842">Resp</a></span><span class="op" id="7548927">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7548931">var</span>&nbsp;<span class="ident" id="7548935">bout</span>&nbsp;<span class="ident" id="7548940"><a href="/gostd/net/http/response_test.go.html#7540661">bytes</a></span><span class="op" id="7548945">.</span><span class="ident" id="7548946"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7548955">if</span>&nbsp;<span class="ident" id="7548958"><a href="/gostd/net/http/response_test.go.html#7548834">rbody</a></span>&nbsp;<span class="op" id="7548964">!=</span>&nbsp;<span class="builtintype" id="7548967">nil</span>&nbsp;<span class="op" id="7548971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7548976">_</span><span class="op" id="7548977">,</span>&nbsp;<span class="ident" id="7548979"><a href="/gostd/net/http/response_test.go.html#7548686">err</a></span>&nbsp;<span class="op" id="7548983">=</span>&nbsp;<span class="ident" id="7548985"><a href="/gostd/net/http/response_test.go.html#7540709">io</a></span><span class="op" id="7548987">.</span><span class="ident" id="7548988"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="7548992">(</span><span class="op" id="7548993">&amp;</span><span class="ident" id="7548994"><a href="/gostd/net/http/response_test.go.html#7548935">bout</a></span><span class="op" id="7548998">,</span>&nbsp;<span class="ident" id="7549000"><a href="/gostd/net/http/response_test.go.html#7548834">rbody</a></span><span class="op" id="7549005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7549010">if</span>&nbsp;<span class="ident" id="7549013"><a href="/gostd/net/http/response_test.go.html#7548686">err</a></span>&nbsp;<span class="op" id="7549017">!=</span>&nbsp;<span class="builtintype" id="7549020">nil</span>&nbsp;<span class="op" id="7549024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549030"><a href="/gostd/net/http/response_test.go.html#7548630">t</a></span><span class="op" id="7549031">.</span><span class="ident" id="7549032"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7549038">(</span><span class="string" id="7549039">&#34;#%d:&nbsp;%v&#34;</span><span class="op" id="7549048">,</span>&nbsp;<span class="ident" id="7549050"><a href="/gostd/net/http/response_test.go.html#7548651">i</a></span><span class="op" id="7549051">,</span>&nbsp;<span class="ident" id="7549053"><a href="/gostd/net/http/response_test.go.html#7548686">err</a></span><span class="op" id="7549056">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7549062">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549079"><a href="/gostd/net/http/response_test.go.html#7548834">rbody</a></span><span class="op" id="7549084">.</span><span class="ident" id="7549085"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="7549090">(</span><span class="op" id="7549091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549099">body</span>&nbsp;<span class="op" id="7549104">:=</span>&nbsp;<span class="ident" id="7549107"><a href="/gostd/net/http/response_test.go.html#7548935">bout</a></span><span class="op" id="7549111">.</span><span class="ident" id="7549112"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7549118">(</span><span class="op" id="7549119">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7549123">if</span>&nbsp;<span class="ident" id="7549126"><a href="/gostd/net/http/response_test.go.html#7549099">body</a></span>&nbsp;<span class="op" id="7549131">!=</span>&nbsp;<span class="ident" id="7549134"><a href="/gostd/net/http/response_test.go.html#7548654">tt</a></span><span class="op" id="7549136">.</span><span class="ident" id="7549137"><a href="/gostd/net/http/response_test.go.html#7540857">Body</a></span>&nbsp;<span class="op" id="7549142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549147"><a href="/gostd/net/http/response_test.go.html#7548630">t</a></span><span class="op" id="7549148">.</span><span class="ident" id="7549149"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7549155">(</span><span class="string" id="7549156">&#34;#%d:&nbsp;Body&nbsp;=&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7549180">,</span>&nbsp;<span class="ident" id="7549182"><a href="/gostd/net/http/response_test.go.html#7548651">i</a></span><span class="op" id="7549183">,</span>&nbsp;<span class="ident" id="7549185"><a href="/gostd/net/http/response_test.go.html#7549099">body</a></span><span class="op" id="7549189">,</span>&nbsp;<span class="ident" id="7549191"><a href="/gostd/net/http/response_test.go.html#7548654">tt</a></span><span class="op" id="7549193">.</span><span class="ident" id="7549194"><a href="/gostd/net/http/response_test.go.html#7540857">Body</a></span><span class="op" id="7549198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549205">}</span><br>
<span class="lineno"></span><span class="op" id="7549207">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="keyword" id="7549210">func</span>&nbsp;<span class="ident" id="7549215">TestWriteResponse</span><span class="op" id="7549232">(</span><span class="ident" id="7549233">t</span>&nbsp;<span class="op" id="7549235">*</span><span class="ident" id="7549236"><a href="/gostd/net/http/response_test.go.html#7540792">testing</a></span><span class="op" id="7549243">.</span><span class="ident" id="7549244"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7549245">)</span>&nbsp;<span class="op" id="7549247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7549250">for</span>&nbsp;<span class="ident" id="7549254">i</span><span class="op" id="7549255">,</span>&nbsp;<span class="ident" id="7549257">tt</span>&nbsp;<span class="op" id="7549260">:=</span>&nbsp;<span class="keyword" id="7549263">range</span>&nbsp;<span class="ident" id="7549269"><a href="/gostd/net/http/response_test.go.html#7541079">respTests</a></span>&nbsp;<span class="op" id="7549279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549283">resp</span><span class="op" id="7549287">,</span>&nbsp;<span class="ident" id="7549289">err</span>&nbsp;<span class="op" id="7549293">:=</span>&nbsp;<span class="ident" id="7549296"><a href="/gostd/net/http/response.go.html#4164712">ReadResponse</a></span><span class="op" id="7549308">(</span><span class="ident" id="7549309"><a href="/gostd/net/http/response_test.go.html#7540652">bufio</a></span><span class="op" id="7549314">.</span><span class="ident" id="7549315"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7549324">(</span><span class="ident" id="7549325"><a href="/gostd/net/http/response_test.go.html#7540781">strings</a></span><span class="op" id="7549332">.</span><span class="ident" id="7549333"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7549342">(</span><span class="ident" id="7549343"><a href="/gostd/net/http/response_test.go.html#7549257">tt</a></span><span class="op" id="7549345">.</span><span class="ident" id="7549346"><a href="/gostd/net/http/response_test.go.html#7540829">Raw</a></span><span class="op" id="7549349">)</span><span class="op" id="7549350">)</span><span class="op" id="7549351">,</span>&nbsp;<span class="ident" id="7549353"><a href="/gostd/net/http/response_test.go.html#7549257">tt</a></span><span class="op" id="7549355">.</span><span class="ident" id="7549356"><a href="/gostd/net/http/response_test.go.html#7540842">Resp</a></span><span class="op" id="7549360">.</span><span class="ident" id="7549361"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7549368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7549372">if</span>&nbsp;<span class="ident" id="7549375"><a href="/gostd/net/http/response_test.go.html#7549289">err</a></span>&nbsp;<span class="op" id="7549379">!=</span>&nbsp;<span class="builtintype" id="7549382">nil</span>&nbsp;<span class="op" id="7549386">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549391"><a href="/gostd/net/http/response_test.go.html#7549233">t</a></span><span class="op" id="7549392">.</span><span class="ident" id="7549393"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7549399">(</span><span class="string" id="7549400">&#34;#%d:&nbsp;%v&#34;</span><span class="op" id="7549409">,</span>&nbsp;<span class="ident" id="7549411"><a href="/gostd/net/http/response_test.go.html#7549254">i</a></span><span class="op" id="7549412">,</span>&nbsp;<span class="ident" id="7549414"><a href="/gostd/net/http/response_test.go.html#7549289">err</a></span><span class="op" id="7549417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7549422">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549433">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549437"><a href="/gostd/net/http/response_test.go.html#7549289">err</a></span>&nbsp;<span class="op" id="7549441">=</span>&nbsp;<span class="ident" id="7549443"><a href="/gostd/net/http/response_test.go.html#7549283">resp</a></span><span class="op" id="7549447">.</span><span class="ident" id="7549448"><a href="/gostd/net/http/response.go.html#4166814">Write</a></span><span class="op" id="7549453">(</span><span class="ident" id="7549454"><a href="/gostd/net/http/response_test.go.html#7540715">ioutil</a></span><span class="op" id="7549460">.</span><span class="ident" id="7549461"><a href="/gostd/io/ioutil/ioutil.go.html#3768458">Discard</a></span><span class="op" id="7549468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7549472">if</span>&nbsp;<span class="ident" id="7549475"><a href="/gostd/net/http/response_test.go.html#7549289">err</a></span>&nbsp;<span class="op" id="7549479">!=</span>&nbsp;<span class="builtintype" id="7549482">nil</span>&nbsp;<span class="op" id="7549486">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549491"><a href="/gostd/net/http/response_test.go.html#7549233">t</a></span><span class="op" id="7549492">.</span><span class="ident" id="7549493"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7549499">(</span><span class="string" id="7549500">&#34;#%d:&nbsp;%v&#34;</span><span class="op" id="7549509">,</span>&nbsp;<span class="ident" id="7549511"><a href="/gostd/net/http/response_test.go.html#7549254">i</a></span><span class="op" id="7549512">,</span>&nbsp;<span class="ident" id="7549514"><a href="/gostd/net/http/response_test.go.html#7549289">err</a></span><span class="op" id="7549517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7549522">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549536">}</span><br>
<span class="lineno"></span><span class="op" id="7549538">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7549541">var</span>&nbsp;<span class="ident" id="7549545">readResponseCloseInMiddleTests</span>&nbsp;<span class="op" id="7549576">=</span>&nbsp;<span class="op" id="7549578">[</span><span class="op" id="7549579">]</span><span class="keyword" id="7549580">struct</span>&nbsp;<span class="op" id="7549587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549590">chunked</span><span class="op" id="7549597">,</span>&nbsp;<span class="ident" id="7549599">compressed</span>&nbsp;<span class="builtintype" id="7549610">bool</span><br>
<span class="lineno"></span><span class="op" id="7549615">}</span><span class="op" id="7549616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549619">{</span><span class="builtintype" id="7549620">false</span><span class="op" id="7549625">,</span>&nbsp;<span class="builtintype" id="7549627">false</span><span class="op" id="7549632">}</span><span class="op" id="7549633">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549636">{</span><span class="builtintype" id="7549637">true</span><span class="op" id="7549641">,</span>&nbsp;<span class="builtintype" id="7549643">false</span><span class="op" id="7549648">}</span><span class="op" id="7549649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549652">{</span><span class="builtintype" id="7549653">true</span><span class="op" id="7549657">,</span>&nbsp;<span class="builtintype" id="7549659">true</span><span class="op" id="7549663">}</span><span class="op" id="7549664">,</span><br>
<span class="lineno"></span><span class="op" id="7549666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7549669">//&nbsp;TestReadResponseCloseInMiddle&nbsp;tests&nbsp;that&nbsp;closing&nbsp;a&nbsp;body&nbsp;after</span><br>
<span class="lineno">460</span><span class="comment" id="7549734">//&nbsp;reading&nbsp;only&nbsp;part&nbsp;of&nbsp;its&nbsp;contents&nbsp;advances&nbsp;the&nbsp;read&nbsp;to&nbsp;the&nbsp;end&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="7549803">//&nbsp;the&nbsp;request,&nbsp;right&nbsp;up&nbsp;until&nbsp;the&nbsp;next&nbsp;request.</span><br>
<span class="lineno"></span><span class="keyword" id="7549852">func</span>&nbsp;<span class="ident" id="7549857">TestReadResponseCloseInMiddle</span><span class="op" id="7549886">(</span><span class="ident" id="7549887">t</span>&nbsp;<span class="op" id="7549889">*</span><span class="ident" id="7549890"><a href="/gostd/net/http/response_test.go.html#7540792">testing</a></span><span class="op" id="7549897">.</span><span class="ident" id="7549898"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7549899">)</span>&nbsp;<span class="op" id="7549901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7549904">for</span>&nbsp;<span class="ident" id="7549908">_</span><span class="op" id="7549909">,</span>&nbsp;<span class="ident" id="7549911">test</span>&nbsp;<span class="op" id="7549916">:=</span>&nbsp;<span class="keyword" id="7549919">range</span>&nbsp;<span class="ident" id="7549925"><a href="/gostd/net/http/response_test.go.html#7549545">readResponseCloseInMiddleTests</a></span>&nbsp;<span class="op" id="7549956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7549960">fatalf</span>&nbsp;<span class="op" id="7549967">:=</span>&nbsp;<span class="keyword" id="7549970">func</span><span class="op" id="7549974">(</span><span class="ident" id="7549975">format</span>&nbsp;<span class="builtintype" id="7549982">string</span><span class="op" id="7549988">,</span>&nbsp;<span class="ident" id="7549990">args</span>&nbsp;<span class="op" id="7549995">...</span><span class="keyword" id="7549998">interface</span><span class="op" id="7550007">{</span><span class="op" id="7550008">}</span><span class="op" id="7550009">)</span>&nbsp;<span class="op" id="7550011">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550016"><a href="/gostd/net/http/response_test.go.html#7549990">args</a></span>&nbsp;<span class="op" id="7550021">=</span>&nbsp;<span class="builtinfunc" id="7550023">append</span><span class="op" id="7550029">(</span><span class="op" id="7550030">[</span><span class="op" id="7550031">]</span><span class="keyword" id="7550032">interface</span><span class="op" id="7550041">{</span><span class="op" id="7550042">}</span><span class="op" id="7550043">{</span><span class="ident" id="7550044"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7550048">.</span><span class="ident" id="7550049"><a href="/gostd/net/http/response_test.go.html#7549590">chunked</a></span><span class="op" id="7550056">,</span>&nbsp;<span class="ident" id="7550058"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7550062">.</span><span class="ident" id="7550063"><a href="/gostd/net/http/response_test.go.html#7549599">compressed</a></span><span class="op" id="7550073">}</span><span class="op" id="7550074">,</span>&nbsp;<span class="ident" id="7550076"><a href="/gostd/net/http/response_test.go.html#7549990">args</a></span><span class="op" id="7550080">...</span><span class="op" id="7550083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550088"><a href="/gostd/net/http/response_test.go.html#7549887">t</a></span><span class="op" id="7550089">.</span><span class="ident" id="7550090"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7550096">(</span><span class="string" id="7550097">&#34;on&nbsp;test&nbsp;chunked=%v,&nbsp;compressed=%v:&nbsp;&#34;</span><span class="op" id="7550134">+</span><span class="ident" id="7550135"><a href="/gostd/net/http/response_test.go.html#7549975">format</a></span><span class="op" id="7550141">,</span>&nbsp;<span class="ident" id="7550143"><a href="/gostd/net/http/response_test.go.html#7549990">args</a></span><span class="op" id="7550147">...</span><span class="op" id="7550150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550158">checkErr</span>&nbsp;<span class="op" id="7550167">:=</span>&nbsp;<span class="keyword" id="7550170">func</span><span class="op" id="7550174">(</span><span class="ident" id="7550175">err</span>&nbsp;<span class="builtintype" id="7550179">error</span><span class="op" id="7550184">,</span>&nbsp;<span class="ident" id="7550186">msg</span>&nbsp;<span class="builtintype" id="7550190">string</span><span class="op" id="7550196">)</span>&nbsp;<span class="op" id="7550198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550203">if</span>&nbsp;<span class="ident" id="7550206"><a href="/gostd/net/http/response_test.go.html#7550175">err</a></span>&nbsp;<span class="op" id="7550210">==</span>&nbsp;<span class="builtintype" id="7550213">nil</span>&nbsp;<span class="op" id="7550217">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550223">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550238"><a href="/gostd/net/http/response_test.go.html#7549960">fatalf</a></span><span class="op" id="7550244">(</span><span class="ident" id="7550245"><a href="/gostd/net/http/response_test.go.html#7550186">msg</a></span><span class="op" id="7550248">+</span><span class="string" id="7550249">&#34;:&nbsp;%v&#34;</span><span class="op" id="7550255">,</span>&nbsp;<span class="ident" id="7550257"><a href="/gostd/net/http/response_test.go.html#7550175">err</a></span><span class="op" id="7550260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550268">var</span>&nbsp;<span class="ident" id="7550272">buf</span>&nbsp;<span class="ident" id="7550276"><a href="/gostd/net/http/response_test.go.html#7540661">bytes</a></span><span class="op" id="7550281">.</span><span class="ident" id="7550282"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550291"><a href="/gostd/net/http/response_test.go.html#7550272">buf</a></span><span class="op" id="7550294">.</span><span class="ident" id="7550295"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7550306">(</span><span class="string" id="7550307">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="7550328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550332">if</span>&nbsp;<span class="ident" id="7550335"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7550339">.</span><span class="ident" id="7550340"><a href="/gostd/net/http/response_test.go.html#7549590">chunked</a></span>&nbsp;<span class="op" id="7550348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550353"><a href="/gostd/net/http/response_test.go.html#7550272">buf</a></span><span class="op" id="7550356">.</span><span class="ident" id="7550357"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7550368">(</span><span class="string" id="7550369">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="7550401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550405">}</span>&nbsp;<span class="keyword" id="7550407">else</span>&nbsp;<span class="op" id="7550412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550417"><a href="/gostd/net/http/response_test.go.html#7550272">buf</a></span><span class="op" id="7550420">.</span><span class="ident" id="7550421"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7550432">(</span><span class="string" id="7550433">&#34;Content-Length:&nbsp;1000000\r\n&#34;</span><span class="op" id="7550462">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550470">var</span>&nbsp;<span class="ident" id="7550474">wr</span>&nbsp;<span class="ident" id="7550477"><a href="/gostd/net/http/response_test.go.html#7540709">io</a></span><span class="op" id="7550479">.</span><span class="ident" id="7550480"><a href="/gostd/io/io.go.html#1422314">Writer</a></span>&nbsp;<span class="op" id="7550487">=</span>&nbsp;<span class="op" id="7550489">&amp;</span><span class="ident" id="7550490"><a href="/gostd/net/http/response_test.go.html#7550272">buf</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550496">if</span>&nbsp;<span class="ident" id="7550499"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7550503">.</span><span class="ident" id="7550504"><a href="/gostd/net/http/response_test.go.html#7549590">chunked</a></span>&nbsp;<span class="op" id="7550512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550517"><a href="/gostd/net/http/response_test.go.html#7550474">wr</a></span>&nbsp;<span class="op" id="7550520">=</span>&nbsp;<span class="ident" id="7550522"><a href="/gostd/net/http/response_test.go.html#7540728">internal</a></span><span class="op" id="7550530">.</span><span class="ident" id="7550531"><a href="/gostd/net/http/internal/chunked.go.html#4775998">NewChunkedWriter</a></span><span class="op" id="7550547">(</span><span class="ident" id="7550548"><a href="/gostd/net/http/response_test.go.html#7550474">wr</a></span><span class="op" id="7550550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550554">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550558">if</span>&nbsp;<span class="ident" id="7550561"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7550565">.</span><span class="ident" id="7550566"><a href="/gostd/net/http/response_test.go.html#7549599">compressed</a></span>&nbsp;<span class="op" id="7550577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550582"><a href="/gostd/net/http/response_test.go.html#7550272">buf</a></span><span class="op" id="7550585">.</span><span class="ident" id="7550586"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7550597">(</span><span class="string" id="7550598">&#34;Content-Encoding:&nbsp;gzip\r\n&#34;</span><span class="op" id="7550626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550631"><a href="/gostd/net/http/response_test.go.html#7550474">wr</a></span>&nbsp;<span class="op" id="7550634">=</span>&nbsp;<span class="ident" id="7550636"><a href="/gostd/net/http/response_test.go.html#7540670">gzip</a></span><span class="op" id="7550640">.</span><span class="ident" id="7550641"><a href="/gostd/compress/gzip/gzip.go.html#4786016">NewWriter</a></span><span class="op" id="7550650">(</span><span class="ident" id="7550651"><a href="/gostd/net/http/response_test.go.html#7550474">wr</a></span><span class="op" id="7550653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550661"><a href="/gostd/net/http/response_test.go.html#7550272">buf</a></span><span class="op" id="7550664">.</span><span class="ident" id="7550665"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7550676">(</span><span class="string" id="7550677">&#34;\r\n&#34;</span><span class="op" id="7550683">)</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550688">chunk</span>&nbsp;<span class="op" id="7550694">:=</span>&nbsp;<span class="ident" id="7550697"><a href="/gostd/net/http/response_test.go.html#7540661">bytes</a></span><span class="op" id="7550702">.</span><span class="ident" id="7550703"><a href="/gostd/bytes/bytes.go.html#1405494">Repeat</a></span><span class="op" id="7550709">(</span><span class="op" id="7550710">[</span><span class="op" id="7550711">]</span><span class="builtintype" id="7550712">byte</span><span class="op" id="7550716">{</span><span class="string" id="7550717">&#39;x&#39;</span><span class="op" id="7550720">}</span><span class="op" id="7550721">,</span>&nbsp;<span class="num" id="7550723">1000</span><span class="op" id="7550727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550731">for</span>&nbsp;<span class="ident" id="7550735">i</span>&nbsp;<span class="op" id="7550737">:=</span>&nbsp;<span class="num" id="7550740">0</span><span class="op" id="7550741">;</span>&nbsp;<span class="ident" id="7550743"><a href="/gostd/net/http/response_test.go.html#7550735">i</a></span>&nbsp;<span class="op" id="7550745">&lt;</span>&nbsp;<span class="num" id="7550747">1000</span><span class="op" id="7550751">;</span>&nbsp;<span class="ident" id="7550753"><a href="/gostd/net/http/response_test.go.html#7550735">i</a></span><span class="op" id="7550754">++</span>&nbsp;<span class="op" id="7550757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550762">if</span>&nbsp;<span class="ident" id="7550765"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7550769">.</span><span class="ident" id="7550770"><a href="/gostd/net/http/response_test.go.html#7549599">compressed</a></span>&nbsp;<span class="op" id="7550781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7550787">//&nbsp;Otherwise&nbsp;this&nbsp;compresses&nbsp;too&nbsp;well.</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550830">_</span><span class="op" id="7550831">,</span>&nbsp;<span class="ident" id="7550833">err</span>&nbsp;<span class="op" id="7550837">:=</span>&nbsp;<span class="ident" id="7550840"><a href="/gostd/net/http/response_test.go.html#7540709">io</a></span><span class="op" id="7550842">.</span><span class="ident" id="7550843"><a href="/gostd/io/io.go.html#1429706">ReadFull</a></span><span class="op" id="7550851">(</span><span class="ident" id="7550852"><a href="/gostd/net/http/response_test.go.html#7540687">rand</a></span><span class="op" id="7550856">.</span><span class="ident" id="7550857"><a href="/gostd/crypto/rand/rand.go.html#4355686">Reader</a></span><span class="op" id="7550863">,</span>&nbsp;<span class="ident" id="7550865"><a href="/gostd/net/http/response_test.go.html#7550688">chunk</a></span><span class="op" id="7550870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550876"><a href="/gostd/net/http/response_test.go.html#7550158">checkErr</a></span><span class="op" id="7550884">(</span><span class="ident" id="7550885"><a href="/gostd/net/http/response_test.go.html#7550833">err</a></span><span class="op" id="7550888">,</span>&nbsp;<span class="string" id="7550890">&#34;rand.Reader&nbsp;ReadFull&#34;</span><span class="op" id="7550912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550922"><a href="/gostd/net/http/response_test.go.html#7550474">wr</a></span><span class="op" id="7550924">.</span><span class="ident" id="7550925"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="7550930">(</span><span class="ident" id="7550931"><a href="/gostd/net/http/response_test.go.html#7550688">chunk</a></span><span class="op" id="7550936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550940">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7550944">if</span>&nbsp;<span class="ident" id="7550947"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7550951">.</span><span class="ident" id="7550952"><a href="/gostd/net/http/response_test.go.html#7549599">compressed</a></span>&nbsp;<span class="op" id="7550963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7550968">err</span>&nbsp;<span class="op" id="7550972">:=</span>&nbsp;<span class="ident" id="7550975"><a href="/gostd/net/http/response_test.go.html#7550474">wr</a></span><span class="op" id="7550977">.</span><span class="op" id="7550978">(</span><span class="op" id="7550979">*</span><span class="ident" id="7550980"><a href="/gostd/net/http/response_test.go.html#7540670">gzip</a></span><span class="op" id="7550984">.</span><span class="ident" id="7550985"><a href="/gostd/compress/gzip/gzip.go.html#4785226">Writer</a></span><span class="op" id="7550991">)</span><span class="op" id="7550992">.</span><span class="ident" id="7550993"><a href="/gostd/compress/gzip/gzip.go.html#4790802">Close</a></span><span class="op" id="7550998">(</span><span class="op" id="7550999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551004"><a href="/gostd/net/http/response_test.go.html#7550158">checkErr</a></span><span class="op" id="7551012">(</span><span class="ident" id="7551013"><a href="/gostd/net/http/response_test.go.html#7550968">err</a></span><span class="op" id="7551016">,</span>&nbsp;<span class="string" id="7551018">&#34;compressor&nbsp;close&#34;</span><span class="op" id="7551036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7551040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7551044">if</span>&nbsp;<span class="ident" id="7551047"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7551051">.</span><span class="ident" id="7551052"><a href="/gostd/net/http/response_test.go.html#7549590">chunked</a></span>&nbsp;<span class="op" id="7551060">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551065"><a href="/gostd/net/http/response_test.go.html#7550272">buf</a></span><span class="op" id="7551068">.</span><span class="ident" id="7551069"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7551080">(</span><span class="string" id="7551081">&#34;0\r\n\r\n&#34;</span><span class="op" id="7551092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7551096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551100"><a href="/gostd/net/http/response_test.go.html#7550272">buf</a></span><span class="op" id="7551103">.</span><span class="ident" id="7551104"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7551115">(</span><span class="string" id="7551116">&#34;Next&nbsp;Request&nbsp;Here&#34;</span><span class="op" id="7551135">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551140">bufr</span>&nbsp;<span class="op" id="7551145">:=</span>&nbsp;<span class="ident" id="7551148"><a href="/gostd/net/http/response_test.go.html#7540652">bufio</a></span><span class="op" id="7551153">.</span><span class="ident" id="7551154"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7551163">(</span><span class="op" id="7551164">&amp;</span><span class="ident" id="7551165"><a href="/gostd/net/http/response_test.go.html#7550272">buf</a></span><span class="op" id="7551168">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551172">resp</span><span class="op" id="7551176">,</span>&nbsp;<span class="ident" id="7551178">err</span>&nbsp;<span class="op" id="7551182">:=</span>&nbsp;<span class="ident" id="7551185"><a href="/gostd/net/http/response.go.html#4164712">ReadResponse</a></span><span class="op" id="7551197">(</span><span class="ident" id="7551198"><a href="/gostd/net/http/response_test.go.html#7551140">bufr</a></span><span class="op" id="7551202">,</span>&nbsp;<span class="ident" id="7551204"><a href="/gostd/net/http/response_test.go.html#7540877">dummyReq</a></span><span class="op" id="7551212">(</span><span class="string" id="7551213">&#34;GET&#34;</span><span class="op" id="7551218">)</span><span class="op" id="7551219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551223"><a href="/gostd/net/http/response_test.go.html#7550158">checkErr</a></span><span class="op" id="7551231">(</span><span class="ident" id="7551232"><a href="/gostd/net/http/response_test.go.html#7551178">err</a></span><span class="op" id="7551235">,</span>&nbsp;<span class="string" id="7551237">&#34;ReadResponse&#34;</span><span class="op" id="7551251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551255">expectedLength</span>&nbsp;<span class="op" id="7551270">:=</span>&nbsp;<span class="builtintype" id="7551273">int64</span><span class="op" id="7551278">(</span><span class="op" id="7551279">-</span><span class="num" id="7551280">1</span><span class="op" id="7551281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7551285">if</span>&nbsp;<span class="op" id="7551288">!</span><span class="ident" id="7551289"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7551293">.</span><span class="ident" id="7551294"><a href="/gostd/net/http/response_test.go.html#7549590">chunked</a></span>&nbsp;<span class="op" id="7551302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551307"><a href="/gostd/net/http/response_test.go.html#7551255">expectedLength</a></span>&nbsp;<span class="op" id="7551322">=</span>&nbsp;<span class="num" id="7551324">1000000</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7551334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7551338">if</span>&nbsp;<span class="ident" id="7551341"><a href="/gostd/net/http/response_test.go.html#7551172">resp</a></span><span class="op" id="7551345">.</span><span class="ident" id="7551346"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span>&nbsp;<span class="op" id="7551360">!=</span>&nbsp;<span class="ident" id="7551363"><a href="/gostd/net/http/response_test.go.html#7551255">expectedLength</a></span>&nbsp;<span class="op" id="7551378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551383"><a href="/gostd/net/http/response_test.go.html#7549960">fatalf</a></span><span class="op" id="7551389">(</span><span class="string" id="7551390">&#34;expected&nbsp;response&nbsp;length&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7551427">,</span>&nbsp;<span class="ident" id="7551429"><a href="/gostd/net/http/response_test.go.html#7551255">expectedLength</a></span><span class="op" id="7551443">,</span>&nbsp;<span class="ident" id="7551445"><a href="/gostd/net/http/response_test.go.html#7551172">resp</a></span><span class="op" id="7551449">.</span><span class="ident" id="7551450"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7551463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7551467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7551471">if</span>&nbsp;<span class="ident" id="7551474"><a href="/gostd/net/http/response_test.go.html#7551172">resp</a></span><span class="op" id="7551478">.</span><span class="ident" id="7551479"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span>&nbsp;<span class="op" id="7551484">==</span>&nbsp;<span class="builtintype" id="7551487">nil</span>&nbsp;<span class="op" id="7551491">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551496"><a href="/gostd/net/http/response_test.go.html#7549960">fatalf</a></span><span class="op" id="7551502">(</span><span class="string" id="7551503">&#34;nil&nbsp;body&#34;</span><span class="op" id="7551513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7551517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7551521">if</span>&nbsp;<span class="ident" id="7551524"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7551528">.</span><span class="ident" id="7551529"><a href="/gostd/net/http/response_test.go.html#7549599">compressed</a></span>&nbsp;<span class="op" id="7551540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551545">gzReader</span><span class="op" id="7551553">,</span>&nbsp;<span class="ident" id="7551555">err</span>&nbsp;<span class="op" id="7551559">:=</span>&nbsp;<span class="ident" id="7551562"><a href="/gostd/net/http/response_test.go.html#7540670">gzip</a></span><span class="op" id="7551566">.</span><span class="ident" id="7551567"><a href="/gostd/compress/gzip/gunzip.go.html#4779786">NewReader</a></span><span class="op" id="7551576">(</span><span class="ident" id="7551577"><a href="/gostd/net/http/response_test.go.html#7551172">resp</a></span><span class="op" id="7551581">.</span><span class="ident" id="7551582"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><span class="op" id="7551586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551591"><a href="/gostd/net/http/response_test.go.html#7550158">checkErr</a></span><span class="op" id="7551599">(</span><span class="ident" id="7551600"><a href="/gostd/net/http/response_test.go.html#7551555">err</a></span><span class="op" id="7551603">,</span>&nbsp;<span class="string" id="7551605">&#34;gzip.NewReader&#34;</span><span class="op" id="7551621">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551626"><a href="/gostd/net/http/response_test.go.html#7551172">resp</a></span><span class="op" id="7551630">.</span><span class="ident" id="7551631"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span>&nbsp;<span class="op" id="7551636">=</span>&nbsp;<span class="op" id="7551638">&amp;</span><span class="ident" id="7551639"><a href="/gostd/net/http/transport.go.html#4293300">readerAndCloser</a></span><span class="op" id="7551654">{</span><span class="ident" id="7551655"><a href="/gostd/net/http/response_test.go.html#7551545">gzReader</a></span><span class="op" id="7551663">,</span>&nbsp;<span class="ident" id="7551665"><a href="/gostd/net/http/response_test.go.html#7551172">resp</a></span><span class="op" id="7551669">.</span><span class="ident" id="7551670"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><span class="op" id="7551674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7551678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551683">rbuf</span>&nbsp;<span class="op" id="7551688">:=</span>&nbsp;<span class="builtinfunc" id="7551691">make</span><span class="op" id="7551695">(</span><span class="op" id="7551696">[</span><span class="op" id="7551697">]</span><span class="builtintype" id="7551698">byte</span><span class="op" id="7551702">,</span>&nbsp;<span class="num" id="7551704">2500</span><span class="op" id="7551708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551712">n</span><span class="op" id="7551713">,</span>&nbsp;<span class="ident" id="7551715"><a href="/gostd/net/http/response_test.go.html#7551178">err</a></span>&nbsp;<span class="op" id="7551719">:=</span>&nbsp;<span class="ident" id="7551722"><a href="/gostd/net/http/response_test.go.html#7540709">io</a></span><span class="op" id="7551724">.</span><span class="ident" id="7551725"><a href="/gostd/io/io.go.html#1429706">ReadFull</a></span><span class="op" id="7551733">(</span><span class="ident" id="7551734"><a href="/gostd/net/http/response_test.go.html#7551172">resp</a></span><span class="op" id="7551738">.</span><span class="ident" id="7551739"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><span class="op" id="7551743">,</span>&nbsp;<span class="ident" id="7551745"><a href="/gostd/net/http/response_test.go.html#7551683">rbuf</a></span><span class="op" id="7551749">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551753"><a href="/gostd/net/http/response_test.go.html#7550158">checkErr</a></span><span class="op" id="7551761">(</span><span class="ident" id="7551762"><a href="/gostd/net/http/response_test.go.html#7551178">err</a></span><span class="op" id="7551765">,</span>&nbsp;<span class="string" id="7551767">&#34;2500&nbsp;byte&nbsp;ReadFull&#34;</span><span class="op" id="7551787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7551791">if</span>&nbsp;<span class="ident" id="7551794"><a href="/gostd/net/http/response_test.go.html#7551712">n</a></span>&nbsp;<span class="op" id="7551796">!=</span>&nbsp;<span class="num" id="7551799">2500</span>&nbsp;<span class="op" id="7551804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551809"><a href="/gostd/net/http/response_test.go.html#7549960">fatalf</a></span><span class="op" id="7551815">(</span><span class="string" id="7551816">&#34;ReadFull&nbsp;only&nbsp;read&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7551845">,</span>&nbsp;<span class="ident" id="7551847"><a href="/gostd/net/http/response_test.go.html#7551712">n</a></span><span class="op" id="7551848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7551852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7551856">if</span>&nbsp;<span class="ident" id="7551859"><a href="/gostd/net/http/response_test.go.html#7549911">test</a></span><span class="op" id="7551863">.</span><span class="ident" id="7551864"><a href="/gostd/net/http/response_test.go.html#7549599">compressed</a></span>&nbsp;<span class="op" id="7551875">==</span>&nbsp;<span class="builtintype" id="7551878">false</span>&nbsp;<span class="op" id="7551884">&amp;&amp;</span>&nbsp;<span class="op" id="7551887">!</span><span class="ident" id="7551888"><a href="/gostd/net/http/response_test.go.html#7540661">bytes</a></span><span class="op" id="7551893">.</span><span class="ident" id="7551894"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="7551899">(</span><span class="ident" id="7551900"><a href="/gostd/net/http/response_test.go.html#7540661">bytes</a></span><span class="op" id="7551905">.</span><span class="ident" id="7551906"><a href="/gostd/bytes/bytes.go.html#1405494">Repeat</a></span><span class="op" id="7551912">(</span><span class="op" id="7551913">[</span><span class="op" id="7551914">]</span><span class="builtintype" id="7551915">byte</span><span class="op" id="7551919">{</span><span class="string" id="7551920">&#39;x&#39;</span><span class="op" id="7551923">}</span><span class="op" id="7551924">,</span>&nbsp;<span class="num" id="7551926">2500</span><span class="op" id="7551930">)</span><span class="op" id="7551931">,</span>&nbsp;<span class="ident" id="7551933"><a href="/gostd/net/http/response_test.go.html#7551683">rbuf</a></span><span class="op" id="7551937">)</span>&nbsp;<span class="op" id="7551939">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7551944"><a href="/gostd/net/http/response_test.go.html#7549960">fatalf</a></span><span class="op" id="7551950">(</span><span class="string" id="7551951">&#34;ReadFull&nbsp;didn&#39;t&nbsp;read&nbsp;2500&nbsp;&#39;x&#39;;&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7551990">,</span>&nbsp;<span class="builtintype" id="7551992">string</span><span class="op" id="7551998">(</span><span class="ident" id="7551999"><a href="/gostd/net/http/response_test.go.html#7551683">rbuf</a></span><span class="op" id="7552003">)</span><span class="op" id="7552004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7552008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552012"><a href="/gostd/net/http/response_test.go.html#7551172">resp</a></span><span class="op" id="7552016">.</span><span class="ident" id="7552017"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><span class="op" id="7552021">.</span><span class="ident" id="7552022"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="7552027">(</span><span class="op" id="7552028">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552033">rest</span><span class="op" id="7552037">,</span>&nbsp;<span class="ident" id="7552039"><a href="/gostd/net/http/response_test.go.html#7551178">err</a></span>&nbsp;<span class="op" id="7552043">:=</span>&nbsp;<span class="ident" id="7552046"><a href="/gostd/net/http/response_test.go.html#7540715">ioutil</a></span><span class="op" id="7552052">.</span><span class="ident" id="7552053"><a href="/gostd/io/ioutil/ioutil.go.html#3765117">ReadAll</a></span><span class="op" id="7552060">(</span><span class="ident" id="7552061"><a href="/gostd/net/http/response_test.go.html#7551140">bufr</a></span><span class="op" id="7552065">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552069"><a href="/gostd/net/http/response_test.go.html#7550158">checkErr</a></span><span class="op" id="7552077">(</span><span class="ident" id="7552078"><a href="/gostd/net/http/response_test.go.html#7551178">err</a></span><span class="op" id="7552081">,</span>&nbsp;<span class="string" id="7552083">&#34;ReadAll&nbsp;on&nbsp;remainder&#34;</span><span class="op" id="7552105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7552109">if</span>&nbsp;<span class="ident" id="7552112">e</span><span class="op" id="7552113">,</span>&nbsp;<span class="ident" id="7552115">g</span>&nbsp;<span class="op" id="7552117">:=</span>&nbsp;<span class="string" id="7552120">&#34;Next&nbsp;Request&nbsp;Here&#34;</span><span class="op" id="7552139">,</span>&nbsp;<span class="builtintype" id="7552141">string</span><span class="op" id="7552147">(</span><span class="ident" id="7552148"><a href="/gostd/net/http/response_test.go.html#7552033">rest</a></span><span class="op" id="7552152">)</span><span class="op" id="7552153">;</span>&nbsp;<span class="ident" id="7552155"><a href="/gostd/net/http/response_test.go.html#7552112">e</a></span>&nbsp;<span class="op" id="7552157">!=</span>&nbsp;<span class="ident" id="7552160"><a href="/gostd/net/http/response_test.go.html#7552115">g</a></span>&nbsp;<span class="op" id="7552162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552167"><a href="/gostd/net/http/response_test.go.html#7552115">g</a></span>&nbsp;<span class="op" id="7552169">=</span>&nbsp;<span class="ident" id="7552171"><a href="/gostd/net/http/response_test.go.html#7540771">regexp</a></span><span class="op" id="7552177">.</span><span class="ident" id="7552178"><a href="/gostd/regexp/regexp.go.html#3571892">MustCompile</a></span><span class="op" id="7552189">(</span><span class="string" id="7552190">`(xx+)`</span><span class="op" id="7552197">)</span><span class="op" id="7552198">.</span><span class="ident" id="7552199"><a href="/gostd/regexp/regexp.go.html#3578732">ReplaceAllStringFunc</a></span><span class="op" id="7552219">(</span><span class="ident" id="7552220"><a href="/gostd/net/http/response_test.go.html#7552115">g</a></span><span class="op" id="7552221">,</span>&nbsp;<span class="keyword" id="7552223">func</span><span class="op" id="7552227">(</span><span class="ident" id="7552228">match</span>&nbsp;<span class="builtintype" id="7552234">string</span><span class="op" id="7552240">)</span>&nbsp;<span class="builtintype" id="7552242">string</span>&nbsp;<span class="op" id="7552249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7552255">return</span>&nbsp;<span class="ident" id="7552262"><a href="/gostd/net/http/response_test.go.html#7540702">fmt</a></span><span class="op" id="7552265">.</span><span class="ident" id="7552266"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="7552273">(</span><span class="string" id="7552274">&#34;x(repeated&nbsp;x%d)&#34;</span><span class="op" id="7552291">,</span>&nbsp;<span class="builtinfunc" id="7552293">len</span><span class="op" id="7552296">(</span><span class="ident" id="7552297"><a href="/gostd/net/http/response_test.go.html#7552228">match</a></span><span class="op" id="7552302">)</span><span class="op" id="7552303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7552308">}</span><span class="op" id="7552309">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552314"><a href="/gostd/net/http/response_test.go.html#7549960">fatalf</a></span><span class="op" id="7552320">(</span><span class="string" id="7552321">&#34;remainder&nbsp;=&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7552350">,</span>&nbsp;<span class="ident" id="7552352"><a href="/gostd/net/http/response_test.go.html#7552115">g</a></span><span class="op" id="7552353">,</span>&nbsp;<span class="ident" id="7552355"><a href="/gostd/net/http/response_test.go.html#7552112">e</a></span><span class="op" id="7552356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7552360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7552363">}</span><br>
<span class="lineno"></span><span class="op" id="7552365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="keyword" id="7552368">func</span>&nbsp;<span class="ident" id="7552373">diff</span><span class="op" id="7552377">(</span><span class="ident" id="7552378">t</span>&nbsp;<span class="op" id="7552380">*</span><span class="ident" id="7552381"><a href="/gostd/net/http/response_test.go.html#7540792">testing</a></span><span class="op" id="7552388">.</span><span class="ident" id="7552389"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7552390">,</span>&nbsp;<span class="ident" id="7552392">prefix</span>&nbsp;<span class="builtintype" id="7552399">string</span><span class="op" id="7552405">,</span>&nbsp;<span class="ident" id="7552407">have</span><span class="op" id="7552411">,</span>&nbsp;<span class="ident" id="7552413">want</span>&nbsp;<span class="keyword" id="7552418">interface</span><span class="op" id="7552427">{</span><span class="op" id="7552428">}</span><span class="op" id="7552429">)</span>&nbsp;<span class="op" id="7552431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552434">hv</span>&nbsp;<span class="op" id="7552437">:=</span>&nbsp;<span class="ident" id="7552440"><a href="/gostd/net/http/response_test.go.html#7540760">reflect</a></span><span class="op" id="7552447">.</span><span class="ident" id="7552448"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="7552455">(</span><span class="ident" id="7552456"><a href="/gostd/net/http/response_test.go.html#7552407">have</a></span><span class="op" id="7552460">)</span><span class="op" id="7552461">.</span><span class="ident" id="7552462"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="7552466">(</span><span class="op" id="7552467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552470">wv</span>&nbsp;<span class="op" id="7552473">:=</span>&nbsp;<span class="ident" id="7552476"><a href="/gostd/net/http/response_test.go.html#7540760">reflect</a></span><span class="op" id="7552483">.</span><span class="ident" id="7552484"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="7552491">(</span><span class="ident" id="7552492"><a href="/gostd/net/http/response_test.go.html#7552413">want</a></span><span class="op" id="7552496">)</span><span class="op" id="7552497">.</span><span class="ident" id="7552498"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="7552502">(</span><span class="op" id="7552503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7552506">if</span>&nbsp;<span class="ident" id="7552509"><a href="/gostd/net/http/response_test.go.html#7552434">hv</a></span><span class="op" id="7552511">.</span><span class="ident" id="7552512"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="7552516">(</span><span class="op" id="7552517">)</span>&nbsp;<span class="op" id="7552519">!=</span>&nbsp;<span class="ident" id="7552522"><a href="/gostd/net/http/response_test.go.html#7552470">wv</a></span><span class="op" id="7552524">.</span><span class="ident" id="7552525"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="7552529">(</span><span class="op" id="7552530">)</span>&nbsp;<span class="op" id="7552532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552536"><a href="/gostd/net/http/response_test.go.html#7552378">t</a></span><span class="op" id="7552537">.</span><span class="ident" id="7552538"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7552544">(</span><span class="string" id="7552545">&#34;%s:&nbsp;type&nbsp;mismatch&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7552575">,</span>&nbsp;<span class="ident" id="7552577"><a href="/gostd/net/http/response_test.go.html#7552392">prefix</a></span><span class="op" id="7552583">,</span>&nbsp;<span class="ident" id="7552585"><a href="/gostd/net/http/response_test.go.html#7552434">hv</a></span><span class="op" id="7552587">.</span><span class="ident" id="7552588"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="7552592">(</span><span class="op" id="7552593">)</span><span class="op" id="7552594">,</span>&nbsp;<span class="ident" id="7552596"><a href="/gostd/net/http/response_test.go.html#7552470">wv</a></span><span class="op" id="7552598">.</span><span class="ident" id="7552599"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="7552603">(</span><span class="op" id="7552604">)</span><span class="op" id="7552605">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7552608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7552611">for</span>&nbsp;<span class="ident" id="7552615">i</span>&nbsp;<span class="op" id="7552617">:=</span>&nbsp;<span class="num" id="7552620">0</span><span class="op" id="7552621">;</span>&nbsp;<span class="ident" id="7552623"><a href="/gostd/net/http/response_test.go.html#7552615">i</a></span>&nbsp;<span class="op" id="7552625">&lt;</span>&nbsp;<span class="ident" id="7552627"><a href="/gostd/net/http/response_test.go.html#7552434">hv</a></span><span class="op" id="7552629">.</span><span class="ident" id="7552630"><a href="/gostd/reflect/value.go.html#2866109">NumField</a></span><span class="op" id="7552638">(</span><span class="op" id="7552639">)</span><span class="op" id="7552640">;</span>&nbsp;<span class="ident" id="7552642"><a href="/gostd/net/http/response_test.go.html#7552615">i</a></span><span class="op" id="7552643">++</span>&nbsp;<span class="op" id="7552646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552650">hf</span>&nbsp;<span class="op" id="7552653">:=</span>&nbsp;<span class="ident" id="7552656"><a href="/gostd/net/http/response_test.go.html#7552434">hv</a></span><span class="op" id="7552658">.</span><span class="ident" id="7552659"><a href="/gostd/reflect/value.go.html#2853921">Field</a></span><span class="op" id="7552664">(</span><span class="ident" id="7552665"><a href="/gostd/net/http/response_test.go.html#7552615">i</a></span><span class="op" id="7552666">)</span><span class="op" id="7552667">.</span><span class="ident" id="7552668"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="7552677">(</span><span class="op" id="7552678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552682">wf</span>&nbsp;<span class="op" id="7552685">:=</span>&nbsp;<span class="ident" id="7552688"><a href="/gostd/net/http/response_test.go.html#7552470">wv</a></span><span class="op" id="7552690">.</span><span class="ident" id="7552691"><a href="/gostd/reflect/value.go.html#2853921">Field</a></span><span class="op" id="7552696">(</span><span class="ident" id="7552697"><a href="/gostd/net/http/response_test.go.html#7552615">i</a></span><span class="op" id="7552698">)</span><span class="op" id="7552699">.</span><span class="ident" id="7552700"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="7552709">(</span><span class="op" id="7552710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7552714">if</span>&nbsp;<span class="op" id="7552717">!</span><span class="ident" id="7552718"><a href="/gostd/net/http/response_test.go.html#7540760">reflect</a></span><span class="op" id="7552725">.</span><span class="ident" id="7552726"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7552735">(</span><span class="ident" id="7552736"><a href="/gostd/net/http/response_test.go.html#7552650">hf</a></span><span class="op" id="7552738">,</span>&nbsp;<span class="ident" id="7552740"><a href="/gostd/net/http/response_test.go.html#7552682">wf</a></span><span class="op" id="7552742">)</span>&nbsp;<span class="op" id="7552744">{</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552749"><a href="/gostd/net/http/response_test.go.html#7552378">t</a></span><span class="op" id="7552750">.</span><span class="ident" id="7552751"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7552757">(</span><span class="string" id="7552758">&#34;%s:&nbsp;%s&nbsp;=&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7552779">,</span>&nbsp;<span class="ident" id="7552781"><a href="/gostd/net/http/response_test.go.html#7552392">prefix</a></span><span class="op" id="7552787">,</span>&nbsp;<span class="ident" id="7552789"><a href="/gostd/net/http/response_test.go.html#7552434">hv</a></span><span class="op" id="7552791">.</span><span class="ident" id="7552792"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="7552796">(</span><span class="op" id="7552797">)</span><span class="op" id="7552798">.</span><span class="ident" id="7552799"><a href="/gostd/reflect/type.go.html#2785427">Field</a></span><span class="op" id="7552804">(</span><span class="ident" id="7552805"><a href="/gostd/net/http/response_test.go.html#7552615">i</a></span><span class="op" id="7552806">)</span><span class="op" id="7552807">.</span><span class="ident" id="7552808"><a href="/gostd/reflect/type.go.html#2801001">Name</a></span><span class="op" id="7552812">,</span>&nbsp;<span class="ident" id="7552814"><a href="/gostd/net/http/response_test.go.html#7552650">hf</a></span><span class="op" id="7552816">,</span>&nbsp;<span class="ident" id="7552818"><a href="/gostd/net/http/response_test.go.html#7552682">wf</a></span><span class="op" id="7552820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7552824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7552827">}</span><br>
<span class="lineno"></span><span class="op" id="7552829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">565</span><span class="keyword" id="7552832">type</span>&nbsp;<span class="ident" id="7552837">responseLocationTest</span>&nbsp;<span class="keyword" id="7552858">struct</span>&nbsp;<span class="op" id="7552865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552868">location</span>&nbsp;<span class="builtintype" id="7552877">string</span>&nbsp;<span class="comment" id="7552884">//&nbsp;Response&#39;s&nbsp;Location&nbsp;header&nbsp;or&nbsp;&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552921">requrl</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7552930">string</span>&nbsp;<span class="comment" id="7552937">//&nbsp;Response.Request.URL&nbsp;or&nbsp;&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552968">want</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7552977">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7552985">wantErr</span>&nbsp;&nbsp;<span class="builtintype" id="7552994">error</span><br>
<span class="lineno">570</span><span class="op" id="7553000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7553003">var</span>&nbsp;<span class="ident" id="7553007">responseLocationTests</span>&nbsp;<span class="op" id="7553029">=</span>&nbsp;<span class="op" id="7553031">[</span><span class="op" id="7553032">]</span><span class="ident" id="7553033"><a href="/gostd/net/http/response_test.go.html#7552837">responseLocationTest</a></span><span class="op" id="7553053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7553056">{</span><span class="string" id="7553057">&#34;/foo&#34;</span><span class="op" id="7553063">,</span>&nbsp;<span class="string" id="7553065">&#34;http://bar.com/baz&#34;</span><span class="op" id="7553085">,</span>&nbsp;<span class="string" id="7553087">&#34;http://bar.com/foo&#34;</span><span class="op" id="7553107">,</span>&nbsp;<span class="builtintype" id="7553109">nil</span><span class="op" id="7553112">}</span><span class="op" id="7553113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7553116">{</span><span class="string" id="7553117">&#34;http://foo.com/&#34;</span><span class="op" id="7553134">,</span>&nbsp;<span class="string" id="7553136">&#34;http://bar.com/baz&#34;</span><span class="op" id="7553156">,</span>&nbsp;<span class="string" id="7553158">&#34;http://foo.com/&#34;</span><span class="op" id="7553175">,</span>&nbsp;<span class="builtintype" id="7553177">nil</span><span class="op" id="7553180">}</span><span class="op" id="7553181">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7553184">{</span><span class="string" id="7553185">&#34;&#34;</span><span class="op" id="7553187">,</span>&nbsp;<span class="string" id="7553189">&#34;http://bar.com/baz&#34;</span><span class="op" id="7553209">,</span>&nbsp;<span class="string" id="7553211">&#34;&#34;</span><span class="op" id="7553213">,</span>&nbsp;<span class="ident" id="7553215"><a href="/gostd/net/http/response.go.html#4163818">ErrNoLocation</a></span><span class="op" id="7553228">}</span><span class="op" id="7553229">,</span><br>
<span class="lineno"></span><span class="op" id="7553231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7553234">func</span>&nbsp;<span class="ident" id="7553239">TestLocationResponse</span><span class="op" id="7553259">(</span><span class="ident" id="7553260">t</span>&nbsp;<span class="op" id="7553262">*</span><span class="ident" id="7553263"><a href="/gostd/net/http/response_test.go.html#7540792">testing</a></span><span class="op" id="7553270">.</span><span class="ident" id="7553271"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7553272">)</span>&nbsp;<span class="op" id="7553274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553277">for</span>&nbsp;<span class="ident" id="7553281">i</span><span class="op" id="7553282">,</span>&nbsp;<span class="ident" id="7553284">tt</span>&nbsp;<span class="op" id="7553287">:=</span>&nbsp;<span class="keyword" id="7553290">range</span>&nbsp;<span class="ident" id="7553296"><a href="/gostd/net/http/response_test.go.html#7553007">responseLocationTests</a></span>&nbsp;<span class="op" id="7553318">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553322">res</span>&nbsp;<span class="op" id="7553326">:=</span>&nbsp;<span class="builtinfunc" id="7553329">new</span><span class="op" id="7553332">(</span><span class="ident" id="7553333"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7553341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553345"><a href="/gostd/net/http/response_test.go.html#7553322">res</a></span><span class="op" id="7553348">.</span><span class="ident" id="7553349"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span>&nbsp;<span class="op" id="7553356">=</span>&nbsp;<span class="builtinfunc" id="7553358">make</span><span class="op" id="7553362">(</span><span class="ident" id="7553363"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7553369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553373"><a href="/gostd/net/http/response_test.go.html#7553322">res</a></span><span class="op" id="7553376">.</span><span class="ident" id="7553377"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7553383">.</span><span class="ident" id="7553384"><a href="/gostd/net/http/header.go.html#4126491">Set</a></span><span class="op" id="7553387">(</span><span class="string" id="7553388">&#34;Location&#34;</span><span class="op" id="7553398">,</span>&nbsp;<span class="ident" id="7553400"><a href="/gostd/net/http/response_test.go.html#7553284">tt</a></span><span class="op" id="7553402">.</span><span class="ident" id="7553403"><a href="/gostd/net/http/response_test.go.html#7552868">location</a></span><span class="op" id="7553411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553415">if</span>&nbsp;<span class="ident" id="7553418"><a href="/gostd/net/http/response_test.go.html#7553284">tt</a></span><span class="op" id="7553420">.</span><span class="ident" id="7553421"><a href="/gostd/net/http/response_test.go.html#7552921">requrl</a></span>&nbsp;<span class="op" id="7553428">!=</span>&nbsp;<span class="string" id="7553431">&#34;&#34;</span>&nbsp;<span class="op" id="7553434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553439"><a href="/gostd/net/http/response_test.go.html#7553322">res</a></span><span class="op" id="7553442">.</span><span class="ident" id="7553443"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span>&nbsp;<span class="op" id="7553451">=</span>&nbsp;<span class="op" id="7553453">&amp;</span><span class="ident" id="7553454"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7553461">{</span><span class="op" id="7553462">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553467">var</span>&nbsp;<span class="ident" id="7553471">err</span>&nbsp;<span class="builtintype" id="7553475">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553484"><a href="/gostd/net/http/response_test.go.html#7553322">res</a></span><span class="op" id="7553487">.</span><span class="ident" id="7553488"><a href="/gostd/net/http/response.go.html#4163410">Request</a></span><span class="op" id="7553495">.</span><span class="ident" id="7553496"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7553499">,</span>&nbsp;<span class="ident" id="7553501"><a href="/gostd/net/http/response_test.go.html#7553471">err</a></span>&nbsp;<span class="op" id="7553505">=</span>&nbsp;<span class="ident" id="7553507"><a href="/gostd/net/http/response_test.go.html#7540749">url</a></span><span class="op" id="7553510">.</span><span class="ident" id="7553511"><a href="/gostd/net/url/url.go.html#3754169">Parse</a></span><span class="op" id="7553516">(</span><span class="ident" id="7553517"><a href="/gostd/net/http/response_test.go.html#7553284">tt</a></span><span class="op" id="7553519">.</span><span class="ident" id="7553520"><a href="/gostd/net/http/response_test.go.html#7552921">requrl</a></span><span class="op" id="7553526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553531">if</span>&nbsp;<span class="ident" id="7553534"><a href="/gostd/net/http/response_test.go.html#7553471">err</a></span>&nbsp;<span class="op" id="7553538">!=</span>&nbsp;<span class="builtintype" id="7553541">nil</span>&nbsp;<span class="op" id="7553545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553551"><a href="/gostd/net/http/response_test.go.html#7553260">t</a></span><span class="op" id="7553552">.</span><span class="ident" id="7553553"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7553559">(</span><span class="string" id="7553560">&#34;bad&nbsp;test&nbsp;URL&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7553581">,</span>&nbsp;<span class="ident" id="7553583"><a href="/gostd/net/http/response_test.go.html#7553284">tt</a></span><span class="op" id="7553585">.</span><span class="ident" id="7553586"><a href="/gostd/net/http/response_test.go.html#7552921">requrl</a></span><span class="op" id="7553592">,</span>&nbsp;<span class="ident" id="7553594"><a href="/gostd/net/http/response_test.go.html#7553471">err</a></span><span class="op" id="7553597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7553602">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7553606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553611">got</span><span class="op" id="7553614">,</span>&nbsp;<span class="ident" id="7553616">err</span>&nbsp;<span class="op" id="7553620">:=</span>&nbsp;<span class="ident" id="7553623"><a href="/gostd/net/http/response_test.go.html#7553322">res</a></span><span class="op" id="7553626">.</span><span class="ident" id="7553627"><a href="/gostd/net/http/response.go.html#4164121">Location</a></span><span class="op" id="7553635">(</span><span class="op" id="7553636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553640">if</span>&nbsp;<span class="ident" id="7553643"><a href="/gostd/net/http/response_test.go.html#7553284">tt</a></span><span class="op" id="7553645">.</span><span class="ident" id="7553646"><a href="/gostd/net/http/response_test.go.html#7552985">wantErr</a></span>&nbsp;<span class="op" id="7553654">!=</span>&nbsp;<span class="builtintype" id="7553657">nil</span>&nbsp;<span class="op" id="7553661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553666">if</span>&nbsp;<span class="ident" id="7553669"><a href="/gostd/net/http/response_test.go.html#7553616">err</a></span>&nbsp;<span class="op" id="7553673">==</span>&nbsp;<span class="builtintype" id="7553676">nil</span>&nbsp;<span class="op" id="7553680">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553686"><a href="/gostd/net/http/response_test.go.html#7553260">t</a></span><span class="op" id="7553687">.</span><span class="ident" id="7553688"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7553694">(</span><span class="string" id="7553695">&#34;%d.&nbsp;err=nil;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7553717">,</span>&nbsp;<span class="ident" id="7553719"><a href="/gostd/net/http/response_test.go.html#7553281">i</a></span><span class="op" id="7553720">,</span>&nbsp;<span class="ident" id="7553722"><a href="/gostd/net/http/response_test.go.html#7553284">tt</a></span><span class="op" id="7553724">.</span><span class="ident" id="7553725"><a href="/gostd/net/http/response_test.go.html#7552985">wantErr</a></span><span class="op" id="7553732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553738">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7553750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553755">if</span>&nbsp;<span class="ident" id="7553758">g</span><span class="op" id="7553759">,</span>&nbsp;<span class="ident" id="7553761">e</span>&nbsp;<span class="op" id="7553763">:=</span>&nbsp;<span class="ident" id="7553766"><a href="/gostd/net/http/response_test.go.html#7553616">err</a></span><span class="op" id="7553769">.</span><span class="ident" id="7553770">Error</span><span class="op" id="7553775">(</span><span class="op" id="7553776">)</span><span class="op" id="7553777">,</span>&nbsp;<span class="ident" id="7553779"><a href="/gostd/net/http/response_test.go.html#7553284">tt</a></span><span class="op" id="7553781">.</span><span class="ident" id="7553782"><a href="/gostd/net/http/response_test.go.html#7552985">wantErr</a></span><span class="op" id="7553789">.</span><span class="ident" id="7553790">Error</span><span class="op" id="7553795">(</span><span class="op" id="7553796">)</span><span class="op" id="7553797">;</span>&nbsp;<span class="ident" id="7553799"><a href="/gostd/net/http/response_test.go.html#7553758">g</a></span>&nbsp;<span class="op" id="7553801">!=</span>&nbsp;<span class="ident" id="7553804"><a href="/gostd/net/http/response_test.go.html#7553761">e</a></span>&nbsp;<span class="op" id="7553806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553812"><a href="/gostd/net/http/response_test.go.html#7553260">t</a></span><span class="op" id="7553813">.</span><span class="ident" id="7553814"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7553820">(</span><span class="string" id="7553821">&#34;%d.&nbsp;err=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7553842">,</span>&nbsp;<span class="ident" id="7553844"><a href="/gostd/net/http/response_test.go.html#7553281">i</a></span><span class="op" id="7553845">,</span>&nbsp;<span class="ident" id="7553847"><a href="/gostd/net/http/response_test.go.html#7553758">g</a></span><span class="op" id="7553848">,</span>&nbsp;<span class="ident" id="7553850"><a href="/gostd/net/http/response_test.go.html#7553761">e</a></span><span class="op" id="7553851">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553857">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7553869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553874">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7553885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553889">if</span>&nbsp;<span class="ident" id="7553892"><a href="/gostd/net/http/response_test.go.html#7553616">err</a></span>&nbsp;<span class="op" id="7553896">!=</span>&nbsp;<span class="builtintype" id="7553899">nil</span>&nbsp;<span class="op" id="7553903">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7553908"><a href="/gostd/net/http/response_test.go.html#7553260">t</a></span><span class="op" id="7553909">.</span><span class="ident" id="7553910"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7553916">(</span><span class="string" id="7553917">&#34;%d.&nbsp;err=%q&#34;</span><span class="op" id="7553929">,</span>&nbsp;<span class="ident" id="7553931"><a href="/gostd/net/http/response_test.go.html#7553281">i</a></span><span class="op" id="7553932">,</span>&nbsp;<span class="ident" id="7553934"><a href="/gostd/net/http/response_test.go.html#7553616">err</a></span><span class="op" id="7553937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553942">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7553953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7553957">if</span>&nbsp;<span class="ident" id="7553960">g</span><span class="op" id="7553961">,</span>&nbsp;<span class="ident" id="7553963">e</span>&nbsp;<span class="op" id="7553965">:=</span>&nbsp;<span class="ident" id="7553968"><a href="/gostd/net/http/response_test.go.html#7553611">got</a></span><span class="op" id="7553971">.</span><span class="ident" id="7553972"><a href="/gostd/net/url/url.go.html#3757924">String</a></span><span class="op" id="7553978">(</span><span class="op" id="7553979">)</span><span class="op" id="7553980">,</span>&nbsp;<span class="ident" id="7553982"><a href="/gostd/net/http/response_test.go.html#7553284">tt</a></span><span class="op" id="7553984">.</span><span class="ident" id="7553985"><a href="/gostd/net/http/response_test.go.html#7552968">want</a></span><span class="op" id="7553989">;</span>&nbsp;<span class="ident" id="7553991"><a href="/gostd/net/http/response_test.go.html#7553960">g</a></span>&nbsp;<span class="op" id="7553993">!=</span>&nbsp;<span class="ident" id="7553996"><a href="/gostd/net/http/response_test.go.html#7553963">e</a></span>&nbsp;<span class="op" id="7553998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554003"><a href="/gostd/net/http/response_test.go.html#7553260">t</a></span><span class="op" id="7554004">.</span><span class="ident" id="7554005"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7554011">(</span><span class="string" id="7554012">&#34;%d.&nbsp;Location=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7554038">,</span>&nbsp;<span class="ident" id="7554040"><a href="/gostd/net/http/response_test.go.html#7553281">i</a></span><span class="op" id="7554041">,</span>&nbsp;<span class="ident" id="7554043"><a href="/gostd/net/http/response_test.go.html#7553960">g</a></span><span class="op" id="7554044">,</span>&nbsp;<span class="ident" id="7554046"><a href="/gostd/net/http/response_test.go.html#7553963">e</a></span><span class="op" id="7554047">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554054">}</span><br>
<span class="lineno"></span><span class="op" id="7554056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7554059">func</span>&nbsp;<span class="ident" id="7554064">TestResponseStatusStutter</span><span class="op" id="7554089">(</span><span class="ident" id="7554090">t</span>&nbsp;<span class="op" id="7554092">*</span><span class="ident" id="7554093"><a href="/gostd/net/http/response_test.go.html#7540792">testing</a></span><span class="op" id="7554100">.</span><span class="ident" id="7554101"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7554102">)</span>&nbsp;<span class="op" id="7554104">{</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554107">r</span>&nbsp;<span class="op" id="7554109">:=</span>&nbsp;<span class="op" id="7554112">&amp;</span><span class="ident" id="7554113"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7554121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554125"><a href="/gostd/net/http/response.go.html#4161528">Status</a></span><span class="op" id="7554131">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7554137">&#34;123&nbsp;some&nbsp;status&#34;</span><span class="op" id="7554154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554158"><a href="/gostd/net/http/response.go.html#4161564">StatusCode</a></span><span class="op" id="7554168">:</span>&nbsp;<span class="num" id="7554170">123</span><span class="op" id="7554173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554177"><a href="/gostd/net/http/response.go.html#4161633">ProtoMajor</a></span><span class="op" id="7554187">:</span>&nbsp;<span class="num" id="7554189">1</span><span class="op" id="7554190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554194"><a href="/gostd/net/http/response.go.html#4161662">ProtoMinor</a></span><span class="op" id="7554204">:</span>&nbsp;<span class="num" id="7554206">3</span><span class="op" id="7554207">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554213">var</span>&nbsp;<span class="ident" id="7554217">buf</span>&nbsp;<span class="ident" id="7554221"><a href="/gostd/net/http/response_test.go.html#7540661">bytes</a></span><span class="op" id="7554226">.</span><span class="ident" id="7554227"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554235"><a href="/gostd/net/http/response_test.go.html#7554107">r</a></span><span class="op" id="7554236">.</span><span class="ident" id="7554237"><a href="/gostd/net/http/response.go.html#4166814">Write</a></span><span class="op" id="7554242">(</span><span class="op" id="7554243">&amp;</span><span class="ident" id="7554244"><a href="/gostd/net/http/response_test.go.html#7554217">buf</a></span><span class="op" id="7554247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554250">if</span>&nbsp;<span class="ident" id="7554253"><a href="/gostd/net/http/response_test.go.html#7540781">strings</a></span><span class="op" id="7554260">.</span><span class="ident" id="7554261"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7554269">(</span><span class="ident" id="7554270"><a href="/gostd/net/http/response_test.go.html#7554217">buf</a></span><span class="op" id="7554273">.</span><span class="ident" id="7554274"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7554280">(</span><span class="op" id="7554281">)</span><span class="op" id="7554282">,</span>&nbsp;<span class="string" id="7554284">&#34;123&nbsp;123&#34;</span><span class="op" id="7554293">)</span>&nbsp;<span class="op" id="7554295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554299"><a href="/gostd/net/http/response_test.go.html#7554090">t</a></span><span class="op" id="7554300">.</span><span class="ident" id="7554301"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7554307">(</span><span class="string" id="7554308">&#34;stutter&nbsp;in&nbsp;status:&nbsp;%s&#34;</span><span class="op" id="7554331">,</span>&nbsp;<span class="ident" id="7554333"><a href="/gostd/net/http/response_test.go.html#7554217">buf</a></span><span class="op" id="7554336">.</span><span class="ident" id="7554337"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7554343">(</span><span class="op" id="7554344">)</span><span class="op" id="7554345">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554348">}</span><br>
<span class="lineno"></span><span class="op" id="7554350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7554353">func</span>&nbsp;<span class="ident" id="7554358">TestResponseContentLengthShortBody</span><span class="op" id="7554392">(</span><span class="ident" id="7554393">t</span>&nbsp;<span class="op" id="7554395">*</span><span class="ident" id="7554396"><a href="/gostd/net/http/response_test.go.html#7540792">testing</a></span><span class="op" id="7554403">.</span><span class="ident" id="7554404"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7554405">)</span>&nbsp;<span class="op" id="7554407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554410">const</span>&nbsp;<span class="ident" id="7554416">shortBody</span>&nbsp;<span class="op" id="7554426">=</span>&nbsp;<span class="string" id="7554428">&#34;Short&nbsp;body,&nbsp;not&nbsp;123&nbsp;bytes.&#34;</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554458">br</span>&nbsp;<span class="op" id="7554461">:=</span>&nbsp;<span class="ident" id="7554464"><a href="/gostd/net/http/response_test.go.html#7540652">bufio</a></span><span class="op" id="7554469">.</span><span class="ident" id="7554470"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7554479">(</span><span class="ident" id="7554480"><a href="/gostd/net/http/response_test.go.html#7540781">strings</a></span><span class="op" id="7554487">.</span><span class="ident" id="7554488"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7554497">(</span><span class="string" id="7554498">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span>&nbsp;<span class="op" id="7554520">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7554524">&#34;Content-Length:&nbsp;123\r\n&#34;</span>&nbsp;<span class="op" id="7554550">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7554554">&#34;\r\n&#34;</span>&nbsp;<span class="op" id="7554561">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554565"><a href="/gostd/net/http/response_test.go.html#7554416">shortBody</a></span><span class="op" id="7554574">)</span><span class="op" id="7554575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554578">res</span><span class="op" id="7554581">,</span>&nbsp;<span class="ident" id="7554583">err</span>&nbsp;<span class="op" id="7554587">:=</span>&nbsp;<span class="ident" id="7554590"><a href="/gostd/net/http/response.go.html#4164712">ReadResponse</a></span><span class="op" id="7554602">(</span><span class="ident" id="7554603"><a href="/gostd/net/http/response_test.go.html#7554458">br</a></span><span class="op" id="7554605">,</span>&nbsp;<span class="op" id="7554607">&amp;</span><span class="ident" id="7554608"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7554615">{</span><span class="ident" id="7554616"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7554622">:</span>&nbsp;<span class="string" id="7554624">&#34;GET&#34;</span><span class="op" id="7554629">}</span><span class="op" id="7554630">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554633">if</span>&nbsp;<span class="ident" id="7554636"><a href="/gostd/net/http/response_test.go.html#7554583">err</a></span>&nbsp;<span class="op" id="7554640">!=</span>&nbsp;<span class="builtintype" id="7554643">nil</span>&nbsp;<span class="op" id="7554647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554651"><a href="/gostd/net/http/response_test.go.html#7554393">t</a></span><span class="op" id="7554652">.</span><span class="ident" id="7554653"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7554658">(</span><span class="ident" id="7554659"><a href="/gostd/net/http/response_test.go.html#7554583">err</a></span><span class="op" id="7554662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554668">if</span>&nbsp;<span class="ident" id="7554671"><a href="/gostd/net/http/response_test.go.html#7554578">res</a></span><span class="op" id="7554674">.</span><span class="ident" id="7554675"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span>&nbsp;<span class="op" id="7554689">!=</span>&nbsp;<span class="num" id="7554692">123</span>&nbsp;<span class="op" id="7554696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554700"><a href="/gostd/net/http/response_test.go.html#7554393">t</a></span><span class="op" id="7554701">.</span><span class="ident" id="7554702"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7554708">(</span><span class="string" id="7554709">&#34;Content-Length&nbsp;=&nbsp;%d;&nbsp;want&nbsp;123&#34;</span><span class="op" id="7554740">,</span>&nbsp;<span class="ident" id="7554742"><a href="/gostd/net/http/response_test.go.html#7554578">res</a></span><span class="op" id="7554745">.</span><span class="ident" id="7554746"><a href="/gostd/net/http/response.go.html#4162765">ContentLength</a></span><span class="op" id="7554759">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554765">var</span>&nbsp;<span class="ident" id="7554769">buf</span>&nbsp;<span class="ident" id="7554773"><a href="/gostd/net/http/response_test.go.html#7540661">bytes</a></span><span class="op" id="7554778">.</span><span class="ident" id="7554779"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554787">n</span><span class="op" id="7554788">,</span>&nbsp;<span class="ident" id="7554790"><a href="/gostd/net/http/response_test.go.html#7554583">err</a></span>&nbsp;<span class="op" id="7554794">:=</span>&nbsp;<span class="ident" id="7554797"><a href="/gostd/net/http/response_test.go.html#7540709">io</a></span><span class="op" id="7554799">.</span><span class="ident" id="7554800"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="7554804">(</span><span class="op" id="7554805">&amp;</span><span class="ident" id="7554806"><a href="/gostd/net/http/response_test.go.html#7554769">buf</a></span><span class="op" id="7554809">,</span>&nbsp;<span class="ident" id="7554811"><a href="/gostd/net/http/response_test.go.html#7554578">res</a></span><span class="op" id="7554814">.</span><span class="ident" id="7554815"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><span class="op" id="7554819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554822">if</span>&nbsp;<span class="ident" id="7554825"><a href="/gostd/net/http/response_test.go.html#7554787">n</a></span>&nbsp;<span class="op" id="7554827">!=</span>&nbsp;<span class="builtintype" id="7554830">int64</span><span class="op" id="7554835">(</span><span class="builtinfunc" id="7554836">len</span><span class="op" id="7554839">(</span><span class="ident" id="7554840"><a href="/gostd/net/http/response_test.go.html#7554416">shortBody</a></span><span class="op" id="7554849">)</span><span class="op" id="7554850">)</span>&nbsp;<span class="op" id="7554852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554856"><a href="/gostd/net/http/response_test.go.html#7554393">t</a></span><span class="op" id="7554857">.</span><span class="ident" id="7554858"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7554864">(</span><span class="string" id="7554865">&#34;Copied&nbsp;%d&nbsp;bytes;&nbsp;want&nbsp;%d,&nbsp;len(%q)&#34;</span><span class="op" id="7554900">,</span>&nbsp;<span class="ident" id="7554902"><a href="/gostd/net/http/response_test.go.html#7554787">n</a></span><span class="op" id="7554903">,</span>&nbsp;<span class="builtinfunc" id="7554905">len</span><span class="op" id="7554908">(</span><span class="ident" id="7554909"><a href="/gostd/net/http/response_test.go.html#7554416">shortBody</a></span><span class="op" id="7554918">)</span><span class="op" id="7554919">,</span>&nbsp;<span class="ident" id="7554921"><a href="/gostd/net/http/response_test.go.html#7554416">shortBody</a></span><span class="op" id="7554930">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554936">if</span>&nbsp;<span class="ident" id="7554939"><a href="/gostd/net/http/response_test.go.html#7554769">buf</a></span><span class="op" id="7554942">.</span><span class="ident" id="7554943"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7554949">(</span><span class="op" id="7554950">)</span>&nbsp;<span class="op" id="7554952">!=</span>&nbsp;<span class="ident" id="7554955"><a href="/gostd/net/http/response_test.go.html#7554416">shortBody</a></span>&nbsp;<span class="op" id="7554965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554969"><a href="/gostd/net/http/response_test.go.html#7554393">t</a></span><span class="op" id="7554970">.</span><span class="ident" id="7554971"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7554977">(</span><span class="string" id="7554978">&#34;Read&nbsp;body&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7555001">,</span>&nbsp;<span class="ident" id="7555003"><a href="/gostd/net/http/response_test.go.html#7554769">buf</a></span><span class="op" id="7555006">.</span><span class="ident" id="7555007"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7555013">(</span><span class="op" id="7555014">)</span><span class="op" id="7555015">,</span>&nbsp;<span class="ident" id="7555017"><a href="/gostd/net/http/response_test.go.html#7554416">shortBody</a></span><span class="op" id="7555026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555032">if</span>&nbsp;<span class="ident" id="7555035"><a href="/gostd/net/http/response_test.go.html#7554583">err</a></span>&nbsp;<span class="op" id="7555039">!=</span>&nbsp;<span class="ident" id="7555042"><a href="/gostd/net/http/response_test.go.html#7540709">io</a></span><span class="op" id="7555044">.</span><span class="ident" id="7555045"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span>&nbsp;<span class="op" id="7555062">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555066"><a href="/gostd/net/http/response_test.go.html#7554393">t</a></span><span class="op" id="7555067">.</span><span class="ident" id="7555068"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7555074">(</span><span class="string" id="7555075">&#34;io.Copy&nbsp;error&nbsp;=&nbsp;%#v;&nbsp;want&nbsp;io.ErrUnexpectedEOF&#34;</span><span class="op" id="7555122">,</span>&nbsp;<span class="ident" id="7555124"><a href="/gostd/net/http/response_test.go.html#7554583">err</a></span><span class="op" id="7555127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555130">}</span><br>
<span class="lineno"></span><span class="op" id="7555132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7555135">func</span>&nbsp;<span class="ident" id="7555140">TestReadResponseUnexpectedEOF</span><span class="op" id="7555169">(</span><span class="ident" id="7555170">t</span>&nbsp;<span class="op" id="7555172">*</span><span class="ident" id="7555173"><a href="/gostd/net/http/response_test.go.html#7540792">testing</a></span><span class="op" id="7555180">.</span><span class="ident" id="7555181"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7555182">)</span>&nbsp;<span class="op" id="7555184">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555187">br</span>&nbsp;<span class="op" id="7555190">:=</span>&nbsp;<span class="ident" id="7555193"><a href="/gostd/net/http/response_test.go.html#7540652">bufio</a></span><span class="op" id="7555198">.</span><span class="ident" id="7555199"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7555208">(</span><span class="ident" id="7555209"><a href="/gostd/net/http/response_test.go.html#7540781">strings</a></span><span class="op" id="7555216">.</span><span class="ident" id="7555217"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7555226">(</span><span class="string" id="7555227">&#34;HTTP/1.1&nbsp;301&nbsp;Moved&nbsp;Permanently\r\n&#34;</span>&nbsp;<span class="op" id="7555264">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7555268">&#34;Location:&nbsp;http://example.com&#34;</span><span class="op" id="7555298">)</span><span class="op" id="7555299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555302">_</span><span class="op" id="7555303">,</span>&nbsp;<span class="ident" id="7555305">err</span>&nbsp;<span class="op" id="7555309">:=</span>&nbsp;<span class="ident" id="7555312"><a href="/gostd/net/http/response.go.html#4164712">ReadResponse</a></span><span class="op" id="7555324">(</span><span class="ident" id="7555325"><a href="/gostd/net/http/response_test.go.html#7555187">br</a></span><span class="op" id="7555327">,</span>&nbsp;<span class="builtintype" id="7555329">nil</span><span class="op" id="7555332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555335">if</span>&nbsp;<span class="ident" id="7555338"><a href="/gostd/net/http/response_test.go.html#7555305">err</a></span>&nbsp;<span class="op" id="7555342">!=</span>&nbsp;<span class="ident" id="7555345"><a href="/gostd/net/http/response_test.go.html#7540709">io</a></span><span class="op" id="7555347">.</span><span class="ident" id="7555348"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span>&nbsp;<span class="op" id="7555365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555369"><a href="/gostd/net/http/response_test.go.html#7555170">t</a></span><span class="op" id="7555370">.</span><span class="ident" id="7555371"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7555377">(</span><span class="string" id="7555378">&#34;ReadResponse&nbsp;=&nbsp;%v;&nbsp;want&nbsp;io.ErrUnexpectedEOF&#34;</span><span class="op" id="7555423">,</span>&nbsp;<span class="ident" id="7555425"><a href="/gostd/net/http/response_test.go.html#7555305">err</a></span><span class="op" id="7555428">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555431">}</span><br>
<span class="lineno"></span><span class="op" id="7555433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7555436">func</span>&nbsp;<span class="ident" id="7555441">TestNeedsSniff</span><span class="op" id="7555455">(</span><span class="ident" id="7555456">t</span>&nbsp;<span class="op" id="7555458">*</span><span class="ident" id="7555459"><a href="/gostd/net/http/response_test.go.html#7540792">testing</a></span><span class="op" id="7555466">.</span><span class="ident" id="7555467"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7555468">)</span>&nbsp;<span class="op" id="7555470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7555473">//&nbsp;needsSniff&nbsp;returns&nbsp;true&nbsp;with&nbsp;an&nbsp;empty&nbsp;response.</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555525">r</span>&nbsp;<span class="op" id="7555527">:=</span>&nbsp;<span class="op" id="7555530">&amp;</span><span class="ident" id="7555531"><a href="/gostd/net/http/server.go.html#4177673">response</a></span><span class="op" id="7555539">{</span><span class="op" id="7555540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555543">if</span>&nbsp;<span class="ident" id="7555546">got</span><span class="op" id="7555549">,</span>&nbsp;<span class="ident" id="7555551">want</span>&nbsp;<span class="op" id="7555556">:=</span>&nbsp;<span class="ident" id="7555559"><a href="/gostd/net/http/response_test.go.html#7555525">r</a></span><span class="op" id="7555560">.</span><span class="ident" id="7555561"><a href="/gostd/net/http/server.go.html#4179630">needsSniff</a></span><span class="op" id="7555571">(</span><span class="op" id="7555572">)</span><span class="op" id="7555573">,</span>&nbsp;<span class="builtintype" id="7555575">true</span><span class="op" id="7555579">;</span>&nbsp;<span class="ident" id="7555581"><a href="/gostd/net/http/response_test.go.html#7555546">got</a></span>&nbsp;<span class="op" id="7555585">!=</span>&nbsp;<span class="ident" id="7555588"><a href="/gostd/net/http/response_test.go.html#7555551">want</a></span>&nbsp;<span class="op" id="7555593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555597"><a href="/gostd/net/http/response_test.go.html#7555456">t</a></span><span class="op" id="7555598">.</span><span class="ident" id="7555599"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7555605">(</span><span class="string" id="7555606">&#34;needsSniff&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7555632">,</span>&nbsp;<span class="ident" id="7555634"><a href="/gostd/net/http/response_test.go.html#7555546">got</a></span><span class="op" id="7555637">,</span>&nbsp;<span class="ident" id="7555639"><a href="/gostd/net/http/response_test.go.html#7555551">want</a></span><span class="op" id="7555643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7555649">//&nbsp;needsSniff&nbsp;returns&nbsp;false&nbsp;when&nbsp;Content-Type&nbsp;=&nbsp;nil.</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555703"><a href="/gostd/net/http/response_test.go.html#7555525">r</a></span><span class="op" id="7555704">.</span><span class="ident" id="7555705"><a href="/gostd/net/http/server.go.html#4178271">handlerHeader</a></span>&nbsp;<span class="op" id="7555719">=</span>&nbsp;<span class="ident" id="7555721"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7555727">{</span><span class="string" id="7555728">&#34;Content-Type&#34;</span><span class="op" id="7555742">:</span>&nbsp;<span class="builtintype" id="7555744">nil</span><span class="op" id="7555747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555750">if</span>&nbsp;<span class="ident" id="7555753">got</span><span class="op" id="7555756">,</span>&nbsp;<span class="ident" id="7555758">want</span>&nbsp;<span class="op" id="7555763">:=</span>&nbsp;<span class="ident" id="7555766"><a href="/gostd/net/http/response_test.go.html#7555525">r</a></span><span class="op" id="7555767">.</span><span class="ident" id="7555768"><a href="/gostd/net/http/server.go.html#4179630">needsSniff</a></span><span class="op" id="7555778">(</span><span class="op" id="7555779">)</span><span class="op" id="7555780">,</span>&nbsp;<span class="builtintype" id="7555782">false</span><span class="op" id="7555787">;</span>&nbsp;<span class="ident" id="7555789"><a href="/gostd/net/http/response_test.go.html#7555753">got</a></span>&nbsp;<span class="op" id="7555793">!=</span>&nbsp;<span class="ident" id="7555796"><a href="/gostd/net/http/response_test.go.html#7555758">want</a></span>&nbsp;<span class="op" id="7555801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555805"><a href="/gostd/net/http/response_test.go.html#7555456">t</a></span><span class="op" id="7555806">.</span><span class="ident" id="7555807"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7555813">(</span><span class="string" id="7555814">&#34;needsSniff&nbsp;empty&nbsp;Content-Type&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7555859">,</span>&nbsp;<span class="ident" id="7555861"><a href="/gostd/net/http/response_test.go.html#7555753">got</a></span><span class="op" id="7555864">,</span>&nbsp;<span class="ident" id="7555866"><a href="/gostd/net/http/response_test.go.html#7555758">want</a></span><span class="op" id="7555870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555873">}</span><br>
<span class="lineno"></span><span class="op" id="7555875">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
