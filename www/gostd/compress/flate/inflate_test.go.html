<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6704132">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6704187">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6704241">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6704292">package</span>&nbsp;<span class="ident" id="6704300">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704307">import</span>&nbsp;<span class="op" id="6704314">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704317">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704326">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704332">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6704342">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704345">func</span>&nbsp;<span class="ident" id="6704350">TestReset</span><span class="op" id="6704359">(</span><span class="ident" id="6704360">t</span>&nbsp;<span class="op" id="6704362">*</span><span class="ident" id="6704363">testing</span><span class="op" id="6704370">.</span><span class="ident" id="6704371">T</span><span class="op" id="6704372">)</span>&nbsp;<span class="op" id="6704374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704377">ss</span>&nbsp;<span class="op" id="6704380">:=</span>&nbsp;<span class="op" id="6704383">[</span><span class="op" id="6704384">]</span><span class="builtintype" id="6704385">string</span><span class="op" id="6704391">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704395">&#34;lorem&nbsp;ipsum&nbsp;izzle&nbsp;fo&nbsp;rizzle&#34;</span><span class="op" id="6704424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6704428">&#34;the&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&#34;</span><span class="op" id="6704461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704468">deflated</span>&nbsp;<span class="op" id="6704477">:=</span>&nbsp;<span class="builtinfunc" id="6704480">make</span><span class="op" id="6704484">(</span><span class="op" id="6704485">[</span><span class="op" id="6704486">]</span><span class="ident" id="6704487">bytes</span><span class="op" id="6704492">.</span><span class="ident" id="6704493">Buffer</span><span class="op" id="6704499">,</span>&nbsp;<span class="num" id="6704501">2</span><span class="op" id="6704502">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704505">for</span>&nbsp;<span class="ident" id="6704509">i</span><span class="op" id="6704510">,</span>&nbsp;<span class="ident" id="6704512">s</span>&nbsp;<span class="op" id="6704514">:=</span>&nbsp;<span class="keyword" id="6704517">range</span>&nbsp;<span class="ident" id="6704523">ss</span>&nbsp;<span class="op" id="6704526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704530">w</span><span class="op" id="6704531">,</span>&nbsp;<span class="ident" id="6704533">_</span>&nbsp;<span class="op" id="6704535">:=</span>&nbsp;<span class="ident" id="6704538">NewWriter</span><span class="op" id="6704547">(</span><span class="op" id="6704548">&amp;</span><span class="ident" id="6704549">deflated</span><span class="op" id="6704557">[</span><span class="ident" id="6704558">i</span><span class="op" id="6704559">]</span><span class="op" id="6704560">,</span>&nbsp;<span class="num" id="6704562">1</span><span class="op" id="6704563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704567">w</span><span class="op" id="6704568">.</span><span class="ident" id="6704569">Write</span><span class="op" id="6704574">(</span><span class="op" id="6704575">[</span><span class="op" id="6704576">]</span><span class="builtintype" id="6704577">byte</span><span class="op" id="6704581">(</span><span class="ident" id="6704582">s</span><span class="op" id="6704583">)</span><span class="op" id="6704584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704588">w</span><span class="op" id="6704589">.</span><span class="ident" id="6704590">Close</span><span class="op" id="6704595">(</span><span class="op" id="6704596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704599">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704603">inflated</span>&nbsp;<span class="op" id="6704612">:=</span>&nbsp;<span class="builtinfunc" id="6704615">make</span><span class="op" id="6704619">(</span><span class="op" id="6704620">[</span><span class="op" id="6704621">]</span><span class="ident" id="6704622">bytes</span><span class="op" id="6704627">.</span><span class="ident" id="6704628">Buffer</span><span class="op" id="6704634">,</span>&nbsp;<span class="num" id="6704636">2</span><span class="op" id="6704637">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704641">f</span>&nbsp;<span class="op" id="6704643">:=</span>&nbsp;<span class="ident" id="6704646">NewReader</span><span class="op" id="6704655">(</span><span class="op" id="6704656">&amp;</span><span class="ident" id="6704657">deflated</span><span class="op" id="6704665">[</span><span class="num" id="6704666">0</span><span class="op" id="6704667">]</span><span class="op" id="6704668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704671">io</span><span class="op" id="6704673">.</span><span class="ident" id="6704674">Copy</span><span class="op" id="6704678">(</span><span class="op" id="6704679">&amp;</span><span class="ident" id="6704680">inflated</span><span class="op" id="6704688">[</span><span class="num" id="6704689">0</span><span class="op" id="6704690">]</span><span class="op" id="6704691">,</span>&nbsp;<span class="ident" id="6704693">f</span><span class="op" id="6704694">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704697">f</span><span class="op" id="6704698">.</span><span class="op" id="6704699">(</span><span class="ident" id="6704700">Resetter</span><span class="op" id="6704708">)</span><span class="op" id="6704709">.</span><span class="ident" id="6704710">Reset</span><span class="op" id="6704715">(</span><span class="op" id="6704716">&amp;</span><span class="ident" id="6704717">deflated</span><span class="op" id="6704725">[</span><span class="num" id="6704726">1</span><span class="op" id="6704727">]</span><span class="op" id="6704728">,</span>&nbsp;<span class="ident" id="6704730">nil</span><span class="op" id="6704733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704736">io</span><span class="op" id="6704738">.</span><span class="ident" id="6704739">Copy</span><span class="op" id="6704743">(</span><span class="op" id="6704744">&amp;</span><span class="ident" id="6704745">inflated</span><span class="op" id="6704753">[</span><span class="num" id="6704754">1</span><span class="op" id="6704755">]</span><span class="op" id="6704756">,</span>&nbsp;<span class="ident" id="6704758">f</span><span class="op" id="6704759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704762">f</span><span class="op" id="6704763">.</span><span class="ident" id="6704764">Close</span><span class="op" id="6704769">(</span><span class="op" id="6704770">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704774">for</span>&nbsp;<span class="ident" id="6704778">i</span><span class="op" id="6704779">,</span>&nbsp;<span class="ident" id="6704781">s</span>&nbsp;<span class="op" id="6704783">:=</span>&nbsp;<span class="keyword" id="6704786">range</span>&nbsp;<span class="ident" id="6704792">ss</span>&nbsp;<span class="op" id="6704795">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704799">if</span>&nbsp;<span class="ident" id="6704802">s</span>&nbsp;<span class="op" id="6704804">!=</span>&nbsp;<span class="ident" id="6704807">inflated</span><span class="op" id="6704815">[</span><span class="ident" id="6704816">i</span><span class="op" id="6704817">]</span><span class="op" id="6704818">.</span><span class="ident" id="6704819">String</span><span class="op" id="6704825">(</span><span class="op" id="6704826">)</span>&nbsp;<span class="op" id="6704828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704833">t</span><span class="op" id="6704834">.</span><span class="ident" id="6704835">Errorf</span><span class="op" id="6704841">(</span><span class="string" id="6704842">&#34;inflated[%d]:\ngot&nbsp;&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="6704875">,</span>&nbsp;<span class="ident" id="6704877">i</span><span class="op" id="6704878">,</span>&nbsp;<span class="ident" id="6704880">inflated</span><span class="op" id="6704888">[</span><span class="ident" id="6704889">i</span><span class="op" id="6704890">]</span><span class="op" id="6704891">,</span>&nbsp;<span class="ident" id="6704893">s</span><span class="op" id="6704894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704901">}</span><br>
<span class="lineno"></span><span class="op" id="6704903">}</span>
</div>
</body>
</html>
