<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8010645">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8010701">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8010755">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8010806">package</span>&nbsp;<span class="ident" id="8010814">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8010820">import</span>&nbsp;<span class="op" id="8010827">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8010830">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8010839">&#34;math&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8010847">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8010860">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8010871">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8010881">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="8010884">//&nbsp;Tests&nbsp;of&nbsp;simple&nbsp;examples.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8010914">type</span>&nbsp;<span class="ident" id="8010919">example</span>&nbsp;<span class="keyword" id="8010927">struct</span>&nbsp;<span class="op" id="8010934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8010937">compact</span>&nbsp;<span class="builtintype" id="8010945">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8010953">indent</span>&nbsp;&nbsp;<span class="builtintype" id="8010961">string</span><br>
<span class="lineno">20</span><span class="op" id="8010968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8010971">var</span>&nbsp;<span class="ident" id="8010975">examples</span>&nbsp;<span class="op" id="8010984">=</span>&nbsp;<span class="op" id="8010986">[</span><span class="op" id="8010987">]</span><span class="ident" id="8010988"><a href="/encoding/json/scanner_test.go.html#8010919">example</a></span><span class="op" id="8010995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8010998">{</span><span class="string" id="8010999">`1`</span><span class="op" id="8011002">,</span>&nbsp;<span class="string" id="8011004">`1`</span><span class="op" id="8011007">}</span><span class="op" id="8011008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011011">{</span><span class="string" id="8011012">`{}`</span><span class="op" id="8011016">,</span>&nbsp;<span class="string" id="8011018">`{}`</span><span class="op" id="8011022">}</span><span class="op" id="8011023">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011026">{</span><span class="string" id="8011027">`[]`</span><span class="op" id="8011031">,</span>&nbsp;<span class="string" id="8011033">`[]`</span><span class="op" id="8011037">}</span><span class="op" id="8011038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011041">{</span><span class="string" id="8011042">`{&#34;&#34;:2}`</span><span class="op" id="8011050">,</span>&nbsp;<span class="string" id="8011052">&#34;{\n\t\&#34;\&#34;:&nbsp;2\n}&#34;</span><span class="op" id="8011069">}</span><span class="op" id="8011070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011073">{</span><span class="string" id="8011074">`[3]`</span><span class="op" id="8011079">,</span>&nbsp;<span class="string" id="8011081">&#34;[\n\t3\n]&#34;</span><span class="op" id="8011092">}</span><span class="op" id="8011093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011096">{</span><span class="string" id="8011097">`[1,2,3]`</span><span class="op" id="8011106">,</span>&nbsp;<span class="string" id="8011108">&#34;[\n\t1,\n\t2,\n\t3\n]&#34;</span><span class="op" id="8011131">}</span><span class="op" id="8011132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011135">{</span><span class="string" id="8011136">`{&#34;x&#34;:1}`</span><span class="op" id="8011145">,</span>&nbsp;<span class="string" id="8011147">&#34;{\n\t\&#34;x\&#34;:&nbsp;1\n}&#34;</span><span class="op" id="8011165">}</span><span class="op" id="8011166">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011169">{</span><span class="ident" id="8011170"><a href="/encoding/json/scanner_test.go.html#8011189">ex1</a></span><span class="op" id="8011173">,</span>&nbsp;<span class="ident" id="8011175"><a href="/encoding/json/scanner_test.go.html#8011238">ex1i</a></span><span class="op" id="8011179">}</span><span class="op" id="8011180">,</span><br>
<span class="lineno"></span><span class="op" id="8011182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8011185">var</span>&nbsp;<span class="ident" id="8011189">ex1</span>&nbsp;<span class="op" id="8011193">=</span>&nbsp;<span class="string" id="8011195">`[true,false,null,&#34;x&#34;,1,1.5,0,-5e+2]`</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="8011234">var</span>&nbsp;<span class="ident" id="8011238">ex1i</span>&nbsp;<span class="op" id="8011243">=</span>&nbsp;<span class="string" id="8011245">`[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsptrue,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfalse,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspnull,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;x&#34;,<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp1.5,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp-5e+2<br>
<span class="lineno"></span>]`</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="8011301">func</span>&nbsp;<span class="ident" id="8011306">TestCompact</span><span class="op" id="8011317">(</span><span class="ident" id="8011318">t</span>&nbsp;<span class="op" id="8011320">*</span><span class="ident" id="8011321"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8011328">.</span><span class="ident" id="8011329">T</span><span class="op" id="8011330">)</span>&nbsp;<span class="op" id="8011332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8011335">var</span>&nbsp;<span class="ident" id="8011339">buf</span>&nbsp;<span class="ident" id="8011343"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8011348">.</span><span class="ident" id="8011349">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8011357">for</span>&nbsp;<span class="ident" id="8011361">_</span><span class="op" id="8011362">,</span>&nbsp;<span class="ident" id="8011364">tt</span>&nbsp;<span class="op" id="8011367">:=</span>&nbsp;<span class="keyword" id="8011370">range</span>&nbsp;<span class="ident" id="8011376"><a href="/encoding/json/scanner_test.go.html#8010975">examples</a></span>&nbsp;<span class="op" id="8011385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8011389"><a href="/encoding/json/scanner_test.go.html#8011339">buf</a></span><span class="op" id="8011392">.</span><span class="ident" id="8011393">Reset</span><span class="op" id="8011398">(</span><span class="op" id="8011399">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8011403">if</span>&nbsp;<span class="ident" id="8011406">err</span>&nbsp;<span class="op" id="8011410">:=</span>&nbsp;<span class="ident" id="8011413"><a href="/encoding/json/indent.go.html#3695799">Compact</a></span><span class="op" id="8011420">(</span><span class="op" id="8011421">&amp;</span><span class="ident" id="8011422"><a href="/encoding/json/scanner_test.go.html#8011339">buf</a></span><span class="op" id="8011425">,</span>&nbsp;<span class="op" id="8011427">[</span><span class="op" id="8011428">]</span><span class="builtintype" id="8011429">byte</span><span class="op" id="8011433">(</span><span class="ident" id="8011434"><a href="/encoding/json/scanner_test.go.html#8011364">tt</a></span><span class="op" id="8011436">.</span><span class="ident" id="8011437">compact</span><span class="op" id="8011444">)</span><span class="op" id="8011445">)</span><span class="op" id="8011446">;</span>&nbsp;<span class="ident" id="8011448"><a href="/encoding/json/scanner_test.go.html#8011406">err</a></span>&nbsp;<span class="op" id="8011452">!=</span>&nbsp;<span class="ident" id="8011455">nil</span>&nbsp;<span class="op" id="8011459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8011464"><a href="/encoding/json/scanner_test.go.html#8011318">t</a></span><span class="op" id="8011465">.</span><span class="ident" id="8011466">Errorf</span><span class="op" id="8011472">(</span><span class="string" id="8011473">&#34;Compact(%#q):&nbsp;%v&#34;</span><span class="op" id="8011491">,</span>&nbsp;<span class="ident" id="8011493"><a href="/encoding/json/scanner_test.go.html#8011364">tt</a></span><span class="op" id="8011495">.</span><span class="ident" id="8011496">compact</span><span class="op" id="8011503">,</span>&nbsp;<span class="ident" id="8011505"><a href="/encoding/json/scanner_test.go.html#8011406">err</a></span><span class="op" id="8011508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011512">}</span>&nbsp;<span class="keyword" id="8011514">else</span>&nbsp;<span class="keyword" id="8011519">if</span>&nbsp;<span class="ident" id="8011522">s</span>&nbsp;<span class="op" id="8011524">:=</span>&nbsp;<span class="ident" id="8011527"><a href="/encoding/json/scanner_test.go.html#8011339">buf</a></span><span class="op" id="8011530">.</span><span class="ident" id="8011531">String</span><span class="op" id="8011537">(</span><span class="op" id="8011538">)</span><span class="op" id="8011539">;</span>&nbsp;<span class="ident" id="8011541"><a href="/encoding/json/scanner_test.go.html#8011522">s</a></span>&nbsp;<span class="op" id="8011543">!=</span>&nbsp;<span class="ident" id="8011546"><a href="/encoding/json/scanner_test.go.html#8011364">tt</a></span><span class="op" id="8011548">.</span><span class="ident" id="8011549">compact</span>&nbsp;<span class="op" id="8011557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8011562"><a href="/encoding/json/scanner_test.go.html#8011318">t</a></span><span class="op" id="8011563">.</span><span class="ident" id="8011564">Errorf</span><span class="op" id="8011570">(</span><span class="string" id="8011571">&#34;Compact(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;original&#34;</span><span class="op" id="8011606">,</span>&nbsp;<span class="ident" id="8011608"><a href="/encoding/json/scanner_test.go.html#8011364">tt</a></span><span class="op" id="8011610">.</span><span class="ident" id="8011611">compact</span><span class="op" id="8011618">,</span>&nbsp;<span class="ident" id="8011620"><a href="/encoding/json/scanner_test.go.html#8011522">s</a></span><span class="op" id="8011621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011625">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8011630"><a href="/encoding/json/scanner_test.go.html#8011339">buf</a></span><span class="op" id="8011633">.</span><span class="ident" id="8011634">Reset</span><span class="op" id="8011639">(</span><span class="op" id="8011640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8011644">if</span>&nbsp;<span class="ident" id="8011647">err</span>&nbsp;<span class="op" id="8011651">:=</span>&nbsp;<span class="ident" id="8011654"><a href="/encoding/json/indent.go.html#3695799">Compact</a></span><span class="op" id="8011661">(</span><span class="op" id="8011662">&amp;</span><span class="ident" id="8011663"><a href="/encoding/json/scanner_test.go.html#8011339">buf</a></span><span class="op" id="8011666">,</span>&nbsp;<span class="op" id="8011668">[</span><span class="op" id="8011669">]</span><span class="builtintype" id="8011670">byte</span><span class="op" id="8011674">(</span><span class="ident" id="8011675"><a href="/encoding/json/scanner_test.go.html#8011364">tt</a></span><span class="op" id="8011677">.</span><span class="ident" id="8011678">indent</span><span class="op" id="8011684">)</span><span class="op" id="8011685">)</span><span class="op" id="8011686">;</span>&nbsp;<span class="ident" id="8011688"><a href="/encoding/json/scanner_test.go.html#8011647">err</a></span>&nbsp;<span class="op" id="8011692">!=</span>&nbsp;<span class="ident" id="8011695">nil</span>&nbsp;<span class="op" id="8011699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8011704"><a href="/encoding/json/scanner_test.go.html#8011318">t</a></span><span class="op" id="8011705">.</span><span class="ident" id="8011706">Errorf</span><span class="op" id="8011712">(</span><span class="string" id="8011713">&#34;Compact(%#q):&nbsp;%v&#34;</span><span class="op" id="8011731">,</span>&nbsp;<span class="ident" id="8011733"><a href="/encoding/json/scanner_test.go.html#8011364">tt</a></span><span class="op" id="8011735">.</span><span class="ident" id="8011736">indent</span><span class="op" id="8011742">,</span>&nbsp;<span class="ident" id="8011744"><a href="/encoding/json/scanner_test.go.html#8011647">err</a></span><span class="op" id="8011747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8011752">continue</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011763">}</span>&nbsp;<span class="keyword" id="8011765">else</span>&nbsp;<span class="keyword" id="8011770">if</span>&nbsp;<span class="ident" id="8011773">s</span>&nbsp;<span class="op" id="8011775">:=</span>&nbsp;<span class="ident" id="8011778"><a href="/encoding/json/scanner_test.go.html#8011339">buf</a></span><span class="op" id="8011781">.</span><span class="ident" id="8011782">String</span><span class="op" id="8011788">(</span><span class="op" id="8011789">)</span><span class="op" id="8011790">;</span>&nbsp;<span class="ident" id="8011792"><a href="/encoding/json/scanner_test.go.html#8011773">s</a></span>&nbsp;<span class="op" id="8011794">!=</span>&nbsp;<span class="ident" id="8011797"><a href="/encoding/json/scanner_test.go.html#8011364">tt</a></span><span class="op" id="8011799">.</span><span class="ident" id="8011800">compact</span>&nbsp;<span class="op" id="8011808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8011813"><a href="/encoding/json/scanner_test.go.html#8011318">t</a></span><span class="op" id="8011814">.</span><span class="ident" id="8011815">Errorf</span><span class="op" id="8011821">(</span><span class="string" id="8011822">&#34;Compact(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="8011852">,</span>&nbsp;<span class="ident" id="8011854"><a href="/encoding/json/scanner_test.go.html#8011364">tt</a></span><span class="op" id="8011856">.</span><span class="ident" id="8011857">indent</span><span class="op" id="8011863">,</span>&nbsp;<span class="ident" id="8011865"><a href="/encoding/json/scanner_test.go.html#8011773">s</a></span><span class="op" id="8011866">,</span>&nbsp;<span class="ident" id="8011868"><a href="/encoding/json/scanner_test.go.html#8011364">tt</a></span><span class="op" id="8011870">.</span><span class="ident" id="8011871">compact</span><span class="op" id="8011878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8011885">}</span><br>
<span class="lineno"></span><span class="op" id="8011887">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8011890">func</span>&nbsp;<span class="ident" id="8011895">TestCompactSeparators</span><span class="op" id="8011916">(</span><span class="ident" id="8011917">t</span>&nbsp;<span class="op" id="8011919">*</span><span class="ident" id="8011920"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8011927">.</span><span class="ident" id="8011928">T</span><span class="op" id="8011929">)</span>&nbsp;<span class="op" id="8011931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8011934">//&nbsp;U+2028&nbsp;and&nbsp;U+2029&nbsp;should&nbsp;be&nbsp;escaped&nbsp;inside&nbsp;strings.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8011990">//&nbsp;They&nbsp;should&nbsp;not&nbsp;appear&nbsp;outside&nbsp;strings.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012034">tests</span>&nbsp;<span class="op" id="8012040">:=</span>&nbsp;<span class="op" id="8012043">[</span><span class="op" id="8012044">]</span><span class="keyword" id="8012045">struct</span>&nbsp;<span class="op" id="8012052">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012056">in</span><span class="op" id="8012058">,</span>&nbsp;<span class="ident" id="8012060">compact</span>&nbsp;<span class="builtintype" id="8012068">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012076">}</span><span class="op" id="8012077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012081">{</span><span class="string" id="8012082">&#34;{\&#34;\u2028\&#34;:&nbsp;1}&#34;</span><span class="op" id="8012099">,</span>&nbsp;<span class="string" id="8012101">`{&#34;\u2028&#34;:1}`</span><span class="op" id="8012115">}</span><span class="op" id="8012116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012120">{</span><span class="string" id="8012121">&#34;{\&#34;\u2029\&#34;&nbsp;:2}&#34;</span><span class="op" id="8012138">,</span>&nbsp;<span class="string" id="8012140">`{&#34;\u2029&#34;:2}`</span><span class="op" id="8012154">}</span><span class="op" id="8012155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012158">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8012161">for</span>&nbsp;<span class="ident" id="8012165">_</span><span class="op" id="8012166">,</span>&nbsp;<span class="ident" id="8012168">tt</span>&nbsp;<span class="op" id="8012171">:=</span>&nbsp;<span class="keyword" id="8012174">range</span>&nbsp;<span class="ident" id="8012180"><a href="/encoding/json/scanner_test.go.html#8012034">tests</a></span>&nbsp;<span class="op" id="8012186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8012190">var</span>&nbsp;<span class="ident" id="8012194">buf</span>&nbsp;<span class="ident" id="8012198"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8012203">.</span><span class="ident" id="8012204">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8012213">if</span>&nbsp;<span class="ident" id="8012216">err</span>&nbsp;<span class="op" id="8012220">:=</span>&nbsp;<span class="ident" id="8012223"><a href="/encoding/json/indent.go.html#3695799">Compact</a></span><span class="op" id="8012230">(</span><span class="op" id="8012231">&amp;</span><span class="ident" id="8012232"><a href="/encoding/json/scanner_test.go.html#8012194">buf</a></span><span class="op" id="8012235">,</span>&nbsp;<span class="op" id="8012237">[</span><span class="op" id="8012238">]</span><span class="builtintype" id="8012239">byte</span><span class="op" id="8012243">(</span><span class="ident" id="8012244"><a href="/encoding/json/scanner_test.go.html#8012168">tt</a></span><span class="op" id="8012246">.</span><span class="ident" id="8012247">in</span><span class="op" id="8012249">)</span><span class="op" id="8012250">)</span><span class="op" id="8012251">;</span>&nbsp;<span class="ident" id="8012253"><a href="/encoding/json/scanner_test.go.html#8012216">err</a></span>&nbsp;<span class="op" id="8012257">!=</span>&nbsp;<span class="ident" id="8012260">nil</span>&nbsp;<span class="op" id="8012264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012269"><a href="/encoding/json/scanner_test.go.html#8011917">t</a></span><span class="op" id="8012270">.</span><span class="ident" id="8012271">Errorf</span><span class="op" id="8012277">(</span><span class="string" id="8012278">&#34;Compact(%q):&nbsp;%v&#34;</span><span class="op" id="8012295">,</span>&nbsp;<span class="ident" id="8012297"><a href="/encoding/json/scanner_test.go.html#8012168">tt</a></span><span class="op" id="8012299">.</span><span class="ident" id="8012300">in</span><span class="op" id="8012302">,</span>&nbsp;<span class="ident" id="8012304"><a href="/encoding/json/scanner_test.go.html#8012216">err</a></span><span class="op" id="8012307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012311">}</span>&nbsp;<span class="keyword" id="8012313">else</span>&nbsp;<span class="keyword" id="8012318">if</span>&nbsp;<span class="ident" id="8012321">s</span>&nbsp;<span class="op" id="8012323">:=</span>&nbsp;<span class="ident" id="8012326"><a href="/encoding/json/scanner_test.go.html#8012194">buf</a></span><span class="op" id="8012329">.</span><span class="ident" id="8012330">String</span><span class="op" id="8012336">(</span><span class="op" id="8012337">)</span><span class="op" id="8012338">;</span>&nbsp;<span class="ident" id="8012340"><a href="/encoding/json/scanner_test.go.html#8012321">s</a></span>&nbsp;<span class="op" id="8012342">!=</span>&nbsp;<span class="ident" id="8012345"><a href="/encoding/json/scanner_test.go.html#8012168">tt</a></span><span class="op" id="8012347">.</span><span class="ident" id="8012348">compact</span>&nbsp;<span class="op" id="8012356">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012361"><a href="/encoding/json/scanner_test.go.html#8011917">t</a></span><span class="op" id="8012362">.</span><span class="ident" id="8012363">Errorf</span><span class="op" id="8012369">(</span><span class="string" id="8012370">&#34;Compact(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8012397">,</span>&nbsp;<span class="ident" id="8012399"><a href="/encoding/json/scanner_test.go.html#8012168">tt</a></span><span class="op" id="8012401">.</span><span class="ident" id="8012402">in</span><span class="op" id="8012404">,</span>&nbsp;<span class="ident" id="8012406"><a href="/encoding/json/scanner_test.go.html#8012321">s</a></span><span class="op" id="8012407">,</span>&nbsp;<span class="ident" id="8012409"><a href="/encoding/json/scanner_test.go.html#8012168">tt</a></span><span class="op" id="8012411">.</span><span class="ident" id="8012412">compact</span><span class="op" id="8012419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012426">}</span><br>
<span class="lineno"></span><span class="op" id="8012428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="8012431">func</span>&nbsp;<span class="ident" id="8012436">TestIndent</span><span class="op" id="8012446">(</span><span class="ident" id="8012447">t</span>&nbsp;<span class="op" id="8012449">*</span><span class="ident" id="8012450"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8012457">.</span><span class="ident" id="8012458">T</span><span class="op" id="8012459">)</span>&nbsp;<span class="op" id="8012461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8012464">var</span>&nbsp;<span class="ident" id="8012468">buf</span>&nbsp;<span class="ident" id="8012472"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8012477">.</span><span class="ident" id="8012478">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8012486">for</span>&nbsp;<span class="ident" id="8012490">_</span><span class="op" id="8012491">,</span>&nbsp;<span class="ident" id="8012493">tt</span>&nbsp;<span class="op" id="8012496">:=</span>&nbsp;<span class="keyword" id="8012499">range</span>&nbsp;<span class="ident" id="8012505"><a href="/encoding/json/scanner_test.go.html#8010975">examples</a></span>&nbsp;<span class="op" id="8012514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012518"><a href="/encoding/json/scanner_test.go.html#8012468">buf</a></span><span class="op" id="8012521">.</span><span class="ident" id="8012522">Reset</span><span class="op" id="8012527">(</span><span class="op" id="8012528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8012532">if</span>&nbsp;<span class="ident" id="8012535">err</span>&nbsp;<span class="op" id="8012539">:=</span>&nbsp;<span class="ident" id="8012542"><a href="/encoding/json/indent.go.html#3697432">Indent</a></span><span class="op" id="8012548">(</span><span class="op" id="8012549">&amp;</span><span class="ident" id="8012550"><a href="/encoding/json/scanner_test.go.html#8012468">buf</a></span><span class="op" id="8012553">,</span>&nbsp;<span class="op" id="8012555">[</span><span class="op" id="8012556">]</span><span class="builtintype" id="8012557">byte</span><span class="op" id="8012561">(</span><span class="ident" id="8012562"><a href="/encoding/json/scanner_test.go.html#8012493">tt</a></span><span class="op" id="8012564">.</span><span class="ident" id="8012565">indent</span><span class="op" id="8012571">)</span><span class="op" id="8012572">,</span>&nbsp;<span class="string" id="8012574">&#34;&#34;</span><span class="op" id="8012576">,</span>&nbsp;<span class="string" id="8012578">&#34;\t&#34;</span><span class="op" id="8012582">)</span><span class="op" id="8012583">;</span>&nbsp;<span class="ident" id="8012585"><a href="/encoding/json/scanner_test.go.html#8012535">err</a></span>&nbsp;<span class="op" id="8012589">!=</span>&nbsp;<span class="ident" id="8012592">nil</span>&nbsp;<span class="op" id="8012596">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012601"><a href="/encoding/json/scanner_test.go.html#8012447">t</a></span><span class="op" id="8012602">.</span><span class="ident" id="8012603">Errorf</span><span class="op" id="8012609">(</span><span class="string" id="8012610">&#34;Indent(%#q):&nbsp;%v&#34;</span><span class="op" id="8012627">,</span>&nbsp;<span class="ident" id="8012629"><a href="/encoding/json/scanner_test.go.html#8012493">tt</a></span><span class="op" id="8012631">.</span><span class="ident" id="8012632">indent</span><span class="op" id="8012638">,</span>&nbsp;<span class="ident" id="8012640"><a href="/encoding/json/scanner_test.go.html#8012535">err</a></span><span class="op" id="8012643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012647">}</span>&nbsp;<span class="keyword" id="8012649">else</span>&nbsp;<span class="keyword" id="8012654">if</span>&nbsp;<span class="ident" id="8012657">s</span>&nbsp;<span class="op" id="8012659">:=</span>&nbsp;<span class="ident" id="8012662"><a href="/encoding/json/scanner_test.go.html#8012468">buf</a></span><span class="op" id="8012665">.</span><span class="ident" id="8012666">String</span><span class="op" id="8012672">(</span><span class="op" id="8012673">)</span><span class="op" id="8012674">;</span>&nbsp;<span class="ident" id="8012676"><a href="/encoding/json/scanner_test.go.html#8012657">s</a></span>&nbsp;<span class="op" id="8012678">!=</span>&nbsp;<span class="ident" id="8012681"><a href="/encoding/json/scanner_test.go.html#8012493">tt</a></span><span class="op" id="8012683">.</span><span class="ident" id="8012684">indent</span>&nbsp;<span class="op" id="8012691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012696"><a href="/encoding/json/scanner_test.go.html#8012447">t</a></span><span class="op" id="8012697">.</span><span class="ident" id="8012698">Errorf</span><span class="op" id="8012704">(</span><span class="string" id="8012705">&#34;Indent(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;original&#34;</span><span class="op" id="8012739">,</span>&nbsp;<span class="ident" id="8012741"><a href="/encoding/json/scanner_test.go.html#8012493">tt</a></span><span class="op" id="8012743">.</span><span class="ident" id="8012744">indent</span><span class="op" id="8012750">,</span>&nbsp;<span class="ident" id="8012752"><a href="/encoding/json/scanner_test.go.html#8012657">s</a></span><span class="op" id="8012753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012762"><a href="/encoding/json/scanner_test.go.html#8012468">buf</a></span><span class="op" id="8012765">.</span><span class="ident" id="8012766">Reset</span><span class="op" id="8012771">(</span><span class="op" id="8012772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8012776">if</span>&nbsp;<span class="ident" id="8012779">err</span>&nbsp;<span class="op" id="8012783">:=</span>&nbsp;<span class="ident" id="8012786"><a href="/encoding/json/indent.go.html#3697432">Indent</a></span><span class="op" id="8012792">(</span><span class="op" id="8012793">&amp;</span><span class="ident" id="8012794"><a href="/encoding/json/scanner_test.go.html#8012468">buf</a></span><span class="op" id="8012797">,</span>&nbsp;<span class="op" id="8012799">[</span><span class="op" id="8012800">]</span><span class="builtintype" id="8012801">byte</span><span class="op" id="8012805">(</span><span class="ident" id="8012806"><a href="/encoding/json/scanner_test.go.html#8012493">tt</a></span><span class="op" id="8012808">.</span><span class="ident" id="8012809">compact</span><span class="op" id="8012816">)</span><span class="op" id="8012817">,</span>&nbsp;<span class="string" id="8012819">&#34;&#34;</span><span class="op" id="8012821">,</span>&nbsp;<span class="string" id="8012823">&#34;\t&#34;</span><span class="op" id="8012827">)</span><span class="op" id="8012828">;</span>&nbsp;<span class="ident" id="8012830"><a href="/encoding/json/scanner_test.go.html#8012779">err</a></span>&nbsp;<span class="op" id="8012834">!=</span>&nbsp;<span class="ident" id="8012837">nil</span>&nbsp;<span class="op" id="8012841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012846"><a href="/encoding/json/scanner_test.go.html#8012447">t</a></span><span class="op" id="8012847">.</span><span class="ident" id="8012848">Errorf</span><span class="op" id="8012854">(</span><span class="string" id="8012855">&#34;Indent(%#q):&nbsp;%v&#34;</span><span class="op" id="8012872">,</span>&nbsp;<span class="ident" id="8012874"><a href="/encoding/json/scanner_test.go.html#8012493">tt</a></span><span class="op" id="8012876">.</span><span class="ident" id="8012877">compact</span><span class="op" id="8012884">,</span>&nbsp;<span class="ident" id="8012886"><a href="/encoding/json/scanner_test.go.html#8012779">err</a></span><span class="op" id="8012889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8012894">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8012905">}</span>&nbsp;<span class="keyword" id="8012907">else</span>&nbsp;<span class="keyword" id="8012912">if</span>&nbsp;<span class="ident" id="8012915">s</span>&nbsp;<span class="op" id="8012917">:=</span>&nbsp;<span class="ident" id="8012920"><a href="/encoding/json/scanner_test.go.html#8012468">buf</a></span><span class="op" id="8012923">.</span><span class="ident" id="8012924">String</span><span class="op" id="8012930">(</span><span class="op" id="8012931">)</span><span class="op" id="8012932">;</span>&nbsp;<span class="ident" id="8012934"><a href="/encoding/json/scanner_test.go.html#8012915">s</a></span>&nbsp;<span class="op" id="8012936">!=</span>&nbsp;<span class="ident" id="8012939"><a href="/encoding/json/scanner_test.go.html#8012493">tt</a></span><span class="op" id="8012941">.</span><span class="ident" id="8012942">indent</span>&nbsp;<span class="op" id="8012949">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8012954"><a href="/encoding/json/scanner_test.go.html#8012447">t</a></span><span class="op" id="8012955">.</span><span class="ident" id="8012956">Errorf</span><span class="op" id="8012962">(</span><span class="string" id="8012963">&#34;Indent(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="8012992">,</span>&nbsp;<span class="ident" id="8012994"><a href="/encoding/json/scanner_test.go.html#8012493">tt</a></span><span class="op" id="8012996">.</span><span class="ident" id="8012997">compact</span><span class="op" id="8013004">,</span>&nbsp;<span class="ident" id="8013006"><a href="/encoding/json/scanner_test.go.html#8012915">s</a></span><span class="op" id="8013007">,</span>&nbsp;<span class="ident" id="8013009"><a href="/encoding/json/scanner_test.go.html#8012493">tt</a></span><span class="op" id="8013011">.</span><span class="ident" id="8013012">indent</span><span class="op" id="8013018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8013022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8013025">}</span><br>
<span class="lineno"></span><span class="op" id="8013027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="8013030">//&nbsp;Tests&nbsp;of&nbsp;a&nbsp;large&nbsp;random&nbsp;structure.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8013069">func</span>&nbsp;<span class="ident" id="8013074">TestCompactBig</span><span class="op" id="8013088">(</span><span class="ident" id="8013089">t</span>&nbsp;<span class="op" id="8013091">*</span><span class="ident" id="8013092"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8013099">.</span><span class="ident" id="8013100">T</span><span class="op" id="8013101">)</span>&nbsp;<span class="op" id="8013103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013106"><a href="/encoding/json/scanner_test.go.html#8016040">initBig</a></span><span class="op" id="8013113">(</span><span class="op" id="8013114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013117">var</span>&nbsp;<span class="ident" id="8013121">buf</span>&nbsp;<span class="ident" id="8013125"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8013130">.</span><span class="ident" id="8013131">Buffer</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013139">if</span>&nbsp;<span class="ident" id="8013142">err</span>&nbsp;<span class="op" id="8013146">:=</span>&nbsp;<span class="ident" id="8013149"><a href="/encoding/json/indent.go.html#3695799">Compact</a></span><span class="op" id="8013156">(</span><span class="op" id="8013157">&amp;</span><span class="ident" id="8013158"><a href="/encoding/json/scanner_test.go.html#8013121">buf</a></span><span class="op" id="8013161">,</span>&nbsp;<span class="ident" id="8013163"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8013170">)</span><span class="op" id="8013171">;</span>&nbsp;<span class="ident" id="8013173"><a href="/encoding/json/scanner_test.go.html#8013142">err</a></span>&nbsp;<span class="op" id="8013177">!=</span>&nbsp;<span class="ident" id="8013180">nil</span>&nbsp;<span class="op" id="8013184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013188"><a href="/encoding/json/scanner_test.go.html#8013089">t</a></span><span class="op" id="8013189">.</span><span class="ident" id="8013190">Fatalf</span><span class="op" id="8013196">(</span><span class="string" id="8013197">&#34;Compact:&nbsp;%v&#34;</span><span class="op" id="8013210">,</span>&nbsp;<span class="ident" id="8013212"><a href="/encoding/json/scanner_test.go.html#8013142">err</a></span><span class="op" id="8013215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8013218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013221">b</span>&nbsp;<span class="op" id="8013223">:=</span>&nbsp;<span class="ident" id="8013226"><a href="/encoding/json/scanner_test.go.html#8013121">buf</a></span><span class="op" id="8013229">.</span><span class="ident" id="8013230">Bytes</span><span class="op" id="8013235">(</span><span class="op" id="8013236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013239">if</span>&nbsp;<span class="op" id="8013242">!</span><span class="ident" id="8013243"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8013248">.</span><span class="ident" id="8013249">Equal</span><span class="op" id="8013254">(</span><span class="ident" id="8013255"><a href="/encoding/json/scanner_test.go.html#8013221">b</a></span><span class="op" id="8013256">,</span>&nbsp;<span class="ident" id="8013258"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8013265">)</span>&nbsp;<span class="op" id="8013267">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013271"><a href="/encoding/json/scanner_test.go.html#8013089">t</a></span><span class="op" id="8013272">.</span><span class="ident" id="8013273">Error</span><span class="op" id="8013278">(</span><span class="string" id="8013279">&#34;Compact(jsonBig)&nbsp;!=&nbsp;jsonBig&#34;</span><span class="op" id="8013308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013312"><a href="/encoding/json/scanner_test.go.html#8015655">diff</a></span><span class="op" id="8013316">(</span><span class="ident" id="8013317"><a href="/encoding/json/scanner_test.go.html#8013089">t</a></span><span class="op" id="8013318">,</span>&nbsp;<span class="ident" id="8013320"><a href="/encoding/json/scanner_test.go.html#8013221">b</a></span><span class="op" id="8013321">,</span>&nbsp;<span class="ident" id="8013323"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8013330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013334">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8013342">}</span><br>
<span class="lineno"></span><span class="op" id="8013344">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="8013347">func</span>&nbsp;<span class="ident" id="8013352">TestIndentBig</span><span class="op" id="8013365">(</span><span class="ident" id="8013366">t</span>&nbsp;<span class="op" id="8013368">*</span><span class="ident" id="8013369"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8013376">.</span><span class="ident" id="8013377">T</span><span class="op" id="8013378">)</span>&nbsp;<span class="op" id="8013380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013383"><a href="/encoding/json/scanner_test.go.html#8016040">initBig</a></span><span class="op" id="8013390">(</span><span class="op" id="8013391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013394">var</span>&nbsp;<span class="ident" id="8013398">buf</span>&nbsp;<span class="ident" id="8013402"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8013407">.</span><span class="ident" id="8013408">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013416">if</span>&nbsp;<span class="ident" id="8013419">err</span>&nbsp;<span class="op" id="8013423">:=</span>&nbsp;<span class="ident" id="8013426"><a href="/encoding/json/indent.go.html#3697432">Indent</a></span><span class="op" id="8013432">(</span><span class="op" id="8013433">&amp;</span><span class="ident" id="8013434"><a href="/encoding/json/scanner_test.go.html#8013398">buf</a></span><span class="op" id="8013437">,</span>&nbsp;<span class="ident" id="8013439"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8013446">,</span>&nbsp;<span class="string" id="8013448">&#34;&#34;</span><span class="op" id="8013450">,</span>&nbsp;<span class="string" id="8013452">&#34;\t&#34;</span><span class="op" id="8013456">)</span><span class="op" id="8013457">;</span>&nbsp;<span class="ident" id="8013459"><a href="/encoding/json/scanner_test.go.html#8013419">err</a></span>&nbsp;<span class="op" id="8013463">!=</span>&nbsp;<span class="ident" id="8013466">nil</span>&nbsp;<span class="op" id="8013470">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013474"><a href="/encoding/json/scanner_test.go.html#8013366">t</a></span><span class="op" id="8013475">.</span><span class="ident" id="8013476">Fatalf</span><span class="op" id="8013482">(</span><span class="string" id="8013483">&#34;Indent1:&nbsp;%v&#34;</span><span class="op" id="8013496">,</span>&nbsp;<span class="ident" id="8013498"><a href="/encoding/json/scanner_test.go.html#8013419">err</a></span><span class="op" id="8013501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8013504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013507">b</span>&nbsp;<span class="op" id="8013509">:=</span>&nbsp;<span class="ident" id="8013512"><a href="/encoding/json/scanner_test.go.html#8013398">buf</a></span><span class="op" id="8013515">.</span><span class="ident" id="8013516">Bytes</span><span class="op" id="8013521">(</span><span class="op" id="8013522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013525">if</span>&nbsp;<span class="builtinfunc" id="8013528">len</span><span class="op" id="8013531">(</span><span class="ident" id="8013532"><a href="/encoding/json/scanner_test.go.html#8013507">b</a></span><span class="op" id="8013533">)</span>&nbsp;<span class="op" id="8013535">==</span>&nbsp;<span class="builtinfunc" id="8013538">len</span><span class="op" id="8013541">(</span><span class="ident" id="8013542"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8013549">)</span>&nbsp;<span class="op" id="8013551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8013555">//&nbsp;jsonBig&nbsp;is&nbsp;compact&nbsp;(no&nbsp;unnecessary&nbsp;spaces);</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8013604">//&nbsp;indenting&nbsp;should&nbsp;make&nbsp;it&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013641"><a href="/encoding/json/scanner_test.go.html#8013366">t</a></span><span class="op" id="8013642">.</span><span class="ident" id="8013643">Fatalf</span><span class="op" id="8013649">(</span><span class="string" id="8013650">&#34;Indent(jsonBig)&nbsp;did&nbsp;not&nbsp;get&nbsp;bigger&#34;</span><span class="op" id="8013686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8013689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8013693">//&nbsp;should&nbsp;be&nbsp;idempotent</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013718">var</span>&nbsp;<span class="ident" id="8013722">buf1</span>&nbsp;<span class="ident" id="8013727"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8013732">.</span><span class="ident" id="8013733">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013741">if</span>&nbsp;<span class="ident" id="8013744">err</span>&nbsp;<span class="op" id="8013748">:=</span>&nbsp;<span class="ident" id="8013751"><a href="/encoding/json/indent.go.html#3697432">Indent</a></span><span class="op" id="8013757">(</span><span class="op" id="8013758">&amp;</span><span class="ident" id="8013759"><a href="/encoding/json/scanner_test.go.html#8013722">buf1</a></span><span class="op" id="8013763">,</span>&nbsp;<span class="ident" id="8013765"><a href="/encoding/json/scanner_test.go.html#8013507">b</a></span><span class="op" id="8013766">,</span>&nbsp;<span class="string" id="8013768">&#34;&#34;</span><span class="op" id="8013770">,</span>&nbsp;<span class="string" id="8013772">&#34;\t&#34;</span><span class="op" id="8013776">)</span><span class="op" id="8013777">;</span>&nbsp;<span class="ident" id="8013779"><a href="/encoding/json/scanner_test.go.html#8013744">err</a></span>&nbsp;<span class="op" id="8013783">!=</span>&nbsp;<span class="ident" id="8013786">nil</span>&nbsp;<span class="op" id="8013790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013794"><a href="/encoding/json/scanner_test.go.html#8013366">t</a></span><span class="op" id="8013795">.</span><span class="ident" id="8013796">Fatalf</span><span class="op" id="8013802">(</span><span class="string" id="8013803">&#34;Indent2:&nbsp;%v&#34;</span><span class="op" id="8013816">,</span>&nbsp;<span class="ident" id="8013818"><a href="/encoding/json/scanner_test.go.html#8013744">err</a></span><span class="op" id="8013821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8013824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013827">b1</span>&nbsp;<span class="op" id="8013830">:=</span>&nbsp;<span class="ident" id="8013833"><a href="/encoding/json/scanner_test.go.html#8013722">buf1</a></span><span class="op" id="8013837">.</span><span class="ident" id="8013838">Bytes</span><span class="op" id="8013843">(</span><span class="op" id="8013844">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013847">if</span>&nbsp;<span class="op" id="8013850">!</span><span class="ident" id="8013851"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8013856">.</span><span class="ident" id="8013857">Equal</span><span class="op" id="8013862">(</span><span class="ident" id="8013863"><a href="/encoding/json/scanner_test.go.html#8013827">b1</a></span><span class="op" id="8013865">,</span>&nbsp;<span class="ident" id="8013867"><a href="/encoding/json/scanner_test.go.html#8013507">b</a></span><span class="op" id="8013868">)</span>&nbsp;<span class="op" id="8013870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013874"><a href="/encoding/json/scanner_test.go.html#8013366">t</a></span><span class="op" id="8013875">.</span><span class="ident" id="8013876">Error</span><span class="op" id="8013881">(</span><span class="string" id="8013882">&#34;Indent(Indent(jsonBig))&nbsp;!=&nbsp;Indent(jsonBig)&#34;</span><span class="op" id="8013926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013930"><a href="/encoding/json/scanner_test.go.html#8015655">diff</a></span><span class="op" id="8013934">(</span><span class="ident" id="8013935"><a href="/encoding/json/scanner_test.go.html#8013366">t</a></span><span class="op" id="8013936">,</span>&nbsp;<span class="ident" id="8013938"><a href="/encoding/json/scanner_test.go.html#8013827">b1</a></span><span class="op" id="8013940">,</span>&nbsp;<span class="ident" id="8013942"><a href="/encoding/json/scanner_test.go.html#8013507">b</a></span><span class="op" id="8013943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8013947">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8013955">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8013959">//&nbsp;should&nbsp;get&nbsp;back&nbsp;to&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8013991"><a href="/encoding/json/scanner_test.go.html#8013722">buf1</a></span><span class="op" id="8013995">.</span><span class="ident" id="8013996">Reset</span><span class="op" id="8014001">(</span><span class="op" id="8014002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014005">if</span>&nbsp;<span class="ident" id="8014008">err</span>&nbsp;<span class="op" id="8014012">:=</span>&nbsp;<span class="ident" id="8014015"><a href="/encoding/json/indent.go.html#3695799">Compact</a></span><span class="op" id="8014022">(</span><span class="op" id="8014023">&amp;</span><span class="ident" id="8014024"><a href="/encoding/json/scanner_test.go.html#8013722">buf1</a></span><span class="op" id="8014028">,</span>&nbsp;<span class="ident" id="8014030"><a href="/encoding/json/scanner_test.go.html#8013507">b</a></span><span class="op" id="8014031">)</span><span class="op" id="8014032">;</span>&nbsp;<span class="ident" id="8014034"><a href="/encoding/json/scanner_test.go.html#8014008">err</a></span>&nbsp;<span class="op" id="8014038">!=</span>&nbsp;<span class="ident" id="8014041">nil</span>&nbsp;<span class="op" id="8014045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014049"><a href="/encoding/json/scanner_test.go.html#8013366">t</a></span><span class="op" id="8014050">.</span><span class="ident" id="8014051">Fatalf</span><span class="op" id="8014057">(</span><span class="string" id="8014058">&#34;Compact:&nbsp;%v&#34;</span><span class="op" id="8014071">,</span>&nbsp;<span class="ident" id="8014073"><a href="/encoding/json/scanner_test.go.html#8014008">err</a></span><span class="op" id="8014076">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8014079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014082"><a href="/encoding/json/scanner_test.go.html#8013827">b1</a></span>&nbsp;<span class="op" id="8014085">=</span>&nbsp;<span class="ident" id="8014087"><a href="/encoding/json/scanner_test.go.html#8013722">buf1</a></span><span class="op" id="8014091">.</span><span class="ident" id="8014092">Bytes</span><span class="op" id="8014097">(</span><span class="op" id="8014098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014101">if</span>&nbsp;<span class="op" id="8014104">!</span><span class="ident" id="8014105"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8014110">.</span><span class="ident" id="8014111">Equal</span><span class="op" id="8014116">(</span><span class="ident" id="8014117"><a href="/encoding/json/scanner_test.go.html#8013827">b1</a></span><span class="op" id="8014119">,</span>&nbsp;<span class="ident" id="8014121"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8014128">)</span>&nbsp;<span class="op" id="8014130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014134"><a href="/encoding/json/scanner_test.go.html#8013366">t</a></span><span class="op" id="8014135">.</span><span class="ident" id="8014136">Error</span><span class="op" id="8014141">(</span><span class="string" id="8014142">&#34;Compact(Indent(jsonBig))&nbsp;!=&nbsp;jsonBig&#34;</span><span class="op" id="8014179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014183"><a href="/encoding/json/scanner_test.go.html#8015655">diff</a></span><span class="op" id="8014187">(</span><span class="ident" id="8014188"><a href="/encoding/json/scanner_test.go.html#8013366">t</a></span><span class="op" id="8014189">,</span>&nbsp;<span class="ident" id="8014191"><a href="/encoding/json/scanner_test.go.html#8013827">b1</a></span><span class="op" id="8014193">,</span>&nbsp;<span class="ident" id="8014195"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8014202">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014206">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8014214">}</span><br>
<span class="lineno"></span><span class="op" id="8014216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8014219">type</span>&nbsp;<span class="ident" id="8014224">indentErrorTest</span>&nbsp;<span class="keyword" id="8014240">struct</span>&nbsp;<span class="op" id="8014247">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014250">in</span>&nbsp;&nbsp;<span class="builtintype" id="8014254">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014262">err</span>&nbsp;<span class="builtintype" id="8014266">error</span><br>
<span class="lineno"></span><span class="op" id="8014272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8014275">var</span>&nbsp;<span class="ident" id="8014279">indentErrorTests</span>&nbsp;<span class="op" id="8014296">=</span>&nbsp;<span class="op" id="8014298">[</span><span class="op" id="8014299">]</span><span class="ident" id="8014300"><a href="/encoding/json/scanner_test.go.html#8014224">indentErrorTest</a></span><span class="op" id="8014315">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8014318">{</span><span class="string" id="8014319">`{&#34;X&#34;:&nbsp;&#34;foo&#34;,&nbsp;&#34;Y&#34;}`</span><span class="op" id="8014338">,</span>&nbsp;<span class="op" id="8014340">&amp;</span><span class="ident" id="8014341"><a href="/encoding/json/scanner.go.html#3700296">SyntaxError</a></span><span class="op" id="8014352">{</span><span class="string" id="8014353">&#34;invalid&nbsp;character&nbsp;&#39;}&#39;&nbsp;after&nbsp;object&nbsp;key&#34;</span><span class="op" id="8014393">,</span>&nbsp;<span class="num" id="8014395">17</span><span class="op" id="8014397">}</span><span class="op" id="8014398">}</span><span class="op" id="8014399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8014402">{</span><span class="string" id="8014403">`{&#34;X&#34;:&nbsp;&#34;foo&#34;&nbsp;&#34;Y&#34;:&nbsp;&#34;bar&#34;}`</span><span class="op" id="8014428">,</span>&nbsp;<span class="op" id="8014430">&amp;</span><span class="ident" id="8014431"><a href="/encoding/json/scanner.go.html#3700296">SyntaxError</a></span><span class="op" id="8014442">{</span><span class="string" id="8014443">&#34;invalid&nbsp;character&nbsp;&#39;\&#34;&#39;&nbsp;after&nbsp;object&nbsp;key:value&nbsp;pair&#34;</span><span class="op" id="8014495">,</span>&nbsp;<span class="num" id="8014497">13</span><span class="op" id="8014499">}</span><span class="op" id="8014500">}</span><span class="op" id="8014501">,</span><br>
<span class="lineno"></span><span class="op" id="8014503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8014506">func</span>&nbsp;<span class="ident" id="8014511">TestIndentErrors</span><span class="op" id="8014527">(</span><span class="ident" id="8014528">t</span>&nbsp;<span class="op" id="8014530">*</span><span class="ident" id="8014531"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8014538">.</span><span class="ident" id="8014539">T</span><span class="op" id="8014540">)</span>&nbsp;<span class="op" id="8014542">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014545">for</span>&nbsp;<span class="ident" id="8014549">i</span><span class="op" id="8014550">,</span>&nbsp;<span class="ident" id="8014552">tt</span>&nbsp;<span class="op" id="8014555">:=</span>&nbsp;<span class="keyword" id="8014558">range</span>&nbsp;<span class="ident" id="8014564"><a href="/encoding/json/scanner_test.go.html#8014279">indentErrorTests</a></span>&nbsp;<span class="op" id="8014581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014585">slice</span>&nbsp;<span class="op" id="8014591">:=</span>&nbsp;<span class="builtinfunc" id="8014594">make</span><span class="op" id="8014598">(</span><span class="op" id="8014599">[</span><span class="op" id="8014600">]</span><span class="builtintype" id="8014601">uint8</span><span class="op" id="8014606">,</span>&nbsp;<span class="num" id="8014608">0</span><span class="op" id="8014609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014613">buf</span>&nbsp;<span class="op" id="8014617">:=</span>&nbsp;<span class="ident" id="8014620"><a href="/encoding/json/scanner_test.go.html#8010830">bytes</a></span><span class="op" id="8014625">.</span><span class="ident" id="8014626">NewBuffer</span><span class="op" id="8014635">(</span><span class="ident" id="8014636"><a href="/encoding/json/scanner_test.go.html#8014585">slice</a></span><span class="op" id="8014641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014645">if</span>&nbsp;<span class="ident" id="8014648">err</span>&nbsp;<span class="op" id="8014652">:=</span>&nbsp;<span class="ident" id="8014655"><a href="/encoding/json/indent.go.html#3697432">Indent</a></span><span class="op" id="8014661">(</span><span class="ident" id="8014662"><a href="/encoding/json/scanner_test.go.html#8014613">buf</a></span><span class="op" id="8014665">,</span>&nbsp;<span class="op" id="8014667">[</span><span class="op" id="8014668">]</span><span class="builtintype" id="8014669">uint8</span><span class="op" id="8014674">(</span><span class="ident" id="8014675"><a href="/encoding/json/scanner_test.go.html#8014552">tt</a></span><span class="op" id="8014677">.</span><span class="ident" id="8014678">in</span><span class="op" id="8014680">)</span><span class="op" id="8014681">,</span>&nbsp;<span class="string" id="8014683">&#34;&#34;</span><span class="op" id="8014685">,</span>&nbsp;<span class="string" id="8014687">&#34;&#34;</span><span class="op" id="8014689">)</span><span class="op" id="8014690">;</span>&nbsp;<span class="ident" id="8014692"><a href="/encoding/json/scanner_test.go.html#8014648">err</a></span>&nbsp;<span class="op" id="8014696">!=</span>&nbsp;<span class="ident" id="8014699">nil</span>&nbsp;<span class="op" id="8014703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014708">if</span>&nbsp;<span class="op" id="8014711">!</span><span class="ident" id="8014712"><a href="/encoding/json/scanner_test.go.html#8010860">reflect</a></span><span class="op" id="8014719">.</span><span class="ident" id="8014720">DeepEqual</span><span class="op" id="8014729">(</span><span class="ident" id="8014730"><a href="/encoding/json/scanner_test.go.html#8014648">err</a></span><span class="op" id="8014733">,</span>&nbsp;<span class="ident" id="8014735"><a href="/encoding/json/scanner_test.go.html#8014552">tt</a></span><span class="op" id="8014737">.</span><span class="ident" id="8014738">err</span><span class="op" id="8014741">)</span>&nbsp;<span class="op" id="8014743">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014749"><a href="/encoding/json/scanner_test.go.html#8014528">t</a></span><span class="op" id="8014750">.</span><span class="ident" id="8014751">Errorf</span><span class="op" id="8014757">(</span><span class="string" id="8014758">&#34;#%d:&nbsp;Indent:&nbsp;%#v&#34;</span><span class="op" id="8014776">,</span>&nbsp;<span class="ident" id="8014778"><a href="/encoding/json/scanner_test.go.html#8014549">i</a></span><span class="op" id="8014779">,</span>&nbsp;<span class="ident" id="8014781"><a href="/encoding/json/scanner_test.go.html#8014648">err</a></span><span class="op" id="8014784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014790">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8014802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8014806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8014809">}</span><br>
<span class="lineno">180</span><span class="op" id="8014811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8014814">func</span>&nbsp;<span class="ident" id="8014819">TestNextValueBig</span><span class="op" id="8014835">(</span><span class="ident" id="8014836">t</span>&nbsp;<span class="op" id="8014838">*</span><span class="ident" id="8014839"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8014846">.</span><span class="ident" id="8014847">T</span><span class="op" id="8014848">)</span>&nbsp;<span class="op" id="8014850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014853"><a href="/encoding/json/scanner_test.go.html#8016040">initBig</a></span><span class="op" id="8014860">(</span><span class="op" id="8014861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014864">var</span>&nbsp;<span class="ident" id="8014868">scan</span>&nbsp;<span class="ident" id="8014873"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014882">item</span><span class="op" id="8014886">,</span>&nbsp;<span class="ident" id="8014888">rest</span><span class="op" id="8014892">,</span>&nbsp;<span class="ident" id="8014894">err</span>&nbsp;<span class="op" id="8014898">:=</span>&nbsp;<span class="ident" id="8014901"><a href="/encoding/json/scanner.go.html#3699855">nextValue</a></span><span class="op" id="8014910">(</span><span class="ident" id="8014911"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8014918">,</span>&nbsp;<span class="op" id="8014920">&amp;</span><span class="ident" id="8014921"><a href="/encoding/json/scanner_test.go.html#8014868">scan</a></span><span class="op" id="8014925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014928">if</span>&nbsp;<span class="ident" id="8014931"><a href="/encoding/json/scanner_test.go.html#8014894">err</a></span>&nbsp;<span class="op" id="8014935">!=</span>&nbsp;<span class="ident" id="8014938">nil</span>&nbsp;<span class="op" id="8014942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8014946"><a href="/encoding/json/scanner_test.go.html#8014836">t</a></span><span class="op" id="8014947">.</span><span class="ident" id="8014948">Fatalf</span><span class="op" id="8014954">(</span><span class="string" id="8014955">&#34;nextValue:&nbsp;%s&#34;</span><span class="op" id="8014970">,</span>&nbsp;<span class="ident" id="8014972"><a href="/encoding/json/scanner_test.go.html#8014894">err</a></span><span class="op" id="8014975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8014978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8014981">if</span>&nbsp;<span class="builtinfunc" id="8014984">len</span><span class="op" id="8014987">(</span><span class="ident" id="8014988"><a href="/encoding/json/scanner_test.go.html#8014882">item</a></span><span class="op" id="8014992">)</span>&nbsp;<span class="op" id="8014994">!=</span>&nbsp;<span class="builtinfunc" id="8014997">len</span><span class="op" id="8015000">(</span><span class="ident" id="8015001"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8015008">)</span>&nbsp;<span class="op" id="8015010">||</span>&nbsp;<span class="op" id="8015013">&amp;</span><span class="ident" id="8015014"><a href="/encoding/json/scanner_test.go.html#8014882">item</a></span><span class="op" id="8015018">[</span><span class="num" id="8015019">0</span><span class="op" id="8015020">]</span>&nbsp;<span class="op" id="8015022">!=</span>&nbsp;<span class="op" id="8015025">&amp;</span><span class="ident" id="8015026"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8015033">[</span><span class="num" id="8015034">0</span><span class="op" id="8015035">]</span>&nbsp;<span class="op" id="8015037">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015041"><a href="/encoding/json/scanner_test.go.html#8014836">t</a></span><span class="op" id="8015042">.</span><span class="ident" id="8015043">Errorf</span><span class="op" id="8015049">(</span><span class="string" id="8015050">&#34;invalid&nbsp;item:&nbsp;%d&nbsp;%d&#34;</span><span class="op" id="8015071">,</span>&nbsp;<span class="builtinfunc" id="8015073">len</span><span class="op" id="8015076">(</span><span class="ident" id="8015077"><a href="/encoding/json/scanner_test.go.html#8014882">item</a></span><span class="op" id="8015081">)</span><span class="op" id="8015082">,</span>&nbsp;<span class="builtinfunc" id="8015084">len</span><span class="op" id="8015087">(</span><span class="ident" id="8015088"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8015095">)</span><span class="op" id="8015096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015102">if</span>&nbsp;<span class="builtinfunc" id="8015105">len</span><span class="op" id="8015108">(</span><span class="ident" id="8015109"><a href="/encoding/json/scanner_test.go.html#8014888">rest</a></span><span class="op" id="8015113">)</span>&nbsp;<span class="op" id="8015115">!=</span>&nbsp;<span class="num" id="8015118">0</span>&nbsp;<span class="op" id="8015120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015124"><a href="/encoding/json/scanner_test.go.html#8014836">t</a></span><span class="op" id="8015125">.</span><span class="ident" id="8015126">Errorf</span><span class="op" id="8015132">(</span><span class="string" id="8015133">&#34;invalid&nbsp;rest:&nbsp;%d&#34;</span><span class="op" id="8015151">,</span>&nbsp;<span class="builtinfunc" id="8015153">len</span><span class="op" id="8015156">(</span><span class="ident" id="8015157"><a href="/encoding/json/scanner_test.go.html#8014888">rest</a></span><span class="op" id="8015161">)</span><span class="op" id="8015162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015165">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015169"><a href="/encoding/json/scanner_test.go.html#8014882">item</a></span><span class="op" id="8015173">,</span>&nbsp;<span class="ident" id="8015175"><a href="/encoding/json/scanner_test.go.html#8014888">rest</a></span><span class="op" id="8015179">,</span>&nbsp;<span class="ident" id="8015181"><a href="/encoding/json/scanner_test.go.html#8014894">err</a></span>&nbsp;<span class="op" id="8015185">=</span>&nbsp;<span class="ident" id="8015187"><a href="/encoding/json/scanner.go.html#3699855">nextValue</a></span><span class="op" id="8015196">(</span><span class="builtinfunc" id="8015197">append</span><span class="op" id="8015203">(</span><span class="ident" id="8015204"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8015211">,</span>&nbsp;<span class="string" id="8015213">&#34;HELLO&nbsp;WORLD&#34;</span><span class="op" id="8015226">...</span><span class="op" id="8015229">)</span><span class="op" id="8015230">,</span>&nbsp;<span class="op" id="8015232">&amp;</span><span class="ident" id="8015233"><a href="/encoding/json/scanner_test.go.html#8014868">scan</a></span><span class="op" id="8015237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015240">if</span>&nbsp;<span class="ident" id="8015243"><a href="/encoding/json/scanner_test.go.html#8014894">err</a></span>&nbsp;<span class="op" id="8015247">!=</span>&nbsp;<span class="ident" id="8015250">nil</span>&nbsp;<span class="op" id="8015254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015258"><a href="/encoding/json/scanner_test.go.html#8014836">t</a></span><span class="op" id="8015259">.</span><span class="ident" id="8015260">Fatalf</span><span class="op" id="8015266">(</span><span class="string" id="8015267">&#34;nextValue&nbsp;extra:&nbsp;%s&#34;</span><span class="op" id="8015288">,</span>&nbsp;<span class="ident" id="8015290"><a href="/encoding/json/scanner_test.go.html#8014894">err</a></span><span class="op" id="8015293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015296">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015299">if</span>&nbsp;<span class="builtinfunc" id="8015302">len</span><span class="op" id="8015305">(</span><span class="ident" id="8015306"><a href="/encoding/json/scanner_test.go.html#8014882">item</a></span><span class="op" id="8015310">)</span>&nbsp;<span class="op" id="8015312">!=</span>&nbsp;<span class="builtinfunc" id="8015315">len</span><span class="op" id="8015318">(</span><span class="ident" id="8015319"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8015326">)</span>&nbsp;<span class="op" id="8015328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015332"><a href="/encoding/json/scanner_test.go.html#8014836">t</a></span><span class="op" id="8015333">.</span><span class="ident" id="8015334">Errorf</span><span class="op" id="8015340">(</span><span class="string" id="8015341">&#34;invalid&nbsp;item:&nbsp;%d&nbsp;%d&#34;</span><span class="op" id="8015362">,</span>&nbsp;<span class="builtinfunc" id="8015364">len</span><span class="op" id="8015367">(</span><span class="ident" id="8015368"><a href="/encoding/json/scanner_test.go.html#8014882">item</a></span><span class="op" id="8015372">)</span><span class="op" id="8015373">,</span>&nbsp;<span class="builtinfunc" id="8015375">len</span><span class="op" id="8015378">(</span><span class="ident" id="8015379"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8015386">)</span><span class="op" id="8015387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015393">if</span>&nbsp;<span class="builtintype" id="8015396">string</span><span class="op" id="8015402">(</span><span class="ident" id="8015403"><a href="/encoding/json/scanner_test.go.html#8014888">rest</a></span><span class="op" id="8015407">)</span>&nbsp;<span class="op" id="8015409">!=</span>&nbsp;<span class="string" id="8015412">&#34;HELLO&nbsp;WORLD&#34;</span>&nbsp;<span class="op" id="8015426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015430"><a href="/encoding/json/scanner_test.go.html#8014836">t</a></span><span class="op" id="8015431">.</span><span class="ident" id="8015432">Errorf</span><span class="op" id="8015438">(</span><span class="string" id="8015439">&#34;invalid&nbsp;rest:&nbsp;%d&#34;</span><span class="op" id="8015457">,</span>&nbsp;<span class="builtinfunc" id="8015459">len</span><span class="op" id="8015462">(</span><span class="ident" id="8015463"><a href="/encoding/json/scanner_test.go.html#8014888">rest</a></span><span class="op" id="8015467">)</span><span class="op" id="8015468">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015471">}</span><br>
<span class="lineno"></span><span class="op" id="8015473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8015476">var</span>&nbsp;<span class="ident" id="8015480">benchScan</span>&nbsp;<span class="ident" id="8015490"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="8015499">func</span>&nbsp;<span class="ident" id="8015504">BenchmarkSkipValue</span><span class="op" id="8015522">(</span><span class="ident" id="8015523">b</span>&nbsp;<span class="op" id="8015525">*</span><span class="ident" id="8015526"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8015533">.</span><span class="ident" id="8015534">B</span><span class="op" id="8015535">)</span>&nbsp;<span class="op" id="8015537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015540"><a href="/encoding/json/scanner_test.go.html#8016040">initBig</a></span><span class="op" id="8015547">(</span><span class="op" id="8015548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015551">for</span>&nbsp;<span class="ident" id="8015555">i</span>&nbsp;<span class="op" id="8015557">:=</span>&nbsp;<span class="num" id="8015560">0</span><span class="op" id="8015561">;</span>&nbsp;<span class="ident" id="8015563"><a href="/encoding/json/scanner_test.go.html#8015555">i</a></span>&nbsp;<span class="op" id="8015565">&lt;</span>&nbsp;<span class="ident" id="8015567"><a href="/encoding/json/scanner_test.go.html#8015523">b</a></span><span class="op" id="8015568">.</span><span class="ident" id="8015569">N</span><span class="op" id="8015570">;</span>&nbsp;<span class="ident" id="8015572"><a href="/encoding/json/scanner_test.go.html#8015555">i</a></span><span class="op" id="8015573">++</span>&nbsp;<span class="op" id="8015576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015580"><a href="/encoding/json/scanner.go.html#3699855">nextValue</a></span><span class="op" id="8015589">(</span><span class="ident" id="8015590"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8015597">,</span>&nbsp;<span class="op" id="8015599">&amp;</span><span class="ident" id="8015600"><a href="/encoding/json/scanner_test.go.html#8015480">benchScan</a></span><span class="op" id="8015609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015612">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015615"><a href="/encoding/json/scanner_test.go.html#8015523">b</a></span><span class="op" id="8015616">.</span><span class="ident" id="8015617">SetBytes</span><span class="op" id="8015625">(</span><span class="ident" id="8015626">int64</span><span class="op" id="8015631">(</span><span class="builtinfunc" id="8015632">len</span><span class="op" id="8015635">(</span><span class="ident" id="8015636"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span><span class="op" id="8015643">)</span><span class="op" id="8015644">)</span><span class="op" id="8015645">)</span><br>
<span class="lineno"></span><span class="op" id="8015647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8015650">func</span>&nbsp;<span class="ident" id="8015655">diff</span><span class="op" id="8015659">(</span><span class="ident" id="8015660">t</span>&nbsp;<span class="op" id="8015662">*</span><span class="ident" id="8015663"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8015670">.</span><span class="ident" id="8015671">T</span><span class="op" id="8015672">,</span>&nbsp;<span class="ident" id="8015674">a</span><span class="op" id="8015675">,</span>&nbsp;<span class="ident" id="8015677">b</span>&nbsp;<span class="op" id="8015679">[</span><span class="op" id="8015680">]</span><span class="builtintype" id="8015681">byte</span><span class="op" id="8015685">)</span>&nbsp;<span class="op" id="8015687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015690">for</span>&nbsp;<span class="ident" id="8015694">i</span>&nbsp;<span class="op" id="8015696">:=</span>&nbsp;<span class="num" id="8015699">0</span><span class="op" id="8015700">;</span>&nbsp;<span class="op" id="8015702">;</span>&nbsp;<span class="ident" id="8015704"><a href="/encoding/json/scanner_test.go.html#8015694">i</a></span><span class="op" id="8015705">++</span>&nbsp;<span class="op" id="8015708">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015712">if</span>&nbsp;<span class="ident" id="8015715"><a href="/encoding/json/scanner_test.go.html#8015694">i</a></span>&nbsp;<span class="op" id="8015717">&gt;=</span>&nbsp;<span class="builtinfunc" id="8015720">len</span><span class="op" id="8015723">(</span><span class="ident" id="8015724"><a href="/encoding/json/scanner_test.go.html#8015674">a</a></span><span class="op" id="8015725">)</span>&nbsp;<span class="op" id="8015727">||</span>&nbsp;<span class="ident" id="8015730"><a href="/encoding/json/scanner_test.go.html#8015694">i</a></span>&nbsp;<span class="op" id="8015732">&gt;=</span>&nbsp;<span class="builtinfunc" id="8015735">len</span><span class="op" id="8015738">(</span><span class="ident" id="8015739"><a href="/encoding/json/scanner_test.go.html#8015677">b</a></span><span class="op" id="8015740">)</span>&nbsp;<span class="op" id="8015742">||</span>&nbsp;<span class="ident" id="8015745"><a href="/encoding/json/scanner_test.go.html#8015674">a</a></span><span class="op" id="8015746">[</span><span class="ident" id="8015747"><a href="/encoding/json/scanner_test.go.html#8015694">i</a></span><span class="op" id="8015748">]</span>&nbsp;<span class="op" id="8015750">!=</span>&nbsp;<span class="ident" id="8015753"><a href="/encoding/json/scanner_test.go.html#8015677">b</a></span><span class="op" id="8015754">[</span><span class="ident" id="8015755"><a href="/encoding/json/scanner_test.go.html#8015694">i</a></span><span class="op" id="8015756">]</span>&nbsp;<span class="op" id="8015758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015763">j</span>&nbsp;<span class="op" id="8015765">:=</span>&nbsp;<span class="ident" id="8015768"><a href="/encoding/json/scanner_test.go.html#8015694">i</a></span>&nbsp;<span class="op" id="8015770">-</span>&nbsp;<span class="num" id="8015772">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015778">if</span>&nbsp;<span class="ident" id="8015781"><a href="/encoding/json/scanner_test.go.html#8015763">j</a></span>&nbsp;<span class="op" id="8015783">&lt;</span>&nbsp;<span class="num" id="8015785">0</span>&nbsp;<span class="op" id="8015787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015793"><a href="/encoding/json/scanner_test.go.html#8015763">j</a></span>&nbsp;<span class="op" id="8015795">=</span>&nbsp;<span class="num" id="8015797">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015802">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8015807"><a href="/encoding/json/scanner_test.go.html#8015660">t</a></span><span class="op" id="8015808">.</span><span class="ident" id="8015809">Errorf</span><span class="op" id="8015815">(</span><span class="string" id="8015816">&#34;diverge&nbsp;at&nbsp;%d:&nbsp;«%s»&nbsp;vs&nbsp;«%s»&#34;</span><span class="op" id="8015849">,</span>&nbsp;<span class="ident" id="8015851"><a href="/encoding/json/scanner_test.go.html#8015694">i</a></span><span class="op" id="8015852">,</span>&nbsp;<span class="ident" id="8015854"><a href="/encoding/json/scanner_test.go.html#8015905">trim</a></span><span class="op" id="8015858">(</span><span class="ident" id="8015859"><a href="/encoding/json/scanner_test.go.html#8015674">a</a></span><span class="op" id="8015860">[</span><span class="ident" id="8015861"><a href="/encoding/json/scanner_test.go.html#8015763">j</a></span><span class="op" id="8015862">:</span><span class="op" id="8015863">]</span><span class="op" id="8015864">)</span><span class="op" id="8015865">,</span>&nbsp;<span class="ident" id="8015867"><a href="/encoding/json/scanner_test.go.html#8015905">trim</a></span><span class="op" id="8015871">(</span><span class="ident" id="8015872"><a href="/encoding/json/scanner_test.go.html#8015677">b</a></span><span class="op" id="8015873">[</span><span class="ident" id="8015874"><a href="/encoding/json/scanner_test.go.html#8015763">j</a></span><span class="op" id="8015875">:</span><span class="op" id="8015876">]</span><span class="op" id="8015877">)</span><span class="op" id="8015878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015883">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015895">}</span><br>
<span class="lineno"></span><span class="op" id="8015897">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="8015900">func</span>&nbsp;<span class="ident" id="8015905">trim</span><span class="op" id="8015909">(</span><span class="ident" id="8015910">b</span>&nbsp;<span class="op" id="8015912">[</span><span class="op" id="8015913">]</span><span class="builtintype" id="8015914">byte</span><span class="op" id="8015918">)</span>&nbsp;<span class="op" id="8015920">[</span><span class="op" id="8015921">]</span><span class="builtintype" id="8015922">byte</span>&nbsp;<span class="op" id="8015927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015930">if</span>&nbsp;<span class="builtinfunc" id="8015933">len</span><span class="op" id="8015936">(</span><span class="ident" id="8015937"><a href="/encoding/json/scanner_test.go.html#8015910">b</a></span><span class="op" id="8015938">)</span>&nbsp;<span class="op" id="8015940">&gt;</span>&nbsp;<span class="num" id="8015942">20</span>&nbsp;<span class="op" id="8015945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015949">return</span>&nbsp;<span class="ident" id="8015956"><a href="/encoding/json/scanner_test.go.html#8015910">b</a></span><span class="op" id="8015957">[</span><span class="num" id="8015958">0</span><span class="op" id="8015959">:</span><span class="num" id="8015960">20</span><span class="op" id="8015962">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8015965">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8015968">return</span>&nbsp;<span class="ident" id="8015975"><a href="/encoding/json/scanner_test.go.html#8015910">b</a></span><br>
<span class="lineno"></span><span class="op" id="8015977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8015980">//&nbsp;Generate&nbsp;a&nbsp;random&nbsp;JSON&nbsp;object.</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="8016015">var</span>&nbsp;<span class="ident" id="8016019">jsonBig</span>&nbsp;<span class="op" id="8016027">[</span><span class="op" id="8016028">]</span><span class="builtintype" id="8016029">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8016035">func</span>&nbsp;<span class="ident" id="8016040">initBig</span><span class="op" id="8016047">(</span><span class="op" id="8016048">)</span>&nbsp;<span class="op" id="8016050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016053">n</span>&nbsp;<span class="op" id="8016055">:=</span>&nbsp;<span class="num" id="8016058">10000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016065">if</span>&nbsp;<span class="ident" id="8016068"><a href="/encoding/json/scanner_test.go.html#8010871">testing</a></span><span class="op" id="8016075">.</span><span class="ident" id="8016076">Short</span><span class="op" id="8016081">(</span><span class="op" id="8016082">)</span>&nbsp;<span class="op" id="8016084">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016088"><a href="/encoding/json/scanner_test.go.html#8016053">n</a></span>&nbsp;<span class="op" id="8016090">=</span>&nbsp;<span class="num" id="8016092">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016100">b</span><span class="op" id="8016101">,</span>&nbsp;<span class="ident" id="8016103">err</span>&nbsp;<span class="op" id="8016107">:=</span>&nbsp;<span class="ident" id="8016110"><a href="/encoding/json/encode.go.html#3666502">Marshal</a></span><span class="op" id="8016117">(</span><span class="ident" id="8016118"><a href="/encoding/json/scanner_test.go.html#8016185">genValue</a></span><span class="op" id="8016126">(</span><span class="ident" id="8016127"><a href="/encoding/json/scanner_test.go.html#8016053">n</a></span><span class="op" id="8016128">)</span><span class="op" id="8016129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016132">if</span>&nbsp;<span class="ident" id="8016135"><a href="/encoding/json/scanner_test.go.html#8016103">err</a></span>&nbsp;<span class="op" id="8016139">!=</span>&nbsp;<span class="ident" id="8016142">nil</span>&nbsp;<span class="op" id="8016146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8016150">panic</span><span class="op" id="8016155">(</span><span class="ident" id="8016156"><a href="/encoding/json/scanner_test.go.html#8016103">err</a></span><span class="op" id="8016159">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016165"><a href="/encoding/json/scanner_test.go.html#8016019">jsonBig</a></span>&nbsp;<span class="op" id="8016173">=</span>&nbsp;<span class="ident" id="8016175"><a href="/encoding/json/scanner_test.go.html#8016100">b</a></span><br>
<span class="lineno"></span><span class="op" id="8016177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8016180">func</span>&nbsp;<span class="ident" id="8016185">genValue</span><span class="op" id="8016193">(</span><span class="ident" id="8016194">n</span>&nbsp;<span class="builtintype" id="8016196">int</span><span class="op" id="8016199">)</span>&nbsp;<span class="keyword" id="8016201">interface</span><span class="op" id="8016210">{</span><span class="op" id="8016211">}</span>&nbsp;<span class="op" id="8016213">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016216">if</span>&nbsp;<span class="ident" id="8016219"><a href="/encoding/json/scanner_test.go.html#8016194">n</a></span>&nbsp;<span class="op" id="8016221">&gt;</span>&nbsp;<span class="num" id="8016223">1</span>&nbsp;<span class="op" id="8016225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016229">switch</span>&nbsp;<span class="ident" id="8016236"><a href="/encoding/json/scanner_test.go.html#8010847">rand</a></span><span class="op" id="8016240">.</span><span class="ident" id="8016241">Intn</span><span class="op" id="8016245">(</span><span class="num" id="8016246">2</span><span class="op" id="8016247">)</span>&nbsp;<span class="op" id="8016249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016253">case</span>&nbsp;<span class="num" id="8016258">0</span><span class="op" id="8016259">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016264">return</span>&nbsp;<span class="ident" id="8016271"><a href="/encoding/json/scanner_test.go.html#8016746">genArray</a></span><span class="op" id="8016279">(</span><span class="ident" id="8016280"><a href="/encoding/json/scanner_test.go.html#8016194">n</a></span><span class="op" id="8016281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016285">case</span>&nbsp;<span class="num" id="8016290">1</span><span class="op" id="8016291">:</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016296">return</span>&nbsp;<span class="ident" id="8016303"><a href="/encoding/json/scanner_test.go.html#8017004">genMap</a></span><span class="op" id="8016309">(</span><span class="ident" id="8016310"><a href="/encoding/json/scanner_test.go.html#8016194">n</a></span><span class="op" id="8016311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016321">switch</span>&nbsp;<span class="ident" id="8016328"><a href="/encoding/json/scanner_test.go.html#8010847">rand</a></span><span class="op" id="8016332">.</span><span class="ident" id="8016333">Intn</span><span class="op" id="8016337">(</span><span class="num" id="8016338">3</span><span class="op" id="8016339">)</span>&nbsp;<span class="op" id="8016341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016344">case</span>&nbsp;<span class="num" id="8016349">0</span><span class="op" id="8016350">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016354">return</span>&nbsp;<span class="ident" id="8016361"><a href="/encoding/json/scanner_test.go.html#8010847">rand</a></span><span class="op" id="8016365">.</span><span class="ident" id="8016366">Intn</span><span class="op" id="8016370">(</span><span class="num" id="8016371">2</span><span class="op" id="8016372">)</span>&nbsp;<span class="op" id="8016374">==</span>&nbsp;<span class="num" id="8016377">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016380">case</span>&nbsp;<span class="num" id="8016385">1</span><span class="op" id="8016386">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016390">return</span>&nbsp;<span class="ident" id="8016397"><a href="/encoding/json/scanner_test.go.html#8010847">rand</a></span><span class="op" id="8016401">.</span><span class="ident" id="8016402">NormFloat64</span><span class="op" id="8016413">(</span><span class="op" id="8016414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016417">case</span>&nbsp;<span class="num" id="8016422">2</span><span class="op" id="8016423">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016427">return</span>&nbsp;<span class="ident" id="8016434"><a href="/encoding/json/scanner_test.go.html#8016481">genString</a></span><span class="op" id="8016443">(</span><span class="num" id="8016444">30</span><span class="op" id="8016446">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8016452">panic</span><span class="op" id="8016457">(</span><span class="string" id="8016458">&#34;unreachable&#34;</span><span class="op" id="8016471">)</span><br>
<span class="lineno"></span><span class="op" id="8016473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8016476">func</span>&nbsp;<span class="ident" id="8016481">genString</span><span class="op" id="8016490">(</span><span class="ident" id="8016491">stddev</span>&nbsp;<span class="builtintype" id="8016498">float64</span><span class="op" id="8016505">)</span>&nbsp;<span class="builtintype" id="8016507">string</span>&nbsp;<span class="op" id="8016514">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016517">n</span>&nbsp;<span class="op" id="8016519">:=</span>&nbsp;<span class="builtintype" id="8016522">int</span><span class="op" id="8016525">(</span><span class="ident" id="8016526"><a href="/encoding/json/scanner_test.go.html#8010839">math</a></span><span class="op" id="8016530">.</span><span class="ident" id="8016531">Abs</span><span class="op" id="8016534">(</span><span class="ident" id="8016535"><a href="/encoding/json/scanner_test.go.html#8010847">rand</a></span><span class="op" id="8016539">.</span><span class="ident" id="8016540">NormFloat64</span><span class="op" id="8016551">(</span><span class="op" id="8016552">)</span><span class="op" id="8016553">*</span><span class="ident" id="8016554"><a href="/encoding/json/scanner_test.go.html#8016491">stddev</a></span>&nbsp;<span class="op" id="8016561">+</span>&nbsp;<span class="ident" id="8016563"><a href="/encoding/json/scanner_test.go.html#8016491">stddev</a></span><span class="op" id="8016569">/</span><span class="num" id="8016570">2</span><span class="op" id="8016571">)</span><span class="op" id="8016572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016575">c</span>&nbsp;<span class="op" id="8016577">:=</span>&nbsp;<span class="builtinfunc" id="8016580">make</span><span class="op" id="8016584">(</span><span class="op" id="8016585">[</span><span class="op" id="8016586">]</span><span class="builtintype" id="8016587">rune</span><span class="op" id="8016591">,</span>&nbsp;<span class="ident" id="8016593"><a href="/encoding/json/scanner_test.go.html#8016517">n</a></span><span class="op" id="8016594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016597">for</span>&nbsp;<span class="ident" id="8016601">i</span>&nbsp;<span class="op" id="8016603">:=</span>&nbsp;<span class="keyword" id="8016606">range</span>&nbsp;<span class="ident" id="8016612"><a href="/encoding/json/scanner_test.go.html#8016575">c</a></span>&nbsp;<span class="op" id="8016614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016618">f</span>&nbsp;<span class="op" id="8016620">:=</span>&nbsp;<span class="ident" id="8016623"><a href="/encoding/json/scanner_test.go.html#8010839">math</a></span><span class="op" id="8016627">.</span><span class="ident" id="8016628">Abs</span><span class="op" id="8016631">(</span><span class="ident" id="8016632"><a href="/encoding/json/scanner_test.go.html#8010847">rand</a></span><span class="op" id="8016636">.</span><span class="ident" id="8016637">NormFloat64</span><span class="op" id="8016648">(</span><span class="op" id="8016649">)</span><span class="op" id="8016650">*</span><span class="num" id="8016651">64</span>&nbsp;<span class="op" id="8016654">+</span>&nbsp;<span class="num" id="8016656">32</span><span class="op" id="8016658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016662">if</span>&nbsp;<span class="ident" id="8016665"><a href="/encoding/json/scanner_test.go.html#8016618">f</a></span>&nbsp;<span class="op" id="8016667">&gt;</span>&nbsp;<span class="num" id="8016669">0x10ffff</span>&nbsp;<span class="op" id="8016678">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016683"><a href="/encoding/json/scanner_test.go.html#8016618">f</a></span>&nbsp;<span class="op" id="8016685">=</span>&nbsp;<span class="num" id="8016687">0x10ffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016702"><a href="/encoding/json/scanner_test.go.html#8016575">c</a></span><span class="op" id="8016703">[</span><span class="ident" id="8016704"><a href="/encoding/json/scanner_test.go.html#8016601">i</a></span><span class="op" id="8016705">]</span>&nbsp;<span class="op" id="8016707">=</span>&nbsp;<span class="builtintype" id="8016709">rune</span><span class="op" id="8016713">(</span><span class="ident" id="8016714"><a href="/encoding/json/scanner_test.go.html#8016618">f</a></span><span class="op" id="8016715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016721">return</span>&nbsp;<span class="builtintype" id="8016728">string</span><span class="op" id="8016734">(</span><span class="ident" id="8016735"><a href="/encoding/json/scanner_test.go.html#8016575">c</a></span><span class="op" id="8016736">)</span><br>
<span class="lineno">285</span><span class="op" id="8016738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8016741">func</span>&nbsp;<span class="ident" id="8016746">genArray</span><span class="op" id="8016754">(</span><span class="ident" id="8016755">n</span>&nbsp;<span class="builtintype" id="8016757">int</span><span class="op" id="8016760">)</span>&nbsp;<span class="op" id="8016762">[</span><span class="op" id="8016763">]</span><span class="keyword" id="8016764">interface</span><span class="op" id="8016773">{</span><span class="op" id="8016774">}</span>&nbsp;<span class="op" id="8016776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016779">f</span>&nbsp;<span class="op" id="8016781">:=</span>&nbsp;<span class="builtintype" id="8016784">int</span><span class="op" id="8016787">(</span><span class="ident" id="8016788"><a href="/encoding/json/scanner_test.go.html#8010839">math</a></span><span class="op" id="8016792">.</span><span class="ident" id="8016793">Abs</span><span class="op" id="8016796">(</span><span class="ident" id="8016797"><a href="/encoding/json/scanner_test.go.html#8010847">rand</a></span><span class="op" id="8016801">.</span><span class="ident" id="8016802">NormFloat64</span><span class="op" id="8016813">(</span><span class="op" id="8016814">)</span><span class="op" id="8016815">)</span>&nbsp;<span class="op" id="8016817">*</span>&nbsp;<span class="ident" id="8016819"><a href="/encoding/json/scanner_test.go.html#8010839">math</a></span><span class="op" id="8016823">.</span><span class="ident" id="8016824">Min</span><span class="op" id="8016827">(</span><span class="num" id="8016828">10</span><span class="op" id="8016830">,</span>&nbsp;<span class="builtintype" id="8016832">float64</span><span class="op" id="8016839">(</span><span class="ident" id="8016840"><a href="/encoding/json/scanner_test.go.html#8016755">n</a></span><span class="op" id="8016841">/</span><span class="num" id="8016842">2</span><span class="op" id="8016843">)</span><span class="op" id="8016844">)</span><span class="op" id="8016845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016848">if</span>&nbsp;<span class="ident" id="8016851"><a href="/encoding/json/scanner_test.go.html#8016779">f</a></span>&nbsp;<span class="op" id="8016853">&gt;</span>&nbsp;<span class="ident" id="8016855"><a href="/encoding/json/scanner_test.go.html#8016755">n</a></span>&nbsp;<span class="op" id="8016857">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016861"><a href="/encoding/json/scanner_test.go.html#8016779">f</a></span>&nbsp;<span class="op" id="8016863">=</span>&nbsp;<span class="ident" id="8016865"><a href="/encoding/json/scanner_test.go.html#8016755">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016871">if</span>&nbsp;<span class="ident" id="8016874"><a href="/encoding/json/scanner_test.go.html#8016779">f</a></span>&nbsp;<span class="op" id="8016876">&lt;</span>&nbsp;<span class="num" id="8016878">1</span>&nbsp;<span class="op" id="8016880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016884"><a href="/encoding/json/scanner_test.go.html#8016779">f</a></span>&nbsp;<span class="op" id="8016886">=</span>&nbsp;<span class="num" id="8016888">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016891">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016894">x</span>&nbsp;<span class="op" id="8016896">:=</span>&nbsp;<span class="builtinfunc" id="8016899">make</span><span class="op" id="8016903">(</span><span class="op" id="8016904">[</span><span class="op" id="8016905">]</span><span class="keyword" id="8016906">interface</span><span class="op" id="8016915">{</span><span class="op" id="8016916">}</span><span class="op" id="8016917">,</span>&nbsp;<span class="ident" id="8016919"><a href="/encoding/json/scanner_test.go.html#8016779">f</a></span><span class="op" id="8016920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016923">for</span>&nbsp;<span class="ident" id="8016927">i</span>&nbsp;<span class="op" id="8016929">:=</span>&nbsp;<span class="keyword" id="8016932">range</span>&nbsp;<span class="ident" id="8016938"><a href="/encoding/json/scanner_test.go.html#8016894">x</a></span>&nbsp;<span class="op" id="8016940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8016944"><a href="/encoding/json/scanner_test.go.html#8016894">x</a></span><span class="op" id="8016945">[</span><span class="ident" id="8016946"><a href="/encoding/json/scanner_test.go.html#8016927">i</a></span><span class="op" id="8016947">]</span>&nbsp;<span class="op" id="8016949">=</span>&nbsp;<span class="ident" id="8016951"><a href="/encoding/json/scanner_test.go.html#8016185">genValue</a></span><span class="op" id="8016959">(</span><span class="op" id="8016960">(</span><span class="op" id="8016961">(</span><span class="ident" id="8016962"><a href="/encoding/json/scanner_test.go.html#8016927">i</a></span><span class="op" id="8016963">+</span><span class="num" id="8016964">1</span><span class="op" id="8016965">)</span><span class="op" id="8016966">*</span><span class="ident" id="8016967"><a href="/encoding/json/scanner_test.go.html#8016755">n</a></span><span class="op" id="8016968">)</span><span class="op" id="8016969">/</span><span class="ident" id="8016970"><a href="/encoding/json/scanner_test.go.html#8016779">f</a></span>&nbsp;<span class="op" id="8016972">-</span>&nbsp;<span class="op" id="8016974">(</span><span class="ident" id="8016975"><a href="/encoding/json/scanner_test.go.html#8016927">i</a></span><span class="op" id="8016976">*</span><span class="ident" id="8016977"><a href="/encoding/json/scanner_test.go.html#8016755">n</a></span><span class="op" id="8016978">)</span><span class="op" id="8016979">/</span><span class="ident" id="8016980"><a href="/encoding/json/scanner_test.go.html#8016779">f</a></span><span class="op" id="8016981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8016984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8016987">return</span>&nbsp;<span class="ident" id="8016994"><a href="/encoding/json/scanner_test.go.html#8016894">x</a></span><br>
<span class="lineno">300</span><span class="op" id="8016996">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8016999">func</span>&nbsp;<span class="ident" id="8017004">genMap</span><span class="op" id="8017010">(</span><span class="ident" id="8017011">n</span>&nbsp;<span class="builtintype" id="8017013">int</span><span class="op" id="8017016">)</span>&nbsp;<span class="keyword" id="8017018">map</span><span class="op" id="8017021">[</span><span class="builtintype" id="8017022">string</span><span class="op" id="8017028">]</span><span class="keyword" id="8017029">interface</span><span class="op" id="8017038">{</span><span class="op" id="8017039">}</span>&nbsp;<span class="op" id="8017041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8017044">f</span>&nbsp;<span class="op" id="8017046">:=</span>&nbsp;<span class="builtintype" id="8017049">int</span><span class="op" id="8017052">(</span><span class="ident" id="8017053"><a href="/encoding/json/scanner_test.go.html#8010839">math</a></span><span class="op" id="8017057">.</span><span class="ident" id="8017058">Abs</span><span class="op" id="8017061">(</span><span class="ident" id="8017062"><a href="/encoding/json/scanner_test.go.html#8010847">rand</a></span><span class="op" id="8017066">.</span><span class="ident" id="8017067">NormFloat64</span><span class="op" id="8017078">(</span><span class="op" id="8017079">)</span><span class="op" id="8017080">)</span>&nbsp;<span class="op" id="8017082">*</span>&nbsp;<span class="ident" id="8017084"><a href="/encoding/json/scanner_test.go.html#8010839">math</a></span><span class="op" id="8017088">.</span><span class="ident" id="8017089">Min</span><span class="op" id="8017092">(</span><span class="num" id="8017093">10</span><span class="op" id="8017095">,</span>&nbsp;<span class="builtintype" id="8017097">float64</span><span class="op" id="8017104">(</span><span class="ident" id="8017105"><a href="/encoding/json/scanner_test.go.html#8017011">n</a></span><span class="op" id="8017106">/</span><span class="num" id="8017107">2</span><span class="op" id="8017108">)</span><span class="op" id="8017109">)</span><span class="op" id="8017110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8017113">if</span>&nbsp;<span class="ident" id="8017116"><a href="/encoding/json/scanner_test.go.html#8017044">f</a></span>&nbsp;<span class="op" id="8017118">&gt;</span>&nbsp;<span class="ident" id="8017120"><a href="/encoding/json/scanner_test.go.html#8017011">n</a></span>&nbsp;<span class="op" id="8017122">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8017126"><a href="/encoding/json/scanner_test.go.html#8017044">f</a></span>&nbsp;<span class="op" id="8017128">=</span>&nbsp;<span class="ident" id="8017130"><a href="/encoding/json/scanner_test.go.html#8017011">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8017133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8017136">if</span>&nbsp;<span class="ident" id="8017139"><a href="/encoding/json/scanner_test.go.html#8017011">n</a></span>&nbsp;<span class="op" id="8017141">&gt;</span>&nbsp;<span class="num" id="8017143">0</span>&nbsp;<span class="op" id="8017145">&amp;&amp;</span>&nbsp;<span class="ident" id="8017148"><a href="/encoding/json/scanner_test.go.html#8017044">f</a></span>&nbsp;<span class="op" id="8017150">==</span>&nbsp;<span class="num" id="8017153">0</span>&nbsp;<span class="op" id="8017155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8017159"><a href="/encoding/json/scanner_test.go.html#8017044">f</a></span>&nbsp;<span class="op" id="8017161">=</span>&nbsp;<span class="num" id="8017163">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8017166">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8017169">x</span>&nbsp;<span class="op" id="8017171">:=</span>&nbsp;<span class="builtinfunc" id="8017174">make</span><span class="op" id="8017178">(</span><span class="keyword" id="8017179">map</span><span class="op" id="8017182">[</span><span class="builtintype" id="8017183">string</span><span class="op" id="8017189">]</span><span class="keyword" id="8017190">interface</span><span class="op" id="8017199">{</span><span class="op" id="8017200">}</span><span class="op" id="8017201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8017204">for</span>&nbsp;<span class="ident" id="8017208">i</span>&nbsp;<span class="op" id="8017210">:=</span>&nbsp;<span class="num" id="8017213">0</span><span class="op" id="8017214">;</span>&nbsp;<span class="ident" id="8017216"><a href="/encoding/json/scanner_test.go.html#8017208">i</a></span>&nbsp;<span class="op" id="8017218">&lt;</span>&nbsp;<span class="ident" id="8017220"><a href="/encoding/json/scanner_test.go.html#8017044">f</a></span><span class="op" id="8017221">;</span>&nbsp;<span class="ident" id="8017223"><a href="/encoding/json/scanner_test.go.html#8017208">i</a></span><span class="op" id="8017224">++</span>&nbsp;<span class="op" id="8017227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8017231"><a href="/encoding/json/scanner_test.go.html#8017169">x</a></span><span class="op" id="8017232">[</span><span class="ident" id="8017233"><a href="/encoding/json/scanner_test.go.html#8016481">genString</a></span><span class="op" id="8017242">(</span><span class="num" id="8017243">10</span><span class="op" id="8017245">)</span><span class="op" id="8017246">]</span>&nbsp;<span class="op" id="8017248">=</span>&nbsp;<span class="ident" id="8017250"><a href="/encoding/json/scanner_test.go.html#8016185">genValue</a></span><span class="op" id="8017258">(</span><span class="op" id="8017259">(</span><span class="op" id="8017260">(</span><span class="ident" id="8017261"><a href="/encoding/json/scanner_test.go.html#8017208">i</a></span><span class="op" id="8017262">+</span><span class="num" id="8017263">1</span><span class="op" id="8017264">)</span><span class="op" id="8017265">*</span><span class="ident" id="8017266"><a href="/encoding/json/scanner_test.go.html#8017011">n</a></span><span class="op" id="8017267">)</span><span class="op" id="8017268">/</span><span class="ident" id="8017269"><a href="/encoding/json/scanner_test.go.html#8017044">f</a></span>&nbsp;<span class="op" id="8017271">-</span>&nbsp;<span class="op" id="8017273">(</span><span class="ident" id="8017274"><a href="/encoding/json/scanner_test.go.html#8017208">i</a></span><span class="op" id="8017275">*</span><span class="ident" id="8017276"><a href="/encoding/json/scanner_test.go.html#8017011">n</a></span><span class="op" id="8017277">)</span><span class="op" id="8017278">/</span><span class="ident" id="8017279"><a href="/encoding/json/scanner_test.go.html#8017044">f</a></span><span class="op" id="8017280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8017283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8017286">return</span>&nbsp;<span class="ident" id="8017293"><a href="/encoding/json/scanner_test.go.html#8017169">x</a></span><br>
<span class="lineno">315</span><span class="op" id="8017295">}</span>
</div>
</body>
</html>
