<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/mail</h2>
<ul>
<li><a href="/gostd/net/mail/message.go.html">message.go</a></li>
<li><a href="/gostd/net/mail/message_test.go.html">message_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7197078">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7197133">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7197187">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7197238">package</span>&nbsp;<span class="ident" id="7197246">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7197252">import</span>&nbsp;<span class="op" id="7197259">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197262">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197271">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197284">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197295">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197306">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197317">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7197324">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7197327">var</span>&nbsp;<span class="ident" id="7197331">parseTests</span>&nbsp;<span class="op" id="7197342">=</span>&nbsp;<span class="op" id="7197344">[</span><span class="op" id="7197345">]</span><span class="keyword" id="7197346">struct</span>&nbsp;<span class="op" id="7197353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197356">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7197363">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197371">header</span>&nbsp;<span class="ident" id="7197378">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197386">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7197393">string</span><br>
<span class="lineno">20</span><span class="op" id="7197400">}</span><span class="op" id="7197401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7197408">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197438">in</span><span class="op" id="7197440">:</span>&nbsp;<span class="string" id="7197442">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="7197668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197672">header</span><span class="op" id="7197678">:</span>&nbsp;<span class="ident" id="7197680">Header</span><span class="op" id="7197686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197691">&#34;From&#34;</span><span class="op" id="7197697">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7197705">[</span><span class="op" id="7197706">]</span><span class="builtintype" id="7197707">string</span><span class="op" id="7197713">{</span><span class="string" id="7197714">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="7197747">}</span><span class="op" id="7197748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197753">&#34;To&#34;</span><span class="op" id="7197757">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7197767">[</span><span class="op" id="7197768">]</span><span class="builtintype" id="7197769">string</span><span class="op" id="7197775">{</span><span class="string" id="7197776">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="7197807">}</span><span class="op" id="7197808">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197813">&#34;Subject&#34;</span><span class="op" id="7197822">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7197827">[</span><span class="op" id="7197828">]</span><span class="builtintype" id="7197829">string</span><span class="op" id="7197835">{</span><span class="string" id="7197836">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="7197850">}</span><span class="op" id="7197851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197856">&#34;Date&#34;</span><span class="op" id="7197862">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7197870">[</span><span class="op" id="7197871">]</span><span class="builtintype" id="7197872">string</span><span class="op" id="7197878">{</span><span class="string" id="7197879">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7197912">}</span><span class="op" id="7197913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7197918">&#34;Message-Id&#34;</span><span class="op" id="7197930">:</span>&nbsp;<span class="op" id="7197932">[</span><span class="op" id="7197933">]</span><span class="builtintype" id="7197934">string</span><span class="op" id="7197940">{</span><span class="string" id="7197941">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="7197971">}</span><span class="op" id="7197972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197976">}</span><span class="op" id="7197977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197981">body</span><span class="op" id="7197985">:</span>&nbsp;<span class="string" id="7197987">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="7198043">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198046">}</span><span class="op" id="7198047">,</span><br>
<span class="lineno"></span><span class="op" id="7198049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7198052">func</span>&nbsp;<span class="ident" id="7198057">TestParsing</span><span class="op" id="7198068">(</span><span class="ident" id="7198069">t</span>&nbsp;<span class="op" id="7198071">*</span><span class="ident" id="7198072">testing</span><span class="op" id="7198079">.</span><span class="ident" id="7198080">T</span><span class="op" id="7198081">)</span>&nbsp;<span class="op" id="7198083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198086">for</span>&nbsp;<span class="ident" id="7198090">i</span><span class="op" id="7198091">,</span>&nbsp;<span class="ident" id="7198093">test</span>&nbsp;<span class="op" id="7198098">:=</span>&nbsp;<span class="keyword" id="7198101">range</span>&nbsp;<span class="ident" id="7198107">parseTests</span>&nbsp;<span class="op" id="7198118">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198122">msg</span><span class="op" id="7198125">,</span>&nbsp;<span class="ident" id="7198127">err</span>&nbsp;<span class="op" id="7198131">:=</span>&nbsp;<span class="ident" id="7198134">ReadMessage</span><span class="op" id="7198145">(</span><span class="ident" id="7198146">bytes</span><span class="op" id="7198151">.</span><span class="ident" id="7198152">NewBuffer</span><span class="op" id="7198161">(</span><span class="op" id="7198162">[</span><span class="op" id="7198163">]</span><span class="builtintype" id="7198164">byte</span><span class="op" id="7198168">(</span><span class="ident" id="7198169">test</span><span class="op" id="7198173">.</span><span class="ident" id="7198174">in</span><span class="op" id="7198176">)</span><span class="op" id="7198177">)</span><span class="op" id="7198178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198182">if</span>&nbsp;<span class="ident" id="7198185">err</span>&nbsp;<span class="op" id="7198189">!=</span>&nbsp;<span class="ident" id="7198192">nil</span>&nbsp;<span class="op" id="7198196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198201">t</span><span class="op" id="7198202">.</span><span class="ident" id="7198203">Errorf</span><span class="op" id="7198209">(</span><span class="string" id="7198210">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="7198248">,</span>&nbsp;<span class="ident" id="7198250">i</span><span class="op" id="7198251">,</span>&nbsp;<span class="ident" id="7198253">err</span><span class="op" id="7198256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198261">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198272">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198276">if</span>&nbsp;<span class="op" id="7198279">!</span><span class="ident" id="7198280">headerEq</span><span class="op" id="7198288">(</span><span class="ident" id="7198289">msg</span><span class="op" id="7198292">.</span><span class="ident" id="7198293">Header</span><span class="op" id="7198299">,</span>&nbsp;<span class="ident" id="7198301">test</span><span class="op" id="7198305">.</span><span class="ident" id="7198306">header</span><span class="op" id="7198312">)</span>&nbsp;<span class="op" id="7198314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198319">t</span><span class="op" id="7198320">.</span><span class="ident" id="7198321">Errorf</span><span class="op" id="7198327">(</span><span class="string" id="7198328">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7198397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198403">i</span><span class="op" id="7198404">,</span>&nbsp;<span class="ident" id="7198406">msg</span><span class="op" id="7198409">.</span><span class="ident" id="7198410">Header</span><span class="op" id="7198416">,</span>&nbsp;<span class="ident" id="7198418">test</span><span class="op" id="7198422">.</span><span class="ident" id="7198423">header</span><span class="op" id="7198429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198433">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198437">body</span><span class="op" id="7198441">,</span>&nbsp;<span class="ident" id="7198443">err</span>&nbsp;<span class="op" id="7198447">:=</span>&nbsp;<span class="ident" id="7198450">ioutil</span><span class="op" id="7198456">.</span><span class="ident" id="7198457">ReadAll</span><span class="op" id="7198464">(</span><span class="ident" id="7198465">msg</span><span class="op" id="7198468">.</span><span class="ident" id="7198469">Body</span><span class="op" id="7198473">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198477">if</span>&nbsp;<span class="ident" id="7198480">err</span>&nbsp;<span class="op" id="7198484">!=</span>&nbsp;<span class="ident" id="7198487">nil</span>&nbsp;<span class="op" id="7198491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198496">t</span><span class="op" id="7198497">.</span><span class="ident" id="7198498">Errorf</span><span class="op" id="7198504">(</span><span class="string" id="7198505">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7198540">,</span>&nbsp;<span class="ident" id="7198542">i</span><span class="op" id="7198543">,</span>&nbsp;<span class="ident" id="7198545">err</span><span class="op" id="7198548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198553">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198568">bodyStr</span>&nbsp;<span class="op" id="7198576">:=</span>&nbsp;<span class="builtintype" id="7198579">string</span><span class="op" id="7198585">(</span><span class="ident" id="7198586">body</span><span class="op" id="7198590">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198594">if</span>&nbsp;<span class="ident" id="7198597">bodyStr</span>&nbsp;<span class="op" id="7198605">!=</span>&nbsp;<span class="ident" id="7198608">test</span><span class="op" id="7198612">.</span><span class="ident" id="7198613">body</span>&nbsp;<span class="op" id="7198618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198623">t</span><span class="op" id="7198624">.</span><span class="ident" id="7198625">Errorf</span><span class="op" id="7198631">(</span><span class="string" id="7198632">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7198699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198705">i</span><span class="op" id="7198706">,</span>&nbsp;<span class="ident" id="7198708">bodyStr</span><span class="op" id="7198715">,</span>&nbsp;<span class="ident" id="7198717">test</span><span class="op" id="7198721">.</span><span class="ident" id="7198722">body</span><span class="op" id="7198726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198733">}</span><br>
<span class="lineno">65</span><span class="op" id="7198735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7198738">func</span>&nbsp;<span class="ident" id="7198743">headerEq</span><span class="op" id="7198751">(</span><span class="ident" id="7198752">a</span><span class="op" id="7198753">,</span>&nbsp;<span class="ident" id="7198755">b</span>&nbsp;<span class="ident" id="7198757">Header</span><span class="op" id="7198763">)</span>&nbsp;<span class="builtintype" id="7198765">bool</span>&nbsp;<span class="op" id="7198770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198773">if</span>&nbsp;<span class="builtinfunc" id="7198776">len</span><span class="op" id="7198779">(</span><span class="ident" id="7198780">a</span><span class="op" id="7198781">)</span>&nbsp;<span class="op" id="7198783">!=</span>&nbsp;<span class="builtinfunc" id="7198786">len</span><span class="op" id="7198789">(</span><span class="ident" id="7198790">b</span><span class="op" id="7198791">)</span>&nbsp;<span class="op" id="7198793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198797">return</span>&nbsp;<span class="builtintype" id="7198804">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198814">for</span>&nbsp;<span class="ident" id="7198818">k</span><span class="op" id="7198819">,</span>&nbsp;<span class="ident" id="7198821">as</span>&nbsp;<span class="op" id="7198824">:=</span>&nbsp;<span class="keyword" id="7198827">range</span>&nbsp;<span class="ident" id="7198833">a</span>&nbsp;<span class="op" id="7198835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198839">bs</span><span class="op" id="7198841">,</span>&nbsp;<span class="ident" id="7198843">ok</span>&nbsp;<span class="op" id="7198846">:=</span>&nbsp;<span class="ident" id="7198849">b</span><span class="op" id="7198850">[</span><span class="ident" id="7198851">k</span><span class="op" id="7198852">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198856">if</span>&nbsp;<span class="op" id="7198859">!</span><span class="ident" id="7198860">ok</span>&nbsp;<span class="op" id="7198863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198868">return</span>&nbsp;<span class="builtintype" id="7198875">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198887">if</span>&nbsp;<span class="op" id="7198890">!</span><span class="ident" id="7198891">reflect</span><span class="op" id="7198898">.</span><span class="ident" id="7198899">DeepEqual</span><span class="op" id="7198908">(</span><span class="ident" id="7198909">as</span><span class="op" id="7198911">,</span>&nbsp;<span class="ident" id="7198913">bs</span><span class="op" id="7198915">)</span>&nbsp;<span class="op" id="7198917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198922">return</span>&nbsp;<span class="builtintype" id="7198929">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7198940">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7198943">return</span>&nbsp;<span class="builtintype" id="7198950">true</span><br>
<span class="lineno"></span><span class="op" id="7198955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7198958">func</span>&nbsp;<span class="ident" id="7198963">TestDateParsing</span><span class="op" id="7198978">(</span><span class="ident" id="7198979">t</span>&nbsp;<span class="op" id="7198981">*</span><span class="ident" id="7198982">testing</span><span class="op" id="7198989">.</span><span class="ident" id="7198990">T</span><span class="op" id="7198991">)</span>&nbsp;<span class="op" id="7198993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7198996">tests</span>&nbsp;<span class="op" id="7199002">:=</span>&nbsp;<span class="op" id="7199005">[</span><span class="op" id="7199006">]</span><span class="keyword" id="7199007">struct</span>&nbsp;<span class="op" id="7199014">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199018">dateStr</span>&nbsp;<span class="builtintype" id="7199026">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199035">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7199043">time</span><span class="op" id="7199047">.</span><span class="ident" id="7199048">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199054">}</span><span class="op" id="7199055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7199059">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199089">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199094">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7199127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199132">time</span><span class="op" id="7199136">.</span><span class="ident" id="7199137">Date</span><span class="op" id="7199141">(</span><span class="num" id="7199142">1997</span><span class="op" id="7199146">,</span>&nbsp;<span class="num" id="7199148">11</span><span class="op" id="7199150">,</span>&nbsp;<span class="num" id="7199152">21</span><span class="op" id="7199154">,</span>&nbsp;<span class="num" id="7199156">9</span><span class="op" id="7199157">,</span>&nbsp;<span class="num" id="7199159">55</span><span class="op" id="7199161">,</span>&nbsp;<span class="num" id="7199163">6</span><span class="op" id="7199164">,</span>&nbsp;<span class="num" id="7199166">0</span><span class="op" id="7199167">,</span>&nbsp;<span class="ident" id="7199169">time</span><span class="op" id="7199173">.</span><span class="ident" id="7199174">FixedZone</span><span class="op" id="7199183">(</span><span class="string" id="7199184">&#34;&#34;</span><span class="op" id="7199186">,</span>&nbsp;<span class="op" id="7199188">-</span><span class="num" id="7199189">6</span><span class="op" id="7199190">*</span><span class="num" id="7199191">60</span><span class="op" id="7199193">*</span><span class="num" id="7199194">60</span><span class="op" id="7199196">)</span><span class="op" id="7199197">)</span><span class="op" id="7199198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199202">}</span><span class="op" id="7199203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7199207">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7199236">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199261">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="7199285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199290">time</span><span class="op" id="7199294">.</span><span class="ident" id="7199295">Date</span><span class="op" id="7199299">(</span><span class="num" id="7199300">1997</span><span class="op" id="7199304">,</span>&nbsp;<span class="num" id="7199306">11</span><span class="op" id="7199308">,</span>&nbsp;<span class="num" id="7199310">21</span><span class="op" id="7199312">,</span>&nbsp;<span class="num" id="7199314">9</span><span class="op" id="7199315">,</span>&nbsp;<span class="num" id="7199317">55</span><span class="op" id="7199319">,</span>&nbsp;<span class="num" id="7199321">6</span><span class="op" id="7199322">,</span>&nbsp;<span class="num" id="7199324">0</span><span class="op" id="7199325">,</span>&nbsp;<span class="ident" id="7199327">time</span><span class="op" id="7199331">.</span><span class="ident" id="7199332">FixedZone</span><span class="op" id="7199341">(</span><span class="string" id="7199342">&#34;GMT&#34;</span><span class="op" id="7199347">,</span>&nbsp;<span class="num" id="7199349">0</span><span class="op" id="7199350">)</span><span class="op" id="7199351">)</span><span class="op" id="7199352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199356">}</span><span class="op" id="7199357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7199361">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199420">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="7199459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199464">time</span><span class="op" id="7199468">.</span><span class="ident" id="7199469">Date</span><span class="op" id="7199473">(</span><span class="num" id="7199474">1997</span><span class="op" id="7199478">,</span>&nbsp;<span class="num" id="7199480">11</span><span class="op" id="7199482">,</span>&nbsp;<span class="num" id="7199484">21</span><span class="op" id="7199486">,</span>&nbsp;<span class="num" id="7199488">9</span><span class="op" id="7199489">,</span>&nbsp;<span class="num" id="7199491">55</span><span class="op" id="7199493">,</span>&nbsp;<span class="num" id="7199495">6</span><span class="op" id="7199496">,</span>&nbsp;<span class="num" id="7199498">0</span><span class="op" id="7199499">,</span>&nbsp;<span class="ident" id="7199501">time</span><span class="op" id="7199505">.</span><span class="ident" id="7199506">FixedZone</span><span class="op" id="7199515">(</span><span class="string" id="7199516">&#34;&#34;</span><span class="op" id="7199518">,</span>&nbsp;<span class="op" id="7199520">-</span><span class="num" id="7199521">6</span><span class="op" id="7199522">*</span><span class="num" id="7199523">60</span><span class="op" id="7199525">*</span><span class="num" id="7199526">60</span><span class="op" id="7199528">)</span><span class="op" id="7199529">)</span><span class="op" id="7199530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199534">}</span><span class="op" id="7199535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199538">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7199541">for</span>&nbsp;<span class="ident" id="7199545">_</span><span class="op" id="7199546">,</span>&nbsp;<span class="ident" id="7199548">test</span>&nbsp;<span class="op" id="7199553">:=</span>&nbsp;<span class="keyword" id="7199556">range</span>&nbsp;<span class="ident" id="7199562">tests</span>&nbsp;<span class="op" id="7199568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199572">hdr</span>&nbsp;<span class="op" id="7199576">:=</span>&nbsp;<span class="ident" id="7199579">Header</span><span class="op" id="7199585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7199590">&#34;Date&#34;</span><span class="op" id="7199596">:</span>&nbsp;<span class="op" id="7199598">[</span><span class="op" id="7199599">]</span><span class="builtintype" id="7199600">string</span><span class="op" id="7199606">{</span><span class="ident" id="7199607">test</span><span class="op" id="7199611">.</span><span class="ident" id="7199612">dateStr</span><span class="op" id="7199619">}</span><span class="op" id="7199620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199628">date</span><span class="op" id="7199632">,</span>&nbsp;<span class="ident" id="7199634">err</span>&nbsp;<span class="op" id="7199638">:=</span>&nbsp;<span class="ident" id="7199641">hdr</span><span class="op" id="7199644">.</span><span class="ident" id="7199645">Date</span><span class="op" id="7199649">(</span><span class="op" id="7199650">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7199654">if</span>&nbsp;<span class="ident" id="7199657">err</span>&nbsp;<span class="op" id="7199661">!=</span>&nbsp;<span class="ident" id="7199664">nil</span>&nbsp;<span class="op" id="7199668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199673">t</span><span class="op" id="7199674">.</span><span class="ident" id="7199675">Errorf</span><span class="op" id="7199681">(</span><span class="string" id="7199682">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7199705">,</span>&nbsp;<span class="ident" id="7199707">test</span><span class="op" id="7199711">.</span><span class="ident" id="7199712">dateStr</span><span class="op" id="7199719">,</span>&nbsp;<span class="ident" id="7199721">err</span><span class="op" id="7199724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7199729">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7199744">if</span>&nbsp;<span class="op" id="7199747">!</span><span class="ident" id="7199748">date</span><span class="op" id="7199752">.</span><span class="ident" id="7199753">Equal</span><span class="op" id="7199758">(</span><span class="ident" id="7199759">test</span><span class="op" id="7199763">.</span><span class="ident" id="7199764">exp</span><span class="op" id="7199767">)</span>&nbsp;<span class="op" id="7199769">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199774">t</span><span class="op" id="7199775">.</span><span class="ident" id="7199776">Errorf</span><span class="op" id="7199782">(</span><span class="string" id="7199783">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7199815">,</span>&nbsp;<span class="ident" id="7199817">test</span><span class="op" id="7199821">.</span><span class="ident" id="7199822">dateStr</span><span class="op" id="7199829">,</span>&nbsp;<span class="ident" id="7199831">date</span><span class="op" id="7199835">,</span>&nbsp;<span class="ident" id="7199837">test</span><span class="op" id="7199841">.</span><span class="ident" id="7199842">exp</span><span class="op" id="7199845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7199852">}</span><br>
<span class="lineno"></span><span class="op" id="7199854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7199857">func</span>&nbsp;<span class="ident" id="7199862">TestAddressParsingError</span><span class="op" id="7199885">(</span><span class="ident" id="7199886">t</span>&nbsp;<span class="op" id="7199888">*</span><span class="ident" id="7199889">testing</span><span class="op" id="7199896">.</span><span class="ident" id="7199897">T</span><span class="op" id="7199898">)</span>&nbsp;<span class="op" id="7199900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7199903">const</span>&nbsp;<span class="ident" id="7199909">txt</span>&nbsp;<span class="op" id="7199913">=</span>&nbsp;<span class="string" id="7199915">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7199975">_</span><span class="op" id="7199976">,</span>&nbsp;<span class="ident" id="7199978">err</span>&nbsp;<span class="op" id="7199982">:=</span>&nbsp;<span class="ident" id="7199985">ParseAddress</span><span class="op" id="7199997">(</span><span class="ident" id="7199998">txt</span><span class="op" id="7200001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7200004">if</span>&nbsp;<span class="ident" id="7200007">err</span>&nbsp;<span class="op" id="7200011">==</span>&nbsp;<span class="ident" id="7200014">nil</span>&nbsp;<span class="op" id="7200018">||</span>&nbsp;<span class="op" id="7200021">!</span><span class="ident" id="7200022">strings</span><span class="op" id="7200029">.</span><span class="ident" id="7200030">Contains</span><span class="op" id="7200038">(</span><span class="ident" id="7200039">err</span><span class="op" id="7200042">.</span><span class="ident" id="7200043">Error</span><span class="op" id="7200048">(</span><span class="op" id="7200049">)</span><span class="op" id="7200050">,</span>&nbsp;<span class="string" id="7200052">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="7200075">)</span>&nbsp;<span class="op" id="7200077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200081">t</span><span class="op" id="7200082">.</span><span class="ident" id="7200083">Errorf</span><span class="op" id="7200089">(</span><span class="string" id="7200090">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="7200155">,</span>&nbsp;<span class="ident" id="7200157">txt</span><span class="op" id="7200160">,</span>&nbsp;<span class="ident" id="7200162">err</span><span class="op" id="7200165">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200168">}</span><br>
<span class="lineno"></span><span class="op" id="7200170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7200173">func</span>&nbsp;<span class="ident" id="7200178">TestAddressParsing</span><span class="op" id="7200196">(</span><span class="ident" id="7200197">t</span>&nbsp;<span class="op" id="7200199">*</span><span class="ident" id="7200200">testing</span><span class="op" id="7200207">.</span><span class="ident" id="7200208">T</span><span class="op" id="7200209">)</span>&nbsp;<span class="op" id="7200211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200214">tests</span>&nbsp;<span class="op" id="7200220">:=</span>&nbsp;<span class="op" id="7200223">[</span><span class="op" id="7200224">]</span><span class="keyword" id="7200225">struct</span>&nbsp;<span class="op" id="7200232">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200236">addrsStr</span>&nbsp;<span class="builtintype" id="7200245">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200254">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7200263">[</span><span class="op" id="7200264">]</span><span class="op" id="7200265">*</span><span class="ident" id="7200266">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200275">}</span><span class="op" id="7200276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7200280">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200298">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200303">`jdoe@machine.example`</span><span class="op" id="7200325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200330">[</span><span class="op" id="7200331">]</span><span class="op" id="7200332">*</span><span class="ident" id="7200333">Address</span><span class="op" id="7200340">{</span><span class="op" id="7200341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200347">Address</span><span class="op" id="7200354">:</span>&nbsp;<span class="string" id="7200356">&#34;jdoe@machine.example&#34;</span><span class="op" id="7200378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200383">}</span><span class="op" id="7200384">}</span><span class="op" id="7200385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200389">}</span><span class="op" id="7200390">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7200394">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200429">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="7200462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200467">[</span><span class="op" id="7200468">]</span><span class="op" id="7200469">*</span><span class="ident" id="7200470">Address</span><span class="op" id="7200477">{</span><span class="op" id="7200478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200484">Name</span><span class="op" id="7200488">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7200493">&#34;John&nbsp;Doe&#34;</span><span class="op" id="7200503">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200509">Address</span><span class="op" id="7200516">:</span>&nbsp;<span class="string" id="7200518">&#34;jdoe@machine.example&#34;</span><span class="op" id="7200540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200545">}</span><span class="op" id="7200546">}</span><span class="op" id="7200547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200551">}</span><span class="op" id="7200552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7200556">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200586">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200591">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="7200636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200641">[</span><span class="op" id="7200642">]</span><span class="op" id="7200643">*</span><span class="ident" id="7200644">Address</span><span class="op" id="7200651">{</span><span class="op" id="7200652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200658">Name</span><span class="op" id="7200662">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7200667">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="7200682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200688">Address</span><span class="op" id="7200695">:</span>&nbsp;<span class="string" id="7200697">&#34;john.q.public@example.com&#34;</span><span class="op" id="7200724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200729">}</span><span class="op" id="7200730">}</span><span class="op" id="7200731">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200735">}</span><span class="op" id="7200736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7200745">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="7200808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200813">[</span><span class="op" id="7200814">]</span><span class="op" id="7200815">*</span><span class="ident" id="7200816">Address</span><span class="op" id="7200823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200829">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200836">Name</span><span class="op" id="7200840">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7200845">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="7200857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200864">Address</span><span class="op" id="7200871">:</span>&nbsp;<span class="string" id="7200873">&#34;mary@x.test&#34;</span><span class="op" id="7200886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200892">}</span><span class="op" id="7200893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200906">Address</span><span class="op" id="7200913">:</span>&nbsp;<span class="string" id="7200915">&#34;jdoe@example.org&#34;</span><span class="op" id="7200933">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200939">}</span><span class="op" id="7200940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7200946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200953">Name</span><span class="op" id="7200957">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7200962">&#34;Who?&#34;</span><span class="op" id="7200968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7200975">Address</span><span class="op" id="7200982">:</span>&nbsp;<span class="string" id="7200984">&#34;one@y.test&#34;</span><span class="op" id="7200996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201002">}</span><span class="op" id="7201003">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201008">}</span><span class="op" id="7201009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201013">}</span><span class="op" id="7201014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7201023">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="7201088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201093">[</span><span class="op" id="7201094">]</span><span class="op" id="7201095">*</span><span class="ident" id="7201096">Address</span><span class="op" id="7201103">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201116">Address</span><span class="op" id="7201123">:</span>&nbsp;<span class="string" id="7201125">&#34;boss@nil.test&#34;</span><span class="op" id="7201140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201146">}</span><span class="op" id="7201147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201160">Name</span><span class="op" id="7201164">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7201169">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="7201187">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201194">Address</span><span class="op" id="7201201">:</span>&nbsp;<span class="string" id="7201203">&#34;sysservices@example.net&#34;</span><span class="op" id="7201228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201234">}</span><span class="op" id="7201235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201240">}</span><span class="op" id="7201241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201245">}</span><span class="op" id="7201246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201250">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201280">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201319">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7201370">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7201419">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201424">[</span><span class="op" id="7201425">]</span><span class="op" id="7201426">*</span><span class="ident" id="7201427">Address</span><span class="op" id="7201434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201447">Name</span><span class="op" id="7201451">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7201456">`Jörg&nbsp;Doe`</span><span class="op" id="7201467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201474">Address</span><span class="op" id="7201481">:</span>&nbsp;<span class="string" id="7201483">&#34;joerg@example.com&#34;</span><span class="op" id="7201502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201508">}</span><span class="op" id="7201509">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201514">}</span><span class="op" id="7201515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201519">}</span><span class="op" id="7201520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201524">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7201589">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7201636">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201641">[</span><span class="op" id="7201642">]</span><span class="op" id="7201643">*</span><span class="ident" id="7201644">Address</span><span class="op" id="7201651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201664">Name</span><span class="op" id="7201668">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7201673">`Jorg&nbsp;Doe`</span><span class="op" id="7201683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201690">Address</span><span class="op" id="7201697">:</span>&nbsp;<span class="string" id="7201699">&#34;joerg@example.com&#34;</span><span class="op" id="7201718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201724">}</span><span class="op" id="7201725">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201730">}</span><span class="op" id="7201731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201735">}</span><span class="op" id="7201736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201740">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7201786">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7201833">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201838">[</span><span class="op" id="7201839">]</span><span class="op" id="7201840">*</span><span class="ident" id="7201841">Address</span><span class="op" id="7201848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201861">Name</span><span class="op" id="7201865">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7201870">`Jörg&nbsp;Doe`</span><span class="op" id="7201881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7201888">Address</span><span class="op" id="7201895">:</span>&nbsp;<span class="string" id="7201897">&#34;joerg@example.com&#34;</span><span class="op" id="7201916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201922">}</span><span class="op" id="7201923">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201928">}</span><span class="op" id="7201929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201933">}</span><span class="op" id="7201934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7201938">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7201964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7201969">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="7202025">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202030">[</span><span class="op" id="7202031">]</span><span class="op" id="7202032">*</span><span class="ident" id="7202033">Address</span><span class="op" id="7202040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202053">Name</span><span class="op" id="7202057">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7202062">`André&nbsp;Pirard`</span><span class="op" id="7202077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202084">Address</span><span class="op" id="7202091">:</span>&nbsp;<span class="string" id="7202093">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="7202115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202121">}</span><span class="op" id="7202122">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202127">}</span><span class="op" id="7202128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202132">}</span><span class="op" id="7202133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7202137">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7202206">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7202253">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202258">[</span><span class="op" id="7202259">]</span><span class="op" id="7202260">*</span><span class="ident" id="7202261">Address</span><span class="op" id="7202268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202281">Name</span><span class="op" id="7202285">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7202290">`Jörg`</span><span class="op" id="7202297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202304">Address</span><span class="op" id="7202311">:</span>&nbsp;<span class="string" id="7202313">&#34;joerg@example.com&#34;</span><span class="op" id="7202332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202338">}</span><span class="op" id="7202339">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202344">}</span><span class="op" id="7202345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202349">}</span><span class="op" id="7202350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7202354">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7202418">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7202460">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202465">[</span><span class="op" id="7202466">]</span><span class="op" id="7202467">*</span><span class="ident" id="7202468">Address</span><span class="op" id="7202475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202488">Name</span><span class="op" id="7202492">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7202497">`Jörg`</span><span class="op" id="7202504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202511">Address</span><span class="op" id="7202518">:</span>&nbsp;<span class="string" id="7202520">&#34;joerg@example.com&#34;</span><span class="op" id="7202539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202545">}</span><span class="op" id="7202546">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202551">}</span><span class="op" id="7202552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202556">}</span><span class="op" id="7202557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7202561">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7202619">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="7202650">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202655">[</span><span class="op" id="7202656">]</span><span class="op" id="7202657">*</span><span class="ident" id="7202658">Address</span><span class="op" id="7202665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202678">Name</span><span class="op" id="7202682">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7202687">`Asem&nbsp;H.`</span><span class="op" id="7202696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202703">Address</span><span class="op" id="7202710">:</span>&nbsp;<span class="string" id="7202712">&#34;noreply@example.com&#34;</span><span class="op" id="7202733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202739">}</span><span class="op" id="7202740">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202745">}</span><span class="op" id="7202746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202750">}</span><span class="op" id="7202751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7202757">for</span>&nbsp;<span class="ident" id="7202761">_</span><span class="op" id="7202762">,</span>&nbsp;<span class="ident" id="7202764">test</span>&nbsp;<span class="op" id="7202769">:=</span>&nbsp;<span class="keyword" id="7202772">range</span>&nbsp;<span class="ident" id="7202778">tests</span>&nbsp;<span class="op" id="7202784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7202788">if</span>&nbsp;<span class="builtinfunc" id="7202791">len</span><span class="op" id="7202794">(</span><span class="ident" id="7202795">test</span><span class="op" id="7202799">.</span><span class="ident" id="7202800">exp</span><span class="op" id="7202803">)</span>&nbsp;<span class="op" id="7202805">==</span>&nbsp;<span class="num" id="7202808">1</span>&nbsp;<span class="op" id="7202810">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202815">addr</span><span class="op" id="7202819">,</span>&nbsp;<span class="ident" id="7202821">err</span>&nbsp;<span class="op" id="7202825">:=</span>&nbsp;<span class="ident" id="7202828">ParseAddress</span><span class="op" id="7202840">(</span><span class="ident" id="7202841">test</span><span class="op" id="7202845">.</span><span class="ident" id="7202846">addrsStr</span><span class="op" id="7202854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7202859">if</span>&nbsp;<span class="ident" id="7202862">err</span>&nbsp;<span class="op" id="7202866">!=</span>&nbsp;<span class="ident" id="7202869">nil</span>&nbsp;<span class="op" id="7202873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7202879">t</span><span class="op" id="7202880">.</span><span class="ident" id="7202881">Errorf</span><span class="op" id="7202887">(</span><span class="string" id="7202888">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7202920">,</span>&nbsp;<span class="ident" id="7202922">test</span><span class="op" id="7202926">.</span><span class="ident" id="7202927">addrsStr</span><span class="op" id="7202935">,</span>&nbsp;<span class="ident" id="7202937">err</span><span class="op" id="7202940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7202946">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7202958">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7202963">if</span>&nbsp;<span class="op" id="7202966">!</span><span class="ident" id="7202967">reflect</span><span class="op" id="7202974">.</span><span class="ident" id="7202975">DeepEqual</span><span class="op" id="7202984">(</span><span class="op" id="7202985">[</span><span class="op" id="7202986">]</span><span class="op" id="7202987">*</span><span class="ident" id="7202988">Address</span><span class="op" id="7202995">{</span><span class="ident" id="7202996">addr</span><span class="op" id="7203000">}</span><span class="op" id="7203001">,</span>&nbsp;<span class="ident" id="7203003">test</span><span class="op" id="7203007">.</span><span class="ident" id="7203008">exp</span><span class="op" id="7203011">)</span>&nbsp;<span class="op" id="7203013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7203019">t</span><span class="op" id="7203020">.</span><span class="ident" id="7203021">Errorf</span><span class="op" id="7203027">(</span><span class="string" id="7203028">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7203069">,</span>&nbsp;<span class="ident" id="7203071">test</span><span class="op" id="7203075">.</span><span class="ident" id="7203076">addrsStr</span><span class="op" id="7203084">,</span>&nbsp;<span class="ident" id="7203086">addr</span><span class="op" id="7203090">,</span>&nbsp;<span class="ident" id="7203092">test</span><span class="op" id="7203096">.</span><span class="ident" id="7203097">exp</span><span class="op" id="7203100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7203114">addrs</span><span class="op" id="7203119">,</span>&nbsp;<span class="ident" id="7203121">err</span>&nbsp;<span class="op" id="7203125">:=</span>&nbsp;<span class="ident" id="7203128">ParseAddressList</span><span class="op" id="7203144">(</span><span class="ident" id="7203145">test</span><span class="op" id="7203149">.</span><span class="ident" id="7203150">addrsStr</span><span class="op" id="7203158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7203162">if</span>&nbsp;<span class="ident" id="7203165">err</span>&nbsp;<span class="op" id="7203169">!=</span>&nbsp;<span class="ident" id="7203172">nil</span>&nbsp;<span class="op" id="7203176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7203181">t</span><span class="op" id="7203182">.</span><span class="ident" id="7203183">Errorf</span><span class="op" id="7203189">(</span><span class="string" id="7203190">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7203220">,</span>&nbsp;<span class="ident" id="7203222">test</span><span class="op" id="7203226">.</span><span class="ident" id="7203227">addrsStr</span><span class="op" id="7203235">,</span>&nbsp;<span class="ident" id="7203237">err</span><span class="op" id="7203240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7203245">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203256">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7203260">if</span>&nbsp;<span class="op" id="7203263">!</span><span class="ident" id="7203264">reflect</span><span class="op" id="7203271">.</span><span class="ident" id="7203272">DeepEqual</span><span class="op" id="7203281">(</span><span class="ident" id="7203282">addrs</span><span class="op" id="7203287">,</span>&nbsp;<span class="ident" id="7203289">test</span><span class="op" id="7203293">.</span><span class="ident" id="7203294">exp</span><span class="op" id="7203297">)</span>&nbsp;<span class="op" id="7203299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7203304">t</span><span class="op" id="7203305">.</span><span class="ident" id="7203306">Errorf</span><span class="op" id="7203312">(</span><span class="string" id="7203313">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7203352">,</span>&nbsp;<span class="ident" id="7203354">test</span><span class="op" id="7203358">.</span><span class="ident" id="7203359">addrsStr</span><span class="op" id="7203367">,</span>&nbsp;<span class="ident" id="7203369">addrs</span><span class="op" id="7203374">,</span>&nbsp;<span class="ident" id="7203376">test</span><span class="op" id="7203380">.</span><span class="ident" id="7203381">exp</span><span class="op" id="7203384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203391">}</span><br>
<span class="lineno"></span><span class="op" id="7203393">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7203396">func</span>&nbsp;<span class="ident" id="7203401">TestAddressFormatting</span><span class="op" id="7203422">(</span><span class="ident" id="7203423">t</span>&nbsp;<span class="op" id="7203425">*</span><span class="ident" id="7203426">testing</span><span class="op" id="7203433">.</span><span class="ident" id="7203434">T</span><span class="op" id="7203435">)</span>&nbsp;<span class="op" id="7203437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7203440">tests</span>&nbsp;<span class="op" id="7203446">:=</span>&nbsp;<span class="op" id="7203449">[</span><span class="op" id="7203450">]</span><span class="keyword" id="7203451">struct</span>&nbsp;<span class="op" id="7203458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7203462">addr</span>&nbsp;<span class="op" id="7203467">*</span><span class="ident" id="7203468">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7203478">exp</span>&nbsp;&nbsp;<span class="builtintype" id="7203483">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203491">}</span><span class="op" id="7203492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203501">&amp;</span><span class="ident" id="7203502">Address</span><span class="op" id="7203509">{</span><span class="ident" id="7203510">Address</span><span class="op" id="7203517">:</span>&nbsp;<span class="string" id="7203519">&#34;bob@example.com&#34;</span><span class="op" id="7203536">}</span><span class="op" id="7203537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7203542">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="7203561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203565">}</span><span class="op" id="7203566">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203575">&amp;</span><span class="ident" id="7203576">Address</span><span class="op" id="7203583">{</span><span class="ident" id="7203584">Name</span><span class="op" id="7203588">:</span>&nbsp;<span class="string" id="7203590">&#34;Bob&#34;</span><span class="op" id="7203595">,</span>&nbsp;<span class="ident" id="7203597">Address</span><span class="op" id="7203604">:</span>&nbsp;<span class="string" id="7203606">&#34;bob@example.com&#34;</span><span class="op" id="7203623">}</span><span class="op" id="7203624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7203629">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7203654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203658">}</span><span class="op" id="7203659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203663">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7203668">//&nbsp;note&nbsp;the&nbsp;ö&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203705">&amp;</span><span class="ident" id="7203706">Address</span><span class="op" id="7203713">{</span><span class="ident" id="7203714">Name</span><span class="op" id="7203718">:</span>&nbsp;<span class="string" id="7203720">&#34;Böb&#34;</span><span class="op" id="7203726">,</span>&nbsp;<span class="ident" id="7203728">Address</span><span class="op" id="7203735">:</span>&nbsp;<span class="string" id="7203737">&#34;bob@example.com&#34;</span><span class="op" id="7203754">}</span><span class="op" id="7203755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7203760">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7203800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203804">}</span><span class="op" id="7203805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203809">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203814">&amp;</span><span class="ident" id="7203815">Address</span><span class="op" id="7203822">{</span><span class="ident" id="7203823">Name</span><span class="op" id="7203827">:</span>&nbsp;<span class="string" id="7203829">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="7203839">,</span>&nbsp;<span class="ident" id="7203841">Address</span><span class="op" id="7203848">:</span>&nbsp;<span class="string" id="7203850">&#34;bob@example.com&#34;</span><span class="op" id="7203867">}</span><span class="op" id="7203868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7203873">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7203903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203907">}</span><span class="op" id="7203908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7203917">&amp;</span><span class="ident" id="7203918">Address</span><span class="op" id="7203925">{</span><span class="ident" id="7203926">Name</span><span class="op" id="7203930">:</span>&nbsp;<span class="string" id="7203932">&#34;Böb&nbsp;Jacöb&#34;</span><span class="op" id="7203945">,</span>&nbsp;<span class="ident" id="7203947">Address</span><span class="op" id="7203954">:</span>&nbsp;<span class="string" id="7203956">&#34;bob@example.com&#34;</span><span class="op" id="7203973">}</span><span class="op" id="7203974">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7203979">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7204030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7204034">}</span><span class="op" id="7204035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7204038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7204041">for</span>&nbsp;<span class="ident" id="7204045">_</span><span class="op" id="7204046">,</span>&nbsp;<span class="ident" id="7204048">test</span>&nbsp;<span class="op" id="7204053">:=</span>&nbsp;<span class="keyword" id="7204056">range</span>&nbsp;<span class="ident" id="7204062">tests</span>&nbsp;<span class="op" id="7204068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7204072">s</span>&nbsp;<span class="op" id="7204074">:=</span>&nbsp;<span class="ident" id="7204077">test</span><span class="op" id="7204081">.</span><span class="ident" id="7204082">addr</span><span class="op" id="7204086">.</span><span class="ident" id="7204087">String</span><span class="op" id="7204093">(</span><span class="op" id="7204094">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7204098">if</span>&nbsp;<span class="ident" id="7204101">s</span>&nbsp;<span class="op" id="7204103">!=</span>&nbsp;<span class="ident" id="7204106">test</span><span class="op" id="7204110">.</span><span class="ident" id="7204111">exp</span>&nbsp;<span class="op" id="7204115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7204120">t</span><span class="op" id="7204121">.</span><span class="ident" id="7204122">Errorf</span><span class="op" id="7204128">(</span><span class="string" id="7204129">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7204164">,</span>&nbsp;<span class="op" id="7204166">*</span><span class="ident" id="7204167">test</span><span class="op" id="7204171">.</span><span class="ident" id="7204172">addr</span><span class="op" id="7204176">,</span>&nbsp;<span class="ident" id="7204178">s</span><span class="op" id="7204179">,</span>&nbsp;<span class="ident" id="7204181">test</span><span class="op" id="7204185">.</span><span class="ident" id="7204186">exp</span><span class="op" id="7204189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7204193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7204196">}</span><br>
<span class="lineno"></span><span class="op" id="7204198">}</span>
</div>
</body>
</html>
