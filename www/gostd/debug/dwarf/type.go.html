<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html" class="current">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5403514">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5403570">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5403624">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5403675">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="5403713">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="5403774">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5403821">package</span>&nbsp;<span class="ident" id="5403829">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5403836">import</span>&nbsp;<span class="string" id="5403843">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5403854">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5403914">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="5403972">type</span>&nbsp;<span class="ident" id="5403977">Type</span>&nbsp;<span class="keyword" id="5403982">interface</span>&nbsp;<span class="op" id="5403992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5403995">Common</span><span class="op" id="5404001">(</span><span class="op" id="5404002">)</span>&nbsp;<span class="op" id="5404004">*</span><span class="ident" id="5404005">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404017">String</span><span class="op" id="5404023">(</span><span class="op" id="5404024">)</span>&nbsp;<span class="builtintype" id="5404026">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404034">Size</span><span class="op" id="5404038">(</span><span class="op" id="5404039">)</span>&nbsp;<span class="ident" id="5404041">int64</span><br>
<span class="lineno"></span><span class="op" id="5404047">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="5404050">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="5404105">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="5404168">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="5404195">type</span>&nbsp;<span class="ident" id="5404200">CommonType</span>&nbsp;<span class="keyword" id="5404211">struct</span>&nbsp;<span class="op" id="5404218">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404221">ByteSize</span>&nbsp;<span class="ident" id="5404230">int64</span>&nbsp;&nbsp;<span class="comment" id="5404237">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404278">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5404287">string</span>&nbsp;<span class="comment" id="5404294">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="5404336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5404339">func</span>&nbsp;<span class="op" id="5404344">(</span><span class="ident" id="5404345">c</span>&nbsp;<span class="op" id="5404347">*</span><span class="ident" id="5404348">CommonType</span><span class="op" id="5404358">)</span>&nbsp;<span class="ident" id="5404360">Common</span><span class="op" id="5404366">(</span><span class="op" id="5404367">)</span>&nbsp;<span class="op" id="5404369">*</span><span class="ident" id="5404370">CommonType</span>&nbsp;<span class="op" id="5404381">{</span>&nbsp;<span class="keyword" id="5404383">return</span>&nbsp;<span class="ident" id="5404390">c</span>&nbsp;<span class="op" id="5404392">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="5404395">func</span>&nbsp;<span class="op" id="5404400">(</span><span class="ident" id="5404401">c</span>&nbsp;<span class="op" id="5404403">*</span><span class="ident" id="5404404">CommonType</span><span class="op" id="5404414">)</span>&nbsp;<span class="ident" id="5404416">Size</span><span class="op" id="5404420">(</span><span class="op" id="5404421">)</span>&nbsp;<span class="ident" id="5404423">int64</span>&nbsp;<span class="op" id="5404429">{</span>&nbsp;<span class="keyword" id="5404431">return</span>&nbsp;<span class="ident" id="5404438">c</span><span class="op" id="5404439">.</span><span class="ident" id="5404440">ByteSize</span>&nbsp;<span class="op" id="5404449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5404452">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5404468">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5404523">type</span>&nbsp;<span class="ident" id="5404528">BasicType</span>&nbsp;<span class="keyword" id="5404538">struct</span>&nbsp;<span class="op" id="5404545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404548">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404560">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5404570">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404577">BitOffset</span>&nbsp;<span class="ident" id="5404587">int64</span><br>
<span class="lineno">40</span><span class="op" id="5404593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5404596">func</span>&nbsp;<span class="op" id="5404601">(</span><span class="ident" id="5404602">b</span>&nbsp;<span class="op" id="5404604">*</span><span class="ident" id="5404605">BasicType</span><span class="op" id="5404614">)</span>&nbsp;<span class="ident" id="5404616">Basic</span><span class="op" id="5404621">(</span><span class="op" id="5404622">)</span>&nbsp;<span class="op" id="5404624">*</span><span class="ident" id="5404625">BasicType</span>&nbsp;<span class="op" id="5404635">{</span>&nbsp;<span class="keyword" id="5404637">return</span>&nbsp;<span class="ident" id="5404644">b</span>&nbsp;<span class="op" id="5404646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5404649">func</span>&nbsp;<span class="op" id="5404654">(</span><span class="ident" id="5404655">t</span>&nbsp;<span class="op" id="5404657">*</span><span class="ident" id="5404658">BasicType</span><span class="op" id="5404667">)</span>&nbsp;<span class="ident" id="5404669">String</span><span class="op" id="5404675">(</span><span class="op" id="5404676">)</span>&nbsp;<span class="builtintype" id="5404678">string</span>&nbsp;<span class="op" id="5404685">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5404688">if</span>&nbsp;<span class="ident" id="5404691">t</span><span class="op" id="5404692">.</span><span class="ident" id="5404693">Name</span>&nbsp;<span class="op" id="5404698">!=</span>&nbsp;<span class="string" id="5404701">&#34;&#34;</span>&nbsp;<span class="op" id="5404704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5404708">return</span>&nbsp;<span class="ident" id="5404715">t</span><span class="op" id="5404716">.</span><span class="ident" id="5404717">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5404723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5404726">return</span>&nbsp;<span class="string" id="5404733">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="5404737">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="5404740">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5404790">type</span>&nbsp;<span class="ident" id="5404795">CharType</span>&nbsp;<span class="keyword" id="5404804">struct</span>&nbsp;<span class="op" id="5404811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404814">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5404824">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="5404827">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5404881">type</span>&nbsp;<span class="ident" id="5404886">UcharType</span>&nbsp;<span class="keyword" id="5404896">struct</span>&nbsp;<span class="op" id="5404903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404906">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5404916">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5404919">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5404967">type</span>&nbsp;<span class="ident" id="5404972">IntType</span>&nbsp;<span class="keyword" id="5404980">struct</span>&nbsp;<span class="op" id="5404987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5404990">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5405000">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="5405003">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5405054">type</span>&nbsp;<span class="ident" id="5405059">UintType</span>&nbsp;<span class="keyword" id="5405068">struct</span>&nbsp;<span class="op" id="5405075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405078">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5405088">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="5405091">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5405140">type</span>&nbsp;<span class="ident" id="5405145">FloatType</span>&nbsp;<span class="keyword" id="5405155">struct</span>&nbsp;<span class="op" id="5405162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405165">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5405175">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="5405178">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5405237">type</span>&nbsp;<span class="ident" id="5405242">ComplexType</span>&nbsp;<span class="keyword" id="5405254">struct</span>&nbsp;<span class="op" id="5405261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405264">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5405274">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="5405277">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5405318">type</span>&nbsp;<span class="ident" id="5405323">BoolType</span>&nbsp;<span class="keyword" id="5405332">struct</span>&nbsp;<span class="op" id="5405339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405342">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5405352">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="5405355">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5405405">type</span>&nbsp;<span class="ident" id="5405410">AddrType</span>&nbsp;<span class="keyword" id="5405419">struct</span>&nbsp;<span class="op" id="5405426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405429">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5405439">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="5405442">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5405528">type</span>&nbsp;<span class="ident" id="5405533">UnspecifiedType</span>&nbsp;<span class="keyword" id="5405549">struct</span>&nbsp;<span class="op" id="5405556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405559">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5405569">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5405572">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5405587">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="5405684">type</span>&nbsp;<span class="ident" id="5405689">QualType</span>&nbsp;<span class="keyword" id="5405698">struct</span>&nbsp;<span class="op" id="5405705">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405708">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405720">Qual</span>&nbsp;<span class="builtintype" id="5405725">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405733">Type</span>&nbsp;<span class="ident" id="5405738">Type</span><br>
<span class="lineno"></span><span class="op" id="5405743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5405746">func</span>&nbsp;<span class="op" id="5405751">(</span><span class="ident" id="5405752">t</span>&nbsp;<span class="op" id="5405754">*</span><span class="ident" id="5405755">QualType</span><span class="op" id="5405763">)</span>&nbsp;<span class="ident" id="5405765">String</span><span class="op" id="5405771">(</span><span class="op" id="5405772">)</span>&nbsp;<span class="builtintype" id="5405774">string</span>&nbsp;<span class="op" id="5405781">{</span>&nbsp;<span class="keyword" id="5405783">return</span>&nbsp;<span class="ident" id="5405790">t</span><span class="op" id="5405791">.</span><span class="ident" id="5405792">Qual</span>&nbsp;<span class="op" id="5405797">+</span>&nbsp;<span class="string" id="5405799">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5405803">+</span>&nbsp;<span class="ident" id="5405805">t</span><span class="op" id="5405806">.</span><span class="ident" id="5405807">Type</span><span class="op" id="5405811">.</span><span class="ident" id="5405812">String</span><span class="op" id="5405818">(</span><span class="op" id="5405819">)</span>&nbsp;<span class="op" id="5405821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5405824">func</span>&nbsp;<span class="op" id="5405829">(</span><span class="ident" id="5405830">t</span>&nbsp;<span class="op" id="5405832">*</span><span class="ident" id="5405833">QualType</span><span class="op" id="5405841">)</span>&nbsp;<span class="ident" id="5405843">Size</span><span class="op" id="5405847">(</span><span class="op" id="5405848">)</span>&nbsp;<span class="ident" id="5405850">int64</span>&nbsp;<span class="op" id="5405856">{</span>&nbsp;<span class="keyword" id="5405858">return</span>&nbsp;<span class="ident" id="5405865">t</span><span class="op" id="5405866">.</span><span class="ident" id="5405867">Type</span><span class="op" id="5405871">.</span><span class="ident" id="5405872">Size</span><span class="op" id="5405876">(</span><span class="op" id="5405877">)</span>&nbsp;<span class="op" id="5405879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5405882">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="5405934">type</span>&nbsp;<span class="ident" id="5405939">ArrayType</span>&nbsp;<span class="keyword" id="5405949">struct</span>&nbsp;<span class="op" id="5405956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405959">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405971">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5405985">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5405991">StrideBitSize</span>&nbsp;<span class="ident" id="5406005">int64</span>&nbsp;<span class="comment" id="5406011">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5406059">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5406073">int64</span>&nbsp;<span class="comment" id="5406079">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="5406128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5406131">func</span>&nbsp;<span class="op" id="5406136">(</span><span class="ident" id="5406137">t</span>&nbsp;<span class="op" id="5406139">*</span><span class="ident" id="5406140">ArrayType</span><span class="op" id="5406149">)</span>&nbsp;<span class="ident" id="5406151">String</span><span class="op" id="5406157">(</span><span class="op" id="5406158">)</span>&nbsp;<span class="builtintype" id="5406160">string</span>&nbsp;<span class="op" id="5406167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5406170">return</span>&nbsp;<span class="string" id="5406177">&#34;[&#34;</span>&nbsp;<span class="op" id="5406181">+</span>&nbsp;<span class="ident" id="5406183">strconv</span><span class="op" id="5406190">.</span><span class="ident" id="5406191">FormatInt</span><span class="op" id="5406200">(</span><span class="ident" id="5406201">t</span><span class="op" id="5406202">.</span><span class="ident" id="5406203">Count</span><span class="op" id="5406208">,</span>&nbsp;<span class="num" id="5406210">10</span><span class="op" id="5406212">)</span>&nbsp;<span class="op" id="5406214">+</span>&nbsp;<span class="string" id="5406216">&#34;]&#34;</span>&nbsp;<span class="op" id="5406220">+</span>&nbsp;<span class="ident" id="5406222">t</span><span class="op" id="5406223">.</span><span class="ident" id="5406224">Type</span><span class="op" id="5406228">.</span><span class="ident" id="5406229">String</span><span class="op" id="5406235">(</span><span class="op" id="5406236">)</span><br>
<span class="lineno"></span><span class="op" id="5406238">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="5406241">func</span>&nbsp;<span class="op" id="5406246">(</span><span class="ident" id="5406247">t</span>&nbsp;<span class="op" id="5406249">*</span><span class="ident" id="5406250">ArrayType</span><span class="op" id="5406259">)</span>&nbsp;<span class="ident" id="5406261">Size</span><span class="op" id="5406265">(</span><span class="op" id="5406266">)</span>&nbsp;<span class="ident" id="5406268">int64</span>&nbsp;<span class="op" id="5406274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5406277">if</span>&nbsp;<span class="ident" id="5406280">t</span><span class="op" id="5406281">.</span><span class="ident" id="5406282">Count</span>&nbsp;<span class="op" id="5406288">==</span>&nbsp;<span class="op" id="5406291">-</span><span class="num" id="5406292">1</span>&nbsp;<span class="op" id="5406294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5406298">return</span>&nbsp;<span class="num" id="5406305">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5406308">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5406311">return</span>&nbsp;<span class="ident" id="5406318">t</span><span class="op" id="5406319">.</span><span class="ident" id="5406320">Count</span>&nbsp;<span class="op" id="5406326">*</span>&nbsp;<span class="ident" id="5406328">t</span><span class="op" id="5406329">.</span><span class="ident" id="5406330">Type</span><span class="op" id="5406334">.</span><span class="ident" id="5406335">Size</span><span class="op" id="5406339">(</span><span class="op" id="5406340">)</span><br>
<span class="lineno"></span><span class="op" id="5406342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5406345">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5406387">type</span>&nbsp;<span class="ident" id="5406392">VoidType</span>&nbsp;<span class="keyword" id="5406401">struct</span>&nbsp;<span class="op" id="5406408">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5406411">CommonType</span><br>
<span class="lineno"></span><span class="op" id="5406422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5406425">func</span>&nbsp;<span class="op" id="5406430">(</span><span class="ident" id="5406431">t</span>&nbsp;<span class="op" id="5406433">*</span><span class="ident" id="5406434">VoidType</span><span class="op" id="5406442">)</span>&nbsp;<span class="ident" id="5406444">String</span><span class="op" id="5406450">(</span><span class="op" id="5406451">)</span>&nbsp;<span class="builtintype" id="5406453">string</span>&nbsp;<span class="op" id="5406460">{</span>&nbsp;<span class="keyword" id="5406462">return</span>&nbsp;<span class="string" id="5406469">&#34;void&#34;</span>&nbsp;<span class="op" id="5406476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="5406479">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5406519">type</span>&nbsp;<span class="ident" id="5406524">PtrType</span>&nbsp;<span class="keyword" id="5406532">struct</span>&nbsp;<span class="op" id="5406539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5406542">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5406554">Type</span>&nbsp;<span class="ident" id="5406559">Type</span><br>
<span class="lineno"></span><span class="op" id="5406564">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="5406567">func</span>&nbsp;<span class="op" id="5406572">(</span><span class="ident" id="5406573">t</span>&nbsp;<span class="op" id="5406575">*</span><span class="ident" id="5406576">PtrType</span><span class="op" id="5406583">)</span>&nbsp;<span class="ident" id="5406585">String</span><span class="op" id="5406591">(</span><span class="op" id="5406592">)</span>&nbsp;<span class="builtintype" id="5406594">string</span>&nbsp;<span class="op" id="5406601">{</span>&nbsp;<span class="keyword" id="5406603">return</span>&nbsp;<span class="string" id="5406610">&#34;*&#34;</span>&nbsp;<span class="op" id="5406614">+</span>&nbsp;<span class="ident" id="5406616">t</span><span class="op" id="5406617">.</span><span class="ident" id="5406618">Type</span><span class="op" id="5406622">.</span><span class="ident" id="5406623">String</span><span class="op" id="5406629">(</span><span class="op" id="5406630">)</span>&nbsp;<span class="op" id="5406632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5406635">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5406698">type</span>&nbsp;<span class="ident" id="5406703">StructType</span>&nbsp;<span class="keyword" id="5406714">struct</span>&nbsp;<span class="op" id="5406721">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5406724">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5406736">StructName</span>&nbsp;<span class="builtintype" id="5406747">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5406755">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5406766">string</span>&nbsp;<span class="comment" id="5406773">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5406808">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5406819">[</span><span class="op" id="5406820">]</span><span class="op" id="5406821">*</span><span class="ident" id="5406822">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5406835">Incomplete</span>&nbsp;<span class="builtintype" id="5406846">bool</span>&nbsp;<span class="comment" id="5406851">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="5406912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5406915">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5406990">type</span>&nbsp;<span class="ident" id="5406995">StructField</span>&nbsp;<span class="keyword" id="5407007">struct</span>&nbsp;<span class="op" id="5407014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407017">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5407028">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407036">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5407047">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407053">ByteOffset</span>&nbsp;<span class="ident" id="5407064">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407071">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5407082">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407089">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="5407100">int64</span>&nbsp;<span class="comment" id="5407106">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407150">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5407161">int64</span>&nbsp;<span class="comment" id="5407167">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="5407194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5407197">func</span>&nbsp;<span class="op" id="5407202">(</span><span class="ident" id="5407203">t</span>&nbsp;<span class="op" id="5407205">*</span><span class="ident" id="5407206">StructType</span><span class="op" id="5407216">)</span>&nbsp;<span class="ident" id="5407218">String</span><span class="op" id="5407224">(</span><span class="op" id="5407225">)</span>&nbsp;<span class="builtintype" id="5407227">string</span>&nbsp;<span class="op" id="5407234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407237">if</span>&nbsp;<span class="ident" id="5407240">t</span><span class="op" id="5407241">.</span><span class="ident" id="5407242">StructName</span>&nbsp;<span class="op" id="5407253">!=</span>&nbsp;<span class="string" id="5407256">&#34;&#34;</span>&nbsp;<span class="op" id="5407259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407263">return</span>&nbsp;<span class="ident" id="5407270">t</span><span class="op" id="5407271">.</span><span class="ident" id="5407272">Kind</span>&nbsp;<span class="op" id="5407277">+</span>&nbsp;<span class="string" id="5407279">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5407283">+</span>&nbsp;<span class="ident" id="5407285">t</span><span class="op" id="5407286">.</span><span class="ident" id="5407287">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5407299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407302">return</span>&nbsp;<span class="ident" id="5407309">t</span><span class="op" id="5407310">.</span><span class="ident" id="5407311">Defn</span><span class="op" id="5407315">(</span><span class="op" id="5407316">)</span><br>
<span class="lineno"></span><span class="op" id="5407318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5407321">func</span>&nbsp;<span class="op" id="5407326">(</span><span class="ident" id="5407327">t</span>&nbsp;<span class="op" id="5407329">*</span><span class="ident" id="5407330">StructType</span><span class="op" id="5407340">)</span>&nbsp;<span class="ident" id="5407342">Defn</span><span class="op" id="5407346">(</span><span class="op" id="5407347">)</span>&nbsp;<span class="builtintype" id="5407349">string</span>&nbsp;<span class="op" id="5407356">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407359">s</span>&nbsp;<span class="op" id="5407361">:=</span>&nbsp;<span class="ident" id="5407364">t</span><span class="op" id="5407365">.</span><span class="ident" id="5407366">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407372">if</span>&nbsp;<span class="ident" id="5407375">t</span><span class="op" id="5407376">.</span><span class="ident" id="5407377">StructName</span>&nbsp;<span class="op" id="5407388">!=</span>&nbsp;<span class="string" id="5407391">&#34;&#34;</span>&nbsp;<span class="op" id="5407394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407398">s</span>&nbsp;<span class="op" id="5407400">+=</span>&nbsp;<span class="string" id="5407403">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5407407">+</span>&nbsp;<span class="ident" id="5407409">t</span><span class="op" id="5407410">.</span><span class="ident" id="5407411">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5407423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407426">if</span>&nbsp;<span class="ident" id="5407429">t</span><span class="op" id="5407430">.</span><span class="ident" id="5407431">Incomplete</span>&nbsp;<span class="op" id="5407442">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407446">s</span>&nbsp;<span class="op" id="5407448">+=</span>&nbsp;<span class="string" id="5407451">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407471">return</span>&nbsp;<span class="ident" id="5407478">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5407481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407484">s</span>&nbsp;<span class="op" id="5407486">+=</span>&nbsp;<span class="string" id="5407489">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407495">for</span>&nbsp;<span class="ident" id="5407499">i</span><span class="op" id="5407500">,</span>&nbsp;<span class="ident" id="5407502">f</span>&nbsp;<span class="op" id="5407504">:=</span>&nbsp;<span class="keyword" id="5407507">range</span>&nbsp;<span class="ident" id="5407513">t</span><span class="op" id="5407514">.</span><span class="ident" id="5407515">Field</span>&nbsp;<span class="op" id="5407521">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407525">if</span>&nbsp;<span class="ident" id="5407528">i</span>&nbsp;<span class="op" id="5407530">&gt;</span>&nbsp;<span class="num" id="5407532">0</span>&nbsp;<span class="op" id="5407534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407539">s</span>&nbsp;<span class="op" id="5407541">+=</span>&nbsp;<span class="string" id="5407544">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5407551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407555">s</span>&nbsp;<span class="op" id="5407557">+=</span>&nbsp;<span class="ident" id="5407560">f</span><span class="op" id="5407561">.</span><span class="ident" id="5407562">Name</span>&nbsp;<span class="op" id="5407567">+</span>&nbsp;<span class="string" id="5407569">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5407573">+</span>&nbsp;<span class="ident" id="5407575">f</span><span class="op" id="5407576">.</span><span class="ident" id="5407577">Type</span><span class="op" id="5407581">.</span><span class="ident" id="5407582">String</span><span class="op" id="5407588">(</span><span class="op" id="5407589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407593">s</span>&nbsp;<span class="op" id="5407595">+=</span>&nbsp;<span class="string" id="5407598">&#34;@&#34;</span>&nbsp;<span class="op" id="5407602">+</span>&nbsp;<span class="ident" id="5407604">strconv</span><span class="op" id="5407611">.</span><span class="ident" id="5407612">FormatInt</span><span class="op" id="5407621">(</span><span class="ident" id="5407622">f</span><span class="op" id="5407623">.</span><span class="ident" id="5407624">ByteOffset</span><span class="op" id="5407634">,</span>&nbsp;<span class="num" id="5407636">10</span><span class="op" id="5407638">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407642">if</span>&nbsp;<span class="ident" id="5407645">f</span><span class="op" id="5407646">.</span><span class="ident" id="5407647">BitSize</span>&nbsp;<span class="op" id="5407655">&gt;</span>&nbsp;<span class="num" id="5407657">0</span>&nbsp;<span class="op" id="5407659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407664">s</span>&nbsp;<span class="op" id="5407666">+=</span>&nbsp;<span class="string" id="5407669">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="5407675">+</span>&nbsp;<span class="ident" id="5407677">strconv</span><span class="op" id="5407684">.</span><span class="ident" id="5407685">FormatInt</span><span class="op" id="5407694">(</span><span class="ident" id="5407695">f</span><span class="op" id="5407696">.</span><span class="ident" id="5407697">BitSize</span><span class="op" id="5407704">,</span>&nbsp;<span class="num" id="5407706">10</span><span class="op" id="5407708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407713">s</span>&nbsp;<span class="op" id="5407715">+=</span>&nbsp;<span class="string" id="5407718">&#34;@&#34;</span>&nbsp;<span class="op" id="5407722">+</span>&nbsp;<span class="ident" id="5407724">strconv</span><span class="op" id="5407731">.</span><span class="ident" id="5407732">FormatInt</span><span class="op" id="5407741">(</span><span class="ident" id="5407742">f</span><span class="op" id="5407743">.</span><span class="ident" id="5407744">BitOffset</span><span class="op" id="5407753">,</span>&nbsp;<span class="num" id="5407755">10</span><span class="op" id="5407757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5407761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5407764">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407767">s</span>&nbsp;<span class="op" id="5407769">+=</span>&nbsp;<span class="string" id="5407772">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5407777">return</span>&nbsp;<span class="ident" id="5407784">s</span><br>
<span class="lineno"></span><span class="op" id="5407786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5407789">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="5407835">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="5407901">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="5407925">type</span>&nbsp;<span class="ident" id="5407930">EnumType</span>&nbsp;<span class="keyword" id="5407939">struct</span>&nbsp;<span class="op" id="5407946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407949">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407961">EnumName</span>&nbsp;<span class="builtintype" id="5407970">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5407978">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5407987">[</span><span class="op" id="5407988">]</span><span class="op" id="5407989">*</span><span class="ident" id="5407990">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="5408000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5408003">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5408058">type</span>&nbsp;<span class="ident" id="5408063">EnumValue</span>&nbsp;<span class="keyword" id="5408073">struct</span>&nbsp;<span class="op" id="5408080">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408083">Name</span>&nbsp;<span class="builtintype" id="5408088">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408096">Val</span>&nbsp;&nbsp;<span class="ident" id="5408101">int64</span><br>
<span class="lineno"></span><span class="op" id="5408107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5408110">func</span>&nbsp;<span class="op" id="5408115">(</span><span class="ident" id="5408116">t</span>&nbsp;<span class="op" id="5408118">*</span><span class="ident" id="5408119">EnumType</span><span class="op" id="5408127">)</span>&nbsp;<span class="ident" id="5408129">String</span><span class="op" id="5408135">(</span><span class="op" id="5408136">)</span>&nbsp;<span class="builtintype" id="5408138">string</span>&nbsp;<span class="op" id="5408145">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408148">s</span>&nbsp;<span class="op" id="5408150">:=</span>&nbsp;<span class="string" id="5408153">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408161">if</span>&nbsp;<span class="ident" id="5408164">t</span><span class="op" id="5408165">.</span><span class="ident" id="5408166">EnumName</span>&nbsp;<span class="op" id="5408175">!=</span>&nbsp;<span class="string" id="5408178">&#34;&#34;</span>&nbsp;<span class="op" id="5408181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408185">s</span>&nbsp;<span class="op" id="5408187">+=</span>&nbsp;<span class="string" id="5408190">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5408194">+</span>&nbsp;<span class="ident" id="5408196">t</span><span class="op" id="5408197">.</span><span class="ident" id="5408198">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408211">s</span>&nbsp;<span class="op" id="5408213">+=</span>&nbsp;<span class="string" id="5408216">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408222">for</span>&nbsp;<span class="ident" id="5408226">i</span><span class="op" id="5408227">,</span>&nbsp;<span class="ident" id="5408229">v</span>&nbsp;<span class="op" id="5408231">:=</span>&nbsp;<span class="keyword" id="5408234">range</span>&nbsp;<span class="ident" id="5408240">t</span><span class="op" id="5408241">.</span><span class="ident" id="5408242">Val</span>&nbsp;<span class="op" id="5408246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408250">if</span>&nbsp;<span class="ident" id="5408253">i</span>&nbsp;<span class="op" id="5408255">&gt;</span>&nbsp;<span class="num" id="5408257">0</span>&nbsp;<span class="op" id="5408259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408264">s</span>&nbsp;<span class="op" id="5408266">+=</span>&nbsp;<span class="string" id="5408269">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408280">s</span>&nbsp;<span class="op" id="5408282">+=</span>&nbsp;<span class="ident" id="5408285">v</span><span class="op" id="5408286">.</span><span class="ident" id="5408287">Name</span>&nbsp;<span class="op" id="5408292">+</span>&nbsp;<span class="string" id="5408294">&#34;=&#34;</span>&nbsp;<span class="op" id="5408298">+</span>&nbsp;<span class="ident" id="5408300">strconv</span><span class="op" id="5408307">.</span><span class="ident" id="5408308">FormatInt</span><span class="op" id="5408317">(</span><span class="ident" id="5408318">v</span><span class="op" id="5408319">.</span><span class="ident" id="5408320">Val</span><span class="op" id="5408323">,</span>&nbsp;<span class="num" id="5408325">10</span><span class="op" id="5408327">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408333">s</span>&nbsp;<span class="op" id="5408335">+=</span>&nbsp;<span class="string" id="5408338">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408343">return</span>&nbsp;<span class="ident" id="5408350">s</span><br>
<span class="lineno"></span><span class="op" id="5408352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="5408355">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5408397">type</span>&nbsp;<span class="ident" id="5408402">FuncType</span>&nbsp;<span class="keyword" id="5408411">struct</span>&nbsp;<span class="op" id="5408418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408421">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408433">ReturnType</span>&nbsp;<span class="ident" id="5408444">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408450">ParamType</span>&nbsp;&nbsp;<span class="op" id="5408461">[</span><span class="op" id="5408462">]</span><span class="ident" id="5408463">Type</span><br>
<span class="lineno">230</span><span class="op" id="5408468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5408471">func</span>&nbsp;<span class="op" id="5408476">(</span><span class="ident" id="5408477">t</span>&nbsp;<span class="op" id="5408479">*</span><span class="ident" id="5408480">FuncType</span><span class="op" id="5408488">)</span>&nbsp;<span class="ident" id="5408490">String</span><span class="op" id="5408496">(</span><span class="op" id="5408497">)</span>&nbsp;<span class="builtintype" id="5408499">string</span>&nbsp;<span class="op" id="5408506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408509">s</span>&nbsp;<span class="op" id="5408511">:=</span>&nbsp;<span class="string" id="5408514">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408523">for</span>&nbsp;<span class="ident" id="5408527">i</span><span class="op" id="5408528">,</span>&nbsp;<span class="ident" id="5408530">t</span>&nbsp;<span class="op" id="5408532">:=</span>&nbsp;<span class="keyword" id="5408535">range</span>&nbsp;<span class="ident" id="5408541">t</span><span class="op" id="5408542">.</span><span class="ident" id="5408543">ParamType</span>&nbsp;<span class="op" id="5408553">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408557">if</span>&nbsp;<span class="ident" id="5408560">i</span>&nbsp;<span class="op" id="5408562">&gt;</span>&nbsp;<span class="num" id="5408564">0</span>&nbsp;<span class="op" id="5408566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408571">s</span>&nbsp;<span class="op" id="5408573">+=</span>&nbsp;<span class="string" id="5408576">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408587">s</span>&nbsp;<span class="op" id="5408589">+=</span>&nbsp;<span class="ident" id="5408592">t</span><span class="op" id="5408593">.</span><span class="ident" id="5408594">String</span><span class="op" id="5408600">(</span><span class="op" id="5408601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408604">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408607">s</span>&nbsp;<span class="op" id="5408609">+=</span>&nbsp;<span class="string" id="5408612">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408617">if</span>&nbsp;<span class="ident" id="5408620">t</span><span class="op" id="5408621">.</span><span class="ident" id="5408622">ReturnType</span>&nbsp;<span class="op" id="5408633">!=</span>&nbsp;<span class="ident" id="5408636">nil</span>&nbsp;<span class="op" id="5408640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408644">s</span>&nbsp;<span class="op" id="5408646">+=</span>&nbsp;<span class="string" id="5408649">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5408653">+</span>&nbsp;<span class="ident" id="5408655">t</span><span class="op" id="5408656">.</span><span class="ident" id="5408657">ReturnType</span><span class="op" id="5408667">.</span><span class="ident" id="5408668">String</span><span class="op" id="5408674">(</span><span class="op" id="5408675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408681">return</span>&nbsp;<span class="ident" id="5408688">s</span><br>
<span class="lineno">245</span><span class="op" id="5408690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5408693">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="5408760">type</span>&nbsp;<span class="ident" id="5408765">DotDotDotType</span>&nbsp;<span class="keyword" id="5408779">struct</span>&nbsp;<span class="op" id="5408786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408789">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="5408800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5408803">func</span>&nbsp;<span class="op" id="5408808">(</span><span class="ident" id="5408809">t</span>&nbsp;<span class="op" id="5408811">*</span><span class="ident" id="5408812">DotDotDotType</span><span class="op" id="5408825">)</span>&nbsp;<span class="ident" id="5408827">String</span><span class="op" id="5408833">(</span><span class="op" id="5408834">)</span>&nbsp;<span class="builtintype" id="5408836">string</span>&nbsp;<span class="op" id="5408843">{</span>&nbsp;<span class="keyword" id="5408845">return</span>&nbsp;<span class="string" id="5408852">&#34;...&#34;</span>&nbsp;<span class="op" id="5408858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5408861">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="5408903">type</span>&nbsp;<span class="ident" id="5408908">TypedefType</span>&nbsp;<span class="keyword" id="5408920">struct</span>&nbsp;<span class="op" id="5408927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408930">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408942">Type</span>&nbsp;<span class="ident" id="5408947">Type</span><br>
<span class="lineno"></span><span class="op" id="5408952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="5408955">func</span>&nbsp;<span class="op" id="5408960">(</span><span class="ident" id="5408961">t</span>&nbsp;<span class="op" id="5408963">*</span><span class="ident" id="5408964">TypedefType</span><span class="op" id="5408975">)</span>&nbsp;<span class="ident" id="5408977">String</span><span class="op" id="5408983">(</span><span class="op" id="5408984">)</span>&nbsp;<span class="builtintype" id="5408986">string</span>&nbsp;<span class="op" id="5408993">{</span>&nbsp;<span class="keyword" id="5408995">return</span>&nbsp;<span class="ident" id="5409002">t</span><span class="op" id="5409003">.</span><span class="ident" id="5409004">Name</span>&nbsp;<span class="op" id="5409009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5409012">func</span>&nbsp;<span class="op" id="5409017">(</span><span class="ident" id="5409018">t</span>&nbsp;<span class="op" id="5409020">*</span><span class="ident" id="5409021">TypedefType</span><span class="op" id="5409032">)</span>&nbsp;<span class="ident" id="5409034">Size</span><span class="op" id="5409038">(</span><span class="op" id="5409039">)</span>&nbsp;<span class="ident" id="5409041">int64</span>&nbsp;<span class="op" id="5409047">{</span>&nbsp;<span class="keyword" id="5409049">return</span>&nbsp;<span class="ident" id="5409056">t</span><span class="op" id="5409057">.</span><span class="ident" id="5409058">Type</span><span class="op" id="5409062">.</span><span class="ident" id="5409063">Size</span><span class="op" id="5409067">(</span><span class="op" id="5409068">)</span>&nbsp;<span class="op" id="5409070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5409073">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="5409139">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5409157">type</span>&nbsp;<span class="ident" id="5409162">typeReader</span>&nbsp;<span class="keyword" id="5409173">interface</span>&nbsp;<span class="op" id="5409183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409186">Seek</span><span class="op" id="5409190">(</span><span class="ident" id="5409191">Offset</span><span class="op" id="5409197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409200">Next</span><span class="op" id="5409204">(</span><span class="op" id="5409205">)</span>&nbsp;<span class="op" id="5409207">(</span><span class="op" id="5409208">*</span><span class="ident" id="5409209">Entry</span><span class="op" id="5409214">,</span>&nbsp;<span class="builtintype" id="5409216">error</span><span class="op" id="5409221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409224">clone</span><span class="op" id="5409229">(</span><span class="op" id="5409230">)</span>&nbsp;<span class="ident" id="5409232">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409244">offset</span><span class="op" id="5409250">(</span><span class="op" id="5409251">)</span>&nbsp;<span class="ident" id="5409253">Offset</span><br>
<span class="lineno"></span><span class="op" id="5409260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5409263">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5409324">func</span>&nbsp;<span class="op" id="5409329">(</span><span class="ident" id="5409330">d</span>&nbsp;<span class="op" id="5409332">*</span><span class="ident" id="5409333">Data</span><span class="op" id="5409337">)</span>&nbsp;<span class="ident" id="5409339">Type</span><span class="op" id="5409343">(</span><span class="ident" id="5409344">off</span>&nbsp;<span class="ident" id="5409348">Offset</span><span class="op" id="5409354">)</span>&nbsp;<span class="op" id="5409356">(</span><span class="ident" id="5409357">Type</span><span class="op" id="5409361">,</span>&nbsp;<span class="builtintype" id="5409363">error</span><span class="op" id="5409368">)</span>&nbsp;<span class="op" id="5409370">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409373">return</span>&nbsp;<span class="ident" id="5409380">d</span><span class="op" id="5409381">.</span><span class="ident" id="5409382">readType</span><span class="op" id="5409390">(</span><span class="string" id="5409391">&#34;info&#34;</span><span class="op" id="5409397">,</span>&nbsp;<span class="ident" id="5409399">d</span><span class="op" id="5409400">.</span><span class="ident" id="5409401">Reader</span><span class="op" id="5409407">(</span><span class="op" id="5409408">)</span><span class="op" id="5409409">,</span>&nbsp;<span class="ident" id="5409411">off</span><span class="op" id="5409414">,</span>&nbsp;<span class="ident" id="5409416">d</span><span class="op" id="5409417">.</span><span class="ident" id="5409418">typeCache</span><span class="op" id="5409427">)</span><br>
<span class="lineno"></span><span class="op" id="5409429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5409432">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5409500">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="5409515">func</span>&nbsp;<span class="op" id="5409520">(</span><span class="ident" id="5409521">d</span>&nbsp;<span class="op" id="5409523">*</span><span class="ident" id="5409524">Data</span><span class="op" id="5409528">)</span>&nbsp;<span class="ident" id="5409530">readType</span><span class="op" id="5409538">(</span><span class="ident" id="5409539">name</span>&nbsp;<span class="builtintype" id="5409544">string</span><span class="op" id="5409550">,</span>&nbsp;<span class="ident" id="5409552">r</span>&nbsp;<span class="ident" id="5409554">typeReader</span><span class="op" id="5409564">,</span>&nbsp;<span class="ident" id="5409566">off</span>&nbsp;<span class="ident" id="5409570">Offset</span><span class="op" id="5409576">,</span>&nbsp;<span class="ident" id="5409578">typeCache</span>&nbsp;<span class="keyword" id="5409588">map</span><span class="op" id="5409591">[</span><span class="ident" id="5409592">Offset</span><span class="op" id="5409598">]</span><span class="ident" id="5409599">Type</span><span class="op" id="5409603">)</span>&nbsp;<span class="op" id="5409605">(</span><span class="ident" id="5409606">Type</span><span class="op" id="5409610">,</span>&nbsp;<span class="builtintype" id="5409612">error</span><span class="op" id="5409617">)</span>&nbsp;<span class="op" id="5409619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409622">if</span>&nbsp;<span class="ident" id="5409625">t</span><span class="op" id="5409626">,</span>&nbsp;<span class="ident" id="5409628">ok</span>&nbsp;<span class="op" id="5409631">:=</span>&nbsp;<span class="ident" id="5409634">typeCache</span><span class="op" id="5409643">[</span><span class="ident" id="5409644">off</span><span class="op" id="5409647">]</span><span class="op" id="5409648">;</span>&nbsp;<span class="ident" id="5409650">ok</span>&nbsp;<span class="op" id="5409653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409657">return</span>&nbsp;<span class="ident" id="5409664">t</span><span class="op" id="5409665">,</span>&nbsp;<span class="ident" id="5409667">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5409672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409675">r</span><span class="op" id="5409676">.</span><span class="ident" id="5409677">Seek</span><span class="op" id="5409681">(</span><span class="ident" id="5409682">off</span><span class="op" id="5409685">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409688">e</span><span class="op" id="5409689">,</span>&nbsp;<span class="ident" id="5409691">err</span>&nbsp;<span class="op" id="5409695">:=</span>&nbsp;<span class="ident" id="5409698">r</span><span class="op" id="5409699">.</span><span class="ident" id="5409700">Next</span><span class="op" id="5409704">(</span><span class="op" id="5409705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409708">if</span>&nbsp;<span class="ident" id="5409711">err</span>&nbsp;<span class="op" id="5409715">!=</span>&nbsp;<span class="ident" id="5409718">nil</span>&nbsp;<span class="op" id="5409722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409726">return</span>&nbsp;<span class="ident" id="5409733">nil</span><span class="op" id="5409736">,</span>&nbsp;<span class="ident" id="5409738">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5409743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409746">if</span>&nbsp;<span class="ident" id="5409749">e</span>&nbsp;<span class="op" id="5409751">==</span>&nbsp;<span class="ident" id="5409754">nil</span>&nbsp;<span class="op" id="5409758">||</span>&nbsp;<span class="ident" id="5409761">e</span><span class="op" id="5409762">.</span><span class="ident" id="5409763">Offset</span>&nbsp;<span class="op" id="5409770">!=</span>&nbsp;<span class="ident" id="5409773">off</span>&nbsp;<span class="op" id="5409777">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409781">return</span>&nbsp;<span class="ident" id="5409788">nil</span><span class="op" id="5409791">,</span>&nbsp;<span class="ident" id="5409793">DecodeError</span><span class="op" id="5409804">{</span><span class="ident" id="5409805">name</span><span class="op" id="5409809">,</span>&nbsp;<span class="ident" id="5409811">off</span><span class="op" id="5409814">,</span>&nbsp;<span class="string" id="5409816">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="5409835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5409838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5409842">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5409869">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5409919">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409979">var</span>&nbsp;<span class="ident" id="5409983">typ</span>&nbsp;<span class="ident" id="5409987">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409994">nextDepth</span>&nbsp;<span class="op" id="5410004">:=</span>&nbsp;<span class="num" id="5410007">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5410011">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410057">next</span>&nbsp;<span class="op" id="5410062">:=</span>&nbsp;<span class="keyword" id="5410065">func</span><span class="op" id="5410069">(</span><span class="op" id="5410070">)</span>&nbsp;<span class="op" id="5410072">*</span><span class="ident" id="5410073">Entry</span>&nbsp;<span class="op" id="5410079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410083">if</span>&nbsp;<span class="op" id="5410086">!</span><span class="ident" id="5410087">e</span><span class="op" id="5410088">.</span><span class="ident" id="5410089">Children</span>&nbsp;<span class="op" id="5410098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410103">return</span>&nbsp;<span class="ident" id="5410110">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410116">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5410120">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5410154">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5410212">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5410274">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5410309">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410341">for</span>&nbsp;<span class="op" id="5410345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410350">kid</span><span class="op" id="5410353">,</span>&nbsp;<span class="ident" id="5410355">err1</span>&nbsp;<span class="op" id="5410360">:=</span>&nbsp;<span class="ident" id="5410363">r</span><span class="op" id="5410364">.</span><span class="ident" id="5410365">Next</span><span class="op" id="5410369">(</span><span class="op" id="5410370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410375">if</span>&nbsp;<span class="ident" id="5410378">err1</span>&nbsp;<span class="op" id="5410383">!=</span>&nbsp;<span class="ident" id="5410386">nil</span>&nbsp;<span class="op" id="5410390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410396">err</span>&nbsp;<span class="op" id="5410400">=</span>&nbsp;<span class="ident" id="5410402">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410411">return</span>&nbsp;<span class="ident" id="5410418">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410430">if</span>&nbsp;<span class="ident" id="5410433">kid</span>&nbsp;<span class="op" id="5410437">==</span>&nbsp;<span class="ident" id="5410440">nil</span>&nbsp;<span class="op" id="5410444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410450">err</span>&nbsp;<span class="op" id="5410454">=</span>&nbsp;<span class="ident" id="5410456">DecodeError</span><span class="op" id="5410467">{</span><span class="ident" id="5410468">name</span><span class="op" id="5410472">,</span>&nbsp;<span class="ident" id="5410474">r</span><span class="op" id="5410475">.</span><span class="ident" id="5410476">offset</span><span class="op" id="5410482">(</span><span class="op" id="5410483">)</span><span class="op" id="5410484">,</span>&nbsp;<span class="string" id="5410486">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="5410519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410525">return</span>&nbsp;<span class="ident" id="5410532">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410539">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410544">if</span>&nbsp;<span class="ident" id="5410547">kid</span><span class="op" id="5410550">.</span><span class="ident" id="5410551">Tag</span>&nbsp;<span class="op" id="5410555">==</span>&nbsp;<span class="num" id="5410558">0</span>&nbsp;<span class="op" id="5410560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410566">if</span>&nbsp;<span class="ident" id="5410569">nextDepth</span>&nbsp;<span class="op" id="5410579">&gt;</span>&nbsp;<span class="num" id="5410581">0</span>&nbsp;<span class="op" id="5410583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410590">nextDepth</span><span class="op" id="5410599">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410607">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410620">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410626">return</span>&nbsp;<span class="ident" id="5410633">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410645">if</span>&nbsp;<span class="ident" id="5410648">kid</span><span class="op" id="5410651">.</span><span class="ident" id="5410652">Children</span>&nbsp;<span class="op" id="5410661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410667">nextDepth</span><span class="op" id="5410676">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410682">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410687">if</span>&nbsp;<span class="ident" id="5410690">nextDepth</span>&nbsp;<span class="op" id="5410700">&gt;</span>&nbsp;<span class="num" id="5410702">0</span>&nbsp;<span class="op" id="5410704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410710">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410727">return</span>&nbsp;<span class="ident" id="5410734">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410740">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5410747">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5410799">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410861">typeOf</span>&nbsp;<span class="op" id="5410868">:=</span>&nbsp;<span class="keyword" id="5410871">func</span><span class="op" id="5410875">(</span><span class="ident" id="5410876">e</span>&nbsp;<span class="op" id="5410878">*</span><span class="ident" id="5410879">Entry</span><span class="op" id="5410884">)</span>&nbsp;<span class="ident" id="5410886">Type</span>&nbsp;<span class="op" id="5410891">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410895">tval</span>&nbsp;<span class="op" id="5410900">:=</span>&nbsp;<span class="ident" id="5410903">e</span><span class="op" id="5410904">.</span><span class="ident" id="5410905">Val</span><span class="op" id="5410908">(</span><span class="ident" id="5410909">AttrType</span><span class="op" id="5410917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410921">var</span>&nbsp;<span class="ident" id="5410925">t</span>&nbsp;<span class="ident" id="5410927">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410934">switch</span>&nbsp;<span class="ident" id="5410941">toff</span>&nbsp;<span class="op" id="5410946">:=</span>&nbsp;<span class="ident" id="5410949">tval</span><span class="op" id="5410953">.</span><span class="op" id="5410954">(</span><span class="keyword" id="5410955">type</span><span class="op" id="5410959">)</span>&nbsp;<span class="op" id="5410961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410965">case</span>&nbsp;<span class="ident" id="5410970">Offset</span><span class="op" id="5410976">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410981">if</span>&nbsp;<span class="ident" id="5410984">t</span><span class="op" id="5410985">,</span>&nbsp;<span class="ident" id="5410987">err</span>&nbsp;<span class="op" id="5410991">=</span>&nbsp;<span class="ident" id="5410993">d</span><span class="op" id="5410994">.</span><span class="ident" id="5410995">readType</span><span class="op" id="5411003">(</span><span class="ident" id="5411004">name</span><span class="op" id="5411008">,</span>&nbsp;<span class="ident" id="5411010">r</span><span class="op" id="5411011">.</span><span class="ident" id="5411012">clone</span><span class="op" id="5411017">(</span><span class="op" id="5411018">)</span><span class="op" id="5411019">,</span>&nbsp;<span class="ident" id="5411021">toff</span><span class="op" id="5411025">,</span>&nbsp;<span class="ident" id="5411027">typeCache</span><span class="op" id="5411036">)</span><span class="op" id="5411037">;</span>&nbsp;<span class="ident" id="5411039">err</span>&nbsp;<span class="op" id="5411043">!=</span>&nbsp;<span class="ident" id="5411046">nil</span>&nbsp;<span class="op" id="5411050">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411056">return</span>&nbsp;<span class="ident" id="5411063">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5411070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411074">case</span>&nbsp;<span class="ident" id="5411079">uint64</span><span class="op" id="5411085">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411090">if</span>&nbsp;<span class="ident" id="5411093">t</span><span class="op" id="5411094">,</span>&nbsp;<span class="ident" id="5411096">err</span>&nbsp;<span class="op" id="5411100">=</span>&nbsp;<span class="ident" id="5411102">d</span><span class="op" id="5411103">.</span><span class="ident" id="5411104">sigToType</span><span class="op" id="5411113">(</span><span class="ident" id="5411114">toff</span><span class="op" id="5411118">)</span><span class="op" id="5411119">;</span>&nbsp;<span class="ident" id="5411121">err</span>&nbsp;<span class="op" id="5411125">!=</span>&nbsp;<span class="ident" id="5411128">nil</span>&nbsp;<span class="op" id="5411132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411138">return</span>&nbsp;<span class="ident" id="5411145">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5411152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411156">default</span><span class="op" id="5411163">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411168">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411212">return</span>&nbsp;<span class="builtinfunc" id="5411219">new</span><span class="op" id="5411222">(</span><span class="ident" id="5411223">VoidType</span><span class="op" id="5411231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5411235">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411239">return</span>&nbsp;<span class="ident" id="5411246">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5411249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411253">switch</span>&nbsp;<span class="ident" id="5411260">e</span><span class="op" id="5411261">.</span><span class="ident" id="5411262">Tag</span>&nbsp;<span class="op" id="5411266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411269">case</span>&nbsp;<span class="ident" id="5411274">TagArrayType</span><span class="op" id="5411286">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411290">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411338">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411355">//&nbsp;&nbsp;&nbsp;&nbspAttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411388">//&nbsp;&nbsp;&nbsp;&nbspAttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411451">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411491">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411506">//&nbsp;&nbsp;&nbsp;&nbspTagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411571">//&nbsp;&nbsp;&nbsp;&nbspdimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411615">t</span>&nbsp;<span class="op" id="5411617">:=</span>&nbsp;<span class="builtinfunc" id="5411620">new</span><span class="op" id="5411623">(</span><span class="ident" id="5411624">ArrayType</span><span class="op" id="5411633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411637">typ</span>&nbsp;<span class="op" id="5411641">=</span>&nbsp;<span class="ident" id="5411643">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411647">typeCache</span><span class="op" id="5411656">[</span><span class="ident" id="5411657">off</span><span class="op" id="5411660">]</span>&nbsp;<span class="op" id="5411662">=</span>&nbsp;<span class="ident" id="5411664">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411668">if</span>&nbsp;<span class="ident" id="5411671">t</span><span class="op" id="5411672">.</span><span class="ident" id="5411673">Type</span>&nbsp;<span class="op" id="5411678">=</span>&nbsp;<span class="ident" id="5411680">typeOf</span><span class="op" id="5411686">(</span><span class="ident" id="5411687">e</span><span class="op" id="5411688">)</span><span class="op" id="5411689">;</span>&nbsp;<span class="ident" id="5411691">err</span>&nbsp;<span class="op" id="5411695">!=</span>&nbsp;<span class="ident" id="5411698">nil</span>&nbsp;<span class="op" id="5411702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411707">goto</span>&nbsp;<span class="ident" id="5411712">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5411720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411724">t</span><span class="op" id="5411725">.</span><span class="ident" id="5411726">StrideBitSize</span><span class="op" id="5411739">,</span>&nbsp;<span class="ident" id="5411741">_</span>&nbsp;<span class="op" id="5411743">=</span>&nbsp;<span class="ident" id="5411745">e</span><span class="op" id="5411746">.</span><span class="ident" id="5411747">Val</span><span class="op" id="5411750">(</span><span class="ident" id="5411751">AttrStrideSize</span><span class="op" id="5411765">)</span><span class="op" id="5411766">.</span><span class="op" id="5411767">(</span><span class="ident" id="5411768">int64</span><span class="op" id="5411773">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411778">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411806">var</span>&nbsp;<span class="ident" id="5411810">dims</span>&nbsp;<span class="op" id="5411815">[</span><span class="op" id="5411816">]</span><span class="ident" id="5411817">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411825">for</span>&nbsp;<span class="ident" id="5411829">kid</span>&nbsp;<span class="op" id="5411833">:=</span>&nbsp;<span class="ident" id="5411836">next</span><span class="op" id="5411840">(</span><span class="op" id="5411841">)</span><span class="op" id="5411842">;</span>&nbsp;<span class="ident" id="5411844">kid</span>&nbsp;<span class="op" id="5411848">!=</span>&nbsp;<span class="ident" id="5411851">nil</span><span class="op" id="5411854">;</span>&nbsp;<span class="ident" id="5411856">kid</span>&nbsp;<span class="op" id="5411860">=</span>&nbsp;<span class="ident" id="5411862">next</span><span class="op" id="5411866">(</span><span class="op" id="5411867">)</span>&nbsp;<span class="op" id="5411869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411874">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411922">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411967">switch</span>&nbsp;<span class="ident" id="5411974">kid</span><span class="op" id="5411977">.</span><span class="ident" id="5411978">Tag</span>&nbsp;<span class="op" id="5411982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411987">case</span>&nbsp;<span class="ident" id="5411992">TagSubrangeType</span><span class="op" id="5412007">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412013">count</span><span class="op" id="5412018">,</span>&nbsp;<span class="ident" id="5412020">ok</span>&nbsp;<span class="op" id="5412023">:=</span>&nbsp;<span class="ident" id="5412026">kid</span><span class="op" id="5412029">.</span><span class="ident" id="5412030">Val</span><span class="op" id="5412033">(</span><span class="ident" id="5412034">AttrCount</span><span class="op" id="5412043">)</span><span class="op" id="5412044">.</span><span class="op" id="5412045">(</span><span class="ident" id="5412046">int64</span><span class="op" id="5412051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412057">if</span>&nbsp;<span class="op" id="5412060">!</span><span class="ident" id="5412061">ok</span>&nbsp;<span class="op" id="5412064">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412071">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412125">count</span><span class="op" id="5412130">,</span>&nbsp;<span class="ident" id="5412132">ok</span>&nbsp;<span class="op" id="5412135">=</span>&nbsp;<span class="ident" id="5412137">kid</span><span class="op" id="5412140">.</span><span class="ident" id="5412141">Val</span><span class="op" id="5412144">(</span><span class="ident" id="5412145">AttrUpperBound</span><span class="op" id="5412159">)</span><span class="op" id="5412160">.</span><span class="op" id="5412161">(</span><span class="ident" id="5412162">int64</span><span class="op" id="5412167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412174">if</span>&nbsp;<span class="ident" id="5412177">ok</span>&nbsp;<span class="op" id="5412180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412188">count</span><span class="op" id="5412193">++</span>&nbsp;<span class="comment" id="5412196">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412241">}</span>&nbsp;<span class="keyword" id="5412243">else</span>&nbsp;<span class="keyword" id="5412248">if</span>&nbsp;<span class="builtinfunc" id="5412251">len</span><span class="op" id="5412254">(</span><span class="ident" id="5412255">dims</span><span class="op" id="5412259">)</span>&nbsp;<span class="op" id="5412261">==</span>&nbsp;<span class="num" id="5412264">0</span>&nbsp;<span class="op" id="5412266">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412274">count</span>&nbsp;<span class="op" id="5412280">=</span>&nbsp;<span class="op" id="5412282">-</span><span class="num" id="5412283">1</span>&nbsp;<span class="comment" id="5412285">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412316">dims</span>&nbsp;<span class="op" id="5412321">=</span>&nbsp;<span class="builtinfunc" id="5412323">append</span><span class="op" id="5412329">(</span><span class="ident" id="5412330">dims</span><span class="op" id="5412334">,</span>&nbsp;<span class="ident" id="5412336">count</span><span class="op" id="5412341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412346">case</span>&nbsp;<span class="ident" id="5412351">TagEnumerationType</span><span class="op" id="5412369">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412375">err</span>&nbsp;<span class="op" id="5412379">=</span>&nbsp;<span class="ident" id="5412381">DecodeError</span><span class="op" id="5412392">{</span><span class="ident" id="5412393">name</span><span class="op" id="5412397">,</span>&nbsp;<span class="ident" id="5412399">kid</span><span class="op" id="5412402">.</span><span class="ident" id="5412403">Offset</span><span class="op" id="5412409">,</span>&nbsp;<span class="string" id="5412411">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="5412458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412464">goto</span>&nbsp;<span class="ident" id="5412469">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412486">if</span>&nbsp;<span class="builtinfunc" id="5412489">len</span><span class="op" id="5412492">(</span><span class="ident" id="5412493">dims</span><span class="op" id="5412497">)</span>&nbsp;<span class="op" id="5412499">==</span>&nbsp;<span class="num" id="5412502">0</span>&nbsp;<span class="op" id="5412504">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412509">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412544">dims</span>&nbsp;<span class="op" id="5412549">=</span>&nbsp;<span class="op" id="5412551">[</span><span class="op" id="5412552">]</span><span class="ident" id="5412553">int64</span><span class="op" id="5412558">{</span><span class="op" id="5412559">-</span><span class="num" id="5412560">1</span><span class="op" id="5412561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412570">t</span><span class="op" id="5412571">.</span><span class="ident" id="5412572">Count</span>&nbsp;<span class="op" id="5412578">=</span>&nbsp;<span class="ident" id="5412580">dims</span><span class="op" id="5412584">[</span><span class="num" id="5412585">0</span><span class="op" id="5412586">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412590">for</span>&nbsp;<span class="ident" id="5412594">i</span>&nbsp;<span class="op" id="5412596">:=</span>&nbsp;<span class="builtinfunc" id="5412599">len</span><span class="op" id="5412602">(</span><span class="ident" id="5412603">dims</span><span class="op" id="5412607">)</span>&nbsp;<span class="op" id="5412609">-</span>&nbsp;<span class="num" id="5412611">1</span><span class="op" id="5412612">;</span>&nbsp;<span class="ident" id="5412614">i</span>&nbsp;<span class="op" id="5412616">&gt;=</span>&nbsp;<span class="num" id="5412619">1</span><span class="op" id="5412620">;</span>&nbsp;<span class="ident" id="5412622">i</span><span class="op" id="5412623">--</span>&nbsp;<span class="op" id="5412626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412631">t</span><span class="op" id="5412632">.</span><span class="ident" id="5412633">Type</span>&nbsp;<span class="op" id="5412638">=</span>&nbsp;<span class="op" id="5412640">&amp;</span><span class="ident" id="5412641">ArrayType</span><span class="op" id="5412650">{</span><span class="ident" id="5412651">Type</span><span class="op" id="5412655">:</span>&nbsp;<span class="ident" id="5412657">t</span><span class="op" id="5412658">.</span><span class="ident" id="5412659">Type</span><span class="op" id="5412663">,</span>&nbsp;<span class="ident" id="5412665">Count</span><span class="op" id="5412670">:</span>&nbsp;<span class="ident" id="5412672">dims</span><span class="op" id="5412676">[</span><span class="ident" id="5412677">i</span><span class="op" id="5412678">]</span><span class="op" id="5412679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412687">case</span>&nbsp;<span class="ident" id="5412692">TagBaseType</span><span class="op" id="5412703">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412707">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412742">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412759">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412851">//&nbsp;&nbsp;&nbsp;&nbspAttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412920">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412972">//&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413025">//&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413118">name</span><span class="op" id="5413122">,</span>&nbsp;<span class="ident" id="5413124">_</span>&nbsp;<span class="op" id="5413126">:=</span>&nbsp;<span class="ident" id="5413129">e</span><span class="op" id="5413130">.</span><span class="ident" id="5413131">Val</span><span class="op" id="5413134">(</span><span class="ident" id="5413135">AttrName</span><span class="op" id="5413143">)</span><span class="op" id="5413144">.</span><span class="op" id="5413145">(</span><span class="builtintype" id="5413146">string</span><span class="op" id="5413152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413156">enc</span><span class="op" id="5413159">,</span>&nbsp;<span class="ident" id="5413161">ok</span>&nbsp;<span class="op" id="5413164">:=</span>&nbsp;<span class="ident" id="5413167">e</span><span class="op" id="5413168">.</span><span class="ident" id="5413169">Val</span><span class="op" id="5413172">(</span><span class="ident" id="5413173">AttrEncoding</span><span class="op" id="5413185">)</span><span class="op" id="5413186">.</span><span class="op" id="5413187">(</span><span class="ident" id="5413188">int64</span><span class="op" id="5413193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413197">if</span>&nbsp;<span class="op" id="5413200">!</span><span class="ident" id="5413201">ok</span>&nbsp;<span class="op" id="5413204">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413209">err</span>&nbsp;<span class="op" id="5413213">=</span>&nbsp;<span class="ident" id="5413215">DecodeError</span><span class="op" id="5413226">{</span><span class="ident" id="5413227">name</span><span class="op" id="5413231">,</span>&nbsp;<span class="ident" id="5413233">e</span><span class="op" id="5413234">.</span><span class="ident" id="5413235">Offset</span><span class="op" id="5413241">,</span>&nbsp;<span class="string" id="5413243">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="5413277">+</span>&nbsp;<span class="ident" id="5413279">name</span><span class="op" id="5413283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413288">goto</span>&nbsp;<span class="ident" id="5413293">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413305">switch</span>&nbsp;<span class="ident" id="5413312">enc</span>&nbsp;<span class="op" id="5413316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413320">default</span><span class="op" id="5413327">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413332">err</span>&nbsp;<span class="op" id="5413336">=</span>&nbsp;<span class="ident" id="5413338">DecodeError</span><span class="op" id="5413349">{</span><span class="ident" id="5413350">name</span><span class="op" id="5413354">,</span>&nbsp;<span class="ident" id="5413356">e</span><span class="op" id="5413357">.</span><span class="ident" id="5413358">Offset</span><span class="op" id="5413364">,</span>&nbsp;<span class="string" id="5413366">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="5413405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413410">goto</span>&nbsp;<span class="ident" id="5413415">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413424">case</span>&nbsp;<span class="ident" id="5413429">encAddress</span><span class="op" id="5413439">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413444">typ</span>&nbsp;<span class="op" id="5413448">=</span>&nbsp;<span class="builtinfunc" id="5413450">new</span><span class="op" id="5413453">(</span><span class="ident" id="5413454">AddrType</span><span class="op" id="5413462">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413466">case</span>&nbsp;<span class="ident" id="5413471">encBoolean</span><span class="op" id="5413481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413486">typ</span>&nbsp;<span class="op" id="5413490">=</span>&nbsp;<span class="builtinfunc" id="5413492">new</span><span class="op" id="5413495">(</span><span class="ident" id="5413496">BoolType</span><span class="op" id="5413504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413508">case</span>&nbsp;<span class="ident" id="5413513">encComplexFloat</span><span class="op" id="5413528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413533">typ</span>&nbsp;<span class="op" id="5413537">=</span>&nbsp;<span class="builtinfunc" id="5413539">new</span><span class="op" id="5413542">(</span><span class="ident" id="5413543">ComplexType</span><span class="op" id="5413554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413559">if</span>&nbsp;<span class="ident" id="5413562">name</span>&nbsp;<span class="op" id="5413567">==</span>&nbsp;<span class="string" id="5413570">&#34;complex&#34;</span>&nbsp;<span class="op" id="5413580">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413586">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413668">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413741">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413764">switch</span>&nbsp;<span class="ident" id="5413771">byteSize</span><span class="op" id="5413779">,</span>&nbsp;<span class="ident" id="5413781">_</span>&nbsp;<span class="op" id="5413783">:=</span>&nbsp;<span class="ident" id="5413786">e</span><span class="op" id="5413787">.</span><span class="ident" id="5413788">Val</span><span class="op" id="5413791">(</span><span class="ident" id="5413792">AttrByteSize</span><span class="op" id="5413804">)</span><span class="op" id="5413805">.</span><span class="op" id="5413806">(</span><span class="ident" id="5413807">int64</span><span class="op" id="5413812">)</span><span class="op" id="5413813">;</span>&nbsp;<span class="ident" id="5413815">byteSize</span>&nbsp;<span class="op" id="5413824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413830">case</span>&nbsp;<span class="num" id="5413835">8</span><span class="op" id="5413836">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413843">name</span>&nbsp;<span class="op" id="5413848">=</span>&nbsp;<span class="string" id="5413850">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413870">case</span>&nbsp;<span class="num" id="5413875">16</span><span class="op" id="5413877">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413884">name</span>&nbsp;<span class="op" id="5413889">=</span>&nbsp;<span class="string" id="5413891">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413917">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413921">case</span>&nbsp;<span class="ident" id="5413926">encFloat</span><span class="op" id="5413934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413939">typ</span>&nbsp;<span class="op" id="5413943">=</span>&nbsp;<span class="builtinfunc" id="5413945">new</span><span class="op" id="5413948">(</span><span class="ident" id="5413949">FloatType</span><span class="op" id="5413958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413962">case</span>&nbsp;<span class="ident" id="5413967">encSigned</span><span class="op" id="5413976">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413981">typ</span>&nbsp;<span class="op" id="5413985">=</span>&nbsp;<span class="builtinfunc" id="5413987">new</span><span class="op" id="5413990">(</span><span class="ident" id="5413991">IntType</span><span class="op" id="5413998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414002">case</span>&nbsp;<span class="ident" id="5414007">encUnsigned</span><span class="op" id="5414018">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414023">typ</span>&nbsp;<span class="op" id="5414027">=</span>&nbsp;<span class="builtinfunc" id="5414029">new</span><span class="op" id="5414032">(</span><span class="ident" id="5414033">UintType</span><span class="op" id="5414041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414045">case</span>&nbsp;<span class="ident" id="5414050">encSignedChar</span><span class="op" id="5414063">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414068">typ</span>&nbsp;<span class="op" id="5414072">=</span>&nbsp;<span class="builtinfunc" id="5414074">new</span><span class="op" id="5414077">(</span><span class="ident" id="5414078">CharType</span><span class="op" id="5414086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414090">case</span>&nbsp;<span class="ident" id="5414095">encUnsignedChar</span><span class="op" id="5414110">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414115">typ</span>&nbsp;<span class="op" id="5414119">=</span>&nbsp;<span class="builtinfunc" id="5414121">new</span><span class="op" id="5414124">(</span><span class="ident" id="5414125">UcharType</span><span class="op" id="5414134">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5414138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414142">typeCache</span><span class="op" id="5414151">[</span><span class="ident" id="5414152">off</span><span class="op" id="5414155">]</span>&nbsp;<span class="op" id="5414157">=</span>&nbsp;<span class="ident" id="5414159">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414165">t</span>&nbsp;<span class="op" id="5414167">:=</span>&nbsp;<span class="ident" id="5414170">typ</span><span class="op" id="5414173">.</span><span class="op" id="5414174">(</span><span class="keyword" id="5414175">interface</span>&nbsp;<span class="op" id="5414185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414190">Basic</span><span class="op" id="5414195">(</span><span class="op" id="5414196">)</span>&nbsp;<span class="op" id="5414198">*</span><span class="ident" id="5414199">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5414211">}</span><span class="op" id="5414212">)</span><span class="op" id="5414213">.</span><span class="ident" id="5414214">Basic</span><span class="op" id="5414219">(</span><span class="op" id="5414220">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414224">t</span><span class="op" id="5414225">.</span><span class="ident" id="5414226">Name</span>&nbsp;<span class="op" id="5414231">=</span>&nbsp;<span class="ident" id="5414233">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414240">t</span><span class="op" id="5414241">.</span><span class="ident" id="5414242">BitSize</span><span class="op" id="5414249">,</span>&nbsp;<span class="ident" id="5414251">_</span>&nbsp;<span class="op" id="5414253">=</span>&nbsp;<span class="ident" id="5414255">e</span><span class="op" id="5414256">.</span><span class="ident" id="5414257">Val</span><span class="op" id="5414260">(</span><span class="ident" id="5414261">AttrBitSize</span><span class="op" id="5414272">)</span><span class="op" id="5414273">.</span><span class="op" id="5414274">(</span><span class="ident" id="5414275">int64</span><span class="op" id="5414280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414284">t</span><span class="op" id="5414285">.</span><span class="ident" id="5414286">BitOffset</span><span class="op" id="5414295">,</span>&nbsp;<span class="ident" id="5414297">_</span>&nbsp;<span class="op" id="5414299">=</span>&nbsp;<span class="ident" id="5414301">e</span><span class="op" id="5414302">.</span><span class="ident" id="5414303">Val</span><span class="op" id="5414306">(</span><span class="ident" id="5414307">AttrBitOffset</span><span class="op" id="5414320">)</span><span class="op" id="5414321">.</span><span class="op" id="5414322">(</span><span class="ident" id="5414323">int64</span><span class="op" id="5414328">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414332">case</span>&nbsp;<span class="ident" id="5414337">TagClassType</span><span class="op" id="5414349">,</span>&nbsp;<span class="ident" id="5414351">TagStructType</span><span class="op" id="5414364">,</span>&nbsp;<span class="ident" id="5414366">TagUnionType</span><span class="op" id="5414378">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414382">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414438">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414455">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414502">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414542">//&nbsp;&nbsp;&nbsp;&nbspAttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414606">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414621">//&nbsp;&nbsp;&nbsp;&nbspTagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414660">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414702">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414744">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414778">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414838">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414881">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414958">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415018">t</span>&nbsp;<span class="op" id="5415020">:=</span>&nbsp;<span class="builtinfunc" id="5415023">new</span><span class="op" id="5415026">(</span><span class="ident" id="5415027">StructType</span><span class="op" id="5415037">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415041">typ</span>&nbsp;<span class="op" id="5415045">=</span>&nbsp;<span class="ident" id="5415047">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415051">typeCache</span><span class="op" id="5415060">[</span><span class="ident" id="5415061">off</span><span class="op" id="5415064">]</span>&nbsp;<span class="op" id="5415066">=</span>&nbsp;<span class="ident" id="5415068">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415072">switch</span>&nbsp;<span class="ident" id="5415079">e</span><span class="op" id="5415080">.</span><span class="ident" id="5415081">Tag</span>&nbsp;<span class="op" id="5415085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415089">case</span>&nbsp;<span class="ident" id="5415094">TagClassType</span><span class="op" id="5415106">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415111">t</span><span class="op" id="5415112">.</span><span class="ident" id="5415113">Kind</span>&nbsp;<span class="op" id="5415118">=</span>&nbsp;<span class="string" id="5415120">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415130">case</span>&nbsp;<span class="ident" id="5415135">TagStructType</span><span class="op" id="5415148">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415153">t</span><span class="op" id="5415154">.</span><span class="ident" id="5415155">Kind</span>&nbsp;<span class="op" id="5415160">=</span>&nbsp;<span class="string" id="5415162">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415173">case</span>&nbsp;<span class="ident" id="5415178">TagUnionType</span><span class="op" id="5415190">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415195">t</span><span class="op" id="5415196">.</span><span class="ident" id="5415197">Kind</span>&nbsp;<span class="op" id="5415202">=</span>&nbsp;<span class="string" id="5415204">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5415214">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415218">t</span><span class="op" id="5415219">.</span><span class="ident" id="5415220">StructName</span><span class="op" id="5415230">,</span>&nbsp;<span class="ident" id="5415232">_</span>&nbsp;<span class="op" id="5415234">=</span>&nbsp;<span class="ident" id="5415236">e</span><span class="op" id="5415237">.</span><span class="ident" id="5415238">Val</span><span class="op" id="5415241">(</span><span class="ident" id="5415242">AttrName</span><span class="op" id="5415250">)</span><span class="op" id="5415251">.</span><span class="op" id="5415252">(</span><span class="builtintype" id="5415253">string</span><span class="op" id="5415259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415263">t</span><span class="op" id="5415264">.</span><span class="ident" id="5415265">Incomplete</span>&nbsp;<span class="op" id="5415276">=</span>&nbsp;<span class="ident" id="5415278">e</span><span class="op" id="5415279">.</span><span class="ident" id="5415280">Val</span><span class="op" id="5415283">(</span><span class="ident" id="5415284">AttrDeclaration</span><span class="op" id="5415299">)</span>&nbsp;<span class="op" id="5415301">!=</span>&nbsp;<span class="ident" id="5415304">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415310">t</span><span class="op" id="5415311">.</span><span class="ident" id="5415312">Field</span>&nbsp;<span class="op" id="5415318">=</span>&nbsp;<span class="builtinfunc" id="5415320">make</span><span class="op" id="5415324">(</span><span class="op" id="5415325">[</span><span class="op" id="5415326">]</span><span class="op" id="5415327">*</span><span class="ident" id="5415328">StructField</span><span class="op" id="5415339">,</span>&nbsp;<span class="num" id="5415341">0</span><span class="op" id="5415342">,</span>&nbsp;<span class="num" id="5415344">8</span><span class="op" id="5415345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415349">var</span>&nbsp;<span class="ident" id="5415353">lastFieldType</span>&nbsp;<span class="op" id="5415367">*</span><span class="ident" id="5415368">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415375">var</span>&nbsp;<span class="ident" id="5415379">lastFieldBitOffset</span>&nbsp;<span class="ident" id="5415398">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415406">for</span>&nbsp;<span class="ident" id="5415410">kid</span>&nbsp;<span class="op" id="5415414">:=</span>&nbsp;<span class="ident" id="5415417">next</span><span class="op" id="5415421">(</span><span class="op" id="5415422">)</span><span class="op" id="5415423">;</span>&nbsp;<span class="ident" id="5415425">kid</span>&nbsp;<span class="op" id="5415429">!=</span>&nbsp;<span class="ident" id="5415432">nil</span><span class="op" id="5415435">;</span>&nbsp;<span class="ident" id="5415437">kid</span>&nbsp;<span class="op" id="5415441">=</span>&nbsp;<span class="ident" id="5415443">next</span><span class="op" id="5415447">(</span><span class="op" id="5415448">)</span>&nbsp;<span class="op" id="5415450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415455">if</span>&nbsp;<span class="ident" id="5415458">kid</span><span class="op" id="5415461">.</span><span class="ident" id="5415462">Tag</span>&nbsp;<span class="op" id="5415466">==</span>&nbsp;<span class="ident" id="5415469">TagMember</span>&nbsp;<span class="op" id="5415479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415485">f</span>&nbsp;<span class="op" id="5415487">:=</span>&nbsp;<span class="builtinfunc" id="5415490">new</span><span class="op" id="5415493">(</span><span class="ident" id="5415494">StructField</span><span class="op" id="5415505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415511">if</span>&nbsp;<span class="ident" id="5415514">f</span><span class="op" id="5415515">.</span><span class="ident" id="5415516">Type</span>&nbsp;<span class="op" id="5415521">=</span>&nbsp;<span class="ident" id="5415523">typeOf</span><span class="op" id="5415529">(</span><span class="ident" id="5415530">kid</span><span class="op" id="5415533">)</span><span class="op" id="5415534">;</span>&nbsp;<span class="ident" id="5415536">err</span>&nbsp;<span class="op" id="5415540">!=</span>&nbsp;<span class="ident" id="5415543">nil</span>&nbsp;<span class="op" id="5415547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415554">goto</span>&nbsp;<span class="ident" id="5415559">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5415569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415575">switch</span>&nbsp;<span class="ident" id="5415582">loc</span>&nbsp;<span class="op" id="5415586">:=</span>&nbsp;<span class="ident" id="5415589">kid</span><span class="op" id="5415592">.</span><span class="ident" id="5415593">Val</span><span class="op" id="5415596">(</span><span class="ident" id="5415597">AttrDataMemberLoc</span><span class="op" id="5415614">)</span><span class="op" id="5415615">.</span><span class="op" id="5415616">(</span><span class="keyword" id="5415617">type</span><span class="op" id="5415621">)</span>&nbsp;<span class="op" id="5415623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415629">case</span>&nbsp;<span class="op" id="5415634">[</span><span class="op" id="5415635">]</span><span class="builtintype" id="5415636">byte</span><span class="op" id="5415640">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5415647">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5415694">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415732">b</span>&nbsp;<span class="op" id="5415734">:=</span>&nbsp;<span class="ident" id="5415737">makeBuf</span><span class="op" id="5415744">(</span><span class="ident" id="5415745">d</span><span class="op" id="5415746">,</span>&nbsp;<span class="ident" id="5415748">unknownFormat</span><span class="op" id="5415761">{</span><span class="op" id="5415762">}</span><span class="op" id="5415763">,</span>&nbsp;<span class="string" id="5415765">&#34;location&#34;</span><span class="op" id="5415775">,</span>&nbsp;<span class="num" id="5415777">0</span><span class="op" id="5415778">,</span>&nbsp;<span class="ident" id="5415780">loc</span><span class="op" id="5415783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415790">if</span>&nbsp;<span class="ident" id="5415793">b</span><span class="op" id="5415794">.</span><span class="builtintype" id="5415795">uint8</span><span class="op" id="5415800">(</span><span class="op" id="5415801">)</span>&nbsp;<span class="op" id="5415803">!=</span>&nbsp;<span class="ident" id="5415806">opPlusUconst</span>&nbsp;<span class="op" id="5415819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415827">err</span>&nbsp;<span class="op" id="5415831">=</span>&nbsp;<span class="ident" id="5415833">DecodeError</span><span class="op" id="5415844">{</span><span class="ident" id="5415845">name</span><span class="op" id="5415849">,</span>&nbsp;<span class="ident" id="5415851">kid</span><span class="op" id="5415854">.</span><span class="ident" id="5415855">Offset</span><span class="op" id="5415861">,</span>&nbsp;<span class="string" id="5415863">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="5415882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415890">goto</span>&nbsp;<span class="ident" id="5415895">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5415906">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415913">f</span><span class="op" id="5415914">.</span><span class="ident" id="5415915">ByteOffset</span>&nbsp;<span class="op" id="5415926">=</span>&nbsp;<span class="ident" id="5415928">int64</span><span class="op" id="5415933">(</span><span class="ident" id="5415934">b</span><span class="op" id="5415935">.</span><span class="builtintype" id="5415936">uint</span><span class="op" id="5415940">(</span><span class="op" id="5415941">)</span><span class="op" id="5415942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415949">if</span>&nbsp;<span class="ident" id="5415952">b</span><span class="op" id="5415953">.</span><span class="ident" id="5415954">err</span>&nbsp;<span class="op" id="5415958">!=</span>&nbsp;<span class="ident" id="5415961">nil</span>&nbsp;<span class="op" id="5415965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415973">err</span>&nbsp;<span class="op" id="5415977">=</span>&nbsp;<span class="ident" id="5415979">b</span><span class="op" id="5415980">.</span><span class="ident" id="5415981">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415991">goto</span>&nbsp;<span class="ident" id="5415996">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416007">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416013">case</span>&nbsp;<span class="ident" id="5416018">int64</span><span class="op" id="5416023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416030">f</span><span class="op" id="5416031">.</span><span class="ident" id="5416032">ByteOffset</span>&nbsp;<span class="op" id="5416043">=</span>&nbsp;<span class="ident" id="5416045">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416060">haveBitOffset</span>&nbsp;<span class="op" id="5416074">:=</span>&nbsp;<span class="builtintype" id="5416077">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416087">f</span><span class="op" id="5416088">.</span><span class="ident" id="5416089">Name</span><span class="op" id="5416093">,</span>&nbsp;<span class="ident" id="5416095">_</span>&nbsp;<span class="op" id="5416097">=</span>&nbsp;<span class="ident" id="5416099">kid</span><span class="op" id="5416102">.</span><span class="ident" id="5416103">Val</span><span class="op" id="5416106">(</span><span class="ident" id="5416107">AttrName</span><span class="op" id="5416115">)</span><span class="op" id="5416116">.</span><span class="op" id="5416117">(</span><span class="builtintype" id="5416118">string</span><span class="op" id="5416124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416130">f</span><span class="op" id="5416131">.</span><span class="ident" id="5416132">ByteSize</span><span class="op" id="5416140">,</span>&nbsp;<span class="ident" id="5416142">_</span>&nbsp;<span class="op" id="5416144">=</span>&nbsp;<span class="ident" id="5416146">kid</span><span class="op" id="5416149">.</span><span class="ident" id="5416150">Val</span><span class="op" id="5416153">(</span><span class="ident" id="5416154">AttrByteSize</span><span class="op" id="5416166">)</span><span class="op" id="5416167">.</span><span class="op" id="5416168">(</span><span class="ident" id="5416169">int64</span><span class="op" id="5416174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416180">f</span><span class="op" id="5416181">.</span><span class="ident" id="5416182">BitOffset</span><span class="op" id="5416191">,</span>&nbsp;<span class="ident" id="5416193">haveBitOffset</span>&nbsp;<span class="op" id="5416207">=</span>&nbsp;<span class="ident" id="5416209">kid</span><span class="op" id="5416212">.</span><span class="ident" id="5416213">Val</span><span class="op" id="5416216">(</span><span class="ident" id="5416217">AttrBitOffset</span><span class="op" id="5416230">)</span><span class="op" id="5416231">.</span><span class="op" id="5416232">(</span><span class="ident" id="5416233">int64</span><span class="op" id="5416238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416244">f</span><span class="op" id="5416245">.</span><span class="ident" id="5416246">BitSize</span><span class="op" id="5416253">,</span>&nbsp;<span class="ident" id="5416255">_</span>&nbsp;<span class="op" id="5416257">=</span>&nbsp;<span class="ident" id="5416259">kid</span><span class="op" id="5416262">.</span><span class="ident" id="5416263">Val</span><span class="op" id="5416266">(</span><span class="ident" id="5416267">AttrBitSize</span><span class="op" id="5416278">)</span><span class="op" id="5416279">.</span><span class="op" id="5416280">(</span><span class="ident" id="5416281">int64</span><span class="op" id="5416286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416292">t</span><span class="op" id="5416293">.</span><span class="ident" id="5416294">Field</span>&nbsp;<span class="op" id="5416300">=</span>&nbsp;<span class="builtinfunc" id="5416302">append</span><span class="op" id="5416308">(</span><span class="ident" id="5416309">t</span><span class="op" id="5416310">.</span><span class="ident" id="5416311">Field</span><span class="op" id="5416316">,</span>&nbsp;<span class="ident" id="5416318">f</span><span class="op" id="5416319">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416326">bito</span>&nbsp;<span class="op" id="5416331">:=</span>&nbsp;<span class="ident" id="5416334">f</span><span class="op" id="5416335">.</span><span class="ident" id="5416336">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416350">if</span>&nbsp;<span class="op" id="5416353">!</span><span class="ident" id="5416354">haveBitOffset</span>&nbsp;<span class="op" id="5416368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416375">bito</span>&nbsp;<span class="op" id="5416380">=</span>&nbsp;<span class="ident" id="5416382">f</span><span class="op" id="5416383">.</span><span class="ident" id="5416384">ByteOffset</span>&nbsp;<span class="op" id="5416395">*</span>&nbsp;<span class="num" id="5416397">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416403">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416409">if</span>&nbsp;<span class="ident" id="5416412">bito</span>&nbsp;<span class="op" id="5416417">==</span>&nbsp;<span class="ident" id="5416420">lastFieldBitOffset</span>&nbsp;<span class="op" id="5416439">&amp;&amp;</span>&nbsp;<span class="ident" id="5416442">t</span><span class="op" id="5416443">.</span><span class="ident" id="5416444">Kind</span>&nbsp;<span class="op" id="5416449">!=</span>&nbsp;<span class="string" id="5416452">&#34;union&#34;</span>&nbsp;<span class="op" id="5416460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5416467">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5416521">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416597">zeroArray</span><span class="op" id="5416606">(</span><span class="ident" id="5416607">lastFieldType</span><span class="op" id="5416620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416626">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416632">lastFieldType</span>&nbsp;<span class="op" id="5416646">=</span>&nbsp;<span class="op" id="5416648">&amp;</span><span class="ident" id="5416649">f</span><span class="op" id="5416650">.</span><span class="ident" id="5416651">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416660">lastFieldBitOffset</span>&nbsp;<span class="op" id="5416679">=</span>&nbsp;<span class="ident" id="5416681">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416697">if</span>&nbsp;<span class="ident" id="5416700">t</span><span class="op" id="5416701">.</span><span class="ident" id="5416702">Kind</span>&nbsp;<span class="op" id="5416707">!=</span>&nbsp;<span class="string" id="5416710">&#34;union&#34;</span>&nbsp;<span class="op" id="5416718">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416723">b</span><span class="op" id="5416724">,</span>&nbsp;<span class="ident" id="5416726">ok</span>&nbsp;<span class="op" id="5416729">:=</span>&nbsp;<span class="ident" id="5416732">e</span><span class="op" id="5416733">.</span><span class="ident" id="5416734">Val</span><span class="op" id="5416737">(</span><span class="ident" id="5416738">AttrByteSize</span><span class="op" id="5416750">)</span><span class="op" id="5416751">.</span><span class="op" id="5416752">(</span><span class="ident" id="5416753">int64</span><span class="op" id="5416758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416763">if</span>&nbsp;<span class="ident" id="5416766">ok</span>&nbsp;<span class="op" id="5416769">&amp;&amp;</span>&nbsp;<span class="ident" id="5416772">b</span><span class="op" id="5416773">*</span><span class="num" id="5416774">8</span>&nbsp;<span class="op" id="5416776">==</span>&nbsp;<span class="ident" id="5416779">lastFieldBitOffset</span>&nbsp;<span class="op" id="5416798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5416804">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416862">zeroArray</span><span class="op" id="5416871">(</span><span class="ident" id="5416872">lastFieldType</span><span class="op" id="5416885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416890">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416898">case</span>&nbsp;<span class="ident" id="5416903">TagConstType</span><span class="op" id="5416915">,</span>&nbsp;<span class="ident" id="5416917">TagVolatileType</span><span class="op" id="5416932">,</span>&nbsp;<span class="ident" id="5416934">TagRestrictType</span><span class="op" id="5416949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5416953">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5416989">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5417006">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417029">t</span>&nbsp;<span class="op" id="5417031">:=</span>&nbsp;<span class="builtinfunc" id="5417034">new</span><span class="op" id="5417037">(</span><span class="ident" id="5417038">QualType</span><span class="op" id="5417046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417050">typ</span>&nbsp;<span class="op" id="5417054">=</span>&nbsp;<span class="ident" id="5417056">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417060">typeCache</span><span class="op" id="5417069">[</span><span class="ident" id="5417070">off</span><span class="op" id="5417073">]</span>&nbsp;<span class="op" id="5417075">=</span>&nbsp;<span class="ident" id="5417077">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417081">if</span>&nbsp;<span class="ident" id="5417084">t</span><span class="op" id="5417085">.</span><span class="ident" id="5417086">Type</span>&nbsp;<span class="op" id="5417091">=</span>&nbsp;<span class="ident" id="5417093">typeOf</span><span class="op" id="5417099">(</span><span class="ident" id="5417100">e</span><span class="op" id="5417101">)</span><span class="op" id="5417102">;</span>&nbsp;<span class="ident" id="5417104">err</span>&nbsp;<span class="op" id="5417108">!=</span>&nbsp;<span class="ident" id="5417111">nil</span>&nbsp;<span class="op" id="5417115">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417120">goto</span>&nbsp;<span class="ident" id="5417125">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5417133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417137">switch</span>&nbsp;<span class="ident" id="5417144">e</span><span class="op" id="5417145">.</span><span class="ident" id="5417146">Tag</span>&nbsp;<span class="op" id="5417150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417154">case</span>&nbsp;<span class="ident" id="5417159">TagConstType</span><span class="op" id="5417171">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417176">t</span><span class="op" id="5417177">.</span><span class="ident" id="5417178">Qual</span>&nbsp;<span class="op" id="5417183">=</span>&nbsp;<span class="string" id="5417185">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417195">case</span>&nbsp;<span class="ident" id="5417200">TagRestrictType</span><span class="op" id="5417215">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417220">t</span><span class="op" id="5417221">.</span><span class="ident" id="5417222">Qual</span>&nbsp;<span class="op" id="5417227">=</span>&nbsp;<span class="string" id="5417229">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417242">case</span>&nbsp;<span class="ident" id="5417247">TagVolatileType</span><span class="op" id="5417262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417267">t</span><span class="op" id="5417268">.</span><span class="ident" id="5417269">Qual</span>&nbsp;<span class="op" id="5417274">=</span>&nbsp;<span class="string" id="5417276">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5417289">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417293">case</span>&nbsp;<span class="ident" id="5417298">TagEnumerationType</span><span class="op" id="5417316">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5417320">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;§5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5417359">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5417376">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5417408">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5417469">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5417484">//&nbsp;&nbsp;&nbsp;&nbspTagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5417504">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5417537">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417577">t</span>&nbsp;<span class="op" id="5417579">:=</span>&nbsp;<span class="builtinfunc" id="5417582">new</span><span class="op" id="5417585">(</span><span class="ident" id="5417586">EnumType</span><span class="op" id="5417594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417598">typ</span>&nbsp;<span class="op" id="5417602">=</span>&nbsp;<span class="ident" id="5417604">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417608">typeCache</span><span class="op" id="5417617">[</span><span class="ident" id="5417618">off</span><span class="op" id="5417621">]</span>&nbsp;<span class="op" id="5417623">=</span>&nbsp;<span class="ident" id="5417625">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417629">t</span><span class="op" id="5417630">.</span><span class="ident" id="5417631">EnumName</span><span class="op" id="5417639">,</span>&nbsp;<span class="ident" id="5417641">_</span>&nbsp;<span class="op" id="5417643">=</span>&nbsp;<span class="ident" id="5417645">e</span><span class="op" id="5417646">.</span><span class="ident" id="5417647">Val</span><span class="op" id="5417650">(</span><span class="ident" id="5417651">AttrName</span><span class="op" id="5417659">)</span><span class="op" id="5417660">.</span><span class="op" id="5417661">(</span><span class="builtintype" id="5417662">string</span><span class="op" id="5417668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417672">t</span><span class="op" id="5417673">.</span><span class="ident" id="5417674">Val</span>&nbsp;<span class="op" id="5417678">=</span>&nbsp;<span class="builtinfunc" id="5417680">make</span><span class="op" id="5417684">(</span><span class="op" id="5417685">[</span><span class="op" id="5417686">]</span><span class="op" id="5417687">*</span><span class="ident" id="5417688">EnumValue</span><span class="op" id="5417697">,</span>&nbsp;<span class="num" id="5417699">0</span><span class="op" id="5417700">,</span>&nbsp;<span class="num" id="5417702">8</span><span class="op" id="5417703">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417707">for</span>&nbsp;<span class="ident" id="5417711">kid</span>&nbsp;<span class="op" id="5417715">:=</span>&nbsp;<span class="ident" id="5417718">next</span><span class="op" id="5417722">(</span><span class="op" id="5417723">)</span><span class="op" id="5417724">;</span>&nbsp;<span class="ident" id="5417726">kid</span>&nbsp;<span class="op" id="5417730">!=</span>&nbsp;<span class="ident" id="5417733">nil</span><span class="op" id="5417736">;</span>&nbsp;<span class="ident" id="5417738">kid</span>&nbsp;<span class="op" id="5417742">=</span>&nbsp;<span class="ident" id="5417744">next</span><span class="op" id="5417748">(</span><span class="op" id="5417749">)</span>&nbsp;<span class="op" id="5417751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417756">if</span>&nbsp;<span class="ident" id="5417759">kid</span><span class="op" id="5417762">.</span><span class="ident" id="5417763">Tag</span>&nbsp;<span class="op" id="5417767">==</span>&nbsp;<span class="ident" id="5417770">TagEnumerator</span>&nbsp;<span class="op" id="5417784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417790">f</span>&nbsp;<span class="op" id="5417792">:=</span>&nbsp;<span class="builtinfunc" id="5417795">new</span><span class="op" id="5417798">(</span><span class="ident" id="5417799">EnumValue</span><span class="op" id="5417808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417814">f</span><span class="op" id="5417815">.</span><span class="ident" id="5417816">Name</span><span class="op" id="5417820">,</span>&nbsp;<span class="ident" id="5417822">_</span>&nbsp;<span class="op" id="5417824">=</span>&nbsp;<span class="ident" id="5417826">kid</span><span class="op" id="5417829">.</span><span class="ident" id="5417830">Val</span><span class="op" id="5417833">(</span><span class="ident" id="5417834">AttrName</span><span class="op" id="5417842">)</span><span class="op" id="5417843">.</span><span class="op" id="5417844">(</span><span class="builtintype" id="5417845">string</span><span class="op" id="5417851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417857">f</span><span class="op" id="5417858">.</span><span class="ident" id="5417859">Val</span><span class="op" id="5417862">,</span>&nbsp;<span class="ident" id="5417864">_</span>&nbsp;<span class="op" id="5417866">=</span>&nbsp;<span class="ident" id="5417868">kid</span><span class="op" id="5417871">.</span><span class="ident" id="5417872">Val</span><span class="op" id="5417875">(</span><span class="ident" id="5417876">AttrConstValue</span><span class="op" id="5417890">)</span><span class="op" id="5417891">.</span><span class="op" id="5417892">(</span><span class="ident" id="5417893">int64</span><span class="op" id="5417898">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417904">n</span>&nbsp;<span class="op" id="5417906">:=</span>&nbsp;<span class="builtinfunc" id="5417909">len</span><span class="op" id="5417912">(</span><span class="ident" id="5417913">t</span><span class="op" id="5417914">.</span><span class="ident" id="5417915">Val</span><span class="op" id="5417918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417924">if</span>&nbsp;<span class="ident" id="5417927">n</span>&nbsp;<span class="op" id="5417929">&gt;=</span>&nbsp;<span class="builtinfunc" id="5417932">cap</span><span class="op" id="5417935">(</span><span class="ident" id="5417936">t</span><span class="op" id="5417937">.</span><span class="ident" id="5417938">Val</span><span class="op" id="5417941">)</span>&nbsp;<span class="op" id="5417943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5417950">val</span>&nbsp;<span class="op" id="5417954">:=</span>&nbsp;<span class="builtinfunc" id="5417957">make</span><span class="op" id="5417961">(</span><span class="op" id="5417962">[</span><span class="op" id="5417963">]</span><span class="op" id="5417964">*</span><span class="ident" id="5417965">EnumValue</span><span class="op" id="5417974">,</span>&nbsp;<span class="ident" id="5417976">n</span><span class="op" id="5417977">,</span>&nbsp;<span class="ident" id="5417979">n</span><span class="op" id="5417980">*</span><span class="num" id="5417981">2</span><span class="op" id="5417982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5417989">copy</span><span class="op" id="5417993">(</span><span class="ident" id="5417994">val</span><span class="op" id="5417997">,</span>&nbsp;<span class="ident" id="5417999">t</span><span class="op" id="5418000">.</span><span class="ident" id="5418001">Val</span><span class="op" id="5418004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418011">t</span><span class="op" id="5418012">.</span><span class="ident" id="5418013">Val</span>&nbsp;<span class="op" id="5418017">=</span>&nbsp;<span class="ident" id="5418019">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5418027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418033">t</span><span class="op" id="5418034">.</span><span class="ident" id="5418035">Val</span>&nbsp;<span class="op" id="5418039">=</span>&nbsp;<span class="ident" id="5418041">t</span><span class="op" id="5418042">.</span><span class="ident" id="5418043">Val</span><span class="op" id="5418046">[</span><span class="num" id="5418047">0</span>&nbsp;<span class="op" id="5418049">:</span>&nbsp;<span class="ident" id="5418051">n</span><span class="op" id="5418052">+</span><span class="num" id="5418053">1</span><span class="op" id="5418054">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418060">t</span><span class="op" id="5418061">.</span><span class="ident" id="5418062">Val</span><span class="op" id="5418065">[</span><span class="ident" id="5418066">n</span><span class="op" id="5418067">]</span>&nbsp;<span class="op" id="5418069">=</span>&nbsp;<span class="ident" id="5418071">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5418076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5418080">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5418084">case</span>&nbsp;<span class="ident" id="5418089">TagPointerType</span><span class="op" id="5418103">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418107">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418143">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418160">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418222">//&nbsp;&nbsp;&nbsp;&nbspAttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418266">t</span>&nbsp;<span class="op" id="5418268">:=</span>&nbsp;<span class="builtinfunc" id="5418271">new</span><span class="op" id="5418274">(</span><span class="ident" id="5418275">PtrType</span><span class="op" id="5418282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418286">typ</span>&nbsp;<span class="op" id="5418290">=</span>&nbsp;<span class="ident" id="5418292">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418296">typeCache</span><span class="op" id="5418305">[</span><span class="ident" id="5418306">off</span><span class="op" id="5418309">]</span>&nbsp;<span class="op" id="5418311">=</span>&nbsp;<span class="ident" id="5418313">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5418317">if</span>&nbsp;<span class="ident" id="5418320">e</span><span class="op" id="5418321">.</span><span class="ident" id="5418322">Val</span><span class="op" id="5418325">(</span><span class="ident" id="5418326">AttrType</span><span class="op" id="5418334">)</span>&nbsp;<span class="op" id="5418336">==</span>&nbsp;<span class="ident" id="5418339">nil</span>&nbsp;<span class="op" id="5418343">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418348">t</span><span class="op" id="5418349">.</span><span class="ident" id="5418350">Type</span>&nbsp;<span class="op" id="5418355">=</span>&nbsp;<span class="op" id="5418357">&amp;</span><span class="ident" id="5418358">VoidType</span><span class="op" id="5418366">{</span><span class="op" id="5418367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5418372">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5418380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418384">t</span><span class="op" id="5418385">.</span><span class="ident" id="5418386">Type</span>&nbsp;<span class="op" id="5418391">=</span>&nbsp;<span class="ident" id="5418393">typeOf</span><span class="op" id="5418399">(</span><span class="ident" id="5418400">e</span><span class="op" id="5418401">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5418405">case</span>&nbsp;<span class="ident" id="5418410">TagSubroutineType</span><span class="op" id="5418427">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418431">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418471">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418488">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418531">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418578">//&nbsp;&nbsp;&nbsp;&nbspAttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418639">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418654">//&nbsp;&nbsp;&nbsp;&nbspTagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418695">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5418729">//&nbsp;&nbsp;&nbsp;&nbspTagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418769">t</span>&nbsp;<span class="op" id="5418771">:=</span>&nbsp;<span class="builtinfunc" id="5418774">new</span><span class="op" id="5418777">(</span><span class="ident" id="5418778">FuncType</span><span class="op" id="5418786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418790">typ</span>&nbsp;<span class="op" id="5418794">=</span>&nbsp;<span class="ident" id="5418796">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418800">typeCache</span><span class="op" id="5418809">[</span><span class="ident" id="5418810">off</span><span class="op" id="5418813">]</span>&nbsp;<span class="op" id="5418815">=</span>&nbsp;<span class="ident" id="5418817">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5418821">if</span>&nbsp;<span class="ident" id="5418824">t</span><span class="op" id="5418825">.</span><span class="ident" id="5418826">ReturnType</span>&nbsp;<span class="op" id="5418837">=</span>&nbsp;<span class="ident" id="5418839">typeOf</span><span class="op" id="5418845">(</span><span class="ident" id="5418846">e</span><span class="op" id="5418847">)</span><span class="op" id="5418848">;</span>&nbsp;<span class="ident" id="5418850">err</span>&nbsp;<span class="op" id="5418854">!=</span>&nbsp;<span class="ident" id="5418857">nil</span>&nbsp;<span class="op" id="5418861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5418866">goto</span>&nbsp;<span class="ident" id="5418871">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5418879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5418883">t</span><span class="op" id="5418884">.</span><span class="ident" id="5418885">ParamType</span>&nbsp;<span class="op" id="5418895">=</span>&nbsp;<span class="builtinfunc" id="5418897">make</span><span class="op" id="5418901">(</span><span class="op" id="5418902">[</span><span class="op" id="5418903">]</span><span class="ident" id="5418904">Type</span><span class="op" id="5418908">,</span>&nbsp;<span class="num" id="5418910">0</span><span class="op" id="5418911">,</span>&nbsp;<span class="num" id="5418913">8</span><span class="op" id="5418914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5418918">for</span>&nbsp;<span class="ident" id="5418922">kid</span>&nbsp;<span class="op" id="5418926">:=</span>&nbsp;<span class="ident" id="5418929">next</span><span class="op" id="5418933">(</span><span class="op" id="5418934">)</span><span class="op" id="5418935">;</span>&nbsp;<span class="ident" id="5418937">kid</span>&nbsp;<span class="op" id="5418941">!=</span>&nbsp;<span class="ident" id="5418944">nil</span><span class="op" id="5418947">;</span>&nbsp;<span class="ident" id="5418949">kid</span>&nbsp;<span class="op" id="5418953">=</span>&nbsp;<span class="ident" id="5418955">next</span><span class="op" id="5418959">(</span><span class="op" id="5418960">)</span>&nbsp;<span class="op" id="5418962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5418967">var</span>&nbsp;<span class="ident" id="5418971">tkid</span>&nbsp;<span class="ident" id="5418976">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5418984">switch</span>&nbsp;<span class="ident" id="5418991">kid</span><span class="op" id="5418994">.</span><span class="ident" id="5418995">Tag</span>&nbsp;<span class="op" id="5418999">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419004">default</span><span class="op" id="5419011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419017">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419029">case</span>&nbsp;<span class="ident" id="5419034">TagFormalParameter</span><span class="op" id="5419052">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419058">if</span>&nbsp;<span class="ident" id="5419061">tkid</span>&nbsp;<span class="op" id="5419066">=</span>&nbsp;<span class="ident" id="5419068">typeOf</span><span class="op" id="5419074">(</span><span class="ident" id="5419075">kid</span><span class="op" id="5419078">)</span><span class="op" id="5419079">;</span>&nbsp;<span class="ident" id="5419081">err</span>&nbsp;<span class="op" id="5419085">!=</span>&nbsp;<span class="ident" id="5419088">nil</span>&nbsp;<span class="op" id="5419092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419099">goto</span>&nbsp;<span class="ident" id="5419104">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5419114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419119">case</span>&nbsp;<span class="ident" id="5419124">TagUnspecifiedParameters</span><span class="op" id="5419148">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419154">tkid</span>&nbsp;<span class="op" id="5419159">=</span>&nbsp;<span class="op" id="5419161">&amp;</span><span class="ident" id="5419162">DotDotDotType</span><span class="op" id="5419175">{</span><span class="op" id="5419176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5419181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419186">t</span><span class="op" id="5419187">.</span><span class="ident" id="5419188">ParamType</span>&nbsp;<span class="op" id="5419198">=</span>&nbsp;<span class="builtinfunc" id="5419200">append</span><span class="op" id="5419206">(</span><span class="ident" id="5419207">t</span><span class="op" id="5419208">.</span><span class="ident" id="5419209">ParamType</span><span class="op" id="5419218">,</span>&nbsp;<span class="ident" id="5419220">tkid</span><span class="op" id="5419224">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5419228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419232">case</span>&nbsp;<span class="ident" id="5419237">TagTypedef</span><span class="op" id="5419247">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419251">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;§5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419281">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419298">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419329">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419371">t</span>&nbsp;<span class="op" id="5419373">:=</span>&nbsp;<span class="builtinfunc" id="5419376">new</span><span class="op" id="5419379">(</span><span class="ident" id="5419380">TypedefType</span><span class="op" id="5419391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419395">typ</span>&nbsp;<span class="op" id="5419399">=</span>&nbsp;<span class="ident" id="5419401">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419405">typeCache</span><span class="op" id="5419414">[</span><span class="ident" id="5419415">off</span><span class="op" id="5419418">]</span>&nbsp;<span class="op" id="5419420">=</span>&nbsp;<span class="ident" id="5419422">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419426">t</span><span class="op" id="5419427">.</span><span class="ident" id="5419428">Name</span><span class="op" id="5419432">,</span>&nbsp;<span class="ident" id="5419434">_</span>&nbsp;<span class="op" id="5419436">=</span>&nbsp;<span class="ident" id="5419438">e</span><span class="op" id="5419439">.</span><span class="ident" id="5419440">Val</span><span class="op" id="5419443">(</span><span class="ident" id="5419444">AttrName</span><span class="op" id="5419452">)</span><span class="op" id="5419453">.</span><span class="op" id="5419454">(</span><span class="builtintype" id="5419455">string</span><span class="op" id="5419461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419465">t</span><span class="op" id="5419466">.</span><span class="ident" id="5419467">Type</span>&nbsp;<span class="op" id="5419472">=</span>&nbsp;<span class="ident" id="5419474">typeOf</span><span class="op" id="5419480">(</span><span class="ident" id="5419481">e</span><span class="op" id="5419482">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419486">case</span>&nbsp;<span class="ident" id="5419491">TagUnspecifiedType</span><span class="op" id="5419509">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419513">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;§5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419552">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419569">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419589">t</span>&nbsp;<span class="op" id="5419591">:=</span>&nbsp;<span class="builtinfunc" id="5419594">new</span><span class="op" id="5419597">(</span><span class="ident" id="5419598">UnspecifiedType</span><span class="op" id="5419613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419617">typ</span>&nbsp;<span class="op" id="5419621">=</span>&nbsp;<span class="ident" id="5419623">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419627">typeCache</span><span class="op" id="5419636">[</span><span class="ident" id="5419637">off</span><span class="op" id="5419640">]</span>&nbsp;<span class="op" id="5419642">=</span>&nbsp;<span class="ident" id="5419644">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419648">t</span><span class="op" id="5419649">.</span><span class="ident" id="5419650">Name</span><span class="op" id="5419654">,</span>&nbsp;<span class="ident" id="5419656">_</span>&nbsp;<span class="op" id="5419658">=</span>&nbsp;<span class="ident" id="5419660">e</span><span class="op" id="5419661">.</span><span class="ident" id="5419662">Val</span><span class="op" id="5419665">(</span><span class="ident" id="5419666">AttrName</span><span class="op" id="5419674">)</span><span class="op" id="5419675">.</span><span class="op" id="5419676">(</span><span class="builtintype" id="5419677">string</span><span class="op" id="5419683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5419686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419690">if</span>&nbsp;<span class="ident" id="5419693">err</span>&nbsp;<span class="op" id="5419697">!=</span>&nbsp;<span class="ident" id="5419700">nil</span>&nbsp;<span class="op" id="5419704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419708">goto</span>&nbsp;<span class="ident" id="5419713">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5419720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5419724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419728">b</span><span class="op" id="5419729">,</span>&nbsp;<span class="ident" id="5419731">ok</span>&nbsp;<span class="op" id="5419734">:=</span>&nbsp;<span class="ident" id="5419737">e</span><span class="op" id="5419738">.</span><span class="ident" id="5419739">Val</span><span class="op" id="5419742">(</span><span class="ident" id="5419743">AttrByteSize</span><span class="op" id="5419755">)</span><span class="op" id="5419756">.</span><span class="op" id="5419757">(</span><span class="ident" id="5419758">int64</span><span class="op" id="5419763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419767">if</span>&nbsp;<span class="op" id="5419770">!</span><span class="ident" id="5419771">ok</span>&nbsp;<span class="op" id="5419774">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419779">b</span>&nbsp;<span class="op" id="5419781">=</span>&nbsp;<span class="op" id="5419783">-</span><span class="num" id="5419784">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5419788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5419792">typ</span><span class="op" id="5419795">.</span><span class="ident" id="5419796">Common</span><span class="op" id="5419802">(</span><span class="op" id="5419803">)</span><span class="op" id="5419804">.</span><span class="ident" id="5419805">ByteSize</span>&nbsp;<span class="op" id="5419814">=</span>&nbsp;<span class="ident" id="5419816">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5419819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5419822">return</span>&nbsp;<span class="ident" id="5419829">typ</span><span class="op" id="5419832">,</span>&nbsp;<span class="ident" id="5419834">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="5419839">Error</span><span class="op" id="5419844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419847">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419902">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5419957">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5419991">delete</span><span class="op" id="5419997">(</span><span class="ident" id="5419998">typeCache</span><span class="op" id="5420007">,</span>&nbsp;<span class="ident" id="5420009">off</span><span class="op" id="5420012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5420015">return</span>&nbsp;<span class="ident" id="5420022">nil</span><span class="op" id="5420025">,</span>&nbsp;<span class="ident" id="5420027">err</span><br>
<span class="lineno"></span><span class="op" id="5420031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5420034">func</span>&nbsp;<span class="ident" id="5420039">zeroArray</span><span class="op" id="5420048">(</span><span class="ident" id="5420049">t</span>&nbsp;<span class="op" id="5420051">*</span><span class="ident" id="5420052">Type</span><span class="op" id="5420056">)</span>&nbsp;<span class="op" id="5420058">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5420061">if</span>&nbsp;<span class="ident" id="5420064">t</span>&nbsp;<span class="op" id="5420066">==</span>&nbsp;<span class="ident" id="5420069">nil</span>&nbsp;<span class="op" id="5420073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5420077">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5420085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420088">at</span><span class="op" id="5420090">,</span>&nbsp;<span class="ident" id="5420092">ok</span>&nbsp;<span class="op" id="5420095">:=</span>&nbsp;<span class="op" id="5420098">(</span><span class="op" id="5420099">*</span><span class="ident" id="5420100">t</span><span class="op" id="5420101">)</span><span class="op" id="5420102">.</span><span class="op" id="5420103">(</span><span class="op" id="5420104">*</span><span class="ident" id="5420105">ArrayType</span><span class="op" id="5420114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5420117">if</span>&nbsp;<span class="op" id="5420120">!</span><span class="ident" id="5420121">ok</span>&nbsp;<span class="op" id="5420124">||</span>&nbsp;<span class="ident" id="5420127">at</span><span class="op" id="5420129">.</span><span class="ident" id="5420130">Type</span><span class="op" id="5420134">.</span><span class="ident" id="5420135">Size</span><span class="op" id="5420139">(</span><span class="op" id="5420140">)</span>&nbsp;<span class="op" id="5420142">==</span>&nbsp;<span class="num" id="5420145">0</span>&nbsp;<span class="op" id="5420147">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5420151">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5420159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5420162">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420211">tt</span>&nbsp;<span class="op" id="5420214">:=</span>&nbsp;<span class="op" id="5420217">*</span><span class="ident" id="5420218">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420222">tt</span><span class="op" id="5420224">.</span><span class="ident" id="5420225">Count</span>&nbsp;<span class="op" id="5420231">=</span>&nbsp;<span class="num" id="5420233">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5420236">*</span><span class="ident" id="5420237">t</span>&nbsp;<span class="op" id="5420239">=</span>&nbsp;<span class="op" id="5420241">&amp;</span><span class="ident" id="5420242">tt</span><br>
<span class="lineno"></span><span class="op" id="5420245">}</span>
</div>
</body>
</html>
