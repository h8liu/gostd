<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1638451">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1638507">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1638561">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1638612">//&nbsp;Software&nbsp;IEEE754&nbsp;64-bit&nbsp;floating&nbsp;point.</span><br>
<span class="lineno"></span><span class="comment" id="1638655">//&nbsp;Only&nbsp;referred&nbsp;to&nbsp;(and&nbsp;thus&nbsp;linked&nbsp;in)&nbsp;by&nbsp;arm&nbsp;port</span><br>
<span class="lineno"></span><span class="comment" id="1638708">//&nbsp;and&nbsp;by&nbsp;tests&nbsp;in&nbsp;this&nbsp;directory.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1638744">package</span>&nbsp;<span class="ident" id="1638752">runtime</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1638761">const</span>&nbsp;<span class="op" id="1638767">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638770">mantbits64</span>&nbsp;<span class="builtintype" id="1638781">uint</span>&nbsp;<span class="op" id="1638786">=</span>&nbsp;<span class="num" id="1638788">52</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638792">expbits64</span>&nbsp;&nbsp;<span class="builtintype" id="1638803">uint</span>&nbsp;<span class="op" id="1638808">=</span>&nbsp;<span class="num" id="1638810">11</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638814">bias64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1638830">=</span>&nbsp;<span class="op" id="1638832">-</span><span class="num" id="1638833">1</span><span class="op" id="1638834">&lt;&lt;</span><span class="op" id="1638836">(</span><span class="ident" id="1638837">expbits64</span><span class="op" id="1638846">-</span><span class="num" id="1638847">1</span><span class="op" id="1638848">)</span>&nbsp;<span class="op" id="1638850">+</span>&nbsp;<span class="num" id="1638852">1</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638856">nan64</span>&nbsp;<span class="ident" id="1638862">uint64</span>&nbsp;<span class="op" id="1638869">=</span>&nbsp;<span class="op" id="1638871">(</span><span class="num" id="1638872">1</span><span class="op" id="1638873">&lt;&lt;</span><span class="ident" id="1638875">expbits64</span><span class="op" id="1638884">-</span><span class="num" id="1638885">1</span><span class="op" id="1638886">)</span><span class="op" id="1638887">&lt;&lt;</span><span class="ident" id="1638889">mantbits64</span>&nbsp;<span class="op" id="1638900">+</span>&nbsp;<span class="num" id="1638902">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638905">inf64</span>&nbsp;<span class="ident" id="1638911">uint64</span>&nbsp;<span class="op" id="1638918">=</span>&nbsp;<span class="op" id="1638920">(</span><span class="num" id="1638921">1</span><span class="op" id="1638922">&lt;&lt;</span><span class="ident" id="1638924">expbits64</span>&nbsp;<span class="op" id="1638934">-</span>&nbsp;<span class="num" id="1638936">1</span><span class="op" id="1638937">)</span>&nbsp;<span class="op" id="1638939">&lt;&lt;</span>&nbsp;<span class="ident" id="1638942">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1638954">neg64</span>&nbsp;<span class="ident" id="1638960">uint64</span>&nbsp;<span class="op" id="1638967">=</span>&nbsp;<span class="num" id="1638969">1</span>&nbsp;<span class="op" id="1638971">&lt;&lt;</span>&nbsp;<span class="op" id="1638974">(</span><span class="ident" id="1638975">expbits64</span>&nbsp;<span class="op" id="1638985">+</span>&nbsp;<span class="ident" id="1638987">mantbits64</span><span class="op" id="1638997">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639001">mantbits32</span>&nbsp;<span class="builtintype" id="1639012">uint</span>&nbsp;<span class="op" id="1639017">=</span>&nbsp;<span class="num" id="1639019">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639023">expbits32</span>&nbsp;&nbsp;<span class="builtintype" id="1639034">uint</span>&nbsp;<span class="op" id="1639039">=</span>&nbsp;<span class="num" id="1639041">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639044">bias32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1639060">=</span>&nbsp;<span class="op" id="1639062">-</span><span class="num" id="1639063">1</span><span class="op" id="1639064">&lt;&lt;</span><span class="op" id="1639066">(</span><span class="ident" id="1639067">expbits32</span><span class="op" id="1639076">-</span><span class="num" id="1639077">1</span><span class="op" id="1639078">)</span>&nbsp;<span class="op" id="1639080">+</span>&nbsp;<span class="num" id="1639082">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639086">nan32</span>&nbsp;<span class="builtintype" id="1639092">uint32</span>&nbsp;<span class="op" id="1639099">=</span>&nbsp;<span class="op" id="1639101">(</span><span class="num" id="1639102">1</span><span class="op" id="1639103">&lt;&lt;</span><span class="ident" id="1639105">expbits32</span><span class="op" id="1639114">-</span><span class="num" id="1639115">1</span><span class="op" id="1639116">)</span><span class="op" id="1639117">&lt;&lt;</span><span class="ident" id="1639119">mantbits32</span>&nbsp;<span class="op" id="1639130">+</span>&nbsp;<span class="num" id="1639132">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639135">inf32</span>&nbsp;<span class="builtintype" id="1639141">uint32</span>&nbsp;<span class="op" id="1639148">=</span>&nbsp;<span class="op" id="1639150">(</span><span class="num" id="1639151">1</span><span class="op" id="1639152">&lt;&lt;</span><span class="ident" id="1639154">expbits32</span>&nbsp;<span class="op" id="1639164">-</span>&nbsp;<span class="num" id="1639166">1</span><span class="op" id="1639167">)</span>&nbsp;<span class="op" id="1639169">&lt;&lt;</span>&nbsp;<span class="ident" id="1639172">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639184">neg32</span>&nbsp;<span class="builtintype" id="1639190">uint32</span>&nbsp;<span class="op" id="1639197">=</span>&nbsp;<span class="num" id="1639199">1</span>&nbsp;<span class="op" id="1639201">&lt;&lt;</span>&nbsp;<span class="op" id="1639204">(</span><span class="ident" id="1639205">expbits32</span>&nbsp;<span class="op" id="1639215">+</span>&nbsp;<span class="ident" id="1639217">mantbits32</span><span class="op" id="1639227">)</span><br>
<span class="lineno"></span><span class="op" id="1639229">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1639232">func</span>&nbsp;<span class="ident" id="1639237">funpack64</span><span class="op" id="1639246">(</span><span class="ident" id="1639247">f</span>&nbsp;<span class="ident" id="1639249">uint64</span><span class="op" id="1639255">)</span>&nbsp;<span class="op" id="1639257">(</span><span class="ident" id="1639258">sign</span><span class="op" id="1639262">,</span>&nbsp;<span class="ident" id="1639264">mant</span>&nbsp;<span class="ident" id="1639269">uint64</span><span class="op" id="1639275">,</span>&nbsp;<span class="ident" id="1639277">exp</span>&nbsp;<span class="builtintype" id="1639281">int</span><span class="op" id="1639284">,</span>&nbsp;<span class="ident" id="1639286">inf</span><span class="op" id="1639289">,</span>&nbsp;<span class="ident" id="1639291">nan</span>&nbsp;<span class="builtintype" id="1639295">bool</span><span class="op" id="1639299">)</span>&nbsp;<span class="op" id="1639301">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639304">sign</span>&nbsp;<span class="op" id="1639309">=</span>&nbsp;<span class="ident" id="1639311">f</span>&nbsp;<span class="op" id="1639313">&amp;</span>&nbsp;<span class="op" id="1639315">(</span><span class="num" id="1639316">1</span>&nbsp;<span class="op" id="1639318">&lt;&lt;</span>&nbsp;<span class="op" id="1639321">(</span><span class="ident" id="1639322">mantbits64</span>&nbsp;<span class="op" id="1639333">+</span>&nbsp;<span class="ident" id="1639335">expbits64</span><span class="op" id="1639344">)</span><span class="op" id="1639345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639348">mant</span>&nbsp;<span class="op" id="1639353">=</span>&nbsp;<span class="ident" id="1639355">f</span>&nbsp;<span class="op" id="1639357">&amp;</span>&nbsp;<span class="op" id="1639359">(</span><span class="num" id="1639360">1</span><span class="op" id="1639361">&lt;&lt;</span><span class="ident" id="1639363">mantbits64</span>&nbsp;<span class="op" id="1639374">-</span>&nbsp;<span class="num" id="1639376">1</span><span class="op" id="1639377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639380">exp</span>&nbsp;<span class="op" id="1639384">=</span>&nbsp;<span class="builtintype" id="1639386">int</span><span class="op" id="1639389">(</span><span class="ident" id="1639390">f</span><span class="op" id="1639391">&gt;&gt;</span><span class="ident" id="1639393">mantbits64</span><span class="op" id="1639403">)</span>&nbsp;<span class="op" id="1639405">&amp;</span>&nbsp;<span class="op" id="1639407">(</span><span class="num" id="1639408">1</span><span class="op" id="1639409">&lt;&lt;</span><span class="ident" id="1639411">expbits64</span>&nbsp;<span class="op" id="1639421">-</span>&nbsp;<span class="num" id="1639423">1</span><span class="op" id="1639424">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639428">switch</span>&nbsp;<span class="ident" id="1639435">exp</span>&nbsp;<span class="op" id="1639439">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639442">case</span>&nbsp;<span class="num" id="1639447">1</span><span class="op" id="1639448">&lt;&lt;</span><span class="ident" id="1639450">expbits64</span>&nbsp;<span class="op" id="1639460">-</span>&nbsp;<span class="num" id="1639462">1</span><span class="op" id="1639463">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639467">if</span>&nbsp;<span class="ident" id="1639470">mant</span>&nbsp;<span class="op" id="1639475">!=</span>&nbsp;<span class="num" id="1639478">0</span>&nbsp;<span class="op" id="1639480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639485">nan</span>&nbsp;<span class="op" id="1639489">=</span>&nbsp;<span class="builtintype" id="1639491">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639499">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1639508">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639512">inf</span>&nbsp;<span class="op" id="1639516">=</span>&nbsp;<span class="builtintype" id="1639518">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639525">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639534">case</span>&nbsp;<span class="num" id="1639539">0</span><span class="op" id="1639540">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1639544">//&nbsp;denormalized</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639562">if</span>&nbsp;<span class="ident" id="1639565">mant</span>&nbsp;<span class="op" id="1639570">!=</span>&nbsp;<span class="num" id="1639573">0</span>&nbsp;<span class="op" id="1639575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639580">exp</span>&nbsp;<span class="op" id="1639584">+=</span>&nbsp;<span class="ident" id="1639587">bias64</span>&nbsp;<span class="op" id="1639594">+</span>&nbsp;<span class="num" id="1639596">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639601">for</span>&nbsp;<span class="ident" id="1639605">mant</span>&nbsp;<span class="op" id="1639610">&lt;</span>&nbsp;<span class="num" id="1639612">1</span><span class="op" id="1639613">&lt;&lt;</span><span class="ident" id="1639615">mantbits64</span>&nbsp;<span class="op" id="1639626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639632">mant</span>&nbsp;<span class="op" id="1639637">&lt;&lt;=</span>&nbsp;<span class="num" id="1639641">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639647">exp</span><span class="op" id="1639650">--</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1639656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1639660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639664">default</span><span class="op" id="1639671">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1639675">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639701">mant</span>&nbsp;<span class="op" id="1639706">|=</span>&nbsp;<span class="num" id="1639709">1</span>&nbsp;<span class="op" id="1639711">&lt;&lt;</span>&nbsp;<span class="ident" id="1639714">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639727">exp</span>&nbsp;<span class="op" id="1639731">+=</span>&nbsp;<span class="ident" id="1639734">bias64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1639742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639745">return</span><br>
<span class="lineno"></span><span class="op" id="1639752">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="1639755">func</span>&nbsp;<span class="ident" id="1639760">funpack32</span><span class="op" id="1639769">(</span><span class="ident" id="1639770">f</span>&nbsp;<span class="builtintype" id="1639772">uint32</span><span class="op" id="1639778">)</span>&nbsp;<span class="op" id="1639780">(</span><span class="ident" id="1639781">sign</span><span class="op" id="1639785">,</span>&nbsp;<span class="ident" id="1639787">mant</span>&nbsp;<span class="builtintype" id="1639792">uint32</span><span class="op" id="1639798">,</span>&nbsp;<span class="ident" id="1639800">exp</span>&nbsp;<span class="builtintype" id="1639804">int</span><span class="op" id="1639807">,</span>&nbsp;<span class="ident" id="1639809">inf</span><span class="op" id="1639812">,</span>&nbsp;<span class="ident" id="1639814">nan</span>&nbsp;<span class="builtintype" id="1639818">bool</span><span class="op" id="1639822">)</span>&nbsp;<span class="op" id="1639824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639827">sign</span>&nbsp;<span class="op" id="1639832">=</span>&nbsp;<span class="ident" id="1639834">f</span>&nbsp;<span class="op" id="1639836">&amp;</span>&nbsp;<span class="op" id="1639838">(</span><span class="num" id="1639839">1</span>&nbsp;<span class="op" id="1639841">&lt;&lt;</span>&nbsp;<span class="op" id="1639844">(</span><span class="ident" id="1639845">mantbits32</span>&nbsp;<span class="op" id="1639856">+</span>&nbsp;<span class="ident" id="1639858">expbits32</span><span class="op" id="1639867">)</span><span class="op" id="1639868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639871">mant</span>&nbsp;<span class="op" id="1639876">=</span>&nbsp;<span class="ident" id="1639878">f</span>&nbsp;<span class="op" id="1639880">&amp;</span>&nbsp;<span class="op" id="1639882">(</span><span class="num" id="1639883">1</span><span class="op" id="1639884">&lt;&lt;</span><span class="ident" id="1639886">mantbits32</span>&nbsp;<span class="op" id="1639897">-</span>&nbsp;<span class="num" id="1639899">1</span><span class="op" id="1639900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1639903">exp</span>&nbsp;<span class="op" id="1639907">=</span>&nbsp;<span class="builtintype" id="1639909">int</span><span class="op" id="1639912">(</span><span class="ident" id="1639913">f</span><span class="op" id="1639914">&gt;&gt;</span><span class="ident" id="1639916">mantbits32</span><span class="op" id="1639926">)</span>&nbsp;<span class="op" id="1639928">&amp;</span>&nbsp;<span class="op" id="1639930">(</span><span class="num" id="1639931">1</span><span class="op" id="1639932">&lt;&lt;</span><span class="ident" id="1639934">expbits32</span>&nbsp;<span class="op" id="1639944">-</span>&nbsp;<span class="num" id="1639946">1</span><span class="op" id="1639947">)</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639951">switch</span>&nbsp;<span class="ident" id="1639958">exp</span>&nbsp;<span class="op" id="1639962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639965">case</span>&nbsp;<span class="num" id="1639970">1</span><span class="op" id="1639971">&lt;&lt;</span><span class="ident" id="1639973">expbits32</span>&nbsp;<span class="op" id="1639983">-</span>&nbsp;<span class="num" id="1639985">1</span><span class="op" id="1639986">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1639990">if</span>&nbsp;<span class="ident" id="1639993">mant</span>&nbsp;<span class="op" id="1639998">!=</span>&nbsp;<span class="num" id="1640001">0</span>&nbsp;<span class="op" id="1640003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640008">nan</span>&nbsp;<span class="op" id="1640012">=</span>&nbsp;<span class="builtintype" id="1640014">true</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640022">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640035">inf</span>&nbsp;<span class="op" id="1640039">=</span>&nbsp;<span class="builtintype" id="1640041">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640048">return</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640057">case</span>&nbsp;<span class="num" id="1640062">0</span><span class="op" id="1640063">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1640067">//&nbsp;denormalized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640085">if</span>&nbsp;<span class="ident" id="1640088">mant</span>&nbsp;<span class="op" id="1640093">!=</span>&nbsp;<span class="num" id="1640096">0</span>&nbsp;<span class="op" id="1640098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640103">exp</span>&nbsp;<span class="op" id="1640107">+=</span>&nbsp;<span class="ident" id="1640110">bias32</span>&nbsp;<span class="op" id="1640117">+</span>&nbsp;<span class="num" id="1640119">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640124">for</span>&nbsp;<span class="ident" id="1640128">mant</span>&nbsp;<span class="op" id="1640133">&lt;</span>&nbsp;<span class="num" id="1640135">1</span><span class="op" id="1640136">&lt;&lt;</span><span class="ident" id="1640138">mantbits32</span>&nbsp;<span class="op" id="1640149">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640155">mant</span>&nbsp;<span class="op" id="1640160">&lt;&lt;=</span>&nbsp;<span class="num" id="1640164">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640170">exp</span><span class="op" id="1640173">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640187">default</span><span class="op" id="1640194">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1640198">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640224">mant</span>&nbsp;<span class="op" id="1640229">|=</span>&nbsp;<span class="num" id="1640232">1</span>&nbsp;<span class="op" id="1640234">&lt;&lt;</span>&nbsp;<span class="ident" id="1640237">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640250">exp</span>&nbsp;<span class="op" id="1640254">+=</span>&nbsp;<span class="ident" id="1640257">bias32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640265">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640268">return</span><br>
<span class="lineno"></span><span class="op" id="1640275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1640278">func</span>&nbsp;<span class="ident" id="1640283">fpack64</span><span class="op" id="1640290">(</span><span class="ident" id="1640291">sign</span><span class="op" id="1640295">,</span>&nbsp;<span class="ident" id="1640297">mant</span>&nbsp;<span class="ident" id="1640302">uint64</span><span class="op" id="1640308">,</span>&nbsp;<span class="ident" id="1640310">exp</span>&nbsp;<span class="builtintype" id="1640314">int</span><span class="op" id="1640317">,</span>&nbsp;<span class="ident" id="1640319">trunc</span>&nbsp;<span class="ident" id="1640325">uint64</span><span class="op" id="1640331">)</span>&nbsp;<span class="ident" id="1640333">uint64</span>&nbsp;<span class="op" id="1640340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640343">mant0</span><span class="op" id="1640348">,</span>&nbsp;<span class="ident" id="1640350">exp0</span><span class="op" id="1640354">,</span>&nbsp;<span class="ident" id="1640356">trunc0</span>&nbsp;<span class="op" id="1640363">:=</span>&nbsp;<span class="ident" id="1640366">mant</span><span class="op" id="1640370">,</span>&nbsp;<span class="ident" id="1640372">exp</span><span class="op" id="1640375">,</span>&nbsp;<span class="ident" id="1640377">trunc</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640384">if</span>&nbsp;<span class="ident" id="1640387">mant</span>&nbsp;<span class="op" id="1640392">==</span>&nbsp;<span class="num" id="1640395">0</span>&nbsp;<span class="op" id="1640397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640401">return</span>&nbsp;<span class="ident" id="1640408">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640417">for</span>&nbsp;<span class="ident" id="1640421">mant</span>&nbsp;<span class="op" id="1640426">&lt;</span>&nbsp;<span class="num" id="1640428">1</span><span class="op" id="1640429">&lt;&lt;</span><span class="ident" id="1640431">mantbits64</span>&nbsp;<span class="op" id="1640442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640446">mant</span>&nbsp;<span class="op" id="1640451">&lt;&lt;=</span>&nbsp;<span class="num" id="1640455">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640459">exp</span><span class="op" id="1640462">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640469">for</span>&nbsp;<span class="ident" id="1640473">mant</span>&nbsp;<span class="op" id="1640478">&gt;=</span>&nbsp;<span class="num" id="1640481">4</span><span class="op" id="1640482">&lt;&lt;</span><span class="ident" id="1640484">mantbits64</span>&nbsp;<span class="op" id="1640495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640499">trunc</span>&nbsp;<span class="op" id="1640505">|=</span>&nbsp;<span class="ident" id="1640508">mant</span>&nbsp;<span class="op" id="1640513">&amp;</span>&nbsp;<span class="num" id="1640515">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640519">mant</span>&nbsp;<span class="op" id="1640524">&gt;&gt;=</span>&nbsp;<span class="num" id="1640528">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640532">exp</span><span class="op" id="1640535">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640542">if</span>&nbsp;<span class="ident" id="1640545">mant</span>&nbsp;<span class="op" id="1640550">&gt;=</span>&nbsp;<span class="num" id="1640553">2</span><span class="op" id="1640554">&lt;&lt;</span><span class="ident" id="1640556">mantbits64</span>&nbsp;<span class="op" id="1640567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640571">if</span>&nbsp;<span class="ident" id="1640574">mant</span><span class="op" id="1640578">&amp;</span><span class="num" id="1640579">1</span>&nbsp;<span class="op" id="1640581">!=</span>&nbsp;<span class="num" id="1640584">0</span>&nbsp;<span class="op" id="1640586">&amp;&amp;</span>&nbsp;<span class="op" id="1640589">(</span><span class="ident" id="1640590">trunc</span>&nbsp;<span class="op" id="1640596">!=</span>&nbsp;<span class="num" id="1640599">0</span>&nbsp;<span class="op" id="1640601">||</span>&nbsp;<span class="ident" id="1640604">mant</span><span class="op" id="1640608">&amp;</span><span class="num" id="1640609">2</span>&nbsp;<span class="op" id="1640611">!=</span>&nbsp;<span class="num" id="1640614">0</span><span class="op" id="1640615">)</span>&nbsp;<span class="op" id="1640617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640622">mant</span><span class="op" id="1640626">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640632">if</span>&nbsp;<span class="ident" id="1640635">mant</span>&nbsp;<span class="op" id="1640640">&gt;=</span>&nbsp;<span class="num" id="1640643">4</span><span class="op" id="1640644">&lt;&lt;</span><span class="ident" id="1640646">mantbits64</span>&nbsp;<span class="op" id="1640657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640663">mant</span>&nbsp;<span class="op" id="1640668">&gt;&gt;=</span>&nbsp;<span class="num" id="1640672">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640678">exp</span><span class="op" id="1640681">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640691">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640695">mant</span>&nbsp;<span class="op" id="1640700">&gt;&gt;=</span>&nbsp;<span class="num" id="1640704">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640708">exp</span><span class="op" id="1640711">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640718">if</span>&nbsp;<span class="ident" id="1640721">exp</span>&nbsp;<span class="op" id="1640725">&gt;=</span>&nbsp;<span class="num" id="1640728">1</span><span class="op" id="1640729">&lt;&lt;</span><span class="ident" id="1640731">expbits64</span><span class="op" id="1640740">-</span><span class="num" id="1640741">1</span><span class="op" id="1640742">+</span><span class="ident" id="1640743">bias64</span>&nbsp;<span class="op" id="1640750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640754">return</span>&nbsp;<span class="ident" id="1640761">sign</span>&nbsp;<span class="op" id="1640766">^</span>&nbsp;<span class="ident" id="1640768">inf64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640778">if</span>&nbsp;<span class="ident" id="1640781">exp</span>&nbsp;<span class="op" id="1640785">&lt;</span>&nbsp;<span class="ident" id="1640787">bias64</span><span class="op" id="1640793">+</span><span class="num" id="1640794">1</span>&nbsp;<span class="op" id="1640796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640800">if</span>&nbsp;<span class="ident" id="1640803">exp</span>&nbsp;<span class="op" id="1640807">&lt;</span>&nbsp;<span class="ident" id="1640809">bias64</span><span class="op" id="1640815">-</span><span class="builtintype" id="1640816">int</span><span class="op" id="1640819">(</span><span class="ident" id="1640820">mantbits64</span><span class="op" id="1640830">)</span>&nbsp;<span class="op" id="1640832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640837">return</span>&nbsp;<span class="ident" id="1640844">sign</span>&nbsp;<span class="op" id="1640849">|</span>&nbsp;<span class="num" id="1640851">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640855">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1640859">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640890">mant</span><span class="op" id="1640894">,</span>&nbsp;<span class="ident" id="1640896">exp</span><span class="op" id="1640899">,</span>&nbsp;<span class="ident" id="1640901">trunc</span>&nbsp;<span class="op" id="1640907">=</span>&nbsp;<span class="ident" id="1640909">mant0</span><span class="op" id="1640914">,</span>&nbsp;<span class="ident" id="1640916">exp0</span><span class="op" id="1640920">,</span>&nbsp;<span class="ident" id="1640922">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1640931">for</span>&nbsp;<span class="ident" id="1640935">exp</span>&nbsp;<span class="op" id="1640939">&lt;</span>&nbsp;<span class="ident" id="1640941">bias64</span>&nbsp;<span class="op" id="1640948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640953">trunc</span>&nbsp;<span class="op" id="1640959">|=</span>&nbsp;<span class="ident" id="1640962">mant</span>&nbsp;<span class="op" id="1640967">&amp;</span>&nbsp;<span class="num" id="1640969">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640974">mant</span>&nbsp;<span class="op" id="1640979">&gt;&gt;=</span>&nbsp;<span class="num" id="1640983">1</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1640988">exp</span><span class="op" id="1640991">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1640996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641000">if</span>&nbsp;<span class="ident" id="1641003">mant</span><span class="op" id="1641007">&amp;</span><span class="num" id="1641008">1</span>&nbsp;<span class="op" id="1641010">!=</span>&nbsp;<span class="num" id="1641013">0</span>&nbsp;<span class="op" id="1641015">&amp;&amp;</span>&nbsp;<span class="op" id="1641018">(</span><span class="ident" id="1641019">trunc</span>&nbsp;<span class="op" id="1641025">!=</span>&nbsp;<span class="num" id="1641028">0</span>&nbsp;<span class="op" id="1641030">||</span>&nbsp;<span class="ident" id="1641033">mant</span><span class="op" id="1641037">&amp;</span><span class="num" id="1641038">2</span>&nbsp;<span class="op" id="1641040">!=</span>&nbsp;<span class="num" id="1641043">0</span><span class="op" id="1641044">)</span>&nbsp;<span class="op" id="1641046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641051">mant</span><span class="op" id="1641055">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641060">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641064">mant</span>&nbsp;<span class="op" id="1641069">&gt;&gt;=</span>&nbsp;<span class="num" id="1641073">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641077">exp</span><span class="op" id="1641080">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641085">if</span>&nbsp;<span class="ident" id="1641088">mant</span>&nbsp;<span class="op" id="1641093">&lt;</span>&nbsp;<span class="num" id="1641095">1</span><span class="op" id="1641096">&lt;&lt;</span><span class="ident" id="1641098">mantbits64</span>&nbsp;<span class="op" id="1641109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641114">return</span>&nbsp;<span class="ident" id="1641121">sign</span>&nbsp;<span class="op" id="1641126">|</span>&nbsp;<span class="ident" id="1641128">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641135">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641141">return</span>&nbsp;<span class="ident" id="1641148">sign</span>&nbsp;<span class="op" id="1641153">|</span>&nbsp;<span class="ident" id="1641155">uint64</span><span class="op" id="1641161">(</span><span class="ident" id="1641162">exp</span><span class="op" id="1641165">-</span><span class="ident" id="1641166">bias64</span><span class="op" id="1641172">)</span><span class="op" id="1641173">&lt;&lt;</span><span class="ident" id="1641175">mantbits64</span>&nbsp;<span class="op" id="1641186">|</span>&nbsp;<span class="ident" id="1641188">mant</span><span class="op" id="1641192">&amp;</span><span class="op" id="1641193">(</span><span class="num" id="1641194">1</span><span class="op" id="1641195">&lt;&lt;</span><span class="ident" id="1641197">mantbits64</span><span class="op" id="1641207">-</span><span class="num" id="1641208">1</span><span class="op" id="1641209">)</span><br>
<span class="lineno"></span><span class="op" id="1641211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1641214">func</span>&nbsp;<span class="ident" id="1641219">fpack32</span><span class="op" id="1641226">(</span><span class="ident" id="1641227">sign</span><span class="op" id="1641231">,</span>&nbsp;<span class="ident" id="1641233">mant</span>&nbsp;<span class="builtintype" id="1641238">uint32</span><span class="op" id="1641244">,</span>&nbsp;<span class="ident" id="1641246">exp</span>&nbsp;<span class="builtintype" id="1641250">int</span><span class="op" id="1641253">,</span>&nbsp;<span class="ident" id="1641255">trunc</span>&nbsp;<span class="builtintype" id="1641261">uint32</span><span class="op" id="1641267">)</span>&nbsp;<span class="builtintype" id="1641269">uint32</span>&nbsp;<span class="op" id="1641276">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641279">mant0</span><span class="op" id="1641284">,</span>&nbsp;<span class="ident" id="1641286">exp0</span><span class="op" id="1641290">,</span>&nbsp;<span class="ident" id="1641292">trunc0</span>&nbsp;<span class="op" id="1641299">:=</span>&nbsp;<span class="ident" id="1641302">mant</span><span class="op" id="1641306">,</span>&nbsp;<span class="ident" id="1641308">exp</span><span class="op" id="1641311">,</span>&nbsp;<span class="ident" id="1641313">trunc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641320">if</span>&nbsp;<span class="ident" id="1641323">mant</span>&nbsp;<span class="op" id="1641328">==</span>&nbsp;<span class="num" id="1641331">0</span>&nbsp;<span class="op" id="1641333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641337">return</span>&nbsp;<span class="ident" id="1641344">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641353">for</span>&nbsp;<span class="ident" id="1641357">mant</span>&nbsp;<span class="op" id="1641362">&lt;</span>&nbsp;<span class="num" id="1641364">1</span><span class="op" id="1641365">&lt;&lt;</span><span class="ident" id="1641367">mantbits32</span>&nbsp;<span class="op" id="1641378">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641382">mant</span>&nbsp;<span class="op" id="1641387">&lt;&lt;=</span>&nbsp;<span class="num" id="1641391">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641395">exp</span><span class="op" id="1641398">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641405">for</span>&nbsp;<span class="ident" id="1641409">mant</span>&nbsp;<span class="op" id="1641414">&gt;=</span>&nbsp;<span class="num" id="1641417">4</span><span class="op" id="1641418">&lt;&lt;</span><span class="ident" id="1641420">mantbits32</span>&nbsp;<span class="op" id="1641431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641435">trunc</span>&nbsp;<span class="op" id="1641441">|=</span>&nbsp;<span class="ident" id="1641444">mant</span>&nbsp;<span class="op" id="1641449">&amp;</span>&nbsp;<span class="num" id="1641451">1</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641455">mant</span>&nbsp;<span class="op" id="1641460">&gt;&gt;=</span>&nbsp;<span class="num" id="1641464">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641468">exp</span><span class="op" id="1641471">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641478">if</span>&nbsp;<span class="ident" id="1641481">mant</span>&nbsp;<span class="op" id="1641486">&gt;=</span>&nbsp;<span class="num" id="1641489">2</span><span class="op" id="1641490">&lt;&lt;</span><span class="ident" id="1641492">mantbits32</span>&nbsp;<span class="op" id="1641503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641507">if</span>&nbsp;<span class="ident" id="1641510">mant</span><span class="op" id="1641514">&amp;</span><span class="num" id="1641515">1</span>&nbsp;<span class="op" id="1641517">!=</span>&nbsp;<span class="num" id="1641520">0</span>&nbsp;<span class="op" id="1641522">&amp;&amp;</span>&nbsp;<span class="op" id="1641525">(</span><span class="ident" id="1641526">trunc</span>&nbsp;<span class="op" id="1641532">!=</span>&nbsp;<span class="num" id="1641535">0</span>&nbsp;<span class="op" id="1641537">||</span>&nbsp;<span class="ident" id="1641540">mant</span><span class="op" id="1641544">&amp;</span><span class="num" id="1641545">2</span>&nbsp;<span class="op" id="1641547">!=</span>&nbsp;<span class="num" id="1641550">0</span><span class="op" id="1641551">)</span>&nbsp;<span class="op" id="1641553">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641558">mant</span><span class="op" id="1641562">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641568">if</span>&nbsp;<span class="ident" id="1641571">mant</span>&nbsp;<span class="op" id="1641576">&gt;=</span>&nbsp;<span class="num" id="1641579">4</span><span class="op" id="1641580">&lt;&lt;</span><span class="ident" id="1641582">mantbits32</span>&nbsp;<span class="op" id="1641593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641599">mant</span>&nbsp;<span class="op" id="1641604">&gt;&gt;=</span>&nbsp;<span class="num" id="1641608">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641614">exp</span><span class="op" id="1641617">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641623">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641631">mant</span>&nbsp;<span class="op" id="1641636">&gt;&gt;=</span>&nbsp;<span class="num" id="1641640">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641644">exp</span><span class="op" id="1641647">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641654">if</span>&nbsp;<span class="ident" id="1641657">exp</span>&nbsp;<span class="op" id="1641661">&gt;=</span>&nbsp;<span class="num" id="1641664">1</span><span class="op" id="1641665">&lt;&lt;</span><span class="ident" id="1641667">expbits32</span><span class="op" id="1641676">-</span><span class="num" id="1641677">1</span><span class="op" id="1641678">+</span><span class="ident" id="1641679">bias32</span>&nbsp;<span class="op" id="1641686">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641690">return</span>&nbsp;<span class="ident" id="1641697">sign</span>&nbsp;<span class="op" id="1641702">^</span>&nbsp;<span class="ident" id="1641704">inf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641714">if</span>&nbsp;<span class="ident" id="1641717">exp</span>&nbsp;<span class="op" id="1641721">&lt;</span>&nbsp;<span class="ident" id="1641723">bias32</span><span class="op" id="1641729">+</span><span class="num" id="1641730">1</span>&nbsp;<span class="op" id="1641732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641736">if</span>&nbsp;<span class="ident" id="1641739">exp</span>&nbsp;<span class="op" id="1641743">&lt;</span>&nbsp;<span class="ident" id="1641745">bias32</span><span class="op" id="1641751">-</span><span class="builtintype" id="1641752">int</span><span class="op" id="1641755">(</span><span class="ident" id="1641756">mantbits32</span><span class="op" id="1641766">)</span>&nbsp;<span class="op" id="1641768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641773">return</span>&nbsp;<span class="ident" id="1641780">sign</span>&nbsp;<span class="op" id="1641785">|</span>&nbsp;<span class="num" id="1641787">0</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1641795">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641826">mant</span><span class="op" id="1641830">,</span>&nbsp;<span class="ident" id="1641832">exp</span><span class="op" id="1641835">,</span>&nbsp;<span class="ident" id="1641837">trunc</span>&nbsp;<span class="op" id="1641843">=</span>&nbsp;<span class="ident" id="1641845">mant0</span><span class="op" id="1641850">,</span>&nbsp;<span class="ident" id="1641852">exp0</span><span class="op" id="1641856">,</span>&nbsp;<span class="ident" id="1641858">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641867">for</span>&nbsp;<span class="ident" id="1641871">exp</span>&nbsp;<span class="op" id="1641875">&lt;</span>&nbsp;<span class="ident" id="1641877">bias32</span>&nbsp;<span class="op" id="1641884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641889">trunc</span>&nbsp;<span class="op" id="1641895">|=</span>&nbsp;<span class="ident" id="1641898">mant</span>&nbsp;<span class="op" id="1641903">&amp;</span>&nbsp;<span class="num" id="1641905">1</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641910">mant</span>&nbsp;<span class="op" id="1641915">&gt;&gt;=</span>&nbsp;<span class="num" id="1641919">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641924">exp</span><span class="op" id="1641927">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1641936">if</span>&nbsp;<span class="ident" id="1641939">mant</span><span class="op" id="1641943">&amp;</span><span class="num" id="1641944">1</span>&nbsp;<span class="op" id="1641946">!=</span>&nbsp;<span class="num" id="1641949">0</span>&nbsp;<span class="op" id="1641951">&amp;&amp;</span>&nbsp;<span class="op" id="1641954">(</span><span class="ident" id="1641955">trunc</span>&nbsp;<span class="op" id="1641961">!=</span>&nbsp;<span class="num" id="1641964">0</span>&nbsp;<span class="op" id="1641966">||</span>&nbsp;<span class="ident" id="1641969">mant</span><span class="op" id="1641973">&amp;</span><span class="num" id="1641974">2</span>&nbsp;<span class="op" id="1641976">!=</span>&nbsp;<span class="num" id="1641979">0</span><span class="op" id="1641980">)</span>&nbsp;<span class="op" id="1641982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641987">mant</span><span class="op" id="1641991">++</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1641996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642000">mant</span>&nbsp;<span class="op" id="1642005">&gt;&gt;=</span>&nbsp;<span class="num" id="1642009">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642013">exp</span><span class="op" id="1642016">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642021">if</span>&nbsp;<span class="ident" id="1642024">mant</span>&nbsp;<span class="op" id="1642029">&lt;</span>&nbsp;<span class="num" id="1642031">1</span><span class="op" id="1642032">&lt;&lt;</span><span class="ident" id="1642034">mantbits32</span>&nbsp;<span class="op" id="1642045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642050">return</span>&nbsp;<span class="ident" id="1642057">sign</span>&nbsp;<span class="op" id="1642062">|</span>&nbsp;<span class="ident" id="1642064">mant</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1642071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1642074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642077">return</span>&nbsp;<span class="ident" id="1642084">sign</span>&nbsp;<span class="op" id="1642089">|</span>&nbsp;<span class="builtintype" id="1642091">uint32</span><span class="op" id="1642097">(</span><span class="ident" id="1642098">exp</span><span class="op" id="1642101">-</span><span class="ident" id="1642102">bias32</span><span class="op" id="1642108">)</span><span class="op" id="1642109">&lt;&lt;</span><span class="ident" id="1642111">mantbits32</span>&nbsp;<span class="op" id="1642122">|</span>&nbsp;<span class="ident" id="1642124">mant</span><span class="op" id="1642128">&amp;</span><span class="op" id="1642129">(</span><span class="num" id="1642130">1</span><span class="op" id="1642131">&lt;&lt;</span><span class="ident" id="1642133">mantbits32</span><span class="op" id="1642143">-</span><span class="num" id="1642144">1</span><span class="op" id="1642145">)</span><br>
<span class="lineno"></span><span class="op" id="1642147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="1642150">func</span>&nbsp;<span class="ident" id="1642155">fadd64</span><span class="op" id="1642161">(</span><span class="ident" id="1642162">f</span><span class="op" id="1642163">,</span>&nbsp;<span class="ident" id="1642165">g</span>&nbsp;<span class="ident" id="1642167">uint64</span><span class="op" id="1642173">)</span>&nbsp;<span class="ident" id="1642175">uint64</span>&nbsp;<span class="op" id="1642182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642185">fs</span><span class="op" id="1642187">,</span>&nbsp;<span class="ident" id="1642189">fm</span><span class="op" id="1642191">,</span>&nbsp;<span class="ident" id="1642193">fe</span><span class="op" id="1642195">,</span>&nbsp;<span class="ident" id="1642197">fi</span><span class="op" id="1642199">,</span>&nbsp;<span class="ident" id="1642201">fn</span>&nbsp;<span class="op" id="1642204">:=</span>&nbsp;<span class="ident" id="1642207">funpack64</span><span class="op" id="1642216">(</span><span class="ident" id="1642217">f</span><span class="op" id="1642218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642221">gs</span><span class="op" id="1642223">,</span>&nbsp;<span class="ident" id="1642225">gm</span><span class="op" id="1642227">,</span>&nbsp;<span class="ident" id="1642229">ge</span><span class="op" id="1642231">,</span>&nbsp;<span class="ident" id="1642233">gi</span><span class="op" id="1642235">,</span>&nbsp;<span class="ident" id="1642237">gn</span>&nbsp;<span class="op" id="1642240">:=</span>&nbsp;<span class="ident" id="1642243">funpack64</span><span class="op" id="1642252">(</span><span class="ident" id="1642253">g</span><span class="op" id="1642254">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1642258">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642277">switch</span>&nbsp;<span class="op" id="1642284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642287">case</span>&nbsp;<span class="ident" id="1642292">fn</span>&nbsp;<span class="op" id="1642295">||</span>&nbsp;<span class="ident" id="1642298">gn</span><span class="op" id="1642300">:</span>&nbsp;<span class="comment" id="1642302">//&nbsp;NaN&nbsp;+&nbsp;x&nbsp;or&nbsp;x&nbsp;+&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642332">return</span>&nbsp;<span class="ident" id="1642339">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642347">case</span>&nbsp;<span class="ident" id="1642352">fi</span>&nbsp;<span class="op" id="1642355">&amp;&amp;</span>&nbsp;<span class="ident" id="1642358">gi</span>&nbsp;<span class="op" id="1642361">&amp;&amp;</span>&nbsp;<span class="ident" id="1642364">fs</span>&nbsp;<span class="op" id="1642367">!=</span>&nbsp;<span class="ident" id="1642370">gs</span><span class="op" id="1642372">:</span>&nbsp;<span class="comment" id="1642374">//&nbsp;+Inf&nbsp;+&nbsp;-Inf&nbsp;or&nbsp;-Inf&nbsp;+&nbsp;+Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642412">return</span>&nbsp;<span class="ident" id="1642419">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642427">case</span>&nbsp;<span class="ident" id="1642432">fi</span><span class="op" id="1642434">:</span>&nbsp;<span class="comment" id="1642436">//&nbsp;Inf&nbsp;+&nbsp;g&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642459">return</span>&nbsp;<span class="ident" id="1642466">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642470">case</span>&nbsp;<span class="ident" id="1642475">gi</span><span class="op" id="1642477">:</span>&nbsp;<span class="comment" id="1642479">//&nbsp;f&nbsp;+&nbsp;Inf&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642502">return</span>&nbsp;<span class="ident" id="1642509">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642513">case</span>&nbsp;<span class="ident" id="1642518">fm</span>&nbsp;<span class="op" id="1642521">==</span>&nbsp;<span class="num" id="1642524">0</span>&nbsp;<span class="op" id="1642526">&amp;&amp;</span>&nbsp;<span class="ident" id="1642529">gm</span>&nbsp;<span class="op" id="1642532">==</span>&nbsp;<span class="num" id="1642535">0</span>&nbsp;<span class="op" id="1642537">&amp;&amp;</span>&nbsp;<span class="ident" id="1642540">fs</span>&nbsp;<span class="op" id="1642543">!=</span>&nbsp;<span class="num" id="1642546">0</span>&nbsp;<span class="op" id="1642548">&amp;&amp;</span>&nbsp;<span class="ident" id="1642551">gs</span>&nbsp;<span class="op" id="1642554">!=</span>&nbsp;<span class="num" id="1642557">0</span><span class="op" id="1642558">:</span>&nbsp;<span class="comment" id="1642560">//&nbsp;-0&nbsp;+&nbsp;-0&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642578">return</span>&nbsp;<span class="ident" id="1642585">f</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642589">case</span>&nbsp;<span class="ident" id="1642594">fm</span>&nbsp;<span class="op" id="1642597">==</span>&nbsp;<span class="num" id="1642600">0</span><span class="op" id="1642601">:</span>&nbsp;<span class="comment" id="1642603">//&nbsp;0&nbsp;+&nbsp;g&nbsp;=&nbsp;g&nbsp;but&nbsp;0&nbsp;+&nbsp;-0&nbsp;=&nbsp;+0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642634">if</span>&nbsp;<span class="ident" id="1642637">gm</span>&nbsp;<span class="op" id="1642640">==</span>&nbsp;<span class="num" id="1642643">0</span>&nbsp;<span class="op" id="1642645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642650">g</span>&nbsp;<span class="op" id="1642652">^=</span>&nbsp;<span class="ident" id="1642655">gs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1642660">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642664">return</span>&nbsp;<span class="ident" id="1642671">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642675">case</span>&nbsp;<span class="ident" id="1642680">gm</span>&nbsp;<span class="op" id="1642683">==</span>&nbsp;<span class="num" id="1642686">0</span><span class="op" id="1642687">:</span>&nbsp;<span class="comment" id="1642689">//&nbsp;f&nbsp;+&nbsp;0&nbsp;=&nbsp;f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642704">return</span>&nbsp;<span class="ident" id="1642711">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1642715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642719">if</span>&nbsp;<span class="ident" id="1642722">fe</span>&nbsp;<span class="op" id="1642725">&lt;</span>&nbsp;<span class="ident" id="1642727">ge</span>&nbsp;<span class="op" id="1642730">||</span>&nbsp;<span class="ident" id="1642733">fe</span>&nbsp;<span class="op" id="1642736">==</span>&nbsp;<span class="ident" id="1642739">ge</span>&nbsp;<span class="op" id="1642742">&amp;&amp;</span>&nbsp;<span class="ident" id="1642745">fm</span>&nbsp;<span class="op" id="1642748">&lt;</span>&nbsp;<span class="ident" id="1642750">gm</span>&nbsp;<span class="op" id="1642753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642757">f</span><span class="op" id="1642758">,</span>&nbsp;<span class="ident" id="1642760">g</span><span class="op" id="1642761">,</span>&nbsp;<span class="ident" id="1642763">fs</span><span class="op" id="1642765">,</span>&nbsp;<span class="ident" id="1642767">fm</span><span class="op" id="1642769">,</span>&nbsp;<span class="ident" id="1642771">fe</span><span class="op" id="1642773">,</span>&nbsp;<span class="ident" id="1642775">gs</span><span class="op" id="1642777">,</span>&nbsp;<span class="ident" id="1642779">gm</span><span class="op" id="1642781">,</span>&nbsp;<span class="ident" id="1642783">ge</span>&nbsp;<span class="op" id="1642786">=</span>&nbsp;<span class="ident" id="1642788">g</span><span class="op" id="1642789">,</span>&nbsp;<span class="ident" id="1642791">f</span><span class="op" id="1642792">,</span>&nbsp;<span class="ident" id="1642794">gs</span><span class="op" id="1642796">,</span>&nbsp;<span class="ident" id="1642798">gm</span><span class="op" id="1642800">,</span>&nbsp;<span class="ident" id="1642802">ge</span><span class="op" id="1642804">,</span>&nbsp;<span class="ident" id="1642806">fs</span><span class="op" id="1642808">,</span>&nbsp;<span class="ident" id="1642810">fm</span><span class="op" id="1642812">,</span>&nbsp;<span class="ident" id="1642814">fe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1642818">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642822">shift</span>&nbsp;<span class="op" id="1642828">:=</span>&nbsp;<span class="builtintype" id="1642831">uint</span><span class="op" id="1642835">(</span><span class="ident" id="1642836">fe</span>&nbsp;<span class="op" id="1642839">-</span>&nbsp;<span class="ident" id="1642841">ge</span><span class="op" id="1642843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642846">fm</span>&nbsp;<span class="op" id="1642849">&lt;&lt;=</span>&nbsp;<span class="num" id="1642853">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642856">gm</span>&nbsp;<span class="op" id="1642859">&lt;&lt;=</span>&nbsp;<span class="num" id="1642863">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642866">trunc</span>&nbsp;<span class="op" id="1642872">:=</span>&nbsp;<span class="ident" id="1642875">gm</span>&nbsp;<span class="op" id="1642878">&amp;</span>&nbsp;<span class="op" id="1642880">(</span><span class="num" id="1642881">1</span><span class="op" id="1642882">&lt;&lt;</span><span class="ident" id="1642884">shift</span>&nbsp;<span class="op" id="1642890">-</span>&nbsp;<span class="num" id="1642892">1</span><span class="op" id="1642893">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642896">gm</span>&nbsp;<span class="op" id="1642899">&gt;&gt;=</span>&nbsp;<span class="ident" id="1642903">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642910">if</span>&nbsp;<span class="ident" id="1642913">fs</span>&nbsp;<span class="op" id="1642916">==</span>&nbsp;<span class="ident" id="1642919">gs</span>&nbsp;<span class="op" id="1642922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642926">fm</span>&nbsp;<span class="op" id="1642929">+=</span>&nbsp;<span class="ident" id="1642932">gm</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1642936">}</span>&nbsp;<span class="keyword" id="1642938">else</span>&nbsp;<span class="op" id="1642943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642947">fm</span>&nbsp;<span class="op" id="1642950">-=</span>&nbsp;<span class="ident" id="1642953">gm</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642958">if</span>&nbsp;<span class="ident" id="1642961">trunc</span>&nbsp;<span class="op" id="1642967">!=</span>&nbsp;<span class="num" id="1642970">0</span>&nbsp;<span class="op" id="1642972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642977">fm</span><span class="op" id="1642979">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1642984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1642987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1642990">if</span>&nbsp;<span class="ident" id="1642993">fm</span>&nbsp;<span class="op" id="1642996">==</span>&nbsp;<span class="num" id="1642999">0</span>&nbsp;<span class="op" id="1643001">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643005">fs</span>&nbsp;<span class="op" id="1643008">=</span>&nbsp;<span class="num" id="1643010">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1643013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643016">return</span>&nbsp;<span class="ident" id="1643023">fpack64</span><span class="op" id="1643030">(</span><span class="ident" id="1643031">fs</span><span class="op" id="1643033">,</span>&nbsp;<span class="ident" id="1643035">fm</span><span class="op" id="1643037">,</span>&nbsp;<span class="ident" id="1643039">fe</span><span class="op" id="1643041">-</span><span class="num" id="1643042">2</span><span class="op" id="1643043">,</span>&nbsp;<span class="ident" id="1643045">trunc</span><span class="op" id="1643050">)</span><br>
<span class="lineno"></span><span class="op" id="1643052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="1643055">func</span>&nbsp;<span class="ident" id="1643060">fsub64</span><span class="op" id="1643066">(</span><span class="ident" id="1643067">f</span><span class="op" id="1643068">,</span>&nbsp;<span class="ident" id="1643070">g</span>&nbsp;<span class="ident" id="1643072">uint64</span><span class="op" id="1643078">)</span>&nbsp;<span class="ident" id="1643080">uint64</span>&nbsp;<span class="op" id="1643087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643090">return</span>&nbsp;<span class="ident" id="1643097">fadd64</span><span class="op" id="1643103">(</span><span class="ident" id="1643104">f</span><span class="op" id="1643105">,</span>&nbsp;<span class="ident" id="1643107">fneg64</span><span class="op" id="1643113">(</span><span class="ident" id="1643114">g</span><span class="op" id="1643115">)</span><span class="op" id="1643116">)</span><br>
<span class="lineno"></span><span class="op" id="1643118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1643121">func</span>&nbsp;<span class="ident" id="1643126">fneg64</span><span class="op" id="1643132">(</span><span class="ident" id="1643133">f</span>&nbsp;<span class="ident" id="1643135">uint64</span><span class="op" id="1643141">)</span>&nbsp;<span class="ident" id="1643143">uint64</span>&nbsp;<span class="op" id="1643150">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643153">return</span>&nbsp;<span class="ident" id="1643160">f</span>&nbsp;<span class="op" id="1643162">^</span>&nbsp;<span class="op" id="1643164">(</span><span class="num" id="1643165">1</span>&nbsp;<span class="op" id="1643167">&lt;&lt;</span>&nbsp;<span class="op" id="1643170">(</span><span class="ident" id="1643171">mantbits64</span>&nbsp;<span class="op" id="1643182">+</span>&nbsp;<span class="ident" id="1643184">expbits64</span><span class="op" id="1643193">)</span><span class="op" id="1643194">)</span><br>
<span class="lineno"></span><span class="op" id="1643196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1643199">func</span>&nbsp;<span class="ident" id="1643204">fmul64</span><span class="op" id="1643210">(</span><span class="ident" id="1643211">f</span><span class="op" id="1643212">,</span>&nbsp;<span class="ident" id="1643214">g</span>&nbsp;<span class="ident" id="1643216">uint64</span><span class="op" id="1643222">)</span>&nbsp;<span class="ident" id="1643224">uint64</span>&nbsp;<span class="op" id="1643231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643234">fs</span><span class="op" id="1643236">,</span>&nbsp;<span class="ident" id="1643238">fm</span><span class="op" id="1643240">,</span>&nbsp;<span class="ident" id="1643242">fe</span><span class="op" id="1643244">,</span>&nbsp;<span class="ident" id="1643246">fi</span><span class="op" id="1643248">,</span>&nbsp;<span class="ident" id="1643250">fn</span>&nbsp;<span class="op" id="1643253">:=</span>&nbsp;<span class="ident" id="1643256">funpack64</span><span class="op" id="1643265">(</span><span class="ident" id="1643266">f</span><span class="op" id="1643267">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643270">gs</span><span class="op" id="1643272">,</span>&nbsp;<span class="ident" id="1643274">gm</span><span class="op" id="1643276">,</span>&nbsp;<span class="ident" id="1643278">ge</span><span class="op" id="1643280">,</span>&nbsp;<span class="ident" id="1643282">gi</span><span class="op" id="1643284">,</span>&nbsp;<span class="ident" id="1643286">gn</span>&nbsp;<span class="op" id="1643289">:=</span>&nbsp;<span class="ident" id="1643292">funpack64</span><span class="op" id="1643301">(</span><span class="ident" id="1643302">g</span><span class="op" id="1643303">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1643307">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643326">switch</span>&nbsp;<span class="op" id="1643333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643336">case</span>&nbsp;<span class="ident" id="1643341">fn</span>&nbsp;<span class="op" id="1643344">||</span>&nbsp;<span class="ident" id="1643347">gn</span><span class="op" id="1643349">:</span>&nbsp;<span class="comment" id="1643351">//&nbsp;NaN&nbsp;*&nbsp;g&nbsp;or&nbsp;f&nbsp;*&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643381">return</span>&nbsp;<span class="ident" id="1643388">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643396">case</span>&nbsp;<span class="ident" id="1643401">fi</span>&nbsp;<span class="op" id="1643404">&amp;&amp;</span>&nbsp;<span class="ident" id="1643407">gi</span><span class="op" id="1643409">:</span>&nbsp;<span class="comment" id="1643411">//&nbsp;Inf&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643453">return</span>&nbsp;<span class="ident" id="1643460">f</span>&nbsp;<span class="op" id="1643462">^</span>&nbsp;<span class="ident" id="1643464">gs</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643469">case</span>&nbsp;<span class="ident" id="1643474">fi</span>&nbsp;<span class="op" id="1643477">&amp;&amp;</span>&nbsp;<span class="ident" id="1643480">gm</span>&nbsp;<span class="op" id="1643483">==</span>&nbsp;<span class="num" id="1643486">0</span><span class="op" id="1643487">,</span>&nbsp;<span class="ident" id="1643489">fm</span>&nbsp;<span class="op" id="1643492">==</span>&nbsp;<span class="num" id="1643495">0</span>&nbsp;<span class="op" id="1643497">&amp;&amp;</span>&nbsp;<span class="ident" id="1643500">gi</span><span class="op" id="1643502">:</span>&nbsp;<span class="comment" id="1643504">//&nbsp;0&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;*&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643533">return</span>&nbsp;<span class="ident" id="1643540">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643548">case</span>&nbsp;<span class="ident" id="1643553">fm</span>&nbsp;<span class="op" id="1643556">==</span>&nbsp;<span class="num" id="1643559">0</span><span class="op" id="1643560">:</span>&nbsp;<span class="comment" id="1643562">//&nbsp;0&nbsp;*&nbsp;x&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643598">return</span>&nbsp;<span class="ident" id="1643605">f</span>&nbsp;<span class="op" id="1643607">^</span>&nbsp;<span class="ident" id="1643609">gs</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643614">case</span>&nbsp;<span class="ident" id="1643619">gm</span>&nbsp;<span class="op" id="1643622">==</span>&nbsp;<span class="num" id="1643625">0</span><span class="op" id="1643626">:</span>&nbsp;<span class="comment" id="1643628">//&nbsp;x&nbsp;*&nbsp;0&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643664">return</span>&nbsp;<span class="ident" id="1643671">g</span>&nbsp;<span class="op" id="1643673">^</span>&nbsp;<span class="ident" id="1643675">fs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1643679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1643683">//&nbsp;53-bit&nbsp;*&nbsp;53-bit&nbsp;=&nbsp;107-&nbsp;or&nbsp;108-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643721">lo</span><span class="op" id="1643723">,</span>&nbsp;<span class="ident" id="1643725">hi</span>&nbsp;<span class="op" id="1643728">:=</span>&nbsp;<span class="ident" id="1643731">mullu</span><span class="op" id="1643736">(</span><span class="ident" id="1643737">fm</span><span class="op" id="1643739">,</span>&nbsp;<span class="ident" id="1643741">gm</span><span class="op" id="1643743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643746">shift</span>&nbsp;<span class="op" id="1643752">:=</span>&nbsp;<span class="ident" id="1643755">mantbits64</span>&nbsp;<span class="op" id="1643766">-</span>&nbsp;<span class="num" id="1643768">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643771">trunc</span>&nbsp;<span class="op" id="1643777">:=</span>&nbsp;<span class="ident" id="1643780">lo</span>&nbsp;<span class="op" id="1643783">&amp;</span>&nbsp;<span class="op" id="1643785">(</span><span class="num" id="1643786">1</span><span class="op" id="1643787">&lt;&lt;</span><span class="ident" id="1643789">shift</span>&nbsp;<span class="op" id="1643795">-</span>&nbsp;<span class="num" id="1643797">1</span><span class="op" id="1643798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643801">mant</span>&nbsp;<span class="op" id="1643806">:=</span>&nbsp;<span class="ident" id="1643809">hi</span><span class="op" id="1643811">&lt;&lt;</span><span class="op" id="1643813">(</span><span class="num" id="1643814">64</span><span class="op" id="1643816">-</span><span class="ident" id="1643817">shift</span><span class="op" id="1643822">)</span>&nbsp;<span class="op" id="1643824">|</span>&nbsp;<span class="ident" id="1643826">lo</span><span class="op" id="1643828">&gt;&gt;</span><span class="ident" id="1643830">shift</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643837">return</span>&nbsp;<span class="ident" id="1643844">fpack64</span><span class="op" id="1643851">(</span><span class="ident" id="1643852">fs</span><span class="op" id="1643854">^</span><span class="ident" id="1643855">gs</span><span class="op" id="1643857">,</span>&nbsp;<span class="ident" id="1643859">mant</span><span class="op" id="1643863">,</span>&nbsp;<span class="ident" id="1643865">fe</span><span class="op" id="1643867">+</span><span class="ident" id="1643868">ge</span><span class="op" id="1643870">-</span><span class="num" id="1643871">1</span><span class="op" id="1643872">,</span>&nbsp;<span class="ident" id="1643874">trunc</span><span class="op" id="1643879">)</span><br>
<span class="lineno"></span><span class="op" id="1643881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1643884">func</span>&nbsp;<span class="ident" id="1643889">fdiv64</span><span class="op" id="1643895">(</span><span class="ident" id="1643896">f</span><span class="op" id="1643897">,</span>&nbsp;<span class="ident" id="1643899">g</span>&nbsp;<span class="ident" id="1643901">uint64</span><span class="op" id="1643907">)</span>&nbsp;<span class="ident" id="1643909">uint64</span>&nbsp;<span class="op" id="1643916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643919">fs</span><span class="op" id="1643921">,</span>&nbsp;<span class="ident" id="1643923">fm</span><span class="op" id="1643925">,</span>&nbsp;<span class="ident" id="1643927">fe</span><span class="op" id="1643929">,</span>&nbsp;<span class="ident" id="1643931">fi</span><span class="op" id="1643933">,</span>&nbsp;<span class="ident" id="1643935">fn</span>&nbsp;<span class="op" id="1643938">:=</span>&nbsp;<span class="ident" id="1643941">funpack64</span><span class="op" id="1643950">(</span><span class="ident" id="1643951">f</span><span class="op" id="1643952">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643955">gs</span><span class="op" id="1643957">,</span>&nbsp;<span class="ident" id="1643959">gm</span><span class="op" id="1643961">,</span>&nbsp;<span class="ident" id="1643963">ge</span><span class="op" id="1643965">,</span>&nbsp;<span class="ident" id="1643967">gi</span><span class="op" id="1643969">,</span>&nbsp;<span class="ident" id="1643971">gn</span>&nbsp;<span class="op" id="1643974">:=</span>&nbsp;<span class="ident" id="1643977">funpack64</span><span class="op" id="1643986">(</span><span class="ident" id="1643987">g</span><span class="op" id="1643988">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1643992">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644011">switch</span>&nbsp;<span class="op" id="1644018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644021">case</span>&nbsp;<span class="ident" id="1644026">fn</span>&nbsp;<span class="op" id="1644029">||</span>&nbsp;<span class="ident" id="1644032">gn</span><span class="op" id="1644034">:</span>&nbsp;<span class="comment" id="1644036">//&nbsp;NaN&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644065">return</span>&nbsp;<span class="ident" id="1644072">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644080">case</span>&nbsp;<span class="ident" id="1644085">fi</span>&nbsp;<span class="op" id="1644088">&amp;&amp;</span>&nbsp;<span class="ident" id="1644091">gi</span><span class="op" id="1644093">:</span>&nbsp;<span class="comment" id="1644095">//&nbsp;Inf&nbsp;/&nbsp;Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644120">return</span>&nbsp;<span class="ident" id="1644127">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644135">case</span>&nbsp;<span class="op" id="1644140">!</span><span class="ident" id="1644141">fi</span>&nbsp;<span class="op" id="1644144">&amp;&amp;</span>&nbsp;<span class="op" id="1644147">!</span><span class="ident" id="1644148">gi</span>&nbsp;<span class="op" id="1644151">&amp;&amp;</span>&nbsp;<span class="ident" id="1644154">fm</span>&nbsp;<span class="op" id="1644157">==</span>&nbsp;<span class="num" id="1644160">0</span>&nbsp;<span class="op" id="1644162">&amp;&amp;</span>&nbsp;<span class="ident" id="1644165">gm</span>&nbsp;<span class="op" id="1644168">==</span>&nbsp;<span class="num" id="1644171">0</span><span class="op" id="1644172">:</span>&nbsp;<span class="comment" id="1644174">//&nbsp;0&nbsp;/&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644191">return</span>&nbsp;<span class="ident" id="1644198">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644206">case</span>&nbsp;<span class="ident" id="1644211">fi</span><span class="op" id="1644213">,</span>&nbsp;<span class="op" id="1644215">!</span><span class="ident" id="1644216">gi</span>&nbsp;<span class="op" id="1644219">&amp;&amp;</span>&nbsp;<span class="ident" id="1644222">gm</span>&nbsp;<span class="op" id="1644225">==</span>&nbsp;<span class="num" id="1644228">0</span><span class="op" id="1644229">:</span>&nbsp;<span class="comment" id="1644231">//&nbsp;Inf&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;0&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644258">return</span>&nbsp;<span class="ident" id="1644265">fs</span>&nbsp;<span class="op" id="1644268">^</span>&nbsp;<span class="ident" id="1644270">gs</span>&nbsp;<span class="op" id="1644273">^</span>&nbsp;<span class="ident" id="1644275">inf64</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644283">case</span>&nbsp;<span class="ident" id="1644288">gi</span><span class="op" id="1644290">,</span>&nbsp;<span class="ident" id="1644292">fm</span>&nbsp;<span class="op" id="1644295">==</span>&nbsp;<span class="num" id="1644298">0</span><span class="op" id="1644299">:</span>&nbsp;<span class="comment" id="1644301">//&nbsp;f&nbsp;/&nbsp;Inf&nbsp;=&nbsp;0&nbsp;/&nbsp;g&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644328">return</span>&nbsp;<span class="ident" id="1644335">fs</span>&nbsp;<span class="op" id="1644338">^</span>&nbsp;<span class="ident" id="1644340">gs</span>&nbsp;<span class="op" id="1644343">^</span>&nbsp;<span class="num" id="1644345">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1644348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644351">_</span><span class="op" id="1644352">,</span>&nbsp;<span class="ident" id="1644354">_</span><span class="op" id="1644355">,</span>&nbsp;<span class="ident" id="1644357">_</span><span class="op" id="1644358">,</span>&nbsp;<span class="ident" id="1644360">_</span>&nbsp;<span class="op" id="1644362">=</span>&nbsp;<span class="ident" id="1644364">fi</span><span class="op" id="1644366">,</span>&nbsp;<span class="ident" id="1644368">fn</span><span class="op" id="1644370">,</span>&nbsp;<span class="ident" id="1644372">gi</span><span class="op" id="1644374">,</span>&nbsp;<span class="ident" id="1644376">gn</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1644381">//&nbsp;53-bit&lt;&lt;54&nbsp;/&nbsp;53-bit&nbsp;=&nbsp;53-&nbsp;or&nbsp;54-bit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644422">shift</span>&nbsp;<span class="op" id="1644428">:=</span>&nbsp;<span class="ident" id="1644431">mantbits64</span>&nbsp;<span class="op" id="1644442">+</span>&nbsp;<span class="num" id="1644444">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644447">q</span><span class="op" id="1644448">,</span>&nbsp;<span class="ident" id="1644450">r</span>&nbsp;<span class="op" id="1644452">:=</span>&nbsp;<span class="ident" id="1644455">divlu</span><span class="op" id="1644460">(</span><span class="ident" id="1644461">fm</span><span class="op" id="1644463">&gt;&gt;</span><span class="op" id="1644465">(</span><span class="num" id="1644466">64</span><span class="op" id="1644468">-</span><span class="ident" id="1644469">shift</span><span class="op" id="1644474">)</span><span class="op" id="1644475">,</span>&nbsp;<span class="ident" id="1644477">fm</span><span class="op" id="1644479">&lt;&lt;</span><span class="ident" id="1644481">shift</span><span class="op" id="1644486">,</span>&nbsp;<span class="ident" id="1644488">gm</span><span class="op" id="1644490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644493">return</span>&nbsp;<span class="ident" id="1644500">fpack64</span><span class="op" id="1644507">(</span><span class="ident" id="1644508">fs</span><span class="op" id="1644510">^</span><span class="ident" id="1644511">gs</span><span class="op" id="1644513">,</span>&nbsp;<span class="ident" id="1644515">q</span><span class="op" id="1644516">,</span>&nbsp;<span class="ident" id="1644518">fe</span><span class="op" id="1644520">-</span><span class="ident" id="1644521">ge</span><span class="op" id="1644523">-</span><span class="num" id="1644524">2</span><span class="op" id="1644525">,</span>&nbsp;<span class="ident" id="1644527">r</span><span class="op" id="1644528">)</span><br>
<span class="lineno">315</span><span class="op" id="1644530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1644533">func</span>&nbsp;<span class="ident" id="1644538">f64to32</span><span class="op" id="1644545">(</span><span class="ident" id="1644546">f</span>&nbsp;<span class="ident" id="1644548">uint64</span><span class="op" id="1644554">)</span>&nbsp;<span class="builtintype" id="1644556">uint32</span>&nbsp;<span class="op" id="1644563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644566">fs</span><span class="op" id="1644568">,</span>&nbsp;<span class="ident" id="1644570">fm</span><span class="op" id="1644572">,</span>&nbsp;<span class="ident" id="1644574">fe</span><span class="op" id="1644576">,</span>&nbsp;<span class="ident" id="1644578">fi</span><span class="op" id="1644580">,</span>&nbsp;<span class="ident" id="1644582">fn</span>&nbsp;<span class="op" id="1644585">:=</span>&nbsp;<span class="ident" id="1644588">funpack64</span><span class="op" id="1644597">(</span><span class="ident" id="1644598">f</span><span class="op" id="1644599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644602">if</span>&nbsp;<span class="ident" id="1644605">fn</span>&nbsp;<span class="op" id="1644608">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644612">return</span>&nbsp;<span class="ident" id="1644619">nan32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1644626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644629">fs32</span>&nbsp;<span class="op" id="1644634">:=</span>&nbsp;<span class="builtintype" id="1644637">uint32</span><span class="op" id="1644643">(</span><span class="ident" id="1644644">fs</span>&nbsp;<span class="op" id="1644647">&gt;&gt;</span>&nbsp;<span class="num" id="1644650">32</span><span class="op" id="1644652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644655">if</span>&nbsp;<span class="ident" id="1644658">fi</span>&nbsp;<span class="op" id="1644661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644665">return</span>&nbsp;<span class="ident" id="1644672">fs32</span>&nbsp;<span class="op" id="1644677">^</span>&nbsp;<span class="ident" id="1644679">inf32</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1644686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644689">const</span>&nbsp;<span class="ident" id="1644695">d</span>&nbsp;<span class="op" id="1644697">=</span>&nbsp;<span class="ident" id="1644699">mantbits64</span>&nbsp;<span class="op" id="1644710">-</span>&nbsp;<span class="ident" id="1644712">mantbits32</span>&nbsp;<span class="op" id="1644723">-</span>&nbsp;<span class="num" id="1644725">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644728">return</span>&nbsp;<span class="ident" id="1644735">fpack32</span><span class="op" id="1644742">(</span><span class="ident" id="1644743">fs32</span><span class="op" id="1644747">,</span>&nbsp;<span class="builtintype" id="1644749">uint32</span><span class="op" id="1644755">(</span><span class="ident" id="1644756">fm</span><span class="op" id="1644758">&gt;&gt;</span><span class="ident" id="1644760">d</span><span class="op" id="1644761">)</span><span class="op" id="1644762">,</span>&nbsp;<span class="ident" id="1644764">fe</span><span class="op" id="1644766">-</span><span class="num" id="1644767">1</span><span class="op" id="1644768">,</span>&nbsp;<span class="builtintype" id="1644770">uint32</span><span class="op" id="1644776">(</span><span class="ident" id="1644777">fm</span><span class="op" id="1644779">&amp;</span><span class="op" id="1644780">(</span><span class="num" id="1644781">1</span><span class="op" id="1644782">&lt;&lt;</span><span class="ident" id="1644784">d</span><span class="op" id="1644785">-</span><span class="num" id="1644786">1</span><span class="op" id="1644787">)</span><span class="op" id="1644788">)</span><span class="op" id="1644789">)</span><br>
<span class="lineno"></span><span class="op" id="1644791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span><span class="keyword" id="1644794">func</span>&nbsp;<span class="ident" id="1644799">f32to64</span><span class="op" id="1644806">(</span><span class="ident" id="1644807">f</span>&nbsp;<span class="builtintype" id="1644809">uint32</span><span class="op" id="1644815">)</span>&nbsp;<span class="ident" id="1644817">uint64</span>&nbsp;<span class="op" id="1644824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644827">const</span>&nbsp;<span class="ident" id="1644833">d</span>&nbsp;<span class="op" id="1644835">=</span>&nbsp;<span class="ident" id="1644837">mantbits64</span>&nbsp;<span class="op" id="1644848">-</span>&nbsp;<span class="ident" id="1644850">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644862">fs</span><span class="op" id="1644864">,</span>&nbsp;<span class="ident" id="1644866">fm</span><span class="op" id="1644868">,</span>&nbsp;<span class="ident" id="1644870">fe</span><span class="op" id="1644872">,</span>&nbsp;<span class="ident" id="1644874">fi</span><span class="op" id="1644876">,</span>&nbsp;<span class="ident" id="1644878">fn</span>&nbsp;<span class="op" id="1644881">:=</span>&nbsp;<span class="ident" id="1644884">funpack32</span><span class="op" id="1644893">(</span><span class="ident" id="1644894">f</span><span class="op" id="1644895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644898">if</span>&nbsp;<span class="ident" id="1644901">fn</span>&nbsp;<span class="op" id="1644904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644908">return</span>&nbsp;<span class="ident" id="1644915">nan64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1644922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644925">fs64</span>&nbsp;<span class="op" id="1644930">:=</span>&nbsp;<span class="ident" id="1644933">uint64</span><span class="op" id="1644939">(</span><span class="ident" id="1644940">fs</span><span class="op" id="1644942">)</span>&nbsp;<span class="op" id="1644944">&lt;&lt;</span>&nbsp;<span class="num" id="1644947">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644951">if</span>&nbsp;<span class="ident" id="1644954">fi</span>&nbsp;<span class="op" id="1644957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644961">return</span>&nbsp;<span class="ident" id="1644968">fs64</span>&nbsp;<span class="op" id="1644973">^</span>&nbsp;<span class="ident" id="1644975">inf64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1644982">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644985">return</span>&nbsp;<span class="ident" id="1644992">fpack64</span><span class="op" id="1644999">(</span><span class="ident" id="1645000">fs64</span><span class="op" id="1645004">,</span>&nbsp;<span class="ident" id="1645006">uint64</span><span class="op" id="1645012">(</span><span class="ident" id="1645013">fm</span><span class="op" id="1645015">)</span><span class="op" id="1645016">&lt;&lt;</span><span class="ident" id="1645018">d</span><span class="op" id="1645019">,</span>&nbsp;<span class="ident" id="1645021">fe</span><span class="op" id="1645023">,</span>&nbsp;<span class="num" id="1645025">0</span><span class="op" id="1645026">)</span><br>
<span class="lineno"></span><span class="op" id="1645028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1645031">func</span>&nbsp;<span class="ident" id="1645036">fcmp64</span><span class="op" id="1645042">(</span><span class="ident" id="1645043">f</span><span class="op" id="1645044">,</span>&nbsp;<span class="ident" id="1645046">g</span>&nbsp;<span class="ident" id="1645048">uint64</span><span class="op" id="1645054">)</span>&nbsp;<span class="op" id="1645056">(</span><span class="ident" id="1645057">cmp</span>&nbsp;<span class="builtintype" id="1645061">int</span><span class="op" id="1645064">,</span>&nbsp;<span class="ident" id="1645066">isnan</span>&nbsp;<span class="builtintype" id="1645072">bool</span><span class="op" id="1645076">)</span>&nbsp;<span class="op" id="1645078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1645081">fs</span><span class="op" id="1645083">,</span>&nbsp;<span class="ident" id="1645085">fm</span><span class="op" id="1645087">,</span>&nbsp;<span class="ident" id="1645089">_</span><span class="op" id="1645090">,</span>&nbsp;<span class="ident" id="1645092">fi</span><span class="op" id="1645094">,</span>&nbsp;<span class="ident" id="1645096">fn</span>&nbsp;<span class="op" id="1645099">:=</span>&nbsp;<span class="ident" id="1645102">funpack64</span><span class="op" id="1645111">(</span><span class="ident" id="1645112">f</span><span class="op" id="1645113">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1645116">gs</span><span class="op" id="1645118">,</span>&nbsp;<span class="ident" id="1645120">gm</span><span class="op" id="1645122">,</span>&nbsp;<span class="ident" id="1645124">_</span><span class="op" id="1645125">,</span>&nbsp;<span class="ident" id="1645127">gi</span><span class="op" id="1645129">,</span>&nbsp;<span class="ident" id="1645131">gn</span>&nbsp;<span class="op" id="1645134">:=</span>&nbsp;<span class="ident" id="1645137">funpack64</span><span class="op" id="1645146">(</span><span class="ident" id="1645147">g</span><span class="op" id="1645148">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645152">switch</span>&nbsp;<span class="op" id="1645159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645162">case</span>&nbsp;<span class="ident" id="1645167">fn</span><span class="op" id="1645169">,</span>&nbsp;<span class="ident" id="1645171">gn</span><span class="op" id="1645173">:</span>&nbsp;<span class="comment" id="1645175">//&nbsp;flag&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645189">return</span>&nbsp;<span class="num" id="1645196">0</span><span class="op" id="1645197">,</span>&nbsp;<span class="builtintype" id="1645199">true</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645206">case</span>&nbsp;<span class="op" id="1645211">!</span><span class="ident" id="1645212">fi</span>&nbsp;<span class="op" id="1645215">&amp;&amp;</span>&nbsp;<span class="op" id="1645218">!</span><span class="ident" id="1645219">gi</span>&nbsp;<span class="op" id="1645222">&amp;&amp;</span>&nbsp;<span class="ident" id="1645225">fm</span>&nbsp;<span class="op" id="1645228">==</span>&nbsp;<span class="num" id="1645231">0</span>&nbsp;<span class="op" id="1645233">&amp;&amp;</span>&nbsp;<span class="ident" id="1645236">gm</span>&nbsp;<span class="op" id="1645239">==</span>&nbsp;<span class="num" id="1645242">0</span><span class="op" id="1645243">:</span>&nbsp;<span class="comment" id="1645245">//&nbsp;0&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645261">return</span>&nbsp;<span class="num" id="1645268">0</span><span class="op" id="1645269">,</span>&nbsp;<span class="builtintype" id="1645271">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645279">case</span>&nbsp;<span class="ident" id="1645284">fs</span>&nbsp;<span class="op" id="1645287">&gt;</span>&nbsp;<span class="ident" id="1645289">gs</span><span class="op" id="1645291">:</span>&nbsp;<span class="comment" id="1645293">//&nbsp;f&nbsp;&lt;&nbsp;0,&nbsp;g&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645311">return</span>&nbsp;<span class="op" id="1645318">-</span><span class="num" id="1645319">1</span><span class="op" id="1645320">,</span>&nbsp;<span class="builtintype" id="1645322">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645330">case</span>&nbsp;<span class="ident" id="1645335">fs</span>&nbsp;<span class="op" id="1645338">&lt;</span>&nbsp;<span class="ident" id="1645340">gs</span><span class="op" id="1645342">:</span>&nbsp;<span class="comment" id="1645344">//&nbsp;f&nbsp;&gt;&nbsp;0,&nbsp;g&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645362">return</span>&nbsp;<span class="op" id="1645369">+</span><span class="num" id="1645370">1</span><span class="op" id="1645371">,</span>&nbsp;<span class="builtintype" id="1645373">false</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1645381">//&nbsp;Same&nbsp;sign,&nbsp;not&nbsp;NaN.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1645405">//&nbsp;Can&nbsp;compare&nbsp;encodings&nbsp;directly&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1645445">//&nbsp;Reverse&nbsp;for&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645467">case</span>&nbsp;<span class="ident" id="1645472">fs</span>&nbsp;<span class="op" id="1645475">==</span>&nbsp;<span class="num" id="1645478">0</span>&nbsp;<span class="op" id="1645480">&amp;&amp;</span>&nbsp;<span class="ident" id="1645483">f</span>&nbsp;<span class="op" id="1645485">&lt;</span>&nbsp;<span class="ident" id="1645487">g</span><span class="op" id="1645488">,</span>&nbsp;<span class="ident" id="1645490">fs</span>&nbsp;<span class="op" id="1645493">!=</span>&nbsp;<span class="num" id="1645496">0</span>&nbsp;<span class="op" id="1645498">&amp;&amp;</span>&nbsp;<span class="ident" id="1645501">f</span>&nbsp;<span class="op" id="1645503">&gt;</span>&nbsp;<span class="ident" id="1645505">g</span><span class="op" id="1645506">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645510">return</span>&nbsp;<span class="op" id="1645517">-</span><span class="num" id="1645518">1</span><span class="op" id="1645519">,</span>&nbsp;<span class="builtintype" id="1645521">false</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645529">case</span>&nbsp;<span class="ident" id="1645534">fs</span>&nbsp;<span class="op" id="1645537">==</span>&nbsp;<span class="num" id="1645540">0</span>&nbsp;<span class="op" id="1645542">&amp;&amp;</span>&nbsp;<span class="ident" id="1645545">f</span>&nbsp;<span class="op" id="1645547">&gt;</span>&nbsp;<span class="ident" id="1645549">g</span><span class="op" id="1645550">,</span>&nbsp;<span class="ident" id="1645552">fs</span>&nbsp;<span class="op" id="1645555">!=</span>&nbsp;<span class="num" id="1645558">0</span>&nbsp;<span class="op" id="1645560">&amp;&amp;</span>&nbsp;<span class="ident" id="1645563">f</span>&nbsp;<span class="op" id="1645565">&lt;</span>&nbsp;<span class="ident" id="1645567">g</span><span class="op" id="1645568">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645572">return</span>&nbsp;<span class="op" id="1645579">+</span><span class="num" id="1645580">1</span><span class="op" id="1645581">,</span>&nbsp;<span class="builtintype" id="1645583">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1645594">//&nbsp;f&nbsp;==&nbsp;g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645605">return</span>&nbsp;<span class="num" id="1645612">0</span><span class="op" id="1645613">,</span>&nbsp;<span class="builtintype" id="1645615">false</span><br>
<span class="lineno"></span><span class="op" id="1645621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1645624">func</span>&nbsp;<span class="ident" id="1645629">f64toint</span><span class="op" id="1645637">(</span><span class="ident" id="1645638">f</span>&nbsp;<span class="ident" id="1645640">uint64</span><span class="op" id="1645646">)</span>&nbsp;<span class="op" id="1645648">(</span><span class="ident" id="1645649">val</span>&nbsp;<span class="ident" id="1645653">int64</span><span class="op" id="1645658">,</span>&nbsp;<span class="ident" id="1645660">ok</span>&nbsp;<span class="builtintype" id="1645663">bool</span><span class="op" id="1645667">)</span>&nbsp;<span class="op" id="1645669">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1645672">fs</span><span class="op" id="1645674">,</span>&nbsp;<span class="ident" id="1645676">fm</span><span class="op" id="1645678">,</span>&nbsp;<span class="ident" id="1645680">fe</span><span class="op" id="1645682">,</span>&nbsp;<span class="ident" id="1645684">fi</span><span class="op" id="1645686">,</span>&nbsp;<span class="ident" id="1645688">fn</span>&nbsp;<span class="op" id="1645691">:=</span>&nbsp;<span class="ident" id="1645694">funpack64</span><span class="op" id="1645703">(</span><span class="ident" id="1645704">f</span><span class="op" id="1645705">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645709">switch</span>&nbsp;<span class="op" id="1645716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645719">case</span>&nbsp;<span class="ident" id="1645724">fi</span><span class="op" id="1645726">,</span>&nbsp;<span class="ident" id="1645728">fn</span><span class="op" id="1645730">:</span>&nbsp;<span class="comment" id="1645732">//&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645741">return</span>&nbsp;<span class="num" id="1645748">0</span><span class="op" id="1645749">,</span>&nbsp;<span class="builtintype" id="1645751">false</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645759">case</span>&nbsp;<span class="ident" id="1645764">fe</span>&nbsp;<span class="op" id="1645767">&lt;</span>&nbsp;<span class="op" id="1645769">-</span><span class="num" id="1645770">1</span><span class="op" id="1645771">:</span>&nbsp;<span class="comment" id="1645773">//&nbsp;f&nbsp;&lt;&nbsp;0.5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645786">return</span>&nbsp;<span class="num" id="1645793">0</span><span class="op" id="1645794">,</span>&nbsp;<span class="builtintype" id="1645796">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645804">case</span>&nbsp;<span class="ident" id="1645809">fe</span>&nbsp;<span class="op" id="1645812">&gt;</span>&nbsp;<span class="num" id="1645814">63</span><span class="op" id="1645816">:</span>&nbsp;<span class="comment" id="1645818">//&nbsp;f&nbsp;&gt;=&nbsp;2^63</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645833">if</span>&nbsp;<span class="ident" id="1645836">fs</span>&nbsp;<span class="op" id="1645839">!=</span>&nbsp;<span class="num" id="1645842">0</span>&nbsp;<span class="op" id="1645844">&amp;&amp;</span>&nbsp;<span class="ident" id="1645847">fm</span>&nbsp;<span class="op" id="1645850">==</span>&nbsp;<span class="num" id="1645853">0</span>&nbsp;<span class="op" id="1645855">{</span>&nbsp;<span class="comment" id="1645857">//&nbsp;f&nbsp;==&nbsp;-2^63</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645874">return</span>&nbsp;<span class="op" id="1645881">-</span><span class="num" id="1645882">1</span>&nbsp;<span class="op" id="1645884">&lt;&lt;</span>&nbsp;<span class="num" id="1645887">63</span><span class="op" id="1645889">,</span>&nbsp;<span class="builtintype" id="1645891">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645902">if</span>&nbsp;<span class="ident" id="1645905">fs</span>&nbsp;<span class="op" id="1645908">!=</span>&nbsp;<span class="num" id="1645911">0</span>&nbsp;<span class="op" id="1645913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645918">return</span>&nbsp;<span class="num" id="1645925">0</span><span class="op" id="1645926">,</span>&nbsp;<span class="builtintype" id="1645928">false</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645940">return</span>&nbsp;<span class="num" id="1645947">0</span><span class="op" id="1645948">,</span>&nbsp;<span class="builtintype" id="1645950">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645961">for</span>&nbsp;<span class="ident" id="1645965">fe</span>&nbsp;<span class="op" id="1645968">&gt;</span>&nbsp;<span class="builtintype" id="1645970">int</span><span class="op" id="1645973">(</span><span class="ident" id="1645974">mantbits64</span><span class="op" id="1645984">)</span>&nbsp;<span class="op" id="1645986">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1645990">fe</span><span class="op" id="1645992">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1645997">fm</span>&nbsp;<span class="op" id="1646000">&lt;&lt;=</span>&nbsp;<span class="num" id="1646004">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1646007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646010">for</span>&nbsp;<span class="ident" id="1646014">fe</span>&nbsp;<span class="op" id="1646017">&lt;</span>&nbsp;<span class="builtintype" id="1646019">int</span><span class="op" id="1646022">(</span><span class="ident" id="1646023">mantbits64</span><span class="op" id="1646033">)</span>&nbsp;<span class="op" id="1646035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646039">fe</span><span class="op" id="1646041">++</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646046">fm</span>&nbsp;<span class="op" id="1646049">&gt;&gt;=</span>&nbsp;<span class="num" id="1646053">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1646056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646059">val</span>&nbsp;<span class="op" id="1646063">=</span>&nbsp;<span class="ident" id="1646065">int64</span><span class="op" id="1646070">(</span><span class="ident" id="1646071">fm</span><span class="op" id="1646073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646076">if</span>&nbsp;<span class="ident" id="1646079">fs</span>&nbsp;<span class="op" id="1646082">!=</span>&nbsp;<span class="num" id="1646085">0</span>&nbsp;<span class="op" id="1646087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646091">val</span>&nbsp;<span class="op" id="1646095">=</span>&nbsp;<span class="op" id="1646097">-</span><span class="ident" id="1646098">val</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1646103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646106">return</span>&nbsp;<span class="ident" id="1646113">val</span><span class="op" id="1646116">,</span>&nbsp;<span class="builtintype" id="1646118">true</span><br>
<span class="lineno"></span><span class="op" id="1646123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1646126">func</span>&nbsp;<span class="ident" id="1646131">fintto64</span><span class="op" id="1646139">(</span><span class="ident" id="1646140">val</span>&nbsp;<span class="ident" id="1646144">int64</span><span class="op" id="1646149">)</span>&nbsp;<span class="op" id="1646151">(</span><span class="ident" id="1646152">f</span>&nbsp;<span class="ident" id="1646154">uint64</span><span class="op" id="1646160">)</span>&nbsp;<span class="op" id="1646162">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646165">fs</span>&nbsp;<span class="op" id="1646168">:=</span>&nbsp;<span class="ident" id="1646171">uint64</span><span class="op" id="1646177">(</span><span class="ident" id="1646178">val</span><span class="op" id="1646181">)</span>&nbsp;<span class="op" id="1646183">&amp;</span>&nbsp;<span class="op" id="1646185">(</span><span class="num" id="1646186">1</span>&nbsp;<span class="op" id="1646188">&lt;&lt;</span>&nbsp;<span class="num" id="1646191">63</span><span class="op" id="1646193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646196">mant</span>&nbsp;<span class="op" id="1646201">:=</span>&nbsp;<span class="ident" id="1646204">uint64</span><span class="op" id="1646210">(</span><span class="ident" id="1646211">val</span><span class="op" id="1646214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646217">if</span>&nbsp;<span class="ident" id="1646220">fs</span>&nbsp;<span class="op" id="1646223">!=</span>&nbsp;<span class="num" id="1646226">0</span>&nbsp;<span class="op" id="1646228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646232">mant</span>&nbsp;<span class="op" id="1646237">=</span>&nbsp;<span class="op" id="1646239">-</span><span class="ident" id="1646240">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1646246">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646249">return</span>&nbsp;<span class="ident" id="1646256">fpack64</span><span class="op" id="1646263">(</span><span class="ident" id="1646264">fs</span><span class="op" id="1646266">,</span>&nbsp;<span class="ident" id="1646268">mant</span><span class="op" id="1646272">,</span>&nbsp;<span class="builtintype" id="1646274">int</span><span class="op" id="1646277">(</span><span class="ident" id="1646278">mantbits64</span><span class="op" id="1646288">)</span><span class="op" id="1646289">,</span>&nbsp;<span class="num" id="1646291">0</span><span class="op" id="1646292">)</span><br>
<span class="lineno"></span><span class="op" id="1646294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1646297">//&nbsp;64x64&nbsp;-&gt;&nbsp;128&nbsp;multiply.</span><br>
<span class="lineno"></span><span class="comment" id="1646323">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight.</span><br>
<span class="lineno">420</span><span class="keyword" id="1646357">func</span>&nbsp;<span class="ident" id="1646362">mullu</span><span class="op" id="1646367">(</span><span class="ident" id="1646368">u</span><span class="op" id="1646369">,</span>&nbsp;<span class="ident" id="1646371">v</span>&nbsp;<span class="ident" id="1646373">uint64</span><span class="op" id="1646379">)</span>&nbsp;<span class="op" id="1646381">(</span><span class="ident" id="1646382">lo</span><span class="op" id="1646384">,</span>&nbsp;<span class="ident" id="1646386">hi</span>&nbsp;<span class="ident" id="1646389">uint64</span><span class="op" id="1646395">)</span>&nbsp;<span class="op" id="1646397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646400">const</span>&nbsp;<span class="op" id="1646406">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646410">s</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1646415">=</span>&nbsp;<span class="num" id="1646417">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646422">mask</span>&nbsp;<span class="op" id="1646427">=</span>&nbsp;<span class="num" id="1646429">1</span><span class="op" id="1646430">&lt;&lt;</span><span class="ident" id="1646432">s</span>&nbsp;<span class="op" id="1646434">-</span>&nbsp;<span class="num" id="1646436">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1646439">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646442">u0</span>&nbsp;<span class="op" id="1646445">:=</span>&nbsp;<span class="ident" id="1646448">u</span>&nbsp;<span class="op" id="1646450">&amp;</span>&nbsp;<span class="ident" id="1646452">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646458">u1</span>&nbsp;<span class="op" id="1646461">:=</span>&nbsp;<span class="ident" id="1646464">u</span>&nbsp;<span class="op" id="1646466">&gt;&gt;</span>&nbsp;<span class="ident" id="1646469">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646472">v0</span>&nbsp;<span class="op" id="1646475">:=</span>&nbsp;<span class="ident" id="1646478">v</span>&nbsp;<span class="op" id="1646480">&amp;</span>&nbsp;<span class="ident" id="1646482">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646488">v1</span>&nbsp;<span class="op" id="1646491">:=</span>&nbsp;<span class="ident" id="1646494">v</span>&nbsp;<span class="op" id="1646496">&gt;&gt;</span>&nbsp;<span class="ident" id="1646499">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646502">w0</span>&nbsp;<span class="op" id="1646505">:=</span>&nbsp;<span class="ident" id="1646508">u0</span>&nbsp;<span class="op" id="1646511">*</span>&nbsp;<span class="ident" id="1646513">v0</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646517">t</span>&nbsp;<span class="op" id="1646519">:=</span>&nbsp;<span class="ident" id="1646522">u1</span><span class="op" id="1646524">*</span><span class="ident" id="1646525">v0</span>&nbsp;<span class="op" id="1646528">+</span>&nbsp;<span class="ident" id="1646530">w0</span><span class="op" id="1646532">&gt;&gt;</span><span class="ident" id="1646534">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646537">w1</span>&nbsp;<span class="op" id="1646540">:=</span>&nbsp;<span class="ident" id="1646543">t</span>&nbsp;<span class="op" id="1646545">&amp;</span>&nbsp;<span class="ident" id="1646547">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646553">w2</span>&nbsp;<span class="op" id="1646556">:=</span>&nbsp;<span class="ident" id="1646559">t</span>&nbsp;<span class="op" id="1646561">&gt;&gt;</span>&nbsp;<span class="ident" id="1646564">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646567">w1</span>&nbsp;<span class="op" id="1646570">+=</span>&nbsp;<span class="ident" id="1646573">u0</span>&nbsp;<span class="op" id="1646576">*</span>&nbsp;<span class="ident" id="1646578">v1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646582">return</span>&nbsp;<span class="ident" id="1646589">u</span>&nbsp;<span class="op" id="1646591">*</span>&nbsp;<span class="ident" id="1646593">v</span><span class="op" id="1646594">,</span>&nbsp;<span class="ident" id="1646596">u1</span><span class="op" id="1646598">*</span><span class="ident" id="1646599">v1</span>&nbsp;<span class="op" id="1646602">+</span>&nbsp;<span class="ident" id="1646604">w2</span>&nbsp;<span class="op" id="1646607">+</span>&nbsp;<span class="ident" id="1646609">w1</span><span class="op" id="1646611">&gt;&gt;</span><span class="ident" id="1646613">s</span><br>
<span class="lineno">435</span><span class="op" id="1646615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1646618">//&nbsp;128/64&nbsp;-&gt;&nbsp;64&nbsp;quotient,&nbsp;64&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="1646658">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight</span><br>
<span class="lineno"></span><span class="keyword" id="1646691">func</span>&nbsp;<span class="ident" id="1646696">divlu</span><span class="op" id="1646701">(</span><span class="ident" id="1646702">u1</span><span class="op" id="1646704">,</span>&nbsp;<span class="ident" id="1646706">u0</span><span class="op" id="1646708">,</span>&nbsp;<span class="ident" id="1646710">v</span>&nbsp;<span class="ident" id="1646712">uint64</span><span class="op" id="1646718">)</span>&nbsp;<span class="op" id="1646720">(</span><span class="ident" id="1646721">q</span><span class="op" id="1646722">,</span>&nbsp;<span class="ident" id="1646724">r</span>&nbsp;<span class="ident" id="1646726">uint64</span><span class="op" id="1646732">)</span>&nbsp;<span class="op" id="1646734">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646737">const</span>&nbsp;<span class="ident" id="1646743">b</span>&nbsp;<span class="op" id="1646745">=</span>&nbsp;<span class="num" id="1646747">1</span>&nbsp;<span class="op" id="1646749">&lt;&lt;</span>&nbsp;<span class="num" id="1646752">32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646757">if</span>&nbsp;<span class="ident" id="1646760">u1</span>&nbsp;<span class="op" id="1646763">&gt;=</span>&nbsp;<span class="ident" id="1646766">v</span>&nbsp;<span class="op" id="1646768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646772">return</span>&nbsp;<span class="num" id="1646779">1</span><span class="op" id="1646780">&lt;&lt;</span><span class="num" id="1646782">64</span>&nbsp;<span class="op" id="1646785">-</span>&nbsp;<span class="num" id="1646787">1</span><span class="op" id="1646788">,</span>&nbsp;<span class="num" id="1646790">1</span><span class="op" id="1646791">&lt;&lt;</span><span class="num" id="1646793">64</span>&nbsp;<span class="op" id="1646796">-</span>&nbsp;<span class="num" id="1646798">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1646801">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1646805">//&nbsp;s&nbsp;=&nbsp;nlz(v);&nbsp;v&nbsp;&lt;&lt;=&nbsp;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646829">s</span>&nbsp;<span class="op" id="1646831">:=</span>&nbsp;<span class="builtintype" id="1646834">uint</span><span class="op" id="1646838">(</span><span class="num" id="1646839">0</span><span class="op" id="1646840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646843">for</span>&nbsp;<span class="ident" id="1646847">v</span><span class="op" id="1646848">&amp;</span><span class="op" id="1646849">(</span><span class="num" id="1646850">1</span><span class="op" id="1646851">&lt;&lt;</span><span class="num" id="1646853">63</span><span class="op" id="1646855">)</span>&nbsp;<span class="op" id="1646857">==</span>&nbsp;<span class="num" id="1646860">0</span>&nbsp;<span class="op" id="1646862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646866">s</span><span class="op" id="1646867">++</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646872">v</span>&nbsp;<span class="op" id="1646874">&lt;&lt;=</span>&nbsp;<span class="num" id="1646878">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1646881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646885">vn1</span>&nbsp;<span class="op" id="1646889">:=</span>&nbsp;<span class="ident" id="1646892">v</span>&nbsp;<span class="op" id="1646894">&gt;&gt;</span>&nbsp;<span class="num" id="1646897">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646901">vn0</span>&nbsp;<span class="op" id="1646905">:=</span>&nbsp;<span class="ident" id="1646908">v</span>&nbsp;<span class="op" id="1646910">&amp;</span>&nbsp;<span class="op" id="1646912">(</span><span class="num" id="1646913">1</span><span class="op" id="1646914">&lt;&lt;</span><span class="num" id="1646916">32</span>&nbsp;<span class="op" id="1646919">-</span>&nbsp;<span class="num" id="1646921">1</span><span class="op" id="1646922">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646925">un32</span>&nbsp;<span class="op" id="1646930">:=</span>&nbsp;<span class="ident" id="1646933">u1</span><span class="op" id="1646935">&lt;&lt;</span><span class="ident" id="1646937">s</span>&nbsp;<span class="op" id="1646939">|</span>&nbsp;<span class="ident" id="1646941">u0</span><span class="op" id="1646943">&gt;&gt;</span><span class="op" id="1646945">(</span><span class="num" id="1646946">64</span><span class="op" id="1646948">-</span><span class="ident" id="1646949">s</span><span class="op" id="1646950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646953">un10</span>&nbsp;<span class="op" id="1646958">:=</span>&nbsp;<span class="ident" id="1646961">u0</span>&nbsp;<span class="op" id="1646964">&lt;&lt;</span>&nbsp;<span class="ident" id="1646967">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646970">un1</span>&nbsp;<span class="op" id="1646974">:=</span>&nbsp;<span class="ident" id="1646977">un10</span>&nbsp;<span class="op" id="1646982">&gt;&gt;</span>&nbsp;<span class="num" id="1646985">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646989">un0</span>&nbsp;<span class="op" id="1646993">:=</span>&nbsp;<span class="ident" id="1646996">un10</span>&nbsp;<span class="op" id="1647001">&amp;</span>&nbsp;<span class="op" id="1647003">(</span><span class="num" id="1647004">1</span><span class="op" id="1647005">&lt;&lt;</span><span class="num" id="1647007">32</span>&nbsp;<span class="op" id="1647010">-</span>&nbsp;<span class="num" id="1647012">1</span><span class="op" id="1647013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647016">q1</span>&nbsp;<span class="op" id="1647019">:=</span>&nbsp;<span class="ident" id="1647022">un32</span>&nbsp;<span class="op" id="1647027">/</span>&nbsp;<span class="ident" id="1647029">vn1</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647034">rhat</span>&nbsp;<span class="op" id="1647039">:=</span>&nbsp;<span class="ident" id="1647042">un32</span>&nbsp;<span class="op" id="1647047">-</span>&nbsp;<span class="ident" id="1647049">q1</span><span class="op" id="1647051">*</span><span class="ident" id="1647052">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="1647057">again1</span><span class="op" id="1647063">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647066">if</span>&nbsp;<span class="ident" id="1647069">q1</span>&nbsp;<span class="op" id="1647072">&gt;=</span>&nbsp;<span class="ident" id="1647075">b</span>&nbsp;<span class="op" id="1647077">||</span>&nbsp;<span class="ident" id="1647080">q1</span><span class="op" id="1647082">*</span><span class="ident" id="1647083">vn0</span>&nbsp;<span class="op" id="1647087">&gt;</span>&nbsp;<span class="ident" id="1647089">b</span><span class="op" id="1647090">*</span><span class="ident" id="1647091">rhat</span><span class="op" id="1647095">+</span><span class="ident" id="1647096">un1</span>&nbsp;<span class="op" id="1647100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647104">q1</span><span class="op" id="1647106">--</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647111">rhat</span>&nbsp;<span class="op" id="1647116">+=</span>&nbsp;<span class="ident" id="1647119">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647125">if</span>&nbsp;<span class="ident" id="1647128">rhat</span>&nbsp;<span class="op" id="1647133">&lt;</span>&nbsp;<span class="ident" id="1647135">b</span>&nbsp;<span class="op" id="1647137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647142">goto</span>&nbsp;<span class="ident" id="1647147">again1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647159">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647163">un21</span>&nbsp;<span class="op" id="1647168">:=</span>&nbsp;<span class="ident" id="1647171">un32</span><span class="op" id="1647175">*</span><span class="ident" id="1647176">b</span>&nbsp;<span class="op" id="1647178">+</span>&nbsp;<span class="ident" id="1647180">un1</span>&nbsp;<span class="op" id="1647184">-</span>&nbsp;<span class="ident" id="1647186">q1</span><span class="op" id="1647188">*</span><span class="ident" id="1647189">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647192">q0</span>&nbsp;<span class="op" id="1647195">:=</span>&nbsp;<span class="ident" id="1647198">un21</span>&nbsp;<span class="op" id="1647203">/</span>&nbsp;<span class="ident" id="1647205">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647210">rhat</span>&nbsp;<span class="op" id="1647215">=</span>&nbsp;<span class="ident" id="1647217">un21</span>&nbsp;<span class="op" id="1647222">-</span>&nbsp;<span class="ident" id="1647224">q0</span><span class="op" id="1647226">*</span><span class="ident" id="1647227">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span><span class="ident" id="1647232">again2</span><span class="op" id="1647238">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647241">if</span>&nbsp;<span class="ident" id="1647244">q0</span>&nbsp;<span class="op" id="1647247">&gt;=</span>&nbsp;<span class="ident" id="1647250">b</span>&nbsp;<span class="op" id="1647252">||</span>&nbsp;<span class="ident" id="1647255">q0</span><span class="op" id="1647257">*</span><span class="ident" id="1647258">vn0</span>&nbsp;<span class="op" id="1647262">&gt;</span>&nbsp;<span class="ident" id="1647264">b</span><span class="op" id="1647265">*</span><span class="ident" id="1647266">rhat</span><span class="op" id="1647270">+</span><span class="ident" id="1647271">un0</span>&nbsp;<span class="op" id="1647275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647279">q0</span><span class="op" id="1647281">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647286">rhat</span>&nbsp;<span class="op" id="1647291">+=</span>&nbsp;<span class="ident" id="1647294">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647300">if</span>&nbsp;<span class="ident" id="1647303">rhat</span>&nbsp;<span class="op" id="1647308">&lt;</span>&nbsp;<span class="ident" id="1647310">b</span>&nbsp;<span class="op" id="1647312">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647317">goto</span>&nbsp;<span class="ident" id="1647322">again2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647338">return</span>&nbsp;<span class="ident" id="1647345">q1</span><span class="op" id="1647347">*</span><span class="ident" id="1647348">b</span>&nbsp;<span class="op" id="1647350">+</span>&nbsp;<span class="ident" id="1647352">q0</span><span class="op" id="1647354">,</span>&nbsp;<span class="op" id="1647356">(</span><span class="ident" id="1647357">un21</span><span class="op" id="1647361">*</span><span class="ident" id="1647362">b</span>&nbsp;<span class="op" id="1647364">+</span>&nbsp;<span class="ident" id="1647366">un0</span>&nbsp;<span class="op" id="1647370">-</span>&nbsp;<span class="ident" id="1647372">q0</span><span class="op" id="1647374">*</span><span class="ident" id="1647375">v</span><span class="op" id="1647376">)</span>&nbsp;<span class="op" id="1647378">&gt;&gt;</span>&nbsp;<span class="ident" id="1647381">s</span><br>
<span class="lineno">485</span><span class="op" id="1647383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1647386">//&nbsp;callable&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1647406">func</span>&nbsp;<span class="ident" id="1647411">fadd64c</span><span class="op" id="1647418">(</span><span class="ident" id="1647419">f</span><span class="op" id="1647420">,</span>&nbsp;<span class="ident" id="1647422">g</span>&nbsp;<span class="ident" id="1647424">uint64</span><span class="op" id="1647430">,</span>&nbsp;<span class="ident" id="1647432">ret</span>&nbsp;<span class="op" id="1647436">*</span><span class="ident" id="1647437">uint64</span><span class="op" id="1647443">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647456">{</span>&nbsp;<span class="op" id="1647458">*</span><span class="ident" id="1647459">ret</span>&nbsp;<span class="op" id="1647463">=</span>&nbsp;<span class="ident" id="1647465">fadd64</span><span class="op" id="1647471">(</span><span class="ident" id="1647472">f</span><span class="op" id="1647473">,</span>&nbsp;<span class="ident" id="1647475">g</span><span class="op" id="1647476">)</span>&nbsp;<span class="op" id="1647478">}</span><br>
<span class="lineno">490</span><span class="keyword" id="1647480">func</span>&nbsp;<span class="ident" id="1647485">fsub64c</span><span class="op" id="1647492">(</span><span class="ident" id="1647493">f</span><span class="op" id="1647494">,</span>&nbsp;<span class="ident" id="1647496">g</span>&nbsp;<span class="ident" id="1647498">uint64</span><span class="op" id="1647504">,</span>&nbsp;<span class="ident" id="1647506">ret</span>&nbsp;<span class="op" id="1647510">*</span><span class="ident" id="1647511">uint64</span><span class="op" id="1647517">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647530">{</span>&nbsp;<span class="op" id="1647532">*</span><span class="ident" id="1647533">ret</span>&nbsp;<span class="op" id="1647537">=</span>&nbsp;<span class="ident" id="1647539">fsub64</span><span class="op" id="1647545">(</span><span class="ident" id="1647546">f</span><span class="op" id="1647547">,</span>&nbsp;<span class="ident" id="1647549">g</span><span class="op" id="1647550">)</span>&nbsp;<span class="op" id="1647552">}</span><br>
<span class="lineno"></span><span class="keyword" id="1647554">func</span>&nbsp;<span class="ident" id="1647559">fmul64c</span><span class="op" id="1647566">(</span><span class="ident" id="1647567">f</span><span class="op" id="1647568">,</span>&nbsp;<span class="ident" id="1647570">g</span>&nbsp;<span class="ident" id="1647572">uint64</span><span class="op" id="1647578">,</span>&nbsp;<span class="ident" id="1647580">ret</span>&nbsp;<span class="op" id="1647584">*</span><span class="ident" id="1647585">uint64</span><span class="op" id="1647591">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647604">{</span>&nbsp;<span class="op" id="1647606">*</span><span class="ident" id="1647607">ret</span>&nbsp;<span class="op" id="1647611">=</span>&nbsp;<span class="ident" id="1647613">fmul64</span><span class="op" id="1647619">(</span><span class="ident" id="1647620">f</span><span class="op" id="1647621">,</span>&nbsp;<span class="ident" id="1647623">g</span><span class="op" id="1647624">)</span>&nbsp;<span class="op" id="1647626">}</span><br>
<span class="lineno"></span><span class="keyword" id="1647628">func</span>&nbsp;<span class="ident" id="1647633">fdiv64c</span><span class="op" id="1647640">(</span><span class="ident" id="1647641">f</span><span class="op" id="1647642">,</span>&nbsp;<span class="ident" id="1647644">g</span>&nbsp;<span class="ident" id="1647646">uint64</span><span class="op" id="1647652">,</span>&nbsp;<span class="ident" id="1647654">ret</span>&nbsp;<span class="op" id="1647658">*</span><span class="ident" id="1647659">uint64</span><span class="op" id="1647665">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647678">{</span>&nbsp;<span class="op" id="1647680">*</span><span class="ident" id="1647681">ret</span>&nbsp;<span class="op" id="1647685">=</span>&nbsp;<span class="ident" id="1647687">fdiv64</span><span class="op" id="1647693">(</span><span class="ident" id="1647694">f</span><span class="op" id="1647695">,</span>&nbsp;<span class="ident" id="1647697">g</span><span class="op" id="1647698">)</span>&nbsp;<span class="op" id="1647700">}</span><br>
<span class="lineno"></span><span class="keyword" id="1647702">func</span>&nbsp;<span class="ident" id="1647707">fneg64c</span><span class="op" id="1647714">(</span><span class="ident" id="1647715">f</span>&nbsp;<span class="ident" id="1647717">uint64</span><span class="op" id="1647723">,</span>&nbsp;<span class="ident" id="1647725">ret</span>&nbsp;<span class="op" id="1647729">*</span><span class="ident" id="1647730">uint64</span><span class="op" id="1647736">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647752">{</span>&nbsp;<span class="op" id="1647754">*</span><span class="ident" id="1647755">ret</span>&nbsp;<span class="op" id="1647759">=</span>&nbsp;<span class="ident" id="1647761">fneg64</span><span class="op" id="1647767">(</span><span class="ident" id="1647768">f</span><span class="op" id="1647769">)</span>&nbsp;<span class="op" id="1647771">}</span><br>
<span class="lineno"></span><span class="keyword" id="1647773">func</span>&nbsp;<span class="ident" id="1647778">f32to64c</span><span class="op" id="1647786">(</span><span class="ident" id="1647787">f</span>&nbsp;<span class="builtintype" id="1647789">uint32</span><span class="op" id="1647795">,</span>&nbsp;<span class="ident" id="1647797">ret</span>&nbsp;<span class="op" id="1647801">*</span><span class="ident" id="1647802">uint64</span><span class="op" id="1647808">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647823">{</span>&nbsp;<span class="op" id="1647825">*</span><span class="ident" id="1647826">ret</span>&nbsp;<span class="op" id="1647830">=</span>&nbsp;<span class="ident" id="1647832">f32to64</span><span class="op" id="1647839">(</span><span class="ident" id="1647840">f</span><span class="op" id="1647841">)</span>&nbsp;<span class="op" id="1647843">}</span><br>
<span class="lineno">495</span><span class="keyword" id="1647845">func</span>&nbsp;<span class="ident" id="1647850">f64to32c</span><span class="op" id="1647858">(</span><span class="ident" id="1647859">f</span>&nbsp;<span class="ident" id="1647861">uint64</span><span class="op" id="1647867">,</span>&nbsp;<span class="ident" id="1647869">ret</span>&nbsp;<span class="op" id="1647873">*</span><span class="builtintype" id="1647874">uint32</span><span class="op" id="1647880">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647895">{</span>&nbsp;<span class="op" id="1647897">*</span><span class="ident" id="1647898">ret</span>&nbsp;<span class="op" id="1647902">=</span>&nbsp;<span class="ident" id="1647904">f64to32</span><span class="op" id="1647911">(</span><span class="ident" id="1647912">f</span><span class="op" id="1647913">)</span>&nbsp;<span class="op" id="1647915">}</span><br>
<span class="lineno"></span><span class="keyword" id="1647917">func</span>&nbsp;<span class="ident" id="1647922">fcmp64c</span><span class="op" id="1647929">(</span><span class="ident" id="1647930">f</span><span class="op" id="1647931">,</span>&nbsp;<span class="ident" id="1647933">g</span>&nbsp;<span class="ident" id="1647935">uint64</span><span class="op" id="1647941">,</span>&nbsp;<span class="ident" id="1647943">ret</span>&nbsp;<span class="op" id="1647947">*</span><span class="builtintype" id="1647948">int</span><span class="op" id="1647951">,</span>&nbsp;<span class="ident" id="1647953">retnan</span>&nbsp;<span class="op" id="1647960">*</span><span class="builtintype" id="1647961">bool</span><span class="op" id="1647965">)</span>&nbsp;<span class="op" id="1647967">{</span>&nbsp;<span class="op" id="1647969">*</span><span class="ident" id="1647970">ret</span><span class="op" id="1647973">,</span>&nbsp;<span class="op" id="1647975">*</span><span class="ident" id="1647976">retnan</span>&nbsp;<span class="op" id="1647983">=</span>&nbsp;<span class="ident" id="1647985">fcmp64</span><span class="op" id="1647991">(</span><span class="ident" id="1647992">f</span><span class="op" id="1647993">,</span>&nbsp;<span class="ident" id="1647995">g</span><span class="op" id="1647996">)</span>&nbsp;<span class="op" id="1647998">}</span><br>
<span class="lineno"></span><span class="keyword" id="1648000">func</span>&nbsp;<span class="ident" id="1648005">fintto64c</span><span class="op" id="1648014">(</span><span class="ident" id="1648015">val</span>&nbsp;<span class="ident" id="1648019">int64</span><span class="op" id="1648024">,</span>&nbsp;<span class="ident" id="1648026">ret</span>&nbsp;<span class="op" id="1648030">*</span><span class="ident" id="1648031">uint64</span><span class="op" id="1648037">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648050">{</span>&nbsp;<span class="op" id="1648052">*</span><span class="ident" id="1648053">ret</span>&nbsp;<span class="op" id="1648057">=</span>&nbsp;<span class="ident" id="1648059">fintto64</span><span class="op" id="1648067">(</span><span class="ident" id="1648068">val</span><span class="op" id="1648071">)</span>&nbsp;<span class="op" id="1648073">}</span><br>
<span class="lineno"></span><span class="keyword" id="1648075">func</span>&nbsp;<span class="ident" id="1648080">f64tointc</span><span class="op" id="1648089">(</span><span class="ident" id="1648090">f</span>&nbsp;<span class="ident" id="1648092">uint64</span><span class="op" id="1648098">,</span>&nbsp;<span class="ident" id="1648100">ret</span>&nbsp;<span class="op" id="1648104">*</span><span class="ident" id="1648105">int64</span><span class="op" id="1648110">,</span>&nbsp;<span class="ident" id="1648112">retok</span>&nbsp;<span class="op" id="1648118">*</span><span class="builtintype" id="1648119">bool</span><span class="op" id="1648123">)</span>&nbsp;<span class="op" id="1648125">{</span>&nbsp;<span class="op" id="1648127">*</span><span class="ident" id="1648128">ret</span><span class="op" id="1648131">,</span>&nbsp;<span class="op" id="1648133">*</span><span class="ident" id="1648134">retok</span>&nbsp;<span class="op" id="1648140">=</span>&nbsp;<span class="ident" id="1648142">f64toint</span><span class="op" id="1648150">(</span><span class="ident" id="1648151">f</span><span class="op" id="1648152">)</span>&nbsp;<span class="op" id="1648154">}</span>
</div>
</body>
</html>
