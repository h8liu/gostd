<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7877944">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7878000">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7878054">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7878105">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878162">package</span>&nbsp;<span class="ident" id="7878170">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878175">import</span>&nbsp;<span class="op" id="7878182">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7878185">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7878191">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7878202">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7878213">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7878224">&#34;time&#34;</span><br>
<span class="lineno">15</span><span class="op" id="7878231">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878234">type</span>&nbsp;<span class="ident" id="7878239">testInterface</span>&nbsp;<span class="keyword" id="7878253">struct</span>&nbsp;<span class="op" id="7878260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878263">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7878276">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878284">local</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7878297">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878305">remote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7878318">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878326">setupCmds</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7878339">[</span><span class="op" id="7878340">]</span><span class="op" id="7878341">*</span><span class="ident" id="7878342">exec</span><span class="op" id="7878346">.</span><span class="ident" id="7878347">Cmd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878352">teardownCmds</span>&nbsp;<span class="op" id="7878365">[</span><span class="op" id="7878366">]</span><span class="op" id="7878367">*</span><span class="ident" id="7878368">exec</span><span class="op" id="7878372">.</span><span class="ident" id="7878373">Cmd</span><br>
<span class="lineno"></span><span class="op" id="7878377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7878380">func</span>&nbsp;<span class="op" id="7878385">(</span><span class="ident" id="7878386">ti</span>&nbsp;<span class="op" id="7878389">*</span><span class="ident" id="7878390">testInterface</span><span class="op" id="7878403">)</span>&nbsp;<span class="ident" id="7878405">setup</span><span class="op" id="7878410">(</span><span class="op" id="7878411">)</span>&nbsp;<span class="builtintype" id="7878413">error</span>&nbsp;<span class="op" id="7878419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878422">for</span>&nbsp;<span class="ident" id="7878426">_</span><span class="op" id="7878427">,</span>&nbsp;<span class="ident" id="7878429">cmd</span>&nbsp;<span class="op" id="7878433">:=</span>&nbsp;<span class="keyword" id="7878436">range</span>&nbsp;<span class="ident" id="7878442">ti</span><span class="op" id="7878444">.</span><span class="ident" id="7878445">setupCmds</span>&nbsp;<span class="op" id="7878455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878459">if</span>&nbsp;<span class="ident" id="7878462">err</span>&nbsp;<span class="op" id="7878466">:=</span>&nbsp;<span class="ident" id="7878469">cmd</span><span class="op" id="7878472">.</span><span class="ident" id="7878473">Run</span><span class="op" id="7878476">(</span><span class="op" id="7878477">)</span><span class="op" id="7878478">;</span>&nbsp;<span class="ident" id="7878480">err</span>&nbsp;<span class="op" id="7878484">!=</span>&nbsp;<span class="ident" id="7878487">nil</span>&nbsp;<span class="op" id="7878491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878496">return</span>&nbsp;<span class="ident" id="7878503">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878509">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878515">return</span>&nbsp;<span class="ident" id="7878522">nil</span><br>
<span class="lineno"></span><span class="op" id="7878526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878529">func</span>&nbsp;<span class="op" id="7878534">(</span><span class="ident" id="7878535">ti</span>&nbsp;<span class="op" id="7878538">*</span><span class="ident" id="7878539">testInterface</span><span class="op" id="7878552">)</span>&nbsp;<span class="ident" id="7878554">teardown</span><span class="op" id="7878562">(</span><span class="op" id="7878563">)</span>&nbsp;<span class="builtintype" id="7878565">error</span>&nbsp;<span class="op" id="7878571">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878574">for</span>&nbsp;<span class="ident" id="7878578">_</span><span class="op" id="7878579">,</span>&nbsp;<span class="ident" id="7878581">cmd</span>&nbsp;<span class="op" id="7878585">:=</span>&nbsp;<span class="keyword" id="7878588">range</span>&nbsp;<span class="ident" id="7878594">ti</span><span class="op" id="7878596">.</span><span class="ident" id="7878597">teardownCmds</span>&nbsp;<span class="op" id="7878610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878614">if</span>&nbsp;<span class="ident" id="7878617">err</span>&nbsp;<span class="op" id="7878621">:=</span>&nbsp;<span class="ident" id="7878624">cmd</span><span class="op" id="7878627">.</span><span class="ident" id="7878628">Run</span><span class="op" id="7878631">(</span><span class="op" id="7878632">)</span><span class="op" id="7878633">;</span>&nbsp;<span class="ident" id="7878635">err</span>&nbsp;<span class="op" id="7878639">!=</span>&nbsp;<span class="ident" id="7878642">nil</span>&nbsp;<span class="op" id="7878646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878651">return</span>&nbsp;<span class="ident" id="7878658">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878667">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878670">return</span>&nbsp;<span class="ident" id="7878677">nil</span><br>
<span class="lineno"></span><span class="op" id="7878681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7878684">func</span>&nbsp;<span class="ident" id="7878689">TestPointToPointInterface</span><span class="op" id="7878714">(</span><span class="ident" id="7878715">t</span>&nbsp;<span class="op" id="7878717">*</span><span class="ident" id="7878718">testing</span><span class="op" id="7878725">.</span><span class="ident" id="7878726">T</span><span class="op" id="7878727">)</span>&nbsp;<span class="op" id="7878729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878732">if</span>&nbsp;<span class="ident" id="7878735">testing</span><span class="op" id="7878742">.</span><span class="ident" id="7878743">Short</span><span class="op" id="7878748">(</span><span class="op" id="7878749">)</span>&nbsp;<span class="op" id="7878751">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878755">t</span><span class="op" id="7878756">.</span><span class="ident" id="7878757">Skip</span><span class="op" id="7878761">(</span><span class="string" id="7878762">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7878791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878797">switch</span>&nbsp;<span class="op" id="7878804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878807">case</span>&nbsp;<span class="ident" id="7878812">runtime</span><span class="op" id="7878819">.</span><span class="ident" id="7878820">GOOS</span>&nbsp;<span class="op" id="7878825">==</span>&nbsp;<span class="string" id="7878828">&#34;darwin&#34;</span><span class="op" id="7878836">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878840">t</span><span class="op" id="7878841">.</span><span class="ident" id="7878842">Skipf</span><span class="op" id="7878847">(</span><span class="string" id="7878848">&#34;skipping&nbsp;read&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="7878874">,</span>&nbsp;<span class="ident" id="7878876">runtime</span><span class="op" id="7878883">.</span><span class="ident" id="7878884">GOOS</span><span class="op" id="7878888">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878894">if</span>&nbsp;<span class="ident" id="7878897">os</span><span class="op" id="7878899">.</span><span class="ident" id="7878900">Getuid</span><span class="op" id="7878906">(</span><span class="op" id="7878907">)</span>&nbsp;<span class="op" id="7878909">!=</span>&nbsp;<span class="num" id="7878912">0</span>&nbsp;<span class="op" id="7878914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878918">t</span><span class="op" id="7878919">.</span><span class="ident" id="7878920">Skip</span><span class="op" id="7878924">(</span><span class="string" id="7878925">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="7878954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878961">local</span><span class="op" id="7878966">,</span>&nbsp;<span class="ident" id="7878968">remote</span>&nbsp;<span class="op" id="7878975">:=</span>&nbsp;<span class="string" id="7878978">&#34;169.254.0.1&#34;</span><span class="op" id="7878991">,</span>&nbsp;<span class="string" id="7878993">&#34;169.254.0.254&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879010">ip</span>&nbsp;<span class="op" id="7879013">:=</span>&nbsp;<span class="ident" id="7879016">ParseIP</span><span class="op" id="7879023">(</span><span class="ident" id="7879024">remote</span><span class="op" id="7879030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879033">for</span>&nbsp;<span class="ident" id="7879037">i</span>&nbsp;<span class="op" id="7879039">:=</span>&nbsp;<span class="num" id="7879042">0</span><span class="op" id="7879043">;</span>&nbsp;<span class="ident" id="7879045">i</span>&nbsp;<span class="op" id="7879047">&lt;</span>&nbsp;<span class="num" id="7879049">3</span><span class="op" id="7879050">;</span>&nbsp;<span class="ident" id="7879052">i</span><span class="op" id="7879053">++</span>&nbsp;<span class="op" id="7879056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879060">ti</span>&nbsp;<span class="op" id="7879063">:=</span>&nbsp;<span class="op" id="7879066">&amp;</span><span class="ident" id="7879067">testInterface</span><span class="op" id="7879080">{</span><span class="op" id="7879081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879085">if</span>&nbsp;<span class="ident" id="7879088">err</span>&nbsp;<span class="op" id="7879092">:=</span>&nbsp;<span class="ident" id="7879095">ti</span><span class="op" id="7879097">.</span><span class="ident" id="7879098">setPointToPoint</span><span class="op" id="7879113">(</span><span class="num" id="7879114">5963</span><span class="op" id="7879118">+</span><span class="ident" id="7879119">i</span><span class="op" id="7879120">,</span>&nbsp;<span class="ident" id="7879122">local</span><span class="op" id="7879127">,</span>&nbsp;<span class="ident" id="7879129">remote</span><span class="op" id="7879135">)</span><span class="op" id="7879136">;</span>&nbsp;<span class="ident" id="7879138">err</span>&nbsp;<span class="op" id="7879142">!=</span>&nbsp;<span class="ident" id="7879145">nil</span>&nbsp;<span class="op" id="7879149">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879154">t</span><span class="op" id="7879155">.</span><span class="ident" id="7879156">Skipf</span><span class="op" id="7879161">(</span><span class="string" id="7879162">&#34;test&nbsp;requries&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="7879198">,</span>&nbsp;<span class="ident" id="7879200">err</span><span class="op" id="7879203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879211">if</span>&nbsp;<span class="ident" id="7879214">err</span>&nbsp;<span class="op" id="7879218">:=</span>&nbsp;<span class="ident" id="7879221">ti</span><span class="op" id="7879223">.</span><span class="ident" id="7879224">setup</span><span class="op" id="7879229">(</span><span class="op" id="7879230">)</span><span class="op" id="7879231">;</span>&nbsp;<span class="ident" id="7879233">err</span>&nbsp;<span class="op" id="7879237">!=</span>&nbsp;<span class="ident" id="7879240">nil</span>&nbsp;<span class="op" id="7879244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879249">t</span><span class="op" id="7879250">.</span><span class="ident" id="7879251">Fatalf</span><span class="op" id="7879257">(</span><span class="string" id="7879258">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7879290">,</span>&nbsp;<span class="ident" id="7879292">err</span><span class="op" id="7879295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879299">}</span>&nbsp;<span class="keyword" id="7879301">else</span>&nbsp;<span class="op" id="7879306">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879311">time</span><span class="op" id="7879315">.</span><span class="ident" id="7879316">Sleep</span><span class="op" id="7879321">(</span><span class="num" id="7879322">3</span>&nbsp;<span class="op" id="7879324">*</span>&nbsp;<span class="ident" id="7879326">time</span><span class="op" id="7879330">.</span><span class="ident" id="7879331">Millisecond</span><span class="op" id="7879342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879350">ift</span><span class="op" id="7879353">,</span>&nbsp;<span class="ident" id="7879355">err</span>&nbsp;<span class="op" id="7879359">:=</span>&nbsp;<span class="ident" id="7879362">Interfaces</span><span class="op" id="7879372">(</span><span class="op" id="7879373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879377">if</span>&nbsp;<span class="ident" id="7879380">err</span>&nbsp;<span class="op" id="7879384">!=</span>&nbsp;<span class="ident" id="7879387">nil</span>&nbsp;<span class="op" id="7879391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879396">ti</span><span class="op" id="7879398">.</span><span class="ident" id="7879399">teardown</span><span class="op" id="7879407">(</span><span class="op" id="7879408">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879413">t</span><span class="op" id="7879414">.</span><span class="ident" id="7879415">Fatalf</span><span class="op" id="7879421">(</span><span class="string" id="7879422">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7879445">,</span>&nbsp;<span class="ident" id="7879447">err</span><span class="op" id="7879450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879458">for</span>&nbsp;<span class="ident" id="7879462">_</span><span class="op" id="7879463">,</span>&nbsp;<span class="ident" id="7879465">ifi</span>&nbsp;<span class="op" id="7879469">:=</span>&nbsp;<span class="keyword" id="7879472">range</span>&nbsp;<span class="ident" id="7879478">ift</span>&nbsp;<span class="op" id="7879482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879487">if</span>&nbsp;<span class="ident" id="7879490">ti</span><span class="op" id="7879492">.</span><span class="ident" id="7879493">name</span>&nbsp;<span class="op" id="7879498">==</span>&nbsp;<span class="ident" id="7879501">ifi</span><span class="op" id="7879504">.</span><span class="ident" id="7879505">Name</span>&nbsp;<span class="op" id="7879510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879516">ifat</span><span class="op" id="7879520">,</span>&nbsp;<span class="ident" id="7879522">err</span>&nbsp;<span class="op" id="7879526">:=</span>&nbsp;<span class="ident" id="7879529">ifi</span><span class="op" id="7879532">.</span><span class="ident" id="7879533">Addrs</span><span class="op" id="7879538">(</span><span class="op" id="7879539">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879545">if</span>&nbsp;<span class="ident" id="7879548">err</span>&nbsp;<span class="op" id="7879552">!=</span>&nbsp;<span class="ident" id="7879555">nil</span>&nbsp;<span class="op" id="7879559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879566">ti</span><span class="op" id="7879568">.</span><span class="ident" id="7879569">teardown</span><span class="op" id="7879577">(</span><span class="op" id="7879578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879585">t</span><span class="op" id="7879586">.</span><span class="ident" id="7879587">Fatalf</span><span class="op" id="7879593">(</span><span class="string" id="7879594">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7879622">,</span>&nbsp;<span class="ident" id="7879624">err</span><span class="op" id="7879627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879639">for</span>&nbsp;<span class="ident" id="7879643">_</span><span class="op" id="7879644">,</span>&nbsp;<span class="ident" id="7879646">ifa</span>&nbsp;<span class="op" id="7879650">:=</span>&nbsp;<span class="keyword" id="7879653">range</span>&nbsp;<span class="ident" id="7879659">ifat</span>&nbsp;<span class="op" id="7879664">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879671">if</span>&nbsp;<span class="ident" id="7879674">ip</span><span class="op" id="7879676">.</span><span class="ident" id="7879677">Equal</span><span class="op" id="7879682">(</span><span class="ident" id="7879683">ifa</span><span class="op" id="7879686">.</span><span class="op" id="7879687">(</span><span class="op" id="7879688">*</span><span class="ident" id="7879689">IPNet</span><span class="op" id="7879694">)</span><span class="op" id="7879695">.</span><span class="ident" id="7879696">IP</span><span class="op" id="7879698">)</span>&nbsp;<span class="op" id="7879700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879708">ti</span><span class="op" id="7879710">.</span><span class="ident" id="7879711">teardown</span><span class="op" id="7879719">(</span><span class="op" id="7879720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879728">t</span><span class="op" id="7879729">.</span><span class="ident" id="7879730">Fatalf</span><span class="op" id="7879736">(</span><span class="string" id="7879737">&#34;got&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7879754">,</span>&nbsp;<span class="ident" id="7879756">ip</span><span class="op" id="7879758">,</span>&nbsp;<span class="ident" id="7879760">local</span><span class="op" id="7879765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879778">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879791">if</span>&nbsp;<span class="ident" id="7879794">err</span>&nbsp;<span class="op" id="7879798">:=</span>&nbsp;<span class="ident" id="7879801">ti</span><span class="op" id="7879803">.</span><span class="ident" id="7879804">teardown</span><span class="op" id="7879812">(</span><span class="op" id="7879813">)</span><span class="op" id="7879814">;</span>&nbsp;<span class="ident" id="7879816">err</span>&nbsp;<span class="op" id="7879820">!=</span>&nbsp;<span class="ident" id="7879823">nil</span>&nbsp;<span class="op" id="7879827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879832">t</span><span class="op" id="7879833">.</span><span class="ident" id="7879834">Fatalf</span><span class="op" id="7879840">(</span><span class="string" id="7879841">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7879876">,</span>&nbsp;<span class="ident" id="7879878">err</span><span class="op" id="7879881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879885">}</span>&nbsp;<span class="keyword" id="7879887">else</span>&nbsp;<span class="op" id="7879892">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879897">time</span><span class="op" id="7879901">.</span><span class="ident" id="7879902">Sleep</span><span class="op" id="7879907">(</span><span class="num" id="7879908">3</span>&nbsp;<span class="op" id="7879910">*</span>&nbsp;<span class="ident" id="7879912">time</span><span class="op" id="7879916">.</span><span class="ident" id="7879917">Millisecond</span><span class="op" id="7879928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879935">}</span><br>
<span class="lineno"></span><span class="op" id="7879937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7879940">func</span>&nbsp;<span class="ident" id="7879945">TestInterfaceArrivalAndDeparture</span><span class="op" id="7879977">(</span><span class="ident" id="7879978">t</span>&nbsp;<span class="op" id="7879980">*</span><span class="ident" id="7879981">testing</span><span class="op" id="7879988">.</span><span class="ident" id="7879989">T</span><span class="op" id="7879990">)</span>&nbsp;<span class="op" id="7879992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879995">if</span>&nbsp;<span class="ident" id="7879998">testing</span><span class="op" id="7880005">.</span><span class="ident" id="7880006">Short</span><span class="op" id="7880011">(</span><span class="op" id="7880012">)</span>&nbsp;<span class="op" id="7880014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880018">t</span><span class="op" id="7880019">.</span><span class="ident" id="7880020">Skip</span><span class="op" id="7880024">(</span><span class="string" id="7880025">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7880054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880060">if</span>&nbsp;<span class="ident" id="7880063">os</span><span class="op" id="7880065">.</span><span class="ident" id="7880066">Getuid</span><span class="op" id="7880072">(</span><span class="op" id="7880073">)</span>&nbsp;<span class="op" id="7880075">!=</span>&nbsp;<span class="num" id="7880078">0</span>&nbsp;<span class="op" id="7880080">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880084">t</span><span class="op" id="7880085">.</span><span class="ident" id="7880086">Skip</span><span class="op" id="7880090">(</span><span class="string" id="7880091">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="7880120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880127">for</span>&nbsp;<span class="ident" id="7880131">i</span>&nbsp;<span class="op" id="7880133">:=</span>&nbsp;<span class="num" id="7880136">0</span><span class="op" id="7880137">;</span>&nbsp;<span class="ident" id="7880139">i</span>&nbsp;<span class="op" id="7880141">&lt;</span>&nbsp;<span class="num" id="7880143">3</span><span class="op" id="7880144">;</span>&nbsp;<span class="ident" id="7880146">i</span><span class="op" id="7880147">++</span>&nbsp;<span class="op" id="7880150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880154">ift1</span><span class="op" id="7880158">,</span>&nbsp;<span class="ident" id="7880160">err</span>&nbsp;<span class="op" id="7880164">:=</span>&nbsp;<span class="ident" id="7880167">Interfaces</span><span class="op" id="7880177">(</span><span class="op" id="7880178">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880182">if</span>&nbsp;<span class="ident" id="7880185">err</span>&nbsp;<span class="op" id="7880189">!=</span>&nbsp;<span class="ident" id="7880192">nil</span>&nbsp;<span class="op" id="7880196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880201">t</span><span class="op" id="7880202">.</span><span class="ident" id="7880203">Fatalf</span><span class="op" id="7880209">(</span><span class="string" id="7880210">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7880233">,</span>&nbsp;<span class="ident" id="7880235">err</span><span class="op" id="7880238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880246">ti</span>&nbsp;<span class="op" id="7880249">:=</span>&nbsp;<span class="op" id="7880252">&amp;</span><span class="ident" id="7880253">testInterface</span><span class="op" id="7880266">{</span><span class="op" id="7880267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880271">if</span>&nbsp;<span class="ident" id="7880274">err</span>&nbsp;<span class="op" id="7880278">:=</span>&nbsp;<span class="ident" id="7880281">ti</span><span class="op" id="7880283">.</span><span class="ident" id="7880284">setBroadcast</span><span class="op" id="7880296">(</span><span class="num" id="7880297">5682</span>&nbsp;<span class="op" id="7880302">+</span>&nbsp;<span class="ident" id="7880304">i</span><span class="op" id="7880305">)</span><span class="op" id="7880306">;</span>&nbsp;<span class="ident" id="7880308">err</span>&nbsp;<span class="op" id="7880312">!=</span>&nbsp;<span class="ident" id="7880315">nil</span>&nbsp;<span class="op" id="7880319">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880324">t</span><span class="op" id="7880325">.</span><span class="ident" id="7880326">Skipf</span><span class="op" id="7880331">(</span><span class="string" id="7880332">&#34;test&nbsp;requires&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="7880368">,</span>&nbsp;<span class="ident" id="7880370">err</span><span class="op" id="7880373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880381">if</span>&nbsp;<span class="ident" id="7880384">err</span>&nbsp;<span class="op" id="7880388">:=</span>&nbsp;<span class="ident" id="7880391">ti</span><span class="op" id="7880393">.</span><span class="ident" id="7880394">setup</span><span class="op" id="7880399">(</span><span class="op" id="7880400">)</span><span class="op" id="7880401">;</span>&nbsp;<span class="ident" id="7880403">err</span>&nbsp;<span class="op" id="7880407">!=</span>&nbsp;<span class="ident" id="7880410">nil</span>&nbsp;<span class="op" id="7880414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880419">t</span><span class="op" id="7880420">.</span><span class="ident" id="7880421">Fatalf</span><span class="op" id="7880427">(</span><span class="string" id="7880428">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7880460">,</span>&nbsp;<span class="ident" id="7880462">err</span><span class="op" id="7880465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880469">}</span>&nbsp;<span class="keyword" id="7880471">else</span>&nbsp;<span class="op" id="7880476">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880481">time</span><span class="op" id="7880485">.</span><span class="ident" id="7880486">Sleep</span><span class="op" id="7880491">(</span><span class="num" id="7880492">3</span>&nbsp;<span class="op" id="7880494">*</span>&nbsp;<span class="ident" id="7880496">time</span><span class="op" id="7880500">.</span><span class="ident" id="7880501">Millisecond</span><span class="op" id="7880512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880520">ift2</span><span class="op" id="7880524">,</span>&nbsp;<span class="ident" id="7880526">err</span>&nbsp;<span class="op" id="7880530">:=</span>&nbsp;<span class="ident" id="7880533">Interfaces</span><span class="op" id="7880543">(</span><span class="op" id="7880544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880548">if</span>&nbsp;<span class="ident" id="7880551">err</span>&nbsp;<span class="op" id="7880555">!=</span>&nbsp;<span class="ident" id="7880558">nil</span>&nbsp;<span class="op" id="7880562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880567">ti</span><span class="op" id="7880569">.</span><span class="ident" id="7880570">teardown</span><span class="op" id="7880578">(</span><span class="op" id="7880579">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880584">t</span><span class="op" id="7880585">.</span><span class="ident" id="7880586">Fatalf</span><span class="op" id="7880592">(</span><span class="string" id="7880593">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7880616">,</span>&nbsp;<span class="ident" id="7880618">err</span><span class="op" id="7880621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880629">if</span>&nbsp;<span class="builtinfunc" id="7880632">len</span><span class="op" id="7880635">(</span><span class="ident" id="7880636">ift2</span><span class="op" id="7880640">)</span>&nbsp;<span class="op" id="7880642">&lt;=</span>&nbsp;<span class="builtinfunc" id="7880645">len</span><span class="op" id="7880648">(</span><span class="ident" id="7880649">ift1</span><span class="op" id="7880653">)</span>&nbsp;<span class="op" id="7880655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880660">for</span>&nbsp;<span class="ident" id="7880664">_</span><span class="op" id="7880665">,</span>&nbsp;<span class="ident" id="7880667">ifi</span>&nbsp;<span class="op" id="7880671">:=</span>&nbsp;<span class="keyword" id="7880674">range</span>&nbsp;<span class="ident" id="7880680">ift1</span>&nbsp;<span class="op" id="7880685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880691">t</span><span class="op" id="7880692">.</span><span class="ident" id="7880693">Logf</span><span class="op" id="7880697">(</span><span class="string" id="7880698">&#34;before:&nbsp;%v&#34;</span><span class="op" id="7880710">,</span>&nbsp;<span class="ident" id="7880712">ifi</span><span class="op" id="7880715">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880725">for</span>&nbsp;<span class="ident" id="7880729">_</span><span class="op" id="7880730">,</span>&nbsp;<span class="ident" id="7880732">ifi</span>&nbsp;<span class="op" id="7880736">:=</span>&nbsp;<span class="keyword" id="7880739">range</span>&nbsp;<span class="ident" id="7880745">ift2</span>&nbsp;<span class="op" id="7880750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880756">t</span><span class="op" id="7880757">.</span><span class="ident" id="7880758">Logf</span><span class="op" id="7880762">(</span><span class="string" id="7880763">&#34;after:&nbsp;%v&#34;</span><span class="op" id="7880774">,</span>&nbsp;<span class="ident" id="7880776">ifi</span><span class="op" id="7880779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880789">ti</span><span class="op" id="7880791">.</span><span class="ident" id="7880792">teardown</span><span class="op" id="7880800">(</span><span class="op" id="7880801">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880806">t</span><span class="op" id="7880807">.</span><span class="ident" id="7880808">Fatalf</span><span class="op" id="7880814">(</span><span class="string" id="7880815">&#34;got&nbsp;%v;&nbsp;want&nbsp;gt&nbsp;%v&#34;</span><span class="op" id="7880835">,</span>&nbsp;<span class="builtinfunc" id="7880837">len</span><span class="op" id="7880840">(</span><span class="ident" id="7880841">ift2</span><span class="op" id="7880845">)</span><span class="op" id="7880846">,</span>&nbsp;<span class="builtinfunc" id="7880848">len</span><span class="op" id="7880851">(</span><span class="ident" id="7880852">ift1</span><span class="op" id="7880856">)</span><span class="op" id="7880857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880865">if</span>&nbsp;<span class="ident" id="7880868">err</span>&nbsp;<span class="op" id="7880872">:=</span>&nbsp;<span class="ident" id="7880875">ti</span><span class="op" id="7880877">.</span><span class="ident" id="7880878">teardown</span><span class="op" id="7880886">(</span><span class="op" id="7880887">)</span><span class="op" id="7880888">;</span>&nbsp;<span class="ident" id="7880890">err</span>&nbsp;<span class="op" id="7880894">!=</span>&nbsp;<span class="ident" id="7880897">nil</span>&nbsp;<span class="op" id="7880901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880906">t</span><span class="op" id="7880907">.</span><span class="ident" id="7880908">Fatalf</span><span class="op" id="7880914">(</span><span class="string" id="7880915">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7880950">,</span>&nbsp;<span class="ident" id="7880952">err</span><span class="op" id="7880955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880959">}</span>&nbsp;<span class="keyword" id="7880961">else</span>&nbsp;<span class="op" id="7880966">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880971">time</span><span class="op" id="7880975">.</span><span class="ident" id="7880976">Sleep</span><span class="op" id="7880981">(</span><span class="num" id="7880982">3</span>&nbsp;<span class="op" id="7880984">*</span>&nbsp;<span class="ident" id="7880986">time</span><span class="op" id="7880990">.</span><span class="ident" id="7880991">Millisecond</span><span class="op" id="7881002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881010">ift3</span><span class="op" id="7881014">,</span>&nbsp;<span class="ident" id="7881016">err</span>&nbsp;<span class="op" id="7881020">:=</span>&nbsp;<span class="ident" id="7881023">Interfaces</span><span class="op" id="7881033">(</span><span class="op" id="7881034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881038">if</span>&nbsp;<span class="ident" id="7881041">err</span>&nbsp;<span class="op" id="7881045">!=</span>&nbsp;<span class="ident" id="7881048">nil</span>&nbsp;<span class="op" id="7881052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881057">t</span><span class="op" id="7881058">.</span><span class="ident" id="7881059">Fatalf</span><span class="op" id="7881065">(</span><span class="string" id="7881066">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7881089">,</span>&nbsp;<span class="ident" id="7881091">err</span><span class="op" id="7881094">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881102">if</span>&nbsp;<span class="builtinfunc" id="7881105">len</span><span class="op" id="7881108">(</span><span class="ident" id="7881109">ift3</span><span class="op" id="7881113">)</span>&nbsp;<span class="op" id="7881115">&gt;=</span>&nbsp;<span class="builtinfunc" id="7881118">len</span><span class="op" id="7881121">(</span><span class="ident" id="7881122">ift2</span><span class="op" id="7881126">)</span>&nbsp;<span class="op" id="7881128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881133">for</span>&nbsp;<span class="ident" id="7881137">_</span><span class="op" id="7881138">,</span>&nbsp;<span class="ident" id="7881140">ifi</span>&nbsp;<span class="op" id="7881144">:=</span>&nbsp;<span class="keyword" id="7881147">range</span>&nbsp;<span class="ident" id="7881153">ift2</span>&nbsp;<span class="op" id="7881158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881164">t</span><span class="op" id="7881165">.</span><span class="ident" id="7881166">Logf</span><span class="op" id="7881170">(</span><span class="string" id="7881171">&#34;before:&nbsp;%v&#34;</span><span class="op" id="7881183">,</span>&nbsp;<span class="ident" id="7881185">ifi</span><span class="op" id="7881188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881193">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881198">for</span>&nbsp;<span class="ident" id="7881202">_</span><span class="op" id="7881203">,</span>&nbsp;<span class="ident" id="7881205">ifi</span>&nbsp;<span class="op" id="7881209">:=</span>&nbsp;<span class="keyword" id="7881212">range</span>&nbsp;<span class="ident" id="7881218">ift3</span>&nbsp;<span class="op" id="7881223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881229">t</span><span class="op" id="7881230">.</span><span class="ident" id="7881231">Logf</span><span class="op" id="7881235">(</span><span class="string" id="7881236">&#34;after:&nbsp;%v&#34;</span><span class="op" id="7881247">,</span>&nbsp;<span class="ident" id="7881249">ifi</span><span class="op" id="7881252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881262">t</span><span class="op" id="7881263">.</span><span class="ident" id="7881264">Fatalf</span><span class="op" id="7881270">(</span><span class="string" id="7881271">&#34;got&nbsp;%v;&nbsp;want&nbsp;lt&nbsp;%v&#34;</span><span class="op" id="7881291">,</span>&nbsp;<span class="builtinfunc" id="7881293">len</span><span class="op" id="7881296">(</span><span class="ident" id="7881297">ift3</span><span class="op" id="7881301">)</span><span class="op" id="7881302">,</span>&nbsp;<span class="builtinfunc" id="7881304">len</span><span class="op" id="7881307">(</span><span class="ident" id="7881308">ift2</span><span class="op" id="7881312">)</span><span class="op" id="7881313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881317">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881320">}</span><br>
<span class="lineno"></span><span class="op" id="7881322">}</span>
</div>
</body>
</html>
