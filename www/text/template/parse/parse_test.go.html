<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6643263">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6643318">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6643372">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6643423">package</span>&nbsp;<span class="ident" id="6643431">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6643438">import</span>&nbsp;<span class="op" id="6643445">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6643448">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6643456">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6643463">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6643474">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6643484">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6643487">var</span>&nbsp;<span class="ident" id="6643491">debug</span>&nbsp;<span class="op" id="6643497">=</span>&nbsp;<span class="ident" id="6643499"><a href="/text/template/parse/parse_test.go.html#6643448">flag</a></span><span class="op" id="6643503">.</span><span class="ident" id="6643504">Bool</span><span class="op" id="6643508">(</span><span class="string" id="6643509">&#34;debug&#34;</span><span class="op" id="6643516">,</span>&nbsp;<span class="ident" id="6643518">false</span><span class="op" id="6643523">,</span>&nbsp;<span class="string" id="6643525">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="6643569">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6643572">type</span>&nbsp;<span class="ident" id="6643577">numberTest</span>&nbsp;<span class="keyword" id="6643588">struct</span>&nbsp;<span class="op" id="6643595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643598">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6643608">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643616">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6643626">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643632">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6643642">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643648">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6643658">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643664">isComplex</span>&nbsp;<span class="builtintype" id="6643674">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643680">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643687">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6643695">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6643704">complex128</span><br>
<span class="lineno"></span><span class="op" id="6643715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6643718">var</span>&nbsp;<span class="ident" id="6643722">numberTests</span>&nbsp;<span class="op" id="6643734">=</span>&nbsp;<span class="op" id="6643736">[</span><span class="op" id="6643737">]</span><span class="ident" id="6643738"><a href="/text/template/parse/parse_test.go.html#6643577">numberTest</a></span><span class="op" id="6643748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6643751">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643762">{</span><span class="string" id="6643763">&#34;0&#34;</span><span class="op" id="6643766">,</span>&nbsp;<span class="ident" id="6643768">true</span><span class="op" id="6643772">,</span>&nbsp;<span class="ident" id="6643774">true</span><span class="op" id="6643778">,</span>&nbsp;<span class="ident" id="6643780">true</span><span class="op" id="6643784">,</span>&nbsp;<span class="ident" id="6643786">false</span><span class="op" id="6643791">,</span>&nbsp;<span class="num" id="6643793">0</span><span class="op" id="6643794">,</span>&nbsp;<span class="num" id="6643796">0</span><span class="op" id="6643797">,</span>&nbsp;<span class="num" id="6643799">0</span><span class="op" id="6643800">,</span>&nbsp;<span class="num" id="6643802">0</span><span class="op" id="6643803">}</span><span class="op" id="6643804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643807">{</span><span class="string" id="6643808">&#34;-0&#34;</span><span class="op" id="6643812">,</span>&nbsp;<span class="ident" id="6643814">true</span><span class="op" id="6643818">,</span>&nbsp;<span class="ident" id="6643820">true</span><span class="op" id="6643824">,</span>&nbsp;<span class="ident" id="6643826">true</span><span class="op" id="6643830">,</span>&nbsp;<span class="ident" id="6643832">false</span><span class="op" id="6643837">,</span>&nbsp;<span class="num" id="6643839">0</span><span class="op" id="6643840">,</span>&nbsp;<span class="num" id="6643842">0</span><span class="op" id="6643843">,</span>&nbsp;<span class="num" id="6643845">0</span><span class="op" id="6643846">,</span>&nbsp;<span class="num" id="6643848">0</span><span class="op" id="6643849">}</span><span class="op" id="6643850">,</span>&nbsp;<span class="comment" id="6643852">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643881">{</span><span class="string" id="6643882">&#34;73&#34;</span><span class="op" id="6643886">,</span>&nbsp;<span class="ident" id="6643888">true</span><span class="op" id="6643892">,</span>&nbsp;<span class="ident" id="6643894">true</span><span class="op" id="6643898">,</span>&nbsp;<span class="ident" id="6643900">true</span><span class="op" id="6643904">,</span>&nbsp;<span class="ident" id="6643906">false</span><span class="op" id="6643911">,</span>&nbsp;<span class="num" id="6643913">73</span><span class="op" id="6643915">,</span>&nbsp;<span class="num" id="6643917">73</span><span class="op" id="6643919">,</span>&nbsp;<span class="num" id="6643921">73</span><span class="op" id="6643923">,</span>&nbsp;<span class="num" id="6643925">0</span><span class="op" id="6643926">}</span><span class="op" id="6643927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643930">{</span><span class="string" id="6643931">&#34;073&#34;</span><span class="op" id="6643936">,</span>&nbsp;<span class="ident" id="6643938">true</span><span class="op" id="6643942">,</span>&nbsp;<span class="ident" id="6643944">true</span><span class="op" id="6643948">,</span>&nbsp;<span class="ident" id="6643950">true</span><span class="op" id="6643954">,</span>&nbsp;<span class="ident" id="6643956">false</span><span class="op" id="6643961">,</span>&nbsp;<span class="num" id="6643963">073</span><span class="op" id="6643966">,</span>&nbsp;<span class="num" id="6643968">073</span><span class="op" id="6643971">,</span>&nbsp;<span class="num" id="6643973">073</span><span class="op" id="6643976">,</span>&nbsp;<span class="num" id="6643978">0</span><span class="op" id="6643979">}</span><span class="op" id="6643980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643983">{</span><span class="string" id="6643984">&#34;0x73&#34;</span><span class="op" id="6643990">,</span>&nbsp;<span class="ident" id="6643992">true</span><span class="op" id="6643996">,</span>&nbsp;<span class="ident" id="6643998">true</span><span class="op" id="6644002">,</span>&nbsp;<span class="ident" id="6644004">true</span><span class="op" id="6644008">,</span>&nbsp;<span class="ident" id="6644010">false</span><span class="op" id="6644015">,</span>&nbsp;<span class="num" id="6644017">0x73</span><span class="op" id="6644021">,</span>&nbsp;<span class="num" id="6644023">0x73</span><span class="op" id="6644027">,</span>&nbsp;<span class="num" id="6644029">0x73</span><span class="op" id="6644033">,</span>&nbsp;<span class="num" id="6644035">0</span><span class="op" id="6644036">}</span><span class="op" id="6644037">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644040">{</span><span class="string" id="6644041">&#34;-73&#34;</span><span class="op" id="6644046">,</span>&nbsp;<span class="ident" id="6644048">true</span><span class="op" id="6644052">,</span>&nbsp;<span class="ident" id="6644054">false</span><span class="op" id="6644059">,</span>&nbsp;<span class="ident" id="6644061">true</span><span class="op" id="6644065">,</span>&nbsp;<span class="ident" id="6644067">false</span><span class="op" id="6644072">,</span>&nbsp;<span class="op" id="6644074">-</span><span class="num" id="6644075">73</span><span class="op" id="6644077">,</span>&nbsp;<span class="num" id="6644079">0</span><span class="op" id="6644080">,</span>&nbsp;<span class="op" id="6644082">-</span><span class="num" id="6644083">73</span><span class="op" id="6644085">,</span>&nbsp;<span class="num" id="6644087">0</span><span class="op" id="6644088">}</span><span class="op" id="6644089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644092">{</span><span class="string" id="6644093">&#34;+73&#34;</span><span class="op" id="6644098">,</span>&nbsp;<span class="ident" id="6644100">true</span><span class="op" id="6644104">,</span>&nbsp;<span class="ident" id="6644106">false</span><span class="op" id="6644111">,</span>&nbsp;<span class="ident" id="6644113">true</span><span class="op" id="6644117">,</span>&nbsp;<span class="ident" id="6644119">false</span><span class="op" id="6644124">,</span>&nbsp;<span class="num" id="6644126">73</span><span class="op" id="6644128">,</span>&nbsp;<span class="num" id="6644130">0</span><span class="op" id="6644131">,</span>&nbsp;<span class="num" id="6644133">73</span><span class="op" id="6644135">,</span>&nbsp;<span class="num" id="6644137">0</span><span class="op" id="6644138">}</span><span class="op" id="6644139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644142">{</span><span class="string" id="6644143">&#34;100&#34;</span><span class="op" id="6644148">,</span>&nbsp;<span class="ident" id="6644150">true</span><span class="op" id="6644154">,</span>&nbsp;<span class="ident" id="6644156">true</span><span class="op" id="6644160">,</span>&nbsp;<span class="ident" id="6644162">true</span><span class="op" id="6644166">,</span>&nbsp;<span class="ident" id="6644168">false</span><span class="op" id="6644173">,</span>&nbsp;<span class="num" id="6644175">100</span><span class="op" id="6644178">,</span>&nbsp;<span class="num" id="6644180">100</span><span class="op" id="6644183">,</span>&nbsp;<span class="num" id="6644185">100</span><span class="op" id="6644188">,</span>&nbsp;<span class="num" id="6644190">0</span><span class="op" id="6644191">}</span><span class="op" id="6644192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644195">{</span><span class="string" id="6644196">&#34;1e9&#34;</span><span class="op" id="6644201">,</span>&nbsp;<span class="ident" id="6644203">true</span><span class="op" id="6644207">,</span>&nbsp;<span class="ident" id="6644209">true</span><span class="op" id="6644213">,</span>&nbsp;<span class="ident" id="6644215">true</span><span class="op" id="6644219">,</span>&nbsp;<span class="ident" id="6644221">false</span><span class="op" id="6644226">,</span>&nbsp;<span class="num" id="6644228">1e9</span><span class="op" id="6644231">,</span>&nbsp;<span class="num" id="6644233">1e9</span><span class="op" id="6644236">,</span>&nbsp;<span class="num" id="6644238">1e9</span><span class="op" id="6644241">,</span>&nbsp;<span class="num" id="6644243">0</span><span class="op" id="6644244">}</span><span class="op" id="6644245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644248">{</span><span class="string" id="6644249">&#34;-1e9&#34;</span><span class="op" id="6644255">,</span>&nbsp;<span class="ident" id="6644257">true</span><span class="op" id="6644261">,</span>&nbsp;<span class="ident" id="6644263">false</span><span class="op" id="6644268">,</span>&nbsp;<span class="ident" id="6644270">true</span><span class="op" id="6644274">,</span>&nbsp;<span class="ident" id="6644276">false</span><span class="op" id="6644281">,</span>&nbsp;<span class="op" id="6644283">-</span><span class="num" id="6644284">1e9</span><span class="op" id="6644287">,</span>&nbsp;<span class="num" id="6644289">0</span><span class="op" id="6644290">,</span>&nbsp;<span class="op" id="6644292">-</span><span class="num" id="6644293">1e9</span><span class="op" id="6644296">,</span>&nbsp;<span class="num" id="6644298">0</span><span class="op" id="6644299">}</span><span class="op" id="6644300">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644303">{</span><span class="string" id="6644304">&#34;-1.2&#34;</span><span class="op" id="6644310">,</span>&nbsp;<span class="ident" id="6644312">false</span><span class="op" id="6644317">,</span>&nbsp;<span class="ident" id="6644319">false</span><span class="op" id="6644324">,</span>&nbsp;<span class="ident" id="6644326">true</span><span class="op" id="6644330">,</span>&nbsp;<span class="ident" id="6644332">false</span><span class="op" id="6644337">,</span>&nbsp;<span class="num" id="6644339">0</span><span class="op" id="6644340">,</span>&nbsp;<span class="num" id="6644342">0</span><span class="op" id="6644343">,</span>&nbsp;<span class="op" id="6644345">-</span><span class="num" id="6644346">1.2</span><span class="op" id="6644349">,</span>&nbsp;<span class="num" id="6644351">0</span><span class="op" id="6644352">}</span><span class="op" id="6644353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644356">{</span><span class="string" id="6644357">&#34;1e19&#34;</span><span class="op" id="6644363">,</span>&nbsp;<span class="ident" id="6644365">false</span><span class="op" id="6644370">,</span>&nbsp;<span class="ident" id="6644372">true</span><span class="op" id="6644376">,</span>&nbsp;<span class="ident" id="6644378">true</span><span class="op" id="6644382">,</span>&nbsp;<span class="ident" id="6644384">false</span><span class="op" id="6644389">,</span>&nbsp;<span class="num" id="6644391">0</span><span class="op" id="6644392">,</span>&nbsp;<span class="num" id="6644394">1e19</span><span class="op" id="6644398">,</span>&nbsp;<span class="num" id="6644400">1e19</span><span class="op" id="6644404">,</span>&nbsp;<span class="num" id="6644406">0</span><span class="op" id="6644407">}</span><span class="op" id="6644408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644411">{</span><span class="string" id="6644412">&#34;-1e19&#34;</span><span class="op" id="6644419">,</span>&nbsp;<span class="ident" id="6644421">false</span><span class="op" id="6644426">,</span>&nbsp;<span class="ident" id="6644428">false</span><span class="op" id="6644433">,</span>&nbsp;<span class="ident" id="6644435">true</span><span class="op" id="6644439">,</span>&nbsp;<span class="ident" id="6644441">false</span><span class="op" id="6644446">,</span>&nbsp;<span class="num" id="6644448">0</span><span class="op" id="6644449">,</span>&nbsp;<span class="num" id="6644451">0</span><span class="op" id="6644452">,</span>&nbsp;<span class="op" id="6644454">-</span><span class="num" id="6644455">1e19</span><span class="op" id="6644459">,</span>&nbsp;<span class="num" id="6644461">0</span><span class="op" id="6644462">}</span><span class="op" id="6644463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644466">{</span><span class="string" id="6644467">&#34;4i&#34;</span><span class="op" id="6644471">,</span>&nbsp;<span class="ident" id="6644473">false</span><span class="op" id="6644478">,</span>&nbsp;<span class="ident" id="6644480">false</span><span class="op" id="6644485">,</span>&nbsp;<span class="ident" id="6644487">false</span><span class="op" id="6644492">,</span>&nbsp;<span class="ident" id="6644494">true</span><span class="op" id="6644498">,</span>&nbsp;<span class="num" id="6644500">0</span><span class="op" id="6644501">,</span>&nbsp;<span class="num" id="6644503">0</span><span class="op" id="6644504">,</span>&nbsp;<span class="num" id="6644506">0</span><span class="op" id="6644507">,</span>&nbsp;<span class="num" id="6644509">4i</span><span class="op" id="6644511">}</span><span class="op" id="6644512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644515">{</span><span class="string" id="6644516">&#34;-1.2+4.2i&#34;</span><span class="op" id="6644527">,</span>&nbsp;<span class="ident" id="6644529">false</span><span class="op" id="6644534">,</span>&nbsp;<span class="ident" id="6644536">false</span><span class="op" id="6644541">,</span>&nbsp;<span class="ident" id="6644543">false</span><span class="op" id="6644548">,</span>&nbsp;<span class="ident" id="6644550">true</span><span class="op" id="6644554">,</span>&nbsp;<span class="num" id="6644556">0</span><span class="op" id="6644557">,</span>&nbsp;<span class="num" id="6644559">0</span><span class="op" id="6644560">,</span>&nbsp;<span class="num" id="6644562">0</span><span class="op" id="6644563">,</span>&nbsp;<span class="op" id="6644565">-</span><span class="num" id="6644566">1.2</span>&nbsp;<span class="op" id="6644570">+</span>&nbsp;<span class="num" id="6644572">4.2i</span><span class="op" id="6644576">}</span><span class="op" id="6644577">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644580">{</span><span class="string" id="6644581">&#34;073i&#34;</span><span class="op" id="6644587">,</span>&nbsp;<span class="ident" id="6644589">false</span><span class="op" id="6644594">,</span>&nbsp;<span class="ident" id="6644596">false</span><span class="op" id="6644601">,</span>&nbsp;<span class="ident" id="6644603">false</span><span class="op" id="6644608">,</span>&nbsp;<span class="ident" id="6644610">true</span><span class="op" id="6644614">,</span>&nbsp;<span class="num" id="6644616">0</span><span class="op" id="6644617">,</span>&nbsp;<span class="num" id="6644619">0</span><span class="op" id="6644620">,</span>&nbsp;<span class="num" id="6644622">0</span><span class="op" id="6644623">,</span>&nbsp;<span class="num" id="6644625">73i</span><span class="op" id="6644628">}</span><span class="op" id="6644629">,</span>&nbsp;<span class="comment" id="6644631">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6644646">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644705">{</span><span class="string" id="6644706">&#34;0i&#34;</span><span class="op" id="6644710">,</span>&nbsp;<span class="ident" id="6644712">true</span><span class="op" id="6644716">,</span>&nbsp;<span class="ident" id="6644718">true</span><span class="op" id="6644722">,</span>&nbsp;<span class="ident" id="6644724">true</span><span class="op" id="6644728">,</span>&nbsp;<span class="ident" id="6644730">true</span><span class="op" id="6644734">,</span>&nbsp;<span class="num" id="6644736">0</span><span class="op" id="6644737">,</span>&nbsp;<span class="num" id="6644739">0</span><span class="op" id="6644740">,</span>&nbsp;<span class="num" id="6644742">0</span><span class="op" id="6644743">,</span>&nbsp;<span class="num" id="6644745">0</span><span class="op" id="6644746">}</span><span class="op" id="6644747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644750">{</span><span class="string" id="6644751">&#34;-1.2+0i&#34;</span><span class="op" id="6644760">,</span>&nbsp;<span class="ident" id="6644762">false</span><span class="op" id="6644767">,</span>&nbsp;<span class="ident" id="6644769">false</span><span class="op" id="6644774">,</span>&nbsp;<span class="ident" id="6644776">true</span><span class="op" id="6644780">,</span>&nbsp;<span class="ident" id="6644782">true</span><span class="op" id="6644786">,</span>&nbsp;<span class="num" id="6644788">0</span><span class="op" id="6644789">,</span>&nbsp;<span class="num" id="6644791">0</span><span class="op" id="6644792">,</span>&nbsp;<span class="op" id="6644794">-</span><span class="num" id="6644795">1.2</span><span class="op" id="6644798">,</span>&nbsp;<span class="op" id="6644800">-</span><span class="num" id="6644801">1.2</span><span class="op" id="6644804">}</span><span class="op" id="6644805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644808">{</span><span class="string" id="6644809">&#34;-12+0i&#34;</span><span class="op" id="6644817">,</span>&nbsp;<span class="ident" id="6644819">true</span><span class="op" id="6644823">,</span>&nbsp;<span class="ident" id="6644825">false</span><span class="op" id="6644830">,</span>&nbsp;<span class="ident" id="6644832">true</span><span class="op" id="6644836">,</span>&nbsp;<span class="ident" id="6644838">true</span><span class="op" id="6644842">,</span>&nbsp;<span class="op" id="6644844">-</span><span class="num" id="6644845">12</span><span class="op" id="6644847">,</span>&nbsp;<span class="num" id="6644849">0</span><span class="op" id="6644850">,</span>&nbsp;<span class="op" id="6644852">-</span><span class="num" id="6644853">12</span><span class="op" id="6644855">,</span>&nbsp;<span class="op" id="6644857">-</span><span class="num" id="6644858">12</span><span class="op" id="6644860">}</span><span class="op" id="6644861">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644864">{</span><span class="string" id="6644865">&#34;13+0i&#34;</span><span class="op" id="6644872">,</span>&nbsp;<span class="ident" id="6644874">true</span><span class="op" id="6644878">,</span>&nbsp;<span class="ident" id="6644880">true</span><span class="op" id="6644884">,</span>&nbsp;<span class="ident" id="6644886">true</span><span class="op" id="6644890">,</span>&nbsp;<span class="ident" id="6644892">true</span><span class="op" id="6644896">,</span>&nbsp;<span class="num" id="6644898">13</span><span class="op" id="6644900">,</span>&nbsp;<span class="num" id="6644902">13</span><span class="op" id="6644904">,</span>&nbsp;<span class="num" id="6644906">13</span><span class="op" id="6644908">,</span>&nbsp;<span class="num" id="6644910">13</span><span class="op" id="6644912">}</span><span class="op" id="6644913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6644916">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644932">{</span><span class="string" id="6644933">&#34;0123&#34;</span><span class="op" id="6644939">,</span>&nbsp;<span class="ident" id="6644941">true</span><span class="op" id="6644945">,</span>&nbsp;<span class="ident" id="6644947">true</span><span class="op" id="6644951">,</span>&nbsp;<span class="ident" id="6644953">true</span><span class="op" id="6644957">,</span>&nbsp;<span class="ident" id="6644959">false</span><span class="op" id="6644964">,</span>&nbsp;<span class="num" id="6644966">0123</span><span class="op" id="6644970">,</span>&nbsp;<span class="num" id="6644972">0123</span><span class="op" id="6644976">,</span>&nbsp;<span class="num" id="6644978">0123</span><span class="op" id="6644982">,</span>&nbsp;<span class="num" id="6644984">0</span><span class="op" id="6644985">}</span><span class="op" id="6644986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644989">{</span><span class="string" id="6644990">&#34;-0x0&#34;</span><span class="op" id="6644996">,</span>&nbsp;<span class="ident" id="6644998">true</span><span class="op" id="6645002">,</span>&nbsp;<span class="ident" id="6645004">true</span><span class="op" id="6645008">,</span>&nbsp;<span class="ident" id="6645010">true</span><span class="op" id="6645014">,</span>&nbsp;<span class="ident" id="6645016">false</span><span class="op" id="6645021">,</span>&nbsp;<span class="num" id="6645023">0</span><span class="op" id="6645024">,</span>&nbsp;<span class="num" id="6645026">0</span><span class="op" id="6645027">,</span>&nbsp;<span class="num" id="6645029">0</span><span class="op" id="6645030">,</span>&nbsp;<span class="num" id="6645032">0</span><span class="op" id="6645033">}</span><span class="op" id="6645034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645037">{</span><span class="string" id="6645038">&#34;0xdeadbeef&#34;</span><span class="op" id="6645050">,</span>&nbsp;<span class="ident" id="6645052">true</span><span class="op" id="6645056">,</span>&nbsp;<span class="ident" id="6645058">true</span><span class="op" id="6645062">,</span>&nbsp;<span class="ident" id="6645064">true</span><span class="op" id="6645068">,</span>&nbsp;<span class="ident" id="6645070">false</span><span class="op" id="6645075">,</span>&nbsp;<span class="num" id="6645077">0xdeadbeef</span><span class="op" id="6645087">,</span>&nbsp;<span class="num" id="6645089">0xdeadbeef</span><span class="op" id="6645099">,</span>&nbsp;<span class="num" id="6645101">0xdeadbeef</span><span class="op" id="6645111">,</span>&nbsp;<span class="num" id="6645113">0</span><span class="op" id="6645114">}</span><span class="op" id="6645115">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6645118">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645142">{</span><span class="string" id="6645143">`&#39;a&#39;`</span><span class="op" id="6645148">,</span>&nbsp;<span class="ident" id="6645150">true</span><span class="op" id="6645154">,</span>&nbsp;<span class="ident" id="6645156">true</span><span class="op" id="6645160">,</span>&nbsp;<span class="ident" id="6645162">true</span><span class="op" id="6645166">,</span>&nbsp;<span class="ident" id="6645168">false</span><span class="op" id="6645173">,</span>&nbsp;<span class="string" id="6645175">&#39;a&#39;</span><span class="op" id="6645178">,</span>&nbsp;<span class="string" id="6645180">&#39;a&#39;</span><span class="op" id="6645183">,</span>&nbsp;<span class="string" id="6645185">&#39;a&#39;</span><span class="op" id="6645188">,</span>&nbsp;<span class="num" id="6645190">0</span><span class="op" id="6645191">}</span><span class="op" id="6645192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645195">{</span><span class="string" id="6645196">`&#39;\n&#39;`</span><span class="op" id="6645202">,</span>&nbsp;<span class="ident" id="6645204">true</span><span class="op" id="6645208">,</span>&nbsp;<span class="ident" id="6645210">true</span><span class="op" id="6645214">,</span>&nbsp;<span class="ident" id="6645216">true</span><span class="op" id="6645220">,</span>&nbsp;<span class="ident" id="6645222">false</span><span class="op" id="6645227">,</span>&nbsp;<span class="string" id="6645229">&#39;\n&#39;</span><span class="op" id="6645233">,</span>&nbsp;<span class="string" id="6645235">&#39;\n&#39;</span><span class="op" id="6645239">,</span>&nbsp;<span class="string" id="6645241">&#39;\n&#39;</span><span class="op" id="6645245">,</span>&nbsp;<span class="num" id="6645247">0</span><span class="op" id="6645248">}</span><span class="op" id="6645249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645252">{</span><span class="string" id="6645253">`&#39;\\&#39;`</span><span class="op" id="6645259">,</span>&nbsp;<span class="ident" id="6645261">true</span><span class="op" id="6645265">,</span>&nbsp;<span class="ident" id="6645267">true</span><span class="op" id="6645271">,</span>&nbsp;<span class="ident" id="6645273">true</span><span class="op" id="6645277">,</span>&nbsp;<span class="ident" id="6645279">false</span><span class="op" id="6645284">,</span>&nbsp;<span class="string" id="6645286">&#39;\\&#39;</span><span class="op" id="6645290">,</span>&nbsp;<span class="string" id="6645292">&#39;\\&#39;</span><span class="op" id="6645296">,</span>&nbsp;<span class="string" id="6645298">&#39;\\&#39;</span><span class="op" id="6645302">,</span>&nbsp;<span class="num" id="6645304">0</span><span class="op" id="6645305">}</span><span class="op" id="6645306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645309">{</span><span class="string" id="6645310">`&#39;\&#39;&#39;`</span><span class="op" id="6645316">,</span>&nbsp;<span class="ident" id="6645318">true</span><span class="op" id="6645322">,</span>&nbsp;<span class="ident" id="6645324">true</span><span class="op" id="6645328">,</span>&nbsp;<span class="ident" id="6645330">true</span><span class="op" id="6645334">,</span>&nbsp;<span class="ident" id="6645336">false</span><span class="op" id="6645341">,</span>&nbsp;<span class="string" id="6645343">&#39;\&#39;&#39;</span><span class="op" id="6645347">,</span>&nbsp;<span class="string" id="6645349">&#39;\&#39;&#39;</span><span class="op" id="6645353">,</span>&nbsp;<span class="string" id="6645355">&#39;\&#39;&#39;</span><span class="op" id="6645359">,</span>&nbsp;<span class="num" id="6645361">0</span><span class="op" id="6645362">}</span><span class="op" id="6645363">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645366">{</span><span class="string" id="6645367">`&#39;\xFF&#39;`</span><span class="op" id="6645375">,</span>&nbsp;<span class="ident" id="6645377">true</span><span class="op" id="6645381">,</span>&nbsp;<span class="ident" id="6645383">true</span><span class="op" id="6645387">,</span>&nbsp;<span class="ident" id="6645389">true</span><span class="op" id="6645393">,</span>&nbsp;<span class="ident" id="6645395">false</span><span class="op" id="6645400">,</span>&nbsp;<span class="num" id="6645402">0xFF</span><span class="op" id="6645406">,</span>&nbsp;<span class="num" id="6645408">0xFF</span><span class="op" id="6645412">,</span>&nbsp;<span class="num" id="6645414">0xFF</span><span class="op" id="6645418">,</span>&nbsp;<span class="num" id="6645420">0</span><span class="op" id="6645421">}</span><span class="op" id="6645422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645425">{</span><span class="string" id="6645426">`&#39;パ&#39;`</span><span class="op" id="6645433">,</span>&nbsp;<span class="ident" id="6645435">true</span><span class="op" id="6645439">,</span>&nbsp;<span class="ident" id="6645441">true</span><span class="op" id="6645445">,</span>&nbsp;<span class="ident" id="6645447">true</span><span class="op" id="6645451">,</span>&nbsp;<span class="ident" id="6645453">false</span><span class="op" id="6645458">,</span>&nbsp;<span class="num" id="6645460">0x30d1</span><span class="op" id="6645466">,</span>&nbsp;<span class="num" id="6645468">0x30d1</span><span class="op" id="6645474">,</span>&nbsp;<span class="num" id="6645476">0x30d1</span><span class="op" id="6645482">,</span>&nbsp;<span class="num" id="6645484">0</span><span class="op" id="6645485">}</span><span class="op" id="6645486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645489">{</span><span class="string" id="6645490">`&#39;\u30d1&#39;`</span><span class="op" id="6645500">,</span>&nbsp;<span class="ident" id="6645502">true</span><span class="op" id="6645506">,</span>&nbsp;<span class="ident" id="6645508">true</span><span class="op" id="6645512">,</span>&nbsp;<span class="ident" id="6645514">true</span><span class="op" id="6645518">,</span>&nbsp;<span class="ident" id="6645520">false</span><span class="op" id="6645525">,</span>&nbsp;<span class="num" id="6645527">0x30d1</span><span class="op" id="6645533">,</span>&nbsp;<span class="num" id="6645535">0x30d1</span><span class="op" id="6645541">,</span>&nbsp;<span class="num" id="6645543">0x30d1</span><span class="op" id="6645549">,</span>&nbsp;<span class="num" id="6645551">0</span><span class="op" id="6645552">}</span><span class="op" id="6645553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645556">{</span><span class="string" id="6645557">`&#39;\U000030d1&#39;`</span><span class="op" id="6645571">,</span>&nbsp;<span class="ident" id="6645573">true</span><span class="op" id="6645577">,</span>&nbsp;<span class="ident" id="6645579">true</span><span class="op" id="6645583">,</span>&nbsp;<span class="ident" id="6645585">true</span><span class="op" id="6645589">,</span>&nbsp;<span class="ident" id="6645591">false</span><span class="op" id="6645596">,</span>&nbsp;<span class="num" id="6645598">0x30d1</span><span class="op" id="6645604">,</span>&nbsp;<span class="num" id="6645606">0x30d1</span><span class="op" id="6645612">,</span>&nbsp;<span class="num" id="6645614">0x30d1</span><span class="op" id="6645620">,</span>&nbsp;<span class="num" id="6645622">0</span><span class="op" id="6645623">}</span><span class="op" id="6645624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6645627">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645650">{</span><span class="ident" id="6645651">text</span><span class="op" id="6645655">:</span>&nbsp;<span class="string" id="6645657">&#34;+-2&#34;</span><span class="op" id="6645662">}</span><span class="op" id="6645663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645666">{</span><span class="ident" id="6645667">text</span><span class="op" id="6645671">:</span>&nbsp;<span class="string" id="6645673">&#34;0x123.&#34;</span><span class="op" id="6645681">}</span><span class="op" id="6645682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645685">{</span><span class="ident" id="6645686">text</span><span class="op" id="6645690">:</span>&nbsp;<span class="string" id="6645692">&#34;1e.&#34;</span><span class="op" id="6645697">}</span><span class="op" id="6645698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645701">{</span><span class="ident" id="6645702">text</span><span class="op" id="6645706">:</span>&nbsp;<span class="string" id="6645708">&#34;0xi.&#34;</span><span class="op" id="6645714">}</span><span class="op" id="6645715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645718">{</span><span class="ident" id="6645719">text</span><span class="op" id="6645723">:</span>&nbsp;<span class="string" id="6645725">&#34;1+2.&#34;</span><span class="op" id="6645731">}</span><span class="op" id="6645732">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645735">{</span><span class="ident" id="6645736">text</span><span class="op" id="6645740">:</span>&nbsp;<span class="string" id="6645742">&#34;&#39;x&#34;</span><span class="op" id="6645746">}</span><span class="op" id="6645747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645750">{</span><span class="ident" id="6645751">text</span><span class="op" id="6645755">:</span>&nbsp;<span class="string" id="6645757">&#34;&#39;xx&#39;&#34;</span><span class="op" id="6645763">}</span><span class="op" id="6645764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6645767">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645833">{</span><span class="string" id="6645834">&#34;0xef&#34;</span><span class="op" id="6645840">,</span>&nbsp;<span class="ident" id="6645842">true</span><span class="op" id="6645846">,</span>&nbsp;<span class="ident" id="6645848">true</span><span class="op" id="6645852">,</span>&nbsp;<span class="ident" id="6645854">true</span><span class="op" id="6645858">,</span>&nbsp;<span class="ident" id="6645860">false</span><span class="op" id="6645865">,</span>&nbsp;<span class="num" id="6645867">0xef</span><span class="op" id="6645871">,</span>&nbsp;<span class="num" id="6645873">0xef</span><span class="op" id="6645877">,</span>&nbsp;<span class="num" id="6645879">0xef</span><span class="op" id="6645883">,</span>&nbsp;<span class="num" id="6645885">0</span><span class="op" id="6645886">}</span><span class="op" id="6645887">,</span><br>
<span class="lineno"></span><span class="op" id="6645889">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="6645892">func</span>&nbsp;<span class="ident" id="6645897">TestNumberParse</span><span class="op" id="6645912">(</span><span class="ident" id="6645913">t</span>&nbsp;<span class="op" id="6645915">*</span><span class="ident" id="6645916"><a href="/text/template/parse/parse_test.go.html#6643474">testing</a></span><span class="op" id="6645923">.</span><span class="ident" id="6645924">T</span><span class="op" id="6645925">)</span>&nbsp;<span class="op" id="6645927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6645930">for</span>&nbsp;<span class="ident" id="6645934">_</span><span class="op" id="6645935">,</span>&nbsp;<span class="ident" id="6645937">test</span>&nbsp;<span class="op" id="6645942">:=</span>&nbsp;<span class="keyword" id="6645945">range</span>&nbsp;<span class="ident" id="6645951"><a href="/text/template/parse/parse_test.go.html#6643722">numberTests</a></span>&nbsp;<span class="op" id="6645963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6645967">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6646047">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646093">var</span>&nbsp;<span class="ident" id="6646097">c</span>&nbsp;<span class="builtintype" id="6646099">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646112">typ</span>&nbsp;<span class="op" id="6646116">:=</span>&nbsp;<span class="ident" id="6646119"><a href="/text/template/parse/lex.go.html#3362444">itemNumber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646132">var</span>&nbsp;<span class="ident" id="6646136">tree</span>&nbsp;<span class="op" id="6646141">*</span><span class="ident" id="6646142"><a href="/text/template/parse/parse.go.html#3395910">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646149">if</span>&nbsp;<span class="ident" id="6646152"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646156">.</span><span class="ident" id="6646157">text</span><span class="op" id="6646161">[</span><span class="num" id="6646162">0</span><span class="op" id="6646163">]</span>&nbsp;<span class="op" id="6646165">==</span>&nbsp;<span class="string" id="6646168">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="6646173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646178"><a href="/text/template/parse/parse_test.go.html#6646112">typ</a></span>&nbsp;<span class="op" id="6646182">=</span>&nbsp;<span class="ident" id="6646184"><a href="/text/template/parse/lex.go.html#3362003">itemCharConstant</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646203">}</span>&nbsp;<span class="keyword" id="6646205">else</span>&nbsp;<span class="op" id="6646210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646215">_</span><span class="op" id="6646216">,</span>&nbsp;<span class="ident" id="6646218">err</span>&nbsp;<span class="op" id="6646222">:=</span>&nbsp;<span class="ident" id="6646225"><a href="/text/template/parse/parse_test.go.html#6643456">fmt</a></span><span class="op" id="6646228">.</span><span class="ident" id="6646229">Sscan</span><span class="op" id="6646234">(</span><span class="ident" id="6646235"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646239">.</span><span class="ident" id="6646240">text</span><span class="op" id="6646244">,</span>&nbsp;<span class="op" id="6646246">&amp;</span><span class="ident" id="6646247"><a href="/text/template/parse/parse_test.go.html#6646097">c</a></span><span class="op" id="6646248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646253">if</span>&nbsp;<span class="ident" id="6646256"><a href="/text/template/parse/parse_test.go.html#6646218">err</a></span>&nbsp;<span class="op" id="6646260">==</span>&nbsp;<span class="ident" id="6646263">nil</span>&nbsp;<span class="op" id="6646267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646273"><a href="/text/template/parse/parse_test.go.html#6646112">typ</a></span>&nbsp;<span class="op" id="6646277">=</span>&nbsp;<span class="ident" id="6646279"><a href="/text/template/parse/lex.go.html#3362059">itemComplex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646294">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646302">n</span><span class="op" id="6646303">,</span>&nbsp;<span class="ident" id="6646305">err</span>&nbsp;<span class="op" id="6646309">:=</span>&nbsp;<span class="ident" id="6646312"><a href="/text/template/parse/parse_test.go.html#6646136">tree</a></span><span class="op" id="6646316">.</span><span class="ident" id="6646317">newNumber</span><span class="op" id="6646326">(</span><span class="num" id="6646327">0</span><span class="op" id="6646328">,</span>&nbsp;<span class="ident" id="6646330"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646334">.</span><span class="ident" id="6646335">text</span><span class="op" id="6646339">,</span>&nbsp;<span class="ident" id="6646341"><a href="/text/template/parse/parse_test.go.html#6646112">typ</a></span><span class="op" id="6646344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646348">ok</span>&nbsp;<span class="op" id="6646351">:=</span>&nbsp;<span class="ident" id="6646354"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646358">.</span><span class="ident" id="6646359">isInt</span>&nbsp;<span class="op" id="6646365">||</span>&nbsp;<span class="ident" id="6646368"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646372">.</span><span class="ident" id="6646373">isUint</span>&nbsp;<span class="op" id="6646380">||</span>&nbsp;<span class="ident" id="6646383"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646387">.</span><span class="ident" id="6646388">isFloat</span>&nbsp;<span class="op" id="6646396">||</span>&nbsp;<span class="ident" id="6646399"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646403">.</span><span class="ident" id="6646404">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646416">if</span>&nbsp;<span class="ident" id="6646419"><a href="/text/template/parse/parse_test.go.html#6646348">ok</a></span>&nbsp;<span class="op" id="6646422">&amp;&amp;</span>&nbsp;<span class="ident" id="6646425"><a href="/text/template/parse/parse_test.go.html#6646305">err</a></span>&nbsp;<span class="op" id="6646429">!=</span>&nbsp;<span class="ident" id="6646432">nil</span>&nbsp;<span class="op" id="6646436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646441"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6646442">.</span><span class="ident" id="6646443">Errorf</span><span class="op" id="6646449">(</span><span class="string" id="6646450">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6646479">,</span>&nbsp;<span class="ident" id="6646481"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646485">.</span><span class="ident" id="6646486">text</span><span class="op" id="6646490">,</span>&nbsp;<span class="ident" id="6646492"><a href="/text/template/parse/parse_test.go.html#6646305">err</a></span><span class="op" id="6646495">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646500">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646515">if</span>&nbsp;<span class="op" id="6646518">!</span><span class="ident" id="6646519"><a href="/text/template/parse/parse_test.go.html#6646348">ok</a></span>&nbsp;<span class="op" id="6646522">&amp;&amp;</span>&nbsp;<span class="ident" id="6646525"><a href="/text/template/parse/parse_test.go.html#6646305">err</a></span>&nbsp;<span class="op" id="6646529">==</span>&nbsp;<span class="ident" id="6646532">nil</span>&nbsp;<span class="op" id="6646536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646541"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6646542">.</span><span class="ident" id="6646543">Errorf</span><span class="op" id="6646549">(</span><span class="string" id="6646550">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6646573">,</span>&nbsp;<span class="ident" id="6646575"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646579">.</span><span class="ident" id="6646580">text</span><span class="op" id="6646584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646589">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646604">if</span>&nbsp;<span class="op" id="6646607">!</span><span class="ident" id="6646608"><a href="/text/template/parse/parse_test.go.html#6646348">ok</a></span>&nbsp;<span class="op" id="6646611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646616">if</span>&nbsp;<span class="op" id="6646619">*</span><span class="ident" id="6646620"><a href="/text/template/parse/parse_test.go.html#6643491">debug</a></span>&nbsp;<span class="op" id="6646626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646632"><a href="/text/template/parse/parse_test.go.html#6643456">fmt</a></span><span class="op" id="6646635">.</span><span class="ident" id="6646636">Printf</span><span class="op" id="6646642">(</span><span class="string" id="6646643">&#34;%s\n\t%s\n&#34;</span><span class="op" id="6646655">,</span>&nbsp;<span class="ident" id="6646657"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646661">.</span><span class="ident" id="6646662">text</span><span class="op" id="6646666">,</span>&nbsp;<span class="ident" id="6646668"><a href="/text/template/parse/parse_test.go.html#6646305">err</a></span><span class="op" id="6646671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646676">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646681">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646696">if</span>&nbsp;<span class="ident" id="6646699"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6646700">.</span><span class="ident" id="6646701">IsComplex</span>&nbsp;<span class="op" id="6646711">!=</span>&nbsp;<span class="ident" id="6646714"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646718">.</span><span class="ident" id="6646719">isComplex</span>&nbsp;<span class="op" id="6646729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646734"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6646735">.</span><span class="ident" id="6646736">Errorf</span><span class="op" id="6646742">(</span><span class="string" id="6646743">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6646783">,</span>&nbsp;<span class="ident" id="6646785"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646789">.</span><span class="ident" id="6646790">text</span><span class="op" id="6646794">,</span>&nbsp;<span class="ident" id="6646796"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646800">.</span><span class="ident" id="6646801">isComplex</span><span class="op" id="6646810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646814">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646818">if</span>&nbsp;<span class="ident" id="6646821"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646825">.</span><span class="ident" id="6646826">isInt</span>&nbsp;<span class="op" id="6646832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646837">if</span>&nbsp;<span class="op" id="6646840">!</span><span class="ident" id="6646841"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6646842">.</span><span class="ident" id="6646843">IsInt</span>&nbsp;<span class="op" id="6646849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646855"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6646856">.</span><span class="ident" id="6646857">Errorf</span><span class="op" id="6646863">(</span><span class="string" id="6646864">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6646889">,</span>&nbsp;<span class="ident" id="6646891"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646895">.</span><span class="ident" id="6646896">text</span><span class="op" id="6646900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646910">if</span>&nbsp;<span class="ident" id="6646913"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6646914">.</span><span class="ident" id="6646915">Int64</span>&nbsp;<span class="op" id="6646921">!=</span>&nbsp;<span class="ident" id="6646924"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646928">.</span><span class="ident" id="6646929">int64</span>&nbsp;<span class="op" id="6646935">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646941"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6646942">.</span><span class="ident" id="6646943">Errorf</span><span class="op" id="6646949">(</span><span class="string" id="6646950">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6646983">,</span>&nbsp;<span class="ident" id="6646985"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6646989">.</span><span class="ident" id="6646990">text</span><span class="op" id="6646994">,</span>&nbsp;<span class="ident" id="6646996"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647000">.</span><span class="ident" id="6647001">int64</span><span class="op" id="6647006">,</span>&nbsp;<span class="ident" id="6647008"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647009">.</span><span class="ident" id="6647010">Int64</span><span class="op" id="6647015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647024">}</span>&nbsp;<span class="keyword" id="6647026">else</span>&nbsp;<span class="keyword" id="6647031">if</span>&nbsp;<span class="ident" id="6647034"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647035">.</span><span class="ident" id="6647036">IsInt</span>&nbsp;<span class="op" id="6647042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647047"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647048">.</span><span class="ident" id="6647049">Errorf</span><span class="op" id="6647055">(</span><span class="string" id="6647056">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6647087">,</span>&nbsp;<span class="ident" id="6647089"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647093">.</span><span class="ident" id="6647094">text</span><span class="op" id="6647098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647102">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647106">if</span>&nbsp;<span class="ident" id="6647109"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647113">.</span><span class="ident" id="6647114">isUint</span>&nbsp;<span class="op" id="6647121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647126">if</span>&nbsp;<span class="op" id="6647129">!</span><span class="ident" id="6647130"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647131">.</span><span class="ident" id="6647132">IsUint</span>&nbsp;<span class="op" id="6647139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647145"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647146">.</span><span class="ident" id="6647147">Errorf</span><span class="op" id="6647153">(</span><span class="string" id="6647154">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6647188">,</span>&nbsp;<span class="ident" id="6647190"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647194">.</span><span class="ident" id="6647195">text</span><span class="op" id="6647199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647209">if</span>&nbsp;<span class="ident" id="6647212"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647213">.</span><span class="ident" id="6647214">Uint64</span>&nbsp;<span class="op" id="6647221">!=</span>&nbsp;<span class="ident" id="6647224"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647228">.</span><span class="ident" id="6647229">uint64</span>&nbsp;<span class="op" id="6647236">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647242"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647243">.</span><span class="ident" id="6647244">Errorf</span><span class="op" id="6647250">(</span><span class="string" id="6647251">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6647285">,</span>&nbsp;<span class="ident" id="6647287"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647291">.</span><span class="ident" id="6647292">text</span><span class="op" id="6647296">,</span>&nbsp;<span class="ident" id="6647298"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647302">.</span><span class="ident" id="6647303">uint64</span><span class="op" id="6647309">,</span>&nbsp;<span class="ident" id="6647311"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647312">.</span><span class="ident" id="6647313">Uint64</span><span class="op" id="6647319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647328">}</span>&nbsp;<span class="keyword" id="6647330">else</span>&nbsp;<span class="keyword" id="6647335">if</span>&nbsp;<span class="ident" id="6647338"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647339">.</span><span class="ident" id="6647340">IsUint</span>&nbsp;<span class="op" id="6647347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647352"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647353">.</span><span class="ident" id="6647354">Errorf</span><span class="op" id="6647360">(</span><span class="string" id="6647361">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6647401">,</span>&nbsp;<span class="ident" id="6647403"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647407">.</span><span class="ident" id="6647408">text</span><span class="op" id="6647412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647416">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647420">if</span>&nbsp;<span class="ident" id="6647423"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647427">.</span><span class="ident" id="6647428">isFloat</span>&nbsp;<span class="op" id="6647436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647441">if</span>&nbsp;<span class="op" id="6647444">!</span><span class="ident" id="6647445"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647446">.</span><span class="ident" id="6647447">IsFloat</span>&nbsp;<span class="op" id="6647455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647461"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647462">.</span><span class="ident" id="6647463">Errorf</span><span class="op" id="6647469">(</span><span class="string" id="6647470">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6647493">,</span>&nbsp;<span class="ident" id="6647495"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647499">.</span><span class="ident" id="6647500">text</span><span class="op" id="6647504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647514">if</span>&nbsp;<span class="ident" id="6647517"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647518">.</span><span class="ident" id="6647519">Float64</span>&nbsp;<span class="op" id="6647527">!=</span>&nbsp;<span class="ident" id="6647530"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647534">.</span><span class="builtintype" id="6647535">float64</span>&nbsp;<span class="op" id="6647543">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647549"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647550">.</span><span class="ident" id="6647551">Errorf</span><span class="op" id="6647557">(</span><span class="string" id="6647558">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6647593">,</span>&nbsp;<span class="ident" id="6647595"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647599">.</span><span class="ident" id="6647600">text</span><span class="op" id="6647604">,</span>&nbsp;<span class="ident" id="6647606"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647610">.</span><span class="builtintype" id="6647611">float64</span><span class="op" id="6647618">,</span>&nbsp;<span class="ident" id="6647620"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647621">.</span><span class="ident" id="6647622">Float64</span><span class="op" id="6647629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647638">}</span>&nbsp;<span class="keyword" id="6647640">else</span>&nbsp;<span class="keyword" id="6647645">if</span>&nbsp;<span class="ident" id="6647648"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647649">.</span><span class="ident" id="6647650">IsFloat</span>&nbsp;<span class="op" id="6647658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647663"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647664">.</span><span class="ident" id="6647665">Errorf</span><span class="op" id="6647671">(</span><span class="string" id="6647672">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6647701">,</span>&nbsp;<span class="ident" id="6647703"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647707">.</span><span class="ident" id="6647708">text</span><span class="op" id="6647712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647716">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647720">if</span>&nbsp;<span class="ident" id="6647723"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647727">.</span><span class="ident" id="6647728">isComplex</span>&nbsp;<span class="op" id="6647738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647743">if</span>&nbsp;<span class="op" id="6647746">!</span><span class="ident" id="6647747"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647748">.</span><span class="ident" id="6647749">IsComplex</span>&nbsp;<span class="op" id="6647759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647765"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647766">.</span><span class="ident" id="6647767">Errorf</span><span class="op" id="6647773">(</span><span class="string" id="6647774">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6647799">,</span>&nbsp;<span class="ident" id="6647801"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647805">.</span><span class="ident" id="6647806">text</span><span class="op" id="6647810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647820">if</span>&nbsp;<span class="ident" id="6647823"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647824">.</span><span class="ident" id="6647825">Complex128</span>&nbsp;<span class="op" id="6647836">!=</span>&nbsp;<span class="ident" id="6647839"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647843">.</span><span class="builtintype" id="6647844">complex128</span>&nbsp;<span class="op" id="6647855">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647861"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647862">.</span><span class="ident" id="6647863">Errorf</span><span class="op" id="6647869">(</span><span class="string" id="6647870">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6647908">,</span>&nbsp;<span class="ident" id="6647910"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647914">.</span><span class="ident" id="6647915">text</span><span class="op" id="6647919">,</span>&nbsp;<span class="ident" id="6647921"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6647925">.</span><span class="builtintype" id="6647926">complex128</span><span class="op" id="6647936">,</span>&nbsp;<span class="ident" id="6647938"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647939">.</span><span class="ident" id="6647940">Complex128</span><span class="op" id="6647950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647959">}</span>&nbsp;<span class="keyword" id="6647961">else</span>&nbsp;<span class="keyword" id="6647966">if</span>&nbsp;<span class="ident" id="6647969"><a href="/text/template/parse/parse_test.go.html#6646302">n</a></span><span class="op" id="6647970">.</span><span class="ident" id="6647971">IsComplex</span>&nbsp;<span class="op" id="6647981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647986"><a href="/text/template/parse/parse_test.go.html#6645913">t</a></span><span class="op" id="6647987">.</span><span class="ident" id="6647988">Errorf</span><span class="op" id="6647994">(</span><span class="string" id="6647995">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6648026">,</span>&nbsp;<span class="ident" id="6648028"><a href="/text/template/parse/parse_test.go.html#6645937">test</a></span><span class="op" id="6648032">.</span><span class="ident" id="6648033">text</span><span class="op" id="6648037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648041">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648044">}</span><br>
<span class="lineno"></span><span class="op" id="6648046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6648049">type</span>&nbsp;<span class="ident" id="6648054">parseTest</span>&nbsp;<span class="keyword" id="6648064">struct</span>&nbsp;<span class="op" id="6648071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648074">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6648081">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648089">input</span>&nbsp;&nbsp;<span class="builtintype" id="6648096">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648104">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6648111">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648117">result</span>&nbsp;<span class="builtintype" id="6648124">string</span>&nbsp;<span class="comment" id="6648131">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="6648179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6648182">const</span>&nbsp;<span class="op" id="6648188">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648191">noError</span>&nbsp;&nbsp;<span class="op" id="6648200">=</span>&nbsp;<span class="ident" id="6648202">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648208">hasError</span>&nbsp;<span class="op" id="6648217">=</span>&nbsp;<span class="ident" id="6648219">false</span><br>
<span class="lineno"></span><span class="op" id="6648225">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="6648228">var</span>&nbsp;<span class="ident" id="6648232">parseTests</span>&nbsp;<span class="op" id="6648243">=</span>&nbsp;<span class="op" id="6648245">[</span><span class="op" id="6648246">]</span><span class="ident" id="6648247"><a href="/text/template/parse/parse_test.go.html#6648054">parseTest</a></span><span class="op" id="6648256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648259">{</span><span class="string" id="6648260">&#34;empty&#34;</span><span class="op" id="6648267">,</span>&nbsp;<span class="string" id="6648269">&#34;&#34;</span><span class="op" id="6648271">,</span>&nbsp;<span class="ident" id="6648273"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648284">``</span><span class="op" id="6648286">}</span><span class="op" id="6648287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648290">{</span><span class="string" id="6648291">&#34;comment&#34;</span><span class="op" id="6648300">,</span>&nbsp;<span class="string" id="6648302">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="6648318">,</span>&nbsp;<span class="ident" id="6648320"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648331">``</span><span class="op" id="6648333">}</span><span class="op" id="6648334">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648337">{</span><span class="string" id="6648338">&#34;spaces&#34;</span><span class="op" id="6648346">,</span>&nbsp;<span class="string" id="6648348">&#34;&nbsp;\t\n&#34;</span><span class="op" id="6648355">,</span>&nbsp;<span class="ident" id="6648357"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648368">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="6648377">}</span><span class="op" id="6648378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648381">{</span><span class="string" id="6648382">&#34;text&#34;</span><span class="op" id="6648388">,</span>&nbsp;<span class="string" id="6648390">&#34;some&nbsp;text&#34;</span><span class="op" id="6648401">,</span>&nbsp;<span class="ident" id="6648403"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648414">`&#34;some&nbsp;text&#34;`</span><span class="op" id="6648427">}</span><span class="op" id="6648428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648431">{</span><span class="string" id="6648432">&#34;emptyAction&#34;</span><span class="op" id="6648445">,</span>&nbsp;<span class="string" id="6648447">&#34;{{}}&#34;</span><span class="op" id="6648453">,</span>&nbsp;<span class="ident" id="6648455"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6648463">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648467">`{{}}`</span><span class="op" id="6648473">}</span><span class="op" id="6648474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648477">{</span><span class="string" id="6648478">&#34;field&#34;</span><span class="op" id="6648485">,</span>&nbsp;<span class="string" id="6648487">&#34;{{.X}}&#34;</span><span class="op" id="6648495">,</span>&nbsp;<span class="ident" id="6648497"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648508">`{{.X}}`</span><span class="op" id="6648516">}</span><span class="op" id="6648517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648520">{</span><span class="string" id="6648521">&#34;simple&nbsp;command&#34;</span><span class="op" id="6648537">,</span>&nbsp;<span class="string" id="6648539">&#34;{{printf}}&#34;</span><span class="op" id="6648551">,</span>&nbsp;<span class="ident" id="6648553"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648564">`{{printf}}`</span><span class="op" id="6648576">}</span><span class="op" id="6648577">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648580">{</span><span class="string" id="6648581">&#34;$&nbsp;invocation&#34;</span><span class="op" id="6648595">,</span>&nbsp;<span class="string" id="6648597">&#34;{{$}}&#34;</span><span class="op" id="6648604">,</span>&nbsp;<span class="ident" id="6648606"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648617">&#34;{{$}}&#34;</span><span class="op" id="6648624">}</span><span class="op" id="6648625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648628">{</span><span class="string" id="6648629">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="6648650">,</span>&nbsp;<span class="string" id="6648652">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6648686">,</span>&nbsp;<span class="ident" id="6648688"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648699">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6648733">}</span><span class="op" id="6648734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648737">{</span><span class="string" id="6648738">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="6648760">,</span>&nbsp;<span class="string" id="6648762">&#34;{{$.I}}&#34;</span><span class="op" id="6648771">,</span>&nbsp;<span class="ident" id="6648773"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648780">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648784">&#34;{{$.I}}&#34;</span><span class="op" id="6648793">}</span><span class="op" id="6648794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648797">{</span><span class="string" id="6648798">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="6648818">,</span>&nbsp;<span class="string" id="6648820">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6648840">,</span>&nbsp;<span class="ident" id="6648842"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648853">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6648873">}</span><span class="op" id="6648874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648877">{</span><span class="string" id="6648878">&#34;pipeline&#34;</span><span class="op" id="6648888">,</span>&nbsp;<span class="string" id="6648890">&#34;{{.X|.Y}}&#34;</span><span class="op" id="6648901">,</span>&nbsp;<span class="ident" id="6648903"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648914">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6648927">}</span><span class="op" id="6648928">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648931">{</span><span class="string" id="6648932">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="6648952">,</span>&nbsp;<span class="string" id="6648954">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="6648971">,</span>&nbsp;<span class="ident" id="6648973"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6648980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6648984">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6649003">}</span><span class="op" id="6649004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649007">{</span><span class="string" id="6649008">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="6649025">,</span>&nbsp;<span class="string" id="6649027">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="6649061">,</span>&nbsp;<span class="ident" id="6649063"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6649070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649074">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="6649108">}</span><span class="op" id="6649109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649112">{</span><span class="string" id="6649113">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6649143">,</span>&nbsp;<span class="string" id="6649145">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="6649164">,</span>&nbsp;<span class="ident" id="6649166"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6649173">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649177">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="6649196">}</span><span class="op" id="6649197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649200">{</span><span class="string" id="6649201">&#34;simple&nbsp;if&#34;</span><span class="op" id="6649212">,</span>&nbsp;<span class="string" id="6649214">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6649237">,</span>&nbsp;<span class="ident" id="6649239"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6649246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649250">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6649275">}</span><span class="op" id="6649276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649279">{</span><span class="string" id="6649280">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="6649294">,</span>&nbsp;<span class="string" id="6649296">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6649331">,</span>&nbsp;<span class="ident" id="6649333"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6649340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649344">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6649383">}</span><span class="op" id="6649384">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649387">{</span><span class="string" id="6649388">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="6649405">,</span>&nbsp;<span class="string" id="6649407">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="6649448">,</span>&nbsp;<span class="ident" id="6649450"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6649457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649461">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="6649516">}</span><span class="op" id="6649517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649520">{</span><span class="string" id="6649521">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="6649536">,</span>&nbsp;<span class="string" id="6649538">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="6649589">,</span>&nbsp;<span class="ident" id="6649591"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6649598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649602">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="6649683">}</span><span class="op" id="6649684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649687">{</span><span class="string" id="6649688">&#34;simple&nbsp;range&#34;</span><span class="op" id="6649702">,</span>&nbsp;<span class="string" id="6649704">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6649730">,</span>&nbsp;<span class="ident" id="6649732"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6649739">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649743">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6649771">}</span><span class="op" id="6649772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649775">{</span><span class="string" id="6649776">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="6649797">,</span>&nbsp;<span class="string" id="6649799">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="6649829">,</span>&nbsp;<span class="ident" id="6649831"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6649838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649842">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="6649874">}</span><span class="op" id="6649875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649878">{</span><span class="string" id="6649879">&#34;nested&nbsp;range&#34;</span><span class="op" id="6649893">,</span>&nbsp;<span class="string" id="6649895">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="6649947">,</span>&nbsp;<span class="ident" id="6649949"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6649956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649960">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="6650016">}</span><span class="op" id="6650017">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650020">{</span><span class="string" id="6650021">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="6650038">,</span>&nbsp;<span class="string" id="6650040">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6650078">,</span>&nbsp;<span class="ident" id="6650080"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650091">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6650133">}</span><span class="op" id="6650134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650137">{</span><span class="string" id="6650138">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="6650159">,</span>&nbsp;<span class="string" id="6650161">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="6650202">,</span>&nbsp;<span class="ident" id="6650204"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650215">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6650262">}</span><span class="op" id="6650263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650266">{</span><span class="string" id="6650267">&#34;range&nbsp;[]int&#34;</span><span class="op" id="6650280">,</span>&nbsp;<span class="string" id="6650282">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6650309">,</span>&nbsp;<span class="ident" id="6650311"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650318">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650322">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6650349">}</span><span class="op" id="6650350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650353">{</span><span class="string" id="6650354">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="6650367">,</span>&nbsp;<span class="string" id="6650369">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6650402">,</span>&nbsp;<span class="ident" id="6650404"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650415">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6650448">}</span><span class="op" id="6650449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650452">{</span><span class="string" id="6650453">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="6650467">,</span>&nbsp;<span class="string" id="6650469">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6650506">,</span>&nbsp;<span class="ident" id="6650508"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650519">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6650556">}</span><span class="op" id="6650557">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650560">{</span><span class="string" id="6650561">&#34;constants&#34;</span><span class="op" id="6650572">,</span>&nbsp;<span class="string" id="6650574">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="6650623">,</span>&nbsp;<span class="ident" id="6650625"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650636">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="6650685">}</span><span class="op" id="6650686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650689">{</span><span class="string" id="6650690">&#34;template&#34;</span><span class="op" id="6650700">,</span>&nbsp;<span class="string" id="6650702">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="6650720">,</span>&nbsp;<span class="ident" id="6650722"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650733">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="6650751">}</span><span class="op" id="6650752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650755">{</span><span class="string" id="6650756">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="6650775">,</span>&nbsp;<span class="string" id="6650777">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="6650798">,</span>&nbsp;<span class="ident" id="6650800"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650807">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650811">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="6650832">}</span><span class="op" id="6650833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650836">{</span><span class="string" id="6650837">&#34;with&#34;</span><span class="op" id="6650843">,</span>&nbsp;<span class="string" id="6650845">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6650870">,</span>&nbsp;<span class="ident" id="6650872"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650883">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6650910">}</span><span class="op" id="6650911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650914">{</span><span class="string" id="6650915">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="6650931">,</span>&nbsp;<span class="string" id="6650933">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="6650973">,</span>&nbsp;<span class="ident" id="6650975"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6650982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650986">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="6651030">}</span><span class="op" id="6651031">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6651034">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651046">{</span><span class="string" id="6651047">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="6651064">,</span>&nbsp;<span class="string" id="6651066">&#34;hello{{range&#34;</span><span class="op" id="6651080">,</span>&nbsp;<span class="ident" id="6651082"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651090">,</span>&nbsp;<span class="string" id="6651092">&#34;&#34;</span><span class="op" id="6651094">}</span><span class="op" id="6651095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651098">{</span><span class="string" id="6651099">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="6651114">,</span>&nbsp;<span class="string" id="6651116">&#34;{{end}}&#34;</span><span class="op" id="6651125">,</span>&nbsp;<span class="ident" id="6651127"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651135">,</span>&nbsp;<span class="string" id="6651137">&#34;&#34;</span><span class="op" id="6651139">}</span><span class="op" id="6651140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651143">{</span><span class="string" id="6651144">&#34;missing&nbsp;end&#34;</span><span class="op" id="6651157">,</span>&nbsp;<span class="string" id="6651159">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="6651178">,</span>&nbsp;<span class="ident" id="6651180"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651188">,</span>&nbsp;<span class="string" id="6651190">&#34;&#34;</span><span class="op" id="6651192">}</span><span class="op" id="6651193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651196">{</span><span class="string" id="6651197">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="6651221">,</span>&nbsp;<span class="string" id="6651223">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="6651250">,</span>&nbsp;<span class="ident" id="6651252"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651260">,</span>&nbsp;<span class="string" id="6651262">&#34;&#34;</span><span class="op" id="6651264">}</span><span class="op" id="6651265">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651268">{</span><span class="string" id="6651269">&#34;undefined&nbsp;function&#34;</span><span class="op" id="6651289">,</span>&nbsp;<span class="string" id="6651291">&#34;hello{{undefined}}&#34;</span><span class="op" id="6651311">,</span>&nbsp;<span class="ident" id="6651313"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651321">,</span>&nbsp;<span class="string" id="6651323">&#34;&#34;</span><span class="op" id="6651325">}</span><span class="op" id="6651326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651329">{</span><span class="string" id="6651330">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="6651350">,</span>&nbsp;<span class="string" id="6651352">&#34;{{$x}}&#34;</span><span class="op" id="6651360">,</span>&nbsp;<span class="ident" id="6651362"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651370">,</span>&nbsp;<span class="string" id="6651372">&#34;&#34;</span><span class="op" id="6651374">}</span><span class="op" id="6651375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651378">{</span><span class="string" id="6651379">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="6651409">,</span>&nbsp;<span class="string" id="6651411">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="6651442">,</span>&nbsp;<span class="ident" id="6651444"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651452">,</span>&nbsp;<span class="string" id="6651454">&#34;&#34;</span><span class="op" id="6651456">}</span><span class="op" id="6651457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651460">{</span><span class="string" id="6651461">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="6651493">,</span>&nbsp;<span class="string" id="6651495">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6651512">,</span>&nbsp;<span class="ident" id="6651514"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651522">,</span>&nbsp;<span class="string" id="6651524">&#34;&#34;</span><span class="op" id="6651526">}</span><span class="op" id="6651527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651530">{</span><span class="string" id="6651531">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="6651551">,</span>&nbsp;<span class="string" id="6651553">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="6651580">,</span>&nbsp;<span class="ident" id="6651582"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651590">,</span>&nbsp;<span class="string" id="6651592">&#34;&#34;</span><span class="op" id="6651594">}</span><span class="op" id="6651595">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651598">{</span><span class="string" id="6651599">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="6651624">,</span>&nbsp;<span class="string" id="6651626">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="6651643">,</span>&nbsp;<span class="ident" id="6651645"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651653">,</span>&nbsp;<span class="string" id="6651655">&#34;&#34;</span><span class="op" id="6651657">}</span><span class="op" id="6651658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651661">{</span><span class="string" id="6651662">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="6651681">,</span>&nbsp;<span class="string" id="6651683">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6651700">,</span>&nbsp;<span class="ident" id="6651702"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651710">,</span>&nbsp;<span class="string" id="6651712">&#34;&#34;</span><span class="op" id="6651714">}</span><span class="op" id="6651715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651718">{</span><span class="string" id="6651719">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="6651740">,</span>&nbsp;<span class="string" id="6651742">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="6651759">,</span>&nbsp;<span class="ident" id="6651761"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651769">,</span>&nbsp;<span class="string" id="6651771">&#34;&#34;</span><span class="op" id="6651773">}</span><span class="op" id="6651774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651777">{</span><span class="string" id="6651778">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="6651803">,</span>&nbsp;<span class="string" id="6651805">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6651834">,</span>&nbsp;<span class="ident" id="6651836"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651844">,</span>&nbsp;<span class="string" id="6651846">&#34;&#34;</span><span class="op" id="6651848">}</span><span class="op" id="6651849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651852">{</span><span class="string" id="6651853">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="6651878">,</span>&nbsp;<span class="string" id="6651880">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6651914">,</span>&nbsp;<span class="ident" id="6651916"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651924">,</span>&nbsp;<span class="string" id="6651926">&#34;&#34;</span><span class="op" id="6651928">}</span><span class="op" id="6651929">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651932">{</span><span class="string" id="6651933">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6651961">,</span>&nbsp;<span class="string" id="6651963">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="6651987">,</span>&nbsp;<span class="ident" id="6651989"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6651997">,</span>&nbsp;<span class="string" id="6651999">&#34;&#34;</span><span class="op" id="6652001">}</span><span class="op" id="6652002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652005">{</span><span class="string" id="6652006">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="6652021">,</span>&nbsp;<span class="string" id="6652023">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="6652040">,</span>&nbsp;<span class="ident" id="6652042"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6652050">,</span>&nbsp;<span class="string" id="6652052">&#34;&#34;</span><span class="op" id="6652054">}</span><span class="op" id="6652055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652058">{</span><span class="string" id="6652059">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="6652081">,</span>&nbsp;<span class="string" id="6652083">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="6652100">,</span>&nbsp;<span class="ident" id="6652102"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6652110">,</span>&nbsp;<span class="string" id="6652112">&#34;&#34;</span><span class="op" id="6652114">}</span><span class="op" id="6652115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652118">{</span><span class="string" id="6652119">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="6652139">,</span>&nbsp;<span class="string" id="6652141">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="6652182">,</span>&nbsp;<span class="ident" id="6652184"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6652192">,</span>&nbsp;<span class="string" id="6652194">&#34;&#34;</span><span class="op" id="6652196">}</span><span class="op" id="6652197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6652200">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652260">{</span><span class="string" id="6652261">&#34;bug0a&#34;</span><span class="op" id="6652268">,</span>&nbsp;<span class="string" id="6652270">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6652289">,</span>&nbsp;<span class="ident" id="6652291"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6652298">,</span>&nbsp;<span class="string" id="6652300">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6652319">}</span><span class="op" id="6652320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652323">{</span><span class="string" id="6652324">&#34;bug0b&#34;</span><span class="op" id="6652331">,</span>&nbsp;<span class="string" id="6652333">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="6652351">,</span>&nbsp;<span class="ident" id="6652353"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6652361">,</span>&nbsp;<span class="string" id="6652363">&#34;&#34;</span><span class="op" id="6652365">}</span><span class="op" id="6652366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652369">{</span><span class="string" id="6652370">&#34;bug0c&#34;</span><span class="op" id="6652377">,</span>&nbsp;<span class="string" id="6652379">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="6652397">,</span>&nbsp;<span class="ident" id="6652399"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6652407">,</span>&nbsp;<span class="string" id="6652409">&#34;&#34;</span><span class="op" id="6652411">}</span><span class="op" id="6652412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652415">{</span><span class="string" id="6652416">&#34;bug0d&#34;</span><span class="op" id="6652423">,</span>&nbsp;<span class="string" id="6652425">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="6652443">,</span>&nbsp;<span class="ident" id="6652445"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6652453">,</span>&nbsp;<span class="string" id="6652455">&#34;&#34;</span><span class="op" id="6652457">}</span><span class="op" id="6652458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6652461">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652513">{</span><span class="string" id="6652514">&#34;bug0e&#34;</span><span class="op" id="6652521">,</span>&nbsp;<span class="string" id="6652523">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6652555">,</span>&nbsp;<span class="ident" id="6652557"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6652565">,</span>&nbsp;<span class="string" id="6652567">&#34;&#34;</span><span class="op" id="6652569">}</span><span class="op" id="6652570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6652573">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652639">{</span><span class="string" id="6652640">&#34;bug1a&#34;</span><span class="op" id="6652647">,</span>&nbsp;<span class="string" id="6652649">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="6652668">,</span>&nbsp;<span class="ident" id="6652670"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6652678">,</span>&nbsp;<span class="string" id="6652680">&#34;&#34;</span><span class="op" id="6652682">}</span><span class="op" id="6652683">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6652705">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652733">{</span><span class="string" id="6652734">&#34;bug1b&#34;</span><span class="op" id="6652741">,</span>&nbsp;<span class="string" id="6652743">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="6652762">,</span>&nbsp;<span class="ident" id="6652764"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6652772">,</span>&nbsp;<span class="string" id="6652774">&#34;&#34;</span><span class="op" id="6652776">}</span><span class="op" id="6652777">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6652799">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652839">{</span><span class="string" id="6652840">&#34;bug1c&#34;</span><span class="op" id="6652847">,</span>&nbsp;<span class="string" id="6652849">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6652869">,</span>&nbsp;<span class="ident" id="6652871"><a href="/text/template/parse/parse_test.go.html#6648191">noError</a></span><span class="op" id="6652878">,</span>&nbsp;<span class="string" id="6652880">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6652902">}</span><span class="op" id="6652903">,</span>&nbsp;<span class="comment" id="6652905">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="6652930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6652933">var</span>&nbsp;<span class="ident" id="6652937">builtins</span>&nbsp;<span class="op" id="6652946">=</span>&nbsp;<span class="keyword" id="6652948">map</span><span class="op" id="6652951">[</span><span class="builtintype" id="6652952">string</span><span class="op" id="6652958">]</span><span class="keyword" id="6652959">interface</span><span class="op" id="6652968">{</span><span class="op" id="6652969">}</span><span class="op" id="6652970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6652973">&#34;printf&#34;</span><span class="op" id="6652981">:</span>&nbsp;<span class="ident" id="6652983"><a href="/text/template/parse/parse_test.go.html#6643456">fmt</a></span><span class="op" id="6652986">.</span><span class="ident" id="6652987">Sprintf</span><span class="op" id="6652994">,</span><br>
<span class="lineno"></span><span class="op" id="6652996">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="6652999">func</span>&nbsp;<span class="ident" id="6653004">testParse</span><span class="op" id="6653013">(</span><span class="ident" id="6653014">doCopy</span>&nbsp;<span class="builtintype" id="6653021">bool</span><span class="op" id="6653025">,</span>&nbsp;<span class="ident" id="6653027">t</span>&nbsp;<span class="op" id="6653029">*</span><span class="ident" id="6653030"><a href="/text/template/parse/parse_test.go.html#6643474">testing</a></span><span class="op" id="6653037">.</span><span class="ident" id="6653038">T</span><span class="op" id="6653039">)</span>&nbsp;<span class="op" id="6653041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653044"><a href="/text/template/parse/node.go.html#3375048">textFormat</a></span>&nbsp;<span class="op" id="6653055">=</span>&nbsp;<span class="string" id="6653057">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653063">defer</span>&nbsp;<span class="keyword" id="6653069">func</span><span class="op" id="6653073">(</span><span class="op" id="6653074">)</span>&nbsp;<span class="op" id="6653076">{</span>&nbsp;<span class="ident" id="6653078"><a href="/text/template/parse/node.go.html#3375048">textFormat</a></span>&nbsp;<span class="op" id="6653089">=</span>&nbsp;<span class="string" id="6653091">&#34;%s&#34;</span>&nbsp;<span class="op" id="6653096">}</span><span class="op" id="6653097">(</span><span class="op" id="6653098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653101">for</span>&nbsp;<span class="ident" id="6653105">_</span><span class="op" id="6653106">,</span>&nbsp;<span class="ident" id="6653108">test</span>&nbsp;<span class="op" id="6653113">:=</span>&nbsp;<span class="keyword" id="6653116">range</span>&nbsp;<span class="ident" id="6653122"><a href="/text/template/parse/parse_test.go.html#6648232">parseTests</a></span>&nbsp;<span class="op" id="6653133">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653137">tmpl</span><span class="op" id="6653141">,</span>&nbsp;<span class="ident" id="6653143">err</span>&nbsp;<span class="op" id="6653147">:=</span>&nbsp;<span class="ident" id="6653150"><a href="/text/template/parse/parse.go.html#3398556">New</a></span><span class="op" id="6653153">(</span><span class="ident" id="6653154"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653158">.</span><span class="ident" id="6653159">name</span><span class="op" id="6653163">)</span><span class="op" id="6653164">.</span><span class="ident" id="6653165">Parse</span><span class="op" id="6653170">(</span><span class="ident" id="6653171"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653175">.</span><span class="ident" id="6653176">input</span><span class="op" id="6653181">,</span>&nbsp;<span class="string" id="6653183">&#34;&#34;</span><span class="op" id="6653185">,</span>&nbsp;<span class="string" id="6653187">&#34;&#34;</span><span class="op" id="6653189">,</span>&nbsp;<span class="builtinfunc" id="6653191">make</span><span class="op" id="6653195">(</span><span class="keyword" id="6653196">map</span><span class="op" id="6653199">[</span><span class="builtintype" id="6653200">string</span><span class="op" id="6653206">]</span><span class="op" id="6653207">*</span><span class="ident" id="6653208"><a href="/text/template/parse/parse.go.html#3395910">Tree</a></span><span class="op" id="6653212">)</span><span class="op" id="6653213">,</span>&nbsp;<span class="ident" id="6653215"><a href="/text/template/parse/parse_test.go.html#6652937">builtins</a></span><span class="op" id="6653223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653227">switch</span>&nbsp;<span class="op" id="6653234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653238">case</span>&nbsp;<span class="ident" id="6653243"><a href="/text/template/parse/parse_test.go.html#6653143">err</a></span>&nbsp;<span class="op" id="6653247">==</span>&nbsp;<span class="ident" id="6653250">nil</span>&nbsp;<span class="op" id="6653254">&amp;&amp;</span>&nbsp;<span class="op" id="6653257">!</span><span class="ident" id="6653258"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653262">.</span><span class="ident" id="6653263">ok</span><span class="op" id="6653265">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653270"><a href="/text/template/parse/parse_test.go.html#6653027">t</a></span><span class="op" id="6653271">.</span><span class="ident" id="6653272">Errorf</span><span class="op" id="6653278">(</span><span class="string" id="6653279">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6653309">,</span>&nbsp;<span class="ident" id="6653311"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653315">.</span><span class="ident" id="6653316">name</span><span class="op" id="6653320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653325">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653336">case</span>&nbsp;<span class="ident" id="6653341"><a href="/text/template/parse/parse_test.go.html#6653143">err</a></span>&nbsp;<span class="op" id="6653345">!=</span>&nbsp;<span class="ident" id="6653348">nil</span>&nbsp;<span class="op" id="6653352">&amp;&amp;</span>&nbsp;<span class="ident" id="6653355"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653359">.</span><span class="ident" id="6653360">ok</span><span class="op" id="6653362">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653367"><a href="/text/template/parse/parse_test.go.html#6653027">t</a></span><span class="op" id="6653368">.</span><span class="ident" id="6653369">Errorf</span><span class="op" id="6653375">(</span><span class="string" id="6653376">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6653402">,</span>&nbsp;<span class="ident" id="6653404"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653408">.</span><span class="ident" id="6653409">name</span><span class="op" id="6653413">,</span>&nbsp;<span class="ident" id="6653415"><a href="/text/template/parse/parse_test.go.html#6653143">err</a></span><span class="op" id="6653418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653423">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653434">case</span>&nbsp;<span class="ident" id="6653439"><a href="/text/template/parse/parse_test.go.html#6653143">err</a></span>&nbsp;<span class="op" id="6653443">!=</span>&nbsp;<span class="ident" id="6653446">nil</span>&nbsp;<span class="op" id="6653450">&amp;&amp;</span>&nbsp;<span class="op" id="6653453">!</span><span class="ident" id="6653454"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653458">.</span><span class="ident" id="6653459">ok</span><span class="op" id="6653461">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6653466">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653496">if</span>&nbsp;<span class="op" id="6653499">*</span><span class="ident" id="6653500"><a href="/text/template/parse/parse_test.go.html#6643491">debug</a></span>&nbsp;<span class="op" id="6653506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653512"><a href="/text/template/parse/parse_test.go.html#6643456">fmt</a></span><span class="op" id="6653515">.</span><span class="ident" id="6653516">Printf</span><span class="op" id="6653522">(</span><span class="string" id="6653523">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="6653539">,</span>&nbsp;<span class="ident" id="6653541"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653545">.</span><span class="ident" id="6653546">name</span><span class="op" id="6653550">,</span>&nbsp;<span class="ident" id="6653552"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653556">.</span><span class="ident" id="6653557">input</span><span class="op" id="6653562">,</span>&nbsp;<span class="ident" id="6653564"><a href="/text/template/parse/parse_test.go.html#6653143">err</a></span><span class="op" id="6653567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653577">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653588">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653592">var</span>&nbsp;<span class="ident" id="6653596">result</span>&nbsp;<span class="builtintype" id="6653603">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653612">if</span>&nbsp;<span class="ident" id="6653615"><a href="/text/template/parse/parse_test.go.html#6653014">doCopy</a></span>&nbsp;<span class="op" id="6653622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653627"><a href="/text/template/parse/parse_test.go.html#6653596">result</a></span>&nbsp;<span class="op" id="6653634">=</span>&nbsp;<span class="ident" id="6653636"><a href="/text/template/parse/parse_test.go.html#6653137">tmpl</a></span><span class="op" id="6653640">.</span><span class="ident" id="6653641">Root</span><span class="op" id="6653645">.</span><span class="ident" id="6653646">Copy</span><span class="op" id="6653650">(</span><span class="op" id="6653651">)</span><span class="op" id="6653652">.</span><span class="ident" id="6653653">String</span><span class="op" id="6653659">(</span><span class="op" id="6653660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653664">}</span>&nbsp;<span class="keyword" id="6653666">else</span>&nbsp;<span class="op" id="6653671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653676"><a href="/text/template/parse/parse_test.go.html#6653596">result</a></span>&nbsp;<span class="op" id="6653683">=</span>&nbsp;<span class="ident" id="6653685"><a href="/text/template/parse/parse_test.go.html#6653137">tmpl</a></span><span class="op" id="6653689">.</span><span class="ident" id="6653690">Root</span><span class="op" id="6653694">.</span><span class="ident" id="6653695">String</span><span class="op" id="6653701">(</span><span class="op" id="6653702">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653710">if</span>&nbsp;<span class="ident" id="6653713"><a href="/text/template/parse/parse_test.go.html#6653596">result</a></span>&nbsp;<span class="op" id="6653720">!=</span>&nbsp;<span class="ident" id="6653723"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653727">.</span><span class="ident" id="6653728">result</span>&nbsp;<span class="op" id="6653735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653740"><a href="/text/template/parse/parse_test.go.html#6653027">t</a></span><span class="op" id="6653741">.</span><span class="ident" id="6653742">Errorf</span><span class="op" id="6653748">(</span><span class="string" id="6653749">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="6653785">,</span>&nbsp;<span class="ident" id="6653787"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653791">.</span><span class="ident" id="6653792">name</span><span class="op" id="6653796">,</span>&nbsp;<span class="ident" id="6653798"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653802">.</span><span class="ident" id="6653803">input</span><span class="op" id="6653808">,</span>&nbsp;<span class="ident" id="6653810"><a href="/text/template/parse/parse_test.go.html#6653596">result</a></span><span class="op" id="6653816">,</span>&nbsp;<span class="ident" id="6653818"><a href="/text/template/parse/parse_test.go.html#6653108">test</a></span><span class="op" id="6653822">.</span><span class="ident" id="6653823">result</span><span class="op" id="6653829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653836">}</span><br>
<span class="lineno">295</span><span class="op" id="6653838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6653841">func</span>&nbsp;<span class="ident" id="6653846">TestParse</span><span class="op" id="6653855">(</span><span class="ident" id="6653856">t</span>&nbsp;<span class="op" id="6653858">*</span><span class="ident" id="6653859"><a href="/text/template/parse/parse_test.go.html#6643474">testing</a></span><span class="op" id="6653866">.</span><span class="ident" id="6653867">T</span><span class="op" id="6653868">)</span>&nbsp;<span class="op" id="6653870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653873"><a href="/text/template/parse/parse_test.go.html#6653004">testParse</a></span><span class="op" id="6653882">(</span><span class="ident" id="6653883">false</span><span class="op" id="6653888">,</span>&nbsp;<span class="ident" id="6653890"><a href="/text/template/parse/parse_test.go.html#6653856">t</a></span><span class="op" id="6653891">)</span><br>
<span class="lineno"></span><span class="op" id="6653893">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="6653896">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="6653945">func</span>&nbsp;<span class="ident" id="6653950">TestParseCopy</span><span class="op" id="6653963">(</span><span class="ident" id="6653964">t</span>&nbsp;<span class="op" id="6653966">*</span><span class="ident" id="6653967"><a href="/text/template/parse/parse_test.go.html#6643474">testing</a></span><span class="op" id="6653974">.</span><span class="ident" id="6653975">T</span><span class="op" id="6653976">)</span>&nbsp;<span class="op" id="6653978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653981"><a href="/text/template/parse/parse_test.go.html#6653004">testParse</a></span><span class="op" id="6653990">(</span><span class="ident" id="6653991">true</span><span class="op" id="6653995">,</span>&nbsp;<span class="ident" id="6653997"><a href="/text/template/parse/parse_test.go.html#6653964">t</a></span><span class="op" id="6653998">)</span><br>
<span class="lineno"></span><span class="op" id="6654000">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="6654003">type</span>&nbsp;<span class="ident" id="6654008">isEmptyTest</span>&nbsp;<span class="keyword" id="6654020">struct</span>&nbsp;<span class="op" id="6654027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654030">name</span>&nbsp;&nbsp;<span class="builtintype" id="6654036">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654044">input</span>&nbsp;<span class="builtintype" id="6654050">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654058">empty</span>&nbsp;<span class="builtintype" id="6654064">bool</span><br>
<span class="lineno">310</span><span class="op" id="6654069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6654072">var</span>&nbsp;<span class="ident" id="6654076">isEmptyTests</span>&nbsp;<span class="op" id="6654089">=</span>&nbsp;<span class="op" id="6654091">[</span><span class="op" id="6654092">]</span><span class="ident" id="6654093"><a href="/text/template/parse/parse_test.go.html#6654008">isEmptyTest</a></span><span class="op" id="6654104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654107">{</span><span class="string" id="6654108">&#34;empty&#34;</span><span class="op" id="6654115">,</span>&nbsp;<span class="string" id="6654117">``</span><span class="op" id="6654119">,</span>&nbsp;<span class="ident" id="6654121">true</span><span class="op" id="6654125">}</span><span class="op" id="6654126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654129">{</span><span class="string" id="6654130">&#34;nonempty&#34;</span><span class="op" id="6654140">,</span>&nbsp;<span class="string" id="6654142">`hello`</span><span class="op" id="6654149">,</span>&nbsp;<span class="ident" id="6654151">false</span><span class="op" id="6654156">}</span><span class="op" id="6654157">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654160">{</span><span class="string" id="6654161">&#34;spaces&nbsp;only&#34;</span><span class="op" id="6654174">,</span>&nbsp;<span class="string" id="6654176">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="6654188">,</span>&nbsp;<span class="ident" id="6654190">true</span><span class="op" id="6654194">}</span><span class="op" id="6654195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654198">{</span><span class="string" id="6654199">&#34;definition&#34;</span><span class="op" id="6654211">,</span>&nbsp;<span class="string" id="6654213">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="6654245">,</span>&nbsp;<span class="ident" id="6654247">true</span><span class="op" id="6654251">}</span><span class="op" id="6654252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654255">{</span><span class="string" id="6654256">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="6654279">,</span>&nbsp;<span class="string" id="6654281">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="6654351">,</span>&nbsp;<span class="ident" id="6654353">true</span><span class="op" id="6654357">}</span><span class="op" id="6654358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654361">{</span><span class="string" id="6654362">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="6654384">,</span>&nbsp;<span class="string" id="6654386">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="6654458">,</span>&nbsp;<span class="ident" id="6654460">false</span><span class="op" id="6654465">}</span><span class="op" id="6654466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654469">{</span><span class="string" id="6654470">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="6654493">,</span>&nbsp;<span class="string" id="6654495">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="6654545">,</span>&nbsp;<span class="ident" id="6654547">false</span><span class="op" id="6654552">}</span><span class="op" id="6654553">,</span><br>
<span class="lineno">320</span><span class="op" id="6654555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6654558">func</span>&nbsp;<span class="ident" id="6654563">TestIsEmpty</span><span class="op" id="6654574">(</span><span class="ident" id="6654575">t</span>&nbsp;<span class="op" id="6654577">*</span><span class="ident" id="6654578"><a href="/text/template/parse/parse_test.go.html#6643474">testing</a></span><span class="op" id="6654585">.</span><span class="ident" id="6654586">T</span><span class="op" id="6654587">)</span>&nbsp;<span class="op" id="6654589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654592">if</span>&nbsp;<span class="op" id="6654595">!</span><span class="ident" id="6654596"><a href="/text/template/parse/parse.go.html#3402040">IsEmptyTree</a></span><span class="op" id="6654607">(</span><span class="ident" id="6654608">nil</span><span class="op" id="6654611">)</span>&nbsp;<span class="op" id="6654613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654617"><a href="/text/template/parse/parse_test.go.html#6654575">t</a></span><span class="op" id="6654618">.</span><span class="ident" id="6654619">Errorf</span><span class="op" id="6654625">(</span><span class="string" id="6654626">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="6654649">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654655">for</span>&nbsp;<span class="ident" id="6654659">_</span><span class="op" id="6654660">,</span>&nbsp;<span class="ident" id="6654662">test</span>&nbsp;<span class="op" id="6654667">:=</span>&nbsp;<span class="keyword" id="6654670">range</span>&nbsp;<span class="ident" id="6654676"><a href="/text/template/parse/parse_test.go.html#6654076">isEmptyTests</a></span>&nbsp;<span class="op" id="6654689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654693">tree</span><span class="op" id="6654697">,</span>&nbsp;<span class="ident" id="6654699">err</span>&nbsp;<span class="op" id="6654703">:=</span>&nbsp;<span class="ident" id="6654706"><a href="/text/template/parse/parse.go.html#3398556">New</a></span><span class="op" id="6654709">(</span><span class="string" id="6654710">&#34;root&#34;</span><span class="op" id="6654716">)</span><span class="op" id="6654717">.</span><span class="ident" id="6654718">Parse</span><span class="op" id="6654723">(</span><span class="ident" id="6654724"><a href="/text/template/parse/parse_test.go.html#6654662">test</a></span><span class="op" id="6654728">.</span><span class="ident" id="6654729">input</span><span class="op" id="6654734">,</span>&nbsp;<span class="string" id="6654736">&#34;&#34;</span><span class="op" id="6654738">,</span>&nbsp;<span class="string" id="6654740">&#34;&#34;</span><span class="op" id="6654742">,</span>&nbsp;<span class="builtinfunc" id="6654744">make</span><span class="op" id="6654748">(</span><span class="keyword" id="6654749">map</span><span class="op" id="6654752">[</span><span class="builtintype" id="6654753">string</span><span class="op" id="6654759">]</span><span class="op" id="6654760">*</span><span class="ident" id="6654761"><a href="/text/template/parse/parse.go.html#3395910">Tree</a></span><span class="op" id="6654765">)</span><span class="op" id="6654766">,</span>&nbsp;<span class="ident" id="6654768">nil</span><span class="op" id="6654771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654775">if</span>&nbsp;<span class="ident" id="6654778"><a href="/text/template/parse/parse_test.go.html#6654699">err</a></span>&nbsp;<span class="op" id="6654782">!=</span>&nbsp;<span class="ident" id="6654785">nil</span>&nbsp;<span class="op" id="6654789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654794"><a href="/text/template/parse/parse_test.go.html#6654575">t</a></span><span class="op" id="6654795">.</span><span class="ident" id="6654796">Errorf</span><span class="op" id="6654802">(</span><span class="string" id="6654803">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6654829">,</span>&nbsp;<span class="ident" id="6654831"><a href="/text/template/parse/parse_test.go.html#6654662">test</a></span><span class="op" id="6654835">.</span><span class="ident" id="6654836">name</span><span class="op" id="6654840">,</span>&nbsp;<span class="ident" id="6654842"><a href="/text/template/parse/parse_test.go.html#6654699">err</a></span><span class="op" id="6654845">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654850">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654865">if</span>&nbsp;<span class="ident" id="6654868">empty</span>&nbsp;<span class="op" id="6654874">:=</span>&nbsp;<span class="ident" id="6654877"><a href="/text/template/parse/parse.go.html#3402040">IsEmptyTree</a></span><span class="op" id="6654888">(</span><span class="ident" id="6654889"><a href="/text/template/parse/parse_test.go.html#6654693">tree</a></span><span class="op" id="6654893">.</span><span class="ident" id="6654894">Root</span><span class="op" id="6654898">)</span><span class="op" id="6654899">;</span>&nbsp;<span class="ident" id="6654901"><a href="/text/template/parse/parse_test.go.html#6654868">empty</a></span>&nbsp;<span class="op" id="6654907">!=</span>&nbsp;<span class="ident" id="6654910"><a href="/text/template/parse/parse_test.go.html#6654662">test</a></span><span class="op" id="6654914">.</span><span class="ident" id="6654915">empty</span>&nbsp;<span class="op" id="6654921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654926"><a href="/text/template/parse/parse_test.go.html#6654575">t</a></span><span class="op" id="6654927">.</span><span class="ident" id="6654928">Errorf</span><span class="op" id="6654934">(</span><span class="string" id="6654935">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="6654959">,</span>&nbsp;<span class="ident" id="6654961"><a href="/text/template/parse/parse_test.go.html#6654662">test</a></span><span class="op" id="6654965">.</span><span class="ident" id="6654966">name</span><span class="op" id="6654970">,</span>&nbsp;<span class="ident" id="6654972"><a href="/text/template/parse/parse_test.go.html#6654662">test</a></span><span class="op" id="6654976">.</span><span class="ident" id="6654977">empty</span><span class="op" id="6654982">,</span>&nbsp;<span class="ident" id="6654984"><a href="/text/template/parse/parse_test.go.html#6654868">empty</a></span><span class="op" id="6654989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654993">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654996">}</span><br>
<span class="lineno"></span><span class="op" id="6654998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6655001">func</span>&nbsp;<span class="ident" id="6655006">TestErrorContextWithTreeCopy</span><span class="op" id="6655034">(</span><span class="ident" id="6655035">t</span>&nbsp;<span class="op" id="6655037">*</span><span class="ident" id="6655038"><a href="/text/template/parse/parse_test.go.html#6643474">testing</a></span><span class="op" id="6655045">.</span><span class="ident" id="6655046">T</span><span class="op" id="6655047">)</span>&nbsp;<span class="op" id="6655049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655052">tree</span><span class="op" id="6655056">,</span>&nbsp;<span class="ident" id="6655058">err</span>&nbsp;<span class="op" id="6655062">:=</span>&nbsp;<span class="ident" id="6655065"><a href="/text/template/parse/parse.go.html#3398556">New</a></span><span class="op" id="6655068">(</span><span class="string" id="6655069">&#34;root&#34;</span><span class="op" id="6655075">)</span><span class="op" id="6655076">.</span><span class="ident" id="6655077">Parse</span><span class="op" id="6655082">(</span><span class="string" id="6655083">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="6655103">,</span>&nbsp;<span class="string" id="6655105">&#34;&#34;</span><span class="op" id="6655107">,</span>&nbsp;<span class="string" id="6655109">&#34;&#34;</span><span class="op" id="6655111">,</span>&nbsp;<span class="builtinfunc" id="6655113">make</span><span class="op" id="6655117">(</span><span class="keyword" id="6655118">map</span><span class="op" id="6655121">[</span><span class="builtintype" id="6655122">string</span><span class="op" id="6655128">]</span><span class="op" id="6655129">*</span><span class="ident" id="6655130"><a href="/text/template/parse/parse.go.html#3395910">Tree</a></span><span class="op" id="6655134">)</span><span class="op" id="6655135">,</span>&nbsp;<span class="ident" id="6655137">nil</span><span class="op" id="6655140">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655143">if</span>&nbsp;<span class="ident" id="6655146"><a href="/text/template/parse/parse_test.go.html#6655058">err</a></span>&nbsp;<span class="op" id="6655150">!=</span>&nbsp;<span class="ident" id="6655153">nil</span>&nbsp;<span class="op" id="6655157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655161"><a href="/text/template/parse/parse_test.go.html#6655035">t</a></span><span class="op" id="6655162">.</span><span class="ident" id="6655163">Fatalf</span><span class="op" id="6655169">(</span><span class="string" id="6655170">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="6655205">,</span>&nbsp;<span class="ident" id="6655207"><a href="/text/template/parse/parse_test.go.html#6655058">err</a></span><span class="op" id="6655210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655216">treeCopy</span>&nbsp;<span class="op" id="6655225">:=</span>&nbsp;<span class="ident" id="6655228"><a href="/text/template/parse/parse_test.go.html#6655052">tree</a></span><span class="op" id="6655232">.</span><span class="ident" id="6655233">Copy</span><span class="op" id="6655237">(</span><span class="op" id="6655238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655241">wantLocation</span><span class="op" id="6655253">,</span>&nbsp;<span class="ident" id="6655255">wantContext</span>&nbsp;<span class="op" id="6655267">:=</span>&nbsp;<span class="ident" id="6655270"><a href="/text/template/parse/parse_test.go.html#6655052">tree</a></span><span class="op" id="6655274">.</span><span class="ident" id="6655275">ErrorContext</span><span class="op" id="6655287">(</span><span class="ident" id="6655288"><a href="/text/template/parse/parse_test.go.html#6655052">tree</a></span><span class="op" id="6655292">.</span><span class="ident" id="6655293">Root</span><span class="op" id="6655297">.</span><span class="ident" id="6655298">Nodes</span><span class="op" id="6655303">[</span><span class="num" id="6655304">0</span><span class="op" id="6655305">]</span><span class="op" id="6655306">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655309">gotLocation</span><span class="op" id="6655320">,</span>&nbsp;<span class="ident" id="6655322">gotContext</span>&nbsp;<span class="op" id="6655333">:=</span>&nbsp;<span class="ident" id="6655336"><a href="/text/template/parse/parse_test.go.html#6655216">treeCopy</a></span><span class="op" id="6655344">.</span><span class="ident" id="6655345">ErrorContext</span><span class="op" id="6655357">(</span><span class="ident" id="6655358"><a href="/text/template/parse/parse_test.go.html#6655216">treeCopy</a></span><span class="op" id="6655366">.</span><span class="ident" id="6655367">Root</span><span class="op" id="6655371">.</span><span class="ident" id="6655372">Nodes</span><span class="op" id="6655377">[</span><span class="num" id="6655378">0</span><span class="op" id="6655379">]</span><span class="op" id="6655380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655383">if</span>&nbsp;<span class="ident" id="6655386"><a href="/text/template/parse/parse_test.go.html#6655241">wantLocation</a></span>&nbsp;<span class="op" id="6655399">!=</span>&nbsp;<span class="ident" id="6655402"><a href="/text/template/parse/parse_test.go.html#6655309">gotLocation</a></span>&nbsp;<span class="op" id="6655414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655418"><a href="/text/template/parse/parse_test.go.html#6655035">t</a></span><span class="op" id="6655419">.</span><span class="ident" id="6655420">Errorf</span><span class="op" id="6655426">(</span><span class="string" id="6655427">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6655464">,</span>&nbsp;<span class="ident" id="6655466"><a href="/text/template/parse/parse_test.go.html#6655241">wantLocation</a></span><span class="op" id="6655478">,</span>&nbsp;<span class="ident" id="6655480"><a href="/text/template/parse/parse_test.go.html#6655309">gotLocation</a></span><span class="op" id="6655491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655497">if</span>&nbsp;<span class="ident" id="6655500"><a href="/text/template/parse/parse_test.go.html#6655255">wantContext</a></span>&nbsp;<span class="op" id="6655512">!=</span>&nbsp;<span class="ident" id="6655515"><a href="/text/template/parse/parse_test.go.html#6655322">gotContext</a></span>&nbsp;<span class="op" id="6655526">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655530"><a href="/text/template/parse/parse_test.go.html#6655035">t</a></span><span class="op" id="6655531">.</span><span class="ident" id="6655532">Errorf</span><span class="op" id="6655538">(</span><span class="string" id="6655539">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6655576">,</span>&nbsp;<span class="ident" id="6655578"><a href="/text/template/parse/parse_test.go.html#6655255">wantContext</a></span><span class="op" id="6655589">,</span>&nbsp;<span class="ident" id="6655591"><a href="/text/template/parse/parse_test.go.html#6655322">gotContext</a></span><span class="op" id="6655601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655604">}</span><br>
<span class="lineno"></span><span class="op" id="6655606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6655609">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="6655692">var</span>&nbsp;<span class="ident" id="6655696">errorTests</span>&nbsp;<span class="op" id="6655707">=</span>&nbsp;<span class="op" id="6655709">[</span><span class="op" id="6655710">]</span><span class="ident" id="6655711"><a href="/text/template/parse/parse_test.go.html#6648054">parseTest</a></span><span class="op" id="6655720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6655723">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655760">{</span><span class="string" id="6655761">&#34;unclosed1&#34;</span><span class="op" id="6655772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6655776">&#34;line1\n{{&#34;</span><span class="op" id="6655787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655791"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6655799">,</span>&nbsp;<span class="string" id="6655801">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6655853">}</span><span class="op" id="6655854">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655857">{</span><span class="string" id="6655858">&#34;unclosed2&#34;</span><span class="op" id="6655869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6655873">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="6655905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655909"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6655917">,</span>&nbsp;<span class="string" id="6655919">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6655971">}</span><span class="op" id="6655972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6655975">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655996">{</span><span class="string" id="6655997">&#34;function&#34;</span><span class="op" id="6656007">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656011">&#34;{{foo}}&#34;</span><span class="op" id="6656020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656024"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656032">,</span>&nbsp;<span class="string" id="6656034">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="6656062">}</span><span class="op" id="6656063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656066">{</span><span class="string" id="6656067">&#34;comment&#34;</span><span class="op" id="6656076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656080">&#34;{{/*}}&#34;</span><span class="op" id="6656088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656092"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656100">,</span>&nbsp;<span class="string" id="6656102">`unclosed&nbsp;comment`</span><span class="op" id="6656120">}</span><span class="op" id="6656121">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656124">{</span><span class="string" id="6656125">&#34;lparen&#34;</span><span class="op" id="6656133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656137">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="6656152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656156"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656164">,</span>&nbsp;<span class="string" id="6656166">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="6656187">}</span><span class="op" id="6656188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656191">{</span><span class="string" id="6656192">&#34;rparen&#34;</span><span class="op" id="6656200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656204">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="6656219">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656223"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656231">,</span>&nbsp;<span class="string" id="6656233">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="6656249">}</span><span class="op" id="6656250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656253">{</span><span class="string" id="6656254">&#34;space&#34;</span><span class="op" id="6656261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656265">&#34;{{`x`3}}&#34;</span><span class="op" id="6656275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656279"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656287">,</span>&nbsp;<span class="string" id="6656289">`missing&nbsp;space?`</span><span class="op" id="6656305">}</span><span class="op" id="6656306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656309">{</span><span class="string" id="6656310">&#34;idchar&#34;</span><span class="op" id="6656318">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656322">&#34;{{a#}}&#34;</span><span class="op" id="6656330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656334"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656342">,</span>&nbsp;<span class="string" id="6656344">`&#39;#&#39;`</span><span class="op" id="6656349">}</span><span class="op" id="6656350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656353">{</span><span class="string" id="6656354">&#34;charconst&#34;</span><span class="op" id="6656365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656369">&#34;{{&#39;a}}&#34;</span><span class="op" id="6656377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656381"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656389">,</span>&nbsp;<span class="string" id="6656391">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="6656424">}</span><span class="op" id="6656425">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656428">{</span><span class="string" id="6656429">&#34;stringconst&#34;</span><span class="op" id="6656442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656446">`{{&#34;a}}`</span><span class="op" id="6656454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656458"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656466">,</span>&nbsp;<span class="string" id="6656468">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="6656496">}</span><span class="op" id="6656497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656500">{</span><span class="string" id="6656501">&#34;rawstringconst&#34;</span><span class="op" id="6656517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656521">&#34;{{`a}}&#34;</span><span class="op" id="6656529">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656533"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656541">,</span>&nbsp;<span class="string" id="6656543">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="6656575">}</span><span class="op" id="6656576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656579">{</span><span class="string" id="6656580">&#34;number&#34;</span><span class="op" id="6656588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656592">&#34;{{0xi}}&#34;</span><span class="op" id="6656601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656605"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656613">,</span>&nbsp;<span class="string" id="6656615">`number&nbsp;syntax`</span><span class="op" id="6656630">}</span><span class="op" id="6656631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656634">{</span><span class="string" id="6656635">&#34;multidefine&#34;</span><span class="op" id="6656648">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656652">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="6656698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656702"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656710">,</span>&nbsp;<span class="string" id="6656712">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="6656745">}</span><span class="op" id="6656746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656749">{</span><span class="string" id="6656750">&#34;eof&#34;</span><span class="op" id="6656755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656759">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="6656773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656777"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656785">,</span>&nbsp;<span class="string" id="6656787">`unexpected&nbsp;EOF`</span><span class="op" id="6656803">}</span><span class="op" id="6656804">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656807">{</span><span class="string" id="6656808">&#34;variable&#34;</span><span class="op" id="6656818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6656822">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6656921">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6656969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656973"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6656981">,</span>&nbsp;<span class="string" id="6656983">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="6657000">}</span><span class="op" id="6657001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657004">{</span><span class="string" id="6657005">&#34;multidecl&#34;</span><span class="op" id="6657016">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657020">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="6657040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657044"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6657052">,</span>&nbsp;<span class="string" id="6657054">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="6657077">}</span><span class="op" id="6657078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657081">{</span><span class="string" id="6657082">&#34;undefvar&#34;</span><span class="op" id="6657092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657096">&#34;{{$a}}&#34;</span><span class="op" id="6657104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657108"><a href="/text/template/parse/parse_test.go.html#6648208">hasError</a></span><span class="op" id="6657116">,</span>&nbsp;<span class="string" id="6657118">`undefined&nbsp;variable`</span><span class="op" id="6657138">}</span><span class="op" id="6657139">,</span><br>
<span class="lineno">410</span><span class="op" id="6657141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6657144">func</span>&nbsp;<span class="ident" id="6657149">TestErrors</span><span class="op" id="6657159">(</span><span class="ident" id="6657160">t</span>&nbsp;<span class="op" id="6657162">*</span><span class="ident" id="6657163"><a href="/text/template/parse/parse_test.go.html#6643474">testing</a></span><span class="op" id="6657170">.</span><span class="ident" id="6657171">T</span><span class="op" id="6657172">)</span>&nbsp;<span class="op" id="6657174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657177">for</span>&nbsp;<span class="ident" id="6657181">_</span><span class="op" id="6657182">,</span>&nbsp;<span class="ident" id="6657184">test</span>&nbsp;<span class="op" id="6657189">:=</span>&nbsp;<span class="keyword" id="6657192">range</span>&nbsp;<span class="ident" id="6657198"><a href="/text/template/parse/parse_test.go.html#6655696">errorTests</a></span>&nbsp;<span class="op" id="6657209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657213">_</span><span class="op" id="6657214">,</span>&nbsp;<span class="ident" id="6657216">err</span>&nbsp;<span class="op" id="6657220">:=</span>&nbsp;<span class="ident" id="6657223"><a href="/text/template/parse/parse.go.html#3398556">New</a></span><span class="op" id="6657226">(</span><span class="ident" id="6657227"><a href="/text/template/parse/parse_test.go.html#6657184">test</a></span><span class="op" id="6657231">.</span><span class="ident" id="6657232">name</span><span class="op" id="6657236">)</span><span class="op" id="6657237">.</span><span class="ident" id="6657238">Parse</span><span class="op" id="6657243">(</span><span class="ident" id="6657244"><a href="/text/template/parse/parse_test.go.html#6657184">test</a></span><span class="op" id="6657248">.</span><span class="ident" id="6657249">input</span><span class="op" id="6657254">,</span>&nbsp;<span class="string" id="6657256">&#34;&#34;</span><span class="op" id="6657258">,</span>&nbsp;<span class="string" id="6657260">&#34;&#34;</span><span class="op" id="6657262">,</span>&nbsp;<span class="builtinfunc" id="6657264">make</span><span class="op" id="6657268">(</span><span class="keyword" id="6657269">map</span><span class="op" id="6657272">[</span><span class="builtintype" id="6657273">string</span><span class="op" id="6657279">]</span><span class="op" id="6657280">*</span><span class="ident" id="6657281"><a href="/text/template/parse/parse.go.html#3395910">Tree</a></span><span class="op" id="6657285">)</span><span class="op" id="6657286">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657290">if</span>&nbsp;<span class="ident" id="6657293"><a href="/text/template/parse/parse_test.go.html#6657216">err</a></span>&nbsp;<span class="op" id="6657297">==</span>&nbsp;<span class="ident" id="6657300">nil</span>&nbsp;<span class="op" id="6657304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657309"><a href="/text/template/parse/parse_test.go.html#6657160">t</a></span><span class="op" id="6657310">.</span><span class="ident" id="6657311">Errorf</span><span class="op" id="6657317">(</span><span class="string" id="6657318">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="6657338">,</span>&nbsp;<span class="ident" id="6657340"><a href="/text/template/parse/parse_test.go.html#6657184">test</a></span><span class="op" id="6657344">.</span><span class="ident" id="6657345">name</span><span class="op" id="6657349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657354">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657369">if</span>&nbsp;<span class="op" id="6657372">!</span><span class="ident" id="6657373"><a href="/text/template/parse/parse_test.go.html#6643463">strings</a></span><span class="op" id="6657380">.</span><span class="ident" id="6657381">Contains</span><span class="op" id="6657389">(</span><span class="ident" id="6657390"><a href="/text/template/parse/parse_test.go.html#6657216">err</a></span><span class="op" id="6657393">.</span><span class="ident" id="6657394">Error</span><span class="op" id="6657399">(</span><span class="op" id="6657400">)</span><span class="op" id="6657401">,</span>&nbsp;<span class="ident" id="6657403"><a href="/text/template/parse/parse_test.go.html#6657184">test</a></span><span class="op" id="6657407">.</span><span class="ident" id="6657408">result</span><span class="op" id="6657414">)</span>&nbsp;<span class="op" id="6657416">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657421"><a href="/text/template/parse/parse_test.go.html#6657160">t</a></span><span class="op" id="6657422">.</span><span class="ident" id="6657423">Errorf</span><span class="op" id="6657429">(</span><span class="string" id="6657430">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="6657464">,</span>&nbsp;<span class="ident" id="6657466"><a href="/text/template/parse/parse_test.go.html#6657184">test</a></span><span class="op" id="6657470">.</span><span class="ident" id="6657471">name</span><span class="op" id="6657475">,</span>&nbsp;<span class="ident" id="6657477"><a href="/text/template/parse/parse_test.go.html#6657216">err</a></span><span class="op" id="6657480">,</span>&nbsp;<span class="ident" id="6657482"><a href="/text/template/parse/parse_test.go.html#6657184">test</a></span><span class="op" id="6657486">.</span><span class="ident" id="6657487">result</span><span class="op" id="6657493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657500">}</span><br>
<span class="lineno"></span><span class="op" id="6657502">}</span>
</div>
</body>
</html>
